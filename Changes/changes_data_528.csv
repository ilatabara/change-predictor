id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-helm~master~I36ebda87e1591778070646cc5230f1cca2c615cd,openstack/openstack-helm,master,I36ebda87e1591778070646cc5230f1cca2c615cd,Fix the gnocchi repository souce,MERGED,2018-05-21 02:25:25.000000000,2018-05-24 06:26:51.000000000,2018-05-24 06:26:50.000000000,"[{'_account_id': 20466}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26355}, {'_account_id': 27781}, {'_account_id': 28165}]","[{'number': 1, 'created': '2018-05-21 02:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/438d553a74260374a1d01c123e9abd04282404ec', 'message': 'Update the congress description\n\nChange-Id: I36ebda87e1591778070646cc5230f1cca2c615cd\n'}, {'number': 2, 'created': '2018-05-21 02:34:22.000000000', 'files': ['gnocchi/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e36256a0c4885c21423201e8d160f641444b9940', 'message': 'Fix the gnocchi repository souce\n\nChange-Id: I36ebda87e1591778070646cc5230f1cca2c615cd\nCloses-Bug: #1772347\n'}]",0,569689,e36256a0c4885c21423201e8d160f641444b9940,15,8,2,21691,,,0,"Fix the gnocchi repository souce

Change-Id: I36ebda87e1591778070646cc5230f1cca2c615cd
Closes-Bug: #1772347
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/89/569689/1 && git format-patch -1 --stdout FETCH_HEAD,['congress/Chart.yaml'],1,438d553a74260374a1d01c123e9abd04282404ec,bug/1772347,description: OpenStack-Helm Congress ,description: OpenStack-Helm Glance,1,1
openstack%2Fopenstack-helm~master~Ie23073a04dc4c55291c0314beb0d8d215005d353,openstack/openstack-helm,master,Ie23073a04dc4c55291c0314beb0d8d215005d353,Armada manifest updates for OSH,MERGED,2018-05-14 21:25:47.000000000,2018-05-24 06:11:49.000000000,2018-05-24 06:11:49.000000000,"[{'_account_id': 10068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-14 21:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/384582383a1a31071b744c988fcc0d983f1648e6', 'message': 'WIP: armada manifest updates for OSH\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 2, 'created': '2018-05-15 16:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2d1144257d6cde52a08c86fa300a17ccee5f5c25', 'message': 'WIP: armada manifest updates for OSH\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 3, 'created': '2018-05-18 13:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/07f5edf939b078234ef76eba713b220e9c603bbb', 'message': 'WIP: armada manifest updates for OSH\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 4, 'created': '2018-05-18 14:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/252afc77c4c239a510c9c79af404bdf8758b5615', 'message': 'WIP: armada manifest updates for OSH\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 5, 'created': '2018-05-18 14:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/16635adffa07958549dcc799c87cb82a17c68d24', 'message': 'WIP: armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 6, 'created': '2018-05-18 14:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f84ae33cff4dad6d1bc017d0fbc46348b200c4e9', 'message': 'WIP: armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 7, 'created': '2018-05-18 15:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d0171a1e2d1f989d40bab336950827d841a7f153', 'message': 'WIP: armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 8, 'created': '2018-05-18 17:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b744ec951fe8bfc2a883aa87e2700f8e41d99e9d', 'message': 'WIP: armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 9, 'created': '2018-05-22 17:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/44794dccf837b7711238192fb02292684f5162b7', 'message': 'WIP: armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 10, 'created': '2018-05-22 20:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dba4c092bf48081e6e2f7510147dfd4faf1de30f', 'message': 'WIP: armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 11, 'created': '2018-05-22 21:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f85b0db6abc64eb6c7ea530c9228318cead841ba', 'message': 'WIP: armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 12, 'created': '2018-05-23 01:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/21069bb2074262f480895a70ae0e052be64aeaa4', 'message': 'WIP: armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 13, 'created': '2018-05-23 05:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2bf42628eb90b76f3beb76e5acd70c7d1b2d6a4c', 'message': 'Armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart.\n\nThis also adds the LDAP chart, which is required for the LMA\nservices\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 14, 'created': '2018-05-23 18:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/409b45ced923637f31ff90ad14183bc218a3a271', 'message': 'Armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart.\n\nThis also adds the LDAP chart, which is required for the LMA\nservices\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 15, 'created': '2018-05-23 18:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/720f4b6e2a1f5e2b5bea5ec5f97fc7f447304320', 'message': 'Armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart.\n\nThis also adds the LDAP chart, which is required for the LMA\nservices\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}, {'number': 16, 'created': '2018-05-23 22:44:41.000000000', 'files': ['tools/deployment/armada/multinode/armada-cluster-ingress.yaml', 'tools/deployment/armada/multinode/armada-osh.yaml', 'tools/deployment/armada/multinode/armada-ceph.yaml', 'tools/deployment/armada/multinode/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/899384b805dc214b2b146eea3e224560b734d005', 'message': 'Armada manifest updates for OSH\n\nThis updates the armada multinode manifest to include the new\nformat for waiting on releases to complete. This is now configured\nto wait for a release to complete by checking resources with the\nrelease_group label for a given chart.\n\nThis also adds the LDAP chart, which is required for the LMA\nservices\n\nChange-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353\n'}]",2,568385,899384b805dc214b2b146eea3e224560b734d005,39,6,16,18180,,,0,"Armada manifest updates for OSH

This updates the armada multinode manifest to include the new
format for waiting on releases to complete. This is now configured
to wait for a release to complete by checking resources with the
release_group label for a given chart.

This also adds the LDAP chart, which is required for the LMA
services

Change-Id: Ie23073a04dc4c55291c0314beb0d8d215005d353
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/568385/16 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/armada/multinode/armada-cluster-ingress.yaml', 'tools/deployment/armada/multinode/armada-osh.yaml', 'tools/deployment/armada/multinode/armada-ceph.yaml', 'tools/deployment/armada/multinode/armada-lma.yaml']",4,384582383a1a31071b744c988fcc0d983f1648e6,feature/armada-updates, wait: timeout: 300 labels: release_group: helm-toolkit wait: timeout: 1800 labels: release_group: osh-infra-ingress-controller install: no_hooks: False upgrade: no_hooks: False wait: timeout: 1800 labels: release_group: osh-infra-ceph-config install: no_hooks: False upgrade: no_hooks: False storage_secrets: False ceph: False rbd_provisioner: False cephfs_provisioner: False client_secrets: True rgw_keystone_user_and_endpoints: False bootstrap: enabled: False enabled: True wait: timeout: 1800 labels: release_group: osh-infra-mariadb install: no_hooks: False upgrade: no_hooks: False enabled: False wait: timeout: 3600 labels: release_group: elasticsearch install: no_hooks: False upgrade: no_hooks: False enabled: True wait: timeout: 3600 labels: release_group: fluent-logging install: no_hooks: False upgrade: no_hooks: False enabled: True wait: timeout: 1800 labels: release_group: kibana install: no_hooks: False upgrade: no_hooks: False wait: timeout: 1800 labels: release_group: prometheus install: no_hooks: False upgrade: no_hooks: False wait: timeout: 1800 labels: release_group: prometheus-kube-state-metrics install: no_hooks: False upgrade: no_hooks: False wait: timeout: 1800 labels: release_group: prometheus-node-exporter install: no_hooks: False upgrade: no_hooks: False wait: timeout: 1800 labels: release_group: prometheus-alertmanager install: no_hooks: False upgrade: no_hooks: False wait: timeout: 1800 labels: release_group: grafana install: no_hooks: False upgrade: no_hooks: False, timeout: 300 timeout: 1800 install: no_hooks: false upgrade: no_hooks: false timeout: 1800 install: no_hooks: false upgrade: no_hooks: false storage_secrets: false ceph: false rbd_provisioner: false cephfs_provisioner: false client_secrets: true rgw_keystone_user_and_endpoints: false bootstrap: enabled: false enabled: true timeout: 1800 install: no_hooks: false upgrade: no_hooks: false enabled: false timeout: 3600 install: no_hooks: false upgrade: no_hooks: false enabled: true timeout: 3600 install: no_hooks: false upgrade: no_hooks: false enabled: true timeout: 1800 install: no_hooks: false upgrade: no_hooks: false timeout: 1800 install: no_hooks: false upgrade: no_hooks: false timeout: 1800 install: no_hooks: false upgrade: no_hooks: false timeout: 1800 install: no_hooks: false upgrade: no_hooks: false timeout: 1800 install: no_hooks: false upgrade: no_hooks: false timeout: 1800 install: no_hooks: false upgrade: no_hooks: false,312,176
openstack%2Fopenstack-helm~master~I961924b240b35da4b4a997bdacd189ad870a05b4,openstack/openstack-helm,master,I961924b240b35da4b4a997bdacd189ad870a05b4,Mariadb: Update mysql exporter job user dependencies,MERGED,2018-05-22 20:14:24.000000000,2018-05-24 06:11:48.000000000,2018-05-24 06:11:48.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-22 20:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1629ccc715ffa09e135576162f9195cefdc99bc9', 'message': 'Mariadb: Update mysql exporter job user dependencies\n\nThis updates the prometheus mysql exporter mysql user job\ndependencies to the correct key. It was set incorrectly, resulting\nin a circular dependency upon itself\n\nChange-Id: I961924b240b35da4b4a997bdacd189ad870a05b4\n'}, {'number': 2, 'created': '2018-05-22 21:53:45.000000000', 'files': ['mariadb/templates/monitoring/prometheus/exporter-job-create-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4cac07d78854e6d1144e53b1e0f6248b9c42a6b7', 'message': 'Mariadb: Update mysql exporter job user dependencies\n\nThis updates the prometheus mysql exporter mysql user job\ndependencies to the correct key. It was set incorrectly, resulting\nin a circular dependency upon itself\n\nChange-Id: I961924b240b35da4b4a997bdacd189ad870a05b4\n'}]",0,570037,4cac07d78854e6d1144e53b1e0f6248b9c42a6b7,8,3,2,17591,,,0,"Mariadb: Update mysql exporter job user dependencies

This updates the prometheus mysql exporter mysql user job
dependencies to the correct key. It was set incorrectly, resulting
in a circular dependency upon itself

Change-Id: I961924b240b35da4b4a997bdacd189ad870a05b4
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/37/570037/2 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/monitoring/prometheus/exporter-job-create-user.yaml'],1,1629ccc715ffa09e135576162f9195cefdc99bc9,fix_mysql_exporter_deps,"{{ tuple $envAll ""prometheus_create_mysql_user"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }}","{{ tuple $envAll ""prometheus_mysql_exporter"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }}",1,1
openstack%2Fmasakari~master~I262c3b75f98e3ae85b913a5086c3c5ff5edba8f9,openstack/masakari,master,I262c3b75f98e3ae85b913a5086c3c5ff5edba8f9,"Update ""auth_url""",MERGED,2018-05-11 03:28:30.000000000,2018-05-24 05:59:08.000000000,2018-05-24 05:59:08.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 20191}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 25571}, {'_account_id': 25903}, {'_account_id': 26072}, {'_account_id': 28239}]","[{'number': 1, 'created': '2018-05-11 03:28:30.000000000', 'files': ['doc/source/_static/masakari.conf.sample', 'etc/masakari/masakari.conf'], 'web_link': 'https://opendev.org/openstack/masakari/commit/1c0b3d0ce79777bc182579f4cc552a28da1aab5e', 'message': 'Update ""auth_url""\n\nFollowing the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\nIn addition, update deprecated ""auth_uri"" to ""www_authenticate_uri"",\naccording to [6].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n[6] https://review.openstack.org/#/c/508522\n\nChange-Id: I262c3b75f98e3ae85b913a5086c3c5ff5edba8f9\n'}]",0,567734,1c0b3d0ce79777bc182579f4cc552a28da1aab5e,19,9,1,25903,,,0,"Update ""auth_url""

Following the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

In addition, update deprecated ""auth_uri"" to ""www_authenticate_uri"",
according to [6].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932
[6] https://review.openstack.org/#/c/508522

Change-Id: I262c3b75f98e3ae85b913a5086c3c5ff5edba8f9
",git fetch https://review.opendev.org/openstack/masakari refs/changes/34/567734/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/masakari.conf.sample', 'etc/masakari/masakari.conf']",2,1c0b3d0ce79777bc182579f4cc552a28da1aab5e,auth_uri,www_authenticate_uri = http://127.0.0.1:5000 auth_url = http://127.0.0.1:5000,auth_uri = http://127.0.0.1:5000 auth_url = http://127.0.0.1:35357,3,3
openstack%2Frpm-packaging~master~Ie196dde4292f89720df72478b96d3ffeba10a71b,openstack/rpm-packaging,master,Ie196dde4292f89720df72478b96d3ffeba10a71b,Update openstack-doc-tools to 1.8.0,MERGED,2018-01-18 12:44:20.000000000,2018-05-24 05:55:12.000000000,2018-05-24 05:55:12.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-01-18 12:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5336d3a07781972ee6c2ebc31a4b9f78e2015af6', 'message': 'Update openstack-doc-tools to 1.7.0\n\nChange-Id: Ie196dde4292f89720df72478b96d3ffeba10a71b\n'}, {'number': 2, 'created': '2018-01-18 14:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2c94f889be682aa775530294f591c1021fbfa8d6', 'message': 'Update openstack-doc-tools to 1.7.0\n\nChange-Id: Ie196dde4292f89720df72478b96d3ffeba10a71b\n'}, {'number': 3, 'created': '2018-01-18 14:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7423341132e1665a0c31033be8f318d1863a8e4e', 'message': 'Update openstack-doc-tools to 1.7.0\n\nChange-Id: Ie196dde4292f89720df72478b96d3ffeba10a71b\n'}, {'number': 4, 'created': '2018-01-22 08:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ca6ea48664bb852197c36a03e8cbb5c6184213e6', 'message': 'Update openstack-doc-tools to 1.7.0\n\nCo-Authored-By: Dirk Mueller <dirk@dmllr.de>\nChange-Id: Ie196dde4292f89720df72478b96d3ffeba10a71b\n'}, {'number': 5, 'created': '2018-04-20 03:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f3e57eb658ae1b4ffdfaf7ad549e9f6d6df4e17f', 'message': 'Update openstack-doc-tools to 1.8.0\n\nDepends-on: I065006dbda8311c53d60ed8f062ac28c761b2fc8\nChange-Id: Ie196dde4292f89720df72478b96d3ffeba10a71b\n'}, {'number': 6, 'created': '2018-05-22 13:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e67f28ab7dd2eac257c3ee6f2677991f68c4dbff', 'message': 'Update openstack-doc-tools to 1.8.0\n\nDepends-on: I065006dbda8311c53d60ed8f062ac28c761b2fc8\nChange-Id: Ie196dde4292f89720df72478b96d3ffeba10a71b\n'}, {'number': 7, 'created': '2018-05-22 13:28:30.000000000', 'files': ['openstack/openstack-doc-tools/openstack-doc-tools.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3e603cf9e3d1aa6d0fc6f4035f6adee7c32a6100', 'message': 'Update openstack-doc-tools to 1.8.0\n\nDepends-on: I065006dbda8311c53d60ed8f062ac28c761b2fc8\nChange-Id: Ie196dde4292f89720df72478b96d3ffeba10a71b\n'}]",1,535320,3e603cf9e3d1aa6d0fc6f4035f6adee7c32a6100,38,10,7,17130,,,0,"Update openstack-doc-tools to 1.8.0

Depends-on: I065006dbda8311c53d60ed8f062ac28c761b2fc8
Change-Id: Ie196dde4292f89720df72478b96d3ffeba10a71b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/20/535320/7 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-doc-tools/openstack-doc-tools.spec.j2'],1,5336d3a07781972ee6c2ebc31a4b9f78e2015af6,fedora,Version: 1.7.0,Version: 1.5.0,1,1
openstack%2Frpm-packaging~master~I7f164f1c14ae849956421a08fa0d7faa70d52412,openstack/rpm-packaging,master,I7f164f1c14ae849956421a08fa0d7faa70d52412,oslo.cache: Move to singlespec,MERGED,2018-05-23 11:27:58.000000000,2018-05-24 05:55:09.000000000,2018-05-24 05:55:09.000000000,"[{'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 13861}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-23 11:27:58.000000000', 'files': ['openstack/oslo.cache/oslo.cache.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1debe0af7b01b6c7bd6ac767a312023106a011ac', 'message': 'oslo.cache: Move to singlespec\n\n- Also switch to sphinx-build for doc genaration\n\nChange-Id: I7f164f1c14ae849956421a08fa0d7faa70d52412\n'}]",0,570169,1debe0af7b01b6c7bd6ac767a312023106a011ac,12,6,1,13861,,,0,"oslo.cache: Move to singlespec

- Also switch to sphinx-build for doc genaration

Change-Id: I7f164f1c14ae849956421a08fa0d7faa70d52412
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/69/570169/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.cache/oslo.cache.spec.j2'],1,1debe0af7b01b6c7bd6ac767a312023106a011ac,enable-py3,"BuildRequires: {{ py2pkg('devel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('dogpile.cache', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.log', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pymongo', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-memcached', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }}%python_subpackages%package -n {{ py2name() }}-doc%description -n {{ py2name() }}-doc%{python_build}%{python_install}sphinx-build -b html doc/source doc/build/html%{python_expand rm -rf .testrepository $python setup.py testr } %files %{python_files}%{python_sitelib}/oslo_cache %{python_sitelib}/*.egg-info %files -n {{ py2name() }}-doc",BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('dogpile.cache') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.i18n') }} BuildRequires: {{ py2pkg('oslo.log') }} BuildRequires: {{ py2pkg('oslo.utils') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('pymongo') }} BuildRequires: {{ py2pkg('python-memcached') }} BuildRequires: {{ py2pkg('six') }}%package doc%description doc%{py2_build}%{py2_install}%{__python2} setup.py build_sphinx%{__python2} setup.py testr %files%{python2_sitelib}/oslo_cache %{python2_sitelib}/*.egg-info %files doc,25,22
openstack%2Frpm-packaging~master~I69e5cafa9cbefbf51fda7412c5f495651e8bfad3,openstack/rpm-packaging,master,I69e5cafa9cbefbf51fda7412c5f495651e8bfad3,Blacklist spec-cleaner 1.0.8 due to libexecdir regression,MERGED,2018-05-22 00:24:20.000000000,2018-05-24 05:55:08.000000000,2018-05-24 05:55:08.000000000,"[{'_account_id': 1955}, {'_account_id': 6593}, {'_account_id': 6717}, {'_account_id': 10384}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 13861}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 00:24:20.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8cf69f89b08b4fa055b2aa9af4b977c431f65489', 'message': 'Blacklist spec-cleaner 1.0.8 due to libexecdir regression\n\nhttps://github.com/openSUSE/spec-cleaner/issues/232 points out\nthat 1.0.8 is bad, we need to skip it for now until the problem\nis solved.\n\nDepends-On: https://review.openstack.org/#/c/569888/\nChange-Id: I69e5cafa9cbefbf51fda7412c5f495651e8bfad3\n'}]",0,569890,8cf69f89b08b4fa055b2aa9af4b977c431f65489,21,10,1,6593,,,0,"Blacklist spec-cleaner 1.0.8 due to libexecdir regression

https://github.com/openSUSE/spec-cleaner/issues/232 points out
that 1.0.8 is bad, we need to skip it for now until the problem
is solved.

Depends-On: https://review.openstack.org/#/c/569888/
Change-Id: I69e5cafa9cbefbf51fda7412c5f495651e8bfad3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/90/569890/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8cf69f89b08b4fa055b2aa9af4b977c431f65489,,"spec_cleaner>=0.8.9,!=1.0.8",spec_cleaner >= 0.8.9,1,1
openstack%2Fneutron~master~I883361346c78065a53701d6eb4927f8b7a87630f,openstack/neutron,master,I883361346c78065a53701d6eb4927f8b7a87630f,Replace os.makedirs to avoid process race,ABANDONED,2018-05-24 02:03:20.000000000,2018-05-24 05:31:37.000000000,,"[{'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-24 02:03:20.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'neutron/tests/unit/agent/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a96a265ab7616a57862c980d893963d815fe7414', 'message': 'Replace os.makedirs to avoid process race\n\nUse oslo_utils.fileutils.ensure_tree(path, mode=_DEFAULT_MODE)\nto replace os.makedir.\n\nChange-Id: I883361346c78065a53701d6eb4927f8b7a87630f\n'}]",0,570292,a96a265ab7616a57862c980d893963d815fe7414,5,3,1,21486,,,0,"Replace os.makedirs to avoid process race

Use oslo_utils.fileutils.ensure_tree(path, mode=_DEFAULT_MODE)
to replace os.makedir.

Change-Id: I883361346c78065a53701d6eb4927f8b7a87630f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/570292/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'neutron/tests/unit/agent/metadata/test_agent.py']",6,a96a265ab7616a57862c980d893963d815fe7414,, with mock.patch('oslo_utils.fileutils.ensure_tree'):, with mock.patch('os.makedirs'):,8,9
openstack%2Fpuppet-swift~stable%2Fqueens~I63f8a4287235c4659807530851c917a6386b4dd8,openstack/puppet-swift,stable/queens,I63f8a4287235c4659807530851c917a6386b4dd8,Configure www_authenticate_uri instead of auth_uri in authtoken,MERGED,2018-05-22 06:00:52.000000000,2018-05-24 05:29:16.000000000,2018-05-24 05:29:16.000000000,"[{'_account_id': 597}, {'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 06:00:52.000000000', 'files': ['manifests/proxy/authtoken.pp', 'spec/classes/swift_proxy_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/228b2f6c244b4db3127c3224f43a72a539bc2942', 'message': ""Configure www_authenticate_uri instead of auth_uri in authtoken\n\nWe're configuring a piece of keystonemiddleware, which saw this\nchange:\n   https://review.openstack.org/508522\n\nThis minimal fix retains auth_uri wherever we were using it in\nPuppet, because who cares? It's just a name of a class field.\nBut when we write it out, change it to the new name in the\nconfiguration file, so these modules continue to work in the\nfuture.\n\nDepends-On: I7be3f7748a2857618dc4de38e09c7cccca6d2721\nChange-Id: I63f8a4287235c4659807530851c917a6386b4dd8\n(cherry picked from commit ca7070a567c4ec3f656fb9e653b5b53dbeb3a510)\n""}]",0,569925,228b2f6c244b4db3127c3224f43a72a539bc2942,7,4,1,25903,,,0,"Configure www_authenticate_uri instead of auth_uri in authtoken

We're configuring a piece of keystonemiddleware, which saw this
change:
   https://review.openstack.org/508522

This minimal fix retains auth_uri wherever we were using it in
Puppet, because who cares? It's just a name of a class field.
But when we write it out, change it to the new name in the
configuration file, so these modules continue to work in the
future.

Depends-On: I7be3f7748a2857618dc4de38e09c7cccca6d2721
Change-Id: I63f8a4287235c4659807530851c917a6386b4dd8
(cherry picked from commit ca7070a567c4ec3f656fb9e653b5b53dbeb3a510)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/25/569925/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy/authtoken.pp', 'spec/classes/swift_proxy_authtoken_spec.rb']",2,228b2f6c244b4db3127c3224f43a72a539bc2942,www_authenticate_uri-stable/queens, it { is_expected.to contain_swift_proxy_config('filter:authtoken/www_authenticate_uri').with_value('http://127.0.0.1:5000') } it { is_expected.to contain_swift_proxy_config('filter:authtoken/www_authenticate_uri').with_value('http://127.0.0.1:5000') } it { is_expected.to contain_swift_proxy_config('filter:authtoken/www_authenticate_uri').with_value('http://public.host/keystone/main') } it { is_expected.to contain_swift_proxy_config('filter:authtoken/www_authenticate_uri').with_value('https://foo.bar:5000/v2.0/') }, it { is_expected.to contain_swift_proxy_config('filter:authtoken/auth_uri').with_value('http://127.0.0.1:5000') } it { is_expected.to contain_swift_proxy_config('filter:authtoken/auth_uri').with_value('http://127.0.0.1:5000') } it { is_expected.to contain_swift_proxy_config('filter:authtoken/auth_uri').with_value('http://public.host/keystone/main') } it { is_expected.to contain_swift_proxy_config('filter:authtoken/auth_uri').with_value('https://foo.bar:5000/v2.0/') },5,5
openstack%2Ffreezer~master~Iac2681eac9afd33db64d4d214543f2a7945f3216,openstack/freezer,master,Iac2681eac9afd33db64d4d214543f2a7945f3216,Replace os.makedirs to avoid process race,ABANDONED,2018-05-24 02:29:41.000000000,2018-05-24 05:25:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-24 02:29:41.000000000', 'files': ['freezer/common/config.py', 'freezer/engine/rsync/rsync.py', 'freezer/utils/utils.py', 'freezer/engine/rsyncv2/rsyncv2.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/828bfa2521de20aa69c49cd7d0040fddd50c0114', 'message': 'Replace os.makedirs to avoid process race\n\nUse oslo_utils.fileutils.ensure_tree(path, mode=_DEFAULT_MODE)\nto replace os.makedir.\n\nChange-Id: Iac2681eac9afd33db64d4d214543f2a7945f3216\n'}]",0,570299,828bfa2521de20aa69c49cd7d0040fddd50c0114,3,1,1,21486,,,0,"Replace os.makedirs to avoid process race

Use oslo_utils.fileutils.ensure_tree(path, mode=_DEFAULT_MODE)
to replace os.makedir.

Change-Id: Iac2681eac9afd33db64d4d214543f2a7945f3216
",git fetch https://review.opendev.org/openstack/freezer refs/changes/99/570299/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer/common/config.py', 'freezer/engine/rsync/rsync.py', 'freezer/utils/utils.py', 'freezer/engine/rsyncv2/rsyncv2.py']",4,828bfa2521de20aa69c49cd7d0040fddd50c0114,,"from oslo_utils import fileutils fileutils.ensure_tree(file_abs_path, mode=file_mode)"," os.makedirs(file_abs_path, file_mode)",9,5
openstack%2Fpuppet-ironic~master~I91ee4d1fe255f0225b499ecf565bd91b89fc47bf,openstack/puppet-ironic,master,I91ee4d1fe255f0225b499ecf565bd91b89fc47bf,Add support for db_max_retries param,MERGED,2018-05-23 07:46:17.000000000,2018-05-24 05:25:05.000000000,2018-05-24 05:25:05.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 07:46:17.000000000', 'files': ['manifests/inspector/db.pp', 'spec/classes/ironic_inspector_db_spec.rb', 'releasenotes/notes/add_db_max_retries-a1d3176323e781a5.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/39c790de6da67beda8884a3392ee5f44eed1fcca', 'message': 'Add support for db_max_retries param\n\nThe db_max_retries parameter regulates the number of reconnection\nattempts performed after an error raised rather than at startup.\n\nChange-Id: I91ee4d1fe255f0225b499ecf565bd91b89fc47bf\nReleated-Bug: #1579718\n'}]",0,570138,39c790de6da67beda8884a3392ee5f44eed1fcca,7,3,1,9414,,,0,"Add support for db_max_retries param

The db_max_retries parameter regulates the number of reconnection
attempts performed after an error raised rather than at startup.

Change-Id: I91ee4d1fe255f0225b499ecf565bd91b89fc47bf
Releated-Bug: #1579718
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/38/570138/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/inspector/db.pp', 'spec/classes/ironic_inspector_db_spec.rb', 'releasenotes/notes/add_db_max_retries-a1d3176323e781a5.yaml']",3,39c790de6da67beda8884a3392ee5f44eed1fcca,bug/1579718,--- features: - Add new option ironic::inspector::db::database_db_max_retries. The database_db_max_retries parameter regulates the number of reconnection attempts performed after an error raised rather than at startup. ,,16,0
openstack%2Fpuppet-ironic~master~Ia7b26a2243f06ff6d20fb10b32b355cfb8d41a41,openstack/puppet-ironic,master,Ia7b26a2243f06ff6d20fb10b32b355cfb8d41a41,Add pool_timeout option,MERGED,2018-05-23 07:33:46.000000000,2018-05-24 05:25:05.000000000,2018-05-24 05:25:05.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 07:33:46.000000000', 'files': ['manifests/db.pp', 'manifests/inspector/db.pp', 'spec/classes/ironic_inspector_db_spec.rb', 'releasenotes/notes/add-pool_timeout-option-for-db-e13f121a41b4b3af.yaml', 'spec/classes/ironic_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/aca09199979cae3fdf1ec921b6dca4d0e5156c07', 'message': 'Add pool_timeout option\n\nAdd pool_timeout option to configure this value for pool_timeout with\nSQLAlchemy.\n\nCloses-Bug: #1757581\n\nChange-Id: Ia7b26a2243f06ff6d20fb10b32b355cfb8d41a41\n'}]",0,570135,aca09199979cae3fdf1ec921b6dca4d0e5156c07,7,3,1,9414,,,0,"Add pool_timeout option

Add pool_timeout option to configure this value for pool_timeout with
SQLAlchemy.

Closes-Bug: #1757581

Change-Id: Ia7b26a2243f06ff6d20fb10b32b355cfb8d41a41
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/35/570135/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'manifests/inspector/db.pp', 'spec/classes/ironic_inspector_db_spec.rb', 'releasenotes/notes/add-pool_timeout-option-for-db-e13f121a41b4b3af.yaml', 'spec/classes/ironic_db_spec.rb']",5,aca09199979cae3fdf1ec921b6dca4d0e5156c07,bug/1757581," :pool_timeout => '<SERVICE DEFAULT>', :database_pool_timeout => '21', :pool_timeout => '21',",,23,0
openstack%2Fpuppet-ec2api~stable%2Fpike~I5214b3859e74c60cbc82571125ce38718f589545,openstack/puppet-ec2api,stable/pike,I5214b3859e74c60cbc82571125ce38718f589545,Configure metadata_proxy_shared_secret as secret,MERGED,2018-05-23 07:09:04.000000000,2018-05-24 05:20:02.000000000,2018-05-24 05:20:02.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 07:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/53755586a3a33ddde06da51e7ca018fa7edc9f6d', 'message': 'Configure metadata_proxy_shared_secret as secret\n\nParameter metadata/metadata_proxy_shared_secret should be\nconfigured as a secret.\n\nChange-Id: I5214b3859e74c60cbc82571125ce38718f589545\nCloses-Bug: #1761060\n(cherry picked from commit 814ae8df60ee842a126c2ecced47c42b0528ad4d)\n'}, {'number': 2, 'created': '2018-05-23 07:10:07.000000000', 'files': ['manifests/metadata.pp', 'spec/classes/ec2api_metadata_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/89d721612be1d380d453cdbf4118623281de3cdc', 'message': 'Configure metadata_proxy_shared_secret as secret\n\nParameter metadata/metadata_proxy_shared_secret should be\nconfigured as a secret.\n\nChange-Id: I5214b3859e74c60cbc82571125ce38718f589545\nCloses-Bug: #1761060\n(cherry picked from commit 814ae8df60ee842a126c2ecced47c42b0528ad4d)\n'}]",0,570127,89d721612be1d380d453cdbf4118623281de3cdc,8,3,2,9414,,,0,"Configure metadata_proxy_shared_secret as secret

Parameter metadata/metadata_proxy_shared_secret should be
configured as a secret.

Change-Id: I5214b3859e74c60cbc82571125ce38718f589545
Closes-Bug: #1761060
(cherry picked from commit 814ae8df60ee842a126c2ecced47c42b0528ad4d)
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/27/570127/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/metadata.pp', 'spec/classes/ec2api_metadata_spec.rb']",2,53755586a3a33ddde06da51e7ca018fa7edc9f6d,bug/1761060-stable/pike, it 'configures metadata_proxy_shared_secret' do is_expected.to contain_ec2api_config('metadata/metadata_proxy_shared_secret').with_value('<SERVICE DEFAULT>').with_secret(true) end , metadata/metadata_proxy_shared_secret,5,2
openstack%2Fpuppet-ec2api~stable%2Fqueens~I5214b3859e74c60cbc82571125ce38718f589545,openstack/puppet-ec2api,stable/queens,I5214b3859e74c60cbc82571125ce38718f589545,Configure metadata_proxy_shared_secret as secret,MERGED,2018-05-23 07:08:55.000000000,2018-05-24 05:20:02.000000000,2018-05-24 05:20:02.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 07:08:55.000000000', 'files': ['manifests/metadata.pp', 'spec/classes/ec2api_metadata_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/8efff78512acbdf878b070d46453d29404744814', 'message': 'Configure metadata_proxy_shared_secret as secret\n\nParameter metadata/metadata_proxy_shared_secret should be\nconfigured as a secret.\n\nChange-Id: I5214b3859e74c60cbc82571125ce38718f589545\nCloses-Bug: #1761060\n(cherry picked from commit 814ae8df60ee842a126c2ecced47c42b0528ad4d)\n'}]",0,570126,8efff78512acbdf878b070d46453d29404744814,7,3,1,9414,,,0,"Configure metadata_proxy_shared_secret as secret

Parameter metadata/metadata_proxy_shared_secret should be
configured as a secret.

Change-Id: I5214b3859e74c60cbc82571125ce38718f589545
Closes-Bug: #1761060
(cherry picked from commit 814ae8df60ee842a126c2ecced47c42b0528ad4d)
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/26/570126/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/metadata.pp', 'spec/classes/ec2api_metadata_spec.rb']",2,8efff78512acbdf878b070d46453d29404744814,bug/1761060-stable/queens, it 'configures metadata_proxy_shared_secret' do is_expected.to contain_ec2api_config('metadata/metadata_proxy_shared_secret').with_value('<SERVICE DEFAULT>').with_secret(true) end , metadata/metadata_proxy_shared_secret,5,2
openstack%2Fpuppet-openstack-integration~master~I577ac720ef6f9a5487cfbc9f6376f2535d918520,openstack/puppet-openstack-integration,master,I577ac720ef6f9a5487cfbc9f6376f2535d918520,"Revert ""Debian: Setup Cinder using cinder-api uwsgi""",MERGED,2018-05-18 14:13:52.000000000,2018-05-24 05:19:45.000000000,2018-05-24 05:19:45.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 14:13:52.000000000', 'files': ['manifests/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c10f0115206b21371dee36cb0a8bb218b3f2cf92', 'message': 'Revert ""Debian: Setup Cinder using cinder-api uwsgi""\n\nThis reverts commit 1d884ac12d340c94c58aad004ca0cf76219df97f.\nIndeed, using uwsgi doesn\'t work over SSL. After trying locally on\nmy machine, switching back to mod-wsgi-py3 fixes the problem.\n\nChange-Id: I577ac720ef6f9a5487cfbc9f6376f2535d918520\n'}]",0,569420,c10f0115206b21371dee36cb0a8bb218b3f2cf92,7,3,1,6476,,,0,"Revert ""Debian: Setup Cinder using cinder-api uwsgi""

This reverts commit 1d884ac12d340c94c58aad004ca0cf76219df97f.
Indeed, using uwsgi doesn't work over SSL. After trying locally on
my machine, switching back to mod-wsgi-py3 fixes the problem.

Change-Id: I577ac720ef6f9a5487cfbc9f6376f2535d918520
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/20/569420/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cinder.pp'],1,c10f0115206b21371dee36cb0a8bb218b3f2cf92,debian-cinder-on-apache," service_name => 'httpd', include ::apache class { '::cinder::wsgi::apache': bind_host => $::openstack_integration::config::ip_for_url, ssl => $::openstack_integration::config::ssl, ssl_key => ""/etc/cinder/ssl/private/${::fqdn}.pem"", ssl_cert => $::openstack_integration::params::cert_path, workers => 2,"," if ($::os_package_type == 'debian') { $service_name = 'cinder-api' } else { $service_name = 'httpd' } service_name => $service_name, if ($::os_package_type != 'debian') { include ::apache class { '::cinder::wsgi::apache': bind_host => $::openstack_integration::config::ip_for_url, ssl => $::openstack_integration::config::ssl, ssl_key => ""/etc/cinder/ssl/private/${::fqdn}.pem"", ssl_cert => $::openstack_integration::params::cert_path, workers => 2, }",8,15
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ic8388631ae05c4ff0ed03676734f1376e0e0143f,openstack/tripleo-upgrade,stable/queens,Ic8388631ae05c4ff0ed03676734f1376e0e0143f,Move SSL undercloud validation out of UC script create tasks.,MERGED,2018-05-23 07:20:51.000000000,2018-05-24 05:07:28.000000000,2018-05-24 05:07:28.000000000,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-23 07:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/52830a26b8db606a983c3a4d851ca6feaef96903', 'message': 'Move SSL undercloud validation out of UC script create tasks.\n\nThe set of tasks included in the undercloud_ssl_camap.yml\nplaybook are needed for the overcloud to be able\nto access the undercloud API.\nThis patch moves the task out of the undercloud create\nscript tasks to run them in the overcloud create tasks.\n\nChange-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f\n(cherry picked from commit 9a68678e1c52c85bad0dd80fcd46b4e4c8b432ff)\n'}, {'number': 2, 'created': '2018-05-23 08:28:31.000000000', 'files': ['tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/18abf67641d9d1eba6dcdac042329ce775306e82', 'message': 'Move SSL undercloud validation out of UC script create tasks.\n\nThe set of tasks included in the undercloud_ssl_camap.yml\nplaybook are needed for the overcloud to be able\nto access the undercloud API.\nThis patch moves the task out of the undercloud create\nscript tasks to run them in the overcloud create tasks.\n\nChange-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f\n(cherry picked from commit 9a68678e1c52c85bad0dd80fcd46b4e4c8b432ff)\n'}]",0,570130,18abf67641d9d1eba6dcdac042329ce775306e82,11,6,2,21537,,,0,"Move SSL undercloud validation out of UC script create tasks.

The set of tasks included in the undercloud_ssl_camap.yml
playbook are needed for the overcloud to be able
to access the undercloud API.
This patch moves the task out of the undercloud create
script tasks to run them in the overcloud create tasks.

Change-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f
(cherry picked from commit 9a68678e1c52c85bad0dd80fcd46b4e4c8b432ff)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/30/570130/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml']",2,52830a26b8db606a983c3a4d851ca6feaef96903,ssl-validation,,"- name: check if undercloud is ssl enabled command: ""grep -Fq OS_AUTH_URL=https {{ undercloud_rc }}"" register: undercloud_ssl ignore_errors: true - include: undercloud_ssl_camap.yaml when: undercloud_ssl|succeeded",8,7
openstack%2Fmasakari~master~Ic5234735267530f3b347126e1f0afa3e25f9e1fe,openstack/masakari,master,Ic5234735267530f3b347126e1f0afa3e25f9e1fe,Make accept-language tests work with webob 1.8.x,MERGED,2018-05-18 04:28:06.000000000,2018-05-24 05:04:09.000000000,2018-05-24 05:04:09.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 12950}, {'_account_id': 22348}, {'_account_id': 25267}]","[{'number': 1, 'created': '2018-05-18 04:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/d196bc7ecf1121cc098bd85e7ae9aecefff88854', 'message': 'Make accept-language tests work with webob 1.8.x\n\nMasakari below test cases are failing due to webob 1.8.x:\n..unit.api.openstack.test_wsgi.RequestTest.test_secondary\n..unit.api.openstack.test_wsgi.RequestTest.test_asterisk\n..unit.api.openstack.test_wsgi.RequestTest.test_from_request\n\nPlease see the logs:\nhttp://logs.openstack.org/53/518653/1/check/openstack-tox-py27/76866e9/testr_results.html.gz\n\nThis patch is a copy of change:\nI2034d30cc8d9354be80d39e05b8488cb99c32ecf which fixes similar\ntest cases in nova.\n\nChange-Id: Ic5234735267530f3b347126e1f0afa3e25f9e1fe\n'}, {'number': 2, 'created': '2018-05-21 02:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/1f1ab3993a580ccc6e9320d03e2ffc100a99edc3', 'message': 'Make accept-language tests work with webob 1.8.x\n\nMasakari below test cases are failing due to webob 1.8.x:\n..unit.api.openstack.test_wsgi.RequestTest.test_secondary\n..unit.api.openstack.test_wsgi.RequestTest.test_asterisk\n..unit.api.openstack.test_wsgi.RequestTest.test_from_request\n\nPlease see the logs:\nhttp://logs.openstack.org/53/518653/1/check/openstack-tox-py27/76866e9/testr_results.html.gz\n\nThis patch is a copy of change:\nI2034d30cc8d9354be80d39e05b8488cb99c32ecf which fixes similar\ntest cases in nova.\n\nChange-Id: Ic5234735267530f3b347126e1f0afa3e25f9e1fe\n'}, {'number': 3, 'created': '2018-05-21 04:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4d95b8a6b83758a9de2441ae125d6480e3476660', 'message': 'Make accept-language tests work with webob 1.8.x\n\nMasakari below test cases are failing due to webob 1.8.x:\n..unit.api.openstack.test_wsgi.RequestTest.test_secondary\n..unit.api.openstack.test_wsgi.RequestTest.test_asterisk\n..unit.api.openstack.test_wsgi.RequestTest.test_from_request\n\nPlease see the logs:\nhttp://logs.openstack.org/53/518653/1/check/openstack-tox-py27/76866e9/testr_results.html.gz\n\nThis patch is a copy of change:\nI2034d30cc8d9354be80d39e05b8488cb99c32ecf which fixes similar\ntest cases in nova.\n\nChange-Id: Ic5234735267530f3b347126e1f0afa3e25f9e1fe\n'}, {'number': 4, 'created': '2018-05-21 05:00:47.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'masakari/tests/unit/api/openstack/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/b81b16c189e8434a9d30e14f67d399ee53ffadec', 'message': 'Make accept-language tests work with webob 1.8.x\n\nMasakari below test cases are failing due to webob 1.8.x:\n..unit.api.openstack.test_wsgi.RequestTest.test_secondary\n..unit.api.openstack.test_wsgi.RequestTest.test_asterisk\n..unit.api.openstack.test_wsgi.RequestTest.test_from_request\n\nPlease see the logs:\nhttp://logs.openstack.org/53/518653/1/check/openstack-tox-py27/76866e9/testr_results.html.gz\n\nThis patch is a copy of change:\nI2034d30cc8d9354be80d39e05b8488cb99c32ecf which fixes similar\ntest cases in nova.\n\nThis patch also changes the `lower-constraints.txt` to make\nthe WebOb version same as other services.\n\nChange-Id: Ic5234735267530f3b347126e1f0afa3e25f9e1fe\n'}]",0,569321,b81b16c189e8434a9d30e14f67d399ee53ffadec,18,5,4,20191,,,0,"Make accept-language tests work with webob 1.8.x

Masakari below test cases are failing due to webob 1.8.x:
..unit.api.openstack.test_wsgi.RequestTest.test_secondary
..unit.api.openstack.test_wsgi.RequestTest.test_asterisk
..unit.api.openstack.test_wsgi.RequestTest.test_from_request

Please see the logs:
http://logs.openstack.org/53/518653/1/check/openstack-tox-py27/76866e9/testr_results.html.gz

This patch is a copy of change:
I2034d30cc8d9354be80d39e05b8488cb99c32ecf which fixes similar
test cases in nova.

This patch also changes the `lower-constraints.txt` to make
the WebOb version same as other services.

Change-Id: Ic5234735267530f3b347126e1f0afa3e25f9e1fe
",git fetch https://review.opendev.org/openstack/masakari refs/changes/21/569321/4 && git format-patch -1 --stdout FETCH_HEAD,['masakari/tests/unit/api/openstack/test_wsgi.py'],1,d196bc7ecf1121cc098bd85e7ae9aecefff88854,webob_fix," accepted = 'bogus;q=1, en-gb;q=0.7,en-us,en;q=0.5,*;q=0.7' accepted = '*,es;q=0.5' accepted = 'nn,en-gb;q=0.5'"," accepted = 'bogus;q=1.1, en-gb;q=0.7,en-us,en;q=.5,*;q=.7' accepted = '*,es;q=.5' accepted = 'nn,en-gb;q=.5'",3,3
openstack%2Fsenlin~master~Ia95c820b176e97865a9245068945f7ec51bdc48a,openstack/senlin,master,Ia95c820b176e97865a9245068945f7ec51bdc48a,Fix container handle reboot driver call error,MERGED,2018-05-23 03:34:22.000000000,2018-05-24 05:00:42.000000000,2018-05-24 05:00:42.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-05-23 03:34:22.000000000', 'files': ['senlin/profiles/container/docker.py', 'senlin/tests/unit/profiles/test_container_docker.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/913e21bc8d9c1cc987abe6787bf1068b9073c29d', 'message': 'Fix container handle reboot driver call error\n\nThis patch change handle reboot call, the reboot not\nexist in docker driver, handle reboot use docker dirver\nrestart.\n\nChange-Id: Ia95c820b176e97865a9245068945f7ec51bdc48a\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",0,570108,913e21bc8d9c1cc987abe6787bf1068b9073c29d,9,5,1,23517,,,0,"Fix container handle reboot driver call error

This patch change handle reboot call, the reboot not
exist in docker driver, handle reboot use docker dirver
restart.

Change-Id: Ia95c820b176e97865a9245068945f7ec51bdc48a
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/08/570108/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/container/docker.py', 'senlin/tests/unit/profiles/test_container_docker.py']",2,913e21bc8d9c1cc987abe6787bf1068b9073c29d,fix_docker_reboot," x_docker.restart.assert_called_once_with('FAKE_ID') x_docker.restart.assert_called_once_with('FAKE_ID', timeout=200) x_docker.restart.side_effect = exc.InternalError(message=""Boom"")"," x_docker.reboot.assert_called_once_with('FAKE_ID') x_docker.reboot.assert_called_once_with('FAKE_ID', timeout=200) x_docker.reboot.side_effect = exc.InternalError(message=""Boom"")",4,4
openstack%2Fneutron-fwaas~master~Icbd0db1be8e78dbd0c7f0a55ae9467b5fab3fa4f,openstack/neutron-fwaas,master,Icbd0db1be8e78dbd0c7f0a55ae9467b5fab3fa4f,Add fullstack testing for neutron-fwaas,ABANDONED,2017-12-13 08:16:00.000000000,2018-05-24 04:58:11.000000000,,"[{'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-13 08:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/111a9b7158680c6339ca5d8cd39988c34563d482', 'message': 'Add fullstack testing for neutron-fwaas\n\nAdd a fullstack testing framework for neutron-fwaas.  This is a basic\nfirst pass just to get the framework deployed; detailed non-plagiaristic\ntests will be added after.  For more information on what fullstack\ntesting is, see:\n\nhttp://git.openstack.org/cgit/openstack/neutron/tree/TESTING.rst#n213\nCo-Authored-By: Nate Johnson<openstacknate@gmail.com>\n\nChange-Id: Icbd0db1be8e78dbd0c7f0a55ae9467b5fab3fa4f\n'}, {'number': 2, 'created': '2017-12-13 11:02:04.000000000', 'files': ['neutron_fwaas/tests/fullstack/__init__.py', 'tools/configure_for_func_testing.sh', 'neutron_fwaas/tests/fullstack/README', 'neutron_fwaas/tests/fullstack/resources/process.py', 'neutron_fwaas/tests/contrib/README', 'neutron_fwaas/tests/fullstack/base.py', 'neutron_fwaas/tests/fullstack/resources/machine.py', 'neutron_fwaas/tests/fullstack/resources/client.py', 'neutron_fwaas/tests/fullstack/resources/config.py', 'neutron_fwaas/tests/contrib/functional-testing.filters', 'neutron_fwaas/tests/fullstack/utils.py', 'neutron_fwaas/tests/fullstack/resources/environment.py', 'neutron_fwaas/tests/contrib/hooks/iptables_verify', 'neutron_fwaas/tests/fullstack/test_l3_agent.py', 'neutron_fwaas/tests/contrib/post_test_hook.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8796d62430f088c211254b4169f5274b45764949', 'message': 'Add fullstack testing for neutron-fwaas\n\nAdd a fullstack testing framework for neutron-fwaas.  This is a basic\nfirst pass just to get the framework deployed; detailed non-plagiaristic\ntests will be added after.  For more information on what fullstack\ntesting is, see:\n\nhttp://git.openstack.org/cgit/openstack/neutron/tree/TESTING.rst#n213\nCo-Authored-By: Nate Johnson<openstacknate@gmail.com>\n\nChange-Id: Icbd0db1be8e78dbd0c7f0a55ae9467b5fab3fa4f\n'}]",0,527627,8796d62430f088c211254b4169f5274b45764949,17,4,2,17776,,,0,"Add fullstack testing for neutron-fwaas

Add a fullstack testing framework for neutron-fwaas.  This is a basic
first pass just to get the framework deployed; detailed non-plagiaristic
tests will be added after.  For more information on what fullstack
testing is, see:

http://git.openstack.org/cgit/openstack/neutron/tree/TESTING.rst#n213
Co-Authored-By: Nate Johnson<openstacknate@gmail.com>

Change-Id: Icbd0db1be8e78dbd0c7f0a55ae9467b5fab3fa4f
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/27/527627/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/fullstack/__init__.py', 'tools/configure_for_func_testing.sh', 'neutron_fwaas/tests/fullstack/README', 'neutron_fwaas/tests/fullstack/resources/process.py', 'neutron_fwaas/tests/contrib/README', 'neutron_fwaas/tests/fullstack/base.py', 'neutron_fwaas/tests/fullstack/resources/machine.py', 'neutron_fwaas/tests/fullstack/resources/client.py', 'neutron_fwaas/tests/fullstack/resources/config.py', 'neutron_fwaas/tests/contrib/functional-testing.filters', 'neutron_fwaas/tests/fullstack/utils.py', 'neutron_fwaas/tests/fullstack/resources/environment.py', 'neutron_fwaas/tests/contrib/hooks/iptables_verify', 'neutron_fwaas/tests/fullstack/test_l3_agent.py', 'neutron_fwaas/tests/contrib/post_test_hook.sh', 'tox.ini']",16,111a9b7158680c6339ca5d8cd39988c34563d482,,[testenv:common] # Fake job to define environment variables shared between dsvm/non-dsvm jobs setenv = OS_TEST_TIMEOUT=180 commands = false [testenv:dsvm] # Fake job to define environment variables shared between dsvm jobs setenv = OS_SUDO_TESTING=1 OS_ROOTWRAP_CMD=sudo {envdir}/bin/neutron-rootwrap {envdir}/etc/neutron/rootwrap.conf OS_ROOTWRAP_DAEMON_CMD=sudo {envdir}/bin/neutron-rootwrap-daemon {envdir}/etc/neutron/rootwrap.conf OS_FAIL_ON_MISSING_DEPS=1 OS_LOG_PATH={env:OS_LOG_PATH:/opt/stack/logs} commands = false setenv = {[testenv]setenv} {[testenv:common]setenv} OS_TEST_PATH=./neutron_fwaas/tests/functional OS_LOG_PATH={env:OS_LOG_PATH:/opt/stack/logs}[testenv:dsvm-fullstack] setenv = {[testenv]setenv} {[testenv:common]setenv} {[testenv:dsvm]setenv} # workaround for DB teardown lock contention (bug/1541742) OS_TEST_TIMEOUT=600 OS_TEST_PATH=./neutron_fwaas/tests/fullstack sitepackages=True ,setenv = OS_TEST_PATH=./neutron_fwaas/tests/functional,1953,26
openstack%2Fproject-config~master~Ia4eb7a47313856fe3ef7c7691f9ecf20b1ba81c4,openstack/project-config,master,Ia4eb7a47313856fe3ef7c7691f9ecf20b1ba81c4,Add missing directory for gentoo rclocal,MERGED,2018-05-16 20:33:20.000000000,2018-05-24 04:58:04.000000000,2018-05-24 04:58:04.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 20:33:20.000000000', 'files': ['nodepool/elements/nodepool-base/finalise.d/89-unbound'], 'web_link': 'https://opendev.org/openstack/project-config/commit/228ddbf8087bbd82dec0f3777cdfbf0b329c57a0', 'message': 'Add missing directory for gentoo rclocal\n\nChange-Id: Ia4eb7a47313856fe3ef7c7691f9ecf20b1ba81c4\n'}]",0,568957,228ddbf8087bbd82dec0f3777cdfbf0b329c57a0,7,3,1,14288,,,0,"Add missing directory for gentoo rclocal

Change-Id: Ia4eb7a47313856fe3ef7c7691f9ecf20b1ba81c4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/568957/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/nodepool-base/finalise.d/89-unbound'],1,228ddbf8087bbd82dec0f3777cdfbf0b329c57a0,mkdir-gentoo-rclocal, mkdir /etc/local.d,,1,0
openstack%2Fproject-config~master~I18e91b775684c357b2b695b31cae6151df6dcf07,openstack/project-config,master,I18e91b775684c357b2b695b31cae6151df6dcf07,Add permission for adding tags for slogging,MERGED,2018-05-07 23:48:21.000000000,2018-05-24 04:58:02.000000000,2018-05-24 04:58:02.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25936}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-05-07 23:48:21.000000000', 'files': ['gerrit/acls/openstack/slogging.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ccc78b68fc38338148da0d41be08df4b54e3b8e8', 'message': 'Add permission for adding tags for slogging\n\nThis review request for folowings\n\n- Add permissions for tagging\n- Add team for slogging release\n\nChange-Id: I18e91b775684c357b2b695b31cae6151df6dcf07\n'}]",0,566760,ccc78b68fc38338148da0d41be08df4b54e3b8e8,10,6,1,25936,,,0,"Add permission for adding tags for slogging

This review request for folowings

- Add permissions for tagging
- Add team for slogging release

Change-Id: I18e91b775684c357b2b695b31cae6151df6dcf07
",git fetch https://review.opendev.org/openstack/project-config refs/changes/60/566760/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/slogging.config'],1,ccc78b68fc38338148da0d41be08df4b54e3b8e8,slogging-acl-config,"[access ""refs/tags/*""] pushSignedTag = group slogging-release ",,3,0
openstack%2Ftripleo-ci~master~I658f09b531e9659c192eeede6cdebf392c4d8281,openstack/tripleo-ci,master,I658f09b531e9659c192eeede6cdebf392c4d8281,Pass dlrn_hash from the releases file,MERGED,2018-05-22 11:09:37.000000000,2018-05-24 04:58:00.000000000,2018-05-24 04:58:00.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 11090}, {'_account_id': 12715}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-22 11:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1670e75bfd140147224dc4a8917c253e23b9e42d', 'message': 'Pass dlrn_hash from the releases file\n\nNow that the dlrn has is differenciate per upgrade step, we can\npass it depending on the plabook\n\nChange-Id: I658f09b531e9659c192eeede6cdebf392c4d8281\n'}, {'number': 2, 'created': '2018-05-22 11:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9e8106ecef0d2dc771b1741c84cb46f00692a34c', 'message': 'Pass dlrn_hash from the releases file\n\nNow that the dlrn has is differenciate per upgrade step, we can\npass it depending on the playbook\n\nChange-Id: I658f09b531e9659c192eeede6cdebf392c4d8281\n'}, {'number': 3, 'created': '2018-05-22 13:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fd338bb0fa7f93b95ceeb493b8e6c4c3d34549b9', 'message': 'Pass dlrn_hash from the releases file\n\nNow that the dlrn hash is differenciate per upgrade step, we can\npass it directly to the playbook.\n\nApart from dlrn_hash we need to pash get_build_command to ensure that\nthe hash traverse all the logic [1]\n[1] https://github.com/openstack/tripleo-quickstart-extras/blob/master/roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2#L30-L45\n\nChange-Id: I658f09b531e9659c192eeede6cdebf392c4d8281\n'}, {'number': 4, 'created': '2018-05-22 13:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d44099c39b0bded4a346d12fafbcda8582fdccaa', 'message': 'Pass dlrn_hash from the releases file\n\nNow that the dlrn hash is differenciate per upgrade step, we can\npass it directly to the playbook.\n\nApart from dlrn_hash we need to pash get_build_command to ensure that\nthe hash traverse all the logic [1]\n[1] https://github.com/openstack/tripleo-quickstart-extras/blob/master/roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2#L30-L45\n\nChange-Id: I658f09b531e9659c192eeede6cdebf392c4d8281\n'}, {'number': 5, 'created': '2018-05-22 18:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d1ce7f95d95a6429c4a45523b8106c13fb2e2c38', 'message': 'Pass dlrn_hash from the releases file\n\nNow that the dlrn hash is differenciate per upgrade step, we can\npass it directly to the playbook.\n\nApart from dlrn_hash we need to pash get_build_command to ensure that\nthe hash traverse all the logic [1]\n[1] https://github.com/openstack/tripleo-quickstart-extras/blob/master/roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2#L30-L45\n\nChange-Id: I658f09b531e9659c192eeede6cdebf392c4d8281\n'}, {'number': 6, 'created': '2018-05-22 18:22:00.000000000', 'files': ['toci_quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b30a1195fc571111d227212f562c2c83424d9f85', 'message': 'Pass dlrn_hash from the releases file\n\nNow that the dlrn hash is differenciate per upgrade step, we can\npass it directly to the playbook.\n\nApart from dlrn_hash we need to pash get_build_command to ensure that\nthe hash traverse all the logic [1]\n[1] https://github.com/openstack/tripleo-quickstart-extras/blob/master/roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2#L30-L45\n\nChange-Id: I658f09b531e9659c192eeede6cdebf392c4d8281\n'}]",2,569958,b30a1195fc571111d227212f562c2c83424d9f85,26,9,6,27898,,,0,"Pass dlrn_hash from the releases file

Now that the dlrn hash is differenciate per upgrade step, we can
pass it directly to the playbook.

Apart from dlrn_hash we need to pash get_build_command to ensure that
the hash traverse all the logic [1]
[1] https://github.com/openstack/tripleo-quickstart-extras/blob/master/roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2#L30-L45

Change-Id: I658f09b531e9659c192eeede6cdebf392c4d8281
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/58/569958/4 && git format-patch -1 --stdout FETCH_HEAD,['toci_quickstart.sh'],1,1670e75bfd140147224dc4a8917c253e23b9e42d,sprint13," @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$UNDERCLOUD_INSTALL_RELEASE.yml -e dlrn_hash=$UNDERCLOUD_INSTALL_HASH"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$UNDERCLOUD_TARGET_RELEASE.yml -e dlrn_hash=$UNDERCLOUD_TARGET_HASH"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$OVERCLOUD_DEPLOY_RELEASE.yml -e dlrn_hash=$OVERCLOUD_DEPLOY_HASH"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$OVERCLOUD_DEPLOY_RELEASE.yml -e dlrn_hash=$OVERCLOUD_DEPLOY_HASH"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$OVERCLOUD_DEPLOY_RELEASE.yml -e dlrn_hash=$OVERCLOUD_DEPLOY_HASH"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$OVERCLOUD_TARGET_RELEASE.yml -e dlrn_hash=$OVERCLOUD_TARGET_HASH"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$OVERCLOUD_TARGET_RELEASE.yml -e dlrn_hash=$OVERCLOUD_TARGET_HASH"""," @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$UNDERCLOUD_INSTALL_RELEASE.yml"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$UNDERCLOUD_TARGET_RELEASE.yml"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$OVERCLOUD_DEPLOY_RELEASE.yml"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$OVERCLOUD_DEPLOY_RELEASE.yml"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$OVERCLOUD_DEPLOY_RELEASE.yml"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$OVERCLOUD_TARGET_RELEASE.yml"" @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$OVERCLOUD_TARGET_RELEASE.yml""",14,7
openstack%2Fsenlin~master~Id2a9ca793be3d158c99d7eb3d2760d92e642d8be,openstack/senlin,master,Id2a9ca793be3d158c99d7eb3d2760d92e642d8be,Add nova profile support for vm rescue and unrescue operation,MERGED,2018-05-22 03:02:18.000000000,2018-05-24 04:53:59.000000000,2018-05-24 04:53:59.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-05-22 03:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/f738f0320ef154be0b584ef6aa65939b92efe3cb', 'message': 'Add nova profile support for vm rescue and unrescue operation\n\nChange-Id: Id2a9ca793be3d158c99d7eb3d2760d92e642d8be\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 2, 'created': '2018-05-22 04:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/6291d68539f2abae6e7485d91b10b42993e657b7', 'message': 'Add nova profile support for vm rescue and unrescue operation\n\nChange-Id: Id2a9ca793be3d158c99d7eb3d2760d92e642d8be\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 3, 'created': '2018-05-22 05:02:08.000000000', 'files': ['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/common/consts.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/9606ff9a16f23e9f5e18c77f975c566de2e46315', 'message': 'Add nova profile support for vm rescue and unrescue operation\n\nChange-Id: Id2a9ca793be3d158c99d7eb3d2760d92e642d8be\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",3,569908,9606ff9a16f23e9f5e18c77f975c566de2e46315,14,5,3,23517,,,0,"Add nova profile support for vm rescue and unrescue operation

Change-Id: Id2a9ca793be3d158c99d7eb3d2760d92e642d8be
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/08/569908/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py']",2,f738f0320ef154be0b584ef6aa65939b92efe3cb,profile_rescure," def test_handle_rescue(self): obj = mock.Mock(physical_id='FAKE_ID') profile = server.ServerProfile('t', self.spec) cc = mock.Mock() profile._computeclient = cc # do it res = profile.handle_rescue(obj, admin_pass='new_pass', image='FAKE_IMAGE') self.assertTrue(res) cc.server_rescue.assert_called_once_with( 'FAKE_ID', admin_pass='new_pass', image_ref='FAKE_IMAGE') def test_handle_rescue_image_none(self): obj = mock.Mock(physical_id='FAKE_ID') profile = server.ServerProfile('t', self.spec) cc = mock.Mock() profile._computeclient = cc res = profile.handle_rescue(obj, admin_pass='new_pass', image=None) self.assertFalse(res) def test_handle_rescue_no_physical_id(self): obj = mock.Mock(physical_id=None) profile = server.ServerProfile('t', self.spec) # do it res = profile.handle_rescue(obj) self.assertFalse(res) def test_handle_unrescue(self): obj = mock.Mock(physical_id='FAKE_ID') profile = server.ServerProfile('t', self.spec) profile._computeclient = mock.Mock() # do it res = profile.handle_unrescue(obj) self.assertTrue(res) def test_handle_unresuce_no_physical_id(self): obj = mock.Mock(physical_id=None) profile = server.ServerProfile('t', self.spec) # do it res = profile.handle_unrescue(obj) self.assertFalse(res) def test_handle_unrescue_failed_waiting(self): profile = server.ServerProfile('t', self.spec) cc = mock.Mock() ex = exc.InternalError(code=500, message='timeout') cc.wait_for_server.side_effect = ex profile._computeclient = cc node_obj = mock.Mock(physical_id='FAKE_ID') ex = self.assertRaises(exc.EResourceOperation, profile.handle_unrescue, node_obj) self.assertEqual(""Failed in unrescue server 'FAKE_ID': "" ""timeout."", six.text_type(ex)) cc.server_unrescue.assert_called_once_with('FAKE_ID') cc.wait_for_server.assert_called_once_with('FAKE_ID', 'ACTIVE')",,84,0
openstack%2Fproject-config~master~I82c76f468f0b2b16ee8bc276291c14fc76149021,openstack/project-config,master,I82c76f468f0b2b16ee8bc276291c14fc76149021,Make oslo.service py35 job voting,MERGED,2018-05-09 00:17:57.000000000,2018-05-24 04:50:06.000000000,2018-05-24 04:50:06.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-09 00:17:57.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a652b84102b5dd34701f78791ecb67388be82b85', 'message': 'Make oslo.service py35 job voting\n\nNow that bug 1705047 is fixed, there is no obstacle to the py35 gate\nvoting.\n\nChange-Id: I82c76f468f0b2b16ee8bc276291c14fc76149021\n'}]",0,567078,a652b84102b5dd34701f78791ecb67388be82b85,8,4,1,4257,,,0,"Make oslo.service py35 job voting

Now that bug 1705047 is fixed, there is no obstacle to the py35 gate
voting.

Change-Id: I82c76f468f0b2b16ee8bc276291c14fc76149021
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/567078/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a652b84102b5dd34701f78791ecb67388be82b85,bug/1705047, - openstack-python35-jobs, - openstack-python35-jobs-nonvoting,1,1
openstack%2Fopenstack-zuul-jobs~master~I31e965c938fa4c6129aa7a868865281c3d945046,openstack/openstack-zuul-jobs,master,I31e965c938fa4c6129aa7a868865281c3d945046,Remove legacy-ubuntu-xenial-3-node,MERGED,2018-05-03 00:18:32.000000000,2018-05-24 04:41:12.000000000,2018-05-24 04:41:11.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-03 00:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6982a0020422152ee57e94604452e99b8b93a362', 'message': 'Remove legacy-ubuntu-xenial-3-node\n\nWe no longer need this nodeset, lets remove it.\n\nChange-Id: I31e965c938fa4c6129aa7a868865281c3d945046\nDepends-On: https://review.openstack.org/565916\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2018-05-03 16:44:43.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e8001850d57d3d096e6c067de28b333fd03202b7', 'message': 'Remove legacy-ubuntu-xenial-3-node\n\nWe no longer need this nodeset, lets remove it.\n\nChange-Id: I31e965c938fa4c6129aa7a868865281c3d945046\nDepends-On: https://review.openstack.org/565916\nDepends-On: https://review.openstack.org/566107\nDepends-On: https://review.openstack.org/566108\nDepends-On: https://review.openstack.org/566111\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,565918,e8001850d57d3d096e6c067de28b333fd03202b7,9,3,2,4162,,,0,"Remove legacy-ubuntu-xenial-3-node

We no longer need this nodeset, lets remove it.

Change-Id: I31e965c938fa4c6129aa7a868865281c3d945046
Depends-On: https://review.openstack.org/565916
Depends-On: https://review.openstack.org/566107
Depends-On: https://review.openstack.org/566108
Depends-On: https://review.openstack.org/566111
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/18/565918/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,6982a0020422152ee57e94604452e99b8b93a362,,, - nodeset: name: legacy-ubuntu-xenial-3-node nodes: - name: primary label: ubuntu-xenial - name: secondary-1 label: ubuntu-xenial - name: secondary-2 label: ubuntu-xenial groups: - name: subnodes nodes: - secondary-1 - secondary-2,0,15
openstack%2Fopenstack-zuul-jobs~master~I53a528a7f0ec71cbfc3a7698d82fa6f933f85400,openstack/openstack-zuul-jobs,master,I53a528a7f0ec71cbfc3a7698d82fa6f933f85400,Remove legacy-hacking-integration-nova,MERGED,2018-04-27 14:29:07.000000000,2018-05-24 04:41:11.000000000,2018-05-24 04:41:11.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 14:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/62ad32c68824afa35dab0e33ee77c412dc59a770', 'message': 'Remove legacy-hacking-integration-nova\n\nThe job is in-tree now, remove it.\n\nChange-Id: I53a528a7f0ec71cbfc3a7698d82fa6f933f85400\nDepends-On: https://review.openstack.org/564786\n'}, {'number': 2, 'created': '2018-05-01 19:58:44.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/hacking-integration-nova/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/149bdab3da69f4b7357a37b20964a29614941bab', 'message': 'Remove legacy-hacking-integration-nova\n\nThe job is in-tree now, remove it.\n\nChange-Id: I53a528a7f0ec71cbfc3a7698d82fa6f933f85400\nDepends-On: https://review.openstack.org/564786\n'}]",0,564787,149bdab3da69f4b7357a37b20964a29614941bab,9,3,2,6547,,,0,"Remove legacy-hacking-integration-nova

The job is in-tree now, remove it.

Change-Id: I53a528a7f0ec71cbfc3a7698d82fa6f933f85400
Depends-On: https://review.openstack.org/564786
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/87/564787/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/hacking-integration-nova/run.yaml']",2,62ad32c68824afa35dab0e33ee77c412dc59a770,nova-hacking,,- hosts: all name: Autoconverted job legacy-hacking-integration-nova from old job gate-hacking-integration-nova roles: - bindep tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -x sudo rm -f /etc/sudoers.d/zuul # Prove that general sudo access is actually revoked ! sudo -n true executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -u set -e set -x cd $WORKSPACE /usr/zuul-env/bin/zuul-cloner --cache-dir /opt/git \ git://git.openstack.org \ openstack-dev/hacking \ openstack/nova cd openstack-dev/hacking tox -e integration openstack nova \ $WORKSPACE/openstack/nova executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ,0,45
openstack%2Fopenstack-zuul-jobs~master~I6cce840a8644f41221490ad065d9d85d3e1d5fdb,openstack/openstack-zuul-jobs,master,I6cce840a8644f41221490ad065d9d85d3e1d5fdb,Remove legacy-tempest-dsvm-multinode-live-migration job definition,MERGED,2018-05-01 23:15:17.000000000,2018-05-24 04:32:31.000000000,2018-05-24 04:32:30.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-01 23:15:17.000000000', 'files': ['playbooks/legacy/tempest-dsvm-multinode-live-migration/run.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-multinode-live-migration/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9a0338909d258da3d93f50a93c17f5c949b221c4', 'message': 'Remove legacy-tempest-dsvm-multinode-live-migration job definition\n\nThe job is now defined in the nova repo as nova-live-migration. This\nchange depends on the tip of the series of changes so the new job name\nis used in nova and tempest and the legacy job name is removed from\nproject-config.\n\nDepends-On: https://review.openstack.org/565611\n\nChange-Id: I6cce840a8644f41221490ad065d9d85d3e1d5fdb\n'}]",0,565613,9a0338909d258da3d93f50a93c17f5c949b221c4,11,5,1,4690,,,0,"Remove legacy-tempest-dsvm-multinode-live-migration job definition

The job is now defined in the nova repo as nova-live-migration. This
change depends on the tip of the series of changes so the new job name
is used in nova and tempest and the legacy job name is removed from
project-config.

Depends-On: https://review.openstack.org/565611

Change-Id: I6cce840a8644f41221490ad065d9d85d3e1d5fdb
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/13/565613/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tempest-dsvm-multinode-live-migration/run.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-multinode-live-migration/post.yaml']",3,9a0338909d258da3d93f50a93c17f5c949b221c4,live-migration-in-tree,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,0,74
openstack%2Fopenstack-zuul-jobs~master~I7145855903c96e7fca17d693abf0d97b2857fc2f,openstack/openstack-zuul-jobs,master,I7145855903c96e7fca17d693abf0d97b2857fc2f,Add ubuntu-bionic-arm64 nodeset,MERGED,2018-05-12 01:46:13.000000000,2018-05-24 04:32:30.000000000,2018-05-24 04:32:30.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-12 01:46:13.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9f0e1ad22b701348e49e078630a31e9947601740', 'message': 'Add ubuntu-bionic-arm64 nodeset\n\nWe now have bionic images in linaro.\n\nChange-Id: I7145855903c96e7fca17d693abf0d97b2857fc2f\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,567965,9f0e1ad22b701348e49e078630a31e9947601740,7,3,1,4162,,,0,"Add ubuntu-bionic-arm64 nodeset

We now have bionic images in linaro.

Change-Id: I7145855903c96e7fca17d693abf0d97b2857fc2f
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/65/567965/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,9f0e1ad22b701348e49e078630a31e9947601740,, name: ubuntu-bionic-arm64 nodes: - name: ubuntu-bionic-arm64 label: ubuntu-bionic-arm64 - nodeset:,,6,0
openstack%2Fopenstack-zuul-jobs~master~If5d17fe2b1965ceed578fe20168d011c4f087242,openstack/openstack-zuul-jobs,master,If5d17fe2b1965ceed578fe20168d011c4f087242,[rally] Remove old rally-cinder jobs,MERGED,2018-04-19 12:39:17.000000000,2018-05-24 04:28:07.000000000,2018-05-24 04:28:07.000000000,"[{'_account_id': 1004}, {'_account_id': 1736}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-19 12:39:17.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/rally-dsvm-rally-cinder/post.yaml', 'playbooks/legacy/rally-dsvm-cinder/post.yaml', 'playbooks/legacy/rally-dsvm-cinder/run.yaml', 'playbooks/legacy/rally-dsvm-rally-cinder/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/600d5557e13d18fc7602e1b56780595d2c3a8cac', 'message': '[rally] Remove old rally-cinder jobs\n\nDepends-On: I5cc99b67495e2e10264f1cb89b25b37f5f7af66b\nChange-Id: If5d17fe2b1965ceed578fe20168d011c4f087242\n'}]",0,562569,600d5557e13d18fc7602e1b56780595d2c3a8cac,10,6,1,9545,,,0,"[rally] Remove old rally-cinder jobs

Depends-On: I5cc99b67495e2e10264f1cb89b25b37f5f7af66b
Change-Id: If5d17fe2b1965ceed578fe20168d011c4f087242
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/69/562569/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/rally-dsvm-rally-cinder/post.yaml', 'playbooks/legacy/rally-dsvm-cinder/post.yaml', 'playbooks/legacy/rally-dsvm-cinder/run.yaml', 'playbooks/legacy/rally-dsvm-rally-cinder/run.yaml']",5,600d5557e13d18fc7602e1b56780595d2c3a8cac,cinder,,"- hosts: all name: Autoconverted job legacy-rally-dsvm-rally-cinder from old job gate-rally-dsvm-rally-cinder tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x if [ $ZUUL_PROJECT == ""openstack/rally"" ] && [ $ZUUL_BRANCH != ""master"" ]; then export DEVSTACK_GATE_FEATURE_MATRIX=""/opt/stack/new/rally/devstack/features.yaml"" fi export PROJECTS=""openstack/rally $PROJECTS"" export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_HORIZON=1 export DEVSTACK_GATE_NEUTRON_EXTENSIONS=0 export DEVSTACK_GATE_IRONIC=0 export DEVSTACK_GATE_ZAQAR=0 export DEVSTACK_GATE_SENLIN=0 export DEVSTACK_GATE_WATCHER=0 export DEVSTACK_GATE_MAGNUM=0 export DEVSTACK_GATE_HEAT=0 export DEVSTACK_GATE_SWIFT=1 export DEVSTACK_GATE_TELEMETRY=0 export DEVSTACK_GATE_TEMPEST_LARGE_OPS=0 export DEVSTACK_GATE_EXERCISES=0 export DEVSTACK_GATE_PREPOPULATE_USERS=0 export DEVSTACK_GATE_USE_PYTHON3=False export USE_KEYSTONE_V2API=0 export RALLY_SCENARIO=cinder if [ $USE_KEYSTONE_V2API -eq 1 ]; then export IDENTITY_API_VERSION=2.0 else export IDENTITY_API_VERSION=3 fi DEVSTACK_LOCAL_CONFIG=""enable_plugin rally git://git.openstack.org/openstack/rally"" DEVSTACK_LOCAL_CONFIG+=$'\n'""CINDER_ENABLE_V1_API=True"" DEVSTACK_LOCAL_CONFIG+=$'\n'""IDENTITY_API_VERSION=$IDENTITY_API_VERSION"" ENABLED_SERVICES=key,horizon, ENABLED_SERVICES+=cinder,c-api,c-vol,c-sch,c-bak, ENABLED_SERVICES+=g-api,g-reg, ENABLED_SERVICES+=n-api,n-crt,n-cpu,n-sch,n-cond, ENABLED_SERVICES+=q-qos, if [ $DEVSTACK_GATE_SWIFT -eq 1 ]; then ENABLED_SERVICES+=s-proxy,s-account,s-container,s-object, else export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-account"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-container"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-object"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service s-proxy"" fi if [ $DEVSTACK_GATE_HEAT -ne 0 ]; then export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin heat https://git.openstack.org/openstack/heat"" fi export PROJECTS=""openstack/neutron $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron git://git.openstack.org/openstack/neutron"" if [ $DEVSTACK_GATE_NEUTRON_EXTENSIONS -ne 0 ]; then export PROJECTS=""openstack/neutron-lbaas $PROJECTS"" export PROJECTS=""openstack/octavia $PROJECTS"" export PROJECTS=""openstack/neutron-fwaas $PROJECTS"" export PROJECTS=""openstack/diskimage-builder $PROJECTS"" export PROJECTS=""openstack/tripleo-image-elements $PROJECTS"" export PROJECTS=""openstack/neutron-vpnaas $PROJECTS"" export PROJECTS=""openstack/networking-bgpvpn $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron-lbaas git://git.openstack.org/openstack/neutron-lbaas"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin octavia https://git.openstack.org/openstack/octavia"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron-fwaas https://git.openstack.org/openstack/neutron-fwaas"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron-vpnaas https://git.openstack.org/openstack/neutron-vpnaas"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin networking-bgpvpn https://git.openstack.org/openstack/networking-bgpvpn.git"" export ENABLED_SERVICES+=q-lbaasv2,octavia,o-cw,o-hk,o-hm,o-api,q-fwaas,q-svc,q-agt,q-dhcp,q-l3,q-meta, fi if [ $DEVSTACK_GATE_IRONIC -ne 0 ]; then export PROJECTS=""openstack/ironic $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin ironic git://git.openstack.org/openstack/ironic"" fi if [ $DEVSTACK_GATE_ZAQAR -ne 0 ]; then export PROJECTS=""openstack/python-zaqarclient $PROJECTS"" export PROJECTS=""openstack/zaqar-ui $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin zaqar git://git.openstack.org/openstack/zaqar"" fi if [ $DEVSTACK_GATE_SENLIN -ne 0 ]; then export PROJECTS=""openstack/senlin $PROJECTS"" export PROJECTS=""openstack/python-senlinclient $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin senlin git://git.openstack.org/openstack/senlin"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_service sl-api sl-eng"" fi if [ $DEVSTACK_GATE_WATCHER -ne 0 ]; then export PROJECTS=""openstack/watcher $PROJECTS"" export PROJECTS=""openstack/python-watcherclient $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin watcher git://git.openstack.org/openstack/watcher"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_service watcher-api watcher-decision-engine watcher-applier"" fi if [ $DEVSTACK_GATE_MAGNUM -ne 0 ]||[ $RALLY_SCENARIO = ""magnum"" ]; then export PROJECTS=""openstack/magnum $PROJECTS"" export PROJECTS=""openstack/python-magnumclient $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin magnum https://git.openstack.org/openstack/magnum"" fi if [ $DEVSTACK_GATE_TELEMETRY -ne 0 ]; then export PROJECTS=""openstack/panko $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin panko git://git.openstack.org/openstack/panko"" export ENABLED_SERVICES+=panko-api, export PROJECTS=""openstack/ceilometer $PROJECTS"" export PROJECTS=""openstack/aodh $PROJECTS"" export PROJECTS=""openstack/gnocchi $PROJECTS"" export CEILOMETER_NOTIFICATION_TOPICS=notifications,profiler export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin ceilometer git://git.openstack.org/openstack/ceilometer"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin aodh git://git.openstack.org/openstack/aodh"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin gnocchi git://git.openstack.org/openstack/gnocchi"" export ENABLED_SERVICES+=ceilometer-acompute,ceilometer-acentral,ceilometer-api, export ENABLED_SERVICES+=ceilometer-anotification,ceilometer-collector, export ENABLED_SERVICES+=aodh-api,aodh-evaluator,aodh-notifier, fi export ENABLED_SERVICES export DEVSTACK_LOCAL_CONFIG if [[ ""$ZUUL_PROJECT"" = ""openstack/neutron"" ]]; then function gate_hook { bash -xe $BASE/new/neutron/neutron/tests/contrib/gate_hook.sh rally cinder } export -f gate_hook fi function post_test_hook { $BASE/new/rally/tests/ci/rally-gate.sh } export -f post_test_hook if [[ ""$DEVSTACK_GATE_USE_PYTHON3"" = ""True"" ]]; then # Switch off glance->swift communication as swift fails under py3.x function pre_test_hook { local localconf=$BASE/new/devstack/local.conf echo ""[[post-config|\$GLANCE_API_CONF]]"" >> $localconf echo ""[glance_store]"" >> $localconf echo ""default_store=file"" >> $localconf } export -f pre_test_hook fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,494
openstack%2Fproject-config~master~I01dfa1f939181f63e82f8001008c5c9fb89ab866,openstack/project-config,master,I01dfa1f939181f63e82f8001008c5c9fb89ab866,Import ansible-role-tripleo-modify-image,MERGED,2018-05-16 02:35:02.000000000,2018-05-24 04:27:40.000000000,2018-05-24 04:27:40.000000000,"[{'_account_id': 1}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 02:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/dfe1e9f4d54e9d8033482b0d9196168400c6e073', 'message': 'Import ansible-role-tripleo-modify-image\n\nThis role provides a general mechanism to modify existing container\nimages before or during a TripleO deployment. The main target use\ncases are:\n- during CI to refresh image packages to test changes\n- developer workflows to include code being developed\n- third party plugin inclusion to existing images\n\nChange-Id: I01dfa1f939181f63e82f8001008c5c9fb89ab866\n'}, {'number': 2, 'created': '2018-05-16 02:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ef6077fcddf323662c0a20f8f79089212ef0f53d', 'message': 'Import ansible-role-tripleo-modify-image\n\nThis role provides a general mechanism to modify existing container\nimages before or during a TripleO deployment. The main target use\ncases are:\n- during CI to refresh image packages to test changes\n- developer workflows to include code being developed\n- third party plugin inclusion to existing images\n\nChange-Id: I01dfa1f939181f63e82f8001008c5c9fb89ab866\n'}, {'number': 3, 'created': '2018-05-16 02:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2e980d27867f109c5feaa1cc7fca87bd71c3a926', 'message': 'Import ansible-role-tripleo-modify-image\n\nThis role provides a general mechanism to modify existing container\nimages before or during a TripleO deployment. The main target use\ncases are:\n- during CI to refresh image packages to test changes\n- developer workflows to include code being developed\n- third party plugin inclusion to existing images\n\nChange-Id: I01dfa1f939181f63e82f8001008c5c9fb89ab866\nNeeded-By: I13c24af42b765b3dd91abe470d7e23a34540b340\n'}, {'number': 4, 'created': '2018-05-16 02:54:32.000000000', 'files': ['gerrit/acls/openstack/ansible-role-tripleo-modify-image.config', 'gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f0d63b82f8c9ff62ca93b16aab636036168506db', 'message': 'Import ansible-role-tripleo-modify-image\n\nThis role provides a general mechanism to modify existing container\nimages before or during a TripleO deployment. The main target use\ncases are:\n- during CI to refresh image packages to test changes\n- developer workflows to include code being developed\n- third party plugin inclusion to existing images\n\nChange-Id: I01dfa1f939181f63e82f8001008c5c9fb89ab866\nNeeded-By: I13c24af42b765b3dd91abe470d7e23a34540b340\n'}]",0,568726,f0d63b82f8c9ff62ca93b16aab636036168506db,17,9,4,4571,,,0,"Import ansible-role-tripleo-modify-image

This role provides a general mechanism to modify existing container
images before or during a TripleO deployment. The main target use
cases are:
- during CI to refresh image packages to test changes
- developer workflows to include code being developed
- third party plugin inclusion to existing images

Change-Id: I01dfa1f939181f63e82f8001008c5c9fb89ab866
Needed-By: I13c24af42b765b3dd91abe470d7e23a34540b340
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/568726/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/ansible-role-tripleo-modify-image.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",4,dfe1e9f4d54e9d8033482b0d9196168400c6e073,new-project, - openstack/ansible-role-tripleo-modify-image,,17,0
openstack%2Fproject-config~master~I34287ba0586e78cf381c67c006be007473fd2201,openstack/project-config,master,I34287ba0586e78cf381c67c006be007473fd2201,Add system-required template for ansible-role-tripleo-keystone,MERGED,2018-04-27 16:10:40.000000000,2018-05-24 04:20:35.000000000,2018-05-24 04:20:35.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 16:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9d5ff592ac8824771a1f564afc0bb5b75c716b05', 'message': 'Add system-required template for tripleo-role-keystone\n\nAdd system-required tempalte for new repo - tripleo-role-keystone\n\nChange-Id: I34287ba0586e78cf381c67c006be007473fd2201\n'}, {'number': 2, 'created': '2018-05-02 17:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3be809bb04955c5d9a626b2398ab3054e4fb8b45', 'message': 'Add system-required template for ansible-role-tripleo-keystone\n\nAdd system-required tempalte for new repo -\nansible-role-tripleo-keystone\n\nChange-Id: I34287ba0586e78cf381c67c006be007473fd2201\n'}, {'number': 3, 'created': '2018-05-07 19:25:14.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f241ab0a39c0658b9f9838b33c40f56aa59daae0', 'message': 'Add system-required template for ansible-role-tripleo-keystone\n\nAdd system-required tempalte for new repo -\nansible-role-tripleo-keystone\n\nChange-Id: I34287ba0586e78cf381c67c006be007473fd2201\nNeeded-By: Iae44a6c87f92b21b9385773f75c8d9cbb6699f83\n'}]",1,564823,f241ab0a39c0658b9f9838b33c40f56aa59daae0,14,4,3,27427,,,0,"Add system-required template for ansible-role-tripleo-keystone

Add system-required tempalte for new repo -
ansible-role-tripleo-keystone

Change-Id: I34287ba0586e78cf381c67c006be007473fd2201
Needed-By: Iae44a6c87f92b21b9385773f75c8d9cbb6699f83
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/564823/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,9d5ff592ac8824771a1f564afc0bb5b75c716b05,new-project, name: openstack/tripleo-role-keystone templates: - system-required - project:,,5,0
openstack%2Fneutron-fwaas~master~Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f,openstack/neutron-fwaas,master,Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f,add missing __init__.py file for alembic,MERGED,2017-10-30 14:22:34.000000000,2018-05-24 03:36:28.000000000,2018-05-24 03:36:28.000000000,"[{'_account_id': 10850}, {'_account_id': 12860}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-30 14:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/c45d1eb25452734a5d7b38fd48ea1703912323ae', 'message': 'add missing __init__.py file for alembic\n\nChange-Id: Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f\n'}, {'number': 2, 'created': '2017-12-04 05:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/dab706f406dae202ed01807aae672cb4e6b2aab6', 'message': 'add missing __init__.py file for alembic\n\nChange-Id: Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f\n'}, {'number': 3, 'created': '2018-01-08 15:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5d2dcd73b84c44fb127cb27985b1511fdd39a6b0', 'message': 'add missing __init__.py file for alembic\n\nChange-Id: Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f\n'}, {'number': 4, 'created': '2018-05-20 20:06:49.000000000', 'files': ['neutron_fwaas/db/migration/alembic_migrations/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/636d90903cef3dcc69b95265f131b844bec9c1d6', 'message': 'add missing __init__.py file for alembic\n\nChange-Id: Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f\n'}]",0,516330,636d90903cef3dcc69b95265f131b844bec9c1d6,17,4,4,7888,,,0,"add missing __init__.py file for alembic

Change-Id: Ic81a48aa784684a7486ecfb2a7aa9757be2bd55f
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/30/516330/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/migration/alembic_migrations/__init__.py'],1,c45d1eb25452734a5d7b38fd48ea1703912323ae,,,,0,0
openstack%2Fpython-manilaclient~master~I926defd6c5d3b8d87b038e2c63db694b40a88359,openstack/python-manilaclient,master,I926defd6c5d3b8d87b038e2c63db694b40a88359,allow '--help' to print subcomands info,MERGED,2018-05-14 10:57:14.000000000,2018-05-24 03:27:05.000000000,2018-05-24 03:27:05.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 13984}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25456}]","[{'number': 1, 'created': '2018-05-14 10:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a1d982c91e35bc53a816e0c232badc05b4dfb2eb', 'message': ""allow '--help' to print subcomands info\n\nCurrently, we only allow $manila help subcomand to print\nsubcomands info, if we are using $manila subcomand --help,\nit will print all the subcomands info, that is not what we\nwant, this change is to allow '--help' to print subcomands\ninfo. finally we can see the following comands are equals:\n\n$ manila --help list\n$ manila list --help\n$ manila help list\n\nChange-Id: I926defd6c5d3b8d87b038e2c63db694b40a88359\nClose-bug: #1771097\n""}, {'number': 2, 'created': '2018-05-14 11:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/abc7cc0fea900ac85fdc5abade376af3c51a8ee7', 'message': ""allow '--help' to print subcomands info\n\nCurrently, we only allow $manila help subcomand to print\nsubcomands info, if we are using $manila subcomand --help,\nit will print all the subcomands info, that is not what we\nwant, this change is to allow '--help' to print subcomands\ninfo. finally we can see the following comands are equals:\n\n$ manila --help list\n$ manila list --help\n$ manila help list\n\nChange-Id: I926defd6c5d3b8d87b038e2c63db694b40a88359\nClose-bug: #1771097\n""}, {'number': 3, 'created': '2018-05-23 00:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/14a8843fc926a24c1b910a25d31346b6e9e47b02', 'message': ""allow '--help' to print subcomands info\n\nCurrently, we only allow $manila help subcomand to print\nsubcomands info, if we are using $manila subcomand --help,\nit will print all the subcomands info, that is not what we\nwant, this change is to allow '--help' to print subcomands\ninfo. finally we can see the following comands are equals:\n\n$ manila --help list\n$ manila list --help\n$ manila help list\n\nChange-Id: I926defd6c5d3b8d87b038e2c63db694b40a88359\nClose-bug: #1771097\n""}, {'number': 4, 'created': '2018-05-23 00:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c936bd91a34843864371d7289c4491e14f946e22', 'message': ""allow '--help' to print subcomands info\n\nCurrently, we only allow $manila help subcomand to print\nsubcomands info, if we are using $manila subcomand --help,\nit will print all the subcomands info, that is not what we\nwant, this change is to allow '--help' to print subcomands\ninfo. finally we can see the following comands are equals:\n\n$ manila --help list\n$ manila list --help\n$ manila help list\n\nChange-Id: I926defd6c5d3b8d87b038e2c63db694b40a88359\nClose-bug: #1771097\n""}, {'number': 5, 'created': '2018-05-23 02:34:42.000000000', 'files': ['manilaclient/tests/unit/test_shell.py', 'manilaclient/shell.py', 'releasenotes/notes/add-dash-dash-help-subcomand-ad4226454aa07bc6.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b0b08cc65007180a750fe1bc38e1bc26d4e899f9', 'message': ""allow '--help' to print subcomands info\n\nCurrently, we only allow $manila help subcomand to print\nsubcomands info, if we are using $manila subcomand --help,\nit will print all the subcomands info, that is not what we\nwant, this change is to allow '--help' to print subcomands\ninfo. finally we can see the following comands are equals:\n\n$ manila --help list\n$ manila list --help\n$ manila help list\n\nChange-Id: I926defd6c5d3b8d87b038e2c63db694b40a88359\nClose-bug: #1771097\n""}]",2,568261,b0b08cc65007180a750fe1bc38e1bc26d4e899f9,19,7,5,25456,,,0,"allow '--help' to print subcomands info

Currently, we only allow $manila help subcomand to print
subcomands info, if we are using $manila subcomand --help,
it will print all the subcomands info, that is not what we
want, this change is to allow '--help' to print subcomands
info. finally we can see the following comands are equals:

$ manila --help list
$ manila list --help
$ manila help list

Change-Id: I926defd6c5d3b8d87b038e2c63db694b40a88359
Close-bug: #1771097
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/61/568261/5 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/test_shell.py', 'manilaclient/shell.py']",2,a1d982c91e35bc53a816e0c232badc05b4dfb2eb,bug/1771097, if argv and len(argv) > 1 and '--help' in argv: argv = [x for x in argv if x != '--help'] if argv[0] in self.subcommands: self.subcommands[argv[0]].print_help() return 0 ,,9,2
openstack%2Fneutron-fwaas~master~I18c4a12388639d222557d07f8095c3555c29eaa3,openstack/neutron-fwaas,master,I18c4a12388639d222557d07f8095c3555c29eaa3,Fix python3 dict values breakage,MERGED,2018-04-10 07:44:47.000000000,2018-05-24 03:12:47.000000000,2018-05-24 03:12:47.000000000,"[{'_account_id': 6995}, {'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 17776}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 24441}, {'_account_id': 26721}]","[{'number': 1, 'created': '2018-04-10 07:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/3ba7b7fd11847fcb27a7f13f0b83f96f22c6c27b', 'message': 'Fix python3 dict values breakage\n\nChange-Id: I18c4a12388639d222557d07f8095c3555c29eaa3\n'}, {'number': 2, 'created': '2018-04-19 00:58:59.000000000', 'files': ['neutron_fwaas/tests/tempest_plugin/tests/scenario/test_fwaas.py', 'neutron_fwaas/tests/tempest_plugin/tests/scenario/test_fwaas_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/87442ec2d047b6db0132e681ded1ed469f0eadfd', 'message': 'Fix python3 dict values breakage\n\nChange-Id: I18c4a12388639d222557d07f8095c3555c29eaa3\n'}]",0,559941,87442ec2d047b6db0132e681ded1ed469f0eadfd,17,9,2,26721,,,0,"Fix python3 dict values breakage

Change-Id: I18c4a12388639d222557d07f8095c3555c29eaa3
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/41/559941/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/tempest_plugin/tests/scenario/test_fwaas.py', 'neutron_fwaas/tests/tempest_plugin/tests/scenario/test_fwaas_v2.py']",2,3ba7b7fd11847fcb27a7f13f0b83f96f22c6c27b,, fixed_ip = list(server['addresses'].values())[0][0]['addr'], fixed_ip = server['addresses'].values()[0][0]['addr'],2,2
openstack%2Fneutron~stable%2Fqueens~I942e1a5072ce111beb94ffd6298bb3e23e2bb343,openstack/neutron,stable/queens,I942e1a5072ce111beb94ffd6298bb3e23e2bb343,Fix delete vlan allocation error for ML2,MERGED,2018-05-18 00:54:33.000000000,2018-05-24 02:35:22.000000000,2018-05-24 02:35:22.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23430}]","[{'number': 1, 'created': '2018-05-18 00:54:33.000000000', 'files': ['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bfbfdbb3db4daf815da6d1a16706f2eec0a2e35', 'message': 'Fix delete vlan allocation error for ML2\n\nMethod ""delete()"" of ovo object should be invoked.\nCloses-bug: #1743425\nChange-Id: I942e1a5072ce111beb94ffd6298bb3e23e2bb343\n(cherry picked from commit 6c4bc1cf0585bdbe3701e0a2a87659881f5b1c73)\n'}]",0,569295,6bfbfdbb3db4daf815da6d1a16706f2eec0a2e35,21,7,1,2592,,,0,"Fix delete vlan allocation error for ML2

Method ""delete()"" of ovo object should be invoked.
Closes-bug: #1743425
Change-Id: I942e1a5072ce111beb94ffd6298bb3e23e2bb343
(cherry picked from commit 6c4bc1cf0585bdbe3701e0a2a87659881f5b1c73)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/569295/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py']",2,6bfbfdbb3db4daf815da6d1a16706f2eec0a2e35,bug/1743284-stable/queens,"EMPTY_VLAN_RANGES = { PROVIDER_NET: [] } self.driver.network_vlan_ranges = EMPTY_VLAN_RANGES self.driver._sync_vlan_allocations() vlan_min, vlan_max = UPDATED_VLAN_RANGES[TENANT_NET][0] segment = {api.NETWORK_TYPE: p_const.TYPE_VLAN, api.PHYSICAL_NETWORK: TENANT_NET} segment[api.SEGMENTATION_ID] = vlan_min self.assertIsNone( self._get_allocation(self.context, segment)) segment[api.SEGMENTATION_ID] = vlan_max self.assertIsNone( self._get_allocation(self.context, segment)) ",,17,1
openstack%2Fpuppet-barbican~master~Ie56580c1f1980ed52bb2d390143767c416c4ba19,openstack/puppet-barbican,master,Ie56580c1f1980ed52bb2d390143767c416c4ba19,Remove deprecated parameters,MERGED,2018-05-19 21:58:27.000000000,2018-05-24 02:31:32.000000000,2018-05-24 02:31:32.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-19 21:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/60b6d16985a341d5e17c23efcaf625f416f163c8', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: Ie56580c1f1980ed52bb2d390143767c416c4ba19\n'}, {'number': 2, 'created': '2018-05-20 00:09:19.000000000', 'files': ['spec/classes/barbican_api_spec.rb', 'manifests/api.pp', 'releasenotes/notes/barbican-remove-deprecated-325f3a73e4f58e7b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/9d6f124480d2a43482a24e0e3f467f2473c07bf2', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: Ie56580c1f1980ed52bb2d390143767c416c4ba19\n'}]",0,569607,9d6f124480d2a43482a24e0e3f467f2473c07bf2,9,3,2,16137,,,0,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: Ie56580c1f1980ed52bb2d390143767c416c4ba19
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/07/569607/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/barbican_api_spec.rb', 'manifests/api.pp', 'releasenotes/notes/barbican-remove-deprecated-325f3a73e4f58e7b.yaml']",3,60b6d16985a341d5e17c23efcaf625f416f163c8,,"--- upgrade: - | The deprecated parameters barbican::api::rabbit_host, barbican::api::rabbit_hosts, barbican::api::rabbit_password, barbican::api::rabbit_port, barbican::api::rabbit_userid and barbican::api::rabbit_virtual_host is removed. Please use barbican::api::default_transport_url. - | The deprecated parameter barbican::api::rpc_backend is removed. ",,9,63
openstack%2Fproject-config~master~Ib2895a479cb005ab9081e1620386c605604d9a68,openstack/project-config,master,Ib2895a479cb005ab9081e1620386c605604d9a68,Add python-pqclient project,ABANDONED,2017-12-13 07:33:49.000000000,2018-05-24 02:25:50.000000000,,"[{'_account_id': 6547}, {'_account_id': 13294}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-13 07:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8cfadc3bd1c48149eba4c12d92f5d1202662591d', 'message': 'Add python-pqclient project\n\nChange-Id: Ib2895a479cb005ab9081e1620386c605604d9a68\n'}, {'number': 2, 'created': '2017-12-13 08:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/32d63ab68c0748a05128abd77ecc42d7daa4fb32', 'message': 'Add python-pqclient project\n\nChange-Id: Ib2895a479cb005ab9081e1620386c605604d9a68\n'}, {'number': 3, 'created': '2017-12-13 08:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a68adf9dd000ddb808887d831eac749027c756df', 'message': 'Add python-pqclient project\n\nChange-Id: Ib2895a479cb005ab9081e1620386c605604d9a68\n'}, {'number': 4, 'created': '2017-12-14 08:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/706423c86f11ad629485e5434f179dfb9d4c5dbd', 'message': 'Add python-pqclient project\n\nChange-Id: Ib2895a479cb005ab9081e1620386c605604d9a68\n'}, {'number': 5, 'created': '2017-12-20 05:42:46.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b5be06e448940b09c31528c104ce63dbac3db02c', 'message': 'Add python-pqclient project\n\npython-pqclient is a kind of deploy driver for openstack/ironic. This\nrepository provides client library for Fujitsu PRIMEQUEST MMB[1].\n\n[1] https://specs.openstack.org/openstack/ironic-specs/specs/not-implemented/support-fujitsu-pq-mmb-driver.html\nChange-Id: Ib2895a479cb005ab9081e1620386c605604d9a68\n'}]",1,527612,b5be06e448940b09c31528c104ce63dbac3db02c,22,4,5,13702,,,0,"Add python-pqclient project

python-pqclient is a kind of deploy driver for openstack/ironic. This
repository provides client library for Fujitsu PRIMEQUEST MMB[1].

[1] https://specs.openstack.org/openstack/ironic-specs/specs/not-implemented/support-fujitsu-pq-mmb-driver.html
Change-Id: Ib2895a479cb005ab9081e1620386c605604d9a68
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/527612/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/python-pqclient.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,8cfadc3bd1c48149eba4c12d92f5d1202662591d,new-project, - openstack/python-pqclient,,19,0
openstack%2Fproject-config~master~Ic13d737d912579c6190d3cd21ad1616f14b5f1a7,openstack/project-config,master,Ic13d737d912579c6190d3cd21ad1616f14b5f1a7,Add jobs for python-pqclient,ABANDONED,2017-12-13 07:46:24.000000000,2018-05-24 02:24:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2017-12-13 07:46:24.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bffb110e38b0550968f3dcd5058b08a7c0d8b502', 'message': 'Add jobs for python-pqclient\n\nChange-Id: Ic13d737d912579c6190d3cd21ad1616f14b5f1a7\n'}]",0,527620,bffb110e38b0550968f3dcd5058b08a7c0d8b502,3,1,1,13702,,,0,"Add jobs for python-pqclient

Change-Id: Ic13d737d912579c6190d3cd21ad1616f14b5f1a7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/527620/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,bffb110e38b0550968f3dcd5058b08a7c0d8b502,new-project, name: openstack/python-pqclient templates: - system-required - project:,,5,0
openstack%2Fpuppet-cloudkitty~master~Ibc71014168a445bcebf322de7e0cbeb25325ed90,openstack/puppet-cloudkitty,master,Ibc71014168a445bcebf322de7e0cbeb25325ed90,[DNM] test,ABANDONED,2018-05-24 01:54:28.000000000,2018-05-24 02:22:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-24 01:54:28.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/be4359104502339c56eb44b53ed429a4486ff8c4', 'message': '[DNM] test\n\nChange-Id: Ibc71014168a445bcebf322de7e0cbeb25325ed90\n'}]",0,570288,be4359104502339c56eb44b53ed429a4486ff8c4,3,1,1,9414,,,0,"[DNM] test

Change-Id: Ibc71014168a445bcebf322de7e0cbeb25325ed90
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/88/570288/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,be4359104502339c56eb44b53ed429a4486ff8c4,master, 'fetcher/backend': value => $tenant_fetcher_backend;, 'tenant_fetcher/backend': value => $tenant_fetcher_backend;,1,1
openstack%2Foctavia~master~Id88a612fcdb84186e7da6b02b85ab00e3289052e,openstack/octavia,master,Id88a612fcdb84186e7da6b02b85ab00e3289052e,Add coverage.xml output for PTI compliance,MERGED,2018-05-23 17:07:54.000000000,2018-05-24 02:08:12.000000000,2018-05-24 02:08:12.000000000,"[{'_account_id': 2245}, {'_account_id': 10850}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-05-23 17:07:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5a780519b4f7aaa1a23e029fe07579b031dfad76', 'message': 'Add coverage.xml output for PTI compliance\n\nThe OpenStack Python testing interface specifies that coverage jobs\nare required to output a coverage.xml[1]. This patch adds that output.\n\n[1] https://governance.openstack.org/tc/reference/pti/python.html \\\n    #coverage-jobs\n\nChange-Id: Id88a612fcdb84186e7da6b02b85ab00e3289052e\n'}]",0,570239,5a780519b4f7aaa1a23e029fe07579b031dfad76,8,4,1,11628,,,0,"Add coverage.xml output for PTI compliance

The OpenStack Python testing interface specifies that coverage jobs
are required to output a coverage.xml[1]. This patch adds that output.

[1] https://governance.openstack.org/tc/reference/pti/python.html \
    #coverage-jobs

Change-Id: Id88a612fcdb84186e7da6b02b85ab00e3289052e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/39/570239/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5a780519b4f7aaa1a23e029fe07579b031dfad76,, coverage xml -o cover/coverage.xml,,1,0
openstack%2Fneutron~master~I1ec56c57f87218520c2080c0b3450f1eabc13224,openstack/neutron,master,I1ec56c57f87218520c2080c0b3450f1eabc13224,Fixed PortBindingLevelDbObjectTestCase,MERGED,2018-05-07 21:59:11.000000000,2018-05-24 02:01:23.000000000,2018-05-24 02:01:22.000000000,"[{'_account_id': 4694}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 17491}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-07 21:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd549ba988161bfa7e5fe239276d1b111322f6f8', 'message': 'WIP Fixed PortBindingLevelDbObjectTestCase\n\nThe test class was not inheriting from testlib_api.SqlTestCase which means that\nthe test cases were never executed.\n\nChange-Id: I1ec56c57f87218520c2080c0b3450f1eabc13224\n'}, {'number': 2, 'created': '2018-05-07 22:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/580235127e116c5f4ab58d46c80ef3d27cdfa62d', 'message': 'WIP Fixed PortBindingLevelDbObjectTestCase\n\nThe test class was not inheriting from testlib_api.SqlTestCase which means that\nthe test cases were never executed.\n\nChange-Id: I1ec56c57f87218520c2080c0b3450f1eabc13224\n'}, {'number': 3, 'created': '2018-05-10 04:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4519b7525dc2dda0eaa2106ef3f16c4a4293f3f1', 'message': 'WIP Fixed PortBindingLevelDbObjectTestCase\n\nThe test class was not inheriting from testlib_api.SqlTestCase which means that\nthe test cases were never executed.\n\nChange-Id: I1ec56c57f87218520c2080c0b3450f1eabc13224\n'}, {'number': 4, 'created': '2018-05-15 22:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3f85b43327c22d099efed9325554725989e9587', 'message': ""Fixed PortBindingLevelDbObjectTestCase\n\nThe test class was not inheriting from testlib_api.SqlTestCase which means that\nthe test cases were never executed.\n\nOnce it was executed, it became obvious that the object has an issue with SQL\nquery scalability. Specifically, it was failing the\ntest_get_objects_queries_constant test case that validates that the number of\nqueries to fetch a single object is the same as for multiple objects. This\nhappens because PortBindingLevel's 'segment' synthetic field is not constructed\nfrom db model relationship but through issuing a get_object OVO call that\ntriggers a query per fetched PortBindingLevel object.\n\nTo fix the issue, the patch added a new 'segment' relationship to\nPortBindingLevel db model, and made OVO use attributes from the relationship to\nconstruct 'segment' synthetic field.\n\nAnother issue revealed by enabling the test class is that foreign_key\ndefinition for the 'segment' synthetic field located in NetworkSegment object\nrefers to 'segment_id' field but the field with this name is not defined on\nPortBindingLevel object. The easiest thing we can do to resolve the discrepancy\nis adding the 'segment_id' UUID typed field to PortBindingLevel, which is what\nthe patch does. (An alternative could be hacking our way around the lack of the\nfield, building another layer of complexity in the base OVO class for this\nspecial case; I figured it's probably counterproductive, and we can live with\n'segment_id' field even though it's arguably somewhat redundant - 'segment'\nobject field already carries the ID.)\n\nAdding a new field to PortBindingLevel object means that we need to bump its\nversion, as well as versions of all objects that use the newly modified field\ntype for their own fields. The only object that refers to the type is Port.\nThat's why we also bump the version of Port object. To make older agents that\nuse RPC callbacks work with the change, we also provide corresponding\nobj_make_compatible methods for both Port and PortBindingLevel objects.\n\nChange-Id: I1ec56c57f87218520c2080c0b3450f1eabc13224\n""}, {'number': 5, 'created': '2018-05-15 22:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ee93365be37be90c798628a647d782529250352', 'message': ""Fixed PortBindingLevelDbObjectTestCase\n\nThe test class was not inheriting from testlib_api.SqlTestCase which\nmeans that the test cases were never executed.\n\nOnce it was executed, it became obvious that the object has an issue\nwith SQL query scalability. Specifically, it was failing the\ntest_get_objects_queries_constant test case that validates that the\nnumber of queries to fetch a single object is the same as for multiple\nobjects. This happens because PortBindingLevel's 'segment' synthetic\nfield is not constructed from db model relationship but through issuing\na get_object OVO call that triggers a query per fetched PortBindingLevel\nobject.\n\nTo fix the issue, the patch added a new 'segment' relationship to\nPortBindingLevel db model, and made OVO use attributes from the\nrelationship to construct 'segment' synthetic field.\n\nAnother issue revealed by enabling the test class is that foreign_key\ndefinition for the 'segment' synthetic field located in NetworkSegment\nobject refers to 'segment_id' field but the field with this name is not\ndefined on PortBindingLevel object. The easiest thing we can do to\nresolve the discrepancy is adding the 'segment_id' UUID typed field to\nPortBindingLevel, which is what the patch does. (An alternative could be\nhacking our way around the lack of the field, building another layer of\ncomplexity in the base OVO class for this special case; I figured it's\nprobably counterproductive, and we can live with 'segment_id' field even\nthough it's arguably somewhat redundant - 'segment' object field already\ncarries the ID.)\n\nAdding a new field to PortBindingLevel object means that we need to bump\nits version, as well as versions of all objects that use the newly\nmodified field type for their own fields. The only object that refers to\nthe type is Port.  That's why we also bump the version of Port object.\nTo make older agents that use RPC callbacks work with the change, we\nalso provide corresponding obj_make_compatible methods for both Port and\nPortBindingLevel objects.\n\nChange-Id: I1ec56c57f87218520c2080c0b3450f1eabc13224\n""}, {'number': 6, 'created': '2018-05-17 01:26:34.000000000', 'files': ['neutron/plugins/ml2/models.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/objects/ports.py', 'neutron/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b74af5ff65f535a23cac29a3d28d2c435de02036', 'message': ""Fixed PortBindingLevelDbObjectTestCase\n\nThe test class was not inheriting from testlib_api.SqlTestCase which\nmeans that the test cases were never executed.\n\nOnce it was executed, it became obvious that the object has an issue\nwith SQL query scalability. Specifically, it was failing the\ntest_get_objects_queries_constant test case that validates that the\nnumber of queries to fetch a single object is the same as for multiple\nobjects. This happens because PortBindingLevel's 'segment' synthetic\nfield is not constructed from db model relationship but through issuing\na get_object OVO call that triggers a query per fetched PortBindingLevel\nobject.\n\nTo fix the issue, the patch added a new 'segment' relationship to\nPortBindingLevel db model, and made OVO use attributes from the\nrelationship to construct 'segment' synthetic field.\n\nAnother issue revealed by enabling the test class is that foreign_key\ndefinition for the 'segment' synthetic field located in NetworkSegment\nobject refers to 'segment_id' field but the field with this name is not\ndefined on PortBindingLevel object. The easiest thing we can do to\nresolve the discrepancy is adding the 'segment_id' UUID typed field to\nPortBindingLevel, which is what the patch does. (An alternative could be\nhacking our way around the lack of the field, building another layer of\ncomplexity in the base OVO class for this special case; I figured it's\nprobably counterproductive, and we can live with 'segment_id' field even\nthough it's arguably somewhat redundant - 'segment' object field already\ncarries the ID.)\n\nAdding a new field to PortBindingLevel object means that we need to bump\nits version, as well as versions of all objects that use the newly\nmodified field type for their own fields. The only object that refers to\nthe type is Port.  That's why we also bump the version of Port object.\nTo make older agents that use RPC callbacks work with the change, we\nalso provide corresponding obj_make_compatible methods for both Port and\nPortBindingLevel objects.\n\nChange-Id: I1ec56c57f87218520c2080c0b3450f1eabc13224\n""}]",3,566750,b74af5ff65f535a23cac29a3d28d2c435de02036,35,12,6,9656,,,0,"Fixed PortBindingLevelDbObjectTestCase

The test class was not inheriting from testlib_api.SqlTestCase which
means that the test cases were never executed.

Once it was executed, it became obvious that the object has an issue
with SQL query scalability. Specifically, it was failing the
test_get_objects_queries_constant test case that validates that the
number of queries to fetch a single object is the same as for multiple
objects. This happens because PortBindingLevel's 'segment' synthetic
field is not constructed from db model relationship but through issuing
a get_object OVO call that triggers a query per fetched PortBindingLevel
object.

To fix the issue, the patch added a new 'segment' relationship to
PortBindingLevel db model, and made OVO use attributes from the
relationship to construct 'segment' synthetic field.

Another issue revealed by enabling the test class is that foreign_key
definition for the 'segment' synthetic field located in NetworkSegment
object refers to 'segment_id' field but the field with this name is not
defined on PortBindingLevel object. The easiest thing we can do to
resolve the discrepancy is adding the 'segment_id' UUID typed field to
PortBindingLevel, which is what the patch does. (An alternative could be
hacking our way around the lack of the field, building another layer of
complexity in the base OVO class for this special case; I figured it's
probably counterproductive, and we can live with 'segment_id' field even
though it's arguably somewhat redundant - 'segment' object field already
carries the ID.)

Adding a new field to PortBindingLevel object means that we need to bump
its version, as well as versions of all objects that use the newly
modified field type for their own fields. The only object that refers to
the type is Port.  That's why we also bump the version of Port object.
To make older agents that use RPC callbacks work with the change, we
also provide corresponding obj_make_compatible methods for both Port and
PortBindingLevel objects.

Change-Id: I1ec56c57f87218520c2080c0b3450f1eabc13224
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/566750/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/objects/test_ports.py'],1,dd549ba988161bfa7e5fe239276d1b111322f6f8,bp/adopt-oslo-versioned-objects-for-db," obj_test_base.BaseDbObjectTestCase, testlib_api.SqlTestCase): def setUp(self): super(PortBindingLevelDbObjectTestCase, self).setUp() self.update_obj_fields( {'port_id': lambda: self._create_test_port_id()}) ", obj_test_base.BaseDbObjectTestCase):,6,1
openstack%2Fpython-neutronclient~stable%2Fpike~Ib98ea9e423338c3ebc9b697d74574866008d36e6,openstack/python-neutronclient,stable/pike,Ib98ea9e423338c3ebc9b697d74574866008d36e6,Fix Pike gates,MERGED,2018-04-19 11:00:46.000000000,2018-05-24 01:42:44.000000000,2018-05-24 01:42:44.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9542}, {'_account_id': 22348}, {'_account_id': 27560}]","[{'number': 1, 'created': '2018-04-19 11:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/5425966a213a2b3a8970ecc675c1bba66af5184b', 'message': 'Pin pycodestyle to <=2.3.1\n\n2.4.0 breaks pep8 tests on stable branches,\njust pin in to known working verison instead of style changes accross project.\n\nThis package is blacklisted in g-r so that each project can choose\nto enforce its own code style version.\n\nChange-Id: Ib98ea9e423338c3ebc9b697d74574866008d36e6\n'}, {'number': 2, 'created': '2018-04-20 11:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/11ca6a0510a2adee6b89a91a012b6e51a71df9f6', 'message': 'Pin pycodestyle to <=2.3.1\n\n2.4.0 breaks pep8 tests on stable branches,\njust pin in to known working verison instead of style changes accross project.\n\nThis package is blacklisted in g-r so that each project can choose\nto enforce its own code style version.\n\nChange-Id: Ib98ea9e423338c3ebc9b697d74574866008d36e6\n'}, {'number': 3, 'created': '2018-04-26 20:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/6affaafb25821750b008b3cb1b8006b446043b67', 'message': 'Pin pycodestyle to <=2.3.1\n\n2.4.0 breaks pep8 tests on stable branches,\njust pin in to known working verison instead of style changes accross project.\n\nThis package is blacklisted in g-r so that each project can choose\nto enforce its own code style version.\n\nAlso fix user used on CI to pass functional tests\n\nChange-Id: Ib98ea9e423338c3ebc9b697d74574866008d36e6\n'}, {'number': 4, 'created': '2018-04-27 12:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/ca1605d2d209493f547cc7b3b1e28ea57a6f1b8a', 'message': ""Fix Pike gates\n\nthis patch is a combined collection of a number of fixes:\n\n- use Zuul's CI user instead of hardcoded `jenkins`\n- compliy with new PTI re documentation building\n- Pin pycodestyle to <=2.3.1\n  2.4.0 breaks pep8 tests on stable branches,\n  just pin in to known working verison instead of style changes accross project.\n  This package is blacklisted in g-r so that each project can choose\n  to enforce its own code style version.\n\nChange-Id: Ib98ea9e423338c3ebc9b697d74574866008d36e6\n""}, {'number': 5, 'created': '2018-04-27 12:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/40c7a3952a7ced9878c44f294538bf32a480546c', 'message': ""Fix Pike gates\n\nthis patch is a combined collection of a number of fixes:\n\n- use Zuul's CI user instead of hardcoded `jenkins`\n- comply with new PTI re documentation building\n- Pin pycodestyle to <=2.3.1\n  2.4.0 breaks pep8 tests on stable branches,\n  just pin in to known working verison instead of style changes accross project.\n  This package is blacklisted in g-r so that each project can choose\n  to enforce its own code style version.\n\nChange-Id: Ib98ea9e423338c3ebc9b697d74574866008d36e6\n""}, {'number': 6, 'created': '2018-05-02 07:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/ae065a18356e50e1cc818ed8041affc5adf835ac', 'message': ""Fix Pike gates\n\nthis patch is a combined collection of a number of fixes:\n\n- use Zuul's CI user instead of hardcoded `jenkins`\n- comply with new PTI re documentation building\n- Pin pycodestyle to <=2.3.1\n  2.4.0 breaks pep8 tests on stable branches,\n  just pin in to known working verison instead of style changes accross project.\n  This package is blacklisted in g-r so that each project can choose\n  to enforce its own code style version.\n\nChange-Id: Ib98ea9e423338c3ebc9b697d74574866008d36e6\n""}, {'number': 7, 'created': '2018-05-02 07:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/ec9997c71a41520dfcdbca82c6aa321abc576c85', 'message': ""Fix Pike gates\n\nthis patch is a combined collection of a number of fixes:\n\n- use Zuul's CI user instead of hardcoded `jenkins`\n- comply with new PTI re documentation building\n- Pin pycodestyle to <=2.3.1\n  2.4.0 breaks pep8 tests on stable branches,\n  just pin in to known working verison instead of style changes accross project.\n  This package is blacklisted in g-r so that each project can choose\n  to enforce its own code style version.\n\nChange-Id: Ib98ea9e423338c3ebc9b697d74574866008d36e6\n""}, {'number': 8, 'created': '2018-05-03 06:54:48.000000000', 'files': ['tools/tox_install.sh', 'test-requirements.txt', 'neutronclient/tests/functional/hooks/post_test_hook.sh', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/0e0e408048755548f2f669e8e55f40e97106f0fe', 'message': ""Fix Pike gates\n\nthis patch is a combined collection of a number of fixes:\n\n- use Zuul's CI user instead of hardcoded `jenkins`\n- comply with new PTI re documentation building\n- Pin pycodestyle to <=2.3.1\n  2.4.0 breaks pep8 tests on stable branches,\n  just pin in to known working verison instead of style changes accross project.\n  This package is blacklisted in g-r so that each project can choose\n  to enforce its own code style version.\n- do not fail if pip has nothing to install inside a pre-built tox env\n\nChange-Id: Ib98ea9e423338c3ebc9b697d74574866008d36e6\n""}]",0,562553,0e0e408048755548f2f669e8e55f40e97106f0fe,23,6,8,9542,,,0,"Fix Pike gates

this patch is a combined collection of a number of fixes:

- use Zuul's CI user instead of hardcoded `jenkins`
- comply with new PTI re documentation building
- Pin pycodestyle to <=2.3.1
  2.4.0 breaks pep8 tests on stable branches,
  just pin in to known working verison instead of style changes accross project.
  This package is blacklisted in g-r so that each project can choose
  to enforce its own code style version.
- do not fail if pip has nothing to install inside a pre-built tox env

Change-Id: Ib98ea9e423338c3ebc9b697d74574866008d36e6
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/53/562553/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5425966a213a2b3a8970ecc675c1bba66af5184b,fix-pike,pycodestyle <= 2.3.1 ,,1,0
openstack%2Fneutron~master~Ie26870495719bb4d702be3fa3068440714edd3e9,openstack/neutron,master,Ie26870495719bb4d702be3fa3068440714edd3e9,Update ubuntu image used for testing,MERGED,2018-04-25 08:34:43.000000000,2018-05-24 01:42:28.000000000,2018-05-24 01:42:28.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-04-25 08:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34bb17a0d27a851607a50a8c6532c520cee69cdf', 'message': ""Update ubuntu image used for testing\n\nThe release we are using is more than a year old, let's update to a\nrecent release in order to make sure we stay up to date.\n\nChange-Id: Ie26870495719bb4d702be3fa3068440714edd3e9\n""}, {'number': 2, 'created': '2018-05-23 20:58:00.000000000', 'files': ['neutron/tests/contrib/hooks/ubuntu_image'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f722be0c80879bf562db5ec08efce04dd34b925', 'message': ""Update ubuntu image used for testing\n\nThe release we are using is more than a year old, let's update to a\nrecent release in order to make sure we stay up to date.\n\nChange-Id: Ie26870495719bb4d702be3fa3068440714edd3e9\n""}]",0,564132,4f722be0c80879bf562db5ec08efce04dd34b925,30,13,2,13252,,,0,"Update ubuntu image used for testing

The release we are using is more than a year old, let's update to a
recent release in order to make sure we stay up to date.

Change-Id: Ie26870495719bb4d702be3fa3068440714edd3e9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/564132/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/contrib/hooks/ubuntu_image'],1,34bb17a0d27a851607a50a8c6532c520cee69cdf,update-ubuntu-image,"IMAGE_URLS=""http://cloud-images.ubuntu.com/releases/16.04/release-20180424/ubuntu-16.04-server-cloudimg-amd64-disk1.img,""","IMAGE_URLS=""http://cloud-images.ubuntu.com/releases/16.04/release-20170113/ubuntu-16.04-server-cloudimg-amd64-disk1.img,""",1,1
openstack%2Fpuppet-cinder~master~I286a593f0e68dc9e60852674d2fa14551acb1bbb,openstack/puppet-cinder,master,I286a593f0e68dc9e60852674d2fa14551acb1bbb,Remove deprecated parameters,MERGED,2018-05-20 13:36:58.000000000,2018-05-24 01:40:36.000000000,2018-05-24 01:40:36.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-20 13:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/314b8eb71d8b6115f154ebcbdb8cb121c378a71b', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: I286a593f0e68dc9e60852674d2fa14551acb1bbb\n'}, {'number': 2, 'created': '2018-05-20 15:20:14.000000000', 'files': ['manifests/vmware.pp', 'spec/defines/cinder_type_spec.rb', 'spec/defines/cinder_type_set_spec.rb', 'manifests/api.pp', 'spec/classes/cinder_init_spec.rb', 'manifests/init.pp', 'manifests/type.pp', 'releasenotes/notes/remove-deprecated-63f92fcce2c35685.yaml', 'spec/classes/cinder_volume_spec.rb', 'manifests/backend/netapp.pp', 'manifests/type_set.pp', 'spec/classes/cinder_api_spec.rb', 'manifests/backend/rbd.pp', 'spec/defines/cinder_backend_rbd_spec.rb', 'spec/defines/cinder_backend_netapp_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/5c5a7dbf95650ff476604d369bfc197a757beab8', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: I286a593f0e68dc9e60852674d2fa14551acb1bbb\n'}]",0,569640,5c5a7dbf95650ff476604d369bfc197a757beab8,13,3,2,16137,,,0,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: I286a593f0e68dc9e60852674d2fa14551acb1bbb
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/40/569640/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/vmware.pp', 'spec/defines/cinder_type_spec.rb', 'spec/defines/cinder_type_set_spec.rb', 'manifests/api.pp', 'spec/classes/cinder_init_spec.rb', 'manifests/init.pp', 'manifests/type.pp', 'releasenotes/notes/remove-deprecated-63f92fcce2c35685.yaml', 'manifests/backend/netapp.pp', 'manifests/type_set.pp', 'spec/classes/cinder_api_spec.rb', 'manifests/backend/rbd.pp', 'spec/defines/cinder_backend_rbd_spec.rb', 'spec/defines/cinder_backend_netapp_spec.rb']",14,314b8eb71d8b6115f154ebcbdb8cb121c378a71b,remove-deprecated,," context 'with storage pools' do before do params.merge!({ :netapp_storage_pools => 'foo' }) end it 'configures name seach pattern' do is_expected.to contain_cinder_config('netapp/netapp_pool_name_search_pattern').with_value('(foo)') end end context 'with volume list' do before do params.merge!({ :netapp_volume_list=> 'bar' }) end it 'configures name seach pattern' do is_expected.to contain_cinder_config('netapp/netapp_pool_name_search_pattern').with_value('(bar)') end end context 'with storage pools and volume list' do before do params.merge!({ :netapp_storage_pools => 'foo', :netapp_volume_list=> 'bar' }) end it 'configures name seach pattern' do is_expected.to contain_cinder_config('netapp/netapp_pool_name_search_pattern').with_value('(foo|bar)') end end ",56,362
openstack%2Fnova~master~Ia9167f7843bec2210176c472e4946e8ba3a1c72a,openstack/nova,master,Ia9167f7843bec2210176c472e4946e8ba3a1c72a,Remove mox in libvirt/test_driver.py (2),MERGED,2018-05-16 06:23:21.000000000,2018-05-24 01:13:24.000000000,2018-05-24 01:13:24.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-16 06:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebb608c2c07b84565714d58e05200001feb5d318', 'message': 'Remove mox in libvirt/test_driver.py (2)\n\nReplace mox with mock in the following methods\nof the LibvirtConnTestCase\nin nova/tests/unit/virt/libvirt/test_driver.py.\n\n* _mock_can_live_migrate_source\n* test_check_can_live_migrate_source_block_migration\n* test_check_can_live_migrate_source_shared_block_storage\n* test_check_can_live_migrate_source_shared_instance_path\n* test_check_can_live_migrate_source_non_shared_fails\n* test_check_can_live_migrate_source_shared_block_migration_fails\n* test_check_can_live_migrate_shared_path_block_migration_fails\n* test_check_can_live_migrate_non_shared_non_block_migration_fails\n* test_check_can_live_migrate_source_with_dest_not_enough_disk\n* _do_test_create_images_and_backing\n\nSubsequent patches will replace mox in other test cases.\n\nChange-Id: Ia9167f7843bec2210176c472e4946e8ba3a1c72a\nImplements: blueprint mox-removal\n'}, {'number': 2, 'created': '2018-05-18 03:29:32.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd5e9e316dfe12175ac5ecc170c4d6d65ea07202', 'message': 'Remove mox in libvirt/test_driver.py (2)\n\nReplace mox with mock in the following methods\nof the LibvirtConnTestCase\nin nova/tests/unit/virt/libvirt/test_driver.py.\n\n* _mock_can_live_migrate_source\n* test_check_can_live_migrate_source_block_migration\n* test_check_can_live_migrate_source_shared_block_storage\n* test_check_can_live_migrate_source_shared_instance_path\n* test_check_can_live_migrate_source_non_shared_fails\n* test_check_can_live_migrate_source_shared_block_migration_fails\n* test_check_can_live_migrate_shared_path_block_migration_fails\n* test_check_can_live_migrate_non_shared_non_block_migration_fails\n* test_check_can_live_migrate_source_with_dest_not_enough_disk\n* _do_test_create_images_and_backing\n\nSubsequent patches will replace mox in other test cases.\n\nChange-Id: Ia9167f7843bec2210176c472e4946e8ba3a1c72a\nImplements: blueprint mox-removal\n'}]",0,568757,dd5e9e316dfe12175ac5ecc170c4d6d65ea07202,18,9,2,7634,,,0,"Remove mox in libvirt/test_driver.py (2)

Replace mox with mock in the following methods
of the LibvirtConnTestCase
in nova/tests/unit/virt/libvirt/test_driver.py.

* _mock_can_live_migrate_source
* test_check_can_live_migrate_source_block_migration
* test_check_can_live_migrate_source_shared_block_storage
* test_check_can_live_migrate_source_shared_instance_path
* test_check_can_live_migrate_source_non_shared_fails
* test_check_can_live_migrate_source_shared_block_migration_fails
* test_check_can_live_migrate_shared_path_block_migration_fails
* test_check_can_live_migrate_non_shared_non_block_migration_fails
* test_check_can_live_migrate_source_with_dest_not_enough_disk
* _do_test_create_images_and_backing

Subsequent patches will replace mox in other test cases.

Change-Id: Ia9167f7843bec2210176c472e4946e8ba3a1c72a
Implements: blueprint mox-removal
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/568757/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,ebb608c2c07b84565714d58e05200001feb5d318,bp/mox-removal," @mock.patch.object(libvirt_driver.LibvirtDriver, '_check_shared_storage_test_file') @mock.patch.object(libvirt_driver.LibvirtDriver, '_is_shared_block_storage') def _test_can_live_migrate_source(self, mock_is_shared, mock_check_shared, block_migration=False, disk_available_mb=1024, exception=None): mock_is_shared.return_value = is_shared_block_storage mock_check_shared.return_value = is_shared_instance_path if exception: self.assertRaises(exception, drvr.check_can_live_migrate_source, self.context, instance, dest_check_data) else: ret = drvr.check_can_live_migrate_source(self.context, instance, dest_check_data) mock_is_shared.assert_called_once_with(instance, dest_check_data, None) mock_check_shared.assert_called_once_with('file', instance) if exception: return (instance, dest_check_data) if block_migration: self.assertIsInstance(ret, objects.LibvirtLiveMigrateData) self.assertIn('is_shared_block_storage', ret) self.assertFalse(ret.is_shared_block_storage) self.assertIn('is_shared_instance_path', ret) self.assertFalse(ret.is_shared_instance_path) if is_shared_block_storage: self.assertTrue(ret.is_shared_block_storage) if is_shared_instance_path: self.assertTrue(ret.is_shared_instance_path) return (instance, dest_check_data) @mock.patch.object(libvirt_driver.LibvirtDriver, '_assert_dest_node_has_enough_disk') def test_check_can_live_migrate_source_block_migration( self, mock_assert_dest): instance, dest_check_data = self._test_can_live_migrate_source( block_migration=True) mock_assert_dest.assert_called_once_with( def test_check_can_live_migrate_source_shared_block_storage(self): self._test_can_live_migrate_source(is_shared_block_storage=True) self._test_can_live_migrate_source(is_shared_instance_path=True) self._test_can_live_migrate_source( exception=exception.InvalidSharedStorage) self._test_can_live_migrate_source( block_migration=True, is_shared_block_storage=True, exception=exception.InvalidLocalStorage) self._test_can_live_migrate_source( block_migration=True, is_shared_instance_path=True, exception=exception.InvalidLocalStorage) self._test_can_live_migrate_source( exception=exception.InvalidSharedStorage) instance, _ = self._test_can_live_migrate_source( block_migration=True, disk_available_mb=0, exception=exception.MigrationError) @mock.patch('os.path.exists', return_value=False) @mock.patch.object(fake_libvirt_utils, 'create_image') @mock.patch.object(libvirt_driver.LibvirtDriver, '_fetch_instance_kernel_ramdisk') def _do_test_create_images_and_backing(self, disk_type, mock_fetch, mock_create, mock_exists): mock_fetch.assert_called_once_with(self.context, instance, fallback_from_host=None) mock_create.assert_called_once_with( disk_info['type'], mock.ANY, disk_info['virt_disk_size']) mock_exists.assert_called_once_with('/fake/instance/dir/foo') "," def _mock_can_live_migrate_source(self, block_migration=False, disk_available_mb=1024): self.mox.StubOutWithMock(drvr, '_is_shared_block_storage') drvr._is_shared_block_storage(instance, dest_check_data, None).AndReturn(is_shared_block_storage) self.mox.StubOutWithMock(drvr, '_check_shared_storage_test_file') drvr._check_shared_storage_test_file('file', instance).AndReturn( is_shared_instance_path) return (instance, dest_check_data, drvr) def test_check_can_live_migrate_source_block_migration(self): instance, dest_check_data, drvr = self._mock_can_live_migrate_source( block_migration=True) self.mox.StubOutWithMock(drvr, ""_assert_dest_node_has_enough_disk"") drvr._assert_dest_node_has_enough_disk( self.mox.ReplayAll() ret = drvr.check_can_live_migrate_source(self.context, instance, dest_check_data) self.assertIsInstance(ret, objects.LibvirtLiveMigrateData) self.assertIn('is_shared_block_storage', ret) self.assertFalse(ret.is_shared_block_storage) self.assertIn('is_shared_instance_path', ret) self.assertFalse(ret.is_shared_instance_path) def test_check_can_live_migrate_source_shared_block_storage(self): instance, dest_check_data, drvr = self._mock_can_live_migrate_source( is_shared_block_storage=True) self.mox.ReplayAll() ret = drvr.check_can_live_migrate_source(self.context, instance, dest_check_data) self.assertTrue(ret.is_shared_block_storage) instance, dest_check_data, drvr = self._mock_can_live_migrate_source( is_shared_instance_path=True) self.mox.ReplayAll() ret = drvr.check_can_live_migrate_source(self.context, instance, dest_check_data) self.assertTrue(ret.is_shared_instance_path) instance, dest_check_data, drvr = self._mock_can_live_migrate_source() self.mox.ReplayAll() self.assertRaises(exception.InvalidSharedStorage, drvr.check_can_live_migrate_source, self.context, instance, dest_check_data) instance, dest_check_data, drvr = self._mock_can_live_migrate_source( block_migration=True, is_shared_block_storage=True) self.mox.ReplayAll() self.assertRaises(exception.InvalidLocalStorage, drvr.check_can_live_migrate_source, self.context, instance, dest_check_data) instance, dest_check_data, drvr = self._mock_can_live_migrate_source( block_migration=True, is_shared_instance_path=True) self.mox.ReplayAll() self.assertRaises(exception.InvalidLocalStorage, drvr.check_can_live_migrate_source, self.context, instance, dest_check_data, None) instance, dest_check_data, drvr = self._mock_can_live_migrate_source() self.mox.ReplayAll() self.assertRaises(exception.InvalidSharedStorage, drvr.check_can_live_migrate_source, self.context, instance, dest_check_data) instance, dest_check_data, drvr = self._mock_can_live_migrate_source( block_migration=True, disk_available_mb=0) self.mox.ReplayAll() self.assertRaises(exception.MigrationError, drvr.check_can_live_migrate_source, self.context, instance, dest_check_data) def _do_test_create_images_and_backing(self, disk_type): self.mox.StubOutWithMock(drvr, '_fetch_instance_kernel_ramdisk') self.mox.StubOutWithMock(libvirt_driver.libvirt_utils, 'create_image') libvirt_driver.libvirt_utils.create_image( disk_info['type'], mox.IgnoreArg(), disk_info['virt_disk_size']) drvr._fetch_instance_kernel_ramdisk(self.context, instance, fallback_from_host=None) self.mox.ReplayAll() self.stub_out('os.path.exists', lambda *args: False)",70,82
openstack%2Fopenstacksdk~master~I7da20f1f68ecd73b83bed237d09314eaffe6d4f6,openstack/openstacksdk,master,I7da20f1f68ecd73b83bed237d09314eaffe6d4f6,Decode additional heat files,MERGED,2018-05-10 17:04:36.000000000,2018-05-24 00:41:30.000000000,2018-05-24 00:41:30.000000000,"[{'_account_id': 2}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-10 17:04:36.000000000', 'files': ['openstack/cloud/_heat/utils.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a31c17483560e803572c375835ac0b63da79f645', 'message': 'Decode additional heat files\n\nAll file contents should be json serializable\n\nChange-Id: I7da20f1f68ecd73b83bed237d09314eaffe6d4f6\nCloses-Bug: https://storyboard.openstack.org/#!/story/2002002\n'}]",0,567648,a31c17483560e803572c375835ac0b63da79f645,7,3,1,7369,,,0,"Decode additional heat files

All file contents should be json serializable

Change-Id: I7da20f1f68ecd73b83bed237d09314eaffe6d4f6
Closes-Bug: https://storyboard.openstack.org/#!/story/2002002
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/48/567648/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_heat/utils.py'],1,a31c17483560e803572c375835ac0b63da79f645,heat-decode-contents, content = content.decode('utf-8'), content.decode('utf-8'),1,1
openstack%2Fopenstacksdk~master~Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997,openstack/openstacksdk,master,Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997,Added few image properties to Image class,MERGED,2018-02-13 19:49:22.000000000,2018-05-24 00:41:29.000000000,2018-05-24 00:41:29.000000000,"[{'_account_id': 2}, {'_account_id': 10338}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 19:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3594f9394bdcc54f98a8178bb295ab078c694659', 'message': 'Added few image properties to Image class\n\nos_admin_user, hw_quemu_guest_agent, os_require_quiesce\n\nChange-Id: Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997\n'}, {'number': 2, 'created': '2018-02-14 16:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9856218d7f79b4ed9bd2b708e25771edab452231', 'message': 'Added few image properties to Image class\n\nos_admin_user, hw_quemu_guest_agent, os_require_quiesce\n\nChange-Id: Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997\n'}, {'number': 3, 'created': '2018-05-10 21:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/623c61db7af1dbe79435504543c131e6a8334a4a', 'message': 'Added few image properties to Image class\n\nos_admin_user, hw_quemu_guest_agent, os_require_quiesce\n\nChange-Id: Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997\n'}, {'number': 4, 'created': '2018-05-14 12:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e627d385273b6c3c9eb7c79549edab8ed8f96036', 'message': 'Added few image properties to Image class\n\nos_admin_user, hw_quemu_guest_agent, os_require_quiesce\n\nChange-Id: Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997\n'}, {'number': 5, 'created': '2018-05-14 15:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/90e5237532ead54b5dce666b4e408752443e4e2f', 'message': 'Added image properties to Image class\n\nexplicit: os_admin_user, hw_quemu_guest_agent, os_require_quiesce\nAlso exposes custom (unexpected) K/V properties on the Image object.\n\nChange-Id: Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997\n'}, {'number': 6, 'created': '2018-05-14 15:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4fca3151e6ccb44b40b94d054112606d4ee65edc', 'message': 'Added few image properties to Image class\n\nos_admin_user, hw_quemu_guest_agent, os_require_quiesce\n\nChange-Id: Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997\n'}, {'number': 7, 'created': '2018-05-22 14:16:16.000000000', 'files': ['openstack/image/v2/image.py', 'openstack/tests/unit/image/v2/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1f4b9fa52a176e70d6cc438aaece17f54e4f9009', 'message': 'Added few image properties to Image class\n\nos_admin_user, hw_quemu_guest_agent, os_require_quiesce\n\nChange-Id: Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997\n'}]",0,544049,1f4b9fa52a176e70d6cc438aaece17f54e4f9009,23,4,7,10338,,,0,"Added few image properties to Image class

os_admin_user, hw_quemu_guest_agent, os_require_quiesce

Change-Id: Id7a4437cd7d1efc1ee98b41d0936e6bed56a7997
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/49/544049/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/image/v2/image.py', 'openstack/tests/unit/image/v2/test_image.py']",2,3594f9394bdcc54f98a8178bb295ab078c694659,image-props," 'os_admin_user': 'ubuntu', 'hw_qemu_guest_agent': True, 'os_require_quiesce': True, self.assertEqual(EXAMPLE['os_admin_user'], sot.os_admin_user) self.assertEqual(EXAMPLE['hw_qemu_guest_agent'], sot.hw_qemu_guest_agent) self.assertEqual(EXAMPLE['os_require_quiesce'], sot.os_require_quiesce)",,12,0
openstack%2Fneutron-lib~master~I2016812fccc870900fb70fa9cf0358b98a7356b3,openstack/neutron-lib,master,I2016812fccc870900fb70fa9cf0358b98a7356b3,api-ref: document sorting parameters for address scope,MERGED,2018-05-08 19:09:39.000000000,2018-05-24 00:23:01.000000000,2018-05-24 00:23:01.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 19:09:39.000000000', 'files': ['api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/address-scopes.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6ad1a623e30b487bb81543fbfc51f53a375b2b9b', 'message': ""api-ref: document sorting parameters for address scope\n\nAPI users can use the 'sort_key' and 'sort_dir' to do the sorting\non list result. This patch add documentation of these two parameters\nfor address scope resource.\n\nChange-Id: I2016812fccc870900fb70fa9cf0358b98a7356b3\nCloses-Bug: #1749024\n""}]",0,567005,6ad1a623e30b487bb81543fbfc51f53a375b2b9b,7,3,1,27654,,,0,"api-ref: document sorting parameters for address scope

API users can use the 'sort_key' and 'sort_dir' to do the sorting
on list result. This patch add documentation of these two parameters
for address scope resource.

Change-Id: I2016812fccc870900fb70fa9cf0358b98a7356b3
Closes-Bug: #1749024
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/05/567005/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/address-scopes.inc']",2,6ad1a623e30b487bb81543fbfc51f53a375b2b9b,bug/1749024, - sort_key: address_scope-sort_key,,15,0
openstack%2Fneutron-lib~master~Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba,openstack/neutron-lib,master,Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba,Adding tags to responses for relevant resources,MERGED,2018-04-09 10:50:42.000000000,2018-05-24 00:13:39.000000000,2018-05-24 00:13:39.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7715}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 27546}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-04-09 10:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9b339cc08e3fac72d2bd4d12989db042ea0a20b3', 'message': 'Adding tags to responses for network and subnet\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 2, 'created': '2018-04-09 12:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2451f7acf3666a71b173de8510c5c2c113602e8b', 'message': 'Adding tags to responses for network and subnet\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 3, 'created': '2018-04-10 13:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bf71c2a33f5df33e1e0cc28f4fa1449acb8e32a5', 'message': 'Adding tags to responses for network and subnet\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 4, 'created': '2018-04-10 13:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f9baac7ed932cefb375cc84394615e8efa97be95', 'message': 'Adding tags to responses for network and subnet\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 5, 'created': '2018-04-11 12:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b1290a31ca86338338a539d5b52478f8918cba6c', 'message': 'Adding tags to responses for network and subnet\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 6, 'created': '2018-04-15 07:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/493b49563962b5ae87d8159c77f63c8ba8e7172c', 'message': 'Adding tags to responses for relevant resources\n\nAdding tag to responses for resources that support\nstandard attributes.\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 7, 'created': '2018-04-17 07:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a7fb182e16f7f48863136229d14657aa9c1bb7bc', 'message': 'Adding tags to responses for relevant resources\n\nAdding tag to responses for resources that support\nstandard attributes.\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 8, 'created': '2018-04-22 08:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d995375dce596ea261327f97efadeafd54cf9200', 'message': 'Adding tags to responses for relevant resources\n\nAdding tag to responses for resources that support\nstandard attributes.\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 9, 'created': '2018-04-24 07:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b1a0aef8a7bc4242ff29a628a5237a91cc157fa1', 'message': 'Adding tags to responses for relevant resources\n\nAdding tag to responses for resources that support\nstandard attributes.\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 10, 'created': '2018-04-26 11:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f2f9ce1e4602c684663b458d91d75a1112a6bd6f', 'message': 'Adding tags to responses for relevant resources\n\nAdding tag to responses for resources that support\nstandard attributes.\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 11, 'created': '2018-05-06 07:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/441974160e765528b706793ac06d4f9ecb0e04c0', 'message': 'Adding tags to responses for relevant resources\n\nAdding tag to responses for resources that support\nstandard attributes.\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 12, 'created': '2018-05-06 07:28:00.000000000', 'files': ['api-ref/source/v2/samples/routers/router-create-response.json', 'api-ref/source/v2/samples/ports/port-bind-create-response.json', 'api-ref/source/v2/samples/ports/ports-list-response.json', 'api-ref/source/v2/samples/networks/network-multi-show-response.json', 'api-ref/source/v2/samples/routers/router-show-response.json', 'api-ref/source/v2/samples/security-groups/security-group-show-response.json', 'api-ref/source/v2/samples/routers/router-update-response.json', 'api-ref/source/v2/samples/qos/policy-show-response.json', 'api-ref/source/v2/samples/networks/network-multi-create-response.json', 'api-ref/source/v2/samples/subnets/subnet-show-response.json', 'api-ref/source/v2/floatingips.inc', 'api-ref/source/v2/samples/floatingips/floating-ips-list-response.json', 'api-ref/source/v2/samples/security-groups/security-group-create-response.json', 'api-ref/source/v2/samples/routers/router-add-interface-response.json', 'api-ref/source/v2/samples/ports/ports-bulk-create-response.json', 'api-ref/source/v2/samples/routers/routers-list-response.json', 'api-ref/source/v2/qos.inc', 'api-ref/source/v2/subnets.inc', 'api-ref/source/v2/samples/subnets/subnetpool-update-response.json', 'api-ref/source/v2/samples/ports/port-bind-update-response.json', 'api-ref/source/v2/samples/subnets/subnets-create-bulk-response.json', 'api-ref/source/v2/samples/networks/network-provider-create-response.json', 'api-ref/source/v2/samples/qos/policies-list-response.json', 'api-ref/source/v2/samples/networks/network-update-response.json', 'api-ref/source/v2/security-groups.inc', 'api-ref/source/v2/samples/networks/network-create-response.json', 'api-ref/source/v2/routers.inc', 'api-ref/source/v2/samples/networks/networks-provider-list-response.json', 'api-ref/source/v2/samples/security-groups/security-groups-list-response.json', 'api-ref/source/v2/samples/ports/port-show-response.json', 'api-ref/source/v2/tags.inc', 'api-ref/source/v2/samples/ports/port-create-response.json', 'api-ref/source/v2/samples/floatingips/floatingip-show-response.json', 'api-ref/source/v2/samples/subnets/subnetpool-create-response.json', 'api-ref/source/v2/samples/subnets/subnet-create-response.json', 'api-ref/source/v2/samples/networks/networks-bulk-create-response.json', 'api-ref/source/v2/samples/subnets/subnet-update-response.json', 'api-ref/source/v2/samples/floatingips/floatingip-disassociate-response.json', 'api-ref/source/v2/samples/security-groups/security-group-update-response.json', 'api-ref/source/v2/samples/qos/policy-update-response.json', 'api-ref/source/v2/ports.inc', 'api-ref/source/v2/samples/qos/policy-create-response.json', 'api-ref/source/v2/samples/floatingips/floatingip-create-response.json', 'api-ref/source/v2/samples/subnets/subnets-list-response.json', 'api-ref/source/v2/samples/networks/network-provider-show-response.json', 'api-ref/source/v2/networks.inc', 'api-ref/source/v2/trunk.inc', 'api-ref/source/v2/samples/subnets/subnetpool-show-response.json', 'api-ref/source/v2/samples/floatingips/floatingip-update-response.json', 'api-ref/source/v2/samples/ports/port-update-response.json', 'api-ref/source/v2/subnetpools.inc', 'api-ref/source/v2/samples/ports/ports-bind-list-response.json', 'api-ref/source/v2/samples/networks/network-show-response.json', 'api-ref/source/v2/samples/routers/router-remove-interface-response.json', 'api-ref/source/v2/samples/ports/port-bind-show-response.json', 'api-ref/source/v2/samples/subnets/subnetpools-list-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/65da70c5d66258a841c4bf73531c7e40488775ad', 'message': 'Adding tags to responses for relevant resources\n\nAdding tag to responses for resources that support\nstandard attributes.\n\nCloses-bug: #1748982\n\nChange-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}]",28,559697,65da70c5d66258a841c4bf73531c7e40488775ad,47,7,12,27546,,,0,"Adding tags to responses for relevant resources

Adding tag to responses for resources that support
standard attributes.

Closes-bug: #1748982

Change-Id: Ie72edd710c420bed3f0c1bf6dce307fb09e4e8ba
Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/97/559697/7 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/subnets/subnets-list-response.json', 'api-ref/source/v2/subnets.inc', 'api-ref/source/v2/samples/subnets/subnetpool-update-response.json', 'api-ref/source/v2/samples/subnets/subnetpool-create-response.json', 'api-ref/source/v2/samples/subnets/subnet-create-response.json', 'api-ref/source/v2/samples/networks/network-provider-show-response.json', 'api-ref/source/v2/samples/networks/network-multi-show-response.json', 'api-ref/source/v2/networks.inc', 'api-ref/source/v2/samples/networks/networks-bulk-create-response.json', 'api-ref/source/v2/samples/subnets/subnet-update-response.json', 'api-ref/source/v2/samples/subnets/subnetpool-show-response.json', 'api-ref/source/v2/samples/subnets/subnets-create-bulk-response.json', 'api-ref/source/v2/samples/networks/network-provider-create-response.json', 'api-ref/source/v2/subnetpools.inc', 'api-ref/source/v2/samples/networks/network-update-response.json', 'api-ref/source/v2/samples/networks/network-create-response.json', 'api-ref/source/v2/samples/networks/network-multi-create-response.json', 'api-ref/source/v2/samples/networks/network-show-response.json', 'api-ref/source/v2/samples/networks/networks-provider-list-response.json', 'api-ref/source/v2/samples/subnets/subnet-show-response.json', 'api-ref/source/v2/samples/subnets/subnetpools-list-response.json']",21,9b339cc08e3fac72d2bd4d12989db042ea0a20b3,bug/1748982," ""revision_number"": 2, ""tags"": ""tag1,tag2"" ""revision_number"": 2, ""tags"": ""tag1,tag2"""," ""revision_number"": 2 ""revision_number"": 2",44,7
openstack%2Fneutron-specs~master~I10bf93ff44c88e39fbd98d0061ede2dbfcca929b,openstack/neutron-specs,master,I10bf93ff44c88e39fbd98d0061ede2dbfcca929b,Trivial:Update pypi url to new url,MERGED,2018-05-23 03:17:23.000000000,2018-05-24 00:03:53.000000000,2018-05-24 00:03:53.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 03:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/291c002330b15c0db1e6c478f7026b635b4e65cd', 'message': 'Trivial:Update pypi url to new url\n\nChange-Id: I10bf93ff44c88e39fbd98d0061ede2dbfcca929b\n'}, {'number': 2, 'created': '2018-05-23 03:18:40.000000000', 'files': ['specs/stadium/queens/neutron-vpnaas.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/61fe7beaffd6ea05e1b5585ec223c4e2db76d717', 'message': 'Trivial:Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I10bf93ff44c88e39fbd98d0061ede2dbfcca929b\n'}]",0,570106,61fe7beaffd6ea05e1b5585ec223c4e2db76d717,9,4,2,26151,,,0,"Trivial:Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I10bf93ff44c88e39fbd98d0061ede2dbfcca929b
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/06/570106/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/stadium/queens/neutron-vpnaas.rst'],1,291c002330b15c0db1e6c478f7026b635b4e65cd,Update-pypi-url, * https://pypi.org/project/neutron-vpnaas/, * https://pypi.python.org/pypi/neutron-vpnaas,1,1
openstack%2Ftempest~master~I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd,openstack/tempest,master,I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd,Move volume v2 service clients to v3 dir,MERGED,2018-01-21 14:08:11.000000000,2018-05-23 23:41:01.000000000,2018-05-23 23:41:00.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 12393}, {'_account_id': 19853}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-01-21 14:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c0b4d6ca6bcca75eb895f4023ce73adc124f60d', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}, {'number': 2, 'created': '2018-02-19 06:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b41e32c7fdd4da5ebabe3804fcbe90ec75da258a', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}, {'number': 3, 'created': '2018-02-23 09:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/11974a5d675fe86f3413bbcd8c8c713f266cf160', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir with deprecation\nwarning.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}, {'number': 4, 'created': '2018-02-23 09:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/77c34ee2556ec59a57be94c1d68b23fea392f135', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir with deprecation\nwarning.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}, {'number': 5, 'created': '2018-02-23 09:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fa3c1314c4367c98d4228edefe166d2b10ff6e1f', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir with deprecation\nwarning.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}, {'number': 6, 'created': '2018-03-26 07:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/48a632154ae3c80434a44293772eab03c135a973', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir with deprecation\nwarning.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}, {'number': 7, 'created': '2018-04-22 11:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ad7a3ee7fed77e56b7f4984fc4e0f232cba00fe9', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir with deprecation\nwarning.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}, {'number': 8, 'created': '2018-04-22 12:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bcc66d6882344169a478f299326aa84431332593', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir with deprecation\nwarning.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}, {'number': 9, 'created': '2018-04-23 04:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/39279e7895b550592babc9ccf43a56f6617c5fb7', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir with deprecation\nwarning.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}, {'number': 10, 'created': '2018-05-16 05:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/50eb34e7647d49d304da5747543d341e4785eaf8', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir with deprecation\nwarning.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}, {'number': 11, 'created': '2018-05-16 08:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/048efd7bf7ab5ba1b94578cf85ee763e5b296ccd', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir with deprecation\nwarning.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}, {'number': 12, 'created': '2018-05-16 08:00:44.000000000', 'files': ['tempest/lib/services/volume/v2/backups_client.py', 'tempest/lib/services/volume/v3/types_client.py', 'tempest/lib/services/volume/v3/scheduler_stats_client.py', 'tempest/lib/services/volume/v2/hosts_client.py', 'tempest/lib/services/volume/v2/volumes_client.py', 'tempest/lib/services/volume/v2/limits_client.py', 'tempest/lib/services/volume/v2/snapshot_manage_client.py', 'tempest/lib/services/volume/v3/services_client.py', 'tempest/lib/services/volume/v2/services_client.py', 'tempest/lib/services/volume/v2/transfers_client.py', 'tempest/lib/services/volume/v3/volume_manage_client.py', 'tempest/lib/services/volume/v2/capabilities_client.py', 'tempest/lib/services/volume/v3/transfers_client.py', 'tempest/tests/lib/services/volume/v2/test_transfers_client.py', 'tempest/tests/lib/services/volume/v2/test_snapshot_manage_client.py', 'tempest/lib/services/volume/v3/backups_client.py', 'tempest/lib/services/volume/v3/availability_zone_client.py', 'tempest/lib/services/volume/v3/volumes_client.py', 'tempest/lib/services/volume/v3/__init__.py', 'tempest/lib/services/volume/v3/qos_client.py', 'tempest/lib/services/volume/v3/snapshots_client.py', 'tempest/lib/services/volume/v2/volume_manage_client.py', 'tempest/lib/services/volume/v3/snapshot_manage_client.py', 'tempest/lib/services/volume/v2/quotas_client.py', 'tempest/lib/services/volume/v2/snapshots_client.py', 'tempest/lib/services/volume/v3/extensions_client.py', 'tempest/lib/services/volume/v2/types_client.py', 'tempest/lib/services/volume/v2/availability_zone_client.py', 'tempest/lib/services/volume/v3/hosts_client.py', 'tempest/lib/services/volume/v3/quotas_client.py', 'tempest/lib/services/volume/v2/encryption_types_client.py', 'tempest/lib/services/volume/v3/quota_classes_client.py', 'tempest/lib/services/volume/v3/capabilities_client.py', 'releasenotes/notes/volume-v3-service-clients-a863a6336af56cca.yaml', 'tempest/lib/services/volume/v2/extensions_client.py', 'tempest/lib/services/volume/v2/scheduler_stats_client.py', 'tempest/tests/lib/services/volume/v2/test_volume_manage_client.py', 'tempest/lib/services/volume/v3/encryption_types_client.py', 'tempest/lib/services/volume/v2/qos_client.py', 'tempest/lib/services/volume/v2/quota_classes_client.py', 'tempest/lib/services/volume/v3/limits_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/de676babd37270c99288ec5906ef33b9f85102ae', 'message': 'Move volume v2 service clients to v3 dir\n\nMoving all existing volume v2 service clients to\nv3 dir. These service clients will be available as\nv3 service clients.\n\nFor backward compatibility, keeping all service\nclients importable from volume.v2 dir with deprecation\nwarning.\n\nThis patch is starting patch to make volume service clients\ncleanup for v3 API testing as default.\n\nChange-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd\n'}]",10,536121,de676babd37270c99288ec5906ef33b9f85102ae,74,13,12,8556,,,0,"Move volume v2 service clients to v3 dir

Moving all existing volume v2 service clients to
v3 dir. These service clients will be available as
v3 service clients.

For backward compatibility, keeping all service
clients importable from volume.v2 dir with deprecation
warning.

This patch is starting patch to make volume service clients
cleanup for v3 API testing as default.

Change-Id: I5888740f94d9f1ef8ce3fac78e4ce76ae650a6fd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/536121/12 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v2/backups_client.py', 'tempest/lib/services/volume/v3/types_client.py', 'tempest/lib/services/volume/v3/scheduler_stats_client.py', 'tempest/lib/services/volume/v2/volumes_client.py', 'tempest/lib/services/volume/v2/snapshots_client.py', 'tempest/lib/services/volume/v2/__init__.py', 'tempest/lib/services/volume/v3/extensions_client.py', 'tempest/lib/services/volume/v3/hosts_client.py', 'tempest/lib/services/volume/v3/quotas_client.py', 'tempest/lib/services/volume/v3/services_client.py', 'tempest/lib/services/volume/v3/quota_classes_client.py', 'tempest/lib/services/volume/v3/volume_manage_client.py', 'tempest/lib/services/volume/v3/capabilities_client.py', 'tempest/lib/services/volume/v3/transfers_client.py', 'tempest/lib/services/volume/v3/backups_client.py', 'tempest/lib/services/volume/v3/availability_zone_client.py', 'tempest/lib/services/volume/v3/volumes_client.py', 'tempest/lib/services/volume/v3/__init__.py', 'tempest/lib/services/volume/v3/qos_client.py', 'tempest/lib/services/volume/v3/encryption_types_client.py', 'tempest/lib/services/volume/v3/snapshots_client.py', 'tempest/lib/services/volume/v3/limits_client.py', 'tempest/lib/services/volume/v3/snapshot_manage_client.py']",23,5c0b4d6ca6bcca75eb895f4023ce73adc124f60d,volume-default-testing-v3,,,686,711
openstack%2Fswift~master~I8739a474c56c0f2376a276d2691c84448cb9c647,openstack/swift,master,I8739a474c56c0f2376a276d2691c84448cb9c647,Let make_db_file_path accept epoch=None,MERGED,2018-05-22 20:50:12.000000000,2018-05-23 23:40:59.000000000,2018-05-23 23:40:59.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 20:50:12.000000000', 'files': ['swift/common/utils.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4af57dbc658cc0a632fbe32727012e94d0758291', 'message': 'Let make_db_file_path accept epoch=None\n\n...in which case it should strip the epoch if the original path had one.\n\nChange-Id: I8739a474c56c0f2376a276d2691c84448cb9c647\n'}]",1,570054,4af57dbc658cc0a632fbe32727012e94d0758291,8,3,1,15343,,,0,"Let make_db_file_path accept epoch=None

...in which case it should strip the epoch if the original path had one.

Change-Id: I8739a474c56c0f2376a276d2691c84448cb9c647
",git fetch https://review.opendev.org/openstack/swift refs/changes/54/570054/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py']",3,4af57dbc658cc0a632fbe32727012e94d0758291,567940," # None strips epoch self.assertEqual('hash.db', utils.make_db_file_path('hash.db', None)) self.assertEqual('/path/to/hash.db', utils.make_db_file_path( '/path/to/hash_withepoch.db', None)) "," self.assertRaises(ValueError, utils.make_db_file_path, '/path/to/hash.db', None) ",18,17
openstack%2Fnova~master~I745b3433a447aeec819781e0ee26df6e6c70530a,openstack/nova,master,I745b3433a447aeec819781e0ee26df6e6c70530a,Convert libvirt's RBD storage to using processutils.execute(),MERGED,2018-05-21 21:02:33.000000000,2018-05-23 23:40:53.000000000,2018-05-23 23:40:53.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-21 21:02:33.000000000', 'files': ['nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/517cbd0815c901a04eb6197bdd54eaf04af64f04', 'message': ""Convert libvirt's RBD storage to using processutils.execute()\n\nNova's utils.execute() is just a redirector now and should go\naway, so I am progressively moving things over to calling\nprocessutils directly.\n\nChange-Id: I745b3433a447aeec819781e0ee26df6e6c70530a\nblueprint: execs-ive-had-a-few\n""}]",0,569862,517cbd0815c901a04eb6197bdd54eaf04af64f04,15,11,1,2271,,,0,"Convert libvirt's RBD storage to using processutils.execute()

Nova's utils.execute() is just a redirector now and should go
away, so I am progressively moving things over to calling
processutils directly.

Change-Id: I745b3433a447aeec819781e0ee26df6e6c70530a
blueprint: execs-ive-had-a-few
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/569862/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py']",2,517cbd0815c901a04eb6197bdd54eaf04af64f04,bp/execs-ive-had-a-few,"from oslo_concurrency import processutils out, _ = processutils.execute(*args) processutils.execute('rbd', 'import', *args)","from nova import utils out, _ = utils.execute(*args) utils.execute('rbd', 'import', *args)",4,5
openstack%2Fpython-tripleoclient~master~Iaef2671acf516b7e89358984a0d8a59555fc91f0,openstack/python-tripleoclient,master,Iaef2671acf516b7e89358984a0d8a59555fc91f0,Fallback the default roles file for UC config,MERGED,2018-05-22 14:37:43.000000000,2018-05-23 23:35:43.000000000,2018-05-23 23:35:43.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 14:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/008ab39ccbcde642ed37b3358ba0a3dc66c6b485', 'message': 'Provide the default roles file for standalone\n\nThe roles file is expected to have a default value\nfor standalone cloud deployments.\n\nChange-Id: Iaef2671acf516b7e89358984a0d8a59555fc91f0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-05-22 14:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2a824463b4939585323ae2437bc9f475e6476a40', 'message': 'Provide the default roles file for standalone\n\nThe roles file is expected to have a default value\nfor standalone cloud deployments.\n\nChange-Id: Iaef2671acf516b7e89358984a0d8a59555fc91f0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-05-23 07:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f6086c5a1e6f8395633c22f40b0d0f69bdda47bf', 'message': 'Provide the default roles file for standalone\n\nThe roles file is expected to have a default value\nfor standalone cloud deployments.\n\nChange-Id: Iaef2671acf516b7e89358984a0d8a59555fc91f0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-05-23 07:51:57.000000000', 'files': ['tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7a7cafe1616de5b4bce43d34cccd6e72f37a0e0e', 'message': 'Fallback the default roles file for UC config\n\nThe roles_file config param is expected to have a\nfallback value for undercloud --use-heat deployments.\n\nChange-Id: Iaef2671acf516b7e89358984a0d8a59555fc91f0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,569992,7a7cafe1616de5b4bce43d34cccd6e72f37a0e0e,14,7,4,6926,,,0,"Fallback the default roles file for UC config

The roles_file config param is expected to have a
fallback value for undercloud --use-heat deployments.

Change-Id: Iaef2671acf516b7e89358984a0d8a59555fc91f0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/569992/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_preflight.py']",2,008ab39ccbcde642ed37b3358ba0a3dc66c6b485,569992, roles_file = CONF.get('roles_file'), roles_file = CONF.get('roles_file') or constants.UNDERCLOUD_ROLES_FILE,8,4
openstack%2Fpython-heatclient~master~Ied56eda65800d72105ef2e2b683c6ce71cda6c4c,openstack/python-heatclient,master,Ied56eda65800d72105ef2e2b683c6ce71cda6c4c,Use assertRegex instead of assertRegexpMatches,MERGED,2017-11-01 09:37:34.000000000,2018-05-23 23:30:12.000000000,2018-05-23 23:30:12.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 24441}]","[{'number': 1, 'created': '2017-11-01 09:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/0294a764f4cdd04f88bccbb9f3436957a90338e8', 'message': 'Use assertRegex instead of assertRegexpMatches\n\nIn Python3, assertRegexpMatches & assertNotRegexpMatches\nare deprecated in favor of assertRegex and assertNotRegex\n\nChange-Id: Ied56eda65800d72105ef2e2b683c6ce71cda6c4c\n'}, {'number': 2, 'created': '2018-04-11 07:38:16.000000000', 'files': ['heatclient/tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/dcdacd2f56dda3c5581fc4b27fec0a288caa5156', 'message': 'Use assertRegex instead of assertRegexpMatches\n\nIn Python3, assertRegexpMatches & assertNotRegexpMatches\nare deprecated in favor of assertRegex and assertNotRegex\n\nChange-Id: Ied56eda65800d72105ef2e2b683c6ce71cda6c4c\n'}]",0,516904,dcdacd2f56dda3c5581fc4b27fec0a288caa5156,10,4,2,25903,,,0,"Use assertRegex instead of assertRegexpMatches

In Python3, assertRegexpMatches & assertNotRegexpMatches
are deprecated in favor of assertRegex and assertNotRegex

Change-Id: Ied56eda65800d72105ef2e2b683c6ce71cda6c4c
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/04/516904/1 && git format-patch -1 --stdout FETCH_HEAD,['heatclient/tests/unit/test_shell.py'],1,0294a764f4cdd04f88bccbb9f3436957a90338e8,assertRegex," self.assertNotRegex(list_text, 'parent') self.assertNotRegex(list_text, 'p_eventid1') self.assertNotRegex(list_text, 'p_eventid2') self.assertNotRegex(list_text, 'n_eventid2') self.assertNotRegex(list_text, 'p_eventid1') self.assertNotRegex(list_text, 'n_eventid1') self.assertNotRegex(list_text, 'n_eventid2') self.assertNotRegex(list_text, 'p_eventid1') self.assertNotRegex(list_text, 'n_eventid1') self.assertNotRegex(list_text, 'n_eventid2') self.assertNotRegex(list_text, 'p_eventid1') self.assertNotRegex(list_text, 'n_eventid1') self.assertNotRegex(list_text, 'n_eventid2') self.assertNotRegex(list_text, 'parent') self.assertNotRegex(list_text, 'parent') self.assertNotRegex(list_text, 'parent') self.assertNotRegex(list_text, 'parent')"," self.assertNotRegexpMatches(list_text, 'parent') self.assertNotRegexpMatches(list_text, 'p_eventid1') self.assertNotRegexpMatches(list_text, 'p_eventid2') self.assertNotRegexpMatches(list_text, 'n_eventid2') self.assertNotRegexpMatches(list_text, 'p_eventid1') self.assertNotRegexpMatches(list_text, 'n_eventid1') self.assertNotRegexpMatches(list_text, 'n_eventid2') self.assertNotRegexpMatches(list_text, 'p_eventid1') self.assertNotRegexpMatches(list_text, 'n_eventid1') self.assertNotRegexpMatches(list_text, 'n_eventid2') self.assertNotRegexpMatches(list_text, 'p_eventid1') self.assertNotRegexpMatches(list_text, 'n_eventid1') self.assertNotRegexpMatches(list_text, 'n_eventid2') self.assertNotRegexpMatches(list_text, 'parent') self.assertNotRegexpMatches(list_text, 'parent') self.assertNotRegexpMatches(list_text, 'parent') self.assertNotRegexpMatches(list_text, 'parent')",17,17
openstack%2Fmonasca-transform~master~Ide6c91b9f0da71d155588f856d656bf188af5570,openstack/monasca-transform,master,Ide6c91b9f0da71d155588f856d656bf188af5570,Rename metric_id to transform_spec_id,NEW,2018-05-23 23:00:35.000000000,2018-05-23 23:17:19.000000000,,"[{'_account_id': 11580}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 23:00:35.000000000', 'files': ['tests/functional/test_resources/mem_total_all/transform_spec_df.txt', 'tests/functional/test_resources/kafka_data_second_stage/kafka_data_by_all.txt', 'monasca_transform/driver/mon_metrics_kafka.py', 'tests/functional/data_driven_specs/test_data_driven_specs.py', 'tests/functional/test_resources/fetch_quantity_util_second_stage/kafka_data.txt', 'tests/functional/test_resources/cpu_kafka_data_second_stage/cpu_kafka_data.txt', 'monasca_transform/component/insert/__init__.py', 'tests/functional/test_resources/fetch_quantity_data_second_stage/fetch_quantity_data_second_stage.txt', 'tests/functional/usage/test_fetch_quantity_agg.py', 'tests/functional/usage/test_fetch_quantity_util_agg.py', 'tests/functional/driver/first_attempt_at_spark_test.py', 'tests/functional/component/insert/dummy_insert_pre_hourly.py', 'monasca_transform/transform/transform_utils.py', 'tests/functional/usage/test_fetch_quantity_instance_usage_agg.py', 'tests/functional/test_resources/metrics_pre_hourly_data/metrics_pre_hourly_data.txt', 'monasca_transform/data_driven_specs/transform_specs/transform_specs.json', 'tests/functional/usage/test_vm_cpu_allocated_agg_second_stage.py', 'tests/functional/usage/test_host_cpu_usage_component_second_agg.py', 'monasca_transform/processor/pre_hourly_processor.py', 'tests/functional/data_driven_specs/pre_transform_specs/pre_transform_specs.json', 'tests/functional/test_resources/kafka_data_second_stage/kafka_data_by_project.txt', 'docs/generic-aggregation-components.md', 'monasca_transform/component/insert/kafka_insert_pre_hourly.py', 'tests/functional/data_driven_specs/transform_specs/transform_specs.json', 'docs/data_formats.md', 'monasca_transform/data_driven_specs/pre_transform_specs/pre_transform_specs.json', 'tests/functional/usage/test_fetch_quantity_util_agg_second_stage.py', 'docs/create-new-aggregation-pipeline.md', 'tests/functional/processor/test_pre_hourly_processor_agg.py', 'tests/functional/test_resources/mem_total_all/record_store_df.txt', 'tests/functional/usage/test_host_cpu_usage_component.py', 'tests/functional/usage/test_vm_cpu_allocated_agg.py'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/86cc22846513d6f9927244368b7021304976a3ae', 'message': 'Rename metric_id to transform_spec_id\n\nWork in progress\n\n(Need https://review.openstack.org/#/c/567441/\n Depends-on change to go in first)\n\n* Remove metric_group field from transform spec and pre_transform spec\n* Rename metric_id_list to transform_spec_id_list\n\nChange-Id: Ide6c91b9f0da71d155588f856d656bf188af5570\nDepends-on: I223eb2296df438b139e3d9b5aaf4b1b679f70797\nStory: 2001815\nTask: 12561\n'}]",0,570274,86cc22846513d6f9927244368b7021304976a3ae,3,2,1,11580,,,0,"Rename metric_id to transform_spec_id

Work in progress

(Need https://review.openstack.org/#/c/567441/
 Depends-on change to go in first)

* Remove metric_group field from transform spec and pre_transform spec
* Rename metric_id_list to transform_spec_id_list

Change-Id: Ide6c91b9f0da71d155588f856d656bf188af5570
Depends-on: I223eb2296df438b139e3d9b5aaf4b1b679f70797
Story: 2001815
Task: 12561
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/74/570274/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/functional/test_resources/mem_total_all/transform_spec_df.txt', 'tests/functional/test_resources/kafka_data_second_stage/kafka_data_by_all.txt', 'monasca_transform/driver/mon_metrics_kafka.py', 'tests/functional/data_driven_specs/test_data_driven_specs.py', 'tests/functional/test_resources/fetch_quantity_util_second_stage/kafka_data.txt', 'tests/functional/test_resources/cpu_kafka_data_second_stage/cpu_kafka_data.txt', 'monasca_transform/component/insert/__init__.py', 'tests/functional/test_resources/fetch_quantity_data_second_stage/fetch_quantity_data_second_stage.txt', 'tests/functional/usage/test_fetch_quantity_agg.py', 'tests/functional/usage/test_fetch_quantity_util_agg.py', 'tests/functional/driver/first_attempt_at_spark_test.py', 'tests/functional/component/insert/dummy_insert_pre_hourly.py', 'monasca_transform/transform/transform_utils.py', 'tests/functional/usage/test_fetch_quantity_instance_usage_agg.py', 'tests/functional/test_resources/metrics_pre_hourly_data/metrics_pre_hourly_data.txt', 'monasca_transform/data_driven_specs/transform_specs/transform_specs.json', 'tests/functional/usage/test_vm_cpu_allocated_agg_second_stage.py', 'tests/functional/usage/test_host_cpu_usage_component_second_agg.py', 'monasca_transform/processor/pre_hourly_processor.py', 'tests/functional/data_driven_specs/pre_transform_specs/pre_transform_specs.json', 'tests/functional/test_resources/kafka_data_second_stage/kafka_data_by_project.txt', 'docs/generic-aggregation-components.md', 'monasca_transform/component/insert/kafka_insert_pre_hourly.py', 'tests/functional/data_driven_specs/transform_specs/transform_specs.json', 'docs/data_formats.md', 'monasca_transform/data_driven_specs/pre_transform_specs/pre_transform_specs.json', 'tests/functional/usage/test_fetch_quantity_util_agg_second_stage.py', 'docs/create-new-aggregation-pipeline.md', 'tests/functional/processor/test_pre_hourly_processor_agg.py', 'tests/functional/test_resources/mem_total_all/record_store_df.txt', 'tests/functional/usage/test_host_cpu_usage_component.py', 'tests/functional/usage/test_vm_cpu_allocated_agg.py']",32,86cc22846513d6f9927244368b7021304976a3ae,cleanup-renamemetricid," # reset transform_spec_id list dummy adapter ""transform_spec_id_list"":[""vcpus_project""], ""aggregation_group_by_list"": [""host"", ""transform_spec_id"", ""tenant_id""], ""transform_spec_id"":""vcpus_project""}"""""" ""transform_spec_id_list"":[""vcpus_all""], ""aggregation_group_by_list"": [""host"", ""transform_spec_id""], ""transform_spec_id"":""vcpus_all""}"""""""," # reset metric_id list dummy adapter ""metric_id_list"":[""vcpus_project""], ""aggregation_group_by_list"": [""host"", ""metric_id"", ""tenant_id""], ""metric_group"":""vcpus_project"", ""metric_id"":""vcpus_project""}"""""" ""metric_id_list"":[""vcpus_all""], ""aggregation_group_by_list"": [""host"", ""metric_id""], ""metric_group"":""vcpus_all"", ""metric_id"":""vcpus_all""}""""""",708,603
openstack%2Fpuppet-nova~master~I2624b92871f4cba5a7361a5d006d985946493e83,openstack/puppet-nova,master,I2624b92871f4cba5a7361a5d006d985946493e83,Remove deprecated parameters and classes,MERGED,2018-05-18 23:43:20.000000000,2018-05-23 22:57:18.000000000,2018-05-23 22:57:18.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 23:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0112a753f0bbf20a09510d7de395e891375c65b3', 'message': 'Remove deprecated parameters and classes\n\nRemove all the deprecated parameters and classes\nwhich has been deprecated for one cycle or more.\n\nChange-Id: I2624b92871f4cba5a7361a5d006d985946493e83\n'}, {'number': 2, 'created': '2018-05-19 09:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/240c814270733aa9fcb9ebe757db72beda292491', 'message': 'Remove deprecated parameters and classes\n\nRemove all the deprecated parameters and classes\nwhich has been deprecated for one cycle or more.\n\nChange-Id: I2624b92871f4cba5a7361a5d006d985946493e83\n'}, {'number': 3, 'created': '2018-05-19 21:19:17.000000000', 'files': ['spec/defines/nova_cell_v2_cell_spec.rb', 'manifests/api.pp', 'manifests/init.pp', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb', 'spec/classes/nova_api_spec.rb', 'manifests/ironic/common.pp', 'manifests/cell_v2/cell.pp', 'releasenotes/notes/nova-remove-deprecated-fa7d74be4fe4dcf9.yaml', 'manifests/pci.pp', 'manifests/deps.pp', 'manifests/metadata/novajoin/api.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c3e5c7480f03949a824165349642b59a6077ec5d', 'message': 'Remove deprecated parameters and classes\n\nRemove all the deprecated parameters and classes\nwhich has been deprecated for one cycle or more.\n\nChange-Id: I2624b92871f4cba5a7361a5d006d985946493e83\n'}]",0,569540,c3e5c7480f03949a824165349642b59a6077ec5d,13,4,3,16137,,,0,"Remove deprecated parameters and classes

Remove all the deprecated parameters and classes
which has been deprecated for one cycle or more.

Change-Id: I2624b92871f4cba5a7361a5d006d985946493e83
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/40/569540/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/nova_cell_v2_cell_spec.rb', 'manifests/api.pp', 'manifests/init.pp', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb', 'spec/classes/nova_api_spec.rb', 'manifests/ironic/common.pp', 'manifests/cell_v2/cell.pp', 'releasenotes/notes/nova-remove-deprecated-fa7d74be4fe4dcf9.yaml', 'manifests/pci.pp', 'manifests/metadata/novajoin/api.pp', 'spec/classes/nova_init_spec.rb']",12,0112a753f0bbf20a09510d7de395e891375c65b3,remove-deprecated," is_expected.to contain_nova_config('DEFAULT/transport_url').with_value('<SERVICE DEFAULT>') context 'with rabbit_ha_queues set to false' do { :rabbit_ha_queues => false } { :amqp_durable_queues => true } :rabbit_use_ssl => '<SERVICE DEFAULT>', { :rabbit_use_ssl => true, { :rabbit_use_ssl => true, } :rabbit_use_ssl => true,"," is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_password').with_value('<SERVICE DEFAULT>').with_secret(true) is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_userid').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_virtual_host').with_value('<SERVICE DEFAULT>') :rabbit_host => 'rabbit', :rabbit_userid => 'rabbit_user', :rabbit_port => '5673', :rabbit_password => 'password', is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_host').with_value('rabbit') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_password').with_value('password').with_secret(true) is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_port').with_value('5673') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_userid').with_value('rabbit_user') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_virtual_host').with_value('<SERVICE DEFAULT>') context 'with rabbit_hosts parameter' do let :params do { :rabbit_hosts => ['rabbit:5673', 'rabbit2:5674'] } end it 'configures rabbit' do is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_hosts').with_value('rabbit:5673,rabbit2:5674') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(true) is_expected.to contain_nova_config('oslo_messaging_rabbit/kombu_reconnect_delay').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/kombu_failover_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/kombu_compression').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/amqp_durable_queues').with_value('<SERVICE DEFAULT>') is_expected.to contain_oslo__messaging__rabbit('nova_config').with( :rabbit_use_ssl => '<SERVICE DEFAULT>', ) end end context 'with rabbit_hosts parameter (one server)' do let :params do { :rabbit_hosts => ['rabbit:5673'] } end it 'configures rabbit' do is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_hosts').with_value('rabbit:5673') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/kombu_reconnect_delay').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/kombu_failover_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/amqp_durable_queues').with_value('<SERVICE DEFAULT>') is_expected.to contain_oslo__messaging__rabbit('nova_config').with( :rabbit_use_ssl => '<SERVICE DEFAULT>', ) end end context 'with rabbit_ha_queues set to false and with rabbit_hosts' do { :rabbit_ha_queues => 'false', :rabbit_hosts => ['rabbit:5673'] } { :rabbit_hosts => ['rabbit:5673'], :amqp_durable_queues => true } is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_hosts').with_value('rabbit:5673') :rabbit_use_ssl => '<SERVICE DEFAULT>', { :rabbit_hosts => ['rabbit:5673'], :rabbit_use_ssl => true, { :rabbit_hosts => ['rabbit:5673'], :rabbit_use_ssl => true, } :rabbit_use_ssl => true,",64,416
openstack%2Frequirements~master~I5c8c1926d7ce3f812ad80e5435f19ced601aae13,openstack/requirements,master,I5c8c1926d7ce3f812ad80e5435f19ced601aae13,Remove spec-cleaner from upper-constraints/gr tracking,MERGED,2018-05-22 00:19:08.000000000,2018-05-23 22:53:25.000000000,2018-05-23 22:53:25.000000000,"[{'_account_id': 1955}, {'_account_id': 6593}, {'_account_id': 6717}, {'_account_id': 10384}, {'_account_id': 12898}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 13861}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-05-22 00:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f7b35631f11b80a2befd3f1c5512ae215cd2ee33', 'message': 'Move spec-cleaner to blacklist.txt\n\nspec-cleaner is used for rpm-packaging spec linting, it is not intended\nas an OpenStack dependency per se, so treat it similar like all the\nother linter dependencies.\n\nChange-Id: I5c8c1926d7ce3f812ad80e5435f19ced601aae13\n'}, {'number': 2, 'created': '2018-05-22 16:37:48.000000000', 'files': ['global-requirements.txt', 'lower-constraints.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b6d7fd56693a213d11d450c7b0d2e897da0e8291', 'message': 'Remove spec-cleaner from upper-constraints/gr tracking\n\nspec-cleaner is used for rpm-packaging spec linting, it is not intended\nas an OpenStack dependency per se. This could be added as a blacklisted\nitem as all the other linters are but rpm-packaging itself is not a\ntracked project so it is not required to add it there.\n\nChange-Id: I5c8c1926d7ce3f812ad80e5435f19ced601aae13\n'}]",0,569888,b6d7fd56693a213d11d450c7b0d2e897da0e8291,22,12,2,6593,,,0,"Remove spec-cleaner from upper-constraints/gr tracking

spec-cleaner is used for rpm-packaging spec linting, it is not intended
as an OpenStack dependency per se. This could be added as a blacklisted
item as all the other linters are but rpm-packaging itself is not a
tracked project so it is not required to add it there.

Change-Id: I5c8c1926d7ce3f812ad80e5435f19ced601aae13
",git fetch https://review.opendev.org/openstack/requirements refs/changes/88/569888/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'blacklist.txt', 'lower-constraints.txt', 'upper-constraints.txt']",4,f7b35631f11b80a2befd3f1c5512ae215cd2ee33,569888,,spec-cleaner===1.0.8,1,3
openstack%2Fpuppet-glance~master~I9f433ec89f8990a0f0c670389a301bdb732a989a,openstack/puppet-glance,master,I9f433ec89f8990a0f0c670389a301bdb732a989a,Remove deprecated parameters,MERGED,2018-05-21 21:56:34.000000000,2018-05-23 22:50:26.000000000,2018-05-23 22:50:26.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 21:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/252be9f0b1a64ed5a9639b43e30d55e25a849f8f', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: I9f433ec89f8990a0f0c670389a301bdb732a989a\n'}, {'number': 2, 'created': '2018-05-21 22:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/63ccd43962ffa984227c981bc14def96669fb918', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: I9f433ec89f8990a0f0c670389a301bdb732a989a\n'}, {'number': 3, 'created': '2018-05-22 10:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/09e0fe832e5e38b60abd46b639327c7e93c3af40', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: I9f433ec89f8990a0f0c670389a301bdb732a989a\n'}, {'number': 4, 'created': '2018-05-22 12:59:29.000000000', 'files': ['manifests/backend/cinder.pp', 'manifests/backend/file.pp', 'manifests/backend/swift.pp', 'manifests/notify/rabbitmq.pp', 'manifests/api.pp', 'manifests/glare/logging.pp', 'manifests/glare/db.pp', 'manifests/keystone/glare_auth.pp', 'manifests/glare.pp', 'manifests/config.pp', 'manifests/glare/authtoken.pp', 'manifests/backend/rbd.pp', 'manifests/backend/s3.pp', 'spec/classes/glance_api_spec.rb', 'manifests/backend/vsphere.pp', 'releasenotes/notes/remove-deprecated-params-6fa3d35be3371c74.yaml', 'spec/classes/glance_notify_rabbitmq_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/4700a450beece8fa009ea78b15c88792ab018c5f', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: I9f433ec89f8990a0f0c670389a301bdb732a989a\n'}]",0,569870,4700a450beece8fa009ea78b15c88792ab018c5f,12,3,4,16137,,,0,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: I9f433ec89f8990a0f0c670389a301bdb732a989a
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/70/569870/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/notify/rabbitmq.pp', 'manifests/api.pp', 'manifests/backend/rbd.pp', 'manifests/backend/s3.pp', 'spec/classes/glance_api_spec.rb', 'manifests/backend/vsphere.pp', 'releasenotes/notes/remove-deprecated-params-6fa3d35be3371c74.yaml', 'spec/classes/glance_notify_rabbitmq_spec.rb']",8,252be9f0b1a64ed5a9639b43e30d55e25a849f8f,gnocchi-image-proxy," describe 'when setting rabbit_ha_queues' do :rabbit_ha_queues => true,"," it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_password').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_password').with_value('<SERVICE DEFAULT>').with_secret(true) } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_userid').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_hosts').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_virtual_host').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_password').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_password').with_value('<SERVICE DEFAULT>').with_secret(true) } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_userid').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_hosts').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_virtual_host').with_value('<SERVICE DEFAULT>') } :rabbit_password => 'pass', :rabbit_userid => 'guest2', :rabbit_host => 'localhost2', :rabbit_port => '5673', it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_userid').with_value('guest2') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_host').with_value('localhost2') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_port').with_value('5673') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_userid').with_value('guest2') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_host').with_value('localhost2') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_port').with_value('5673') } :rabbit_password => 'pass', :rabbit_userid => 'guest2', :rabbit_host => 'localhost2', :rabbit_port => '5673', it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_userid').with_value('guest2') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_host').with_value('localhost2') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_port').with_value('5673') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_hosts').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_userid').with_value('guest2') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_host').with_value('localhost2') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_port').with_value('5673') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_hosts').with_value('<SERVICE DEFAULT>') } describe 'when passing params for multiple rabbit hosts' do :rabbit_password => 'pass', :rabbit_userid => 'guest3', :rabbit_hosts => ['nonlocalhost3:5673', 'nonlocalhost4:5673'] it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_userid').with_value('guest3') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_hosts').with_value('nonlocalhost3:5673,nonlocalhost4:5673') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_userid').with_value('guest3') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_hosts').with_value('nonlocalhost3:5673,nonlocalhost4:5673') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(true) } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') } end describe 'a single rabbit_host with enable ha queues' do let :params do { :rabbit_password => 'pass', :rabbit_userid => 'guest3', :rabbit_ha_queues => true, } end it 'should contain rabbit_ha_queues' do is_expected.to contain_glance_api_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value('true') is_expected.to contain_glance_registry_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value('true') end",43,258
openstack%2Fpuppet-neutron~master~If41ab16a43f98d2c0112a82f811b2137ea5515b2,openstack/puppet-neutron,master,If41ab16a43f98d2c0112a82f811b2137ea5515b2,Configure hostname to be FQDN instead of localhost,MERGED,2018-05-23 09:31:23.000000000,2018-05-23 22:46:27.000000000,2018-05-23 22:46:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 09:31:23.000000000', 'files': ['releasenotes/notes/set_hostname_to_FQDN_in_OVS-b5e09c671b74a98d.yaml', 'spec/classes/neutron_plugins_ovs_opendaylight_spec.rb', 'manifests/plugins/ovs/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/0fd755588acf9b70dcd5d387087b57dbee307ee5', 'message': 'Configure hostname to be FQDN instead of localhost\n\nhostname is set to localhost. It should be set\nto reflect the actual hostname and not localhost.\n\nChange-Id: If41ab16a43f98d2c0112a82f811b2137ea5515b2\n'}]",0,570153,0fd755588acf9b70dcd5d387087b57dbee307ee5,7,3,1,20866,,,0,"Configure hostname to be FQDN instead of localhost

hostname is set to localhost. It should be set
to reflect the actual hostname and not localhost.

Change-Id: If41ab16a43f98d2c0112a82f811b2137ea5515b2
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/53/570153/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/set_hostname_to_FQDN_in_OVS-b5e09c671b74a98d.yaml', 'spec/classes/neutron_plugins_ovs_opendaylight_spec.rb', 'manifests/plugins/ovs/opendaylight.pp']",3,0fd755588acf9b70dcd5d387087b57dbee307ee5,," # Set hostname to FQDN instead of default 'localhost' vs_config {'external_ids:hostname': value => $host_id, } ",,14,0
openstack%2Fpuppet-designate~master~I01e33221ef4f2c3afd5277dbc3f1787feee31f37,openstack/puppet-designate,master,I01e33221ef4f2c3afd5277dbc3f1787feee31f37,Remove deprecated parameters,MERGED,2018-05-21 21:31:59.000000000,2018-05-23 22:31:29.000000000,2018-05-23 22:31:29.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 21:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/c40e7d7224604d60d1cf27aab7a21c533153a295', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: I01e33221ef4f2c3afd5277dbc3f1787feee31f37\n'}, {'number': 2, 'created': '2018-05-22 10:19:01.000000000', 'files': ['releasenotes/notes/remove-deprecated-params-6ad767ccb47df2e9.yaml', 'manifests/api.pp', 'manifests/init.pp', 'manifests/mdns.pp', 'manifests/dns.pp', 'spec/classes/designate_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/25f07ee1e1f440e90f550acbc129ef0f0d6f2263', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: I01e33221ef4f2c3afd5277dbc3f1787feee31f37\n'}]",0,569867,25f07ee1e1f440e90f550acbc129ef0f0d6f2263,9,3,2,16137,,,0,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: I01e33221ef4f2c3afd5277dbc3f1787feee31f37
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/67/569867/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-deprecated-params-6ad767ccb47df2e9.yaml', 'manifests/api.pp', 'manifests/init.pp', 'manifests/mdns.pp', 'manifests/dns.pp', 'spec/classes/designate_init_spec.rb']",6,c40e7d7224604d60d1cf27aab7a21c533153a295,," context 'with transport parameter' do it_configures 'rabbit transport' shared_examples_for 'rabbit transport' do before do params.merge!({ :default_transport_url => 'rabbit://designate:secret@127.0.0.1:5672/designate', :rabbit_ha_queues => true, }) it { is_expected.to contain_designate_config('DEFAULT/transport_url').with_value('rabbit://designate:secret@127.0.0.1:5672/designate') } it { is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(true) }"," let :rabbit_ha_params do { :rabbit_hosts => [ '10.0.0.1:5672', '10.0.0.2:5672', '10.0.0.3:5672' ], :rabbit_userid => 'guest', :rabbit_password => '', :rabbit_virtual_host => '/', :amqp_durable_queues => true } end let :rabbit_non_ha_params do { :rabbit_host => '127.0.0.1', :rabbit_port => 5672, :rabbit_userid => 'guest', :rabbit_password => '', :rabbit_virtual_host => '/' } end let :rabbit_deprecated_params do { :rabbit_virtualhost => '/' } end :rabbit_host => '127.0.0.1', :rabbit_port => 5672, :rabbit_userid => 'guest', :rabbit_password => '', :rabbit_virtual_host => '/', :rabbit_host => '127.0.0.1', :rabbit_host => '127.0.0.1', context 'with rabbit_host parameter' do it_configures 'rabbit without HA support' it_configures 'rabbit with HA support' shared_examples_for 'rabbit without HA support' do before { params.merge!( rabbit_non_ha_params ) } it 'configures rabbit' do is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_userid').with_value( params[:rabbit_userid] ) is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_password').with_value( params[:rabbit_password] ) is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_password').with_value( params[:rabbit_password] ).with_secret(true) is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_virtual_host').with_value( params[:rabbit_virtual_host] ) it { is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_host').with_value( params[:rabbit_host] ) } it { is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_hosts').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_port').with_value( params[:rabbit_port] ) } it { is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value( 'false' ) } shared_examples_for 'rabbit with HA support' do before { params.merge!( rabbit_ha_params ) } it 'configures rabbit' do is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_userid').with_value( params[:rabbit_userid] ) is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_password').with_value( params[:rabbit_password] ) is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_password').with_value( params[:rabbit_password] ).with_secret(true) is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_virtual_host').with_value( params[:rabbit_virtual_host] ) end it { is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_hosts').with_value( '10.0.0.1:5672,10.0.0.2:5672,10.0.0.3:5672' ) } it { is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value( 'true' ) } it { is_expected.to contain_designate_config('oslo_messaging_rabbit/amqp_durable_queues').with_value( 'true' ) } end is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_userid').with_value( params[:rabbit_userid] ) is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_password').with_value( params[:rabbit_password] ) is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_password').with_value( params[:rabbit_password] ).with_secret(true) is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_virtual_host').with_value( params[:rabbit_virtual_host] ) shared_examples_for 'rabbit with deprecated option' do before { params.merge!( rabbit_deprecated_params ) } it 'configures rabbit' do is_expected.to contain_designate_config('oslo_messaging_rabbit/rabbit_virtual_host').with_value( params[:rabbit_virtualhost] ) end end ",33,229
openstack%2Fopenstack-ansible-os_horizon~master~I1c879188037b476b1e515f0fb750cfd0aedca06a,openstack/openstack-ansible-os_horizon,master,I1c879188037b476b1e515f0fb750cfd0aedca06a,Download and Install neutron-fwaas-dashboard,MERGED,2017-09-20 10:54:56.000000000,2018-05-23 22:01:00.000000000,2017-10-06 23:31:20.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14805}, {'_account_id': 26729}]","[{'number': 1, 'created': '2017-09-20 10:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/d07c376eaeca83afea4c2bb3de2cad778d6fecdb', 'message': 'Download and Install neutron-fwaas-dashboard\n\nDownload and install the neutron-fwaas-dashboard if being enabled within\nthe os_horizon role by the horizon_enable_neutron_fwaas var.\n\nChange-Id: I1c879188037b476b1e515f0fb750cfd0aedca06a\nPartial-Bug: 1718187\nCloses-Bug: 1718187\nImplements: Download and Install neutron-fwaas-dashboard\n'}, {'number': 2, 'created': '2017-09-20 13:10:32.000000000', 'files': ['defaults/main.yml', 'tasks/horizon_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/8a14dee837a85be14c1976e9ef7601eb60d5bcda', 'message': 'Download and Install neutron-fwaas-dashboard\n\nDownload and install the neutron-fwaas-dashboard if being enabled within\nthe os_horizon role by the horizon_enable_neutron_fwaas var.\n\nChange-Id: I1c879188037b476b1e515f0fb750cfd0aedca06a\nPartial-Bug: 1718187\n'}]",6,505592,8a14dee837a85be14c1976e9ef7601eb60d5bcda,21,6,2,26729,,,0,"Download and Install neutron-fwaas-dashboard

Download and install the neutron-fwaas-dashboard if being enabled within
the os_horizon role by the horizon_enable_neutron_fwaas var.

Change-Id: I1c879188037b476b1e515f0fb750cfd0aedca06a
Partial-Bug: 1718187
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/92/505592/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'tasks/horizon_post_install.yml']",2,d07c376eaeca83afea4c2bb3de2cad778d6fecdb,bug/1718187,"- name: Enable the neutron-fwaas-dashboard Horizon panel file: src: ""{{ horizon_lib_dir }}/neutron_fwaas_dashboard/enabled/_7010_project_firewalls_panel.py"" path: ""{{ horizon_lib_dir }}/openstack_dashboard/local/enabled/_7010_project_firewalls_panel.py"" state: ""{{ (horizon_enable_neutron_fwaas | bool) | ternary('link', 'absent') }}"" notify: Restart apache2 ",,8,0
openstack%2Fpuppet-aodh~master~Iaf45947643b0fb6495fa44c6410a7e6e98aac197,openstack/puppet-aodh,master,Iaf45947643b0fb6495fa44c6410a7e6e98aac197,Remove deprecated parameters,MERGED,2018-05-19 21:44:58.000000000,2018-05-23 21:39:13.000000000,2018-05-23 21:39:13.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-19 21:44:58.000000000', 'files': ['manifests/init.pp', 'spec/classes/aodh_init_spec.rb', 'releasenotes/notes/aodh-remove-deprecated-7ee96f8d599028be.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/bf5d06f64000a762779ef0ad9a8767cceec74bf3', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: Iaf45947643b0fb6495fa44c6410a7e6e98aac197\n'}]",0,569606,bf5d06f64000a762779ef0ad9a8767cceec74bf3,8,4,1,16137,,,0,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: Iaf45947643b0fb6495fa44c6410a7e6e98aac197
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/06/569606/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/aodh_init_spec.rb', 'releasenotes/notes/aodh-remove-deprecated-7ee96f8d599028be.yaml']",3,bf5d06f64000a762779ef0ad9a8767cceec74bf3,,"--- upgrade: - | The deprecated parameters aodh::rabbit_host, aodh::rabbit_hosts, aodh::rabbit_password, aodh::rabbit_userid, aodh::rabbit_port and aodh::rabbit_virtual_host is removed. Please use aodh::default_transport_url instead. - | The deprecated parameter aodh::rpc_backend is removed. ",,18,127
openstack%2Fpuppet-congress~master~Ic8a697525dd659dff13e91a00b573890e61a30ff,openstack/puppet-congress,master,Ic8a697525dd659dff13e91a00b573890e61a30ff,Remove deprecated parameters,MERGED,2018-05-21 21:02:59.000000000,2018-05-23 21:38:45.000000000,2018-05-23 21:38:45.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 21:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/21fb830ebb5072068101410d780d12e30e7be0cb', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: Ic8a697525dd659dff13e91a00b573890e61a30ff\n'}, {'number': 2, 'created': '2018-05-21 21:04:19.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/remove-deprecated-params-bf2f9e3894c14d76.yaml', 'spec/classes/congress_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/aef7941268ed55112759859a39739d812d399052', 'message': 'Remove deprecated parameters\n\nRemoves deprecated parameters that has been\ndeprecated for one cycle or more.\n\nChange-Id: Ic8a697525dd659dff13e91a00b573890e61a30ff\n'}]",0,569863,aef7941268ed55112759859a39739d812d399052,8,3,2,16137,,,0,"Remove deprecated parameters

Removes deprecated parameters that has been
deprecated for one cycle or more.

Change-Id: Ic8a697525dd659dff13e91a00b573890e61a30ff
",git fetch https://review.opendev.org/openstack/puppet-congress refs/changes/63/569863/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/remove-deprecated-params-bf2f9e3894c14d76.yaml', 'spec/classes/congress_init_spec.rb']",3,21fb830ebb5072068101410d780d12e30e7be0cb,," {} :rabbit_ha_queues => true, is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(true) :rabbit_use_ssl => true, }"," { :rabbit_password => '<SERVICE DEFAULT>', } is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_password').with_value('<SERVICE DEFAULT>').with_secret(true) is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_userid').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_virtual_host').with_value('<SERVICE DEFAULT>') :rabbit_host => 'rabbit', :rabbit_userid => 'rabbit_user', :rabbit_port => '5673', :rabbit_password => 'password', :rabbit_ha_queues => 'undef', is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_host').with_value('rabbit') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_password').with_value('password').with_secret(true) is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_port').with_value('5673') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_userid').with_value('rabbit_user') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_virtual_host').with_value('<SERVICE DEFAULT>') end end context 'with rabbit_hosts parameter' do let :params do { :rabbit_password => '<SERVICE DEFAULT>', :rabbit_hosts => ['rabbit:5673', 'rabbit2:5674'] } end it 'configures rabbit' do is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_hosts').with_value('rabbit:5673,rabbit2:5674') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(true) end context 'with rabbit_hosts parameter (one server)' do let :params do { :rabbit_password => '<SERVICE DEFAULT>', :rabbit_hosts => ['rabbit:5673'] } end it 'configures rabbit' do is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_hosts').with_value('rabbit:5673') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/kombu_reconnect_delay').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/kombu_failover_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/amqp_durable_queues').with_value('<SERVICE DEFAULT>') is_expected.to contain_oslo__messaging__rabbit('congress_config').with( :rabbit_use_ssl => '<SERVICE DEFAULT>', ) end :rabbit_password => '<SERVICE DEFAULT>', :rabbit_password => '<SERVICE DEFAULT>', context 'with rabbit_ha_queues set to false and with rabbit_hosts' do let :params do { :rabbit_password => '<SERVICE DEFAULT>', :rabbit_ha_queues => 'false', :rabbit_hosts => ['rabbit:5673'] } end it 'configures rabbit' do is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(false) end end :rabbit_password => '<SERVICE DEFAULT>', :rabbit_hosts => ['rabbit:5673'], is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_host').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_port').with_value('<SERVICE DEFAULT>') is_expected.to contain_congress_config('oslo_messaging_rabbit/rabbit_hosts').with_value('rabbit:5673') :rabbit_password => '<SERVICE DEFAULT>', :rabbit_hosts => ['rabbit:5673'], :rabbit_password => '<SERVICE DEFAULT>', :rabbit_hosts => ['rabbit:5673'], :rabbit_use_ssl => true, }",13,136
openstack%2Fxstatic-angular-material~master~I36cadb723837b351b870006b15c854d990d04272,openstack/xstatic-angular-material,master,I36cadb723837b351b870006b15c854d990d04272,fix typos in angular-material.js,ABANDONED,2018-05-23 13:25:51.000000000,2018-05-23 21:28:22.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 13:25:51.000000000', 'files': ['xstatic/pkg/angular_material/data/angular-material.js'], 'web_link': 'https://opendev.org/openstack/xstatic-angular-material/commit/60f115564a9d74e5423c46e698ce7d86f3a946a8', 'message': 'fix typos in angular-material.js\n\nChange-Id: I36cadb723837b351b870006b15c854d990d04272\n'}]",0,570195,60f115564a9d74e5423c46e698ce7d86f3a946a8,5,3,1,17130,,,0,"fix typos in angular-material.js

Change-Id: I36cadb723837b351b870006b15c854d990d04272
",git fetch https://review.opendev.org/openstack/xstatic-angular-material refs/changes/95/570195/1 && git format-patch -1 --stdout FETCH_HEAD,['xstatic/pkg/angular_material/data/angular-material.js'],1,60f115564a9d74e5423c46e698ce7d86f3a946a8,trivialfix," * overridden them.})(window, window.angular);;window.ngMaterial={version:{full: ""1.1.5""}}; "," * overriden them.})(window, window.angular);;window.ngMaterial={version:{full: ""1.1.5""}};",2,2
openstack%2Fpuppet-horizon~master~I8a4039ac70da4d6c72570885cb1b8bd674e685eb,openstack/puppet-horizon,master,I8a4039ac70da4d6c72570885cb1b8bd674e685eb,fix a typo in horizon_init_spec.rb,MERGED,2018-05-23 13:18:54.000000000,2018-05-23 21:28:09.000000000,2018-05-23 21:28:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 13:18:54.000000000', 'files': ['spec/classes/horizon_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/61b92ef57097f0e8a44ea115f89a0efde468e49b', 'message': 'fix a typo in horizon_init_spec.rb\n\nChange-Id: I8a4039ac70da4d6c72570885cb1b8bd674e685eb\n'}]",0,570190,61b92ef57097f0e8a44ea115f89a0efde468e49b,7,3,1,17130,,,0,"fix a typo in horizon_init_spec.rb

Change-Id: I8a4039ac70da4d6c72570885cb1b8bd674e685eb
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/90/570190/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/horizon_init_spec.rb'],1,61b92ef57097f0e8a44ea115f89a0efde468e49b,trivialfix, context 'with overridden http and https ports' do, context 'with overriden http and https ports' do,1,1
openstack%2Fcharm-deployment-guide~master~I804e306583135a5cc770250f6eab664a737b7f56,openstack/charm-deployment-guide,master,I804e306583135a5cc770250f6eab664a737b7f56,Add appendix for encryption-at-rest,MERGED,2018-05-11 10:51:28.000000000,2018-05-23 21:12:15.000000000,2018-05-23 21:12:15.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 10:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/059603601c33310d1b7fa99f43ca8710b27c4ed9', 'message': 'Add appendix for encryption-at-rest\n\nProvide details on how to encrypt data at rest to mitigate the\nrisk of data compromise in the event that a disk, server or\nmultiple servers are lost from a data center deployment.\n\nChange-Id: I804e306583135a5cc770250f6eab664a737b7f56\n'}, {'number': 2, 'created': '2018-05-11 15:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0f769b1ce524286b4bd98f32d2046f0ac39ed1a5', 'message': 'Add appendix for encryption-at-rest\n\nProvide details on how to encrypt data at rest to mitigate the\nrisk of data compromise in the event that a disk, server or\nmultiple servers are lost from a data center deployment.\n\nChange-Id: I804e306583135a5cc770250f6eab664a737b7f56\n'}, {'number': 3, 'created': '2018-05-11 15:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1aca34abbc31428261d2d3283185a2b6aa266a02', 'message': 'Add appendix for encryption-at-rest\n\nProvide details on how to encrypt data at rest to mitigate the\nrisk of data compromise in the event that a disk, server or\nmultiple servers are lost from a data center deployment.\n\nChange-Id: I804e306583135a5cc770250f6eab664a737b7f56\n'}, {'number': 4, 'created': '2018-05-14 08:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/097b85e6f8caca82931f2065b79e1faacd547ef7', 'message': 'Add appendix for encryption-at-rest\n\nProvide details on how to encrypt data at rest to mitigate the\nrisk of data compromise in the event that a disk, server or\nmultiple servers are lost from a data center deployment.\n\nChange-Id: I804e306583135a5cc770250f6eab664a737b7f56\n'}, {'number': 5, 'created': '2018-05-23 17:54:12.000000000', 'files': ['deploy-guide/source/app.rst', 'deploy-guide/source/app-encryption-at-rest.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/94a2231947c4a55fc80b7253b1106e78ceb003cb', 'message': 'Add appendix for encryption-at-rest\n\nProvide details on how to encrypt data at rest to mitigate the\nrisk of data compromise in the event that a disk, server or\nmultiple servers are lost from a data center deployment.\n\nChange-Id: I804e306583135a5cc770250f6eab664a737b7f56\n'}]",6,567826,94a2231947c4a55fc80b7253b1106e78ceb003cb,18,3,5,935,,,0,"Add appendix for encryption-at-rest

Provide details on how to encrypt data at rest to mitigate the
risk of data compromise in the event that a disk, server or
multiple servers are lost from a data center deployment.

Change-Id: I804e306583135a5cc770250f6eab664a737b7f56
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/26/567826/5 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/app.rst', 'deploy-guide/source/app-encryption-at-rest.rst']",2,059603601c33310d1b7fa99f43ca8710b27c4ed9,encryption-at-rest,"Appendix C: Encryption at Rest ============================== Overview ++++++++ As of the 18.05 release, the OpenStack charms support encryption of data in three key areas - local ephemeral instance storage for Nova instances, Ceph OSD block devices and Swift Storage block devices. The objective of this feature is to mitigate the risk of data compromise in the event that disks or full servers are removed from data center deployments. Encryption of underlying block devices is performed using dm-crypt with LUKS; key management is provided by Vault, which provides secure encrypted storage of the keys used for each block device with automatic sealing of secrets in the event of reboot/restart of services. The objective of this feature is to mitigate the risk of data compromise in the event that disks or full servers are removed from data center deployments. Vault +++++ Deploy vault ~~~~~~~~~~~~ First deploy the vault charm along with supporting services: .. code:: bash juju deploy --to lxd:0 vault juju config vault disable-mlock=true juju add-relation mysql vault Vault can make use of the existing Percona XtraDB Cluster deployed to support the rest of the OpenStack applications or could be deployed with a seperate instance if required. All data stored is encrypted by vault using its master encryption key. Vault will deploy and startup in an un-initialized state; For production deployments the unseal keys used to manage the Vault master key used for encryption should be managed from outside of the Juju model hosting vault and the OpenStack Charms. .. note:: Production deployments you should also secure vault using the ssl-* configuration options provided by the charm; this ensures that communcation with the Vault REST API is always secure as data on the network is also encrypted using TLS encryption. Initialize and unseal vault ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Install the vault snap and configure the VAULT_ADDR environment variable: .. code:: bash sudo snap install vault export VAULT_ADDR=""https://<IP of vault unit>:8200"" and then initialize the vault deployment: .. code:: bash vault operator init -key-shares=5 -key-threshold=3 you should get a response like: .. code:: bash Unseal Key 1: XqeOza3SY6f4L6xfuk6f8JumrEF7cak9mUXCCPRXzs4B Unseal Key 2: djvVAAste0F5iSe43nmBs2ZX5r+wUqHe4UfUrcprWkyM Unseal Key 3: iSXHBdTNIKrbd3JIEI+n+q7j04Q4HPsQOHgk7apupttT Unseal Key 4: J8jzdUi0HOWgx8Ig75Mu8uVQTXkw6yNv2kMhjeNz2/5B Unseal Key 5: xTJkk3guA9Mq3CYfDhIBevSWrD1CIer6q70HVACMbduc Initial Root Token: ebded15e-c908-5d3a-1df0-1e7e7218c162 Vault initialized with 5 key shares and a key threshold of 3. Please securely distribute the key shares printed above. When the Vault is re-sealed, restarted, or stopped, you must supply at least 3 of these keys to unseal it before it can start servicing requests. Vault does not store the generated master key. Without at least 3 key to reconstruct the master key, Vault will remain permanently sealed! It is possible to generate new unseal keys, provided you have a quorum of existing unseal keys shares. See ""vault rekey"" for more information. This response details the 5 keys that can be used to unseal the vault deployment and an initial root token for accessing the Vault API. .. warning:: Do not loose the unseal keys! Its impossible to unseal vault without them which must be completed after any restart of the vault daemon as part of ongoing maintenance. .. warning:: Do not loose the root token! Without it the vault deployment will be inaccessible. you can then unseal the vault deployment for operation: .. code:: bash vault operator unseal XqeOza3SY6f4L6xfuk6f8JumrEF7cak9mUXCCPRXzs4B vault operator unseal djvVAAste0F5iSe43nmBs2ZX5r+wUqHe4UfUrcprWkyM vault operator unseal iSXHBdTNIKrbd3JIEI+n+q7j04Q4HPsQOHgk7apupttT Authorize vault charm ~~~~~~~~~~~~~~~~~~~~~ vault is now ready for use - however the charm needs to be authorized using a root token to be able to create secrets storage back-ends and roles to allow other applications to access vault for encryption key storage. First generate a one-shot root token with a limited TTL using the initial root token for this purpose: .. code:: bash export VAULT_TOKEN=ebded15e-c908-5d3a-1df0-1e7e7218c162 vault token create -use-limit=1 -ttl=10m you should get a response like: .. code:: bash Key Value --- ----- token 03ceadf5-529d-6a64-0cfd-1e341b1dacb1 token_accessor 17390537-2012-51dc-93d0-9cc26ba953eb token_duration 10m token_renewable true token_policies [root] This token can then be used to setup access for the charm to Vault: .. code:: bash juju run-action vault/0 authorize-charm token=03ceadf5-529d-6a64-0cfd-1e341b1dacb1 After the action completes execution, the vault unit will go active and any pending requests for secrets storage will be processed for consuming applications. Enabling Encryption +++++++++++++++++++ Encryption is enable via configuration options on the nova-compute, swift-storage and ceph-osd charms and a relation to the vault application: .. code:: bash juju config swift-storage encrypt=true juju config nova-compute encrypt=true ephemeral-device=/dev/bcache2 juju config ceph-osd osd-encrypt=true osd-encrypt-keymanager=vault juju add-relation swift-storage:secrets-storage vault:secrets juju add-relation nova-compute:secrets-storage vault:secrets juju add-relation ceph-osd:secrets-storage vault:secrets .. note:: Encryption is only enabled during the initial preparation of the underlying block devices by the charms; enabling these options post deployment will not enable encryption on existing in-use devices. As a result its best to enable this options as part of an overlay bundle for during initial deployment. Security Design Notes +++++++++++++++++++++ Consuming application units access Vault using a Vault AppRole and associated policy which is specific to each machine in the deployment; The AppRole enforces uses of a secret id and access is only permitted from the configured network address of the consuming unit. The associated policy only allows the consuming unit to store and retrieve secrets from a specific secrets back-end under a specific sub path (in this case the hostname of the unit). The secret id for the AppRole is retrieved out-of-band from Juju by the consuming charm; a one-shot retrieval token is provided over the relation from vault to each consuming application which is specific to each unit which can be used to retrieve the actual secret id; the token also has a limited ttl (2 hours) and the call must originate from the configured network address of the consuming unit. The secret id is only ever visible to the consuming unit and vault itself, providing an additional layer of protection for deployments. LUKS encryption keys are never store on local disk; vaultlocker is used to encrypt and store the key in vault, and to retrieve the key and open encrypted block devices during boot. Keys are only ever held in memory. ",,199,0
openstack%2Ftripleo-quickstart-extras~master~I589eac3b044c590a23ed42d00be46e63c71f9bad,openstack/tripleo-quickstart-extras,master,I589eac3b044c590a23ed42d00be46e63c71f9bad,Add missing zuul_changes variable,ABANDONED,2018-05-22 02:35:22.000000000,2018-05-23 20:41:25.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-22 02:35:22.000000000', 'files': ['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6a7910074123768d343699cb28aff86ecc1f5468', 'message': 'Add missing zuul_changes variable\n\nWithout passing this to the nodepool-setup.yml playbook, any changes\nto tripleo-quickstart etc will not be checked out on the nodes, so the\nreproducer will be running master instead.\n\nChange-Id: I589eac3b044c590a23ed42d00be46e63c71f9bad\n'}]",0,569902,6a7910074123768d343699cb28aff86ecc1f5468,12,8,1,4571,,,0,"Add missing zuul_changes variable

Without passing this to the nodepool-setup.yml playbook, any changes
to tripleo-quickstart etc will not be checked out on the nodes, so the
reproducer will be running master instead.

Change-Id: I589eac3b044c590a23ed42d00be46e63c71f9bad
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/02/569902/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'],1,6a7910074123768d343699cb28aff86ecc1f5468,reproducer_zuul_changes," -e zuul_changes=""${ZUUL_CHANGES}"" \",,1,0
openstack%2Fcinder~stable%2Focata~Ifb65b8008f30bc9cc4b6cd9b867a726ec4ed4707,openstack/cinder,stable/ocata,Ifb65b8008f30bc9cc4b6cd9b867a726ec4ed4707,Improve ChunkedBackupDriver hashlib calls,MERGED,2018-05-03 13:19:05.000000000,2018-05-23 19:59:13.000000000,2018-05-23 19:59:13.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24441}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-03 13:19:05.000000000', 'files': ['cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7dd5b5ce7fb1bcd1cadb017cca9d73a7d930af14', 'message': 'Improve ChunkedBackupDriver hashlib calls\n\nCurrently we have 2 hashlib calls withing the ChunkedBackupDriver, one\nto calculate the MD5 of the chunk and another to calculate the SHA256 of\nthe blocks within each chunk.\n\nThis patch improve interactions between cinder and the hashlib library\nmethod calls by making sure MD5 and SHA256 related calls are execute in\na native thread to improve context switching responsiveness within\neventlet.\n\nThe MD5 of a 1GB chunk could take around 4 seconds, so the overhead of\ncreating a native thread is acceptable, and for the SHA256 instead of\ncreating a thread for each call we create a single thread to do the\ncalculations of all the blocks, thus making it cost effective.\n\nCurrent code slices the data into blocks, which means that the data is being\ncopied, but this has now been switched to a memoryview object to take advantage\nof the buffer protocol so copying of data is no longer necesary.\n\nChange-Id: Ifb65b8008f30bc9cc4b6cd9b867a726ec4ed4707\n(cherry picked from commit 671b02b504a45953cf225a210c361729d480dd66)\nConflicts:\n\tcinder/backup/chunkeddriver.py\n(cherry picked from commit 2ec114d3c7306b431ab2bd2ee47bf09eb8223ffd)\n(cherry picked from commit acfdbb62f706451bf1faf3d6926e9267028186c8)\n'}]",0,566061,7dd5b5ce7fb1bcd1cadb017cca9d73a7d930af14,21,16,1,9535,,,0,"Improve ChunkedBackupDriver hashlib calls

Currently we have 2 hashlib calls withing the ChunkedBackupDriver, one
to calculate the MD5 of the chunk and another to calculate the SHA256 of
the blocks within each chunk.

This patch improve interactions between cinder and the hashlib library
method calls by making sure MD5 and SHA256 related calls are execute in
a native thread to improve context switching responsiveness within
eventlet.

The MD5 of a 1GB chunk could take around 4 seconds, so the overhead of
creating a native thread is acceptable, and for the SHA256 instead of
creating a thread for each call we create a single thread to do the
calculations of all the blocks, thus making it cost effective.

Current code slices the data into blocks, which means that the data is being
copied, but this has now been switched to a memoryview object to take advantage
of the buffer protocol so copying of data is no longer necesary.

Change-Id: Ifb65b8008f30bc9cc4b6cd9b867a726ec4ed4707
(cherry picked from commit 671b02b504a45953cf225a210c361729d480dd66)
Conflicts:
	cinder/backup/chunkeddriver.py
(cherry picked from commit 2ec114d3c7306b431ab2bd2ee47bf09eb8223ffd)
(cherry picked from commit acfdbb62f706451bf1faf3d6926e9267028186c8)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/566061/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/chunkeddriver.py'],1,7dd5b5ce7fb1bcd1cadb017cca9d73a7d930af14,ocata-fix/backup-sha," md5 = eventlet.tpool.execute(hashlib.md5, data).hexdigest() def _calculate_sha(self, data): """"""Calculate SHA256 of a data chunk. This method cannot log anything as it is called on a native thread. """""" # NOTE(geguileo): Using memoryview to avoid data copying when slicing # for the sha256 call. chunk = memoryview(data) shalist = [] off = 0 datalen = len(chunk) while off < datalen: chunk_end = min(datalen, off + self.sha_block_size_bytes) block = chunk[off:chunk_end] sha = hashlib.sha256(block).hexdigest() shalist.append(sha) off += self.sha_block_size_bytes return shalist shalist = eventlet.tpool.execute(self._calculate_sha, data) extent_end = len(data)", md5 = hashlib.md5(data).hexdigest() shalist = [] off = 0 datalen = len(data) while off < datalen: chunk_start = off chunk_end = chunk_start + self.sha_block_size_bytes if chunk_end > datalen: chunk_end = datalen chunk = data[chunk_start:chunk_end] sha = hashlib.sha256(chunk).hexdigest() shalist.append(sha) off += self.sha_block_size_bytes extent_end = datalen,22,14
openstack%2Ftripleo-ui~master~Iccb1685c00e1310b3f5b5334ff96726325bcab12,openstack/tripleo-ui,master,Iccb1685c00e1310b3f5b5334ff96726325bcab12,Add an id to the DropdownToggle in UserDropdown,MERGED,2018-04-13 12:39:06.000000000,2018-05-23 19:57:23.000000000,2018-05-23 19:57:23.000000000,"[{'_account_id': 7509}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 12946}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-13 12:39:06.000000000', 'files': ['src/js/components/ui/dropdown/DropdownToggle.js', 'src/js/components/UserDropdown.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/4fda81db990f0df985c7565e6d6eb002202c8208', 'message': 'Add an id to the DropdownToggle in UserDropdown\n\nThis is to help with targetting the element in our automation tests.\n\nChange-Id: Iccb1685c00e1310b3f5b5334ff96726325bcab12\n'}]",2,561211,4fda81db990f0df985c7565e6d6eb002202c8208,11,7,1,20970,,,0,"Add an id to the DropdownToggle in UserDropdown

This is to help with targetting the element in our automation tests.

Change-Id: Iccb1685c00e1310b3f5b5334ff96726325bcab12
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/11/561211/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/js/components/ui/dropdown/DropdownToggle.js', 'src/js/components/UserDropdown.js']",2,4fda81db990f0df985c7565e6d6eb002202c8208,logout-id," <DropdownToggle id=""UserDropdown__toggle"">", <DropdownToggle>,3,1
openstack%2Ftripleo-ui~master~I5bcc45c3f8cc74595fe28ea35fa4569d8cb8e661,openstack/tripleo-ui,master,I5bcc45c3f8cc74595fe28ea35fa4569d8cb8e661,Reinstate logout link id,MERGED,2018-04-12 17:52:48.000000000,2018-05-23 19:57:22.000000000,2018-05-23 19:57:22.000000000,"[{'_account_id': 7509}, {'_account_id': 8351}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 17888}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-12 17:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/1074b693dea3552b118c0c8ec05319ab272e5d82', 'message': 'Reinstate logout link id\n\nDuring a recent patch, the logout link id was accidentally removed.\nThis id is used heavily by selenium tests.\n\nChange-Id: I5bcc45c3f8cc74595fe28ea35fa4569d8cb8e661\n'}, {'number': 2, 'created': '2018-04-12 19:58:46.000000000', 'files': ['src/js/components/ui/dropdown/DropdownItem.js', 'src/js/components/UserDropdown.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/05a2a6c268ae1ff0bc76bb285d5eaf3a2aae625e', 'message': 'Reinstate logout link id\n\nDuring a recent patch, the logout link id was accidentally removed.\nThis id is used heavily by selenium tests.\n\nChange-Id: I5bcc45c3f8cc74595fe28ea35fa4569d8cb8e661\n'}]",0,560992,05a2a6c268ae1ff0bc76bb285d5eaf3a2aae625e,12,6,2,20970,,,0,"Reinstate logout link id

During a recent patch, the logout link id was accidentally removed.
This id is used heavily by selenium tests.

Change-Id: I5bcc45c3f8cc74595fe28ea35fa4569d8cb8e661
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/92/560992/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/js/components/ui/dropdown/DropdownItem.js', 'src/js/components/UserDropdown.js']",2,1074b693dea3552b118c0c8ec05319ab272e5d82,logout-id," <DropdownItem onClick={this.props.logout} id=""NavBar__logoutLink"">", <DropdownItem onClick={this.props.logout}>,4,3
openstack%2Ftripleo-heat-templates~master~Ie36342402426d74fd528e320d60adc951bf8c9ac,openstack/tripleo-heat-templates,master,Ie36342402426d74fd528e320d60adc951bf8c9ac,Don't delete br-ex on upgrade in multinode jobs,MERGED,2018-05-21 11:29:04.000000000,2018-05-23 19:57:20.000000000,2018-05-23 19:57:20.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 16515}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-21 11:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdf87aff685058584c921c87e53eb3ddea2bfed6', 'message': ""Don't delete br-ex on upgrade in multinode jobs\n\nThe hook for os-net-config in multinode NIC config templates contains\na call to `ovs-vsctl del-br br-ex` to remove the bridge we got from\nnodepool and initialize network config. We need to avoid executing\nthat again on upgrade, or the Ansible process running the upgrade gets\nstuck.\n\nChange-Id: Ie36342402426d74fd528e320d60adc951bf8c9ac\nCloses-Bug: #1772040\n""}, {'number': 2, 'created': '2018-05-21 15:04:09.000000000', 'files': ['ci/common/net-config-multinode-os-net-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9e2b4d104e51f3aafc0cb4ee285163da21ef8a2', 'message': ""Don't delete br-ex on upgrade in multinode jobs\n\nThe hook for os-net-config in multinode NIC config templates contains\na call to `ovs-vsctl del-br br-ex` to remove the bridge we got from\nnodepool and initialize network config. We need to avoid executing\nthat again on upgrade, or the Ansible process running the upgrade gets\nstuck.\n\nChange-Id: Ie36342402426d74fd528e320d60adc951bf8c9ac\nCloses-Bug: #1772040\n""}]",3,569781,e9e2b4d104e51f3aafc0cb4ee285163da21ef8a2,18,12,2,8042,,,0,"Don't delete br-ex on upgrade in multinode jobs

The hook for os-net-config in multinode NIC config templates contains
a call to `ovs-vsctl del-br br-ex` to remove the bridge we got from
nodepool and initialize network config. We need to avoid executing
that again on upgrade, or the Ansible process running the upgrade gets
stuck.

Change-Id: Ie36342402426d74fd528e320d60adc951bf8c9ac
Closes-Bug: #1772040
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/569781/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/common/net-config-multinode-os-net-config.yaml'],1,cdf87aff685058584c921c87e53eb3ddea2bfed6,bug/1772040," export interface_name=""br-ex_$primary_private_ip"" # If $interface_name is already present in `ovs-vsctl # show`, assume config is already applied and exit. # (Mainly for upgrade job, to avoid deleting br-ex # during upgrade.) if ovs-vsctl show | grep $interface_name &> /dev/null; then return 0 fi sed -i ""s/primary_private_ip/$primary_private_ip/"" /etc/os-net-config/config.json"," sed -i ""s/primary_private_ip/$primary_private_ip/"" /etc/os-net-config/config.json export interface_name=""br-ex_$primary_private_ip""",11,2
openstack%2Ftripleo-common~stable%2Fqueens~Icc64b32a2179cd10853a54a83bf82a1761297ebd,openstack/tripleo-common,stable/queens,Icc64b32a2179cd10853a54a83bf82a1761297ebd,Find deployment name in config download,MERGED,2018-05-09 15:04:37.000000000,2018-05-23 19:57:20.000000000,2018-05-23 19:57:20.000000000,"[{'_account_id': 7385}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 11166}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-09 15:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bc1d0a60a5f863b6e4ee955af849aa8b970b4d8a', 'message': ""Find deployment name in config download\n\nIn some cases we get a ResourceGroup as parent resource of a deployment,\nso the name will be a number. Ansible will be unhappy with that, so\nlet's get the grand parent to get the proper name.\n\nRelated-Bug: #1755078\n(cherry picked from commit 635f6a4374b35489084131d62b88e7272b987bb3)\nChange-Id: Icc64b32a2179cd10853a54a83bf82a1761297ebd\n""}, {'number': 2, 'created': '2018-05-10 07:37:08.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/091e603ef97ff18e0a0ca7964d05f5c8970758aa', 'message': ""Find deployment name in config download\n\nIn some cases we get a ResourceGroup as parent resource of a deployment,\nso the name will be a number. Ansible will be unhappy with that, so\nlet's get the grand parent to get the proper name.\n\nRelated-Bug: #1755078\n(cherry picked from commit 635f6a4374b35489084131d62b88e7272b987bb3)\nChange-Id: Icc64b32a2179cd10853a54a83bf82a1761297ebd\n""}]",2,567249,091e603ef97ff18e0a0ca7964d05f5c8970758aa,33,10,2,26343,,,0,"Find deployment name in config download

In some cases we get a ResourceGroup as parent resource of a deployment,
so the name will be a number. Ansible will be unhappy with that, so
let's get the grand parent to get the proper name.

Related-Bug: #1755078
(cherry picked from commit 635f6a4374b35489084131d62b88e7272b987bb3)
Change-Id: Icc64b32a2179cd10853a54a83bf82a1761297ebd
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/567249/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,bc1d0a60a5f863b6e4ee955af849aa8b970b4d8a,bug/1755078," if not deployment_name: message = ""The deployment name cannot be determined. It "" \ ""should be set via the name property on the "" \ ""Deployment resources in the templates."" raise ValueError(message) try: int(deployment_name) except ValueError: pass else: # We can't have an integer here, let's figure out the # grandparent resource name deployment_stack_id = \ deployment.attributes['value']['deployment'].split('/')[-1] deployment_stack = self.client.stacks.get( deployment_stack_id, resolve_outputs=False) parent_stack = deployment_stack.parent resources = self.client.resources.list( name, nested_depth=constants.NESTED_DEPTH, filters=dict(physical_resource_id=parent_stack)) if not resources: message = ""The deployment resource grandparent name could"" \ ""not be determined."" raise ValueError(message) deployment_name = resources[0].name ",,28,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~If8902980c93212401e5ff30828f6f03da6eece0e,openstack/python-tripleoclient,stable/queens,If8902980c93212401e5ff30828f6f03da6eece0e,Add exclude-path to undercloud backups,MERGED,2018-05-14 07:13:16.000000000,2018-05-23 19:57:19.000000000,2018-05-23 19:57:19.000000000,"[{'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 16515}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-14 07:13:16.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_undercloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4c456b44759d5753fd2ff3a973d36cd3765c1e6e', 'message': 'Add exclude-path to undercloud backups\n\nThis patch adds the option to exclude files\nwhen executing an Undercloud backup\n\nChange-Id: If8902980c93212401e5ff30828f6f03da6eece0e\nCloses-Bug: 1767385\n(cherry picked from commit 1a05c694b873c7dee5cc233c70e206de26bfc52d)\n'}]",0,568210,4c456b44759d5753fd2ff3a973d36cd3765c1e6e,38,9,1,20775,,,0,"Add exclude-path to undercloud backups

This patch adds the option to exclude files
when executing an Undercloud backup

Change-Id: If8902980c93212401e5ff30828f6f03da6eece0e
Closes-Bug: 1767385
(cherry picked from commit 1a05c694b873c7dee5cc233c70e206de26bfc52d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/10/568210/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_undercloud_backup.py']",2,4c456b44759d5753fd2ff3a973d36cd3765c1e6e,exclude-path," @mock.patch('tripleoclient.workflows.undercloud_backup.backup', autospec=True) def test_undercloud_backup_withargs_remove(self, plan_mock): arglist = [ '--add-path', '/tmp/foo.yaml', '--exclude-path', '/tmp/bar.yaml', '--exclude-path', '/home/stack/', '--add-path', '/tmp/bar.yaml' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) plan_mock.assert_called_once_with( mock.ANY, {'sources_path': '/tmp/foo.yaml'}) @mock.patch('tripleoclient.workflows.undercloud_backup.backup', autospec=True) def test_undercloud_backup_withargs_remove_double(self, plan_mock): arglist = [ '--add-path', '/tmp/foo.yaml', '--add-path', '/tmp/bar.yaml', '--exclude-path', '/tmp/foo.yaml', '--exclude-path', '/tmp/foo.yaml' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) plan_mock.assert_called_once_with( mock.ANY, {'sources_path': '/home/stack/,/tmp/bar.yaml'}) @mock.patch('tripleoclient.workflows.undercloud_backup.backup', autospec=True) def test_undercloud_backup_withargs_remove_unex(self, plan_mock): arglist = [ '--add-path', '/tmp/foo.yaml', '--exclude-path', '/tmp/non-existing-path.yaml' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) plan_mock.assert_called_once_with( mock.ANY, {'sources_path': '/home/stack/,/tmp/foo.yaml'})",,78,1
openstack%2Fpython-tripleoclient~stable%2Fqueens~I77fdc9deab97c785725f09b8529c512950753f86,openstack/python-tripleoclient,stable/queens,I77fdc9deab97c785725f09b8529c512950753f86,Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare,MERGED,2018-05-15 14:49:35.000000000,2018-05-23 19:57:18.000000000,2018-05-23 19:57:18.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-15 14:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1aaa02bb5940d01a3f31845e6bffbbb67fb893ba', 'message': 'Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare\n\nBefore we update the heat stack for the ffwd-upgrade prepare we\ncan use this to run any required commands on the overcloud.\n\nThe current use case is removal of the\n/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json\nOtherwise after the upgrade prepare is executed, overcloud nodes\nwill have empty config.json for os-net-config (also discussed [0])\n\nThe current implementation of .deployment.v1.deploy_on_servers assumes\nall servers are managed by nova. This is OK for N..Q ffu but we will\nneed to revisit in future, see [1] for more info.\n\n[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255\n[1]: https://bugs.launchpad.net/tripleo/+bug/1770356\nRelated-Bug: 1758161\nDepends-On: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc\nChange-Id: I77fdc9deab97c785725f09b8529c512950753f86\n'}, {'number': 2, 'created': '2018-05-16 15:28:19.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/workflows/package_update.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/12a5340c506157523df06888787aa8eff0cb69b8', 'message': 'Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare\n\nBefore we update the heat stack for the ffwd-upgrade prepare we\ncan use this to run any required commands on the overcloud.\n\nThe current use case is removal of the\n/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json\nOtherwise after the upgrade prepare is executed, overcloud nodes\nwill have empty config.json for os-net-config (also discussed [0])\n\nThe current implementation of .deployment.v1.deploy_on_servers assumes\nall servers are managed by nova. This is OK for N..Q ffu but we will\nneed to revisit in future, see [1] for more info.\n\n[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255\n[1]: https://bugs.launchpad.net/tripleo/+bug/1770356\nRelated-Bug: 1758161\nDepends-On: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc\nChange-Id: I77fdc9deab97c785725f09b8529c512950753f86\n(cherry picked from commit 0598141440882cc9a31e81626e7d01e0197eda80)\n'}]",1,568604,12a5340c506157523df06888787aa8eff0cb69b8,27,8,2,8449,,,0,"Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare

Before we update the heat stack for the ffwd-upgrade prepare we
can use this to run any required commands on the overcloud.

The current use case is removal of the
/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json
Otherwise after the upgrade prepare is executed, overcloud nodes
will have empty config.json for os-net-config (also discussed [0])

The current implementation of .deployment.v1.deploy_on_servers assumes
all servers are managed by nova. This is OK for N..Q ffu but we will
need to revisit in future, see [1] for more info.

[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255
[1]: https://bugs.launchpad.net/tripleo/+bug/1770356
Related-Bug: 1758161
Depends-On: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc
Change-Id: I77fdc9deab97c785725f09b8529c512950753f86
(cherry picked from commit 0598141440882cc9a31e81626e7d01e0197eda80)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/04/568604/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/workflows/package_update.py']",3,1aaa02bb5940d01a3f31845e6bffbbb67fb893ba,bug/1758161," def run_on_nodes(clients, **workflow_input): workflow_client = clients.workflow_engine tripleoclients = clients.tripleoclient with tripleoclients.messaging_websocket( workflow_input['queue_name']) as ws: execution = base.start_workflow( workflow_client, 'tripleo.deployment.v1.deploy_on_servers', workflow_input=workflow_input ) for payload in base.wait_for_messages(workflow_client, ws, execution): assert payload['status'] == ""SUCCESS"", pprint.pformat(payload) if payload['status'] == ""SUCCESS"": print('Success') else: raise RuntimeError('run on nodes failed: {}'.format(payload))",,32,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~Ife57bfae034f70e33bb64cfc3f3063b6a5528cc6,openstack/python-tripleoclient,stable/queens,Ife57bfae034f70e33bb64cfc3f3063b6a5528cc6,Update Heat stack on update/upgrade/ffwd converge,MERGED,2018-05-09 14:47:04.000000000,2018-05-23 19:57:17.000000000,2018-05-23 19:57:17.000000000,"[{'_account_id': 8042}, {'_account_id': 8871}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-09 14:47:04.000000000', 'files': ['tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1dec392c4c48ac6d2f5e4a3526219c5c94dec3ef', 'message': ""Update Heat stack on update/upgrade/ffwd converge\n\nRemoving no-ops from plan only will have no effect, we need to let\nHeat know about the no-ops removal too. Client commands always fully\nrecreate the plan in swift, so any plan edits need to be immediately\napplied.\n\nFor the same reason this commit also drops execution of the workfow --\nso far we thought it's just superfluous (does what the env file did),\nbut in fact can't have any effect at all, so let's not execute that\ncode at all.\n\nDepends-On: I9039db99f43e8ad091ea6fef7e3a149fcddf1334\nChange-Id: Ife57bfae034f70e33bb64cfc3f3063b6a5528cc6\nCloses-Bug: #1768586\n(cherry picked from commit a0006df5442ee94637f236c46cf1a0fb436e5c0a)\n""}]",0,567243,1dec392c4c48ac6d2f5e4a3526219c5c94dec3ef,46,8,1,8042,,,0,"Update Heat stack on update/upgrade/ffwd converge

Removing no-ops from plan only will have no effect, we need to let
Heat know about the no-ops removal too. Client commands always fully
recreate the plan in swift, so any plan edits need to be immediately
applied.

For the same reason this commit also drops execution of the workfow --
so far we thought it's just superfluous (does what the env file did),
but in fact can't have any effect at all, so let's not execute that
code at all.

Depends-On: I9039db99f43e8ad091ea6fef7e3a149fcddf1334
Change-Id: Ife57bfae034f70e33bb64cfc3f3063b6a5528cc6
Closes-Bug: #1768586
(cherry picked from commit a0006df5442ee94637f236c46cf1a0fb436e5c0a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/43/567243/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py']",5,1dec392c4c48ac6d2f5e4a3526219c5c94dec3ef,bug/1768586-stable/queens," @mock.patch( 'tripleoclient.v1.overcloud_deploy.DeployOvercloud.take_action') def test_ffwd_upgrade_converge(self, deploy_action): with mock.patch('os.path.exists') as mock_exists, \ mock.patch('os.path.isfile') as mock_isfile: mock_isfile.return_value = True assert('/usr/share/openstack-tripleo-heat-templates/' 'environments/lifecycle/ffwd-upgrade-converge.yaml' in parsed_args.environment_files) deploy_action.assert_called_once_with(parsed_args)"," uuid4_patcher = mock.patch('uuid.uuid4', return_value=""UUID4"") self.mock_uuid4 = uuid4_patcher.start() self.addCleanup(self.mock_uuid4.stop) @mock.patch('tripleoclient.utils.prepend_environment', autospec=True) @mock.patch('tripleoclient.utils.get_stack', autospec=True) @mock.patch('tripleoclient.workflows.package_update.ffwd_converge_nodes', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open') @mock.patch('tripleoclient.v1.overcloud_deploy.DeployOvercloud.' '_deploy_tripleo_heat_templates_tmpdir', autospec=True) def test_ffwd_upgrade_converge( self, mock_deploy, mock_open, mock_execute, mock_expanduser, ffwd_converge_nodes, mock_get_stack, mock_prepend_env): mock_expanduser.return_value = '/home/fake/' mock_stack = mock.Mock() mock_stack.stack_name = 'le_overcloud' mock_get_stack.return_value = mock_stack with mock.patch('os.path.exists') as mock_exists: ffwd_converge_nodes.assert_called_once_with( self.app.client_manager, queue_name=constants.FFWD_UPGRADE_QUEUE, container='le_overcloud')",25,77
openstack%2Ftripleo-validations~stable%2Fqueens~I76fe01b7f2ec84db8a8aeaa749cb7b961667b3c9,openstack/tripleo-validations,stable/queens,I76fe01b7f2ec84db8a8aeaa749cb7b961667b3c9,Fail if the Overcloud inventory is empty,MERGED,2018-05-08 12:56:10.000000000,2018-05-23 19:57:17.000000000,2018-05-23 19:57:17.000000000,"[{'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-08 12:56:10.000000000', 'files': ['scripts/tripleo-ansible-inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3756506d315e661347c76f16383a279b6eb1f9e8', 'message': 'Fail if the Overcloud inventory is empty\n\nIf tripleo-ansible-inventory can not retrieve the\ninventory, the script should fail and\ndisplay an error message for the users to\nfix the plan or stack name before continuing.\n\n(cherry picked from commit 773bef1c7a5e7015c4df42ce23e2f9c8c158f424)\nChange-Id: I76fe01b7f2ec84db8a8aeaa749cb7b961667b3c9\nCloses-Bug: 1768011\n'}]",0,566881,3756506d315e661347c76f16383a279b6eb1f9e8,28,8,1,20775,,,0,"Fail if the Overcloud inventory is empty

If tripleo-ansible-inventory can not retrieve the
inventory, the script should fail and
display an error message for the users to
fix the plan or stack name before continuing.

(cherry picked from commit 773bef1c7a5e7015c4df42ce23e2f9c8c158f424)
Change-Id: I76fe01b7f2ec84db8a8aeaa749cb7b961667b3c9
Closes-Bug: 1768011
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/81/566881/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-ansible-inventory'],1,3756506d315e661347c76f16383a279b6eb1f9e8,bug/1768011," if inventory.get_overcloud_environment() == {}: print(""Error, the environment data can not "" ""be empty '{}', please check that the --stack "" ""or the --plan options are configured correctly "" ""and if they correspond to the stack name."") sys.exit(1) ",,7,0
openstack%2Ftripleo-common~stable%2Fqueens~I522acab84833b942865dc57156f3de99779d4f43,openstack/tripleo-common,stable/queens,I522acab84833b942865dc57156f3de99779d4f43,Persist package update ansible logs,MERGED,2018-05-02 17:40:57.000000000,2018-05-23 19:57:16.000000000,2018-05-23 19:57:16.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-02 17:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b78436803814b0b2c65e48ebace860c9fe18a306', 'message': 'Persist package update ansible logs\n\nWe need to store the ansible playbook logs into persistent location.\nWe do it by ANSIBLE_LOG_PATH: /var/lib/mistral/package_update.log\n\nChange-Id: I522acab84833b942865dc57156f3de99779d4f43\nResolves: rhbz#1572827\n'}, {'number': 2, 'created': '2018-05-16 14:48:44.000000000', 'files': ['workbooks/package_update.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aebccc13c9df34f4dfa2203f8a676395dc67aba0', 'message': 'Persist package update ansible logs\n\nWe need to store the ansible playbook logs into persistent location.\nWe do it by ANSIBLE_LOG_PATH: /var/lib/mistral/package_update.log\n\nChange-Id: I522acab84833b942865dc57156f3de99779d4f43\nResolves: rhbz#1572827\n(cherry picked from commit a6498ad3265b3a8e4dc938867dceaaa75e1d5d72)\n'}]",2,565853,aebccc13c9df34f4dfa2203f8a676395dc67aba0,26,8,2,11166,,,0,"Persist package update ansible logs

We need to store the ansible playbook logs into persistent location.
We do it by ANSIBLE_LOG_PATH: /var/lib/mistral/package_update.log

Change-Id: I522acab84833b942865dc57156f3de99779d4f43
Resolves: rhbz#1572827
(cherry picked from commit a6498ad3265b3a8e4dc938867dceaaa75e1d5d72)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/53/565853/2 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/package_update.yaml'],1,b78436803814b0b2c65e48ebace860c9fe18a306,, ANSIBLE_LOG_PATH: /var/log/mistral/package_update.log,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a,openstack/tripleo-heat-templates,stable/queens,I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a,Fix cinder-backup image wrangling on update,MERGED,2018-05-17 15:19:00.000000000,2018-05-23 19:46:23.000000000,2018-05-23 19:46:23.000000000,"[{'_account_id': 8042}, {'_account_id': 8871}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 15:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4d95c014cb160e519af48d68aef1ced5fc5283e', 'message': ""Fix cinder-backup image wrangling on update\n\nThe minor update tasks for cinder-backup first pull the new image and\nthen delete the old one. If the image hasn't changed, deleting the old\none means deleting the new one too, and then trying to tag it as\npcmklatest will fail. The other services under\nservices/docker/pacemaker seem to have the order correct.\n\nAll services here could use a performance optimization for cases when\nthe image hasn't changed (don't reshuffle images if the hash hasn't\nchanged) but let's fix the breakage first and address performance\nlater.\n\nChange-Id: I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a\nCloses-Bug: #1770598\nRelated-Bug: #1770599\n(cherry picked from commit b0322730a7b0759526c3e0b876afa514d8ab35dd)\n""}, {'number': 2, 'created': '2018-05-17 15:29:18.000000000', 'files': ['docker/services/pacemaker/cinder-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/815f99a2d9d4ba206e78bbaf5745c5ce1ff7f9b5', 'message': ""Fix cinder-backup image wrangling on update\n\nThe minor update tasks for cinder-backup first pull the new image and\nthen delete the old one. If the image hasn't changed, deleting the old\none means deleting the new one too, and then trying to tag it as\npcmklatest will fail. The other services under\nservices/docker/pacemaker seem to have the order correct.\n\nAll services here could use a performance optimization for cases when\nthe image hasn't changed (don't reshuffle images if the hash hasn't\nchanged) but let's fix the breakage first and address performance\nlater.\n\nChange-Id: I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a\nCloses-Bug: #1770598\nRelated-Bug: #1770599\n(cherry picked from commit b0322730a7b0759526c3e0b876afa514d8ab35dd)\n""}]",0,569146,815f99a2d9d4ba206e78bbaf5745c5ce1ff7f9b5,21,6,2,16515,,,0,"Fix cinder-backup image wrangling on update

The minor update tasks for cinder-backup first pull the new image and
then delete the old one. If the image hasn't changed, deleting the old
one means deleting the new one too, and then trying to tag it as
pcmklatest will fail. The other services under
services/docker/pacemaker seem to have the order correct.

All services here could use a performance optimization for cases when
the image hasn't changed (don't reshuffle images if the hash hasn't
changed) but let's fix the breakage first and address performance
later.

Change-Id: I5e0fcb7467fcff7e549e04789ceeb8eb49ee265a
Closes-Bug: #1770598
Related-Bug: #1770599
(cherry picked from commit b0322730a7b0759526c3e0b876afa514d8ab35dd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/569146/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/cinder-backup.yaml'],1,e4d95c014cb160e519af48d68aef1ced5fc5283e,bug/1770598-stable/queens," - name: Pull latest Cinder-Backup images command: ""docker pull {{docker_image}}"""," - name: Pull latest Cinder-Backup images command: ""docker pull {{docker_image}}""",2,2
openstack%2Ftripleo-common~stable%2Fqueens~Icd25a8d579151015c9cdf56861d2be933848a723,openstack/tripleo-common,stable/queens,Icd25a8d579151015c9cdf56861d2be933848a723,Add validation for empty file system backup on Undercloud,MERGED,2018-05-14 10:04:23.000000000,2018-05-23 19:46:22.000000000,2018-05-23 19:46:22.000000000,"[{'_account_id': 8871}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-14 10:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ac762df488c4dae8048f6b6221929f75ed2adf5f', 'message': 'Add validation for empty file system backup on Undercloud\n\nThis patch works as an addition to the exclude path\nwhen executing an Undercloud backup.\n\nIn this case if we exclude all files, there is no need to execute\nthe task to create the FS backup.\n\nChange-Id: Icd25a8d579151015c9cdf56861d2be933848a723\nCloses-Bug: 1767385\n(cherry picked from commit 468257d2f403ad63e19c6339ef7617928d1ae8e6)\n'}, {'number': 2, 'created': '2018-05-14 10:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b9d7e89ec3175e7aca706bee95e2d6a12c8de18d', 'message': 'Add validation for empty file system backup on Undercloud\n\nThis patch works as an addition to the exclude path\nwhen executing an Undercloud backup.\n\nIn this case if we exclude all files, there is no need to execute\nthe task to create the FS backup.\n\nChange-Id: Icd25a8d579151015c9cdf56861d2be933848a723\nCloses-Bug: 1767385\n(cherry picked from commit 650a259472de77c1ea6ecd6883b50c134cd6d29a)\n'}, {'number': 3, 'created': '2018-05-14 11:01:54.000000000', 'files': ['tripleo_common/actions/undercloud.py', 'tripleo_common/tests/actions/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/32d7ec7faaff73aa2698aef6f29a83ec3a8b3a6e', 'message': 'Add validation for empty file system backup on Undercloud\n\nThis patch works as an addition to the exclude path\nwhen executing an Undercloud backup.\n\nIn this case if we exclude all files, there is no need to execute\nthe task to create the FS backup.\n\nChange-Id: Icd25a8d579151015c9cdf56861d2be933848a723\nCloses-Bug: 1767385\n(cherry picked from commit 650a259472de77c1ea6ecd6883b50c134cd6d29a)\n'}]",0,568250,32d7ec7faaff73aa2698aef6f29a83ec3a8b3a6e,30,4,3,20775,,,0,"Add validation for empty file system backup on Undercloud

This patch works as an addition to the exclude path
when executing an Undercloud backup.

In this case if we exclude all files, there is no need to execute
the task to create the FS backup.

Change-Id: Icd25a8d579151015c9cdf56861d2be933848a723
Closes-Bug: 1767385
(cherry picked from commit 650a259472de77c1ea6ecd6883b50c134cd6d29a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/50/568250/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/undercloud.py', 'tripleo_common/tests/actions/test_undercloud.py']",2,ac762df488c4dae8048f6b6221929f75ed2adf5f,exclude-path," self.fsemptyback = undercloud.CreateFileSystemBackup( '', '/var/tmp/undercloud-backup-ef9b_H') @mock.patch('tripleo_common.actions.base.TripleOAction.get_object_client') @mock.patch('subprocess.check_call') def test_create_empty_file_system_backup( self, mock_check_call, mock_get_object_client): self.fsemptyback.logger = mock.Mock() self.fsemptyback.run(mock_get_object_client) mock_check_call.assert_not_called() ",,24,7
openstack%2Ftripleo-heat-templates~stable%2Focata~I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,openstack/tripleo-heat-templates,stable/ocata,I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,Don't use crudini to get rhn server,MERGED,2018-05-17 17:23:33.000000000,2018-05-23 19:46:21.000000000,2018-05-23 19:46:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 17:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4af7961245dfccb49f3fb241d995fbe536ba1771', 'message': ""Don't use crudini to get rhn server\n\ncrudini is not installed by default on Red Hat derivitive OS's, so we\nshouldn't rely on it. We probably can't just install it since this\nscript is the rhel-registration script, so there are likely no repos\nenabled when we need it.\n\nInstead just use grep/cut/sed to get the value we need.\n\nChange-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8\nCloses-Bug: #1771830\n(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)\n""}, {'number': 2, 'created': '2018-05-22 16:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8a5a04229755e84e8d4505ce43a058b0f78678f', 'message': ""Don't use crudini to get rhn server\n\ncrudini is not installed by default on Red Hat derivitive OS's, so we\nshouldn't rely on it. We probably can't just install it since this\nscript is the rhel-registration script, so there are likely no repos\nenabled when we need it.\n\nInstead just use grep/cut/sed to get the value we need.\n\nChange-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8\nCloses-Bug: #1771830\n(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)\n""}, {'number': 3, 'created': '2018-05-23 02:07:09.000000000', 'files': ['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89fd5a0093fdd45d7421a76d781c2495e503514d', 'message': ""Don't use crudini to get rhn server\n\ncrudini is not installed by default on Red Hat derivitive OS's, so we\nshouldn't rely on it. We probably can't just install it since this\nscript is the rhel-registration script, so there are likely no repos\nenabled when we need it.\n\nInstead just use grep/cut/sed to get the value we need.\n\nChange-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8\nCloses-Bug: #1771830\n(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)\n""}]",0,569180,89fd5a0093fdd45d7421a76d781c2495e503514d,22,4,3,3153,,,0,"Don't use crudini to get rhn server

crudini is not installed by default on Red Hat derivitive OS's, so we
shouldn't rely on it. We probably can't just install it since this
script is the rhel-registration script, so there are likely no repos
enabled when we need it.

Instead just use grep/cut/sed to get the value we need.

Change-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8
Closes-Bug: #1771830
(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/569180/3 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'],1,4af7961245dfccb49f3fb241d995fbe536ba1771,osp/crudini,"server=$(grep '^hostname' /etc/rhsm/rhsm.conf | cut -d = -f2 | sed 's/\s//') portal_test_url=""https://${server}/subscription/""","portal_test_url=""https://$(crudini --get /etc/rhsm/rhsm.conf server hostname)/subscription/""",2,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,stable/queens,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-22 03:04:44.000000000,2018-05-23 19:46:20.000000000,2018-05-23 19:46:19.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 8871}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 03:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc1c002279ab414d5ddfc6d4870913124c1225fa', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)\n'}, {'number': 2, 'created': '2018-05-22 19:24:23.000000000', 'files': ['overcloud.j2.yaml', 'extraconfig/tasks/ssh/known_hosts_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/482f2eb2f736e8d5d01a775dae160f819240d708', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nNOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)\n'}]",0,569909,482f2eb2f736e8d5d01a775dae160f819240d708,19,7,2,14985,,,0,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

NOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/569909/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'extraconfig/tasks/ssh/known_hosts_config.yaml']",2,dc1c002279ab414d5ddfc6d4870913124c1225fa,bug/1772071-stable/queens," str_replace: params: KNOWN_HOSTS: {get_param: known_hosts} template: | #!/bin/bash set -eux set -o pipefail echo ""Creating ssh known hosts file"" if [ -d /etc/ssh/ssh_known_hosts ]; then rm -rf /etc/ssh/ssh_known_hosts fi cat <<EOF | grep -v '^$' >/etc/ssh/ssh_known_hosts KNOWN_HOSTS EOF if [ ! -s /etc/ssh/ssh_known_hosts ]; then echo ""No known hosts"" rm -f /etc/ssh/ssh_known_hosts else echo ""$(cat /etc/ssh/ssh_known_hosts | wc -l) known hosts"" chmod 0644 /etc/ssh/ssh_known_hosts fi value: {get_resource: SSHKnownHostsConfig} "," inputs: - name: known_hosts default: {get_param: known_hosts} #!/bin/bash set -eux set -o pipefail echo ""Creating ssh known hosts file"" if [ ! -z ""${known_hosts}"" ]; then echo ""${known_hosts}"" echo -ne ""${known_hosts}"" > /etc/ssh/ssh_known_hosts chmod 0644 /etc/ssh/ssh_known_hosts else rm -f /etc/ssh/ssh_known_hosts echo ""No ssh known hosts"" fi value: {get_resource: SSHKnownHostsConfig}",23,16
openstack%2Fpython-tripleoclient~master~I503dcc831b78d1c271f166ffd6d97fdc2cbd618f,openstack/python-tripleoclient,master,I503dcc831b78d1c271f166ffd6d97fdc2cbd618f,Update HostnameMap generation,MERGED,2018-05-11 21:59:17.000000000,2018-05-23 19:46:19.000000000,2018-05-23 19:46:19.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-11 21:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1652885cec45821eb86ad6c8e50c649562fdfb08', 'message': ""Update HostnameMap generation\n\nThe HostnameMap is used in combination with the\ndeployed-neutron-port.yaml for the Containerized undercloud. Previously\nwe were hardcoding the value assuming 'undercloud' in the hostname from\nthe stack and role. Because these can be customized, we should generate\nthe hostname map value from the stackname being deployed and the primary\nrole from the roles_data.\n\nChange-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f\nRelated-Blueprint: all-in-one\n""}, {'number': 2, 'created': '2018-05-15 16:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1941656538232353707ec25c1b27f54f5b7f88b5', 'message': ""Update HostnameMap generation\n\nThe HostnameMap is used in combination with the\ndeployed-neutron-port.yaml for the Containerized undercloud. Previously\nwe were hardcoding the value assuming 'undercloud' in the hostname from\nthe stack and role. Because these can be customized, we should generate\nthe hostname map value from the stackname being deployed and the primary\nrole from the roles_data.\n\nChange-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f\nRelated-Blueprint: all-in-one\n""}, {'number': 3, 'created': '2018-05-16 17:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82e84488c57239dc0dbc4941379d991e34fd696e', 'message': ""Update HostnameMap generation\n\nThe HostnameMap is used in combination with the\ndeployed-neutron-port.yaml for the Containerized undercloud. Previously\nwe were hardcoding the value assuming 'undercloud' in the hostname from\nthe stack and role. Because these can be customized, we should generate\nthe hostname map value from the stackname being deployed and the primary\nrole from the roles_data.\n\nChange-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f\nRelated-Blueprint: all-in-one\n""}, {'number': 4, 'created': '2018-05-16 21:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0cb12441e8d44d06667a9c720979c167e7d3036d', 'message': ""Update HostnameMap generation\n\nThe HostnameMap is used in combination with the\ndeployed-neutron-port.yaml for the Containerized undercloud. Previously\nwe were hardcoding the value assuming 'undercloud' in the hostname from\nthe stack and role. Because these can be customized, we should generate\nthe hostname map value from the stackname being deployed and the primary\nrole from the roles_data.\n\nChange-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f\nRelated-Blueprint: all-in-one\n""}, {'number': 5, 'created': '2018-05-17 15:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0ec9fb3e803ab182a9c4a3b8518f4929fa2fb26b', 'message': ""Update HostnameMap generation\n\nThe HostnameMap is used in combination with the\ndeployed-neutron-port.yaml for the Containerized undercloud. Previously\nwe were hardcoding the value assuming 'undercloud' in the hostname from\nthe stack and role. Because these can be customized, we should generate\nthe hostname map value from the stackname being deployed and the primary\nrole from the roles_data.\n\nChange-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f\nRelated-Blueprint: all-in-one\n""}, {'number': 6, 'created': '2018-05-17 23:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/488a6237f4c3b20a0721989c7afb74746edca24e', 'message': ""Update HostnameMap generation\n\nThe HostnameMap is used in combination with the\ndeployed-neutron-port.yaml for the Containerized undercloud. Previously\nwe were hardcoding the value assuming 'undercloud' in the hostname from\nthe stack and role. Because these can be customized, we should generate\nthe hostname map value from the stackname being deployed and the primary\nrole from the roles_data.\n\nChange-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f\nRelated-Blueprint: all-in-one\n""}, {'number': 7, 'created': '2018-05-17 23:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ffd900c67bbfd060ab147bad9cc12bb3a55fa885', 'message': ""Update HostnameMap generation\n\nThe HostnameMap is used in combination with the\ndeployed-neutron-port.yaml for the Containerized undercloud. Previously\nwe were hardcoding the value assuming 'undercloud' in the hostname from\nthe stack and role. Because these can be customized, we should generate\nthe hostname map value from the stackname being deployed and the primary\nrole from the roles_data.\n\nChange-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f\nRelated-Blueprint: all-in-one\n""}, {'number': 8, 'created': '2018-05-22 14:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/41152ac198d1df52dc94a0ff0feccb2175e8e423', 'message': ""Update HostnameMap generation\n\nThe HostnameMap is used in combination with the\ndeployed-neutron-port.yaml for the Containerized undercloud. Previously\nwe were hardcoding the value assuming 'undercloud' in the hostname from\nthe stack and role. Because these can be customized, we should generate\nthe hostname map value from the stackname being deployed and the primary\nrole from the roles_data.\n\nChange-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f\nRelated-Blueprint: all-in-one\n""}, {'number': 9, 'created': '2018-05-22 21:56:54.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a05a0eb3cf3952fbd7a611a2134ce03afc73dbd9', 'message': ""Update HostnameMap generation\n\nThe HostnameMap is used in combination with the\ndeployed-neutron-port.yaml for the Containerized undercloud. Previously\nwe were hardcoding the value assuming 'undercloud' in the hostname from\nthe stack and role. Because these can be customized, we should generate\nthe hostname map value from the stackname being deployed and the primary\nrole from the roles_data.\n\nChange-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f\nRelated-Blueprint: all-in-one\n""}]",7,567951,a05a0eb3cf3952fbd7a611a2134ce03afc73dbd9,48,7,9,14985,,,0,"Update HostnameMap generation

The HostnameMap is used in combination with the
deployed-neutron-port.yaml for the Containerized undercloud. Previously
we were hardcoding the value assuming 'undercloud' in the hostname from
the stack and role. Because these can be customized, we should generate
the hostname map value from the stackname being deployed and the primary
role from the roles_data.

Change-Id: I503dcc831b78d1c271f166ffd6d97fdc2cbd618f
Related-Blueprint: all-in-one
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/51/567951/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,1652885cec45821eb86ad6c8e50c649562fdfb08,bp/all-in-one,"from tripleoclient import constants @mock.patch('os.path.exists', return_value=True) def test_set_roles_file(self, mock_exists): self.cmd._set_roles_file('/foobar.yaml') self.assertEqual(self.cmd.roles_file, '/foobar.yaml') @mock.patch('os.path.exists', return_value=False) def test_set_roles_file_relative(self, mock_exists): self.cmd._set_roles_file('foobar.yaml', constants.TRIPLEO_HEAT_TEMPLATES) self.assertEqual(self.cmd.roles_file, '/usr/share/openstack-tripleo-heat-templates/' 'foobar.yaml') def test_get_roles_data(self): self.cmd.roles_data = [{'name': 'Foobar'}] self.assertEqual(self.cmd._get_roles_data(), [{'name': 'Foobar'}]) def test_get_roles_data_from_file(self): with tempfile.NamedTemporaryFile(mode='w') as roles_file: yaml.dump([{'name': 'Foobar'}], roles_file) self.cmd.roles_file = roles_file.name self.assertEqual(self.cmd._get_roles_data(), [{'name': 'Foobar'}]) @mock.patch('os.path.exists', return_value=False) def test_get_roles_data_missing(self, mock_exists): self.cmd.roles_file = '/tmp/foo.yaml' self.cmd.roles_data = None self.assertEqual(self.cmd._get_roles_data(), None) @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_get_roles_data') def test_get_primary_role_name(self, mock_data): mock_data.return_value = [ {'name': 'Bar'}, {'name': 'Foo', 'tags': ['primary']} ] self.assertEqual(self.cmd._get_primary_role_name(), 'Foo') def test_get_primary_role_name_none_defined(self): self.assertEqual(self.cmd._get_primary_role_name(), 'Controller') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_get_roles_data') def test_get_primary_role_name_no_primary(self, mock_data): mock_data.return_value = [{'name': 'Bar'}, {'name': 'Foo'}] self.assertEqual(self.cmd._get_primary_role_name(), 'Bar') @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy.' '_get_roles_data') def test_prepare_container_images(self, mock_cipm, rolesdata_mock): rolesdata_mock.return_value = [{'name': 'Compute'}] self.cmd._prepare_container_images(env)"," def test_prepare_container_images(self, mock_cipm): with tempfile.NamedTemporaryFile(mode='w') as roles_file: yaml.dump([{'name': 'Compute'}], roles_file) self.cmd._prepare_container_images(env, roles_file.name)",115,16
openstack%2Ftripleo-heat-templates~stable%2Focata~I1cd765b1998f059702f0c17ccb67d54f6d5db362,openstack/tripleo-heat-templates,stable/ocata,I1cd765b1998f059702f0c17ccb67d54f6d5db362,Enhance completion message when upgrading non controller nodes,MERGED,2018-05-21 13:19:58.000000000,2018-05-23 19:01:06.000000000,2018-05-23 19:01:06.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-21 13:19:58.000000000', 'files': ['extraconfig/tasks/tripleo_upgrade_node.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1b5697f0a73a59752031359752f14e4eddd4bdf', 'message': 'Enhance completion message when upgrading non controller nodes\n\nThis adds a better completion message when upgrading a non\ncontroller node.\n\nChange-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362\nCloses-Bug: 1703792\n(cherry picked from commit 7bf4edde5de2ab99824c9e8259a9ffa3307b9554)\n'}]",3,569794,f1b5697f0a73a59752031359752f14e4eddd4bdf,18,5,1,20775,,,0,"Enhance completion message when upgrading non controller nodes

This adds a better completion message when upgrading a non
controller node.

Change-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362
Closes-Bug: 1703792
(cherry picked from commit 7bf4edde5de2ab99824c9e8259a9ffa3307b9554)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/569794/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/tripleo_upgrade_node.sh'],1,f1b5697f0a73a59752031359752f14e4eddd4bdf,bug/1703792,"NODE_NAME=\$(cat /etc/hostname) log_debug ""$UPGRADE_SCRIPT has completed on \${NODE_NAME}"" echo ""---------------------------------------------------- The TripleO upgrade tasks has completed on \${NODE_NAME} ----------------------------------------------------""","log_debug ""TripleO upgrade run completed.""",7,1
openstack%2Foctavia-dashboard~master~I4f817fa93ed599a864bbdcbf68a2795a1e75149f,openstack/octavia-dashboard,master,I4f817fa93ed599a864bbdcbf68a2795a1e75149f,Imported Translations from Zanata,MERGED,2018-05-23 06:47:19.000000000,2018-05-23 18:56:59.000000000,2018-05-23 18:56:59.000000000,"[{'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 06:47:19.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/015568af553fa41869ece6d92d2a639b4e7d3bb4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4f817fa93ed599a864bbdcbf68a2795a1e75149f\n'}]",0,570123,015568af553fa41869ece6d92d2a639b4e7d3bb4,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4f817fa93ed599a864bbdcbf68a2795a1e75149f
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/23/570123/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,015568af553fa41869ece6d92d2a639b4e7d3bb4,zanata/translations,"""POT-Creation-Date: 2018-05-21 23:04+0000\n""""PO-Revision-Date: 2018-05-22 08:44+0000\n""msgid ""2.0.0.0b1-12"" msgstr ""2.0.0.0b1-12""","""POT-Creation-Date: 2018-05-16 20:26+0000\n""""PO-Revision-Date: 2018-05-17 11:32+0000\n""msgid ""2.0.0.0b1-10"" msgstr ""2.0.0.0b1-10""",4,4
openstack%2Fnova-powervm~stable%2Fqueens~I05facd4c971a08c62f37ba7371b2cc5474d2cd8a,openstack/nova-powervm,stable/queens,I05facd4c971a08c62f37ba7371b2cc5474d2cd8a,DNM: ci check,ABANDONED,2018-02-14 20:54:38.000000000,2018-05-23 18:48:44.000000000,,"[{'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-14 20:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/5b63e5a074aa4979cb53719bc906363ed442e7ad', 'message': ""DNM: ci check\n\nDon't merge. Used to kick off CI Runs\n\nChange-Id: I05facd4c971a08c62f37ba7371b2cc5474d2cd8a\n""}, {'number': 2, 'created': '2018-02-26 18:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/94aa7728af3d8b734d97aa684e5b685143398d45', 'message': ""DNM: ci check\n\nDon't merge. Used to kick off CI Runs\n\nChange-Id: I05facd4c971a08c62f37ba7371b2cc5474d2cd8a\n""}, {'number': 3, 'created': '2018-04-20 18:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/708e78ccd8dc6e94877f05433459b97521cc3257', 'message': ""DNM: ci check\n\nDon't merge. Used to kick off CI Runs\n\nChange-Id: I05facd4c971a08c62f37ba7371b2cc5474d2cd8a\n""}, {'number': 4, 'created': '2018-05-10 14:43:35.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/38649f9ec57d5c70b1fcdd78b064e337885f7c34', 'message': ""DNM: ci check\n\nDon't merge. Used to kick off CI Runs\n\nChange-Id: I05facd4c971a08c62f37ba7371b2cc5474d2cd8a\n""}]",0,544689,38649f9ec57d5c70b1fcdd78b064e337885f7c34,35,3,4,16710,,,0,"DNM: ci check

Don't merge. Used to kick off CI Runs

Change-Id: I05facd4c971a08c62f37ba7371b2cc5474d2cd8a
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/89/544689/4 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5b63e5a074aa4979cb53719bc906363ed442e7ad,ci_check-stable/queens,PPowerVM Nova Drivers,PowerVM Nova Driver,1,1
openstack%2Fnova-powervm~stable%2Focata~I07d2dec077d42d0057e0e2e392348bce5fe283b0,openstack/nova-powervm,stable/ocata,I07d2dec077d42d0057e0e2e392348bce5fe283b0,DNM: CI CHECK OCATA,ABANDONED,2017-05-15 21:26:12.000000000,2018-05-23 18:48:36.000000000,,"[{'_account_id': 3}, {'_account_id': 16128}, {'_account_id': 16710}]","[{'number': 1, 'created': '2017-05-15 21:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/2f2e6dffbad270760e58c715a2eeda6b9cc9c9b8', 'message': 'DNM: CI CHECK OCATA\n\nChange-Id: I07d2dec077d42d0057e0e2e392348bce5fe283b0\n'}, {'number': 2, 'created': '2017-05-18 20:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/2c157287db6daf94f86223c046902ff2fb840d16', 'message': 'DNM: CI CHECK OCATA\n\nChange-Id: I07d2dec077d42d0057e0e2e392348bce5fe283b0\n'}, {'number': 3, 'created': '2017-08-04 15:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/ed11bb943d188824668d77aa48b3aceebf365f33', 'message': 'DNM: CI CHECK OCATA\n\nChange-Id: I07d2dec077d42d0057e0e2e392348bce5fe283b0\n'}]",0,464756,ed11bb943d188824668d77aa48b3aceebf365f33,99,3,3,16710,,,0,"DNM: CI CHECK OCATA

Change-Id: I07d2dec077d42d0057e0e2e392348bce5fe283b0
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/56/464756/3 && git format-patch -1 --stdout FETCH_HEAD,[],0,2f2e6dffbad270760e58c715a2eeda6b9cc9c9b8,,,,0,0
openstack%2Fnova-powervm~stable%2Fpike~I8c1d1696a89832f4a6ce275c05351d1cafb89df8,openstack/nova-powervm,stable/pike,I8c1d1696a89832f4a6ce275c05351d1cafb89df8,DNM: CI Check - Pike,ABANDONED,2017-10-31 21:22:09.000000000,2018-05-23 18:48:30.000000000,,"[{'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-31 21:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/7b573c092c3065f6c20c14980e019b4a1e9658c6', 'message': 'DO NOT MERGE\n\nUsed to kick off PowerVM CI runs for nova-powervm pike branch\n\nChange-Id: I8c1d1696a89832f4a6ce275c05351d1cafb89df8\n'}, {'number': 2, 'created': '2017-10-31 22:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/71e0ef568a0e8f95738abf4c9b8c8b1bcc723934', 'message': 'DNM: CI Check - Pike\n\nDO NOT MERGE: Used to kick off PowerVM CI runs for nova-powervm pike\nbranch.\n\nChange-Id: I8c1d1696a89832f4a6ce275c05351d1cafb89df8\n'}, {'number': 3, 'created': '2018-03-05 23:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/8b655518b918ae30f8f82965b225ec168ae0a53a', 'message': 'DNM: CI Check - Pike\n\nDO NOT MERGE: Used to kick off PowerVM CI runs for nova-powervm pike\nbranch.\n\nChange-Id: I8c1d1696a89832f4a6ce275c05351d1cafb89df8\n'}, {'number': 4, 'created': '2018-05-11 14:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/5de928c5025bd35261bb3766d57f635f8b182b09', 'message': 'DNM: CI Check - Pike\n\nDO NOT MERGE: Used to kick off PowerVM CI runs for nova-powervm pike\nbranch.\n\nChange-Id: I8c1d1696a89832f4a6ce275c05351d1cafb89df8\n'}]",0,516790,5de928c5025bd35261bb3766d57f635f8b182b09,51,3,4,16710,,,0,"DNM: CI Check - Pike

DO NOT MERGE: Used to kick off PowerVM CI runs for nova-powervm pike
branch.

Change-Id: I8c1d1696a89832f4a6ce275c05351d1cafb89df8
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/90/516790/4 && git format-patch -1 --stdout FETCH_HEAD,[],0,7b573c092c3065f6c20c14980e019b4a1e9658c6,DNM: CI Check - Pike,,,0,0
openstack%2Fswift~master~Icd558c1f92c24724a76931f1d281a9a20122b683,openstack/swift,master,Icd558c1f92c24724a76931f1d281a9a20122b683,Add unit tests for replicator sync_shard_ranges,MERGED,2018-05-22 16:18:38.000000000,2018-05-23 18:42:48.000000000,2018-05-23 18:42:48.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 16:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2c130aff6852cc10ff56006d0422914fd95ba89d', 'message': 'Add unit tests for replicator sync_shard_ranges\n\nRelated-Change: Ie4d2816259e6c25c346976e181fb9d350f947190\n\nChange-Id: Icd558c1f92c24724a76931f1d281a9a20122b683\n'}, {'number': 2, 'created': '2018-05-22 16:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a3d1a7e893c2651513e563d8d41a6e0d20cea362', 'message': 'Add unit tests for replicator sync_shard_ranges\n\nRelated-Change: Ie4d2816259e6c25c346976e181fb9d350f947190\n\nChange-Id: Icd558c1f92c24724a76931f1d281a9a20122b683\n'}, {'number': 3, 'created': '2018-05-23 08:57:54.000000000', 'files': ['test/unit/container/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e4045fb4758898b6ef855301ae0cd8f9a450af36', 'message': 'Add unit tests for replicator sync_shard_ranges\n\nRelated-Change: Ie4d2816259e6c25c346976e181fb9d350f947190\n\nChange-Id: Icd558c1f92c24724a76931f1d281a9a20122b683\n'}]",5,570005,e4045fb4758898b6ef855301ae0cd8f9a450af36,12,3,3,7847,,,0,"Add unit tests for replicator sync_shard_ranges

Related-Change: Ie4d2816259e6c25c346976e181fb9d350f947190

Change-Id: Icd558c1f92c24724a76931f1d281a9a20122b683
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/570005/3 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_replicator.py'],1,2c130aff6852cc10ff56006d0422914fd95ba89d,570005,"from swift.common.swob import HTTPServerError debug_logger, EMPTY_ETAG, FakeLogger def test_sync_shard_ranges_error(self): # verify that replication is not considered successful if # merge_shard_ranges fails put_time = Timestamp.now().internal broker = self._get_broker('a', 'c', node_index=0) broker.initialize(put_time, POLICIES.default.idx) remote_broker = self._get_broker('a', 'c', node_index=1) remote_broker.initialize(put_time, POLICIES.default.idx) # put an object into local broker broker.put_object('obj', Timestamp.now().internal, 0, 'text/plain', EMPTY_ETAG) # get an own shard range into local broker broker.enable_sharding(Timestamp.now()) self.assertFalse(broker.sharding_initiated()) replicate_hook = mock.MagicMock() fake_repl_connection = attach_fake_replication_rpc( self.rpc, errors={'merge_shard_ranges': [HTTPServerError()]}, replicate_hook=replicate_hook) db_replicator.ReplConnection = fake_repl_connection part, node = self._get_broker_part_node(remote_broker) info = broker.get_replication_info() daemon = replicator.ContainerReplicator({}) daemon.logger = FakeLogger() success = daemon._repl_to_node(node, broker, part, info) self.assertFalse(success) self.assertEqual( ['sync', 'get_shard_ranges', 'merge_shard_ranges', 'merge_items', 'merge_syncs'], [call[0][0] for call in replicate_hook.call_args_list]) error_lines = daemon.logger.get_lines_for_level('error') self.assertIn('Bad response 500', error_lines[0]) self.assertFalse(error_lines[1:]) def test_sync_shard_ranges_none_to_sync(self): # verify that merge_shard_ranges is not sent if there are no shard # ranges to sync put_time = Timestamp.now().internal broker = self._get_broker('a', 'c', node_index=0) broker.initialize(put_time, POLICIES.default.idx) remote_broker = self._get_broker('a', 'c', node_index=1) remote_broker.initialize(put_time, POLICIES.default.idx) # put an object into local broker broker.put_object('obj', Timestamp.now().internal, 0, 'text/plain', EMPTY_ETAG) replicate_hook = mock.MagicMock() fake_repl_connection = attach_fake_replication_rpc( self.rpc, replicate_hook=replicate_hook) db_replicator.ReplConnection = fake_repl_connection part, node = self._get_broker_part_node(remote_broker) info = broker.get_replication_info() daemon = replicator.ContainerReplicator({}) success = daemon._repl_to_node(node, broker, part, info) self.assertTrue(success) self.assertEqual( ['sync', 'get_shard_ranges', 'merge_items', 'merge_syncs'], [call[0][0] for call in replicate_hook.call_args_list]) ", debug_logger,61,1
openstack%2Fopenstack-helm-infra~master~I7c9786a95ed138178bb0178a55fac90a0d9e8e5b,openstack/openstack-helm-infra,master,I7c9786a95ed138178bb0178a55fac90a0d9e8e5b,helm-toolkit: allow images.local_registry to be undefined,ABANDONED,2018-04-16 21:40:52.000000000,2018-05-23 18:31:34.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28165}]","[{'number': 1, 'created': '2018-04-16 21:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/991a83b94f7dd85652e33f4055041dc0f65e01ab', 'message': 'helm-toolkit: allow images.local_registry to be undefined\n\nChange-Id: I7c9786a95ed138178bb0178a55fac90a0d9e8e5b\n'}, {'number': 2, 'created': '2018-05-08 17:37:30.000000000', 'files': ['helm-toolkit/templates/snippets/_image.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ddb2513041e88abc06c5e34fb1c9a027b451c8e', 'message': 'helm-toolkit: allow images.local_registry to be undefined\n\nChange-Id: I7c9786a95ed138178bb0178a55fac90a0d9e8e5b\n'}]",0,561734,8ddb2513041e88abc06c5e34fb1c9a027b451c8e,11,5,2,8898,,,0,"helm-toolkit: allow images.local_registry to be undefined

Change-Id: I7c9786a95ed138178bb0178a55fac90a0d9e8e5b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/34/561734/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/snippets/_image.tpl'],1,991a83b94f7dd85652e33f4055041dc0f65e01ab,htk-allow-undefined-reg,{{- if $envAll.Values.images.local_registry -}}{{- else }} image: {{ $imageTag | quote }} {{- end }},,4,0
openstack%2Fnova-powervm~master~I73af6218d05de2de4a824d6cb027451d7f4038c9,openstack/nova-powervm,master,I73af6218d05de2de4a824d6cb027451d7f4038c9,Remove powervm localdisk conf options,MERGED,2018-04-12 20:50:42.000000000,2018-05-23 18:31:31.000000000,2018-05-23 18:31:31.000000000,"[{'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-12 20:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/3c151a5cf56e5bc2c816e9e3e7c953081e952350', 'message': 'Remove powervm localdisk conf options\n\nThis removes the disk_driver and volume_group_name configuration\noptions from nova-powervm. The options are now located in nova [1].\n\n[1] https://review.openstack.org/#/c/549300/\n\nChange-Id: I73af6218d05de2de4a824d6cb027451d7f4038c9\n'}, {'number': 2, 'created': '2018-05-20 23:11:12.000000000', 'files': ['nova_powervm/tests/conf/test_conf.py', 'nova_powervm/conf/powervm.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/1291aa9d2648b88a814de7acf18c6aede2419c32', 'message': 'Remove powervm localdisk conf options\n\nThis removes the disk_driver and volume_group_name configuration\noptions from nova-powervm. The options are now located in nova [1].\n\n[1] https://review.openstack.org/#/c/549300/\n\nChange-Id: I73af6218d05de2de4a824d6cb027451d7f4038c9\n'}]",0,561045,1291aa9d2648b88a814de7acf18c6aede2419c32,18,5,2,16710,,,0,"Remove powervm localdisk conf options

This removes the disk_driver and volume_group_name configuration
options from nova-powervm. The options are now located in nova [1].

[1] https://review.openstack.org/#/c/549300/

Change-Id: I73af6218d05de2de4a824d6cb027451d7f4038c9
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/45/561045/2 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/conf/powervm.py'],1,3c151a5cf56e5bc2c816e9e3e7c953081e952350,rm_ld_opts,STATIC_OPTIONS = (powervm_opts + ssp_opts + vol_adapter_opts + npiv_opts + remote_restart_opts + swift_opts + vnc_opts)," cfg.StrOpt('disk_driver', choices=['localdisk', 'ssp'], ignore_case=True, default='localdisk', help='The disk driver to use for PowerVM disks. ' 'Valid options are: localdisk, ssp'),localdisk_opts = [ cfg.StrOpt('volume_group_name', default='', help='Volume Group to use for block device operations. If ' 'disk_driver is localdisk, then this attribute must be ' 'specified. It is strongly recommended NOT to use ' 'rootvg.'), ] STATIC_OPTIONS = (powervm_opts + localdisk_opts + ssp_opts + vol_adapter_opts + npiv_opts + remote_restart_opts + swift_opts + vnc_opts)",2,16
openstack%2Fswift~master~I707ed7b7ec56ad89e56c9174d65d9998d4ce211f,openstack/swift,master,I707ed7b7ec56ad89e56c9174d65d9998d4ce211f,Use sharding container epoch in shard container names,NEW,2018-05-23 17:02:37.000000000,2018-05-23 18:30:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-23 17:02:37.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f046dbe2a2b5791717e2a6f595283c1354529dfa', 'message': ""Use sharding container epoch in shard container names\n\nMake 'swift-manage-shard-ranges find_and_replace --enable' use the\nsame timestamp for the container's sharding epoch and as the timestamp\ncomponent of the initial shard containers' names. This is not required\nbut may be appreciated when humans inspect the state of a sharded\ncontainer.\n\nThis will only be the case the first time find_and_replace --enable\nis used. Repeated use is not recommended; if repeated then the\nbroker's epoch is not changed but new shard ranges are created\nwith new timestamps in their names to guarantee uniqueness.\n\nChange-Id: I707ed7b7ec56ad89e56c9174d65d9998d4ce211f\n""}]",0,570235,f046dbe2a2b5791717e2a6f595283c1354529dfa,2,1,1,7847,,,0,"Use sharding container epoch in shard container names

Make 'swift-manage-shard-ranges find_and_replace --enable' use the
same timestamp for the container's sharding epoch and as the timestamp
component of the initial shard containers' names. This is not required
but may be appreciated when humans inspect the state of a sharded
container.

This will only be the case the first time find_and_replace --enable
is used. Repeated use is not recommended; if repeated then the
broker's epoch is not changed but new shard ranges are created
with new timestamps in their names to guarantee uniqueness.

Change-Id: I707ed7b7ec56ad89e56c9174d65d9998d4ce211f
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/570235/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'swift/container/sharder.py']",3,f046dbe2a2b5791717e2a6f595283c1354529dfa,,"def make_shard_ranges(broker, shard_data, shards_account_prefix, timestamp=None): if timestamp is None: timestamp = Timestamp.now()","def make_shard_ranges(broker, shard_data, shards_account_prefix): timestamp = Timestamp.now()",138,20
openstack%2Ftripleo-common~stable%2Fqueens~Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc,openstack/tripleo-common,stable/queens,Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc,Add special 'all' for deploy_on_servers server name to match all,MERGED,2018-05-10 09:39:16.000000000,2018-05-23 18:20:10.000000000,2018-05-23 18:20:10.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-10 09:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f2e61bb8d62a1ce109ca87e87a793fee828863ea', 'message': ""Add special 'all' for deploy_on_servers server name to match all\n\nThis adds a special clause for when the value of server_name is\nset to 'all'. In this case we skip the match on name and just\nuse the entire nova list. See related below for a use case.\n\nRelated:\n(python-tripleoclient) I77fdc9deab97c785725f09b8529c512950753f86\n\nChange-Id: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc\n""}, {'number': 3, 'created': '2018-05-15 07:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3ffc1b869070808c6256a084dba294775b2e0830', 'message': ""Add special 'all' for deploy_on_servers server name to match all\n\nThis adds a special clause for when the value of server_name is\nset to 'all'. In this case we skip the match on name and just\nuse the entire nova list. See related below for a use case.\n\nRelated:\n(python-tripleoclient) I77fdc9deab97c785725f09b8529c512950753f86\n\nChange-Id: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc\n(cherry picked from commit 8407b9bf2bd6ab3e17263a8e25cad1b0e3b87608)\n""}, {'number': 4, 'created': '2018-05-23 07:52:12.000000000', 'files': ['workbooks/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9b347848f6670c3cf5ec672dbe536cc305af93ab', 'message': ""Add special 'all' for deploy_on_servers server name to match all\n\nThis adds a special clause for when the value of server_name is\nset to 'all'. In this case we skip the match on name and just\nuse the entire nova list. See related below for a use case.\n\nRelated:\n(python-tripleoclient) I77fdc9deab97c785725f09b8529c512950753f86\n\nChange-Id: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc\n(cherry picked from commit 8407b9bf2bd6ab3e17263a8e25cad1b0e3b87608)\n""}]",0,567538,9b347848f6670c3cf5ec672dbe536cc305af93ab,44,9,3,11090,,,0,"Add special 'all' for deploy_on_servers server name to match all

This adds a special clause for when the value of server_name is
set to 'all'. In this case we skip the match on name and just
use the entire nova list. See related below for a use case.

Related:
(python-tripleoclient) I77fdc9deab97c785725f09b8529c512950753f86

Change-Id: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc
(cherry picked from commit 8407b9bf2bd6ab3e17263a8e25cad1b0e3b87608)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/567538/4 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/deployment.yaml'],1,f2e61bb8d62a1ce109ca87e87a793fee828863ea,bug/1758161-stable/queens," check_if_all_servers: on-success: - get_servers_matching: <% $.server_name != ""all"" %> - get_all_servers: <% $.server_name = ""all"" %> get_all_servers: action: nova.servers_list on-success: deploy_on_servers publish: servers_with_name: <% task().result._info %> ",,11,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9,openstack/python-tripleoclient,stable/queens,I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9,"Refactor, fix ansible inventory method parameters for ffwd-upgrade run",MERGED,2018-05-09 14:19:43.000000000,2018-05-23 18:20:10.000000000,2018-05-23 18:20:10.000000000,"[{'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-09 14:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ce14397b70166224691aa40879dd0ca7c44375b7', 'message': ""Pass ssh-user into the ansible inventory for ffwd-upgrade run\n\nThis isn't being passed into the tripleo ansible inventory\ngeneration. Also discussed in [0]\n\nCloses-Bug: 1769867\n[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1575445\n\nChange-Id: I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9\n""}, {'number': 2, 'created': '2018-05-09 16:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/009dff64e067909786dcdf71e2bec26bf3899b69', 'message': ""Refactor, fix ansible inventory method parameters for ffwd-upgrade run\n\nThis submission had the correct fix for the bug 1769867.\n\n[0] was accidentaly stepping over this submission\nto fix the parameter configuration. Still we need\nthe fix for configuring the parameters correctly\nalso fixing the unit tests.\n\nThe method parameters wasn't being passed into the\ntripleo ansible inventory generation.\nAlso discussed in [1].\n\nRelated-Bug: 1769867\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1575445\n[0]: https://review.openstack.org/#/c/566960/\n\nChange-Id: I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9\n""}, {'number': 3, 'created': '2018-05-09 16:38:09.000000000', 'files': ['tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/245eb695fb15c1cd0beea1c2cd91aa6de789f14b', 'message': ""Refactor, fix ansible inventory method parameters for ffwd-upgrade run\n\nThis submission had the correct fix for the bug 1769867.\n\n[0] was accidentaly stepping over this submission\nto fix the parameter configuration. Still we need\nthe fix for configuring the parameters correctly\nalso fixing the unit tests.\n\nThe method parameters wasn't being passed into the\ntripleo ansible inventory generation.\nAlso discussed in [1].\n\nRelated-Bug: 1769867\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1575445\n[0]: https://review.openstack.org/#/c/566960/\n(cherry picked from commit d0673159e0b412c051abfdf0aa4b91944211e270)\nChange-Id: I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9\n""}]",0,567233,245eb695fb15c1cd0beea1c2cd91aa6de789f14b,24,6,3,11090,,,0,"Refactor, fix ansible inventory method parameters for ffwd-upgrade run

This submission had the correct fix for the bug 1769867.

[0] was accidentaly stepping over this submission
to fix the parameter configuration. Still we need
the fix for configuring the parameters correctly
also fixing the unit tests.

The method parameters wasn't being passed into the
tripleo ansible inventory generation.
Also discussed in [1].

Related-Bug: 1769867
[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1575445
[0]: https://review.openstack.org/#/c/566960/
(cherry picked from commit d0673159e0b412c051abfdf0aa4b91944211e270)
Change-Id: I7c5347ef31aa002f22bcaa60fcbfff058ae8acb9
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/567233/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py']",2,ce14397b70166224691aa40879dd0ca7c44375b7,bug/1769867," argslist = ['--ssh-user', 'heat-admin', '--yes'] verifylist = [('ssh_user', 'heat-admin'), ('yes', True), ] def test_ffwd_upgrade_playbook_non_default_user( self, mock_open, mock_execute, mock_expanduser, upgrade_ansible): mock_expanduser.return_value = '/home/fake/' argslist = ['--ssh-user', 'my-user', '--yes'] verifylist = [('ssh_user', 'my-user'), ('yes', True), ] parsed_args = self.check_parser(self.cmd, argslist, verifylist) with mock.patch('os.path.exists') as mock_exists: mock_exists.return_value = True self.cmd.take_action(parsed_args) upgrade_ansible.assert_called_once_with( self.app.client_manager, inventory_file=mock_open().read(), ansible_queue_name=constants.FFWD_UPGRADE_QUEUE, nodes='', playbook=constants.FFWD_UPGRADE_PLAYBOOK, node_user='my-user', skip_tags='' ) @mock.patch('tripleoclient.workflows.package_update.update_ansible', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open')"," argslist = ['--yes'] verifylist = [('yes', True), ]",30,5
openstack%2Ftripleo-quickstart-extras~master~I577017bd3990f6e86caa2538061a850f619e4f66,openstack/tripleo-quickstart-extras,master,I577017bd3990f6e86caa2538061a850f619e4f66,Remove hardcoded cinder v1 option for tempestconf,MERGED,2018-05-16 07:58:25.000000000,2018-05-23 18:20:09.000000000,2018-05-23 18:20:09.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-16 07:58:25.000000000', 'files': ['roles/validate-tempest/templates/configure-tempest.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/da48e520bf68441a9e23709041341d3970bc4684', 'message': 'Remove hardcoded cinder v1 option for tempestconf\n\npython-tempestconf is able to detect deprecated versions,\ntherefor that line is no longer needed.\n\nChange-Id: I577017bd3990f6e86caa2538061a850f619e4f66\n'}]",2,568776,da48e520bf68441a9e23709041341d3970bc4684,28,10,1,22873,,,0,"Remove hardcoded cinder v1 option for tempestconf

python-tempestconf is able to detect deprecated versions,
therefor that line is no longer needed.

Change-Id: I577017bd3990f6e86caa2538061a850f619e4f66
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/76/568776/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/templates/configure-tempest.sh.j2'],1,da48e520bf68441a9e23709041341d3970bc4684,,, volume-feature-enabled.api_v1 False \,0,1
openstack%2Fkeystone-specs~master~Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0,openstack/keystone-specs,master,Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0,Define a set of basic default roles,MERGED,2018-05-04 18:27:08.000000000,2018-05-23 17:57:58.000000000,2018-05-23 17:57:58.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8866}, {'_account_id': 11589}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-05-04 18:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/dd1846c8252b56c48d01c5b2aefc486e442499f3', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0\nCo-authored-By: Lance Bragstad <lbagstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n'}, {'number': 2, 'created': '2018-05-04 18:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/b59f0c9dc168bc542c71b01c859e17aebdf2fe4c', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0\nCo-authored-By: Lance Bragstad <lbagstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n'}, {'number': 3, 'created': '2018-05-04 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/54ef8cfb2b05b661b138780160cf3671b6327fdf', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0\nCo-authored-By: Lance Bragstad <lbragstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n'}, {'number': 4, 'created': '2018-05-07 15:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/713968c09467fc92e84fff12f435dcf889d7ee5e', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0\nCo-authored-By: Lance Bragstad <lbragstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n'}, {'number': 5, 'created': '2018-05-09 13:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/84f38ae645987520c87b710b7832dcfb3856aa37', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0\nCo-authored-By: Lance Bragstad <lbragstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n'}, {'number': 6, 'created': '2018-05-11 16:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/8b201dbcde2583320b329295bab2b62eafc1a643', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0\nCo-authored-By: Lance Bragstad <lbragstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n'}, {'number': 7, 'created': '2018-05-11 17:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/6461d15ba7b79edef306b458c241cf1c13313400', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0\nCo-authored-By: Lance Bragstad <lbragstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n'}, {'number': 8, 'created': '2018-05-15 17:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/0e9213051892816032f95064bd02722397ae7870', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0\nCo-authored-By: Lance Bragstad <lbragstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n'}, {'number': 9, 'created': '2018-05-20 17:40:40.000000000', 'files': ['specs/keystone/rocky/define-default-roles.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/acfc05ae9655702c096aa43e875c17c38339caec', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0\nCo-authored-By: Lance Bragstad <lbragstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n'}]",54,566377,acfc05ae9655702c096aa43e875c17c38339caec,46,8,9,11589,,,0,"Define a set of basic default roles

With the recent work to keystone and oslo.policy, we should be able to
offer tooling to project development teams so they can start evolving
their policies. Before we start changing things, we should come to
consensus on a set of defaults we should offer out of the box.

Moving towards a set of known defaults will make maintenance for
operators much easier. It will also build the foundation for a more
robust RBAC system that is better at modeling complex
organization, ultimately being more useful in the real-world.

Change-Id: Ia6ddf64b4483a73ab79c86d5d794cce561aa19e0
Co-authored-By: Lance Bragstad <lbragstad@gmail.com>
Co-Authored-By: Jamie Lennox <jamielennox@gmail.com>
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/77/566377/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/rocky/define-default-roles.rst'],1,dd1846c8252b56c48d01c5b2aefc486e442499f3,,"=================== Basic Default Roles =================== `blueprint basic-default-roles <https://blueprints.launchpad.net/openstack/+spec/basic-default-roles>`_ Managing `Role Based Access Control <https://csrc.nist.gov/Projects/Role-Based-Access-Control>`_ (RBAC) across OpenStack is one of the hardest pain points for operators to deal with. It is not uncommon for operators to have to dig through source code and keep notes about oddities in RBAC implementations across OpenStack just to offer basic RBAC capabilities to their customers. End users are also affected because it is very rare for any two deployments to have similar roles, or ensure those roles are mapped to similar operations. Problem description =================== OpenStack's initial implementation of RBAC was simple and worked for trivial deployments. As OpenStack evolved and deployments started modeling larger, more complex organizations, the RBAC implementation failed to evolve with it. As a result, operators are stuck using existing tooling to provide the facade of a more sophisticated RBAC solution. This is a confusing and incredibly tough maintenance burden for operators who customize policy. It's not uncommon to see various services hardcode operations to a specific role. While the operation may require that role, the role to policy mapping should be driven by policy defaults that can be overridden by operators instead of hardcoding. Proposed change =============== As a platform, OpenStack should offer a basic, easy to understand RBAC implementation with clear, reasonable default values. The process of implementing this will give operators more flexibility out-of-the-box. It will also be less likely to introduce inconsistencies across deployments due to the limitations of the existing implementation. To help ensure a graceful transition, `improvements <http://specs.openstack.org/openstack/oslo-specs/specs/queens/policy-deprecation.html>`_ were made to the oslo policy library and a community `goal <https://governance.openstack.org/tc/goals/queens/policy-in-code.html>`_ put in place to help projects teams register defaults policies in code and provide documentation. This work gives OpenStack project teams the tools necessary to improve default role definitions. The changing defaults can be consumed by operators in ways that are consistent with changing configuration options. This specification proposes that each service interested in offering basic RBAC, incorporate the following default roles into the service's default policies. Default Roles ------------- **auditor**: It should only be used for read-only APIs and operations. Alternatively referred to as ``reader``, this role fills an extremely popular need from operators. **member**: serves as the general purpose do-er role. It introduces granularity between the administrator(s) and everyone else. **admin**: This role will be only be considered appropriate for operations deemed too sensitive for anyone with a member role. The desired outcome of implementing the roles above is that projects should start moving away from the practice of hardcoding operations to specific role names. Instead, each policy should have a reasonable default that can be overridden by operators. Scope Type (Refresher) ------------- **project-scope**: Project-scope express relates to authorization for operating in a specific tenancy of the cloud. **system-scope**: System-scope relates to authorization for operating with APIs that do not fall nicely into concept of Project scope. It is **not** meant to cover *all* APIs across a deployment. Note that this level of scope is an effort currently being implemented in Keystone. More information about system-scope can be found in the `specification <http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html>`_, along with relevant historical context justifying the `need for system-scope <https://bugs.launchpad.net/keystone/+bug/968696>`_. Examples -------- `auditor:` An example project-scoped application of this role would be listing volumes (``volume:get``). An example system-scoped application of this role would be listing service endpoints (``identity:list_endpoints``). `member:` An example project-scoped application of this role would be creating a volume (``volume:create``). An example system-scope application of this role would be updating an endpoint (``identity:update_endpoint``). `admin:` An example project-scoped administrator operation would be deleting a volume (``volume:delete``). An example system-scoped administrator operation would be creating an endpoint for a service (``identity:create_endpoint``) or listing migrations (``os_compute_api:os-migrations``). The following table is neither a final nor a comprehensive list of all possible rules/policies. It serves merely as a snippet of existing rules to showcase how policies, scope, and the new default roles can work together to provide a richer policy experience. Reviews specific to each services API will need to be conducted between its developers with the Keystone team to assist in the process. +-------------+---------------------------+-----------------------------+---------------------------------+ | | auditor | member | admin | +=============+===========================+=============================+=================================+ | **Project** | * volume:get | * volume:get | * volume:get | | | * volume:get_all | * volume:get_all | * volume:get_all | | | | * volume:create | * volume:create | | | | * volume:update | * volume:update | | | | | * volume:delete | +-------------+---------------------------+-----------------------------+---------------------------------+ | **System** | * identity:list_endpoints | * identity:list_endpoints | * identity:list_endpoints | | | * identity:get_endpoint | * identity:get_endpoint | * identity:get_endpoint | | | | * identity:update_endpoint | * identity:update_endpoint | | | | | * identity:create_endpoint | | | | | * os_compute_api:os-hypervisors | | | | | * os_compute_api:os-migrations | +-------------+---------------------------+-----------------------------+---------------------------------+ Example snippets of various policy files, or rendered snippets, could look like the following. .. note:: The default roles discussed will be created by Keystone, during the bootstrap process, using `implied roles <https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/implied_role.html>`_. As indicated in the above table, having ``admin`` role implies a user also has the same rights as the ``member`` role. Therefore this user will also has the same rights as the ``auditor`` role as ``member`` implies ``auditor``. This keeps policy files clean. For example: ""identity:list_endpoints"": ""role:auditor OR role:member OR role:admin"" is equivalent to ""identity:list_endpoints"": ""role:auditor"" as a result of the implied roles chain. :: # scope_types = ('project') ""volume:get"": ""role:auditor"" ""volume:get_all"": ""role:auditor"" ""volume:create"": ""role:member"" ""volume:update"": ""role:member"" ""volume:delete"": ""role:admin"" # scope_types = ('system') ""identity:list_endpoints"": ""role:auditor"" ""identity:get_endpoints"": ""role:auditor"" ""identity:update_endpoint"": ""role:member"" ""identity:create_endpoint"": ""role:admin"" ""os_compute_api:os-hypervisors"": ""role:admin"" ""os_compute_api:os-migrations"": ""role:admin"" Let's assume the following role assignment exist: - **Alice** has role **auditor** on system - **Bob** has the role **member** on system - **Charlie** has role **admin** on system - **Qiana** has role **auditor** on Project Alpha - **Rebecca** has role **member** on Project Alpha - **Steve** has role **admin** on Project Alpha Given the above assignments and policies, the following would be possible: **Alice** can list or retrieve specific endpoints. Alice cannot do any project specific operations since her authorization is limited to the deployment system. **Bob** can retrieve specific endpoints, list them, and update them. He cannot create new endpoints, or delete existing ones. Bob cannot do any project specific operations because his authorization is limited to the deployment system. **Charlie** can retrieve specific endpoints, list, as well as create them. Additionally, Charlie can list information on migrations as well as hypervisors. He cannot perform any project specific operations because his authorization is limited to the deployment system. **Qiana** can list volumes and get details about a specific volume within Project Alpha. She may not perform system specific policies because her authorization is on a single project. **Rebecca** can list volumes, create new volumes, get details about a specific volume, and update a volume within Project Alpha. She cannot perform any system specific policies because her authorization is on a single project. **Steve** can list volumes, create new volumes, get details about a specific volume, update a volume, and delete volumes within Project Alpha. He cannot perform any system specific policies because his authorization is on a single project. Risk Mitigation --------------- **Scenario One -- A role serving the purposes described in this spec exists under another name**: Let us assume that Deployment A already has ``Role X`` which serves the purpose of the proposed here as the ``auditor`` role. In this instance, it is reasonable to assume that operators may have custom policy work in place and do not want to port immediately. This issue may be mitigated through the use of implied roles. Operators need simply to ensure that ``auditor`` implies ``Role X``. Please review the documentation on `implied roles <https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/implied_role.html>`_. for specific instructions on how make one role imply another. **Scenario Two -- An existing ``auditor``, ``member``, or ``admin`` role already exists**: Let us assume that Deployment B already has a ``member`` role. Keystone will not attempt to overwrite any existing roles that have been populated. It will instead note that a role with the name ``member`` already exists in log output. Alternatives ------------ reader/writer/admin vs auditor/nember/admin. There was much debate regarding the naming conventions for these roles. We have opted to use `auditor`, `member`, and `admin` as we believe they most accurately describe their purpose when the context of OpenStack is taken into consideration. Implementation ============== Assignee(s) ----------- I am certainly looking for other folks who are interested in helping with this work. This will likely impact a lot of OpenStack projects, and distributing the work across a team of people who understand the change makes sense. Primary assignee: Lance Bragstad lbragstad lbragstad@gmail.com Harry Rybacki hrybacki hrybacki@redhat.com Work Items ---------- * Determine if this is something that needs to be implemented using a `community goal <https://governance.openstack.org/tc/goals/>`_ * Set up a way to track progress (e.g. using launchpad bugs, community goal completion artifacts, burndown charts, etc...) * Coordinate the changes in *each* OpenStack project and assist `patrole <https://github.com/openstack/patrole>`_ with test coverage * Provide How-To documentation for deployments that still need to customize policy * Create a community `tag <https://governance.openstack.org/tc/reference/tags/index.html>`_ so services may assert addition of default roles, defined in this spec, to their respective policy files. Dependencies ============ This work is dependent on the following: * `Registering and documenting <https://governance.openstack.org/tc/goals/queens/policy-in-code.html>`_ all policies in code The work detailed in this specification will be supplemented with policy work being done in oslo and keystone: * Implementing `system-scope <http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html>`_ in keystone * Implementing `scope_types <http://specs.openstack.org/openstack/oslo-specs/specs/queens/include-scope-in-policy.html>`_ Full dependencies and relevant work can be found in the `Policy Roadmap <https://trello.com/b/bpWycnwa/policy-roadmap>`_. Resources ========= * `Policy Roadmap <https://trello.com/b/bpWycnwa/policy-roadmap>`_ * `System Scope <http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html>`_ * `Deprecation with oslo.policy <http://specs.openstack.org/openstack/oslo-specs/specs/queens/policy-deprecation.html>`_ * `Scope types in oslo.policy <http://specs.openstack.org/openstack/oslo-specs/specs/queens/include-scope-in-policy.html>`_ * Previous `attempts <https://review.openstack.org/#/c/245629>`_ at providing default roles History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Queens - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,296,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ib1275d42daf2896db9e6de6513070a0fba47ed40,openstack/tripleo-heat-templates,stable/queens,Ib1275d42daf2896db9e6de6513070a0fba47ed40,Mount ODL log file on host node,MERGED,2018-05-10 05:01:15.000000000,2018-05-23 17:48:05.000000000,2018-05-23 17:48:05.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-10 05:01:15.000000000', 'files': ['docker/services/opendaylight-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e9fbb8c32028f4bb6d46439edbb4f8aea0a0060', 'message': 'Mount ODL log file on host node\n\nThis patch mounts karaf.log file at /var/log/\ncontainer/opendaylight/. So the logs are now available\nvia docker logs and in file both.\n\nChange-Id: Ib1275d42daf2896db9e6de6513070a0fba47ed40\n(cherry picked from commit d53522165e18c7d10b16ccad494691f5043e3a4f)\n'}]",0,567469,4e9fbb8c32028f4bb6d46439edbb4f8aea0a0060,56,10,1,20866,,,0,"Mount ODL log file on host node

This patch mounts karaf.log file at /var/log/
container/opendaylight/. So the logs are now available
via docker logs and in file both.

Change-Id: Ib1275d42daf2896db9e6de6513070a0fba47ed40
(cherry picked from commit d53522165e18c7d10b16ccad494691f5043e3a4f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/567469/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/opendaylight-api.yaml'],1,4e9fbb8c32028f4bb6d46439edbb4f8aea0a0060,," - /var/log/containers/opendaylight:/opt/opendaylight/data/log - /var/log/containers/opendaylight Logs from opendaylight container can be found by running ""sudo docker logs opendaylight_api"" and are also available in /var/log/containers/opendaylight/karaf.log"," Logs from opendaylight container can be found by running ""sudo docker logs opendaylight_api""",3,1
openstack%2Fcharm-neutron-dynamic-routing~master~I41360518ab2e65a207e238d95a39b763897d4fbc,openstack/charm-neutron-dynamic-routing,master,I41360518ab2e65a207e238d95a39b763897d4fbc,Remove asn configuration option,MERGED,2018-05-14 10:54:26.000000000,2018-05-23 17:37:33.000000000,2018-05-23 17:37:33.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 10:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/e8b92a393ec6237b6bde1769ef62f0d5acce1455', 'message': 'Remove asn configuration option\n\nThis configuration option is only used for CI testing and\nmay be confusing for a unsuspecting end user.\n\nChange is coupled with PR on zaza that updates the dragent\ntest to get information about configured asns by inspecting\nrelation data on `neutron-dynamic-routing` and `quagga`\nunits.\n\nDepends-On: https://github.com/openstack-charmers/zaza/pull/48\nChange-Id: I41360518ab2e65a207e238d95a39b763897d4fbc\n'}, {'number': 2, 'created': '2018-05-14 11:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/0fecda3257346d4aa2f38620a3f63515c2cc6ec1', 'message': 'Remove asn configuration option\n\nThis configuration option is only used for CI testing and\nmay be confusing for a unsuspecting end user.\n\nChange is coupled with PR on zaza that updates the dragent\ntest to get information about configured asns by inspecting\nrelation data on `neutron-dynamic-routing` and `quagga`\nunits.\n\nDepends-On: https://github.com/openstack-charmers/zaza/pull/48\nChange-Id: I41360518ab2e65a207e238d95a39b763897d4fbc\n'}, {'number': 3, 'created': '2018-05-14 11:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/6b9341d380439c50d19067f25c1332566a2b0135', 'message': 'Remove asn configuration option\n\nThis configuration option is only used for CI testing and\nmay be confusing for a unsuspecting end user.\n\nChange is coupled with PR on zaza that updates the dragent\ntest to get information about configured asns by inspecting\nrelation data on `neutron-dynamic-routing` and `quagga`\nunits.\n\nDepends-On: https://github.com/openstack-charmers/zaza/pull/48\nChange-Id: I41360518ab2e65a207e238d95a39b763897d4fbc\n'}, {'number': 4, 'created': '2018-05-14 11:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/84d4d3945ae8fcf77ef5225cc5f4db771ca1b392', 'message': 'Remove asn configuration option\n\nThis configuration option is only used for CI testing and\nmay be confusing for a unsuspecting end user.\n\nChange is coupled with PR on zaza that updates the dragent\ntest to get information about configured asns by inspecting\nrelation data on `neutron-dynamic-routing` and `quagga`\nunits.\n\nDepends-On: https://github.com/openstack-charmers/zaza/pull/48\nChange-Id: I41360518ab2e65a207e238d95a39b763897d4fbc\n'}, {'number': 5, 'created': '2018-05-17 22:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/77abc163e739ed8f8046e4e9a7985b3bf6818c91', 'message': 'Remove asn configuration option\n\nThis configuration option is only used for CI testing and\nmay be confusing for a unsuspecting end user.\n\nChange is coupled with PR on zaza that updates the dragent\ntest to get information about configured asns by inspecting\nrelation data on `neutron-dynamic-routing` and `quagga`\nunits.\n\nRe-order services in CI test bundles so infrastructure\ncomponents are available earlier.  This is an attempt to\nwork around issue where tests are failing due to\n`MessagingTimeout` error.\n\nDepends-On: https://github.com/openstack-charmers/zaza/pull/48\nChange-Id: I41360518ab2e65a207e238d95a39b763897d4fbc\n'}, {'number': 6, 'created': '2018-05-18 00:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/f5ebc35cfc7cb0de990a4d0971c4c8854afa0bd4', 'message': 'Remove asn configuration option\n\nThis configuration option is only used for CI testing and\nmay be confusing for a unsuspecting end user.\n\nChange is coupled with PR on zaza that updates the dragent\ntest to get information about configured asns by inspecting\nrelation data on `neutron-dynamic-routing` and `quagga`\nunits.\n\nRe-order services in CI test bundles so infrastructure\ncomponents are available earlier.  This is an attempt to\nwork around issue where tests are failing due to\n`MessagingTimeout` error.\n\nDepends-On: https://github.com/openstack-charmers/zaza/pull/48\nChange-Id: I41360518ab2e65a207e238d95a39b763897d4fbc\n'}, {'number': 7, 'created': '2018-05-20 07:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/597e60bf6cd3338e7f7c19bcfcca448683632223', 'message': 'Remove asn configuration option\n\nThis configuration option is only used for CI testing and\nmay be confusing for a unsuspecting end user.\n\nChange is coupled with PR on zaza that updates the dragent\ntest to get information about configured asns by inspecting\nrelation data on `neutron-dynamic-routing` and `quagga`\nunits.\n\nDepends-On: https://github.com/openstack-charmers/zaza/pull/48\nChange-Id: I41360518ab2e65a207e238d95a39b763897d4fbc\n'}, {'number': 8, 'created': '2018-05-21 05:43:38.000000000', 'files': ['src/config.yaml', 'src/lib/charm/openstack/dragent.py', 'src/reactive/dragent_handlers.py', 'src/tests/bundles/bionic-queens-functional.yaml', 'src/tests/bundles/xenial-queens-functional.yaml', 'unit_tests/test_dragent_handlers.py', 'unit_tests/test_lib_charm_openstack_dragent.py', 'src/tests/bundles/xenial-pike-functional.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/7be2ae2bd81f48641788d4de18cfeacbbe74a2ec', 'message': 'Remove asn configuration option\n\nThis configuration option is only used for CI testing and\nmay be confusing for a unsuspecting end user.\n\nChange is coupled with PR on zaza that updates the dragent\ntest to get information about configured asns by inspecting\nrelation data on `neutron-dynamic-routing` and `quagga`\nunits.\n\nDepends-On: I8b1508361fdc7541c0fc231e7e816651626596b7\nChange-Id: I41360518ab2e65a207e238d95a39b763897d4fbc\n'}]",0,568260,7be2ae2bd81f48641788d4de18cfeacbbe74a2ec,58,4,8,13686,,,0,"Remove asn configuration option

This configuration option is only used for CI testing and
may be confusing for a unsuspecting end user.

Change is coupled with PR on zaza that updates the dragent
test to get information about configured asns by inspecting
relation data on `neutron-dynamic-routing` and `quagga`
units.

Depends-On: I8b1508361fdc7541c0fc231e7e816651626596b7
Change-Id: I41360518ab2e65a207e238d95a39b763897d4fbc
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/60/568260/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/reactive/dragent_handlers.py', 'src/tests/bundles/bionic-queens-functional.yaml', 'src/tests/bundles/xenial-queens-functional.yaml', 'unit_tests/test_dragent_handlers.py', 'src/tests/bundles/xenial-pike-functional.yaml']",6,e8b92a393ec6237b6bde1769ef62f0d5acce1455,remove-config-asn, options: {openstack-origin: 'cloud:xenial-pike/proposed'}," options: {asn: 12345, openstack-origin: 'cloud:xenial-pike/proposed'} options: {asn: 10000}",4,21
openstack%2Fsenlin~master~I4968e6eb438e43859fe63044ae580a059a52239a,openstack/senlin,master,I4968e6eb438e43859fe63044ae580a059a52239a,Fix typo,MERGED,2018-05-22 08:46:09.000000000,2018-05-23 17:34:26.000000000,2018-05-23 17:34:26.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-05-22 08:46:09.000000000', 'files': ['doc/source/scenarios/autoscaling_ceilometer.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/77053a12965a3962ae2ac41daa41cf12b6680288', 'message': 'Fix typo\n\nChange-Id: I4968e6eb438e43859fe63044ae580a059a52239a\n'}]",0,569940,77053a12965a3962ae2ac41daa41cf12b6680288,10,6,1,25747,,,0,"Fix typo

Change-Id: I4968e6eb438e43859fe63044ae580a059a52239a
",git fetch https://review.opendev.org/openstack/senlin refs/changes/40/569940/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/scenarios/autoscaling_ceilometer.rst'],1,77053a12965a3962ae2ac41daa41cf12b6680288,,"You can show cluster details, using the command `openstack cluster show mycluster`","You can show cluster details, useing the command `openstack cluster show mycluster`",1,1
openstack%2Fnova~master~I649a78a787bbc6a34ed4749f22186400a614557f,openstack/nova,master,I649a78a787bbc6a34ed4749f22186400a614557f,Migrate VMs failed when anti-affinity group was removed from VMs.,ABANDONED,2017-03-30 06:27:25.000000000,2018-05-23 17:28:58.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9610}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11351}, {'_account_id': 11564}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23983}, {'_account_id': 25110}, {'_account_id': 25284}, {'_account_id': 26515}, {'_account_id': 27169}, {'_account_id': 27170}]","[{'number': 1, 'created': '2017-03-30 06:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79e6a7fa0e9537e4065f56d18df22293dd386565', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, group_hosts of request_spec\nis set to an empty list {\'limits\': {}, \'group_policies\':\nset([u\'anti-affinity\']), \'ignore_hosts\': [u\'test-deploy7\'],\n\'group_hosts\': set([]), \'group_updated\': True, \'scheduler_hints\':\n{u\'group\': u\'groupId\'}}, thus ""TypeError: \'NoneType\' object is not\n iterable"" exception was raised, cause an ""NoneType"" issue when\n migrating VMs after the anit-affinity group was removed, then\n add a default value to avoide this exception.\n\n Closes-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 2, 'created': '2017-03-30 06:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/248df7ea44268ba53c12f37ea18f9f751750683c', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, group_hosts of request_spec\nis set to an empty list {\'limits\': {}, \'group_policies\':\nset([u\'anti-affinity\']), \'ignore_hosts\': [u\'test-deploy7\'],\n\'group_hosts\': set([]), \'group_updated\': True, \'scheduler_hints\':\n{u\'group\': u\'groupId\'}}, thus ""TypeError: \'NoneType\' object is not\niterable"" exception was raised, cause an ""NoneType"" issue when\nmigrating VMs after the anit-affinity group was removed, then add a\ndefault value to avoide this exception.\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 3, 'created': '2017-04-13 11:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f56a0e9cda58cd1f2e840bbd093739bb9cfe243b', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, group_hosts of request_spec\nis set to an empty list {\'limits\': {}, \'group_policies\':\nset([u\'anti-affinity\']), \'ignore_hosts\': [u\'test-deploy7\'],\n\'group_hosts\': set([]), \'group_updated\': True, \'scheduler_hints\':\n{u\'group\': u\'groupId\'}}, thus ""TypeError: \'NoneType\' object is not\niterable"" exception was raised, cause an ""NoneType"" issue when\nmigrating VMs after the anit-affinity group was removed, then add a\ndefault value to avoide this exception.\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 4, 'created': '2017-04-13 11:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a7152de636c4412d9437603bd7e1a24d3518965', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, group_hosts of request_spec\nis set to an empty list {\'limits\': {}, \'group_policies\':\nset([u\'anti-affinity\']), \'ignore_hosts\': [u\'test-deploy7\'],\n\'group_hosts\': set([]), \'group_updated\': True, \'scheduler_hints\':\n{u\'group\': u\'groupId\'}}, thus ""TypeError: \'NoneType\' object is not\niterable"" exception was raised, cause an ""NoneType"" issue when\nmigrating VMs after the anit-affinity group was removed, then add a\ndefault value to avoide this exception.\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 5, 'created': '2017-04-13 11:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a063dae1d887dc270eb8b5349c02d29a3ba423b', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, group_hosts of request_spec\nis set to an empty list {\'limits\': {}, \'group_policies\':\nset([u\'anti-affinity\']), \'ignore_hosts\': [u\'test-deploy7\'],\n\'group_hosts\': set([]), \'group_updated\': True, \'scheduler_hints\':\n{u\'group\': u\'groupId\'}}, thus ""TypeError: \'NoneType\' object is not\niterable"" exception was raised, cause an ""NoneType"" issue when\nmigrating VMs after the anit-affinity group was removed, then add a\ndefault value to avoide this exception.\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 6, 'created': '2017-04-13 12:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48af1f9494305f87b3519d4f83ec1a112fc9064c', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, group_hosts of request_spec\nis set to an empty list {\'limits\': {}, \'group_policies\':\nset([u\'anti-affinity\']), \'ignore_hosts\': [u\'test-deploy7\'],\n\'group_hosts\': set([]), \'group_updated\': True, \'scheduler_hints\':\n{u\'group\': u\'groupId\'}}, thus ""TypeError: \'NoneType\' object is not\niterable"" exception was raised, cause an ""NoneType"" issue when\nmigrating VMs after the anit-affinity group was removed, then add a\ndefault value to avoide this exception.\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 7, 'created': '2017-04-14 00:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b91c657049a19ef7418011aac573784681cb8f5', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, group_hosts of request_spec\nis set to an empty list {\'limits\': {}, \'group_policies\':\nset([u\'anti-affinity\']), \'ignore_hosts\': [u\'test-deploy7\'],\n\'group_hosts\': set([]), \'group_updated\': True, \'scheduler_hints\':\n{u\'group\': u\'groupId\'}}, thus ""TypeError: \'NoneType\' object is not\niterable"" exception was raised, cause an ""NoneType"" issue when\nmigrating VMs after the anit-affinity group was removed, then add a\ndefault value to avoide this exception.\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 8, 'created': '2017-04-14 01:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ceab4161999a8078ba67c799c3ed7cd0487c3771', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, \'group_members\' field was\nremoved from request_spec and here is the debug info:\n\n{\'limits\': {}, \'group_policies\':\nset([u\'anti-affinity\']), \'ignore_hosts\': [u\'test-deploy7\'],\n\'group_hosts\': set([]), \'group_updated\': True, \'scheduler_hints\':\n{u\'group\': u\'groupId\'}}.\n\nBecause no filed named \'group_members\' was contained, so the\nfollowing method: nova/objects/request_spec.py:205:\n\nmembers = list(filter_properties.get(\'group_members\'))\n\nwill raise the NoneType error: ""TypeError: \'NoneType\' object is not\niterable"". We add a default value to avoide this exception.\nmembers = list(filter_properties.get(\'group_members\', []))\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 9, 'created': '2017-04-14 01:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f75ba724a9983fe7620cbc5c9daaf8638d002bb9', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, \'group_members\' field was\nremoved from request_spec and here is the debug info:\n{\'limits\': {}, \'group_policies\':\nset([u\'anti-affinity\']), \'ignore_hosts\': [u\'test-deploy7\'],\n\'group_hosts\': set([]), \'group_updated\': True, \'scheduler_hints\':\n{u\'group\': u\'groupId\'}}.\n\nBecause no filed named \'group_members\' was contained, so the\nfollowing method: nova/objects/request_spec.py:205:\n\nmembers = list(filter_properties.get(\'group_members\'))\nwill raise the NoneType error: ""TypeError: \'NoneType\' object is not\niterable"". We add a default value to avoide this exception.\nmembers = list(filter_properties.get(\'group_members\', []))\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 10, 'created': '2017-04-14 01:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a47e6b762ef15c4b760a11ba190b2d9d67985f4', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, \'group_members\' field was\nremoved from request_spec and here is the debug info:\n{\'limits\': {}, \'group_policies\':set([u\'anti-affinity\']),\n\'ignore_hosts\': [u\'test-deploy7\'], \'group_hosts\': set([]),\n\'group_updated\': True, \'scheduler_hints\': {u\'group\': u\'groupId\'}}.\n\nBecause no filed named \'group_members\' was contained, so the\nfollowing method: nova/objects/request_spec.py:205:\n\nmembers = list(filter_properties.get(\'group_members\'))\nwill raise the NoneType error: ""TypeError: \'NoneType\' object is not\niterable"". We add a default value to avoide this exception.\n\nmembers = list(filter_properties.get(\'group_members\', []))\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 11, 'created': '2017-04-14 01:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ddc1b262e7913be5ea55ae3442f8482f9ea01c5', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, \'group_members\' field was\nremoved from request_spec and here is the debug info:\n{\'limits\': {}, \'group_policies\':set([u\'anti-affinity\']),\n\'ignore_hosts\': [u\'test-deploy7\'], \'group_hosts\': set([]),\n\'group_updated\': True, \'scheduler_hints\': {u\'group\': u\'groupId\'}}.\n\nBecause no filed named \'group_members\' was contained, so the\nfollowing method: nova/objects/request_spec.py:205:\n\nmembers = list(filter_properties.get(\'group_members\'))\n\nwill raise the NoneType error: ""TypeError: \'NoneType\' object is not\niterable"". We add a default value to avoide this exception.\n\nmembers = list(filter_properties.get(\'group_members\', []))\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 12, 'created': '2017-04-14 07:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0688df151d4447aa4085360e46a2316299dc5a4', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, \'group_members\' field was\nremoved from request_spec and here is the debug info:\n{\'limits\': {}, \'group_policies\':set([u\'anti-affinity\']),\n\'ignore_hosts\': [u\'test-deploy7\'], \'group_hosts\': set([]),\n\'group_updated\': True, \'scheduler_hints\': {u\'group\': u\'groupId\'}}.\n\nBecause no filed named \'group_members\' was contained, so the\nfollowing method: nova/objects/request_spec.py:205:\n\nmembers = list(filter_properties.get(\'group_members\'))\n\nwill raise the NoneType error: ""TypeError: \'NoneType\' object is not\niterable"". We add a default value to avoide this exception.\n\nmembers = list(filter_properties.get(\'group_members\', []))\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 13, 'created': '2017-04-17 09:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b37b35d0495447966132298ecb69ba80049a472b', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, \'group_members\' field was\nremoved from request_spec and here is the debug info:\n{\'limits\': {}, \'group_policies\':set([u\'anti-affinity\']),\n\'ignore_hosts\': [u\'test-deploy7\'], \'group_hosts\': set([]),\n\'group_updated\': True, \'scheduler_hints\': {u\'group\': u\'groupId\'}}.\n\nBecause no filed named \'group_members\' was contained, so the\nfollowing method: nova/objects/request_spec.py:205:\n\nmembers = list(filter_properties.get(\'group_members\'))\n\nwill raise the NoneType error: ""TypeError: \'NoneType\' object is not\niterable"". We add a default value to avoide this exception.\n\nmembers = list(filter_properties.get(\'group_members\', []))\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 14, 'created': '2017-06-28 07:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97f8e32361408c85ad9ad2b46b5bb43550d1e343', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, \'group_members\' field was\nremoved from request_spec and here is the debug info:\n{\'limits\': {}, \'group_policies\':set([u\'anti-affinity\']),\n\'ignore_hosts\': [u\'test-deploy7\'], \'group_hosts\': set([]),\n\'group_updated\': True, \'scheduler_hints\': {u\'group\': u\'groupId\'}}.\n\nBecause no filed named \'group_members\' was contained, so the\nfollowing method: nova/objects/request_spec.py:205:\n\nmembers = list(filter_properties.get(\'group_members\'))\n\nwill raise the NoneType error: ""TypeError: \'NoneType\' object is not\niterable"". We add a default value to avoide this exception.\n\nmembers = list(filter_properties.get(\'group_members\', []))\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}, {'number': 15, 'created': '2017-11-06 05:55:37.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/544a1592c09aa0b66d247471f6187cbe6fc616b2', 'message': 'Migrate VMs failed when anti-affinity group was removed from VMs.\n\nWhen anti-affinity group was removed, \'group_members\' field was\nremoved from request_spec and here is the debug info:\n{\'limits\': {}, \'group_policies\':set([u\'anti-affinity\']),\n\'ignore_hosts\': [u\'test-deploy7\'], \'group_hosts\': set([]),\n\'group_updated\': True, \'scheduler_hints\': {u\'group\': u\'groupId\'}}.\n\nBecause no field named \'group_members\' was contained, so the\nfollowing method: nova/objects/request_spec.py:205:\n\nmembers = list(filter_properties.get(\'group_members\'))\n\nwill raise the NoneType error: ""TypeError: \'NoneType\' object is not\niterable"". We add a default value to avoide this exception.\n\nmembers = list(filter_properties.get(\'group_members\', []))\n\nCloses-Bug: #1675676\n\nChange-Id: I649a78a787bbc6a34ed4749f22186400a614557f\n'}]",9,451664,544a1592c09aa0b66d247471f6187cbe6fc616b2,171,32,15,25110,,,0,"Migrate VMs failed when anti-affinity group was removed from VMs.

When anti-affinity group was removed, 'group_members' field was
removed from request_spec and here is the debug info:
{'limits': {}, 'group_policies':set([u'anti-affinity']),
'ignore_hosts': [u'test-deploy7'], 'group_hosts': set([]),
'group_updated': True, 'scheduler_hints': {u'group': u'groupId'}}.

Because no field named 'group_members' was contained, so the
following method: nova/objects/request_spec.py:205:

members = list(filter_properties.get('group_members'))

will raise the NoneType error: ""TypeError: 'NoneType' object is not
iterable"". We add a default value to avoide this exception.

members = list(filter_properties.get('group_members', []))

Closes-Bug: #1675676

Change-Id: I649a78a787bbc6a34ed4749f22186400a614557f
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/451664/10 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/request_spec.py'],1,79e6a7fa0e9537e4065f56d18df22293dd386565,bug/1675676," policies = list(filter_properties.get('group_policies', [])) hosts = list(filter_properties.get('group_hosts', [])) members = list(filter_properties.get('group_members', []))", policies = list(filter_properties.get('group_policies')) hosts = list(filter_properties.get('group_hosts')) members = list(filter_properties.get('group_members')),3,3
openstack%2Fkolla-ansible~master~Ic2fbcf2347023c1e9e666203dfe40dbeaf24ce5f,openstack/kolla-ansible,master,Ic2fbcf2347023c1e9e666203dfe40dbeaf24ce5f,Updated genpwd to work with python35,MERGED,2018-05-22 23:39:19.000000000,2018-05-23 17:07:48.000000000,2018-05-23 17:07:47.000000000,"[{'_account_id': 1390}, {'_account_id': 2276}, {'_account_id': 14826}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 24147}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-22 23:39:19.000000000', 'files': ['kolla_ansible/cmd/genpwd.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1768ef7abb9ef183601c528dbd8bac5b315ad35', 'message': 'Updated genpwd to work with python35\n\nDue to the changes in hmac.new and how binary strings\nare dumped in yaml.safe_dump some changes were needed to\nmake sure that we dumped only strings, not binary strings.\n\nChange-Id: Ic2fbcf2347023c1e9e666203dfe40dbeaf24ce5f\n'}]",0,570080,f1768ef7abb9ef183601c528dbd8bac5b315ad35,10,7,1,16520,,,0,"Updated genpwd to work with python35

Due to the changes in hmac.new and how binary strings
are dumped in yaml.safe_dump some changes were needed to
make sure that we dumped only strings, not binary strings.

Change-Id: Ic2fbcf2347023c1e9e666203dfe40dbeaf24ce5f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/570080/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_ansible/cmd/genpwd.py'],1,f1768ef7abb9ef183601c528dbd8bac5b315ad35,genpwd_py35," ).decode() ).decode() uuidutils.generate_uuid().encode(), ''.encode(), md5) .hexdigest()) uuidutils.generate_uuid().encode(), ''.encode(), sha256) .hexdigest())"," ) ) uuidutils.generate_uuid(), '', md5) .digest().encode('base64')[:-1]) uuidutils.generate_uuid(), '', sha256) .digest().encode('base64')[:-1])",6,6
openstack%2Ftripleo-ha-utils~master~I426387486b832314882a3094966e4f2806218331,openstack/tripleo-ha-utils,master,I426387486b832314882a3094966e4f2806218331,Fix the last old repository references,MERGED,2018-05-23 15:08:38.000000000,2018-05-23 16:55:46.000000000,2018-05-23 16:55:46.000000000,"[{'_account_id': 20936}, {'_account_id': 21686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 15:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/d7d2399d4d89166a235a785dd2fa81b10063d407', 'message': 'Fix the last old repository references\n\nThis patch fixes the latest references that are around and refer to the\nold repository name (tripleo-quickstart-utils), changing it into the new\ntripleo-ha-utils.\n\nChange-Id: I426387486b832314882a3094966e4f2806218331\n'}, {'number': 2, 'created': '2018-05-23 15:12:58.000000000', 'files': ['infrared/README.md', 'rally/README.md', 'infrared/infrared_instance-ha_plugin_main.yml', 'setup.cfg', 'README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/20507623d0771c9e9750063ce7c40ee7ff02eee5', 'message': 'Fix the last old repository references\n\nThis patch fixes the latest references that are around and refer to the\nold repository name (tripleo-quickstart-utils), changing it into the new\ntripleo-ha-utils.\n\nChange-Id: I426387486b832314882a3094966e4f2806218331\n'}]",1,570210,20507623d0771c9e9750063ce7c40ee7ff02eee5,10,3,2,20936,,,0,"Fix the last old repository references

This patch fixes the latest references that are around and refer to the
old repository name (tripleo-quickstart-utils), changing it into the new
tripleo-ha-utils.

Change-Id: I426387486b832314882a3094966e4f2806218331
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/10/570210/2 && git format-patch -1 --stdout FETCH_HEAD,"['infrared/README.md', 'rally/README.md', 'infrared/infrared_instance-ha_plugin_main.yml', 'setup.cfg', 'README.md']",5,d7d2399d4d89166a235a785dd2fa81b10063d407,fix_last_old_repo_references,"First of all a clone of the *tripleo-ha-utils* repository must be git clone https://github.com/openstack/tripleo-ha-utils roles_path = /home/stack/tripleo-ha-utils/roles ansible-playbook /home/stack/tripleo-ha-utils/playbooks/overcloud-instance-ha.yml -e release=newton*tripleo-ha-utils* project can be set as a *tripleo-quickstart* echo ""https://github.com/openstack/tripleo-ha-utils/#egg=tripleo-ha-utils"" >> tripleo-quickstart/quickstart-extras-requirements.txt","First of all a clone of the *tripleo-quickstart-utils* repository must be git clone https://github.com/redhat-openstack/tripleo-quickstart-utils roles_path = /home/stack/tripleo-quickstart-utils/roles ansible-playbook /home/stack/tripleo-quickstart-utils/playbooks/overcloud-instance-ha.yml -e release=newton*tripleo-quickstart-utils* project can be set as a *tripleo-quickstart* echo ""https://gituhb.com/openstack/tripleo-quickstart-utils/#egg=tripleo-quickstart-utils"" >> tripleo-quickstart/quickstart-extras-requirements.txt",20,20
openstack%2Fironic~master~I5539aa0406dbfbde25bc9aa91d5c1e615875e50e,openstack/ironic,master,I5539aa0406dbfbde25bc9aa91d5c1e615875e50e,Power fault recovery: db and rpc implementation,MERGED,2018-03-23 09:07:11.000000000,2018-05-23 16:28:48.000000000,2018-05-23 11:03:37.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-03-23 09:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b41b9244097417fdcd33ae183e886f501bd5647', 'message': 'Add maintenance_type to objects involved\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced to both data model and API layer.\n\nThe patch adds this field to related objects, involved versions are bumped.\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\nPartial-Bug: #1596107\n'}, {'number': 2, 'created': '2018-03-24 06:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1b4b9bf5c35920d604b31f7d491e75c171f4daf', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\nPartial-Bug: #1596107\n'}, {'number': 3, 'created': '2018-03-24 06:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68d2d4e33627da477b353bd1c9cc38c659b6866c', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\nPartial-Bug: #1596107\n'}, {'number': 4, 'created': '2018-03-26 14:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/47ceb9fcd7b4cd38b596d7ef4c058bc0dab0bdf4', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\nPartial-Bug: #1596107\n'}, {'number': 5, 'created': '2018-03-27 01:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/db2a289889d461dde744cdcf340f55ead3a511b0', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\nPartial-Bug: #1596107\n'}, {'number': 6, 'created': '2018-04-08 07:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/01e3474469f81a853a3921b478b8012a96707f3b', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nStory: #1596107\nTask: #10469\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\n'}, {'number': 7, 'created': '2018-04-19 05:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3e82e09073a506ed036749f42fd2d3c63cc7d8fb', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nStory: #1596107\nTask: #10469\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\n'}, {'number': 8, 'created': '2018-04-19 06:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9b4f060750eb2c70489e775ce8d4ed99de725da', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nStory: #1596107\nTask: #10469\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\n'}, {'number': 9, 'created': '2018-04-19 08:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7fd9f1cff1a9e10dc3f68783b5292774c866e338', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nStory: #1596107\nTask: #10469\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\n'}, {'number': 10, 'created': '2018-04-25 13:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6cc8fd648f4712088b628a0e93cb5cd51c3c695f', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nStory: #1596107\nTask: #10469\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\n'}, {'number': 11, 'created': '2018-05-07 16:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/236fa5095b5c89e2fe6974ee1c6575fe7206d127', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nStory: #1596107\nTask: #10469\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\n'}, {'number': 12, 'created': '2018-05-11 21:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b6c93458da9f2fc0ee58b1d3390248ce847a99a', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nAlso increased the complexity as we ought to refactor object\nconversion logic and testing, but that is outside the scope\nof this patch.\n\nStory: #1596107\nTask: #10469\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\n'}, {'number': 13, 'created': '2018-05-14 12:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ac08010d0bf0888e116e18e42114fcd51c55887b', 'message': 'Power fault recovery: db and rpc implementation\n\nThe power fault recovery feature requires a maintenance_type field\nto be introduced.\n\nThe patch adds this field to db model, rpc object, and neccessary\ndata migration.\n\nAlso increased the complexity as we ought to refactor object\nconversion logic and testing, but that is outside the scope\nof this patch.\n\nStory: #1596107\nTask: #10469\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\n'}, {'number': 14, 'created': '2018-05-17 13:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/65697bd873b1ddfd4e780a9a87404c26c73bb1df', 'message': 'Power fault recovery: db and rpc implementation\n\nThis adds a fault field to the node table of database, and related rpc\nobject change.\n\nNote that previous changes use maintenance_type field, which is superseded\nby fault field with respect to the amendment of original spec.\n\nAlso increased the complexity as we ought to refactor object\nconversion logic and testing, but that is outside the scope\nof this patch.\n\nStory: #1596107\nTask: #10469\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\n'}, {'number': 15, 'created': '2018-05-20 07:30:34.000000000', 'files': ['ironic/tests/unit/api/utils.py', 'ironic/objects/node.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/db/test_nodes.py', 'ironic/db/sqlalchemy/alembic/versions/fb3f10dd262e_add_fault_to_node_table.py', 'ironic/common/release_mappings.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/db/sqlalchemy/models.py', 'ironic/tests/unit/db/sqlalchemy/test_migrations.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6b44f269c10c9e9e77d0242a70ac80a30f5ee2f6', 'message': 'Power fault recovery: db and rpc implementation\n\nThis adds a fault field to the node table of database, and necessary rpc\nobject change and version bumping.\n\nStory: #1596107\nTask: #10469\n\nChange-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e\n'}]",58,555708,6b44f269c10c9e9e77d0242a70ac80a30f5ee2f6,129,14,15,24828,,,0,"Power fault recovery: db and rpc implementation

This adds a fault field to the node table of database, and necessary rpc
object change and version bumping.

Story: #1596107
Task: #10469

Change-Id: I5539aa0406dbfbde25bc9aa91d5c1e615875e50e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/555708/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/node.py', 'ironic/api/controllers/v1/versions.py', 'ironic/tests/unit/db/utils.py', 'ironic/common/release_mappings.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/db/sqlalchemy/alembic/versions/fb3f10dd262e_add_maintenance_type_to_node_table.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/db/sqlalchemy/models.py', 'ironic/tests/unit/db/sqlalchemy/test_migrations.py', 'doc/source/contributor/webapi-version-history.rst', 'ironic/api/controllers/v1/node.py']",11,5b41b9244097417fdcd33ae183e886f501bd5647,story/1596107," if pecan.request.version.minor < versions.MINOR_39_MAINTENANCE_TYPE: obj.maintenance_type = wsme.Unset maintenance_type = wsme.wsattr(wtypes.text, readonly=True) """"""Indicates the type for putting a node in maintenance mode."""""" '/raid_config', '/target_raid_config', '/maintenance_type']"," '/raid_config', '/target_raid_config']",61,6
openstack%2Fmetalsmith~master~I0324644bbf3f2251c99b19fd269455398ba8b4a4,openstack/metalsmith,master,I0324644bbf3f2251c99b19fd269455398ba8b4a4,Pass OS_CLOUD and OS_CACERT to environments,MERGED,2018-05-23 15:44:10.000000000,2018-05-23 16:02:37.000000000,2018-05-23 16:02:36.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 15:44:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/53e84255f1b3fe9c92f6fa60c33efa8790a510e4', 'message': ""Pass OS_CLOUD and OS_CACERT to environments\n\nAlso limit this exceptions to the 'venv' environment only.\n\nChange-Id: I0324644bbf3f2251c99b19fd269455398ba8b4a4\n""}]",0,570221,53e84255f1b3fe9c92f6fa60c33efa8790a510e4,6,2,1,10239,,,0,"Pass OS_CLOUD and OS_CACERT to environments

Also limit this exceptions to the 'venv' environment only.

Change-Id: I0324644bbf3f2251c99b19fd269455398ba8b4a4
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/21/570221/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,53e84255f1b3fe9c92f6fa60c33efa8790a510e4,tox.ini,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY \ OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL \ OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY \ OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL \ OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME,4,3
openstack%2Fmetalsmith~master~Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200,openstack/metalsmith,master,Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200,CI: completely switch to CentOS images for testing,MERGED,2018-05-21 11:48:40.000000000,2018-05-23 15:57:13.000000000,2018-05-23 15:57:13.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 11:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/445ac3d1371f21473050f3c8bc21b6c893cc9bdd', 'message': '[WIP] CI: extract kernel/ramdisk from the CentOS image\n\nChange-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200\n'}, {'number': 2, 'created': '2018-05-21 12:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/00c79a58f4c487bba21b878f83c3cc48e58983d4', 'message': '[WIP] CI: extract kernel/ramdisk from the CentOS image\n\nChange-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200\n'}, {'number': 3, 'created': '2018-05-22 10:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/1f7bc0ce69ddb12ccd31b42e8ad332e5aeacd971', 'message': '[WIP] CI: extract kernel/ramdisk from the CentOS image\n\nChange-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200\n'}, {'number': 4, 'created': '2018-05-22 10:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/f91a345be83bd1dd0211c62a92694de02e55af06', 'message': '[WIP] CI: extract kernel/ramdisk from the CentOS image\n\nChange-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200\n'}, {'number': 5, 'created': '2018-05-22 17:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/74204e9b7e9de0eb28551ca2bb87b700b69a5870', 'message': '[WIP] CI: extract kernel/ramdisk from the CentOS image\n\nChange-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200\n'}, {'number': 6, 'created': '2018-05-22 18:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/7c37a233aaaefc791a8f126e05665ac579760583', 'message': ""CI: completely switch to CentOS images for testing\n\nThis involves unpacking the downloaded qcow2 to extract kernel/ramdisk.\nThe job timeout is increased since we're working with a bigger image.\n\nChange-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200\n""}, {'number': 7, 'created': '2018-05-23 10:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/bd7a4e474a086ca49f37888f828f175371158f22', 'message': ""CI: completely switch to CentOS images for testing\n\nThis involves unpacking the downloaded qcow2 to extract kernel/ramdisk.\nThe job timeout is increased since we're working with a bigger image.\n\nChange-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200\n""}, {'number': 8, 'created': '2018-05-23 10:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/3d75f503b386d5e3201b59ae32849cdc2daf0463', 'message': ""CI: completely switch to CentOS images for testing\n\nThis involves unpacking the downloaded qcow2 to extract kernel/ramdisk.\nThe job timeout is increased since we're working with a bigger image.\n\nChange-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200\n""}, {'number': 9, 'created': '2018-05-23 12:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/dfc591aafd9462b2a77c4d2cfdb3a92167832eef', 'message': ""CI: completely switch to CentOS images for testing\n\nThis involves unpacking the downloaded qcow2 to extract kernel/ramdisk.\nThe job timeout is increased since we're working with a bigger image.\n\nDepends-On: https://review.openstack.org/570173\nChange-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200\n""}, {'number': 10, 'created': '2018-05-23 12:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/6a0dda66f21505b033b46a434df4acaf8ebda60e', 'message': ""CI: completely switch to CentOS images for testing\n\nThis involves unpacking the downloaded qcow2 to extract kernel/ramdisk.\nThe job timeout is increased since we're working with a bigger image.\n\nDepends-On: https://review.openstack.org/570174\nChange-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200\n""}, {'number': 11, 'created': '2018-05-23 13:19:07.000000000', 'files': ['.zuul.yaml', 'playbooks/integration/run.yaml', 'playbooks/integration/centos-image.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/9d14cc808c9afacbebc219c77a05e2f2b2220f00', 'message': ""CI: completely switch to CentOS images for testing\n\nThis involves unpacking the downloaded qcow2 to extract kernel/ramdisk.\nThe job timeout is increased since we're working with a bigger image.\n\nChange-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200\n""}]",0,569782,9d14cc808c9afacbebc219c77a05e2f2b2220f00,27,2,11,10239,,,0,"CI: completely switch to CentOS images for testing

This involves unpacking the downloaded qcow2 to extract kernel/ramdisk.
The job timeout is increased since we're working with a bigger image.

Change-Id: Ia4d984b2675667ef6a28e6ce9e2f8284cdd64200
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/82/569782/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/integration/extract-kernel-ramdisk.yaml', 'playbooks/integration/run.yaml']",2,445ac3d1371f21473050f3c8bc21b6c893cc9bdd,partition-centos," - include: extract-kernel-ramdisk.yaml vars: image_file: ""{{ centos_file }}"" ",,41,0
openstack%2Fnova~master~Ibfc70ded7451ecbb07f72c471ee82205612008a8,openstack/nova,master,Ibfc70ded7451ecbb07f72c471ee82205612008a8,fix admin context scenarios for cinderclient,ABANDONED,2016-10-11 02:44:03.000000000,2018-05-23 15:48:31.000000000,,"[{'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17842}, {'_account_id': 18335}, {'_account_id': 20040}, {'_account_id': 20217}, {'_account_id': 21279}, {'_account_id': 21813}, {'_account_id': 23950}]","[{'number': 1, 'created': '2016-10-11 02:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f897fd9ac717eaa10bc34e94dded781217e7f614', 'message': ""fix admin context scenarios for cinderclient\n\nWhen cinderclient got an admin context without token passed in,\nthe client don't really have the ability to communicate with cinder\nservice. This is because there is no auth_token and service_catalog\ninfo in this admin context. Periodic tasks like reclaiming soft-deleted\ninstances uses such admin context. In such case, nova was\nunable to detach the volumes attached to soft-deleted instances.\n\nThis patch allows use of cinder admin tenant credentials if there is no\nauth_token specified and if it is an admin_context.\n\nChange-Id: Ibfc70ded7451ecbb07f72c471ee82205612008a8\ncloses-bug: #1463856\n""}, {'number': 2, 'created': '2016-10-13 21:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e199a118f6d7b4b9e57e96e41f33aae4038f7cc', 'message': ""fix admin context scenarios for cinderclient\n\nWhen cinderclient got an admin context without token passed in,\nthe client don't really have the ability to communicate with cinder\nservice. This is because there is no auth_token and service_catalog\ninfo in this admin context. Periodic tasks like reclaiming soft-deleted\ninstances uses such admin context. In such case, nova was\nunable to detach the volumes attached to soft-deleted instances.\n\nThis patch allows to add keystone auth options in the cinder section of\nnova.conf, so that nova will load admin auth plugin from the auth options\nand use it to communicate with cinder.\n\ncloses-bug: #1463856\n\nChange-Id: Ibfc70ded7451ecbb07f72c471ee82205612008a8\nCo-Authored-by:apporc <appleorchard2000@gmail.com>\n""}, {'number': 3, 'created': '2016-11-23 16:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f86218311ed1b2117fb79eac29f364344538bd1', 'message': ""fix admin context scenarios for cinderclient\n\nWhen cinderclient got an admin context without token passed in,\nthe client don't really have the ability to communicate with cinder\nservice. This is because there is no auth_token and service_catalog\ninfo in this admin context. Periodic tasks like reclaiming soft-deleted\ninstances uses such admin context. In such case, nova was\nunable to detach the volumes attached to soft-deleted instances.\n\nThis patch allows to add keystone auth options in the cinder section of\nnova.conf, so that nova will load admin auth plugin from the auth options\nand use it to communicate with cinder.\n\ncloses-bug: #1463856\n\nChange-Id: Ibfc70ded7451ecbb07f72c471ee82205612008a8\nCo-Authored-by:apporc <appleorchard2000@gmail.com>\n""}, {'number': 4, 'created': '2016-12-13 17:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ba3203727c00c5cf9720d9ed7bfcab4760b43e3', 'message': ""fix admin context scenarios for cinderclient\n\nWhen cinderclient got an admin context without token passed in,\nthe client don't really have the ability to communicate with cinder\nservice. This is because there is no auth_token and service_catalog\ninfo in this admin context. Periodic tasks like reclaiming soft-deleted\ninstances uses such admin context. In such case, nova was\nunable to detach the volumes attached to soft-deleted instances.\n\nThis patch allows to add keystone auth options in the cinder section of\nnova.conf, so that nova will load admin auth plugin from the auth options\nand use it to communicate with cinder.\n\ncloses-bug: #1463856\n\nChange-Id: Ibfc70ded7451ecbb07f72c471ee82205612008a8\nCo-Authored-by:apporc <appleorchard2000@gmail.com>\n""}, {'number': 5, 'created': '2017-02-22 18:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0986eac460186568b29a9ca76e07c882b562e190', 'message': ""fix admin context scenarios for cinderclient\n\nWhen cinderclient got an admin context without token passed in,\nthe client don't really have the ability to communicate with cinder\nservice. This is because there is no auth_token and service_catalog\ninfo in this admin context. Periodic tasks like reclaiming soft-deleted\ninstances uses such admin context. In such case, nova was\nunable to detach the volumes attached to soft-deleted instances.\n\nThis patch allows to add keystone auth options in the cinder section of\nnova.conf, so that nova will load admin auth plugin from the auth options\nand use it to communicate with cinder.\n\ncloses-bug: #1463856\n\nChange-Id: Ibfc70ded7451ecbb07f72c471ee82205612008a8\nCo-Authored-by:apporc <appleorchard2000@gmail.com>\n""}, {'number': 6, 'created': '2017-02-24 17:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f67246109e7e7ef47ab3e034c8d8613e03334a4f', 'message': ""fix admin context scenarios for cinderclient\n\nWhen cinderclient got an admin context without token passed in,\nthe client don't really have the ability to communicate with cinder\nservice. This is because there is no auth_token and service_catalog\ninfo in this admin context. Periodic tasks like reclaiming soft-deleted\ninstances uses such admin context. In such case, nova was\nunable to detach the volumes attached to soft-deleted instances.\n\nThis patch allows to add keystone auth options in the cinder section of\nnova.conf, so that nova will load admin auth plugin from the auth options\nand use it to communicate with cinder.\n\ncloses-bug: #1463856\n\nChange-Id: Ibfc70ded7451ecbb07f72c471ee82205612008a8\nCo-Authored-by:apporc <appleorchard2000@gmail.com>\n""}, {'number': 7, 'created': '2017-04-07 19:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc4b2795954a8ef76c9d26df4023c82e31f167ac', 'message': ""fix admin context scenarios for cinderclient\n\nWhen cinderclient got an admin context without token passed in,\nthe client don't really have the ability to communicate with cinder\nservice. This is because there is no auth_token and service_catalog\ninfo in this admin context. Periodic tasks like reclaiming soft-deleted\ninstances uses such admin context. In such case, nova was\nunable to detach the volumes attached to soft-deleted instances.\n\nThis patch allows to add keystone auth options in the cinder section of\nnova.conf, so that nova will load admin auth plugin from the auth options\nand use it to communicate with cinder.\n\ncloses-bug: #1463856\n\nChange-Id: Ibfc70ded7451ecbb07f72c471ee82205612008a8\n""}, {'number': 8, 'created': '2017-04-07 20:29:23.000000000', 'files': ['nova/volume/cinder.py', 'releasenotes/notes/set_config_options_cinder-4683e47212951125.yaml', 'nova/tests/unit/test_cinder.py', 'nova/conf/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7dd9b580942d0dd6c1c021a0812b2c67096a0d3b', 'message': ""fix admin context scenarios for cinderclient\n\nWhen cinderclient got an admin context without token passed in,\nthe client don't really have the ability to communicate with cinder\nservice. This is because there is no auth_token and service_catalog\ninfo in this admin context. Periodic tasks like reclaiming soft-deleted\ninstances uses such admin context. In such case, nova was\nunable to detach the volumes attached to soft-deleted instances.\n\nThis patch allows to add keystone auth options in the cinder section of\nnova.conf, so that nova will load admin auth plugin from the auth options\nand use it to communicate with cinder.\n\ncloses-bug: #1463856\n\nChange-Id: Ibfc70ded7451ecbb07f72c471ee82205612008a8\n""}]",11,384799,7dd9b580942d0dd6c1c021a0812b2c67096a0d3b,152,27,8,20217,,,0,"fix admin context scenarios for cinderclient

When cinderclient got an admin context without token passed in,
the client don't really have the ability to communicate with cinder
service. This is because there is no auth_token and service_catalog
info in this admin context. Periodic tasks like reclaiming soft-deleted
instances uses such admin context. In such case, nova was
unable to detach the volumes attached to soft-deleted instances.

This patch allows to add keystone auth options in the cinder section of
nova.conf, so that nova will load admin auth plugin from the auth options
and use it to communicate with cinder.

closes-bug: #1463856

Change-Id: Ibfc70ded7451ecbb07f72c471ee82205612008a8
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/384799/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/volume/cinder.py', 'nova/conf/cinder.py']",2,f897fd9ac717eaa10bc34e94dded781217e7f614,bug/1463856," ks_loading.register_session_conf_options(conf, group=cinder_group.name) ks_loading.register_auth_conf_options(conf, group=cinder_group.name) return {cinder_group: cinder_opts + ks_loading.get_session_conf_options() + ks_loading.get_auth_common_conf_options() + ks_loading.get_auth_plugin_conf_options('password') + ks_loading.get_auth_plugin_conf_options('v2password') + ks_loading.get_auth_plugin_conf_options('v3password')"," ks_loading.register_session_conf_options(conf, cinder_group.name) return { cinder_group.name: cinder_opts",21,5
openstack%2Fpuppet-nova~master~Ife0e92aad7eaf31817e509e9253c52dd2fb1f16b,openstack/puppet-nova,master,Ife0e92aad7eaf31817e509e9253c52dd2fb1f16b,Expost cpu_weight_mulitiplier config parameter,MERGED,2018-05-23 05:25:32.000000000,2018-05-23 15:39:40.000000000,2018-05-23 15:39:40.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-05-23 05:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/322298caae3628233b73e0b28e0beda5224020b6', 'message': ""Expost cpu_weight_mulitiplier config parameter\n\nAdd support for configuring the 'cpu_weight_multiplier'\nscheduler filter option to provide resource stack/spread\npolicy for CPU.\n\nChange-Id: Ife0e92aad7eaf31817e509e9253c52dd2fb1f16b\n""}, {'number': 2, 'created': '2018-05-23 09:22:01.000000000', 'files': ['manifests/scheduler/filter.pp', 'releasenotes/notes/add-cpu-weigher-49b610ff9a57695e.yaml', 'spec/classes/nova_scheduler_filter_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c0569b53a7e0bc4e127e1689b1ce911d87c09089', 'message': ""Expost cpu_weight_mulitiplier config parameter\n\nAdd support for configuring the 'cpu_weight_multiplier'\nscheduler filter option to provide resource stack/spread\npolicy for CPU.\n\nNOTE: The related nova changes are done in change:\nI90ee8a2081c2a0465441a8d81d161f4887b4e1fb\n\nChange-Id: Ife0e92aad7eaf31817e509e9253c52dd2fb1f16b\n""}]",0,570115,c0569b53a7e0bc4e127e1689b1ce911d87c09089,13,8,2,20733,,,0,"Expost cpu_weight_mulitiplier config parameter

Add support for configuring the 'cpu_weight_multiplier'
scheduler filter option to provide resource stack/spread
policy for CPU.

NOTE: The related nova changes are done in change:
I90ee8a2081c2a0465441a8d81d161f4887b4e1fb

Change-Id: Ife0e92aad7eaf31817e509e9253c52dd2fb1f16b
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/15/570115/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler/filter.pp', 'spec/classes/nova_scheduler_filter_spec.rb']",2,322298caae3628233b73e0b28e0beda5224020b6,cpu_weigher, it { is_expected.to contain_nova_config('filter_scheduler/cpu_weight_multiplier').with_value('<SERVICE DEFAULT>') },,10,0
openstack%2Fnetworking-bgpvpn~master~I9dc5ddf64a968ce433f9dd05b135f4263a12b8a0,openstack/networking-bgpvpn,master,I9dc5ddf64a968ce433f9dd05b135f4263a12b8a0,use new neutronclient (more),MERGED,2018-05-23 00:37:14.000000000,2018-05-23 15:22:31.000000000,2018-05-23 15:22:31.000000000,"[{'_account_id': 55}, {'_account_id': 2888}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 00:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9d55fe060a300c8d1466f1151b52037bc395d970', 'message': 'dashboard: use new neutronclient\n\nThis is a follow-up on I7d399466f6577e4dd55b1a0fa5a92aab15e6eebb,\nwhich missed a few places were the old method names were still\nused.\n\nChange-Id: I9dc5ddf64a968ce433f9dd05b135f4263a12b8a0\nPartial-Bug: 1761691\n'}, {'number': 2, 'created': '2018-05-23 04:23:03.000000000', 'files': ['networking_bgpvpn_heat/bgpvpnservice.py', 'doc/source/samples/bgpvpn-sample01.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/3b503219acc2a25177c35886bbea7899efe68a7c', 'message': 'use new neutronclient (more)\n\nThis is a follow-up on I7d399466f6577e4dd55b1a0fa5a92aab15e6eebb,\nwhich missed a few places were the old method names were still\nused.\n\nChange-Id: I9dc5ddf64a968ce433f9dd05b135f4263a12b8a0\nPartial-Bug: 1761691\n'}]",0,570084,3b503219acc2a25177c35886bbea7899efe68a7c,8,3,2,12021,,,0,"use new neutronclient (more)

This is a follow-up on I7d399466f6577e4dd55b1a0fa5a92aab15e6eebb,
which missed a few places were the old method names were still
used.

Change-Id: I9dc5ddf64a968ce433f9dd05b135f4263a12b8a0
Partial-Bug: 1761691
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/84/570084/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bgpvpn_heat/bgpvpnservice.py', 'doc/source/samples/bgpvpn-sample01.py']",2,9d55fe060a300c8d1466f1151b52037bc395d970,bug/1761691, bgpvpn_net_assoc_obj = neutron.create_bgpvpn_network_assoc(, bgpvpn_net_assoc_obj = neutron.create_network_association(,3,3
openstack%2Ftripleo-ci~master~I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175,openstack/tripleo-ci,master,I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175,Add ability to use a different release per playbook,MERGED,2018-05-07 12:42:05.000000000,2018-05-23 15:11:51.000000000,2018-05-23 15:11:51.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-07 12:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b07d16ed01dca3ba43f3512765b4ac671b2a8c38', 'message': 'Add ability to use a different release per playbook\n\nThis change should be a no-op, as it just passes the same release\nto every playbook as we currently do. However, it allows for\npassing different releases to different playbooks. The other\n$ARGS had to be moved into the playbook loop so that we can keep\nthe ordering.\n\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 2, 'created': '2018-05-10 13:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2238035d4500c958569375b1d1c18902def659d6', 'message': 'Add ability to use a different release per playbook\n\nThis change should be a no-op, as it just passes the same release\nto every playbook as we currently do. However, it allows for\npassing different releases to different playbooks. The other\n$ARGS had to be moved into the playbook loop so that we can keep\nthe ordering.\n\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 3, 'created': '2018-05-10 14:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/281eb9e5a5476233dee4ba9b70a394432645a498', 'message': 'Add ability to use a different release per playbook\n\nThis change should be a no-op, as it just passes the same release\nto every playbook as we currently do. However, it allows for\npassing different releases to different playbooks. The other\n$ARGS had to be moved into the playbook loop so that we can keep\nthe ordering.\n\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 4, 'created': '2018-05-10 15:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f3b8837a323f58195680c9b218b2b49a9ce8f04c', 'message': 'Add ability to use a different release per playbook\n\nThis change should be a no-op, as it just passes the same release\nto every playbook as we currently do. However, it allows for\npassing different releases to different playbooks. The other\n$ARGS had to be moved into the playbook loop so that we can keep\nthe ordering.\n\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 5, 'created': '2018-05-10 16:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eac713c529566ef7b9cba51c5f4b70b2e8de916c', 'message': 'Add ability to use a different release per playbook\n\nThis change should be a no-op, as it just passes the same release\nto every playbook as we currently do. However, it allows for\npassing different releases to different playbooks. The other\n$ARGS had to be moved into the playbook loop so that we can keep\nthe ordering.\n\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 6, 'created': '2018-05-15 15:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ae1f8aa4c2789ae41c2549dc42c55b1d6b7abd73', 'message': 'Add ability to use a different release per playbook\n\nThis change should be a no-op, as it just passes the same release\nto every playbook as we currently do. However, it allows for\npassing different releases to different playbooks. The other\n$ARGS had to be moved into the playbook loop so that we can keep\nthe ordering.\n\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 7, 'created': '2018-05-15 16:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cfb18ea82ed11f638b70e1b9b3fd782e557ec9b6', 'message': 'Add ability to use a different release per playbook\n\nWe are changing the way we are passing releases to the playbooks.\nThis change adds the ability to use the new release handling script. It\nenables it only for 4 jobs. Two should be moved to the new way of\nhandling releases, two are there to test the backwards compatibility\noffered by the script.\nIf the script is uses and produces an output, the new method will be\nactivated, by filling a dictionary with playbook as key and release as\nvalue.\nIf there is no output from the script, the dictionary will be empty and\nthe default QUICKSTART_RELEASE file will be used instead.\n\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 8, 'created': '2018-05-16 13:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b17891ebddcb59ed214510c3fa42b0f3f4451fca', 'message': 'Add ability to use a different release per playbook\n\nWe are changing the way we are passing releases to the playbooks.\nThis change adds the ability to use the new release handling script. It\nenables it only for 4 jobs. Two should be moved to the new way of\nhandling releases, two are there to test the backwards compatibility\noffered by the script.\nIf the script is uses and produces an output, the new method will be\nactivated, by filling a dictionary with playbook as key and release as\nvalue.\nIf there is no output from the script, the dictionary will be empty and\nthe default QUICKSTART_RELEASE file will be used instead.\n\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 9, 'created': '2018-05-17 15:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e02a68110e3e91ebdb3a5e3f4db32d1b336dd18a', 'message': 'Add ability to use a different release per playbook\n\nWe are changing the way we are passing releases to the playbooks.\nThis change adds the ability to use the new release handling script. It\nenables it only for 4 jobs. Two should be moved to the new way of\nhandling releases, two are there to test the backwards compatibility\noffered by the script.\nIf the script is uses and produces an output, the new method will be\nactivated, by filling a dictionary with playbook as key and release as\nvalue.\nIf there is no output from the script, the dictionary will be empty and\nthe default QUICKSTART_RELEASE file will be used instead.\n\nCo-Authored-By: Gabriele Cerami <gcerami@redhat.com>\nCo-Authored-By: Ronelle Landy <rlandy@redhat.com>\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 10, 'created': '2018-05-17 22:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/68bfeab75998ad7a09f7a95ee603fffa2d237890', 'message': 'Add ability to use a different release per playbook\n\nWe are changing the way we are passing releases to the playbooks.\nThis change adds the ability to use the new release handling script. It\nenables it only for 4 jobs. Two should be moved to the new way of\nhandling releases, two are there to test the backwards compatibility\noffered by the script.\nIf the script is uses and produces an output, the new method will be\nactivated, by filling a dictionary with playbook as key and release as\nvalue.\nIf there is no output from the script, the dictionary will be empty and\nthe default QUICKSTART_RELEASE file will be used instead.\n\nCo-Authored-By: Gabriele Cerami <gcerami@redhat.com>\nCo-Authored-By: Ronelle Landy <rlandy@redhat.com>\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 11, 'created': '2018-05-18 16:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fb23f756ddfe7802b68dc7424744f0e3d891afd3', 'message': 'Add ability to use a different release per playbook\n\nWe are changing the way we are passing releases to the playbooks.\nThis change adds the ability to use the new release handling script. It\nenables it only for 4 jobs. Two should be moved to the new way of\nhandling releases, two are there to test the backwards compatibility\noffered by the script.\nIf the script is uses and produces an output, the new method will be\nactivated, by filling a dictionary with playbook as key and release as\nvalue.\nIf there is no output from the script, the dictionary will be empty and\nthe default QUICKSTART_RELEASE file will be used instead.\n\nCo-Authored-By: Gabriele Cerami <gcerami@redhat.com>\nCo-Authored-By: Ronelle Landy <rlandy@redhat.com>\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 12, 'created': '2018-05-21 12:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/20306934a70ba05dd790d43ca3eee1df46f2208d', 'message': 'Add ability to use a different release per playbook\n\nWe are changing the way we are passing releases to the playbooks.\nThis change adds the ability to use the new release handling script. It\nenables it only for 4 jobs. Two should be moved to the new way of\nhandling releases, two are there to test the backwards compatibility\noffered by the script.\nIf the script is uses and produces an output, the new method will be\nactivated, by filling a dictionary with playbook as key and release as\nvalue.\nIf there is no output from the script, the dictionary will be empty and\nthe default QUICKSTART_RELEASE file will be used instead.\n\nCo-Authored-By: Gabriele Cerami <gcerami@redhat.com>\nCo-Authored-By: Ronelle Landy <rlandy@redhat.com>\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 13, 'created': '2018-05-22 10:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a7872730af3ca6031359f1ed275acd4e4ffe5822', 'message': 'Add ability to use a different release per playbook\n\nWe are changing the way we are passing releases to the playbooks.\nThis change adds the ability to use the new release handling script. It\nenables it only for 4 jobs. Two should be moved to the new way of\nhandling releases, two are there to test the backwards compatibility\noffered by the script.\nIf the script is uses and produces an output, the new method will be\nactivated, by filling a dictionary with playbook as key and release as\nvalue.\nIf there is no output from the script, the dictionary will be empty and\nthe default QUICKSTART_RELEASE file will be used instead.\n\nDepends-On: I212a0a66f1c36187cbb64a5b8a8d851443a91b73\n\nCo-Authored-By: Gabriele Cerami <gcerami@redhat.com>\nCo-Authored-By: Ronelle Landy <rlandy@redhat.com>\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 14, 'created': '2018-05-22 12:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9000bc75cc1e1e73517b8838ab3cc377b6acb794', 'message': 'Add ability to use a different release per playbook\n\nWe are changing the way we are passing releases to the playbooks.\nThis change adds the ability to use the new release handling script. It\nenables it only for 4 jobs. Two should be moved to the new way of\nhandling releases, two are there to test the backwards compatibility\noffered by the script.\nIf the script is uses and produces an output, the new method will be\nactivated, by filling a dictionary with playbook as key and release as\nvalue.\nIf there is no output from the script, the dictionary will be empty and\nthe default QUICKSTART_RELEASE file will be used instead.\n\nCo-Authored-By: Gabriele Cerami <gcerami@redhat.com>\nCo-Authored-By: Ronelle Landy <rlandy@redhat.com>\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}, {'number': 15, 'created': '2018-05-22 12:37:15.000000000', 'files': ['toci_gate_test-oooq.sh', 'toci_quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/48e2b054e7d573eda16e5bd4c8adbe3e47f21071', 'message': 'Add ability to use a different release per playbook\n\nWe are changing the way we are passing releases to the playbooks.\nThis change adds the ability to use the new release handling script. It\nenables it only for 4 jobs. Two should be moved to the new way of\nhandling releases, two are there to test the backwards compatibility\noffered by the script.\nIf the script is uses and produces an output, the new method will be\nactivated, by filling a dictionary with playbook as key and release as\nvalue.\nIf there is no output from the script, the dictionary will be empty and\nthe default QUICKSTART_RELEASE file will be used instead.\n\nCo-Authored-By: Gabriele Cerami <gcerami@redhat.com>\nCo-Authored-By: Ronelle Landy <rlandy@redhat.com>\nChange-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175\n'}]",7,566565,48e2b054e7d573eda16e5bd4c8adbe3e47f21071,63,11,15,12715,,,0,"Add ability to use a different release per playbook

We are changing the way we are passing releases to the playbooks.
This change adds the ability to use the new release handling script. It
enables it only for 4 jobs. Two should be moved to the new way of
handling releases, two are there to test the backwards compatibility
offered by the script.
If the script is uses and produces an output, the new method will be
activated, by filling a dictionary with playbook as key and release as
value.
If there is no output from the script, the dictionary will be empty and
the default QUICKSTART_RELEASE file will be used instead.

Co-Authored-By: Gabriele Cerami <gcerami@redhat.com>
Co-Authored-By: Ronelle Landy <rlandy@redhat.com>
Change-Id: I6514ba15ff4300ac4bd4fe543d3a4954aeb6f175
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/65/566565/14 && git format-patch -1 --stdout FETCH_HEAD,['toci_quickstart.sh'],1,b07d16ed01dca3ba43f3512765b4ac671b2a8c38,sprint13,"declare -A RELEASE_ARGS=( [""baremetal-full-deploy.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""ovb-setup.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""baremetal-full-undercloud.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""baremetal-full-overcloud-prep.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""baremetal-full-overcloud.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""baremetal-full-overcloud-validate.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""multinode.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""quickstart.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""multinode-undercloud.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""multinode-undercloud-upgrade.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""multinode-overcloud-prep.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""multinode-overcloud.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""multinode-overcloud-update.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""multinode-overcloud-upgrade.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" [""multinode-validate.yml""]=""--extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml"" ) ""${RELEASE_ARGS[$playbook]}"" \ $NODES_ARGS \ $FEATURESET_CONF \ $ENV_VARS \ $EXTRA_VARS \ $DEFAULT_ARGS \ --extra-vars ci_job_end_time=$(( START_JOB_TIME + REMAINING_TIME*60 )) \", --extra-vars @$LOCAL_WORKING_DIR/config/release/tripleo-ci/$QUICKSTART_RELEASE.yml $NODES_ARGS $FEATURESET_CONF $ENV_VARS $EXTRA_VARS $DEFAULT_ARGS --extra-vars ci_job_end_time=$(( START_JOB_TIME + REMAINING_TIME*60 )) \,40,7
openstack%2Ftripleo-heat-templates~master~If7a4c6f3581bed270f478b98b8da8fe010acbbc1,openstack/tripleo-heat-templates,master,If7a4c6f3581bed270f478b98b8da8fe010acbbc1,Fix known hosts config script value,MERGED,2018-05-22 19:23:19.000000000,2018-05-23 15:11:50.000000000,2018-05-23 15:11:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 19:23:19.000000000', 'files': ['extraconfig/tasks/ssh/known_hosts_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75d860500510a60226fee549f73090fc8d1550f3', 'message': ""Fix known hosts config script value\n\nThere was an extra | that was missed. It's not tested in Master but is\nin <= Queens.\n\nChange-Id: If7a4c6f3581bed270f478b98b8da8fe010acbbc1\nCloses-Bug: #1772071\n""}]",0,570029,75d860500510a60226fee549f73090fc8d1550f3,10,5,1,14985,,,0,"Fix known hosts config script value

There was an extra | that was missed. It's not tested in Master but is
in <= Queens.

Change-Id: If7a4c6f3581bed270f478b98b8da8fe010acbbc1
Closes-Bug: #1772071
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/570029/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/ssh/known_hosts_config.yaml'],1,75d860500510a60226fee549f73090fc8d1550f3,bug/1772071, config:, config: |,1,1
openstack%2Ftripleo-upgrade~stable%2Fqueens~I6219178673b842014b3d6d34e71b588a1e343c35,openstack/tripleo-upgrade,stable/queens,I6219178673b842014b3d6d34e71b588a1e343c35,Set mon_max_pg_per_osd to 300 during ceph upgrade,MERGED,2018-05-22 13:30:42.000000000,2018-05-23 15:11:49.000000000,2018-05-23 15:11:48.000000000,"[{'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 13:30:42.000000000', 'files': ['templates/cephosd.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a9fe04b907eade537184e520a1cc5ed888b5ee2a', 'message': 'Set mon_max_pg_per_osd to 300 during ceph upgrade\n\nCeph Release 12.2.1 lowers the maximum number of PGs allowed for\neach OSD. The lower limit may cause the monitor to prematurely\nissue a HEALTH_WARN message. This change sets mon_max_pg_per_osd\nto 300 to match the pre-upgrade value.\n\nChange-Id: I6219178673b842014b3d6d34e71b588a1e343c35\n(cherry picked from commit 6b3ff54fda2b1513c18ec2b210a9305a6e3fc1b8)\n'}]",0,569981,a9fe04b907eade537184e520a1cc5ed888b5ee2a,7,3,1,18851,,,0,"Set mon_max_pg_per_osd to 300 during ceph upgrade

Ceph Release 12.2.1 lowers the maximum number of PGs allowed for
each OSD. The lower limit may cause the monitor to prematurely
issue a HEALTH_WARN message. This change sets mon_max_pg_per_osd
to 300 to match the pre-upgrade value.

Change-Id: I6219178673b842014b3d6d34e71b588a1e343c35
(cherry picked from commit 6b3ff54fda2b1513c18ec2b210a9305a6e3fc1b8)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/81/569981/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cephosd.yaml.j2'],1,a9fe04b907eade537184e520a1cc5ed888b5ee2a,ceph_set_max_pg_per_osd-stable/queens, CephConfigOverrides: mon_max_pg_per_osd: 300,,2,0
openstack%2Ftripleo-common~master~Ib0ac8847a47a42e7e0d73b699236df3355f58dcd,openstack/tripleo-common,master,Ib0ac8847a47a42e7e0d73b699236df3355f58dcd,Update heat api healtchecks,MERGED,2018-05-21 20:01:50.000000000,2018-05-23 15:11:49.000000000,2018-05-23 15:11:49.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-21 20:01:50.000000000', 'files': ['healthcheck/heat-api', 'healthcheck/heat-api-cfn'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/db47c12099414836227d13d609af3f4a5556c4df', 'message': 'Update heat api healtchecks\n\nThe heat-api and heat-api-cfn containers need to check for 401 which is\nwhat the api will return when it is up. There is not currently a\nspecific healthcheck url for heat that would return 200 so we need to\nupdate the container healthcheck to look for the 401.\n\nChange-Id: Ib0ac8847a47a42e7e0d73b699236df3355f58dcd\nCloses-Bug: #1772492\n'}]",0,569852,db47c12099414836227d13d609af3f4a5556c4df,14,7,1,14985,,,0,"Update heat api healtchecks

The heat-api and heat-api-cfn containers need to check for 401 which is
what the api will return when it is up. There is not currently a
specific healthcheck url for heat that would return 200 so we need to
update the container healthcheck to look for the 401.

Change-Id: Ib0ac8847a47a42e7e0d73b699236df3355f58dcd
Closes-Bug: #1772492
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/569852/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/heat-api', 'healthcheck/heat-api-cfn']",2,db47c12099414836227d13d609af3f4a5556c4df,bug/1772492,healthcheck_curl ${check_url} | grep ^401,healthcheck_curl ${check_url},2,2
openstack%2Ftripleo-quickstart-extras~master~If3a3a3b2e4a6d1cf6cd57c3b382a7a08fac0e971,openstack/tripleo-quickstart-extras,master,If3a3a3b2e4a6d1cf6cd57c3b382a7a08fac0e971,Support upgrade_cleanup param in undercloud.conf,MERGED,2018-05-22 00:47:12.000000000,2018-05-23 15:01:20.000000000,2018-05-23 15:01:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 00:47:12.000000000', 'files': ['roles/undercloud-deploy/README.md', 'roles/undercloud-deploy/templates/undercloud.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5ea5988213ba5db65523fc31abba7bd4a3e3bfcd', 'message': ""Support upgrade_cleanup param in undercloud.conf\n\nThis param is useful if we want to cleanup the undercloud after its\ncontainerization during the upgrade process from Queens to Rocky.\n\nSet to true, it'll removes the rpms deployed on the undercloud that are\nnot needed anymore since we containerized the services.\n\nChange-Id: If3a3a3b2e4a6d1cf6cd57c3b382a7a08fac0e971\n""}]",0,569898,5ea5988213ba5db65523fc31abba7bd4a3e3bfcd,18,6,1,3153,,,0,"Support upgrade_cleanup param in undercloud.conf

This param is useful if we want to cleanup the undercloud after its
containerization during the upgrade process from Queens to Rocky.

Set to true, it'll removes the rpms deployed on the undercloud that are
not needed anymore since we containerized the services.

Change-Id: If3a3a3b2e4a6d1cf6cd57c3b382a7a08fac0e971
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/98/569898/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/README.md', 'roles/undercloud-deploy/templates/undercloud.conf.j2']",2,5ea5988213ba5db65523fc31abba7bd4a3e3bfcd,upgrade/cleanup,# Whether to clean undercloud rpms after an upgrade # to a containerized undercloud. {% if undercloud_upgrade_cleanup is defined %} upgrade_cleanup = {{undercloud_upgrade_cleanup}} {% else %} #upgrade_cleanup = False {% endif %} ,,9,1
openstack%2Fironic~master~I0b52961423daf01148915d33a62019d18a198f9c,openstack/ironic,master,I0b52961423daf01148915d33a62019d18a198f9c,[WIP] Glance failure for non-public images,ABANDONED,2018-05-23 12:14:41.000000000,2018-05-23 14:50:37.000000000,,"[{'_account_id': 14208}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 12:14:41.000000000', 'files': ['ironic/common/glance_service/service_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e32f55b3958de094f723e8c4bb2c8e7ac37f70d5', 'message': '[WIP] Glance failure for non-public images\n\nChange-Id: I0b52961423daf01148915d33a62019d18a198f9c\n'}]",0,570174,e32f55b3958de094f723e8c4bb2c8e7ac37f70d5,5,3,1,10239,,,0,"[WIP] Glance failure for non-public images

Change-Id: I0b52961423daf01148915d33a62019d18a198f9c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/570174/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/glance_service/service_utils.py'],1,e32f55b3958de094f723e8c4bb2c8e7ac37f70d5,2002089/19760/glance-props," LOG.info('context.auth_token=%s, context.project_id=%s', getattr(context, 'auth_token', '<absent>'), getattr(context, 'project_id', '<absent>')) LOG.info('image.is_public=%s, image.visibility=%s', getattr(image, 'is_public', '<unknown>'), getattr(image, 'visibility', '<unknown>')) LOG.info('image.properties=%s', getattr(image, 'properties', '<absent>')) properties = getattr(image, 'properties', {})", properties = image.properties,9,1
openstack%2Fpuppet-glance~master~I43050e5c364b7d526e6b19a3529128d17045080a,openstack/puppet-glance,master,I43050e5c364b7d526e6b19a3529128d17045080a,Fix auth_uri introduced bug,MERGED,2018-05-21 22:18:13.000000000,2018-05-23 14:41:27.000000000,2018-05-23 14:41:27.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 22:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/0630d3184e91735933e55ccb05c24e4e9c65d2a7', 'message': 'Fix auth_uri introduced bug\n\nWe should pick() the value here otherwise\nwe are not backward compatible even though\nauth_uri is only deprecated.\n\nChange-Id: I43050e5c364b7d526e6b19a3529128d17045080a\n'}, {'number': 2, 'created': '2018-05-22 10:24:33.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/9d20663364f13de1482623631b20c9d3670ddeab', 'message': 'Fix auth_uri introduced bug\n\nWe should pick() the value here otherwise\nwe are not backward compatible even though\nauth_uri is only deprecated.\n\nChange-Id: I43050e5c364b7d526e6b19a3529128d17045080a\n'}]",0,569873,9d20663364f13de1482623631b20c9d3670ddeab,17,4,2,16137,,,0,"Fix auth_uri introduced bug

We should pick() the value here otherwise
we are not backward compatible even though
auth_uri is only deprecated.

Change-Id: I43050e5c364b7d526e6b19a3529128d17045080a
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/73/569873/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/deprecate-auth_uri-param-95ddaf9d029cdee2.yaml']",2,0630d3184e91735933e55ccb05c24e4e9c65d2a7,,--- deprecations: - | glance::registry::authtoken::auth_uri is deprecated and will be removed in a future release. Please use www_authenticate_uri instead. - | glance::api::authtoken::auth_uri is deprecated and will be removed in a future release. Please use www_authenticate_uri instead. ,,10,1
openstack%2Fopenstack-ansible-os_ceilometer~master~I92ce0433f7b66446263d700048b256b8bfa5aa64,openstack/openstack-ansible-os_ceilometer,master,I92ce0433f7b66446263d700048b256b8bfa5aa64,zuul: Make openSUSE and CentOS voting jobs,MERGED,2018-05-18 07:54:12.000000000,2018-05-23 14:35:54.000000000,2018-05-23 14:35:53.000000000,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 07:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/8ece4df5e83bc9ce3998cc8b2a6ff940aa566838', 'message': 'zuul: Make openSUSE a voting job\n\nChange-Id: I92ce0433f7b66446263d700048b256b8bfa5aa64\n'}, {'number': 2, 'created': '2018-05-18 15:15:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/e0c8fc6bec303c400b60cd2b66fa76b7e64b4317', 'message': 'zuul: Make openSUSE and CentOS voting jobs\n\nChange-Id: I92ce0433f7b66446263d700048b256b8bfa5aa64\n'}]",0,569354,e0c8fc6bec303c400b60cd2b66fa76b7e64b4317,9,14,2,23163,,,0,"zuul: Make openSUSE and CentOS voting jobs

Change-Id: I92ce0433f7b66446263d700048b256b8bfa5aa64
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/54/569354/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8ece4df5e83bc9ce3998cc8b2a6ff940aa566838,add-centos-suse-voting, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423, - openstack-ansible-functional-opensuse-423-nv,2,1
openstack%2Fneutron-lib~master~Id8272ecfac41670693482f11d6bcb6ad211b993f,openstack/neutron-lib,master,Id8272ecfac41670693482f11d6bcb6ad211b993f,Add DHCP_OPT_CLIENT_ID_NUM,MERGED,2018-05-10 12:51:54.000000000,2018-05-23 14:27:00.000000000,2018-05-23 14:27:00.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 12171}, {'_account_id': 22348}, {'_account_id': 22948}]","[{'number': 1, 'created': '2018-05-10 12:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a2bea649b706510380d0848b4ab5b63b17891a0a', 'message': 'Add DHCP_OPT_CLIENT_ID_NUMBER\n\nChange-Id: Id8272ecfac41670693482f11d6bcb6ad211b993f\n'}, {'number': 2, 'created': '2018-05-20 07:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/411b1e10529f3ec21e0e2ebbbd8f1d71e0e0ba7d', 'message': ""Add DHCP_OPT_CLIENT_ID_NUM\n\nFor Infiniband support, Ironic needs to send the 'client-id' DHCP option\nas a number in order for IP address assignment to work.\nThis is now supported in Neutron, and can be specified as option number\n61 as defined in RFC 4776.  \n\nPartial-Bug: #1770932\nChange-Id: Id8272ecfac41670693482f11d6bcb6ad211b993f\n""}, {'number': 3, 'created': '2018-05-20 07:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/daad395e27e0f714b33fe4bd72270c3bb9e271d2', 'message': ""Add DHCP_OPT_CLIENT_ID_NUM\n\nFor Infiniband support, Ironic needs to send the 'client-id' DHCP option\nas a number in order for IP address assignment to work.\nThis is now supported in Neutron, and can be specified as option number\n61 as defined in RFC 4776.\n\nPartial-Bug: #1770932\nChange-Id: Id8272ecfac41670693482f11d6bcb6ad211b993f\n""}, {'number': 4, 'created': '2018-05-20 07:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/82034ecb0397bc495854ad54b86cd6f602f09b8d', 'message': ""Add DHCP_OPT_CLIENT_ID_NUM\n\nFor Infiniband support, Ironic needs to send the 'client-id' DHCP option\nas a number in order for IP address assignment to work.\nThis is now supported in Neutron, and can be specified as option number\n61 as defined in RFC 4776.\n\nPartial-Bug: #1770932\nChange-Id: Id8272ecfac41670693482f11d6bcb6ad211b993f\n""}, {'number': 5, 'created': '2018-05-22 06:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a2d017398f76536c0e33e2ef246c48d7d66e7736', 'message': ""Add DHCP_OPT_CLIENT_ID_NUM\n\nFor Infiniband support, Ironic needs to send the 'client-id' DHCP option\nas a number in order for IP address assignment to work.\nThis is now supported in Neutron, and can be specified as option number\n61 as defined in RFC 4776.\n\nPartial-Bug: #1770932\nChange-Id: Id8272ecfac41670693482f11d6bcb6ad211b993f\n""}, {'number': 6, 'created': '2018-05-22 15:36:12.000000000', 'files': ['neutron_lib/api/definitions/extra_dhcp_opt.py', 'releasenotes/notes/client-id-number-dhcp-option-a099f927eb8f99af.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a948801e2ca4bf2d6fdeafa94fe65e60ec0d4f77', 'message': ""Add DHCP_OPT_CLIENT_ID_NUM\n\nFor Infiniband support, Ironic needs to send the 'client-id' DHCP option\nas a number in order for IP address assignment to work.\nThis is now supported in Neutron, and can be specified as option number\n61 as defined in RFC 4776.\n\nPartial-Bug: #1770932\nChange-Id: Id8272ecfac41670693482f11d6bcb6ad211b993f\n""}]",5,567582,a948801e2ca4bf2d6fdeafa94fe65e60ec0d4f77,21,5,6,22948,,,0,"Add DHCP_OPT_CLIENT_ID_NUM

For Infiniband support, Ironic needs to send the 'client-id' DHCP option
as a number in order for IP address assignment to work.
This is now supported in Neutron, and can be specified as option number
61 as defined in RFC 4776.

Partial-Bug: #1770932
Change-Id: Id8272ecfac41670693482f11d6bcb6ad211b993f
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/82/567582/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/extra_dhcp_opt.py'],1,a2bea649b706510380d0848b4ab5b63b17891a0a,dhcp_ib,DHCP_OPT_CLIENT_ID_NUMBER = 61,,1,0
openstack%2Fswift~master~I419de59df3317d67c594fe768f5696de24148280,openstack/swift,master,I419de59df3317d67c594fe768f5696de24148280,Make the decision between primary/handoff sets more obvious,MERGED,2018-05-11 20:25:26.000000000,2018-05-23 14:16:24.000000000,2018-05-23 14:16:24.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 20:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/926b5b67686b9eddb2bda9a68871d2475cbe2b93', 'message': 'DNM: Make the decision between primary/handoff sets more obvious\n\nWait until after feature/deep-review lands to merge; there will be conflicts.\n\nChange-Id: I419de59df3317d67c594fe768f5696de24148280\n'}, {'number': 2, 'created': '2018-05-21 18:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2933573a7b8ec283c2ef54ab93c48b9ea49f554c', 'message': 'Make the decision between primary/handoff sets more obvious\n\nChange-Id: I419de59df3317d67c594fe768f5696de24148280\n'}, {'number': 3, 'created': '2018-05-22 19:13:23.000000000', 'files': ['test/probe/brain.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8c386fff40a1605c7304b8998adcd1a65263a672', 'message': 'Make the decision between primary/handoff sets more obvious\n\nChange-Id: I419de59df3317d67c594fe768f5696de24148280\n'}]",0,567940,8c386fff40a1605c7304b8998adcd1a65263a672,10,2,3,15343,,,0,"Make the decision between primary/handoff sets more obvious

Change-Id: I419de59df3317d67c594fe768f5696de24148280
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/567940/2 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/brain.py'],1,926b5b67686b9eddb2bda9a68871d2475cbe2b93,567940, self.node_numbers = [n['id'] + 1 for n in nodes] if 1 in self.node_numbers and 2 in self.node_numbers:," node_ids = [n['id'] for n in nodes] if all(n_id in node_ids for n_id in (0, 1)):",2,2
openstack%2Fheat~master~I0ec20f17d56a83c22654f91d59d2d0e28e313269,openstack/heat,master,I0ec20f17d56a83c22654f91d59d2d0e28e313269,Support neutron scheduler hints,ABANDONED,2017-09-29 11:46:30.000000000,2018-05-23 14:09:02.000000000,,"[{'_account_id': 167}, {'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 23913}, {'_account_id': 24647}]","[{'number': 1, 'created': '2017-09-29 11:46:30.000000000', 'files': ['heat/engine/resources/openstack/neutron/net.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5a3faee26353caa0967559cf6d2bef7a736c5017', 'message': 'Support neutron scheduler hints\n\nChange-Id: I0ec20f17d56a83c22654f91d59d2d0e28e313269\n'}]",3,508499,5a3faee26353caa0967559cf6d2bef7a736c5017,6,5,1,167,,,0,"Support neutron scheduler hints

Change-Id: I0ec20f17d56a83c22654f91d59d2d0e28e313269
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/508499/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/neutron/net.py'],1,5a3faee26353caa0967559cf6d2bef7a736c5017,neutron_net_scheduler_hints,"from heat.engine.resources import scheduler_hints as shclass Net(neutron.NeutronResource, sh.SchedulerHintsMixin): DNS_DOMAIN, SCHEDULER_HINTS, TAGS, 'dns_domain', 'scheduler_hints', 'tags', SCHEDULER_HINTS: properties.Schema( properties.Schema.MAP, _('Arbitrary key-value pairs specified by the client to help ' 'create a network.'), support_status=support.SupportStatus(version='10.0.0') ),","class Net(neutron.NeutronResource): DNS_DOMAIN, TAGS, 'dns_domain', 'tags',",10,3
openstack%2Fdevstack~stable%2Fnewton~Ic7d0c04d7fa77774ab2d70fb9d11f182becec553,openstack/devstack,stable/newton,Ic7d0c04d7fa77774ab2d70fb9d11f182becec553,Properly get pip version,ABANDONED,2018-04-19 14:24:41.000000000,2018-05-23 14:07:12.000000000,,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 8290}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-19 14:24:41.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9fc7d0b81c8876a236ead1789a7ff8d7f2d7c714', 'message': ""Properly get pip version\n\nThe old code was strip()ing the version string instead of split()ing the\nversion string so we always got the first character of the version\nstring. This worked fine as long as the pip version was single digit but\nas soon as it rolls over to '10.stuff' we will compare:\n\n  pip version 1 (instead of 10) > 6\n\nWhich fails bceause 1 is less than six. Instaed we really do want to\ncompare 10 > 6 so use split on '.' instead.\n\nCloses-Bug: #1764046\nChange-Id: Ic7d0c04d7fa77774ab2d70fb9d11f182becec553\n(cherry picked from commit 065779517f9c99a80fbc39d51784c614e4ee341c)\n(cherry picked from commit b376719fc0b1ce225a564c0d32091b53db408f6d)\n""}]",0,562610,9fc7d0b81c8876a236ead1789a7ff8d7f2d7c714,10,7,1,6873,,,0,"Properly get pip version

The old code was strip()ing the version string instead of split()ing the
version string so we always got the first character of the version
string. This worked fine as long as the pip version was single digit but
as soon as it rolls over to '10.stuff' we will compare:

  pip version 1 (instead of 10) > 6

Which fails bceause 1 is less than six. Instaed we really do want to
compare 10 > 6 so use split on '.' instead.

Closes-Bug: #1764046
Change-Id: Ic7d0c04d7fa77774ab2d70fb9d11f182becec553
(cherry picked from commit 065779517f9c99a80fbc39d51784c614e4ee341c)
(cherry picked from commit b376719fc0b1ce225a564c0d32091b53db408f6d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/10/562610/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,9fc7d0b81c8876a236ead1789a7ff8d7f2d7c714,bug/1764046-stable/ocata-stable/newton," print(pip.__version__.split('.')[0])"")"," print(pip.__version__.strip('.')[0])"")",1,1
openstack%2Fnova~master~I2c754a0cef55d0e0e2cbaa3ed175c35b110daf09,openstack/nova,master,I2c754a0cef55d0e0e2cbaa3ed175c35b110daf09,Re-arrange cells docs for modern deployments,ABANDONED,2018-01-31 20:37:57.000000000,2018-05-23 14:04:17.000000000,,"[{'_account_id': 6873}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-01-31 20:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fca8b27c23c10e839dfb3e0cd7241ddf604d4323', 'message': 'Re-arrange cells docs for modern deployments\n\nThe cells docs were originally written in kilo when cells v2\nwas a proposal but far from reality.\n\nCells v2 is required since ocata and cells v1 was deprecated\nin pike. Existing deployments are now upgrading to ocata+\nand primarily looking for information on what they need to\ndo for the cells v2 setup, and less about historical information.\n\nTherefore, this change re-arranges the cells doc to make the\ncells v2 setup come first in the document, and moves the cells v2\nmanifesto and cells v1 information to the bottom of the page as\nbackground reading.\n\nChange-Id: I2c754a0cef55d0e0e2cbaa3ed175c35b110daf09\n'}, {'number': 2, 'created': '2018-01-31 21:07:05.000000000', 'files': ['doc/source/user/cells.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/cc8ebf7bbee5de754ba591591a68d92f60487fe5', 'message': 'Re-arrange cells docs for modern deployments\n\nThe cells docs were originally written in kilo when cells v2\nwas a proposal but far from reality.\n\nCells v2 is required since ocata and cells v1 was deprecated\nin pike. Existing deployments are now upgrading to ocata+\nand primarily looking for information on what they need to\ndo for the cells v2 setup, and less about historical information.\n\nTherefore, this change re-arranges the cells doc to make the\ncells v2 setup come first in the document, and moves the cells v2\nmanifesto and cells v1 information to the bottom of the page as\nbackground reading.\n\nChange-Id: I2c754a0cef55d0e0e2cbaa3ed175c35b110daf09\n'}]",3,539674,cc8ebf7bbee5de754ba591591a68d92f60487fe5,9,6,2,6873,,,0,"Re-arrange cells docs for modern deployments

The cells docs were originally written in kilo when cells v2
was a proposal but far from reality.

Cells v2 is required since ocata and cells v1 was deprecated
in pike. Existing deployments are now upgrading to ocata+
and primarily looking for information on what they need to
do for the cells v2 setup, and less about historical information.

Therefore, this change re-arranges the cells doc to make the
cells v2 setup come first in the document, and moves the cells v2
manifesto and cells v1 information to the bottom of the page as
background reading.

Change-Id: I2c754a0cef55d0e0e2cbaa3ed175c35b110daf09
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/539674/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/cells.rst'],1,fca8b27c23c10e839dfb3e0cd7241ddf604d4323,cells-docs,"This document describes the cells architecture built into nova. All nova deployments are a ""cell of one"" since the 15.0.0 Ocata release. The historical ""cells"" experimental feature - hereafter referred to as ""cells v1"", introduced in the Grizzly release, was deprecated in the 16.0.0 Pike release and is superseded by the cells v2 effort which is native to the nova architecture. The layout of this document assumes that you are either new to deploying nova or are running an existing deployment and may already be familiar with cells v1. As such, the deployment steps come first. Historical information such as the cells v2 `Manifesto`_ and cells v1 documentation intentionally come later in this guide for those that want more background details on what cells v1 is, the idea behind cells v2, and the proposal to transition.Setup ~~~~~it is stored in the nova.conf file::~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~everything explained in `Setup`_. It is assumed that you have~~~~ Manifesto ~~~~~~~~~ .. note:: The manifesto documentation was written during the Kilo release and is here for background reading and historical purposes. Proposal -------- Right now, when a request hits the Nova API for a particular instance, the instance information is fetched from the database, which contains the hostname of the compute node on which the instance currently lives. If the request needs to take action on the instance (which is most of them), the hostname is used to calculate the name of a queue, and a message is written there which finds its way to the proper compute node. The meat of this proposal is changing the above hostname lookup into two parts that yield three pieces of information instead of one. Basically, instead of merely looking up the *name* of the compute node on which an instance lives, we will also obtain database and queue connection information. Thus, when asked to take action on instance $foo, we will: 1. Lookup the three-tuple of (database, queue, hostname) for that instance 2. Connect to that database and fetch the instance record 3. Connect to the queue and send the message to the proper hostname queue The above differs from the current organization in two ways. First, we need to do two database lookups before we know where the instance lives. Second, we need to demand-connect to the appropriate database and queue. Both of these have performance implications, but we believe we can mitigate the impacts through the use of things like a memcache of instance mapping information and pooling of connections to database and queue systems. The number of cells will always be much smaller than the number of instances. There are availability implications with this change since something like a 'nova list' which might query multiple cells could end up with a partial result if there is a database failure in a cell. A database failure within a cell would cause larger issues than a partial list result so the expectation is that it would be addressed quickly and cellsv2 will handle it by indicating in the response that the data may not be complete. Since this is very similar to what we have with current cells, in terms of organization of resources, we have decided to call this ""cellsv2"" for disambiguation. After this work is complete there will no longer be a ""no cells"" deployment. The default installation of Nova will be a single cell setup. Benefits -------- The benefits of this new organization are: * Native sharding of the database and queue as a first-class-feature in nova. All of the code paths will go through the lookup procedure and thus we won't have the same feature parity issues as we do with current cells. * No high-level replication of all the cell databases at the top. The API will need a database of its own for things like the instance index, but it will not need to replicate all the data at the top level. * It draws a clear line between global and local data elements. Things like flavors and keypairs are clearly global concepts that need only live at the top level. Providing this separation allows compute nodes to become even more stateless and insulated from things like deleted/changed global data. * Existing non-cells users will suddenly gain the ability to spawn a new ""cell"" from their existing deployment without changing their architecture. Simply adding information about the new database and queue systems to the new index will allow them to consume those resources. * Existing cells users will need to fill out the cells mapping index, shutdown their existing cells synchronization service, and ultimately clean up their top level database. However, since the high-level organization is not substantially different, they will not have to re-architect their systems to move to cellsv2. * Adding new sets of hosts as a new ""cell"" allows them to be plugged into a deployment and tested before allowing builds to be scheduled to them. Comparison with Cells V1 ------------------------ In reality, the proposed organization is nearly the same as what we currently have in cells today. A cell mostly consists of a database, queue, and set of compute nodes. The primary difference is that current cells require a nova-cells service that synchronizes information up and down from the top level to the child cell. Additionally, there are alternate code paths in compute/api.py which handle routing messages to cells instead of directly down to a compute host. Both of these differences are relevant to why we have a hard time achieving feature and test parity with regular nova (because many things take an alternate path with cells) and why it's hard to understand what is going on (all the extra synchronization of data). The new proposed cellsv2 organization avoids both of these problems by letting things live where they should, teaching nova to natively find the right db, queue, and compute node to handle a given request. Database split ~~~~~~~~~~~~~~ As mentioned above there is a split between global data and data that is local to a cell. The following is a breakdown of what data can uncontroversially considered global versus local to a cell. Missing data will be filled in as consensus is reached on the data that is more difficult to cleanly place. The missing data is mostly concerned with scheduling and networking. Global (API-level) Tables ------------------------- instance_types instance_type_projects instance_type_extra_specs quotas project_user_quotas quota_classes quota_usages security_groups security_group_rules security_group_default_rules provider_fw_rules key_pairs migrations networks tags Cell-level Tables ----------------- instances instance_info_caches instance_extra instance_metadata instance_system_metadata instance_faults instance_actions instance_actions_events instance_id_mappings pci_devices block_device_mapping virtual_interfaces Cells V1 ======== Historically, Nova has depended on a single logical database and message queue that all nodes depend on for communication and data persistence. This becomes an issue for deployers as scaling and providing fault tolerance for these systems is difficult. Cells v1 is used by some large deployments to partition compute nodes into smaller groups, coupled with a database and queue. This seems to be a well-liked and easy-to-understand arrangement of resources, but the implementation of it has issues for maintenance and correctness. See `Comparison with Cells V1`_ for more detail. Status ~~~~~~ .. warning:: Cells v1 is deprecated in favor of Cells v2 as of the 16.0.0 Pike release. Cells v1 is considered experimental and receives much less testing than the rest of Nova. For example, there is no job for testing cells v1 with Neutron. The priority for the core team is implementation of and migration to cells v2. Because of this, there are a few restrictions placed on cells v1: #. Cells v1 is in feature freeze. This means no new feature proposals for cells v1 will be accepted by the core team, which includes but is not limited to API parity, e.g. supporting virtual interface attach/detach with Neutron. #. Latent bugs caused by the cells v1 design will not be fixed, e.g. `bug 1489581 <https://bugs.launchpad.net/nova/+bug/1489581>`_. So if new tests are added to Tempest which trigger a latent bug in cells v1 it may not be fixed. However, regressions in working function should be tracked with bugs and fixed. **Suffice it to say, new deployments of cells v1 are not encouraged.** The restrictions above are basically meant to prioritize effort and focus on getting cells v2 completed, and feature requests and hard to fix latent bugs detract from that effort. Further discussion on this can be found in the `2015/11/12 Nova meeting minutes <http://eavesdrop.openstack.org/meetings/nova/2015/nova.2015-11-12-14.00.log.html>`_. There are no plans to remove Cells V1 until V2 is usable by existing deployments and there is a migration path.","Before reading further, there is a nice overview presentation_ that Andrew Laski gave at the Austin (Newton) summit which is worth watching. .. _presentation: https://www.openstack.org/videos/video/nova-cells-v2-whats-going-on Cells V1 ======== Historically, Nova has depended on a single logical database and message queue that all nodes depend on for communication and data persistence. This becomes an issue for deployers as scaling and providing fault tolerance for these systems is difficult. We have an experimental feature in Nova called ""cells"", hereafter referred to as ""cells v1"", which is used by some large deployments to partition compute nodes into smaller groups, coupled with a database and queue. This seems to be a well-liked and easy-to-understand arrangement of resources, but the implementation of it has issues for maintenance and correctness. See `Comparison with Cells V1`_ for more detail. Status ~~~~~~ .. warning:: Cells v1 is deprecated in favor of Cells v2 as of the 16.0.0 Pike release. Cells v1 is considered experimental and receives much less testing than the rest of Nova. For example, there is no job for testing cells v1 with Neutron. The priority for the core team is implementation of and migration to cells v2. Because of this, there are a few restrictions placed on cells v1: #. Cells v1 is in feature freeze. This means no new feature proposals for cells v1 will be accepted by the core team, which includes but is not limited to API parity, e.g. supporting virtual interface attach/detach with Neutron. #. Latent bugs caused by the cells v1 design will not be fixed, e.g. `bug 1489581 <https://bugs.launchpad.net/nova/+bug/1489581>`_. So if new tests are added to Tempest which trigger a latent bug in cells v1 it may not be fixed. However, regressions in working function should be tracked with bugs and fixed. **Suffice it to say, new deployments of cells v1 are not encouraged.** The restrictions above are basically meant to prioritize effort and focus on getting cells v2 completed, and feature requests and hard to fix latent bugs detract from that effort. Further discussion on this can be found in the `2015/11/12 Nova meeting minutes <http://eavesdrop.openstack.org/meetings/nova/2015/nova.2015-11-12-14.00.log.html>`_. There are no plans to remove Cells V1 until V2 is usable by existing deployments and there is a migration path.Manifesto ~~~~~~~~~ Proposal -------- Right now, when a request hits the Nova API for a particular instance, the instance information is fetched from the database, which contains the hostname of the compute node on which the instance currently lives. If the request needs to take action on the instance (which is most of them), the hostname is used to calculate the name of a queue, and a message is written there which finds its way to the proper compute node. The meat of this proposal is changing the above hostname lookup into two parts that yield three pieces of information instead of one. Basically, instead of merely looking up the *name* of the compute node on which an instance lives, we will also obtain database and queue connection information. Thus, when asked to take action on instance $foo, we will: 1. Lookup the three-tuple of (database, queue, hostname) for that instance 2. Connect to that database and fetch the instance record 3. Connect to the queue and send the message to the proper hostname queue The above differs from the current organization in two ways. First, we need to do two database lookups before we know where the instance lives. Second, we need to demand-connect to the appropriate database and queue. Both of these have performance implications, but we believe we can mitigate the impacts through the use of things like a memcache of instance mapping information and pooling of connections to database and queue systems. The number of cells will always be much smaller than the number of instances. There are availability implications with this change since something like a 'nova list' which might query multiple cells could end up with a partial result if there is a database failure in a cell. A database failure within a cell would cause larger issues than a partial list result so the expectation is that it would be addressed quickly and cellsv2 will handle it by indicating in the response that the data may not be complete. Since this is very similar to what we have with current cells, in terms of organization of resources, we have decided to call this ""cellsv2"" for disambiguation. After this work is complete there will no longer be a ""no cells"" deployment. The default installation of Nova will be a single cell setup. Benefits -------- The benefits of this new organization are: * Native sharding of the database and queue as a first-class-feature in nova. All of the code paths will go through the lookup procedure and thus we won't have the same feature parity issues as we do with current cells. * No high-level replication of all the cell databases at the top. The API will need a database of its own for things like the instance index, but it will not need to replicate all the data at the top level. * It draws a clear line between global and local data elements. Things like flavors and keypairs are clearly global concepts that need only live at the top level. Providing this separation allows compute nodes to become even more stateless and insulated from things like deleted/changed global data. * Existing non-cells users will suddenly gain the ability to spawn a new ""cell"" from their existing deployment without changing their architecture. Simply adding information about the new database and queue systems to the new index will allow them to consume those resources. * Existing cells users will need to fill out the cells mapping index, shutdown their existing cells synchronization service, and ultimately clean up their top level database. However, since the high-level organization is not substantially different, they will not have to re-architect their systems to move to cellsv2. * Adding new sets of hosts as a new ""cell"" allows them to be plugged into a deployment and tested before allowing builds to be scheduled to them. Comparison with Cells V1 ------------------------ In reality, the proposed organization is nearly the same as what we currently have in cells today. A cell mostly consists of a database, queue, and set of compute nodes. The primary difference is that current cells require a nova-cells service that synchronizes information up and down from the top level to the child cell. Additionally, there are alternate code paths in compute/api.py which handle routing messages to cells instead of directly down to a compute host. Both of these differences are relevant to why we have a hard time achieving feature and test parity with regular nova (because many things take an alternate path with cells) and why it's hard to understand what is going on (all the extra synchronization of data). The new proposed cellsv2 organization avoids both of these problems by letting things live where they should, teaching nova to natively find the right db, queue, and compute node to handle a given request. Database split ~~~~~~~~~~~~~~ As mentioned above there is a split between global data and data that is local to a cell. The following is a breakdown of what data can uncontroversially considered global versus local to a cell. Missing data will be filled in as consensus is reached on the data that is more difficult to cleanly place. The missing data is mostly concerned with scheduling and networking. Global (API-level) Tables ------------------------- instance_types instance_type_projects instance_type_extra_specs quotas project_user_quotas quota_classes quota_usages security_groups security_group_rules security_group_default_rules provider_fw_rules key_pairs migrations networks tags Cell-level Tables ----------------- instances instance_info_caches instance_extra instance_metadata instance_system_metadata instance_faults instance_actions instance_actions_events instance_id_mappings pci_devices block_device_mapping virtual_interfaces Setup of Cells V2 ================= Overview ~~~~~~~~it is stored in the nova.conf file. ::=================================everything explained in `Setup of Cells V2`_. It is assumed that you have====",209,201
openstack%2Fnova~master~I946face2547f2e767a688ae8742eb79356d07588,openstack/nova,master,I946face2547f2e767a688ae8742eb79356d07588,Closes-Bug: #1454515,ABANDONED,2017-07-29 09:12:03.000000000,2018-05-23 14:03:51.000000000,,"[{'_account_id': 964}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-29 09:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0474658e16e2a26ddb4934e902a4388404937d2b', 'message': 'Closes-Bug: #1454515\n\nChange-Id: I946face2547f2e767a688ae8742eb79356d07588\n'}, {'number': 2, 'created': '2017-08-01 14:58:41.000000000', 'files': ['nova/db/sqlalchemy/models.py', 'nova/objects/build_request.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/db/sqlalchemy/migrate_repo/versions/216_havana.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/objects/instance.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6855f4b067fb9303bac2a0fbb7dcbb75f1c73d3', 'message': 'Closes-Bug: #1454515\n\nChange-Id: I946face2547f2e767a688ae8742eb79356d07588\n'}]",0,488941,b6855f4b067fb9303bac2a0fbb7dcbb75f1c73d3,29,12,2,18834,,,0,"Closes-Bug: #1454515

Change-Id: I946face2547f2e767a688ae8742eb79356d07588
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/488941/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/models.py', 'nova/objects/build_request.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/db/sqlalchemy/migrate_repo/versions/216_havana.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/objects/instance.py', 'nova/compute/api.py']",8,0474658e16e2a26ddb4934e902a4388404937d2b,bug/1454515,," if instance.disable_terminate: LOG.info('instance termination disabled', instance=instance) return ",3,16
openstack%2Fmistral~master~I3eb094c24bc5309d05bf859c0b4d43487d50f1df,openstack/mistral,master,I3eb094c24bc5309d05bf859c0b4d43487d50f1df,"Add ""fields"" argument to DB API methods",MERGED,2018-05-17 07:57:57.000000000,2018-05-23 13:53:36.000000000,2018-05-23 13:53:36.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 11085}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 07:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/57484dfe5dc90598ec755bb198f8b54a88cb7c7f', 'message': 'WIP: add ""fields"" argument to DB API methods and refactoring\n\nChange-Id: I3eb094c24bc5309d05bf859c0b4d43487d50f1df\n'}, {'number': 2, 'created': '2018-05-17 08:49:19.000000000', 'files': ['mistral/db/v2/api.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/eadce20f479b1f385dc2ab0f54858a40208cb408', 'message': 'Add ""fields"" argument to DB API methods\n\n* Added the ""fields"" argument to all ""get"" and ""load"" DB API\n  methods where we potentially need partial loading\n* Removed an unused method\n* Refactored some methods taking ""namespace"" as an argument\n\nCloses-Bug: #1771518\nChange-Id: I3eb094c24bc5309d05bf859c0b4d43487d50f1df\n'}]",0,569049,eadce20f479b1f385dc2ab0f54858a40208cb408,20,6,2,8731,,,0,"Add ""fields"" argument to DB API methods

* Added the ""fields"" argument to all ""get"" and ""load"" DB API
  methods where we potentially need partial loading
* Removed an unused method
* Refactored some methods taking ""namespace"" as an argument

Closes-Bug: #1771518
Change-Id: I3eb094c24bc5309d05bf859c0b4d43487d50f1df
",git fetch https://review.opendev.org/openstack/mistral refs/changes/49/569049/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/db/v2/api.py', 'mistral/db/v2/sqlalchemy/api.py']",2,57484dfe5dc90598ec755bb198f8b54a88cb7c7f,bug/1771518,"def _get_db_object_by_name(model, name, columns=()): query = _secure_query(model, *columns) return query.filter_by(name=name).first() namespace=None, insecure=False, columns=()): query = ( b.model_query(model, columns=columns) if insecure else _secure_query(model, *columns) )def get_workbook(name, fields=(), session=None): wb = _get_db_object_by_name(models.Workbook, name, columns=fields)def load_workbook(name, fields=(), session=None): return _get_db_object_by_name(models.Workbook, name, columns=fields)def get_workflow_definition(identifier, namespace='', fields=(), session=None): :param fields: Fields that need to be loaded. For example, (WorkflowDefinition.name,) insecure=ctx.is_admin, columns=fieldsdef get_workflow_definition_by_id(id, fields=(), session=None): wf_def = _get_db_object_by_id( models.WorkflowDefinition, id, columns=fields )def load_workflow_definition(name, namespace='', fields=(), session=None): query = _secure_query(model, *fields) filter_ = sa.and_( model.name == name, model.namespace.in_([namespace, '']) ) if order_by is not None: query = query.order_by(order_by) return query.filter(filter_).first()def get_action_definition_by_id(id, fields=(), session=None): action_def = _get_db_object_by_id( models.ActionDefinition, id, columns=fields )def get_action_definition(identifier, fields=(), session=None): identifier, columns=fieldsdef load_action_definition(name, fields=(), session=None): return _get_db_object_by_name( models.ActionDefinition, name, columns=fields )def get_action_execution(id, fields=(), session=None): a_ex = _get_db_object_by_id(models.ActionExecution, id, columns=fields)def load_action_execution(id, fields=(), session=None): return _get_db_object_by_id(models.ActionExecution, id, columns=fields)def load_workflow_execution(id, fields=(), session=None): return _get_db_object_by_id(models.WorkflowExecution, id, columns=fields)def get_task_execution(id, fields=(), session=None): task_ex = _get_db_object_by_id(models.TaskExecution, id, columns=fields)def load_task_execution(id, fields=(), session=None): return _get_db_object_by_id(models.TaskExecution, id, columns=fields)","def _get_db_object_by_name(model, name, filter_=None, order_by=None): query = _secure_query(model) final_filter = model.name == name if filter_ is not None: final_filter = sa.and_(final_filter, filter_) if order_by is not None: query = query.order_by(order_by) return query.filter(final_filter).first() namespace=None, insecure=False): query = b.model_query(model) if insecure else _secure_query(model)@compiles(Insert) def append_string(insert, compiler, **kw): s = compiler.visit_insert(insert, **kw) if 'append_string' in insert.kwargs: append = insert.kwargs['append_string'] if append: s += "" "" + append if 'replace_string' in insert.kwargs: replace = insert.kwargs['replace_string'] if isinstance(replace, tuple): s = s.replace(replace[0], replace[1]) return s def get_workbook(name, session=None): wb = _get_db_object_by_name(models.Workbook, name)def load_workbook(name, session=None): return _get_db_object_by_name(models.Workbook, name)def get_workflow_definition(identifier, namespace='', session=None): insecure=ctx.is_admindef get_workflow_definition_by_id(id, session=None): wf_def = _get_db_object_by_id(models.WorkflowDefinition, id)def load_workflow_definition(name, namespace='', session=None): filter_ = model.namespace.in_([namespace, '']) return _get_db_object_by_name( model, name, filter_, order_by )def get_action_definition_by_id(id, session=None): action_def = _get_db_object_by_id(models.ActionDefinition, id)def get_action_definition(identifier, session=None): identifierdef load_action_definition(name, session=None): return _get_db_object_by_name(models.ActionDefinition, name)def get_action_execution(id, session=None): a_ex = _get_db_object_by_id(models.ActionExecution, id)def load_action_execution(id, session=None): return _get_db_object_by_id(models.ActionExecution, id)def load_workflow_execution(id, session=None): return _get_db_object_by_id(models.WorkflowExecution, id)def get_task_execution(id, session=None): task_ex = _get_db_object_by_id(models.TaskExecution, id)def load_task_execution(id, session=None): return _get_db_object_by_id(models.TaskExecution, id)",91,92
openstack%2Ftripleo-heat-templates~master~I461c6d5be40f406e6fa7cfed3836a928abcdf67e,openstack/tripleo-heat-templates,master,I461c6d5be40f406e6fa7cfed3836a928abcdf67e,Use RabbitMQ in scenario000 -- upgrade to oslo.messaging doesn't work yet,ABANDONED,2018-05-22 15:02:15.000000000,2018-05-23 13:49:46.000000000,,"[{'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-22 15:02:15.000000000', 'files': ['ci/environments/scenario000-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13425202e2813315a41dacbd7f873f2b492d703d', 'message': ""Use RabbitMQ in scenario000 -- upgrade to oslo.messaging doesn't work yet\n\nThis temporarily reverts to using the previous RabbitMQ service in\nscenario000, so that we can test upgrades. We'll want to put this back\nwith a fix to upgrade_tasks that will make RabbitMQ -> oslo.messaging\nupgrade work.\n\nChange-Id: I461c6d5be40f406e6fa7cfed3836a928abcdf67e\nCloses-Bug: #1772039\n""}]",0,569995,13425202e2813315a41dacbd7f873f2b492d703d,5,3,1,8042,,,0,"Use RabbitMQ in scenario000 -- upgrade to oslo.messaging doesn't work yet

This temporarily reverts to using the previous RabbitMQ service in
scenario000, so that we can test upgrades. We'll want to put this back
with a fix to upgrade_tasks that will make RabbitMQ -> oslo.messaging
upgrade work.

Change-Id: I461c6d5be40f406e6fa7cfed3836a928abcdf67e
Closes-Bug: #1772039
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/569995/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario000-multinode-containers.yaml'],1,13425202e2813315a41dacbd7f873f2b492d703d,bug/1772039, # TODO: switch from RabbitMQ to OsloMessaging when upgrade logic works # OS::TripleO::Services::OsloMessagingRpc: ../../docker/services/pacemaker/rpc-rabbitmq.yaml # OS::TripleO::Services::OsloMessagingNotify: ../../docker/services/messaging/notify-rabbitmq-shared.yaml OS::TripleO::Services::RabbitMQ: ../../docker/services/pacemaker/rabbitmq.yaml # TODO: switch from RabbitMQ to OsloMessaging when upgrade logic works # - OS::TripleO::Services::OsloMessagingRpc # - OS::TripleO::Services::OsloMessagingNotify - OS::TripleO::Services::RabbitMQ, OS::TripleO::Services::OsloMessagingRpc: ../../docker/services/pacemaker/rpc-rabbitmq.yaml OS::TripleO::Services::OsloMessagingNotify: ../../docker/services/messaging/notify-rabbitmq-shared.yaml - OS::TripleO::Services::OsloMessagingRpc - OS::TripleO::Services::OsloMessagingNotify,8,4
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c,openstack/tripleo-heat-templates,stable/queens,I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c,Remove ceph-osd from the list of packages updated by CephExternal,MERGED,2018-05-08 11:25:36.000000000,2018-05-23 13:27:38.000000000,2018-05-22 13:46:45.000000000,"[{'_account_id': 6796}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 11:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a546e0bda1827bfbe06f48c3a82b9cf4496e5871', 'message': ""Remove ceph-osd from the list of packages updated by puppet-ceph\n\nDuring minor updates, puppet is dealing with packages update and\ntrying to install 'ceph-osd' on the nodes when it should not, see [1].\n\nThis change is *not* submitted into master (currently tracking Rocky)\nbecause support for puppet-ceph is removed in Rocky, see [2].\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1572830\n2. https://review.openstack.org/#/c/548562/\n\nChange-Id: I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c\n""}, {'number': 2, 'created': '2018-05-08 13:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2e53b94a351e96a6e398ad2731ade3d07404008', 'message': ""Remove ceph-osd from the list of packages updated by puppet-ceph\n\nDuring minor updates, puppet is dealing with packages update and\ntrying to install 'ceph-osd' on the nodes when it should not, see [1].\n\nThis change is *not* submitted into master (currently tracking Rocky)\nbecause support for puppet-ceph is removed in Rocky, see [2].\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1572830\n2. https://review.openstack.org/#/c/548562/\n\nChange-Id: I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c\n""}, {'number': 3, 'created': '2018-05-08 13:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e103a17d867e34231bc49121180690ab1c42c609', 'message': ""Remove ceph-osd from the list of packages updated by CephExternal\n\nDuring minor updates, puppet is dealing with packages update and\ntrying to install 'ceph-osd' on the nodes where CephExternal service\nis enabled, see [1].\n\nThis change is *not* proposed for master (currently tracking Rocky)\nbecause support for puppet-ceph is removed in Rocky, see [2]. Instead\nwill be backported into Pike, Ocata and Newton.\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1572830\n2. https://review.openstack.org/#/c/548562/\n\nChange-Id: I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c\n""}, {'number': 4, 'created': '2018-05-22 08:07:51.000000000', 'files': ['puppet/services/ceph-external.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f24523a0bc952ad1464a70e50a42ea257adaeacb', 'message': ""Remove ceph-osd from the list of packages updated by CephExternal\n\nDuring minor updates, puppet is dealing with packages update and\ntrying to install 'ceph-osd' on the nodes where CephExternal service\nis enabled, see [1].\n\nThis change is *not* proposed for master (currently tracking Rocky)\nbecause support for puppet-ceph is removed in Rocky, see [2]. Instead\nwill be backported into Pike, Ocata and Newton.\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1572830\n2. https://review.openstack.org/#/c/548562/\n\nChange-Id: I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c\n""}]",2,566858,f24523a0bc952ad1464a70e50a42ea257adaeacb,71,6,4,6796,,,0,"Remove ceph-osd from the list of packages updated by CephExternal

During minor updates, puppet is dealing with packages update and
trying to install 'ceph-osd' on the nodes where CephExternal service
is enabled, see [1].

This change is *not* proposed for master (currently tracking Rocky)
because support for puppet-ceph is removed in Rocky, see [2]. Instead
will be backported into Pike, Ocata and Newton.

1. https://bugzilla.redhat.com/show_bug.cgi?id=1572830
2. https://review.openstack.org/#/c/548562/

Change-Id: I765bd4c4f630f97fdb4d6d4207dd5c8e0b82922c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/566858/4 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/ceph-base.yaml', 'puppet/services/ceph-external.yaml']",2,a546e0bda1827bfbe06f48c3a82b9cf4496e5871,ceph_osd_cleanup,, - ceph-osd,0,2
openstack%2Ftripleo-heat-templates~master~I17b94e8023873f3129a55e69efd751be0674dfcb,openstack/tripleo-heat-templates,master,I17b94e8023873f3129a55e69efd751be0674dfcb,Remove support for puppet-ceph,MERGED,2018-02-28 11:06:00.000000000,2018-05-23 13:23:02.000000000,2018-05-21 21:45:17.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-28 11:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/568a6940f6d557b8cff4f87dea3b6f67d2b160a1', 'message': 'WIP: remove deprecated file to support puppet-ceph\n\nChange-Id: I17b94e8023873f3129a55e69efd751be0674dfcb\n'}, {'number': 2, 'created': '2018-03-19 01:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27dbb5fa75b996de61c61f78b3441eee0e919238', 'message': 'Remove support for puppet-ceph\n\nImplements: blueprint remove-puppet-ceph\nChange-Id: I17b94e8023873f3129a55e69efd751be0674dfcb\n'}, {'number': 3, 'created': '2018-05-10 13:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0b40f2c9c529b6515a24d3704b826cc1644a991', 'message': 'Remove support for puppet-ceph\n\nDeployment of a managed Ceph cluster using puppet-ceph\nis not supported from the Pike release. From Queens it\nis not supported use of puppet-ceph when using an\nexternal Ceph cluster either.\n\nThis change removes the old templates necessary to\nsupport deployment of Ceph via puppet-ceph.\n\nImplements: blueprint remove-puppet-ceph\nChange-Id: I17b94e8023873f3129a55e69efd751be0674dfcb\n'}, {'number': 4, 'created': '2018-05-18 12:00:47.000000000', 'files': ['environments/services/ceph-rbdmirror.yaml', 'environments/puppet-ceph-devel.yaml', 'environments/services/ceph-mds.yaml', 'environments/puppet-ceph-external.yaml', 'puppet/services/ceph-base.yaml', 'releasenotes/notes/remove-support-for-puppet-ceph-bdafca24a59e7075.yaml', 'puppet/services/ceph-external.yaml', 'environments/storage/external-ceph.yaml', 'sample-env-generator/storage.yaml', 'puppet/services/ceph-mds.yaml', 'puppet/services/ceph-osd.yaml', 'puppet/services/ceph-mon.yaml', 'environments/ceph-radosgw.yaml', 'environments/puppet-ceph.yaml', 'puppet/services/pacemaker/ceph-rbdmirror.yaml', 'environments/storage/enable-ceph.yaml', 'puppet/services/ceph-client.yaml', 'puppet/services/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/753a3504184d966c63121ca95bc0135afbc83a75', 'message': 'Remove support for puppet-ceph\n\nDeployment of a managed Ceph cluster using puppet-ceph\nis not supported from the Pike release. From Queens it\nis not supported use of puppet-ceph when using an\nexternal Ceph cluster either.\n\nThis change removes the old templates necessary to\nsupport deployment of Ceph via puppet-ceph.\n\nImplements: blueprint remove-puppet-ceph\nChange-Id: I17b94e8023873f3129a55e69efd751be0674dfcb\n'}]",5,548562,753a3504184d966c63121ca95bc0135afbc83a75,54,13,4,6796,,,0,"Remove support for puppet-ceph

Deployment of a managed Ceph cluster using puppet-ceph
is not supported from the Pike release. From Queens it
is not supported use of puppet-ceph when using an
external Ceph cluster either.

This change removes the old templates necessary to
support deployment of Ceph via puppet-ceph.

Implements: blueprint remove-puppet-ceph
Change-Id: I17b94e8023873f3129a55e69efd751be0674dfcb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/548562/4 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/ceph-rbdmirror.yaml', 'environments/puppet-ceph-devel.yaml', 'environments/services/ceph-mds.yaml', 'environments/puppet-ceph-external.yaml', 'puppet/services/ceph-base.yaml', 'puppet/services/ceph-external.yaml', 'environments/storage/external-ceph.yaml', 'sample-env-generator/storage.yaml', 'puppet/services/ceph-mds.yaml', 'puppet/services/ceph-osd.yaml', 'puppet/services/ceph-mon.yaml', 'environments/ceph-radosgw.yaml', 'environments/puppet-ceph.yaml', 'puppet/services/pacemaker/ceph-rbdmirror.yaml', 'environments/storage/enable-ceph.yaml', 'puppet/services/ceph-client.yaml', 'puppet/services/ceph-rgw.yaml']",17,568a6940f6d557b8cff4f87dea3b6f67d2b160a1,bp/remove-puppet-ceph,,"heat_template_version: queens description: > Ceph RadosGW service. parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json AdminToken: description: The keystone auth secret and db password. type: string hidden: true CephRgwKey: description: The cephx key for the radosgw client. Can be created with ceph-authtool --gen-print-key. type: string hidden: true SwiftPassword: description: The password for the swift service account type: string hidden: true KeystoneRegion: type: string default: 'regionOne' description: Keystone region for endpoint resources: CephBase: type: ./ceph-base.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} outputs: role_data: description: Role data for the Ceph RadosGW service. value: service_name: ceph_rgw config_settings: map_merge: - get_attr: [CephBase, role_data, config_settings] - tripleo::profile::base::ceph::rgw::rgw_key: {get_param: CephRgwKey} tripleo::profile::base::ceph::rgw::keystone_admin_token: {get_param: AdminToken} tripleo::profile::base::ceph::rgw::keystone_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} tripleo::profile::base::ceph::rgw::civetweb_bind_ip: {get_param: [ServiceNetMap, CephRgwNetwork]} tripleo::profile::base::ceph::rgw::civetweb_bind_port: {get_param: [EndpointMap, CephRgwInternal, port]} tripleo::profile::base::ceph::rgw::rgw_keystone_version: v3 ceph::profile::params::rgw_keystone_admin_domain: default ceph::profile::params::rgw_keystone_admin_project: service ceph::profile::params::rgw_keystone_admin_user: swift ceph::profile::params::rgw_keystone_admin_password: {get_param: SwiftPassword} tripleo.ceph_rgw.firewall_rules: '122 ceph rgw': dport: {get_param: [EndpointMap, CephRgwInternal, port]} step_config: | include ::tripleo::profile::base::ceph::rgw service_config_settings: keystone: ceph::rgw::keystone::auth::public_url: {get_param: [EndpointMap, CephRgwPublic, uri]} ceph::rgw::keystone::auth::internal_url: {get_param: [EndpointMap, CephRgwInternal, uri]} ceph::rgw::keystone::auth::admin_url: {get_param: [EndpointMap, CephRgwAdmin, uri]} ceph::rgw::keystone::auth::region: {get_param: KeystoneRegion} ceph::rgw::keystone::auth::roles: [ 'admin', 'Member' ] ceph::rgw::keystone::auth::tenant: service ceph::rgw::keystone::auth::user: swift ceph::rgw::keystone::auth::password: {get_param: SwiftPassword} upgrade_tasks: - name: Gather RGW instance ID tags: common shell: hiera -c /etc/puppet/hiera.yaml ceph::profile::params::rgw_name radosgw.gateway register: rgw_id - name: Check if ceph_rgw is deployed command: systemctl is-enabled ceph-radosgw@{{rgw_id.stdout}} tags: common ignore_errors: True register: ceph_rgw_enabled - name: Check status shell: /usr/bin/systemctl show ceph-radosgw@{{rgw_id.stdout}} --property ActiveState | grep '\bactive\b' when: - step|int == 0 - ceph_rgw_enabled.rc == 0 tags: validation - name: Stop RGW instance when: - step|int == 1 - ceph_rgw_enabled.rc == 0 service: name: ceph-radosgw@{{rgw_id.stdout}} state: stopped ",0,1289
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I83e57317e2c56260957be90c66290a41a926835a,openstack/tripleo-heat-templates,stable/queens,I83e57317e2c56260957be90c66290a41a926835a,Honor {{role.name}}ExtraConfig with deprecated params,MERGED,2018-03-27 13:59:02.000000000,2018-05-23 13:19:24.000000000,2018-03-29 07:35:59.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-27 13:59:02.000000000', 'files': ['releasenotes/notes/use-role-name-ExtraConfig-with-deprecations-2688f34fbc6de74a.yaml', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2e19a5a0a5229d1d12d4ecd3a7bb82faa4e9bf9', 'message': 'Honor {{role.name}}ExtraConfig with deprecated params\n\n{{role.name}}ExtraConfig was previously ignored if the role used\ndeprecated params in roles_data.yaml. This was due to the usage of\nserver_resource_name in the ExtraConfig resource, where\nservice_resource_name also defaulted to\ndeprecated_service_resource_name. So, the new {{role.name}}ExtraConfig\nwas never actually used.\n\nChange-Id: I83e57317e2c56260957be90c66290a41a926835a\nCloses-Bug: #1758343\n(cherry picked from commit fa4b3e2a3c634c8f1a18087e508d585a693aa84b)\n'}]",0,556862,f2e19a5a0a5229d1d12d4ecd3a7bb82faa4e9bf9,8,3,1,7144,,,0,"Honor {{role.name}}ExtraConfig with deprecated params

{{role.name}}ExtraConfig was previously ignored if the role used
deprecated params in roles_data.yaml. This was due to the usage of
server_resource_name in the ExtraConfig resource, where
service_resource_name also defaulted to
deprecated_service_resource_name. So, the new {{role.name}}ExtraConfig
was never actually used.

Change-Id: I83e57317e2c56260957be90c66290a41a926835a
Closes-Bug: #1758343
(cherry picked from commit fa4b3e2a3c634c8f1a18087e508d585a693aa84b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/556862/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/use-role-name-ExtraConfig-with-deprecations-2688f34fbc6de74a.yaml', 'puppet/role.role.j2.yaml']",2,f2e19a5a0a5229d1d12d4ecd3a7bb82faa4e9bf9,bug/1758343-stable/queens, - {get_param: {{role.name}}ExtraConfig}, - {get_param: {{server_resource_name}}ExtraConfig},7,1
openstack%2Fpython-swiftclient~master~I37d1d50fb88b35e72b017d5dfbf148c35ac7e323,openstack/python-swiftclient,master,I37d1d50fb88b35e72b017d5dfbf148c35ac7e323,Switch from oslosphinx to openstackdocstheme,MERGED,2018-03-15 15:28:59.000000000,2018-05-23 13:12:33.000000000,2018-05-23 13:12:33.000000000,"[{'_account_id': 330}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 4608}, {'_account_id': 6968}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27068}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-03-15 15:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/c3ad5b28e6f8f1937b7437eba6f8caa3b6331f11', 'message': 'Change python-swiftclient webpage from oslosphinx to openstackdocstheme\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\n'}, {'number': 2, 'created': '2018-03-15 16:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/de6289289ce00ea042f65e92380bac475de5deee', 'message': 'Change python-swiftclient webpage from oslosphinx to openstackdocstheme\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\n'}, {'number': 3, 'created': '2018-03-26 13:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/c11829a9f9c5c0d74901250cbb1b57972026f917', 'message': 'Change python-swiftclient webpage from oslosphinx to openstackdocstheme\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\n'}, {'number': 4, 'created': '2018-04-16 04:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/bb8d0a798527be9162f5d914f2360c7ee2582d91', 'message': 'Change python-swiftclient webpage from oslosphinx to openstackdocstheme\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\n'}, {'number': 5, 'created': '2018-04-16 06:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/0267d557ac2a3c90d5aa95217581177c5ced7550', 'message': 'Change python-swiftclient webpage to openstackdocstheme\n\nopenstackdocstheme is a theme and extension support for\nSphinx documentation that is published to docs.openstack.org\nand developer.openstack.org.\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\nDepends-On: https://review.openstack.org/#/c/556192/\n'}, {'number': 6, 'created': '2018-04-16 10:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/c7d891274099db8c5cff938cfbcbb70dbbed5005', 'message': 'Change python-swiftclient webpage to openstackdocstheme\n\nopenstackdocstheme is a theme and extension support for\nSphinx documentation that is published to docs.openstack.org\nand developer.openstack.org.\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\nDepends-On: https://review.openstack.org/#/c/556192/\n'}, {'number': 7, 'created': '2018-04-16 10:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/d1aab0070a73e867199ad1580962215fe14cdad8', 'message': 'Change python-swiftclient webpage to openstackdocstheme\n\nopenstackdocstheme is a theme and extension support for\nSphinx documentation that is published to docs.openstack.org\nand developer.openstack.org.\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\nDepends-On: https://review.openstack.org/#/c/556192/\n'}, {'number': 8, 'created': '2018-04-17 06:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/a0bd3dafaa9541f90bb6ce61a53c121726285878', 'message': 'Change python-swiftclient webpage to openstackdocstheme\n\nopenstackdocstheme is a theme and extension support for\nSphinx documentation that is published to docs.openstack.org\nand developer.openstack.org.\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\n'}, {'number': 9, 'created': '2018-04-26 01:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/be95d079b31ff781f5883031ace78b4c4f25411c', 'message': 'Change python-swiftclient webpage to openstackdocstheme\n\nopenstackdocstheme is a theme and extension support for\nSphinx documentation that is published to docs.openstack.org\nand developer.openstack.org.\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\nDepends-On: https://review.openstack.org/#/c/556192/\n'}, {'number': 10, 'created': '2018-04-26 01:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/354084c7ad68105514026a3cb1d3e8de68ed4aa7', 'message': 'Change python-swiftclient webpage to openstackdocstheme\n\nopenstackdocstheme is a theme and extension support for\nSphinx documentation that is published to docs.openstack.org\nand developer.openstack.org.\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\nDepends-On: https://review.openstack.org/#/c/556192/\n'}, {'number': 11, 'created': '2018-05-16 11:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/6432afc492dc46e9b9bf9afd9588a8e54cbc9245', 'message': 'Change python-swiftclient webpage to openstackdocstheme\n\nopenstackdocstheme is a theme and extension support for\nSphinx documentation that is published to docs.openstack.org\nand developer.openstack.org.\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\nDepends-On: https://review.openstack.org/#/c/556192/\n'}, {'number': 12, 'created': '2018-05-16 12:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/cb27be5d4ed1e548c9dc7ef168a07834b76657f1', 'message': 'Switch from oslosphinx to openstackdocstheme\n\nopenstackdocstheme is a theme and extension support for\nSphinx documentation that is published to docs.openstack.org\nand developer.openstack.org.\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\n'}, {'number': 13, 'created': '2018-05-23 01:54:48.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/78b839007294b7c9e7fd0402801775283a4045bc', 'message': 'Switch from oslosphinx to openstackdocstheme\n\nopenstackdocstheme is a theme and extension support for\nSphinx documentation that is published to docs.openstack.org\nand developer.openstack.org.\n\nChange-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323\n'}]",0,553433,78b839007294b7c9e7fd0402801775283a4045bc,41,14,13,27153,,,0,"Switch from oslosphinx to openstackdocstheme

openstackdocstheme is a theme and extension support for
Sphinx documentation that is published to docs.openstack.org
and developer.openstack.org.

Change-Id: I37d1d50fb88b35e72b017d5dfbf148c35ac7e323
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/33/553433/13 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py']",2,c3ad5b28e6f8f1937b7437eba6f8caa3b6331f11,," 'sphinx.ext.coverage', 'openstackdocstheme']html_theme = 'openstackdocs'"," 'sphinx.ext.coverage', 'oslosphinx']#html_theme = 'nature'",3,4
openstack%2Fpuppet-openstack-integration~master~Ia51035d644340de111e1274cbf890258f0116c83,openstack/puppet-openstack-integration,master,Ia51035d644340de111e1274cbf890258f0116c83,Switch placement to apache for Debian + SSL,ABANDONED,2018-05-18 14:34:58.000000000,2018-05-23 12:52:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-18 14:34:58.000000000', 'files': ['manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/064119a3f61f0a47756c4c3d8d23535010ea4697', 'message': ""Switch placement to apache for Debian + SSL\n\nIt looks like the uwsgi setup doesn't work when activating SSL. So we're\nswitching to Apache mod_wsgi in such case.\n\nDepends-On: I0fd721e4f409987b903e370a7b1fbee7e4b03022\nChange-Id: Ia51035d644340de111e1274cbf890258f0116c83\n""}]",0,569432,064119a3f61f0a47756c4c3d8d23535010ea4697,3,1,1,6476,,,0,"Switch placement to apache for Debian + SSL

It looks like the uwsgi setup doesn't work when activating SSL. So we're
switching to Apache mod_wsgi in such case.

Depends-On: I0fd721e4f409987b903e370a7b1fbee7e4b03022
Change-Id: Ia51035d644340de111e1274cbf890258f0116c83
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/32/569432/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/nova.pp'],1,064119a3f61f0a47756c4c3d8d23535010ea4697,debian-placement-on-apache," if ($::os_package_type == 'debian') and ($::openstack_integration::config::ssl == false) { $nova_placement_service_name = 'nova-placement-api' } else { $nova_placement_service_name = 'httpd' } if ($nova_placement_service_name == 'nova-placement-api') { if ($nova_placement_service_name == 'httpd') { auth_url => $::openstack_integration::config::keystone_admin_uri, password => 'a_big_secret', service_name => $nova_placement_service_name,"," if ($::os_package_type == 'debian') { if ($::os_package_type != 'debian') { auth_url => $::openstack_integration::config::keystone_admin_uri, password => 'a_big_secret',",11,4
openstack%2Fpuppet-nova~master~I0fd721e4f409987b903e370a7b1fbee7e4b03022,openstack/puppet-nova,master,I0fd721e4f409987b903e370a7b1fbee7e4b03022,Deb: shutdown placement-api if using httpd,ABANDONED,2018-05-18 14:24:22.000000000,2018-05-23 12:51:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-18 14:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/24471ab127ebfc1fbf9c0774e46ba3676feedfbd', 'message': ""Deb: shutdown placement-api if using httpd\n\nLooks like nova-placement-api on uwsgi doesn't work over SSL, or it would\nbe too hard to setup. So, let's first disable nova-placement-api if we're\nusing httpd. Later patch will be on p-o-i to switch to Apache.\n\nChange-Id: I0fd721e4f409987b903e370a7b1fbee7e4b03022\n""}, {'number': 2, 'created': '2018-05-18 14:35:35.000000000', 'files': ['manifests/placement.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e4aa267a4af380aca6cfbe366a8247c34d72bce3', 'message': ""Deb: shutdown placement-api if using httpd\n\nLooks like nova-placement-api on uwsgi doesn't work over SSL, or it would\nbe too hard to setup. So, let's first disable nova-placement-api if we're\nusing httpd. Later patch will be on p-o-i to switch to Apache.\n\nNeeded-By: Ia51035d644340de111e1274cbf890258f0116c83\nChange-Id: I0fd721e4f409987b903e370a7b1fbee7e4b03022\n""}]",0,569426,e4aa267a4af380aca6cfbe366a8247c34d72bce3,4,1,2,6476,,,0,"Deb: shutdown placement-api if using httpd

Looks like nova-placement-api on uwsgi doesn't work over SSL, or it would
be too hard to setup. So, let's first disable nova-placement-api if we're
using httpd. Later patch will be on p-o-i to switch to Apache.

Needed-By: Ia51035d644340de111e1274cbf890258f0116c83
Change-Id: I0fd721e4f409987b903e370a7b1fbee7e4b03022
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/26/569426/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/placement.pp'],1,24471ab127ebfc1fbf9c0774e46ba3676feedfbd,debian-disable-placement-api," include ::apache::params service { 'nova-placement-api': ensure => 'stopped', name => $::nova::params::placement_service_name, enable => false, }",,7,0
openstack%2Fopenstack-ansible~master~I1b95c70fa77840d3defdde92f6723b066ef737d0,openstack/openstack-ansible,master,I1b95c70fa77840d3defdde92f6723b066ef737d0,Move radosgw keystone config tasks to their own playbook,MERGED,2018-05-02 11:09:19.000000000,2018-05-23 12:40:18.000000000,2018-05-23 12:40:18.000000000,"[{'_account_id': 2799}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-05-02 11:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b874a6aacee6cd28e0f3a136512907e60eca93c9', 'message': 'Move radosgw keystone config tasks to their own playbook\n\nThis is a precursor to integrating externally provisioned radosgw\ninstances which require keystone config but not deployment via OSA.\n\nChange-Id: I1b95c70fa77840d3defdde92f6723b066ef737d0\n'}, {'number': 2, 'created': '2018-05-03 11:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5039076b599b373ddd5ed1d96d3f3bf9abf1f4b9', 'message': 'Move radosgw keystone config tasks to their own playbook\n\nThis is a precursor to integrating externally provisioned radosgw\ninstances which require keystone config but not deployment via OSA.\n\nChange-Id: I1b95c70fa77840d3defdde92f6723b066ef737d0\n'}, {'number': 3, 'created': '2018-05-03 13:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/689e003b274415a13e94d3bc5c21828e00758a9d', 'message': 'Move radosgw keystone config tasks to their own playbook\n\nThis is a precursor to integrating externally provisioned radosgw\ninstances which require keystone config but not deployment via OSA.\n\nChange-Id: I1b95c70fa77840d3defdde92f6723b066ef737d0\n'}, {'number': 4, 'created': '2018-05-14 12:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/db2dce7914ab2883013c3b0c3718b9f80dbbf2fb', 'message': 'Move radosgw keystone config tasks to their own playbook\n\nThis is a precursor to integrating externally provisioned radosgw\ninstances which require keystone config but not deployment via OSA.\n\nChange-Id: I1b95c70fa77840d3defdde92f6723b066ef737d0\n'}, {'number': 5, 'created': '2018-05-14 19:26:15.000000000', 'files': ['inventory/group_vars/all/ceph-rgw.yml', 'playbooks/ceph-rgw-install.yml', 'playbooks/ceph-rgw-keystone-setup.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/group_vars/ceph-rgw.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/79f745ca099462a46ad697b9fec9ebf7c8cf340e', 'message': 'Move radosgw keystone config tasks to their own playbook\n\nThis is a precursor to integrating externally provisioned radosgw\ninstances which require keystone config but not deployment via OSA.\n\nChange-Id: I1b95c70fa77840d3defdde92f6723b066ef737d0\n'}]",0,565701,79f745ca099462a46ad697b9fec9ebf7c8cf340e,26,6,5,25023,,,0,"Move radosgw keystone config tasks to their own playbook

This is a precursor to integrating externally provisioned radosgw
instances which require keystone config but not deployment via OSA.

Change-Id: I1b95c70fa77840d3defdde92f6723b066ef737d0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/01/565701/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ceph-rgw-install.yml', 'playbooks/ceph-rgw-keystone-setup.yml']",2,b874a6aacee6cd28e0f3a136512907e60eca93c9,external-rgw,"--- # Copyright 2017, Logan Vig <logan2211@gmail.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Configure keystone for radosgw hosts: ""{{ groups['utility_all'][0] }}"" user: root tasks: - name: Ensure RGW service keystone: command: ""ensure_service"" endpoint: ""{{ keystone_service_adminurl }}"" login_user: ""{{ keystone_admin_user_name }}"" login_password: ""{{ keystone_auth_admin_password }}"" login_project_name: ""{{ keystone_admin_tenant_name }}"" service_name: ""{{ radosgw_service_name }}"" service_type: ""{{ radosgw_service_type }}"" description: ""{{ radosgw_service_description }}"" insecure: ""{{ keystone_service_adminuri_insecure }}"" register: add_service until: add_service|success retries: 5 delay: 2 no_log: True tags: - ceph-rgw-setup - rgw-service-add - name: Ensure RGW user keystone: command: ""ensure_user"" endpoint: ""{{ keystone_service_adminurl }}"" login_user: ""{{ keystone_admin_user_name }}"" login_password: ""{{ keystone_auth_admin_password }}"" login_project_name: ""{{ keystone_admin_tenant_name }}"" user_name: ""{{ radosgw_admin_user }}"" tenant_name: ""{{ radosgw_admin_tenant }}"" role_name: ""{{ radosgw_role_name | default('service') }}"" password: ""{{ radosgw_admin_password }}"" insecure: ""{{ keystone_service_adminuri_insecure }}"" register: add_user until: add_user|success retries: 5 delay: 10 no_log: True tags: - ceph-rgw-setup - rgw-service-add - name: Ensure RGW user to admin role keystone: command: ""ensure_user_role"" endpoint: ""{{ keystone_service_adminurl }}"" login_user: ""{{ keystone_admin_user_name }}"" login_password: ""{{ keystone_auth_admin_password }}"" login_project_name: ""{{ keystone_admin_tenant_name }}"" user_name: ""{{ radosgw_admin_user }}"" tenant_name: ""{{ radosgw_admin_tenant }}"" role_name: ""{{ radosgw_role_name | default('admin') }}"" insecure: ""{{ keystone_service_adminuri_insecure }}"" register: add_admin_role until: add_admin_role|success retries: 5 delay: 10 no_log: True tags: - ceph-rgw-setup - rgw-service-add - name: Ensure swiftoperator role keystone: command: ""ensure_role"" endpoint: ""{{ keystone_service_adminurl }}"" login_user: ""{{ keystone_admin_user_name }}"" login_password: ""{{ keystone_auth_admin_password }}"" login_project_name: ""{{ keystone_admin_tenant_name }}"" role_name: ""swiftoperator"" insecure: ""{{ keystone_service_adminuri_insecure }}"" register: add_swiftoperator_role until: add_swiftoperator_role|success retries: 5 delay: 10 no_log: True tags: - ceph-rgw-setup - rgw-service-add - name: Ensure RGW endpoint keystone: command: ""ensure_endpoint"" endpoint: ""{{ keystone_service_adminurl }}"" login_user: ""{{ keystone_admin_user_name }}"" login_password: ""{{ keystone_auth_admin_password }}"" login_project_name: ""{{ keystone_admin_tenant_name }}"" region_name: ""{{ radosgw_service_region }}"" service_name: ""{{ radosgw_service_name }}"" service_type: ""{{ radosgw_service_type }}"" insecure: ""{{ keystone_service_adminuri_insecure }}"" endpoint_list: - url: ""{{ radosgw_service_publicurl }}"" interface: ""public"" - url: ""{{ radosgw_service_adminurl }}"" interface: ""admin"" - url: ""{{ radosgw_service_internalurl }}"" interface: ""internal"" register: add_endpoint until: add_endpoint|success retries: 5 delay: 10 no_log: True tags: - ceph-rgw-setup - rgw-service-add tags: - ceph-rgw ",,130,121
openstack%2Fswift~master~I751f1086d885c18d938f18e8afe1dd0e9c0c57e5,openstack/swift,master,I751f1086d885c18d938f18e8afe1dd0e9c0c57e5,Use maybe_get more,MERGED,2018-05-22 22:04:45.000000000,2018-05-23 12:28:27.000000000,2018-05-23 12:28:27.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 22:04:45.000000000', 'files': ['test/unit/common/test_db.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6714af804270ee33479fb0caa185a5c5eeec4479', 'message': 'Use maybe_get more\n\nSome suggestions in the review of the related change:\n\n * use maybe_get in another obvious place\n * make maybe_gets test assertions stronger\n\nRelated-Change-Id: Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129\n\nChange-Id: I751f1086d885c18d938f18e8afe1dd0e9c0c57e5\n'}]",0,570068,6714af804270ee33479fb0caa185a5c5eeec4479,7,3,1,1179,,,0,"Use maybe_get more

Some suggestions in the review of the related change:

 * use maybe_get in another obvious place
 * make maybe_gets test assertions stronger

Related-Change-Id: Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129

Change-Id: I751f1086d885c18d938f18e8afe1dd0e9c0c57e5
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/570068/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_db.py', 'swift/container/backend.py']",2,6714af804270ee33479fb0caa185a5c5eeec4479,567940, with self.maybe_get(conn) as conn:, if conn: else: with self.get() as conn: self._do_get_info_query(conn),2,5
openstack%2Fironic~stable%2Fqueens~Iac0639f2884d95afd2d55b521268139ea0ca05f6,openstack/ironic,stable/queens,Iac0639f2884d95afd2d55b521268139ea0ca05f6,Mark xclarity password as secret,MERGED,2018-05-10 16:25:15.000000000,2018-05-23 12:28:24.000000000,2018-05-23 12:28:24.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-10 16:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/017a453414ac35c03b6ec9dd0ab8049d9e04b2a5', 'message': 'Mark xclarity password as secret\n\nso it is masked during logging.\n\nChange-Id: Iac0639f2884d95afd2d55b521268139ea0ca05f6\n'}, {'number': 2, 'created': '2018-05-13 13:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ff74ddb0b807344a4d2742fe9db2a8e1e85bd58', 'message': 'Mark xclarity password as secret\n\nso it is masked during logging.\n\nChange-Id: Iac0639f2884d95afd2d55b521268139ea0ca05f6\n(cherry picked from commit b87a5cfd2088161ad15a4595bb41561d14c08a15)\n'}, {'number': 3, 'created': '2018-05-17 10:22:43.000000000', 'files': ['releasenotes/notes/xclarity-mask-password-9fe7605ece7689c3.yaml', 'ironic/conf/xclarity.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7e23802cd82f4750848bc4c0d04cf4ec2e1cdf5', 'message': 'Mark xclarity password as secret\n\nso it is masked during logging.\n\nConflicts:\n       ironic/conf/xclarity.py\n\nChange-Id: Iac0639f2884d95afd2d55b521268139ea0ca05f6\nStory: #2002023\nTask: #19664\n(cherry picked from commit 2d46f483759a77c78f317a331e34a0b768e661f8)\n'}]",0,567639,f7e23802cd82f4750848bc4c0d04cf4ec2e1cdf5,25,9,3,11655,,,0,"Mark xclarity password as secret

so it is masked during logging.

Conflicts:
       ironic/conf/xclarity.py

Change-Id: Iac0639f2884d95afd2d55b521268139ea0ca05f6
Story: #2002023
Task: #19664
(cherry picked from commit 2d46f483759a77c78f317a331e34a0b768e661f8)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/567639/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conf/xclarity.py'],1,017a453414ac35c03b6ec9dd0ab8049d9e04b2a5,xclarity-secret-password-queens," secret=True,",,1,0
openstack%2Fcharm-percona-cluster~master~I7d82e8bea2e75da6159b5baf2e88f2bd44ce84b3,openstack/charm-percona-cluster,master,I7d82e8bea2e75da6159b5baf2e88f2bd44ce84b3,Make pxc-strict-mode configurable via charm,MERGED,2018-04-30 17:02:00.000000000,2018-05-23 12:26:17.000000000,2018-05-23 12:26:17.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 11237}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24297}]","[{'number': 1, 'created': '2018-04-30 17:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/9375ef4110fa431ee3d7ff2c992650042db709ce', 'message': ""Make pxc-strict-mode configurable via charm\n\nPXC5.7, which is default one on bionic, introduces the new config\noption, pxc_stric_mode, which is set to 'enforcing' by default.\n\nThis, however, prevents installing older versions of Openstack\nwith PXC5.7 on bionic (use case is, of course, testing).\n\nThis change makes pxc-strict-mode configurable via the charm, and\nit defaults it to 'enforcing', but user can change it at hers or\nhis desire.\n\nThis option is going to be ignored on PXC installed on series less\nthan bionic.\n\nChange-Id: I7d82e8bea2e75da6159b5baf2e88f2bd44ce84b3\n""}, {'number': 2, 'created': '2018-05-21 17:04:47.000000000', 'files': ['config.yaml', 'hooks/percona_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/4ca460d56b025b541ad6ee41baf10852ed48aed0', 'message': ""Make pxc-strict-mode configurable via charm\n\nPXC5.7, which is default one on bionic, introduces the new config\noption, pxc_stric_mode, which is set to 'enforcing' by default.\n\nThis, however, prevents installing older versions of Openstack\nwith PXC5.7 on bionic (use case is, of course, testing).\n\nThis change makes pxc-strict-mode configurable via the charm, and\nit defaults it to 'enforcing', but user can change it at hers or\nhis desire.\n\nThis option is going to be ignored on PXC installed on series less\nthan bionic.\n\nChange-Id: I7d82e8bea2e75da6159b5baf2e88f2bd44ce84b3\n""}]",2,565258,4ca460d56b025b541ad6ee41baf10852ed48aed0,22,7,2,11237,,,0,"Make pxc-strict-mode configurable via charm

PXC5.7, which is default one on bionic, introduces the new config
option, pxc_stric_mode, which is set to 'enforcing' by default.

This, however, prevents installing older versions of Openstack
with PXC5.7 on bionic (use case is, of course, testing).

This change makes pxc-strict-mode configurable via the charm, and
it defaults it to 'enforcing', but user can change it at hers or
his desire.

This option is going to be ignored on PXC installed on series less
than bionic.

Change-Id: I7d82e8bea2e75da6159b5baf2e88f2bd44ce84b3
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/58/565258/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'hooks/percona_hooks.py']",2,9375ef4110fa431ee3d7ff2c992650042db709ce,configure-pxc-strict-mode, context['pxc_strict_mode'] = config('pxc-strict-mode'), context['pxc_strict_mode'] = 'ENFORCING',11,1
openstack%2Fcharm-nova-compute~master~Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd,openstack/charm-nova-compute,master,Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd,Add action to retrieve hugepage config,MERGED,2017-08-29 18:56:32.000000000,2018-05-23 12:25:39.000000000,2018-05-23 12:25:39.000000000,"[{'_account_id': 3}, {'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 15382}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-29 18:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ff3df0908df412f3b26c77192affa552ef38fbdf', 'message': 'Add action to retrieve hugepage config\n\nReturn current hugepage usage and kernel cmdline\nfor static hugepage allocation\n\nChange-Id: Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd\n'}, {'number': 2, 'created': '2017-11-24 18:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/3439ebe471e98cd93caf407f3eed47657144f539', 'message': 'Add action to retrieve hugepage config\n\nReturn current hugepage usage and kernel cmdline\nfor static hugepage allocation\n\nChange-Id: Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd\nCloses-Bug: #1734360\n'}, {'number': 3, 'created': '2018-05-16 19:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/07151f1f39fb3c228c9a92c0277adc16659c7443', 'message': 'Add action to retrieve hugepage config\n\nReturn current hugepage usage and kernel cmdline\nfor static hugepage allocation\n\nChange-Id: Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd\nCloses-Bug: #1734360\n'}, {'number': 4, 'created': '2018-05-16 20:22:58.000000000', 'files': ['actions/hugepagereport', 'tests/basic_deployment.py', 'actions/hugepagereport.py', 'unit_tests/test_actions_hugepagereport.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/bd9e853604eed9d46dfffbb9a7563a506bcb6a10', 'message': 'Add action to retrieve hugepage config\n\nReturn current hugepage usage and kernel cmdline\nfor static hugepage allocation\n\nChange-Id: Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd\nCloses-Bug: #1734360\n'}]",6,498912,bd9e853604eed9d46dfffbb9a7563a506bcb6a10,28,7,4,15382,,,0,"Add action to retrieve hugepage config

Return current hugepage usage and kernel cmdline
for static hugepage allocation

Change-Id: Ib34b2d7c3da5aacd117b19249be41bb95b91dfcd
Closes-Bug: #1734360
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/12/498912/4 && git format-patch -1 --stdout FETCH_HEAD,"['actions/hugepagereport', 'actions/hugepagereport.py', 'unit_tests/test_actions_hugepagereport.py', 'actions.yaml']",4,ff3df0908df412f3b26c77192affa552ef38fbdf,bug/1734360, description: Resume the nova_compute unit. This action will start nova_compute services. hugepagereport: description: Report on hugepage configuration and usage, descrpition: Resume the nova_compute unit. This action will start nova_compute services.,109,1
openstack%2Fopenstack-ansible-os_neutron~master~I6fa28dcdb251da4592e10b288d15a208e83b097d,openstack/openstack-ansible-os_neutron,master,I6fa28dcdb251da4592e10b288d15a208e83b097d,Use octavia_service_internaluri instead of url,MERGED,2018-03-02 15:46:23.000000000,2018-05-23 12:01:51.000000000,2018-05-23 12:01:51.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 26405}]","[{'number': 1, 'created': '2018-03-02 15:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/3335d9b39bce76709e9426641a0f9b9e3209c044', 'message': 'Change Octavia internal url variable\n\nChange Octavia internal url name to match other services\n\nChange-Id: I6fa28dcdb251da4592e10b288d15a208e83b097d\n'}, {'number': 2, 'created': '2018-05-18 11:31:18.000000000', 'files': ['templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b479bd757be1960091f98cba42959815555ff1e2', 'message': ""Use octavia_service_internaluri instead of url\n\nWe were setting octavia v1 url in group_vars, but this url is the same\nas octavia v2 internal uri. So no need to create an additional variable\nfor that, and instead we'll use the available uri variable.\n\nChange-Id: I6fa28dcdb251da4592e10b288d15a208e83b097d\n""}]",2,549267,b479bd757be1960091f98cba42959815555ff1e2,17,4,2,26405,,,0,"Use octavia_service_internaluri instead of url

We were setting octavia v1 url in group_vars, but this url is the same
as octavia v2 internal uri. So no need to create an additional variable
for that, and instead we'll use the available uri variable.

Change-Id: I6fa28dcdb251da4592e10b288d15a208e83b097d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/67/549267/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron.conf.j2'],1,3335d9b39bce76709e9426641a0f9b9e3209c044,octavia_variable,base_url= {{ octavia_service_internalurl_v1 }},base_url= {{ octavia_service_url }},1,1
openstack%2Fswift~master~Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129,openstack/swift,master,Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129,Add a helper context for optional connection args,MERGED,2018-05-22 21:17:40.000000000,2018-05-23 12:01:33.000000000,2018-05-23 12:01:33.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 21:17:40.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2e321d94ed59c8068595b597f8de1c8fc9a2c0a3', 'message': ""Add a helper context for optional connection args\n\nWe refactor a bunch of methods to support re-using an open connection\nwhen available.  There's some code in the connection manager to support\nnesting connections to avoid deadlocks when we call a method that can\nopen a connection while we already have a connection checked out - but\nit might be better in the long run if we just got better at passing open\nconnections around whenever possible.\n\nAdd a helper method on the base db broker class to make it easier to\nwrite methods that can optionally take an existing connection.\n\nChange-Id: Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129\n""}]",5,570058,2e321d94ed59c8068595b597f8de1c8fc9a2c0a3,8,4,1,1179,,,0,"Add a helper context for optional connection args

We refactor a bunch of methods to support re-using an open connection
when available.  There's some code in the connection manager to support
nesting connections to avoid deadlocks when we call a method that can
open a connection while we already have a connection checked out - but
it might be better in the long run if we just got better at passing open
connections around whenever possible.

Add a helper method on the base db broker class to make it easier to
write methods that can optionally take an existing connection.

Change-Id: Ifd54d76ab1a5a9d82848f3cae89c3e53134aa129
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/570058/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/common/test_db.py', 'swift/container/backend.py']",3,2e321d94ed59c8068595b597f8de1c8fc9a2c0a3,567940, with self.maybe_get(connection) as conn: return do_query(conn), if connection: return do_query(connection) else: with self.get() as conn: return do_query(conn),29,5
openstack%2Fmonasca-agent~master~I098a85d2231370ad599d7a9d1ef7b97d4d6ceda4,openstack/monasca-agent,master,I098a85d2231370ad599d7a9d1ef7b97d4d6ceda4,fix misspelling of 'monasca',MERGED,2018-05-21 06:00:02.000000000,2018-05-23 12:00:43.000000000,2018-05-23 12:00:42.000000000,"[{'_account_id': 11809}, {'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 06:00:02.000000000', 'files': ['monasca_setup/detection/plugins/mon.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/38436b0b6d8331621e7b95258ee82a5ea062c472', 'message': ""fix misspelling of 'monasca'\n\nChange-Id: I098a85d2231370ad599d7a9d1ef7b97d4d6ceda4\n""}]",0,569705,38436b0b6d8331621e7b95258ee82a5ea062c472,8,4,1,17130,,,0,"fix misspelling of 'monasca'

Change-Id: I098a85d2231370ad599d7a9d1ef7b97d4d6ceda4
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/05/569705/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/detection/plugins/mon.py'],1,38436b0b6d8331621e7b95258ee82a5ea062c472,trivial-fix, in monasca-persister and sets up new metrics to be monitored., in monaca-persister and sets up new metrics to be monitored.,1,1
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I77250ca84c9da2fb5a8381e6f60234f8a05cbf12,openstack/tripleo-heat-templates,stable/newton,I77250ca84c9da2fb5a8381e6f60234f8a05cbf12,Modify vhost user socket directory's default value in environment file,MERGED,2018-04-16 12:30:52.000000000,2018-05-23 12:00:42.000000000,2018-05-23 12:00:41.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-16 12:30:52.000000000', 'files': ['releasenotes/notes/vhost_default_dir-cac327a0ac05df90.yaml', 'environments/neutron-ovs-dpdk.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37f8be3d55feb9f1db7b8cdc06b325e51d20fc0a', 'message': ""Modify vhost user socket directory's default value in environment file\n\nFrom ocata, the vhost socket directory requires a different set of\npermissions from the default directory (/var/run/openvswitch). Modifying\nthe directory to a new agreed directory which will be created in puppet.\nCloses-Bug: #1687993\nDepends-On: I255f98c40869e7508ed01a03a96294284ecdc6a8\n\nChange-Id: I77250ca84c9da2fb5a8381e6f60234f8a05cbf12\n(cherry picked from commit 553b95da5131edffe27a8ceca9cd9766c4dca406)\n""}]",0,561602,37f8be3d55feb9f1db7b8cdc06b325e51d20fc0a,9,4,1,18575,,,0,"Modify vhost user socket directory's default value in environment file

From ocata, the vhost socket directory requires a different set of
permissions from the default directory (/var/run/openvswitch). Modifying
the directory to a new agreed directory which will be created in puppet.
Closes-Bug: #1687993
Depends-On: I255f98c40869e7508ed01a03a96294284ecdc6a8

Change-Id: I77250ca84c9da2fb5a8381e6f60234f8a05cbf12
(cherry picked from commit 553b95da5131edffe27a8ceca9cd9766c4dca406)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/561602/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vhost_default_dir-cac327a0ac05df90.yaml', 'environments/neutron-ovs-dpdk.yaml']",2,37f8be3d55feb9f1db7b8cdc06b325e51d20fc0a,bug/1687993-stable/newton," NeutronVhostuserSocketDir: ""/var/lib/vhost_sockets"""," NeutronVhostuserSocketDir: ""/var/run/openvswitch""",7,1
openstack%2Fansible-role-container-registry~master~I8fe347cd34af1cf158563ce1344d00c6e2df9f66,openstack/ansible-role-container-registry,master,I8fe347cd34af1cf158563ce1344d00c6e2df9f66,Use relative paths for data_files,MERGED,2018-05-23 01:30:54.000000000,2018-05-23 12:00:40.000000000,2018-05-23 12:00:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 01:30:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/10340cbd9ee109c31c94ac87dec1747203d6fd83', 'message': ""Use relative paths for data_files\n\npip install doesn't work with absolute paths\n\nChange-Id: I8fe347cd34af1cf158563ce1344d00c6e2df9f66\n""}]",1,570088,10340cbd9ee109c31c94ac87dec1747203d6fd83,7,3,1,4571,,,0,"Use relative paths for data_files

pip install doesn't work with absolute paths

Change-Id: I8fe347cd34af1cf158563ce1344d00c6e2df9f66
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/88/570088/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,10340cbd9ee109c31c94ac87dec1747203d6fd83,all-relative, share/ansible/roles/container-registry/defaults = defaults/* share/ansible/roles/container-registry/handlers = handlers/* share/ansible/roles/container-registry/meta = meta/* share/ansible/roles/container-registry/tasks = tasks/* share/ansible/roles/container-registry/templates = templates/* share/ansible/roles/container-registry/tests = tests/* share/ansible/roles/container-registry/vars = vars/* share/ansible/roles/container-registry/files = files/*, /usr/share/ansible/roles/container-registry/defaults = defaults/* /usr/share/ansible/roles/container-registry/handlers = handlers/* /usr/share/ansible/roles/container-registry/meta = meta/* /usr/share/ansible/roles/container-registry/tasks = tasks/* /usr/share/ansible/roles/container-registry/templates = templates/* /usr/share/ansible/roles/container-registry/tests = tests/* /usr/share/ansible/roles/container-registry/vars = vars/* /usr/share/ansible/roles/container-registry/files = files/*,8,8
openstack%2Ftripleo-heat-templates~master~I2f5bc355d3c952e2daf9ec7442850e24bed275e1,openstack/tripleo-heat-templates,master,I2f5bc355d3c952e2daf9ec7442850e24bed275e1,docker: cleanup update tasks,MERGED,2018-05-15 22:58:31.000000000,2018-05-23 12:00:39.000000000,2018-05-23 12:00:38.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-15 22:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0ee32a8103ca13cea87a106cd1ed45755785901', 'message': ""docker: cleanup update tasks\n\nUpdate tasks moved to the Ansible role itself, we don't need them in\nTHT. Let's do some cleanup.\n\nDepends-On: Ibde3d326b7e824fe09fafb9f46875b1e6739d299\nChange-Id: I2f5bc355d3c952e2daf9ec7442850e24bed275e1\n""}, {'number': 2, 'created': '2018-05-16 03:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d0b572551e881d62307c1c7c09972d038dcfbc4', 'message': ""docker: cleanup update tasks\n\nUpdate tasks moved to the Ansible role itself, we don't need them in\nTHT. Let's do some cleanup.\n\nDepends-On: Ibde3d326b7e824fe09fafb9f46875b1e6739d299\nChange-Id: I2f5bc355d3c952e2daf9ec7442850e24bed275e1\n""}, {'number': 3, 'created': '2018-05-16 17:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ca5f4d23201cb3e60386a41c4b9912e8292eba3', 'message': ""docker: cleanup update tasks\n\nUpdate tasks moved to the Ansible role itself, we don't need them in\nTHT. Let's do some cleanup.\n\nDepends-On: Ibde3d326b7e824fe09fafb9f46875b1e6739d299\nChange-Id: I2f5bc355d3c952e2daf9ec7442850e24bed275e1\n""}, {'number': 4, 'created': '2018-05-17 18:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78572a0d22360f9208e794110562282b61974deb', 'message': ""docker: cleanup update tasks\n\nUpdate tasks moved to the Ansible role itself, we don't need them in\nTHT. Let's do some cleanup.\n\nDepends-On: Ibde3d326b7e824fe09fafb9f46875b1e6739d299\nChange-Id: I2f5bc355d3c952e2daf9ec7442850e24bed275e1\n""}, {'number': 5, 'created': '2018-05-20 18:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/547c8f4588cb6e0ecdce86b5ddbbc9ad02ed2458', 'message': ""docker: cleanup update tasks\n\nUpdate tasks moved to the Ansible role itself, we don't need them in\nTHT. Let's do some cleanup.\n\nDepends-On: Ibde3d326b7e824fe09fafb9f46875b1e6739d299\nChange-Id: I2f5bc355d3c952e2daf9ec7442850e24bed275e1\n""}, {'number': 6, 'created': '2018-05-21 14:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5706adc07790d01c05d49652f04f5c924f61798d', 'message': ""docker: cleanup update tasks\n\nUpdate tasks moved to the Ansible role itself, we don't need them in\nTHT. Let's do some cleanup.\n\nDepends-On: Ibde3d326b7e824fe09fafb9f46875b1e6739d299\nChange-Id: I2f5bc355d3c952e2daf9ec7442850e24bed275e1\n""}, {'number': 7, 'created': '2018-05-22 20:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc617a20329cb995c36c2690699206d3631dafcc', 'message': ""docker: cleanup update tasks\n\nUpdate tasks moved to the Ansible role itself, we don't need them in\nTHT. Let's do some cleanup.\n\nChange-Id: I2f5bc355d3c952e2daf9ec7442850e24bed275e1\n""}, {'number': 8, 'created': '2018-05-22 20:32:21.000000000', 'files': ['puppet/services/docker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d10c0516b447d2b75dbe184c4097d931e0f0e6f', 'message': ""docker: cleanup update tasks\n\nUpdate tasks moved to the Ansible role itself, we don't need them in\nTHT. Let's do some cleanup.\n\nChange-Id: I2f5bc355d3c952e2daf9ec7442850e24bed275e1\n""}]",1,568715,6d10c0516b447d2b75dbe184c4097d931e0f0e6f,37,6,8,3153,,,0,"docker: cleanup update tasks

Update tasks moved to the Ansible role itself, we don't need them in
THT. Let's do some cleanup.

Change-Id: I2f5bc355d3c952e2daf9ec7442850e24bed275e1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/568715/8 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/docker.yaml'],1,b0ee32a8103ca13cea87a106cd1ed45755785901,cleanup/updates, vars: &docker_vars vars: *docker_vars block: - include_role: name: container-registry tasks_from: docker," vars: block: # TODO(emilien) # This block will move to ansible-role-container-registry - name: Is docker going to be updated shell: yum check-update docker register: docker_check_update failed_when: docker_check_update.rc not in [0, 100] changed_when: docker_check_update.rc == 100 - name: Set docker_rpm_needs_update fact set_fact: docker_rpm_needs_update={{ docker_check_update.rc == 100 }} - name: Stop all containers # xargs is preferable to docker stop $(docker ps -q) as that might generate a # a too long command line shell: docker ps -q | xargs --no-run-if-empty -n1 docker stop when: docker_rpm_needs_update - name: Stop docker service: name: docker state: stopped when: docker_rpm_needs_update - name: Update the docker package yum: name=docker state=latest update_cache=yes # cache for tripleo/+bug/1703830 when: docker_rpm_needs_update",5,23
openstack%2Fdevstack~master~I8e7c8407e83a2327fb4d30a7886f6edf6b432406,openstack/devstack,master,I8e7c8407e83a2327fb4d30a7886f6edf6b432406,Configure ml2 type drivers,ABANDONED,2018-05-22 18:30:48.000000000,2018-05-23 11:39:30.000000000,,"[{'_account_id': 2592}, {'_account_id': 8873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 18:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5e9edaaeb15fb33f6b4f1ce42bc5e663f9ec77aa', 'message': 'Configure ml2 type drivers\n\nOn my local fresh devstack, devstack was not configuring\nml2 type drivers, resulting in a failed stack as Neutron\ncould not create tenant networks.\n\nChange-Id: I8e7c8407e83a2327fb4d30a7886f6edf6b432406\n'}, {'number': 2, 'created': '2018-05-22 18:32:01.000000000', 'files': ['lib/neutron'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cd4428715daccb60ebcadde9fc7bb18552d61fec', 'message': 'Configure ml2 type drivers\n\nOn my local fresh devstack, devstack was not configuring\nml2 type drivers, resulting in a failed stack as Neutron\ncould not create tenant networks.\n\nChange-Id: I8e7c8407e83a2327fb4d30a7886f6edf6b432406\n'}]",0,570021,cd4428715daccb60ebcadde9fc7bb18552d61fec,9,6,2,8873,,,0,"Configure ml2 type drivers

On my local fresh devstack, devstack was not configuring
ml2 type drivers, resulting in a failed stack as Neutron
could not create tenant networks.

Change-Id: I8e7c8407e83a2327fb4d30a7886f6edf6b432406
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/570021/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,5e9edaaeb15fb33f6b4f1ce42bc5e663f9ec77aa,," iniset $NEUTRON_CORE_PLUGIN_CONF ml2 type_drivers flat,geneve,vlan,gre,local,vxlan",,1,0
openstack%2Fopenstack-ansible-tests~master~If5175f38eecc34e557d768495a3b60bfae90aefd,openstack/openstack-ansible-tests,master,If5175f38eecc34e557d768495a3b60bfae90aefd,Add app_armor_profile setting for Bionic integration,ABANDONED,2018-05-21 11:26:20.000000000,2018-05-23 11:36:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-21 11:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/db499511bdeedd569edc100a8d6544f3fa981665', 'message': 'Add app_armor_profile setting for Bionic integration\n\nThe app_armor_profile setting has changed names in lxc >= 3, which is\nthe default in 18.04. This is used in testing of the\nlxc_container_create role, this PR adds a var that will set the\napp_armor_profile_setting_name to the correct setting, so that the\ntesting will work for both 18.04 and other distros that are using lxc <\n3.\n\nChange-Id: If5175f38eecc34e557d768495a3b60bfae90aefd\n'}, {'number': 2, 'created': '2018-05-21 13:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/20bb28059062dd5a7bbf7a2774e5013ef0cd95ad', 'message': 'Add app_armor_profile setting for Bionic integration\n\nThe app_armor_profile setting has changed names in lxc >= 3, which is\nthe default in 18.04. This is used in testing of the\nlxc_container_create role, this PR adds a var that will set the\napp_armor_profile_setting_name to the correct setting, so that the\ntesting will work for both 18.04 and other distros that are using lxc <\n3.\n\nChange-Id: If5175f38eecc34e557d768495a3b60bfae90aefd\n'}, {'number': 3, 'created': '2018-05-21 13:43:24.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/647ac175007364cd520057fc21bae7dab6bd937d', 'message': 'Add app_armor_profile setting for Bionic integration\n\nThe app_armor_profile setting has changed names in lxc >= 3, which is\nthe default in 18.04. This is used in testing of the\nlxc_container_create role, this PR adds a var that will set the\napp_armor_profile_setting_name to the correct setting, so that the\ntesting will work for both 18.04 and other distros that are using lxc <\n3.\n\nChange-Id: If5175f38eecc34e557d768495a3b60bfae90aefd\n'}]",0,569780,647ac175007364cd520057fc21bae7dab6bd937d,6,1,3,2799,,,0,"Add app_armor_profile setting for Bionic integration

The app_armor_profile setting has changed names in lxc >= 3, which is
the default in 18.04. This is used in testing of the
lxc_container_create role, this PR adds a var that will set the
app_armor_profile_setting_name to the correct setting, so that the
testing will work for both 18.04 and other distros that are using lxc <
3.

Change-Id: If5175f38eecc34e557d768495a3b60bfae90aefd
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/80/569780/2 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,db499511bdeedd569edc100a8d6544f3fa981665,," # In lxc >= 3 the aa_profile setting has changed to app_armor_profile # This is default in ubuntu 18.04 app_armor_profile_setting_name: ""{{ (hostvars[physical_host]['ansible_distribution_version'] == ""18.04"") | ternary('lxc.apparmor.profile', lxc.aa_profile) }}""",,4,0
openstack%2Fswift~master~I536a8425f7e9f3dd95eacad783e1b7d7905b2b8d,openstack/swift,master,I536a8425f7e9f3dd95eacad783e1b7d7905b2b8d,Move handling of missing table outside of do_query,MERGED,2018-05-22 20:00:31.000000000,2018-05-23 11:06:15.000000000,2018-05-23 11:06:15.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 20:00:31.000000000', 'files': ['swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f68dd3bf10ceae6ea4dae484e5c8ce8a6e27a678', 'message': 'Move handling of missing table outside of do_query\n\nThis is more consistent with other DB migration code and reduces indent\nlevel in the meat of the query.\n\nChange-Id: I536a8425f7e9f3dd95eacad783e1b7d7905b2b8d\n'}]",2,570036,f68dd3bf10ceae6ea4dae484e5c8ce8a6e27a678,8,4,1,15343,,,0,"Move handling of missing table outside of do_query

This is more consistent with other DB migration code and reduces indent
level in the meat of the query.

Change-Id: I536a8425f7e9f3dd95eacad783e1b7d7905b2b8d
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/570036/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,f68dd3bf10ceae6ea4dae484e5c8ce8a6e27a678,567940," condition = '' conditions = [] params = [] if not include_deleted: conditions.append('deleted=0') if included_states: conditions.append('state in (%s)' % ','.join( '?' * len(included_states))) params.extend(included_states) if not include_own: conditions.append('name != ?') params.append(self.path) if exclude_others: conditions.append('name = ?') params.append(self.path) if conditions: condition = ' WHERE ' + ' AND '.join(conditions) sql = ''' SELECT %s FROM %s%s; ''' % (', '.join(SHARD_RANGE_KEYS), SHARD_RANGE_TABLE, condition) data = conn.execute(sql, params) data.row_factory = None return [row for row in data] try: if connection: return do_query(connection) else: with self.get() as conn: return do_query(conn) except sqlite3.OperationalError as err: if ('no such table: %s' % SHARD_RANGE_TABLE) not in str(err): raise return []"," try: condition = '' conditions = [] params = [] if not include_deleted: conditions.append('deleted=0') if included_states: conditions.append('state in (%s)' % ','.join( '?' * len(included_states))) params.extend(included_states) if not include_own: conditions.append('name != ?') params.append(self.path) if exclude_others: conditions.append('name = ?') params.append(self.path) if conditions: condition = ' WHERE ' + ' AND '.join(conditions) sql = ''' SELECT %s FROM %s%s; ''' % (', '.join(SHARD_RANGE_KEYS), SHARD_RANGE_TABLE, condition) data = conn.execute(sql, params) data.row_factory = None return [row for row in data] except sqlite3.OperationalError as err: if ('no such table: %s' % SHARD_RANGE_TABLE) not in str(err): raise return [] if connection: return do_query(connection) else: with self.get() as conn: return do_query(conn)",34,35
openstack%2Ftripleo-quickstart~master~Id734974a6ed19d31766c187f9ef2dc48739e312f,openstack/tripleo-quickstart,master,Id734974a6ed19d31766c187f9ef2dc48739e312f,Add overcloud-prep-config to the default tags,ABANDONED,2018-05-09 12:01:59.000000000,2018-05-23 10:37:08.000000000,,"[{'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-09 12:01:59.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5173a3c5e2dce98311191a0b82af8e546f462d72', 'message': 'Add overcloud-prep-config to the default tags\n\nThis is done in order to get the default tags to write\nnetwork-environment.yaml, which was not being written.\n\nChange-Id: Id734974a6ed19d31766c187f9ef2dc48739e312f\n'}]",0,567202,5173a3c5e2dce98311191a0b82af8e546f462d72,12,6,1,10873,,,0,"Add overcloud-prep-config to the default tags

This is done in order to get the default tags to write
network-environment.yaml, which was not being written.

Change-Id: Id734974a6ed19d31766c187f9ef2dc48739e312f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/02/567202/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,5173a3c5e2dce98311191a0b82af8e546f462d72,overcloud-prep-config,"DEFAULT_OPT_TAGS=""untagged,provision,environment,libvirt,undercloud-scripts,undercloud-inventory,overcloud-scripts,overcloud-prep-config,undercloud-setup,undercloud-install,undercloud-post-install,tripleoui-validate""","DEFAULT_OPT_TAGS=""untagged,provision,environment,libvirt,undercloud-scripts,undercloud-inventory,overcloud-scripts,undercloud-setup,undercloud-install,undercloud-post-install,tripleoui-validate""",1,1
openstack%2Ftripleo-ha-utils~master~I6293d7a065f8e531de6218f272a8b08844b3eb42,openstack/tripleo-ha-utils,master,I6293d7a065f8e531de6218f272a8b08844b3eb42,Fix the way iptables rules are managed,MERGED,2018-05-22 14:48:50.000000000,2018-05-23 10:27:50.000000000,2018-05-23 10:27:50.000000000,"[{'_account_id': 2101}, {'_account_id': 20936}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 14:48:50.000000000', 'files': ['roles/instance-ha/tasks/undo.yml', 'roles/instance-ha/tasks/apply.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/20bbd0f45607a4f5ba6036b2326e2d3153f1ce92', 'message': ""Fix the way iptables rules are managed\n\nToday we use iptables-save to store the configuration related to the\nfirewall (we enable INPUT traffic for pacemaker remote on all the hosts)\nbut this method is not reliable since Neutron put and remove rules by\nitself, and by using iptables-save we also store them.\nThis patch treat the single rule in both apply and undo playbooks so\nthat we don't touch anything that neutron might touch.\n\nChange-Id: I6293d7a065f8e531de6218f272a8b08844b3eb42\n""}]",0,569993,20bbd0f45607a4f5ba6036b2326e2d3153f1ce92,7,3,1,20936,,,0,"Fix the way iptables rules are managed

Today we use iptables-save to store the configuration related to the
firewall (we enable INPUT traffic for pacemaker remote on all the hosts)
but this method is not reliable since Neutron put and remove rules by
itself, and by using iptables-save we also store them.
This patch treat the single rule in both apply and undo playbooks so
that we don't touch anything that neutron might touch.

Change-Id: I6293d7a065f8e531de6218f272a8b08844b3eb42
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/93/569993/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/instance-ha/tasks/undo.yml', 'roles/instance-ha/tasks/apply.yml']",2,20bbd0f45607a4f5ba6036b2326e2d3153f1ce92,fix_iptables_rules_apply_and_removal_in_iha," iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport 3121 -j ACCEPT delegate_to: ""{{ item }}"" with_items: - ""{{ groups['controller'] }}"" - ""{{ groups['compute'] }}"" - name: Make iptables pacemaker_remote rule permanent become: yes lineinfile: path: /etc/sysconfig/iptables line: ""-A INPUT -p tcp -m state --state NEW -m tcp --dport 3121 -j ACCEPT"" insertafter: "":OUTPUT ACCEPT""", iptables -I INPUT -p tcp --dport 3121 -j ACCEPT /sbin/service iptables save,25,5
openstack%2Ftripleo-ha-utils~master~I9ea3746384d4db09abafb156afa056e9eb0c3502,openstack/tripleo-ha-utils,master,I9ea3746384d4db09abafb156afa056e9eb0c3502,switch to use the upstream utils repo,MERGED,2018-05-23 07:26:38.000000000,2018-05-23 10:27:32.000000000,2018-05-23 10:27:32.000000000,"[{'_account_id': 20936}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 07:26:38.000000000', 'files': ['infrared/infrared_instance-ha_plugin_main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/d78e5a9dbbf37d3849866c67ac56f84a275f2d64', 'message': 'switch to use the upstream utils repo\n\nChange-Id: I9ea3746384d4db09abafb156afa056e9eb0c3502\n'}]",0,570132,d78e5a9dbbf37d3849866c67ac56f84a275f2d64,6,2,1,27978,,,0,"switch to use the upstream utils repo

Change-Id: I9ea3746384d4db09abafb156afa056e9eb0c3502
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/32/570132/1 && git format-patch -1 --stdout FETCH_HEAD,['infrared/infrared_instance-ha_plugin_main.yml'],1,d78e5a9dbbf37d3849866c67ac56f84a275f2d64,," repo: 'https://github.com/openstack/tripleo-ha-utils.git' dest: /home/stack/tripleo-ha-utils printf ""[defaults]\nroles_path = /home/stack/tripleo-ha-utils/roles"" > /home/stack/ansible.cfg ansible-playbook -v /home/stack/tripleo-ha-utils/playbooks/overcloud-instance-ha.yml -e release={{release}} -e stonith_devices={{stonith_devices}} -e instance_ha_shared_storage={{instance_ha_shared_storage}} -e instance_ha_action={{instance_ha_action}}"," repo: 'https://github.com/redhat-openstack/tripleo-quickstart-utils' dest: /home/stack/tripleo-quickstart-utils printf ""[defaults]\nroles_path = /home/stack/tripleo-quickstart-utils/roles"" > /home/stack/ansible.cfg ansible-playbook -v /home/stack/tripleo-quickstart-utils/playbooks/overcloud-instance-ha.yml -e release={{release}} -e stonith_devices={{stonith_devices}} -e instance_ha_shared_storage={{instance_ha_shared_storage}} -e instance_ha_action={{instance_ha_action}}",4,4
openstack%2Fpuppet-openstacklib~master~I1459cf5382cd3090c051b25c884399d5cf37d264,openstack/puppet-openstacklib,master,I1459cf5382cd3090c051b25c884399d5cf37d264,Remove allow_virtual for Package in defaults,MERGED,2018-05-18 11:49:51.000000000,2018-05-23 09:50:21.000000000,2018-05-23 09:50:21.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 11:49:51.000000000', 'files': ['manifests/defaults.pp', 'spec/classes/openstacklib_defaults_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/4ef3b1e8434603e851b035b69191fcd1a04d248b', 'message': 'Remove allow_virtual for Package in defaults\n\nWe only test and support Puppet 4 and Puppet 5\nnow and this parameter to the Package resource\ndefaults to true in these versions making this\nunneccesary.\n\nChange-Id: I1459cf5382cd3090c051b25c884399d5cf37d264\n'}]",0,569396,4ef3b1e8434603e851b035b69191fcd1a04d248b,13,4,1,16137,,,0,"Remove allow_virtual for Package in defaults

We only test and support Puppet 4 and Puppet 5
now and this parameter to the Package resource
defaults to true in these versions making this
unneccesary.

Change-Id: I1459cf5382cd3090c051b25c884399d5cf37d264
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/96/569396/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/defaults.pp', 'spec/classes/openstacklib_defaults_spec.rb']",2,4ef3b1e8434603e851b035b69191fcd1a04d248b,remove-virtual-package,"describe 'openstacklib::defaults' do shared_examples 'openstacklib::defaults' do context 'with defaults' do it { should contain_class('openstacklib::defaults') } end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge(OSDefaults.get_facts()) it_behaves_like 'openstacklib::defaults'","describe 'openstacklib::defaults', type: :class do on_supported_os.each do |os, facts| let(:pre_condition) do <<-eof package { 'my_virt_package' : ensure => present, tag => 'openstack' } eof context ""Puppet < 4.0.0"" do context ""on #{os}"" do let(:facts) { facts.merge(:puppetversion => '3.8.0') } it { is_expected.to compile.with_all_deps } it { is_expected.to contain_class('openstacklib::defaults') } it { is_expected.to contain_package('my_virt_package') .with(:allow_virtual => true)} end context ""Puppet >= 4.0.0"" do context ""on #{os}"" do let(:facts) { facts.merge(:puppetversion => '4.0.0') } it { is_expected.to compile.with_all_deps } it { is_expected.to contain_class('openstacklib::defaults') } it { is_expected.to contain_package('my_virt_package') .without(:allow_virtual)} end",13,31
openstack%2Fkayobe~master~I79afa2e05932e152eda46f91c20fb750234224d2,openstack/kayobe,master,I79afa2e05932e152eda46f91c20fb750234224d2,Replace Chinese quotes with English quotes,MERGED,2018-05-23 08:49:58.000000000,2018-05-23 09:36:07.000000000,2018-05-23 09:36:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 08:49:58.000000000', 'files': ['doc/source/development/testing.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f231baee77681e7d01081e58c2e96c9e5c1daf68', 'message': 'Replace Chinese quotes with English quotes\n\nChange-Id: I79afa2e05932e152eda46f91c20fb750234224d2\n'}]",0,570147,f231baee77681e7d01081e58c2e96c9e5c1daf68,6,2,1,25747,,,0,"Replace Chinese quotes with English quotes

Change-Id: I79afa2e05932e152eda46f91c20fb750234224d2
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/47/570147/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/development/testing.rst'],1,f231baee77681e7d01081e58c2e96c9e5c1daf68,,"You may need to explicitly upgrade ``virtualenv`` if you've installed the one fromIf you haven't already, the kayobe source code should be pulled directly from","You may need to explicitly upgrade ``virtualenv`` if youve installed the one fromIf you havent already, the kayobe source code should be pulled directly from",2,2
openstack%2Fwatcher~master~I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8,openstack/watcher,master,I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8,add strategy host_maintenance,MERGED,2017-06-30 07:44:35.000000000,2018-05-23 09:18:24.000000000,2018-05-23 09:18:24.000000000,"[{'_account_id': 3}, {'_account_id': 12394}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22775}, {'_account_id': 24501}]","[{'number': 1, 'created': '2017-06-30 07:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/01dc7c1c680840758ce9d0b4967f6b3ffe92cf7f', 'message': 'add strategy cluster_maintenance\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\n'}, {'number': 2, 'created': '2017-06-30 07:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ba95e3d57974723994c2d78a227cf95e07eeb92c', 'message': 'add strategy cluster_maintenance\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n'}, {'number': 3, 'created': '2017-06-30 09:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e6927e4bc32c21a4d61b1775c1167718f9d98d24', 'message': 'add strategy cluster_maintenance\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n'}, {'number': 4, 'created': '2017-08-02 07:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/a1993967edef9618e6861f331ffed1166a242741', 'message': 'add strategy cluster_maintenance\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n'}, {'number': 5, 'created': '2017-08-02 07:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f3ba944650f8fe3e028fd6dd61d9533851853fc8', 'message': 'add strategy cluster_maintenance\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n'}, {'number': 6, 'created': '2017-08-02 08:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/535b059f4ca6e0f89e0e785f8621fee63765b1c7', 'message': 'add strategy cluster_maintenance\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n'}, {'number': 7, 'created': '2018-02-09 07:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/1aa80560149a7063c4c719eeb1c775256d49ea08', 'message': ""add strategy host_maintenance\n\nmaintain one compute node without having the user's application\nbeen interruptted.\nIt will firstly migrate all instances from the maintenance node\nto one backup node. If not, it will migrate all instances,\nrelying on nova-schduler.\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n""}, {'number': 8, 'created': '2018-02-10 02:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/71dc172bba85f1863b4479e2686872fa9ac48753', 'message': ""add strategy host_maintenance\n\nmaintain one compute node without having the user's application\nbeen interruptted.\nIt will firstly migrate all instances from the maintenance node\nto one backup node. If not, it will migrate all instances,\nrelying on nova-schduler.\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n""}, {'number': 9, 'created': '2018-02-23 02:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3ab89ede9be3ff556ac16ddc38566d542af56b3c', 'message': ""add strategy host_maintenance\n\nmaintain one compute node without having the user's application\nbeen interruptted.\nIt will firstly migrate all instances from the maintenance node\nto one backup node. If not, it will migrate all instances,\nrelying on nova-schduler.\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n""}, {'number': 10, 'created': '2018-02-23 06:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/804aff382ea31c03db8f09b03c4361eb216d4534', 'message': ""add strategy host_maintenance\n\nmaintain one compute node without having the user's application\nbeen interruptted.\nIt will firstly migrate all instances from the maintenance node\nto one backup node. If not, it will migrate all instances,\nrelying on nova-schduler.\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n""}, {'number': 11, 'created': '2018-03-14 11:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/51857735bcde47bcf0644d67dd17a08ebc2ff95a', 'message': ""add strategy host_maintenance\n\nmaintain one compute node without having the user's application\nbeen interruptted.\nIt will firstly migrate all instances from the maintenance node\nto one backup node. If not, it will migrate all instances,\nrelying on nova-schduler.\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n""}, {'number': 12, 'created': '2018-03-28 11:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/aa2edfacaa898bab617ea8074646c83199b424b8', 'message': ""add strategy host_maintenance\n\nmaintain one compute node without having the user's application\nbeen interruptted.\nIt will firstly migrate all instances from the maintenance node\nto one backup node. If not, it will migrate all instances,\nrelying on nova-schduler.\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n""}, {'number': 13, 'created': '2018-04-16 09:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0855b3ad985572b9d264079ca62337eab4c9d575', 'message': ""add strategy host_maintenance\n\nmaintain one compute node without having the user's application\nbeen interruptted.\nIt will firstly migrate all instances from the maintenance node\nto one backup node. If not, it will migrate all instances,\nrelying on nova-schduler.\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n""}, {'number': 14, 'created': '2018-05-14 11:34:09.000000000', 'files': ['watcher/decision_engine/strategy/strategies/base.py', 'watcher/tests/decision_engine/strategy/strategies/test_host_maintenance.py', 'watcher/decision_engine/strategy/strategies/host_maintenance.py', 'releasenotes/notes/host-maintenance-strategy-41f640927948fb56.yaml', 'watcher/decision_engine/goal/goals.py', 'watcher/decision_engine/strategy/strategies/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/watcher/commit/58276ec79e856cd11d45baaa3548b9bf0db015d7', 'message': ""add strategy host_maintenance\n\nmaintain one compute node without having the user's application\nbeen interruptted.\nIt will firstly migrate all instances from the maintenance node\nto one backup node. If not, it will migrate all instances,\nrelying on nova-schduler.\n\nChange-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8\nImplements:blueprint cluster-maintaining\n""}]",18,479200,58276ec79e856cd11d45baaa3548b9bf0db015d7,60,11,14,24501,,,0,"add strategy host_maintenance

maintain one compute node without having the user's application
been interruptted.
It will firstly migrate all instances from the maintenance node
to one backup node. If not, it will migrate all instances,
relying on nova-schduler.

Change-Id: I29ecb65745d5e6ecab41508e9a91b29b39a3f0a8
Implements:blueprint cluster-maintaining
",git fetch https://review.opendev.org/openstack/watcher refs/changes/00/479200/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/strategy/strategies/cluster_maintenance.py', 'watcher/decision_engine/strategy/strategies/base.py', 'watcher/decision_engine/model/element/node.py', 'watcher/tests/decision_engine/strategy/strategies/test_cluster_maintenance.py', 'watcher/decision_engine/goal/goals.py', 'setup.cfg', 'watcher/common/exception.py', 'watcher/decision_engine/strategy/strategies/__init__.py']",8,01dc7c1c680840758ce9d0b4967f6b3ffe92cf7f,bp/cluster-maintaining,"from watcher.decision_engine.strategy.strategies import cluster_maintenanceClusterMaintenance = cluster_maintenance.ClusterMaintenance ""WorkloadStabilization"", ""UniformAirflow"", ""NoisyNeighbor"", ""ClusterMaintenance"")"," ""WorkloadStabilization"", ""UniformAirflow"", ""NoisyNeighbor"")",614,1
openstack%2Fmonasca-api~master~Iaa276512693e5652ace8de3539de0ecd62a69783,openstack/monasca-api,master,Iaa276512693e5652ace8de3539de0ecd62a69783,Replace the usage of some aliases in tempest,ABANDONED,2017-11-09 07:25:07.000000000,2018-05-23 08:54:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 25254}, {'_account_id': 25571}]","[{'number': 1, 'created': '2017-11-09 07:25:07.000000000', 'files': ['monasca_tempest_tests/tests/api/base.py', 'monasca_tempest_tests/tests/api/test_read_only_role.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/518195e8b00196c35509655e5b40f68a61c3a581', 'message': 'Replace the usage of some aliases in tempest\n\nIn tempest, following aliases have been moved in version Pike\nand will be removed in version Queens:ad\n* manager > os_primary [1]\n* admin_manager > os_admin [2]\n* os_adm > os_admin [3]\n* os > os_primary [4]\n* alt_manager > os_alt [5]\n\n[1] https://review.openstack.org/#/c/468036/\n[2] https://review.openstack.org/#/c/467852/\n[3] https://review.openstack.org/#/c/467605/\n[4] https://review.openstack.org/#/c/466991/\n[5] https://review.openstack.org/#/c/457555/\n\nChange-Id: Iaa276512693e5652ace8de3539de0ecd62a69783\n'}]",0,518669,518195e8b00196c35509655e5b40f68a61c3a581,7,3,1,26151,,,0,"Replace the usage of some aliases in tempest

In tempest, following aliases have been moved in version Pike
and will be removed in version Queens:ad
* manager > os_primary [1]
* admin_manager > os_admin [2]
* os_adm > os_admin [3]
* os > os_primary [4]
* alt_manager > os_alt [5]

[1] https://review.openstack.org/#/c/468036/
[2] https://review.openstack.org/#/c/467852/
[3] https://review.openstack.org/#/c/467605/
[4] https://review.openstack.org/#/c/466991/
[5] https://review.openstack.org/#/c/457555/

Change-Id: Iaa276512693e5652ace8de3539de0ecd62a69783
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/69/518669/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_tempest_tests/tests/api/base.py', 'monasca_tempest_tests/tests/api/test_read_only_role.py']",2,518195e8b00196c35509655e5b40f68a61c3a581,aliases, cls.os_primary = clients.Manager(credentials=credentials) cls.monasca_client = cls.os_primary.monasca_client, cls.os = clients.Manager(credentials=credentials) cls.monasca_client = cls.os.monasca_client,5,5
openstack%2Fwatcher~master~I5fcb3ec765603b3af7ebe6f7f0e9860aa07e0837,openstack/watcher,master,I5fcb3ec765603b3af7ebe6f7f0e9860aa07e0837,Trivial:Update pypi url to new url,ABANDONED,2018-05-21 06:45:43.000000000,2018-05-23 08:45:49.000000000,,"[{'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 06:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/6d4100398ab5cc4fee9574071b4d8044833634c5', 'message': 'Trivial:Update pypi url to new url\n\nChange-Id: I5fcb3ec765603b3af7ebe6f7f0e9860aa07e0837\n'}, {'number': 2, 'created': '2018-05-23 03:24:29.000000000', 'files': ['doc/source/contributor/environment.rst', 'doc/source/contributor/plugin/base-setup.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c8bf454650eb66f851be0d4edc92426b8bace8df', 'message': 'Trivial:Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I5fcb3ec765603b3af7ebe6f7f0e9860aa07e0837\n'}]",0,569724,c8bf454650eb66f851be0d4edc92426b8bace8df,6,2,2,26151,,,0,"Trivial:Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I5fcb3ec765603b3af7ebe6f7f0e9860aa07e0837
",git fetch https://review.opendev.org/openstack/watcher refs/changes/24/569724/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/environment.rst', 'doc/source/contributor/plugin/base-setup.rst']",2,6d4100398ab5cc4fee9574071b4d8044833634c5,updata-pypi-url,.. _python-watcher: https://pypi.org/project/python-watcher,.. _python-watcher: https://pypi.python.org/pypi/python-watcher,4,4
openstack%2Fwatcher-specs~master~I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c,openstack/watcher-specs,master,I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c,Watcher Planner Selector,MERGED,2018-04-03 19:54:22.000000000,2018-05-23 08:28:46.000000000,2018-05-23 08:28:46.000000000,"[{'_account_id': 13111}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 24501}, {'_account_id': 27947}]","[{'number': 1, 'created': '2018-04-03 19:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/965d80ec75365768d344b6bbd7888f180bdacbc8', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non config options passed by user for distinct Strategy.\n\nChange-Id: I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c\nImplements: bp watcher-planner-selector\n'}, {'number': 2, 'created': '2018-04-03 20:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/b6aafb939bba918e42d1ecc2b7caf4aa787974c2', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non config options passed by user for distinct Strategy.\n\nChange-Id: I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c\nImplements: bp watcher-planner-selector\n'}, {'number': 3, 'created': '2018-04-05 20:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/9e4e400d7fd00509d136c0b58808ae101cfcc202', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non config options passed by user for distinct Strategy.\n\nChange-Id: I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c\nImplements: bp watcher-planner-selector\n'}, {'number': 4, 'created': '2018-04-11 22:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/4d05b2f4dcf003ae8fa491d3bfd7909df60795d1', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non config options passed by user for distinct Strategy.\n\nChange-Id: I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c\nImplements: bp watcher-planner-selector\n'}, {'number': 5, 'created': '2018-04-12 18:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/f1e6ea75225ad405d83e7eef7b968d73667b6f6e', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non config options passed by user for distinct Strategy.\n\nChange-Id: I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c\nImplements: bp watcher-planner-selector\n'}, {'number': 6, 'created': '2018-04-22 16:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/a8cdbbbfa9a6327ee64f1eae546b398f597242b6', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non config options passed by user for distinct Strategy.\n\nChange-Id: I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c\nImplements: bp watcher-planner-selector\n'}, {'number': 7, 'created': '2018-04-27 06:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/3718bc84d8b387e74da1329a9796a346dc5d3e5c', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non config options passed by user for distinct Strategy.\n\nChange-Id: I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c\nImplements: bp watcher-planner-selector\n'}, {'number': 8, 'created': '2018-05-23 07:15:33.000000000', 'files': ['specs/rocky/approved/watcher-planner-selector.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/bff4227aedce15a441737edd90f3c9628028fe50', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non config options passed by user for distinct Strategy.\n\nChange-Id: I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c\nImplements: bp watcher-planner-selector\n'}]",22,558614,bff4227aedce15a441737edd90f3c9628028fe50,39,8,8,27947,,,0,"Watcher Planner Selector

This component is responsible for selecting an appropriate Planner based
on config options passed by user for distinct Strategy.

Change-Id: I8dd84cef4b9eb25a6cdf448d55a2dd8da3f10f9c
Implements: bp watcher-planner-selector
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/14/558614/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/watcher-planner-selector.rst'],1,965d80ec75365768d344b6bbd7888f180bdacbc8,bp/watcher-planner-selector,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Watcher Planner Selector ========================================== https://blueprints.launchpad.net/watcher/+spec/watcher-planner-selector `Watcher Planner`_ takes the set of `Actions`_ generated by a `Strategy`_ and builds the design of a workflow which defines how-to schedule in time those different Actions and for each Action what are the prerequisite conditions. It is only possible to choose only one (default) `Planner`_ for all strategies now. Custom Planners could be added to Watcher, thereby users can adopt Watcher workflow to their needs. As one of the ways for customization, the option could be added to set concrete Planner for distinct Strategy that takes features of users' workflow into account. Problem description =================== Currently there is no opportunity to set unique Planner to distinct Strategy. User can set default Planner in config file that would be used alongside every Audit. If using different Planner is the case, user should change default value to desired one. By doing this we restrict ourselves to use this new Planner with all of the Strategies, what is not desired because some of `Solutions`_ generated by Strategies could be not compatible with the schedule made by this Planner. Use Cases ---------- * As an administrator, I want to choose what Planner would be applied to the Solution generated by certain Strategy. * As an administrator, I expect that if I provide no Applier to Strategy, it will use default Planner that I set in config. Proposed change =============== We propose to add config option to base Strategy, say 'planner', and set default value to this option in concrete Strategies where appropriate (for example, 'workload_stabilization' Planner as default for Strategy with the same name). This value should be read by PlannerManager, so we change PlannerManager.load() method by adding new argument: :: def load(self, planner_name): return self.loader.load(name=planner_name) Therefore, AuditHandler now should pass desired Planner name to this method. We propose to get this name from config section that belongs to the Strategy used in current Audit. In this case we could get Strategy name (and section name consequently) with a help of StrategyContext class or directly from Strategy object associated with current Audit. [Need help with this decision] Also, there is a need in checks such as: is this set of Actions is acceptable for this concrete Planner. It could be done with a list of Actions that Planner awaits in Solution. To achieve this behaviour, we add config option 'accepts' to Planner base class and user who adds he's or she's own implementation of Planner should fill this option with desired list of Actions. [Not sure that it should be implemented in this blueprint] Alternatives ------------ Alternatively, we could pass Planner name as argument during creation of AuditTemplate. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- End user could be able to set distinct Planner to every Strategy in config file. Performance Impact ------------------ None Other deployer impact --------------------- Option are being added: * 'planner' * 'accepts' Default values of these options don't change the behaviour of Decision Engine. Developer impact ---------------- Signature of PlannerManager.load() method changes. Implementation ============== Assignee(s) ----------- Primary assignee: Egor Panfilov <erakli> Work Items ---------- * Add 'planner' item to return value of BaseStrategy.get_config_opts() method * Add creation of config opts to BasePlanner class * Add 'accepts' opt to Planner * Change PlannerManager.load() method * Rewrite code of AuditHandler.do_schedule() method, so it could load Planner based on name of Strategy used and config option * Add 'accepts' option based checks to Planner Dependencies ============ https://blueprints.launchpad.net/watcher/+spec/efficacy-indicator https://blueprints.launchpad.net/watcher/+spec/planner-storage-action-plan Testing ======= Tests with different Planners assigned to different Strategies should be implemented. Tests on acceptable Actions by Planner should be added. Documentation Impact ==================== Documentation should be updated to explain how to set 'planner' and 'accepts' options. References ========== None History ======= None .. _Actions: https://docs.openstack.org/watcher/latest/glossary.html#action .. _Strategy: https://docs.openstack.org/watcher/latest/glossary.html#strategy .. _Solutions: https://docs.openstack.org/watcher/latest/glossary.html#solution .. _Planner: https://docs.openstack.org/watcher/latest/glossary.html#watcher-planner .. _Watcher Planner: https://docs.openstack.org/watcher/latest/glossary.html#watcher-planner ",,190,0
openstack%2Fkolla-ansible~master~I84b54ba737276114e512d4577ac4b9010682bb98,openstack/kolla-ansible,master,I84b54ba737276114e512d4577ac4b9010682bb98,horizon: allow to configure by custom_local_settings.j2,MERGED,2018-03-08 12:08:52.000000000,2018-05-23 08:16:26.000000000,2018-05-23 08:16:26.000000000,"[{'_account_id': 2276}, {'_account_id': 7488}, {'_account_id': 8556}, {'_account_id': 9414}, {'_account_id': 11797}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 26556}, {'_account_id': 27336}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-03-08 12:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcb60e9819120de160ee9cbdd049e26db69b81fb', 'message': 'horizon: allow to configure available themes\n\nBy default Horizon provides two themes: Default and Material. Operators\nof OpenStack setup may provide own ones or would like to limit choice to\njust one. This patch allows for it.\n\nChange-Id: I84b54ba737276114e512d4577ac4b9010682bb98\n'}, {'number': 2, 'created': '2018-03-09 12:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9157c608660098724ef5438ed237ed8846741c02', 'message': 'horizon: allow to configure by custom_local_settings.j2\n\nlocal_settings.j2 may be good place to configure horizon but requires\noperator to sync it every release.\n\ncustom_local_settings.j2 (empty by default) can be used to overwrite\nthings from local_settings.j2 without a need of syncing it first.\n\nWhy bother at all? Themes. You can provide own ones in patched horizon\nimage but selecting them requires patching kolla-ansible instead of\nusing local deployment config files.\n\nChange-Id: I84b54ba737276114e512d4577ac4b9010682bb98\n'}, {'number': 3, 'created': '2018-05-08 19:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7831f7aba8b07c825b7fd5264c2ba5641c30cb63', 'message': 'horizon: allow to configure by custom_local_settings.j2\n\nkolla-ansible should provide a mechanism to allow operators to overwrite\nthe default (or not exposed through configuration) options for the\nlocal_settings.\n\nlocal_settings.j2 may be good place to configure horizon but requires\noperator to sync it every release.\n\ncustom_local_settings.j2 can be used to overwrite things from\nlocal_settings.j2 without a need of syncing it first.\n\nPartial-Bug: #1769970\nChange-Id: I84b54ba737276114e512d4577ac4b9010682bb98\n'}, {'number': 4, 'created': '2018-05-08 19:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54693faa06783a698df92b5af447c0ed804cd9e9', 'message': 'horizon: allow to configure by custom_local_settings.j2\n\nkolla-ansible should provide a mechanism to allow operators to overwrite\nthe default (or not exposed through configuration) options for the\nlocal_settings.\n\nlocal_settings.j2 may be good place to configure horizon but requires\noperator to sync it every release.\n\ncustom_local_settings.j2 can be used to overwrite things from\nlocal_settings.j2 without a need of syncing it first.\n\nPartial-Bug: #1769970\nDepends-On: https://review.openstack.org/#/c/567006/\nChange-Id: I84b54ba737276114e512d4577ac4b9010682bb98\n'}, {'number': 5, 'created': '2018-05-09 04:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa5a0b74f35ee3a99656e99c004f7f21caa569b6', 'message': 'horizon: allow to configure by custom_local_settings.j2\n\nkolla-ansible should provide a mechanism to allow operators to overwrite\nthe default (or not exposed through configuration) options for the\nlocal_settings.\n\nlocal_settings.j2 may be good place to configure horizon but requires\noperator to sync it every release.\n\ncustom_local_settings.j2 can be used to overwrite things from\nlocal_settings.j2 without a need of syncing it first.\n\nPartial-Bug: #1769970\nDepends-On: https://review.openstack.org/#/c/567006/\nChange-Id: I84b54ba737276114e512d4577ac4b9010682bb98\n'}, {'number': 6, 'created': '2018-05-09 13:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1414d3e1ab8f162dd5b4c97d8e4b3547e1fe5ca8', 'message': 'horizon: allow to configure by custom_local_settings.j2\n\nkolla-ansible should provide a mechanism to allow operators to overwrite\nthe default (or not exposed through configuration) options for the\nlocal_settings.\n\nlocal_settings.j2 may be good place to configure horizon but requires\noperator to sync it every release.\n\ncustom_local_settings.j2 can be used to overwrite things from\nlocal_settings.j2 without a need of syncing it first.\n\nPartial-Bug: #1769970\nDepends-On: https://review.openstack.org/#/c/567006/\nChange-Id: I84b54ba737276114e512d4577ac4b9010682bb98\n'}, {'number': 7, 'created': '2018-05-16 16:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e65e3f9b139d2654617cf8b5b84ba2e0346a6cc6', 'message': 'horizon: allow to configure by custom_local_settings.j2\n\nkolla-ansible should provide a mechanism to allow operators to overwrite\nthe default (or not exposed through configuration) options for the\nlocal_settings.\n\nlocal_settings.j2 may be good place to configure horizon but requires\noperator to sync it every release.\n\ncustom_local_settings.j2 can be used to overwrite things from\nlocal_settings.j2 without a need of syncing it first.\n\nThis patch also adds a release note and a documentation section\nunder the advanced configuration page.\n\nPartial-Bug: #1769970\nDepends-On: https://review.openstack.org/#/c/567006/\nChange-Id: I84b54ba737276114e512d4577ac4b9010682bb98\n'}, {'number': 8, 'created': '2018-05-18 17:27:37.000000000', 'files': ['doc/source/reference/index.rst', 'ansible/roles/horizon/templates/horizon.json.j2', 'ansible/roles/horizon/templates/local_settings.j2', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/horizon/tasks/config.yml', 'ansible/roles/horizon/templates/custom_local_settings.j2', 'doc/source/reference/horizon-guide.rst', 'releasenotes/notes/add-horizon-custom-settings-file-d5dfab8a1a3b4ee7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d516ad7da2d86ad03374f8244f6738ee65d6f6a4', 'message': 'horizon: allow to configure by custom_local_settings.j2\n\nkolla-ansible should provide a mechanism to allow operators to overwrite\nthe default (or not exposed through configuration) options for the\nlocal_settings.\n\nlocal_settings.j2 may be good place to configure horizon but requires\noperator to sync it every release.\n\ncustom_local_settings.j2 can be used to overwrite things from\nlocal_settings.j2 without a need of syncing it first.\n\nThis patch also adds a release note and a documentation section\nunder the advanced configuration page.\n\nPartial-Bug: #1769970\nDepends-On: https://review.openstack.org/#/c/567006/\nChange-Id: I84b54ba737276114e512d4577ac4b9010682bb98\n'}]",11,550800,d516ad7da2d86ad03374f8244f6738ee65d6f6a4,48,15,8,24072,,,0,"horizon: allow to configure by custom_local_settings.j2

kolla-ansible should provide a mechanism to allow operators to overwrite
the default (or not exposed through configuration) options for the
local_settings.

local_settings.j2 may be good place to configure horizon but requires
operator to sync it every release.

custom_local_settings.j2 can be used to overwrite things from
local_settings.j2 without a need of syncing it first.

This patch also adds a release note and a documentation section
under the advanced configuration page.

Partial-Bug: #1769970
Depends-On: https://review.openstack.org/#/c/567006/
Change-Id: I84b54ba737276114e512d4577ac4b9010682bb98
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/550800/6 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/defaults/main.yml', 'ansible/roles/horizon/templates/local_settings.j2']",2,bcb60e9819120de160ee9cbdd049e26db69b81fb,bug/1769970,"{% if horizon_available_themes %} AVAILABLE_THEMES = [ {% for theme_name, list in horizon_available_themes.items() %} ('{{ list.name }}', '{{ theme_name }}', '{{ list.directory }}'), {% endfor %} ] {% else %}{% endif %}",,20,0
openstack%2Fpython-watcherclient~master~I6d8116b4520be5cbb4289de7caf9cc99251e1f9f,openstack/python-watcherclient,master,I6d8116b4520be5cbb4289de7caf9cc99251e1f9f,Remove 'actionplan create' command,MERGED,2018-04-19 10:44:37.000000000,2018-05-23 08:16:01.000000000,2018-05-23 08:16:01.000000000,"[{'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 22348}, {'_account_id': 25571}, {'_account_id': 25695}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-04-19 10:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/80d9e0e20f6a6e1bb4f9e7a2e7dbb6f966533eb1', 'message': ""Remove 'actionplan create' command\n\nActionplan create command can create new\naudit which looks ambiguous as audit should only\nbe created by audit command.\n\nChange-Id: I6d8116b4520be5cbb4289de7caf9cc99251e1f9f\nCloses-bug: #1764654\n""}, {'number': 2, 'created': '2018-04-26 04:56:13.000000000', 'files': ['watcherclient/tests/functional/v1/test_action_plan.py', 'watcherclient/v1/action_plan_shell.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/8ef72f18c40bd1994c93546bb93c95f95a1f7711', 'message': ""Remove 'actionplan create' command\n\nActionplan create command can create new\naudit which looks ambiguous as audit should only\nbe created by audit command.\n\nChange-Id: I6d8116b4520be5cbb4289de7caf9cc99251e1f9f\nCloses-bug: #1764654\n""}]",0,562541,8ef72f18c40bd1994c93546bb93c95f95a1f7711,14,6,2,25571,,,0,"Remove 'actionplan create' command

Actionplan create command can create new
audit which looks ambiguous as audit should only
be created by audit command.

Change-Id: I6d8116b4520be5cbb4289de7caf9cc99251e1f9f
Closes-bug: #1764654
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/41/562541/2 && git format-patch -1 --stdout FETCH_HEAD,"['watcherclient/v1/action_plan_shell.py', 'setup.cfg']",2,80d9e0e20f6a6e1bb4f9e7a2e7dbb6f966533eb1,bug/1764654,, optimize_actionplan_create = watcherclient.v1.action_plan_shell:CreateActionPlan actionplan_create = watcherclient.v1.action_plan_shell:CreateActionPlan,0,43
openstack%2Fswift~master~I25bdb2020c10f4b3aede6994e9ffc3f05a054c29,openstack/swift,master,I25bdb2020c10f4b3aede6994e9ffc3f05a054c29,Fix typo,MERGED,2018-05-23 02:34:28.000000000,2018-05-23 08:14:57.000000000,2018-05-23 08:14:57.000000000,"[{'_account_id': 7847}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 02:34:28.000000000', 'files': ['doc/source/overview_container_sharding.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/3d3393c17ab95e770f11786f0b21856bb3e8b255', 'message': 'Fix typo\n\nChange-Id: I25bdb2020c10f4b3aede6994e9ffc3f05a054c29\n'}]",0,570100,3d3393c17ab95e770f11786f0b21856bb3e8b255,7,3,1,25747,,,0,"Fix typo

Change-Id: I25bdb2020c10f4b3aede6994e9ffc3f05a054c29
",git fetch https://review.opendev.org/openstack/swift refs/changes/00/570100/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/overview_container_sharding.rst'],1,3d3393c17ab95e770f11786f0b21856bb3e8b255,,Once a shard range has been successfully cleaved from a retiring database the,Once a shard range has been succesfully cleaved from a retiring database the,1,1
openstack%2Fpuppet-nova~stable%2Fqueens~I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d,openstack/puppet-nova,stable/queens,I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d,Deprecate auth_uri option,ABANDONED,2018-05-22 04:23:54.000000000,2018-05-23 07:49:45.000000000,,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-22 04:23:54.000000000', 'files': ['releasenotes/notes/deprecate_auth_uri_parameter-82edf8271e3c276f.yaml', 'spec/classes/nova_keystone_authtoken_spec.rb', 'lib/puppet/type/nova_flavor.rb', 'spec/classes/nova_metadata_novajoin_authtoken_spec.rb', 'lib/puppet/type/nova_aggregate.rb', 'manifests/api.pp', 'lib/puppet/provider/nova.rb', 'spec/unit/provider/nova_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/metadata/novajoin/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e1fe48d0502e4f0dced066217bd1c85d28860f36', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d\nDepends-On: I4c82a63baabd6b9304b302c97cd751a0103d8316\nCloses-Bug: #1759098\n(cherry picked from commit 20d93c4148c3d5082315263e7754267f50cb46bd)\n'}]",0,569920,e1fe48d0502e4f0dced066217bd1c85d28860f36,6,4,1,25903,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d
Depends-On: I4c82a63baabd6b9304b302c97cd751a0103d8316
Closes-Bug: #1759098
(cherry picked from commit 20d93c4148c3d5082315263e7754267f50cb46bd)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/20/569920/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_auth_uri_parameter-82edf8271e3c276f.yaml', 'spec/classes/nova_keystone_authtoken_spec.rb', 'lib/puppet/type/nova_flavor.rb', 'spec/classes/nova_metadata_novajoin_authtoken_spec.rb', 'lib/puppet/type/nova_aggregate.rb', 'manifests/api.pp', 'lib/puppet/provider/nova.rb', 'spec/unit/provider/nova_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/metadata/novajoin/authtoken.pp']",10,e1fe48d0502e4f0dced066217bd1c85d28860f36,bug/1759098-stable/queens,"# [*www_authenticate_uri*]# DEPRECATED PARAMETERS # # [*auth_uri*] # (Optional) Complete public Identity API endpoint. # Defaults to undef # $www_authenticate_uri = 'http://127.0.0.1:5000/', # DEPRECATED PARAMETERS $auth_uri = undef, if $auth_uri { warning('The auth_uri parameter is deprecated. Please use www_authenticate_uri instead.') } $www_authenticate_uri_real = pick($auth_uri, $www_authenticate_uri) www_authenticate_uri => $www_authenticate_uri_real,","# [*auth_uri*] $auth_uri = 'http://127.0.0.1:5000/', auth_uri => $auth_uri,",55,22
openstack%2Fwatcher~master~Ia238564c5c41aaf015d9d2f5839703a035c76fce,openstack/watcher,master,Ia238564c5c41aaf015d9d2f5839703a035c76fce,Trivial: update url to new url,MERGED,2018-05-13 13:39:56.000000000,2018-05-23 07:46:28.000000000,2018-05-23 07:46:28.000000000,"[{'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 25571}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-05-13 13:39:56.000000000', 'files': ['doc/source/contributor/environment.rst', 'doc/source/contributor/plugin/base-setup.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/36ad9e12daa4ba507613ace35b0babaa08a77184', 'message': 'Trivial: update url to new url\n\nChange-Id: Ia238564c5c41aaf015d9d2f5839703a035c76fce\n'}]",0,568084,36ad9e12daa4ba507613ace35b0babaa08a77184,10,6,1,27336,,,0,"Trivial: update url to new url

Change-Id: Ia238564c5c41aaf015d9d2f5839703a035c76fce
",git fetch https://review.opendev.org/openstack/watcher refs/changes/84/568084/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/environment.rst', 'doc/source/contributor/plugin/base-setup.rst']",2,36ad9e12daa4ba507613ace35b0babaa08a77184,,.. _python-watcher: https://pypi.org/project/python-watcher,.. _python-watcher: https://pypi.python.org/pypi/python-watcher,5,5
openstack%2Fcharm-ceph-osd~master~Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc,openstack/charm-ceph-osd,master,Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc,Fix Traceback issue when ceph-osd upgrade fails,MERGED,2018-05-17 10:47:34.000000000,2018-05-23 07:45:57.000000000,2018-05-23 07:45:57.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 10:47:34.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/8b2303e8636186a79b1bdbd845848cd05daea9c7', 'message': 'Fix Traceback issue when ceph-osd upgrade fails\n\nBug/1770740 surfaced an issue where get_upgrade_position() returns None\nbut the calling function expects and exception to the thrown if the\n""None"" condition exists.  This just fixes the code so that the Traceback\nis stopped and the appropriate error/message is logged for the\ncondition.\n\nChange-Id: Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc\nPartial-Bug: #1770740\n'}]",0,569085,8b2303e8636186a79b1bdbd845848cd05daea9c7,13,4,1,20870,,,0,"Fix Traceback issue when ceph-osd upgrade fails

Bug/1770740 surfaced an issue where get_upgrade_position() returns None
but the calling function expects and exception to the thrown if the
""None"" condition exists.  This just fixes the code so that the Traceback
is stopped and the appropriate error/message is logged for the
condition.

Change-Id: Ib7d1fdc8f91bc992ccf618ef6f57e99bb90c2dbc
Partial-Bug: #1770740
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/85/569085/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,8b2303e8636186a79b1bdbd845848cd05daea9c7,bug/1770740," :param osd_sorted_list: Osds sorted :type osd_sorted_list: [str] :param match_name: The osd name to match :type match_name: str :returns: The position of the name :rtype: int :raises: ValueError if name is not found raise ValueError(""osd name '{}' not found in get_upgrade_position list"" .format(match_name))", :param osd_sorted_list: list. Osds sorted :param match_name: str. The osd name to match :returns: int. The position or None if not found return None,9,4
openstack%2Foctavia~master~I7f694cb21eb0e72bdf95685d9542a50cded7d457,openstack/octavia,master,I7f694cb21eb0e72bdf95685d9542a50cded7d457,Add pecan middleware for neutron-lbaas compat,ABANDONED,2018-04-17 22:08:12.000000000,2018-05-23 07:44:44.000000000,,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-17 22:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/412a4739e1d80492ccbe71fd48be2cb4fd369cfb', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}, {'number': 2, 'created': '2018-04-17 23:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/456f90be862de311c35ba0acdddc9636386c0f0d', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}, {'number': 3, 'created': '2018-04-18 00:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/230798afb5d6178473bf98ebfdc47d4328981725', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}, {'number': 4, 'created': '2018-04-18 18:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c8170b0aca9dd5bf74c78d472230e4b65be842b5', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}, {'number': 5, 'created': '2018-04-18 19:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9f072c06294809c39c14f09bd2a842f9c799e030', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}, {'number': 6, 'created': '2018-04-19 23:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5047b1d583b8179793c27357cdcd8e9a9eab341b', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}, {'number': 7, 'created': '2018-04-20 18:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/419015375be689d450e9f27d47a10ecc7622eb74', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}, {'number': 8, 'created': '2018-04-20 23:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/501d6f32889f20a472d0f999da7d5f62452b357e', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}, {'number': 9, 'created': '2018-04-21 07:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d4a16cbb8ca32853a926c6f7d27782ce437c645b', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}, {'number': 10, 'created': '2018-04-21 08:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fa52037ba0d3cf3fb7cd9793e02077915069f0f4', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}, {'number': 11, 'created': '2018-04-21 08:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9ee7ffa2cc84c5948bb9ee67eb29c856445925e2', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}, {'number': 12, 'created': '2018-04-26 05:24:37.000000000', 'files': ['releasenotes/notes/compatability-middleware-for-neutron-lbaas-1b8a593497d3a588.yaml', 'octavia/common/config.py', 'requirements.txt', 'octavia/api/common/hooks.py', 'lower-constraints.txt', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/config.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/16ce4f452481c98a5fa34811dbd6b2bd45b45bbe', 'message': 'Add pecan middleware for neutron-lbaas compat\n\nChange-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457\n'}]",0,562063,16ce4f452481c98a5fa34811dbd6b2bd45b45bbe,22,3,12,10273,,,0,"Add pecan middleware for neutron-lbaas compat

Change-Id: I7f694cb21eb0e72bdf95685d9542a50cded7d457
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/562063/7 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/compatability-middleware-for-neutron-lbaas-1b8a593497d3a588.yaml', 'octavia/common/config.py', 'requirements.txt', 'octavia/api/common/hooks.py', 'lower-constraints.txt', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/config.py', 'etc/octavia.conf']",8,412a4739e1d80492ccbe71fd48be2cb4fd369cfb,,# Enable Neutron-LBaaS API Compatibility middleware (for neutron-cli) # neutron_lbaas_compatibility = False ,,71,1
openstack%2Fmonasca-notification~stable%2Fqueens~I35eaa298f1153e6b71a5bfe33a894adec6b593a3,openstack/monasca-notification,stable/queens,I35eaa298f1153e6b71a5bfe33a894adec6b593a3,Make statsd self-monitoring optional,MERGED,2018-05-15 07:37:10.000000000,2018-05-23 07:36:07.000000000,2018-05-23 07:36:07.000000000,"[{'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-05-15 07:37:10.000000000', 'files': ['monasca_notification/conf/statsd.py', 'monasca_notification/common/utils.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/cd4164a5ea97b1c7e2f026eb5099a7366ffbd95c', 'message': 'Make statsd self-monitoring optional\n\nStory: 2001873\nTask: 14333\n\nChange-Id: I35eaa298f1153e6b71a5bfe33a894adec6b593a3\n(cherry picked from commit cdb2e4398d397a405f7729fea482e07699d23dfc)\n'}]",0,568486,cd4164a5ea97b1c7e2f026eb5099a7366ffbd95c,6,5,1,28062,,,0,"Make statsd self-monitoring optional

Story: 2001873
Task: 14333

Change-Id: I35eaa298f1153e6b71a5bfe33a894adec6b593a3
(cherry picked from commit cdb2e4398d397a405f7729fea482e07699d23dfc)
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/86/568486/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_notification/conf/statsd.py', 'monasca_notification/common/utils.py']",2,cd4164a5ea97b1c7e2f026eb5099a7366ffbd95c,notificationbug-stable/queens," if CONF.statsd.enable: LOG.debug(""Establishing connection with statsd on {0}:{1}"" .format(CONF.statsd.host, CONF.statsd.port)) client = monascastatsd.Client(name='monasca', host=CONF.statsd.host, port=CONF.statsd.port, dimensions=local_dims) else: LOG.warn(""StatsD monitoring disabled. Overriding monascastatsd.Client to use it offline"") client = OfflineClient(name='monasca', host=CONF.statsd.host, port=CONF.statsd.port, dimensions=local_dims) class OfflineClient(monascastatsd.Client): def _set_connection(self, connection, host, port): if connection is None: self.connection = OfflineConnection(host=host, port=port, max_buffer_size=self._max_buffer_size) else: self.connection = connection class OfflineConnection(monascastatsd.Connection): def __init__(self, host='localhost', port=8125, max_buffer_size=50): """"""Initialize an Offline Connection object. >>> monascastatsd = MonascaStatsd() :name: the name for this client. Everything sent by this client will be prefixed by name :param host: the host of the MonascaStatsd server. :param port: the port of the MonascaStatsd server. :param max_buffer_size: Maximum number of metric to buffer before sending to the server if sending metrics in batch """""" self.max_buffer_size = max_buffer_size self._send = self._send_to_server self.connect(host, port) self.encoding = 'utf-8' def connect(self, host, port): """"""Avoid connecting to the monascastatsd server. """""" pass def _send_to_server(self, packet): pass"," client = monascastatsd.Client(name='monasca', host=CONF.statsd.host, port=CONF.statsd.port, dimensions=local_dims) ",55,5
openstack%2Fkuryr-kubernetes~stable%2Fqueens~Iabca253a86dc89b567a9a68b09cef015c9a482b0,openstack/kuryr-kubernetes,stable/queens,Iabca253a86dc89b567a9a68b09cef015c9a482b0,Remove admin rights need from verify_keystone_connection,MERGED,2018-05-18 14:33:20.000000000,2018-05-23 07:35:12.000000000,2018-05-23 07:35:12.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-05-18 14:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/de09ab4db62718114d2a36f6cf97b4fd898e18b0', 'message': 'Remove admin rights need from verify_keystone_connection\n\nThis patch sets changes the call perform to verify keystone\nconnectivity from project list to region list, as the former\nneeds admin rights by default. In addion, usually the number of\nregions is low, so it should be a non expensive call to keystone.\n\nCloses-Bug: 1772005\n\nChange-Id: Iabca253a86dc89b567a9a68b09cef015c9a482b0\n(cherry picked from commit a5926489e553be8faf8802c6ad549367bf0a24cb)\n'}, {'number': 2, 'created': '2018-05-22 09:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1c49e7ed4636025e3f0f09f9125ce1748a30392a', 'message': 'Remove admin rights need from verify_keystone_connection\n\nThis patch sets changes the call perform to verify keystone\nconnectivity from project list to region list, as the former\nneeds admin rights by default. In addion, usually the number of\nregions is low, so it should be a non expensive call to keystone.\n\nCloses-Bug: 1772005\nDepends-On: https://review.openstack.org/#/c/569945/\n\nChange-Id: Iabca253a86dc89b567a9a68b09cef015c9a482b0\n(cherry picked from commit a5926489e553be8faf8802c6ad549367bf0a24cb)\n'}, {'number': 3, 'created': '2018-05-22 10:25:40.000000000', 'files': ['kuryr_kubernetes/controller/managers/health.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/19d63cca939268a4af7d4cac610c09cc6315a639', 'message': 'Remove admin rights need from verify_keystone_connection\n\nThis patch sets changes the call perform to verify keystone\nconnectivity from project list to region list, as the former\nneeds admin rights by default. In addion, usually the number of\nregions is low, so it should be a non expensive call to keystone.\n\nCloses-Bug: 1772005\nDepends-On: Iaff1f569e99a88a8d8ff81aa4e0c4c7bedb94585\n\nChange-Id: Iabca253a86dc89b567a9a68b09cef015c9a482b0\n(cherry picked from commit a5926489e553be8faf8802c6ad549367bf0a24cb)\n'}]",0,569431,19d63cca939268a4af7d4cac610c09cc6315a639,20,6,3,23567,,,0,"Remove admin rights need from verify_keystone_connection

This patch sets changes the call perform to verify keystone
connectivity from project list to region list, as the former
needs admin rights by default. In addion, usually the number of
regions is low, so it should be a non expensive call to keystone.

Closes-Bug: 1772005
Depends-On: Iaff1f569e99a88a8d8ff81aa4e0c4c7bedb94585

Change-Id: Iabca253a86dc89b567a9a68b09cef015c9a482b0
(cherry picked from commit a5926489e553be8faf8802c6ad549367bf0a24cb)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/31/569431/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/managers/health.py'],1,de09ab4db62718114d2a36f6cf97b4fd898e18b0,bug/1772005-stable/queens, ks.regions.list(), ks.projects.list(),1,1
openstack%2Fneutron~stable%2Fqueens~I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,openstack/neutron,stable/queens,I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,Use Param DHCP_OPT_CLIENT_ID_NUM,MERGED,2018-05-19 14:43:58.000000000,2018-05-23 07:25:15.000000000,2018-05-23 07:25:15.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12171}, {'_account_id': 22348}, {'_account_id': 22948}]","[{'number': 1, 'created': '2018-05-19 14:43:58.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/ib-dhcp-allocation-fix-a4ebe8b55bb2c065.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf8478e340b89f0f6652a71fdfae21ca8f36f6fc', 'message': ""Use Param DHCP_OPT_CLIENT_ID_NUM\n\nIronic is sending 'client-id' as a number (61) to meet rfc4776 [1],\ndue to this change Neutron DHCP should support this option as well.\n\n[1] https://github.com/openstack/ironic/commit/228a2a7885e1b04d4180fe8daa2992884decaf6d\n\nCloses-Bug: #1770932\nChange-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737\n(cherry picked from commit 59bc19c14a84283adad555dce8536fd7198b82b3)\n""}]",0,569573,cf8478e340b89f0f6652a71fdfae21ca8f36f6fc,14,7,1,12171,,,0,"Use Param DHCP_OPT_CLIENT_ID_NUM

Ironic is sending 'client-id' as a number (61) to meet rfc4776 [1],
due to this change Neutron DHCP should support this option as well.

[1] https://github.com/openstack/ironic/commit/228a2a7885e1b04d4180fe8daa2992884decaf6d

Closes-Bug: #1770932
Change-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737
(cherry picked from commit 59bc19c14a84283adad555dce8536fd7198b82b3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/569573/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/ib-dhcp-allocation-fix-a4ebe8b55bb2c065.yaml']",3,cf8478e340b89f0f6652a71fdfae21ca8f36f6fc,dhcp_ib-stable/queens,"--- fixes: - | For Infiniband support, Ironic needs to send the 'client-id' DHCP option as a number in order for IP address assignment to work. This is now supported in Neutron, and can be specified as option number 61 as defined in RFC 4776. For more information see bug `1770932 <https://bugs.launchpad.net/neutron/+bug/1770932>`_",,35,2
openstack%2Foctavia~master~Ibae8c32d70f80e62331727a37a0e3dc71137cba4,openstack/octavia,master,Ibae8c32d70f80e62331727a37a0e3dc71137cba4,Add release notes link to README,MERGED,2018-05-21 09:03:20.000000000,2018-05-23 07:17:16.000000000,2018-05-23 07:17:16.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-05-21 09:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/78c87eba22887f127d61f3a1672ed9b077cfba7d', 'message': 'Add release notes link to README\n\nAdd release notes url doc link to README.rst.\n\nChange-Id: Ibae8c32d70f80e62331727a37a0e3dc71137cba4\n'}, {'number': 2, 'created': '2018-05-21 09:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/374c5d8c7cbbab3be363150ad05bdabf5d7e5763', 'message': 'Add release notes link to README\n\nAdd release notes url doc link to README.rst.\n\nChange-Id: Ibae8c32d70f80e62331727a37a0e3dc71137cba4\n'}, {'number': 3, 'created': '2018-05-22 17:50:54.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/00f2bc4942836a283aef23be8b7429fd4b768af9', 'message': 'Add release notes link to README\n\nAdd release notes url doc link to README.rst.\n\nChange-Id: Ibae8c32d70f80e62331727a37a0e3dc71137cba4\n'}]",0,569752,00f2bc4942836a283aef23be8b7429fd4b768af9,12,5,3,23317,,,0,"Add release notes link to README

Add release notes url doc link to README.rst.

Change-Id: Ibae8c32d70f80e62331727a37a0e3dc71137cba4
",git fetch https://review.opendev.org/openstack/octavia refs/changes/52/569752/3 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,78c87eba22887f127d61f3a1672ed9b077cfba7d,fix,Release Notes for the Octavia project is available at https://docs.openstack.org/releasenotes/octavia/ ,,3,0
openstack%2Fpuppet-neutron~master~I1a1bfaa2619edde8a463cd3a6bc6412738d7f596,openstack/puppet-neutron,master,I1a1bfaa2619edde8a463cd3a6bc6412738d7f596,Fixes missing 'geneve' network type,MERGED,2018-04-10 07:05:47.000000000,2018-05-23 07:11:57.000000000,2018-04-13 15:56:13.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-10 07:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/082fb1445fd9aef06b2c3348c0379016d2d7e0fc', 'message': ""Fixes missing 'geneve' network type\n\nThe network type drivers were missing 'geneve', which will allow nodes to\nattach nova instances to geneve networks.  This should be allowed by\ndefault[1].\n\n[1]https://github.com/openstack/puppet-neutron/blob/master/manifests/plugins/ml2/type_driver.pp#L121\n\nChange-Id: I1a1bfaa2619edde8a463cd3a6bc6412738d7f596\n""}, {'number': 2, 'created': '2018-04-10 08:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/52784e8011a63d36ba742e909d8879b0850d51f5', 'message': ""Fixes missing 'geneve' network type\n\nThe network type drivers were missing 'geneve', which will allow nodes to\nattach nova instances to geneve networks.  This should be allowed by\ndefault[1].\n\n[1]https://github.com/openstack/puppet-neutron/blob/master/manifests/plugins/ml2/type_driver.pp#L121\n\nChange-Id: I1a1bfaa2619edde8a463cd3a6bc6412738d7f596\nDepends-On: Ic29805697dca5d530fbe357409235e585667a91c\n""}, {'number': 3, 'created': '2018-04-13 03:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/34350c836cab97fdf9c53a65d7da1cbc6d56d389', 'message': ""Fixes missing 'geneve' network type\n\nThe network type drivers were missing 'geneve', which will allow nodes to\nattach nova instances to geneve networks.  This should be allowed by\ndefault[1].\n\n[1]https://github.com/openstack/puppet-neutron/blob/master/manifests/plugins/ml2/type_driver.pp#L121\n\nChange-Id: I1a1bfaa2619edde8a463cd3a6bc6412738d7f596\nCloses-Bug: #1762667\n""}, {'number': 4, 'created': '2018-04-13 03:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7725ad7cd00f8ed2e45a4ac6dc082fb9f9dff79f', 'message': ""Fixes missing 'geneve' network type\n\nThe network type drivers were missing 'geneve', which will allow nodes to\nattach nova instances to geneve networks.  This should be allowed by\ndefault[1].\n\n[1]https://github.com/openstack/puppet-neutron/blob/master/manifests/plugins/ml2/type_driver.pp#L121\n\nChange-Id: I1a1bfaa2619edde8a463cd3a6bc6412738d7f596\nCloses-Bug: #1762667\n""}, {'number': 5, 'created': '2018-04-13 03:57:48.000000000', 'files': ['manifests/plugins/ml2/type_driver.pp', 'spec/classes/neutron_plugins_ml2_spec.rb', 'manifests/plugins/ml2.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/dd7fd5586c41a8a873ba18426e277b7f36551e9b', 'message': ""Fixes missing 'geneve' network type\n\nThe network type drivers were missing 'geneve', which will allow nodes to\nattach nova instances to geneve networks.  This should be allowed by\ndefault[1].\n\n[1]https://github.com/openstack/puppet-neutron/blob/master/manifests/plugins/ml2/type_driver.pp#L121\n\nChange-Id: I1a1bfaa2619edde8a463cd3a6bc6412738d7f596\nCloses-Bug: #1762667\n""}]",1,559929,dd7fd5586c41a8a873ba18426e277b7f36551e9b,17,3,5,9414,,,0,"Fixes missing 'geneve' network type

The network type drivers were missing 'geneve', which will allow nodes to
attach nova instances to geneve networks.  This should be allowed by
default[1].

[1]https://github.com/openstack/puppet-neutron/blob/master/manifests/plugins/ml2/type_driver.pp#L121

Change-Id: I1a1bfaa2619edde8a463cd3a6bc6412738d7f596
Closes-Bug: #1762667
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/29/559929/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_ml2_spec.rb', 'manifests/plugins/ml2.pp']",2,082fb1445fd9aef06b2c3348c0379016d2d7e0fc,missing-geneve,"# local, flat, vlan, gre, vxlan, geneve $type_drivers = ['local', 'flat', 'vlan', 'gre', 'vxlan', 'geneve'],","# local, flat, vlan, gre, vxlan $type_drivers = ['local', 'flat', 'vlan', 'gre', 'vxlan'],",3,3
openstack%2Fpuppet-ec2api~master~I5214b3859e74c60cbc82571125ce38718f589545,openstack/puppet-ec2api,master,I5214b3859e74c60cbc82571125ce38718f589545,Configure metadata_proxy_shared_secret as secret,MERGED,2018-04-04 05:55:56.000000000,2018-05-23 07:09:04.000000000,2018-04-13 19:14:48.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-04 05:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/f8b6df95752d2ab313051126d783f5a735ada052', 'message': 'Configure metadata_proxy_shared_secret as secret\n\nParameter metadata/metadata_proxy_shared_secret should be\nconfigured as a secret.\n\nChange-Id: I5214b3859e74c60cbc82571125ce38718f589545\nCloses-Bug: #1761060\n'}, {'number': 2, 'created': '2018-04-10 00:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/047c181cfeab15a6f73c49e479c2295ba6a0f42b', 'message': 'Configure metadata_proxy_shared_secret as secret\n\nParameter metadata/metadata_proxy_shared_secret should be\nconfigured as a secret.\n\nChange-Id: I5214b3859e74c60cbc82571125ce38718f589545\nCloses-Bug: #1761060\n'}, {'number': 3, 'created': '2018-04-10 02:52:32.000000000', 'files': ['manifests/metadata.pp', 'spec/classes/ec2api_metadata_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/814ae8df60ee842a126c2ecced47c42b0528ad4d', 'message': 'Configure metadata_proxy_shared_secret as secret\n\nParameter metadata/metadata_proxy_shared_secret should be\nconfigured as a secret.\n\nChange-Id: I5214b3859e74c60cbc82571125ce38718f589545\nCloses-Bug: #1761060\n'}]",0,558697,814ae8df60ee842a126c2ecced47c42b0528ad4d,20,5,3,9414,,,0,"Configure metadata_proxy_shared_secret as secret

Parameter metadata/metadata_proxy_shared_secret should be
configured as a secret.

Change-Id: I5214b3859e74c60cbc82571125ce38718f589545
Closes-Bug: #1761060
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/97/558697/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/metadata.pp'],1,f8b6df95752d2ab313051126d783f5a735ada052,bug/1761060," 'metadata/metadata_proxy_shared_secret': value => $metadata_proxy_shared_secret, secret => true;", 'metadata/metadata_proxy_shared_secret': value => $metadata_proxy_shared_secret;,1,1
openstack%2Fvitrage-specs~master~I0e466946273b8df6cc723c99683da818e04f8e07,openstack/vitrage-specs,master,I0e466946273b8df6cc723c99683da818e04f8e07,Move datasource-scaffold to rocky/implemented,MERGED,2018-05-17 01:30:38.000000000,2018-05-23 06:20:20.000000000,2018-05-23 06:20:19.000000000,"[{'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 01:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/78737885c2cdeda4fac831644360eab83d5da840', 'message': 'Move datasource-scaffold to rocky/implemented\n\nNote also blueprint name is changed from datasource skeleton\ngenerator to datasource scaffold\n\nChange-Id: I0e466946273b8df6cc723c99683da818e04f8e07\n'}, {'number': 2, 'created': '2018-05-17 05:44:49.000000000', 'files': ['specs/rocky/implemented/datasource-scaffold.rst'], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/949be77bf7be4baa860b4d0cef752f2d8a503101', 'message': 'Move datasource-scaffold to rocky/implemented\n\nNote also blueprint name is changed from datasource skeleton\ngenerator to datasource scaffold\n\nImplements: blueprint datasource-scaffold\nChange-Id: I0e466946273b8df6cc723c99683da818e04f8e07\n'}]",1,568995,949be77bf7be4baa860b4d0cef752f2d8a503101,11,3,2,21414,,,0,"Move datasource-scaffold to rocky/implemented

Note also blueprint name is changed from datasource skeleton
generator to datasource scaffold

Implements: blueprint datasource-scaffold
Change-Id: I0e466946273b8df6cc723c99683da818e04f8e07
",git fetch https://review.opendev.org/openstack/vitrage-specs refs/changes/95/568995/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/implemented/datasource-scaffold.rst'],1,78737885c2cdeda4fac831644360eab83d5da840,bp/name,=================== Datasource Scaffold =================== https://blueprints.launchpad.net/vitrage/+spec/datasource-scaffold,============================= Datasource Skeleton Generator ============================= https://blueprints.launchpad.net/vitrage/+spec/datasource-skeleton-generator,4,4
openstack%2Fpuppet-swift~master~Ie2d60acac835affaf46a5276c9755640a723bca4,openstack/puppet-swift,master,Ie2d60acac835affaf46a5276c9755640a723bca4,Fix rspec-puppet-facts testing,MERGED,2018-05-16 22:14:42.000000000,2018-05-23 05:56:35.000000000,2018-05-23 05:56:35.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 22:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/b7c87e600a6854e5e14ebcad13a4948799f66a09', 'message': '[WIP] Fix rspec-puppet-facts testing\n\nStill some left and probably typos everywhere :)\nFeel free to help out\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}, {'number': 2, 'created': '2018-05-17 06:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/357bffb5e0f163f091e776d7453589813bf54547', 'message': '[WIP] Fix rspec-puppet-facts testing\n\nStill some left and probably typos everywhere :)\nFeel free to help out\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}, {'number': 3, 'created': '2018-05-17 09:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4798e4dff4f686bbdfbfddd10947309c5a7eafba', 'message': '[WIP] Fix rspec-puppet-facts testing\n\nStill some left and probably typos everywhere :)\nFeel free to help out\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}, {'number': 4, 'created': '2018-05-17 10:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/064a7bcffe2bcf402988b487d328fdf23326e50a', 'message': '[WIP] Fix rspec-puppet-facts testing\n\nStill some left and probably typos everywhere :)\nFeel free to help out\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}, {'number': 5, 'created': '2018-05-17 12:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/c5871dea058efa8f13c0ff714224a98dc646b293', 'message': '[WIP] Fix rspec-puppet-facts testing\n\nStill some left and probably typos everywhere :)\nFeel free to help out\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}, {'number': 6, 'created': '2018-05-18 08:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4a95f1246b7c296657c2bfdc80a996970b6346d6', 'message': '[WIP] Fix rspec-puppet-facts testing\n\nStill some left and probably typos everywhere :)\nFeel free to help out\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}, {'number': 7, 'created': '2018-05-18 09:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a2952b808aca547f66efa862affc71a49782e858', 'message': '[WIP] Fix rspec-puppet-facts testing\n\nStill some left and probably typos everywhere :)\nFeel free to help out\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}, {'number': 8, 'created': '2018-05-18 21:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/c6fcf19f4e421316f71a33f3d4f79353061f8e22', 'message': '[WIP] Fix rspec-puppet-facts testing\n\nStill some left and probably typos everywhere :)\nFeel free to help out\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}, {'number': 9, 'created': '2018-05-18 22:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/b38ffd8d6ad6e680652dd6f29cf281e4bb7695bb', 'message': '[WIP] Fix rspec-puppet-facts testing\n\nStill some left and probably typos everywhere :)\nFeel free to help out\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}, {'number': 10, 'created': '2018-05-19 09:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/8dcc5dc68a61257f2ed3f9857da3f4c371bfe387', 'message': '[WIP] Fix rspec-puppet-facts testing\n\nStill some left and probably typos everywhere :)\nFeel free to help out\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}, {'number': 11, 'created': '2018-05-19 11:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/ca5897e89f539a41cf873c0006e825391853bf02', 'message': '[WIP] Fix rspec-puppet-facts testing\n\nStill some left and probably typos everywhere :)\nFeel free to help out\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}, {'number': 12, 'created': '2018-05-19 12:17:54.000000000', 'files': ['spec/classes/swift_proxy_encryption_spec.rb', 'spec/classes/swift_spec.rb', 'spec/classes/swift_xfs_spec.rb', 'spec/classes/swift_proxy_s3api_spec.rb', 'spec/classes/swift_proxy_bulk_spec.rb', 'spec/classes/swift_proxy_s3token_spec.rb', 'spec/classes/swift_dispersion_spec.rb', 'spec/defines/swift_storage_disk_spec.rb', 'spec/classes/swift_proxy_swauth_spec.rb', 'spec/classes/swift_ringbuilder_spec.rb', 'spec/classes/swift_keystone_dispersion_spec.rb', 'spec/classes/swift_proxy_versioned_writes_spec.rb', 'spec/classes/swift_ringserver_spec.rb', 'spec/defines/swift_proxy_tempauth_account.rb', 'spec/classes/swift_bench_spec.rb', 'spec/classes/swift_storage_loopbacks_spec.rb', 'spec/defines/swift_storage_xfs_spec.rb', 'spec/classes/swift_objectexpirer_spec.rb', 'spec/classes/swift_proxy_crossdomain_spec.rb', 'spec/classes/swift_proxy_container_sync_spec.rb', 'spec/classes/swift_proxy_copy_spec.rb', 'spec/defines/swift_storage_generic_spec.rb', 'spec/classes/swift_proxy_gatekeeper_spec.rb', 'spec/classes/swift_proxy_healthcheck_spec.rb', 'spec/classes/swift_storage_disks_spec.rb', 'spec/classes/swift_proxy_cache_spec.rb', 'spec/classes/swift_proxy_staticweb_spec.rb', 'spec/classes/swift_proxy_ceilometer_spec.rb', 'spec/classes/swift_proxy_account_quotas_spec.rb', 'spec/classes/swift_proxy_keystone_spec.rb', 'spec/defines/swift_ringbuilder_rebalance_spec.rb', 'spec/classes/swift_proxy_slo_spec.rb', 'spec/defines/swift_storage_server_spec.rb', 'spec/classes/swift_keystone_auth_spec.rb', 'spec/defines/swift_storage_mount_spec.rb', 'spec/defines/swift_storage_node_spec.rb', 'spec/classes/swift_proxy_catch_errors_spec.rb', 'spec/classes/swift_proxy_container_quotas_spec.rb', 'spec/defines/swift_storage_loopback_spec.rb', 'spec/defines/swift_ringbuilder_create_spec.rb', 'spec/classes/swift_config_spec.rb', 'spec/classes/swift_client_spec.rb', 'spec/defines/swift_storage_filter_recon_spec.rb', 'spec/classes/swift_proxy_authtoken_spec.rb', 'spec/classes/swift_proxy_tempauth_spec.rb', 'spec/classes/swift_storage_spec.rb', 'spec/classes/swift_storage_container_spec.rb', 'spec/defines/swift_storage_filter_healthcheck_spec.rb', 'spec/classes/swift_storage_account_spec.rb', 'spec/classes/swift_proxy_kms_keymaster_spec.rb', 'spec/classes/swift_storage_all_spec.rb', 'spec/classes/swift_proxy_swift3_spec.rb', 'spec/classes/swift_proxy_formpost_spec.rb', 'spec/classes/swift_storage_object_spec.rb', 'spec/classes/swift_containerreconciler_spec.rb', 'spec/classes/swift_proxy_tempurl_spec.rb', 'spec/defines/swift_ringbuilder_policy_ring_spec.rb', 'spec/classes/swift_keymaster.rb', 'spec/classes/swift_proxy_spec.rb', 'spec/classes/swift_proxy_dlo_spec.rb', 'spec/classes/swift_proxy_ratelimit_spec.rb', 'spec/classes/swift_test_file_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/e7d670b13a687344e483f5018e4847aa25d1c5db', 'message': 'Fix rspec-puppet-facts testing\n\nMoves all spec tests over to using rspec-puppet-facts\nand runs the tests for all our supported operating systems.\n\nChange-Id: Ie2d60acac835affaf46a5276c9755640a723bca4\n'}]",0,568967,e7d670b13a687344e483f5018e4847aa25d1c5db,30,4,12,16137,,,0,"Fix rspec-puppet-facts testing

Moves all spec tests over to using rspec-puppet-facts
and runs the tests for all our supported operating systems.

Change-Id: Ie2d60acac835affaf46a5276c9755640a723bca4
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/67/568967/8 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_proxy_encryption_spec.rb', 'spec/classes/swift_xfs_spec.rb', 'spec/classes/swift_proxy_s3api_spec.rb', 'spec/classes/swift_proxy_bulk_spec.rb', 'spec/classes/swift_proxy_s3token_spec.rb', 'spec/classes/swift_dispersion_spec.rb', 'spec/defines/swift_storage_disk_spec.rb', 'spec/classes/swift_proxy_swauth_spec.rb', 'spec/classes/swift_ringbuilder_spec.rb', 'spec/classes/swift_keystone_dispersion_spec.rb', 'spec/classes/swift_proxy_versioned_writes_spec.rb', 'spec/defines/swift_proxy_tempauth_account.rb', 'spec/classes/swift_bench_spec.rb', 'spec/defines/swift_storage_xfs_spec.rb', 'spec/classes/swift_proxy_crossdomain_spec.rb', 'spec/classes/swift_proxy_container_sync_spec.rb', 'spec/classes/swift_proxy_copy_spec.rb', 'spec/defines/swift_storage_generic_spec.rb', 'spec/classes/swift_proxy_gatekeeper_spec.rb', 'spec/classes/swift_proxy_healthcheck_spec.rb', 'spec/classes/swift_proxy_cache_spec.rb', 'spec/classes/swift_proxy_staticweb_spec.rb', 'spec/classes/swift_proxy_account_quotas_spec.rb', 'spec/classes/swift_proxy_keystone_spec.rb', 'spec/defines/swift_ringbuilder_rebalance_spec.rb', 'spec/classes/swift_proxy_slo_spec.rb', 'spec/defines/swift_storage_server_spec.rb', 'spec/classes/swift_keystone_auth_spec.rb', 'spec/defines/swift_storage_mount_spec.rb', 'spec/defines/swift_storage_node_spec.rb', 'spec/classes/swift_proxy_catch_errors_spec.rb', 'spec/classes/swift_proxy_container_quotas_spec.rb', 'spec/defines/swift_storage_loopback_spec.rb', 'spec/defines/swift_ringbuilder_create_spec.rb', 'spec/classes/swift_config_spec.rb', 'spec/defines/swift_storage_filter_recon_spec.rb', 'spec/classes/swift_proxy_authtoken_spec.rb', 'spec/classes/swift_proxy_tempauth_spec.rb', 'spec/classes/swift_storage_spec.rb', 'spec/defines/swift_storage_filter_healthcheck_spec.rb', 'spec/classes/swift_proxy_kms_keymaster_spec.rb', 'spec/classes/swift_proxy_swift3_spec.rb', 'spec/classes/swift_proxy_formpost_spec.rb', 'spec/classes/swift_proxy_tempurl_spec.rb', 'spec/defines/swift_ringbuilder_policy_ring_spec.rb', 'spec/classes/swift_keymaster.rb', 'spec/classes/swift_proxy_dlo_spec.rb', 'spec/classes/swift_proxy_ratelimit_spec.rb', 'spec/classes/swift_test_file_spec.rb']",49,b7c87e600a6854e5e14ebcad13a4948799f66a09,fix-testing," shared_examples 'swift::test_file' do describe 'with defaults' do let :params do default_params end it 'should create a reasonable test file' do verify_contents(catalogue, '/tmp/swift_test_file.rb', [ 'proxy_local_net_ip=""127.0.0.1""', ""user='openstack:admin'"", ""password='foo'"" ] ) end describe 'when overridding' do let :params do default_params.merge({ :auth_server => '127.0.0.2', :tenant => 'tenant', :user => 'user', :password => 'password' }) end it 'should create a configured test file' do verify_contents(catalogue, '/tmp/swift_test_file.rb', [ 'proxy_local_net_ip=""127.0.0.2""', ""user='tenant:user'"", ""password='password'"" ] ) end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge(OSDefaults.get_facts()) end it_configures 'swift::test_file'"," describe 'with defaults' do let :params do default_params it 'should create a reasonable test file' do verify_contents(catalogue, '/tmp/swift_test_file.rb', [ 'proxy_local_net_ip=""127.0.0.1""', ""user='openstack:admin'"", ""password='foo'"" ] ) end describe 'when overridding' do let :params do default_params.merge({ :auth_server => '127.0.0.2', :tenant => 'tenant', :user => 'user', :password => 'password' }) it 'should create a configured test file' do verify_contents(catalogue, '/tmp/swift_test_file.rb', [ 'proxy_local_net_ip=""127.0.0.2""', ""user='tenant:user'"", ""password='password'"" ] ) end ",1843,1463
openstack%2Fpuppet-glare~master~Id5400ac336f5a49e5c9b8748f928deb56812e075,openstack/puppet-glare,master,Id5400ac336f5a49e5c9b8748f928deb56812e075,"Fix lint, syntax and structuring",MERGED,2018-05-21 22:00:54.000000000,2018-05-23 05:42:40.000000000,2018-05-23 05:42:40.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 22:00:54.000000000', 'files': ['manifests/backend/rbd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/12305351286d10fdb58e3cf4983c0e6b5bac9499', 'message': 'Fix lint, syntax and structuring\n\nChange-Id: Id5400ac336f5a49e5c9b8748f928deb56812e075\n'}]",0,569872,12305351286d10fdb58e3cf4983c0e6b5bac9499,7,3,1,16137,,,0,"Fix lint, syntax and structuring

Change-Id: Id5400ac336f5a49e5c9b8748f928deb56812e075
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/72/569872/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/backend/rbd.pp'],1,12305351286d10fdb58e3cf4983c0e6b5bac9499,,"# == Class: glare::backend::rbd# Configures the storage backend for glare # as a rbd instance.# === Parameters:# [*rbd_store_user*] # (Optional) Default: $::os_service_default.# [*rbd_store_pool*] # (Optional) Default: $::os_service_default.# [*rbd_store_ceph_conf*] # (Optional) Default: $::os_service_default.# [*rbd_store_chunk_size*] # (Optional) Default: $::os_service_default.# [*package_manage*] # (Optional) Whether manage ceph package state or not. # Defaults to true# [*package_ensure*] # (Optional) Desired ensure state of packages. # Defaults to present# [*rados_connect_timeout*] # (Optional) Timeout value (in seconds) used when connecting # to ceph cluster. If value <= 0, no timeout is set and # default librados value is used. # Default: $::os_service_default# (Optional) Boolean describing if multiple backends will be configured. $rbd_store_user = $::os_service_default, $rbd_store_ceph_conf = $::os_service_default, $rbd_store_pool = $::os_service_default, $rbd_store_chunk_size = $::os_service_default, $package_manage = true, $package_ensure = 'present', $rados_connect_timeout = $::os_service_default, $multi_store = false, ensure_packages('python-ceph', { ensure => $package_ensure, name => $::glare::params::pyceph_package_name, tag => 'glare-support-package', })","# == class: glare::backend::rbd# configures the storage backend for glare # as a rbd instance# === parameters:# [*rbd_store_user*] # Optional. Default: $::os_service_default.# [*rbd_store_pool*] # Optional. Default: $::os_service_default.# [*rbd_store_ceph_conf*] # Optional. Default: $::os_service_default.# [*rbd_store_chunk_size*] # Optional. Default: $::os_service_default.# [*show_image_direct_url*] # Optional. Enables direct COW from glare to rbd # DEPRECATED, use show_image_direct_url in glare::api# [*package_manage*] # (optional) Whether manage ceph package # state or not. # Defaults to true.# [*package_ensure*] # (optional) Desired ensure state of packages. # accepts latest or specific versions. # Defaults to present. # # [*rados_connect_timeout*] # Optinal. Timeout value (in seconds) used when connecting # to ceph cluster. If value <= 0, no timeout is set and # default librados value is used. # Default: $::os_service_default.# (optional) Boolean describing if multiple backends will be configured $rbd_store_user = $::os_service_default, $rbd_store_ceph_conf = $::os_service_default, $rbd_store_pool = $::os_service_default, $rbd_store_chunk_size = $::os_service_default, $package_manage = true, $package_ensure = 'present', $rados_connect_timeout = $::os_service_default, $multi_store = false, ensure_packages('python-ceph', { ensure => $package_ensure, name => $::glare::params::pyceph_package_name, tag => 'glare-support-package', } )",37,45
openstack%2Fopenstack-helm~master~I46d8e1aad71512b018728c1c08b1368ca62680e0,openstack/openstack-helm,master,I46d8e1aad71512b018728c1c08b1368ca62680e0,Update armada multinode manifest with osh-infra updates,ABANDONED,2018-05-18 13:53:52.000000000,2018-05-23 05:31:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-05-18 13:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7796589038a53487cf52f0ca349c54060f7d3f87', 'message': 'Update armada multinode manifest with osh-infra updates\n\nUpdates the armada multinode manifest to include recent changes to\nthe osh-infra charts\n\nChange-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0\n'}, {'number': 2, 'created': '2018-05-18 14:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ac147acf895259c29ef0f9f4ab44c6cb4e027ce', 'message': 'Update armada multinode manifest with osh-infra updates\n\nUpdates the armada multinode manifest to include recent changes to\nthe osh-infra charts\n\nChange-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0\n'}, {'number': 3, 'created': '2018-05-18 15:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e64f107e4504ead81de02b3227392c9751fb51ec', 'message': 'Update armada multinode manifest with osh-infra updates\n\nUpdates the armada multinode manifest to include recent changes to\nthe osh-infra charts\n\nChange-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0\n'}, {'number': 4, 'created': '2018-05-18 17:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0b1cd69fdc725880daa232f63ca0b0a374566be5', 'message': 'Update armada multinode manifest with osh-infra updates\n\nUpdates the armada multinode manifest to include recent changes to\nthe osh-infra charts\n\nChange-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0\n'}, {'number': 5, 'created': '2018-05-22 17:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e127250ed3efe59d15001706c99784b187e0f536', 'message': 'Update armada multinode manifest with osh-infra updates\n\nUpdates the armada multinode manifest to include recent changes to\nthe osh-infra charts\n\nChange-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0\n'}, {'number': 6, 'created': '2018-05-22 20:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/22465a704587b494ded8daa32af4ff139a8ab414', 'message': 'Update armada multinode manifest with osh-infra updates\n\nUpdates the armada multinode manifest to include recent changes to\nthe osh-infra charts\n\nChange-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0\n'}, {'number': 7, 'created': '2018-05-22 21:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e2d38aae3c2f516d1bb584f38e402d96b0415e26', 'message': 'Update armada multinode manifest with osh-infra updates\n\nUpdates the armada multinode manifest to include recent changes to\nthe osh-infra charts\n\nChange-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0\n'}, {'number': 8, 'created': '2018-05-23 01:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/37bead2e89bfa5a8d70feea262b38124012970fe', 'message': 'Update armada multinode manifest with osh-infra updates\n\nUpdates the armada multinode manifest to include recent changes to\nthe osh-infra charts\n\nChange-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0\n'}, {'number': 9, 'created': '2018-05-23 01:28:04.000000000', 'files': ['tools/deployment/armada/multinode/armada-cluster-ingress.yaml', 'tools/deployment/armada/multinode/armada-osh.yaml', 'tools/deployment/armada/multinode/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0d22d05c2440a677b3d9c431b7e5545e9cd79832', 'message': 'Update armada multinode manifest with osh-infra updates\n\nUpdates the armada multinode manifest to include recent changes to\nthe osh-infra charts\n\nChange-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0\n'}]",0,569413,0d22d05c2440a677b3d9c431b7e5545e9cd79832,15,2,9,17591,,,0,"Update armada multinode manifest with osh-infra updates

Updates the armada multinode manifest to include recent changes to
the osh-infra charts

Change-Id: I46d8e1aad71512b018728c1c08b1368ca62680e0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/13/569413/9 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/armada/multinode/armada-lma.yaml'],1,7796589038a53487cf52f0ca349c54060f7d3f87,fix_armada_gate," name: osh-infra-ldap data: chart_name: osh-infra-ldap release: osh-infra-ldap namespace: osh-infra timeout: 1800 install: no_hooks: false upgrade: no_hooks: false values: labels: server: node_selector_key: openstack-control-plane node_selector_value: enabled job: node_selector_key: openstack-control-plane node_selector_value: enabled source: type: local location: ${OSH_INFRA_PATH} subpath: ldap reference: master dependencies: - helm-toolkit --- schema: armada/Chart/v1 metadata: schema: metadata/Document/v1 name: osh-infra-ldap data: description: ""LDAP"" sequenced: True chart_group: - osh-infra-ldap --- schema: armada/ChartGroup/v1 metadata: schema: metadata/Document/v1 - osh-infra-ldap",,40,0
openstack%2Fhorizon~master~I40c709c7bb0c8538b56624dbfff1faea2eba9ee6,openstack/horizon,master,I40c709c7bb0c8538b56624dbfff1faea2eba9ee6,Fix mismatched attach_volume rule,MERGED,2018-05-22 22:15:00.000000000,2018-05-23 05:06:43.000000000,2018-05-23 05:06:43.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 22:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/931281d6e4028b8a8004ff28604eaef1fcadafb6', 'message': 'Fix mismatched attach_volume rule\n\nThe attach_volume rule on the Compute Instances and Volume pages\ndoes not match the rule in the nova_policy.json file, or what is\ngenerated from an oslo policy generation on Nova. Update the rule\nto match what is used in the default policy file, and what Nova\nuses in its unit tests.\n\nWhile looking at this, discovered that the detach_volume has a\nsimilar problem, with no rule that matches at all. It may make sense\nto have detach volume use similar permissions to attach\n\nChange-Id: I40c709c7bb0c8538b56624dbfff1faea2eba9ee6\nCloses-bug: 1772759\n'}, {'number': 2, 'created': '2018-05-22 22:49:59.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/tables.py', 'openstack_dashboard/dashboards/project/instances/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8e3903902d3eb6d6faca4fe2f01b1a8603d37d52', 'message': 'Fix mismatched attach_volume rule\n\nThe attach_volume rule on the Compute Instances and Volume pages\ndoes not match the rule in the nova_policy.json file, or what is\ngenerated from an oslo policy generation on Nova. Update the rule\nto match what is used in the default policy file, and what Nova\nuses in its unit tests.\n\nWhile looking at this, discovered that the detach_volume has a\nsimilar problem, with no rule that matches at all. It may make sense\nto have detach volume use similar permissions to attach\n\nChange-Id: I40c709c7bb0c8538b56624dbfff1faea2eba9ee6\nCloses-bug: 1772759\n'}]",0,570071,8e3903902d3eb6d6faca4fe2f01b1a8603d37d52,8,2,2,12156,,,0,"Fix mismatched attach_volume rule

The attach_volume rule on the Compute Instances and Volume pages
does not match the rule in the nova_policy.json file, or what is
generated from an oslo policy generation on Nova. Update the rule
to match what is used in the default policy file, and what Nova
uses in its unit tests.

While looking at this, discovered that the detach_volume has a
similar problem, with no rule that matches at all. It may make sense
to have detach volume use similar permissions to attach

Change-Id: I40c709c7bb0c8538b56624dbfff1faea2eba9ee6
Closes-bug: 1772759
",git fetch https://review.opendev.org/openstack/horizon refs/changes/71/570071/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/volumes/tables.py', 'openstack_dashboard/dashboards/project/instances/tables.py']",2,931281d6e4028b8a8004ff28604eaef1fcadafb6,bug/1772759," policy_rules = ((""compute"", ""os_compute_api:servers:create:attach_volume""),)"," policy_rules = ((""compute"", ""os_compute_api:servers:attach_volume""),)",2,2
openstack%2Fpython-tripleoclient~master~Ib034765639667f49d4bfd92a2186ff5f022a938d,openstack/python-tripleoclient,master,Ib034765639667f49d4bfd92a2186ff5f022a938d,"Add -y option to ""openstack undercloud upgrade""",MERGED,2018-05-22 22:39:52.000000000,2018-05-23 04:59:03.000000000,2018-05-23 04:59:03.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-05-22 22:39:52.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/undercloud.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9cc04d25f3f53d3ec5f355ef82cdf41a0c384fb2', 'message': 'Add -y option to ""openstack undercloud upgrade""\n\nIt was added to ""openstack tripleo upgrade"" but wasn\'t working for the\nundercloud, so adding it and we will use it when upgrading the\nundercloud without prompt.\n\nChange-Id: Ib034765639667f49d4bfd92a2186ff5f022a938d\n'}]",0,570076,9cc04d25f3f53d3ec5f355ef82cdf41a0c384fb2,11,7,1,3153,,,0,"Add -y option to ""openstack undercloud upgrade""

It was added to ""openstack tripleo upgrade"" but wasn't working for the
undercloud, so adding it and we will use it when upgrading the
undercloud without prompt.

Change-Id: Ib034765639667f49d4bfd92a2186ff5f022a938d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/76/570076/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/undercloud.py']",3,9cc04d25f3f53d3ec5f355ef82cdf41a0c384fb2,fix/upgrades," parser.add_argument('-y', '--yes', default=False, action='store_true', help=_(""Skip yes/no prompt (assume yes)."")) yes=parsed_args.yes,",,64,1
openstack%2Foctavia~master~Id4bf209c202893c93b43fe723c02d03b8c207ab5,openstack/octavia,master,Id4bf209c202893c93b43fe723c02d03b8c207ab5,Implement provider drivers - Pool,MERGED,2018-05-07 18:33:06.000000000,2018-05-23 03:30:22.000000000,2018-05-23 03:30:22.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-07 18:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a5883883b6fa68654d155dd8120363081f43a3c1', 'message': 'Implement provider drivers - Pool\n\nThis patch adds provider driver support to the Octavia v2\nPool API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the pool methods.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/565640\nChange-Id: Id4bf209c202893c93b43fe723c02d03b8c207ab5\n'}, {'number': 2, 'created': '2018-05-07 18:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0c6cc6f688f68c331401f0ddfb7851a79e8e293b', 'message': 'Implement provider drivers - Pool\n\nThis patch adds provider driver support to the Octavia v2\nPool API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the pool methods.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/565640\nChange-Id: Id4bf209c202893c93b43fe723c02d03b8c207ab5\n'}, {'number': 3, 'created': '2018-05-12 00:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5da6291b4a6846255d5bcc81b74ce0bdedeaf828', 'message': 'Implement provider drivers - Pool\n\nThis patch adds provider driver support to the Octavia v2\nPool API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the pool methods.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/565640\nChange-Id: Id4bf209c202893c93b43fe723c02d03b8c207ab5\n'}, {'number': 4, 'created': '2018-05-16 03:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cf6c99dc43afd0b09ec8cec98adb090735ef2c80', 'message': 'Implement provider drivers - Pool\n\nThis patch adds provider driver support to the Octavia v2\nPool API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the pool methods.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/565640\nChange-Id: Id4bf209c202893c93b43fe723c02d03b8c207ab5\n'}, {'number': 5, 'created': '2018-05-16 04:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4481c9c7c4e24aaa67738ea5a058a4e6b3ad3ee4', 'message': 'Implement provider drivers - Pool\n\nThis patch adds provider driver support to the Octavia v2\nPool API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the pool methods.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/565640\nChange-Id: Id4bf209c202893c93b43fe723c02d03b8c207ab5\n'}, {'number': 6, 'created': '2018-05-23 00:27:01.000000000', 'files': ['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/drivers/amphora_driver/driver.py', 'octavia/common/constants.py', 'octavia/api/v2/controllers/pool.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0acb622262640587d9f73ca6870da6314bd77e1d', 'message': 'Implement provider drivers - Pool\n\nThis patch adds provider driver support to the Octavia v2\nPool API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the pool methods.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/565640\nChange-Id: Id4bf209c202893c93b43fe723c02d03b8c207ab5\n'}]",14,566698,0acb622262640587d9f73ca6870da6314bd77e1d,21,4,6,11628,,,0,"Implement provider drivers - Pool

This patch adds provider driver support to the Octavia v2
Pool API.

This patch also creates a provider driver for Octavia, fully
implementing the pool methods.

Story: 1655768
Task: 5165

Depends-On: https://review.openstack.org/565640
Change-Id: Id4bf209c202893c93b43fe723c02d03b8c207ab5
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/566698/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/drivers/amphora_driver/driver.py', 'octavia/common/constants.py', 'octavia/api/v2/controllers/pool.py']",4,a5883883b6fa68654d155dd8120363081f43a3c1,provider-driver,"from octavia.api.drivers import data_models as driver_dm from octavia.api.drivers import driver_factory from octavia.api.drivers import utils as driver_utils pool.project_id, provider = self._get_lb_project_id_provider( context.session, pool.loadbalancer_id) pool.project_id, provider = self._get_lb_project_id_provider( context.session, pool.loadbalancer_id) # Load the driver early as it also provides validation driver = driver_factory.get_driver(provider) # Prepare the data for the driver data model provider_pool = ( driver_utils.db_pool_to_provider_pool(db_pool)) # Dispatch to the driver LOG.info(""Sending create Pool %s to provider %s"", db_pool.id, provider) driver_utils.call_provider( provider, driver.pool_create, provider_pool) db_pool = self._get_db_pool(context.session, db_pool.id) result = self._convert_db_to_type(db_pool, pool_types.PoolResponse) return pool_types.PoolRootResponse(pool=result) project_id, provider = self._get_lb_project_id_provider( context.session, db_pool.load_balancer_id) self._auth_validate_action(context, project_id, constants.RBAC_PUT) # Load the driver early as it also provides validation driver = driver_factory.get_driver(provider) with db_api.get_lock_session() as lock_session: self._test_lb_and_listener_statuses( context.session, lb_id=db_pool.load_balancer_id, listener_ids=self._get_affected_listener_ids(db_pool)) self.repositories.pool.update( context.session, db_pool.id, provisioning_status=constants.PENDING_UPDATE) # Prepare the data for the driver data model pool_dict = pool.to_dict(render_unsets=False) pool_dict['id'] = id provider_pool_dict = ( driver_utils.pool_dict_to_provider_dict(pool_dict)) # Dispatch to the driver LOG.info(""Sending update Pool %s to provider %s"", id, provider) driver_utils.call_provider( provider, driver.pool_update, driver_dm.Pool.from_dict(provider_pool_dict)) # Update the database to reflect what the driver just accepted db_pool_dict = pool.to_dict(render_unsets=False) self.repositories.update_pool_and_sp(lock_session, id, db_pool_dict) # Force SQL alchemy to query the DB, otherwise we get inconsistent # results context.session.expire_all() project_id, provider = self._get_lb_project_id_provider( context.session, db_pool.load_balancer_id) self._auth_validate_action(context, project_id, constants.RBAC_DELETE) # Load the driver early as it also provides validation driver = driver_factory.get_driver(provider) with db_api.get_lock_session() as lock_session: self._test_lb_and_listener_statuses( lock_session, lb_id=db_pool.load_balancer_id, listener_ids=self._get_affected_listener_ids(db_pool)) self.repositories.pool.update( lock_session, db_pool.id, provisioning_status=constants.PENDING_DELETE) LOG.info(""Sending delete Pool %s to provider %s"", id, provider) driver_utils.call_provider(provider, driver.pool_delete, id)"," def _send_pool_to_handler(self, session, db_pool, listener_id): try: LOG.info(""Sending Creation of Pool %s to handler"", db_pool.id) self.handler.create(db_pool) except Exception: with excutils.save_and_reraise_exception( reraise=False), db_api.get_lock_session() as lock_session: self._reset_lb_and_listener_statuses( lock_session, lb_id=db_pool.load_balancer_id, listener_ids=[listener_id] if listener_id else []) # Pool now goes to ERROR self.repositories.pool.update( lock_session, db_pool.id, provisioning_status=constants.ERROR) db_pool = self._get_db_pool(session, db_pool.id) result = self._convert_db_to_type(db_pool, pool_types.PoolResponse) return pool_types.PoolRootResponse(pool=result) pool.project_id = self._get_lb_project_id(context.session, pool.loadbalancer_id) pool.project_id = listener.project_id return self._send_pool_to_handler(context.session, db_pool, listener_id=listener_id) self._auth_validate_action(context, db_pool.project_id, constants.RBAC_PUT) self._test_lb_and_listener_statuses( context.session, lb_id=db_pool.load_balancer_id, listener_ids=self._get_affected_listener_ids(db_pool)) self.repositories.pool.update( context.session, db_pool.id, provisioning_status=constants.PENDING_UPDATE) try: LOG.info(""Sending Update of Pool %s to handler"", id) self.handler.update(db_pool, pool) except Exception: with excutils.save_and_reraise_exception( reraise=False), db_api.get_lock_session() as lock_session: self._reset_lb_and_listener_statuses( lock_session, lb_id=db_pool.load_balancer_id, listener_ids=self._get_affected_listener_ids(db_pool)) # Pool now goes to ERROR self.repositories.pool.update( lock_session, db_pool.id, provisioning_status=constants.ERROR) self._auth_validate_action(context, db_pool.project_id, constants.RBAC_DELETE) self._test_lb_and_listener_statuses( context.session, lb_id=db_pool.load_balancer_id, listener_ids=self._get_affected_listener_ids(db_pool)) self.repositories.pool.update( context.session, db_pool.id, provisioning_status=constants.PENDING_DELETE) try: LOG.info(""Sending Deletion of Pool %s to handler"", db_pool.id) self.handler.delete(db_pool) except Exception: with excutils.save_and_reraise_exception( reraise=False), db_api.get_lock_session() as lock_session: self._reset_lb_and_listener_statuses( lock_session, lb_id=db_pool.load_balancer_id, listener_ids=self._get_affected_listener_ids(db_pool)) # Pool now goes to ERROR self.repositories.pool.update( lock_session, db_pool.id, provisioning_status=constants.ERROR)",116,100
openstack%2Foctavia~master~I386097197f51d94b34f9a7fd7af7b36238294faf,openstack/octavia,master,I386097197f51d94b34f9a7fd7af7b36238294faf,Implement provider drivers - Listener,MERGED,2018-05-04 18:32:13.000000000,2018-05-23 03:26:45.000000000,2018-05-23 03:26:45.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2018-05-04 18:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4acfffe57f75e97c85be9db61d0c6e7e95ed0fa2', 'message': 'Implement provider drivers - Listener\n\nThis patch adds provider driver support to the Octavia v2\nListener API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the listener methods.\n\nFollow on patches will implement the remain parts of the API.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/492311\nChange-Id: I386097197f51d94b34f9a7fd7af7b36238294faf\n'}, {'number': 2, 'created': '2018-05-04 23:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b4498d0704c6edbd93f81a5d2db315711e2252d2', 'message': 'Implement provider drivers - Listener\n\nThis patch adds provider driver support to the Octavia v2\nListener API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the listener methods.\n\nThis patch also corrects the basic cookbook example for adding SNI\ncertificates to a listener.\n\nFollow on patches will implement the remain parts of the API.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/492311\nChange-Id: I386097197f51d94b34f9a7fd7af7b36238294faf\n'}, {'number': 3, 'created': '2018-05-05 00:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/01112a9ba5cbd8ad7bf170893ed010795670fa97', 'message': 'Implement provider drivers - Listener\n\nThis patch adds provider driver support to the Octavia v2\nListener API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the listener methods.\n\nThis patch also corrects the basic cookbook example for adding SNI\ncertificates to a listener.\n\nFollow on patches will implement the remain parts of the API.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/492311\nChange-Id: I386097197f51d94b34f9a7fd7af7b36238294faf\n'}, {'number': 4, 'created': '2018-05-05 01:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/68d09497f386aacff3bcdf89100c5f4112997279', 'message': 'Implement provider drivers - Listener\n\nThis patch adds provider driver support to the Octavia v2\nListener API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the listener methods.\n\nThis patch also corrects the basic cookbook example for adding SNI\ncertificates to a listener.\n\nFollow on patches will implement the remain parts of the API.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/492311\nChange-Id: I386097197f51d94b34f9a7fd7af7b36238294faf\n'}, {'number': 5, 'created': '2018-05-05 01:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6d3281d60767c1342fb5bf843a514456842d0f7b', 'message': 'Implement provider drivers - Listener\n\nThis patch adds provider driver support to the Octavia v2\nListener API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the listener methods.\n\nThis patch also corrects the basic cookbook example for adding SNI\ncertificates to a listener.\n\nFollow on patches will implement the remain parts of the API.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/492311\nChange-Id: I386097197f51d94b34f9a7fd7af7b36238294faf\n'}, {'number': 6, 'created': '2018-05-05 01:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b6cfc325b7c81e739555b6f4e3f30920f2dc3b4', 'message': 'Implement provider drivers - Listener\n\nThis patch adds provider driver support to the Octavia v2\nListener API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the listener methods.\n\nThis patch also corrects the basic cookbook example for adding SNI\ncertificates to a listener.\n\nFollow on patches will implement the remain parts of the API.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/492311\nChange-Id: I386097197f51d94b34f9a7fd7af7b36238294faf\n'}, {'number': 7, 'created': '2018-05-12 00:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/388af3197676304d07c6bf13c9f9937ffc859d61', 'message': 'Implement provider drivers - Listener\n\nThis patch adds provider driver support to the Octavia v2\nListener API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the listener methods.\n\nThis patch also corrects the basic cookbook example for adding SNI\ncertificates to a listener.\n\nFollow on patches will implement the remain parts of the API.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/492311\nChange-Id: I386097197f51d94b34f9a7fd7af7b36238294faf\n'}, {'number': 8, 'created': '2018-05-15 23:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5968b6b2b970d83f60f26382d0ab8014fe8c87f3', 'message': 'Implement provider drivers - Listener\n\nThis patch adds provider driver support to the Octavia v2\nListener API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the listener methods.\n\nThis patch also corrects the basic cookbook example for adding SNI\ncertificates to a listener.\n\nFollow on patches will implement the remain parts of the API.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/492311\nChange-Id: I386097197f51d94b34f9a7fd7af7b36238294faf\n'}, {'number': 9, 'created': '2018-05-23 00:26:43.000000000', 'files': ['octavia/api/drivers/amphora_driver/driver.py', 'doc/source/user/guides/basic-cookbook.rst', 'octavia/api/drivers/data_models.py', 'octavia/api/drivers/utils.py', 'octavia/common/constants.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/unit/api/drivers/test_data_models.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'specs/version1.1/enable-provider-driver.rst', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/base.py', 'octavia/api/v2/controllers/listener.py', 'octavia/tests/unit/api/drivers/test_provider_noop_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7a24b08434f728c10b2bec3111f9a7b23ad2d5e2', 'message': 'Implement provider drivers - Listener\n\nThis patch adds provider driver support to the Octavia v2\nListener API.\n\nThis patch also creates a provider driver for Octavia, fully\nimplementing the listener methods.\n\nThis patch also corrects the basic cookbook example for adding SNI\ncertificates to a listener.\n\nFollow on patches will implement the remain parts of the API.\n\nStory: 1655768\nTask: 5165\n\nDepends-On: https://review.openstack.org/492311\nChange-Id: I386097197f51d94b34f9a7fd7af7b36238294faf\n'}]",16,566379,7a24b08434f728c10b2bec3111f9a7b23ad2d5e2,25,5,9,11628,,,0,"Implement provider drivers - Listener

This patch adds provider driver support to the Octavia v2
Listener API.

This patch also creates a provider driver for Octavia, fully
implementing the listener methods.

This patch also corrects the basic cookbook example for adding SNI
certificates to a listener.

Follow on patches will implement the remain parts of the API.

Story: 1655768
Task: 5165

Depends-On: https://review.openstack.org/492311
Change-Id: I386097197f51d94b34f9a7fd7af7b36238294faf
",git fetch https://review.opendev.org/openstack/octavia refs/changes/79/566379/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/drivers/amphora_driver/driver.py', 'octavia/common/constants.py', 'octavia/api/drivers/data_models.py', 'octavia/tests/unit/api/drivers/test_data_models.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'specs/version1.1/enable-provider-driver.rst', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/base.py', 'octavia/api/v2/controllers/listener.py', 'octavia/tests/unit/api/drivers/test_provider_noop_driver.py', 'octavia/api/drivers/utils.py']",11,4acfffe57f75e97c85be9db61d0c6e7e95ed0fa2,provider-driver,"import six provider_listener = db_listener_to_provider_listener(listener) provider_listeners.append(provider_listener)def db_listener_to_provider_listener(db_listener): new_listener_dict = listener_dict_to_provider_dict( db_listener.to_dict(recurse=True)) if ('default_pool' in new_listener_dict and new_listener_dict['default_pool']): provider_pool = db_pool_to_provider_pool(db_listener.default_pool) new_listener_dict['default_pool_id'] = provider_pool.pool_id new_listener_dict['default_pool'] = provider_pool if 'l7policies' in new_listener_dict: new_listener_dict['l7policies'] = ( db_l7policies_to_provider_l7policies(db_listener.l7policies)) provider_listener = driver_dm.Listener.from_dict(new_listener_dict) return provider_listener new_listener_dict['default_tls_container_ref'] = new_listener_dict.pop( 'tls_certificate_id') if 'sni_containers' in new_listener_dict: new_listener_dict['sni_container_refs'] = new_listener_dict.pop( 'sni_containers') if 'sni_container_refs' in listener_dict: listener_dict['sni_containers'] = listener_dict.pop( 'sni_container_refs') elif isinstance(sni, six.string_types): sni_obj = data_models.SNI(tls_container_id=sni) SNI_objs.append(sni_obj) if 'tls_cert' in cert_dict: new_listener_dict['default_tls_container_data'] = ( cert_dict['tls_cert']) if 'sni_certs' in cert_dict: new_listener_dict['sni_container_data'] = cert_dict['sni_certs'] if 'l7policies' in new_listener_dict: l7policies = new_listener_dict.pop('l7policies') for l7policy in l7policies: provider_l7policy = l7policy_dict_to_provider_dict(l7policy) provider_l7policies.append(provider_l7policy) new_listener_dict['l7policies'] = provider_l7policies", new_listener_dict = listener_dict_to_provider_dict( listener.to_dict(recurse=True)) if ('default_pool' in new_listener_dict and new_listener_dict['default_pool']): provider_pool = db_pool_to_provider_pool(listener.default_pool) new_listener_dict['default_pool_id'] = provider_pool.pool_id new_listener_dict['default_pool'] = provider_pool if 'l7policies' in new_listener_dict: new_listener_dict['l7policies'] = ( db_l7policies_to_provider_l7policies(listener.l7policies)) provider_listeners.append( driver_dm.Listener.from_dict(new_listener_dict)) del new_listener_dict['tls_certificate_id'] if 'sni_containers' in new_listener_dict: del new_listener_dict['sni_containers'] new_listener_dict['default_tls_container'] = cert_dict['tls_cert'] new_listener_dict['sni_containers'] = cert_dict['sni_certs'] l7policies = new_listener_dict.pop('l7policies') for l7policy in l7policies: provider_l7policy = l7policy_dict_to_provider_dict(l7policy) provider_l7policies.append(provider_l7policy) new_listener_dict['l7policies'] = provider_l7policies,331,213
openstack%2Fopenstack-ansible-os_nova~master~I6ee3da9cc4b54ba6941bc72c35d8a8b9c3f3cc14,openstack/openstack-ansible-os_nova,master,I6ee3da9cc4b54ba6941bc72c35d8a8b9c3f3cc14,SUSE: Explicitly add all the available libvirt storage drivers,MERGED,2018-05-21 09:36:42.000000000,2018-05-23 03:21:43.000000000,2018-05-23 03:21:43.000000000,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 13404}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-05-21 09:36:42.000000000', 'files': ['vars/suse-42.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7d9e7df7b1c8f27de4bfaec9234e5ec25a9892e6', 'message': ""SUSE: Explicitly add all the available libvirt storage drivers\n\nWe explicitly add all the available libvirt storage drivers in order to\nensure that we can support as many storage backends as possible. This\nshould fix problems when using a ceph backend like the following one:\n\n'Unknown protocol 'rbd' _do_build_and_run_instance'\n\nChange-Id: I6ee3da9cc4b54ba6941bc72c35d8a8b9c3f3cc14\n""}]",0,569760,7d9e7df7b1c8f27de4bfaec9234e5ec25a9892e6,20,16,1,23163,,,0,"SUSE: Explicitly add all the available libvirt storage drivers

We explicitly add all the available libvirt storage drivers in order to
ensure that we can support as many storage backends as possible. This
should fix problems when using a ceph backend like the following one:

'Unknown protocol 'rbd' _do_build_and_run_instance'

Change-Id: I6ee3da9cc4b54ba6941bc72c35d8a8b9c3f3cc14
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/60/569760/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse-42.yml'],1,7d9e7df7b1c8f27de4bfaec9234e5ec25a9892e6,add-storage-package-opensuse, - libvirt-daemon-driver-storage-core - libvirt-daemon-driver-storage-disk - libvirt-daemon-driver-storage-iscsi - libvirt-daemon-driver-storage-logical - libvirt-daemon-driver-storage-mpath - libvirt-daemon-driver-storage-rbd - libvirt-daemon-driver-storage-scsi,,7,0
openstack%2Foctavia~master~Ia15280827799d1800c23ed76d2af0e3596b9d2f7,openstack/octavia,master,Ia15280827799d1800c23ed76d2af0e3596b9d2f7,Implement provider drivers - Load Balancer,MERGED,2018-04-24 00:39:40.000000000,2018-05-23 03:14:36.000000000,2018-05-23 03:14:36.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10237}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 15309}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25564}]","[{'number': 1, 'created': '2018-04-24 00:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/02b43b98d5ef769264f896c6ad8a09de3ef44b10', 'message': 'Implement provider drivers\n\nThis patch adds provider driver support to the Octavia v2 API.\n\nThis patch also creates a provider driver for Octavia.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 2, 'created': '2018-04-24 05:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/28ff8ddb4ce97810664a9cbcf8922f2bf4b65344', 'message': 'Implement provider drivers\n\nThis patch adds provider driver support to the Octavia v2 API.\n\nThis patch also creates a provider driver for Octavia.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 3, 'created': '2018-04-24 05:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8c6c3861616e76e198e8011e8f5234434b1c17c7', 'message': 'Implement provider drivers\n\nThis patch adds provider driver support to the Octavia v2 API.\n\nThis patch also creates a provider driver for Octavia.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 4, 'created': '2018-04-24 23:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ab0459924ece1200ce94eaa24273798c074f6bb3', 'message': 'Implement provider drivers\n\nThis patch adds provider driver support to the Octavia v2 API.\n\nThis patch also creates a provider driver for Octavia.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 5, 'created': '2018-04-27 16:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/aaf12d85fe6609de23eb9f19c4b6b0b565bc8a15', 'message': 'Implement provider drivers\n\nThis patch adds provider driver support to the Octavia v2 API.\n\nThis patch also creates a provider driver for Octavia.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 6, 'created': '2018-04-27 16:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d3be95184fd778b7fe35dad157df506aad09657f', 'message': 'Implement provider drivers\n\nThis patch adds provider driver support to the Octavia v2 API.\n\nThis patch also creates a provider driver for Octavia.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 7, 'created': '2018-04-28 01:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6dcbdd9c4b19f3db767536cb0da1f4459058e355', 'message': 'Implement provider drivers\n\nThis patch adds provider driver support to the Octavia v2 API.\n\nThis patch also creates a provider driver for Octavia.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 8, 'created': '2018-05-02 01:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/53ff37e8b74968cbbb773bcbf5175188310c5393', 'message': 'Implement provider drivers\n\nThis patch adds provider driver support to the Octavia v2 API.\n\nThis patch also creates a provider driver for Octavia.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 9, 'created': '2018-05-02 22:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f1587da9b301304f660a1b26ecceb73f6b70a43c', 'message': 'Implement provider drivers - Load Balancer\n\nThis patch adds provider driver support to the Octavia v2 API, starting\nwith the load balancer API.\n\nThis patch also creates a provider driver for Octavia, initially fully\nimplementing the load balancer methods.\n\nFollow on patches will implement the remain parts of the API.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 10, 'created': '2018-05-05 00:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d71b338ad78731bd257097f526754820d4d7d84a', 'message': 'Implement provider drivers - Load Balancer\n\nThis patch adds provider driver support to the Octavia v2 API, starting\nwith the load balancer API.\n\nThis patch also creates a provider driver for Octavia, initially fully\nimplementing the load balancer methods.\n\nFollow on patches will implement the remain parts of the API.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 11, 'created': '2018-05-05 01:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/73814712d7a97388de56bd428818a1a49b63418b', 'message': 'Implement provider drivers - Load Balancer\n\nThis patch adds provider driver support to the Octavia v2 API, starting\nwith the load balancer API.\n\nThis patch also creates a provider driver for Octavia, initially fully\nimplementing the load balancer methods.\n\nFollow on patches will implement the remain parts of the API.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 12, 'created': '2018-05-12 00:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4e53710e101a830bc331da7d6773135ac554bb09', 'message': 'Implement provider drivers - Load Balancer\n\nThis patch adds provider driver support to the Octavia v2 API, starting\nwith the load balancer API.\n\nThis patch also creates a provider driver for Octavia, initially fully\nimplementing the load balancer methods.\n\nFollow on patches will implement the remain parts of the API.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}, {'number': 13, 'created': '2018-05-23 00:26:10.000000000', 'files': ['octavia/common/config.py', 'octavia/api/drivers/amphora_driver/driver.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/api/config.py', 'octavia/tests/functional/api/v2/base.py', 'etc/octavia.conf', 'octavia/tests/unit/api/drivers/test_provider_base.py', 'octavia/common/constants.py', 'octavia/api/drivers/amphora_driver/__init__.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/common/exceptions.py', 'octavia/db/models.py', 'octavia/api/drivers/data_models.py', 'octavia/api/drivers/utils.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/api/v2/types/load_balancer.py', 'octavia/common/data_models.py', 'octavia/api/drivers/noop_driver/driver.py', 'octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/drivers/provider_base.py', 'octavia/db/migration/alembic_migrations/versions/0f242cf02c74_add_provider_column.py', 'octavia/tests/unit/api/drivers/test_data_models.py', 'setup.cfg', 'specs/version1.1/enable-provider-driver.rst', 'octavia/api/v2/controllers/listener.py', 'octavia/tests/unit/api/drivers/test_provider_noop_driver.py', 'octavia/api/drivers/driver_factory.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7b2621fe29ced20d4500a735acd4ca423ce5b210', 'message': 'Implement provider drivers - Load Balancer\n\nThis patch adds provider driver support to the Octavia v2 API, starting\nwith the load balancer API.\n\nThis patch also creates a provider driver for Octavia, initially fully\nimplementing the load balancer methods.\n\nFollow on patches will implement the remain parts of the API.\n\nChange-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7\nStory: 1655768\nTask: 5165\n'}]",111,563795,7b2621fe29ced20d4500a735acd4ca423ce5b210,61,10,13,11628,,,0,"Implement provider drivers - Load Balancer

This patch adds provider driver support to the Octavia v2 API, starting
with the load balancer API.

This patch also creates a provider driver for Octavia, initially fully
implementing the load balancer methods.

Follow on patches will implement the remain parts of the API.

Change-Id: Ia15280827799d1800c23ed76d2af0e3596b9d2f7
Story: 1655768
Task: 5165
",git fetch https://review.opendev.org/openstack/octavia refs/changes/95/563795/13 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/api/drivers/octavia_driver/__init__.py', 'octavia/db/models.py', 'octavia/api/config.py', 'etc/octavia.conf', 'octavia/api/v2/types/load_balancer.py', 'octavia/common/data_models.py', 'octavia/api/drivers/octavia_driver/driver.py', 'octavia/db/migration/alembic_migrations/versions/0f242cf02c74_add_provider_column.py', 'setup.cfg', 'octavia/common/exceptions.py', 'octavia/api/drivers/driver_factory.py']",13,02b43b98d5ef769264f896c6ad8a09de3ef44b10,provider-lb,"# Copyright 2018 Rackspace, US Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_config import cfg from oslo_log import log as logging from stevedore import driver as stevedore_driver from octavia.common import exceptions CONF = cfg.CONF LOG = logging.getLogger(__name__) def get_driver(provider): if not provider: provider = CONF.api_settings.default_provider_driver if provider not in CONF.api_settings.enabled_provider_drivers: LOG.warning(""Requested provider driver '{}' was not enabled in the "" ""configuration file."".format(provider)) raise exceptions.ProviderNotEnabled(prov=provider) try: driver = stevedore_driver.DriverManager( namespace='octavia.api.drivers', name=provider, invoke_on_load=True).driver except Exception as e: LOG.error('Unable to load provider driver {0} due to: {1}'.format( provider, e)) raise exceptions.ProviderNotFound(prov=provider) return driver ",,298,17
openstack%2Fneutron~stable%2Focata~Icb039ae2d465e3822ab07ae4f9bc405c1362afba,openstack/neutron,stable/ocata,Icb039ae2d465e3822ab07ae4f9bc405c1362afba,ml2: fix update_device_up to send lm events with linux bridge,MERGED,2018-04-13 08:41:09.000000000,2018-05-23 03:11:37.000000000,2018-05-23 03:11:37.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7730}, {'_account_id': 10135}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-13 08:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a204f377fd1a2963c7f27fb5d8c63ecdbe093622', 'message': ""ml2: fix update_device_up to send lm events with linux bridge\n\nIn case of a live migration and with linux bridge the events are not\nsent to Nova, because the port UUID returned by _device_to_port_id may\nbe a truncated UUID and the current plugin._get_port() can't find it.\n\nRelated-Bug: #1414559\nChange-Id: Icb039ae2d465e3822ab07ae4f9bc405c1362afba\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n(cherry picked from commit 38b3d4e16ac76d97f64f264c68ef9b88d66e0324)\n(cherry picked from commit 50988f3f3665adb4dd481aff5515a81878c8e067)\n""}, {'number': 2, 'created': '2018-04-16 13:12:12.000000000', 'files': ['neutron/plugins/ml2/rpc.py', 'neutron/tests/unit/plugins/ml2/test_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9c6610cb60f2da152f567aaa1b0cdb9edef2957', 'message': ""ml2: fix update_device_up to send lm events with linux bridge\n\nIn case of a live migration and with linux bridge the events are not\nsent to Nova, because the port UUID returned by _device_to_port_id may\nbe a truncated UUID and the current plugin._get_port() can't find it.\n\nConflicts:\n        neutron/tests/unit/plugins/ml2/test_rpc.py\n\nNOTE(lyarwood): Test conflict introducing an additional mock for ml2_db,\nrequired prior to Pike and Ia15c63f94d2c67791da3b65546e59f6929c8c685.\n\nRelated-Bug: #1414559\nChange-Id: Icb039ae2d465e3822ab07ae4f9bc405c1362afba\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n(cherry picked from commit 38b3d4e16ac76d97f64f264c68ef9b88d66e0324)\n(cherry picked from commit 50988f3f3665adb4dd481aff5515a81878c8e067)\n""}]",0,561160,d9c6610cb60f2da152f567aaa1b0cdb9edef2957,16,6,2,10135,,,0,"ml2: fix update_device_up to send lm events with linux bridge

In case of a live migration and with linux bridge the events are not
sent to Nova, because the port UUID returned by _device_to_port_id may
be a truncated UUID and the current plugin._get_port() can't find it.

Conflicts:
        neutron/tests/unit/plugins/ml2/test_rpc.py

NOTE(lyarwood): Test conflict introducing an additional mock for ml2_db,
required prior to Pike and Ia15c63f94d2c67791da3b65546e59f6929c8c685.

Related-Bug: #1414559
Change-Id: Icb039ae2d465e3822ab07ae4f9bc405c1362afba
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
(cherry picked from commit 38b3d4e16ac76d97f64f264c68ef9b88d66e0324)
(cherry picked from commit 50988f3f3665adb4dd481aff5515a81878c8e067)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/561160/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/rpc.py', 'neutron/tests/unit/plugins/ml2/test_rpc.py']",2,a204f377fd1a2963c7f27fb5d8c63ecdbe093622,bug/1414559,"from neutron.plugins.ml2 import db as ml2_db with mock.patch.object(ml2_db, 'get_port') as ml2_db_get_port: self.assertIsNone(self._test_update_device_not_bound_to_host( self.callbacks.update_device_up)) port = ml2_db_get_port.return_value (self.plugin.nova_notifier.notify_port_active_direct. assert_called_once_with(port))", self.assertIsNone(self._test_update_device_not_bound_to_host( self.callbacks.update_device_up)) port = self.plugin._get_port.return_value (self.plugin.nova_notifier.notify_port_active_direct. assert_called_once_with(port)),11,9
openstack%2Fnetworking-midonet~master~I7efdaf94257594ffa2db5633bcc9cae8ad9689ce,openstack/networking-midonet,master,I7efdaf94257594ffa2db5633bcc9cae8ad9689ce,use neutron-lib plugin utils,MERGED,2018-04-30 19:32:22.000000000,2018-05-23 03:04:35.000000000,2018-05-23 03:04:25.000000000,"[{'_account_id': 156}, {'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-30 19:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e553434ad556752266ed26a7c2270d10ef73e5a0', 'message': 'use neutron-lib plugin utils\n\nThe remainder of neutron.plugins.common.utils is now in neutron-lib.\nThis patch consumes it in prep for the corresponding neutron commit\nhttps://review.openstack.org/#/c/565284\n\nChange-Id: I7efdaf94257594ffa2db5633bcc9cae8ad9689ce\n'}, {'number': 2, 'created': '2018-05-02 15:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/25801a1ee56c317bf7a993316c4adcfc6c9e3b0c', 'message': 'use neutron-lib plugin utils\n\nThe remainder of neutron.plugins.common.utils is now in neutron-lib.\nThis patch consumes it in prep for the corresponding neutron commit\nhttps://review.openstack.org/#/c/565284\n\nIt also bumps the neutron-lib requirement up to 1.14.0\n\nChange-Id: I7efdaf94257594ffa2db5633bcc9cae8ad9689ce\n'}, {'number': 3, 'created': '2018-05-21 20:10:29.000000000', 'files': ['requirements.txt', 'midonet/neutron/db/l3_db_midonet.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/4f2dd59fe0cafaabb3f5bc61401db2490532ef39', 'message': 'use neutron-lib plugin utils\n\nThe remainder of neutron.plugins.common.utils is now in neutron-lib.\nThis patch consumes it in prep for the corresponding neutron commit\nhttps://review.openstack.org/#/c/565284\n\nIt also bumps the neutron-lib requirement up to 1.14.0\n\nChange-Id: I7efdaf94257594ffa2db5633bcc9cae8ad9689ce\n'}]",0,565286,4f2dd59fe0cafaabb3f5bc61401db2490532ef39,14,6,3,5367,,,0,"use neutron-lib plugin utils

The remainder of neutron.plugins.common.utils is now in neutron-lib.
This patch consumes it in prep for the corresponding neutron commit
https://review.openstack.org/#/c/565284

It also bumps the neutron-lib requirement up to 1.14.0

Change-Id: I7efdaf94257594ffa2db5633bcc9cae8ad9689ce
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/86/565286/3 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/db/l3_db_midonet.py'],1,e553434ad556752266ed26a7c2270d10ef73e5a0,use-lib-pluginutils," external_port = plugin_utils.create_port( self._core_plugin, context.elevated(), {'port': port}, check_allow_post=False)","from neutron.plugins.common import utils as p_utils external_port = p_utils.create_port(self._core_plugin, context.elevated(), {'port': port}, check_allow_post=False)",3,5
openstack%2Fnetworking-bagpipe~master~Ida2869ce9806e182d0489ab4a159111ac805cc4b,openstack/networking-bagpipe,master,Ida2869ce9806e182d0489ab4a159111ac805cc4b,dashboard: use new neutronclient,MERGED,2018-05-23 00:47:12.000000000,2018-05-23 02:53:39.000000000,2018-05-23 02:53:38.000000000,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-23 00:47:12.000000000', 'files': ['networking_bagpipe/tests/fullstack/resources/bgpvpn/client.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/732db22a302854fea617748b085ce7e468ff5abe', 'message': 'dashboard: use new neutronclient\n\nThis change updates the call to neutronclient to use\nthe BGPVPN methods natively defined in python-neutronclient,\nrather than the ones defined by the dynamic extension to\nneutronclient from networking-bgpvpn (which are deprecated).\n\nChange-Id: Ida2869ce9806e182d0489ab4a159111ac805cc4b\nPartial-Bug: 1761691\n'}]",0,570086,732db22a302854fea617748b085ce7e468ff5abe,6,2,1,12021,,,0,"dashboard: use new neutronclient

This change updates the call to neutronclient to use
the BGPVPN methods natively defined in python-neutronclient,
rather than the ones defined by the dynamic extension to
neutronclient from networking-bgpvpn (which are deprecated).

Change-Id: Ida2869ce9806e182d0489ab4a159111ac805cc4b
Partial-Bug: 1761691
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/86/570086/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/tests/fullstack/resources/bgpvpn/client.py'],1,732db22a302854fea617748b085ce7e468ff5abe,bug/1761691," assoc = self.client.create_bgpvpn_network_assoc( self.client.delete_bgpvpn_network_assoc), bgpvpn_id, assoc['network_association']['id']) assoc = self.client.create_bgpvpn_router_assoc( self.client.delete_bgpvpn_router_assoc), bgpvpn_id, assoc['router_association']['id'])"," assoc = self.client.create_network_association( self.client.delete_network_association), assoc['network_association']['id'], bgpvpn_id) assoc = self.client.create_router_association( self.client.delete_router_association), assoc['router_association']['id'], bgpvpn_id)",6,6
openstack%2Fdiskimage-builder~master~Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4,openstack/diskimage-builder,master,Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4,Replace new location of isolinux.bin for Ubuntu 16.04,ABANDONED,2017-06-26 07:54:12.000000000,2018-05-23 02:33:03.000000000,,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-06-26 07:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4dc949a1d97864ca90ef44d54d19f450a422c934', 'message': 'Replace new location of isolinux.bin for Ubuntu 16.04\n\nThis patch adds a new location of isolinux.bin for creating iso. This\nfile is installed to /usr/lib/ISOLINUX/ in Ubuntu 16.04 or later.\n\nChange-Id: Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4\nCloses-Bug: #1693127\n'}, {'number': 2, 'created': '2017-06-26 07:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b2806eea74658b1406ed202381f3a3fb688f7b99', 'message': 'Replace new location of isolinux.bin for Ubuntu 16.04\n\nThis patch adds a new location of isolinux.bin for creating iso. This\nfile is installed to /usr/lib/ISOLINUX/ in Ubuntu 16.04 or later.\n\nChange-Id: Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4\nCloses-Bug: #1693127\n'}, {'number': 3, 'created': '2017-06-26 07:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cb89b1163631da770f38a362ad03b3e64f6affbb', 'message': 'Replace new location of isolinux.bin for Ubuntu 16.04\n\nThis patch adds a new location of isolinux.bin for creating iso. This\nfile is installed to /usr/lib/ISOLINUX/ in Ubuntu 16.04 or later.\n\nChange-Id: Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4\nCloses-Bug: #1693127\n'}, {'number': 4, 'created': '2017-09-25 04:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b31465ad9aba13f01717ff09797cf5a4fac4ec9a', 'message': 'Replace new location of isolinux.bin for Ubuntu 16.04\n\nThis patch adds a new location of isolinux.bin for creating iso. This\nfile is installed to /usr/lib/ISOLINUX/ in Ubuntu 16.04 or later.\n\nChange-Id: Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4\nCloses-Bug: #1693127\n'}, {'number': 5, 'created': '2018-03-05 02:26:22.000000000', 'files': ['diskimage_builder/elements/iso/post-install.d/01-copy-bootloaders'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/08985e13fbf9a3d3928f089c9bf99c51c5e72ad7', 'message': 'Replace new location of isolinux.bin for Ubuntu 16.04\n\nThis patch adds a new location of isolinux.bin for creating iso. This\nfile is installed to /usr/lib/ISOLINUX/ in Ubuntu 16.04 or later.\n\nChange-Id: Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4\nCloses-Bug: #1693127\n'}]",1,477437,08985e13fbf9a3d3928f089c9bf99c51c5e72ad7,26,7,5,22255,,,0,"Replace new location of isolinux.bin for Ubuntu 16.04

This patch adds a new location of isolinux.bin for creating iso. This
file is installed to /usr/lib/ISOLINUX/ in Ubuntu 16.04 or later.

Change-Id: Ic9af57cd546a60aa9b5d9eea5c8b557bb3e80df4
Closes-Bug: #1693127
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/37/477437/3 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/iso/post-install.d/01-copy-bootloaders'],1,4dc949a1d97864ca90ef44d54d19f450a422c934,bug/1693127," SYSLINUX_FILE=""/usr/lib/ISOLINUX/isolinux.bin"""," SYSLINUX_FILE=""/usr/lib/syslinux/isolinux.bin""",1,1
openstack%2Fneutron-tempest-plugin~master~I45e94e2b7f28ca5792b72b9827b816439a2ac31e,openstack/neutron-tempest-plugin,master,I45e94e2b7f28ca5792b72b9827b816439a2ac31e,"Enable hacking-extensions H204, H205",ABANDONED,2018-02-01 02:52:35.000000000,2018-05-23 02:32:37.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-01 02:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1e6202b024580ca52bf514298e33f1f01ffd2e3a', 'message': 'Enable hacking-extensions H204, H205\n\nThis patch enable extensions:\n- H204: Use assert(Not)Equal to check for equality.\n- H205: Use assert(Greater|Less)(Equal) for comparison.\n\nChange-Id: I45e94e2b7f28ca5792b72b9827b816439a2ac31e\n'}, {'number': 2, 'created': '2018-03-05 02:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f0398b02643992df83e884f37cd72ba5cb2e6500', 'message': 'Enable hacking-extensions H204, H205\n\nThis patch enable extensions:\n- H204: Use assert(Not)Equal to check for equality.\n- H205: Use assert(Greater|Less)(Equal) for comparison.\n\nChange-Id: I45e94e2b7f28ca5792b72b9827b816439a2ac31e\n'}, {'number': 3, 'created': '2018-04-11 03:34:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/176acbd38347b181d0409e72ab9bf8edee5537fb', 'message': 'Enable hacking-extensions H204, H205\n\nThis patch enable extensions:\n- H204: Use assert(Not)Equal to check for equality.\n- H205: Use assert(Greater|Less)(Equal) for comparison.\n\nChange-Id: I45e94e2b7f28ca5792b72b9827b816439a2ac31e\n'}]",0,539778,176acbd38347b181d0409e72ab9bf8edee5537fb,8,2,3,22255,,,0,"Enable hacking-extensions H204, H205

This patch enable extensions:
- H204: Use assert(Not)Equal to check for equality.
- H205: Use assert(Greater|Less)(Equal) for comparison.

Change-Id: I45e94e2b7f28ca5792b72b9827b816439a2ac31e
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/78/539778/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1e6202b024580ca52bf514298e33f1f01ffd2e3a,addpep8,"# H204: Use assert(Not)Equal to check for equality # H205: Use assert(Greater|Less)(Equal) for comparisonenable-extensions=H106,H203,H204,H205,H904","enable-extensions=H106,H203,H904",3,1
openstack%2Fswift~master~Ia58e63a20df0cfe623834703230e39598958d9ee,openstack/swift,master,Ia58e63a20df0cfe623834703230e39598958d9ee,Log deprecation warnings for account_white/blacklist,MERGED,2017-05-25 15:54:26.000000000,2018-05-23 02:15:37.000000000,2018-05-23 02:15:37.000000000,"[{'_account_id': 3}, {'_account_id': 2622}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-25 15:54:26.000000000', 'files': ['swift/common/middleware/ratelimit.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/87cc550332615234f399453d48ae639a275d5238', 'message': 'Log deprecation warnings for account_white/blacklist\n\n... with the hope that we can actually remove support for them in the future.\n\nChange-Id: Ia58e63a20df0cfe623834703230e39598958d9ee\nRelated-Change: I532663f1d2c75d03170c5fdb9b330416822fbc88\n'}]",0,468077,87cc550332615234f399453d48ae639a275d5238,11,5,1,15343,,,0,"Log deprecation warnings for account_white/blacklist

... with the hope that we can actually remove support for them in the future.

Change-Id: Ia58e63a20df0cfe623834703230e39598958d9ee
Related-Change: I532663f1d2c75d03170c5fdb9b330416822fbc88
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/468077/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/ratelimit.py'],1,87cc550332615234f399453d48ae639a275d5238,, if self.ratelimit_whitelist: self.logger.warning('Option account_whitelist is deprecated. Use ' 'an internal client to POST a `X-Account-' 'Sysmeta-Global-Write-Ratelimit: WHITELIST` ' 'header to the specific accounts instead.') if self.ratelimit_blacklist: self.logger.warning('Option account_blacklist is deprecated. Use ' 'an internal client to POST a `X-Account-' 'Sysmeta-Global-Write-Ratelimit: BLACKLIST` ' 'header to the specific accounts instead.'),,10,0
openstack%2Fnetworking-onos~master~Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83,openstack/networking-onos,master,Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83,Supports SONA all-in-one installation.,MERGED,2018-05-21 08:57:43.000000000,2018-05-23 02:12:47.000000000,2018-05-23 02:12:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25575}, {'_account_id': 27079}]","[{'number': 1, 'created': '2018-05-21 08:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/4f52f5e2b27f71877d35ed8e8ca099dc58c3d00c', 'message': 'Supports SONA all-in-one installation.\n\nChange-Id: Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83\n'}, {'number': 2, 'created': '2018-05-21 09:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/32a60193a07009dd8097ece6a35c1c265de0cdd7', 'message': 'Supports SONA all-in-one installation.\n\nChange-Id: Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83\n'}, {'number': 3, 'created': '2018-05-23 00:18:15.000000000', 'files': ['devstack/entry_points', 'devstack/plugin.sh', 'etc/conf_onos.ini'], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/b9d640b6687cfc18c5e8ff43461edb4e8f082787', 'message': 'Supports SONA all-in-one installation.\n\nChange-Id: Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83\n'}]",10,569747,b9d640b6687cfc18c5e8ff43461edb4e8f082787,14,3,3,25575,,,0,"Supports SONA all-in-one installation.

Change-Id: Idcf959ff9fb2cb56ef4964c8f252422b96e2bc83
",git fetch https://review.opendev.org/openstack/networking-onos refs/changes/47/569747/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/entry_points', 'devstack/plugin.sh', 'etc/conf_onos.ini']",3,4f52f5e2b27f71877d35ed8e8ca099dc58c3d00c,allinone_sona,#Configuration options for ONOS driver [onos] # (StrOpt) ONOS ReST interface URL. This is a mandatory field. url_path = http://HOST_IP:8181/onos/openstacknetworking # (StrOpt) Username for authentication. This is a mandatory field. username = onos # (StrOpt) Password for authentication. This is a mandatory field. password = rocks ,,86,85
openstack%2Foctavia~master~I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38,openstack/octavia,master,I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38,Allow fields filter on single object GETs,MERGED,2018-04-09 21:07:49.000000000,2018-05-23 01:46:54.000000000,2018-05-23 01:46:54.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-09 21:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f277d6b04357ec4089ccd7b1b0652b0fd7b33b35', 'message': 'Allow fields filter on single object GETs\n\nThe LBaaSv2-API spec had this, and tempest seems to test for it.\nWe missed adding it when we implemented the v2 API in Pike.\n\nChange-Id: I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38\nBackport-Candidate: Queens Pike\n'}, {'number': 2, 'created': '2018-04-12 22:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/69eec0ee0c3f8c51addc1fceea02413aef9104bd', 'message': 'Allow fields filter on single object GETs\n\nThe LBaaSv2-API spec had this, and tempest seems to test for it.\nWe missed adding it when we implemented the v2 API in Pike.\n\nChange-Id: I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38\nBackport-Candidate: Queens Pike\n'}, {'number': 3, 'created': '2018-04-24 16:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/56c52ef7d742056dc53dc4e2214c8e504cc6fa5c', 'message': 'Allow fields filter on single object GETs\n\nThe LBaaSv2-API spec had this, and tempest seems to test for it.\nWe missed adding it when we implemented the v2 API in Pike.\n\nChange-Id: I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38\nBackport-Candidate: Queens Pike\n'}, {'number': 4, 'created': '2018-04-26 23:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c2b1ee113fe9147165762469c994682c56aa2a3', 'message': 'Allow fields filter on single object GETs\n\nThe LBaaSv2-API spec had this, and tempest seems to test for it.\nWe missed adding it when we implemented the v2 API in Pike.\n\nChange-Id: I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38\nBackport-Candidate: Queens Pike\n'}, {'number': 5, 'created': '2018-04-27 18:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ad766daa5a90a1d25fb8f3639bdce4c1feecedf6', 'message': 'Allow fields filter on single object GETs\n\nThe LBaaSv2-API spec had this, and tempest seems to test for it.\nWe missed adding it when we implemented the v2 API in Pike.\n\nChange-Id: I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38\nBackport-Candidate: Queens Pike\n'}, {'number': 6, 'created': '2018-05-07 19:09:38.000000000', 'files': ['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/api/v2/controllers/health_monitor.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/controllers/amphora.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/84ef448a87ac7251a8087e435778f3ed761706b5', 'message': 'Allow fields filter on single object GETs\n\nThe LBaaSv2-API spec had this, and tempest seems to test for it.\nWe missed adding it when we implemented the v2 API in Pike.\n\nChange-Id: I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38\nBackport-Candidate: Queens Pike\n'}]",0,559842,84ef448a87ac7251a8087e435778f3ed761706b5,22,4,6,10273,,,0,"Allow fields filter on single object GETs

The LBaaSv2-API spec had this, and tempest seems to test for it.
We missed adding it when we implemented the v2 API in Pike.

Change-Id: I16c04b6f12fe4db9f1a2a0dc1d2b6fb54d24fd38
Backport-Candidate: Queens Pike
",git fetch https://review.opendev.org/openstack/octavia refs/changes/42/559842/6 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/api/v2/controllers/health_monitor.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/controllers/amphora.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py']",16,f277d6b04357ec4089ccd7b1b0652b0fd7b33b35,," @wsme_pecan.wsexpose(listener_types.ListenerRootResponse, wtypes.text, [wtypes.text], ignore_extra_args=True) def get_one(self, id, fields=None): if fields is not None: result = self._filter_fields([result], fields)[0]"," @wsme_pecan.wsexpose(listener_types.ListenerRootResponse, wtypes.text) def get_one(self, id):",176,46
openstack%2Foctavia~stable%2Fqueens~Iee308471a86c2d4ca5717bcb4dddfe61f1230380,openstack/octavia,stable/queens,Iee308471a86c2d4ca5717bcb4dddfe61f1230380,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-22 03:01:25.000000000,2018-05-23 01:21:54.000000000,,"[{'_account_id': 10273}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 03:01:25.000000000', 'files': ['etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0140466cf3acd5c61106e3556dfa0783e823f2c0', 'message': 'Replace port 35357 with 5000 for ""auth_url""\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: Iee308471a86c2d4ca5717bcb4dddfe61f1230380\n(cherry picked from commit bdd9c6f3e77b41c9278f319b380b8d9c451bb37b)\n'}]",0,569907,0140466cf3acd5c61106e3556dfa0783e823f2c0,5,3,1,25903,,,0,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Iee308471a86c2d4ca5717bcb4dddfe61f1230380
(cherry picked from commit bdd9c6f3e77b41c9278f319b380b8d9c451bb37b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/07/569907/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/octavia.conf'],1,0140466cf3acd5c61106e3556dfa0783e823f2c0,auth_url-stable/queens,# auth_url = https://localhost:5000/v3,# auth_url = https://localhost:35357/v3,1,1
openstack%2Ftripleo-upgrade~stable%2Fqueens~I35dfbe50d12b65a8d14f62410adea551e7584912,openstack/tripleo-upgrade,stable/queens,I35dfbe50d12b65a8d14f62410adea551e7584912,Separate scripts creation tasks for under/overcloud.,MERGED,2018-05-22 12:39:18.000000000,2018-05-23 00:44:40.000000000,2018-05-23 00:44:40.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 12:39:18.000000000', 'files': ['tasks/update/create-overcloud-update-scripts.yaml', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml', 'tasks/update/create-undercloud-update-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/abc439355ee433db4a1e21c8da31d8f48b7b03e5', 'message': 'Separate scripts creation tasks for under/overcloud.\n\nThe upgrade/update tasks in tripleo-upgrade started\nwith a create-scripts book, which generated most of\nthe scripts from the templates. However, this book\nmixed the creation of scripts needed for the overcloud\nas well as for the undercloud. This becomes an issue\nwhen we want to perform only an undercloud upgrade, as\nwe are running tasks intended to the overcloud and it\nmight not even exist.\nThis patch divides the script creation tasks used for\nthe undercloud from the ones used for the overcloud.\n\nChange-Id: I35dfbe50d12b65a8d14f62410adea551e7584912\nCloses-Bug: #1769107\n(cherry picked from commit 0fd5d40994cb30117444b22a9e862722c4ebc52c)\n'}]",0,569974,abc439355ee433db4a1e21c8da31d8f48b7b03e5,7,6,1,26343,,,0,"Separate scripts creation tasks for under/overcloud.

The upgrade/update tasks in tripleo-upgrade started
with a create-scripts book, which generated most of
the scripts from the templates. However, this book
mixed the creation of scripts needed for the overcloud
as well as for the undercloud. This becomes an issue
when we want to perform only an undercloud upgrade, as
we are running tasks intended to the overcloud and it
might not even exist.
This patch divides the script creation tasks used for
the undercloud from the ones used for the overcloud.

Change-Id: I35dfbe50d12b65a8d14f62410adea551e7584912
Closes-Bug: #1769107
(cherry picked from commit 0fd5d40994cb30117444b22a9e862722c4ebc52c)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/74/569974/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/create-overcloud-update-scripts.yaml', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml', 'tasks/update/create-undercloud-update-scripts.yaml']",6,abc439355ee433db4a1e21c8da31d8f48b7b03e5,bug/1769107,"--- - name: create undercloud update script vars: log_prefix: ""update"" template: src: ""{{ undercloud_upgrade_template }}"" dest: ""{{ undercloud_update_script }}"" mode: 0775 force: true - name: create scripts with workarounds template: src: ""{{ update_workarounds_template }}"" dest: ""{{ working_dir }}/{{ item.script }}"" mode: 0755 force: true with_items: - '{{ pre_undercloud_update_workarounds|default([]) }}' - '{{ post_undercloud_update_workarounds|default([]) }}' when: updates_workarounds|bool ",,66,38
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,stable/pike,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-22 03:04:55.000000000,2018-05-23 00:44:39.000000000,2018-05-23 00:44:39.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 03:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fc661d45ce130434d01dc91c2a678be5d6008ec', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)\n'}, {'number': 2, 'created': '2018-05-22 19:25:18.000000000', 'files': ['overcloud.j2.yaml', 'extraconfig/tasks/ssh/known_hosts_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57789d7c9d6fac191e60a2ba57c7dd86e945dee5', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nNOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)\n'}]",0,569910,57789d7c9d6fac191e60a2ba57c7dd86e945dee5,14,4,2,14985,,,0,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

NOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/569910/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'extraconfig/tasks/ssh/known_hosts_config.yaml']",2,0fc661d45ce130434d01dc91c2a678be5d6008ec,bug/1772071-stable/pike," str_replace: params: KNOWN_HOSTS: {get_param: known_hosts} template: | #!/bin/bash set -eux set -o pipefail echo ""Creating ssh known hosts file"" if [ -d /etc/ssh/ssh_known_hosts ]; then rm -rf /etc/ssh/ssh_known_hosts fi cat <<EOF | grep -v '^$' >/etc/ssh/ssh_known_hosts KNOWN_HOSTS EOF if [ ! -s /etc/ssh/ssh_known_hosts ]; then echo ""No known hosts"" rm -f /etc/ssh/ssh_known_hosts else echo ""$(cat /etc/ssh/ssh_known_hosts | wc -l) known hosts"" chmod 0644 /etc/ssh/ssh_known_hosts fi value: {get_resource: SSHKnownHostsConfig} "," inputs: - name: known_hosts default: {get_param: known_hosts} #!/bin/bash set -eux set -o pipefail echo ""Creating ssh known hosts file"" if [ ! -z ""${known_hosts}"" ]; then echo ""${known_hosts}"" echo -ne ""${known_hosts}"" > /etc/ssh/ssh_known_hosts chmod 0644 /etc/ssh/ssh_known_hosts else rm -f /etc/ssh/ssh_known_hosts echo ""No ssh known hosts"" fi value: {get_resource: SSHKnownHostsConfig}",23,16
openstack%2Fheat~stable%2Fqueens~I61876b599373c5794bb9edb2088b15d21f7584e2,openstack/heat,stable/queens,I61876b599373c5794bb9edb2088b15d21f7584e2,Fixing Senlin incompatibility with openstacksdk 0.11.x,MERGED,2018-04-18 18:59:56.000000000,2018-05-23 00:41:12.000000000,2018-05-23 00:41:12.000000000,"[{'_account_id': 2}, {'_account_id': 4257}, {'_account_id': 7404}, {'_account_id': 8246}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-04-18 18:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8e9e1fed5a25e4a7c8a1c499f034cf837cb506a3', 'message': 'Fixing Senlin incompatibility with openstacksdk 0.11.x\n\nWhen running Heat with OpenstackSDK 0.11.3 (or older)\nno clustering version is being passed on, causing the\ncall to Senlin to fail with the following error message.\n> Unknown version in URI from\n\nWith this patch we always set the api version for clustering.\n\nChange-Id: I61876b599373c5794bb9edb2088b15d21f7584e2\nCloses-Bug: #1760932\n(cherry picked from commit d47a4540dc23fc2f2b3f84ddd6dbfb30c3fbf986)\n'}, {'number': 2, 'created': '2018-05-07 17:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d89924b5e822bb8c0f2d16b39a1aa46268aae94a', 'message': 'Fixing Senlin incompatibility with openstacksdk 0.11.x\n\nWhen running Heat with OpenstackSDK 0.11.3 (or older)\nno clustering version is being passed on, causing the\ncall to Senlin to fail with the following error message.\n> Unknown version in URI from\n\nWith this patch we always set the api version for clustering.\n\nChange-Id: I61876b599373c5794bb9edb2088b15d21f7584e2\nCloses-Bug: #1760932\nStory: #1760932\n(cherry picked from commit d47a4540dc23fc2f2b3f84ddd6dbfb30c3fbf986)\n'}, {'number': 3, 'created': '2018-05-07 17:45:39.000000000', 'files': ['heat/engine/clients/os/openstacksdk.py', 'heat/engine/clients/os/senlin.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/55533a19f70e6b7bbd00389f22f9d9802e719388', 'message': 'Fixing Senlin incompatibility with openstacksdk 0.11.x\n\nWhen running Heat with OpenstackSDK 0.11.3 (or older)\nno clustering version is being passed on, causing the\ncall to Senlin to fail with the following error message.\n> Unknown version in URI from\n\nWith this patch we always set the api version for clustering.\n\nChange-Id: I61876b599373c5794bb9edb2088b15d21f7584e2\nCloses-Bug: #1760932\nStory: #1760932\nTask: #18787\n(cherry picked from commit d47a4540dc23fc2f2b3f84ddd6dbfb30c3fbf986)\n'}]",0,562361,55533a19f70e6b7bbd00389f22f9d9802e719388,26,9,3,22623,,,0,"Fixing Senlin incompatibility with openstacksdk 0.11.x

When running Heat with OpenstackSDK 0.11.3 (or older)
no clustering version is being passed on, causing the
call to Senlin to fail with the following error message.
> Unknown version in URI from

With this patch we always set the api version for clustering.

Change-Id: I61876b599373c5794bb9edb2088b15d21f7584e2
Closes-Bug: #1760932
Story: #1760932
Task: #18787
(cherry picked from commit d47a4540dc23fc2f2b3f84ddd6dbfb30c3fbf986)
",git fetch https://review.opendev.org/openstack/heat refs/changes/61/562361/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/clients/os/openstacksdk.py', 'heat/engine/clients/os/senlin.py']",2,8e9e1fed5a25e4a7c8a1c499f034cf837cb506a3,bug/1760932," def _get_additional_create_args(self, version): return { 'clustering_api_version': version or '1' } ",,10,1
openstack%2Ftripleo-heat-templates~stable%2Focata~If7a4c6f3581bed270f478b98b8da8fe010acbbc1,openstack/tripleo-heat-templates,stable/ocata,If7a4c6f3581bed270f478b98b8da8fe010acbbc1,Fix known hosts config script value,MERGED,2018-05-22 19:28:09.000000000,2018-05-23 00:18:17.000000000,2018-05-23 00:18:17.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 19:28:09.000000000', 'files': ['extraconfig/tasks/ssh/known_hosts_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57b81654f7cae989d8dcacf1e87901e041744b19', 'message': ""Fix known hosts config script value\n\nThere was an extra | that was missed. It's not tested in Master but is\nin <= Queens.\n\nChange-Id: If7a4c6f3581bed270f478b98b8da8fe010acbbc1\nCloses-Bug: #1772071\n""}]",0,570030,57b81654f7cae989d8dcacf1e87901e041744b19,8,3,1,14985,,,0,"Fix known hosts config script value

There was an extra | that was missed. It's not tested in Master but is
in <= Queens.

Change-Id: If7a4c6f3581bed270f478b98b8da8fe010acbbc1
Closes-Bug: #1772071
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/570030/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/ssh/known_hosts_config.yaml'],1,57b81654f7cae989d8dcacf1e87901e041744b19,bug/1772071-stable/ocata, config:, config: |,1,1
openstack%2Ftripleo-common~stable%2Fqueens~Ib98e06531d414f62498fd7c1130899f74a066957,openstack/tripleo-common,stable/queens,Ib98e06531d414f62498fd7c1130899f74a066957,Fix redis healthcheck,MERGED,2018-05-21 20:12:37.000000000,2018-05-23 00:18:16.000000000,2018-05-23 00:18:16.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-21 20:12:37.000000000', 'files': ['healthcheck/redis'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/261ad97ceb4755979c5dbcd454da9fc0607f512a', 'message': 'Fix redis healthcheck\n\nnc is not installed in the containers by default, but socat is available\nso lets use that instead.\n\nChange-Id: Ib98e06531d414f62498fd7c1130899f74a066957\nCloses-Bug: #1771705\n(cherry picked from commit c10d3096784b3dd7a27e30337ffc8f0647744303)\n'}]",0,569853,261ad97ceb4755979c5dbcd454da9fc0607f512a,13,6,1,14985,,,0,"Fix redis healthcheck

nc is not installed in the containers by default, but socat is available
so lets use that instead.

Change-Id: Ib98e06531d414f62498fd7c1130899f74a066957
Closes-Bug: #1771705
(cherry picked from commit c10d3096784b3dd7a27e30337ffc8f0647744303)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/53/569853/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/redis'],1,261ad97ceb4755979c5dbcd454da9fc0607f512a,bug/1771705-stable/queens," result=$(printf ""*2\r\n\$4\r\nAUTH\r\n\$${#redis_pass}\r\n${redis_pass}\r\n*1\r\n\$4\r\nPING\r\n"" | socat - TCP:$redis_host:$redis_port) result=$(printf ""*1\r\n\$4\r\nPING\r\n"" | socat - TCP:$redis_host:$redis_port)"," result=$(printf ""*2\r\n\$4\r\nAUTH\r\n\$${#redis_pass}\r\n${redis_pass}\r\n*1\r\n\$4\r\nPING\r\n"" | nc $redis_host $redis_port) result=$(printf ""*1\r\n\$4\r\nPING\r\n"" | nc $redis_host $redis_port)",2,2
openstack%2Ftripleo-heat-templates~stable%2Fnewton~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,stable/newton,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-22 03:05:28.000000000,2018-05-23 00:00:49.000000000,2018-05-23 00:00:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 03:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e90a7581001d15306405016fd24bc525bef17dcd', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)\n'}, {'number': 2, 'created': '2018-05-22 19:26:29.000000000', 'files': ['overcloud.j2.yaml', 'extraconfig/tasks/ssh/known_hosts_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c77278093e789515204c5dba374493b61b104ce6', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nNOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)\n'}]",0,569912,c77278093e789515204c5dba374493b61b104ce6,16,3,2,14985,,,0,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

NOTE: Includes fix from If7a4c6f3581bed270f478b98b8da8fe010acbbc1

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/569912/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'extraconfig/tasks/ssh/known_hosts_config.yaml']",2,e90a7581001d15306405016fd24bc525bef17dcd,bug/1772071-stable/newton," str_replace: params: KNOWN_HOSTS: {get_param: known_hosts} template: | #!/bin/bash set -eux set -o pipefail echo ""Creating ssh known hosts file"" if [ -d /etc/ssh/ssh_known_hosts ]; then rm -rf /etc/ssh/ssh_known_hosts fi cat <<EOF | grep -v '^$' >/etc/ssh/ssh_known_hosts KNOWN_HOSTS EOF if [ ! -s /etc/ssh/ssh_known_hosts ]; then echo ""No known hosts"" rm -f /etc/ssh/ssh_known_hosts else echo ""$(cat /etc/ssh/ssh_known_hosts | wc -l) known hosts"" chmod 0644 /etc/ssh/ssh_known_hosts fi"," inputs: - name: known_hosts default: {get_param: known_hosts} #!/bin/bash set -eux set -o pipefail echo ""Creating ssh known hosts file"" if [ ! -z ""${known_hosts}"" ]; then echo ""${known_hosts}"" echo -ne ""${known_hosts}"" > /etc/ssh/ssh_known_hosts chmod 0644 /etc/ssh/ssh_known_hosts else rm -f /etc/ssh/ssh_known_hosts echo ""No ssh known hosts"" fi",22,15
openstack%2Ftripleo-ci~master~I212a0a66f1c36187cbb64a5b8a8d851443a91b73,openstack/tripleo-ci,master,I212a0a66f1c36187cbb64a5b8a8d851443a91b73,Fix relase file name for mixed upgrades,MERGED,2018-05-22 10:31:20.000000000,2018-05-22 23:36:12.000000000,2018-05-22 23:36:12.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 10:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e68068dc7adc2c95c12946faceeb09add3914db6', 'message': 'Fix relase file name for mixed upgrades\n\nIt has to be foo-undercloud-bar-overcloud, it was undercloud-foo-overcloud-bar\n\nChange-Id: I212a0a66f1c36187cbb64a5b8a8d851443a91b73\n'}, {'number': 2, 'created': '2018-05-22 12:36:18.000000000', 'files': ['scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_release_file.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/93f091b1acf55ca5bc3d74af8826ec9c327cb5af', 'message': 'Fix relase file name for mixed upgrades\n\nIt has to be foo-undercloud-bar-overcloud, it was undercloud-foo-overcloud-bar\n\nChange-Id: I212a0a66f1c36187cbb64a5b8a8d851443a91b73\n'}]",0,569954,93f091b1acf55ca5bc3d74af8826ec9c327cb5af,12,7,2,27898,,,0,"Fix relase file name for mixed upgrades

It has to be foo-undercloud-bar-overcloud, it was undercloud-foo-overcloud-bar

Change-Id: I212a0a66f1c36187cbb64a5b8a8d851443a91b73
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/54/569954/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_release_file.py']",2,e68068dc7adc2c95c12946faceeb09add3914db6,sprint13," 'undercloud_install_release': 'master-undercloud-queens-overcloud', 'undercloud_target_release': 'master-undercloud-queens-overcloud', 'overcloud_deploy_release': 'master-undercloud-queens-overcloud', 'overcloud_target_release': 'master-undercloud-queens-overcloud',"," 'undercloud_install_release': 'undercloud-master-overcloud-queens', 'undercloud_target_release': 'undercloud-master-overcloud-queens', 'overcloud_deploy_release': 'undercloud-master-overcloud-queens', 'overcloud_target_release': 'undercloud-master-overcloud-queens',",5,5
openstack%2Ftripleo-ci~master~I41087bf0c247b933a641ea0da582b5f2b368840e,openstack/tripleo-ci,master,I41087bf0c247b933a641ea0da582b5f2b368840e,Wire in get_dlrn_hash,MERGED,2018-05-17 13:42:31.000000000,2018-05-22 23:36:12.000000000,2018-05-22 23:36:11.000000000,"[{'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-17 13:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cce9198b03f3d44138bbfd3ebb58e36d940886d2', 'message': '[WIP] Wire in get_dlrn_hash\n\nThis wires in the get_dlrn_hash function to the release dictionary,\nso that we end up with an actual dlrn hash instead of a named hash.\n\nRelease dictionary tests updated to mock this function, will add\nverification of the calls to get_dlrn_hash there.\n\nAlso will add more tests to the get_dlrn_hash function to this\npatch.\n\nChange-Id: I41087bf0c247b933a641ea0da582b5f2b368840e\n'}, {'number': 2, 'created': '2018-05-17 19:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e67f37d9226a82cab8a36ed455ff3d8ee3283e0b', 'message': 'Wire in get_dlrn_hash\n\nThis wires in the get_dlrn_hash function to the release dictionary,\nso that we end up with an actual dlrn hash instead of a named hash.\n\nRelease dictionary tests updated to mock this function, including\nverification of the expected calls to get_dlrn_hash.\n\nThis also adds more comprehensive logging and unittests to the\nget_dlrn_hash function.\n\nChange-Id: I41087bf0c247b933a641ea0da582b5f2b368840e\n'}, {'number': 3, 'created': '2018-05-17 20:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7041041ccb3ce7af0723b1aada16ded50a04b50c', 'message': 'Wire in get_dlrn_hash\n\nThis wires in the get_dlrn_hash function to the release dictionary,\nso that we end up with an actual dlrn hash instead of a named hash.\n\nRelease dictionary tests updated to mock this function, including\nverification of the expected calls to get_dlrn_hash.\n\nThis also adds more comprehensive logging and unittests to the\nget_dlrn_hash function.\n\nChange-Id: I41087bf0c247b933a641ea0da582b5f2b368840e\n'}, {'number': 4, 'created': '2018-05-21 12:26:12.000000000', 'files': ['scripts/emit_releases_file/test_release_name.py', 'scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_get_dlrn_hash.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6f06040bad31844ecd18eb99c629b7efaa96218a', 'message': 'Wire in get_dlrn_hash\n\nThis wires in the get_dlrn_hash function to the release dictionary,\nso that we end up with an actual dlrn hash instead of a named hash.\n\nRelease dictionary tests updated to mock this function, including\nverification of the expected calls to get_dlrn_hash.\n\nThis also adds more comprehensive logging and unittests to the\nget_dlrn_hash function.\n\nChange-Id: I41087bf0c247b933a641ea0da582b5f2b368840e\n'}]",6,569115,6f06040bad31844ecd18eb99c629b7efaa96218a,18,7,4,12715,,,0,"Wire in get_dlrn_hash

This wires in the get_dlrn_hash function to the release dictionary,
so that we end up with an actual dlrn hash instead of a named hash.

Release dictionary tests updated to mock this function, including
verification of the expected calls to get_dlrn_hash.

This also adds more comprehensive logging and unittests to the
get_dlrn_hash function.

Change-Id: I41087bf0c247b933a641ea0da582b5f2b368840e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/15/569115/4 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/emit_releases_file/test_release_name.py', 'scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_get_dlrn_hash.py']",3,cce9198b03f3d44138bbfd3ebb58e36d940886d2,sprint13," mock_response.text = ('[delorean]\nname=delorean-openstack-nova-81c23c04' '7e8e0fc03b54164921f49fdb4103202c\nbaseurl=https:/' '/trunk.rdoproject.org/centos7/81/c2/81c23c047e8e0' 'fc03b54164921f49fdb4103202c_b333f915\nenabled=1\n' 'gpgcheck=0\npriority=1') mock_get.assert_called_once_with(repo_url, timeout=4)"," mock_response.content = ('[delorean]\nname=delorean-openstack-nova-81c23c04' '7e8e0fc03b54164921f49fdb4103202c\nbaseurl=https:/' '/trunk.rdoproject.org/centos7/81/c2/81c23c047e8e0' 'fc03b54164921f49fdb4103202c_b333f915\nenabled=1\n' 'gpgcheck=0\npriority=1') mock_get.assert_called_once_with(repo_url, timeout=(3.05, 27))",62,29
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,openstack/tripleo-heat-templates,stable/queens,I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8,Don't use crudini to get rhn server,MERGED,2018-05-17 17:18:29.000000000,2018-05-22 23:36:10.000000000,2018-05-22 23:36:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 17:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1317f4aa5078d7a20673d900abce8dc110b3b252', 'message': ""Don't use crudini to get rhn server\n\ncrudini is not installed by default on Red Hat derivitive OS's, so we\nshouldn't rely on it. We probably can't just install it since this\nscript is the rhel-registration script, so there are likely no repos\nenabled when we need it.\n\nInstead just use grep/cut/sed to get the value we need.\n\nChange-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8\nCloses-Bug: #1771830\n(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)\n""}, {'number': 2, 'created': '2018-05-22 16:03:09.000000000', 'files': ['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef2f18b97bb465ae88464acf45399cc0e20ec68e', 'message': ""Don't use crudini to get rhn server\n\ncrudini is not installed by default on Red Hat derivitive OS's, so we\nshouldn't rely on it. We probably can't just install it since this\nscript is the rhel-registration script, so there are likely no repos\nenabled when we need it.\n\nInstead just use grep/cut/sed to get the value we need.\n\nChange-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8\nCloses-Bug: #1771830\n(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)\n""}]",0,569177,ef2f18b97bb465ae88464acf45399cc0e20ec68e,23,6,2,3153,,,0,"Don't use crudini to get rhn server

crudini is not installed by default on Red Hat derivitive OS's, so we
shouldn't rely on it. We probably can't just install it since this
script is the rhel-registration script, so there are likely no repos
enabled when we need it.

Instead just use grep/cut/sed to get the value we need.

Change-Id: I78fce8b6c7f1d3528f9d8c02772f95cb8ad3b3c8
Closes-Bug: #1771830
(cherry picked from commit b4ff453f87610988b7f76688bdba7e006ec91d20)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/569177/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration'],1,1317f4aa5078d7a20673d900abce8dc110b3b252,osp/crudini,"server=$(grep '^hostname' /etc/rhsm/rhsm.conf | cut -d = -f2 | sed 's/\s//') portal_test_url=""https://${server}/subscription/""","portal_test_url=""https://$(crudini --get /etc/rhsm/rhsm.conf server hostname)/subscription/""",2,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If596531cbb1e750ed67e66391743f4c1833e4337,openstack/tripleo-heat-templates,stable/queens,If596531cbb1e750ed67e66391743f4c1833e4337,Set normal CephAnsiblePlaybook on update/upgrade/ffwd converge,MERGED,2018-05-09 15:57:31.000000000,2018-05-22 23:36:09.000000000,2018-05-22 23:36:09.000000000,"[{'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 8871}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-09 15:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/138864ff0706ae4a76c8adc2cd2446437c61459c', 'message': ""Set normal CephAnsiblePlaybook on update/upgrade/ffwd converge\n\nAs we discovered bug #1768586 we'll need to make sure that every\nparameter tweak in plan is followed by a stack update.\n\nSo far the Ceph upgrade command did set param -> stack update -> unset\nparam (only in plan). However this means the last CephAnsiblePlaybook\nsetting (back to normal deploy playbook) was discarded.\n\nLet's reuse normal converge commands to converge CephAnsiblePlaybook\ntoo, and we can remove the (now unused) ceph-upgrade-converge.yaml. We\nwon't do more stack updates than necessary, and at the same time the\nuser workflow stays somewhat consistent between envs that do and don't\nhave Ceph.\n\nAn alternative would be to run the as part of the Ceph command, but\nthat either means we'd have to run one more stack update then\nnecessary, or skip the last converge in envs with Ceph, and\nessentially diverge further from the non-Ceph workflow.\n\nChange-Id: If596531cbb1e750ed67e66391743f4c1833e4337\nDepends-On: I025eac40f8bda5f23c789e7fef1a9e9b49947f66\nPartial-Bug: #1768586\n(cherry picked from commit 4742f2ed5a28e5371e52ad0ffa6ed4f280d992bd)\n""}, {'number': 2, 'created': '2018-05-22 14:37:08.000000000', 'files': ['environments/lifecycle/ffwd-upgrade-converge.yaml', 'environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/ceph-upgrade-converge.yaml', 'environments/lifecycle/update-converge.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c4a9a8109a005e91f32858b172d853bf6525fce', 'message': ""Set normal CephAnsiblePlaybook on update/upgrade/ffwd converge\n\nAs we discovered bug #1768586 we'll need to make sure that every\nparameter tweak in plan is followed by a stack update.\n\nSo far the Ceph upgrade command did set param -> stack update -> unset\nparam (only in plan). However this means the last CephAnsiblePlaybook\nsetting (back to normal deploy playbook) was discarded.\n\nLet's reuse normal converge commands to converge CephAnsiblePlaybook\ntoo, and we can remove the (now unused) ceph-upgrade-converge.yaml. We\nwon't do more stack updates than necessary, and at the same time the\nuser workflow stays somewhat consistent between envs that do and don't\nhave Ceph.\n\nAn alternative would be to run the as part of the Ceph command, but\nthat either means we'd have to run one more stack update then\nnecessary, or skip the last converge in envs with Ceph, and\nessentially diverge further from the non-Ceph workflow.\n\nChange-Id: If596531cbb1e750ed67e66391743f4c1833e4337\nDepends-On: I025eac40f8bda5f23c789e7fef1a9e9b49947f66\nPartial-Bug: #1768586\n(cherry picked from commit 4742f2ed5a28e5371e52ad0ffa6ed4f280d992bd)\n""}]",0,567275,8c4a9a8109a005e91f32858b172d853bf6525fce,83,7,2,8042,,,0,"Set normal CephAnsiblePlaybook on update/upgrade/ffwd converge

As we discovered bug #1768586 we'll need to make sure that every
parameter tweak in plan is followed by a stack update.

So far the Ceph upgrade command did set param -> stack update -> unset
param (only in plan). However this means the last CephAnsiblePlaybook
setting (back to normal deploy playbook) was discarded.

Let's reuse normal converge commands to converge CephAnsiblePlaybook
too, and we can remove the (now unused) ceph-upgrade-converge.yaml. We
won't do more stack updates than necessary, and at the same time the
user workflow stays somewhat consistent between envs that do and don't
have Ceph.

An alternative would be to run the as part of the Ceph command, but
that either means we'd have to run one more stack update then
necessary, or skip the last converge in envs with Ceph, and
essentially diverge further from the non-Ceph workflow.

Change-Id: If596531cbb1e750ed67e66391743f4c1833e4337
Depends-On: I025eac40f8bda5f23c789e7fef1a9e9b49947f66
Partial-Bug: #1768586
(cherry picked from commit 4742f2ed5a28e5371e52ad0ffa6ed4f280d992bd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/567275/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/ffwd-upgrade-converge.yaml', 'environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/ceph-upgrade-converge.yaml', 'environments/lifecycle/update-converge.yaml']",4,138864ff0706ae4a76c8adc2cd2446437c61459c,bug/1768586,parameter_defaults: CephAnsiblePlaybook: ['/usr/share/ceph-ansible/site-docker.yml.sample'],,4,5
openstack%2Fswift~master~I01a4241499f9680fd1709d9d685eaf2db0fb21c1,openstack/swift,master,I01a4241499f9680fd1709d9d685eaf2db0fb21c1,WIP: Get rid of _transform_record in ContainerBroker,NEW,2018-05-22 22:03:14.000000000,2018-05-22 23:24:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-22 22:03:14.000000000', 'files': ['swift/container/server.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/559ae1fd585371cb50bfe476b8f56c9bbe46c2ca', 'message': ""WIP: Get rid of _transform_record in ContainerBroker\n\nPush timestamp knowledge out to container-server's update_data_record\ninstead.\n\nUnit tests are still pretty busted -- are we cool with changing the\ncontract of list_objects_iter like this, though? How about how the\ncontainer-server now needs to know more about object timestamps?\n\nChange-Id: I01a4241499f9680fd1709d9d685eaf2db0fb21c1\n""}]",0,570063,559ae1fd585371cb50bfe476b8f56c9bbe46c2ca,2,1,1,15343,,,0,"WIP: Get rid of _transform_record in ContainerBroker

Push timestamp knowledge out to container-server's update_data_record
instead.

Unit tests are still pretty busted -- are we cool with changing the
contract of list_objects_iter like this, though? How about how the
container-server now needs to know more about object timestamps?

Change-Id: I01a4241499f9680fd1709d9d685eaf2db0fb21c1
",git fetch https://review.opendev.org/openstack/swift refs/changes/63/570063/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'swift/container/backend.py']",2,559ae1fd585371cb50bfe476b8f56c9bbe46c2ca,,," if transform_func is None: transform_func = self._transform_record def _transform_record(self, record): """""" Returns a tuple of (name, last-modified time, size, content_type and etag) for the given record. The given record's created_at timestamp is decoded into separate data, content-type and meta timestamps and the metadata timestamp is used as the last-modified time value. """""" t_data, t_ctype, t_meta = decode_timestamps(record[1]) return (record[0], t_meta.internal) + record[2:5] ",18,34
openstack%2Fswift~master~I25cab53b9aa2252c98ebcf70aafb9d39887a11f1,openstack/swift,master,I25cab53b9aa2252c98ebcf70aafb9d39887a11f1,Improve building listings from shards,MERGED,2018-05-21 13:23:55.000000000,2018-05-22 23:22:04.000000000,2018-05-22 23:22:04.000000000,"[{'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 13:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2d6d819ac2949d88289fcc8bdc6bb567a71195b1', 'message': 'Improve building listings from shards\n\nWhen building a listing from shard containers, objects fetched from\neach shard range are appended to the existing listing provided their\nname is greater than the last entry in the current listing and less\nthan or equal to the fetched shard range. This allows misplaced\nobjects below the shard range to possibly be included in the listing\nin correct name order. Previously that behaviour only occurred if the\nexisting listing had entries, but now it occurs even if no objects\nhave yet been found.\n\nThis patch also makes the proxy more defensive when building listings\nfrom shard containers.  The container server *should* only return\nshard ranges that container objects between marker and end_marker\nrange, but if the proxy were to receive shard ranges outside of the\nmarker to end_marker range then it will now ignore them.\n\nChange-Id: I25cab53b9aa2252c98ebcf70aafb9d39887a11f1\n'}, {'number': 2, 'created': '2018-05-22 08:52:40.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ff832955fc8e0ac746a05c78c0140336707699c7', 'message': 'Improve building listings from shards\n\nWhen building a listing from shard containers, objects fetched from\neach shard range are appended to the existing listing provided their\nname is greater than the last entry in the current listing and less\nthan or equal to the fetched shard range. This allows misplaced\nobjects below the shard range to possibly be included in the listing\nin correct name order. Previously that behaviour only occurred if the\nexisting listing had entries, but now it occurs even if no objects\nhave yet been found.\n\nChange-Id: I25cab53b9aa2252c98ebcf70aafb9d39887a11f1\n'}]",2,569796,ff832955fc8e0ac746a05c78c0140336707699c7,12,5,2,7847,,,0,"Improve building listings from shards

When building a listing from shard containers, objects fetched from
each shard range are appended to the existing listing provided their
name is greater than the last entry in the current listing and less
than or equal to the fetched shard range. This allows misplaced
objects below the shard range to possibly be included in the listing
in correct name order. Previously that behaviour only occurred if the
existing listing had entries, but now it occurs even if no objects
have yet been found.

Change-Id: I25cab53b9aa2252c98ebcf70aafb9d39887a11f1
",git fetch https://review.opendev.org/openstack/swift refs/changes/96/569796/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/container.py']",2,2d6d819ac2949d88289fcc8bdc6bb567a71195b1,p-misplaced-empty-list," # container server should only return shard ranges between marker # and end-marker but be defensive and ignore any unexpected shard # ranges if reverse: if ((marker and marker <= shard_range.lower) or end_marker >= shard_range.upper): continue else: if (marker >= shard_range.upper or (end_marker and end_marker <= shard_range.lower)): continue # to those already in the listing are not fetched; if the listing # is empty then the original request marker, if any, is used. This # allows misplaced objects below the expected shard range to be # included in the listing. elif marker: params['marker'] = '' # Always set end_marker to ensure that misplaced objects beyond the # expected shard range are not fetched. This prevents a misplaced # object obscuring correctly placed objects in the next shard # range. elif reverse: params['end_marker'] = shard_range.lower_str else: params['end_marker'] = shard_range.end_marker", # to those already in the listing are not fetched elif reverse and marker and marker > shard_range.lower: params['marker'] = marker elif marker and marker <= shard_range.upper: params['marker'] = shard_range.upper_str if reverse \ else shard_range.lower_str if params['marker'] and reverse: params['marker'] += '\x00' # Always set end_marker to ensure that misplaced objects beyond # the expected shard range are not fetched else: params['end_marker'] = shard_range.lower_str if reverse \ else shard_range.upper_str if params['end_marker'] and not reverse: params['end_marker'] += '\x00',136,29
openstack%2Fmanila-specs~master~I8c7b49fe2314926d957b51db7c3cf28010eda3e4,openstack/manila-specs,master,I8c7b49fe2314926d957b51db7c3cf28010eda3e4,Remove out of date priorities section,MERGED,2018-05-22 22:24:57.000000000,2018-05-22 23:19:24.000000000,2018-05-22 23:19:24.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 22:24:57.000000000', 'files': ['doc/source/index.rst', 'priorities/ocata-priorities.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/f90220ea182ff503210354345106648bf74ee610', 'message': 'Remove out of date priorities section\n\nChange-Id: I8c7b49fe2314926d957b51db7c3cf28010eda3e4\n'}]",0,570072,f90220ea182ff503210354345106648bf74ee610,7,3,1,9003,,,0,"Remove out of date priorities section

Change-Id: I8c7b49fe2314926d957b51db7c3cf28010eda3e4
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/72/570072/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'priorities/ocata-priorities.rst']",2,f90220ea182ff503210354345106648bf74ee610,,,".. _ocata-priorities: ======================== Ocata Project Priorities ======================== List of themes (in the form of use cases) the manila development team is prioritizing in Ocata (in no particular order). +-------------------------------------------+-----------------------+ | Priority | Primary Contacts | +===========================================+=======================+ | `Scenario Tests`_ | `Valeriy Ponomaryov`_ | +-------------------------------------------+-----------------------+ | `Eliminate Race Conditions`_ | `Ben Swartzlander`_ | +-------------------------------------------+-----------------------+ | `Fix and improve Access Rules`_ | `Goutham Ravi`_ | +-------------------------------------------+-----------------------+ | `Enable IPv6`_ | `Jun Zhongjun`_ | +-------------------------------------------+-----------------------+ .. _Valeriy Ponomaryov: https://launchpad.net/~vponomaryov .. _Ben Swartzlander: https://launchpad.net/~bswartz .. _Goutham Ravi: https://launchpad.net/~gouthamr .. _Jun Zhongjun: https://launchpad.net/~jun-zhongjun Scenario Tests -------------- History has shown that CI without scenario tests is inadequate because some CI systems are able to pass the existing functional tests while having serious bugs. Also lack of clarity about how certain driver operations should work or which operations are required has led to driver that work incorrectly despite good testing work by the original author. Scenario tests should provide a way for driver authors to run a ""conformance test"" to validate that their drivers do indeed meet community standards. To address these two issues we plan to implement new scenario tests to address coverage gaps and also to request that 3rd party CI systems start running the scenario tests suite in addition to the functional test suite. Eliminate Race Conditions ------------------------- Race conditions are the cause of a lot of Manila's test instability. Fixing them in a way that works in a distributed active/active HA model is surprisingly hard, so we plan to implement some fixes that will be the model for solving race conditions in the future. Fix and improve Access Rules ---------------------------- Changes made to access rule management in the Mitaka release introduced some bugs caused by a combination of bad design choices and lack of a good way to prevent race conditions between state updates in the manager and the API. We plan to fix these problems once and for all in Ocata. Enable IPv6 ----------- IPv6 support has been added to Manila in some places but not consistently. In Ocata we plan to add complete support for IPv6 to the REST API, data model and and driver interfaces, so that deployers and users in IPv6-only environments can use Manila. ",0,79
openstack%2Ftripleo-common~stable%2Fqueens~Ifdfc1b84b7b6a306868260611271fd49bdd594d4,openstack/tripleo-common,stable/queens,Ifdfc1b84b7b6a306868260611271fd49bdd594d4,Add yum update to base,MERGED,2018-05-14 11:59:20.000000000,2018-05-22 23:09:42.000000000,2018-05-22 23:09:42.000000000,"[{'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-14 11:59:20.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5bb2fe60e325eabc604a0d8596ec137b36997ba2', 'message': ""Add yum update to base\n\nIn order to handle out of date distro containers, let's add a yum update\nto the kolla base container to ensure that at the end of the base\ncontainer build we'll have the latest base packages installed. This will\nensure we don't hit out of date dependency bits in later containers. For\nexample, we currently only have 7.4 base centos image available from the\nupstream but we're install the base repos in the base build. This would\nmean that we'd be getting 7.5 packages in later containers but might\npossibly have a mix of 7.4 and 7.5 packages installed.\n\nChange-Id: Ifdfc1b84b7b6a306868260611271fd49bdd594d4\nRelated-Bug: #1770355\n(cherry picked from commit 3f12a00533e32d894ad18627e6be1163c0dd5ad8)\n""}]",0,568270,5bb2fe60e325eabc604a0d8596ec137b36997ba2,38,7,1,10969,,,0,"Add yum update to base

In order to handle out of date distro containers, let's add a yum update
to the kolla base container to ensure that at the end of the base
container build we'll have the latest base packages installed. This will
ensure we don't hit out of date dependency bits in later containers. For
example, we currently only have 7.4 base centos image available from the
upstream but we're install the base repos in the base build. This would
mean that we'd be getting 7.5 packages in later containers but might
possibly have a mix of 7.4 and 7.5 packages installed.

Change-Id: Ifdfc1b84b7b6a306868260611271fd49bdd594d4
Related-Bug: #1770355
(cherry picked from commit 3f12a00533e32d894ad18627e6be1163c0dd5ad8)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/568270/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,5bb2fe60e325eabc604a0d8596ec137b36997ba2,bug/1770355-stable/queens,"# In order to ensure that we have the last base packages, we would like to do # a yum update in the kolla base image. All the other images should inherit this # but if the base distro container is out of date (i.g. 7.4 but 7.5 is out) this # will pull in the updated packages available. Related issue LP#1770355 RUN yum update -y",,5,0
openstack%2Fswift~master~I305736ee4391674b16e85e1c958e7f14ccb7bcc0,openstack/swift,master,I305736ee4391674b16e85e1c958e7f14ccb7bcc0,Clean up logging interpolation,MERGED,2018-05-22 19:54:25.000000000,2018-05-22 22:50:33.000000000,2018-05-22 22:50:33.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 19:54:25.000000000', 'files': ['swift/container/replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8486397a70e47d1a2a55029a3986534d63cad95d', 'message': 'Clean up logging interpolation\n\nChange-Id: I305736ee4391674b16e85e1c958e7f14ccb7bcc0\n'}]",1,570034,8486397a70e47d1a2a55029a3986534d63cad95d,6,2,1,15343,,,0,"Clean up logging interpolation

Change-Id: I305736ee4391674b16e85e1c958e7f14ccb7bcc0
",git fetch https://review.opendev.org/openstack/swift refs/changes/34/570034/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/replicator.py'],1,8486397a70e47d1a2a55029a3986534d63cad95d,567940," self.logger.debug( 'Not deleting db %s (requires sharding, state %s)', broker.db_file, broker.get_db_state())"," debug_template = 'Not deleting db %s (%%s)' % broker.db_file reason = 'requires sharding, state %s' % broker.get_db_state() self.logger.debug(debug_template, reason)",3,3
openstack%2Fpython-swiftclient~master~I2a8f465c8b08370517cbec857933b08fca94ca38,openstack/python-swiftclient,master,I2a8f465c8b08370517cbec857933b08fca94ca38,add lower-constraints job,MERGED,2018-03-25 13:06:41.000000000,2018-05-22 22:30:40.000000000,2018-05-22 22:30:40.000000000,"[{'_account_id': 330}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 2472}, {'_account_id': 2622}, {'_account_id': 4608}, {'_account_id': 6968}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 9414}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26297}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-03-25 13:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/3ae766c26dfda1baddf991e5eb0571699fb8c3be', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-03-25 13:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/9a54271a2f032ddbb1a2bf275e6832c8c033c5f4', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-03-29 03:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/5a2e3e1ab9f2a0c20a9fa87f5055d1ccb81bc195', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-03-29 04:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/2594a31fdd1f0b583b17811423acae2d85c2b5d0', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2018-03-29 04:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/9fc7874e1919861a3373b9bfa919d0b1950d3d15', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 6, 'created': '2018-03-29 04:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/99e5f21c076ea550f44e88fd45f7e107c3a669c3', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 7, 'created': '2018-03-29 21:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/dd03ee25f88791df5e5e3d2cff05a3bf06ec7b72', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 8, 'created': '2018-03-29 22:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/c65397039517112ac4fbfc35df05e7fcf192356b', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 9, 'created': '2018-04-09 22:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/1e4d1229e465dff4d020ad5ad1e445dc856ab08b', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 10, 'created': '2018-04-16 06:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/36b15982ec2acf13ef9eaaf89539839a84d30fee', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 11, 'created': '2018-04-16 06:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/1cbe98ba876c94b08f50c4835ed9f6711ed8ea05', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 12, 'created': '2018-04-16 10:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/7bd785776dba904544408f580ea947d83d07033c', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 13, 'created': '2018-04-16 12:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/16945c72f5d9188f0f20a454f828de3f0bf05729', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 14, 'created': '2018-04-16 14:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/fb9c2d3413990446011da07e7698801ba9d53370', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 15, 'created': '2018-04-16 18:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/8b8fb6c790c47ffd5f72add4f1f277010380dfcf', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 16, 'created': '2018-04-20 20:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/eba55f9b5863fb3b8c0f03c3752ed3b98150fa69', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nRemove a few settings for dependencies that do not match the exclusion\nlist in the global-requirements.txt file (reno and sphinx).\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 17, 'created': '2018-04-25 13:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/fb8dd40ca8174f69da4b3afeaa84b2652cc9198d', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 18, 'created': '2018-04-25 13:34:21.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'setup.py', 'lower-constraints.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/b5ed14f90a8214700a9be2139d9e7aba82baaa99', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nUpdate the dependencies needed to make the unit tests pass while\nconstrained to the lower bounds.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: I2a8f465c8b08370517cbec857933b08fca94ca38\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",2,556192,b5ed14f90a8214700a9be2139d9e7aba82baaa99,59,16,18,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

Update the dependencies needed to make the unit tests pass while
constrained to the lower bounds.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Co-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>
Change-Id: I2a8f465c8b08370517cbec857933b08fca94ca38
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/92/556192/17 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,3ae766c26dfda1baddf991e5eb0571699fb8c3be,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,53,0
openstack%2Ftripleo-quickstart-extras~master~I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae,openstack/tripleo-quickstart-extras,master,I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae,"Revert ""two new tempest failures on master""",ABANDONED,2018-03-15 17:21:38.000000000,2018-05-22 22:19:34.000000000,,"[{'_account_id': 9592}, {'_account_id': 9656}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-15 17:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3c187ee152236da6481d94e9d0e6e22dcfbaf085', 'message': 'Revert ""two new tempest failures on master""\n\nThis reverts commit 4a3e4bc6e942f7cd37c413db98f9ef7aa65cc300.\n\nChange-Id: I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae\nDepends-On: I199f639c95e8ae884ede46404370d7b64da3b309\n'}, {'number': 2, 'created': '2018-03-15 17:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b7e1a1c2be06a55426d316040e640a982c9a49b3', 'message': 'Revert ""two new tempest failures on master""\n\nThis reverts commit 4a3e4bc6e942f7cd37c413db98f9ef7aa65cc300.\n\nChange-Id: I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae\nDepends-On: I199f639c95e8ae884ede46404370d7b64da3b309\n'}, {'number': 3, 'created': '2018-03-15 17:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ffbe74b185a8450ffadb932677751a901ee7293d', 'message': 'Revert ""two new tempest failures on master""\n\nThis reverts commit 4a3e4bc6e942f7cd37c413db98f9ef7aa65cc300.\n\nCloses-Bug: #1753209\nCloses-Bug: #1753211\nChange-Id: I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae\nDepends-On: I199f639c95e8ae884ede46404370d7b64da3b309\n'}, {'number': 4, 'created': '2018-04-05 23:21:27.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/609ee40044f5887aa2bf8dd6d6eb30d1b0c8b90c', 'message': 'Revert ""two new tempest failures on master""\n\nThis reverts commit 4a3e4bc6e942f7cd37c413db98f9ef7aa65cc300.\n\nCloses-Bug: #1753209\nCloses-Bug: #1753211\nChange-Id: I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae\nDepends-On: I199f639c95e8ae884ede46404370d7b64da3b309\n'}]",0,553501,609ee40044f5887aa2bf8dd6d6eb30d1b0c8b90c,33,6,4,9656,,,0,"Revert ""two new tempest failures on master""

This reverts commit 4a3e4bc6e942f7cd37c413db98f9ef7aa65cc300.

Closes-Bug: #1753209
Closes-Bug: #1753211
Change-Id: I98f9bf2d95a1a36eb0ead71b593baeb9eefa14ae
Depends-On: I199f639c95e8ae884ede46404370d7b64da3b309
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/01/553501/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_master.yml'],1,3c187ee152236da6481d94e9d0e6e22dcfbaf085,bug/1753209,, - test: 'neutron_tempest_plugin.api.admin.test_shared_network_extension.RBACSharedNetworksTest' reason: 'RBAC policy resource conflict' lp: 'https://bugs.launchpad.net/tripleo/+bug/1753209' - test: 'tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON' reason: 'network resource conflict' lp: 'https://bugs.launchpad.net/tripleo/+bug/1753211',0,6
openstack%2Frequirements~master~Ifea22f6b60363b59e675659f420e580f986df182,openstack/requirements,master,Ifea22f6b60363b59e675659f420e580f986df182,Updated from generate-constraints,MERGED,2018-05-19 06:21:32.000000000,2018-05-22 22:00:32.000000000,2018-05-22 22:00:32.000000000,"[{'_account_id': 6593}, {'_account_id': 8871}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-05-19 06:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/cc1d5d80f806f75513fceb763496b6d64c036277', 'message': 'Updated from generate-constraints\n\nChange-Id: Ifea22f6b60363b59e675659f420e580f986df182\n'}, {'number': 2, 'created': '2018-05-19 17:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d75fc67de0aa607724d1322b937b71168e8eea6f', 'message': 'Updated from generate-constraints\n\nChange-Id: Ifea22f6b60363b59e675659f420e580f986df182\n'}, {'number': 3, 'created': '2018-05-20 06:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c9721c160043488ef42998b96cc2b41c320d57a8', 'message': 'Updated from generate-constraints\n\nChange-Id: Ifea22f6b60363b59e675659f420e580f986df182\n'}, {'number': 4, 'created': '2018-05-21 06:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6ac0f4662d3cd032941056329c60eed350103e96', 'message': 'Updated from generate-constraints\n\nChange-Id: Ifea22f6b60363b59e675659f420e580f986df182\n'}, {'number': 5, 'created': '2018-05-22 06:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/304489569bce6c19585ee8f3a1a201d4d31d4431', 'message': 'Updated from generate-constraints\n\nChange-Id: Ifea22f6b60363b59e675659f420e580f986df182\n'}, {'number': 6, 'created': '2018-05-22 17:29:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a56dd3a1eea8016fb01cf19aeaf71ccc062b5797', 'message': 'Updated from generate-constraints\n\nChange-Id: Ifea22f6b60363b59e675659f420e580f986df182\n'}]",0,569559,a56dd3a1eea8016fb01cf19aeaf71ccc062b5797,24,5,6,11131,,,0,"Updated from generate-constraints

Change-Id: Ifea22f6b60363b59e675659f420e580f986df182
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/569559/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cc1d5d80f806f75513fceb763496b6d64c036277,openstack/requirements/constraints,python-vitrageclient===2.1.0networkx===2.1eventlet===0.23.0PyKMIP===0.8.0Sphinx===1.7.4botocore===1.10.24pyldap===3.0.0.post1;python_version=='3.4' pyldap===3.0.0.post1;python_version=='3.5'keystoneauth1===3.7.0,python-vitrageclient===2.0.0networkx===1.11eventlet===0.20.0PyKMIP===0.7.0asyncio===3.4.3;python_version=='3.6'Sphinx===1.6.5botocore===1.10.23pyldap===3.0.0;python_version=='3.4' pyldap===3.0.0;python_version=='3.5'keystoneauth1===3.6.2,9,10
openstack%2Fopenstack-ansible-os_octavia~master~I891b94a8fb452e9fb5166e7c322d152060efdcce,openstack/openstack-ansible-os_octavia,master,I891b94a8fb452e9fb5166e7c322d152060efdcce,Remove unneded url v2 variables,MERGED,2018-05-18 11:39:57.000000000,2018-05-22 21:59:04.000000000,2018-05-22 21:59:04.000000000,"[{'_account_id': 6816}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 11:39:57.000000000', 'files': ['tests/os_octavia-overrides.yml', 'tasks/octavia_service_add.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/e75abe946e488606f9daf2c91824a6eac136bd78', 'message': 'Remove unneded url v2 variables\n\nWe are setting an unnecessary url_v2 variables which translates to uri\nvariables. This change removes url_v2 variables and just uses uri\nvariables directly instead.\n\nChange-Id: I891b94a8fb452e9fb5166e7c322d152060efdcce\n'}]",0,569393,e75abe946e488606f9daf2c91824a6eac136bd78,7,3,1,26405,,,0,"Remove unneded url v2 variables

We are setting an unnecessary url_v2 variables which translates to uri
variables. This change removes url_v2 variables and just uses uri
variables directly instead.

Change-Id: I891b94a8fb452e9fb5166e7c322d152060efdcce
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/93/569393/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/os_octavia-overrides.yml', 'tasks/octavia_service_add.yml', 'defaults/main.yml']",3,e75abe946e488606f9daf2c91824a6eac136bd78,cleanup-octavia,,"octavia_service_publicurl_v2: ""{{ octavia_service_publicuri }}/""octavia_service_adminurl_v2: ""{{ octavia_service_adminuri }}""octavia_service_internalurl_v2: ""{{ octavia_service_internaluri }}""",6,9
openstack%2Fswift~master~I0da86c55ad263050d176295b1f11b4ef9fe29716,openstack/swift,master,I0da86c55ad263050d176295b1f11b4ef9fe29716,Support binding to Unix domain sockets.,ABANDONED,2016-06-01 23:33:51.000000000,2018-05-22 21:34:22.000000000,,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 2622}]","[{'number': 1, 'created': '2016-06-01 23:33:51.000000000', 'files': ['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1560b544298ba29bc81a45371f7fc843c5a43da2', 'message': ""Support binding to Unix domain sockets.\n\nThis is mostly useful for proxy nodes that terminate SSL with stud, or\nnginx, or some other SSL terminator on the same machine as the proxy\nserver. Now the unwrapped traffic can go to the proxy via Unix domain\nsocket instead of TCP over loopback. It's functionally the same, but\nUnix domain sockets use fewer CPU cycles to move the same bytes.\n\nChange-Id: I0da86c55ad263050d176295b1f11b4ef9fe29716\n""}]",0,324136,1560b544298ba29bc81a45371f7fc843c5a43da2,6,3,1,2622,,,0,"Support binding to Unix domain sockets.

This is mostly useful for proxy nodes that terminate SSL with stud, or
nginx, or some other SSL terminator on the same machine as the proxy
server. Now the unwrapped traffic can go to the proxy via Unix domain
socket instead of TCP over loopback. It's functionally the same, but
Unix domain sockets use fewer CPU cycles to move the same bytes.

Change-Id: I0da86c55ad263050d176295b1f11b4ef9fe29716
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/324136/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",2,1560b544298ba29bc81a45371f7fc843c5a43da2,unixsockets,"import statfrom contextlib import closing @with_tempdir def test_get_unix_socket(self, tempdir): sock_path = os.path.join(tempdir, 'server-sock') conf = {'bind_socket_type': 'unix', 'bind_path': sock_path} with closing(wsgi.get_socket(conf)) as sock: self.assertEqual(sock.getsockname(), sock_path) stat_result = os.stat(sock_path) self.assertTrue(stat.S_ISSOCK(stat_result.st_mode)) ",,51,0
openstack%2Fswift~feature%2Fdeep~I9564ae515540e45d829cdaf0c09b0c55c79f3f5f,openstack/swift,feature/deep,I9564ae515540e45d829cdaf0c09b0c55c79f3f5f,Call _periodic_report_stats more often,ABANDONED,2018-04-24 01:05:54.000000000,2018-05-22 21:25:29.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 01:05:54.000000000', 'files': ['swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/79e96799faac94c85c04ff0e924cf9b4596720d6', 'message': ""Call _periodic_report_stats more often\n\nWith a really large DB on spinning disks that have a lot of IO\ncontention (because they're trying desperately to dig out from under a\ngiant pile of async updates), cleaving a single half-million-row shard\nrange can take 4+ hours. During this time, an operator may notice the\nlack of any progress emitted in logs, think the process is hung, and\nkill it.\n\nWe already have a time check to keep us from reporting stats too\nfrequently, so the only reason not to call _periodic_report_stats all\nthe time is to reduce function call and time.time() overhead. It seems\nlike calling after each CONTAINER_LISTING_LIMIT-sized batch will strike\na good balance between not often enough and too often -- given the\ntiming I was seeing, that's about once every 5 minutes.\n\nChange-Id: I9564ae515540e45d829cdaf0c09b0c55c79f3f5f\n""}]",0,563800,79e96799faac94c85c04ff0e924cf9b4596720d6,6,3,1,15343,,,0,"Call _periodic_report_stats more often

With a really large DB on spinning disks that have a lot of IO
contention (because they're trying desperately to dig out from under a
giant pile of async updates), cleaving a single half-million-row shard
range can take 4+ hours. During this time, an operator may notice the
lack of any progress emitted in logs, think the process is hung, and
kill it.

We already have a time check to keep us from reporting stats too
frequently, so the only reason not to call _periodic_report_stats all
the time is to reduce function call and time.time() overhead. It seems
like calling after each CONTAINER_LISTING_LIMIT-sized batch will strike
a good balance between not often enough and too often -- given the
timing I was seeing, that's about once every 5 minutes.

Change-Id: I9564ae515540e45d829cdaf0c09b0c55c79f3f5f
",git fetch https://review.opendev.org/openstack/swift refs/changes/00/563800/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,79e96799faac94c85c04ff0e924cf9b4596720d6,, self._periodic_report_stats() self._periodic_report_stats(),,2,0
openstack%2Fkolla-ansible~master~Ic457a0ca55b188782325dcfe9bab9861ee42415e,openstack/kolla-ansible,master,Ic457a0ca55b188782325dcfe9bab9861ee42415e,Add sensu rabbit port,ABANDONED,2018-05-22 21:09:17.000000000,2018-05-22 21:09:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-22 21:09:17.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/716c58361f20f6c55b134fee7cc4bc462e0d1470', 'message': 'Add sensu rabbit port\n\nChange-Id: Ic457a0ca55b188782325dcfe9bab9861ee42415e\n'}]",0,570057,716c58361f20f6c55b134fee7cc4bc462e0d1470,3,1,1,1297,,,0,"Add sensu rabbit port

Change-Id: Ic457a0ca55b188782325dcfe9bab9861ee42415e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/570057/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,716c58361f20f6c55b134fee7cc4bc462e0d1470,feature/sensu,sensu_rabbit_port: 4444,,1,0
openstack%2Foctavia~master~I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4,openstack/octavia,master,I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4,Fix amphora failover API to work with spares,MERGED,2018-04-25 01:31:47.000000000,2018-05-22 20:31:36.000000000,2018-05-22 20:31:36.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-25 01:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6eba35b4f6d1120b53dc8fd293d5925e4a916a54', 'message': 'Fix amphora failover API to work with spares\n\nSpares have no load_balancer yet, and the controller was blindly using\nthe load_balancer association for auth and status updates. Whoops.\n\nChange-Id: I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4\n'}, {'number': 2, 'created': '2018-04-26 05:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3f52faf334a7875ac117adfce473ef55bf446bb1', 'message': 'Fix amphora failover API to work with spares\n\nSpares have no load_balancer yet, and the controller was blindly using\nthe load_balancer association for auth and status updates. Whoops.\n\nChange-Id: I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4\n'}, {'number': 3, 'created': '2018-04-26 05:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5cd93e049c3b8c12bdce5e09d756e789639c6716', 'message': 'Fix amphora failover API to work with spares\n\nSpares have no load_balancer yet, and the controller was blindly using\nthe load_balancer association for auth and status updates. Whoops.\n\nChange-Id: I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4\n'}, {'number': 4, 'created': '2018-04-26 20:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/415a4747b6edc2b2cb93ccfe8783ab99b5daf2d0', 'message': 'Fix amphora failover API to work with spares\n\nSpares have no load_balancer yet, and the controller was blindly using\nthe load_balancer association for auth and status updates. Whoops.\n\nAlso properly log when the amp disappears between the API request and\nthe controller-worker failover attempt.\n\nChange-Id: I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4\n'}, {'number': 5, 'created': '2018-04-26 20:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/390fab0651f9abbb7fdd8fcebbb589a2f998ba37', 'message': 'Fix amphora failover API to work with spares\n\nSpares have no load_balancer yet, and the controller was blindly using\nthe load_balancer association for auth and status updates. Whoops.\n\nAlso properly log when the amp disappears between the API request and\nthe controller-worker failover attempt.\n\nChange-Id: I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4\n'}, {'number': 6, 'created': '2018-05-07 18:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2ae2c0e7667ae600352df56fe12bf1ad20b5a508', 'message': 'Fix amphora failover API to work with spares\n\nSpares have no load_balancer yet, and the controller was blindly using\nthe load_balancer association for auth and status updates. Whoops.\n\nAlso properly log when the amp disappears between the API request and\nthe controller-worker failover attempt.\n\nChange-Id: I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4\n'}, {'number': 7, 'created': '2018-05-09 23:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3d4776e33282bbd11fed3d390809949909906407', 'message': 'Fix amphora failover API to work with spares\n\nSpares have no load_balancer yet, and the controller was blindly using\nthe load_balancer association for auth and status updates. Whoops.\n\nAlso properly log when the amp disappears between the API request and\nthe controller-worker failover attempt.\n\nChange-Id: I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4\n'}, {'number': 8, 'created': '2018-05-22 17:32:50.000000000', 'files': ['octavia/tests/functional/api/v2/test_amphora.py', 'octavia/api/v2/controllers/amphora.py', 'octavia/controller/worker/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4e3810c1ba9d4b8ca52d5b48c1907aba9ddb04d1', 'message': 'Fix amphora failover API to work with spares\n\nSpares have no load_balancer yet, and the controller was blindly using\nthe load_balancer association for auth and status updates. Whoops.\n\nAlso properly log when the amp disappears between the API request and\nthe controller-worker failover attempt.\n\nChange-Id: I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4\n'}]",5,564082,4e3810c1ba9d4b8ca52d5b48c1907aba9ddb04d1,26,4,8,10273,,,0,"Fix amphora failover API to work with spares

Spares have no load_balancer yet, and the controller was blindly using
the load_balancer association for auth and status updates. Whoops.

Also properly log when the amp disappears between the API request and
the controller-worker failover attempt.

Change-Id: I6197e72ad9582db32c7c9ca7b6715a2a2abc68b4
",git fetch https://review.opendev.org/openstack/octavia refs/changes/82/564082/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_amphora.py', 'octavia/api/v2/controllers/amphora.py']",2,6eba35b4f6d1120b53dc8fd293d5925e4a916a54,," if db_amp.load_balancer: self._auth_validate_action( context, db_amp.load_balancer.project_id, constants.RBAC_PUT_FAILOVER) self.repositories.load_balancer.test_and_set_provisioning_status( context.session, db_amp.load_balancer_id, status=constants.PENDING_UPDATE, raise_exception=True) else: self._auth_validate_action( context, context.project_id, constants.RBAC_PUT_FAILOVER) "," self._auth_validate_action( context, db_amp.load_balancer.project_id, constants.RBAC_PUT_FAILOVER) self.repositories.load_balancer.test_and_set_provisioning_status( context.session, db_amp.load_balancer_id, status=constants.PENDING_UPDATE, raise_exception=True)",73,8
openstack%2Fswift~master~I73c36e061a8817961869496591cbe7ba714ce9d5,openstack/swift,master,I73c36e061a8817961869496591cbe7ba714ce9d5,Bump up timeout for swift-probetests-centos-7,MERGED,2018-05-22 16:58:06.000000000,2018-05-22 20:09:34.000000000,2018-05-22 20:09:34.000000000,"[{'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 16:58:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/f237c5844c09a65a97e0f6a1b7b9df221bc8e7ca', 'message': ""Bump up timeout for swift-probetests-centos-7\n\nSince sharding landed, probe test times have climbed from ~15mins to\n~25mins, with at least one run having timed out after 30mins.\n\nThis is the result of us adding 14 new probe tests, all of which are\nfairly long-running since they need to upload enough objects to allow\nsharding. That's great, but let's bump up the timeout to an hour.\n\nChange-Id: I73c36e061a8817961869496591cbe7ba714ce9d5\n""}]",0,570011,f237c5844c09a65a97e0f6a1b7b9df221bc8e7ca,9,5,1,15343,,,0,"Bump up timeout for swift-probetests-centos-7

Since sharding landed, probe test times have climbed from ~15mins to
~25mins, with at least one run having timed out after 30mins.

This is the result of us adding 14 new probe tests, all of which are
fairly long-running since they need to upload enough objects to allow
sharding. That's great, but let's bump up the timeout to an hour.

Change-Id: I73c36e061a8817961869496591cbe7ba714ce9d5
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/570011/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f237c5844c09a65a97e0f6a1b7b9df221bc8e7ca,, timeout: 3600,,1,0
openstack%2Ftempest~master~I0c9193501eb9eaa25eb5f0786bb72eb7855099fb,openstack/tempest,master,I0c9193501eb9eaa25eb5f0786bb72eb7855099fb,Volume Service Testing: default to v3 endpoints,MERGED,2017-12-14 07:53:37.000000000,2018-05-22 20:03:10.000000000,2018-05-22 20:03:10.000000000,"[{'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 5690}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-12-14 07:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/11c082e39ffaa6287bc4799475e434a9aa65b82f', 'message': ""Volume Service Testing: default to v3 endpoints\n\nVolume service has 2 versions of APIs, v2 and v3. v3 base\nversion 'v3.0' is supposed to be identical to v2 APIs.\n\nCurrent supported API is v3 and all future development\nwill be on v3 with microversion.\n\nBase API       v3.0 == v2\nAPI versioning  v3.0 + microversion (v3.1, v3.2 etc)\n\nIn current situation, Tempest tests v2 API mainly and\nv3 microversion specific change. As Cinder already made v3 as\ncurrent supported APIs which are supposed to be identical to v2,\nit's is good to test v3 API as default with ability to configure\nto test v2 APIs also.\n\nTempest should have flexibility to run existing test against any\nof the API version. All existing tests which used to run on v2 APIs\nshould pass on v3.0 without any change.\n\nIdea to achieve that is:\n -  Use config option ``[volume].catalog_type`` to switch the target API\n    version for testing. For example-\n    If it is configured to v3 endpoints, all tests will run against v3 APIs. like\n    'volumev3' in case of devstack [1].\n    If it is configured to v2 endpoints, all tests will run against v2 APIs. like\n    'volumev2' in case of devstack.\n\nChanges required:\nTempest:\n 1. Change the default value of the config option ``[volume].catalog_type`` to ``volumev3``\n    so that all gate job test v3 as default.\n 2. Make all volume service clients version less.\n\nDevstack:\n 3. Make Devstack to configure the ``[volume].catalog_type`` on tempest for v2 job.\n 4. If Tempest if configured to tests v2 APIs, configure tempest to skip microversion tests\n    as no microversion supported in v2 APIs.\n\nProject-Config:\n 5. Add new job for v2 APIs testing and set ``[volume].catalog_type`` to ``volumev2``\n    to run all tests against v2 APIs.\n\nThis way we will have:\n - default gate testing of v3 APIs.\n - separate job testing v2 APIs till it is required.\n\n..1 https://github.com/openstack-dev/devstack/blob/924b1149c8138bf1401aaef709e00f680509c33f/lib/cinder#L361\n\nChange-Id: I0c9193501eb9eaa25eb5f0786bb72eb7855099fb\n""}, {'number': 2, 'created': '2017-12-14 09:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/116c088b82d189eb6eac37372577018d8c329518', 'message': ""Volume Service Testing: default to v3 endpoints\n\nVolume service has 2 versions of APIs, v2 and v3. v3 base\nversion 'v3.0' is supposed to be identical to v2 APIs.\n\nCurrent supported API is v3 and all future development\nwill be on v3 with microversion.\n\nBase API       v3.0 == v2\nAPI versioning  v3.0 + microversion (v3.1, v3.2 etc)\n\nIn current situation, Tempest tests v2 API mainly and\nv3 microversion specific change. As Cinder already made v3 as\ncurrent supported APIs which are supposed to be identical to v2,\nit's is good to test v3 API as default with ability to configure\nto test v2 APIs also.\n\nTempest should have flexibility to run existing test against any\nof the API version. All existing tests which used to run on v2 APIs\nshould pass on v3.0 without any change.\n\nIdea to achieve that is:\n -  Use config option ``[volume].catalog_type`` to switch the target API\n    version for testing. For example-\n    If it is configured to v3 endpoints, all tests will run against v3 APIs. like\n    'volumev3' in case of devstack [1].\n    If it is configured to v2 endpoints, all tests will run against v2 APIs. like\n    'volumev2' in case of devstack.\n\nChanges required:\nTempest: this commit\n 1. Change the default value of the config option ``[volume].catalog_type`` to ``volumev3``\n    so that all gate job test v3 as default.\n 2. Make all volume service clients version less.\n\nDevstack: I0c9193501eb9eaa25eb5f0786bb72eb7855099fb \n 3. Make Devstack to configure the ``[volume].catalog_type`` on tempest for v2 job.\n 4. If Tempest if configured to tests v2 APIs, configure tempest to skip microversion tests\n    as no microversion supported in v2 APIs.\n\nProject-Config: TODO\n 5. Add new job for v2 APIs testing and set ``[volume].catalog_type`` to ``volumev2``\n    to run all tests against v2 APIs.\n\nThis way we will have:\n - default gate testing of v3 APIs.\n - separate job testing v2 APIs till it is required.\n\n..1 https://github.com/openstack-dev/devstack/blob/924b1149c8138bf1401aaef709e00f680509c33f/lib/cinder#L361\n\nChange-Id: I0c9193501eb9eaa25eb5f0786bb72eb7855099fb\n""}, {'number': 3, 'created': '2018-01-21 08:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cf121d8b8b3b19f399d99b55ec48389199c523f3', 'message': ""Volume Service Testing: default to v3 endpoints\n\nVolume service has 2 versions of APIs, v2 and v3. v3 base\nversion 'v3.0' is supposed to be identical to v2 APIs.\n\nCurrent supported API is v3 and all future development\nwill be on v3 with microversion.\n\nBase API       v3.0 == v2\nAPI versioning  v3.0 + microversion (v3.1, v3.2 etc)\n\nIn current situation, Tempest tests v2 API mainly and\nv3 microversion specific change. As Cinder already made v3 as\ncurrent supported APIs which are supposed to be identical to v2,\nit's is good to test v3 API as default with ability to configure\nto test v2 APIs also.\n\nTempest should have flexibility to run existing test against any\nof the API version. All existing tests which used to run on v2 APIs\nshould pass on v3.0 without any change.\n\nIdea to achieve that is:\n -  Use config option ``[volume].catalog_type`` to switch the target API\n    version for testing. For example-\n    If it is configured to v3 endpoints, all tests will run against v3 APIs. like\n    'volumev3' in case of devstack [1].\n    If it is configured to v2 endpoints, all tests will run against v2 APIs. like\n    'volumev2' in case of devstack.\n\nChanges required:\nTempest: this commit\n 1. Change the default value of the config option ``[volume].catalog_type`` to ``volumev3``\n    so that all gate job test v3 as default.\n 2. Make all volume service clients version less.\n\nDevstack: I531f3b32e81ac5d282461597ca286c09429cb143\n 3. Make Devstack to configure the ``[volume].catalog_type`` on tempest for v2 job.\n 4. If Tempest if configured to tests v2 APIs, configure tempest to skip microversion tests\n    as no microversion supported in v2 APIs.\n\nProject-Config: TODO\n 5. Add new job for v2 APIs testing and set ``[volume].catalog_type`` to ``volumev2``\n    to run all tests against v2 APIs.\n\nThis way we will have:\n - default gate testing of v3 APIs.\n - separate job testing v2 APIs till it is required.\n\n..1 https://github.com/openstack-dev/devstack/blob/924b1149c8138bf1401aaef709e00f680509c33f/lib/cinder#L361\n\nNOTE: Next patch will make all service clients under v3 dir\n      and keep v2 service clients available for backward\n      compatibility.\n\nChange-Id: I0c9193501eb9eaa25eb5f0786bb72eb7855099fb\n""}, {'number': 4, 'created': '2018-02-18 15:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a33e0ca51befafe1d9540abf8eea75676f214431', 'message': ""Volume Service Testing: default to v3 endpoints\n\nVolume service has 2 versions of APIs, v2 and v3. v3 base\nversion 'v3.0' is supposed to be identical to v2 APIs.\n\nCurrent supported API is v3 and all future development\nwill be on v3 with microversion.\n\nBase API       v3.0 == v2\nAPI versioning  v3.0 + microversion (v3.1, v3.2 etc)\n\nIn current situation, Tempest tests v2 API mainly and\nv3 microversion specific change. As Cinder already made v3 as\ncurrent supported APIs which are supposed to be identical to v2,\nit's is good to test v3 API as default with ability to configure\nto test v2 APIs also.\n\nTempest should have flexibility to run existing test against any\nof the API version. All existing tests which used to run on v2 APIs\nshould pass on v3.0 without any change.\n\nIdea to achieve that is:\n -  Use config option ``[volume].catalog_type`` to switch the target API\n    version for testing. For example-\n    If it is configured to v3 endpoints, all tests will run against v3 APIs. like\n    'volumev3' in case of devstack [1].\n    If it is configured to v2 endpoints, all tests will run against v2 APIs. like\n    'volumev2' in case of devstack.\n\nChanges required:\nTempest: this commit\n 1. Change the default value of the config option ``[volume].catalog_type`` to ``volumev3``\n    so that all gate job test v3 as default.\n 2. Make all volume service clients version less.\n\nDevstack: I531f3b32e81ac5d282461597ca286c09429cb143\n 3. Make Devstack to configure the ``[volume].catalog_type`` on tempest for v2 job.\n 4. If Tempest if configured to tests v2 APIs, configure tempest to skip microversion tests\n    as no microversion supported in v2 APIs.\n\nProject-Config: TODO\n 5. Add new job for v2 APIs testing and set ``[volume].catalog_type`` to ``volumev2``\n    to run all tests against v2 APIs.\n\nThis way we will have:\n - default gate testing of v3 APIs.\n - separate job testing v2 APIs till it is required.\n\n..1 https://github.com/openstack-dev/devstack/blob/924b1149c8138bf1401aaef709e00f680509c33f/lib/cinder#L361\n\nNOTE: Next patch will make all service clients under v3 dir\n      and keep v2 service clients available for backward\n      compatibility.\n\nChange-Id: I0c9193501eb9eaa25eb5f0786bb72eb7855099fb\n""}, {'number': 5, 'created': '2018-04-22 11:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/567203e1548b5854676a5e6013094a243b8f01a6', 'message': ""Volume Service Testing: default to v3 endpoints\n\nVolume service has 2 versions of APIs, v2 and v3. v3 base\nversion 'v3.0' is supposed to be identical to v2 APIs.\n\nCurrent supported API is v3 and all future development\nwill be on v3 with microversion.\n\nBase API       v3.0 == v2\nAPI versioning  v3.0 + microversion (v3.1, v3.2 etc)\n\nIn current situation, Tempest tests v2 API mainly and\nv3 microversion specific change. As Cinder already made v3 as\ncurrent supported APIs which are supposed to be identical to v2,\nit's is good to test v3 API as default with ability to configure\nto test v2 APIs also.\n\nTempest should have flexibility to run existing test against any\nof the API version. All existing tests which used to run on v2 APIs\nshould pass on v3.0 without any change.\n\nIdea to achieve that is:\n -  Use config option ``[volume].catalog_type`` to switch the target API\n    version for testing. For example-\n    If it is configured to v3 endpoints, all tests will run against v3 APIs. like\n    'volumev3' in case of devstack [1].\n    If it is configured to v2 endpoints, all tests will run against v2 APIs. like\n    'volumev2' in case of devstack.\n\nChanges required:\nTempest: this commit\n 1. Change the default value of the config option ``[volume].catalog_type`` to ``volumev3``\n    so that all gate job test v3 as default.\n 2. Make all volume service clients version less.\n\nDevstack: I531f3b32e81ac5d282461597ca286c09429cb143\n 3. Make Devstack to configure the ``[volume].catalog_type`` on tempest for v2 job.\n 4. If Tempest if configured to tests v2 APIs, configure tempest to skip microversion tests\n    as no microversion supported in v2 APIs.\n\nv2 API Job: TODO\n 5. Add new job for v2 APIs testing and set ``[volume].catalog_type`` to ``volumev2``\n    to run all tests against v2 APIs.\n\nThis way we will have:\n - default gate testing of v3 APIs.\n - separate job testing v2 APIs till it is required.\n\n..1 https://github.com/openstack-dev/devstack/blob/924b1149c8138bf1401aaef709e00f680509c33f/lib/cinder#L361\n\nNOTE: Next patch will make all service clients under v3 dir\n      and keep v2 service clients available for backward\n      compatibility.\n\nChange-Id: I0c9193501eb9eaa25eb5f0786bb72eb7855099fb\n""}, {'number': 6, 'created': '2018-04-23 02:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/366bfdd1bced70b4ba3f785ed75aa32a1814f00d', 'message': ""Volume Service Testing: default to v3 endpoints\n\nVolume service has 2 versions of APIs, v2 and v3. v3 base\nversion 'v3.0' is supposed to be identical to v2 APIs.\n\nCurrent supported API is v3 and all future development\nwill be on v3 with microversion.\n\nBase API       v3.0 == v2\nAPI versioning  v3.0 + microversion (v3.1, v3.2 etc)\n\nIn current situation, Tempest tests v2 API mainly and\nv3 microversion specific change. As Cinder already made v3 as\ncurrent supported APIs which are supposed to be identical to v2,\nit's is good to test v3 API as default with ability to configure\nto test v2 APIs also.\n\nTempest should have flexibility to run existing test against any\nof the API version. All existing tests which used to run on v2 APIs\nshould pass on v3.0 without any change.\n\nIdea to achieve that is:\n -  Use config option ``[volume].catalog_type`` to switch the target API\n    version for testing. For example-\n    If it is configured to v3 endpoints, all tests will run against v3 APIs. like\n    'volumev3' in case of devstack [1].\n    If it is configured to v2 endpoints, all tests will run against v2 APIs. like\n    'volumev2' in case of devstack.\n\nChanges required:\nTempest: this commit\n 1. Change the default value of the config option ``[volume].catalog_type`` to ``volumev3``\n    so that all gate job test v3 as default.\n 2. Make all volume service clients version less.\n\nDevstack: I531f3b32e81ac5d282461597ca286c09429cb143\n 3. Make Devstack to configure the ``[volume].catalog_type`` on tempest for v2 job.\n 4. If Tempest if configured to tests v2 APIs, configure tempest to skip microversion tests\n    as no microversion supported in v2 APIs.\n\nv2 API Job: TODO\n 5. Add new job for v2 APIs testing and set ``[volume].catalog_type`` to ``volumev2``\n    to run all tests against v2 APIs.\n\nThis way we will have:\n - default gate testing of v3 APIs.\n - separate job testing v2 APIs till it is required.\n\n..1 https://github.com/openstack-dev/devstack/blob/924b1149c8138bf1401aaef709e00f680509c33f/lib/cinder#L361\n\nNOTE: Next patch will make all service clients under v3 dir\n      and keep v2 service clients available for backward\n      compatibility.\n\nChange-Id: I0c9193501eb9eaa25eb5f0786bb72eb7855099fb\n""}, {'number': 7, 'created': '2018-05-16 07:59:19.000000000', 'files': ['tempest/lib/services/volume/v2/backups_client.py', 'tempest/lib/services/volume/v2/quotas_client.py', 'releasenotes/notes/volume-service-testing-default-to-v3-endpoints-20b86895a590925d.yaml', 'tempest/lib/services/volume/v2/hosts_client.py', 'tempest/lib/services/volume/v2/volumes_client.py', 'tempest/lib/services/volume/v2/snapshots_client.py', 'tempest/lib/services/volume/v2/types_client.py', 'tempest/lib/services/volume/v2/availability_zone_client.py', 'tempest/lib/services/volume/v2/limits_client.py', 'tempest/lib/services/volume/v2/snapshot_manage_client.py', 'tempest/lib/services/volume/v2/encryption_types_client.py', 'tempest/lib/services/volume/v2/services_client.py', 'tempest/lib/services/volume/v2/transfers_client.py', 'tempest/lib/services/volume/v2/capabilities_client.py', 'tempest/lib/services/volume/v2/extensions_client.py', 'tempest/lib/services/volume/v2/scheduler_stats_client.py', 'tempest/config.py', 'tempest/lib/services/volume/v2/qos_client.py', 'tempest/lib/services/volume/v2/quota_classes_client.py', 'tempest/lib/services/volume/v2/volume_manage_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/89c213fb355f0ec672ae8002c516cf11f568960b', 'message': ""Volume Service Testing: default to v3 endpoints\n\nVolume service has 2 versions of APIs, v2 and v3. v3 base\nversion 'v3.0' is supposed to be identical to v2 APIs.\n\nCurrent supported API is v3 and all future development\nwill be on v3 with microversion.\n\nBase API       v3.0 == v2\nAPI versioning  v3.0 + microversion (v3.1, v3.2 etc)\n\nIn current situation, Tempest tests v2 API mainly and\nv3 microversion specific change. As Cinder already made v3 as\ncurrent supported APIs which are supposed to be identical to v2,\nit's is good to test v3 API as default with ability to configure\nto test v2 APIs also.\n\nTempest should have flexibility to run existing test against any\nof the API version. All existing tests which used to run on v2 APIs\nshould pass on v3.0 without any change.\n\nIdea to achieve that is:\n -  Use config option ``[volume].catalog_type`` to switch the target API\n    version for testing. For example-\n    If it is configured to v3 endpoints, all tests will run against v3 APIs. like\n    'volumev3' in case of devstack [1].\n    If it is configured to v2 endpoints, all tests will run against v2 APIs. like\n    'volumev2' in case of devstack.\n\nChanges required:\nTempest: this commit\n 1. Change the default value of the config option ``[volume].catalog_type`` to ``volumev3``\n    so that all gate job test v3 as default.\n 2. Make all volume service clients version less.\n\nDevstack: I531f3b32e81ac5d282461597ca286c09429cb143\n 3. Make Devstack to configure the ``[volume].catalog_type`` on tempest for v2 job.\n 4. If Tempest if configured to tests v2 APIs, configure tempest to skip microversion tests\n    as no microversion supported in v2 APIs.\n\nv2 API Job: TODO\n 5. Add new job for v2 APIs testing and set ``[volume].catalog_type`` to ``volumev2``\n    to run all tests against v2 APIs.\n\nThis way we will have:\n - default gate testing of v3 APIs.\n - separate job testing v2 APIs till it is required.\n\n..1 https://github.com/openstack-dev/devstack/blob/924b1149c8138bf1401aaef709e00f680509c33f/lib/cinder#L361\n\nNOTE: Next patch will make all service clients under v3 dir\n      and keep v2 service clients available for backward\n      compatibility.\n\nChange-Id: I0c9193501eb9eaa25eb5f0786bb72eb7855099fb\n""}]",9,527889,89c213fb355f0ec672ae8002c516cf11f568960b,64,12,7,8556,,,0,"Volume Service Testing: default to v3 endpoints

Volume service has 2 versions of APIs, v2 and v3. v3 base
version 'v3.0' is supposed to be identical to v2 APIs.

Current supported API is v3 and all future development
will be on v3 with microversion.

Base API       v3.0 == v2
API versioning  v3.0 + microversion (v3.1, v3.2 etc)

In current situation, Tempest tests v2 API mainly and
v3 microversion specific change. As Cinder already made v3 as
current supported APIs which are supposed to be identical to v2,
it's is good to test v3 API as default with ability to configure
to test v2 APIs also.

Tempest should have flexibility to run existing test against any
of the API version. All existing tests which used to run on v2 APIs
should pass on v3.0 without any change.

Idea to achieve that is:
 -  Use config option ``[volume].catalog_type`` to switch the target API
    version for testing. For example-
    If it is configured to v3 endpoints, all tests will run against v3 APIs. like
    'volumev3' in case of devstack [1].
    If it is configured to v2 endpoints, all tests will run against v2 APIs. like
    'volumev2' in case of devstack.

Changes required:
Tempest: this commit
 1. Change the default value of the config option ``[volume].catalog_type`` to ``volumev3``
    so that all gate job test v3 as default.
 2. Make all volume service clients version less.

Devstack: I531f3b32e81ac5d282461597ca286c09429cb143
 3. Make Devstack to configure the ``[volume].catalog_type`` on tempest for v2 job.
 4. If Tempest if configured to tests v2 APIs, configure tempest to skip microversion tests
    as no microversion supported in v2 APIs.

v2 API Job: TODO
 5. Add new job for v2 APIs testing and set ``[volume].catalog_type`` to ``volumev2``
    to run all tests against v2 APIs.

This way we will have:
 - default gate testing of v3 APIs.
 - separate job testing v2 APIs till it is required.

..1 https://github.com/openstack-dev/devstack/blob/924b1149c8138bf1401aaef709e00f680509c33f/lib/cinder#L361

NOTE: Next patch will make all service clients under v3 dir
      and keep v2 service clients available for backward
      compatibility.

Change-Id: I0c9193501eb9eaa25eb5f0786bb72eb7855099fb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/89/527889/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v2/backups_client.py', 'tempest/lib/services/volume/v2/quotas_client.py', 'tempest/lib/services/volume/v2/hosts_client.py', 'tempest/lib/services/volume/v2/volumes_client.py', 'tempest/lib/services/volume/v2/snapshots_client.py', 'tempest/lib/services/volume/v2/types_client.py', 'tempest/lib/services/volume/v2/availability_zone_client.py', 'tempest/lib/services/volume/v2/limits_client.py', 'tempest/lib/services/volume/v2/snapshot_manage_client.py', 'tempest/lib/services/volume/v2/encryption_types_client.py', 'tempest/lib/services/volume/v2/services_client.py', 'tempest/lib/services/volume/v2/transfers_client.py', 'tempest/lib/services/volume/v2/capabilities_client.py', 'tempest/lib/services/volume/v2/extensions_client.py', 'tempest/lib/services/volume/v2/scheduler_stats_client.py', 'tempest/config.py', 'tempest/lib/services/volume/v2/qos_client.py', 'tempest/lib/services/volume/v2/quota_classes_client.py', 'tempest/lib/services/volume/v2/volume_manage_client.py']",19,11c082e39ffaa6287bc4799475e434a9aa65b82f,volume-default-testing-v3," """"""Volume manage client."""""""," """"""Volume manage V2 client."""""" api_version = ""v2""",15,38
openstack%2Fnova~master~I81fa2588d85c803415aadf6150ed6cdd7a0fe6d1,openstack/nova,master,I81fa2588d85c803415aadf6150ed6cdd7a0fe6d1,Remove the remaining of the removed option,MERGED,2018-05-18 16:28:44.000000000,2018-05-22 20:03:06.000000000,2018-05-22 20:03:06.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-18 16:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1a4983d3fc1eb8c51192094d0431d54b5be761d', 'message': 'Remove the remaining of the removed option\n\nSince I8ae8507a089df4d0a32be5fbc615e2166f44516e the config option\nmulti_instance_display_name_template has been removed.\nSo this patch removes the remaining of the option.\n\nChange-Id: I81fa2588d85c803415aadf6150ed6cdd7a0fe6d1\n'}, {'number': 2, 'created': '2018-05-22 15:56:46.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/89b3286ebc840a595abba8475829f352122735bc', 'message': 'Remove the remaining of the removed option\n\nSince I8ae8507a089df4d0a32be5fbc615e2166f44516e the config option\nmulti_instance_display_name_template has been removed.\nSo this patch removes the remaining of the option.\n\nChange-Id: I81fa2588d85c803415aadf6150ed6cdd7a0fe6d1\n'}]",2,569462,89b3286ebc840a595abba8475829f352122735bc,54,19,2,6167,,,0,"Remove the remaining of the removed option

Since I8ae8507a089df4d0a32be5fbc615e2166f44516e the config option
multi_instance_display_name_template has been removed.
So this patch removes the remaining of the option.

Change-Id: I81fa2588d85c803415aadf6150ed6cdd7a0fe6d1
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/569462/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'nova/compute/api.py']",2,d1a4983d3fc1eb8c51192094d0431d54b5be761d,cleanup,," # NOTE(russellb) In the multi-instance case, we're going to # overwrite the display_name using the # multi_instance_display_name_template. We need the default # display_name set so that it can be used in the template, though. # Only set the hostname here if we're only creating one instance. # Otherwise, it will be built after the template based # display_name.",1,9
openstack%2Fneutron~stable%2Fqueens~I2fe6ff3498d2450700634eb90c8cf1b2e219849c,openstack/neutron,stable/queens,I2fe6ff3498d2450700634eb90c8cf1b2e219849c,Fix wrong release names in docs,MERGED,2018-05-20 08:17:16.000000000,2018-05-22 19:55:00.000000000,2018-05-22 19:55:00.000000000,"[{'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-20 08:17:16.000000000', 'files': ['doc/source/admin/deploy-lb-provider.rst', 'doc/source/admin/deploy.rst', 'doc/source/admin/deploy-ovs-provider.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e40430466915b47681a2b0654f5af6966e8c906', 'message': 'Fix wrong release names in docs\n\n  * Replaced occurences of Pike with Queens in install docs.\n\nTrivialFix\n\nChange-Id: I2fe6ff3498d2450700634eb90c8cf1b2e219849c\n'}]",0,569634,1e40430466915b47681a2b0654f5af6966e8c906,9,5,1,15492,,,0,"Fix wrong release names in docs

  * Replaced occurences of Pike with Queens in install docs.

TrivialFix

Change-Id: I2fe6ff3498d2450700634eb90c8cf1b2e219849c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/569634/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/deploy-lb-provider.rst', 'doc/source/admin/deploy.rst', 'doc/source/admin/deploy-ovs-provider.rst']",3,1e40430466915b47681a2b0654f5af6966e8c906,, `Queens Install Tutorials and Guides, `Pike Install Tutorials and Guides,3,3
openstack%2Fswift~master~I8dcd0eac1396b251a2c2a31e167598bc1e48c463,openstack/swift,master,I8dcd0eac1396b251a2c2a31e167598bc1e48c463,Test rsync error log truncation,MERGED,2018-05-22 11:59:58.000000000,2018-05-22 19:54:58.000000000,2018-05-22 19:54:58.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 11:59:58.000000000', 'files': ['test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/82314bd1201919e5db5e023046242230eec36cc6', 'message': 'Test rsync error log truncation\n\nVerify the log line truncation method is actually called.\n\nRelated-Change: If063a12cac74b67078b6db1c4f489160a2a69de1\nChange-Id: I8dcd0eac1396b251a2c2a31e167598bc1e48c463\n'}]",0,569968,82314bd1201919e5db5e023046242230eec36cc6,6,2,1,7847,,,0,"Test rsync error log truncation

Verify the log line truncation method is actually called.

Related-Change: If063a12cac74b67078b6db1c4f489160a2a69de1
Change-Id: I8dcd0eac1396b251a2c2a31e167598bc1e48c463
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/569968/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/obj/test_replicator.py'],1,82314bd1201919e5db5e023046242230eec36cc6,bug/1763557," self.replicator.rsync_error_log_line_length = 20 error_lines = self.replicator.logger.get_lines_for_level('error') # verify logs are truncated to rsync_error_log_line_length self.assertEqual('Killing long-running', error_lines[0]) self.assertEqual('Killing long-running', error_lines[1])",,5,0
openstack%2Fswift~master~I9f51621e8414e446e4d3f3b5027f6c40e01192c3,openstack/swift,master,I9f51621e8414e446e4d3f3b5027f6c40e01192c3,Avoid premature shrinking in sharder probe test,MERGED,2018-05-22 12:35:48.000000000,2018-05-22 19:54:57.000000000,2018-05-22 19:54:57.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 12:35:48.000000000', 'files': ['test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/37ee89e47a7423f5a4ba74d419753a6f20f09cbf', 'message': ""Avoid premature shrinking in sharder probe test\n\nPreviously test_misplaced_object_movement() deleted objects from both\nshards and then relied on override-partitions option to selectively\nrun the sharder on root or shard containers and thereby control when\neach shard range was identified for shrinking. This approach is flawed\nwhen the second shard container lands in the same partition as the\nroot: running the sharder on the empty second shard's partition would\nalso cause the sharder to process the root and identify the second\nshard for shrinking, resulting in premature shrinking of the second\nshard.\n\nNow, objects are only deleted from each shard range as that shard is\nwanted to shrink.\n\nChange-Id: I9f51621e8414e446e4d3f3b5027f6c40e01192c3\nDrive-by: use the run_sharders() helper more often.\n""}]",0,569973,37ee89e47a7423f5a4ba74d419753a6f20f09cbf,7,3,1,7847,,,0,"Avoid premature shrinking in sharder probe test

Previously test_misplaced_object_movement() deleted objects from both
shards and then relied on override-partitions option to selectively
run the sharder on root or shard containers and thereby control when
each shard range was identified for shrinking. This approach is flawed
when the second shard container lands in the same partition as the
root: running the sharder on the empty second shard's partition would
also cause the sharder to process the root and identify the second
shard for shrinking, resulting in premature shrinking of the second
shard.

Now, objects are only deleted from each shard range as that shard is
wanted to shrink.

Change-Id: I9f51621e8414e446e4d3f3b5027f6c40e01192c3
Drive-by: use the run_sharders() helper more often.
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/569973/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_sharder.py'],1,37ee89e47a7423f5a4ba74d419753a6f20f09cbf,," # delete all objects in first shard range - updates redirected to shard shard_0_objects = [name for name in all_obj_names if name in shard_ranges[0]] shard_1_objects = [name for name in all_obj_names if name in shard_ranges[1]] self.delete_objects(shard_0_objects) self.assert_container_listing(shard_1_objects) self.assert_container_post_ok('has objects') # run sharder on first shard container to update root stats self.run_sharders(shard_ranges[0]) self.assert_container_object_count(len(shard_1_objects)) self.run_sharders(shard_ranges[0]) self.assert_container_listing(shard_1_objects) self.assert_container_object_count(len(shard_1_objects)) shard_part, shard_nodes_numbers = self.get_part_and_node_numbers( shard_ranges[0]) self.assert_container_listing(['alpha'] + shard_1_objects) # root not yet updated self.assert_container_object_count(len(shard_1_objects)) self.assert_container_listing(['alpha'] + shard_1_objects) self.assert_container_object_count(len(shard_1_objects) + 1) # delete most objects from second shard range and run sharder on root # to discover second shrink candidate self.delete_objects(shard_1_objects) self.run_sharders(shard_ranges[1]) self.run_sharders(shard_ranges[1]) shard_part, shard_nodes_numbers = self.get_part_and_node_numbers( shard_ranges[1])"," # delete all objects - updates redirected to shards self.delete_objects(all_obj_names) self.assert_container_listing([]) self.assert_container_post_ok('has objects') # run sharder on shard containers to update root stats self.run_sharders(shard_ranges) self.assert_container_object_count(0) shard_part, shard_nodes_numbers = self.get_part_and_node_numbers( shard_ranges[0]) self.sharders.once(additional_args='--partitions=%s' % shard_part) self.assert_container_listing([]) self.assert_container_object_count(0) self.assert_container_listing(['alpha']) self.assert_container_object_count(0) # root not yet updated self.assert_container_listing(['alpha']) self.assert_container_object_count(1) # run sharder on root to discover second shrink candidate shard_part, shard_nodes_numbers = self.get_part_and_node_numbers( shard_ranges[1]) self.sharders.once(additional_args='--partitions=%s' % shard_part)",29,21
openstack%2Fneutron~stable%2Fpike~I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,openstack/neutron,stable/pike,I9728354d5f9e08a0dc23900b2bc22b4a0aedb737,Use Param DHCP_OPT_CLIENT_ID_NUM,MERGED,2018-05-19 14:44:17.000000000,2018-05-22 19:31:53.000000000,2018-05-22 19:31:53.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 22948}]","[{'number': 1, 'created': '2018-05-19 14:44:17.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/ib-dhcp-allocation-fix-a4ebe8b55bb2c065.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8c4eb00c2eba8b4f33624ee4ce71d41738573c5', 'message': ""Use Param DHCP_OPT_CLIENT_ID_NUM\n\nIronic is sending 'client-id' as a number (61) to meet rfc4776 [1],\ndue to this change Neutron DHCP should support this option as well.\n\n[1] https://github.com/openstack/ironic/commit/228a2a7885e1b04d4180fe8daa2992884decaf6d\n\nCloses-Bug: #1770932\nChange-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737\n(cherry picked from commit 59bc19c14a84283adad555dce8536fd7198b82b3)\n""}]",0,569575,e8c4eb00c2eba8b4f33624ee4ce71d41738573c5,8,5,1,12171,,,0,"Use Param DHCP_OPT_CLIENT_ID_NUM

Ironic is sending 'client-id' as a number (61) to meet rfc4776 [1],
due to this change Neutron DHCP should support this option as well.

[1] https://github.com/openstack/ironic/commit/228a2a7885e1b04d4180fe8daa2992884decaf6d

Closes-Bug: #1770932
Change-Id: I9728354d5f9e08a0dc23900b2bc22b4a0aedb737
(cherry picked from commit 59bc19c14a84283adad555dce8536fd7198b82b3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/569575/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/ib-dhcp-allocation-fix-a4ebe8b55bb2c065.yaml']",3,e8c4eb00c2eba8b4f33624ee4ce71d41738573c5,dhcp_ib-stable/queens-stable/pike,"--- fixes: - | For Infiniband support, Ironic needs to send the 'client-id' DHCP option as a number in order for IP address assignment to work. This is now supported in Neutron, and can be specified as option number 61 as defined in RFC 4776. For more information see bug `1770932 <https://bugs.launchpad.net/neutron/+bug/1770932>`_",,35,2
openstack%2Fswift~master~I28ad07091f7fd20c48b245e5bd21bb7eb4ae55cf,openstack/swift,master,I28ad07091f7fd20c48b245e5bd21bb7eb4ae55cf,Simplify ContainerBroker._get_shard_range_rows(),MERGED,2018-05-22 11:21:48.000000000,2018-05-22 19:31:51.000000000,2018-05-22 19:31:51.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 11:21:48.000000000', 'files': ['swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0ee2a1df704da3b2aec9a7ad0e8746bb306bdf3e', 'message': 'Simplify ContainerBroker._get_shard_range_rows()\n\nChange-Id: I28ad07091f7fd20c48b245e5bd21bb7eb4ae55cf\nRelated-Change: I2f7d1bc698ff4c0734ab48eb29e252d6acb1abc6\n'}]",1,569962,0ee2a1df704da3b2aec9a7ad0e8746bb306bdf3e,6,2,1,7847,,,0,"Simplify ContainerBroker._get_shard_range_rows()

Change-Id: I28ad07091f7fd20c48b245e5bd21bb7eb4ae55cf
Related-Change: I2f7d1bc698ff4c0734ab48eb29e252d6acb1abc6
",git fetch https://review.opendev.org/openstack/swift refs/changes/62/569962/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,0ee2a1df704da3b2aec9a7ad0e8746bb306bdf3e,569840," states=None, include_own=False, exclude_others=False): included_states = set() if isinstance(states, (list, tuple, set)): included_states.update(states) elif states is not None: included_states.add(states)"," states=None, include_own=False, exclude_others=False): def prep_states(states): state_set = set() if isinstance(states, (list, tuple, set)): state_set.update(states) elif states is not None: state_set.add(states) return state_set included_states = prep_states(states)",7,11
openstack%2Ftripleo-heat-templates~master~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,master,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-19 03:09:34.000000000,2018-05-22 19:23:35.000000000,2018-05-22 02:35:32.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-05-19 03:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/deb420bd2dc7b9e8ce40c8f419e59b75ff0ea68b', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n'}, {'number': 2, 'created': '2018-05-19 03:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d74d4319ede0cb97c629e57461598de853288c2d', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n'}, {'number': 3, 'created': '2018-05-19 15:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4057dff0ffc879d59b7eb0c0610ecfddb0b331c2', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n'}, {'number': 4, 'created': '2018-05-20 21:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67ccf79a3edd3a08adb550e4d3c489dc01929668', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n'}, {'number': 5, 'created': '2018-05-21 13:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81b730461e2264544bd15b0c0ca29068b3e13110', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n'}, {'number': 6, 'created': '2018-05-21 13:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f141831272409b410d05a11113180cc0637bcabc', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n'}, {'number': 7, 'created': '2018-05-21 14:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00b5dc797d32ceb6511750331ac2d7d97dbe2211', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n'}, {'number': 8, 'created': '2018-05-21 14:32:51.000000000', 'files': ['overcloud.j2.yaml', 'extraconfig/tasks/ssh/known_hosts_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c973203345dbcf5ef94a5bcad2b089f5298c9b0', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n'}]",7,569550,7c973203345dbcf5ef94a5bcad2b089f5298c9b0,40,8,8,14985,,,0,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/569550/7 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/ssh/known_hosts_config.yaml'],1,deb420bd2dc7b9e8ce40c8f419e59b75ff0ea68b,bug/1772071," str_replace: params: KNOWN_HOSTS: {get_param: known_hosts} template: | #!/bin/bash set -eux set -o pipefail echo ""Creating ssh known hosts file"" if [ ! -z ""KNOWN_HOSTS"" ]; then cat <<EOF >/etc/ssh/ssh_known_hosts KNOWN_HOSTS EOF chmod 0644 /etc/ssh/ssh_known_hosts else rm -f /etc/ssh/ssh_known_hosts echo ""No ssh known hosts"" fi value: {get_resource: SSHKnownHostsConfig} "," inputs: - name: known_hosts default: {get_param: known_hosts} #!/bin/bash set -eux set -o pipefail echo ""Creating ssh known hosts file"" if [ ! -z ""${known_hosts}"" ]; then echo ""${known_hosts}"" echo -ne ""${known_hosts}"" > /etc/ssh/ssh_known_hosts chmod 0644 /etc/ssh/ssh_known_hosts else rm -f /etc/ssh/ssh_known_hosts echo ""No ssh known hosts"" fi value: {get_resource: SSHKnownHostsConfig}",18,16
openstack%2Ftripleo-quickstart~master~I96ae01c8bbb2ff58f44bae76b4b090bf8e8f8833,openstack/tripleo-quickstart,master,I96ae01c8bbb2ff58f44bae76b4b090bf8e8f8833,Add multinode jobs for various branches in CI,MERGED,2018-05-22 07:49:56.000000000,2018-05-22 19:14:51.000000000,2018-05-22 19:14:51.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 07:49:56.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/60b3aeac2fe088b4fe3ee4dfb3fa9075cddec2dc', 'message': 'Add multinode jobs for various branches in CI\n\nAs tripleo-quickstart is branchless repo sometimes there is need\nto test code with specific branch or not to break a specific\nbranch deployment.\nRun multinode containers job for release -2 and -1 from master.\n\nDepends-On: I31ead90f16473647a1ed60af625f7399699ad112\nChange-Id: I96ae01c8bbb2ff58f44bae76b4b090bf8e8f8833\n'}]",2,569932,60b3aeac2fe088b4fe3ee4dfb3fa9075cddec2dc,14,8,1,10969,,,0,"Add multinode jobs for various branches in CI

As tripleo-quickstart is branchless repo sometimes there is need
to test code with specific branch or not to break a specific
branch deployment.
Run multinode containers job for release -2 and -1 from master.

Depends-On: I31ead90f16473647a1ed60af625f7399699ad112
Change-Id: I96ae01c8bbb2ff58f44bae76b4b090bf8e8f8833
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/32/569932/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,60b3aeac2fe088b4fe3ee4dfb3fa9075cddec2dc,jobs, - tripleo-multinode-branchful,,1,0
openstack%2Ftripleo-quickstart-extras~master~Id72870f4d9855749e5d1e048c918fe16f6ab2a35,openstack/tripleo-quickstart-extras,master,Id72870f4d9855749e5d1e048c918fe16f6ab2a35,Add multinode jobs for various branches in CI,MERGED,2018-05-22 07:40:44.000000000,2018-05-22 19:14:50.000000000,2018-05-22 19:14:49.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-22 07:40:44.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/31925c72bd7266e38688d55c1c30484313d8a6a1', 'message': 'Add multinode jobs for various branches in CI\n\nAs tripleo-quickstart-extras is branchless repo sometimes there is\nneed to test code with specific branch or not to break a specific\nbranch deployment.\nRun multinode containers job for release -2 and -1 from master.\n\nChange-Id: Id72870f4d9855749e5d1e048c918fe16f6ab2a35\nDepends-On: I31ead90f16473647a1ed60af625f7399699ad112\n'}]",0,569930,31925c72bd7266e38688d55c1c30484313d8a6a1,16,7,1,10969,,,0,"Add multinode jobs for various branches in CI

As tripleo-quickstart-extras is branchless repo sometimes there is
need to test code with specific branch or not to break a specific
branch deployment.
Run multinode containers job for release -2 and -1 from master.

Change-Id: Id72870f4d9855749e5d1e048c918fe16f6ab2a35
Depends-On: I31ead90f16473647a1ed60af625f7399699ad112
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/30/569930/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,31925c72bd7266e38688d55c1c30484313d8a6a1,jobs, - tripleo-multinode-branchful,,1,0
openstack%2Ftripleo-upgrade~master~Ic8388631ae05c4ff0ed03676734f1376e0e0143f,openstack/tripleo-upgrade,master,Ic8388631ae05c4ff0ed03676734f1376e0e0143f,Move SSL undercloud validation out of UC script create tasks.,MERGED,2018-05-09 10:59:39.000000000,2018-05-22 19:08:03.000000000,2018-05-22 19:08:03.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-09 10:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f41fcca5b7f86813fbb2257830b8f32ffd383ef8', 'message': 'Move SSL undercloud validation out of script creation tasks.\n\nThe set of tasks included in the undercloud_ssl_camap.yml\nplaybook are needed for the overcloud to be able\nto access the undercloud API.\nThis patch moves the task out of the undercloud create\nscript tasks to run them in the overcloud create tasks.\n\nChange-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f\n'}, {'number': 2, 'created': '2018-05-09 11:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a8ab67431cdde3128b5f783457f3c61120013179', 'message': 'Move SSL undercloud validation out of UC script create tasks.\n\nThe set of tasks included in the undercloud_ssl_camap.yml\nplaybook are needed for the overcloud to be able\nto access the undercloud API.\nThis patch moves the task out of the undercloud create\nscript tasks to run them in the overcloud create tasks.\n\nChange-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f\n'}, {'number': 3, 'created': '2018-05-14 08:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/50df6858a705476eca633d869adab5a8e26e6732', 'message': 'Move SSL undercloud validation out of UC script create tasks.\n\nThe set of tasks included in the undercloud_ssl_camap.yml\nplaybook are needed for the overcloud to be able\nto access the undercloud API.\nThis patch moves the task out of the undercloud create\nscript tasks to run them in the overcloud create tasks.\n\nChange-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f\n'}, {'number': 4, 'created': '2018-05-16 09:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/539891b3e48cf90dbde0ac1cae727dceac34b957', 'message': 'Move SSL undercloud validation out of UC script create tasks.\n\nThe set of tasks included in the undercloud_ssl_camap.yml\nplaybook are needed for the overcloud to be able\nto access the undercloud API.\nThis patch moves the task out of the undercloud create\nscript tasks to run them in the overcloud create tasks.\n\nChange-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f\n'}, {'number': 5, 'created': '2018-05-18 06:38:10.000000000', 'files': ['tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9a68678e1c52c85bad0dd80fcd46b4e4c8b432ff', 'message': 'Move SSL undercloud validation out of UC script create tasks.\n\nThe set of tasks included in the undercloud_ssl_camap.yml\nplaybook are needed for the overcloud to be able\nto access the undercloud API.\nThis patch moves the task out of the undercloud create\nscript tasks to run them in the overcloud create tasks.\n\nChange-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f\n'}]",0,567190,9a68678e1c52c85bad0dd80fcd46b4e4c8b432ff,22,8,5,26343,,,0,"Move SSL undercloud validation out of UC script create tasks.

The set of tasks included in the undercloud_ssl_camap.yml
playbook are needed for the overcloud to be able
to access the undercloud API.
This patch moves the task out of the undercloud create
script tasks to run them in the overcloud create tasks.

Change-Id: Ic8388631ae05c4ff0ed03676734f1376e0e0143f
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/90/567190/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml']",2,f41fcca5b7f86813fbb2257830b8f32ffd383ef8,bug/1769107,,"- name: check if undercloud is ssl enabled command: ""grep -Fq OS_AUTH_URL=https {{ undercloud_rc }}"" register: undercloud_ssl ignore_errors: true - include: undercloud_ssl_camap.yaml when: undercloud_ssl|succeeded",8,7
openstack%2Ftripleo-ci~master~I31ead90f16473647a1ed60af625f7399699ad112,openstack/tripleo-ci,master,I31ead90f16473647a1ed60af625f7399699ad112,Add multinode jobs for various branches in CI,MERGED,2018-05-21 20:15:28.000000000,2018-05-22 19:08:02.000000000,2018-05-22 19:08:02.000000000,"[{'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-21 20:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a605ded6216f3a7b40545f6f9650021c4ec0d8a2', 'message': 'WIP: Add multinode jobs for various branches in CI\n\nAs tripleo-ci is branchless repo sometimes there is need to test\ncode with specific branch or not to break a specific branch\ndeployment. Run multinode containers job for release -2 and -1\nfrom master.\n\nChange-Id: I31ead90f16473647a1ed60af625f7399699ad112\n'}, {'number': 2, 'created': '2018-05-21 20:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bbc8642ccb43809c391f1c44586b0fd5304e77da', 'message': 'WIP: Add multinode jobs for various branches in CI\n\nAs tripleo-ci is branchless repo sometimes there is need to test\ncode with specific branch or not to break a specific branch\ndeployment. Run multinode containers job for release -2 and -1\nfrom master.\n\nChange-Id: I31ead90f16473647a1ed60af625f7399699ad112\n'}, {'number': 3, 'created': '2018-05-21 21:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6325b1bba822596546983ef102db03a121b26ccf', 'message': 'WIP: Add multinode jobs for various branches in CI\n\nAs tripleo-ci is branchless repo sometimes there is need to test\ncode with specific branch or not to break a specific branch\ndeployment. Run multinode containers job for release -2 and -1\nfrom master.\n\nChange-Id: I31ead90f16473647a1ed60af625f7399699ad112\n'}, {'number': 4, 'created': '2018-05-22 01:12:56.000000000', 'files': ['zuul.d/layout.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c78600be1dfe102b61842d8b4d24017f8906452d', 'message': 'Add multinode jobs for various branches in CI\n\nAs tripleo-ci is branchless repo sometimes there is need to test\ncode with specific branch or not to break a specific branch\ndeployment. Run multinode containers job for release -2 and -1\nfrom master.\n\nChange-Id: I31ead90f16473647a1ed60af625f7399699ad112\n'}]",0,569854,c78600be1dfe102b61842d8b4d24017f8906452d,24,7,4,10969,,,0,"Add multinode jobs for various branches in CI

As tripleo-ci is branchless repo sometimes there is need to test
code with specific branch or not to break a specific branch
deployment. Run multinode containers job for release -2 and -1
from master.

Change-Id: I31ead90f16473647a1ed60af625f7399699ad112
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/54/569854/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'zuul.d/multinode-jobs.yaml']",2,a605ded6216f3a7b40545f6f9650021c4ec0d8a2,,- project-template: name: tripleo-multinode-branchful check: jobs: - tripleo-ci-centos-7-containers-multinode-quuens - tripleo-ci-centos-7-containers-multinode-pike name: tripleo-ci-centos-7-containers-multinode-queens parent: tripleo-ci-dsvm-multinode run: playbooks/tripleo-ci/run.yaml post-run: playbooks/tripleo-ci/post.yaml timeout: 10800 nodeset: legacy-centos-7-2-node branches: master vars: toci_jobtype: multinode-1ctlr-featureset010 branch-override: 'stable/queens' - job: name: tripleo-ci-centos-7-containers-multinode-pike parent: tripleo-ci-dsvm-multinode run: playbooks/tripleo-ci/run.yaml post-run: playbooks/tripleo-ci/post.yaml timeout: 10800 nodeset: legacy-centos-7-2-node branches: master vars: toci_jobtype: multinode-1ctlr-featureset010 branch-override: 'stable/pike' - job:,,32,0
openstack%2Fpython-tripleoclient~master~If88360d9097d9af0c3b6054217ad302e7f781735,openstack/python-tripleoclient,master,If88360d9097d9af0c3b6054217ad302e7f781735,Persist generated undercloud parameters t-h-t,MERGED,2018-05-02 13:45:45.000000000,2018-05-22 19:05:30.000000000,2018-05-22 19:05:30.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-05-02 13:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/521e9710709db83c8d2c8c16ebb6b2ce2cd2b247', 'message': 'Persist generated undercloud parameters t-h-t\n\nComplements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.\nAdd the file to output_dir/<tht working dir>\nto be processed alongside the other t-h-t files and\nadded into a tarball.\n\nRelated-bug: #1749683\nRelated-bug: #1765358\nChange-Id: If88360d9097d9af0c3b6054217ad302e7f781735\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-05-04 14:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/04cfdce984d9835b2621c5247fa485fdee897e03', 'message': 'Persist generated undercloud parameters t-h-t\n\nComplements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.\nAdd the file to output_dir/<tht working dir>\nto be processed alongside the other t-h-t files and\nadded into a tarball.\n\nRelated-bug: #1749683\nRelated-bug: #1765358\nChange-Id: If88360d9097d9af0c3b6054217ad302e7f781735\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-05-04 14:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0c06cf6a082fdf7e1d2046f2711a376b33ef20f1', 'message': 'Persist generated undercloud parameters t-h-t\n\nComplements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.\nAdd the file to output_dir/<tht working dir>\nto be processed alongside the other t-h-t files and\nadded into a tarball.\n\nRelated-bug: #1749683\nRelated-bug: #1765358\nChange-Id: If88360d9097d9af0c3b6054217ad302e7f781735\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-05-09 14:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/65daf1d5e538a24d970f9d2316a4688954cb702b', 'message': 'Persist generated undercloud parameters t-h-t\n\nComplements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.\nAdd the file to output_dir/<tht working dir>\nto be processed alongside the other t-h-t files and\nadded into a tarball.\n\nRelated-bug: #1749683\nRelated-bug: #1765358\nChange-Id: If88360d9097d9af0c3b6054217ad302e7f781735\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-05-09 14:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0f1282d11928dbf28fd1a7615e4c3d634aae9a37', 'message': 'Persist generated undercloud parameters t-h-t\n\nComplements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.\nAdd the file to output_dir/<tht working dir>\nto be processed alongside the other t-h-t files and\nadded into a tarball.\n\nRelated-bug: #1749683\nRelated-bug: #1765358\nChange-Id: If88360d9097d9af0c3b6054217ad302e7f781735\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2018-05-14 07:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/32766b0f8dd07916fd50661ea2a4c0f127cec56f', 'message': 'Persist generated undercloud parameters t-h-t\n\nComplements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.\nAdd the file to output_dir/<tht working dir>\nto be processed alongside the other t-h-t files and\nadded into a tarball.\n\nRelated-bug: #1749683\nRelated-bug: #1765358\nChange-Id: If88360d9097d9af0c3b6054217ad302e7f781735\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2018-05-14 14:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ce3d29177ffeb0810b0520b5915d33efe02d2302', 'message': 'Persist generated undercloud parameters t-h-t\n\nComplements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.\nAdd the file to output_dir/<tht working dir>\nto be processed alongside the other t-h-t files and\nadded into a tarball.\n\nRelated-bug: #1749683\nRelated-bug: #1765358\nChange-Id: If88360d9097d9af0c3b6054217ad302e7f781735\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2018-05-15 15:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4270b3c171adfc2b25246b915b316dbe49038fe9', 'message': 'Persist generated undercloud parameters t-h-t\n\nComplements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.\nAdd the file to output_dir/<tht working dir>\nto be processed alongside the other t-h-t files and\nadded into a tarball.\n\nRelated-bug: #1749683\nRelated-bug: #1765358\nChange-Id: If88360d9097d9af0c3b6054217ad302e7f781735\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2018-05-16 09:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/064da93f5fc470331073bc051938759468c525ac', 'message': 'Persist generated undercloud parameters t-h-t\n\nComplements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.\nAdd the file to output_dir/<tht working dir>\nto be processed alongside the other t-h-t files and\nadded into a tarball.\n\nRelated-bug: #1749683\nRelated-bug: #1765358\nChange-Id: If88360d9097d9af0c3b6054217ad302e7f781735\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2018-05-16 14:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b8268ca263b0768eaca2c9844bcb39639938e771', 'message': 'Persist generated undercloud parameters t-h-t\n\nComplements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.\nAdd the file to output_dir/<tht working dir>\nto be processed alongside the other t-h-t files and\nadded into a tarball.\n\nRelated-bug: #1749683\nRelated-bug: #1765358\nChange-Id: If88360d9097d9af0c3b6054217ad302e7f781735\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 11, 'created': '2018-05-22 07:28:58.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b6404d4f5962bc29aaac4b4f5070de08020fc844', 'message': 'Persist generated undercloud parameters t-h-t\n\nComplements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.\nAdd the file to output_dir/<tht working dir>\nto be processed alongside the other t-h-t files and\nadded into a tarball.\n\nRelated-bug: #1749683\nRelated-bug: #1765358\nChange-Id: If88360d9097d9af0c3b6054217ad302e7f781735\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,565764,b6404d4f5962bc29aaac4b4f5070de08020fc844,52,9,11,6926,,,0,"Persist generated undercloud parameters t-h-t

Complements Ibe4e1d8f683a02d55fee86bbf0f057f41f93b72e.
Add the file to output_dir/<tht working dir>
to be processed alongside the other t-h-t files and
added into a tarball.

Related-bug: #1749683
Related-bug: #1765358
Change-Id: If88360d9097d9af0c3b6054217ad302e7f781735
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/64/565764/11 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,521e9710709db83c8d2c8c16ebb6b2ce2cd2b247,bug/1765358," tht_work_dir = os.path.join(os.path.abspath(CONF['output_dir'], 'templates')) params_file = os.path.join(tht_work_dir, 'undercloud_parameters.yaml') if not os.path.isdir(tht_work_dir): os.mkdir(tht_work_dir)"," params_file = os.path.abspath(os.path.join(CONF['output_dir'], 'undercloud_parameters.yaml'))",5,2
openstack%2Fmetalsmith~master~I2676ee281bfebb12abbb5702bcc6639526fe3189,openstack/metalsmith,master,I2676ee281bfebb12abbb5702bcc6639526fe3189,Return Instance object from provisioning API,MERGED,2018-05-22 11:58:45.000000000,2018-05-22 18:55:32.000000000,2018-05-22 18:55:32.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 11:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/230ec3b9e179ab3aec9ee8054de8a2a607a96fa4', 'message': 'Return Instance object from provisioning API\n\nChange-Id: I2676ee281bfebb12abbb5702bcc6639526fe3189\n'}, {'number': 2, 'created': '2018-05-22 17:25:46.000000000', 'files': ['metalsmith/test/test_os_api.py', 'test-requirements.txt', 'metalsmith/__init__.py', 'metalsmith/test/test_provisioner.py', 'metalsmith/_os_api.py', 'metalsmith/_provisioner.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/804f0a7a3a758a56d5627ec758b059694b77708a', 'message': 'Return Instance object from provisioning API\n\nChange-Id: I2676ee281bfebb12abbb5702bcc6639526fe3189\n'}]",0,569967,804f0a7a3a758a56d5627ec758b059694b77708a,8,2,2,10239,,,0,"Return Instance object from provisioning API

Change-Id: I2676ee281bfebb12abbb5702bcc6639526fe3189
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/67/569967/1 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/test/test_os_api.py', 'test-requirements.txt', 'metalsmith/__init__.py', 'metalsmith/_os_api.py', 'metalsmith/test/test_provisioner.py', 'metalsmith/_provisioner.py']",6,230ec3b9e179ab3aec9ee8054de8a2a607a96fa4,instance,"# NOTE(dtantsur): include available since there is a period of time between # claiming the instance and starting the actual provisioning via ironic. _DEPLOYING_STATES = frozenset(['available', 'deploying', 'wait call-back', 'deploy complete']) _ACTIVE_STATES = frozenset(['active']) _ERROR_STATE = frozenset(['error', 'deploy failed']) _HEALTHY_STATES = frozenset(['deploying', 'active']) class Instance(object): """"""Instance status in metalsmith."""""" def __init__(self, api, node): self._api = api self._uuid = node.uuid self._node = node @property def is_deployed(self): """"""Whether the node is deployed."""""" return self._node.provision_state in _ACTIVE_STATES @property def is_healthy(self): """"""Whether the node is not at fault or maintenance."""""" return self.state in _HEALTHY_STATES and not self._node.maintenance @property def node(self): """"""Underlying `Node` object."""""" return self._node @property def state(self): """"""Instance state. deploying deployment is in progress active node is provisioned maintenance node is provisioned but is in maintenance mode error node has a failure unknown node in unexpected state (maybe unprovisioned or modified by a third party) """""" prov_state = self._node.provision_state if prov_state in _DEPLOYING_STATES: return 'deploying' elif prov_state in _ERROR_STATE: return 'error' elif prov_state in _ACTIVE_STATES: if self._node.maintenance: return 'maintenance' else: return 'active' else: return 'unknown' @property def uuid(self): """"""Instance UUID (the same as `Node` UUID for metalsmith)."""""" return self._uuid :return: :py:class:`metalsmith.Instance` object with the current status of provisioning. If ``wait`` is not ``None``, provisioning is already finished. return Instance(self._api, node) :param node: `Node` object, :py:class:`metalsmith.Instance`, UUID or name."," :return: provisioned `Node` object. return node :param node: node object, UUID or name.",164,7
openstack%2Fneutron~master~Ic1a0222ceaaa29f14c4d9a0207b903e336044ace,openstack/neutron,master,Ic1a0222ceaaa29f14c4d9a0207b903e336044ace,Fix wrong release names in docs,MERGED,2018-05-20 08:10:56.000000000,2018-05-22 18:52:46.000000000,2018-05-22 18:52:46.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 15492}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-20 08:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90867c562bdc0ca809af1c46b653642792420588', 'message': 'Fix wrong release names in docs\n\n  * Replaced occurences of Pike with Queens in install docs.\n\nTrivialFix\n\nChange-Id: Ic1a0222ceaaa29f14c4d9a0207b903e336044ace\n'}, {'number': 2, 'created': '2018-05-22 07:49:17.000000000', 'files': ['doc/source/admin/deploy-lb-provider.rst', 'doc/source/admin/deploy.rst', 'doc/source/admin/deploy-ovs-provider.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/106c8b454050483d0ee4fb70338903a8a02d209a', 'message': 'Fix wrong release names in docs\n\n  * Replaced occurences of version names in install docs.\n\nTrivialFix\n\nChange-Id: Ic1a0222ceaaa29f14c4d9a0207b903e336044ace\n'}]",1,569633,106c8b454050483d0ee4fb70338903a8a02d209a,12,5,2,15492,,,0,"Fix wrong release names in docs

  * Replaced occurences of version names in install docs.

TrivialFix

Change-Id: Ic1a0222ceaaa29f14c4d9a0207b903e336044ace
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/569633/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/deploy-lb-provider.rst', 'doc/source/admin/deploy.rst', 'doc/source/admin/deploy-ovs-provider.rst']",3,90867c562bdc0ca809af1c46b653642792420588,, `Queens Install Tutorials and Guides, `Pike Install Tutorials and Guides,3,3
openstack%2Frequirements~master~Ic5b984949462e9d96d0ba122531d7f0a3d733891,openstack/requirements,master,Ic5b984949462e9d96d0ba122531d7f0a3d733891,Move requirements to the PTI,MERGED,2018-05-21 21:50:42.000000000,2018-05-22 18:52:45.000000000,2018-05-22 18:52:45.000000000,"[{'_account_id': 5196}, {'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 21:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bdf60fef2d6989c4a4bce561878c09a82fbacf5d', 'message': ""Move requirements to the PTI\n\nWhen the TC merged I2637dd714cbb6d38ef8b8dc1083e359207118284 we're\nsupposed to invoke stestr rather than testr so lets do that\n\nChange-Id: Ic5b984949462e9d96d0ba122531d7f0a3d733891\n""}, {'number': 2, 'created': '2018-05-21 22:00:02.000000000', 'files': ['test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9efda7ea259baf22a048ac8db7d1b9dcb9132815', 'message': ""Move requirements to the PTI\n\nWhen the TC merged I2637dd714cbb6d38ef8b8dc1083e359207118284 we're\nsupposed to invoke stestr rather than testr so lets do that\n\nChange-Id: Ic5b984949462e9d96d0ba122531d7f0a3d733891\n""}]",1,569869,9efda7ea259baf22a048ac8db7d1b9dcb9132815,12,5,2,12898,,,0,"Move requirements to the PTI

When the TC merged I2637dd714cbb6d38ef8b8dc1083e359207118284 we're
supposed to invoke stestr rather than testr so lets do that

Change-Id: Ic5b984949462e9d96d0ba122531d7f0a3d733891
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/569869/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini', '.stestr.conf']",3,bdf60fef2d6989c4a4bce561878c09a82fbacf5d,feature/PTI,,,2,2
openstack%2Foctavia~stable%2Fqueens~Ibb509c1e487876b957ad02cd66cebebc178bef4d,openstack/octavia,stable/queens,Ibb509c1e487876b957ad02cd66cebebc178bef4d,Correct field filtering for member/l7rule/amphora,MERGED,2018-05-07 14:13:05.000000000,2018-05-22 18:50:47.000000000,2018-05-22 18:50:47.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-07 14:13:05.000000000', 'files': ['octavia/tests/functional/api/v2/test_amphora.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/controllers/amphora.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/65755f7da4af819f5366ae5d7fed8e3664680ed8', 'message': ""Correct field filtering for member/l7rule/amphora\n\nThe exposed definition was incorrect due to a copy/paste error during\nthe original creation of these controllers, causing the field filter\nlist to be read as a single value. A side-effect of this was that the\nfiltering code still worked, but did an 'in' operation on one string\ninstead of a list.\n\nThis caused two bugs:\n1) Multiple field filters were ignored, and only the first would be\nreturned.\n2) The field matching would match inside of the field names, so\nfiltering for `id` would match `id`, `project_id`, etc. and return\nextra fields.\n\nChange-Id: Ibb509c1e487876b957ad02cd66cebebc178bef4d\nBackport-Candidate: Queens Pike\n""}]",0,566590,65755f7da4af819f5366ae5d7fed8e3664680ed8,8,4,1,6579,,,0,"Correct field filtering for member/l7rule/amphora

The exposed definition was incorrect due to a copy/paste error during
the original creation of these controllers, causing the field filter
list to be read as a single value. A side-effect of this was that the
filtering code still worked, but did an 'in' operation on one string
instead of a list.

This caused two bugs:
1) Multiple field filters were ignored, and only the first would be
returned.
2) The field matching would match inside of the field names, so
filtering for `id` would match `id`, `project_id`, etc. and return
extra fields.

Change-Id: Ibb509c1e487876b957ad02cd66cebebc178bef4d
Backport-Candidate: Queens Pike
",git fetch https://review.opendev.org/openstack/octavia refs/changes/90/566590/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_amphora.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/v2/controllers/amphora.py']",6,65755f7da4af819f5366ae5d7fed8e3664680ed8,," @wsme_pecan.wsexpose(amp_types.AmphoraeRootResponse, [wtypes.text], ignore_extra_args=True)"," @wsme_pecan.wsexpose(amp_types.AmphoraeRootResponse, wtypes.text, [wtypes.text], ignore_extra_args=True)",16,15
openstack%2Foctavia~master~Ib369009de5b42bd9f65bf43f9a0f23189a89de41,openstack/octavia,master,Ib369009de5b42bd9f65bf43f9a0f23189a89de41,Add raw format support to image creator script.,MERGED,2018-05-14 14:49:26.000000000,2018-05-22 18:50:45.000000000,2018-05-22 18:50:45.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 14:49:26.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7a702fc638870e618cffa3d278f79dadfcc64456', 'message': ""Add raw format support to image creator script.\n\nThis patch adds new type 'raw' to the '-t' option of the\ndiskimage-create script for creating raw Octavia Amphora images.\n\nChange-Id: Ib369009de5b42bd9f65bf43f9a0f23189a89de41\n""}]",0,568307,7a702fc638870e618cffa3d278f79dadfcc64456,9,4,1,27256,,,0,"Add raw format support to image creator script.

This patch adds new type 'raw' to the '-t' option of the
diskimage-create script for creating raw Octavia Amphora images.

Change-Id: Ib369009de5b42bd9f65bf43f9a0f23189a89de41
",git fetch https://review.opendev.org/openstack/octavia refs/changes/07/568307/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,7a702fc638870e618cffa3d278f79dadfcc64456,," echo "" [-t **qcow2** | tar | vhd | raw ]"" [ $AMP_IMAGETYPE != ""vhd"" ] && \ [ $AMP_IMAGETYPE != ""raw"" ]; then"," echo "" [-t **qcow2** | tar | vhd ]"" [ $AMP_IMAGETYPE != ""vhd"" ]; then",3,2
openstack%2Fneutron-lib~master~I48bb704d0027935b0d3f7194347004fe4d819263,openstack/neutron-lib,master,I48bb704d0027935b0d3f7194347004fe4d819263,bgpvpn API definition: add API_PREFIX,MERGED,2018-05-16 12:27:04.000000000,2018-05-22 18:50:17.000000000,2018-05-22 18:50:17.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 12:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3f24814b59003758e20292ceaa2915c1f112297d', 'message': 'bgpvpn API definition: add API_PREFIX\n\nAdd an explicit API_PREFIX, to use in networking-bgpvpn\ninstead of ""/"" + api_def.ALIAS or hardcoded strings.\n\nChange-Id: I48bb704d0027935b0d3f7194347004fe4d819263\n'}, {'number': 2, 'created': '2018-05-21 16:23:08.000000000', 'files': ['neutron_lib/api/definitions/bgpvpn.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1bca9041baa71abfe626ee15e25e3d57d81ed26c', 'message': 'bgpvpn API definition: add API_PREFIX\n\nAdd an explicit API_PREFIX, to use in networking-bgpvpn\ninstead of ""/"" + api_def.ALIAS or hardcoded strings.\n\nNeede-By: I2038a374d97dadb5d53677e65616903b6b62a707\nChange-Id: I48bb704d0027935b0d3f7194347004fe4d819263\n'}]",1,568824,1bca9041baa71abfe626ee15e25e3d57d81ed26c,11,4,2,12021,,,0,"bgpvpn API definition: add API_PREFIX

Add an explicit API_PREFIX, to use in networking-bgpvpn
instead of ""/"" + api_def.ALIAS or hardcoded strings.

Neede-By: I2038a374d97dadb5d53677e65616903b6b62a707
Change-Id: I48bb704d0027935b0d3f7194347004fe4d819263
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/24/568824/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/bgpvpn.py'],1,3f24814b59003758e20292ceaa2915c1f112297d,bgpvpn_api_prefix,API_PREFIX = '/bgpvpn' ,,3,0
openstack%2Fneutron-lib~master~I66ef7967f26fddbcf0af06cbacc98823ee9d6e5e,openstack/neutron-lib,master,I66ef7967f26fddbcf0af06cbacc98823ee9d6e5e,Add API extensions to advertise support of std attributes for BGPVPN,MERGED,2018-04-19 15:59:55.000000000,2018-05-22 18:50:16.000000000,2018-05-22 18:50:16.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-19 15:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bec6d6b3e9705e1c18da9b376834b819ae6eaff3', 'message': 'Add API extensions to advertise support of std attributes for BGPVPN\n\nAdd API extensions to advertise the support of standard\nattributes for all resources used for BGPVPN Interconnections.\n\nChange-Id: I66ef7967f26fddbcf0af06cbacc98823ee9d6e5e\nPartial-Bug: 1765391\n'}, {'number': 2, 'created': '2018-04-20 12:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/46226bdc23e4d7f609a8dd558e5d81bcc32b9cb3', 'message': 'Add API extensions to advertise support of std attributes for BGPVPN\n\nAdd API extensions to advertise the support of standard\nattributes for all resources used for BGPVPN Interconnections.\n\nChange-Id: I66ef7967f26fddbcf0af06cbacc98823ee9d6e5e\nPartial-Bug: 1765391\n'}, {'number': 3, 'created': '2018-04-20 12:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/600fd29399a239b6ae92ee3e15507c479f992d8d', 'message': 'Add API extensions to advertise support of std attributes for BGPVPN\n\nAdd API extensions to advertise the support of standard\nattributes for all resources used for BGPVPN Interconnections.\n\nChange-Id: I66ef7967f26fddbcf0af06cbacc98823ee9d6e5e\nPartial-Bug: 1765391\n'}, {'number': 4, 'created': '2018-04-24 12:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3f7bc28f03737811318d466047091a4beed8652c', 'message': 'Add API extensions to advertise support of std attributes for BGPVPN\n\nAdd API extensions to advertise the support of standard\nattributes for all resources used for BGPVPN Interconnections.\n\nChange-Id: I66ef7967f26fddbcf0af06cbacc98823ee9d6e5e\nPartial-Bug: 1765391\n'}, {'number': 5, 'created': '2018-05-07 08:05:05.000000000', 'files': ['neutron_lib/tests/unit/api/definitions/test_bgpvpn_stdattrs.py', 'neutron_lib/api/definitions/bgpvpn_stdattrs_net_assoc.py', 'neutron_lib/api/definitions/bgpvpn_stdattrs_router_assoc.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/bgpvpn_stdattrs.py', 'neutron_lib/tests/unit/api/definitions/test_bgpvpn_port_assoc_stdattrs.py', 'releasenotes/notes/std_attributes_bgpvpn-5a1c63f68d1ff6be.yaml', 'neutron_lib/tests/unit/api/definitions/test_bgpvpn_net_assoc_stdattrs.py', 'neutron_lib/tests/unit/api/definitions/test_bgpvpn_router_assoc_stdattrs.py', 'neutron_lib/api/definitions/bgpvpn_stdattrs_port_assoc.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5730aa235be8d4395285e200d9c3a5969577c993', 'message': 'Add API extensions to advertise support of std attributes for BGPVPN\n\nAdd API extensions to advertise the support of standard\nattributes for all resources used for BGPVPN Interconnections.\n\nChange-Id: I66ef7967f26fddbcf0af06cbacc98823ee9d6e5e\nPartial-Bug: 1765391\n'}]",14,562725,5730aa235be8d4395285e200d9c3a5969577c993,22,5,5,12021,,,0,"Add API extensions to advertise support of std attributes for BGPVPN

Add API extensions to advertise the support of standard
attributes for all resources used for BGPVPN Interconnections.

Change-Id: I66ef7967f26fddbcf0af06cbacc98823ee9d6e5e
Partial-Bug: 1765391
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/25/562725/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/api/definitions/test_bgpvpn_stdattrs.py', 'neutron_lib/api/definitions/bgpvpn_stdattrs_net_assoc.py', 'neutron_lib/api/definitions/bgpvpn_stdattrs_router_assoc.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/bgpvpn_stdattrs.py', 'releasenotes/notes/std_attributes_bgpvpn-5a1c63f68d1ff6be.yaml', 'neutron_lib/api/definitions/bgpvpn_stdattrs_port_assoc.py']",7,bec6d6b3e9705e1c18da9b376834b819ae6eaff3,bug/1765391,"# Copyright 2018 Orange # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ALIAS = 'standard-attr-bgpvpn-port-association' IS_SHIM_EXTENSION = True IS_STANDARD_ATTR_EXTENSION = True NAME = 'BGPVPN Port Association Standard Attributes' DESCRIPTION = 'Add standard attributes to BGPVPN Port Association resources' UPDATED_TIMESTAMP = '2018-04-19T10:00:00-00:00' RESOURCE_ATTRIBUTE_MAP = {} SUB_RESOURCE_ATTRIBUTE_MAP = {} ACTION_MAP = {} REQUIRED_EXTENSIONS = ['bgpvpn', 'bgpvpn-routes-control'] OPTIONAL_EXTENSIONS = [] ACTION_STATUS = {} ",,139,0
openstack%2Fneutron-lib~master~Ib3a145d7561442fc7c6caf44c355810e58cee974,openstack/neutron-lib,master,Ib3a145d7561442fc7c6caf44c355810e58cee974,Documenting L3 agent scheduler,MERGED,2018-02-12 10:11:13.000000000,2018-05-22 18:50:16.000000000,2018-05-22 18:50:16.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27546}]","[{'number': 1, 'created': '2018-02-12 10:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/619746ad69c276eeae2db1f6e32a58335ed595b3', 'message': 'WIP - Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 2, 'created': '2018-03-04 11:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a390a54b3c4f73565b205decd3d6a99416a64868', 'message': 'WIP - Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 3, 'created': '2018-03-05 09:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3ef11f8c99287d3f42908926663924607cf685bf', 'message': 'WIP - Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 4, 'created': '2018-03-05 12:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cbac621682019fbfbcbd51576835029537e5566a', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 5, 'created': '2018-03-07 07:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8f955769a5f99d1f13cdce8eac58cf61f55670c9', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 6, 'created': '2018-03-07 13:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/94f9f886bc2b0d9cdca9351e164e4f4748684a52', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 7, 'created': '2018-04-08 08:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/29ab93cb8c1cbeb2a175c2e80fd8940649dd72db', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 8, 'created': '2018-04-17 07:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ba63c97a17a4a60525896e42e10fe3e44aa41176', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 9, 'created': '2018-04-17 08:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6e459ece468ddad377135b509eca394ab97671de', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 10, 'created': '2018-04-17 08:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c0ef710148096ba8680fa37803388a07bc5d7988', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 11, 'created': '2018-04-17 08:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/87a229387367ea1fcacea0a15e14d4d5c093edbb', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 12, 'created': '2018-04-22 08:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/100a947b0e3d26422ab195d071b04575d1dcb496', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 13, 'created': '2018-04-24 06:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/67f154de26839478bc92c8c44ec149ee87ac7407', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 14, 'created': '2018-04-26 11:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ef6facf95da15ded55afa4e1fa2393a33d20353d', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 15, 'created': '2018-04-29 08:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e38095638a6b5996dab3a34710f034c62ba207f5', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 16, 'created': '2018-04-29 08:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d623baf1b5687a6ba760aac8d65528befaedb7d3', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}, {'number': 17, 'created': '2018-05-06 07:23:15.000000000', 'files': ['api-ref/source/v2/samples/agents/router-l3-agent-list-response.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/l3-agent-scheduler.inc', 'api-ref/source/v2/samples/agents/agent-l3-router-add-request.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/agents/agent-l3-router-remove-request.json', 'api-ref/source/v2/samples/agents/agent-l3-routers-list-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/61f8615a087c4bca55a8fb21bb0729a9b59722e0', 'message': 'Documenting L3 agent scheduler\n\nCloses-Bug: #1733374\n\nChange-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}]",69,543408,61f8615a087c4bca55a8fb21bb0729a9b59722e0,65,5,17,27546,,,0,"Documenting L3 agent scheduler

Closes-Bug: #1733374

Change-Id: Ib3a145d7561442fc7c6caf44c355810e58cee974
Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/08/543408/12 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/l3-agent-scheduler.inc']",2,619746ad69c276eeae2db1f6e32a58335ed595b3,bug/1733374,".. -*- rst -*- ================== L3 agent scheduler ================== The L3 agent scheduler extension (``l3agentschduler``) allows administrators to assign Neutron routers to Neutron L3 agents, and retrieve mappings between Neutron routers and L3 agents. This feature is implemented on top of Agent Management extension. List routers hosted by an L3 agent ================================== .. rest_method:: GET /v2.0/agents/{agent_id}/l3-routers Lists routers that a l3 agent host. Normal response codes: 200 Error response codes: 401, 404 Request ------- .. rest_parameters:: parameters.yaml - agent_id: agent_id Response Parameters ------------------- .. rest_parameters:: parameters.yaml Response Example ---------------- .. rest_parameters:: parameters.yaml - external_gateway_info: external_gateway_info - id: agent_id-path - name: router_name - tenant_id: tenant_id .. literalinclude:: ../v2/samples/agents/agent-l3-routers-list-response.json :language: javascript List L3 agents hosted by router =============================== .. rest_method:: GET /v2.0/agents/{router_id}/l3-agents Lists l3 agents that hosts a specific router. Normal response codes: 200 Error response codes: 401, 404 Request ------- .. rest_parameters:: parameters.yaml - router_id: router_id Response Parameters ------------------- .. rest_parameters:: parameters.yaml Response Example ---------------- .. rest_parameters:: parameters.yaml - admin_state_up: admin_state_up - alive: alive - ha_state: ha_state - host: host - id: agent_id-path .. literalinclude:: ../v2/samples/agents/agent-l3-routers-list-response.json :language: javascript Create l3 routers ================= .. rest_method:: POST /v2.0/agents/{agent_id}/l3-routers Error codes: - ``400`` The operation returns this error code if the request is malformed, e.g. there are missing or invalid parameters in the request. - ``401`` The operation is not authorized. - ``404`` If the extension is not available Normal response codes: 201 Error response codes: 400, 401, 404 Request ------- .. rest_parameters:: parameters.yaml - agent_id: agent_id-path Request Example --------------- .. literalinclude:: ../v2/samples/agents/agent-l3-router-create-request.json :language: javascript Response Parameters ------------------- null Response Example ---------------- .. literalinclude:: ../v2/samples/agents/agent-l3-router-create-response.json :language: javascript Delete l3 router ================ .. rest_method:: DELETE /v2.0/agents/{agent_id}/l3-routers/{router_id} Deletes a router from a l3 agent. Normal response codes: 204 Error response codes: 401, 404 Request ------- .. rest_parameters:: parameters.yaml - agent_id: agent_id-path - router_id: router_id Response Example ---------------- .. rest_parameters:: parameters.yaml .. literalinclude:: ../v2/samples/agents/agent-l3-routers-delete-response.json :language: javascript",,165,0
openstack%2Foctavia~master~I371a5bd51fc9acc4f6ef1e2b3b2fae9d4babd975,openstack/octavia,master,I371a5bd51fc9acc4f6ef1e2b3b2fae9d4babd975,Add tenant_id back to objects for backwards compat,MERGED,2018-05-21 22:51:56.000000000,2018-05-22 18:39:42.000000000,2018-05-22 18:39:42.000000000,"[{'_account_id': 1297}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 22:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e2ac63e903865244b36a1db3ee9bb3cdb8113c14', 'message': 'Add tenant_id back to objects for backwards compat\n\nTo be 100% backwards compatible with neutron-lbaas, we need to continue\nto return tenant_id in addition to project_id, even though it has been\ndeprecated and was actually removed previously from Octavia.\n\nAdding it this way is much cleaner than adding it to every object and\nwill allow us to remove it very easily in the future.\n\nChange-Id: I371a5bd51fc9acc4f6ef1e2b3b2fae9d4babd975\n'}, {'number': 2, 'created': '2018-05-22 00:43:22.000000000', 'files': ['octavia/api/common/types.py', 'octavia/tests/functional/api/v1/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/v1/test_listener.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/v2/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d786bf4f6d3185d60b1be77f8c20e86f34f1bda3', 'message': 'Add tenant_id back to objects for backwards compat\n\nTo be 100% backwards compatible with neutron-lbaas, we need to continue\nto return tenant_id in addition to project_id, even though it has been\ndeprecated and was actually removed previously from Octavia.\n\nAdding it this way is much cleaner than adding it to every object and\nwill allow us to remove it very easily in the future.\n\nChange-Id: I371a5bd51fc9acc4f6ef1e2b3b2fae9d4babd975\n'}]",0,569881,d786bf4f6d3185d60b1be77f8c20e86f34f1bda3,10,4,2,10273,,,0,"Add tenant_id back to objects for backwards compat

To be 100% backwards compatible with neutron-lbaas, we need to continue
to return tenant_id in addition to project_id, even though it has been
deprecated and was actually removed previously from Octavia.

Adding it this way is much cleaner than adding it to every object and
will allow us to remove it very easily in the future.

Change-Id: I371a5bd51fc9acc4f6ef1e2b3b2fae9d4babd975
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/569881/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/common/types.py', 'octavia/tests/functional/api/v1/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/v1/test_listener.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/v2/controllers/base.py']",6,e2ac63e903865244b36a1db3ee9bb3cdb8113c14,569881,"from wsme import types as wtypes setattr(obj, member, wtypes.Unset)"," delattr(object_list[index], member)",65,7
openstack%2Foctavia~master~I064ed14859890ce4279891d9fd502f147795200d,openstack/octavia,master,I064ed14859890ce4279891d9fd502f147795200d,Fix typo,MERGED,2018-05-22 08:41:51.000000000,2018-05-22 18:21:56.000000000,2018-05-22 18:21:56.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 08:41:51.000000000', 'files': ['doc/source/user/guides/basic-cookbook.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/505543fb8dbce322995ab72c28d2e5c6d130a3aa', 'message': 'Fix typo\n\nFix typo.\n\nChange-Id: I064ed14859890ce4279891d9fd502f147795200d\n'}]",0,569937,505543fb8dbce322995ab72c28d2e5c6d130a3aa,7,3,1,25747,,,0,"Fix typo

Fix typo.

Change-Id: I064ed14859890ce4279891d9fd502f147795200d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/37/569937/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/guides/basic-cookbook.rst'],1,505543fb8dbce322995ab72c28d2e5c6d130a3aa,, is enabled on running OpenStack environment by command, is enabled on runing OpenStack environment by command,1,1
openstack%2Foctavia-tempest-plugin~master~If6ecf7b429e3dfab00342af0fde0dfdc875e907d,openstack/octavia-tempest-plugin,master,If6ecf7b429e3dfab00342af0fde0dfdc875e907d,Create basic traffic balancing scenario test,MERGED,2018-05-07 18:40:19.000000000,2018-05-22 18:21:54.000000000,2018-05-22 18:21:53.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-07 18:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/351fae011ba07352b563203180bad1171a87635f', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 2, 'created': '2018-05-07 20:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d6fe6bdd2fcde9b9bf00e2673f1e81780a9ca3ee', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 3, 'created': '2018-05-07 22:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5232fb51e3eda05f256c4d49ea11ed139094d88e', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 4, 'created': '2018-05-07 23:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/285a69896b46f72fca445a24c6c3694177dc5797', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 5, 'created': '2018-05-07 23:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/da83db8d1b9174ee094bd26e85fcfd52c3f387a3', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 6, 'created': '2018-05-08 08:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/11cafdb3f91e14deed25b3ae5a51ce2d6c5b09da', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 7, 'created': '2018-05-08 20:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f92df9f69f56f85cf5bba4ebcd5ee3512df1c49d', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 8, 'created': '2018-05-08 23:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/efad2ad9cc2a65e6cf6fe794b1503acd996b0814', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 9, 'created': '2018-05-09 00:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ca5540dc44e106ec5badf4ac8b82b13dda8378e7', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 10, 'created': '2018-05-09 01:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/73f01dc9dd68f0c060dcdc8b9820f19cceda5d44', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 11, 'created': '2018-05-09 02:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/042868a7dac977bd2d583cf8ea5b00aaee76f3dd', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 12, 'created': '2018-05-09 19:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/fdc63db6bc57b5dba7c60374318a4bc7ae603de7', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 13, 'created': '2018-05-10 20:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/853fd5ce1a1ae588c9f5af01751eeae82422e2be', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 14, 'created': '2018-05-11 06:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/94056c95e1319f3e5ef3d9c10af6a92614150a14', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 15, 'created': '2018-05-11 17:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/03257465e949c8783a16ea1f2d75193797a5664d', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 16, 'created': '2018-05-18 22:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/efbd51ea7d48a60e6614d95b892b2e889d33601e', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}, {'number': 17, 'created': '2018-05-18 23:09:28.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/test_base.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cd72b56abef44ccf9a0f4cc7825f890d57e3de22', 'message': 'Create basic traffic balancing scenario test\n\nThis patch implements a basic traffic test for the Octavia Tempest Plugin.\n\nChange-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d\nStory: 2001387\nTask: 19588\n'}]",0,566700,cd72b56abef44ccf9a0f4cc7825f890d57e3de22,37,4,17,10273,,,0,"Create basic traffic balancing scenario test

This patch implements a basic traffic test for the Octavia Tempest Plugin.

Change-Id: If6ecf7b429e3dfab00342af0fde0dfdc875e907d
Story: 2001387
Task: 19588
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/00/566700/9 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/scenario/v2/test_basic_ops.py']",2,351fae011ba07352b563203180bad1171a87635f,565640,"# Copyright 2018 GoDaddy # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators import testtools from octavia_tempest_plugin.common import constants as const from octavia_tempest_plugin.tests import test_base from octavia_tempest_plugin.tests import waiters CONF = config.CONF LOG = logging.getLogger(__name__) class BasicOperationsScenarioTest(test_base.LoadBalancerBaseTest): @classmethod def resource_setup(cls): """"""Setup resources needed by the tests."""""" super(BasicOperationsScenarioTest, cls).resource_setup() lb_name = data_utils.rand_name(""lb_member_lb1_operations"") lb_kwargs = {const.ADMIN_STATE_UP: True, const.PROVIDER: CONF.load_balancer.provider, const.NAME: lb_name} # TODO(rm_work): Make this work with ipv6 and split this test for both ip_version = 4 cls._setup_lb_network_kwargs(lb_kwargs, ip_version) lb = cls.mem_lb_client.create_loadbalancer(**lb_kwargs) cls.lb_id = lb[const.ID] cls.addClassResourceCleanup( cls.mem_lb_client.cleanup_loadbalancer, cls.lb_id) if CONF.validation.connect_method == 'floating': port_id = lb[const.VIP_PORT_ID] result = cls.lb_mem_float_ip_client.create_floatingip( floating_network_id=CONF.network.public_network_id, port_id=port_id) floating_ip = result['floatingip'] LOG.info('lb1_floating_ip: {}'.format(floating_ip)) cls.addClassResourceCleanup( waiters.wait_for_not_found, cls.lb_mem_float_ip_client.delete_floatingip, cls.lb_mem_float_ip_client.show_floatingip, floatingip_id=floating_ip['id']) cls.lb_vip_address = floating_ip['floating_ip_address'] else: cls.lb_vip_address = lb[const.VIP_ADDRESS] waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.lb_build_interval, CONF.load_balancer.lb_build_timeout) listener_name = data_utils.rand_name(""lb_member_listener1_operations"") listener_kwargs = { const.NAME: listener_name, const.PROTOCOL: const.HTTP, const.PROTOCOL_PORT: '80', const.LOADBALANCER_ID: cls.lb_id, } listener = cls.mem_listener_client.create_listener(**listener_kwargs) cls.listener_id = listener[const.ID] cls.addClassResourceCleanup( cls.mem_listener_client.cleanup_listener, cls.listener_id, lb_client=cls.mem_lb_client, lb_id=cls.lb_id) waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) pool_name = data_utils.rand_name(""lb_member_pool1_operations"") pool_kwargs = { const.NAME: pool_name, const.PROTOCOL: const.HTTP, const.LB_ALGORITHM: const.LB_ALGORITHM_ROUND_ROBIN, const.LISTENER_ID: cls.listener_id, } pool = cls.mem_pool_client.create_pool(**pool_kwargs) cls.pool_id = pool[const.ID] cls.addClassResourceCleanup( cls.mem_pool_client.cleanup_pool, cls.pool_id, lb_client=cls.mem_lb_client, lb_id=cls.lb_id) waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) @testtools.skipIf(CONF.load_balancer.test_with_noop, 'Traffic tests will not work in noop mode.') @decorators.idempotent_id('6751135d-e15a-4e22-89f4-bfcc3408d424') def test_traffic(self): """"""Tests sending traffic through a loadbalancer * Create a fully populated loadbalancer. * Test traffic to ensure it is balanced properly. """""" # Set up Member 1 for Webserver 1 member1_name = data_utils.rand_name(""lb_member_member1-traffic"") member1_kwargs = { const.POOL_ID: self.pool_id, const.NAME: member1_name, const.ADMIN_STATE_UP: True, const.ADDRESS: self.webserver1_ip, const.PROTOCOL_PORT: 80, const.SUBNET_ID: self.lb_member_1_subnet[const.ID], } member1 = self.mem_member_client.create_member( **member1_kwargs) self.addClassResourceCleanup( self.mem_member_client.cleanup_member, member1[const.ID], pool_id=self.pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_member_client.show_member, member1[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout, pool_id=self.pool_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) # Set up Member 2 for Webserver 2 member2_name = data_utils.rand_name(""lb_member_member2-traffic"") member2_kwargs = { const.POOL_ID: self.pool_id, const.NAME: member2_name, const.ADMIN_STATE_UP: True, const.ADDRESS: self.webserver2_ip, const.PROTOCOL_PORT: 80, const.SUBNET_ID: self.lb_member_2_subnet[const.ID], } member2 = self.mem_member_client.create_member( **member2_kwargs) self.addClassResourceCleanup( self.mem_member_client.cleanup_member, member2[const.ID], pool_id=self.pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_member_client.show_member, member2[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout, pool_id=self.pool_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) # Send some traffic self._check_members_balanced(self.lb_vip_address) ",,225,0
openstack%2Foctavia-tempest-plugin~master~I8813f90538b9ec9047a1777b6cab76485a150498,openstack/octavia-tempest-plugin,master,I8813f90538b9ec9047a1777b6cab76485a150498,Create api+scenario tests for members,MERGED,2018-05-04 01:25:12.000000000,2018-05-22 18:21:52.000000000,2018-05-22 18:21:52.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23630}]","[{'number': 1, 'created': '2018-05-04 01:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/be11a705a8317f0c668950b8380fbfe618001762', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 2, 'created': '2018-05-04 07:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d450f10a9dbaa9206239d281e6fa2e5055fbb75b', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 3, 'created': '2018-05-04 07:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cd4d791db2fe566f8e26501d2295c5546836b954', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 4, 'created': '2018-05-04 08:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/580e142eab014042821ec54b17babbf33efe0655', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 5, 'created': '2018-05-04 18:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/be1b713752b91fafecb3f346199455bd819f817a', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 6, 'created': '2018-05-07 23:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4ef35811fd8d326bb35f538d14a8865970bd4124', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 7, 'created': '2018-05-07 23:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2b64d575a19c6988f5034df26198da4e560861f0', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 8, 'created': '2018-05-08 08:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b5efc3dc4b4839d2ee5755a9223f42e676d36a08', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 9, 'created': '2018-05-08 20:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/34d2f88cec50660857dab390a6a8f46d6685f1d0', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 10, 'created': '2018-05-08 22:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/db143da315b36d4e43fcb84b1b01cd9286cb7eb9', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 11, 'created': '2018-05-08 23:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0a964a9d1fbe4e2ce07740c64950278170f169f7', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 12, 'created': '2018-05-09 00:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2e44da70093300f29493960953305a573b41b7ae', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 13, 'created': '2018-05-09 02:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c731c44b1b0e46c797eb324bdb97936441b918dc', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/566230/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 14, 'created': '2018-05-09 19:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/aa37cb47cc3f7cd94c73a349edd3fece7cffa7bc', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/567322/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 15, 'created': '2018-05-10 20:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/06a1f075442d303e98fc4952a7f251193aaf1fa1', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/567322/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 16, 'created': '2018-05-11 06:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cefd89cb167251cd38f78a2da841113941b08622', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/567322/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 17, 'created': '2018-05-11 17:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/40d155dc7c3a200890e159fb4a0b65117261961c', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/567322/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 18, 'created': '2018-05-16 23:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/16c29076d1011d5e0d79d4ae9f73f48a7be2845d', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/567322/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 19, 'created': '2018-05-18 07:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3d53f52a197c755f238e99d028df3e512e287862', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/567955/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 20, 'created': '2018-05-18 22:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7e7cdec0518e1747c8bb8fa0c949aa4550a9bd96', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/567955/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}, {'number': 21, 'created': '2018-05-18 23:09:28.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/services/load_balancer/v2/pool_client.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/api/v2/test_member.py', 'octavia_tempest_plugin/services/load_balancer/v2/listener_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/loadbalancer_client.py', 'octavia_tempest_plugin/clients.py', 'octavia_tempest_plugin/services/load_balancer/v2/member_client.py', 'octavia_tempest_plugin/tests/waiters.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/scenario/v2/test_member.py', 'octavia_tempest_plugin/services/load_balancer/v2/base_client.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/de3e0544f1dbc67947e0b1c90193b15e2eac7924', 'message': 'Create api+scenario tests for members\n\nThis patch implements member tests for the Octavia\nTempest Plugin.\n\nDepends-On: https://review.openstack.org/#/c/567955/\nChange-Id: I8813f90538b9ec9047a1777b6cab76485a150498\nStory: 2001387\nTask: 5970\n'}]",2,566199,de3e0544f1dbc67947e0b1c90193b15e2eac7924,50,5,21,10273,,,0,"Create api+scenario tests for members

This patch implements member tests for the Octavia
Tempest Plugin.

Depends-On: https://review.openstack.org/#/c/567955/
Change-Id: I8813f90538b9ec9047a1777b6cab76485a150498
Story: 2001387
Task: 5970
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/99/566199/20 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/clients.py', 'octavia_tempest_plugin/services/load_balancer/v2/member_client.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/waiters.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/services/load_balancer/v2/base_client.py', 'octavia_tempest_plugin/tests/api/v2/test_member.py']",7,be11a705a8317f0c668950b8380fbfe618001762,565640,"# Copyright 2018 GoDaddy # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import time from uuid import UUID from dateutil import parser from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions from octavia_tempest_plugin.common import constants as const from octavia_tempest_plugin.tests import test_base from octavia_tempest_plugin.tests import waiters CONF = config.CONF class MemberAPITest(test_base.LoadBalancerBaseTest): """"""Test the member object API."""""" @classmethod def resource_setup(cls): """"""Setup resources needed by the tests."""""" super(MemberAPITest, cls).resource_setup() lb_name = data_utils.rand_name(""lb_member_lb1_member"") lb_kwargs = {const.ADMIN_STATE_UP: False, const.PROVIDER: CONF.load_balancer.provider, const.NAME: lb_name} ip_version = 6 if CONF.load_balancer.test_with_ipv6 else 4 cls._setup_lb_network_kwargs(lb_kwargs, ip_version) lb = cls.mem_lb_client.create_loadbalancer(**lb_kwargs) cls.lb_id = lb[const.ID] cls.addClassResourceCleanup( cls.mem_lb_client.cleanup_loadbalancer, cls.lb_id) waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.lb_build_interval, CONF.load_balancer.lb_build_timeout) listener_name = data_utils.rand_name(""lb_member_listener1_member"") listener_kwargs = { const.NAME: listener_name, const.PROTOCOL: const.HTTP, const.PROTOCOL_PORT: '80', const.LOADBALANCER_ID: cls.lb_id, } listener = cls.mem_listener_client.create_listener(**listener_kwargs) cls.listener_id = listener[const.ID] cls.addClassResourceCleanup( cls.mem_listener_client.cleanup_listener, cls.listener_id, lb_client=cls.mem_lb_client, lb_id=cls.lb_id) waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) pool_name = data_utils.rand_name(""lb_member_pool1_member"") pool_kwargs = { const.NAME: pool_name, const.PROTOCOL: const.HTTP, const.LB_ALGORITHM: const.LB_ALGORITHM_ROUND_ROBIN, const.LISTENER_ID: cls.listener_id, } pool = cls.mem_pool_client.create_pool(**pool_kwargs) cls.pool_id = pool[const.ID] cls.addClassResourceCleanup( cls.mem_pool_client.cleanup_pool, cls.pool_id, lb_client=cls.mem_lb_client, lb_id=cls.lb_id) waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) @decorators.idempotent_id('0623aa1f-753d-44e7-afa1-017d274eace7') def test_member_create(self): """"""Tests member create and basic show APIs. * Tests that users without the member member role cannot * create members. * Create a fully populated member. * Show member details. * Validate the show reflects the requested values. """""" member_name = data_utils.rand_name(""lb_member_member1-create"") member_kwargs = { const.NAME: member_name, const.ADMIN_STATE_UP: True, const.POOL_ID: self.pool_id, const.ADDRESS: '192.0.2.1', const.PROTOCOL_PORT: 80, const.WEIGHT: 50, const.BACKUP: False, const.MONITOR_ADDRESS: '192.0.2.2', const.MONITOR_PORT: 8080, } if self.lb_member_vip_subnet: member_kwargs[const.SUBNET_ID] = self.lb_member_vip_subnet[ const.ID] # Test that a user without the load balancer role cannot # create a member if CONF.load_balancer.RBAC_test_type == const.ADVANCED: self.assertRaises( exceptions.Forbidden, self.os_primary.member_client.create_member, **member_kwargs) member = self.mem_member_client.create_member(**member_kwargs) self.addClassResourceCleanup( self.mem_member_client.cleanup_member, member[const.ID], pool_id=self.pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) member = waiters.wait_for_status( self.mem_member_client.show_member, member[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout, pool_id=self.pool_id) parser.parse(member[const.CREATED_AT]) parser.parse(member[const.UPDATED_AT]) UUID(member[const.ID]) self.assertEqual(const.NO_MONITOR, member[const.OPERATING_STATUS]) equal_items = [const.NAME, const.ADMIN_STATE_UP, const.ADDRESS, const.PROTOCOL_PORT, const.WEIGHT, const.BACKUP, const.MONITOR_ADDRESS, const.MONITOR_PORT] if const.SUBNET_ID in member_kwargs: equal_items.append(const.SUBNET_ID) else: self.assertIsNone(member.get(const.SUBNET_ID)) for item in equal_items: self.assertEqual(member_kwargs[item], member[item]) @decorators.idempotent_id('9ce7ad78-915b-42ce-b0d8-44d88a929f3d') def test_member_list(self): """"""Tests member list API and field filtering. * Create a clean pool. * Create three members. * Validates that other accounts cannot list the members. * List the members using the default sort order. * List the members using descending sort order. * List the members using ascending sort order. * List the members returning one field at a time. * List the members returning two fields. * List the members filtering to one of the three. * List the members filtered, one field, and sorted. """""" pool_name = data_utils.rand_name(""lb_member_pool2_member-list"") pool = self.mem_pool_client.create_pool( name=pool_name, loadbalancer_id=self.lb_id, protocol=const.HTTP, lb_algorithm=const.LB_ALGORITHM_ROUND_ROBIN) pool_id = pool[const.ID] self.addClassResourceCleanup( self.mem_pool_client.cleanup_pool, pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) member1_name = data_utils.rand_name(""lb_member_member2-list"") member1_kwargs = { const.POOL_ID: pool_id, const.NAME: member1_name, const.ADMIN_STATE_UP: True, const.ADDRESS: '192.0.2.1', const.PROTOCOL_PORT: 101, } member1 = self.mem_member_client.create_member( **member1_kwargs) self.addClassResourceCleanup( self.mem_member_client.cleanup_member, member1[const.ID], pool_id=pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) member1 = waiters.wait_for_status( self.mem_member_client.show_member, member1[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout, pool_id=pool_id) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) # Time resolution for created_at is only to the second, and we need to # ensure that each object has a distinct creation time. Delaying one # second is both a simple and a reliable way to accomplish this. time.sleep(1) member2_name = data_utils.rand_name(""lb_member_member1-list"") member2_kwargs = { const.POOL_ID: pool_id, const.NAME: member2_name, const.ADMIN_STATE_UP: True, const.ADDRESS: '192.0.2.1', const.PROTOCOL_PORT: 100, } member2 = self.mem_member_client.create_member( **member2_kwargs) self.addClassResourceCleanup( self.mem_member_client.cleanup_member, member2[const.ID], pool_id=pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) member2 = waiters.wait_for_status( self.mem_member_client.show_member, member2[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout, pool_id=pool_id) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) # Time resolution for created_at is only to the second, and we need to # ensure that each object has a distinct creation time. Delaying one # second is both a simple and a reliable way to accomplish this. time.sleep(1) member3_name = data_utils.rand_name(""lb_member_member3-list"") member3_kwargs = { const.POOL_ID: pool_id, const.NAME: member3_name, const.ADMIN_STATE_UP: False, const.ADDRESS: '192.0.2.1', const.PROTOCOL_PORT: 102, } member3 = self.mem_member_client.create_member( **member3_kwargs) self.addClassResourceCleanup( self.mem_member_client.cleanup_member, member3[const.ID], pool_id=pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) member3 = waiters.wait_for_status( self.mem_member_client.show_member, member3[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout, pool_id=pool_id) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) # Test that a different user cannot list members if not CONF.load_balancer.RBAC_test_type == const.NONE: member2_client = self.os_roles_lb_member2.member_client self.assertRaises( exceptions.Forbidden, member2_client.list_members, pool_id) # Test that a user without the lb member role cannot list load # balancers if CONF.load_balancer.RBAC_test_type == const.ADVANCED: self.assertRaises( exceptions.Forbidden, self.os_primary.member_client.list_members, pool_id) # Check the default sort order, created_at members = self.mem_member_client.list_members(pool_id) self.assertEqual(member1[const.PROTOCOL_PORT], members[0][const.PROTOCOL_PORT]) self.assertEqual(member2[const.PROTOCOL_PORT], members[1][const.PROTOCOL_PORT]) self.assertEqual(member3[const.PROTOCOL_PORT], members[2][const.PROTOCOL_PORT]) # Test sort descending by protocol_port members = self.mem_member_client.list_members( pool_id, query_params='{sort}={descr}:{desc}'.format( sort=const.SORT, descr=const.PROTOCOL_PORT, desc=const.DESC)) self.assertEqual(member1[const.PROTOCOL_PORT], members[1][const.PROTOCOL_PORT]) self.assertEqual(member2[const.PROTOCOL_PORT], members[2][const.PROTOCOL_PORT]) self.assertEqual(member3[const.PROTOCOL_PORT], members[0][const.PROTOCOL_PORT]) # Test sort ascending by protocol_port members = self.mem_member_client.list_members( pool_id, query_params='{sort}={descr}:{asc}'.format( sort=const.SORT, descr=const.PROTOCOL_PORT, asc=const.ASC)) self.assertEqual(member1[const.PROTOCOL_PORT], members[1][const.PROTOCOL_PORT]) self.assertEqual(member2[const.PROTOCOL_PORT], members[0][const.PROTOCOL_PORT]) self.assertEqual(member3[const.PROTOCOL_PORT], members[2][const.PROTOCOL_PORT]) # Test fields for field in const.SHOW_MEMBER_RESPONSE_FIELDS: members = self.mem_member_client.list_members( pool_id, query_params='{fields}={field}'.format( fields=const.FIELDS, field=field)) self.assertEqual(1, len(members[0])) self.assertEqual(member1[field], members[0][field]) self.assertEqual(member2[field], members[1][field]) self.assertEqual(member3[field], members[2][field]) # Test multiple fields at the same time members = self.mem_member_client.list_members( pool_id, query_params='{fields}={admin}&{fields}={created}'.format( fields=const.FIELDS, admin=const.ADMIN_STATE_UP, created=const.CREATED_AT)) self.assertEqual(2, len(members[0])) self.assertTrue(members[0][const.ADMIN_STATE_UP]) parser.parse(members[0][const.CREATED_AT]) self.assertTrue(members[1][const.ADMIN_STATE_UP]) parser.parse(members[1][const.CREATED_AT]) self.assertFalse(members[2][const.ADMIN_STATE_UP]) parser.parse(members[2][const.CREATED_AT]) # Test filtering members = self.mem_member_client.list_members( pool_id, query_params='{desc}={lb_desc}'.format( desc=const.PROTOCOL_PORT, lb_desc=member2[const.PROTOCOL_PORT])) self.assertEqual(1, len(members)) self.assertEqual(member2[const.PROTOCOL_PORT], members[0][const.PROTOCOL_PORT]) # Test combined params members = self.mem_member_client.list_members( pool_id, query_params='{admin}={true}&' '{fields}={descr}&{fields}={id}&' '{sort}={descr}:{desc}'.format( admin=const.ADMIN_STATE_UP, true=const.ADMIN_STATE_UP_TRUE, fields=const.FIELDS, descr=const.PROTOCOL_PORT, id=const.ID, sort=const.SORT, desc=const.DESC)) # Should get two members self.assertEqual(2, len(members)) # members should have two fields self.assertEqual(2, len(members[0])) # Should be in descending order self.assertEqual(member2[const.PROTOCOL_PORT], members[1][const.PROTOCOL_PORT]) self.assertEqual(member1[const.PROTOCOL_PORT], members[0][const.PROTOCOL_PORT]) # Attempt to clean up ahead of time try: self.mem_pool_client.delete_pool(pool_id) waiters.wait_for_deleted_status_or_not_found( self.mem_pool_client.show_pool, pool_id, const.PROVISIONING_STATUS, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) except Exception: pass @decorators.idempotent_id('7674ae04-7e92-44ef-9adf-40718d7ec705') def test_member_show(self): """"""Tests member show API. * Create a fully populated member. * Show member details. * Validate the show reflects the requested values. * Validates that other accounts cannot see the member. """""" member_name = data_utils.rand_name(""lb_member_member1-show"") member_kwargs = { const.NAME: member_name, const.ADMIN_STATE_UP: True, const.POOL_ID: self.pool_id, const.ADDRESS: '192.0.2.1', const.PROTOCOL_PORT: 81, const.WEIGHT: 50, const.BACKUP: False, const.MONITOR_ADDRESS: '192.0.2.2', const.MONITOR_PORT: 8080, } if self.lb_member_vip_subnet: member_kwargs[const.SUBNET_ID] = self.lb_member_vip_subnet[ const.ID] member = self.mem_member_client.create_member(**member_kwargs) self.addClassResourceCleanup( self.mem_member_client.cleanup_member, member[const.ID], pool_id=self.pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) member = waiters.wait_for_status( self.mem_member_client.show_member, member[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout, pool_id=self.pool_id) parser.parse(member[const.CREATED_AT]) parser.parse(member[const.UPDATED_AT]) UUID(member[const.ID]) self.assertEqual(const.NO_MONITOR, member[const.OPERATING_STATUS]) equal_items = [const.NAME, const.ADMIN_STATE_UP, const.ADDRESS, const.PROTOCOL_PORT, const.WEIGHT, const.BACKUP, const.MONITOR_ADDRESS, const.MONITOR_PORT] if const.SUBNET_ID in member_kwargs: equal_items.append(const.SUBNET_ID) else: self.assertIsNone(member.get(const.SUBNET_ID)) for item in equal_items: self.assertEqual(member_kwargs[item], member[item]) # Test that a user with lb_admin role can see the member if CONF.load_balancer.RBAC_test_type == const.ADVANCED: member_client = self.os_roles_lb_admin.member_client member_adm = member_client.show_member( member[const.ID], pool_id=self.pool_id) self.assertEqual(member_name, member_adm[const.NAME]) # Test that a user with cloud admin role can see the member if not CONF.load_balancer.RBAC_test_type == const.NONE: adm = self.os_admin.member_client.show_member( member[const.ID], pool_id=self.pool_id) self.assertEqual(member_name, adm[const.NAME]) # Test that a different user, with load balancer member role, cannot # see this member if not CONF.load_balancer.RBAC_test_type == const.NONE: member2_client = self.os_roles_lb_member2.member_client self.assertRaises(exceptions.Forbidden, member2_client.show_member, member[const.ID], pool_id=self.pool_id) # Test that a user, without the load balancer member role, cannot # show members if CONF.load_balancer.RBAC_test_type == const.ADVANCED: self.assertRaises( exceptions.Forbidden, self.os_primary.member_client.show_member, member[const.ID], pool_id=self.pool_id) @decorators.idempotent_id('c07572b8-e853-48f3-a8ea-37fc293a4724') def test_member_update(self): """"""Tests member show API and field filtering. * Create a fully populated member. * Show member details. * Validate the show reflects the initial values. * Validates that other accounts cannot update the member. * Update the member details. * Show member details. * Validate the show reflects the initial values. """""" member_name = data_utils.rand_name(""lb_member_member1-update"") member_kwargs = { const.NAME: member_name, const.ADMIN_STATE_UP: False, const.POOL_ID: self.pool_id, const.ADDRESS: '192.0.2.1', const.PROTOCOL_PORT: 82, const.WEIGHT: 50, const.BACKUP: False, const.MONITOR_ADDRESS: '192.0.2.2', const.MONITOR_PORT: 8080, } if self.lb_member_vip_subnet: member_kwargs[const.SUBNET_ID] = self.lb_member_vip_subnet[ const.ID] member = self.mem_member_client.create_member(**member_kwargs) self.addClassResourceCleanup( self.mem_member_client.cleanup_member, member[const.ID], pool_id=self.pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) member = waiters.wait_for_status( self.mem_member_client.show_member, member[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout, pool_id=self.pool_id) parser.parse(member[const.CREATED_AT]) parser.parse(member[const.UPDATED_AT]) UUID(member[const.ID]) self.assertEqual(const.NO_MONITOR, member[const.OPERATING_STATUS]) equal_items = [const.NAME, const.ADMIN_STATE_UP, const.ADDRESS, const.PROTOCOL_PORT, const.WEIGHT, const.BACKUP, const.MONITOR_ADDRESS, const.MONITOR_PORT] if const.SUBNET_ID in member_kwargs: equal_items.append(const.SUBNET_ID) else: self.assertIsNone(member.get(const.SUBNET_ID)) for item in equal_items: self.assertEqual(member_kwargs[item], member[item]) # Test that a user, without the load balancer member role, cannot # use this command if CONF.load_balancer.RBAC_test_type == const.ADVANCED: self.assertRaises( exceptions.Forbidden, self.os_primary.member_client.update_member, member[const.ID], pool_id=self.pool_id, admin_state_up=True) # Assert we didn't go into PENDING_* member_check = self.mem_member_client.show_member( member[const.ID], pool_id=self.pool_id) self.assertEqual(const.ACTIVE, member_check[const.PROVISIONING_STATUS]) self.assertEqual(member_kwargs[const.ADMIN_STATE_UP], member_check[const.ADMIN_STATE_UP]) # Test that a user, without the load balancer member role, cannot # update this member if not CONF.load_balancer.RBAC_test_type == const.NONE: member2_client = self.os_roles_lb_member2.member_client self.assertRaises(exceptions.Forbidden, member2_client.update_member, member[const.ID], pool_id=self.pool_id, admin_state_up=True) # Assert we didn't go into PENDING_* member_check = self.mem_member_client.show_member( member[const.ID], pool_id=self.pool_id) self.assertEqual(const.ACTIVE, member_check[const.PROVISIONING_STATUS]) self.assertEqual(member_kwargs[const.ADMIN_STATE_UP], member_check[const.ADMIN_STATE_UP]) new_name = data_utils.rand_name(""lb_member_member1-update"") member_update_kwargs = { const.POOL_ID: member_kwargs[const.POOL_ID], const.NAME: new_name, const.ADMIN_STATE_UP: not member[const.ADMIN_STATE_UP], const.WEIGHT: member[const.WEIGHT] + 1, const.BACKUP: not member[const.BACKUP], const.MONITOR_ADDRESS: '192.0.2.3', const.MONITOR_PORT: member[const.MONITOR_PORT] + 1, } member = self.mem_member_client.update_member( member[const.ID], **member_update_kwargs) member = waiters.wait_for_status( self.mem_member_client.show_member, member[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout, pool_id=self.pool_id) # Test changed items equal_items = [const.NAME, const.ADMIN_STATE_UP, const.WEIGHT, const.BACKUP, const.MONITOR_ADDRESS, const.MONITOR_PORT] for item in equal_items: self.assertEqual(member_update_kwargs[item], member[item]) # Test unchanged items equal_items = [const.ADDRESS, const.PROTOCOL_PORT] if const.SUBNET_ID in member_kwargs: equal_items.append(const.SUBNET_ID) else: self.assertIsNone(member.get(const.SUBNET_ID)) for item in equal_items: self.assertEqual(member_kwargs[item], member[item]) @decorators.idempotent_id('f129ba5e-a16e-4178-924f-6a9c5b8b1589') def test_member_delete(self): """"""Tests member create and delete APIs. * Creates a member. * Validates that other accounts cannot delete the member * Deletes the member. * Validates the member is in the DELETED state. """""" member_name = data_utils.rand_name(""lb_member_member1-delete"") member_kwargs = { const.POOL_ID: self.pool_id, const.NAME: member_name, const.ADDRESS: '192.0.2.1', const.PROTOCOL_PORT: 83, } member = self.mem_member_client.create_member(**member_kwargs) self.addClassResourceCleanup( self.mem_member_client.cleanup_member, member[const.ID], pool_id=self.pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) # Test that a user without the load balancer role cannot # delete this member if CONF.load_balancer.RBAC_test_type == const.ADVANCED: self.assertRaises( exceptions.Forbidden, self.os_primary.member_client.delete_member, member[const.ID], pool_id=self.pool_id) # Test that a different user, with the load balancer member role # cannot delete this member if not CONF.load_balancer.RBAC_test_type == const.NONE: member2_client = self.os_roles_lb_member2.member_client self.assertRaises(exceptions.Forbidden, member2_client.delete_member, member[const.ID], pool_id=self.pool_id) self.mem_member_client.delete_member(member[const.ID], pool_id=self.pool_id) waiters.wait_for_deleted_status_or_not_found( self.mem_member_client.show_member, member[const.ID], const.PROVISIONING_STATUS, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout, pool_id=self.pool_id) ",,1019,28
openstack%2Foctavia-tempest-plugin~master~Id8dadfa292a698273240a4d3513288053e7c62c5,openstack/octavia-tempest-plugin,master,Id8dadfa292a698273240a4d3513288053e7c62c5,Create api+scenario tests for pools,MERGED,2018-05-02 04:19:28.000000000,2018-05-22 18:21:50.000000000,2018-05-22 18:21:50.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23630}]","[{'number': 1, 'created': '2018-05-02 04:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a3beb5cdc24430560bf29b65eb8e2705b9565860', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 2, 'created': '2018-05-02 05:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/698ec1f36be2b0c6485bb03710a00821e38d73d1', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 3, 'created': '2018-05-02 05:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6bd3fe24502cebc986bd241c531bfc70dc57b253', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 4, 'created': '2018-05-02 07:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1c9f4b9d049f3bb71e8a8c69b0d489f6b34ba06e', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 5, 'created': '2018-05-03 20:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/666f838eb5da62ef8131aa787563a4240a8d8592', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 6, 'created': '2018-05-04 07:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c3746b5ddffd568a636caaabab6f8904c3e4b52c', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 7, 'created': '2018-05-07 23:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/156960a55e837aec6ec3585f9b3bc8371b8a2f1b', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 8, 'created': '2018-05-07 23:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f71a400f2493b1dbaae33acdfdf8a12ee0a2b782', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 9, 'created': '2018-05-08 08:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8f3ff2ed53a6274db35ca4581777b0b682f2fb7d', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 10, 'created': '2018-05-08 18:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0b366e3f65ce2ecb84a6204317623fe86b34d33a', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 11, 'created': '2018-05-08 20:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9ac833dc826b869a5059ba4f444a6fcfeecf1251', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 12, 'created': '2018-05-08 23:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/76f824cc3b089465943d2e5b4182e609f92dea15', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 13, 'created': '2018-05-10 20:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/38d5c4f85df58270af3ff49bbe3c673f6849acfc', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 14, 'created': '2018-05-11 06:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b1709a2daeffef60738ba138db8ceba780f526ba', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 15, 'created': '2018-05-16 23:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bed559f4dba2836b34feae4fccb07e9b6d198624', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}, {'number': 16, 'created': '2018-05-18 23:09:28.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', '.gitignore', 'octavia_tempest_plugin/services/load_balancer/v2/pool_client.py', 'octavia_tempest_plugin/tests/scenario/v2/test_pool.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/scenario/v2/test_listener.py', 'octavia_tempest_plugin/tests/api/v2/test_pool.py', 'octavia_tempest_plugin/clients.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/services/load_balancer/v2/base_client.py', '.stestr.conf', 'octavia_tempest_plugin/tests/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8ffce3e8c3c6ef0f0a576f4123f2dabcf6d6d872', 'message': 'Create api+scenario tests for pools\n\nThis patch implements pool tests for the Octavia\nTempest Plugin.\n\nChange-Id: Id8dadfa292a698273240a4d3513288053e7c62c5\nStory: 2001387\nTask: 5969\n'}]",3,565640,8ffce3e8c3c6ef0f0a576f4123f2dabcf6d6d872,39,5,16,10273,,,0,"Create api+scenario tests for pools

This patch implements pool tests for the Octavia
Tempest Plugin.

Change-Id: Id8dadfa292a698273240a4d3513288053e7c62c5
Story: 2001387
Task: 5969
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/40/565640/7 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/clients.py', 'octavia_tempest_plugin/services/load_balancer/v2/pool_client.py', 'octavia_tempest_plugin/tests/scenario/v2/test_pool.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/common/constants.py']",5,a3beb5cdc24430560bf29b65eb8e2705b9565860,565640,LB_ALGORITHM = 'lb_algorithm' LB_ALGORITHM_ROUND_ROBIN = 'ROUND_ROBIN' LB_ALGORITHM_LEAST_CONNECTIONS = 'LEAST_CONNECTIONS' LB_ALGORITHM_SOURCE_IP = 'SOURCE_IP' SESSION_PERSISTENCE = 'session_persistence' ,,366,0
openstack%2Foctavia~master~Ifa80b7a5973361c13f2e6611789aa9798325ece0,openstack/octavia,master,Ifa80b7a5973361c13f2e6611789aa9798325ece0,Add config for disabling creation of PING type HMs,MERGED,2017-12-16 00:30:40.000000000,2018-05-22 18:21:49.000000000,2018-05-22 18:21:49.000000000,"[{'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-16 00:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/626ddd541b1bd73124e1b419bbb9c7cf178bb13a', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 2, 'created': '2017-12-21 20:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d41bd0b46ffb9e201c155c80ec41760a89aec6be', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 3, 'created': '2018-01-13 02:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ab3c0d1f5c82d55b2c7b2485a3016b9d6d4f338e', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 4, 'created': '2018-02-02 20:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3a3b5d32af491c9625a1e7b7536c8c2f059ee0e3', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 5, 'created': '2018-02-06 00:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a41df99cf8957b4f095c2186102e541a87ab7ea1', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 6, 'created': '2018-02-15 03:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d52386cfe776a0fb16707df1e731d8753291f94e', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 7, 'created': '2018-02-21 01:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/52c63f4aafdf66f396c55934b2980b5b893598b9', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 8, 'created': '2018-02-21 01:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8aebbdb437fb36225bbf45db8cd04a04bc6fa7bd', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 9, 'created': '2018-02-27 23:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/354bd54e4b716c800e66160f1f622e1d64929372', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 10, 'created': '2018-03-08 19:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e83c989d1d4e9a47846eb807e6e8f92d04c010e2', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 11, 'created': '2018-03-14 15:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9d3fb4e2f29adac70a1e2ae148af10b41c2cf1d7', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 12, 'created': '2018-03-19 18:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a2719fc029b9b0854997e7baf635afce8758003f', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 13, 'created': '2018-03-27 05:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b508e7c7cd0f48ccf54ec0e380f0975fbd10121c', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 14, 'created': '2018-04-09 23:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2130375729e7b3f3e05385deb7d8a7e90b39bd1c', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nThis is not intended to merge upstream, but anyone who wants to should\nfeel free to apply this patch on their local deployment.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 15, 'created': '2018-04-10 01:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b2a88a504510106f85e8b17b9f0f41633d6544aa', 'message': 'DNM: Remove PING type from HM options list\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop.\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 16, 'created': '2018-04-10 22:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/74b53c7c0d22d61be8c67cdbae75fd7365bd8750', 'message': 'Add config for disabling creation of PING type HMs\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop. Empower operators to\ndisable this!\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 17, 'created': '2018-04-12 19:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/526322f553739a19ada0b37e80942a7bf966f39b', 'message': 'Add config for disabling creation of PING type HMs\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop. Empower operators to\ndisable this!\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 18, 'created': '2018-04-24 01:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/719a221fbac8db32efca420d7cb6ab91715798a3', 'message': 'Add config for disabling creation of PING type HMs\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop. Empower operators to\ndisable this!\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 19, 'created': '2018-04-26 04:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5ed8004bc22207475ac290d8c9ddc5f9c49891a0', 'message': 'Add config for disabling creation of PING type HMs\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop. Empower operators to\ndisable this!\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}, {'number': 20, 'created': '2018-05-22 14:02:00.000000000', 'files': ['octavia/common/config.py', 'octavia/tests/functional/api/v2/test_health_monitor.py', 'releasenotes/notes/allow-operators-to-disable-ping-healthchecks-42fd8c3b88edaf35.yaml', 'octavia/api/v2/controllers/health_monitor.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d28d311db1da8f0530a4bd08d0e19b8660298331', 'message': 'Add config for disabling creation of PING type HMs\n\nPING is a trap. There is no real-world scenario where PING is the option\nthat makes the most sense, but people are familiar with it, and it seems\n""simple"", so they pick it. This needs to stop. Empower operators to\ndisable this!\n\nChange-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0\n'}]",5,528439,d28d311db1da8f0530a4bd08d0e19b8660298331,62,4,20,10273,,,0,"Add config for disabling creation of PING type HMs

PING is a trap. There is no real-world scenario where PING is the option
that makes the most sense, but people are familiar with it, and it seems
""simple"", so they pick it. This needs to stop. Empower operators to
disable this!

Change-Id: Ifa80b7a5973361c13f2e6611789aa9798325ece0
",git fetch https://review.opendev.org/openstack/octavia refs/changes/39/528439/6 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/common/constants.py', 'octavia/tests/functional/api/v1/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",5,626ddd541b1bd73124e1b419bbb9c7cf178bb13a,," 'type': constants.HEALTH_MONITOR_TCP,"," 'type': constants.HEALTH_MONITOR_PING,",12,12
openstack%2Fswift~master~If063a12cac74b67078b6db1c4f489160a2a69de1,openstack/swift,master,If063a12cac74b67078b6db1c4f489160a2a69de1,Truncate error logs to prevent log handler runs out of the buffer.,MERGED,2018-04-13 07:30:16.000000000,2018-05-22 18:06:08.000000000,2018-05-22 18:06:07.000000000,"[{'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 12050}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-13 07:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ff36e181ed63628116eaad210bf85deb0d323ff7', 'message': 'Truncate error logs to prevent log handler runs out of the buffer.\n\nChange-Id: If063a12cac74b67078b6db1c4f489160a2a69de1\nCloses-Bug: 1763557\n'}, {'number': 2, 'created': '2018-04-13 14:40:10.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2307886efebee4874c6606879623ad75f9f34d34', 'message': 'Truncate error logs to prevent log handler runs out of the buffer.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\n\nChange-Id: If063a12cac74b67078b6db1c4f489160a2a69de1\nCloses-Bug: 1763557\n'}]",2,561142,2307886efebee4874c6606879623ad75f9f34d34,17,6,2,12050,,,0,"Truncate error logs to prevent log handler runs out of the buffer.

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>

Change-Id: If063a12cac74b67078b6db1c4f489160a2a69de1
Closes-Bug: 1763557
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/561142/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/replicator.py'],1,ff36e181ed63628116eaad210bf85deb0d323ff7,bug/1763557," error_long = _(""Killing long-running rsync: %s"") % str(args) if self.rsync_error_log_line_length: error_long = error_long[:self.rsync_error_log_line_length] self.logger.error(error_long)"," self.logger.error(_(""Killing long-running rsync: %s""), str(args))",4,1
openstack%2Foctavia~master~Ia69f470e8cfb1a830b08f0076547465cf6cf624a,openstack/octavia,master,Ia69f470e8cfb1a830b08f0076547465cf6cf624a,Fix releasenotes build in tox,MERGED,2018-05-14 07:29:32.000000000,2018-05-22 18:01:45.000000000,2018-05-22 18:01:45.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 25058}, {'_account_id': 25067}]","[{'number': 1, 'created': '2018-05-14 07:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/02a80d367280d13ae7d9ce792d7b96ebe2ef5633', 'message': 'Fix releasenotes build in tox\n\nThis patch is to ensure the old files are not left over\nwhen running these document builds.\n\nChange-Id: Ia69f470e8cfb1a830b08f0076547465cf6cf624a\n'}, {'number': 2, 'created': '2018-05-22 09:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c42b6f42166621832d4839c2ef8ce3b7ad16d3fa', 'message': 'Fix releasenotes build in tox\n\nThis patch is to ensure the old files are not left over\nwhen running these document builds.\n\nChange-Id: Ia69f470e8cfb1a830b08f0076547465cf6cf624a\n'}, {'number': 3, 'created': '2018-05-22 09:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9c58e1d7c32b7725229c2f3b7c488ae2aece24d4', 'message': 'Fix releasenotes build in tox\n\nThis patch is to ensure the old files are not left over\nwhen running these document builds.\n\nChange-Id: Ia69f470e8cfb1a830b08f0076547465cf6cf624a\n'}, {'number': 4, 'created': '2018-05-22 10:46:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f8ec935b0fd85100df6f7bab5db695f4e4eef4ba', 'message': 'Fix releasenotes build in tox\n\nThis patch is to ensure the old files are not left over\nwhen running these document builds.\n\nChange-Id: Ia69f470e8cfb1a830b08f0076547465cf6cf624a\n'}]",3,568215,f8ec935b0fd85100df6f7bab5db695f4e4eef4ba,28,7,4,25058,,,0,"Fix releasenotes build in tox

This patch is to ensure the old files are not left over
when running these document builds.

Change-Id: Ia69f470e8cfb1a830b08f0076547465cf6cf624a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/15/568215/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,02a80d367280d13ae7d9ce792d7b96ebe2ef5633,tox,commands = rm -rf releasenotes/build sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,3,1
openstack%2Fnova~master~I16ba29385dd2db5467829e6c17fc395096b5cfd3,openstack/nova,master,I16ba29385dd2db5467829e6c17fc395096b5cfd3,Fix interpretation of max_attempts for scheduling alternates,MERGED,2018-05-17 14:29:43.000000000,2018-05-22 17:12:28.000000000,2018-05-20 19:34:04.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-05-17 14:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b7538f78e94fdaccb361e5ae088b3b1682e08ba', 'message': 'WIP: Fix interpretation of max_attempts for scheduling alternates\n\nSince max_attempts is not max_retries, we should look for max_attempts-1\nalternate hosts.\n\nChange-Id: I16ba29385dd2db5467829e6c17fc395096b5cfd3\n'}, {'number': 2, 'created': '2018-05-17 18:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86a66887bfee5edc20979092cf038611397b1f58', 'message': 'Fix interpretation of max_attempts for scheduling alternates\n\nSince max_attempts is not max_retries, we should look for max_attempts-1\nalternate hosts.\n\nChange-Id: I16ba29385dd2db5467829e6c17fc395096b5cfd3\n'}, {'number': 3, 'created': '2018-05-17 18:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db9665843fa78f30fabfea4f404639602b6a8685', 'message': 'Fix interpretation of max_attempts for scheduling alternates\n\nSince max_attempts is not max_retries, we should look for max_attempts-1\nalternate hosts.\n\nChange-Id: I16ba29385dd2db5467829e6c17fc395096b5cfd3\n'}, {'number': 4, 'created': '2018-05-17 22:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b91804c21b523c11512899b7d8b5672b70508881', 'message': 'Fix interpretation of max_attempts for scheduling alternates\n\nSince max_attempts is not max_retries, we should look for max_attempts-1\nalternate hosts. This doesn\'t actually change the logic at all, but makes\nnum_alts be actually ""number of alternates"" instead of ""number of hosts\nselected, including alternates"". Since that\'s what the variable names\nimply, this is much more intuitive. This also adds functional tests to\nverify max_attempts behavior with 1 (no retries) and 2 (one retry),\njust to make sure it is doing what we expect.\n\nChange-Id: I16ba29385dd2db5467829e6c17fc395096b5cfd3\n'}, {'number': 5, 'created': '2018-05-17 23:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff74ad5e250f6a47d8b71ad20935e73249d72075', 'message': ""Fix interpretation of max_attempts for scheduling alternates\n\nSince max_attempts is not max_retries, we should look for max_attempts-1\nalternate hosts. This change makes the num_alts variable actually reflect\nthe number of alternates we are looking for, and doesn't actually change\nthe logic at all. This also adds functional tests to verify max_attempts\nbehavior with 1 (no retries) and 2 (one retry), just to make sure it is\ndoing what we expect.\n\nFurther, we optimize _get_alternate_hosts() to only re-filter/weigh the\nhost list if we're looking for alternates. Now that it's clear that\nnum_alts is only nonzero if we are going to look at the host list again\nto find those alternates, it can be more clearly (and accurately) used\nto optimize out that extra step if we are not getting alternates.\n\nChange-Id: I16ba29385dd2db5467829e6c17fc395096b5cfd3\n""}, {'number': 6, 'created': '2018-05-18 16:07:03.000000000', 'files': ['nova/scheduler/filter_scheduler.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d86aa7edb60ec35fa43c670ae1f0513dc1e9ad5', 'message': ""Fix interpretation of max_attempts for scheduling alternates\n\nSince max_attempts is not max_retries, we should look for max_attempts-1\nalternate hosts. This change makes the num_alts variable actually reflect\nthe number of alternates we are looking for, and doesn't actually change\nthe logic at all. This also adds functional tests to verify max_attempts\nbehavior with 1 (no retries) and 2 (one retry), just to make sure it is\ndoing what we expect.\n\nFurther, we optimize _get_alternate_hosts() to only re-filter/weigh the\nhost list if we're looking for alternates for multiple instances. Now\nthat it's clear that num_alts is only nonzero if we are going to look\nat the host list again to find those alternates, it can be more clearly\n(and accurately) used to optimize out that extra step if we are not\ngetting alternates.\n\nChange-Id: I16ba29385dd2db5467829e6c17fc395096b5cfd3\n""}]",23,569127,5d86aa7edb60ec35fa43c670ae1f0513dc1e9ad5,69,18,6,4393,,,0,"Fix interpretation of max_attempts for scheduling alternates

Since max_attempts is not max_retries, we should look for max_attempts-1
alternate hosts. This change makes the num_alts variable actually reflect
the number of alternates we are looking for, and doesn't actually change
the logic at all. This also adds functional tests to verify max_attempts
behavior with 1 (no retries) and 2 (one retry), just to make sure it is
doing what we expect.

Further, we optimize _get_alternate_hosts() to only re-filter/weigh the
host list if we're looking for alternates for multiple instances. Now
that it's clear that num_alts is only nonzero if we are going to look
at the host list again to find those alternates, it can be more clearly
(and accurately) used to optimize out that extra step if we are not
getting alternates.

Change-Id: I16ba29385dd2db5467829e6c17fc395096b5cfd3
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/569127/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filter_scheduler.py'],1,8b7538f78e94fdaccb361e5ae088b3b1682e08ba,fix-max-attempts, num_alts = (CONF.scheduler.max_attempts - 1 if return_alternates else 0), num_alts = CONF.scheduler.max_attempts if return_alternates else 0,2,1
openstack%2Fopenstack-ansible-os_sahara~master~I639530e61bbb1c0b0a1f81bd8c99a56b2348cca1,openstack/openstack-ansible-os_sahara,master,I639530e61bbb1c0b0a1f81bd8c99a56b2348cca1,Add [trustee] section to sahara.conf.j2,ABANDONED,2018-05-22 17:03:11.000000000,2018-05-22 17:04:39.000000000,,[],"[{'number': 1, 'created': '2018-05-22 17:03:11.000000000', 'files': ['Vagrantfile', 'templates/sahara.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/4284443286fd9b94513e085c65637f7efce3b74b', 'message': 'Add [trustee] section to sahara.conf.j2\n\nThis adds the [trustee] variables as defined in\nhttps://review.openstack.org/#/c/524936/13/devstack/plugin.sh\n\nChange-Id: I639530e61bbb1c0b0a1f81bd8c99a56b2348cca1\nCloses-Bug: #1763361\n'}]",0,570012,4284443286fd9b94513e085c65637f7efce3b74b,2,0,1,7414,,,0,"Add [trustee] section to sahara.conf.j2

This adds the [trustee] variables as defined in
https://review.openstack.org/#/c/524936/13/devstack/plugin.sh

Change-Id: I639530e61bbb1c0b0a1f81bd8c99a56b2348cca1
Closes-Bug: #1763361
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/12/570012/1 && git format-patch -1 --stdout FETCH_HEAD,"['Vagrantfile', 'templates/sahara.conf.j2']",2,4284443286fd9b94513e085c65637f7efce3b74b,bug/1763361, [trustee] project_name= {{ sahara_service_project_name }} username = {{ sahara_service_user_name }} password = {{ sahara_service_password }} user_domain_name = {{ sahara_service_user_domain_id }} auth_url = {{ keystone_service_adminurl }},,11,9
openstack%2Ftripleo-quickstart~master~Id5c7aceb538bd54295620df0be7e7967a50ce194,openstack/tripleo-quickstart,master,Id5c7aceb538bd54295620df0be7e7967a50ce194,Corrected controller and compute scale,MERGED,2018-05-22 07:33:15.000000000,2018-05-22 16:51:48.000000000,2018-05-22 16:51:48.000000000,"[{'_account_id': 4328}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 11090}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 07:33:15.000000000', 'files': ['config/nodes/3ctlr_2comp_3ceph.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d5f3b5412b920d988775d063da5849e5c7614581', 'message': 'Corrected controller and compute scale\n\nChange-Id: Id5c7aceb538bd54295620df0be7e7967a50ce194\nCloses-Bug: 1772589\n'}]",0,569929,d5f3b5412b920d988775d063da5849e5c7614581,12,7,1,28223,,,0,"Corrected controller and compute scale

Change-Id: Id5c7aceb538bd54295620df0be7e7967a50ce194
Closes-Bug: 1772589
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/29/569929/1 && git format-patch -1 --stdout FETCH_HEAD,['config/nodes/3ctlr_2comp_3ceph.yml'],1,d5f3b5412b920d988775d063da5849e5c7614581,bug/1772589, --compute-scale 2 --control-scale 3, --compute-scale 3 --control-scale 2,2,2
openstack%2Fneutron~master~Id7cbfa0a0039b6a95371fba559f70a5369111775,openstack/neutron,master,Id7cbfa0a0039b6a95371fba559f70a5369111775,WIP Disable ipv6 on gatewa on backup nodes of L3 ha,ABANDONED,2018-05-18 14:19:30.000000000,2018-05-22 16:43:03.000000000,,"[{'_account_id': 1131}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 14:19:30.000000000', 'files': ['tools/configure_for_func_testing.sh', 'neutron/agent/linux/interface.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/fullstack/base.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/fullstack/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/992e977c66be37c1e1bbb251257adc10302baaed', 'message': 'WIP Disable ipv6 on gatewa on backup nodes of L3 ha\n\nIt is different approach to solve issue with broken connectivity\nduring backup L3 agent restart.\nBut probably it will not work properly :/\n\nChange-Id: Id7cbfa0a0039b6a95371fba559f70a5369111775\nRelated-Bug: #1771841\n'}]",0,569424,992e977c66be37c1e1bbb251257adc10302baaed,7,6,1,11975,,,0,"WIP Disable ipv6 on gatewa on backup nodes of L3 ha

It is different approach to solve issue with broken connectivity
during backup L3 agent restart.
But probably it will not work properly :/

Change-Id: Id7cbfa0a0039b6a95371fba559f70a5369111775
Related-Bug: #1771841
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/569424/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/configure_for_func_testing.sh', 'neutron/agent/l3/ha_router.py', 'neutron/agent/linux/interface.py', 'neutron/tests/fullstack/base.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/fullstack/test_connectivity.py']",8,992e977c66be37c1e1bbb251257adc10302baaed,bug/1771841," self._assert_ping_during_agents_restart( agents, ns0, [ip1], restart_timeout=agent_restart_timeout, ping_timeout=2, count=agent_restart_timeout)","from concurrent import futures with net_helpers.async_ping(ns0, [ip1], timeout=2, count=agent_restart_timeout) as done: LOG.debug(""Restarting agents"") executor = futures.ThreadPoolExecutor(max_workers=len(agents)) restarts = [agent.restart(executor=executor) for agent in agents] futures.wait(restarts, timeout=agent_restart_timeout) self.assertTrue(all([r.done() for r in restarts])) LOG.debug(""Restarting agents - done"") # It is necessary to give agents time to initialize # because some crucial steps (e.g. setting up bridge flows) # happen only after RPC is established common_utils.wait_until_true( done, exception=RuntimeError(""Could not ping the other VM, L2 agent "" ""restart leads to network disruption""))",125,24
openstack%2Fswift~master~I9716f6c4e45bcdf80543cf661f922da681d602aa,openstack/swift,master,I9716f6c4e45bcdf80543cf661f922da681d602aa,s3api: simplify BaseAclHandler.request_with,MERGED,2018-05-02 19:04:41.000000000,2018-05-22 16:28:42.000000000,2018-05-22 16:28:42.000000000,"[{'_account_id': 7847}, {'_account_id': 9625}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-02 19:04:41.000000000', 'files': ['swift/common/middleware/s3api/acl_handlers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0d0c9b91ed278f964f686359f50748a4bee0fc25', 'message': ""s3api: simplify BaseAclHandler.request_with\n\nIt's just constructing a new object; there's no need for it to be a\ncontext manager.\n\nChange-Id: I9716f6c4e45bcdf80543cf661f922da681d602aa\n""}]",0,565872,0d0c9b91ed278f964f686359f50748a4bee0fc25,7,3,1,2622,,,0,"s3api: simplify BaseAclHandler.request_with

It's just constructing a new object; there's no need for it to be a
context manager.

Change-Id: I9716f6c4e45bcdf80543cf661f922da681d602aa
",git fetch https://review.opendev.org/openstack/swift refs/changes/72/565872/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/s3api/acl_handlers.py'],1,0d0c9b91ed278f964f686359f50748a4bee0fc25,s3api/update," def request_with(self, container, obj, headers): return type(self)(self.req, self.logger, container=container, obj=obj, headers=headers) ah = self.request_with(container, obj, headers) if hasattr(ah, method): return getattr(ah, method)(app) else: return ah._handle_acl(app, method) ah = self.request_with(container, obj, headers) # MultiUpload stuffs don't need acl check basically. if hasattr(ah, method): return getattr(ah, method)(app)","from contextlib import contextmanager @contextmanager def request_with(self, container, obj, headers): yield type(self)(self.req, self.logger, container=container, obj=obj, headers=headers) with self.request_with(container, obj, headers) as ah: if hasattr(ah, method): return getattr(ah, method)(app) else: return ah._handle_acl(app, method) with self.request_with(container, obj, headers) as ah: # MultiUpload stuffs don't need acl check basically. if hasattr(ah, method): return getattr(ah, method)(app) else: pass",11,15
openstack%2Fkolla~stable%2Focata~Ic81181b8b87ccbac489d993f05c125e224922077,openstack/kolla,stable/ocata,Ic81181b8b87ccbac489d993f05c125e224922077,Fix ocata branch gate,MERGED,2018-04-16 10:09:45.000000000,2018-05-22 16:23:30.000000000,2018-05-22 16:23:29.000000000,"[{'_account_id': 167}, {'_account_id': 7488}, {'_account_id': 13039}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 24441}, {'_account_id': 26355}, {'_account_id': 28284}]","[{'number': 1, 'created': '2018-04-16 10:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4872a5a0ae34d87a23f66762af3ca6b9f14bfe95', 'message': 'Skip pip install when packages is empty\n\nChange-Id: Ic81181b8b87ccbac489d993f05c125e224922077\nCloses-Bug: #1764369\n'}, {'number': 2, 'created': '2018-04-16 10:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7e3bbb358bf8a56a35654cab08fc34f9e6952615', 'message': 'Skip pip install when packages variable is empty\n\npip 10 is release recently. `pip install` without any package will raise\nan error now.\n\nChange-Id: Ic81181b8b87ccbac489d993f05c125e224922077\nCloses-Bug: #1764369\n'}, {'number': 3, 'created': '2018-05-21 06:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/125240f4582273f06e650bd755277c2f0b68306b', 'message': ""Fix ocata branch gate\n\nThis patch is include three backport commits.\n\nMove ansible to virtualenv in kolla_toolbox\n\nNow the ansible and its python dependencies are installed on system. It\nmay be failed to install in some case. This patch installs python\npackages in virtualenv for kolla_toolbox image.\n\nCloses-Bug: #1771717\n(cherry picked from commit ce31fa4b1c85de4c21ffb63f3cf58e02bfd3d0a4)\n\nbase: set $contentdir for CentOS\n\nCentOS recently started syncing alternate arch repos to mirrors. And to\nmake it easier to play with centos-* packages idea of 'contentdir'\nappeared.\n\nhttps://lists.centos.org/pipermail/centos-devel/2018-March/016542.html\n(cherry picked from commit ec5daaaa634351d24706e605c2c6726be402d35b)\n\nSkip pip install when packages variable is empty\n\npip 10 is release recently. `pip install` without any package will raise\nan error now.\n\nCloses-Bug: #1764369\nChange-Id: Ic81181b8b87ccbac489d993f05c125e224922077\n""}, {'number': 4, 'created': '2018-05-21 09:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2139bfe62c3033f1e4da1b859fff97473648d37b', 'message': ""Fix ocata branch gate\n\nThis patch is include four backport commits.\n\nMove ansible to virtualenv in kolla_toolbox\n\nNow the ansible and its python dependencies are installed on system. It\nmay be failed to install in some case. This patch installs python\npackages in virtualenv for kolla_toolbox image.\n\nCloses-Bug: #1771717\n(cherry picked from commit ce31fa4b1c85de4c21ffb63f3cf58e02bfd3d0a4)\n\nbase: set $contentdir for CentOS\n\nCentOS recently started syncing alternate arch repos to mirrors. And to\nmake it easier to play with centos-* packages idea of 'contentdir'\nappeared.\n\nhttps://lists.centos.org/pipermail/centos-devel/2018-March/016542.html\n(cherry picked from commit ec5daaaa634351d24706e605c2c6726be402d35b)\n\nbase: bump centos-release-qemu-ev for oraclelinux\n\n(cherry picked from commit 2f271522589e5d2956611787508b5b3ae44ca84b)\n\nSkip pip install when packages variable is empty\n\npip 10 is release recently. `pip install` without any package will raise\nan error now.\n\nCloses-Bug: #1764369\nChange-Id: Ic81181b8b87ccbac489d993f05c125e224922077\n""}, {'number': 5, 'created': '2018-05-22 07:55:45.000000000', 'files': ['test-requirements.txt', 'docker/macros.j2', 'docker/base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/67b092ead7bd3395a8e0b71abdf20710de2c78dd', 'message': ""Fix ocata branch gate\n\nThis patch is include five backport commits.\n\nGate fix: Cap hacking to avoid gate failure\n\nhacking is not capped in g-r and it is in\nblacklist for requirement as hacking new version\ncan break the gate jobs.\n\nHacking can break gate jobs because of various\nreasons:\n- There might be new rule addition in hacking\n- Some rules becomes default from non-default\n- Updates in pycodestyle etc\n\nThat was the main reason it was not added in g-r\nauto sync also. Most of the project maintained the\ncompatible and cap the hacking version in\ntest-requirements.txt and update to new version when\nproject is ready. Bumping new version might need code\nfix also on project side depends on what new in that\nversion.\n\nIf project does not have cap the hacking version then,\nthere is possibility of gate failure whenever new hacking\nversion is released by QA team.\n\nExample of such failure in recent release of hacking 1.1.0\n-\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-May/130282.html\n\nMove ansible to virtualenv in kolla_toolbox\n\nNow the ansible and its python dependencies are installed on system. It\nmay be failed to install in some case. This patch installs python\npackages in virtualenv for kolla_toolbox image.\n\nCloses-Bug: #1771717\n(cherry picked from commit ce31fa4b1c85de4c21ffb63f3cf58e02bfd3d0a4)\n\nbase: set $contentdir for CentOS\n\nCentOS recently started syncing alternate arch repos to mirrors. And to\nmake it easier to play with centos-* packages idea of 'contentdir'\nappeared.\n\nhttps://lists.centos.org/pipermail/centos-devel/2018-March/016542.html\n(cherry picked from commit ec5daaaa634351d24706e605c2c6726be402d35b)\n\nbase: bump centos-release-qemu-ev for oraclelinux\n\n(cherry picked from commit 2f271522589e5d2956611787508b5b3ae44ca84b)\n\nSkip pip install when packages variable is empty\n\npip 10 is release recently. `pip install` without any package will raise\nan error now.\n\nCloses-Bug: #1764369\nChange-Id: Ic81181b8b87ccbac489d993f05c125e224922077\n""}]",0,561573,67b092ead7bd3395a8e0b71abdf20710de2c78dd,36,11,5,7488,,,0,"Fix ocata branch gate

This patch is include five backport commits.

Gate fix: Cap hacking to avoid gate failure

hacking is not capped in g-r and it is in
blacklist for requirement as hacking new version
can break the gate jobs.

Hacking can break gate jobs because of various
reasons:
- There might be new rule addition in hacking
- Some rules becomes default from non-default
- Updates in pycodestyle etc

That was the main reason it was not added in g-r
auto sync also. Most of the project maintained the
compatible and cap the hacking version in
test-requirements.txt and update to new version when
project is ready. Bumping new version might need code
fix also on project side depends on what new in that
version.

If project does not have cap the hacking version then,
there is possibility of gate failure whenever new hacking
version is released by QA team.

Example of such failure in recent release of hacking 1.1.0
-
http://lists.openstack.org/pipermail/openstack-dev/2018-May/130282.html

Move ansible to virtualenv in kolla_toolbox

Now the ansible and its python dependencies are installed on system. It
may be failed to install in some case. This patch installs python
packages in virtualenv for kolla_toolbox image.

Closes-Bug: #1771717
(cherry picked from commit ce31fa4b1c85de4c21ffb63f3cf58e02bfd3d0a4)

base: set $contentdir for CentOS

CentOS recently started syncing alternate arch repos to mirrors. And to
make it easier to play with centos-* packages idea of 'contentdir'
appeared.

https://lists.centos.org/pipermail/centos-devel/2018-March/016542.html
(cherry picked from commit ec5daaaa634351d24706e605c2c6726be402d35b)

base: bump centos-release-qemu-ev for oraclelinux

(cherry picked from commit 2f271522589e5d2956611787508b5b3ae44ca84b)

Skip pip install when packages variable is empty

pip 10 is release recently. `pip install` without any package will raise
an error now.

Closes-Bug: #1764369
Change-Id: Ic81181b8b87ccbac489d993f05c125e224922077
",git fetch https://review.opendev.org/openstack/kolla refs/changes/73/561573/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/macros.j2'],1,4872a5a0ae34d87a23f66762af3ca6b9f14bfe95,bug/1771717,{% if packages|length > 0 %}{% endif %},,2,0
openstack%2Ftripleo-quickstart-extras~master~Id7eb3a85ba85be93457a1fe85e55b6eb1d713397,openstack/tripleo-quickstart-extras,master,Id7eb3a85ba85be93457a1fe85e55b6eb1d713397,WIP - Deploy and Configure ARA for Undercloud,ABANDONED,2018-04-29 03:02:33.000000000,2018-05-22 16:08:55.000000000,,"[{'_account_id': 3153}, {'_account_id': 9061}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-29 03:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ac72749de3aa11d9d42b6adaa6b62a9b0e2a266f', 'message': ""WIP - Deploy and Configure ARA for Undercloud\n\nThis is probably not the way to do it (or maybe yes?) but anyway, it's a\nPoC of deploying ARA and visualize Ansible tasks run by TripleO itself\n(in THT) for both the containerized undercloud and overcloud.\n\nChange-Id: Id7eb3a85ba85be93457a1fe85e55b6eb1d713397\n""}, {'number': 2, 'created': '2018-04-29 06:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c7c1286596a2f2581934d02f38d7d89486fd3c28', 'message': ""WIP - Deploy and Configure ARA for Undercloud\n\nThis is probably not the way to do it (or maybe yes?) but anyway, it's a\nPoC of deploying ARA and visualize Ansible tasks run by TripleO itself\n(in THT) for both the containerized undercloud and overcloud.\n\nChange-Id: Id7eb3a85ba85be93457a1fe85e55b6eb1d713397\n""}, {'number': 3, 'created': '2018-05-02 11:59:53.000000000', 'files': ['roles/undercloud-deploy/tasks/main.yml', 'roles/undercloud-deploy/tasks/ara.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/afc16be505707d193c38d432e3927d2c1925f0ef', 'message': ""WIP - Deploy and Configure ARA for Undercloud\n\nThis is probably not the way to do it (or maybe yes?) but anyway, it's a\nPoC of deploying ARA and visualize Ansible tasks run by TripleO itself\n(in THT) for both the containerized undercloud and overcloud.\n\nChange-Id: Id7eb3a85ba85be93457a1fe85e55b6eb1d713397\n""}]",0,565052,afc16be505707d193c38d432e3927d2c1925f0ef,15,7,3,3153,,,0,"WIP - Deploy and Configure ARA for Undercloud

This is probably not the way to do it (or maybe yes?) but anyway, it's a
PoC of deploying ARA and visualize Ansible tasks run by TripleO itself
(in THT) for both the containerized undercloud and overcloud.

Change-Id: Id7eb3a85ba85be93457a1fe85e55b6eb1d713397
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/52/565052/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/tasks/main.yml', 'roles/undercloud-deploy/tasks/ara.yml']",2,ac72749de3aa11d9d42b6adaa6b62a9b0e2a266f,ara,"--- - name: Install pip easy_install: name: pip state: present become: true - name: Install ARA pip: name: ara become: true - name: Configure Ansible callback plugins for ARA ini_file: path: /etc/ansible/ansible.cfg section: defaults option: callback_plugins value: /usr/lib/python2.7/site-packages/ara/plugins/callbacks create: yes become: true - name: Configure Ansible directory for ARA ini_file: path: /etc/ansible/ansible.cfg section: ara option: dir value: ""{{ local_working_dir }}/.ara"" create: yes become: true - name: Configure Ansible database for ARA ini_file: path: /etc/ansible/ansible.cfg section: ara option: database value: ""sqlite:///{{ local_working_dir }}/.ara/ansible.sqlite"" create: yes become: true ",,42,0
openstack%2Ftripleo-ci~master~Ie69bb0aa1fb9dbf838d62f6f976024b03f9b4b9a,openstack/tripleo-ci,master,Ie69bb0aa1fb9dbf838d62f6f976024b03f9b4b9a,DNM - install ara,ABANDONED,2018-04-29 00:40:30.000000000,2018-05-22 16:08:50.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-29 00:40:30.000000000', 'files': ['toci_gate_test-oooq.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a6731c921d49f7d22a894cff8f36b3eced7c9ea5', 'message': 'DNM - install ara\n\nChange-Id: Ie69bb0aa1fb9dbf838d62f6f976024b03f9b4b9a\n'}]",0,565048,a6731c921d49f7d22a894cff8f36b3eced7c9ea5,7,3,1,3153,,,0,"DNM - install ara

Change-Id: Ie69bb0aa1fb9dbf838d62f6f976024b03f9b4b9a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/48/565048/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test-oooq.sh'],1,a6731c921d49f7d22a894cff8f36b3eced7c9ea5,ara,sudo pip install ara ,,2,0
openstack%2Ftripleo-ci~master~Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476,openstack/tripleo-ci,master,Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476,turn on container updates for containerized undercloud,ABANDONED,2018-04-07 16:59:28.000000000,2018-05-22 16:08:31.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-07 16:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/08c549e9e89c39256ed43a40a99923e1ee68d1cc', 'message': 'turn on container updates for containerized undercloud\n\nChange-Id: Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476\n'}, {'number': 2, 'created': '2018-04-18 09:44:32.000000000', 'files': ['toci-quickstart/config/testenv/multinode.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/09ac0ccad316d87f73c590faad6f6608106fd752', 'message': 'turn on container updates for containerized undercloud\n\nChange-Id: Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476\n'}]",2,559492,09ac0ccad316d87f73c590faad6f6608106fd752,22,6,2,3153,,,0,"turn on container updates for containerized undercloud

Change-Id: Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/92/559492/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/multinode.yml'],1,08c549e9e89c39256ed43a40a99923e1ee68d1cc,undercloud/cont/update,"update_containers: ""{% if containerized_overcloud|bool or containerized_undercloud|bool %}true{% endif %}""","update_containers: ""{% if containerized_overcloud|bool %}true{% endif %}""",1,1
openstack%2Ftripleo-quickstart-extras~master~I01c273af7a30855ee87776556f6a40db01cc14b2,openstack/tripleo-quickstart-extras,master,I01c273af7a30855ee87776556f6a40db01cc14b2,Enable support for container updates on undercloud,ABANDONED,2018-04-07 00:51:26.000000000,2018-05-22 16:08:09.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-07 00:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a2b7268256f5d0a9f8640af3b740e73ad9b478ad', 'message': 'Enable support for container updates on undercloud\n\nLike we did on the overcloud, enable the container updates, useful to\ntest changes on the fly that need updates within the containers.\n\nDepends-On: I8868bf6974fdf268b9deed84c69ff0479df3f080\nChange-Id: I01c273af7a30855ee87776556f6a40db01cc14b2\n'}, {'number': 2, 'created': '2018-04-07 04:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/68aa4b120ba5f277b5fda0899dcc3ec30801ed29', 'message': 'Enable support for container updates on undercloud\n\nLike we did on the overcloud, enable the container updates, useful to\ntest changes on the fly that need updates within the containers.\n\nDepends-On: I8868bf6974fdf268b9deed84c69ff0479df3f080\nChange-Id: I01c273af7a30855ee87776556f6a40db01cc14b2\n'}, {'number': 3, 'created': '2018-04-07 16:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/efd0ef1b271f2795292b944a426e2fadbd86d03d', 'message': 'Enable support for container updates on undercloud\n\nLike we did on the overcloud, enable the container updates, useful to\ntest changes on the fly that need updates within the containers.\n\nDepends-On: Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476\nChange-Id: I01c273af7a30855ee87776556f6a40db01cc14b2\n'}, {'number': 4, 'created': '2018-04-13 13:24:22.000000000', 'files': ['roles/undercloud-deploy/README.md', 'roles/undercloud-deploy/templates/undercloud-prep-containers.sh.j2', 'roles/undercloud-deploy/tasks/undercloud-prep-containers.yml', 'roles/undercloud-deploy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/570f5e3e7dadd81ca110d98e49f7ecd875b5ffb2', 'message': 'Enable support for container updates on undercloud\n\nLike we did on the overcloud, enable the container updates, useful to\ntest changes on the fly that need updates within the containers.\n\nDepends-On: Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I01c273af7a30855ee87776556f6a40db01cc14b2\n'}]",3,559451,570f5e3e7dadd81ca110d98e49f7ecd875b5ffb2,26,8,4,3153,,,0,"Enable support for container updates on undercloud

Like we did on the overcloud, enable the container updates, useful to
test changes on the fly that need updates within the containers.

Depends-On: Iac1b0f74a754a64cf7eaab2f7cb6d2da58e41476
Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I01c273af7a30855ee87776556f6a40db01cc14b2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/51/559451/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/README.md', 'roles/undercloud-deploy/templates/undercloud-prep-containers.sh.j2', 'roles/undercloud-deploy/defaults/main.yml']",3,a2b7268256f5d0a9f8640af3b740e73ad9b478ad,undercloud/cont/update, update_containers: false container_process_count: 8,,34,0
openstack%2Fswift~feature%2Fdeep~I720a1ce5cd3433c16cf89aab21034bb4a9002626,openstack/swift,feature/deep,I720a1ce5cd3433c16cf89aab21034bb4a9002626,Do Not Merge - deleted root could delete shards,ABANDONED,2017-10-19 18:15:48.000000000,2018-05-22 15:04:08.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-19 18:15:48.000000000', 'files': ['swift/container/sharder.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e9f7d31eb00490af6eb19863682cf9d8c281afbe', 'message': ""Do Not Merge - deleted root could delete shards\n\nsome code for a deleted root to delete its shards in shard cycle\n\ndoesn't yet work because a deleted root is no longer enabled f\nor sharding since its sysmeta is erased\n\nChange-Id: I720a1ce5cd3433c16cf89aab21034bb4a9002626\n""}]",0,513464,e9f7d31eb00490af6eb19863682cf9d8c281afbe,4,2,1,7847,,,0,"Do Not Merge - deleted root could delete shards

some code for a deleted root to delete its shards in shard cycle

doesn't yet work because a deleted root is no longer enabled f
or sharding since its sysmeta is erased

Change-Id: I720a1ce5cd3433c16cf89aab21034bb4a9002626
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/513464/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/sharder.py', 'swift/common/internal_client.py']",2,e9f7d31eb00490af6eb19863682cf9d8c281afbe,p-sharding-root-deletes-shards," return self.make_request('DELETE', path, {}, acceptable_statuses)"," self.make_request('DELETE', path, {}, acceptable_statuses)",29,1
openstack%2Fswift~feature%2Fdeep~I0c66c4ad223a047b33406281b224cb285ca498de,openstack/swift,feature/deep,I0c66c4ad223a047b33406281b224cb285ca498de,Fix deadlock post cleave,ABANDONED,2018-05-01 22:37:39.000000000,2018-05-22 15:03:17.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-01 22:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/60f5f9811efff4a8db814f94ec8f79ded4ec90c6', 'message': 'Fix deadlock post cleave\n\nThe replicator does a reclaim before it does replication, when the\ncleave populates a shard db it might have some rows to reclaim.  During\nthe call stack of shard_broker.reclaim we can get a dead lock while\ntrying to call get_info to service the path property before having\ncalled commit to finish the DELETE in reclaim.\n\nWhen we hit the deadlock the transaction remains uncommited and we make\nno progress.\n\nChange-Id: I0c66c4ad223a047b33406281b224cb285ca498de\n'}, {'number': 2, 'created': '2018-05-03 01:44:46.000000000', 'files': ['test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7202fb1a4aa5ae1864d20c4d084d9fb9fc5a08f2', 'message': 'Fix deadlock post cleave\n\nThe replicator does a reclaim before it does replication, when the\ncleave populates a shard db it might have some rows to reclaim.  During\nthe call stack of shard_broker.reclaim we can get a dead lock while\ntrying to call get_info to service the path property before having\ncalled commit to finish the DELETE in reclaim.\n\nWhen we hit the deadlock the transaction remains uncommited and we make\nno progress.\n\nChange-Id: I0c66c4ad223a047b33406281b224cb285ca498de\n'}]",0,565603,7202fb1a4aa5ae1864d20c4d084d9fb9fc5a08f2,7,2,2,1179,,,0,"Fix deadlock post cleave

The replicator does a reclaim before it does replication, when the
cleave populates a shard db it might have some rows to reclaim.  During
the call stack of shard_broker.reclaim we can get a dead lock while
trying to call get_info to service the path property before having
called commit to finish the DELETE in reclaim.

When we hit the deadlock the transaction remains uncommited and we make
no progress.

Change-Id: I0c66c4ad223a047b33406281b224cb285ca498de
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/565603/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/db_replicator.py'],1,60f5f9811efff4a8db814f94ec8f79ded4ec90c6,, info = broker.get_replication_info(), info = broker.get_replication_info(),1,1
openstack%2Fdjango_openstack_auth~stable%2Fpike~I03f9eddb61ac8747a275561d4d94b3a9e9ac5242,openstack/django_openstack_auth,stable/pike,I03f9eddb61ac8747a275561d4d94b3a9e9ac5242,Remove tox_install.sh usage,MERGED,2018-05-17 04:29:45.000000000,2018-05-22 15:01:56.000000000,2018-05-22 15:01:56.000000000,"[{'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 8478}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 04:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/bc1132744e4499b2a72f04a5dea69d254f2abe7b', 'message': ""Remove tox_install.sh usage\n\nThere is no need to use tox_install.sh in the new CI environment.\nupper-constraints file can be specified in 'deps' in tox.ini.\n\nThis fixes build-openstack-sphinx-docs gate failure.\n\nChange-Id: I03f9eddb61ac8747a275561d4d94b3a9e9ac5242\n""}, {'number': 2, 'created': '2018-05-17 09:57:33.000000000', 'files': ['tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/b25c1150e54b8c3794b3fba092d61301bfe57fd1', 'message': ""Remove tox_install.sh usage\n\nThere is no need to use tox_install.sh in the new CI environment.\nupper-constraints file can be specified in 'deps' in tox.ini.\n\nThis fixes build-openstack-sphinx-docs gate failure.\n\nChange-Id: I03f9eddb61ac8747a275561d4d94b3a9e9ac5242\n""}]",1,569010,b25c1150e54b8c3794b3fba092d61301bfe57fd1,13,5,2,841,,,0,"Remove tox_install.sh usage

There is no need to use tox_install.sh in the new CI environment.
upper-constraints file can be specified in 'deps' in tox.ini.

This fixes build-openstack-sphinx-docs gate failure.

Change-Id: I03f9eddb61ac8747a275561d4d94b3a9e9ac5242
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/10/569010/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'tox.ini']",2,bc1132744e4499b2a72f04a5dea69d254f2abe7b,fix-docs-gate,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} {opts} {packages}deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,33
openstack%2Fswift~feature%2Fdeep~I73a3822e5bb1b27bd9d1a8760ec68b42b0fe5530,openstack/swift,feature/deep,I73a3822e5bb1b27bd9d1a8760ec68b42b0fe5530,WIP alternative strategy when replicating sharding to missing,ABANDONED,2018-02-16 16:52:10.000000000,2018-05-22 15:01:52.000000000,,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 13052}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-16 16:52:10.000000000', 'files': ['test/unit/container/test_replicator.py', 'swift/common/db_replicator.py', 'swift/container/replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c13a999abdbe4ed56e63093a157cf7fef10f5733', 'message': ""WIP alternative strategy when replicating sharding to missing\n\nTODO: tests have not all been updated\n not sure why the hash.db does not consider itself sync'd in the\n updated test, so does usync of its objects to the remote shard db\n - that is not the intention!\n\nChange-Id: I73a3822e5bb1b27bd9d1a8760ec68b42b0fe5530\n""}]",1,545385,c13a999abdbe4ed56e63093a157cf7fef10f5733,6,4,1,7847,,,0,"WIP alternative strategy when replicating sharding to missing

TODO: tests have not all been updated
 not sure why the hash.db does not consider itself sync'd in the
 updated test, so does usync of its objects to the remote shard db
 - that is not the intention!

Change-Id: I73a3822e5bb1b27bd9d1a8760ec68b42b0fe5530
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/545385/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_replicator.py', 'swift/common/db_replicator.py', 'swift/container/replicator.py']",3,c13a999abdbe4ed56e63093a157cf7fef10f5733,p-sharding-replication, existing = db_replicator.get_db_files(db_path) if not existing: return False return existing[-1] >= db_path if len(args) > 10: remote_info['db_file'] = args[10], return db_replicator.get_db_files(db_path),33,27
openstack%2Fdevstack-plugin-ceph~master~I4884a8e63c04451e83eb7a104ad7eb7d520b0921,openstack/devstack-plugin-ceph,master,I4884a8e63c04451e83eb7a104ad7eb7d520b0921,rgw/keystone: disable the NSS db integration by default,MERGED,2018-05-21 16:20:33.000000000,2018-05-22 14:54:11.000000000,2018-05-22 14:54:11.000000000,"[{'_account_id': 6984}, {'_account_id': 9236}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 16:20:33.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/24c8bd8d3808fd5037a2e32f8124d8845aa8c972', 'message': 'rgw/keystone: disable the NSS db integration by default\n\nThe integration with keystone through the PKI tokens (which is removed\nanyway since Ocata) and SSL is now disabled by default, and enabled\nonly if a new variable (CEPH_RGW_KEYSTONE_SSL) is explicitely set\nto True.\n\nChange-Id: I4884a8e63c04451e83eb7a104ad7eb7d520b0921\n'}]",5,569823,24c8bd8d3808fd5037a2e32f8124d8845aa8c972,10,4,1,10459,,,0,"rgw/keystone: disable the NSS db integration by default

The integration with keystone through the PKI tokens (which is removed
anyway since Ocata) and SSL is now disabled by default, and enabled
only if a new variable (CEPH_RGW_KEYSTONE_SSL) is explicitely set
to True.

Change-Id: I4884a8e63c04451e83eb7a104ad7eb7d520b0921
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/23/569823/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,24c8bd8d3808fd5037a2e32f8124d8845aa8c972,rgw-disable-nss-by-default,"CEPH_RGW_KEYSTONE_SSL=$(trueorfalse False CEPH_RGW_KEYSTONE_SSL) if [ ""$CEPH_RGW_KEYSTONE_SSL"" = ""True"" ]; then cat <<EOF | sudo tee -a ${CEPH_CONF_FILE}>/dev/null nss db path = ${dest}/nss EOF else cat <<EOF | sudo tee -a ${CEPH_CONF_FILE}>/dev/null rgw keystone verify ssl = false EOF fi if [ ""$CEPH_RGW_KEYSTONE_SSL"" = ""True"" ]; then # radosgw needs to access keystone's revocation list sudo mkdir -p ${dest}/nss sudo openssl x509 -in /etc/keystone/ssl/certs/ca.pem -pubkey | \ sudo certutil -d ${dest}/nss -A -n ca -t ""TCu,Cu,Tuw"" sudo openssl x509 -in /etc/keystone/ssl/certs/signing_cert.pem -pubkey | \ sudo certutil -A -d ${dest}/nss -n signing_cert -t ""P,P,P"" fi"," nss db path = ${dest}/nss # radosgw needs to access keystone's revocation list sudo mkdir -p ${dest}/nss sudo openssl x509 -in /etc/keystone/ssl/certs/ca.pem -pubkey | \ sudo certutil -d ${dest}/nss -A -n ca -t ""TCu,Cu,Tuw"" sudo openssl x509 -in /etc/keystone/ssl/certs/signing_cert.pem -pubkey | \ sudo certutil -A -d ${dest}/nss -n signing_cert -t ""P,P,P""",20,7
openstack%2Fcharm-manila-generic~master~If8cb2ae0517d2bd26d016f0655b87fd818bdc2ac,openstack/charm-manila-generic,master,If8cb2ae0517d2bd26d016f0655b87fd818bdc2ac,Enable Bionic as a gate test,MERGED,2018-05-08 19:00:14.000000000,2018-05-22 14:43:08.000000000,2018-05-22 14:43:08.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 19:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/7f66d22769893fd7212b401d7b85f7706418e2d7', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: If8cb2ae0517d2bd26d016f0655b87fd818bdc2ac\n'}, {'number': 2, 'created': '2018-05-14 16:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/a74f49deaee280da5f4d808a923e4f731de6a868', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: If8cb2ae0517d2bd26d016f0655b87fd818bdc2ac\n'}, {'number': 3, 'created': '2018-05-20 18:28:47.000000000', 'files': ['src/tox.ini', 'src/tests/basic_deployment.py', 'src/tests/gate-basic-bionic-queens', 'src/tests/gate-basic-xenial-queens'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/b1a0489f2edcde773d4f6b26b95dd1dac82672ad', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: If8cb2ae0517d2bd26d016f0655b87fd818bdc2ac\n'}]",0,566994,b1a0489f2edcde773d4f6b26b95dd1dac82672ad,20,4,3,20805,,,0,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: If8cb2ae0517d2bd26d016f0655b87fd818bdc2ac
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/94/566994/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tox.ini', 'src/tests/gate-basic-bionic-queens', 'src/tests/gate-basic-xenial-queens']",3,7f66d22769893fd7212b401d7b85f7706418e2d7,update-amulet-defs-bionic,"#!/usr/bin/env python """"""Amulet tests on a basic barbican deployment on xenial-queens for keystone v2. """""" from basic_deployment import ManilaGenericBasicDeployment if __name__ == '__main__': deployment = ManilaGenericBasicDeployment(series='xenial', keystone_version='2') deployment.run_tests() ",,11,1
openstack%2Fneutron~master~Ic9cbe4871c03990456072b44774edbcf183b20b5,openstack/neutron,master,Ic9cbe4871c03990456072b44774edbcf183b20b5,DNM: Test debugging ovsdb jsonrpc errors,ABANDONED,2017-12-05 22:07:00.000000000,2018-05-22 14:09:34.000000000,,"[{'_account_id': 5756}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-05 22:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c994aabf4a89bdc28890aa61b3e0cb2da0bdac6f', 'message': 'DNM: Test debugging ovsdb jsonrpc errors\n\nChange-Id: Ic9cbe4871c03990456072b44774edbcf183b20b5\n'}, {'number': 2, 'created': '2017-12-12 17:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f9a1d0392f674df37f2ed1ea53c687f89de65a1', 'message': 'DNM: Test debugging ovsdb jsonrpc errors\n\nChange-Id: Ic9cbe4871c03990456072b44774edbcf183b20b5\n'}, {'number': 3, 'created': '2017-12-15 19:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f34ef692d2b4e8c3e235b177d17aa9b12274283', 'message': 'DNM: Test debugging ovsdb jsonrpc errors\n\nChange-Id: Ic9cbe4871c03990456072b44774edbcf183b20b5\n'}, {'number': 4, 'created': '2017-12-15 22:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c23830273a6197e88163aa71de43b1c60fe194e', 'message': 'DNM: Test debugging ovsdb jsonrpc errors\n\nChange-Id: Ic9cbe4871c03990456072b44774edbcf183b20b5\n'}, {'number': 5, 'created': '2018-01-22 16:31:08.000000000', 'files': ['neutron/agent/common/ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c61858b1cfb1889252a20c34d20af07333f95865', 'message': 'DNM: Test debugging ovsdb jsonrpc errors\n\nChange-Id: Ic9cbe4871c03990456072b44774edbcf183b20b5\n'}]",0,525775,c61858b1cfb1889252a20c34d20af07333f95865,27,4,5,5756,,,0,"DNM: Test debugging ovsdb jsonrpc errors

Change-Id: Ic9cbe4871c03990456072b44774edbcf183b20b5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/525775/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/common/ovs_lib.py'],1,c994aabf4a89bdc28890aa61b3e0cb2da0bdac6f,525775," if cfg.CONF.OVS.ovsdb_interface == ""native"": import errno from ovs import jsonrpc class DebugConnection(jsonrpc.Connection): def error(self, error): if error == errno.EPROTO: LOG.warn(""OVS jsonrpc buffer: `%s`"" % self.output) super(DebugConnection, self).error(error) jsonrpc.Connection = DebugConnection ",,11,0
openstack%2Fkuryr-tempest-plugin~master~Iaff1f569e99a88a8d8ff81aa4e0c4c7bedb94585,openstack/kuryr-tempest-plugin,master,Iaff1f569e99a88a8d8ff81aa4e0c4c7bedb94585,Make `body` arg conditional when deleting service,MERGED,2018-05-22 09:16:47.000000000,2018-05-22 13:54:11.000000000,2018-05-22 13:54:11.000000000,"[{'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-05-22 09:16:47.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ea65d9617391a9a8cc4d928d9416165b5b598696', 'message': ""Make `body` arg conditional when deleting service\n\nkubernetes package in stable/queens is constrained to 4.0.0 version.\nThat version doesn't support `body` argument passed to\ndelete_namespaced_service and fails. This commit fixes that by making\npassing this argument conditional on kubernetes package version.\n\nChange-Id: Iaff1f569e99a88a8d8ff81aa4e0c4c7bedb94585\n""}]",0,569945,ea65d9617391a9a8cc4d928d9416165b5b598696,8,3,1,11600,,,0,"Make `body` arg conditional when deleting service

kubernetes package in stable/queens is constrained to 4.0.0 version.
That version doesn't support `body` argument passed to
delete_namespaced_service and fails. This commit fixes that by making
passing this argument conditional on kubernetes package version.

Change-Id: Iaff1f569e99a88a8d8ff81aa4e0c4c7bedb94585
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/45/569945/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,ea65d9617391a9a8cc4d928d9416165b5b598696,fix-stable-queens,"import kubernetes # FIXME(dulek): This is needed to support tempest plugin on # stable/queens as kubernetes package is constrainted to # 4.0.0 there and it doesn't accept ``body`` parameter. # Remove this once stable/queens becomes unsupported. if kubernetes.__version__ == '4.0.0': cls.k8s_client.CoreV1Api().delete_namespaced_service( name=service_name, namespace=namespace) else: delete_options = cls.k8s_client.V1DeleteOptions() cls.k8s_client.CoreV1Api().delete_namespaced_service( name=service_name, namespace=namespace, body=delete_options)"," delete_options = cls.k8s_client.V1DeleteOptions() cls.k8s_client.CoreV1Api().delete_namespaced_service( name=service_name, namespace=namespace, body=delete_options)",15,5
openstack%2Fkolla~stable%2Fqueens~I45b66277c31a4d0e33e0c14e01313aa688287ec7,openstack/kolla,stable/queens,I45b66277c31a4d0e33e0c14e01313aa688287ec7,Fix the ipmitool missing for ceilometer-ipmi image,MERGED,2018-05-16 04:51:56.000000000,2018-05-22 13:52:46.000000000,2018-05-22 13:52:46.000000000,"[{'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-05-16 04:51:56.000000000', 'files': ['docker/ceilometer/ceilometer-ipmi/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a18c251f24bc742b7faf4d89f1c4902e40b8ff90', 'message': 'Fix the ipmitool missing for ceilometer-ipmi image\n\nTo enable IPMI meters, ensure IPMITool is installed[0] and\nthe host supports Intel Node Manager.\n\n[0]: https://docs.openstack.org/ceilometer/latest/install/install-compute-rdo.html\nCo-Authored-By: caoyuan <cao.yuan@99cloud.net>\n\nChange-Id: I45b66277c31a4d0e33e0c14e01313aa688287ec7\nCloses-Bug: #1767750\n(cherry picked from commit 5695a6527082a686c56747551ef5e5bf07626b17)\n'}]",0,568740,a18c251f24bc742b7faf4d89f1c4902e40b8ff90,10,5,1,22165,,,0,"Fix the ipmitool missing for ceilometer-ipmi image

To enable IPMI meters, ensure IPMITool is installed[0] and
the host supports Intel Node Manager.

[0]: https://docs.openstack.org/ceilometer/latest/install/install-compute-rdo.html
Co-Authored-By: caoyuan <cao.yuan@99cloud.net>

Change-Id: I45b66277c31a4d0e33e0c14e01313aa688287ec7
Closes-Bug: #1767750
(cherry picked from commit 5695a6527082a686c56747551ef5e5bf07626b17)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/40/568740/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceilometer/ceilometer-ipmi/Dockerfile.j2'],1,a18c251f24bc742b7faf4d89f1c4902e40b8ff90,bug/1767750-stable/queens," {% set ceilometer_ipmi_packages = [ 'openstack-ceilometer-ipmi' ] %} {% set ceilometer_ipmi_packages = [ 'ceilometer-agent-ipmi' ] %}{% elif install_type == 'source' %} {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% set ceilometer_ipmi_packages = [ 'ipmitool' ] %} {% elif base_distro in ['debian', 'ubuntu'] %} {% set ceilometer_ipmi_packages = [ 'ipmitool' ] %} {% endif %}{{ macros.install_packages(ceilometer_ipmi_packages | customizable(""packages"")) }} "," {% set ceilometer_ipmi_packages = ['openstack-ceilometer-ipmi'] %} {% set ceilometer_ipmi_packages = ['ceilometer-agent-ipmi'] %}{{ macros.install_packages(ceilometer_ipmi_packages | customizable(""packages"")) }}",18,3
openstack%2Fmonasca-api~master~I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499,openstack/monasca-api,master,I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499,Add architecture diagram,MERGED,2018-05-04 11:40:54.000000000,2018-05-22 13:43:26.000000000,2018-05-22 13:43:26.000000000,"[{'_account_id': 6547}, {'_account_id': 12542}, {'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 16323}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26702}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-05-04 11:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/faea275318f8e5f324b97fd5d205c9c83e12417e', 'message': 'Add architecture diagram\n\n* list Monasca repositories\n\nTask: 14430\nStory: 2001912\n\nChange-Id: I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499\n'}, {'number': 2, 'created': '2018-05-04 12:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/939e57651a6b08257a7afba06a06ac9599001a2e', 'message': 'Add architecture diagram\n\n* list Monasca repositories\n\nTask: 14430\nStory: 2001912\n\nChange-Id: I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499\n'}, {'number': 3, 'created': '2018-05-08 07:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/6901f4e743a00601e765b41e62e3997073b417ad', 'message': 'Add architecture diagram\n\n* list Monasca repositories\n\nTask: 14430\nStory: 2001912\n\nChange-Id: I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499\n'}, {'number': 4, 'created': '2018-05-08 12:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/80a677db9ce7cc041b0724bc341b48f001d9277b', 'message': 'Add architecture diagram\n\n* list Monasca repositories\n\nTask: 14430\nStory: 2001912\n\nChange-Id: I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499\n'}, {'number': 5, 'created': '2018-05-09 13:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/3e27a044647fb0c82cdeb09639210e925b526393', 'message': 'Add architecture diagram\n\n* list Monasca repositories\n\nTask: 14430\nStory: 2001912\n\nChange-Id: I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499\n'}, {'number': 6, 'created': '2018-05-09 13:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/46421cef0fd2480197cc9352129864fd9132b59a', 'message': 'Add architecture diagram\n\n* list Monasca repositories\n\nTask: 14430\nStory: 2001912\n\nChange-Id: I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499\n'}, {'number': 7, 'created': '2018-05-09 14:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/442cd2b79e8c338158ba3fd7adaa0cecf5d83076', 'message': 'Add architecture diagram\n\n* list Monasca repositories\n\nTask: 14430\nStory: 2001912\n\nChange-Id: I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499\n'}, {'number': 8, 'created': '2018-05-18 07:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/9d3765223224882ce1172965db875d8f50c97578', 'message': 'Add architecture diagram\n\n* list Monasca repositories\n\nTask: 14430\nStory: 2001912\n\nChange-Id: I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499\n'}, {'number': 9, 'created': '2018-05-22 13:25:25.000000000', 'files': ['doc/source/index.rst', 'doc/source/_static/images/architecture.png', 'doc/source/_static/images/architecture.svg'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0970d81fd09226122d84ec669d69116ec283bd1d', 'message': 'Add architecture diagram\n\n* list Monasca repositories\n\nTask: 14430\nStory: 2001912\n\nChange-Id: I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499\n'}]",36,566293,0970d81fd09226122d84ec669d69116ec283bd1d,38,10,9,16222,,,0,"Add architecture diagram

* list Monasca repositories

Task: 14430
Story: 2001912

Change-Id: I40f3af3a1b4d3da25ac92cc2c0ca92f07d476499
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/93/566293/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/_static/images/architecture.png', 'doc/source/_static/images/architecture.svg']",3,faea275318f8e5f324b97fd5d205c9c83e12417e,docs,"<!DOCTYPE svg PUBLIC ""-//W3C//DTD SVG 1.1//EN"" ""http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd""> <svg xmlns=""http://www.w3.org/2000/svg"" xmlns:xlink=""http://www.w3.org/1999/xlink"" width=""1466px"" height=""857px"" version=""1.1"" content=""&lt;mxfile userAgent=&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0&quot; version=&quot;8.5.15&quot; editor=&quot;www.draw.io&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;d7575ba6-cd5f-27e4-5b59-254aadfe94a8&quot; name=&quot;Page-1&quot;&gt;7Vxbl5s2EP41Pqd9yB4kjIDHXa+3yWnSbs+mp82jbGRbCUaukPeSXx8Bko0MuNjmYm92XwyDJKT5Zj6NpGEH9mj5/BvHq8UnFpBwAK3geWDfDiAENgLyJ5G8ZBLXdTPBnNNAFdoKHuh3ooSWkq5pQGKjoGAsFHRlCqcsishUGDLMOXsyi81YaL51heekIHiY4lBLr5yt/B8aiIWSA+RvH7wndL5QL/egGuES68JqLPECB+wpJ7LHA3vEGRPZ1fJ5RMJEfVozup540d0Z2DcLsQzlDZCX6eO7isqgTmXZe04ikX9dVXvQglmVRxyudYsQhbLyTUAf5eVcpM1mognflcimjXI7veNsHQUkUL3b6Cq5mbFIPKiSwBxF+iizGoCSexqGIxYynjZqB5h4s2nSnuDsG8k9QVOPTGbyyZzjgEod5J65BCNibTr5SLggzztWslUb2EApvYCwJRH8RRZRFaA/zKooB4CuQvUpb0wWyoSLnCEhVRArE55v2t6iJC8UUFWggTfQjgDN2wENdQka8P2CokkgaUndRiySPzdb3VumemOBubhOyE8KpiGOYzr9vKCRfnRHQ12UREF5QfkgV+wrEeJFIYbXgkkR42LB5izC4UfGVhXAZsNI+r4fCDlUtubTDfer8cvOzokqB8sB4yTEgj6a7Z+kfP3ynMd8ksOMp1gKR2FidfLil9HHD7825A6rENPo3SR9XUGFiR1TOR9dh3Qugbld0iBIGmnCzF3bMcx8CIpWrj3BMHLnYD3/HRP+5+RrMkVDK8QTEmZV3zNOv7NoAEcltCT1ToUsEM1lpVscLyYM82AfNW1QzGZnE+LLBcrWoUD7QMnbHFYVPqLnsJyPxC+xIEspm5AUrwKYywxMshe/biESCXEVZxkr/SvOS7P0r2T2UYTcANAyrLTrQbuZfU4iO7cYHmzJ7nqect1lcxwArm34jlPiOwgWFTxsYjLRyBnh145C51Kjq8qRqoUNnuji1sHBzE4E6gzdggagVWJi3uHsUWJhxen0Akwqw61apSYdw5LosCE6LjGpIvdevkKBqVDQqUKLHPgHE3QmRytoEppY42hOJcNfrpa70aPTP9chvd7th+tqaOAMjcY5W67TU/erUmifXOfCgkI/LziJF8m+6CURXYWKuyE61D/RAQh6jepqqOAMrQadL9O5r1ChvTKdV1DoPeExjQXhF6zZbgiuhjG2TnDANYwH6ZHlNeA4RQ0Az2tCBTUiD2knq+Ry+hJSaT5cgvu0oII8rHC6lf3E8Wr/wccBdlc8Cxl545u74i7V7fXYuxtVnJGMr9HYasA63VOJ1C5DDjWCXDHEeUOuLnI1GLs15PyyvbITjiqPrjpi0YyWbWHfYsloOCY1d7DfrGzf7NUiAxSn/s6nr92jNdvzC67UXniuX3Zh0aR36qzSWkTkX+am636F9hme+yUHTySOk2wsaP21JmtSTuB4mVBmWLz7Hc++4Y3ILN5+RksfKHaDU41oqvWlwBCaZIr0eV03awH/bS2wxzwzCznPtUBpSPmGXD3k+lwLAL/sKKWPxcAnguM1J0uptniQZCHpJcCbGf2PGXVkKDV2og9JnpTj4i//JvIrAIda8CUVWBbSgnvCqexsgnPawvnkXGKFYkhm2wDn4BRMnd3eRwpmWciRuWYyVgNa9N+a6Qfv4lQL17KAHN/z9mEunVBnNt1/2Ov/2Xt+spxndyfn2ek2Ub3GCusgP36mInNjR919KXq45zk7Hj50anm4enveta32XftIX9ZJfr34slUjeD4dV2sXV5THFZw5rpqyp7KDaeRwJNA6aOoH6BrJL81MxBJOVA/Os5iIT0RVr2H6AbW96Mpg3vP6bKUxf+yVeN1WkHptlFkCkcoI7QSk0770+plBciu2RZsHSe98tA3Sq+U8lXbYCVbFz56PwgoYSKXAvT6sdDZoHiu/IoW8Bag6CiUumvvKor8O5ydgNxbD7660f4YFmU5CNNDzK3KXW0DvDL4+8y0zj6/TPGUIWvsio/Yhb9WOfPUe/r69+kqk8ogo4M8xkwKC1jLHLxmRHlMxICjL9j1svx2gsv32zxxH8Yzx5Ktw/WVJl1vsHRlAxWRxrEV0gnlz2zi2udUqJ3Zw5sFyadBx5ARfusMD9ufYIogMZx+iYTWiqpV7RlNP1NmFHryyHc9Bjmu7lgO8/Q1mXVZtbK2k0OxuzxzHNRvKhlloKDW3zUBrWmBjkSW8iPBfn1voM4ztuvJI09NfKBxielAnTulEKs0D9U1vtwkX2FfAQsj3XWmHCBxnebaP9nfsaMuTt9v/sJYV3/6nOnv8Aw==&lt;/diagram&gt;&lt;/mxfile&gt;""><defs><linearGradient x1=""0%"" y1=""0%"" x2=""0%"" y2=""100%"" id=""mx-gradient-dae8fc-1-7ea6e0-1-s-0""><stop offset=""0%"" style=""stop-color:#dae8fc""/><stop offset=""100%"" style=""stop-color:#7ea6e0""/></linearGradient></defs><g transform=""translate(0.5,0.5)""><rect x=""177"" y=""270"" width=""1106"" height=""60"" rx=""9"" ry=""9"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""177"" y=""270"" width=""1106"" height=""60"" rx=""9"" ry=""9"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><g transform=""translate(729.5,291.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""1"" height=""17"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;""><div><br /></div></div></div></foreignObject><text x=""0"" y=""17"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">&lt;div&gt;&lt;br&gt;&lt;/div&gt;</text></switch></g><rect x=""167"" y=""260"" width=""1106"" height=""60"" rx=""9"" ry=""9"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""167"" y=""260"" width=""1106"" height=""60"" rx=""9"" ry=""9"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><g transform=""translate(719.5,281.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""1"" height=""17"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;""><div><br /></div></div></div></foreignObject><text x=""0"" y=""17"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">&lt;div&gt;&lt;br&gt;&lt;/div&gt;</text></switch></g><path d=""M 710 112.37 L 710 243.63"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 710 107.12 L 712.33 114.12 L 710 112.37 L 707.67 114.12 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 710 248.88 L 707.67 241.88 L 710 243.63 L 712.33 241.88 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><rect x=""618"" y=""41"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""618"" y=""41"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><g transform=""translate(631.5,64.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""157"" height=""17"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;"">Monasca Client (CLI)</div></div></foreignObject><text x=""79"" y=""17"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">Monasca Client (CLI)</text></switch></g><rect x=""203"" y=""41"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""203"" y=""41"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><g transform=""translate(209.5,55.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""171"" height=""36"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;"">Horizon,<div>Monitoring Dashboard</div></div></div></foreignObject><text x=""86"" y=""26"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">Horizon,&lt;div&gt;Monitoring Dashboard&lt;/div&gt;</text></switch></g><rect x=""1046"" y=""0"" width=""184"" height=""106"" rx=""15.9"" ry=""15.9"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""1046"" y=""0"" width=""184"" height=""106"" rx=""15.9"" ry=""15.9"" fill=""#ffffff"" stroke=""#000000"" pointer-events=""none""/><g transform=""translate(1086.5,7.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""102"" height=""36"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;"">system being<div>monitored</div></div></div></foreignObject><text x=""51"" y=""26"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">[Not supported by viewer]</text></switch></g><rect x=""1056"" y=""51"" width=""162"" height=""41"" rx=""6.15"" ry=""6.15"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""1056"" y=""51"" width=""162"" height=""41"" rx=""6.15"" ry=""6.15"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><g transform=""translate(1077.5,62.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""119"" height=""17"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;"">Monasca Agent</div></div></foreignObject><text x=""60"" y=""17"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">Monasca Agent</text></switch></g><rect x=""197"" y=""567"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""197"" y=""567"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><rect x=""187"" y=""557"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""187"" y=""557"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><rect x=""177"" y=""547"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""177"" y=""547"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><g transform=""translate(196.5,570.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""145"" height=""17"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;"">Notification Engine</div></div></foreignObject><text x=""73"" y=""17"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">Notification Engine</text></switch></g><rect x=""504"" y=""567"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""504"" y=""567"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><rect x=""494"" y=""557"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""494"" y=""557"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><rect x=""484"" y=""547"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""484"" y=""547"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><g transform=""translate(507.5,570.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""136"" height=""17"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;"">Threshold Engine</div></div></foreignObject><text x=""68"" y=""17"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">Threshold Engine</text></switch></g><rect x=""1117"" y=""567"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""1117"" y=""567"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><rect x=""1107"" y=""557"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""1107"" y=""557"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><rect x=""1097"" y=""547"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""1097"" y=""547"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><g transform=""translate(1154.5,570.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""68"" height=""17"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;"">Persister</div></div></foreignObject><text x=""34"" y=""17"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">Persister</text></switch></g><path d=""M 20 719 C 20 673.67 155 673.67 155 719 L 155 819 C 155 864.33 20 864.33 20 819 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" transform=""translate(2,3)"" opacity=""0.25""/><path d=""M 20 719 C 20 673.67 155 673.67 155 719 L 155 819 C 155 864.33 20 864.33 20 819 Z"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 20 719 C 20 753 155 753 155 719"" fill=""none"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 10 709 C 10 663.67 145 663.67 145 709 L 145 809 C 145 854.33 10 854.33 10 809 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" transform=""translate(2,3)"" opacity=""0.25""/><path d=""M 10 709 C 10 663.67 145 663.67 145 709 L 145 809 C 145 854.33 10 854.33 10 809 Z"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 10 709 C 10 743 145 743 145 709"" fill=""none"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 0 699 C 0 653.67 135 653.67 135 699 L 135 799 C 135 844.33 0 844.33 0 799 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" transform=""translate(2,3)"" opacity=""0.25""/><path d=""M 0 699 C 0 653.67 135 653.67 135 699 L 135 799 C 135 844.33 0 844.33 0 799 Z"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 0 699 C 0 733 135 733 135 699"" fill=""none"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><g transform=""translate(31.5,711.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""72"" height=""75"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 73px; white-space: nowrap; overflow-wrap: normal; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;""><div><br /></div><div><br /></div>Config<div>Database</div></div></div></foreignObject><text x=""36"" y=""46"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">[Not supported by viewer]</text></switch></g><rect x=""638"" y=""409"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""638"" y=""409"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><rect x=""628"" y=""399"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""628"" y=""399"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><rect x=""618"" y=""389"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""618"" y=""389"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><g transform=""translate(648.5,403.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""122"" height=""36"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;"">Message Queue<div>&lt;&lt;Kafka&gt;&gt;</div></div></div></foreignObject><text x=""61"" y=""26"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">[Not supported by viewer]</text></switch></g><path d=""M 1328 716 C 1328 670.67 1463 670.67 1463 716 L 1463 816 C 1463 861.33 1328 861.33 1328 816 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" transform=""translate(2,3)"" opacity=""0.25""/><path d=""M 1328 716 C 1328 670.67 1463 670.67 1463 716 L 1463 816 C 1463 861.33 1328 861.33 1328 816 Z"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 1328 716 C 1328 750 1463 750 1463 716"" fill=""none"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 1318 706 C 1318 660.67 1453 660.67 1453 706 L 1453 806 C 1453 851.33 1318 851.33 1318 806 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" transform=""translate(2,3)"" opacity=""0.25""/><path d=""M 1318 706 C 1318 660.67 1453 660.67 1453 706 L 1453 806 C 1453 851.33 1318 851.33 1318 806 Z"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 1318 706 C 1318 740 1453 740 1453 706"" fill=""none"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 1308 696 C 1308 650.67 1443 650.67 1443 696 L 1443 796 C 1443 841.33 1308 841.33 1308 796 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" transform=""translate(2,3)"" opacity=""0.25""/><path d=""M 1308 696 C 1308 650.67 1443 650.67 1443 696 L 1443 796 C 1443 841.33 1308 841.33 1308 796 Z"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 1308 696 C 1308 730 1443 730 1443 696"" fill=""none"" stroke=""#6c8ebf"" stroke-miterlimit=""10"" pointer-events=""none""/><g transform=""translate(1309.5,708.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""131"" height=""75"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 131px; white-space: normal; overflow-wrap: normal; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;""><div><br /></div><div><br /></div>Measurements Database</div></div></foreignObject><text x=""66"" y=""46"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">[Not supported by viewer]</text></switch></g><path d=""M 294.78 112.37 L 294.04 243.63"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 294.81 107.12 L 297.1 114.13 L 294.78 112.37 L 292.44 114.1 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 294.01 248.88 L 291.71 241.87 L 294.04 243.63 L 296.38 241.9 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><rect x=""157"" y=""250"" width=""1106"" height=""60"" rx=""9"" ry=""9"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""157"" y=""250"" width=""1106"" height=""60"" rx=""9"" ry=""9"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><g transform=""translate(647.5,268.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""124"" height=""22"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;""><font style=""font-size: 20px"">Monasca API<br /></font></div></div></foreignObject><text x=""62"" y=""19"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">[Not supported by viewer]</text></switch></g><path d=""M 1137 92 L 1136.04 246.63"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 1136.01 251.88 L 1133.72 244.87 L 1136.04 246.63 L 1138.38 244.9 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 1376 662 L 1140.6 318.25"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 1137.63 313.92 L 1143.51 318.38 L 1140.6 318.25 L 1139.66 321.02 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 114.18 659.35 L 291.06 319.65"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 111.75 664.01 L 112.92 656.72 L 114.18 659.35 L 117.06 658.88 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 293.48 314.99 L 292.32 322.28 L 291.06 319.65 L 288.18 320.12 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 710 382.63 L 710 316.37"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 710 387.88 L 707.67 380.88 L 710 382.63 L 712.33 380.88 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 710 311.12 L 712.33 318.12 L 710 316.37 L 707.67 318.12 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 618 447.68 L 275.12 545.26"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 270.08 546.69 L 276.17 542.53 L 275.12 545.26 L 277.45 547.02 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 802 445.6 L 1182.84 545.39"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 1187.92 546.72 L 1180.56 547.2 L 1182.84 545.39 L 1181.74 542.69 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 670.65 458.35 L 580.65 542.65"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 674.48 454.76 L 670.97 461.25 L 670.65 458.35 L 667.78 457.85 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 576.82 546.24 L 580.33 539.75 L 580.65 542.65 L 583.52 543.15 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 485.5 614.28 L 140.94 746.72"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 490.4 612.4 L 484.7 617.09 L 485.5 614.28 L 483.03 612.73 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 136.04 748.6 L 141.74 743.91 L 140.94 746.72 L 143.41 748.27 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 135 703.11 L 263.73 615.58"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 268.08 612.63 L 263.6 618.49 L 263.73 615.58 L 260.97 614.63 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 1238.92 612 L 1322.66 666.53"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 1327.06 669.39 L 1319.92 667.53 L 1322.66 666.53 L 1322.47 663.62 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><rect x=""810"" y=""567"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""810"" y=""567"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><rect x=""800"" y=""557"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""800"" y=""557"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><rect x=""790"" y=""547"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""#000000"" stroke=""#000000"" transform=""translate(2,3)"" opacity=""0.25""/><rect x=""790"" y=""547"" width=""184"" height=""65"" rx=""9.75"" ry=""9.75"" fill=""url(#mx-gradient-dae8fc-1-7ea6e0-1-s-0)"" stroke=""#6c8ebf"" pointer-events=""none""/><g transform=""translate(813.5,570.5)""><switch><foreignObject style=""overflow:visible;"" pointer-events=""all"" width=""137"" height=""17"" requiredFeatures=""http://www.w3.org/TR/SVG11/feature#Extensibility""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display: inline-block; font-size: 16px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;""><div xmlns=""http://www.w3.org/1999/xhtml"" style=""display:inline-block;text-align:inherit;text-decoration:inherit;""><font style=""font-size: 16px"">Transform Engine</font></div></div></foreignObject><text x=""69"" y=""17"" fill=""#000000"" text-anchor=""middle"" font-size=""16px"" font-family=""Helvetica"" font-weight=""bold"">[Not supported by viewer]</text></switch></g><path d=""M 753.68 458.09 L 856.12 543.91"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 749.65 454.72 L 756.52 457.42 L 753.68 458.09 L 753.52 461 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 860.14 547.28 L 853.28 544.58 L 856.12 543.91 L 856.28 541 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 155 769 L 829.79 613.43"" fill=""none"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/><path d=""M 834.91 612.25 L 828.61 616.1 L 829.79 613.43 L 827.57 611.55 Z"" fill=""#000000"" stroke=""#000000"" stroke-miterlimit=""10"" pointer-events=""none""/></g></svg>",,49,27
openstack%2Ftripleo-upgrade~master~I6219178673b842014b3d6d34e71b588a1e343c35,openstack/tripleo-upgrade,master,I6219178673b842014b3d6d34e71b588a1e343c35,Set mon_max_pg_per_osd to 300 during ceph upgrade,MERGED,2018-05-18 19:35:57.000000000,2018-05-22 13:30:42.000000000,2018-05-22 11:54:12.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-18 19:35:57.000000000', 'files': ['templates/cephosd.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6b3ff54fda2b1513c18ec2b210a9305a6e3fc1b8', 'message': 'Set mon_max_pg_per_osd to 300 during ceph upgrade\n\nCeph Release 12.2.1 lowers the maximum number of PGs allowed for\neach OSD. The lower limit may cause the monitor to prematurely\nissue a HEALTH_WARN message. This change sets mon_max_pg_per_osd\nto 300 to match the pre-upgrade value.\n\nChange-Id: I6219178673b842014b3d6d34e71b588a1e343c35\n'}]",0,569506,6b3ff54fda2b1513c18ec2b210a9305a6e3fc1b8,9,6,1,18851,,,0,"Set mon_max_pg_per_osd to 300 during ceph upgrade

Ceph Release 12.2.1 lowers the maximum number of PGs allowed for
each OSD. The lower limit may cause the monitor to prematurely
issue a HEALTH_WARN message. This change sets mon_max_pg_per_osd
to 300 to match the pre-upgrade value.

Change-Id: I6219178673b842014b3d6d34e71b588a1e343c35
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/06/569506/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cephosd.yaml.j2'],1,6b3ff54fda2b1513c18ec2b210a9305a6e3fc1b8,ceph_set_max_pg_per_osd, CephConfigOverrides: mon_max_pg_per_osd: 300,,2,0
openstack%2Fsahara-extra~master~I2ba39c3d84bdd0b07e9fbe58ef0c8bc655c303ac,openstack/sahara-extra,master,I2ba39c3d84bdd0b07e9fbe58ef0c8bc655c303ac,Add support to build hadoop-3.0.1 related package,MERGED,2018-05-16 11:21:26.000000000,2018-05-22 13:26:20.000000000,2018-05-22 13:26:20.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 27576}]","[{'number': 1, 'created': '2018-05-16 11:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/c18a6e2e713690ae62eeb30f366298b41ed37ef0', 'message': 'Add support to build hadoop-3.0.0 related package\n\nChange-Id: I2ba39c3d84bdd0b07e9fbe58ef0c8bc655c303ac\n'}, {'number': 2, 'created': '2018-05-18 11:58:15.000000000', 'files': ['tools/build-oozie.sh', 'common-artifacts/hadoop-native-libs-3.0.1.tar.gz', 'tools/build-hadoop-openstack.sh', 'tools/build-all-artifacts.sh', 'hadoop-swiftfs/pom.xml', 'tools/oozie_core.patch'], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/c118e53a8e85ca93f3aa5e8f268c934f325c679a', 'message': 'Add support to build hadoop-3.0.1 related package\n\nChange-Id: I2ba39c3d84bdd0b07e9fbe58ef0c8bc655c303ac\n'}]",1,568814,c118e53a8e85ca93f3aa5e8f268c934f325c679a,24,4,2,27576,,,0,"Add support to build hadoop-3.0.1 related package

Change-Id: I2ba39c3d84bdd0b07e9fbe58ef0c8bc655c303ac
",git fetch https://review.opendev.org/openstack/sahara-extra refs/changes/14/568814/1 && git format-patch -1 --stdout FETCH_HEAD,"['common-artifacts/hadoop-native-libs-3.0.0.tar.gz', 'tools/build-oozie.sh', 'tools/build-hadoop-openstack.sh', 'tools/build-all-artifacts.sh', 'hadoop-swiftfs/pom.xml', 'tools/oozie_core.patch']",6,c18a6e2e713690ae62eeb30f366298b41ed37ef0,hadoop-3.0.1-related,"diff --git core/src/main/java/org/apache/oozie/util/db/FailingConnectionWrapper.java core/src/main/java/org/apache/oozie/util/db/FailingConnectionWrapper.java index 3b87cc9e760424758fa62436c87e218e3693349a..9e603ed03df516c8b08df9c7359a1aca57f4b796 100644 --- core/src/main/java/org/apache/oozie/util/db/FailingConnectionWrapper.java +++ core/src/main/java/org/apache/oozie/util/db/FailingConnectionWrapper.java @@ -20,8 +20,8 @@ package org.apache.oozie.util.db; import com.google.common.base.Preconditions; import com.google.common.base.Predicate; +import com.google.common.base.Strings; import com.google.common.collect.Sets; -import org.apache.directory.api.util.Strings; import org.apache.oozie.util.XLog; import javax.annotation.Nullable; @@ -354,7 +354,7 @@ public class FailingConnectionWrapper implements Connection { @Override public boolean apply(@Nullable String input) { - Preconditions.checkArgument(Strings.isNotEmpty(input)); + Preconditions.checkArgument(!Strings.isNullOrEmpty(input)); boolean isDmlStatement = false; for (final String dmlPrefix : DML_PREFIXES) { diff --git examples/pom.xml examples/pom.xml index 2bfc7c8b3fc3de4876c62d70f25bed35b886ece8..c13febc81cf5b26b4af90885787113e247ae7cb8 100644 --- examples/pom.xml +++ examples/pom.xml @@ -38,6 +38,12 @@ <scope>provided</scope> </dependency> + <dependency> + <groupId>org.apache.hadoop</groupId> + <artifactId>hadoop-common</artifactId> + <scope>provided</scope> + </dependency> + <dependency> <groupId>org.apache.hadoop</groupId> <artifactId>hadoop-minicluster</artifactId> diff --git sharelib/pig/pom.xml sharelib/pig/pom.xml index 5084b61affb58412730d176399582f1672765ab3..6619a0a82a218eff6aea1b30829bc0f5827790e6 100644 --- sharelib/pig/pom.xml +++ sharelib/pig/pom.xml @@ -107,6 +107,11 @@ <artifactId>hadoop-client</artifactId> <scope>provided</scope> </dependency> + <dependency> + <groupId>org.apache.hadoop</groupId> + <artifactId>hadoop-common</artifactId> + <scope>provided</scope> + </dependency> <dependency> <groupId>dk.brics.automaton</groupId> <artifactId>automaton</artifactId> diff --git sharelib/spark/src/main/java/org/apache/oozie/action/hadoop/SparkArgsExtractor.java sharelib/spark/src/main/java/org/apache/oozie/action/hadoop/SparkArgsExtractor.java index 2f3cfbe4dfa2c2015686d2f2ca09ec4de544f423..5af39cda52b403d8989fdd5d4f2524395a55580a 100644 --- sharelib/spark/src/main/java/org/apache/oozie/action/hadoop/SparkArgsExtractor.java +++ sharelib/spark/src/main/java/org/apache/oozie/action/hadoop/SparkArgsExtractor.java @@ -19,9 +19,9 @@ package org.apache.oozie.action.hadoop; import com.google.common.annotations.VisibleForTesting; +import com.google.common.base.Strings; import edu.umd.cs.findbugs.annotations.SuppressFBWarnings; import org.apache.commons.lang.StringUtils; -import org.apache.directory.api.util.Strings; import org.apache.hadoop.conf.Configuration; import org.apache.hadoop.filecache.DistributedCache; import org.apache.hadoop.fs.Path; @@ -424,7 +424,7 @@ class SparkArgsExtractor { private void addUserDefined(final String userList, final Map<String, URI> urisMap) { if (userList != null) { for (final String file : userList.split(OPT_VALUE_SEPARATOR)) { - if (!Strings.isEmpty(file)) { + if (!Strings.isNullOrEmpty(file)) { final Path p = new Path(file); urisMap.put(p.getName(), p.toUri()); } diff --git tools/src/main/java/org/apache/oozie/tools/OozieDBImportCLI.java tools/src/main/java/org/apache/oozie/tools/OozieDBImportCLI.java index 852940909619612d2d88d96fc54d9a95cebeffaa..f21fd3bde8cfdf2e5ed6f39f3533030d7a97cdbf 100644 --- tools/src/main/java/org/apache/oozie/tools/OozieDBImportCLI.java +++ tools/src/main/java/org/apache/oozie/tools/OozieDBImportCLI.java @@ -19,6 +19,7 @@ package org.apache.oozie.tools; import com.google.common.base.Charsets; +import com.google.common.base.Strings; import com.google.common.collect.Lists; import com.google.common.collect.Sets; import com.google.gson.Gson; @@ -26,7 +27,6 @@ import com.google.gson.Gson; import com.google.gson.JsonSyntaxException; import org.apache.commons.cli.Options; import org.apache.commons.cli.ParseException; -import org.apache.directory.api.util.Strings; import org.apache.oozie.BundleActionBean; import org.apache.oozie.BundleJobBean; import org.apache.oozie.CoordinatorActionBean; @@ -166,7 +166,7 @@ public class OozieDBImportCLI { } private static void setImportBatchSize() { - if (Strings.isNotEmpty(System.getProperty(OOZIE_DB_IMPORT_BATCH_SIZE_KEY))) { + if (!Strings.isNullOrEmpty(System.getProperty(OOZIE_DB_IMPORT_BATCH_SIZE_KEY))) { try { IMPORT_BATCH_SIZE = Integer.parseInt(System.getProperty(OOZIE_DB_IMPORT_BATCH_SIZE_KEY)); } diff --git webapp/pom.xml webapp/pom.xml index 797996912b6e6381b261a69f8eb1e012fe488fdf..67526d953cdb29af5e8e736046ed5b1514d41ecb 100644 --- webapp/pom.xml +++ webapp/pom.xml @@ -148,6 +148,12 @@ <artifactId>hadoop-client</artifactId> <scope>provided</scope> </dependency> + + <dependency> + <groupId>org.apache.hadoop</groupId> + <artifactId>hadoop-common</artifactId> + <scope>provided</scope> + </dependency> </dependencies> <build> ",,154,4
openstack%2Ftripleo-common~stable%2Fqueens~I4905c35fcd45ef0fe1845857020c7e1a44c8c3d6,openstack/tripleo-common,stable/queens,I4905c35fcd45ef0fe1845857020c7e1a44c8c3d6,Script to update RPM's in containers.,MERGED,2018-05-13 20:40:57.000000000,2018-05-22 13:10:57.000000000,2018-05-22 13:10:56.000000000,"[{'_account_id': 2011}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-13 20:40:57.000000000', 'files': ['scripts/container-update.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/40d737dd27124032821a99ffecc21bea99ef0c39', 'message': ""Script to update RPM's in containers.\n\nThis script was living in a github repo and is used during the CI\njob.  Moving it here so more people can review it.\n\nThis updates the RPM's in a container without having to rebuild\nthe whole thing.\n\nChange-Id: I4905c35fcd45ef0fe1845857020c7e1a44c8c3d6\n(cherry picked from commit deb8480163254edf6497ad6149be25c94d1db36f)\n""}]",0,568150,40d737dd27124032821a99ffecc21bea99ef0c39,43,9,1,10969,,,0,"Script to update RPM's in containers.

This script was living in a github repo and is used during the CI
job.  Moving it here so more people can review it.

This updates the RPM's in a container without having to rebuild
the whole thing.

Change-Id: I4905c35fcd45ef0fe1845857020c7e1a44c8c3d6
(cherry picked from commit deb8480163254edf6497ad6149be25c94d1db36f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/50/568150/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/container-update.py'],1,40d737dd27124032821a99ffecc21bea99ef0c39,565556-stable/queens,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import logging import multiprocessing import subprocess import sys import yaml import yum log = logging.getLogger() log.setLevel(logging.DEBUG) ch = logging.StreamHandler(sys.stdout) ch.setLevel(logging.DEBUG) formatter = logging.Formatter('%(asctime)s %(levelname)s: %(message)s') ch.setFormatter(formatter) log.addHandler(ch) def parse_opts(argv): parser = argparse.ArgumentParser(""Verify and possibly update rpms in "" ""containers"") parser.add_argument('-c', '--containers', required=True, help=""YAML File containing a list of containers to "" ""inspect."") parser.add_argument('-p', '--process-count', help=""Number of processes to use in the pool when "" ""running docker containers."", default=multiprocessing.cpu_count()) parser.add_argument('-u', '--update', action='store_true', help=""Run yum update in any containers that need "" ""updating."", default=False) opts = parser.parse_args(argv[1:]) return opts def rm_container(name): log.info('Removing container: %s' % name) subproc = subprocess.Popen(['/usr/bin/docker', 'rm', name], stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() if cmd_stdout: log.debug(cmd_stdout) if cmd_stderr and \ cmd_stderr != 'Error response from daemon: ' \ 'No such container: {}\n'.format(name): log.debug(cmd_stderr) def populate_container_rpms_list((container)): dcmd = ['/usr/bin/docker', 'run', '--user', 'root', '--rm', container] dcmd.extend(['rpm', '-qa']) log.info('Running docker command: %s' % ' '.join(dcmd)) subproc = subprocess.Popen(dcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() if subproc.returncode != 0: log.error('Failed running rpm -qa for %s' % container) log.error(cmd_stderr) rpms = cmd_stdout.split(""\n"") return (subproc.returncode, container, rpms) def yum_update_container((container, name)): container_name = 'yum-update-%s' % name rm_container(container_name) # Get the command from the original so that when we commit # we can ensure the command doesn't get updated. dcmd = ['/usr/bin/docker', 'inspect', '--format', '{{json .Config.Cmd}}', container] subproc = subprocess.Popen(dcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() container_cmd = cmd_stdout log.info('Original container command: %s' % container_cmd) dcmd = ['/usr/bin/docker', 'run', '--user', 'root', '--net', 'host', '--volume', '/etc/yum.repos.d:/etc/yum.repos.d', '--volume', '/opt:/opt', '--name', container_name, container] dcmd.extend(['yum', '-y', 'update']) retry_count = 1 while True: log.info('Running docker command: %s' % ' '.join(dcmd)) subproc = subprocess.Popen(dcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() log.info(cmd_stdout) if subproc.returncode != 0: log.error('Failed running yum update for %s; try number %d' % (container, retry_count)) log.error(cmd_stderr) rm_container(container_name) if retry_count >= 3: log.error('Tried %d times to update %s; giving up.' % (retry_count, container)) return (subproc.returncode, container) else: break retry_count += 1 dcmd = ['/usr/bin/docker', 'commit', '-m', 'automatic yum update', '--change', 'CMD %s' % container_cmd, container_name, container] log.info('Running docker command: %s' % ' '.join(dcmd)) subproc = subprocess.Popen(dcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() if subproc.returncode != 0: log.error('Failed running docker commit for %s' % container) log.error(cmd_stderr) dcmd = ['/usr/bin/docker', 'push', container] log.info('Running docker command: %s' % ' '.join(dcmd)) subproc = subprocess.Popen(dcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() if subproc.returncode != 0: log.error('Failed running docker push for %s' % container) log.error(cmd_stderr) rm_container(container_name) return (subproc.returncode, container) def get_available_rpms(): available_rpms = {} yb = yum.YumBase() yb.setCacheDir() pkglist = yb.pkgSack.returnPackages() for pkg in pkglist: # This gives us a string the same as rpm -qa available_rpms[pkg.name + '-' + pkg.vra] = 1 return available_rpms def get_container_list(container_file): with open(container_file) as cf: data = yaml.safe_load(cf.read()).get('container_images') if not data: return None container_list = [] for image_info in data: print('image_info: %s' % image_info) container_list.append(image_info['imagename']) return container_list if __name__ == '__main__': opts = parse_opts(sys.argv) # Get a list of all the docker containers we need to inspect. docker_containers = get_container_list(opts.containers) # Load up available rpms as a hash containing the latest versions of rpms. available_rpms = get_available_rpms() # Holds all the information for each process to consume. # Instead of starting them all linearly we run them using a process # pool. process_map = [] for container in docker_containers: process_map.append(container) # This is what we're after here, a hash keyed by containers, each entry # containing a list of rpms in that container. container_rpms = {} success = True # Fire off processes to perform each rpm list. p = multiprocessing.Pool(int(opts.process_count)) ret = list(p.map(populate_container_rpms_list, process_map)) for returncode, container, rpms in ret: container_rpms[container] = rpms if returncode != 0: log.error('ERROR running rpm query in container: %s' % container) success = False if not success: sys.exit(1) container_update_list = {} for container in container_rpms: for rpm in container_rpms[container]: if len(rpm) > 0 and not rpm.startswith('gpg-pubkey-') and \ rpm not in available_rpms: if container not in container_update_list: container_update_list[container] = [] container_update_list[container].append(rpm) for container in container_update_list: log.info(""Container needs updating: %s"" % container) for rpm in container_update_list[container]: log.info("" rpm: %s"" % rpm) log.info('*** %d of %d containers require updates ***' % (len(container_update_list), len(docker_containers))) # And finally update the containers if required if opts.update: process_map = [] name = 0 for container in container_update_list: process_map.append([container, str(name)]) name += 1 ret = list(p.map(yum_update_container, process_map)) for returncode, container in ret: if returncode != 0: log.error('ERROR running yum update in container %s' % container) success = False if not success: sys.exit(1) ",,253,0
openstack%2Fswift~master~I2f7d1bc698ff4c0734ab48eb29e252d6acb1abc6,openstack/swift,master,I2f7d1bc698ff4c0734ab48eb29e252d6acb1abc6,Remove exclude_states from get_shard_ranges,MERGED,2018-05-21 18:25:57.000000000,2018-05-22 13:04:30.000000000,2018-05-22 13:04:30.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 18:25:57.000000000', 'files': ['test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/cc565db75382fc092321c5f01d3c079187deae7a', 'message': 'Remove exclude_states from get_shard_ranges\n\nIt was never actually used -- YAGNI.\n\nChange-Id: I2f7d1bc698ff4c0734ab48eb29e252d6acb1abc6\n'}]",1,569840,cc565db75382fc092321c5f01d3c079187deae7a,7,3,1,15343,,,0,"Remove exclude_states from get_shard_ranges

It was never actually used -- YAGNI.

Change-Id: I2f7d1bc698ff4c0734ab48eb29e252d6acb1abc6
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/569840/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_backend.py', 'swift/container/backend.py']",2,cc565db75382fc092321c5f01d3c079187deae7a,," states=None, include_own=False, include_own=include_own,"," states=None, exclude_states=None, :param exclude_states: exclude rows matching the given state(s); can be an int or a list of ints; takes precedence over ``state``. excluded_states = prep_states(exclude_states) included_states -= excluded_states if excluded_states: conditions.append('state not in (%s)' % ','.join( '?' * len(excluded_states))) params.extend(excluded_states) exclude_states=None, include_own=False, :param exclude_states: exclude rows matching the given state(s); can be an int or a list of ints; takes precedence over ``state``. exclude_states=exclude_states, include_own=include_own,",3,39
openstack%2Ftripleo-heat-templates~master~Ibc673359cc7072b9d641b3a75d377211699c1285,openstack/tripleo-heat-templates,master,Ibc673359cc7072b9d641b3a75d377211699c1285,Rotate files from /var/log/containers hourly,ABANDONED,2018-05-22 08:42:49.000000000,2018-05-22 13:02:39.000000000,,"[{'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 08:42:49.000000000', 'files': ['docker/services/logrotate-crond.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a49fa5045e19a0d1d8e6d12f38a420cd69611360', 'message': 'Rotate files from /var/log/containers hourly\n\nAs we generally cannot access the Birth attribute of files,\nthe postrotate script currently purges *all* files in\n/var/log/containers, if there were *any* files rotated there.\nPuppet configures logrotate with a hourly execution scheduled\nvia cron, delayed randomly by a 0 to 90 seconds. This makes the\npostrotate script highly likely purging the world hourly.\n\nFor the default daily rotation interval, that becomes an issue\nfor the logfiles not reaching the default maxsize of a 10M.\nThose will be removed with each postrotate execution and lost\nw/o being rotated and compressed ever.\n\nTo mitigate that, make files hourly rotated by default,\nto match the schedule and granted (as the best effort though)\nto be rotated before the world is purged by postrotate.\n\nAlter the logrotate defaults:\n* rotation interval to a hourly,\n* rotate to a 24*14 = 336\n\nFollow ups I6f2f98aba103f83a4f64a435077f4de33f9692c0.\n\nChange-Id: Ibc673359cc7072b9d641b3a75d377211699c1285\nRelated-Bug: #1771543\n'}]",0,569938,a49fa5045e19a0d1d8e6d12f38a420cd69611360,7,5,1,6926,,,0,"Rotate files from /var/log/containers hourly

As we generally cannot access the Birth attribute of files,
the postrotate script currently purges *all* files in
/var/log/containers, if there were *any* files rotated there.
Puppet configures logrotate with a hourly execution scheduled
via cron, delayed randomly by a 0 to 90 seconds. This makes the
postrotate script highly likely purging the world hourly.

For the default daily rotation interval, that becomes an issue
for the logfiles not reaching the default maxsize of a 10M.
Those will be removed with each postrotate execution and lost
w/o being rotated and compressed ever.

To mitigate that, make files hourly rotated by default,
to match the schedule and granted (as the best effort though)
to be rotated before the world is purged by postrotate.

Alter the logrotate defaults:
* rotation interval to a hourly,
* rotate to a 24*14 = 336

Follow ups I6f2f98aba103f83a4f64a435077f4de33f9692c0.

Change-Id: Ibc673359cc7072b9d641b3a75d377211699c1285
Related-Bug: #1771543
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/569938/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/logrotate-crond.yaml'],1,a49fa5045e19a0d1d8e6d12f38a420cd69611360,bug/1771543," default: 'hourly' constraints: - allowed_values: [ 'hourly', 'daily', 'weekly', 'monthly' ] default: '336'"," default: 'daily' constraints: - allowed_values: [ 'daily', 'weekly', 'monthly' ] default: '14'",3,3
openstack%2Fmonasca-api~master~I5a1b36db1d03ba27633679cd9fdd3570157335cf,openstack/monasca-api,master,I5a1b36db1d03ba27633679cd9fdd3570157335cf,Update Monasca documentation page,MERGED,2018-04-25 12:49:45.000000000,2018-05-22 12:44:37.000000000,2018-05-22 12:44:37.000000000,"[{'_account_id': 12542}, {'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 16323}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-04-25 12:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/5ad0ec7769de02cb26c8c5f775578374b0ade3f8', 'message': 'Clean up not implemented doc content\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 2, 'created': '2018-04-25 13:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/929c3b34ad71f4672c59977bff671bca2feeffca', 'message': 'Clean up not implemented doc content\n\n* clean up index.rst\n* do not run tempest tests on documentation changes\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 3, 'created': '2018-04-25 13:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/8ed0f12523e710e391011f3209c660b99530ca2f', 'message': 'Clean up not implemented doc content\n\n* clean up index.rst\n* do not run tempest tests on documentation changes\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 4, 'created': '2018-04-25 13:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/5ce0a8a1ad0c66f3e4cc5474c92c8063ae068cd6', 'message': 'Clean up not implemented doc content\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 5, 'created': '2018-04-25 14:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/ef366615d83a76ce2a41f4c9ccb70cfb75297b9b', 'message': 'Clean up not implemented doc content\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 6, 'created': '2018-04-25 14:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/bde2a79c40058dca301cb95567d683b747bae218', 'message': 'Clean up not implemented doc content\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 7, 'created': '2018-05-02 12:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/cb45f9a990316654bacfcdf4bcb4c278eb82344b', 'message': 'Update Monasca documenation page\n\n* add introduction\n* remove empty references\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 8, 'created': '2018-05-02 14:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/41bd12ee2007c12ce8383bf142ebe23a6a7594f5', 'message': 'Update Monasca documenation page\n\n* add introduction\n* remove empty references\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 9, 'created': '2018-05-04 11:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0c4258582524ca43d27e3f7cd7b1ada5cd2c54c3', 'message': 'Update Monasca documenation page\n\n* add introduction\n* remove empty references\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 10, 'created': '2018-05-04 11:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/dd3de7556272e5dd59b58f3813f64e6b9349e07c', 'message': 'Update Monasca documenation page\n\n* add introduction\n* remove empty references\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 11, 'created': '2018-05-08 07:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/085c257ad273002dac4cc91e79a627a7d4b0a6e5', 'message': 'Update Monasca documenation page\n\n* add introduction\n* remove empty references\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 12, 'created': '2018-05-16 09:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/cd58124036d153e52a3e75e8212f78baeea43cc8', 'message': 'Update Monasca documentation page\n\n* add introduction\n* remove empty references\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}, {'number': 13, 'created': '2018-05-22 10:37:58.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/2822922d9fb8e0104392e0bdf86bdb770f7a6035', 'message': 'Update Monasca documentation page\n\n* add introduction\n* remove empty references\n\nChange-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf\nStory: 2001912\nTask: 14428\n'}]",20,564195,2822922d9fb8e0104392e0bdf86bdb770f7a6035,39,8,13,16222,,,0,"Update Monasca documentation page

* add introduction
* remove empty references

Change-Id: I5a1b36db1d03ba27633679cd9fdd3570157335cf
Story: 2001912
Task: 14428
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/95/564195/7 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'doc/source/index.rst', 'AUTHORS']",3,5ad0ec7769de02cb26c8c5f775578374b0ade3f8,docs,Jui Chandwaskar <jchandwaskar@op5.com>,,22,31
openstack%2Fswift~master~Ie3a583725b827270fb154d6e98df00ef360e517d,openstack/swift,master,Ie3a583725b827270fb154d6e98df00ef360e517d,Reclaim expired cleaving context metadata,NEW,2018-05-21 17:49:08.000000000,2018-05-22 12:41:31.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 17:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/970f156ccb0a8b8ec0d2f3c505c0515d2b51f71d', 'message': ""WIP Reclaim expired cleaving context metadata\n\ntodo: decide what to do about old but incomplete cleaving contexts\n\nSysmeta for CleavingContext's that have completed can be reclaimed\neventually.  Since there are not expected to be many of these sysmeta\nitems, there's no rush.\n\nChange-Id: Ie3a583725b827270fb154d6e98df00ef360e517d\n""}, {'number': 2, 'created': '2018-05-22 10:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/58476d7283736ac1ada43abb82a5b7c6366b42ae', 'message': ""Reclaim expired cleaving context metadata\n\nSysmeta for CleavingContext's that have completed can be reclaimed\neventually.\n\nSysmeta for CleavingContext's that have not completed ought to be\nreclaimed because they may relate to DB id's that no longer exist, but\nthey are left for a very long time before reclaiming. Note that no\ndata is lost if an old incomplete CleavingContext is erroneously\nexpired, but cleaving progress would be reset.\n\nChange-Id: Ie3a583725b827270fb154d6e98df00ef360e517d\n""}, {'number': 3, 'created': '2018-05-22 11:14:06.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/92c2e82b4bfdd41fe1c0fee63dd3bdd54b9a22e7', 'message': ""Reclaim expired cleaving context metadata\n\nSysmeta for CleavingContext's that have completed can be reclaimed\neventually.\n\nSysmeta for CleavingContext's that have not completed ought to be\nreclaimed because they may relate to DB id's that no longer exist, but\nthey are left for a very long time before reclaiming. Note that no\ndata is lost if an old incomplete CleavingContext is erroneously\nexpired, but cleaving progress would be reset.\n\nChange-Id: Ie3a583725b827270fb154d6e98df00ef360e517d\n""}]",1,569832,92c2e82b4bfdd41fe1c0fee63dd3bdd54b9a22e7,6,2,3,7847,,,0,"Reclaim expired cleaving context metadata

Sysmeta for CleavingContext's that have completed can be reclaimed
eventually.

Sysmeta for CleavingContext's that have not completed ought to be
reclaimed because they may relate to DB id's that no longer exist, but
they are left for a very long time before reclaiming. Note that no
data is lost if an old incomplete CleavingContext is erroneously
expired, but cleaving progress would be reset.

Change-Id: Ie3a583725b827270fb154d6e98df00ef360e517d
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/569832/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py']",4,970f156ccb0a8b8ec0d2f3c505c0515d2b51f71d,p-reclaim-cleaving," def get_sharding_sysmeta(self, key=None, with_timestamps=False): info = dict((k[len(prefix):], v if with_timestamps else v[0]) for"," def get_sharding_sysmeta(self, key=None): info = dict((k[len(prefix):], v[0]) for",192,35
openstack%2Fkolla~stable%2Fqueens~I8067ac07a5bf62dded8dc2ea2c2c74c2375ad3c5,openstack/kolla,stable/queens,I8067ac07a5bf62dded8dc2ea2c2c74c2375ad3c5,Update the explicty to explicitly,MERGED,2018-05-16 05:02:44.000000000,2018-05-22 12:38:27.000000000,2018-05-22 12:38:27.000000000,"[{'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-05-16 05:02:44.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a5581ae898c9318f2831751c4d6efb4257f08c8b', 'message': 'Update the explicty to explicitly\n\nfix a typo\n\nChange-Id: I8067ac07a5bf62dded8dc2ea2c2c74c2375ad3c5\n(cherry picked from commit f0c11d30e7c863d4df39fbaf7b93b0769a54e651)\n'}]",0,568744,a5581ae898c9318f2831751c4d6efb4257f08c8b,9,4,1,22165,,,0,"Update the explicty to explicitly

fix a typo

Change-Id: I8067ac07a5bf62dded8dc2ea2c2c74c2375ad3c5
(cherry picked from commit f0c11d30e7c863d4df39fbaf7b93b0769a54e651)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/568744/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,a5581ae898c9318f2831751c4d6efb4257f08c8b,, # NOTE(SamYaple): We explicitly check for the base folder to ensure, # NOTE(SamYaple): We explicty check for the base folder to ensure,1,1
openstack%2Fkolla~stable%2Fpike~I95cae6a9bf185d6f81126c42ac72d51b5ed659c2,openstack/kolla,stable/pike,I95cae6a9bf185d6f81126c42ac72d51b5ed659c2,Use immutable journal path rather than device name,MERGED,2018-05-08 05:59:41.000000000,2018-05-22 12:16:36.000000000,2018-05-22 12:16:36.000000000,"[{'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-05-08 05:59:41.000000000', 'files': ['docker/kolla-toolbox/find_disks.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2191d62144a35818b4f62840c89dac09a820d87c', 'message': 'Use immutable journal path rather than device name\n\nDevice name is mutable when removed or added disks. Use uuid path or\nlable is more robust.\n\nChange-Id: I95cae6a9bf185d6f81126c42ac72d51b5ed659c2\nCloses-Bug: #1710058\n(cherry picked from commit 2b01b054443097ba344fa00d1055dbce22e6b8ea)\n'}]",0,566785,2191d62144a35818b4f62840c89dac09a820d87c,9,5,1,7488,,,0,"Use immutable journal path rather than device name

Device name is mutable when removed or added disks. Use uuid path or
lable is more robust.

Change-Id: I95cae6a9bf185d6f81126c42ac72d51b5ed659c2
Closes-Bug: #1710058
(cherry picked from commit 2b01b054443097ba344fa00d1055dbce22e6b8ea)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/566785/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/find_disks.py'],1,2191d62144a35818b4f62840c89dac09a820d87c,bug/1710058-stable/pike,"PREFERRED_DEVICE_LINK_ORDER = [ '/dev/disk/by-uuid', '/dev/disk/by-partuuid', '/dev/disk/by-parttypeuuid', '/dev/disk/by-label', '/dev/disk/by-partlabel' ] def get_device_link(dev): for preferred_link in PREFERRED_DEVICE_LINK_ORDER: for link in dev.device_links: if link.startswith(preferred_link): return link return dev.device_node # NOTE(jeffrey4l): this is only used for bootstrap osd stage and # there is no journal partion at all. So it is OK to use # device_node directly. kwargs['journal'] = get_device_link(journal)", kwargs['journal'] = journal.device_node,21,1
openstack%2Ftripleo-quickstart~master~I0d5fc04f596787c77cac60656f52be76ac1b8829,openstack/tripleo-quickstart,master,I0d5fc04f596787c77cac60656f52be76ac1b8829,Mixed version R/Q deploy -- don't use config download,MERGED,2018-05-18 10:41:59.000000000,2018-05-22 12:13:43.000000000,2018-05-22 12:13:43.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 18846}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-18 10:41:59.000000000', 'files': ['config/general_config/featureset051.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a7dc4fa42459278eedc7ab09f3dd9048686e4af5', 'message': ""Mixed version R/Q deploy -- don't use config download\n\nThere has been an inventory and templates change in R undercloud,\nvariable rename from role_name to tripleo_role_name, to avoid\nconflicting with internal ansible vars. This makes the R undercloud\nconfig-download mechanisms incompatible with Q templates.\n\nUse --no-config-download when deploying Q OC with R UC to prevent\nhitting this issue.\n\nChange-Id: I0d5fc04f596787c77cac60656f52be76ac1b8829\nCloses-Bug: #1771997\n""}]",2,569381,a7dc4fa42459278eedc7ab09f3dd9048686e4af5,17,10,1,8042,,,0,"Mixed version R/Q deploy -- don't use config download

There has been an inventory and templates change in R undercloud,
variable rename from role_name to tripleo_role_name, to avoid
conflicting with internal ansible vars. This makes the R undercloud
config-download mechanisms incompatible with Q templates.

Use --no-config-download when deploying Q OC with R UC to prevent
hitting this issue.

Change-Id: I0d5fc04f596787c77cac60656f52be76ac1b8829
Closes-Bug: #1771997
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/81/569381/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset051.yml'],1,a7dc4fa42459278eedc7ab09f3dd9048686e4af5,bug/1771997, config_download_args: >- {% if overcloud_release is defined and overcloud_release in ['queens'] -%} --no-config-download {%- endif -%},,5,0
openstack%2Ftripleo-upgrade~master~I765a80a23267585bdbcc1450b071493d164a9089,openstack/tripleo-upgrade,master,I765a80a23267585bdbcc1450b071493d164a9089,Do not run nic template conversion on default tht location,MERGED,2018-05-17 21:41:25.000000000,2018-05-22 11:54:12.000000000,2018-05-22 11:54:12.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-17 21:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/be418309b3cada3b70b14b626dc25bb9f6ad1a39', 'message': 'WIP: Do not run nic template conversion on default tht location\n\nChange-Id: I765a80a23267585bdbcc1450b071493d164a9089\n'}, {'number': 2, 'created': '2018-05-17 21:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3796ed8a4d31f241d1720f35b1301de6437f893b', 'message': 'WIP: Do not run nic template conversion on default tht location\n\nDepends-On: Ia59230a30890104e93116ccbd433237492042cf8\n\nChange-Id: I765a80a23267585bdbcc1450b071493d164a9089\n'}, {'number': 3, 'created': '2018-05-18 01:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6d6daa5558435a66110de5e7f9a9760748af096f', 'message': ""Do not run nic template conversion on default tht location\n\nWhen the nic templates are stored under /usr/share/openstack-\ntripleo-heat-templates there's no need to run the nic conversion\nscript as they should already be updated in the tht package.\n\nDepends-On: Ia59230a30890104e93116ccbd433237492042cf8\n\nChange-Id: I765a80a23267585bdbcc1450b071493d164a9089\n""}, {'number': 4, 'created': '2018-05-18 14:49:45.000000000', 'files': ['tasks/common/convert_nic_templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/85eac0b7f404e435f72f6bf5d09e164fc5a305e0', 'message': ""Do not run nic template conversion on default tht location\n\nWhen the nic templates are stored under /usr/share/openstack-\ntripleo-heat-templates there's no need to run the nic conversion\nscript as they should already be updated in the tht package.\n\nDepends-On: Ia59230a30890104e93116ccbd433237492042cf8\n\nChange-Id: I765a80a23267585bdbcc1450b071493d164a9089\n""}]",10,569271,85eac0b7f404e435f72f6bf5d09e164fc5a305e0,19,8,4,18851,,,0,"Do not run nic template conversion on default tht location

When the nic templates are stored under /usr/share/openstack-
tripleo-heat-templates there's no need to run the nic conversion
script as they should already be updated in the tht package.

Depends-On: Ia59230a30890104e93116ccbd433237492042cf8

Change-Id: I765a80a23267585bdbcc1450b071493d164a9089
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/71/569271/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/convert_nic_templates.yaml'],1,be418309b3cada3b70b14b626dc25bb9f6ad1a39,fix_nic_adjustments," when: - ""item[0] == '/'"" - ""'/usr/share/openstack-tripleo-heat-templates' not in item"" when: - ""item[0] != '/'"" - ""'/usr/share/openstack-tripleo-heat-templates' not in '/'.join(nic_config_env.split('/')[0:-1])"""," when: ""item[0] == '/'"" when: ""item[0] != '/'""",6,2
openstack%2Ftripleo-heat-templates~stable%2Fpike~I1cd765b1998f059702f0c17ccb67d54f6d5db362,openstack/tripleo-heat-templates,stable/pike,I1cd765b1998f059702f0c17ccb67d54f6d5db362,Enhance completion message when upgrading non controller nodes,MERGED,2018-05-21 13:15:10.000000000,2018-05-22 11:54:11.000000000,2018-05-22 11:54:11.000000000,"[{'_account_id': 8449}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-21 13:15:10.000000000', 'files': ['extraconfig/tasks/tripleo_upgrade_node.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a7aa0c37c83d9a6259cf5ccad674aa24a4ad5bf', 'message': 'Enhance completion message when upgrading non controller nodes\n\nThis adds a better completion message when upgrading a non\ncontroller node.\n\nChange-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362\nCloses-Bug: 1703792\n(cherry picked from commit 7bf4edde5de2ab99824c9e8259a9ffa3307b9554)\n'}]",0,569793,4a7aa0c37c83d9a6259cf5ccad674aa24a4ad5bf,9,5,1,20775,,,0,"Enhance completion message when upgrading non controller nodes

This adds a better completion message when upgrading a non
controller node.

Change-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362
Closes-Bug: 1703792
(cherry picked from commit 7bf4edde5de2ab99824c9e8259a9ffa3307b9554)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/569793/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/tripleo_upgrade_node.sh'],1,4a7aa0c37c83d9a6259cf5ccad674aa24a4ad5bf,bug/1703792-stable/pike,"NODE_NAME=\$(cat /etc/hostname) log_debug ""$UPGRADE_SCRIPT has completed on \${NODE_NAME} - moving onto ansible playbooks"" echo ""---------------------------------------------------- The TripleO upgrade tasks has completed on \${NODE_NAME} Moving onto ansible playbooks ----------------------------------------------------""","log_debug ""$UPGRADE_SCRIPT has completed - moving onto ansible playbooks""",8,1
openstack%2Fmetalsmith~master~Iad754c6f4eea461f2859dc46892f2a705ebb6733,openstack/metalsmith,master,Iad754c6f4eea461f2859dc46892f2a705ebb6733,Additional checks on node sanity before attempting to deploy it,MERGED,2018-05-22 09:32:30.000000000,2018-05-22 11:20:52.000000000,2018-05-22 11:20:52.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 09:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/95f721627f00f0757f716c9f5bfacf79501a451e', 'message': 'Additional checks on node sanity before attempting to deploy it\n\nCheck that\n1. Maintenance is off\n2. Not reserved by something else\n\nIf the node is not reserved, reserve it now.\n\nChange-Id: Iad754c6f4eea461f2859dc46892f2a705ebb6733\n'}, {'number': 2, 'created': '2018-05-22 09:33:35.000000000', 'files': ['metalsmith/test/test_provisioner.py', 'metalsmith/_os_api.py', 'metalsmith/_provisioner.py', 'metalsmith/exceptions.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/c7dddc1f289dfa9578a65f7388e69bb47391fe58', 'message': 'Additional checks on node sanity before attempting to deploy it\n\nCheck that\n1. Maintenance is off\n2. Not reserved by something else\n\nIf the node is not reserved, reserve it now.\n\nChange-Id: Iad754c6f4eea461f2859dc46892f2a705ebb6733\n'}]",0,569947,c7dddc1f289dfa9578a65f7388e69bb47391fe58,7,2,2,10239,,,0,"Additional checks on node sanity before attempting to deploy it

Check that
1. Maintenance is off
2. Not reserved by something else

If the node is not reserved, reserve it now.

Change-Id: Iad754c6f4eea461f2859dc46892f2a705ebb6733
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/47/569947/2 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/_os_api.py', 'metalsmith/test/test_provisioner.py', 'metalsmith/_provisioner.py', 'metalsmith/exceptions.py']",4,95f721627f00f0757f716c9f5bfacf79501a451e,node-check," class InvalidNode(Error): """"""This node cannot be deployed onto.""""""",,120,7
openstack%2Fmonasca-agent~master~Ib9128eea00e4a8e611decf0c8190ffeae14dc27a,openstack/monasca-agent,master,Ib9128eea00e4a8e611decf0c8190ffeae14dc27a,Fix sample for ZooKeeper plugin,MERGED,2018-05-22 10:50:00.000000000,2018-05-22 11:09:24.000000000,2018-05-22 11:09:24.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 10:50:00.000000000', 'files': ['docs/Plugins.md'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/40ab64e0b85b296b9895471dd975a47f07da01cd', 'message': 'Fix sample for ZooKeeper plugin\n\nStory: 2002081\nTask: 19750\n\nChange-Id: Ib9128eea00e4a8e611decf0c8190ffeae14dc27a\n'}]",0,569955,40ab64e0b85b296b9895471dd975a47f07da01cd,6,3,1,16171,,,0,"Fix sample for ZooKeeper plugin

Story: 2002081
Task: 19750

Change-Id: Ib9128eea00e4a8e611decf0c8190ffeae14dc27a
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/55/569955/1 && git format-patch -1 --stdout FETCH_HEAD,['docs/Plugins.md'],1,40ab64e0b85b296b9895471dd975a47f07da01cd,doc-fix, - host: localhost, host: localhost,1,1
openstack%2Fcharm-neutron-dynamic-routing~master~Iceb43e44eecdc55e61541a90a40d044f881ca907,openstack/charm-neutron-dynamic-routing,master,Iceb43e44eecdc55e61541a90a40d044f881ca907,[WIP] debug gate,ABANDONED,2018-05-19 06:53:36.000000000,2018-05-22 11:05:35.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-19 06:53:36.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/3692ae3b6847ca56032a6e71561094c351466bd0', 'message': '[WIP] debug gate\n\nChange-Id: Iceb43e44eecdc55e61541a90a40d044f881ca907\n'}]",0,569561,3692ae3b6847ca56032a6e71561094c351466bd0,8,3,1,13686,,,0,"[WIP] debug gate

Change-Id: Iceb43e44eecdc55e61541a90a40d044f881ca907
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/61/569561/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,3692ae3b6847ca56032a6e71561094c351466bd0,wip-debug-gate,git+https://github.com/fnordahl/zaza.git@dragent-increase-verbosity#egg=zaza,git+https://github.com/openstack-charmers/zaza.git#egg=zaza,1,1
openstack%2Fcinder~master~I371e0f5b5876dcb276e133718ba78257f75da381,openstack/cinder,master,I371e0f5b5876dcb276e133718ba78257f75da381,Fix cinder-volume setup in block-box,MERGED,2018-05-21 20:47:24.000000000,2018-05-22 10:58:12.000000000,2018-05-22 03:56:55.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}, {'_account_id': 28289}]","[{'number': 1, 'created': '2018-05-21 20:47:24.000000000', 'files': ['contrib/block-box/scripts/lvm-service.sh'], 'web_link': 'https://opendev.org/openstack/cinder/commit/910f534382f9d0022ce739ad7a70c38db6d006d2', 'message': 'Fix cinder-volume setup in block-box\n\nChange-Id: I371e0f5b5876dcb276e133718ba78257f75da381\n'}]",0,569859,910f534382f9d0022ce739ad7a70c38db6d006d2,42,27,1,1736,,,0,"Fix cinder-volume setup in block-box

Change-Id: I371e0f5b5876dcb276e133718ba78257f75da381
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/569859/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/block-box/scripts/lvm-service.sh'],1,910f534382f9d0022ce739ad7a70c38db6d006d2,block-box-fix, apt-get update -y, apgt-get update -y,1,1
openstack%2Frally~master~I8c90f9383e3de387115b8cecf3403a34d8ef697f,openstack/rally,master,I8c90f9383e3de387115b8cecf3403a34d8ef697f,Update documentation link in README,ABANDONED,2018-05-21 08:45:06.000000000,2018-05-22 10:41:49.000000000,,"[{'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}, {'_account_id': 23317}]","[{'number': 1, 'created': '2018-05-21 08:45:06.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/2c0fa7bea3ff7f9507af7040ec28734ad3a52487', 'message': 'Update documentation link in README\n\nUpdate documentation link to the lastest one\nin README.rst.\n\nChange-Id: I8c90f9383e3de387115b8cecf3403a34d8ef697f\n'}]",0,569745,2c0fa7bea3ff7f9507af7040ec28734ad3a52487,7,4,1,23317,,,0,"Update documentation link in README

Update documentation link to the lastest one
in README.rst.

Change-Id: I8c90f9383e3de387115b8cecf3403a34d8ef697f
",git fetch https://review.opendev.org/openstack/rally refs/changes/45/569745/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2c0fa7bea3ff7f9507af7040ec28734ad3a52487,fix,* Documentation: https://docs.openstack.org/rally/latest/,* Documentation: https://rally.readthedocs.org/en/latest/,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ia76a0cc007abfdec6f25e1371eb696864f2925fd,openstack/tripleo-heat-templates,stable/queens,Ia76a0cc007abfdec6f25e1371eb696864f2925fd,"Expose Horizon ""DocumentRoot"" on host",MERGED,2018-05-04 10:27:27.000000000,2018-05-22 10:27:59.000000000,2018-05-22 10:27:59.000000000,"[{'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26828}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-05-04 10:27:27.000000000', 'files': ['docker/services/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b9f05b57f5b130e2af355e4769e69b010937422', 'message': 'Expose Horizon ""DocumentRoot"" on host\n\nThis will allow webroot plugin for Let\'s Encrypt to actually work.\nThe container has no need to write in this location.\n\nChange-Id: Ia76a0cc007abfdec6f25e1371eb696864f2925fd\nCloses-Bug: 1768519\n(cherry picked from commit 4f2c29e83fd7f96482b1f4a32e144b61d69d653f)\n'}]",0,566276,2b9f05b57f5b130e2af355e4769e69b010937422,34,7,1,26828,,,0,"Expose Horizon ""DocumentRoot"" on host

This will allow webroot plugin for Let's Encrypt to actually work.
The container has no need to write in this location.

Change-Id: Ia76a0cc007abfdec6f25e1371eb696864f2925fd
Closes-Bug: 1768519
(cherry picked from commit 4f2c29e83fd7f96482b1f4a32e144b61d69d653f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/566276/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/horizon.yaml'],1,2b9f05b57f5b130e2af355e4769e69b010937422,bug/1768519-stable/queens, - /var/www/:/var/www/:ro,,1,0
openstack%2Ftripleo-quickstart~master~I1467d3fc3d7874446374fd67c14d6e8de3f57d54,openstack/tripleo-quickstart,master,I1467d3fc3d7874446374fd67c14d6e8de3f57d54,Enable undercloud_enable_tempest to true,MERGED,2018-05-04 14:37:34.000000000,2018-05-22 10:27:58.000000000,2018-05-22 10:27:58.000000000,"[{'_account_id': 3153}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-04 14:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7b6ca9a7106ae2bcba73a0e98a3d9a8b2163be0d', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}, {'number': 2, 'created': '2018-05-04 16:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0717a657fe4969b2bac9e67964c62c4d16b4688a', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n\nDepends-On: https://review.openstack.org/#/c/566364/\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}, {'number': 3, 'created': '2018-05-07 08:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f93601e8618c55cf1ee569e54db4055a2d0836f8', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n\nDepends-On: https://review.openstack.org/#/c/566364/\nDepends-On: https://review.openstack.org/566526\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}, {'number': 4, 'created': '2018-05-07 10:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0fe16af19072e81503d3bdf844d4f8a41507226c', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n\nDepends-On: https://review.openstack.org/#/c/566364/\nDepends-On: https://review.openstack.org/566526\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}, {'number': 5, 'created': '2018-05-08 10:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a6c80d8df2eec300ee594d1e7893d135b4a90607', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n \n* The tempest logs will be found in /var/log/containers/tempest.\n\nDepends-On: https://review.openstack.org/#/c/566364/\nDepends-On: https://review.openstack.org/566526\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}, {'number': 6, 'created': '2018-05-10 10:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/266fea54ac18d83dd5c2038fc76381615f12c75b', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n \n* The tempest logs will be found in /var/log/containers/tempest.\n\nDepends-On: https://review.openstack.org/#/c/566364/\nDepends-On: https://review.openstack.org/566526\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}, {'number': 7, 'created': '2018-05-14 07:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/334638edfd951707f4b24bbd91b9bc632a0ca527', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n\n* The tempest logs will be found in /var/log/containers/tempest.\n\nDepends-On: https://review.openstack.org/#/c/568220/\nDepends-On: https://review.openstack.org/#/c/566364/\nDepends-On: https://review.openstack.org/566526\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}, {'number': 8, 'created': '2018-05-14 11:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dfe61292f2a3a64b69d8155ce1e779e63cd0e8a6', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n\n* The tempest logs will be found in /var/log/containers/tempest.\n\nDepends-On: https://review.openstack.org/#/c/568220/\nDepends-On: https://review.openstack.org/#/c/566364/\nDepends-On: https://review.openstack.org/566526\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}, {'number': 9, 'created': '2018-05-15 07:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/74de3c745ebafcc348a87c8d46e9acaaa42c0d22', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n\n* The tempest logs will be found in /var/log/containers/tempest.\n\nDepends-On: https://review.openstack.org/#/c/568220/\nDepends-On: https://review.openstack.org/#/c/566364/\nDepends-On: https://review.openstack.org/566526\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}, {'number': 10, 'created': '2018-05-15 07:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1af568a10edc9f07f2514b6bcb6aee09782c1e31', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n\n* The tempest logs will be found in /var/log/containers/tempest.\n\nDepends-On: https://review.openstack.org/#/c/566364/\nDepends-On: https://review.openstack.org/566526\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}, {'number': 11, 'created': '2018-05-17 13:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5d2cf59bb32d9b9e14a411252773f8d6954299dc', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n\n* The tempest logs will be found in /var/log/containers/tempest.\n\nDepends-On: https://review.openstack.org/#/c/566364/\nDepends-On: https://review.openstack.org/566526\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}, {'number': 12, 'created': '2018-05-17 19:41:40.000000000', 'files': ['config/general_config/featureset027.yml', 'doc/source/feature-configuration.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d89da5b7d3e8efc25e5cc3a7833d13ada24a5e91', 'message': 'Enable undercloud_enable_tempest to true\n\n* It will help to list the tempest container on the undercloud\n  and reuse it for running tempest tests.\n\n* The tempest logs will be found in /var/log/containers/tempest.\n\nDepends-On: https://review.openstack.org/#/c/566364/\nDepends-On: https://review.openstack.org/566526\n\nChange-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54\n'}]",0,566332,d89da5b7d3e8efc25e5cc3a7833d13ada24a5e91,69,10,12,12393,,,0,"Enable undercloud_enable_tempest to true

* It will help to list the tempest container on the undercloud
  and reuse it for running tempest tests.

* The tempest logs will be found in /var/log/containers/tempest.

Depends-On: https://review.openstack.org/#/c/566364/
Depends-On: https://review.openstack.org/566526

Change-Id: I1467d3fc3d7874446374fd67c14d6e8de3f57d54
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/32/566332/10 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset027.yml'],1,7b6ca9a7106ae2bcba73a0e98a3d9a8b2163be0d,tempest_log,# Enable tempest container undercloud_enable_tempest: true,,2,0
openstack%2Fmetalsmith~master~I6781b123dba933628210dec9f61967a305df2da5,openstack/metalsmith,master,I6781b123dba933628210dec9f61967a305df2da5,Unlock the node before deleting it in unprovisioning and default to not waiting,MERGED,2018-05-22 08:41:15.000000000,2018-05-22 10:26:50.000000000,2018-05-22 10:26:50.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 08:41:15.000000000', 'files': ['playbooks/integration/exercise.yaml', 'metalsmith/test/test_cmd.py', 'metalsmith/_provisioner.py', 'metalsmith/_cmd.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/18fbeab747e9a6a2fe6242ba28955dbfed59f71b', 'message': 'Unlock the node before deleting it in unprovisioning and default to not waiting\n\nCleaning can take a lot of time, we should not generally wait for it.\n\nChange-Id: I6781b123dba933628210dec9f61967a305df2da5\n'}]",0,569936,18fbeab747e9a6a2fe6242ba28955dbfed59f71b,6,2,1,10239,,,0,"Unlock the node before deleting it in unprovisioning and default to not waiting

Cleaning can take a lot of time, we should not generally wait for it.

Change-Id: I6781b123dba933628210dec9f61967a305df2da5
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/36/569936/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/integration/exercise.yaml', 'metalsmith/test/test_cmd.py', 'metalsmith/_provisioner.py', 'metalsmith/_cmd.py']",4,18fbeab747e9a6a2fe6242ba28955dbfed59f71b,undeploy-wait," wait = deploy.add_mutually_exclusive_group() wait.add_argument('--wait', type=int, default=1800, help='time (in seconds) to wait for node to become ' 'active') wait.add_argument('--no-wait', action='store_true', help='disable waiting for deploy to finish') wait = undeploy.add_mutually_exclusive_group() wait.add_argument('--wait', type=int, help='time (in seconds) to wait for node to become ' 'available for deployment again') if getattr(args, 'no_wait', None):"," wait = parser.add_mutually_exclusive_group() wait.add_argument('--wait', type=int, default=1800, help='action timeout (in seconds)') wait.add_argument('--no-wait', action='store_true', help='disable waiting for action to finish') if args.no_wait:",90,12
openstack%2Ftripleo-heat-templates~stable%2Focata~Ie3bd17ca9863e7687721e8c2628e485ea1849321,openstack/tripleo-heat-templates,stable/ocata,Ie3bd17ca9863e7687721e8c2628e485ea1849321,Use str_replace for known_hosts,MERGED,2018-05-22 03:05:12.000000000,2018-05-22 10:17:25.000000000,2018-05-22 10:17:25.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-22 03:05:12.000000000', 'files': ['overcloud.j2.yaml', 'extraconfig/tasks/ssh/known_hosts_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ee93a3a5a35f460585e8b5260bb2ecaaa0c696b', 'message': 'Use str_replace for known_hosts\n\nThere is a limit to how long input data can be for the heat script hook.\nIt turns out that data longer than 131072, will return an Argument list\nto long error. To get around this, we need to pass this data in a\ndifferent way so that the heat script hook will work.\n\nChange-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321\nCloses-Bug: #1772071\n(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)\n'}]",0,569911,6ee93a3a5a35f460585e8b5260bb2ecaaa0c696b,8,4,1,14985,,,0,"Use str_replace for known_hosts

There is a limit to how long input data can be for the heat script hook.
It turns out that data longer than 131072, will return an Argument list
to long error. To get around this, we need to pass this data in a
different way so that the heat script hook will work.

Change-Id: Ie3bd17ca9863e7687721e8c2628e485ea1849321
Closes-Bug: #1772071
(cherry picked from commit 7c973203345dbcf5ef94a5bcad2b089f5298c9b0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/569911/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'extraconfig/tasks/ssh/known_hosts_config.yaml']",2,6ee93a3a5a35f460585e8b5260bb2ecaaa0c696b,bug/1772071-stable/ocata," str_replace: params: KNOWN_HOSTS: {get_param: known_hosts} template: | #!/bin/bash set -eux set -o pipefail echo ""Creating ssh known hosts file"" if [ -d /etc/ssh/ssh_known_hosts ]; then rm -rf /etc/ssh/ssh_known_hosts fi cat <<EOF | grep -v '^$' >/etc/ssh/ssh_known_hosts KNOWN_HOSTS EOF if [ ! -s /etc/ssh/ssh_known_hosts ]; then echo ""No known hosts"" rm -f /etc/ssh/ssh_known_hosts else echo ""$(cat /etc/ssh/ssh_known_hosts | wc -l) known hosts"" chmod 0644 /etc/ssh/ssh_known_hosts fi value: {get_resource: SSHKnownHostsConfig} "," inputs: - name: known_hosts default: {get_param: known_hosts} #!/bin/bash set -eux set -o pipefail echo ""Creating ssh known hosts file"" if [ ! -z ""${known_hosts}"" ]; then echo ""${known_hosts}"" echo -ne ""${known_hosts}"" > /etc/ssh/ssh_known_hosts chmod 0644 /etc/ssh/ssh_known_hosts else rm -f /etc/ssh/ssh_known_hosts echo ""No ssh known hosts"" fi value: {get_resource: SSHKnownHostsConfig}",23,16
openstack%2Ftripleo-upgrade~master~Ie9ef22b9b320c63e7a95e64698e3389caa00dfff,openstack/tripleo-upgrade,master,Ie9ef22b9b320c63e7a95e64698e3389caa00dfff,Add -y when upgrading the containerized undercloud,MERGED,2018-05-21 14:44:14.000000000,2018-05-22 10:17:24.000000000,2018-05-22 10:17:24.000000000,"[{'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-21 14:44:14.000000000', 'files': ['templates/undercloud_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ec485adadb9fb66d562d79199f57e4f32b77d3d0', 'message': 'Add -y when upgrading the containerized undercloud\n\n... so we skip the prompt that says we should do a backup.\n\nDepends-On: Iab7ebbe6283039a447d88f9d801486511f5b7b05\nChange-Id: Ie9ef22b9b320c63e7a95e64698e3389caa00dfff\n'}]",0,569807,ec485adadb9fb66d562d79199f57e4f32b77d3d0,9,4,1,3153,,,0,"Add -y when upgrading the containerized undercloud

... so we skip the prompt that says we should do a backup.

Depends-On: Iab7ebbe6283039a447d88f9d801486511f5b7b05
Change-Id: Ie9ef22b9b320c63e7a95e64698e3389caa00dfff
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/07/569807/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/undercloud_upgrade.sh.j2'],1,ec485adadb9fb66d562d79199f57e4f32b77d3d0,up/yes,openstack undercloud upgrade -y --use-heat &> undercloud_{{ log_prefix }}.log,openstack undercloud upgrade --use-heat &> undercloud_{{ log_prefix }}.log,1,1
openstack%2Fkolla~stable%2Fqueens~I4bbdb1a607566b4853c6767fca6401cc78576e95,openstack/kolla,stable/queens,I4bbdb1a607566b4853c6767fca6401cc78576e95,Add debian into available distros for image building,MERGED,2018-05-16 04:56:04.000000000,2018-05-22 09:35:19.000000000,2018-05-22 09:35:19.000000000,"[{'_account_id': 7488}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 24574}]","[{'number': 1, 'created': '2018-05-16 04:56:04.000000000', 'files': ['doc/source/admin/image-building.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8d4ceb7de4eb4c93b38d07a59beff78a2954389e', 'message': 'Add debian into available distros for image building\n\nthe debian is supported for image build[0], but the docs missing\nit, the ps to add it.\n\n[0]: https://github.com/openstack/kolla/blob/master/kolla/common/config.py#L22\n\nChange-Id: I4bbdb1a607566b4853c6767fca6401cc78576e95\n(cherry picked from commit e9f6e4cf8c6b3be63911ff1b1a9afaf129729e7b)\n'}]",0,568742,8d4ceb7de4eb4c93b38d07a59beff78a2954389e,9,5,1,22165,,,0,"Add debian into available distros for image building

the debian is supported for image build[0], but the docs missing
it, the ps to add it.

[0]: https://github.com/openstack/kolla/blob/master/kolla/common/config.py#L22

Change-Id: I4bbdb1a607566b4853c6767fca6401cc78576e95
(cherry picked from commit e9f6e4cf8c6b3be63911ff1b1a9afaf129729e7b)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/42/568742/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/image-building.rst'],1,8d4ceb7de4eb4c93b38d07a59beff78a2954389e,,- debian,,1,0
openstack%2Fkolla~master~Iead82aad067353ddd822dfc15f54edfb313b7054,openstack/kolla,master,Iead82aad067353ddd822dfc15f54edfb313b7054,collectd: remove duplicate packages,MERGED,2018-05-18 06:58:38.000000000,2018-05-22 09:35:17.000000000,2018-05-22 09:35:17.000000000,"[{'_account_id': 167}, {'_account_id': 979}, {'_account_id': 1390}, {'_account_id': 2813}, {'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 9820}, {'_account_id': 10787}, {'_account_id': 11105}, {'_account_id': 11869}, {'_account_id': 13039}, {'_account_id': 13642}, {'_account_id': 14826}, {'_account_id': 16233}, {'_account_id': 16620}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-05-18 06:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1f0a396e872e5e1f65faf4b01351c74dbd81795b', 'message': 'collectd: remove duplicate packages\n\nThe collectd-turbotstat is already installed for all arch.\n\nThis change removes the duplicates package name.\n\nChange-Id: Iead82aad067353ddd822dfc15f54edfb313b7054\n'}, {'number': 2, 'created': '2018-05-22 06:55:07.000000000', 'files': ['docker/collectd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/31a7792cbb40cbf9fcaf0bb6fbe8829513370e8c', 'message': 'collectd: remove duplicate packages\n\nThe collectd-turbotstat is already installed for all arch.\n\nThis change removes the duplicates package name.\n\nChange-Id: Iead82aad067353ddd822dfc15f54edfb313b7054\n'}]",3,569349,31a7792cbb40cbf9fcaf0bb6fbe8829513370e8c,14,23,2,2813,,,0,"collectd: remove duplicate packages

The collectd-turbotstat is already installed for all arch.

This change removes the duplicates package name.

Change-Id: Iead82aad067353ddd822dfc15f54edfb313b7054
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/569349/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/collectd/Dockerfile.j2'],1,1f0a396e872e5e1f65faf4b01351c74dbd81795b,,, 'collectd-turbostat',0,1
openstack%2Frpm-packaging~master~Ied9d2c33aca7b4a5f81384b2b274aa15b3e9d13f,openstack/rpm-packaging,master,Ied9d2c33aca7b4a5f81384b2b274aa15b3e9d13f,Fix the linter gate,ABANDONED,2018-05-17 14:35:38.000000000,2018-05-22 09:22:03.000000000,,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 14:35:38.000000000', 'files': ['openstack/monasca-agent/monasca-agent.spec.j2', 'openstack/tripleo-common/tripleo-common.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a20e8f169f0b06a0f3d91e78deb161d9540148cf', 'message': 'Fix the linter gate\n\nspeccleaner has changed some requirements, and now it wants us to\nuse %{_libexecdir} instead of %{_prefix}/lib.\n\nChange-Id: Ied9d2c33aca7b4a5f81384b2b274aa15b3e9d13f\n'}]",0,569130,a20e8f169f0b06a0f3d91e78deb161d9540148cf,6,4,1,13294,,,0,"Fix the linter gate

speccleaner has changed some requirements, and now it wants us to
use %{_libexecdir} instead of %{_prefix}/lib.

Change-Id: Ied9d2c33aca7b4a5f81384b2b274aa15b3e9d13f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/30/569130/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/monasca-agent/monasca-agent.spec.j2', 'openstack/tripleo-common/tripleo-common.spec.j2']",2,a20e8f169f0b06a0f3d91e78deb161d9540148cf,,%dir %{_libexecdir}/heat %{_libexecdir}/heat/undercloud_heat_plugins,%dir %{_prefix}/lib/heat %{_prefix}/lib/heat/undercloud_heat_plugins,6,6
openstack%2Fswift~feature%2Fdeep-review~Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6,openstack/swift,feature/deep-review,Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6,DO NOT MERGE Use correct policy index when faking misplaced objects,ABANDONED,2018-05-18 21:48:42.000000000,2018-05-22 09:00:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-18 21:48:42.000000000', 'files': ['test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6cce05dec351c610ec8ee66c26b5cc82b7efaed7', 'message': 'DO NOT MERGE Use correct policy index when faking misplaced objects\n\nBefore merge_objects used storage policy index of 0, but if the\nshard broker had a different policy index then the misplaced object\nwould not show in listings causing test_misplaced_object_movement\nto fail. This would be exposed by having policy index 0 be an EC\npolicy, since the probe test requires a replication policy.\n\nChange-Id: Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6\n'}]",0,569527,6cce05dec351c610ec8ee66c26b5cc82b7efaed7,3,1,1,7847,,,0,"DO NOT MERGE Use correct policy index when faking misplaced objects

Before merge_objects used storage policy index of 0, but if the
shard broker had a different policy index then the misplaced object
would not show in listings causing test_misplaced_object_movement
to fail. This would be exposed by having policy index 0 be an EC
policy, since the probe test requires a replication policy.

Change-Id: Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6
",git fetch https://review.opendev.org/openstack/swift refs/changes/27/569527/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_sharder.py'],1,6cce05dec351c610ec8ee66c26b5cc82b7efaed7,rev10," 'etag': hashlib.md5().hexdigest(), 'deleted': deleted, 'storage_policy_index': shard_broker.storage_policy_index}])"," 'etag': hashlib.md5().hexdigest(), 'deleted': deleted}])",2,1
openstack%2Fzaqar~master~I444cdaad0d83d9d8795dc03793aefe2fa3a51203,openstack/zaqar,master,I444cdaad0d83d9d8795dc03793aefe2fa3a51203,Follow the new PTI for document build,MERGED,2018-04-20 02:05:08.000000000,2018-05-22 08:53:37.000000000,2018-05-22 08:53:37.000000000,"[{'_account_id': 8846}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 28035}]","[{'number': 1, 'created': '2018-04-20 02:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/20316a38e12240ee6df2becd4e201bd487e3ef12', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I444cdaad0d83d9d8795dc03793aefe2fa3a51203\n'}, {'number': 2, 'created': '2018-04-20 06:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/22e0dcdc03821bf3902b1977fee6aa37f67a51f4', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I444cdaad0d83d9d8795dc03793aefe2fa3a51203\n'}, {'number': 3, 'created': '2018-04-23 01:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d4cea6109f0cf3e09b933302e3c00e416bb6f890', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I444cdaad0d83d9d8795dc03793aefe2fa3a51203\n'}, {'number': 4, 'created': '2018-04-23 03:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/0503ba75dd64f9493aa6d1f17862ff8f36e5ed22', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I444cdaad0d83d9d8795dc03793aefe2fa3a51203\n'}, {'number': 5, 'created': '2018-05-22 06:12:22.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/17ef71a482c02c3cf002d3b775156c5c99ded4e6', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I444cdaad0d83d9d8795dc03793aefe2fa3a51203\n'}]",0,562895,17ef71a482c02c3cf002d3b775156c5c99ded4e6,20,4,5,28035,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I444cdaad0d83d9d8795dc03793aefe2fa3a51203
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/95/562895/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",5,20316a38e12240ee6df2becd4e201bd487e3ef12,update_doc_job,, python setup.py build_sphinx,8,15
openstack%2Fnova~stable%2Fqueens~I7b8622b178d5043ed1556d7bdceaf60f47e5ac80,openstack/nova,stable/queens,I7b8622b178d5043ed1556d7bdceaf60f47e5ac80,Cleanup RP and HM records while deleting a compute service.,MERGED,2018-04-23 16:57:04.000000000,2018-05-22 08:31:24.000000000,2018-05-22 08:31:24.000000000,"[{'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-23 16:57:04.000000000', 'files': ['nova/tests/functional/api_sample_tests/test_services.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/api/client.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/api/openstack/compute/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dede2de2bd482d0378a7acd81b65d93b1635e825', 'message': 'Cleanup RP and HM records while deleting a compute service.\n\nCurrently when deleting a nova-compute service via the API, we will\n(soft) delete the service and compute_node records in the DB, but the\nplacement resource provider and host mapping records will be orphaned.\nThis patch deletes the resource provider and host_mapping records\nbefore deleting the service/compute node.\n\nChange-Id: I7b8622b178d5043ed1556d7bdceaf60f47e5ac80\nCloses-Bug: #1756179\n(cherry picked from commit 589c495c1ae62129e20ab5e2641e330541eee01f)\n'}]",0,563698,dede2de2bd482d0378a7acd81b65d93b1635e825,30,9,1,26936,,,0,"Cleanup RP and HM records while deleting a compute service.

Currently when deleting a nova-compute service via the API, we will
(soft) delete the service and compute_node records in the DB, but the
placement resource provider and host mapping records will be orphaned.
This patch deletes the resource provider and host_mapping records
before deleting the service/compute node.

Change-Id: I7b8622b178d5043ed1556d7bdceaf60f47e5ac80
Closes-Bug: #1756179
(cherry picked from commit 589c495c1ae62129e20ab5e2641e330541eee01f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/563698/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_sample_tests/test_services.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/api/client.py', 'nova/api/openstack/compute/services.py', 'nova/tests/unit/compute/test_host_api.py']",5,dede2de2bd482d0378a7acd81b65d93b1635e825,bug/1756179," @mock.patch.object(objects.ComputeNodeList, 'get_all_by_host') @mock.patch.object(objects.HostMapping, 'get_by_host') def test_service_delete_compute_in_aggregate(self, mock_hm, mock_get_cn): # This is needed because of lazy-loading service.compute_node cn = objects.ComputeNode(uuid=uuids.cn, host=""fake-compute-host"", hypervisor_hostname=""fake-compute-host"") mock_get_cn.return_value = [cn] mock_hm.return_value.destroy.assert_called_once_with()", def test_service_delete_compute_in_aggregate(self):,61,10
openstack%2Fnova~stable%2Fqueens~If507e23f0b7e5fa417041c3870d77786498f741d,openstack/nova,stable/queens,If507e23f0b7e5fa417041c3870d77786498f741d,Delete allocations from API if nova-compute is down,MERGED,2018-04-20 19:00:29.000000000,2018-05-22 08:20:00.000000000,2018-05-22 08:20:00.000000000,"[{'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-20 19:00:29.000000000', 'files': ['releasenotes/notes/bug-1679750-local-delete-allocations-cb7bfbcb6c36b6a2.yaml', 'nova/tests/functional/regressions/test_bug_1679750.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cba1a3e2c1b161204a3662a0d9fbf33da38aa7d3', 'message': 'Delete allocations from API if nova-compute is down\n\nWhen performing a ""local delete"" of an instance, we\nneed to delete the allocations that the instance has\nagainst any resource providers in Placement.\n\nIt should be noted that without this change, restarting\nthe nova-compute service will delete the allocations\nfor its compute node (assuming the compute node UUID\nis the same as before the instance was deleted). That\nis shown in the existing functional test modified here.\n\nThe more important reason for this change is that in\norder to fix bug 1756179, we need to make sure the\nresource provider allocations for a given compute node\nare gone by the time the compute service is deleted.\n\nThis adds a new functional test and a release note for\nthe new behavior and need to configure nova-api for\ntalking to placement, which is idempotent if\nnot configured thanks to the @safe_connect decorator\nused in SchedulerReportClient.\n\nCloses-Bug: #1679750\nRelated-Bug: #1756179\n\nChange-Id: If507e23f0b7e5fa417041c3870d77786498f741d\n(cherry picked from commit ea9d0af31395fbe1686fa681cd91226ee580796e)\n'}]",0,563236,cba1a3e2c1b161204a3662a0d9fbf33da38aa7d3,36,11,1,6873,,,0,"Delete allocations from API if nova-compute is down

When performing a ""local delete"" of an instance, we
need to delete the allocations that the instance has
against any resource providers in Placement.

It should be noted that without this change, restarting
the nova-compute service will delete the allocations
for its compute node (assuming the compute node UUID
is the same as before the instance was deleted). That
is shown in the existing functional test modified here.

The more important reason for this change is that in
order to fix bug 1756179, we need to make sure the
resource provider allocations for a given compute node
are gone by the time the compute service is deleted.

This adds a new functional test and a release note for
the new behavior and need to configure nova-api for
talking to placement, which is idempotent if
not configured thanks to the @safe_connect decorator
used in SchedulerReportClient.

Closes-Bug: #1679750
Related-Bug: #1756179

Change-Id: If507e23f0b7e5fa417041c3870d77786498f741d
(cherry picked from commit ea9d0af31395fbe1686fa681cd91226ee580796e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/563236/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1679750-local-delete-allocations-cb7bfbcb6c36b6a2.yaml', 'nova/tests/functional/regressions/test_bug_1679750.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/compute/api.py']",4,cba1a3e2c1b161204a3662a0d9fbf33da38aa7d3,bug/1756179," # NOTE(mriedem): This looks a bit weird but we get the reportclient # via SchedulerClient since it lazy-loads SchedulerReportClient on # the first usage which helps to avoid a bunch of lockutils spam in # the nova-api logs every time the service is restarted (remember # that pretty much all of the REST API controllers construct this # API class). self.placementclient = scheduler_client.SchedulerClient().reportclient # Cleanup allocations in Placement since we can't do it from the # compute service. self.placementclient.delete_allocation_for_instance( context, instance.uuid)",,103,21
openstack%2Fdragonflow~master~Idd4c02501a3eba06015315aa8a3ac9563e549dbb,openstack/dragonflow,master,Idd4c02501a3eba06015315aa8a3ac9563e549dbb,Add a command prompt for action bind,MERGED,2016-07-22 14:03:00.000000000,2018-05-22 07:26:34.000000000,2016-07-24 18:48:50.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 9044}, {'_account_id': 20229}]","[{'number': 1, 'created': '2016-07-22 14:03:00.000000000', 'files': ['dragonflow/cli/df_db.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/43df445f02383833f590379bf66582e91185b734', 'message': 'Add a command prompt for action bind\n\nChange-Id: Idd4c02501a3eba06015315aa8a3ac9563e549dbb\n'}]",0,346049,43df445f02383833f590379bf66582e91185b734,9,4,1,21691,,,0,"Add a command prompt for action bind

Change-Id: Idd4c02501a3eba06015315aa8a3ac9563e549dbb
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/49/346049/1 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/cli/df_db.py'],1,43df445f02383833f590379bf66582e91185b734,," ""5) df-db bind <port id> - bind a port to localhost\n"" \ ""6) df-db clean - clean up all keys\n"" \ ""7) df-db rm <table name> <key> - remove the specified db record\n"" \ ""8) df-db init - initialize all tables\n"" \ ""9) df-db dropall - drop all tables\n"""," ""5) df-db clean - clean up all keys\n"" \ ""6) df-db rm <table name> <key> - remove the specified db record\n"" \ ""7) df-db init - initialize all tables\n"" \ ""8) df-db dropall - drop all tables\n""",5,4
openstack%2Fcharm-interface-bgp~master~I8b1508361fdc7541c0fc231e7e816651626596b7,openstack/charm-interface-bgp,master,I8b1508361fdc7541c0fc231e7e816651626596b7,Add support for generating 16-bit ASn,MERGED,2018-05-21 05:42:44.000000000,2018-05-22 07:24:15.000000000,2018-05-22 07:24:15.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 05:42:44.000000000', 'files': ['unit_tests/test_provides.py', 'provides.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-bgp/commit/a34640e10ef41617f49c2d370337ac63a0d82d1b', 'message': 'Add support for generating 16-bit ASn\n\nChange-Id: I8b1508361fdc7541c0fc231e7e816651626596b7\n'}]",0,569702,a34640e10ef41617f49c2d370337ac63a0d82d1b,7,4,1,13686,,,0,"Add support for generating 16-bit ASn

Change-Id: I8b1508361fdc7541c0fc231e7e816651626596b7
",git fetch https://review.opendev.org/openstack/charm-interface-bgp refs/changes/02/569702/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_provides.py', 'provides.py']",2,a34640e10ef41617f49c2d370337ac63a0d82d1b,add-16bit-asn-support," def generate_asn_16(self): """""" Generate unique 16-bit Private Use [RFC6996] ASn. This is useful to automate configuration of BGP routers that is part of a Clos Network Topology with a Layer 3-Only routed design. [RFC7938] Assumption: - Unit has a IPv4 address and it is unique to the deployment. Implementation: - A private 16-bit ASn has a range of 64512 - 65534 which leaves us with 1022 possible endpoints. - The 16-bit ASn space is limited and this implementation will give you unique ASns for a /23 Note: - This implementation generates ASn in the following range: 65023 - 65534 - Leaving the following range for any static configuration needs: 64512 - 65022 """""" asn_base = 65023 mask = netaddr.IPAddress('0.0.1.255') unit_ip = netaddr.IPAddress( ch_core.hookenv.unit_get('private-address')) masked_ip = unit_ip & mask asn = asn_base + int(masked_ip) return asn def publish_info(self, asn=None, passive=False, bindings=None, use_16bit_asn=False): if use_16bit_asn: myasn = self.generate_asn_16() else: myasn = self.generate_asn()"," def publish_info(self, asn=None, passive=False, bindings=None): myasn = self.generate_asn()",116,2
openstack%2Ftripleo-heat-templates~master~Ia38406cc58a4bb25929f9db02e1bca99578e4f2d,openstack/tripleo-heat-templates,master,Ia38406cc58a4bb25929f9db02e1bca99578e4f2d,Add support of mounting stating location for glance-direct,ABANDONED,2018-04-20 04:37:50.000000000,2018-05-22 07:09:55.000000000,,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 5202}, {'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 9303}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 19138}, {'_account_id': 20733}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-20 04:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87f008f620c71520e68efda8ee26d2f59eb504e0', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-dowload' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 2, 'created': '2018-04-20 05:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27e685eda964b797aa8462d00a45997d676ce0df', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-dowload' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 3, 'created': '2018-04-20 05:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2745d926121dd7da0dc31715caaa6d2c39221d8', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-download' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 4, 'created': '2018-04-23 04:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05ce3b6a512c09a306b022d7bb4d85c47643e9ce', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-download' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 5, 'created': '2018-04-23 08:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6b8c9a6dde7116bacb195c2ceb414c36493834a', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-download' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 6, 'created': '2018-04-23 12:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ddb02c7667d62de9208261c6eac9782657e3e0a', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-download' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 7, 'created': '2018-04-24 08:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25e35582f92106ca3191e582504c4aea1a66cc0c', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-download' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 8, 'created': '2018-04-24 12:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95861f2e1d226040eb18f0d888354f2ce2368c23', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-download' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 9, 'created': '2018-04-24 12:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4c3dd2075b909894656aeba894d7c8c2e3fad18', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-download' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 10, 'created': '2018-04-24 14:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4abaa36d80a2789c62277ba55d1d83ac5855f5ac', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-download' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 11, 'created': '2018-04-26 09:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42f319e6ee293ebd0a274cdad569372f0b5ab43d', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-download' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 12, 'created': '2018-04-27 12:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76670b8adb93a56bcbd67a42c520d9a4d4daa4d9', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes.\n\nSetting EnableImportMethod to 'web-download' by default.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 13, 'created': '2018-05-02 13:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0814b7106a76b6be52ac5fe678e076f00d11294c', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes\nto share the staging and final store location.\n\nSetting GlanceImportMethod to 'web-download' by default.\n\nDepends-On: Id9b35d5781448f22549d741ab797f656f96c6562\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 14, 'created': '2018-05-10 17:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7327aedbfa55d15c569a82e55e1faa633589f936', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes\nto share the staging and final store location.\n\nDepends-On: Ie46d83c945068e38f6e32aa0baf843f7d5f932ec\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 15, 'created': '2018-05-11 05:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/585b879a91a19473fd072a5dc9a6951d5b1c74c3', 'message': ""Disable interoperable default image import method in THT\n\nGlance added the support for interoperable image imports. Image\nuploads are done using a two-step approach: first uploading it to\nthe Glance API using a local staging area, and then triggering an\nupload from the staging area to the storage backend.\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes\nto share the staging and final store location.\n\nDepends-On: Ie46d83c945068e38f6e32aa0baf843f7d5f932ec\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 16, 'created': '2018-05-17 11:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eae9616cb22a8dcaa700575775e5bf1e298afb6a', 'message': ""Add support of mounting stating location for glance-direct\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes\nto share the staging and final store location.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 17, 'created': '2018-05-17 12:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c206a04859a9eb215687485dcbe4014e48de024', 'message': ""Add support of mounting stating location for glance-direct\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes\nto share the staging and final store location.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 18, 'created': '2018-05-18 07:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a1742e05a71fb2ef8111b7d38f98486cf5a10ba', 'message': ""Add support of mounting stating location for glance-direct\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes\nto share the staging and final store location.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}, {'number': 19, 'created': '2018-05-18 08:51:01.000000000', 'files': ['sample-env-generator/storage.yaml', 'puppet/services/glance-api.yaml', 'environments/storage/glance-nfs.yaml', 'docker/services/glance-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b30dac3ce9ca46e30ad356141ea3332739fa879b', 'message': ""Add support of mounting stating location for glance-direct\n\nIn the case of an HA setup (ie with 3 controller nodes) if image\nimport method is 'glance-direct' then it would require a shared\nconsistent filesystem across the controller nodes otherwise it\nmight happen that the image is uploaded to one node and triggering\nthe import is executed on a different node - where the image does not\nexist.\n\nHence when import method 'glance-direct' is needed, operators need to\nenable it explicitly with enabling NFS across the controller nodes\nto share the staging and final store location.\n\nChange-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d\nCloses-Bug: #1765439\n""}]",44,562930,b30dac3ce9ca46e30ad356141ea3332739fa879b,73,16,19,19138,,,0,"Add support of mounting stating location for glance-direct

In the case of an HA setup (ie with 3 controller nodes) if image
import method is 'glance-direct' then it would require a shared
consistent filesystem across the controller nodes otherwise it
might happen that the image is uploaded to one node and triggering
the import is executed on a different node - where the image does not
exist.

Hence when import method 'glance-direct' is needed, operators need to
enable it explicitly with enabling NFS across the controller nodes
to share the staging and final store location.

Change-Id: Ia38406cc58a4bb25929f9db02e1bca99578e4f2d
Closes-Bug: #1765439
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/562930/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/storage.yaml', 'puppet/services/glance-api.yaml', 'environments/storage/glance-nfs.yaml', 'docker/services/glance-api.yaml']",4,87f008f620c71520e68efda8ee26d2f59eb504e0,bug/1765439," EnableImportMethod: default: web-download description: The Image import method name. Should be one of web-download or glance-direct type: string constraints: - allowed_values: ['web-download', 'glance-direct'] enabled_import_method: {equals: [{get_param: EnableImportMethod}, glance-direct]} - path: /tmp/staging owner: glance:glance recurse: true - if: - enabled_import_method - /tmp/staging:/tmp/staging - '' enabled_import_method: {get_param: EnableImportMethod} - nfs_backend_enable == true and enabled_import_method == 'web-download'", - nfs_backend_enable,39,1
openstack%2Fpuppet-glance~master~Ie46d83c945068e38f6e32aa0baf843f7d5f932ec,openstack/puppet-glance,master,Ie46d83c945068e38f6e32aa0baf843f7d5f932ec,Disable interoperable default image import method,ABANDONED,2018-05-10 16:50:17.000000000,2018-05-22 07:04:49.000000000,,"[{'_account_id': 1004}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-10 16:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1de02e00709d65a1c909902a9968035ab4b2a6bb', 'message': ""Disable interoperable default image import method\n\nIn the case of an HA setup (ie with 3 controller nodes) glance-direct\nrequires a shared consistent filesystem across the controller\nnodes. Otherwise it might happen that the image is uploaded to one node,\nand triggering the import is executed on a different node - where\nthe image does not exist.\n\nRemoving glance-direct from defaults for enabled_import_methods. If\noperator wants to enable import method 'glance-direct', then\noperators need to enable it explicitly & incase of HA needs to enable\nNFS across the controller nodes to share the staging and final store\nlocation with enabling 'glance-direct'.\n\nChange-Id: Ie46d83c945068e38f6e32aa0baf843f7d5f932ec\nCloses-Bug: #1765439\n""}, {'number': 2, 'created': '2018-05-10 16:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/9ffc4d58df3da175dca59f1f6eb362f22b7ac89a', 'message': ""Disable interoperable default image import method\n\nIn the case of an HA setup (ie with 3 controller nodes) glance-direct\nrequires a shared consistent filesystem across the controller\nnodes. Otherwise it might happen that the image is uploaded to one node,\nand triggering the import is executed on a different node - where\nthe image does not exist.\n\nRemoving glance-direct from defaults for enabled_import_methods. If\noperator wants to enable import method 'glance-direct', then\noperators need to enable it explicitly & incase of HA needs to enable\nNFS across the controller nodes to share the staging and final store\nlocation with enabling 'glance-direct'.\n\nChange-Id: Ie46d83c945068e38f6e32aa0baf843f7d5f932ec\nCloses-Bug: #1765439\n""}, {'number': 3, 'created': '2018-05-10 17:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/00cd393fbb5020b92ee59b35a14037edd7049790', 'message': ""Disable interoperable default image import method\n\nIn the case of an HA setup (ie with 3 controller nodes) glance-direct\nrequires a shared consistent filesystem across the controller\nnodes. Otherwise it might happen that the image is uploaded to one node,\nand triggering the import is executed on a different node - where\nthe image does not exist.\n\nRemoving glance-direct from defaults for enabled_import_methods. If\noperator wants to enable import method 'glance-direct', then\noperators need to enable it explicitly & incase of HA needs to enable\nNFS across the controller nodes to share the staging and final store\nlocation with enabling 'glance-direct'.\n\nChange-Id: Ie46d83c945068e38f6e32aa0baf843f7d5f932ec\nCloses-Bug: #1765439\n""}, {'number': 4, 'created': '2018-05-10 17:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a7a093276f9609da45590c06a94d41a3dc4fbeb2', 'message': ""Disable interoperable default image import method\n\nIn the case of an HA setup (ie with 3 controller nodes) glance-direct\nrequires a shared consistent filesystem across the controller\nnodes. Otherwise it might happen that the image is uploaded to one node,\nand triggering the import is executed on a different node - where\nthe image does not exist.\n\nRemoving glance-direct from defaults for enabled_import_methods. If\noperator wants to enable import method 'glance-direct', then\noperators need to enable it explicitly & incase of HA needs to enable\nNFS across the controller nodes to share the staging and final store\nlocation with enabling 'glance-direct'.\n\nChange-Id: Ie46d83c945068e38f6e32aa0baf843f7d5f932ec\nCloses-Bug: #1765439\n""}, {'number': 5, 'created': '2018-05-11 05:22:45.000000000', 'files': ['manifests/api.pp', 'spec/classes/glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/38f92fd45cafd5d4334fd675f9db110fe926f058', 'message': ""Disable interoperable default image import method\n\nIn the case of an HA setup (ie with 3 controller nodes) glance-direct\nrequires a shared consistent filesystem across the controller\nnodes. Otherwise it might happen that the image is uploaded to one node,\nand triggering the import is executed on a different node - where\nthe image does not exist.\n\nRemoving glance-direct from defaults for enabled_import_methods. If\noperator wants to enable import method 'glance-direct', then\noperators need to enable it explicitly & incase of HA needs to enable\nNFS across the controller nodes to share the staging and final store\nlocation with enabling 'glance-direct'.\n\nChange-Id: Ie46d83c945068e38f6e32aa0baf843f7d5f932ec\nCloses-Bug: #1765439\n""}]",4,567644,38f92fd45cafd5d4334fd675f9db110fe926f058,11,3,5,19138,,,0,"Disable interoperable default image import method

In the case of an HA setup (ie with 3 controller nodes) glance-direct
requires a shared consistent filesystem across the controller
nodes. Otherwise it might happen that the image is uploaded to one node,
and triggering the import is executed on a different node - where
the image does not exist.

Removing glance-direct from defaults for enabled_import_methods. If
operator wants to enable import method 'glance-direct', then
operators need to enable it explicitly & incase of HA needs to enable
NFS across the controller nodes to share the staging and final store
location with enabling 'glance-direct'.

Change-Id: Ie46d83c945068e38f6e32aa0baf843f7d5f932ec
Closes-Bug: #1765439
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/44/567644/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/glance_api_spec.rb']",2,1de02e00709d65a1c909902a9968035ab4b2a6bb,bug/1765439," :enabled_import_methods => '<SERVICE DEFAULT>', :enable_glance_direct => false, :enabled_import_methods => 'web-download', :enable_glance_direct => false, 'enabled_import_methods', 'enable_glance_direct',",,28,0
openstack%2Fpuppet-swift~master~I63f8a4287235c4659807530851c917a6386b4dd8,openstack/puppet-swift,master,I63f8a4287235c4659807530851c917a6386b4dd8,Configure www_authenticate_uri instead of auth_uri in authtoken,MERGED,2018-05-15 16:49:58.000000000,2018-05-22 06:00:52.000000000,2018-05-17 23:53:18.000000000,"[{'_account_id': 3153}, {'_account_id': 9625}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 16:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/fc5220389a382b1a818da1b2a56f0f14270162d4', 'message': ""Configure www_authenticate_uri instead of auth_uri in authtoken\n\nWe're configuring a piece of keystonemiddleware, which saw this\nchange:\n   https://review.openstack.org/508522\n\nThis minimal fix retains auth_uri wherever we were using it in\nPuppet, because who cares? It's just a name of a class field.\nBut when we write it out, change it to the new name in the\nconfiguration file, so these modules continue to work in the\nfuture.\n\nChange-Id: I63f8a4287235c4659807530851c917a6386b4dd8\n""}, {'number': 2, 'created': '2018-05-16 01:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/099c182dc059a492b9af2effda3cd02d533caf2b', 'message': ""Configure www_authenticate_uri instead of auth_uri in authtoken\n\nWe're configuring a piece of keystonemiddleware, which saw this\nchange:\n   https://review.openstack.org/508522\n\nThis minimal fix retains auth_uri wherever we were using it in\nPuppet, because who cares? It's just a name of a class field.\nBut when we write it out, change it to the new name in the\nconfiguration file, so these modules continue to work in the\nfuture.\n\nChange-Id: I63f8a4287235c4659807530851c917a6386b4dd8\n""}, {'number': 3, 'created': '2018-05-16 02:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/34551134606a2e74c36e563f1c23106aa0a2530d', 'message': ""Configure www_authenticate_uri instead of auth_uri in authtoken\n\nWe're configuring a piece of keystonemiddleware, which saw this\nchange:\n   https://review.openstack.org/508522\n\nThis minimal fix retains auth_uri wherever we were using it in\nPuppet, because who cares? It's just a name of a class field.\nBut when we write it out, change it to the new name in the\nconfiguration file, so these modules continue to work in the\nfuture.\n\nChange-Id: I63f8a4287235c4659807530851c917a6386b4dd8\n""}, {'number': 4, 'created': '2018-05-16 19:14:49.000000000', 'files': ['manifests/proxy/authtoken.pp', 'spec/classes/swift_proxy_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/ca7070a567c4ec3f656fb9e653b5b53dbeb3a510', 'message': ""Configure www_authenticate_uri instead of auth_uri in authtoken\n\nWe're configuring a piece of keystonemiddleware, which saw this\nchange:\n   https://review.openstack.org/508522\n\nThis minimal fix retains auth_uri wherever we were using it in\nPuppet, because who cares? It's just a name of a class field.\nBut when we write it out, change it to the new name in the\nconfiguration file, so these modules continue to work in the\nfuture.\n\nDepends-On: I7be3f7748a2857618dc4de38e09c7cccca6d2721\nChange-Id: I63f8a4287235c4659807530851c917a6386b4dd8\n""}]",0,568641,ca7070a567c4ec3f656fb9e653b5b53dbeb3a510,14,4,4,597,,,0,"Configure www_authenticate_uri instead of auth_uri in authtoken

We're configuring a piece of keystonemiddleware, which saw this
change:
   https://review.openstack.org/508522

This minimal fix retains auth_uri wherever we were using it in
Puppet, because who cares? It's just a name of a class field.
But when we write it out, change it to the new name in the
configuration file, so these modules continue to work in the
future.

Depends-On: I7be3f7748a2857618dc4de38e09c7cccca6d2721
Change-Id: I63f8a4287235c4659807530851c917a6386b4dd8
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/41/568641/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/proxy/authtoken.pp'],1,fc5220389a382b1a818da1b2a56f0f14270162d4,www_authenticate_uri, 'filter:authtoken/www_authenticate_uri': value => $auth_uri;, 'filter:authtoken/auth_uri': value => $auth_uri;,1,1
openstack%2Fpuppet-sahara~master~Ieab93515da12c24988accbbd7fead14ba3e2de20,openstack/puppet-sahara,master,Ieab93515da12c24988accbbd7fead14ba3e2de20,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 07:27:27.000000000,2018-05-22 05:43:22.000000000,,"[{'_account_id': 17130}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-21 07:27:27.000000000', 'files': ['spec/classes/sahara_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/c8051d2e859ccf0ca408bb4f30a696b58323aa05', 'message': 'Replace port 35357 with 5000 for ""auth_url""\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: Ieab93515da12c24988accbbd7fead14ba3e2de20\n'}]",0,569735,c8051d2e859ccf0ca408bb4f30a696b58323aa05,6,4,1,17130,,,0,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Ieab93515da12c24988accbbd7fead14ba3e2de20
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/35/569735/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/sahara_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,c8051d2e859ccf0ca408bb4f30a696b58323aa05,auth-url,"# Defaults to 'http:://127.0.0.1:5000' $auth_url = 'http://127.0.0.1:5000/',","# Defaults to 'http:://127.0.0.1:35357' $auth_url = 'http://127.0.0.1:35357/',",4,4
openstack%2Fpuppet-gnocchi~master~Ia259a8f8530d7bc60b8fb4d37cc756776907606a,openstack/puppet-gnocchi,master,Ia259a8f8530d7bc60b8fb4d37cc756776907606a,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 07:01:43.000000000,2018-05-22 05:42:48.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-21 07:01:43.000000000', 'files': ['spec/classes/gnocchi_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/ebea80203a01f38a19ee9b9303e9e7f1e7eeb479', 'message': 'Replace port 35357 with 5000 for ""auth_url""\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: Ia259a8f8530d7bc60b8fb4d37cc756776907606a\n'}]",0,569728,ebea80203a01f38a19ee9b9303e9e7f1e7eeb479,5,3,1,17130,,,0,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Ia259a8f8530d7bc60b8fb4d37cc756776907606a
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/28/569728/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/gnocchi_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,ebea80203a01f38a19ee9b9303e9e7f1e7eeb479,auth-url,"# Defaults to 'http://localhost:5000' $auth_url = 'http://localhost:5000',","# Defaults to 'http://localhost:35357' $auth_url = 'http://localhost:35357',",4,4
openstack%2Fpuppet-mistral~master~I1ae38a934e154d193260be2cad41915d055be7d9,openstack/puppet-mistral,master,I1ae38a934e154d193260be2cad41915d055be7d9,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 07:06:20.000000000,2018-05-22 05:41:58.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-21 07:06:20.000000000', 'files': ['spec/classes/mistral_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/d67377b627bb1fdbffd28275c3a8a0e6a464173b', 'message': 'Replace port 35357 with 5000 for ""auth_url""\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: I1ae38a934e154d193260be2cad41915d055be7d9\n'}]",0,569729,d67377b627bb1fdbffd28275c3a8a0e6a464173b,5,3,1,17130,,,0,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: I1ae38a934e154d193260be2cad41915d055be7d9
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/29/569729/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/mistral_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,d67377b627bb1fdbffd28275c3a8a0e6a464173b,auth_url,"# Defaults to 'http://localhost:5000' $auth_url = 'http://localhost:5000',","# Defaults to 'http://localhost:35357' $auth_url = 'http://localhost:35357',",4,4
openstack%2Fpuppet-cinder~master~Iceb64012e492794f914d205e1a56052661a3a0d8,openstack/puppet-cinder,master,Iceb64012e492794f914d205e1a56052661a3a0d8,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 07:47:40.000000000,2018-05-22 05:41:32.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-21 07:47:40.000000000', 'files': ['spec/classes/cinder_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a791411d98aa15aa970daa8f3c53d8abfec6a583', 'message': 'Replace port 35357 with 5000 for ""auth_url""\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: Iceb64012e492794f914d205e1a56052661a3a0d8\n'}]",0,569738,a791411d98aa15aa970daa8f3c53d8abfec6a583,5,3,1,17130,,,0,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Iceb64012e492794f914d205e1a56052661a3a0d8
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/38/569738/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,a791411d98aa15aa970daa8f3c53d8abfec6a583,auth-url,"# Defaults to 'http://localhost:5000'. $auth_url = 'http://localhost:5000',","# Defaults to 'http://localhost:35357'. $auth_url = 'http://localhost:35357',",4,4
openstack%2Fpuppet-glance~master~I50477c401775d8603495aed5a5ec9ad169847ddd,openstack/puppet-glance,master,I50477c401775d8603495aed5a5ec9ad169847ddd,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 07:55:55.000000000,2018-05-22 05:41:13.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-21 07:55:55.000000000', 'files': ['spec/classes/glance_registry_authtoken_spec.rb', 'spec/classes/glance_api_authtoken_spec.rb', 'manifests/api/authtoken.pp', 'manifests/registry/authtoken.pp', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/8e27b383a36dce4e4f6de3ecd8dd8b98ce6b0cc6', 'message': 'Replace port 35357 with 5000 for ""auth_url""\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: I50477c401775d8603495aed5a5ec9ad169847ddd\n'}]",0,569740,8e27b383a36dce4e4f6de3ecd8dd8b98ce6b0cc6,5,3,1,17130,,,0,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: I50477c401775d8603495aed5a5ec9ad169847ddd
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/40/569740/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glance_registry_authtoken_spec.rb', 'spec/classes/glance_api_authtoken_spec.rb', 'manifests/api/authtoken.pp', 'manifests/registry/authtoken.pp', 'README.md']",5,8e27b383a36dce4e4f6de3ecd8dd8b98ce6b0cc6,auth_url," auth_url => 'http://172.17.0.3:5000', www_auth_uri => 'http://172.17.0.3:5000', auth_url => 'http://172.17.0.3:5000', www_auth_uri => 'http://172.17.0.3:5000',"," auth_url => 'http://172.17.0.3:35357', auth_uri => 'http://172.17.0.3:5000', auth_url => 'http://172.17.0.3:35357', auth_uri => 'http://172.17.0.3:5000',",12,12
openstack%2Fpuppet-designate~master~Ia7c4d8812c366ed39e42ce2ac63a368cd2032287,openstack/puppet-designate,master,Ia7c4d8812c366ed39e42ce2ac63a368cd2032287,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 06:46:09.000000000,2018-05-22 05:40:12.000000000,,"[{'_account_id': 17130}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-21 06:46:09.000000000', 'files': ['spec/classes/designate_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/ff4ae53cb2012149bb74eb2b171fc3d290b1bbb9', 'message': 'Replace port 35357 with 5000 for ""auth_url""\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: Ia7c4d8812c366ed39e42ce2ac63a368cd2032287\n'}]",0,569725,ff4ae53cb2012149bb74eb2b171fc3d290b1bbb9,6,4,1,17130,,,0,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Ia7c4d8812c366ed39e42ce2ac63a368cd2032287
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/25/569725/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/designate_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,ff4ae53cb2012149bb74eb2b171fc3d290b1bbb9,auth-url,"# Defaults to 'http://localhost:5000'. $auth_url = 'http://localhost:5000',","# Defaults to 'http://localhost:35357'. $auth_url = 'http://localhost:35357',",4,4
openstack%2Fpuppet-barbican~master~I6197995c80577ee05cb7db10df67da8d0a3e3791,openstack/puppet-barbican,master,I6197995c80577ee05cb7db10df67da8d0a3e3791,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 06:40:18.000000000,2018-05-22 05:39:48.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-21 06:40:18.000000000', 'files': ['spec/classes/barbican_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/79291e2a2d1ec67f31615ace240b93d8e5ada506', 'message': 'Replace port 35357 with 5000 for ""auth_url""\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: I6197995c80577ee05cb7db10df67da8d0a3e3791\n'}]",0,569721,79291e2a2d1ec67f31615ace240b93d8e5ada506,5,3,1,17130,,,0,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: I6197995c80577ee05cb7db10df67da8d0a3e3791
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/21/569721/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/barbican_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,79291e2a2d1ec67f31615ace240b93d8e5ada506,auth-url,"# Defaults to 'http://localhost:5000' $auth_url = 'http://localhost:5000',","# Defaults to 'http://localhost:35357' $auth_url = 'http://localhost:35357',",4,4
openstack%2Fpuppet-freezer~master~I60ff3ec7be95d62010ef120a0446fd14ff8fba30,openstack/puppet-freezer,master,I60ff3ec7be95d62010ef120a0446fd14ff8fba30,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 06:43:26.000000000,2018-05-22 05:39:28.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-21 06:43:26.000000000', 'files': ['spec/classes/freezer_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/3102e6c26c1044de1c1040b23b173c1160d81a46', 'message': 'Replace port 35357 with 5000 for ""auth_url""\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: I60ff3ec7be95d62010ef120a0446fd14ff8fba30\n'}]",0,569723,3102e6c26c1044de1c1040b23b173c1160d81a46,5,3,1,17130,,,0,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: I60ff3ec7be95d62010ef120a0446fd14ff8fba30
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/23/569723/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/freezer_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,3102e6c26c1044de1c1040b23b173c1160d81a46,auth-url,"# Defaults to 'http://localhost:5000'. $auth_url = 'http://localhost:5000',","# Defaults to 'http://localhost:35357'. $auth_url = 'http://localhost:35357',",4,4
openstack%2Fpuppet-manila~master~I49d7345a02f339162f36b789496cfa24a3a2cad7,openstack/puppet-manila,master,I49d7345a02f339162f36b789496cfa24a3a2cad7,"Replace port 35357 with 5000 for ""auth_url""",ABANDONED,2018-05-21 06:33:28.000000000,2018-05-22 05:38:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-21 06:33:28.000000000', 'files': ['spec/classes/manila_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/4fe71d44a8406b31881c2e59028514cb5e1b508f', 'message': 'Replace port 35357 with 5000 for ""auth_url""\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: I49d7345a02f339162f36b789496cfa24a3a2cad7\n'}]",0,569716,4fe71d44a8406b31881c2e59028514cb5e1b508f,4,2,1,17130,,,0,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: I49d7345a02f339162f36b789496cfa24a3a2cad7
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/16/569716/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,4fe71d44a8406b31881c2e59028514cb5e1b508f,auth-url,"# Defaults to 'http://localhost:5000'. $auth_url = 'http://localhost:5000',","# Defaults to 'http://localhost:35357'. $auth_url = 'http://localhost:35357',",4,4
openstack%2Fzaqar~master~Ic4f90ffc609d871a918091d93ee14896dc876be9,openstack/zaqar,master,Ic4f90ffc609d871a918091d93ee14896dc876be9,Update the lower-constrainsts,MERGED,2018-04-21 09:09:27.000000000,2018-05-22 05:26:53.000000000,2018-05-22 05:26:53.000000000,"[{'_account_id': 8846}, {'_account_id': 8871}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28035}]","[{'number': 1, 'created': '2018-04-21 09:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/bd2c52753be32671f724241808649bb67827a669', 'message': 'Update the lower-constrainsts\n\nThe low-constrainsts is totally wrong, it contains\nthe upper ones. This patch copy the right ones from\nopenstack/requirements to fix the issue\n\nChange-Id: Ic4f90ffc609d871a918091d93ee14896dc876be9\n'}, {'number': 2, 'created': '2018-04-21 09:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5388ca3f61894c85f162fb6ae2f83ff5cb2d94ef', 'message': 'Update the lower-constrainsts\n\nThe low-constrainsts is totally wrong, it contains\nthe upper ones. This patch copy the right ones from\nopenstack/requirements to fix the issue\n\nChange-Id: Ic4f90ffc609d871a918091d93ee14896dc876be9\n'}, {'number': 3, 'created': '2018-04-23 01:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/ec9f2823bfc8f682a5e7233833bf624a7a189a18', 'message': 'Update the lower-constrainsts\n\nThe low-constrainsts is totally wrong, it contains\nthe upper ones. This patch copy the right ones from\nopenstack/requirements to fix the issue\n\nChange-Id: Ic4f90ffc609d871a918091d93ee14896dc876be9\n'}, {'number': 4, 'created': '2018-05-03 01:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e7b41851afb6202e3b706f44aefcf63f78b83a7a', 'message': 'Update the lower-constrainsts\n\nThe low-constrainsts is totally wrong, it contains\nthe upper ones. This patch copy the right ones from\nopenstack/requirements to fix the issue\n\nChange-Id: Ic4f90ffc609d871a918091d93ee14896dc876be9\n'}, {'number': 5, 'created': '2018-05-09 06:30:50.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/cab8a15a41514de7d830ab764b9991bdb83876fe', 'message': 'Update the lower-constrainsts\n\nThe low-constrainsts is totally wrong, it contains\nthe upper ones. This patch copy the right ones from\nopenstack/requirements to fix the issue\n\nChange-Id: Ic4f90ffc609d871a918091d93ee14896dc876be9\n'}]",0,563400,cab8a15a41514de7d830ab764b9991bdb83876fe,23,6,5,28035,,,0,"Update the lower-constrainsts

The low-constrainsts is totally wrong, it contains
the upper ones. This patch copy the right ones from
openstack/requirements to fix the issue

Change-Id: Ic4f90ffc609d871a918091d93ee14896dc876be9
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/00/563400/3 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,bd2c52753be32671f724241808649bb67827a669,update_low,alembic==0.8.10 amqp==2.1.1 appdirs==1.3.0 autobahn==0.17.1 Babel==2.3.4 cachetools==2.0.0 certifi==2017.7.27.1cliff==2.8.0 cmd2==0.8.0 contextlib2==0.4.0 coverage==4.0 ddt==1.0.1 debtcollector==1.2.0 decorator==3.4.0 doc8==0.6.0 docutils==0.11 dogpile.cache==0.6.2 dulwich==0.15.0eventlet==0.18.2falcon==1.0.0 fasteners==0.7.1 # flake8==2.5.5futurist==1.2.0 greenlet==0.4.10imagesize==0.7.1 iso8601==0.1.11keystonemiddleware==4.17.0 kombu==4.0.0Mako==0.4.0monotonic==0.6 mox3==0.20.0 msgpack==0.5.1 netaddr==0.7.18 netifaces==0.10.4 openstackdocstheme==1.18.1 os-api-ref==1.4.0 os-client-config==1.28.0oslo.cache==1.26.0oslo.context==2.19.2 oslo.db==4.27.0 oslo.i18n==3.15.3 oslo.log==3.36.0 oslo.messaging==5.29.0 oslo.middleware==3.31.0 oslo.policy==1.30.0 oslo.reports==1.18.0 oslo.serialization==2.18.0 oslo.service==1.24.0 oslo.utils==3.33.0 oslotest==3.2.0 osprofiler==1.4.0PasteDeploy==1.5.0 pbr==2.0.0psutil==3.2.2 pycadf==1.1.0pymongo==3.0.2 PyMySQL==0.7.6 pyparsing==2.1.0 pyperclip==1.5.27 python-dateutil==2.5.3python-keystoneclient==3.8.0 python-memcached==1.56python-subunit==1.0.0 python-swiftclient==3.2.0 pytz==2013.6redis==2.10.0 reno==2.5.0requests==2.14.2 requestsexceptions==1.2.0 restructuredtext-lint==1.1.1 rfc3986==0.3.1 Routes==2.3.1 six==1.10.0SQLAlchemy==1.0.10sqlparse==0.2.2 statsd==3.2.1 stestr==1.0.0 stevedore==1.20.0tenacity==4.4.0 testrepository==0.0.18 testresources==2.0.0 testscenarios==0.4 testtools==2.2.0trollius==2.1;python_version=='2.7' txaio==2.8.2urllib3==1.21.1voluptuous==0.8.9 WebOb==1.7.1 websocket-client==0.44.0 wrapt==1.7.0,alembic==0.9.8 amqp==2.2.2 appdirs==1.4.3 autobahn==18.3.1 Babel==2.5.3 cachetools==2.0.1 certifi==2018.1.18cliff==2.11.0 cmd2==0.8.1 contextlib2==0.5.5 coverage==4.5.1 ddt==1.1.2 debtcollector==1.19.0 decorator==4.2.1 doc8==0.8.0 docutils==0.14 dogpile.cache==0.6.5 dulwich==0.19.0eventlet==0.20.0falcon==1.4.1 fasteners==0.14.1flake8==2.5.5futurist==1.6.0 greenlet==0.4.13imagesize==1.0.0 iso8601==0.1.12keystonemiddleware==4.21.0 kombu==4.1.0Mako==1.0.7mccabe==0.2.1monotonic==1.4 mox3==0.25.0 msgpack==0.5.6 netaddr==0.7.19 netifaces==0.10.6 openstackdocstheme==1.20.0 os-api-ref==1.5.0 os-client-config==1.29.0oslo.cache==1.29.0oslo.context==2.20.0 oslo.db==4.35.0 oslo.i18n==3.20.0 oslo.log==3.37.0 oslo.messaging==5.36.0 oslo.middleware==3.35.0 oslo.policy==1.34.0 oslo.reports==1.27.0 oslo.serialization==2.25.0 oslo.service==1.30.0 oslo.utils==3.36.0 oslotest==3.3.0 osprofiler==2.0.0PasteDeploy==1.5.2 pbr==3.1.1psutil==5.4.3 pycadf==2.7.0 pyflakes==0.8.1pymongo==3.6.1 PyMySQL==0.8.0 pyparsing==2.2.0 pyperclip==1.6.0 python-dateutil==2.7.0python-keystoneclient==3.15.0 python-memcached==1.59python-subunit==1.2.0 python-swiftclient==3.5.0 pytz==2018.3redis==2.10.6 reno==2.7.0requests==2.18.4 requestsexceptions==1.4.0 restructuredtext-lint==1.1.3 rfc3986==1.1.0 Routes==2.4.1 six==1.11.0SQLAlchemy==1.2.5sqlparse==0.2.4 statsd==3.2.2 stestr==2.0.0 stevedore==1.28.0tenacity==4.9.0 testrepository==0.0.20 testresources==2.0.1 testscenarios==0.5.0 testtools==2.3.0trollius==2.2 txaio==2.9.0urllib3==1.22voluptuous==0.11.1 WebOb==1.7.4 websocket-client==0.47.0 wrapt==1.10.11,90,92
openstack%2Fneutron~master~I3828d89a2539caf41eb2c3573aa9c541e0b9b885,openstack/neutron,master,I3828d89a2539caf41eb2c3573aa9c541e0b9b885,Fix W605 warnings,MERGED,2018-05-17 07:22:27.000000000,2018-05-22 05:02:58.000000000,2018-05-19 01:00:44.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 07:22:27.000000000', 'files': ['doc/source/conf.py', 'neutron/tests/unit/agent/linux/test_ip_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f6054329bd50a6f7837f1633d53f6805a8f2ebd', 'message': 'Fix W605 warnings\n\n""W605 invalid escape sequence"" would be a error in future version\nof python.\n\nChange-Id: I3828d89a2539caf41eb2c3573aa9c541e0b9b885\n'}]",0,569042,4f6054329bd50a6f7837f1633d53f6805a8f2ebd,9,4,1,9200,,,0,"Fix W605 warnings

""W605 invalid escape sequence"" would be a error in future version
of python.

Change-Id: I3828d89a2539caf41eb2c3573aa9c541e0b9b885
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/569042/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'neutron/tests/unit/agent/linux/test_ip_monitor.py']",2,4f6054329bd50a6f7837f1633d53f6805a8f2ebd,fix-w605, r'scope global dynamic wlp3s0\ valid_lft 300sec ', 'scope global dynamic wlp3s0\ valid_lft 300sec ',4,4
openstack%2Fzun~master~I970c8dd876c54d86608b0647690845a4c0de9453,openstack/zun,master,I970c8dd876c54d86608b0647690845a4c0de9453,Trivial: Update pypi url to new url,MERGED,2018-04-27 11:20:23.000000000,2018-05-22 04:45:32.000000000,2018-05-22 04:45:32.000000000,"[{'_account_id': 21486}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 25553}, {'_account_id': 25571}, {'_account_id': 26297}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-04-27 11:20:23.000000000', 'files': ['specs/zun-api-validation.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/b2553e0c834e79e9eb6a3d620e4c4e248ea1d5e7', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I970c8dd876c54d86608b0647690845a4c0de9453\n'}]",0,564735,b2553e0c834e79e9eb6a3d620e4c4e248ea1d5e7,13,8,1,26297,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I970c8dd876c54d86608b0647690845a4c0de9453
",git fetch https://review.opendev.org/openstack/zun refs/changes/35/564735/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/zun-api-validation.rst'],1,b2553e0c834e79e9eb6a3d620e4c4e248ea1d5e7,,(https://pypi.org/project/jsonschema/). A jsonschema validator object can* [JSON Schema on PyPI] (https://pypi.org/project/jsonschema/),(https://pypi.python.org/pypi/jsonschema). A jsonschema validator object can* [JSON Schema on PyPI] (https://pypi.python.org/pypi/jsonschema),2,2
openstack%2Fpython-qinlingclient~master~Ie0ce88d293e124f86f6b4b04ea7a4e1cb20c5e90,openstack/python-qinlingclient,master,Ie0ce88d293e124f86f6b4b04ea7a4e1cb20c5e90,Add commands to scale up/down function workers,MERGED,2018-03-22 14:14:15.000000000,2018-05-22 04:37:07.000000000,2018-05-22 04:37:07.000000000,"[{'_account_id': 6732}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 14:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-qinlingclient/commit/88922c4d0c96a7772b1cbbc8818247c23698284b', 'message': 'Add commands to scale up/down function workers\n\nChange-Id: Ie0ce88d293e124f86f6b4b04ea7a4e1cb20c5e90\n'}, {'number': 2, 'created': '2018-05-18 09:19:17.000000000', 'files': ['qinlingclient/v1/function.py', 'setup.cfg', 'qinlingclient/osc/v1/function.py'], 'web_link': 'https://opendev.org/openstack/python-qinlingclient/commit/207f52c1c7cc17df0a87b4b90d69a4e5c72b0c2a', 'message': 'Add commands to scale up/down function workers\n\nChange-Id: Ie0ce88d293e124f86f6b4b04ea7a4e1cb20c5e90\n'}]",6,555316,207f52c1c7cc17df0a87b4b90d69a4e5c72b0c2a,10,3,2,21781,,,0,"Add commands to scale up/down function workers

Change-Id: Ie0ce88d293e124f86f6b4b04ea7a4e1cb20c5e90
",git fetch https://review.opendev.org/openstack/python-qinlingclient refs/changes/16/555316/2 && git format-patch -1 --stdout FETCH_HEAD,"['qinlingclient/v1/function.py', 'setup.cfg', 'qinlingclient/osc/v1/function.py']",3,88922c4d0c96a7772b1cbbc8818247c23698284b,function_scale,"def worker_count(value): try: value = int(value) if value <= 0: raise ValueError except ValueError: raise exceptions.QinlingClientException( 'Worker count must be a positive integer.' ) return value class Scaleup(command.Command): def get_parser(self, prog_name): parser = super(Scaleup, self).get_parser(prog_name) parser.add_argument('function', help='Function ID.') parser.add_argument('--count', type=worker_count, default=1, help='Number of workers to scale up.') return parser def take_action(self, parsed_args): client = self.app.client_manager.function_engine success_msg = ""Request to scale up function %s has been accepted."" error_msg = ""Unable to scale up the specified function."" try: client.functions.scaleup(parsed_args.function, parsed_args.count) print(success_msg % parsed_args.function) except Exception as e: print(e) raise exceptions.QinlingClientException(error_msg) class Scaledown(command.Command): def get_parser(self, prog_name): parser = super(Scaledown, self).get_parser(prog_name) parser.add_argument('function', help='Function ID.') parser.add_argument('--count', type=worker_count, default=1, help='Number of workers to scale down.') return parser def take_action(self, parsed_args): client = self.app.client_manager.function_engine success_msg = ""Request to scale down function %s has been accepted."" error_msg = ""Unable to scale down the specified function."" try: client.functions.scaledown(parsed_args.function, parsed_args.count) print(success_msg % parsed_args.function) except Exception as e: print(e) raise exceptions.QinlingClientException(error_msg)",,74,0
openstack%2Fopenstack-ansible-os_neutron~master~I79be52db2116e47fd29dce14712735768cd340e7,openstack/openstack-ansible-os_neutron,master,I79be52db2116e47fd29dce14712735768cd340e7,Deprecate auth_uri option,MERGED,2018-04-03 06:17:11.000000000,2018-05-22 04:25:04.000000000,2018-04-30 06:56:54.000000000,"[{'_account_id': 7353}, {'_account_id': 9414}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-03 06:17:11.000000000', 'files': ['templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/fb6542ee1cbfe0b7c5d4156b995a5ec68931815e', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I79be52db2116e47fd29dce14712735768cd340e7\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558389,fb6542ee1cbfe0b7c5d4156b995a5ec68931815e,26,5,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I79be52db2116e47fd29dce14712735768cd340e7
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/89/558389/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron.conf.j2'],1,fb6542ee1cbfe0b7c5d4156b995a5ec68931815e,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Ftempest~master~Ie7c7d74e1989b568284a38f1dac83579386c3a79,openstack/tempest,master,Ie7c7d74e1989b568284a38f1dac83579386c3a79,Refactor test 'test_boot_server_from_encrypted_volume_luks' to use cirros image,ABANDONED,2017-08-29 13:53:02.000000000,2018-05-22 04:24:49.000000000,,"[{'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 23709}]","[{'number': 1, 'created': '2017-08-29 13:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d2e2146696e8b466144ec27bb3499f88a04495e5', 'message': ""Refactor test 'test_boot_server_from_encrypted_volume_luks' to use cirros image\n\nThis test is uploaded, since there was a bug [1] while booting an instance\nfrom an encrypted volume created from a whole image.\n\n[1] https://bugs.launchpad.net/nova/+bug/1465656\n\nChange-Id: Ie7c7d74e1989b568284a38f1dac83579386c3a79\n""}, {'number': 2, 'created': '2017-08-30 04:49:53.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_volume_boot_pattern.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6c6c74a6f82356b5820a8fdb6d75ce7f09bcc33e', 'message': ""Refactor test 'test_boot_server_from_encrypted_volume_luks' to use cirros image\n\nThis test is uploaded, since there was a bug [1] while booting an instance\nfrom an encrypted volume created from a whole image.\n\n[1] https://bugs.launchpad.net/nova/+bug/1465656\n\nDepends-On: I0975fc0c49ec243025d076f0406e28c4f5522d3a\nChange-Id: Ie7c7d74e1989b568284a38f1dac83579386c3a79\n""}]",3,498813,6c6c74a6f82356b5820a8fdb6d75ce7f09bcc33e,11,3,2,19262,,,0,"Refactor test 'test_boot_server_from_encrypted_volume_luks' to use cirros image

This test is uploaded, since there was a bug [1] while booting an instance
from an encrypted volume created from a whole image.

[1] https://bugs.launchpad.net/nova/+bug/1465656

Depends-On: I0975fc0c49ec243025d076f0406e28c4f5522d3a
Change-Id: Ie7c7d74e1989b568284a38f1dac83579386c3a79
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/498813/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/scenario/test_volume_boot_pattern.py']",2,d2e2146696e8b466144ec27bb3499f88a04495e5,boot_encrypted_volume," volume_type='luks', imageRef=CONF.compute.image_ref)"," volume_type='luks') self.volumes_client.set_bootable_volume(volume['id'], bootable=True)",6,5
openstack%2Fpuppet-tripleo~stable%2Fqueens~I8bc0590f1399eaf9e2bb8e06986c12ba0b807b3d,openstack/puppet-tripleo,stable/queens,I8bc0590f1399eaf9e2bb8e06986c12ba0b807b3d,Prepare 8.3.3 (queens),MERGED,2018-05-22 00:26:04.000000000,2018-05-22 04:24:08.000000000,2018-05-22 04:24:08.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 00:26:04.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3cfef05eeeb922042a551b5133f6a1c23cd19746', 'message': 'Prepare 8.3.3 (queens)\n\nChange-Id: I8bc0590f1399eaf9e2bb8e06986c12ba0b807b3d\n'}]",0,569895,3cfef05eeeb922042a551b5133f6a1c23cd19746,6,2,1,3153,,,0,"Prepare 8.3.3 (queens)

Change-Id: I8bc0590f1399eaf9e2bb8e06986c12ba0b807b3d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/95/569895/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,3cfef05eeeb922042a551b5133f6a1c23cd19746,queens/may/2018," ""version"": ""8.3.3"","," ""version"": ""8.3.2"",",1,1
openstack%2Fpuppet-tripleo~stable%2Fpike~Ia4a7a0ee30d188be77fdb54199485eed692815a9,openstack/puppet-tripleo,stable/pike,Ia4a7a0ee30d188be77fdb54199485eed692815a9,Prepare 7.4.13 (pike),MERGED,2018-05-22 00:25:40.000000000,2018-05-22 04:24:07.000000000,2018-05-22 04:24:07.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 00:25:40.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e510993a5ef0855c3b314f97a24089f0753ef309', 'message': 'Prepare 7.4.13 (pike)\n\nChange-Id: Ia4a7a0ee30d188be77fdb54199485eed692815a9\n'}]",0,569894,e510993a5ef0855c3b314f97a24089f0753ef309,6,2,1,3153,,,0,"Prepare 7.4.13 (pike)

Change-Id: Ia4a7a0ee30d188be77fdb54199485eed692815a9
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/94/569894/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,e510993a5ef0855c3b314f97a24089f0753ef309,pike/may/2018," ""version"": ""7.4.13"","," ""version"": ""7.4.12"",",1,1
openstack%2Fpuppet-tripleo~stable%2Focata~I27af19c546019c022357464d3383a77b280eb94b,openstack/puppet-tripleo,stable/ocata,I27af19c546019c022357464d3383a77b280eb94b,Prepare 6.5.13 (ocata),MERGED,2018-05-22 00:25:12.000000000,2018-05-22 04:24:07.000000000,2018-05-22 04:24:06.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 00:25:12.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/29f726588f241008442f5148ae2693672a2f4f36', 'message': 'Prepare 6.5.13 (ocata)\n\nChange-Id: I27af19c546019c022357464d3383a77b280eb94b\n'}]",0,569892,29f726588f241008442f5148ae2693672a2f4f36,6,2,1,3153,,,0,"Prepare 6.5.13 (ocata)

Change-Id: I27af19c546019c022357464d3383a77b280eb94b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/92/569892/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,29f726588f241008442f5148ae2693672a2f4f36,ocata/may/2018," ""version"": ""6.5.13"","," ""version"": ""6.5.12"",",1,1
openstack%2Fpuppet-tripleo~stable%2Fnewton~I36f713d7772e20ed67bebfaa09b3eddeec30f0d5,openstack/puppet-tripleo,stable/newton,I36f713d7772e20ed67bebfaa09b3eddeec30f0d5,Prepare 5.6.11 (newton),MERGED,2018-05-22 00:24:37.000000000,2018-05-22 04:24:06.000000000,2018-05-22 04:24:06.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-22 00:24:37.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/95c442e1d044d627e402c7bfbbe093763ec96b66', 'message': 'Prepare 5.6.11 (newton)\n\nChange-Id: I36f713d7772e20ed67bebfaa09b3eddeec30f0d5\n'}]",0,569891,95c442e1d044d627e402c7bfbbe093763ec96b66,6,2,1,3153,,,0,"Prepare 5.6.11 (newton)

Change-Id: I36f713d7772e20ed67bebfaa09b3eddeec30f0d5
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/91/569891/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,95c442e1d044d627e402c7bfbbe093763ec96b66,newton/may/2018," ""version"": ""5.6.11"","," ""version"": ""5.6.10"",",1,1
openstack%2Fpython-tripleoclient~master~Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1,openstack/python-tripleoclient,master,Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1,"Add ""upgrade_cleanup"" option to undercloud.conf",MERGED,2018-05-18 05:07:03.000000000,2018-05-22 04:24:05.000000000,2018-05-22 04:24:05.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-18 05:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8c5d6ea91eb0d7f91eab3423195962b34489387a', 'message': 'Add ""undercloud_cleanup"" option to undercloud.conf\n\nWhen upgrading a non-containerized undercloud to a containerized\nundercloud, operators might want to purge old packages/config that were\ndeployed in Queens. It can be done by setting undercloud_cleanup to\nTrue. The default is false so the cleanup won\'t happen in default\nupgrades.\n\nChange-Id: Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1\n'}, {'number': 2, 'created': '2018-05-18 05:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/535a6a07792a954c55ac224f58b45dd9742aced3', 'message': 'Add ""undercloud_cleanup"" option to undercloud.conf\n\nWhen upgrading a non-containerized undercloud to a containerized\nundercloud, operators might want to purge old packages/config that were\ndeployed in Queens. It can be done by setting undercloud_cleanup to\nTrue. The default is false so the cleanup won\'t happen in default\nupgrades.\n\nChange-Id: Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1\n'}, {'number': 3, 'created': '2018-05-18 14:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/961ef370c6736860d712a89f4b8c8ee7d5a3f99a', 'message': 'Add ""upgrade_cleanup"" option to undercloud.conf\n\nWhen upgrading a non-containerized undercloud to a containerized\nundercloud, operators might want to purge old packages/config that were\ndeployed in Queens. It can be done by setting upgrade_cleanup to\nTrue. The default is false so the cleanup won\'t happen in default\nupgrades.\n\nChange-Id: Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1\n'}, {'number': 4, 'created': '2018-05-18 15:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d0ac980109fbf9b20bbda9bc369fb8115f7a3f15', 'message': 'Add ""upgrade_cleanup"" option to undercloud.conf\n\nWhen upgrading a non-containerized undercloud to a containerized\nundercloud, operators might want to purge old packages/config that were\ndeployed in Queens. It can be done by setting upgrade_cleanup to\nTrue. The default is false so the cleanup won\'t happen in default\nupgrades.\n\nChange-Id: Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1\n'}, {'number': 5, 'created': '2018-05-19 01:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a25f23b51c394ccf3bf2cfa4888948a8d1460c07', 'message': 'Add ""upgrade_cleanup"" option to undercloud.conf\n\nWhen upgrading a non-containerized undercloud to a containerized\nundercloud, operators might want to purge old packages/config that were\ndeployed in Queens. It can be done by setting upgrade_cleanup to\nTrue. The default is false so the cleanup won\'t happen in default\nupgrades.\n\nChange-Id: Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1\n'}, {'number': 6, 'created': '2018-05-19 02:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/41ba0f94bb735af6ccf47866596ac03582788e40', 'message': 'Add ""upgrade_cleanup"" option to undercloud.conf\n\nWhen upgrading a non-containerized undercloud to a containerized\nundercloud, operators might want to purge old packages/config that were\ndeployed in Queens. It can be done by setting upgrade_cleanup to\nTrue. The default is false so the cleanup won\'t happen in default\nupgrades.\n\nChange-Id: Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1\n'}, {'number': 7, 'created': '2018-05-21 22:26:18.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'releasenotes/notes/undercloud_cleanup-e52612bfd2ff4148.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4b35d346514b167b0a65aa543a7577caa47cb5e9', 'message': 'Add ""upgrade_cleanup"" option to undercloud.conf\n\nWhen upgrading a non-containerized undercloud to a containerized\nundercloud, operators might want to purge old packages/config that were\ndeployed in Queens. It can be done by setting upgrade_cleanup to\nTrue. The default is false so the cleanup won\'t happen in default\nupgrades.\n\nChange-Id: Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1\n'}]",3,569327,4b35d346514b167b0a65aa543a7577caa47cb5e9,29,6,7,3153,,,0,"Add ""upgrade_cleanup"" option to undercloud.conf

When upgrading a non-containerized undercloud to a containerized
undercloud, operators might want to purge old packages/config that were
deployed in Queens. It can be done by setting upgrade_cleanup to
True. The default is false so the cleanup won't happen in default
upgrades.

Change-Id: Ie770f72a8bf9f13ce7258a22ba9f96e5c70a35c1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/27/569327/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'releasenotes/notes/undercloud_cleanup-e52612bfd2ff4148.yaml']",4,8c5d6ea91eb0d7f91eab3423195962b34489387a,upgrade/purge,"--- features: - | The new option ""undercloud_cleanup"" is set to False by default but when set to True, it'll cleanup the packages and configurations installed on the undercloud after an upgrade. ",,14,0
openstack%2Fpuppet-nova~master~I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d,openstack/puppet-nova,master,I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d,Deprecate auth_uri option,MERGED,2018-04-03 08:55:51.000000000,2018-05-22 04:23:54.000000000,2018-05-02 19:31:14.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-03 08:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a545a035b5dc65a63161c3276e4c2b9d9de97be8', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d\nDepends-On: I4c82a63baabd6b9304b302c97cd751a0103d8316\nCloses-Bug: #1759098\n'}, {'number': 2, 'created': '2018-04-04 20:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9ea7844f8b788cfaa083a03c836d47cf27c2b965', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nCo-Authored-By: Tobias Urdin <tobias@busybox.se>\nChange-Id: I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d\nDepends-On: I4c82a63baabd6b9304b302c97cd751a0103d8316\nCloses-Bug: #1759098\n'}, {'number': 3, 'created': '2018-04-05 02:50:22.000000000', 'files': ['releasenotes/notes/deprecate_auth_uri_parameter-82edf8271e3c276f.yaml', 'spec/classes/nova_keystone_authtoken_spec.rb', 'lib/puppet/type/nova_flavor.rb', 'spec/classes/nova_metadata_novajoin_authtoken_spec.rb', 'lib/puppet/type/nova_aggregate.rb', 'manifests/api.pp', 'lib/puppet/provider/nova.rb', 'spec/unit/provider/nova_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/metadata/novajoin/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/20d93c4148c3d5082315263e7754267f50cb46bd', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d\nDepends-On: I4c82a63baabd6b9304b302c97cd751a0103d8316\nCloses-Bug: #1759098\n'}]",0,558451,20d93c4148c3d5082315263e7754267f50cb46bd,16,6,3,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I0dd36ef1f1f5dcdc57413736ecb8f2555712c36d
Depends-On: I4c82a63baabd6b9304b302c97cd751a0103d8316
Closes-Bug: #1759098
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/51/558451/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_auth_uri_parameter-82edf8271e3c276f.yaml', 'spec/classes/nova_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,a545a035b5dc65a63161c3276e4c2b9d9de97be8,bug/1759098,"# [*www_authenticate_uri*]# DEPRECATED PARAMETERS # # [*auth_uri*] # (Optional) Complete public Identity API endpoint. # Defaults to undef # $www_authenticate_uri = 'http://127.0.0.1:5000/', # DEPRECATED PARAMETERS $auth_uri = undef, if $auth_uri { warning('The auth_uri parameter is deprecated. Please use www_authenticate_uri instead.') } $www_authenticate_uri_real = pick($auth_uri, $www_authenticate_uri) www_authenticate_uri => $www_authenticate_uri_real,","# [*auth_uri*] $auth_uri = 'http://127.0.0.1:5000/', auth_uri => $auth_uri,",23,6
openstack%2Ftempest~master~I3eae31158a84af9d9dd77edbdcd0f78575d533b0,openstack/tempest,master,I3eae31158a84af9d9dd77edbdcd0f78575d533b0,Define wait_until='ACTIVE' as default argument,ABANDONED,2017-12-21 09:32:30.000000000,2018-05-22 04:23:35.000000000,,"[{'_account_id': 5689}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 13252}, {'_account_id': 19262}, {'_account_id': 20190}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-12-21 09:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/623beb8d6b0e31f363b979d11a229db00e9e4546', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 2, 'created': '2017-12-21 09:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c69552b3daa2465c40be15c1fdbc613e0476c33b', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 3, 'created': '2017-12-21 09:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a05c08e1d5176f284585a38bd0058e136ea773e5', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 4, 'created': '2017-12-21 09:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e7e177145297d50abc0186e1e64b094fe2434997', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 5, 'created': '2017-12-21 11:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/53802f37583c050b54d5fa93301496d1ad05a32d', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 6, 'created': '2017-12-21 13:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c3cdc948c4ea43374d90058223cb4c72a5442d68', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 7, 'created': '2017-12-21 14:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/be092dbfa4614df2ed4d6b3694d0a0467d5eac3d', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 8, 'created': '2017-12-22 03:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a5845b0ea81de7cdf75e0d2ac19e6fe06c8b94a', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 9, 'created': '2017-12-22 03:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b0cb3cfdacad32e12b31646e29b727cb33d35903', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 10, 'created': '2017-12-22 03:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d10620988bdd21ce79c6687ff97ba15df25488ac', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 11, 'created': '2017-12-27 06:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/29f7b1c6e611f5cdf2ddb6ed41fdb9ebe47ef7d6', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 12, 'created': '2017-12-27 06:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/64599d9c088a2c4518819a43e69e2ac409d250de', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 13, 'created': '2017-12-31 06:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8043781793ff285288af2e84ac51b0807eb4ba26', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}, {'number': 14, 'created': '2018-01-15 05:56:08.000000000', 'files': ['tempest/api/compute/servers/test_list_servers_negative.py', 'tempest/api/compute/admin/test_volumes_negative.py', 'tempest/api/compute/admin/test_servers_on_multinodes.py', 'tempest/api/compute/servers/test_server_metadata.py', 'tempest/api/compute/admin/test_server_diagnostics_negative.py', 'tempest/api/compute/servers/test_instance_actions.py', 'tempest/api/compute/admin/test_fixed_ips_negative.py', 'tempest/api/compute/admin/test_server_diagnostics.py', 'tempest/api/compute/servers/test_instance_actions_negative.py', 'tempest/api/compute/base.py', 'tempest/api/compute/floating_ips/test_floating_ips_actions.py', 'tempest/api/compute/admin/test_fixed_ips.py', 'tempest/api/compute/servers/test_create_server_multi_nic.py', 'tempest/api/compute/servers/test_server_rescue_negative.py', 'tempest/api/compute/servers/test_multiple_create.py', 'tempest/api/compute/servers/test_server_group.py', 'tempest/api/compute/servers/test_server_addresses_negative.py', 'releasenotes/notes/set-wait_until-argument-true-71c4a6fbc1ee52dc.yaml', 'tempest/api/compute/servers/test_list_server_filters.py', 'tempest/api/compute/servers/test_server_password.py', 'tempest/api/compute/volumes/test_attach_volume.py', 'tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/servers/test_attach_interfaces.py', 'tempest/api/compute/images/test_images_oneserver_negative.py', 'tempest/api/compute/servers/test_servers_negative.py', 'tempest/api/compute/servers/test_virtual_interfaces.py', 'tempest/api/compute/admin/test_live_migration.py', 'tempest/api/compute/servers/test_delete_server.py', 'tempest/api/compute/servers/test_server_tags.py', 'tempest/api/compute/images/test_images_negative.py', 'tempest/api/compute/images/test_list_image_filters.py', 'tempest/api/compute/floating_ips/test_floating_ips_actions_negative.py', 'tempest/api/compute/servers/test_servers.py', 'tempest/api/compute/admin/test_aggregates.py', 'tempest/api/compute/admin/test_servers_negative.py', 'tempest/api/compute/admin/test_live_migration_negative.py', 'tempest/api/compute/admin/test_servers.py', 'tempest/api/compute/admin/test_migrations.py', 'tempest/api/compute/servers/test_server_personality.py', 'tempest/api/compute/admin/test_volume_swap.py', 'tempest/api/compute/servers/test_server_addresses.py', 'tempest/api/compute/servers/test_create_server.py', 'tempest/api/compute/security_groups/test_security_groups.py', 'tempest/api/compute/images/test_images.py', 'tempest/api/compute/servers/test_server_metadata_negative.py', 'tempest/api/compute/servers/test_disk_config.py', 'tempest/api/compute/admin/test_delete_server.py', 'tempest/api/compute/admin/test_create_server.py', 'tempest/api/compute/servers/test_novnc.py', 'tempest/api/compute/admin/test_simple_tenant_usage.py', 'tempest/api/compute/servers/test_server_rescue.py', 'tempest/api/compute/volumes/test_attach_volume_negative.py', 'tempest/api/compute/images/test_images_oneserver.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a711a5d299f454a8a5017e718681fa02ff1ed4d0', 'message': ""Define wait_until='ACTIVE' as default argument\n\nAlmost every test wait for the server to reach a 'ACTIVE' status.\nI suggest define wait_until='ACTIVE' as default argument for\n'create_test_server' helper.\n\nChange-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0\n""}]",4,529522,a711a5d299f454a8a5017e718681fa02ff1ed4d0,42,10,14,19262,,,0,"Define wait_until='ACTIVE' as default argument

Almost every test wait for the server to reach a 'ACTIVE' status.
I suggest define wait_until='ACTIVE' as default argument for
'create_test_server' helper.

Change-Id: I3eae31158a84af9d9dd77edbdcd0f78575d533b0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/22/529522/6 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_list_servers_negative.py', 'tempest/api/compute/admin/test_volumes_negative.py', 'tempest/api/compute/admin/test_servers_on_multinodes.py', 'tempest/api/compute/servers/test_server_metadata.py', 'tempest/api/compute/admin/test_server_diagnostics_negative.py', 'tempest/api/compute/servers/test_instance_actions.py', 'tempest/api/compute/admin/test_fixed_ips_negative.py', 'tempest/api/compute/admin/test_server_diagnostics.py', 'tempest/api/compute/servers/test_instance_actions_negative.py', 'tempest/api/compute/base.py', 'tempest/api/compute/floating_ips/test_floating_ips_actions.py', 'tempest/api/compute/admin/test_fixed_ips.py', 'tempest/api/compute/servers/test_create_server_multi_nic.py', 'tempest/api/compute/servers/test_server_rescue_negative.py', 'tempest/api/compute/servers/test_multiple_create.py', 'tempest/api/compute/servers/test_server_group.py', 'tempest/api/compute/servers/test_server_addresses_negative.py', 'tempest/api/compute/servers/test_list_server_filters.py', 'tempest/api/compute/servers/test_server_password.py', 'test_file', 'tempest/api/compute/volumes/test_attach_volume.py', 'tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/servers/test_attach_interfaces.py', 'tempest/api/compute/images/test_images_oneserver_negative.py', 'tempest/api/compute/servers/test_servers_negative.py', 'tempest/api/compute/servers/test_virtual_interfaces.py', 'tempest/api/compute/admin/test_live_migration.py', 'tempest/api/compute/servers/test_delete_server.py', 'tempest/api/compute/servers/test_server_tags.py', 'new.txt', 'tempest/api/compute/images/test_images_negative.py', 'tempest/api/compute/images/test_list_image_filters.py', 'tempest/api/compute/floating_ips/test_floating_ips_actions_negative.py', 'tempest/api/compute/servers/test_servers.py', 'tempest/api/compute/admin/test_aggregates.py', 'tempest/api/compute/admin/test_servers_negative.py', 'tempest/api/compute/admin/test_live_migration_negative.py', 'tempest/api/compute/admin/test_servers.py', 'tempest/api/compute/admin/test_migrations.py', 'tempest/api/compute/servers/test_server_personality.py', 'tempest/api/compute/admin/test_volume_swap.py', 'tempest/api/compute/servers/test_server_addresses.py', 'tempest/api/compute/servers/test_create_server.py', 'tempest/api/compute/security_groups/test_security_groups.py', 'tempest/api/compute/images/test_images.py', 'tempest/api/compute/servers/test_server_metadata_negative.py', 'tempest/api/compute/servers/test_disk_config.py', 'tempest/api/compute/admin/test_delete_server.py', 'tempest/api/compute/admin/test_create_server.py', 'tempest/api/compute/servers/test_novnc.py', 'tempest/api/compute/admin/test_simple_tenant_usage.py', 'tempest/api/compute/servers/test_server_rescue.py', 'tempest/api/compute/admin/test_auto_allocate_network.py', 'tempest/api/compute/volumes/test_attach_volume_negative.py', 'tempest/api/compute/images/test_images_oneserver.py']",55,623beb8d6b0e31f363b979d11a229db00e9e4546,wait_until, cls.server_id = cls.create_test_server()['id'] ), cls.server_id = cls.create_test_server(wait_until='ACTIVE')['id'] wait_until='ACTIVE'),8700,196
openstack%2Ftempest~master~I2ead4264b77bc591b6cd10f3e1081ad9748d997f,openstack/tempest,master,I2ead4264b77bc591b6cd10f3e1081ad9748d997f,Create a snapshot from an extended volume,ABANDONED,2017-02-15 14:09:29.000000000,2018-05-22 04:23:11.000000000,,"[{'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 19262}, {'_account_id': 20190}, {'_account_id': 21187}, {'_account_id': 25558}]","[{'number': 1, 'created': '2017-02-15 14:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c920740564b567bc85a9e00af1c6bba625a5f16f', 'message': 'Create a snapshot from an extended volume\n\nThe test validates that snapshot size is the same\nas the extended volume.\n\nChange-Id: I2ead4264b77bc591b6cd10f3e1081ad9748d997f\n'}, {'number': 2, 'created': '2017-02-22 08:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6ef10c7706bda73c34b560d1a00ae054f167b975', 'message': 'Create a snapshot from an extended volume\n\nThe test validates that snapshot size is the same\nas the extended volume.\n\nChange-Id: I2ead4264b77bc591b6cd10f3e1081ad9748d997f\n'}, {'number': 3, 'created': '2017-02-26 07:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ce3ea20816933fb0676f747250905847fbd1c2dd', 'message': 'Create a snapshot from an extended volume\n\nThe test validates that snapshot size is the same\nas the extended volume.\n\nChange-Id: I2ead4264b77bc591b6cd10f3e1081ad9748d997f\n'}, {'number': 4, 'created': '2017-03-14 07:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4a10fc2e30ab1e3c5c0f94d96b71aed831eb6d9c', 'message': 'Create a snapshot from an extended volume\n\nThe test validates that snapshot size is the same\nas the extended volume.\n\nChange-Id: I2ead4264b77bc591b6cd10f3e1081ad9748d997f\n'}, {'number': 5, 'created': '2017-03-26 08:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/45ffbba10e5c1d81bc7264c5cbb6f09899b55011', 'message': 'Create a snapshot from an extended volume\n\nThe test validates that snapshot size is the same\nas the extended volume.\n\nChange-Id: I2ead4264b77bc591b6cd10f3e1081ad9748d997f\n'}, {'number': 6, 'created': '2017-03-26 08:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6630a57679aaacbe7a4adaedd116587b601fa6e2', 'message': 'Create a snapshot from an extended volume\n\nThe test validates that snapshot size is the same\nas the extended volume.\n\nChange-Id: I2ead4264b77bc591b6cd10f3e1081ad9748d997f\n'}, {'number': 7, 'created': '2017-03-26 08:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4c025c92f916b747d2b5ea948ba28b1c27fd4e2b', 'message': 'Create a snapshot from an extended volume\n\nThe test validates that snapshot size is the same\nas the extended volume.\n\nChange-Id: I2ead4264b77bc591b6cd10f3e1081ad9748d997f\n'}, {'number': 8, 'created': '2017-04-23 05:27:08.000000000', 'files': ['tempest/api/volume/test_volumes_snapshots.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4a8abd1ae0e6f4f3c2183629cceb5e288499c7a', 'message': 'Create a snapshot from an extended volume\n\nThe test validates that snapshot size is the same\nas the extended volume.\n\nChange-Id: I2ead4264b77bc591b6cd10f3e1081ad9748d997f\n'}]",7,434290,f4a8abd1ae0e6f4f3c2183629cceb5e288499c7a,41,10,8,19262,,,0,"Create a snapshot from an extended volume

The test validates that snapshot size is the same
as the extended volume.

Change-Id: I2ead4264b77bc591b6cd10f3e1081ad9748d997f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/90/434290/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_extend.py'],1,c920740564b567bc85a9e00af1c6bba625a5f16f,volume_extend," @decorators.idempotent_id('f70ab375-921f-43f1-89aa-b58ec8f79724') def test_snapshot_create_after_volume_extend(self): # Create a volume volume = self.create_volume() # Extend the volume extend_size = volume['size'] + 1 self.volumes_client.extend_volume(volume_id=volume['id'], new_size=int(extend_size)) waiters.wait_for_volume_status(self.volumes_client, volume['id'], 'available') # Verify volume size was updated volume_info = self.volumes_client.show_volume(volume['id'])['volume'] self.assertEqual(extend_size, volume_info['size']) # Create a snapshot snapshot = self.create_snapshot(volume_id=volume['id']) # Verify volume and snapshot size are the same self.assertEqual(volume_info['size'], snapshot['size']) ",,22,0
openstack%2Ftempest~master~I4a03af66fe8fe194f7062f0b956d7321fb07d9e8,openstack/tempest,master,I4a03af66fe8fe194f7062f0b956d7321fb07d9e8,Add test create an incremental backup,ABANDONED,2016-12-12 12:49:16.000000000,2018-05-22 04:22:44.000000000,,"[{'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 19262}, {'_account_id': 20190}, {'_account_id': 23003}, {'_account_id': 25558}]","[{'number': 1, 'created': '2016-12-12 12:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cd96b744ffd05876a807f56074bdaa40c962a9f9', 'message': 'Add test create an incremental backup\n\nThe incremental backup is based on a parent backup which is an\nexisting backup with the latest timestamp.\nThe parent backup can be a full backup or an incremental backup\ndepending on the timestamp.\n\nChange-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8\n'}, {'number': 2, 'created': '2016-12-12 13:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c024628286843e0c6368138dbb6b3db4dc74fd9b', 'message': 'Add test create an incremental backup\n\nThe incremental backup is based on a parent backup which is an\nexisting backup with the latest timestamp.\nThe parent backup can be a full backup or an incremental backup\ndepending on the timestamp.\n\nChange-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8\n'}, {'number': 3, 'created': '2016-12-12 16:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a6e32c3402ba9b0f16f5e88f3dfef4122f6a07aa', 'message': 'Add test create an incremental backup\n\nThe incremental backup is based on a parent backup which is an\nexisting backup with the latest timestamp.\nThe parent backup can be a full backup or an incremental backup\ndepending on the timestamp.\n\nChange-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8\n'}, {'number': 4, 'created': '2017-01-30 09:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ccbb3f3faf370fd10969403bc861501c38128bac', 'message': 'Add test create an incremental backup\n\nThe incremental backup is based on a parent backup which is an\nexisting backup with the latest timestamp.\nThe parent backup can be a full backup or an incremental backup\ndepending on the timestamp.\n\nChange-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8\n'}, {'number': 5, 'created': '2017-02-07 08:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f183ed7cdd1630c712bc12a369ce1bb7efb70696', 'message': 'Add test create an incremental backup\n\nThe incremental backup is based on a parent backup which is an\nexisting backup with the latest timestamp.\nThe parent backup can be a full backup or an incremental backup\ndepending on the timestamp.\n\nChange-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8\n'}, {'number': 6, 'created': '2017-02-07 13:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/785fb0538d46c932f89bb6eed72f7d963ca4c232', 'message': 'Add test create an incremental backup\n\nThe incremental backup is based on a parent backup which is an\nexisting backup with the latest timestamp.\nThe parent backup can be a full backup or an incremental backup\ndepending on the timestamp.\n\nChange-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8\n'}, {'number': 7, 'created': '2017-03-26 07:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b3cf74279fa44413e24b59a3bb63bfbfc37a487e', 'message': 'Add test create an incremental backup\n\nThe incremental backup is based on a parent backup which is an\nexisting backup with the latest timestamp.\nThe parent backup can be a full backup or an incremental backup\ndepending on the timestamp.\n\nChange-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8\n'}, {'number': 8, 'created': '2017-03-26 08:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a69aaa0442f3118d12e7702741f984c1b0036b4e', 'message': 'Add test create an incremental backup\n\nThe incremental backup is based on a parent backup which is an\nexisting backup with the latest timestamp.\nThe parent backup can be a full backup or an incremental backup\ndepending on the timestamp.\n\nChange-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8\n'}, {'number': 9, 'created': '2017-03-26 08:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3ace94ab156107628529dd225863de7806c4a986', 'message': 'Add test create an incremental backup\n\nThe incremental backup is based on a parent backup which is an\nexisting backup with the latest timestamp.\nThe parent backup can be a full backup or an incremental backup\ndepending on the timestamp.\n\nChange-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8\n'}, {'number': 10, 'created': '2017-04-25 07:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2adc8fc4a14d6de186e7aecdf912a7ee94dd6a15', 'message': 'Add test create an incremental backup\n\nThe incremental backup is based on a parent backup which is an\nexisting backup with the latest timestamp.\nThe parent backup can be a full backup or an incremental backup\ndepending on the timestamp.\n\nChange-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8\n'}, {'number': 11, 'created': '2017-04-25 10:30:44.000000000', 'files': ['tempest/api/volume/test_volumes_backup.py', 'tempest/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9522d329b95a9c82ef272f38f4e6d42247927190', 'message': 'Add test create an incremental backup\n\nThe incremental backup is based on a parent backup which is an\nexisting backup with the latest timestamp.\nThe parent backup can be a full backup or an incremental backup\ndepending on the timestamp.\n\nChange-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8\n'}]",8,409776,9522d329b95a9c82ef272f38f4e6d42247927190,59,7,11,19262,,,0,"Add test create an incremental backup

The incremental backup is based on a parent backup which is an
existing backup with the latest timestamp.
The parent backup can be a full backup or an incremental backup
depending on the timestamp.

Change-Id: I4a03af66fe8fe194f7062f0b956d7321fb07d9e8
",git fetch https://review.opendev.org/openstack/tempest refs/changes/76/409776/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/test_volumes_backup.py', 'tempest/api/volume/base.py']",2,cd96b744ffd05876a807f56074bdaa40c962a9f9,incremental_backup," def create_backup(self, volume_id, backup_client=None, wait_for_deletion=None, **kwargs): if wait_for_deletion: self.addCleanup(self.backups_client.wait_for_resource_deletion, backup['id'])"," def create_backup(self, volume_id, backup_client=None, **kwargs):",53,1
openstack%2Ftempest~master~I4faee23fcc916333ee937ca690b729a9b77949f2,openstack/tempest,master,I4faee23fcc916333ee937ca690b729a9b77949f2,Backup v2 pagination tests,ABANDONED,2016-09-26 08:32:34.000000000,2018-05-22 04:22:18.000000000,,"[{'_account_id': 7350}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 19262}, {'_account_id': 20190}]","[{'number': 1, 'created': '2016-09-26 08:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/441eae3d3783f27d7567c2f55b5938a15f488494', 'message': 'Backup v2 pagination tests\n\nTesting the ability to filter a list of backups by a varied params.\nAdded tests:\n- backups list by limit param\n- backups list by volume_id param\n- backups list sort param\n\nChange-Id: I4faee23fcc916333ee937ca690b729a9b77949f2\n'}, {'number': 2, 'created': '2016-12-19 13:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/23936dffe5d1d7ef054592b91e7cfb709c023690', 'message': 'Backup v2 pagination tests\n\nTesting the ability to filter a list of backups by a varied params.\nAdded tests:\n- backups list by limit param\n- backups list by volume_id param\n- backups list sort param\n\nChange-Id: I4faee23fcc916333ee937ca690b729a9b77949f2\n'}, {'number': 3, 'created': '2016-12-19 14:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8324323e706f790740121bc40b6036b931cadfbf', 'message': 'Backup v2 pagination tests\n\nTesting the ability to filter a list of backups by a varied params.\nAdded tests:\n- backups list by limit param\n- backups list by volume_id param\n- backups list sort param\n\nChange-Id: I4faee23fcc916333ee937ca690b729a9b77949f2\n'}, {'number': 4, 'created': '2017-02-12 10:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/107982fa148718777dbd934e50f6c8bdfd66fe5b', 'message': 'Backup v2 pagination tests\n\nTesting the ability to filter a list of backups by a varied params.\nAdded tests:\n- backups list by name param\n- backups list by limit param\n- backups list by volume_id param\n- backups list by sort param\n- backups list by marker param\n\nChange-Id: I4faee23fcc916333ee937ca690b729a9b77949f2\n'}, {'number': 5, 'created': '2017-02-12 12:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cf139cc95fb1eeb8a3d3624fde35e702eb6fea74', 'message': 'Backup v2 pagination tests\n\nTesting the ability to filter a list of backups by a varied params.\nAdded tests:\n- backups list by name param\n- backups list by limit param\n- backups list by volume_id param\n- backups list by sort param\n- backups list by marker param\n\nChange-Id: I4faee23fcc916333ee937ca690b729a9b77949f2\n'}, {'number': 6, 'created': '2017-02-12 14:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e0542038393f0ecc0c127feca8f35efc0c6222c7', 'message': 'Backup v2 pagination tests\n\nTesting the ability to filter a list of backups by a varied params.\nAdded tests:\n- backups list by name param\n- backups list by limit param\n- backups list by volume_id param\n- backups list by sort param\n- backups list by marker param\n\nChange-Id: I4faee23fcc916333ee937ca690b729a9b77949f2\n'}, {'number': 7, 'created': '2017-02-22 15:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a521da5fb332bfb4e895c99ccf0a321a8eeffc53', 'message': 'Backup v2 pagination tests\n\nTesting the ability to filter a list of backups by a varied params.\nAdded tests:\n- backups list by name param\n- backups list by limit param\n- backups list by volume_id param\n- backups list by sort param\n- backups list by marker param\n\nChange-Id: I4faee23fcc916333ee937ca690b729a9b77949f2\n'}, {'number': 8, 'created': '2017-02-23 12:39:40.000000000', 'files': ['tempest/lib/services/volume/v2/backups_client.py', 'tempest/api/volume/base.py', 'tempest/api/volume/v2/test_volumes_backups_list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a73d60e06d1e5e6de1d6b03981e677a73e06ea0a', 'message': 'Backup v2 pagination tests\n\nTesting the ability to filter a list of backups by a varied params.\nAdded tests:\n- backups list by name param\n- backups list by limit param\n- backups list by volume_id param\n- backups list by sort param\n- backups list by marker param\n\nChange-Id: I4faee23fcc916333ee937ca690b729a9b77949f2\n'}]",4,376292,a73d60e06d1e5e6de1d6b03981e677a73e06ea0a,35,5,8,19262,,,0,"Backup v2 pagination tests

Testing the ability to filter a list of backups by a varied params.
Added tests:
- backups list by name param
- backups list by limit param
- backups list by volume_id param
- backups list by sort param
- backups list by marker param

Change-Id: I4faee23fcc916333ee937ca690b729a9b77949f2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/92/376292/8 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/volume/v2/json/backups_client.py', 'tempest/api/volume/v2/test_volumes_backups_list.py']",2,441eae3d3783f27d7567c2f55b5938a15f488494,backup_pagination,"# Copyright 2016 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.volume import base from tempest.common.utils import data_utils from tempest import test class BackupsV2ListTestJSON(base.BaseVolumeTest): """"""Backups v2 pagination tests"""""" def _create_test_backups(self): # Method for creating one volume with two backups volume = self.create_volume() backup_list = [] # Create 2 test backups for _ in range(2): backup_name = data_utils.rand_name( self.__class__.__name__ + '-Backup') backup = self.backups_client.create_backup( volume_id=volume['id'], name=backup_name)['backup'] self.addCleanup(self.backups_client.delete_backup, backup['id']) backup_list.append(backup) self.assertEqual(backup_name, backup['name']) self.backups_client.wait_for_backup_status(backup['id'], 'available') self.assertEqual(backup_name, backup['name']) return volume, backup_list @test.idempotent_id('bb925fed-cd80-4d16-9b77-aecda68a5745') def test_backup_list_by_limit_param(self): # List returns limited items # Create a one volume with two backups self._create_test_backups() fetched_list = self.backups_client.list_backups(limit=1)['backups'] self.assertEqual(1, len(fetched_list)) @test.idempotent_id('1d30f756-4ea2-4a2f-bb72-1c3cb56bddfb') def test_backup_list_by_volume_id_param(self): # List returns a backup list for a specific volume # Create one volume with one backup volume = self.create_volume() backup_name = data_utils.rand_name( self.__class__.__name__ + '-Backup') backup = self.backups_client.create_backup(volume_id=volume['id'], name=backup_name)['backup'] self.addCleanup(self.backups_client.delete_backup, backup['id']) # Create one volume with two backups body = self._create_test_backups() volume_id = body[0]['id'] backup_list = body[1] # Fetch backup list from the specific volume fetched_list = self.backups_client.list_backups( volume_id=volume_id)['backups'] self.assertEqual(sorted(backup_list), sorted(fetched_list)) @test.idempotent_id('027d9c02-ff58-4407-914c-716735e678ed') def test_backup_list_sort_param(self): # List returns backup list sorted by 'created_at' attribute backup_list = self._create_test_backups()[1] params = {'sort_key': 'created_at', 'sort_dir': 'desc' } fetched_list = self.backups_client.list_backups(**params)['backups'] self.assertEqual(backup_list[::-1], fetched_list) ",,103,0
openstack%2Ftempest~master~I14830c327427876d9109e379526700fef4dddb3e,openstack/tempest,master,I14830c327427876d9109e379526700fef4dddb3e,Scenario - actions for read-only volume,ABANDONED,2016-08-01 09:49:56.000000000,2018-05-22 04:21:56.000000000,,"[{'_account_id': 4523}, {'_account_id': 5803}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 19262}, {'_account_id': 20190}, {'_account_id': 21187}, {'_account_id': 22696}]","[{'number': 1, 'created': '2016-08-01 09:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5b059dbd99d0aa3cab9f97d12719850df1ce4026', 'message': 'Scenario - actions for read-only volume\n\nThis test case verifies read and write actions for read-only volume\n\nChange-Id: I14830c327427876d9109e379526700fef4dddb3e\n'}, {'number': 2, 'created': '2017-02-07 07:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/be3ed608167bf92a56c748473b8400b965e0cebb', 'message': 'Scenario - actions for read-only volume\n\nThis test case verifies read and write actions for read-only volume\n\nChange-Id: I14830c327427876d9109e379526700fef4dddb3e\n'}, {'number': 3, 'created': '2017-02-07 08:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/381deb9247ca0a915a962811f4ba291a303d2b80', 'message': 'Scenario - actions for read-only volume\n\nThis test case verifies read and write actions for read-only volume\n\nChange-Id: I14830c327427876d9109e379526700fef4dddb3e\n'}, {'number': 4, 'created': '2017-02-14 06:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/97e18c947b153087d5526a0d6e225780589e7218', 'message': 'Scenario - actions for read-only volume\n\nThis test case verifies read and write actions for read-only volume\n\nChange-Id: I14830c327427876d9109e379526700fef4dddb3e\n'}, {'number': 5, 'created': '2017-07-16 09:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c3ac07ed3f2181b9c8e4de3a69cd2ce8540f0a26', 'message': 'Scenario - actions for read-only volume\n\nThis test case verifies read and write actions for read-only volume\n\nChange-Id: I14830c327427876d9109e379526700fef4dddb3e\n'}, {'number': 6, 'created': '2017-07-18 07:48:22.000000000', 'files': ['tempest/scenario/test_volume_readonly.py', 'tempest/scenario/manager.py', 'tempest/scenario/test_stamp_pattern.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1fea2fb3f1e08bbeac1f24b1239ac263ea795061', 'message': 'Scenario - actions for read-only volume\n\nThis test case verifies read and write actions for read-only volume\n\nChange-Id: I14830c327427876d9109e379526700fef4dddb3e\n'}]",4,349437,1fea2fb3f1e08bbeac1f24b1239ac263ea795061,28,8,6,19262,,,0,"Scenario - actions for read-only volume

This test case verifies read and write actions for read-only volume

Change-Id: I14830c327427876d9109e379526700fef4dddb3e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/37/349437/6 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_volume_readonly.py'],1,5b059dbd99d0aa3cab9f97d12719850df1ce4026,volume_ro,"# Copyright 2016 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.common.utils import data_utils from tempest import config from tempest.lib import exceptions from tempest.scenario import manager from tempest import test CONF = config.CONF class TestVolumeReadOnly(manager.ScenarioTest): """"""This test case verifies read and write actions for read-only volume. The following is the scenario outline: 1. Create a server. 2. Create a volume. 3. Attach volume to the server. 4. Write to the attached volume. 5. Detach the volume from the server. 6. Update the volume for read-only access-mode flag. 7. Attach volume to the server. 8. Get content from the volume. 9. Try writing to the read-only volume. """""" @test.idempotent_id('d067ed8e-48bf-4a56-9596-0101530dd81c') @test.services('compute', 'volume', 'image') def test_volume_readonly(self): # Create keypair and security group keypair = self.create_keypair() security_group = self._create_security_group() # Create a server server_name = data_utils.rand_name('Instance') kwargs = {'key_name': keypair['name'], 'security_groups': [{'name': security_group['name']}]} server = self.create_server(name=server_name, image_id=CONF.compute.image_ref, wait_until='ACTIVE', **kwargs) # Get server ip server_ip = self.get_server_ip(server) # Create a volume volume = self.create_volume() # Attach volume to the server self.nova_volume_attach(server, volume) # Write to the attached volume timestamp1 = self.create_timestamp( ip_address=server_ip, dev_name=CONF.compute.volume_device_name, private_key=keypair['private_key']) # Detach the volume from the server self.nova_volume_detach(server, volume) # Update the volume for read-only access-mode flag self.volumes_client.update_volume_readonly(volume['id'], readonly=True) volume_ro = self.volumes_client.show_volume(volume['id'])['volume'] self.assertEqual('True', volume_ro['metadata']['readonly']) # Attach volume to the server self.nova_volume_attach(server, volume) # Get content from the volume timestamp2 = self.get_timestamp( ip_address=server_ip, dev_name=CONF.compute.volume_device_name, private_key=keypair['private_key']) self.assertEqual(timestamp1, timestamp2) # Verify the volume is not writable(only readable) self.assertRaises(exceptions.SSHExecCommandFailed, self.create_timestamp, ip_address=server_ip, dev_name=CONF.compute.volume_device_name, private_key=keypair['private_key']) self.nova_volume_detach(server, volume) ",,98,0
openstack%2Ftraining-labs~master~I61a1e08a371b6d484a2aa07d411d9025700aa121,openstack/training-labs,master,I61a1e08a371b6d484a2aa07d411d9025700aa121,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""",MERGED,2018-05-11 01:27:01.000000000,2018-05-22 04:12:57.000000000,2018-05-22 04:07:07.000000000,"[{'_account_id': 11109}, {'_account_id': 17765}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 01:27:01.000000000', 'files': ['labs/osbash/scripts/ubuntu/tacker/tacker.conf'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/5e1fc5b51246548128a83c46b1499b891759c376', 'message': 'Replace deprecated ""auth_uri"" by ""www_authenticate_uri""\n\nAccording to [1], ""auth_uri"" has been deprecated.\nThis patch replace it by using ""www_authenticate_uri"" instead.\n\n[1] https://review.openstack.org/#/c/508522\n\nChange-Id: I61a1e08a371b6d484a2aa07d411d9025700aa121\n'}]",0,567705,5e1fc5b51246548128a83c46b1499b891759c376,8,4,1,25903,,,0,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""

According to [1], ""auth_uri"" has been deprecated.
This patch replace it by using ""www_authenticate_uri"" instead.

[1] https://review.openstack.org/#/c/508522

Change-Id: I61a1e08a371b6d484a2aa07d411d9025700aa121
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/05/567705/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/osbash/scripts/ubuntu/tacker/tacker.conf'],1,5e1fc5b51246548128a83c46b1499b891759c376,auth_uri,www_authenticate_uri = http://10.0.0.11:5000,auth_uri = http://10.0.0.11:5000,1,1
openstack%2Ftripleo-quickstart~master~I9aa449a3198568c25d4dbc838669f493b0e3c103,openstack/tripleo-quickstart,master,I9aa449a3198568c25d4dbc838669f493b0e3c103,Add config-download back into queens CI,MERGED,2018-05-21 17:24:40.000000000,2018-05-22 04:06:07.000000000,2018-05-22 04:06:07.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-21 17:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e2282bacdcb765ce7107ef9330a05b42a84c7d92', 'message': ""Add config-download back into queens CI\n\nWe incorrectly dropped the config download items in\nIc5c5df350a7eb5291d45cf8e229af575fe9bed57 for featuresets that had it\nenabled in queens. Since we won't be backporting the default changes in\ntripleoclient back to queens we need to add a special case for these\nfeaturesets in queens.\n\nChange-Id: I9aa449a3198568c25d4dbc838669f493b0e3c103\nCloses-Bug: #1771549\n""}, {'number': 2, 'created': '2018-05-21 19:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aeb4ebe3bfd0faca1d015d7ca799db05e01fcd60', 'message': ""Add config-download back into queens CI\n\nWe incorrectly dropped the config download items in\nIc5c5df350a7eb5291d45cf8e229af575fe9bed57 for featuresets that had it\nenabled in queens. Since we won't be backporting the default changes in\ntripleoclient back to queens we need to add a special case for these\nfeaturesets in queens.\n\nChange-Id: I9aa449a3198568c25d4dbc838669f493b0e3c103\nCloses-Bug: #1771549\n""}, {'number': 3, 'created': '2018-05-21 19:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6f62a90e1e61a9de19bea0b943d1b722874e1fbf', 'message': ""Add config-download back into queens CI\n\nWe incorrectly dropped the config download items in\nIc5c5df350a7eb5291d45cf8e229af575fe9bed57 for featuresets that had it\nenabled in queens. Since we won't be backporting the default changes in\ntripleoclient back to queens we need to add a special case for these\nfeaturesets in queens.\n\nChange-Id: I9aa449a3198568c25d4dbc838669f493b0e3c103\nCloses-Bug: #1771549\n""}, {'number': 4, 'created': '2018-05-21 21:37:05.000000000', 'files': ['config/general_config/featureset026.yml', 'config/general_config/featureset010.yml', 'config/general_config/featureset037.yml', 'config/general_config/featureset032.yml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cf9a0be291611da475e1855b30a76f28ea736b1f', 'message': ""Add config-download back into queens CI\n\nWe incorrectly dropped the config download items in\nIc5c5df350a7eb5291d45cf8e229af575fe9bed57 for featuresets that had it\nenabled in queens. Since we won't be backporting the default changes in\ntripleoclient back to queens we need to add a special case for these\nfeaturesets in queens.\n\nChange-Id: I9aa449a3198568c25d4dbc838669f493b0e3c103\nCloses-Bug: #1771549\n""}]",2,569830,cf9a0be291611da475e1855b30a76f28ea736b1f,20,6,4,14985,,,0,"Add config-download back into queens CI

We incorrectly dropped the config download items in
Ic5c5df350a7eb5291d45cf8e229af575fe9bed57 for featuresets that had it
enabled in queens. Since we won't be backporting the default changes in
tripleoclient back to queens we need to add a special case for these
featuresets in queens.

Change-Id: I9aa449a3198568c25d4dbc838669f493b0e3c103
Closes-Bug: #1771549
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/569830/4 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset026.yml', 'config/general_config/featureset010.yml', 'config/general_config/featureset037.yml', 'config/general_config/featureset032.yml', 'config/general_config/featureset001.yml']",5,e2282bacdcb765ce7107ef9330a05b42a84c7d92,bug/1771549,config_download_args: >- {% if release in ['queens'] -%} -e /usr/share/openstack-tripleo-heat-templates/environments/config-download-environment.yaml --config-download --verbose {%- endif -%},,29,3
openstack%2Fpython-tripleoclient~master~Iab7ebbe6283039a447d88f9d801486511f5b7b05,openstack/python-tripleoclient,master,Iab7ebbe6283039a447d88f9d801486511f5b7b05,Prompt before running undercloud/all-in-one upgrades,MERGED,2018-05-17 22:42:15.000000000,2018-05-22 03:44:28.000000000,2018-05-22 03:44:28.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 22:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a16a68ac4b9627edddc82d9dfe58838a12c55f5c', 'message': 'WIP - Prompt before running upgrades\n\nChange-Id: Iab7ebbe6283039a447d88f9d801486511f5b7b05\n'}, {'number': 2, 'created': '2018-05-17 22:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d958edf3f3a11bfff0d93acfeaa499c9a7b0e0ec', 'message': 'Prompt before running undercloud/all-in-on- upgrades\n\nRunning upgrades is critical and we want our operators to make backups\nbefore running the process.\nThis patch adds a prompt that will confirm that the operator is ready to\nupgrade the undercloud or all-in-one setup.\n\nIt can be ignored when uding -y or --yes arguments like:\n  $ openstack tripleo upgrade -y (...)\n\nChange-Id: Iab7ebbe6283039a447d88f9d801486511f5b7b05\n'}, {'number': 3, 'created': '2018-05-17 23:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/212860ac8a26ff124db46618d983a6b465eb9be4', 'message': 'Prompt before running undercloud/all-in-one upgrades\n\nRunning upgrades is critical and we want our operators to make backups\nbefore running the process.\nThis patch adds a prompt that will confirm that the operator is ready to\nupgrade the undercloud or all-in-one setup.\n\nIt can be ignored when uding -y or --yes arguments like:\n  $ openstack tripleo upgrade -y (...)\n\nChange-Id: Iab7ebbe6283039a447d88f9d801486511f5b7b05\n'}, {'number': 4, 'created': '2018-05-18 04:33:51.000000000', 'files': ['tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/v1/tripleo_deploy.py', 'releasenotes/notes/upgrade_prompt-405c4f9fe3b4764c.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/14c6b8da414f643610bdd084ad68d7d2f6e7d8d0', 'message': 'Prompt before running undercloud/all-in-one upgrades\n\nRunning upgrades is critical and we want our operators to make backups\nbefore running the process.\nThis patch adds a prompt that will confirm that the operator is ready to\nupgrade the undercloud or all-in-one setup.\n\nIt can be ignored when uding -y or --yes arguments like:\n  $ openstack tripleo upgrade -y (...)\n\nChange-Id: Iab7ebbe6283039a447d88f9d801486511f5b7b05\n'}]",0,569288,14c6b8da414f643610bdd084ad68d7d2f6e7d8d0,18,6,4,3153,,,0,"Prompt before running undercloud/all-in-one upgrades

Running upgrades is critical and we want our operators to make backups
before running the process.
This patch adds a prompt that will confirm that the operator is ready to
upgrade the undercloud or all-in-one setup.

It can be ignored when uding -y or --yes arguments like:
  $ openstack tripleo upgrade -y (...)

Change-Id: Iab7ebbe6283039a447d88f9d801486511f5b7b05
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/88/569288/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/v1/tripleo_upgrade.py']",2,a16a68ac4b9627edddc82d9dfe58838a12c55f5c,warning/upgrade,import sys import six parsed_args.yes = False try: if not parsed_args.yes and sys.stdin.isatty(): prompt_response = six.moves.input( ('It is strongly recommended to perform a backup before ' 'the upgrade. Are you sure you want to upgrade [y/N]? ') ).lower() if not prompt_response.startswith('y'): self.log.info('User did not confirm upgrade so ' 'taking no action.') return except KeyboardInterrupt: # ctrl-c self.log.info('User did not confirm upgrade ' '(ctrl-c) so taking no action.') return except EOFError: # ctrl-d self.log.info('User did not confirm upgrade ' '(ctrl-d) so taking no action.') return ,,73,0
openstack%2Ffuxi~master~I0bd57c6d1cacf09811326c3325ead75d2addd067,openstack/fuxi,master,I0bd57c6d1cacf09811326c3325ead75d2addd067,Do not use -y for package install,ABANDONED,2017-11-07 04:36:46.000000000,2018-05-22 03:35:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2017-11-07 04:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuxi/commit/69bfcc576118fcaddf835154eaa5f186beecd838', 'message': 'Do not use -y for package install\n\nAccording to ""code conventions"" [1], do not use ""-y"" option.\nInstead, use apt-get install package, yum install package,\nor zypper install package.\n\n[1] https://docs.openstack.org/doc-contrib-guide/writing-style/\ncode-conventions.html\n\nChange-Id: I0bd57c6d1cacf09811326c3325ead75d2addd067\n'}, {'number': 2, 'created': '2018-04-11 07:48:35.000000000', 'files': ['doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/fuxi/commit/c7faf5b0e204fcbaa5c5301a47559e6e1b0070d3', 'message': 'Do not use -y for package install\n\nAccording to ""code conventions"" [1], do not use ""-y"" option.\nInstead, use apt-get install package, yum install package,\nor zypper install package.\n\n[1] https://docs.openstack.org/doc-contrib-guide/writing-style/\ncode-conventions.html\n\nChange-Id: I0bd57c6d1cacf09811326c3325ead75d2addd067\n'}]",0,518219,c7faf5b0e204fcbaa5c5301a47559e6e1b0070d3,5,1,2,25903,,,0,"Do not use -y for package install

According to ""code conventions"" [1], do not use ""-y"" option.
Instead, use apt-get install package, yum install package,
or zypper install package.

[1] https://docs.openstack.org/doc-contrib-guide/writing-style/
code-conventions.html

Change-Id: I0bd57c6d1cacf09811326c3325ead75d2addd067
",git fetch https://review.opendev.org/openstack/fuxi refs/changes/19/518219/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation.rst'],1,69bfcc576118fcaddf835154eaa5f186beecd838,package_install, $ sudo yum install python-devel git gcc openssl-devel, $ sudo yum -y install python-devel git gcc openssl-devel,1,1
openstack%2Foctavia~stable%2Fqueens~If6eee4ecfb4c6c607c9ee762cc535cf5d6180d88,openstack/octavia,stable/queens,If6eee4ecfb4c6c607c9ee762cc535cf5d6180d88,Update auth_uri option to www_authenticate_uri,MERGED,2018-05-15 06:53:10.000000000,2018-05-22 03:15:50.000000000,2018-05-22 03:15:50.000000000,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 06:53:10.000000000', 'files': ['doc/source/contributor/guides/dev-quick-start.rst', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d048948a2d5fa39bee1f7588cb37f3cd887d2003', 'message': 'Update auth_uri option to www_authenticate_uri\n\nOption auth_uri from group keystone_authtoken is deprecated in Queens [1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: If6eee4ecfb4c6c607c9ee762cc535cf5d6180d88\n(cherry picked from commit cf296c2ade071804fdde7431416f52202a6eb5d9)\n'}]",0,568471,d048948a2d5fa39bee1f7588cb37f3cd887d2003,7,4,1,25903,,,0,"Update auth_uri option to www_authenticate_uri

Option auth_uri from group keystone_authtoken is deprecated in Queens [1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: If6eee4ecfb4c6c607c9ee762cc535cf5d6180d88
(cherry picked from commit cf296c2ade071804fdde7431416f52202a6eb5d9)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/568471/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/guides/dev-quick-start.rst', 'etc/octavia.conf']",2,d048948a2d5fa39bee1f7588cb37f3cd887d2003,,# The www_authenticate_uri is the public endpoint and is returned in headers on a 401 # www_authenticate_uri = https://localhost:5000/v3,# The auth_uri is the public endpoint and is returned in headers on a 401 # auth_uri = https://localhost:5000/v3,3,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibbf52da0e20d224c3e731a2b8952e1f7543bf984,openstack/tripleo-heat-templates,stable/queens,Ibbf52da0e20d224c3e731a2b8952e1f7543bf984,"DNM, testing queens",ABANDONED,2018-05-21 17:41:28.000000000,2018-05-22 03:01:36.000000000,,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-21 17:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54ccaa8249ac63dfd190ad6fa532a59c41c2004a', 'message': 'DNM, testing queens\n\nDepends-On: I9aa449a3198568c25d4dbc838669f493b0e3c103\nChange-Id: Ibbf52da0e20d224c3e731a2b8952e1f7543bf984\n'}, {'number': 2, 'created': '2018-05-21 17:42:26.000000000', 'files': ['environments/auditd.yaml', 'docker/services/glance-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff13956ba6771f1a22be870ac886c8b83526d015', 'message': 'DNM, testing queens\n\nDepends-On: I9aa449a3198568c25d4dbc838669f493b0e3c103\nChange-Id: Ibbf52da0e20d224c3e731a2b8952e1f7543bf984\n'}]",0,569831,ff13956ba6771f1a22be870ac886c8b83526d015,11,4,2,9592,,,0,"DNM, testing queens

Depends-On: I9aa449a3198568c25d4dbc838669f493b0e3c103
Change-Id: Ibbf52da0e20d224c3e731a2b8952e1f7543bf984
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/569831/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/auditd.yaml'],1,54ccaa8249ac63dfd190ad6fa532a59c41c2004a,queens,# TEST TEST DNM ,,2,0
openstack%2Foctavia~master~Iee308471a86c2d4ca5717bcb4dddfe61f1230380,openstack/octavia,master,Iee308471a86c2d4ca5717bcb4dddfe61f1230380,"Replace port 35357 with 5000 for ""auth_url""",MERGED,2018-05-21 06:07:48.000000000,2018-05-22 03:01:25.000000000,2018-05-22 00:40:22.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 06:07:48.000000000', 'files': ['etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bdd9c6f3e77b41c9278f319b380b8d9c451bb37b', 'message': 'Replace port 35357 with 5000 for ""auth_url""\n\nBased on the change in Keystone Install Guide [1],\nthis patch replace port 35357 with 5000 for ""auth_url"".\n\nFor more details, please check similar changes which have been done\non other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.openstack.org/#/c/562812\n[3] https://review.openstack.org/#/c/566491\n[4] https://review.openstack.org/#/c/565464\n[5] https://review.openstack.org/#/c/558932\n\nChange-Id: Iee308471a86c2d4ca5717bcb4dddfe61f1230380\n'}]",0,569707,bdd9c6f3e77b41c9278f319b380b8d9c451bb37b,8,3,1,25903,,,0,"Replace port 35357 with 5000 for ""auth_url""

Based on the change in Keystone Install Guide [1],
this patch replace port 35357 with 5000 for ""auth_url"".

For more details, please check similar changes which have been done
on other projects: Nova [2], Neutron [3], Cinder [4], Glance [5].

[1] https://review.openstack.org/#/c/541857
[2] https://review.openstack.org/#/c/562812
[3] https://review.openstack.org/#/c/566491
[4] https://review.openstack.org/#/c/565464
[5] https://review.openstack.org/#/c/558932

Change-Id: Iee308471a86c2d4ca5717bcb4dddfe61f1230380
",git fetch https://review.opendev.org/openstack/octavia refs/changes/07/569707/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/octavia.conf'],1,bdd9c6f3e77b41c9278f319b380b8d9c451bb37b,auth_url,# auth_url = https://localhost:5000/v3,# auth_url = https://localhost:35357/v3,1,1
openstack%2Fec2-api~master~I3242394fd4ebfa7eda390be872372a53b5311a46,openstack/ec2-api,master,I3242394fd4ebfa7eda390be872372a53b5311a46,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""",MERGED,2018-05-11 02:52:14.000000000,2018-05-22 03:00:47.000000000,2018-05-21 19:37:50.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-11 02:52:14.000000000', 'files': ['install.sh', 'doc/source/configuration/_flagmappings/ec2api.flagmappings'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/8a3358e2d13074b5bdb2a60028b7e6c440d2f935', 'message': 'Replace deprecated ""auth_uri"" by ""www_authenticate_uri""\n\nAccording to [1], ""auth_uri"" has been deprecated.\nThis patch replace it by using ""www_authenticate_uri"" instead.\n\n[1] https://review.openstack.org/#/c/508522\n\nChange-Id: I3242394fd4ebfa7eda390be872372a53b5311a46\n'}]",0,567728,8a3358e2d13074b5bdb2a60028b7e6c440d2f935,22,3,1,25903,,,0,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""

According to [1], ""auth_uri"" has been deprecated.
This patch replace it by using ""www_authenticate_uri"" instead.

[1] https://review.openstack.org/#/c/508522

Change-Id: I3242394fd4ebfa7eda390be872372a53b5311a46
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/28/567728/1 && git format-patch -1 --stdout FETCH_HEAD,"['install.sh', 'doc/source/configuration/_flagmappings/ec2api.flagmappings']",2,8a3358e2d13074b5bdb2a60028b7e6c440d2f935,auth_uri,keystone_authtoken/www_authenticate_uri disable,keystone_authtoken/auth_uri disable,2,2
openstack%2Fdevstack~master~If1e1537a079e71847d91ae03ed0c18290a467c4e,openstack/devstack,master,If1e1537a079e71847d91ae03ed0c18290a467c4e,Add dosfstools to files,MERGED,2018-05-14 15:32:40.000000000,2018-05-22 02:56:36.000000000,2018-05-22 02:56:36.000000000,"[{'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 15:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2fe418e823db807432de433bc52eb1c3de3863df', 'message': ""Add dosfstools to apt/debs file list\n\ndosfstools provides mkfs.vfat which is needed if n-cpu is\nconfigured with 'config_drive_format=vfat'.\n\nChange-Id: If1e1537a079e71847d91ae03ed0c18290a467c4e\nRelated-Bug: #1770640\n""}, {'number': 2, 'created': '2018-05-14 17:25:24.000000000', 'files': ['files/rpms/n-cpu', 'files/debs/n-cpu', 'files/rpms-suse/n-cpu'], 'web_link': 'https://opendev.org/openstack/devstack/commit/306fca807bbe69d104aeb3a135eceb18d47e7f93', 'message': ""Add dosfstools to files\n\ndosfstools provides mkfs.vfat which is needed if n-cpu is\nconfigured with 'config_drive_format=vfat'.\n\nChange-Id: If1e1537a079e71847d91ae03ed0c18290a467c4e\nRelated-Bug: #1770640\n""}]",0,568317,306fca807bbe69d104aeb3a135eceb18d47e7f93,18,6,2,6873,,,0,"Add dosfstools to files

dosfstools provides mkfs.vfat which is needed if n-cpu is
configured with 'config_drive_format=vfat'.

Change-Id: If1e1537a079e71847d91ae03ed0c18290a467c4e
Related-Bug: #1770640
",git fetch https://review.opendev.org/openstack/devstack refs/changes/17/568317/1 && git format-patch -1 --stdout FETCH_HEAD,['files/debs/n-cpu'],1,2fe418e823db807432de433bc52eb1c3de3863df,bug/1770640,dosfstools,,1,0
openstack%2Fswift~master~I3a576a358c9ab941df684512c78da454ed2cd625,openstack/swift,master,I3a576a358c9ab941df684512c78da454ed2cd625,Fix probe tests in the gate,MERGED,2018-05-21 22:52:26.000000000,2018-05-22 02:22:09.000000000,2018-05-22 02:22:09.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 22:52:26.000000000', 'files': ['playbooks/saio_single_node_setup/install_dependencies.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/37dafa03feea67d15547ad52bcec5994b8243dd4', 'message': 'Fix probe tests in the gate\n\nChange-Id: I3a576a358c9ab941df684512c78da454ed2cd625\nRelated-Change: Idcacfb6dbfb0760128f10dbc0573856e4250b3bc\n'}]",0,569882,37dafa03feea67d15547ad52bcec5994b8243dd4,6,2,1,15343,,,0,"Fix probe tests in the gate

Change-Id: I3a576a358c9ab941df684512c78da454ed2cd625
Related-Change: Idcacfb6dbfb0760128f10dbc0573856e4250b3bc
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/569882/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/saio_single_node_setup/install_dependencies.yaml'],1,37dafa03feea67d15547ad52bcec5994b8243dd4,," - name: Check for /etc/yum/vars/contentdir stat: path: /etc/yum/vars/contentdir register: yum_contentdir - when: not yum_contentdir.stat.exists block: - name: Discover package architecture command: rpm -q --qf ""%{arch}"" -f /etc/redhat-release register: rpm_arch - debug: msg: Package architecture is '{{ rpm_arch.stdout }}' - name: Set contentdir to altarch set_fact: yum_contentdir: altarch when: rpm_arch.stdout in ['aarch64', 'ppc64le'] - name: Populate /etc/yum/vars/contentdir copy: dest: /etc/yum/vars/contentdir content: ""{{ yum_contentdir|default('centos') }}"" become: true ",,26,0
openstack%2Fpython-tripleoclient~master~I4402f79b1155630fc7c7f702c58e844d05284246,openstack/python-tripleoclient,master,I4402f79b1155630fc7c7f702c58e844d05284246,Use i18n for undercloud installer and utils messages,MERGED,2018-05-14 14:20:33.000000000,2018-05-22 01:24:31.000000000,2018-05-22 01:24:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-14 14:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7342a754838cda46f5739e3d31dde529145d1e61', 'message': 'Use i18n for undercloud installer and utils messages\n\nCloses-bug: #1751078\n\nChange-Id: I4402f79b1155630fc7c7f702c58e844d05284246\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-05-18 14:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7daf0ee6c7a95abcf7bdf66df0142abb9e24b776', 'message': 'Use i18n for undercloud installer and utils messages\n\nCloses-bug: #1751078\n\nChange-Id: I4402f79b1155630fc7c7f702c58e844d05284246\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-05-19 01:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3da3abeaacc9250fad688b58554cc6f04c5b2bc6', 'message': 'Use i18n for undercloud installer and utils messages\n\nCloses-bug: #1751078\n\nChange-Id: I4402f79b1155630fc7c7f702c58e844d05284246\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-05-19 01:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/65da6b7bbbeb8c01c4a5cdf009ffacf6a64ebc11', 'message': 'Use i18n for undercloud installer and utils messages\n\nCloses-bug: #1751078\n\nChange-Id: I4402f79b1155630fc7c7f702c58e844d05284246\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-05-19 02:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ee8d478d77628424b9ed98d31223f3eab4702ed9', 'message': 'Use i18n for undercloud installer and utils messages\n\nCloses-bug: #1751078\n\nChange-Id: I4402f79b1155630fc7c7f702c58e844d05284246\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2018-05-21 14:38:10.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/config/standalone.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4437037fa0b198d1cb931644b3cb61a700f6fbb5', 'message': 'Use i18n for undercloud installer and utils messages\n\nCloses-bug: #1751078\n\nChange-Id: I4402f79b1155630fc7c7f702c58e844d05284246\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",2,568298,4437037fa0b198d1cb931644b3cb61a700f6fbb5,28,7,6,6926,,,0,"Use i18n for undercloud installer and utils messages

Closes-bug: #1751078

Change-Id: I4402f79b1155630fc7c7f702c58e844d05284246
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/568298/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/config/standalone.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/undercloud_preflight.py']",8,7342a754838cda46f5739e3d31dde529145d1e61,bug/1751078," message = _('Configured hostname is not fully qualified.') LOG.error(_('At least {0} MB of memory is required for undercloud ' 'installation. A minimum of 8 GB is recommended. ' 'Only detected {1} MB').format(REQUIRED_MB, total_mb)) raise RuntimeError(_('Insufficient memory available')) LOG.error(_('Required sysctl options are not available. Check ' 'that your kernel is up to date. Missing: {options}') .format(options="", "".join(not_available))) raise RuntimeError(_('Missing sysctl options')) msg = (_('{0} ""{1}"" must be a valid IP address') .format(param_name, value)) LOG.error(_('Invalid netmask')) raise netaddr.AddrFormatError(_('Invalid netmask')) LOG.error(_('Prefix must be 64 for IPv6')) raise netaddr.AddrFormatError(_('Prefix must be 64 for IPv6')) except netaddr.core.AddrFormatError as e: message = (_('local_ip ""{0}"" not valid: ""{1}"" ' 'Value must be in CIDR format.') .format(CONF.local_ip, str(e))) message = (_('Hostname ""%s"" is not fully qualified.') % hostname) message = (_('Config option {0} ""{1}"" not in defined ' 'CIDR ""{2}""').format(pretty_name, addr, cidr)) message = (_('Invalid IP address: %s') % addr) message = (_('Invalid dhcp range specified, dhcp_start ""{0}"" does ' 'not come before dhcp_end ""{1}""').foramt(start, end)) message = (_('Invalid inspection range specified, inspection_iprange ' '""{0}"" does not come before ""{1}""').format(start, end)) message = (_('Inspection DHCP range ""{0}-{1}"" overlaps provisioning ' 'DHCP range ""{2}-{3}"".') .format(subnet_props.inspection_iprange.split(',')[0], subnet_props.inspection_iprange.split(',')[1], subnet_props.dhcp_start, subnet_props.dhcp_end)) message = (_('Invalid local_interface specified. ' '%s is not available.') % CONF.local_interface) message = _('Changing the local_ip is not allowed. Existing IP: ' '{0}, Configured IP: {1}').format( existing_ip, CONF.local_ip) message = (_('The %s file is missing. This will cause all service ' 'passwords to change and break the existing ' 'undercloud. ') % PASSWORD_PATH) LOG.debug(_(""Using roles file {0} from {1}"").format(roles_file, tht_path)) LOG.info(_('yum-clean-all completed successfully')) LOG.info(_('yum-update completed successfully')) LOG.error(_('Key error in configuration: {error}\n' 'Value is missing in configuration.').format(error=e)) LOG.error(_('An error occurred during configuration ' 'validation, please check your host ' 'configuration and try again.\nError ' 'message: {error}').format(error=e)) LOG.error(_('An error occurred during configuration ' 'validation, please check your host ' 'configuration and try again. Error ' 'message: {error}').format(error=e))"," message = 'Configured hostname is not fully qualified.' LOG.error('At least %d MB of memory is required for undercloud ' 'installation. A minimum of 8 GB is recommended. ' 'Only detected %d MB' % (REQUIRED_MB, total_mb)) raise RuntimeError('Insufficient memory available') LOG.error('Required sysctl options are not available. Check ' 'that your kernel is up to date. Missing: {options}' ' '.format(options="", "".join(not_available))) raise RuntimeError('Missing sysctl options') msg = '%s ""%s"" must be a valid IP address' % \ (param_name, value) LOG.error('Invalid netmask') raise netaddr.AddrFormatError('Invalid netmask') LOG.error('Prefix must be 64 for IPv6') raise netaddr.AddrFormatError('Prefix must be 64 for IPv6') except netaddr.core.AddrFormatError as e: message = ('local_ip ""%s"" not valid: ""%s"" ' 'Value must be in CIDR format.' % (CONF.local_ip, str(e))) message = 'Hostname ""%s"" is not fully qualified.' % hostname message = ('Config option %s ""%s"" not in defined CIDR ""%s""' % (pretty_name, addr, cidr)) message = 'Invalid IP address: %s' % addr message = ('Invalid dhcp range specified, dhcp_start ""%s"" does ' 'not come before dhcp_end ""%s""' % (start, end)) message = ('Invalid inspection range specified, inspection_iprange ' '""%s"" does not come before ""%s""' % (start, end)) message = ('Inspection DHCP range ""%s-%s"" overlaps provisioning ' 'DHCP range ""%s-%s"".' % (subnet_props.inspection_iprange.split(',')[0], subnet_props.inspection_iprange.split(',')[1], subnet_props.dhcp_start, subnet_props.dhcp_end)) message = ('Invalid local_interface specified. %s is not available.' % CONF.local_interface) message = ('Changing the local_ip is not allowed. Existing IP: ' '%s, Configured IP: %s') % (existing_ip, CONF.local_ip) message = ('The %s file is missing. This will cause all service ' 'passwords to change and break the existing undercloud. ' % PASSWORD_PATH) LOG.debug(""Using roles file %s from %s"" % (roles_file, tht_path)) LOG.info('yum-clean-all completed successfully') LOG.info('yum-update completed successfully') LOG.error('Key error in configuration: {error}\n' 'Value is missing in configuration.'.format(error=e)) LOG.error('An error occurred during configuration ' 'validation, please check your host ' 'configuration and try again.\nError ' 'message: {error}'.format(error=e)) LOG.error('An error occurred during configuration ' 'validation, please check your host ' 'configuration and try again. Error ' 'message: {error}'.format(error=e))",242,233
openstack%2Foctavia~stable%2Fqueens~I724f5064309d07fe05f86fcf2c7a488d9319e54c,openstack/octavia,stable/queens,I724f5064309d07fe05f86fcf2c7a488d9319e54c,Fix kvm-centos.7 gate,MERGED,2018-05-18 23:28:28.000000000,2018-05-22 01:17:27.000000000,2018-05-22 01:17:27.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 22348}, {'_account_id': 28159}]","[{'number': 1, 'created': '2018-05-18 23:28:28.000000000', 'files': ['playbooks/legacy/octavia-v1-dsvm-scenario-kvm-centos.7/run.yaml', 'diskimage-create/diskimage-create.sh', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c747396207277040f5fe4e1737c6abc053111d7b', 'message': ""Fix kvm-centos.7 gate\n\nSomehow it was pulling in barbican-tempest-plugin incorrectly, and\ndidn't have image size set right for centos.\n\nAlso fix the devstack plugin to size the flavor correctly based on the\nimage size variable.\n\nChange-Id: I724f5064309d07fe05f86fcf2c7a488d9319e54c\n(cherry picked from commit 1020a3bceb296610c442ed0d445bba594f27b3de)\n""}]",0,569537,c747396207277040f5fe4e1737c6abc053111d7b,10,4,1,28159,,,0,"Fix kvm-centos.7 gate

Somehow it was pulling in barbican-tempest-plugin incorrectly, and
didn't have image size set right for centos.

Also fix the devstack plugin to size the flavor correctly based on the
image size variable.

Change-Id: I724f5064309d07fe05f86fcf2c7a488d9319e54c
(cherry picked from commit 1020a3bceb296610c442ed0d445bba594f27b3de)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/37/569537/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/octavia-v1-dsvm-scenario-kvm-centos.7/run.yaml', 'diskimage-create/diskimage-create.sh', 'devstack/plugin.sh']",3,c747396207277040f5fe4e1737c6abc053111d7b,ostestr_to_stestr-stable/queens, openstack flavor create --id auto --ram 1024 --disk ${OCTAVIA_AMP_IMAGE_SIZE:-2} --vcpus 1 --private m1.amphora -f value -c id || true, openstack flavor create --id auto --ram 1024 --disk 2 --vcpus 1 --private m1.amphora -f value -c id || true,4,3
openstack%2Fneutron~master~I785c20f0df7a281c135e8e3fc8af439e6e481d52,openstack/neutron,master,I785c20f0df7a281c135e8e3fc8af439e6e481d52,use exc_to_retry from lib,MERGED,2018-05-04 17:49:17.000000000,2018-05-22 00:56:12.000000000,2018-05-21 22:29:18.000000000,"[{'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-04 17:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e691538ff49694c5ba9fe63e2b344b5fddf0dc60', 'message': 'use exc_to_retry from lib\n\nThe publicly used APIs from neutron.db.api were rehomed into neutron-lib\nwith https://review.openstack.org/#/c/557040/\n\nThis patch consumes exc_to_retry from neutron-lib by removing it in\nneutron and using it from lib.\n\nNeutronLibImpact\n\nChange-Id: I785c20f0df7a281c135e8e3fc8af439e6e481d52\n'}, {'number': 2, 'created': '2018-05-21 17:26:57.000000000', 'files': ['neutron/tests/unit/db/test_api.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/52dc615b0dfd47df0bc11c1185949a86820246b0', 'message': 'use exc_to_retry from lib\n\nThe publicly used APIs from neutron.db.api were rehomed into neutron-lib\nwith https://review.openstack.org/#/c/557040/\n\nThis patch consumes exc_to_retry from neutron-lib by removing it in\nneutron and using it from lib.\n\nNeutronLibImpact\n\nChange-Id: I785c20f0df7a281c135e8e3fc8af439e6e481d52\n'}]",0,566373,52dc615b0dfd47df0bc11c1185949a86820246b0,27,10,2,5367,,,0,"use exc_to_retry from lib

The publicly used APIs from neutron.db.api were rehomed into neutron-lib
with https://review.openstack.org/#/c/557040/

This patch consumes exc_to_retry from neutron-lib by removing it in
neutron and using it from lib.

NeutronLibImpact

Change-Id: I785c20f0df7a281c135e8e3fc8af439e6e481d52
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/566373/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_api.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/api.py']",3,e691538ff49694c5ba9fe63e2b344b5fddf0dc60,bp/neutronlib-decouple-db,,"@contextlib.contextmanager def exc_to_retry(etypes): try: yield except Exception as e: with excutils.save_and_reraise_exception() as ctx: if _is_nested_instance(e, etypes): ctx.reraise = False raise db_exc.RetryRequest(e) ",3,50
openstack%2Ftripleo-quickstart~master~I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b,openstack/tripleo-quickstart,master,I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b,Run tempest containerized,MERGED,2018-04-17 12:04:57.000000000,2018-05-22 00:46:36.000000000,2018-05-22 00:46:35.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-17 12:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/21de73db9f581a013e6e17d57d09d825538acdf9', 'message': 'DNM: Run tempest containerized\n\nChange-Id: I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b\n'}, {'number': 2, 'created': '2018-04-17 14:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4c93467d6a28bb160f9a1538bcc3dcda6f065aa4', 'message': 'DNM: Run tempest containerized\n\nChange-Id: I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b\n'}, {'number': 3, 'created': '2018-04-18 09:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/18e48580dc289faaa61a62d70dfd3393f7356038', 'message': 'DNM: Run tempest containerized\n\nChange-Id: I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b\nDepends-On: https://review.openstack.org/#/c/562155/\n'}, {'number': 4, 'created': '2018-04-20 08:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ebbdeb1dd9869b38f623b0b04504750ac2463c36', 'message': 'Run tempest containerized\n\nFrom master and onwards, we are going to run tempest in containers.\nThis set the following jobs to run tempest in containers:\n\n* tripleo-ci-centos-7-containers-multinode\n* tripleo-ci-centos-7-scenario001-multinode-oooq-container\n* tripleo-ci-centos-7-scenario002-multinode-oooq-container\n* tripleo-ci-centos-7-scenario003-multinode-oooq-container\n* tripleo-ci-centos-7-scenario004-multinode-oooq-container\n* tripleo-ci-centos-7-scenario007-multinode-oooq-container\n\nChange-Id: I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b\nDepends-On: https://review.openstack.org/#/c/562155/\n'}, {'number': 5, 'created': '2018-05-02 07:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/895ae11d1c3dffa06aaee77d08bc732fe5e99dbd', 'message': 'Run tempest containerized\n\nFrom master and onwards, we are going to run tempest in containers.\nThis set the following jobs to run tempest in containers:\n\n* tripleo-ci-centos-7-containers-multinode\n* tripleo-ci-centos-7-scenario001-multinode-oooq-container\n* tripleo-ci-centos-7-scenario002-multinode-oooq-container\n* tripleo-ci-centos-7-scenario003-multinode-oooq-container\n* tripleo-ci-centos-7-scenario004-multinode-oooq-container\n* tripleo-ci-centos-7-scenario007-multinode-oooq-container\n\nChange-Id: I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b\nDepends-On: https://review.openstack.org/#/c/562155/\n'}, {'number': 6, 'created': '2018-05-08 04:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/932455344a87c161ac9b9ff445503de47e89e336', 'message': 'Run tempest containerized\n\nFrom master and onwards, we are going to run tempest in containers.\nThis set the following jobs to run tempest in containers:\n\n* tripleo-ci-centos-7-containers-multinode\n* tripleo-ci-centos-7-scenario001-multinode-oooq-container\n* tripleo-ci-centos-7-scenario002-multinode-oooq-container\n* tripleo-ci-centos-7-scenario003-multinode-oooq-container\n* tripleo-ci-centos-7-scenario004-multinode-oooq-container\n* tripleo-ci-centos-7-scenario007-multinode-oooq-container\n\nChange-Id: I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b\nDepends-On: https://review.openstack.org/#/c/562155/\n'}, {'number': 7, 'created': '2018-05-14 23:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8d8db1f8c86a794dd73859bd7d1abe607cb78cd2', 'message': 'Run tempest containerized\n\nFrom master and onwards, we are going to run tempest in containers.\nThis set the following jobs to run tempest in containers:\n\n* tripleo-ci-centos-7-containers-multinode\n* tripleo-ci-centos-7-scenario001-multinode-oooq-container\n* tripleo-ci-centos-7-scenario002-multinode-oooq-container\n* tripleo-ci-centos-7-scenario003-multinode-oooq-container\n* tripleo-ci-centos-7-scenario004-multinode-oooq-container\n* tripleo-ci-centos-7-scenario007-multinode-oooq-container\n\nChange-Id: I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b\nDepends-On: https://review.openstack.org/#/c/562155/\n'}, {'number': 8, 'created': '2018-05-21 10:49:40.000000000', 'files': ['config/general_config/featureset010.yml', 'config/general_config/featureset019.yml', 'config/general_config/featureset016.yml', 'config/general_config/featureset017.yml', 'config/general_config/featureset030.yml', 'config/general_config/featureset018.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1bdf8a68af600bfbe6a2275ee11c7d846cb74f56', 'message': 'Run tempest containerized\n\nFrom master and onwards, we are going to run tempest in containers.\nThis set the following jobs to run tempest in containers:\n\n* tripleo-ci-centos-7-containers-multinode\n* tripleo-ci-centos-7-scenario001-multinode-oooq-container\n* tripleo-ci-centos-7-scenario002-multinode-oooq-container\n* tripleo-ci-centos-7-scenario003-multinode-oooq-container\n* tripleo-ci-centos-7-scenario004-multinode-oooq-container\n* tripleo-ci-centos-7-scenario007-multinode-oooq-container\n\nChange-Id: I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b\nDepends-On: https://review.openstack.org/#/c/562155/\n'}]",0,561920,1bdf8a68af600bfbe6a2275ee11c7d846cb74f56,172,12,8,8367,,,0,"Run tempest containerized

From master and onwards, we are going to run tempest in containers.
This set the following jobs to run tempest in containers:

* tripleo-ci-centos-7-containers-multinode
* tripleo-ci-centos-7-scenario001-multinode-oooq-container
* tripleo-ci-centos-7-scenario002-multinode-oooq-container
* tripleo-ci-centos-7-scenario003-multinode-oooq-container
* tripleo-ci-centos-7-scenario004-multinode-oooq-container
* tripleo-ci-centos-7-scenario007-multinode-oooq-container

Change-Id: I3af9ad4f43c1c056bd732124eaf4f1f6f194be5b
Depends-On: https://review.openstack.org/#/c/562155/
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/20/561920/4 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset010.yml'],1,21de73db9f581a013e6e17d57d09d825538acdf9,tempest-container," # Run containerized tempest from master and ongoing {% if release not in ['newton', 'ocata', 'pike', 'queens'] -%} tempest_format: container {%- endif -% ",,6,0
openstack%2Fdiskimage-builder~master~Ie6396efe5102552d5d6e1fe1f30f14f0419a77d6,openstack/diskimage-builder,master,Ie6396efe5102552d5d6e1fe1f30f14f0419a77d6,[dnm] testing zuul logs with_items,ABANDONED,2018-05-11 00:05:28.000000000,2018-05-22 00:41:48.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-11 00:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/033004bcee276f3a8b793c9b17b13fd924675c6f', 'message': '[dnm] testing zuul logs with_items\n\nChange-Id: Ie6396efe5102552d5d6e1fe1f30f14f0419a77d6\n'}, {'number': 2, 'created': '2018-05-11 00:13:27.000000000', 'files': ['roles/dib-functests/tasks/main.yaml', 'outfilter.py', 'output-redir.sh', 'output.sh'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ab7d9bca1082628b6f4a2afa1efaf4192b879e17', 'message': '[dnm] testing zuul logs with_items\n\nChange-Id: Ie6396efe5102552d5d6e1fe1f30f14f0419a77d6\n'}]",0,567703,ab7d9bca1082628b6f4a2afa1efaf4192b879e17,6,3,2,7118,,,0,"[dnm] testing zuul logs with_items

Change-Id: Ie6396efe5102552d5d6e1fe1f30f14f0419a77d6
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/03/567703/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/dib-functests/tasks/main.yaml', 'outfilter.py', 'output-redir.sh', 'output.sh']",4,033004bcee276f3a8b793c9b17b13fd924675c6f,native-zuulv3,"#!/bin/bash echo ""***"" echo ""This is output from $$"" echo $* date echo ""---"" ",,128,0
openstack%2Fzun-ui~master~I5b29ec7830c57572c2af35abc3fccb18f061d53e,openstack/zun-ui,master,I5b29ec7830c57572c2af35abc3fccb18f061d53e,Imported Translations from Zanata,MERGED,2018-05-19 06:26:57.000000000,2018-05-22 00:40:35.000000000,2018-05-22 00:40:34.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-19 06:26:57.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/1cbfca5aba10f8316af24cee956161e58a2b3114', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5b29ec7830c57572c2af35abc3fccb18f061d53e\n'}]",0,569560,1cbfca5aba10f8316af24cee956161e58a2b3114,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5b29ec7830c57572c2af35abc3fccb18f061d53e
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/60/569560/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,1cbfca5aba10f8316af24cee956161e58a2b3114,zanata/translations,"""POT-Creation-Date: 2018-05-18 10:30+0000\n""""PO-Revision-Date: 2018-05-18 12:44+0000\n""msgid ""1.0.0-47"" msgstr ""1.0.0-47""","""POT-Creation-Date: 2018-05-17 09:00+0000\n""""PO-Revision-Date: 2018-05-17 11:32+0000\n""msgid ""1.0.0-46"" msgstr ""1.0.0-46""",4,4
openstack%2Foctavia~master~I5e341915e6e92e5f8279c7c643374ea3d581841b,openstack/octavia,master,I5e341915e6e92e5f8279c7c643374ea3d581841b,Let healthmanager process shutdown cleanly (again),MERGED,2018-05-15 22:27:32.000000000,2018-05-22 00:40:21.000000000,2018-05-22 00:40:21.000000000,"[{'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 22:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/deb6a3ce9b55a5d2758404efd7653449883bd953', 'message': 'Let healthmanager process shutdown cleanly (again)\n\nChange-Id: I5e341915e6e92e5f8279c7c643374ea3d581841b\n'}, {'number': 2, 'created': '2018-05-15 22:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/79e432b87c4b11014ad62982369e9edcf019b7b1', 'message': 'Let healthmanager process shutdown cleanly (again)\n\nChange-Id: I5e341915e6e92e5f8279c7c643374ea3d581841b\n'}, {'number': 3, 'created': '2018-05-16 07:47:56.000000000', 'files': ['octavia/cmd/health_manager.py', 'octavia/amphorae/drivers/health/heartbeat_udp.py', 'octavia/tests/unit/cmd/test_health_manager.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/344967a0c172b6d89535d5c71aac583ce0c3e4e0', 'message': 'Let healthmanager process shutdown cleanly (again)\n\nChange-Id: I5e341915e6e92e5f8279c7c643374ea3d581841b\n'}]",0,568711,344967a0c172b6d89535d5c71aac583ce0c3e4e0,12,4,3,10273,,,0,"Let healthmanager process shutdown cleanly (again)

Change-Id: I5e341915e6e92e5f8279c7c643374ea3d581841b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/11/568711/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/cmd/health_manager.py'],1,deb6a3ce9b55a5d2758404efd7653449883bd953,, LOG.info('Waiting for executor to shutdown...') udp_getter.executor.shutdown() LOG.info('Executor shutdown finished.') hm_listener_proc.join(), hm_listener_proc.terminate(),4,1
openstack%2Foctavia~master~I1483745963b858463c45db7e85438920f90ca447,openstack/octavia,master,I1483745963b858463c45db7e85438920f90ca447,Increase devstack neutron secgroups quota to 100,MERGED,2018-05-19 00:01:12.000000000,2018-05-22 00:26:33.000000000,2018-05-22 00:26:33.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 22348}, {'_account_id': 25674}]","[{'number': 1, 'created': '2018-05-19 00:01:12.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6e2668dbffa93e5f1b401555533e7c2692cab05b', 'message': 'Increase devstack neutron secgroups quota to 100\n\nWhen running tempest with a high concurrency the service account\nwill run out of security group quota. This patch increases the\nservice account security group quota to 100 when using the octavia\ndevstack plugin.\n\nChange-Id: I1483745963b858463c45db7e85438920f90ca447\n'}]",0,569543,6e2668dbffa93e5f1b401555533e7c2692cab05b,8,4,1,11628,,,0,"Increase devstack neutron secgroups quota to 100

When running tempest with a high concurrency the service account
will run out of security group quota. This patch increases the
service account security group quota to 100 when using the octavia
devstack plugin.

Change-Id: I1483745963b858463c45db7e85438920f90ca447
",git fetch https://review.opendev.org/openstack/octavia refs/changes/43/569543/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,6e2668dbffa93e5f1b401555533e7c2692cab05b,, # Increase the service account secgroups quota # This is imporant for concurrent tempest testing openstack quota set --secgroups 100 $SERVICE_PROJECT_NAME ,,4,0
openstack%2Foctavia~stable%2Fqueens~I54c0170bad28adb26df87024bd16f31827702f1e,openstack/octavia,stable/queens,I54c0170bad28adb26df87024bd16f31827702f1e,Devstack plugin image build option quoting fix,MERGED,2018-05-18 23:29:42.000000000,2018-05-22 00:22:23.000000000,2018-05-22 00:22:23.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 23:29:42.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/917bebd0db68609cc2de24ab66c926c9fb17efdf', 'message': ""Devstack plugin image build option quoting fix\n\nOptions that are unset should not use '' as their default because it\nactually puts them literally into the command which will cause it to\nskip parsing args after any empty quotes.\n\nChange-Id: I54c0170bad28adb26df87024bd16f31827702f1e\n(cherry picked from commit 53dc41d06f41c78f13fcdaef4d9e9a08609d8b34)\n""}]",0,569538,917bebd0db68609cc2de24ab66c926c9fb17efdf,7,3,1,28159,,,0,"Devstack plugin image build option quoting fix

Options that are unset should not use '' as their default because it
actually puts them literally into the command which will cause it to
skip parsing args after any empty quotes.

Change-Id: I54c0170bad28adb26df87024bd16f31827702f1e
(cherry picked from commit 53dc41d06f41c78f13fcdaef4d9e9a08609d8b34)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/38/569538/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,917bebd0db68609cc2de24ab66c926c9fb17efdf,, $OCTAVIA_DIR/diskimage-create/diskimage-create.sh $octavia_dib_tracing_arg -o $OCTAVIA_AMP_IMAGE_FILE ${PARAM_OCTAVIA_AMP_BASE_OS:-} ${PARAM_OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID:-} ${PARAM_OCTAVIA_AMP_IMAGE_SIZE:-}, $OCTAVIA_DIR/diskimage-create/diskimage-create.sh $octavia_dib_tracing_arg -o $OCTAVIA_AMP_IMAGE_FILE ${PARAM_OCTAVIA_AMP_BASE_OS:-''} ${PARAM_OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID:-''} ${PARAM_OCTAVIA_AMP_IMAGE_SIZE:-''},1,1
openstack%2Fdevstack-plugin-ceph~master~I25c1f963665fab1dc77db40a2742dc29a9c1ee0b,openstack/devstack-plugin-ceph,master,I25c1f963665fab1dc77db40a2742dc29a9c1ee0b,Remove the usage of KEYSTONE_CATALOG_BACKEND,MERGED,2018-05-21 08:34:59.000000000,2018-05-22 00:06:37.000000000,2018-05-22 00:06:37.000000000,"[{'_account_id': 6984}, {'_account_id': 9236}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 08:34:59.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6d1ef658c93c54e3e4aa9983c683befc26679118', 'message': 'Remove the usage of KEYSTONE_CATALOG_BACKEND\n\nIt was removed from DevStack before the Ocata release, see\nhttps://review.openstack.org/#/c/391380/\n\nThe support for the only alternative (templated catalog) was\nremoved even earlier, before Mitaka:\nhttps://review.openstack.org/#/c/278333/\n\nThis means that the entry points for Swift can always be\nconfigured when RadosGW is enabled.\n\nChange-Id: I25c1f963665fab1dc77db40a2742dc29a9c1ee0b\n'}]",0,569744,6d1ef658c93c54e3e4aa9983c683befc26679118,7,4,1,10459,,,0,"Remove the usage of KEYSTONE_CATALOG_BACKEND

It was removed from DevStack before the Ocata release, see
https://review.openstack.org/#/c/391380/

The support for the only alternative (templated catalog) was
removed even earlier, before Mitaka:
https://review.openstack.org/#/c/278333/

This means that the entry points for Swift can always be
configured when RadosGW is enabled.

Change-Id: I25c1f963665fab1dc77db40a2742dc29a9c1ee0b
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/44/569744/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,6d1ef658c93c54e3e4aa9983c683befc26679118,remove-non-existent-var, _create_swift_endpoint," if [[ ""$KEYSTONE_CATALOG_BACKEND"" = 'sql' ]]; then _create_swift_endpoint fi",1,3
openstack%2Foctavia~master~I6615b3ff89d7cef2af52d474aab3a03d947f98be,openstack/octavia,master,I6615b3ff89d7cef2af52d474aab3a03d947f98be,Create disabled members in haproxy,MERGED,2018-05-11 22:32:36.000000000,2018-05-22 00:06:05.000000000,2018-05-22 00:06:04.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 22:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e5c7d1f541a3beb340f204462f04aac68c0cc7c5', 'message': 'Create disabled members in haproxy\n\nMembers that were disabled / admin_state_up=False were simply excluded\nfrom the haproxy configuration we pass to the amps. Instead, we should\nbe creating them in a disabled state, so they return in health messages\nas status ""maint"", and can be marked OFFLINE via the standard health\nmechanism, instead of just via override hacks.\nThis also resolves a bug introduced in an earlier change:\nhttps://review.openstack.org/#/c/567322/\nwhich caused admin-downed members to stay in NO_MONITOR always.\n\nChange-Id: I6615b3ff89d7cef2af52d474aab3a03d947f98be\n'}, {'number': 2, 'created': '2018-05-14 17:31:09.000000000', 'files': ['octavia/tests/unit/common/jinja/haproxy/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'releasenotes/notes/render-disabled-members-to-make-statuses-consistent-69189f71da2e02e8.yaml', 'octavia/common/jinja/haproxy/templates/macros.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c6ff8596db11761bc1aa5ff5531f04406ea70a25', 'message': 'Create disabled members in haproxy\n\nMembers that were disabled / admin_state_up=False were simply excluded\nfrom the haproxy configuration we pass to the amps. Instead, we should\nbe creating them in a disabled state, so they return in health messages\nas status ""maint"", and can be marked OFFLINE via the standard health\nmechanism, instead of just via override hacks.\nThis also resolves a bug introduced in an earlier change:\nhttps://review.openstack.org/#/c/567322/\nwhich caused admin-downed members to stay in NO_MONITOR always.\n\nChange-Id: I6615b3ff89d7cef2af52d474aab3a03d947f98be\n'}]",0,567955,c6ff8596db11761bc1aa5ff5531f04406ea70a25,11,4,2,10273,,,0,"Create disabled members in haproxy

Members that were disabled / admin_state_up=False were simply excluded
from the haproxy configuration we pass to the amps. Instead, we should
be creating them in a disabled state, so they return in health messages
as status ""maint"", and can be marked OFFLINE via the standard health
mechanism, instead of just via override hacks.
This also resolves a bug introduced in an earlier change:
https://review.openstack.org/#/c/567322/
which caused admin-downed members to stay in NO_MONITOR always.

Change-Id: I6615b3ff89d7cef2af52d474aab3a03d947f98be
",git fetch https://review.opendev.org/openstack/octavia refs/changes/55/567955/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/jinja/haproxy/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'releasenotes/notes/render-disabled-members-to-make-statuses-consistent-69189f71da2e02e8.yaml', 'octavia/common/jinja/haproxy/templates/macros.j2']",5,e5c7d1f541a3beb340f204462f04aac68c0cc7c5,," {% if member.enabled %} {% set member_enabled_opt = """" %} {% else %} {% set member_enabled_opt = "" disabled"" %} {% endif %} {{ ""server %s %s:%d weight %s%s%s%s%s%s""|e|format( hm_opt, persistence_opt, proxy_protocol_opt, member_backup_opt, member_enabled_opt)|trim() }} {% for member in pool.members %}"," {{ ""server %s %s:%d weight %s%s%s%s%s""|e|format( hm_opt, persistence_opt, proxy_protocol_opt, member_backup_opt)|trim() }} {% for member in pool.members if member.enabled %}",108,20
openstack%2Fswift~master~I7aa60cd4687e8951d846a14cd4807d4df8cbce7a,openstack/swift,master,I7aa60cd4687e8951d846a14cd4807d4df8cbce7a,Use sets instead of dicts when we only care about the keys,MERGED,2018-05-21 21:01:39.000000000,2018-05-22 00:05:15.000000000,2018-05-22 00:05:15.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 21:01:39.000000000', 'files': ['swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8dc9bc1f7b5719c241937ba2cb23772d6ca1dd09', 'message': 'Use sets instead of dicts when we only care about the keys\n\nChange-Id: I7aa60cd4687e8951d846a14cd4807d4df8cbce7a\n'}]",0,569861,8dc9bc1f7b5719c241937ba2cb23772d6ca1dd09,6,2,1,15343,,,0,"Use sets instead of dicts when we only care about the keys

Change-Id: I7aa60cd4687e8951d846a14cd4807d4df8cbce7a
",git fetch https://review.opendev.org/openstack/swift refs/changes/61/569861/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,8dc9bc1f7b5719c241937ba2cb23772d6ca1dd09,, to_delete = set() to_delete.add(item_ident) (item_ident for item_ident in to_delete)) to_delete = set() to_delete.add(item_ident)," to_delete = {} to_delete[item_ident] = item ((rec['name'], rec['storage_policy_index']) for rec in to_delete.values())) to_delete = {} to_delete[item_ident] = item",5,6
openstack%2Fnetworking-bagpipe~master~I37ac9c227416b2b1dc26528350d188bd2a2a366c,openstack/networking-bagpipe,master,I37ac9c227416b2b1dc26528350d188bd2a2a366c,sfc: update for FlowSpec routes readvertisement,MERGED,2018-02-28 14:18:39.000000000,2018-05-22 00:02:51.000000000,2018-05-22 00:02:51.000000000,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-28 14:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/0183c53286a3a6f11ece6754313ab33ffbd16bcd', 'message': 'sfc: update for FlowSpec routes readvertisement\n\nAdd FlowSpec routes readvertisement between intermediate hops\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I37ac9c227416b2b1dc26528350d188bd2a2a366c\n'}, {'number': 2, 'created': '2018-05-17 15:05:53.000000000', 'files': ['networking_bagpipe/driver/sfc.py', 'networking_bagpipe/tests/unit/driver/sfc/test_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/be91be91d9747dfe14f046ae73c2bb6abb6a5f13', 'message': 'sfc: update for FlowSpec routes readvertisement\n\nAdd FlowSpec routes readvertisement between intermediate hops\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I37ac9c227416b2b1dc26528350d188bd2a2a366c\n'}]",1,548598,be91be91d9747dfe14f046ae73c2bb6abb6a5f13,12,2,2,19990,,,0,"sfc: update for FlowSpec routes readvertisement

Add FlowSpec routes readvertisement between intermediate hops

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: I37ac9c227416b2b1dc26528350d188bd2a2a366c
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/98/548598/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bagpipe/driver/sfc.py', 'networking_bagpipe/tests/unit/driver/sfc/test_driver.py']",2,0183c53286a3a6f11ece6754313ab33ffbd16bcd,sfc_flowspec_readv," readv_from_rts=['64512:5001'], readv_to_rt='64512:5003', attract_to_rt=None,"," readv_from_rts=[], readv_to_rt=None, attract_to_rt='64512:5003',",50,26
openstack%2Foslo.versionedobjects~master~I805cb212de6d3d920caae20a44d66eeb8b33187f,openstack/oslo.versionedobjects,master,I805cb212de6d3d920caae20a44d66eeb8b33187f,Add a secondary iot light bulb example (with remoting),ABANDONED,2016-03-18 18:38:39.000000000,2018-05-21 23:59:18.000000000,,"[{'_account_id': 1297}, {'_account_id': 4393}]","[{'number': 1, 'created': '2016-03-18 18:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/76c24ec2254fa1f1e2298fee9f40872a42e885f8', 'message': 'Add a secondary iot light bulb example (with remoting)\n\nChange-Id: I805cb212de6d3d920caae20a44d66eeb8b33187f\n'}, {'number': 2, 'created': '2016-03-19 16:46:04.000000000', 'files': ['doc/source/examples.rst', 'oslo_versionedobjects/examples/iot_bulb_remoted.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/67e2836681e84ff9726e200b1fd2abe3df17e983', 'message': 'Add a secondary iot light bulb example (with remoting)\n\nChange-Id: I805cb212de6d3d920caae20a44d66eeb8b33187f\n'}]",7,294755,67e2836681e84ff9726e200b1fd2abe3df17e983,14,2,2,1297,,,0,"Add a secondary iot light bulb example (with remoting)

Change-Id: I805cb212de6d3d920caae20a44d66eeb8b33187f
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/55/294755/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/examples.rst', 'oslo_versionedobjects/examples/iot_bulb_remoted.py']",2,76c24ec2254fa1f1e2298fee9f40872a42e885f8,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from datetime import datetime from oslo_versionedobjects import base from oslo_versionedobjects import fields as obj_fields # INTRO: This example shows how a object (a plain-old-python-object) with # some associated fields can be used, and some of its built-in methods can # be used to convert that object into a primitive and back again (as well # as determine simple changes on it). This differs from the prior example # in that this adds in a indirection api so that remotable methods now # get executed at some other endpoint. class MemoryBasedIndirectionAPI(base.VersionedObjectIndirectionAPI): def object_action(self, context, objinst, objmethod, args, kwargs): print(""Requesting to '%s' on %s with %s and %s"" % (objmethod, objinst, args, kwargs)) func = getattr(objinst, objmethod) return {}, func.original_fn(objinst, *args, **kwargs) class IOTLightbulb(base.VersionedObject): """"""Simple light bulb class with some data about it."""""" indirection_api = MemoryBasedIndirectionAPI() #: Namespace these examples will use. OBJ_PROJECT_NAMESPACE = 'versionedobjects.examples' #: Required fields this object **must** declare. fields = { 'serial': obj_fields.StringField(), 'manufactured_on': obj_fields.DateTimeField(), 'last_turned_on': obj_fields.DateTimeField(nullable=True), 'last_turned_off': obj_fields.DateTimeField(nullable=True), } @base.remotable def turn_on(self): print(""Now on!"") self.last_turned_on = datetime.now() self.last_turned_off = None @base.remotable def turn_off(self): self.last_turned_off = datetime.now() self.last_turned_on = None # Ensure that we always register our object with the global object # registry, so that it can be deserialized from its primitive form. base.VersionedObjectRegistry.register(IOTLightbulb) # Now do some basic operations on a light bulb. bulb = IOTLightbulb(context={}, serial='abc-123', manufactured_on=datetime.now()) # Turn (remotely) the light on bulb.turn_on() print(""After being turned on: %s"" % (bulb)) print(bulb.last_turned_on) # Turn (remotely) the light off bulb.turn_off() print(""After being turned off: %s"" % (bulb)) print(bulb.last_turned_off) ",,102,0
openstack%2Fswift~master~I27ca9b59897c5256dd5e2c3d4e26ff9e762b4a81,openstack/swift,master,I27ca9b59897c5256dd5e2c3d4e26ff9e762b4a81,Maintain manage-shard-ranges docs in its module,MERGED,2018-05-21 14:01:26.000000000,2018-05-21 23:41:55.000000000,2018-05-21 23:41:55.000000000,"[{'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 14:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e97820001892b9bca2dae6ae5746a454023319a6', 'message': 'Maintain manage-shard-ranges docs in its module\n\nMove the doc for manage-shard-ranges to the manage_shard_ranges.py module\nand include it in overview_container_sharding.rst. This makes the doc for\nmanage-shard-ranges more obvious when viewing the code.\n\nChange-Id: I27ca9b59897c5256dd5e2c3d4e26ff9e762b4a81\n'}, {'number': 2, 'created': '2018-05-21 20:21:10.000000000', 'files': ['doc/source/overview_container_sharding.rst', 'swift/cli/manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/99023ef85562a078d674727899a91ef626b2d88f', 'message': 'Maintain manage-shard-ranges docs in its module\n\nMove the doc for manage-shard-ranges to the manage_shard_ranges.py module\nand include it in overview_container_sharding.rst. This makes the doc for\nmanage-shard-ranges more obvious when viewing the code.\n\nChange-Id: I27ca9b59897c5256dd5e2c3d4e26ff9e762b4a81\n'}]",0,569799,99023ef85562a078d674727899a91ef626b2d88f,9,3,2,7847,,,0,"Maintain manage-shard-ranges docs in its module

Move the doc for manage-shard-ranges to the manage_shard_ranges.py module
and include it in overview_container_sharding.rst. This makes the doc for
manage-shard-ranges more obvious when viewing the code.

Change-Id: I27ca9b59897c5256dd5e2c3d4e26ff9e762b4a81
",git fetch https://review.opendev.org/openstack/swift refs/changes/99/569799/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/overview_container_sharding.rst', 'swift/cli/manage_shard_ranges.py']",2,e97820001892b9bca2dae6ae5746a454023319a6,569773,""""""" The ``swift-manage-shard-ranges`` tool provides commands for initiating sharding of a container. ``swift-manage-shard-ranges`` operates directly on a container database file. .. note:: ``swift-manage-shard-ranges`` must only be used on one replica of a container database to avoid inconsistent results. The modifications made by ``swift-manage-shard-ranges`` will be automatically copied to other replicas of the container database via normal replication processes. There are three steps in the process of initiating sharding, each of which may be performed in isolation or, as shown below, using a single command. #. The ``find`` sub-command scans the container database to identify how many shard containers will be required and which objects they will manage. Each shard container manages a range of the object namespace defined by a ``lower`` and ``upper`` bound. The maximum number of objects to be allocated to each shard container is specified on the command line. For example:: $ swift-manage-shard-ranges <path_to_db> find 500000 Loaded db broker for AUTH_test/c1. [ { ""index"": 0, ""lower"": """", ""object_count"": 500000, ""upper"": ""o_01086834"" }, { ""index"": 1, ""lower"": ""o_01086834"", ""object_count"": 500000, ""upper"": ""o_01586834"" }, { ""index"": 2, ""lower"": ""o_01586834"", ""object_count"": 500000, ""upper"": ""o_02087570"" }, { ""index"": 3, ""lower"": ""o_02087570"", ""object_count"": 500000, ""upper"": ""o_02587572"" }, { ""index"": 4, ""lower"": ""o_02587572"", ""object_count"": 500000, ""upper"": ""o_03087572"" }, { ""index"": 5, ""lower"": ""o_03087572"", ""object_count"": 500000, ""upper"": ""o_03587572"" }, { ""index"": 6, ""lower"": ""o_03587572"", ""object_count"": 349194, ""upper"": """" } ] Found 7 ranges in 4.37222s (total object count 3349194) This command returns a list of shard ranges each of which describes the namespace to be managed by a shard container. No other action is taken by this command and the container database is unchanged. The output may be redirected to a file for subsequent retrieval by the ``replace`` command. For example:: $ swift-manage-shard-ranges <path_to_db> find 500000 > my_shard_ranges Loaded db broker for AUTH_test/c1. Found 7 ranges in 2.448s (total object count 3349194) #. The ``replace`` sub-command deletes any shard ranges that might already be in the container database and inserts shard ranges from a given file. The file contents should be in the format generated by the ``find`` sub-command. For example:: $ swift-manage-shard-ranges <path_to_db> replace my_shard_ranges Loaded db broker for AUTH_test/c1. No shard ranges found to delete. Injected 7 shard ranges. Run container-replicator to replicate them to other nodes. Use the enable sub-command to enable sharding. The container database is modified to store the shard ranges, but the container will not start sharding until sharding is enabled. The ``info`` sub-command may be used to inspect the state of the container database at any point, and the ``show`` sub-command may be used to display the inserted shard ranges. Shard ranges stored in the container database may be replaced using the ``replace`` sub-command. This will first delete all existing shard ranges before storing new shard ranges. Shard ranges may also be deleted from the container database using the ``delete`` sub-command. Shard ranges should not be replaced or deleted using ``swift-manage-shard-ranges`` once the next step of enabling sharding has been taken. #. The ``enable`` sub-command enables the container for sharding. The sharder daemon and/or container replicator daemon will replicate shard ranges to other replicas of the container DB and the sharder daemon will proceed to shard the container. This process may take some time depending on the size of the container, the number of shard ranges and the underlying hardware. .. note:: Once the ``enable`` sub-command has been used there is no supported mechanism to revert sharding. Do not use ``swift-manage-shard-ranges`` to make any further changes to the shard ranges in the container DB. For example:: $ swift-manage-shard-ranges <path_to_db> enable Loaded db broker for AUTH_test/c1. Container moved to state 'sharding' with epoch 1525345093.22908. Run container-sharder on all nodes to shard the container. This does not shard the container - sharding is performed by the :ref:`sharder_daemon` - but sets the necessary state in the database for the daemon to subsequently start the sharding process. The ``epoch`` value displayed in the output is the time at which sharding was enabled. When the :ref:`sharder_daemon` starts sharding this container it creates a new container database file using the epoch in the filename to distinguish it from the retiring DB that is being sharded. All three steps may be performed with one sub-command:: $ swift-manage-shard-ranges <path_to_db> find_and_replace 500000 --enable --force Loaded db broker for AUTH_test/c1. No shard ranges found to delete. Injected 7 shard ranges. Run container-replicator to replicate them to other nodes. Container moved to state 'sharding' with epoch 1525345669.46153. Run container-sharder on all nodes to shard the container. """"""",,147,141
openstack%2Ftripleo-quickstart-extras~master~Ifd72d902c623b3941a6c714e36b7cf104109a570,openstack/tripleo-quickstart-extras,master,Ifd72d902c623b3941a6c714e36b7cf104109a570,Enable tempest.log in /var/log/tempest for container,MERGED,2018-05-07 08:11:28.000000000,2018-05-21 23:40:15.000000000,2018-05-21 23:40:15.000000000,"[{'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-07 08:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/741dd82a2a928a3fa8d1a553c487d8bdf47b6ff2', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}, {'number': 2, 'created': '2018-05-07 10:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/054b92ded2e8e30610b2bed142db2c2f544c5ae8', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}, {'number': 3, 'created': '2018-05-07 16:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/181534b5569791f498e51dfec1559f51e957e70a', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}, {'number': 4, 'created': '2018-05-08 10:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1b33382b154266f51e3d488fe98869049871afd0', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}, {'number': 5, 'created': '2018-05-09 05:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ac58e794c88815b4b5e34066eede9a6122014e7c', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n\nDepends-On: https://review.openstack.org/#/c/566364/\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}, {'number': 6, 'created': '2018-05-09 06:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e4296766ca6c464995ea7c07370866fda07981c3', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n\nDepends-On: https://review.openstack.org/#/c/566364/\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}, {'number': 7, 'created': '2018-05-09 07:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/207ca46a1a4fb5072c13f78e8d989299109fa052', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n\nDepends-On: https://review.openstack.org/#/c/566364/\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}, {'number': 8, 'created': '2018-05-14 11:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2219292d64b0b9646186ceeca4baeba39fbfece6', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n\nDepends-On: https://review.openstack.org/#/c/566364/\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}, {'number': 9, 'created': '2018-05-14 13:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1ed83f5b662c0df911b9a1dc02577c496a69526c', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n\nDepends-On: https://review.openstack.org/#/c/566364/\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}, {'number': 10, 'created': '2018-05-15 07:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9b9ba9eecf8400970daf8188a914252de9338a57', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n\nDepends-On: https://review.openstack.org/#/c/566364/\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}, {'number': 11, 'created': '2018-05-17 07:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/212c7dd3bfdd57de0e91ef7de9394bc1650cde01', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n* Introduced tempest_log_dir and tempest_log_file var to the\n  validate-tempest-playbook\n\nDepends-On: https://review.openstack.org/#/c/566364/\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}, {'number': 12, 'created': '2018-05-17 07:38:14.000000000', 'files': ['roles/validate-tempest/templates/run-tempest.sh.j2', 'roles/validate-tempest/templates/configure-tempest.sh.j2', 'roles/validate-tempest/README.md', 'roles/validate-tempest/tasks/tempest-results.yml', 'roles/validate-tempest/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c570dd05e2da3ee24c115246c4213f20ae8f8f5d', 'message': 'Enable tempest.log in /var/log/tempest for container\n\n* In CI, when tempest container is used, It is good to dump the\n  logs in /var/log/tempest so that it would be easier to verify\n  tempest container is used.\n* Introduced tempest_log_dir and tempest_log_file var to the\n  validate-tempest-playbook\n\nDepends-On: https://review.openstack.org/#/c/566364/\n\nChange-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570\n'}]",1,566526,c570dd05e2da3ee24c115246c4213f20ae8f8f5d,63,8,12,12393,,,0,"Enable tempest.log in /var/log/tempest for container

* In CI, when tempest container is used, It is good to dump the
  logs in /var/log/tempest so that it would be easier to verify
  tempest container is used.
* Introduced tempest_log_dir and tempest_log_file var to the
  validate-tempest-playbook

Depends-On: https://review.openstack.org/#/c/566364/

Change-Id: Ifd72d902c623b3941a6c714e36b7cf104109a570
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/566526/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/templates/configure-tempest.sh.j2'],1,741dd82a2a928a3fa8d1a553c487d8bdf47b6ff2,tempest_log, {% if tempest_format == 'container' %} DEFAULT.log_dir /var/log/tempest DEFAULT.log_file tempest.log {% endif %},,4,0
openstack%2Foslo.vmware~master~I8567c8c273a3bff41c4b80a77e1fa8af743bf98c,openstack/oslo.vmware,master,I8567c8c273a3bff41c4b80a77e1fa8af743bf98c,Specify CA store when making secure connections with urllib3,MERGED,2018-05-18 10:28:25.000000000,2018-05-21 23:31:18.000000000,2018-05-21 23:31:18.000000000,"[{'_account_id': 8119}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 10:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/416ad261722a5cda24d2965c9ae0cf4039a1978d', 'message': ""Specify CA store when making secure connections with urllib3\n\nWe have been using FileHandle classes mostly in cases when we have to\nestablish secure connection and we have an SSL thumbprint of the host we\nconnect to. However, there are also cases when we don't have a\nthumbprint and we need CA store. This patch uses the certifi library to\nprovide such CA store.\n\nChange-Id: I8567c8c273a3bff41c4b80a77e1fa8af743bf98c\n""}, {'number': 2, 'created': '2018-05-21 09:38:46.000000000', 'files': ['oslo_vmware/tests/test_rw_handles.py', 'oslo_vmware/rw_handles.py'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/984efbdfd2e765ba5a82c7a8c496c0e202b2e96f', 'message': ""Specify CA store when making secure connections with urllib3\n\nWe have been using FileHandle classes mostly in cases when we have to\nestablish secure connection and we have an SSL thumbprint of the host we\nconnect to. However, there are also cases when we don't have a\nthumbprint and we need CA store. This patch uses the requests library to\nprovide such CA store.\n\nChange-Id: I8567c8c273a3bff41c4b80a77e1fa8af743bf98c\n""}]",0,569378,984efbdfd2e765ba5a82c7a8c496c0e202b2e96f,11,4,2,9172,,,0,"Specify CA store when making secure connections with urllib3

We have been using FileHandle classes mostly in cases when we have to
establish secure connection and we have an SSL thumbprint of the host we
connect to. However, there are also cases when we don't have a
thumbprint and we need CA store. This patch uses the requests library to
provide such CA store.

Change-Id: I8567c8c273a3bff41c4b80a77e1fa8af743bf98c
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/78/569378/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'oslo_vmware/tests/test_rw_handles.py', 'oslo_vmware/rw_handles.py']",4,416ad261722a5cda24d2965c9ae0cf4039a1978d,certifi,import certifi cacerts = certifi.where(), cacerts = None,10,3
openstack%2Foctavia-dashboard~master~I68ab95fbd197f9621bdb0f770a6f7d50918b7a91,openstack/octavia-dashboard,master,I68ab95fbd197f9621bdb0f770a6f7d50918b7a91,Allow member name to be set and updated,MERGED,2018-04-22 00:59:45.000000000,2018-05-21 22:56:21.000000000,2018-05-21 22:56:21.000000000,"[{'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 14151}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-22 00:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/268bd7af92a0d730d4481b8072f50b357ea17b86', 'message': ""Change 'Admin State Up' to 'Enabled'\n\nTo be more space efficient and also align vocabulary with octavia.\n\nChange-Id: I68ab95fbd197f9621bdb0f770a6f7d50918b7a91\n""}, {'number': 2, 'created': '2018-05-16 12:59:42.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/pool/pool.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/monitor/monitor.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/pool/pool.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/monitor/monitor.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7rule/l7rule.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7rule/l7rule.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/pool/pool.html', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7rule/l7rule.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.controller.js'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/965e551e3b3242b2a8c1eadbd4c9b76108e38e05', 'message': 'Allow member name to be set and updated\n\nAlso use correct compare types for l7 rule of file type\n\nChange-Id: I68ab95fbd197f9621bdb0f770a6f7d50918b7a91\n'}]",0,563438,965e551e3b3242b2a8c1eadbd4c9b76108e38e05,11,4,2,2245,,,0,"Allow member name to be set and updated

Also use correct compare types for l7 rule of file type

Change-Id: I68ab95fbd197f9621bdb0f770a6f7d50918b7a91
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/38/563438/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/pool/pool.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/listeners/listeners.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/monitor/monitor.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/listeners/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/l7rules.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7rule/l7rule.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/pool/pool.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/pools.module.js', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/members.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/loadbalancers.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/monitor/monitor.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/pool/pool.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7rule/l7rule.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/healthmonitors.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7rule/l7rule.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/l7policies.module.js']",37,268bd7af92a0d730d4481b8072f50b357ea17b86,backup-member," label: gettext('Enabled'),"," label: gettext('Admin State Up'),",117,251
openstack%2Ftripleo-heat-templates~master~I6f2f98aba103f83a4f64a435077f4de33f9692c0,openstack/tripleo-heat-templates,master,I6f2f98aba103f83a4f64a435077f4de33f9692c0,Allow custom time constraints to rotate logs,MERGED,2018-05-17 15:43:36.000000000,2018-05-21 22:44:23.000000000,2018-05-21 21:45:19.000000000,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 9098}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-05-17 15:43:36.000000000', 'files': ['releasenotes/notes/logrotate-containers-purge-a5587253fe6cbb28.yaml', 'docker/services/logrotate-crond.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62cdc3949f733b726fc1e25708b755e1a21dd9f7', 'message': ""Allow custom time constraints to rotate logs\n\nTime based constraints must prevail over size et al\nconstraints applied for logs of containerized services.\nTime based constraints are needed in order to abide\nGDPR requirements.\n\nDepending on FS type, Linux may not allow system operators\nto access files creation time attribute (see the Birth\nattribute shown as '-' by the stat -c %w command).\nThis is work-arouned by alternative strict time-based rules\ndefined in the postrotate script, which purges files in\n/var/log/containers and ensures GDPR compliant system\nconfiguration, limited to the containerized services logs.\n\nExtended management of life time of journald and /var/log\nfiles residing on bare metal hosts, should be done in\nfollow up patches.\n\nPartial-bug: #1771543\n\nChange-Id: I6f2f98aba103f83a4f64a435077f4de33f9692c0\nDepends-On: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",0,569154,62cdc3949f733b726fc1e25708b755e1a21dd9f7,20,9,1,6926,,,0,"Allow custom time constraints to rotate logs

Time based constraints must prevail over size et al
constraints applied for logs of containerized services.
Time based constraints are needed in order to abide
GDPR requirements.

Depending on FS type, Linux may not allow system operators
to access files creation time attribute (see the Birth
attribute shown as '-' by the stat -c %w command).
This is work-arouned by alternative strict time-based rules
defined in the postrotate script, which purges files in
/var/log/containers and ensures GDPR compliant system
configuration, limited to the containerized services logs.

Extended management of life time of journald and /var/log
files residing on bare metal hosts, should be done in
follow up patches.

Partial-bug: #1771543

Change-Id: I6f2f98aba103f83a4f64a435077f4de33f9692c0
Depends-On: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/569154/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/logrotate-crond.yaml', 'releasenotes/notes/logrotate-containers-purge-a5587253fe6cbb28.yaml']",2,62cdc3949f733b726fc1e25708b755e1a21dd9f7,bug/1771543,"--- upgrade: - | The 'LogrotatePurgeAfterDays' enforces cleaning up of information exceeded its life-time (defaults to a 14 days) in the /var/log/containers directory of bare metal overcloud hosts, including upgrade (from containers) cases, when leftovers may be remaining on the host systems. security: - | New heat parameters for containerized services 'LogrotateMaxsize', 'LogrotateRotationInterval', 'LogrotateRotate' and 'LogrotatePurgeAfterDays' allow customizing size/time-based rules for the containerized services logs rotation. The time based rules prevail over all. ",,38,2
openstack%2Fswift~master~Ib6aca2375a196d319bd955d5c458c37671f9e68d,openstack/swift,master,Ib6aca2375a196d319bd955d5c458c37671f9e68d,Pre-storage-policy-index tests shouldn't have shard_range tables,MERGED,2018-05-21 20:36:52.000000000,2018-05-21 22:29:24.000000000,2018-05-21 22:29:24.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 20:36:52.000000000', 'files': ['test/unit/container/test_backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9530ab20e3ec7a67c467a66d38e5f375e0831730', 'message': ""Pre-storage-policy-index tests shouldn't have shard_range tables\n\nChange-Id: Ib6aca2375a196d319bd955d5c458c37671f9e68d\n""}]",0,569856,9530ab20e3ec7a67c467a66d38e5f375e0831730,6,2,1,15343,,,0,"Pre-storage-policy-index tests shouldn't have shard_range tables

Change-Id: Ib6aca2375a196d319bd955d5c458c37671f9e68d
",git fetch https://review.opendev.org/openstack/swift refs/changes/56/569856/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_backend.py'],1,9530ab20e3ec7a67c467a66d38e5f375e0831730,," class OverrideCreateShardRangesTable(object): def __init__(self, func): self.func = func def __get__(self, obj, obj_type): if inspect.stack()[1][3] == '_initialize': return lambda *a, **kw: None return self.func.__get__(obj, obj_type) self._imported_create_shard_range_table = \ ContainerBroker.create_shard_range_table if 'shard_range' not in self.expected_db_tables: ContainerBroker.create_shard_range_table = \ self.OverrideCreateShardRangesTable( ContainerBroker.create_shard_range_table) self._imported_create_shard_range_table 'sqlite_sequence', 'container_stat'} 'sqlite_sequence', 'container_stat'} 'sqlite_sequence', 'container_stat'} with self.assertRaises(sqlite3.DatabaseError) as raised, \ broker.get() as conn: conn.execute('''SELECT storage_policy_index FROM container_stat''') self.assertIn('no such column: storage_policy_index', str(raised.exception)) # *grumble grumble* This should include container_info/policy_stat :-/ with self.assertRaises(sqlite3.DatabaseError) as raised, \ broker.get() as conn: conn.execute('''SELECT * FROM shard_range''') self.assertIn('no such table: shard_range', str(raised.exception))"," self._imported_create_shard_ranges_table = \ ContainerBroker.create_shard_range_table self._imported_create_shard_ranges_table 'sqlite_sequence', 'container_stat', 'shard_range'} 'sqlite_sequence', 'container_stat', 'shard_range'} 'sqlite_sequence', 'container_stat', 'shard_range'} exc = None with broker.get() as conn: try: conn.execute('''SELECT storage_policy_index FROM container_stat''') except BaseException as err: exc = err self.assertTrue('no such column: storage_policy_index' in str(exc)) class Override(object): def __init__(self, func): self.func = func def __get__(self, obj, obj_type): if inspect.stack()[1][3] == '_initialize': return lambda *a, **kw: None return self.func.__get__(obj, obj_type) ContainerBroker.create_shard_range_table = self.Override( ContainerBroker.create_shard_range_table) exc = None with broker.get() as conn: try: conn.execute('''SELECT * FROM shard_range''') except BaseException as err: exc = err self.assertTrue('no such table: shard_range' in str(exc))",32,33
openstack%2Fswift~master~I1e736c8da142adecc2b0b629cfd48afa072d40a0,openstack/swift,master,I1e736c8da142adecc2b0b629cfd48afa072d40a0,Container sharding doc fixes and clarifications,MERGED,2018-05-21 10:37:35.000000000,2018-05-21 22:29:21.000000000,2018-05-21 22:29:21.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 10:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/252a303e79cc190271c77b83d7b0ff8619dfbed3', 'message': 'Container sharding doc fixes and clarifications\n\nChange-Id: I1e736c8da142adecc2b0b629cfd48afa072d40a0\n'}, {'number': 2, 'created': '2018-05-21 10:58:59.000000000', 'files': ['doc/source/overview_container_sharding.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/4c559fccb7a9af6b12efdcb5986a60f476fdb76d', 'message': 'Container sharding doc fixes and clarifications\n\nChange-Id: I1e736c8da142adecc2b0b629cfd48afa072d40a0\n'}]",0,569773,4c559fccb7a9af6b12efdcb5986a60f476fdb76d,7,2,2,7847,,,0,"Container sharding doc fixes and clarifications

Change-Id: I1e736c8da142adecc2b0b629cfd48afa072d40a0
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/569773/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/overview_container_sharding.rst'],1,252a303e79cc190271c77b83d7b0ff8619dfbed3,569773,"containers are included in the ``sharding_candidates`` data. other replicas of the container DB and the sharder daemon will proceed to .. note:: Once the ``enable`` sub-command has been used there is no supported mechanism to revert sharding. Do not use ``swift-manage-shard-ranges`` to make any further changes to the shard ranges in the container DB.================== ====================================================================== ====================================================Epoch A timestamp at which the fresh DB is created; the epoch value is embedded in the fresh DB filename. range. Shard containers exist in a hidden accountParent container The container from which a shard container has been cleaved. When first sharding a root container each shard's parent container will be the root container. When sharding a shard container each shard's parent container will be the sharding shard container.================== ====================================================shard range is given a unique name.covers, which for user containers is always the entire namespace. Sharding of the container will only begin when its own shard range's state has been set to ``SHARDING``.* CREATED: a shard container has been created to store the contents of the* ACTIVE: a sharding container's constituent shard ranges are moved to this state when all shard ranges in the sharding container have been cleaved.* SHARDING: the shard range has been enabled for sharding into further sub-shards. * SHARDED: the shard range has completed sharding or shrinking; the container will typically now have a number of constituent ACTIVE shard ranges. .. note::will ultimately replace the existing `retiring` database. For a retiring DBwhere `epoch` is a timestamp stored in the container's `own_shard_range`.Each shard container has an `own_shard_range` record which has theA shard range name takes the form ``<shard_a>/<shard_c>`` where `<shard_a>` is a hidden account and `<shard_c>` is a container name that is derived from the root container. The account name `<shard_a>` used for shard containers is formed by prefixing the user account with the string ``.shards_``. This avoids namespace collisions and also keeps all the shard containers out of view from users of the account. The container name for each shard container has the form:: <root container name>-<hash of parent container>-<timestamp>-<shard index> where `root container name` is the name of the user container to which the contents of the shard container belong, `parent container` is the name of the container from which the shard is being cleaved, `timestamp` is the time at which the shard range was created and `shard index` is the position of the shard range in the name-ordered list of shard ranges for the `parent container`. When sharding a user container the parent container name will be the same as the root container. However, if a *shard container* grows to a size that it requires sharding, then the parent container name for its shards will be the name of the sharding shard container. For example, consider a user container with path ``AUTH_user/c`` which is sharded into two shard containers whose name will be:: .shards_AUTH_user/c-<hash(c)>-1234512345.12345-0 .shards_AUTH_user/c-<hash(c)>-1234512345.12345-1 If the first shard container is subsequently sharded into a further two shard containers then they will be named:: .shards_AUTH_user/c-<hash(c-<hash(c)>-1234567890.12345-0)>-1234567890.12345-0 .shards_AUTH_user/c-<hash(c-<hash(c)>-1234567890.12345-0)>-1234567890.12345-1 This naming scheme guarantees that shards, and shards of shards, each have a unique name of bounded length. that is the ``id`` of the retiring DB. Since all container DB files have a unique ``id``, this guarantees that each retiring DB will have a unique.. note:: cleaved. These updates will not therefore be included in container listingsWhen a shard is sharding it notifies the root container of its shard ranges so that the root container can start to redirect object updates to the new 'sub-shards'. When the shard has completed sharding the root is aware of all the new sub-shards and the sharding shard deletes its shard range record in the root container shard ranges table. At this point the root container is aware of all the new sub-shards which collectively cover the namespace of the now-deleted shard. There is no hierarchy of shards beyond the root container and its immediate shards. When a shard shards, its sub-shards are effectively re-parented with the root container.A shard container's contents may reduce to a point where the shard container is no longer required. If this happens then the shard container may be shrunk into another shard range. Shrinking is achieved in a similar way to sharding: an 'acceptor' shard range is written to the shrinking shard container's shard ranges table; unlike sharding, where shard ranges each cover a subset of the sharding container's namespace, the acceptor shard range is a superset of the shrinking shard range.","containers are included in the ``sharding_candidate`` data. other replicas of the container db and the sharder daemon will proceed to.. note:: Once the ``enable`` sub-command has been used there is no supported mechanism to revert sharding. Do not use ``swift-manage-shard-ranges`` to make any further changes to the shard ranges in the container db.================== ==================================================================== ================================================== range. Shard containers exist a hidden account================== ==================================================shard range is given a name. The name takes the form ``a/c`` where ``a`` is an account name formed by prefixing the user account with the string ``.shards_``, and ``c`` is a container name that is derived from the original container and includes the index of the shard range. The final container name for the shard range uses the pattern of ``{original contianer name}-{hash of parent container}-{timestamp}-{shard index}``.covers, which for user containers is always the entire namespace.* CREATED: A shard container has been created to store the contents of the* ACTIVE: shard ranges move to this state when all shard ranges in a sharding container have been cleaved.* SHARDING: the shard range has been enabled for sharding. * SHARDED: the shard range has completed sharding or shrinking. ..note::will ultimately replace the existing `retiring` database. For a retiring dbwhere epoch is a timestamp stored in the container's `own_shard_range`.Shard containers now exist with a unique name and placed in a hidden account that maps to the user account (`.shards_acct`). This avoids namespace collisions and also keeps all the shard containers out of view from users of the account. Each shard container has an `own_shard_range` record which has thethat is the ``id`` of the retiring DB. Since all container DB files have unique ``id``s, this guarantees that each retiring DB will have a unique..note:: cleaved. These updates will not threfore be included in container listingsWhen a shard is sharding it notifies the root of its shard ranges so that the root can start to redirect object updates to the new 'sub-shards'. When the shard has completed sharding the root is aware of all the new sub-shards and the sharding shard deletes its shard range record in the root container shard ranges table. At this point the root is aware of all the new sub-shards which collectively cover the namespace of the now-deleted shard. There is no hierarchy of shards beyond the root and its immediate shards. When a shard shards, its sub-shards are effectively re-parented with the root container.A shard's contents may reduce to a point where the shard is no longer required. If this happens then the shard may be shrunk into another shard range. Shrinking is achieved in a similar way to sharding: an 'acceptor' shard range is written to the shrinking shard container's shard ranges table; unlike sharding, where shard ranges each cover a subset of the sharding container's namespace, the acceptor shard range is a superset of the shrinking shard range.",93,49
openstack%2Fneutron-tempest-plugin~master~Ia519d3bb7eb32b1f986983c9b74ee3621881172f,openstack/neutron-tempest-plugin,master,Ia519d3bb7eb32b1f986983c9b74ee3621881172f,Allow network configuration for mtu tests,MERGED,2018-03-04 09:49:44.000000000,2018-05-21 22:29:13.000000000,2018-05-21 22:29:13.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4727}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 18746}, {'_account_id': 19118}, {'_account_id': 20171}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 26899}, {'_account_id': 27329}]","[{'number': 1, 'created': '2018-03-04 09:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a031f0fd66c0f68b0867a21904cca3f15b872694', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure subnet cidr and network type\nto accomodate network environment.\nIt also allow to test ovs jumbo and mtu.\nThis patch also introduce option to set MTU througe net create\nfor queens release, once it is ready.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 2, 'created': '2018-03-04 09:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/61b3de2cadb638aeb27ffc8fd7e117d42dd272e8', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure subnet cidr and network type\nto accomodate network environment.\nIt also allow to test ovs [thtough ovs+dpdk] jumbo and mtu.\nThis patch also introduce option to set MTU through net create\nfor queens release, once it is ready.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 3, 'created': '2018-03-04 10:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b5f221d4d5e0569f3e130df4109dfb3441d7fac8', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure subnet cidr and network type\nto accomodate network environment.\nIt also allow to test ovs [thtough ovs+dpdk] jumbo and mtu.\nThis patch also introduce option to set MTU through net create\nfor queens release, once it is ready.\n\nIn addition, indentation changes added\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 4, 'created': '2018-03-04 14:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b739882d05de6ee9eb1dfd3d12df2f4951be85f2', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure subnet cidr and network type\nto accomodate network environment.\nIt also allow to test ovs jumbo and mtu.\nThis patch also introduce option to set MTU througe net create\nfor queens release, once it is ready.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 5, 'created': '2018-03-04 15:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4b42e2524d65f7ff070bf385e25e54c17bf0206e', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure subnet cidr and network type\nto accomodate network environment.\nIt also allow to test ovs [thtough ovs+dpdk] jumbo and mtu.\nThis patch also introduce option to set MTU through net create\nfor queens release, once it is ready.\n\nIn addition, indentation changes added\n\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 6, 'created': '2018-03-04 15:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/11891a6a16d98906f7de50b3c8bc8100f28141e8', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure subnet cidr and network type\nto accomodate network environment.\nIt also allow to test ovs [through ovs+dpdk] jumbo and mtu.\nThis patch also introduce option to set MTU through net create\nfor queens release, once it is ready.\n\nIn addition, indentation changes introduced\n\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 7, 'created': '2018-03-07 13:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b03760e11b0b23fca0cea85c3343b2ff42e7b047', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure subnet cidr and network type\nto accomodate network environment.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 8, 'created': '2018-03-08 13:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1e4967396f089cf38af1eb29b2d4ab56b7344a5e', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure subnet cidr and network type\nto accomodate network environment.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 9, 'created': '2018-05-01 08:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c44224b0285102a609b5974680c69998087ae815', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure subnet cidr and network type\nto accomodate network environment in class NetworkWritableMtuTest.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 10, 'created': '2018-05-01 11:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/61d8f67936e4f14d9d6815e70d4408294364f7ef', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure on create subnet, cidr and network type\nto accomodate network environment in class NetworkWritableMtuTest.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 11, 'created': '2018-05-01 14:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e66d00145b7b109964552ea47c75c76c30ad4394', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure on create subnet, cidr and network type\nto accomodate network environment in class NetworkWritableMtuTest.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 12, 'created': '2018-05-01 19:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6301622153c10cd23fc40e65355a5c99fdb46a94', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure on create subnet, cidr and network type\nto accomodate network environment in class NetworkWritableMtuTest.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 13, 'created': '2018-05-03 16:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/896d0f02ce568d2b1f51d050ca9636eec8430cc5', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure on create subnet, cidr and network type\nto accomodate network environment in class NetworkWritableMtuTest.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 14, 'created': '2018-05-03 20:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/20bb62d4214dc3a483b94f1a1c5bf148df5e014e', 'message': 'Allow network configuration for mtu tests.\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure on create:\n subnet cidr, for provider networks not managed by neutron\n network type, VLAN/VXLAN/GRE/FLAT\n mtu, network mtu for OVS+DPDK bridge/bond mtu settings.\n\nIt accommodate network environment in class NetworkWritableMtuTest.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 15, 'created': '2018-05-17 07:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e86335cc4d0bf02f8b34c325a648d55c71bd2a89', 'message': 'Allow network configuration for mtu tests\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure on create:\n subnet cidr, for provider networks not managed by neutron\n network type, VLAN/VXLAN/GRE/FLAT\n mtu, network mtu for OVS+DPDK bridge/bond mtu settings.\n\nIt accommodate network environment in class NetworkWritableMtuTest.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 16, 'created': '2018-05-17 08:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b69d484a1e9fe0fda1efd68304c40a6280deb5d0', 'message': 'Allow network configuration for mtu tests\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure on create:\n subnet cidr, for provider networks not managed by neutron\n network type, VLAN/VXLAN/GRE/FLAT\n mtu, network mtu for OVS+DPDK bridge/bond mtu settings.\n\nIt accommodate network environment in class NetworkWritableMtuTest.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 17, 'created': '2018-05-17 11:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/53d9b900e9d6c62980ccd9ebc8b57ed661e9a3a0', 'message': 'Allow network configuration for mtu tests\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure on create:\n subnet cidr, for provider networks not managed by neutron\n network type, VLAN/VXLAN/GRE/FLAT\n mtu, network mtu for OVS+DPDK bridge/bond mtu settings.\n\nIt accommodate network environment in class NetworkWritableMtuTest.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}, {'number': 18, 'created': '2018-05-21 09:05:10.000000000', 'files': ['neutron_tempest_plugin/scenario/test_mtu.py', 'neutron_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/94970883f655d91df5374d3130e3a868f5610f10', 'message': 'Allow network configuration for mtu tests\n\nIn NFV baremetal deployments, networks settings may be constrained.\nThis patch allows to configure on create:\n subnet cidr, for provider networks not managed by neutron\n network type, VLAN/VXLAN/GRE/FLAT\n mtu, network mtu for OVS+DPDK bridge/bond mtu settings.\n\nIt accommodate network environment in class NetworkWritableMtuTest.\nIt also allows to test ovs [through ovs+dpdk] jumbo and mtu.\n\nChange-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f\n'}]",69,549522,94970883f655d91df5374d3130e3a868f5610f10,64,12,18,20171,,,0,"Allow network configuration for mtu tests

In NFV baremetal deployments, networks settings may be constrained.
This patch allows to configure on create:
 subnet cidr, for provider networks not managed by neutron
 network type, VLAN/VXLAN/GRE/FLAT
 mtu, network mtu for OVS+DPDK bridge/bond mtu settings.

It accommodate network environment in class NetworkWritableMtuTest.
It also allows to test ovs [through ovs+dpdk] jumbo and mtu.

Change-Id: Ia519d3bb7eb32b1f986983c9b74ee3621881172f
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/22/549522/18 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/scenario/test_mtu.py', 'neutron_tempest_plugin/config.py']",2,a031f0fd66c0f68b0867a21904cca3f15b872694,mtu-config," cfg.ListOpt('test_networks', default=['10.100.0.0/16:vxlan:None', '10.200.0.0/16:gre:None'], help='Configuration for test networks. '),",,13,11
openstack%2Fswift~master~I9e4a22878673bfe406c7dc18d9e6091302f76fb1,openstack/swift,master,I9e4a22878673bfe406c7dc18d9e6091302f76fb1,Respect auto_create_account_prefix in container PUT path,NEW,2018-05-21 20:47:45.000000000,2018-05-21 22:13:07.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 20:47:45.000000000', 'files': ['swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/09d0a588c8f9280ff29f6fc5dc15e999c4db68d8', 'message': 'Respect auto_create_account_prefix in container PUT path\n\nChange-Id: I9e4a22878673bfe406c7dc18d9e6091302f76fb1\n'}]",0,569860,09d0a588c8f9280ff29f6fc5dc15e999c4db68d8,3,2,1,15343,,,0,"Respect auto_create_account_prefix in container PUT path

Change-Id: I9e4a22878673bfe406c7dc18d9e6091302f76fb1
",git fetch https://review.opendev.org/openstack/swift refs/changes/60/569860/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/container.py'],1,09d0a588c8f9280ff29f6fc5dc15e999c4db68d8,, auto_account = self.account_name.startswith( self.app.auto_create_account_prefix) if not accounts and (self.app.account_autocreate or auto_account):, if not accounts and self.app.account_autocreate:,3,1
openstack%2Fansible-role-container-registry~master~Ic29d1c10741bf946c1df709d14b9b30dcf7f6c9b,openstack/ansible-role-container-registry,master,Ic29d1c10741bf946c1df709d14b9b30dcf7f6c9b,Add validation for docker registry v2,MERGED,2018-05-14 04:10:13.000000000,2018-05-21 21:45:20.000000000,2018-05-21 21:45:20.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 04:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/91f1b519759434b5ce745abf7a56557c92ec8a4f', 'message': ""Add validation for docker registry v2\n\nValidate that Registry is actually up and running.\nIt's useful to fail early if the registry is for some reasons not\nstarted correctly. It avoids to go further in the deployments steps and\nloose time before seeing the failures when deploying containers.\n\nChange-Id: Ic29d1c10741bf946c1df709d14b9b30dcf7f6c9b\n""}, {'number': 2, 'created': '2018-05-14 04:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/85f68806bd4c1fb6d93bcf57fc5b565dda16aea7', 'message': ""Add validation for docker registry v2\n\nValidate that Registry is actually up and running.\nIt's useful to fail early if the registry is for some reasons not\nstarted correctly. It avoids to go further in the deployments steps and\nloose time before seeing the failures when deploying containers.\n\nChange-Id: Ic29d1c10741bf946c1df709d14b9b30dcf7f6c9b\n""}, {'number': 3, 'created': '2018-05-20 18:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/e222030180ab3d1304b0baa04e539a20cf6ff3a2', 'message': ""Add validation for docker registry v2\n\nValidate that Registry is actually up and running.\nIt's useful to fail early if the registry is for some reasons not\nstarted correctly. It avoids to go further in the deployments steps and\nloose time before seeing the failures when deploying containers.\n\nChange-Id: Ic29d1c10741bf946c1df709d14b9b30dcf7f6c9b\n""}, {'number': 4, 'created': '2018-05-21 14:28:31.000000000', 'files': ['tasks/docker-distribution.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/d6c63f1baa57df4d644ec51ce3088f82daf872e6', 'message': ""Add validation for docker registry v2\n\nValidate that Registry is actually up and running.\nIt's useful to fail early if the registry is for some reasons not\nstarted correctly. It avoids to go further in the deployments steps and\nloose time before seeing the failures when deploying containers.\n\nChange-Id: Ic29d1c10741bf946c1df709d14b9b30dcf7f6c9b\n""}]",1,568185,d6c63f1baa57df4d644ec51ce3088f82daf872e6,22,4,4,3153,,,0,"Add validation for docker registry v2

Validate that Registry is actually up and running.
It's useful to fail early if the registry is for some reasons not
started correctly. It avoids to go further in the deployments steps and
loose time before seeing the failures when deploying containers.

Change-Id: Ic29d1c10741bf946c1df709d14b9b30dcf7f6c9b
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/85/568185/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/docker-distribution.yml'],1,91f1b519759434b5ce745abf7a56557c92ec8a4f,validation," - name: validate that registry is up uri: # Just checking API version should be fine # https://docs.docker.com/registry/spec/api/#api-version-check url: ""http://{{ container_registry_host }}:{{ container_registry_port }}/v2/""",,6,0
openstack%2Fswift~master~I78462651ac0d1d61812adeeb13a8442ecadbfe47,openstack/swift,master,I78462651ac0d1d61812adeeb13a8442ecadbfe47,container/backend: Always call transform_func when building listings,NEW,2018-05-21 19:22:35.000000000,2018-05-21 21:23:19.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 19:22:35.000000000', 'files': ['swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b3dab56dd9a17081c143f7ecfe51464cd72befa7', 'message': 'container/backend: Always call transform_func when building listings\n\n...and always provide a consistent set of columns\n\nChange-Id: I78462651ac0d1d61812adeeb13a8442ecadbfe47\n'}]",1,569850,b3dab56dd9a17081c143f7ecfe51464cd72befa7,3,2,1,15343,,,0,"container/backend: Always call transform_func when building listings

...and always provide a consistent set of columns

Change-Id: I78462651ac0d1d61812adeeb13a8442ecadbfe47
",git fetch https://review.opendev.org/openstack/swift refs/changes/50/569850/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,b3dab56dd9a17081c143f7ecfe51464cd72befa7,," results.append(transform_func( (dir_name, '0', 0, None, '', 0, 0)))"," results.append([dir_name, '0', 0, None, ''])",2,1
openstack%2Fnova-specs~master~Iccd0c3214354e7c0d73318a3f728ea321ad32afa,openstack/nova-specs,master,Iccd0c3214354e7c0d73318a3f728ea321ad32afa,update add-consumer-generation to focus on API,MERGED,2018-05-01 19:21:02.000000000,2018-05-21 21:07:44.000000000,2018-05-21 21:07:44.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-05-01 19:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fd119a850f66eaad8edcf64a513a062c471aa286', 'message': 'update add-consumer-generation to focus on API\n\nUpdates the add-consumer-generation spec to focus strictly on the\nbehaviour changes expected in the placement API and removing information\nabout changing consumers.project_id and consumers.user_id fields to be\nNULLable.\n\nChange-Id: Iccd0c3214354e7c0d73318a3f728ea321ad32afa\nblueprint: add-consumer-generation\n'}, {'number': 2, 'created': '2018-05-01 22:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7d1035317f250b455e2d6419df92107e9dc6d4bb', 'message': 'update add-consumer-generation to focus on API\n\nUpdates the add-consumer-generation spec to focus strictly on the\nbehaviour changes expected in the placement API and removing information\nabout changing consumers.project_id and consumers.user_id fields to be\nNULLable.\n\nChange-Id: Iccd0c3214354e7c0d73318a3f728ea321ad32afa\nblueprint: add-consumer-generation\n'}, {'number': 3, 'created': '2018-05-02 15:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6eda79f26c74b383a0700059b1eabccdcab45dc0', 'message': 'update add-consumer-generation to focus on API\n\nUpdates the add-consumer-generation spec to focus strictly on the\nbehaviour changes expected in the placement API and removing information\nabout changing consumers.project_id and consumers.user_id fields to be\nNULLable.\n\nChange-Id: Iccd0c3214354e7c0d73318a3f728ea321ad32afa\nblueprint: add-consumer-generation\n'}, {'number': 4, 'created': '2018-05-17 21:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2435221ec8a69cd4230e16f082ca5051a01be9f6', 'message': 'update add-consumer-generation to focus on API\n\nUpdates the add-consumer-generation spec to focus strictly on the\nbehaviour changes expected in the placement API and removing information\nabout changing consumers.project_id and consumers.user_id fields to be\nNULLable.\n\nChange-Id: Iccd0c3214354e7c0d73318a3f728ea321ad32afa\nblueprint: add-consumer-generation\n'}, {'number': 5, 'created': '2018-05-21 17:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8a5692d2b1c24c1ce40eab4f24ecbf5496dffae8', 'message': 'update add-consumer-generation to focus on API\n\nUpdates the add-consumer-generation spec to focus strictly on the\nbehaviour changes expected in the placement API and removing information\nabout changing consumers.project_id and consumers.user_id fields to be\nNULLable.\n\nChange-Id: Iccd0c3214354e7c0d73318a3f728ea321ad32afa\nblueprint: add-consumer-generation\n'}, {'number': 6, 'created': '2018-05-21 18:55:39.000000000', 'files': ['specs/rocky/approved/add-consumer-generation.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/df1e0ba1a474760d5e6259f2b09a5a0cda5bc842', 'message': 'update add-consumer-generation to focus on API\n\nUpdates the add-consumer-generation spec to focus strictly on the\nbehaviour changes expected in the placement API and removing information\nabout changing consumers.project_id and consumers.user_id fields to be\nNULLable.\n\nChange-Id: Iccd0c3214354e7c0d73318a3f728ea321ad32afa\nblueprint: add-consumer-generation\n'}]",70,565565,df1e0ba1a474760d5e6259f2b09a5a0cda5bc842,42,7,6,7,,,0,"update add-consumer-generation to focus on API

Updates the add-consumer-generation spec to focus strictly on the
behaviour changes expected in the placement API and removing information
about changing consumers.project_id and consumers.user_id fields to be
NULLable.

Change-Id: Iccd0c3214354e7c0d73318a3f728ea321ad32afa
blueprint: add-consumer-generation
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/65/565565/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/add-consumer-generation.rst'],1,fd119a850f66eaad8edcf64a513a062c471aa286,bp/add-consumer-generation,".. note:: The term ""Microversion 1.X"" is used here to indicate the microversion that will be added for this new functionality. ""Microversion 1.X-1"" is used to refer to the microversion directly preceding the one added for this new functionality. ``PUT /allocations/{consumer_uuid}`` ------------------------------------ When there **IS NOT** an existing consumer record, the call will exhibit the following behavior: * Microversion <1.8: always succeeds, and no consumer record is created since ``project_id`` and ``user_id`` will be missing from the request * Microversion 1.8 - 1.X-1: always succeeds, and consumer record is always created since ``project_id`` and ``user_id`` will always be present. A generation will be created for this new consumer record * Microversion 1.X: A new ``consumer_generation`` field will be required in the request payload. It will be required to be ``None`` in order to indicate the caller expects that this is a new consumer. When there **IS** an existing consumer record, the call will exhibit the following behavior: * Microversion <1.8: always succeeds and always overwrites the consumer's allocations entirely, with no protection. There will continue to not be any consumer record since ``project_id`` and ``user_id`` will be missing from the request * Microversion 1.8 - 1.X-1: always succeeds, the existing consumer record will have its generation automatically incremented with no protection against concurrent updates * Microversion 1.X: A new ``consumer_generation`` field will be required in the request payload. It will be required to be equal to the value of the consumer's known generation. Placement will check that its known generation matches the given generation and return a ``409 Conflict`` if there is a mismatch. Furthermore, if another process modifies the same consumer's allocations concurrently to the request, the generation increment will fail for the consumer and a ``409 Conflict`` will be returned indicating a concurrent write occurred and the caller should re-read the consumer's generation and retry its request as appropriate. ``POST /allocations`` --------------------- This variant of creating allocations was introduced in microversion 1.13 and required a project and user to be specified for one or more consumers involved in the allocation. Therefore, consumer records would always have been created for previous requests to the ``POST /allocations`` endpoint that referenced the same consumer identifiers. When there **IS NOT** an existing consumer record, the call will exhibit the following behavior: * Microversion 1.13 - 1.X-1: always succeeds, and consumer records are always created since ``project_id`` and ``user_id`` will always be present. A generation will be created for these new consumer records * Microversion 1.X: A new ``consumer_generation`` field will be required in the request payload **for each consumer allocation section**. It will be required to be ``None`` in order to indicate the caller expects that this is a new consumer. When there **IS** an existing consumer record, the call will exhibit the following behavior: * Microversion 1.13 - 1.X-1: always succeeds, the existing consumer records will have their generation automatically incremented with no protection against concurrent updates * Microversion 1.X: A new ``consumer_generation`` field will be required in the request payload **for each consumer allocation section**. It will be required to be equal to the value of the consumer's known generation. Placement will check that its known generation matches the given generation and return a ``409 Conflict`` if there is a mismatch. Furthermore, if another process modifies the same consumer's allocations concurrently to the request, the generation increment will fail for the consumer and a ``409 Conflict`` will be returned indicating a concurrent write occurred and the caller should re-read the consumer's generation and retry its request as appropriate. The PUT method will be changed to require consumer generation, and will return a 409 Conflict if the supplied generation does not match the current value in the consumers table. See above for detailed explanation of the expected behavior. jaypipes","There will be no changes to the ``allocations`` table, but there will be changes to the Allocation and AllocationList objects. Allocation will have a ``consumer_generation`` nullable IntegerField added, and AllocationList will have a ``enforce_consumer_generation`` BooleanField added, with a default of False to preserve old behavior. These fields are needed to to pass the consumer generation information from the API layer to the object layer. They will not be persisted to the database. Below is a summary of the behaviors after this change is made: When there is no existing consumer record: * Old microversion: always succeeds, and new consumer record created. Since calls using older microversions may not pass the project_id and user_id in the request, those columns in the consumers table will be changed to allow null values. In that case, the consumer record will contain the consumer ID and the generation, but the project_id and user_id columns will be NULL. * New microversion, CG = None: Success. Since there is no existing record, passing None indicates that the caller's view of the state of the consumer matches reality. * New microversion, CG = <anything other than None>: Fail. A 409 Conflict will be the response, as the view of the state of the consumer for the caller is not in sync with the database. When there is an existing consumer record: * Old microversion: always succeeds. The value of the generation field will be incremented, but the other fields will remain untouched. * New microversion, CG = None: Fail. The caller beieves there is no existing consumer, and so is not in sync. * New microversion, CG = <anything other than current gen in DB>: Fail. Again, something else has modified the allocations for the consumer, and the caller is not in sync. * New microversion, CG = <matches DB>: Success. The PUT and DELETE methods will be changed to require consumer generation, and will return a 409 Conflict if the supplied generation does not match the current value in the consumers table. Currently the consumer_uuid is obtained from the request environ; with this change, consumer_generation will also be required. If it is missing, a 400 Bad Request will be returned.",77,34
openstack%2Ftripleo-ci~master~Iac0f7f5b561129a0c8bcb6773345a04db8c2cc80,openstack/tripleo-ci,master,Iac0f7f5b561129a0c8bcb6773345a04db8c2cc80,DNM: testing only on branches,ABANDONED,2018-05-21 20:34:19.000000000,2018-05-21 20:38:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-21 20:34:19.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/be0b6676c5be78caaf1bcf49bfe93d901de507d3', 'message': 'DNM: testing only on branches\n\nChange-Id: Iac0f7f5b561129a0c8bcb6773345a04db8c2cc80\n'}]",0,569855,be0b6676c5be78caaf1bcf49bfe93d901de507d3,3,1,1,9592,,,0,"DNM: testing only on branches

Change-Id: Iac0f7f5b561129a0c8bcb6773345a04db8c2cc80
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/55/569855/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,be0b6676c5be78caaf1bcf49bfe93d901de507d3,, - tripleo-ci-centos-7-containers-multinode: release: - master - queens - pike name: tripleo-ci-centos-7-containers-multinode-{release}, - tripleo-ci-centos-7-containers-multinode name: tripleo-ci-centos-7-containers-multinode,6,2
openstack%2Fswift~master~I34bf8017b5740203ee0b9f253e24f1869164f7c6,openstack/swift,master,I34bf8017b5740203ee0b9f253e24f1869164f7c6,Use assertRaises more,MERGED,2018-05-11 20:00:03.000000000,2018-05-21 20:23:43.000000000,2018-05-21 20:23:43.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 20:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3ceaba58e100e0d69b09270183c4328b416f2dbc', 'message': 'DNM: Use assertRaises more\n\nIt saves us some boilerplate *and* makes tighter assertions about\nthe type of error.\n\nWait until after feature/deep-review lands to merge; there will be conflicts.\n\nChange-Id: I34bf8017b5740203ee0b9f253e24f1869164f7c6\n'}, {'number': 2, 'created': '2018-05-21 18:13:55.000000000', 'files': ['test/unit/common/test_db.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/83732a68135263c37210292d22999c6abd8df9c8', 'message': 'Use assertRaises more\n\nIt saves us some boilerplate *and* makes tighter assertions about\nthe type of error.\n\nChange-Id: I34bf8017b5740203ee0b9f253e24f1869164f7c6\n'}]",0,567933,83732a68135263c37210292d22999c6abd8df9c8,11,4,2,15343,,,0,"Use assertRaises more

It saves us some boilerplate *and* makes tighter assertions about
the type of error.

Change-Id: I34bf8017b5740203ee0b9f253e24f1869164f7c6
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/567933/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_db.py'],1,3ceaba58e100e0d69b09270183c4328b416f2dbc,567933," with self.assertRaises(sqlite3.DatabaseError) as raised, \ broker.get() as conn: conn.execute('SELECT * FROM test') str(raised.exception), with self.assertRaises(sqlite3.DatabaseError) as raised, \ broker.get() as conn: conn.execute('SELECT * FROM test') str(raised.exception), with self.assertRaises(sqlite3.DatabaseError) as raised, \ broker.get() as conn: conn.execute('SELECT * FROM test') str(raised.exception), with self.assertRaises(sqlite3.DatabaseError) as raised: str(raised.exception), with self.assertRaises(sqlite3.DatabaseError) as raised: broker.update_metadata({'First': ['1', normalize_timestamp(1)]}) str(raised.exception), with self.assertRaises(sqlite3.DatabaseError) as raised, \ broker.get() as conn: broker._reclaim(conn, 0) str(raised.exception),"," exc = None try: with broker.get() as conn: conn.execute('SELECT * FROM test') except Exception as err: exc = err str(exc), exc = None try: with broker.get() as conn: conn.execute('SELECT * FROM test') except Exception as err: exc = err str(exc), exc = None try: with broker.get() as conn: conn.execute('SELECT * FROM test') except Exception as err: exc = err str(exc), exc = None try: except Exception as err: exc = err str(exc), exc = None try: first_timestamp = normalize_timestamp(1) first_value = '1' broker.update_metadata({'First': [first_value, first_timestamp]}) except Exception as err: exc = err str(exc), exc = None try: with broker.get() as conn: broker._reclaim(conn, 0) except Exception as err: exc = err str(exc),",21,41
openstack%2Fnova~stable%2Fqueens~I0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a,openstack/nova,stable/queens,I0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a,Block deleting compute services which are hosting instances,MERGED,2018-04-20 18:57:08.000000000,2018-05-21 20:23:40.000000000,2018-05-21 20:23:40.000000000,"[{'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-20 18:57:08.000000000', 'files': ['nova/tests/functional/wsgi/test_services.py', 'api-ref/source/os-services.inc', 'nova/api/openstack/compute/services.py', 'releasenotes/notes/bug-1763183-service-delete-with-instances-d7c5c47e4ce31239.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/a817b78dc44cf2cb4157531b2d92b03a4d0ca7d1', 'message': 'Block deleting compute services which are hosting instances\n\nThis change makes ""DELETE /os-services/{service_id}"" fail\nwith a 409 response when attempting to delete a nova-compute\nservice which is still hosting instances.\n\nDeleting a compute service also results in deleting the\nrelated compute_nodes table entry for that service host.\nThe compute node resource provider in placement is tied\nto the compute node via the UUID, and if we allow deleting\nthe compute service and node then the resource provider for\nthat node is effectively orphaned in Placement, along with\nthe instances which have allocations against that resource\nprovider.\n\nFurthermore, restarting the compute service will create a\nnew service and compute_nodes record, and the compute node\nwould have a new UUID and resource provider. This will\naffect scheduling for that host since Placement will be\nreporting it as having available capacity which in reality\nis not accurate.\n\nA release note is included for the (justified) behavior\nchange in the API. A new microversion should not be required\nfor this since admins should not have to opt out of broken\nbehavior. Since this API did not previously expect to return\na 409 response, the ""expected_errors"" decorator is updated\nand again, should not require a microversion per the\nguidelines:\n\nhttps://docs.openstack.org/nova/latest/contributor/microversions.html#when-a-microversion-is-not-needed\n\nConflicts:\n      nova/tests/functional/wsgi/test_services.py\n\nNOTE(mriedem): This is due to the rc_fields move from\nchange Iea182341f9419cb514a044f76864d6bec60a3683 in Rocky.\n\nChange-Id: I0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a\nCloses-Bug: #1763183\n(cherry picked from commit 42f62f1ed2ad76829eb9d40a8b9646a523f6381f)\n'}]",0,563234,a817b78dc44cf2cb4157531b2d92b03a4d0ca7d1,30,9,1,6873,,,0,"Block deleting compute services which are hosting instances

This change makes ""DELETE /os-services/{service_id}"" fail
with a 409 response when attempting to delete a nova-compute
service which is still hosting instances.

Deleting a compute service also results in deleting the
related compute_nodes table entry for that service host.
The compute node resource provider in placement is tied
to the compute node via the UUID, and if we allow deleting
the compute service and node then the resource provider for
that node is effectively orphaned in Placement, along with
the instances which have allocations against that resource
provider.

Furthermore, restarting the compute service will create a
new service and compute_nodes record, and the compute node
would have a new UUID and resource provider. This will
affect scheduling for that host since Placement will be
reporting it as having available capacity which in reality
is not accurate.

A release note is included for the (justified) behavior
change in the API. A new microversion should not be required
for this since admins should not have to opt out of broken
behavior. Since this API did not previously expect to return
a 409 response, the ""expected_errors"" decorator is updated
and again, should not require a microversion per the
guidelines:

https://docs.openstack.org/nova/latest/contributor/microversions.html#when-a-microversion-is-not-needed

Conflicts:
      nova/tests/functional/wsgi/test_services.py

NOTE(mriedem): This is due to the rc_fields move from
change Iea182341f9419cb514a044f76864d6bec60a3683 in Rocky.

Change-Id: I0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a
Closes-Bug: #1763183
(cherry picked from commit 42f62f1ed2ad76829eb9d40a8b9646a523f6381f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/563234/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/wsgi/test_services.py', 'api-ref/source/os-services.inc', 'nova/api/openstack/compute/services.py', 'releasenotes/notes/bug-1763183-service-delete-with-instances-d7c5c47e4ce31239.yaml']",4,a817b78dc44cf2cb4157531b2d92b03a4d0ca7d1,bug/1756179,"--- fixes: - | The ``DELETE /os-services/{service_id}`` compute API will now return a ``409 HTTPConflict`` response when trying to delete a ``nova-compute`` service which is still hosting instances. This is because doing so would orphan the compute node resource provider in the placement service on which those instances have resource allocations, which affects scheduling. See https://bugs.launchpad.net/nova/+bug/1763183 for more details. ",,53,8
openstack%2Fswift~master~Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6,openstack/swift,master,Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6,Use correct policy when faking misplaced objects in probe test,MERGED,2018-05-21 07:38:52.000000000,2018-05-21 20:23:36.000000000,2018-05-21 20:23:36.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 07:38:52.000000000', 'files': ['test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c35285f14b275b22bdea27fea1643f962bfa1a1f', 'message': ""Use correct policy when faking misplaced objects in probe test\n\nBefore, merge_objects() always used storage policy index of 0 when\ninserting a fake misplaced object into a shard container. If the shard\nbroker had a different policy index then the misplaced object would\nnot show in listings causing test_misplaced_object_movement() to\nfail. This test bug might be exposed by having policy index 0 be an EC\npolicy, since the probe test requires a replication policy and would\ntherefore choose a non-zero policy index.\n\nThe fix is simply to specify the shard's policy index when inserting\nthe fake object.\n\nChange-Id: Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6\n""}]",0,569737,c35285f14b275b22bdea27fea1643f962bfa1a1f,6,2,1,7847,,,0,"Use correct policy when faking misplaced objects in probe test

Before, merge_objects() always used storage policy index of 0 when
inserting a fake misplaced object into a shard container. If the shard
broker had a different policy index then the misplaced object would
not show in listings causing test_misplaced_object_movement() to
fail. This test bug might be exposed by having policy index 0 be an EC
policy, since the probe test requires a replication policy and would
therefore choose a non-zero policy index.

The fix is simply to specify the shard's policy index when inserting
the fake object.

Change-Id: Iec3f8ec29950220bb1b2ead9abfdfb1a261517d6
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/569737/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_sharder.py'],1,c35285f14b275b22bdea27fea1643f962bfa1a1f,," 'etag': hashlib.md5().hexdigest(), 'deleted': deleted, 'storage_policy_index': shard_broker.storage_policy_index}])"," 'etag': hashlib.md5().hexdigest(), 'deleted': deleted}])",2,1
openstack%2Fswift~master~I7b7b2b3f637333e43b139d9b7ef7d22e249c2175,openstack/swift,master,I7b7b2b3f637333e43b139d9b7ef7d22e249c2175,Fix-up signal handling,NEW,2018-05-21 18:21:25.000000000,2018-05-21 20:19:42.000000000,,"[{'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 18:21:25.000000000', 'files': ['swift/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fb1c9decd7b24b715f387b3901a461d1d66c39c5', 'message': 'Fix-up signal handling\n\n- Only allow SIGHUP to be handled once.\n- Have SIGTERM perform the os.killpg() inside the signal handler to\n  avoid a race condition where a SIGTERM followed quickly by a SIGHUP\n  would never kill the child processes.\n\nChange-Id: I7b7b2b3f637333e43b139d9b7ef7d22e249c2175\n'}]",4,569837,fb1c9decd7b24b715f387b3901a461d1d66c39c5,6,4,1,15343,,,0,"Fix-up signal handling

- Only allow SIGHUP to be handled once.
- Have SIGTERM perform the os.killpg() inside the signal handler to
  avoid a race condition where a SIGTERM followed quickly by a SIGHUP
  would never kill the child processes.

Change-Id: I7b7b2b3f637333e43b139d9b7ef7d22e249c2175
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/569837/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/wsgi.py'],1,fb1c9decd7b24b715f387b3901a461d1d66c39c5,rev5," if signum == signal.SIGTERM: os.killpg(0, signal.SIGTERM) signal.signal(signum, signal.SIG_IGN)"," if running_context[1] == signal.SIGTERM: os.killpg(0, signal.SIGTERM) signal.signal(signal.SIGTERM, signal.SIG_IGN)",3,3
openstack%2Ftripleo-common~master~Ib98e06531d414f62498fd7c1130899f74a066957,openstack/tripleo-common,master,Ib98e06531d414f62498fd7c1130899f74a066957,Fix redis healthcheck,MERGED,2018-05-17 00:09:57.000000000,2018-05-21 20:12:37.000000000,2018-05-20 00:41:11.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23630}]","[{'number': 1, 'created': '2018-05-17 00:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5599d909ba860839d78e85595892be6ea3a748e4', 'message': 'Fix redis healthcheck\n\nnc is not installed in the containers by default, but socat is available\nso lets use that instead.\n\nChange-Id: Ib98e06531d414f62498fd7c1130899f74a066957\nCloses-Bug: #1771705\n'}, {'number': 2, 'created': '2018-05-17 00:31:49.000000000', 'files': ['healthcheck/redis'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c10d3096784b3dd7a27e30337ffc8f0647744303', 'message': 'Fix redis healthcheck\n\nnc is not installed in the containers by default, but socat is available\nso lets use that instead.\n\nChange-Id: Ib98e06531d414f62498fd7c1130899f74a066957\nCloses-Bug: #1771705\n'}]",1,568986,c10d3096784b3dd7a27e30337ffc8f0647744303,20,6,2,14985,,,0,"Fix redis healthcheck

nc is not installed in the containers by default, but socat is available
so lets use that instead.

Change-Id: Ib98e06531d414f62498fd7c1130899f74a066957
Closes-Bug: #1771705
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/568986/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/redis'],1,5599d909ba860839d78e85595892be6ea3a748e4,bug/1771705," result=$(printf ""*2\r\n\$4\r\nAUTH\r\n\$${#redis_pass}\r\n${redis_pass}\r\n*1\r\n\$4\r\nPING\r\n"" | socat - TCP:$redis_host:$redis_port)"," result=$(printf ""*2\r\n\$4\r\nAUTH\r\n\$${#redis_pass}\r\n${redis_pass}\r\n*1\r\n\$4\r\nPING\r\n"" | nc $redis_host $redis_port)",1,1
openstack%2Fswift~master~I08c659b80d5b9982eb37205cb09b6ade19e00306,openstack/swift,master,I08c659b80d5b9982eb37205cb09b6ade19e00306,Handle SIGINT more like we do SIGHUP and SIGTERM,NEW,2018-05-21 18:21:25.000000000,2018-05-21 20:11:21.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 18:21:25.000000000', 'files': ['swift/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6b3ea46e9f28e398b8b83d66ca79b85ab99d9a62', 'message': 'Handle SIGINT more like we do SIGHUP and SIGTERM\n\nSaves us a try/except block, we\'ve already got the signal handler -- may\nas well use it!\n\nSlight downside of changing the logging from ""User quit"" at NOTICE to\n""SIGINT received"" at error, though. *shrug*\n\nChange-Id: I08c659b80d5b9982eb37205cb09b6ade19e00306\n'}]",4,569838,6b3ea46e9f28e398b8b83d66ca79b85ab99d9a62,5,3,1,15343,,,0,"Handle SIGINT more like we do SIGHUP and SIGTERM

Saves us a try/except block, we've already got the signal handler -- may
as well use it!

Slight downside of changing the logging from ""User quit"" at NOTICE to
""SIGINT received"" at error, though. *shrug*

Change-Id: I08c659b80d5b9982eb37205cb09b6ade19e00306
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/569838/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/wsgi.py'],1,6b3ea46e9f28e398b8b83d66ca79b85ab99d9a62,rev5," if signum == signal.SIGINT: signal.signal(signum, orig_sigint_handler) else: signal.signal(signum, signal.SIG_IGN) orig_sigint_handler = signal.signal(signal.SIGINT, stop_with_signal) signal.signal(signal.SIGINT, signal.SIG_DFL) pid, status = green_os.wait() if os.WIFEXITED(status) or os.WIFSIGNALED(status): strategy.register_worker_exit(pid) except OSError as err: if err.errno not in (errno.EINTR, errno.ECHILD): raise if err.errno == errno.ECHILD: # If there are no children at all (ECHILD), then # there's nothing to actually wait on. We sleep # for a little bit to avoid a tight CPU spin # and still are able to catch any KeyboardInterrupt # events that happen. The value of 0.01 matches the # value in eventlet's waitpid(). sleep(0.01)"," signal.signal(signum, signal.SIG_IGN) try: pid, status = green_os.wait() if os.WIFEXITED(status) or os.WIFSIGNALED(status): strategy.register_worker_exit(pid) except OSError as err: if err.errno not in (errno.EINTR, errno.ECHILD): raise if err.errno == errno.ECHILD: # If there are no children at all (ECHILD), then # there's nothing to actually wait on. We sleep # for a little bit to avoid a tight CPU spin # and still are able to catch any KeyboardInterrupt # events that happen. The value of 0.01 matches the # value in eventlet's waitpid(). sleep(0.01) except KeyboardInterrupt: logger.notice('User quit') running_context[0] = False break",20,20
openstack%2Fcinder~master~I4a8d795a4c46c3159cdd8508e0c5e5c921365ceb,openstack/cinder,master,I4a8d795a4c46c3159cdd8508e0c5e5c921365ceb,Fix wrong usage of fields.BackupStatus.AVAILABLE,MERGED,2018-05-18 03:19:28.000000000,2018-05-21 20:04:25.000000000,2018-05-21 20:04:25.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25376}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-18 03:19:28.000000000', 'files': ['cinder/backup/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b3f2f136f6ecc9f341e304f824d73260c1fdde9', 'message': 'Fix wrong usage of fields.BackupStatus.AVAILABLE\n\nThis patch is to fix the wrong usage of fields.BackupStatus.AVAILABLE in\ncinder\\backup\\manager.py, changed to use fields.SnapshotStatus.AVAILABLE.\n\nChange-Id: I4a8d795a4c46c3159cdd8508e0c5e5c921365ceb\n'}]",0,569313,9b3f2f136f6ecc9f341e304f824d73260c1fdde9,38,27,1,23081,,,0,"Fix wrong usage of fields.BackupStatus.AVAILABLE

This patch is to fix the wrong usage of fields.BackupStatus.AVAILABLE in
cinder\backup\manager.py, changed to use fields.SnapshotStatus.AVAILABLE.

Change-Id: I4a8d795a4c46c3159cdd8508e0c5e5c921365ceb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/569313/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/manager.py'],1,9b3f2f136f6ecc9f341e304f824d73260c1fdde9,fix_snapshot_status," self.db.snapshot_update( context, snapshot_id, {'status': fields.SnapshotStatus.AVAILABLE})"," self.db.snapshot_update(context, snapshot_id, {'status': fields.BackupStatus.AVAILABLE})",3,2
openstack%2Fdevstack~master~I07f34dbc09b6108ba8f5b2a83a28c75eb42be495,openstack/devstack,master,I07f34dbc09b6108ba8f5b2a83a28c75eb42be495,Configure nova to auto-calculate compute RPC upgrade levels,MERGED,2018-03-06 15:09:10.000000000,2018-05-21 20:00:37.000000000,2018-05-21 20:00:37.000000000,"[{'_account_id': 4393}, {'_account_id': 5196}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 15:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c84079cdccbc5b7b085d78bc313e9677927451c0', 'message': 'WIP: Configure nova to auto-calculate compute RPC uprade levels\n\nChange-Id: I07f34dbc09b6108ba8f5b2a83a28c75eb42be495\nRelated-Bug: #1753443\n'}, {'number': 2, 'created': '2018-03-06 20:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bae8ddf2890e5e90c742ea64985b85a3f096cf4e', 'message': 'WIP: Configure nova to auto-calculate compute RPC uprade levels\n\nDepends-On: https://review.openstack.org/549737/\n\nChange-Id: I07f34dbc09b6108ba8f5b2a83a28c75eb42be495\nRelated-Bug: #1753443\n'}, {'number': 3, 'created': '2018-03-06 23:50:40.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/21221d1ad1462cdcaed4d052c3324ae384b407d4', 'message': ""Configure nova to auto-calculate compute RPC upgrade levels\n\nThe openstack-ansible team found a regression in Queens when setting\nthe compute RPC upgrade_levels to 'auto' on a fresh install before any\ncomputes had started up. The dependent change fixes the issue in nova\nbut for future proofing against this sort of issue again, we can set\nthe compute RPC upgrade levels in devstack to 'auto' for fresh installs\nas well. Note that grenade already sets 'auto' for compute upgrade\nlevels, which is why we didn't catch this in grenade testing with the\ncompute RPC 5.0 version bump that caused the issue.\n\nDepends-On: https://review.openstack.org/549737/\n\nChange-Id: I07f34dbc09b6108ba8f5b2a83a28c75eb42be495\nRelated-Bug: #1753443\n""}]",0,550108,21221d1ad1462cdcaed4d052c3324ae384b407d4,20,7,3,6873,,,0,"Configure nova to auto-calculate compute RPC upgrade levels

The openstack-ansible team found a regression in Queens when setting
the compute RPC upgrade_levels to 'auto' on a fresh install before any
computes had started up. The dependent change fixes the issue in nova
but for future proofing against this sort of issue again, we can set
the compute RPC upgrade levels in devstack to 'auto' for fresh installs
as well. Note that grenade already sets 'auto' for compute upgrade
levels, which is why we didn't catch this in grenade testing with the
compute RPC 5.0 version bump that caused the issue.

Depends-On: https://review.openstack.org/549737/

Change-Id: I07f34dbc09b6108ba8f5b2a83a28c75eb42be495
Related-Bug: #1753443
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/550108/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,c84079cdccbc5b7b085d78bc313e9677927451c0,bug/1753443," iniset $NOVA_CONF upgrade_levels compute ""auto"" ",,2,0
openstack%2Fdevstack~master~Ib2e6c96409c98877f6a43b76f176c1420d2d415e,openstack/devstack,master,Ib2e6c96409c98877f6a43b76f176c1420d2d415e,Remove IRONIC_USE_RESOURCE_CLASSES check,MERGED,2018-05-02 15:46:07.000000000,2018-05-21 19:55:14.000000000,2018-05-21 19:55:14.000000000,"[{'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-02 15:46:07.000000000', 'files': ['lib/nova_plugins/hypervisor-ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/59e6ff10ce65509beefb3fdee7aa0c8ca966a8a9', 'message': 'Remove IRONIC_USE_RESOURCE_CLASSES check\n\nNova has dropped support for non-resource class\nbaremetal scheduling, so the IRONIC_USE_RESOURCE_CLASSES\nflag is no longer useful and has been removed.\n\nDepends-On: https://review.openstack.org/565805/\nChange-Id: Ib2e6c96409c98877f6a43b76f176c1420d2d415e\n'}]",0,565810,59e6ff10ce65509beefb3fdee7aa0c8ca966a8a9,12,6,1,6873,,,0,"Remove IRONIC_USE_RESOURCE_CLASSES check

Nova has dropped support for non-resource class
baremetal scheduling, so the IRONIC_USE_RESOURCE_CLASSES
flag is no longer useful and has been removed.

Depends-On: https://review.openstack.org/565805/
Change-Id: Ib2e6c96409c98877f6a43b76f176c1420d2d415e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/10/565810/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/hypervisor-ironic'],1,59e6ff10ce65509beefb3fdee7aa0c8ca966a8a9,exact-filters,," if [[ ""$IRONIC_USE_RESOURCE_CLASSES"" == ""False"" ]]; then iniset $NOVA_CONF DEFAULT scheduler_host_manager ironic_host_manager iniset $NOVA_CONF filter_scheduler use_baremetal_filters True iniset $NOVA_CONF filter_scheduler host_subset_size 999 iniset $NOVA_CONF DEFAULT ram_allocation_ratio 1.0 iniset $NOVA_CONF DEFAULT reserved_host_memory_mb 0 fi ",0,8
openstack%2Fnetworking-bagpipe~master~Id3363068e2882dae63b835c178bf4770297a85b7,openstack/networking-bagpipe,master,Id3363068e2882dae63b835c178bf4770297a85b7,fix BGPVPN OVO unit test,MERGED,2018-05-21 16:49:20.000000000,2018-05-21 19:30:48.000000000,2018-05-21 19:30:48.000000000,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 16:49:20.000000000', 'files': ['networking_bagpipe/tests/unit/objects/test_bgpvpn.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/d9ea5cf9dd01fe85eea3d8f501aec974231b7322', 'message': ""fix BGPVPN OVO unit test\n\nThe 'routes' field should not exist. This bug\nwas silent until now, but came to the light\nafter neutron change I42cdf540129bd4470ec1a59345db9845a6198328 .\n\nRelated-Change: I42cdf540129bd4470ec1a59345db9845a6198328\n\nChange-Id: Id3363068e2882dae63b835c178bf4770297a85b7\n""}]",0,569825,d9ea5cf9dd01fe85eea3d8f501aec974231b7322,6,2,1,12021,,,0,"fix BGPVPN OVO unit test

The 'routes' field should not exist. This bug
was silent until now, but came to the light
after neutron change I42cdf540129bd4470ec1a59345db9845a6198328 .

Related-Change: I42cdf540129bd4470ec1a59345db9845a6198328

Change-Id: Id3363068e2882dae63b835c178bf4770297a85b7
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/25/569825/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/tests/unit/objects/test_bgpvpn.py'],1,d9ea5cf9dd01fe85eea3d8f501aec974231b7322,fix_bgpvpn_ovo_test, }), 'routes': []}),1,1
openstack%2Fneutron-lib~master~I98e3281580950e32db93f9a9feef82c7f5d550f7,openstack/neutron-lib,master,I98e3281580950e32db93f9a9feef82c7f5d550f7,Trivial: update url to new url,ABANDONED,2018-05-13 13:59:26.000000000,2018-05-21 19:22:39.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-13 13:59:26.000000000', 'files': ['doc/source/contributor/callbacks.rst'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1776c261309636c3e5504d50c5129409c94cb5ba', 'message': 'Trivial: update url to new url\n\nChange-Id: I98e3281580950e32db93f9a9feef82c7f5d550f7\n'}]",0,568094,1776c261309636c3e5504d50c5129409c94cb5ba,4,2,1,27336,,,0,"Trivial: update url to new url

Change-Id: I98e3281580950e32db93f9a9feef82c7f5d550f7
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/94/568094/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/callbacks.rst'],1,1776c261309636c3e5504d50c5129409c94cb5ba,,A python `fixture <https://pypi.org/project/fixtures>`_ is provided for implementations that need to,A python `fixture <https://pypi.python.org/pypi/fixtures>`_ is provided for implementations that need to,1,1
openstack%2Fopenstack-helm-infra~master~I5e59a5a5c491b4416ba4505205910d6c6babbff8,openstack/openstack-helm-infra,master,I5e59a5a5c491b4416ba4505205910d6c6babbff8,Grafana: Add Elasticsearch dashboard,MERGED,2018-05-18 20:47:39.000000000,2018-05-21 19:17:41.000000000,2018-05-21 19:17:41.000000000,"[{'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-18 20:47:39.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b07f58379f069881e587317bc63cc1e4eef9d18c', 'message': 'Grafana: Add Elasticsearch dashboard\n\nThis adds a grafana dashboard for Elasticsearch, providing insight\ninto the overall cluster health\n\nChange-Id: I5e59a5a5c491b4416ba4505205910d6c6babbff8\n'}]",0,569519,b07f58379f069881e587317bc63cc1e4eef9d18c,7,3,1,17591,,,0,"Grafana: Add Elasticsearch dashboard

This adds a grafana dashboard for Elasticsearch, providing insight
into the overall cluster health

Change-Id: I5e59a5a5c491b4416ba4505205910d6c6babbff8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/19/569519/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,b07f58379f069881e587317bc63cc1e4eef9d18c,elasticsearch_dashboard," elasticsearch: __inputs: - name: prometheus label: Prometheus description: '' type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: 4.6.3 - type: panel id: graph name: Graph version: '' - type: datasource id: prometheus name: Prometheus version: 1.0.0 - type: panel id: singlestat name: Singlestat version: '' annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: rgba(0, 211, 255, 1) name: Annotations & Alerts type: dashboard editable: true gnetId: 4358 graphTooltip: 1 hideControls: false id: links: [] refresh: 1m rows: - collapse: false height: panels: - cacheTimeout: colorBackground: true colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(178, 49, 13, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""prometheus"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true height: '50' id: 8 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 5 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: sum(elasticsearch_cluster_health_status{cluster=~""$cluster""}) format: time_series intervalFactor: 2 legendFormat: '' metric: '' refId: A step: 40 thresholds: '0,1' title: Cluster health status transparent: false type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: GREEN value: '1' - op: ""="" text: RED value: '0' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""prometheus"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true height: '50' id: 10 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 2 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - expr: sum(elasticsearch_cluster_health_number_of_nodes{cluster=~""$cluster""}) format: time_series interval: '' intervalFactor: 2 legendFormat: '' metric: '' refId: A step: 40 thresholds: '' title: Nodes transparent: false type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""prometheus"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true height: '50' id: 9 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 2 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - expr: elasticsearch_cluster_health_number_of_data_nodes{cluster=""$cluster""} format: time_series interval: '' intervalFactor: 2 legendFormat: '' metric: '' refId: A step: 40 thresholds: '' title: Data nodes transparent: false type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""prometheus"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true height: '50' hideTimeOverride: true id: 16 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 3 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: elasticsearch_cluster_health_number_of_pending_tasks{cluster=""$cluster""} format: time_series interval: '' intervalFactor: 2 legendFormat: '' metric: '' refId: A step: 40 thresholds: '' title: Pending tasks transparent: false type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current repeat: repeatIteration: repeatRowId: showTitle: true title: Cluster titleSize: h6 - collapse: false height: '' panels: - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""prometheus"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true height: '50' id: 11 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 minSpan: 2 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' repeat: shard_type span: 2.4 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: elasticsearch_cluster_health_active_primary_shards{cluster=""$cluster""} intervalFactor: 2 legendFormat: '' refId: A step: 40 thresholds: '' title: active primary shards type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""prometheus"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true height: '50' id: 39 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 minSpan: 2 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 2.4 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: elasticsearch_cluster_health_active_shards{cluster=""$cluster""} intervalFactor: 2 legendFormat: '' refId: A step: 40 thresholds: '' title: active shards type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""prometheus"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true height: '50' id: 40 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 minSpan: 2 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 2.4 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: elasticsearch_cluster_health_initializing_shards{cluster=""$cluster""} intervalFactor: 2 legendFormat: '' refId: A step: 40 thresholds: '' title: initializing shards type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""prometheus"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true height: '50' id: 41 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 minSpan: 2 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 2.4 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: elasticsearch_cluster_health_relocating_shards{cluster=""$cluster""} intervalFactor: 2 legendFormat: '' refId: A step: 40 thresholds: '' title: relocating shards type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""prometheus"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true height: '50' id: 42 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 minSpan: 2 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 2.4 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: elasticsearch_cluster_health_delayed_unassigned_shards{cluster=""$cluster""} intervalFactor: 2 legendFormat: '' refId: A step: 40 thresholds: '' title: unassigned shards type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current repeat: repeatIteration: repeatRowId: showTitle: true title: Shards titleSize: h6 - collapse: false height: panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 30 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true sortDesc: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: elasticsearch_process_cpu_percent{cluster=""$cluster"",es_master_node=""true"",name=~""$node""} format: time_series instant: false interval: '' intervalFactor: 2 legendFormat: ""{{ name }} - master"" metric: '' refId: A step: 10 - expr: elasticsearch_process_cpu_percent{cluster=""$cluster"",es_data_node=""true"",name=~""$node""} format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{ name }} - data"" metric: '' refId: B step: 10 thresholds: [] timeFrom: timeShift: title: CPU usage tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: percent label: CPU usage logBase: 1 max: 100 min: 0 show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 0 grid: {} height: '400' id: 31 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true sortDesc: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: elasticsearch_jvm_memory_used_bytes{cluster=""$cluster"",name=~""$node"",name=~""$node""} format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{ name }} - used: {{area}}"" metric: '' refId: A step: 10 - expr: elasticsearch_jvm_memory_committed_bytes{cluster=""$cluster"",name=~""$node"",name=~""$node""} format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - committed: {{area}}"" refId: B step: 10 - expr: elasticsearch_jvm_memory_max_bytes{cluster=""$cluster"",name=~""$node"",name=~""$node""} format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - max: {{area}}"" refId: C step: 10 thresholds: [] timeFrom: timeShift: title: JVM memory usage tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: bytes label: Memory logBase: 1 max: min: 0 show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 32 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: 1-(elasticsearch_filesystem_data_available_bytes{cluster=""$cluster""}/elasticsearch_filesystem_data_size_bytes{cluster=""$cluster"",name=~""$node""}) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{ name }} - {{path}}"" metric: '' refId: A step: 10 thresholds: - colorMode: custom fill: true fillColor: rgba(216, 200, 27, 0.27) op: gt value: 0.8 - colorMode: custom fill: true fillColor: rgba(234, 112, 112, 0.22) op: gt value: 0.9 timeFrom: timeShift: title: Disk usage tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: percentunit label: Disk Usage % logBase: 1 max: 1 min: 0 show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 47 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true sort: max sortDesc: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: - alias: sent transform: negative-Y spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: irate(elasticsearch_transport_tx_size_bytes_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} -sent"" refId: D step: 10 - expr: irate(elasticsearch_transport_rx_size_bytes_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} -received"" refId: C step: 10 thresholds: [] timeFrom: timeShift: title: Network usage tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: Bps label: Bytes/sec logBase: 1 max: min: show: true - format: pps label: '' logBase: 1 max: min: show: false repeat: repeatIteration: repeatRowId: showTitle: true title: System titleSize: h6 - collapse: false height: '' panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 1 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: true steppedLine: false targets: - expr: elasticsearch_indices_docs{cluster=""$cluster"",name=~""$node""} format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{ name }}"" metric: '' refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Documents count tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: Documents logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 24 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: true steppedLine: false targets: - expr: irate(elasticsearch_indices_indexing_index_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}}"" metric: '' refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Documents indexed rate tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: index calls/s logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 25 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: true steppedLine: false targets: - expr: rate(elasticsearch_indices_docs_deleted{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}}"" metric: '' refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Documents deleted rate tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: Documents/s logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 26 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: true steppedLine: false targets: - expr: rate(elasticsearch_indices_merges_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}}"" metric: '' refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Documents merged rate tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: Documents/s logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false repeat: repeatIteration: repeatRowId: showTitle: true title: Documents titleSize: h6 - collapse: false height: 250 panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 48 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true sort: avg sortDesc: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 6 stack: false steppedLine: false targets: - expr: irate(elasticsearch_indices_indexing_index_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{ name }} - indexing"" metric: '' refId: A step: 4 - expr: irate(elasticsearch_indices_search_query_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - query"" refId: B step: 4 - expr: irate(elasticsearch_indices_search_fetch_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - fetch"" refId: C step: 4 - expr: irate(elasticsearch_indices_merges_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - merges"" refId: D step: 4 - expr: irate(elasticsearch_indices_refresh_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - refresh"" refId: E step: 4 - expr: irate(elasticsearch_indices_flush_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - flush"" refId: F step: 4 thresholds: [] timeFrom: timeShift: title: Total Operations rate tooltip: msResolution: false shared: true sort: 2 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: Operations/s logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 49 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true sort: avg sortDesc: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 6 stack: false steppedLine: false targets: - expr: irate(elasticsearch_indices_indexing_index_time_seconds_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{ name }} - indexing"" metric: '' refId: A step: 4 - expr: irate(elasticsearch_indices_search_query_time_ms_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - query"" refId: B step: 4 - expr: irate(elasticsearch_indices_search_fetch_time_ms_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - fetch"" refId: C step: 4 - expr: irate(elasticsearch_indices_merges_total_time_ms_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - merges"" refId: D step: 4 - expr: irate(elasticsearch_indices_refresh_total_time_ms_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - refresh"" refId: E step: 4 - expr: irate(elasticsearch_indices_flush_time_ms_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{ name }} - flush"" refId: F step: 4 thresholds: [] timeFrom: timeShift: title: Total Operations time tooltip: msResolution: false shared: true sort: 2 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: ms label: Time logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false repeat: repeatIteration: repeatRowId: showTitle: true title: Total Operations stats titleSize: h6 - collapse: false height: '' panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 33 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: 'rate(elasticsearch_indices_search_query_time_seconds{cluster=""$cluster"",name=~""$node""}[$interval]) ' format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}}"" metric: '' refId: A step: 4 thresholds: [] timeFrom: timeShift: title: Query time tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: ms label: Time logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 5 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: rate(elasticsearch_indices_indexing_index_time_seconds_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}}"" metric: '' refId: A step: 4 thresholds: [] timeFrom: timeShift: title: Indexing time tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: ms label: Time logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 3 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: rate(elasticsearch_indices_merges_total_time_seconds_total{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}}"" metric: '' refId: A step: 4 thresholds: [] timeFrom: timeShift: title: Merging time tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: Time logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false repeat: repeatIteration: repeatRowId: showTitle: true title: Times titleSize: h6 - collapse: false height: panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 4 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: true steppedLine: false targets: - expr: elasticsearch_indices_fielddata_memory_size_bytes{cluster=""$cluster"",name=~""$node""} format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}}"" metric: '' refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Field data memory size tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: bytes label: Memory logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 34 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: true steppedLine: false targets: - expr: rate(elasticsearch_indices_fielddata_evictions{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}}"" metric: '' refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Field data evictions tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: Evictions/s logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 35 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: true steppedLine: false targets: - expr: elasticsearch_indices_query_cache_memory_size_bytes{cluster=""$cluster"",name=~""$node""} format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}}"" metric: '' refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Query cache size tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: bytes label: Size logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 36 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: true steppedLine: false targets: - expr: rate(elasticsearch_indices_query_cache_evictions{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}}"" metric: '' refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Query cache evictions tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: Evictions/s logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false repeat: repeatIteration: repeatRowId: showTitle: true title: Caches titleSize: h6 - collapse: false height: 728 panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 id: 45 legend: alignAsTable: true avg: true current: false max: true min: true show: true sort: avg sortDesc: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: ' irate(elasticsearch_thread_pool_rejected_count{cluster=""$cluster"",name=~""$node""}[$interval])' format: time_series intervalFactor: 2 legendFormat: ""{{name}} - {{ type }}"" refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Thread Pool operations rejected tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 id: 46 legend: alignAsTable: true avg: true current: false max: true min: true show: true sort: avg sortDesc: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: elasticsearch_thread_pool_active_count{cluster=""$cluster"",name=~""$node""} format: time_series intervalFactor: 2 legendFormat: ""{{name}} - {{ type }}"" refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Thread Pool operations queued tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 height: '' id: 43 legend: alignAsTable: true avg: true current: false max: true min: true show: true sort: avg sortDesc: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: elasticsearch_thread_pool_active_count{cluster=""$cluster"",name=~""$node""} format: time_series intervalFactor: 2 legendFormat: ""{{name}} - {{ type }}"" refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Thread Pool threads active tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 id: 44 legend: alignAsTable: true avg: true current: false max: true min: true show: true sort: avg sortDesc: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: irate(elasticsearch_thread_pool_completed_count{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series intervalFactor: 2 legendFormat: ""{{name}} - {{ type }}"" refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Thread Pool operations completed tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: true title: Thread Pool titleSize: h6 - collapse: false height: panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 7 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 6 stack: true steppedLine: false targets: - expr: rate(elasticsearch_jvm_gc_collection_seconds_count{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}} - {{gc}}"" metric: '' refId: A step: 4 thresholds: [] timeFrom: timeShift: title: GC count tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: GCs logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""prometheus"" editable: true error: false fill: 1 grid: {} height: '400' id: 27 legend: alignAsTable: true avg: true current: true hideEmpty: false hideZero: false max: true min: true rightSide: false show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 6 stack: false steppedLine: false targets: - expr: rate(elasticsearch_jvm_gc_collection_seconds_count{cluster=""$cluster"",name=~""$node""}[$interval]) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{name}} - {{gc}}"" metric: '' refId: A step: 4 thresholds: [] timeFrom: timeShift: title: GC time tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: Time logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false repeat: repeatIteration: repeatRowId: showTitle: true title: JVM Garbage Collection titleSize: h6 schemaVersion: 14 style: dark tags: - elasticsearch - App templating: list: - auto: true auto_count: 30 auto_min: 10s current: text: auto value: ""$__auto_interval"" hide: 0 label: Interval name: interval options: - selected: true text: auto value: ""$__auto_interval"" - selected: false text: 1m value: 1m - selected: false text: 10m value: 10m - selected: false text: 30m value: 30m - selected: false text: 1h value: 1h - selected: false text: 6h value: 6h - selected: false text: 12h value: 12h - selected: false text: 1d value: 1d - selected: false text: 7d value: 7d - selected: false text: 14d value: 14d - selected: false text: 30d value: 30d query: 1m,10m,30m,1h,6h,12h,1d,7d,14d,30d refresh: 2 type: interval - allValue: current: {} datasource: ""prometheus"" hide: 0 includeAll: false label: Instance multi: false name: cluster options: [] query: label_values(elasticsearch_cluster_health_status,cluster) refresh: 1 regex: '' sort: 1 tagValuesQuery: tags: [] tagsQuery: type: query useTags: false - allValue: current: {} datasource: ""prometheus"" hide: 0 includeAll: true label: node multi: true name: node options: [] query: label_values(elasticsearch_process_cpu_percent,name) refresh: 1 regex: '' sort: 1 tagValuesQuery: tags: [] tagsQuery: type: query useTags: false time: from: now-12h to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: browser title: Elasticsearch version: 1 description: Elasticsearch detailed dashboard",,2613,0
openstack%2Fneutron~master~If533f3c6657f05bd10f0b9b2335b0cb10c2f3df5,openstack/neutron,master,If533f3c6657f05bd10f0b9b2335b0cb10c2f3df5,DNM: testing neutron-tempest-plugin change,ABANDONED,2018-04-26 18:45:31.000000000,2018-05-21 19:11:46.000000000,,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-26 18:45:31.000000000', 'files': ['neutron/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bd6edcc3eba77e598e9215af0112d3e0cca9550', 'message': 'DNM: testing neutron-tempest-plugin change\n\nChange-Id: If533f3c6657f05bd10f0b9b2335b0cb10c2f3df5\nDepends-on: https://review.openstack.org/564581\n'}]",0,564582,8bd6edcc3eba77e598e9215af0112d3e0cca9550,8,5,1,1131,,,0,"DNM: testing neutron-tempest-plugin change

Change-Id: If533f3c6657f05bd10f0b9b2335b0cb10c2f3df5
Depends-on: https://review.openstack.org/564581
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/564582/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/manager.py'],1,8bd6edcc3eba77e598e9215af0112d3e0cca9550,neutron-tempest-plugin-test,# haleyb was here,,1,0
openstack%2Fswift~feature%2Fdeep-review~I7b7b2b3f637333e43b139d9b7ef7d22e249c2175,openstack/swift,feature/deep-review,I7b7b2b3f637333e43b139d9b7ef7d22e249c2175,SQUASH: fix-up signal handling,ABANDONED,2018-05-11 20:19:24.000000000,2018-05-21 18:52:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-11 20:19:24.000000000', 'files': ['swift/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2a2eb9787d9b63a6f60b20edfd9444fbcec312d4', 'message': 'SQUASH: fix-up signal handling\n\n- Only allow SIGHUP to be handled once.\n- Have SIGTERM perform the os.killpg() inside the signal handler to\n  avoid a race condition where a SIGTERM followed quickly by a SIGHUP\n  would never kill the child processes.\n\nChange-Id: I7b7b2b3f637333e43b139d9b7ef7d22e249c2175\n'}]",0,567938,2a2eb9787d9b63a6f60b20edfd9444fbcec312d4,3,1,1,15343,,,0,"SQUASH: fix-up signal handling

- Only allow SIGHUP to be handled once.
- Have SIGTERM perform the os.killpg() inside the signal handler to
  avoid a race condition where a SIGTERM followed quickly by a SIGHUP
  would never kill the child processes.

Change-Id: I7b7b2b3f637333e43b139d9b7ef7d22e249c2175
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/567938/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/wsgi.py'],1,2a2eb9787d9b63a6f60b20edfd9444fbcec312d4,rev5," if signum == signal.SIGTERM: os.killpg(0, signal.SIGTERM) signal.signal(signum, signal.SIG_IGN)"," if running_context[1] == signal.SIGTERM: os.killpg(0, signal.SIGTERM) signal.signal(signal.SIGTERM, signal.SIG_IGN)",3,3
openstack%2Fswift~feature%2Fdeep-review~I08c659b80d5b9982eb37205cb09b6ade19e00306,openstack/swift,feature/deep-review,I08c659b80d5b9982eb37205cb09b6ade19e00306,SQUASH: Handle SIGINT more like we do SIGHUP and SIGTERM,ABANDONED,2018-05-11 20:19:24.000000000,2018-05-21 18:51:14.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 20:19:24.000000000', 'files': ['swift/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/08813e61ececbdf1be3f4e450c411a757def77f9', 'message': 'SQUASH: Handle SIGINT more like we do SIGHUP and SIGTERM\n\nSaves us a try/except block, we\'ve already got the signal handler -- may\nas well use it!\n\nSlight downside of changing the logging from ""User quit"" at NOTICE to\n""SIGINT received"" at error, though. *shrug*\n\nChange-Id: I08c659b80d5b9982eb37205cb09b6ade19e00306\n'}]",0,567939,08813e61ececbdf1be3f4e450c411a757def77f9,4,2,1,15343,,,0,"SQUASH: Handle SIGINT more like we do SIGHUP and SIGTERM

Saves us a try/except block, we've already got the signal handler -- may
as well use it!

Slight downside of changing the logging from ""User quit"" at NOTICE to
""SIGINT received"" at error, though. *shrug*

Change-Id: I08c659b80d5b9982eb37205cb09b6ade19e00306
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/567939/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/wsgi.py'],1,08813e61ececbdf1be3f4e450c411a757def77f9,rev5," if signum == signal.SIGINT: signal.signal(signum, orig_sigint_handler) else: signal.signal(signum, signal.SIG_IGN) orig_sigint_handler = signal.signal(signal.SIGINT, stop_with_signal) signal.signal(signal.SIGINT, signal.SIG_DFL) pid, status = green_os.wait() if os.WIFEXITED(status) or os.WIFSIGNALED(status): strategy.register_worker_exit(pid) except OSError as err: if err.errno not in (errno.EINTR, errno.ECHILD): raise if err.errno == errno.ECHILD: # If there are no children at all (ECHILD), then # there's nothing to actually wait on. We sleep # for a little bit to avoid a tight CPU spin # and still are able to catch any KeyboardInterrupt # events that happen. The value of 0.01 matches the # value in eventlet's waitpid(). sleep(0.01)"," signal.signal(signum, signal.SIG_IGN) try: pid, status = green_os.wait() if os.WIFEXITED(status) or os.WIFSIGNALED(status): strategy.register_worker_exit(pid) except OSError as err: if err.errno not in (errno.EINTR, errno.ECHILD): raise if err.errno == errno.ECHILD: # If there are no children at all (ECHILD), then # there's nothing to actually wait on. We sleep # for a little bit to avoid a tight CPU spin # and still are able to catch any KeyboardInterrupt # events that happen. The value of 0.01 matches the # value in eventlet's waitpid(). sleep(0.01) except KeyboardInterrupt: logger.notice('User quit') running_context[0] = False break",20,20
openstack%2Fosc-lib~master~Ic1e21320c471a9cc07cefe51dba01f27f507bcb4,openstack/osc-lib,master,Ic1e21320c471a9cc07cefe51dba01f27f507bcb4,Add more API support,MERGED,2017-04-18 15:51:52.000000000,2018-05-21 18:49:09.000000000,2017-04-19 14:39:01.000000000,"[{'_account_id': 3}, {'_account_id': 970}]","[{'number': 1, 'created': '2017-04-18 15:51:52.000000000', 'files': ['osc_lib/api/api.py', 'osc_lib/exceptions.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/5f2ef3125435f10f01fc6a683e1edc75aa4e2d81', 'message': 'Add more API support\n\nSupport the OSC API changes:\n* Pass headers through properly\n* Add some common methods and exceptions\n\nChange-Id: Ic1e21320c471a9cc07cefe51dba01f27f507bcb4\n'}]",0,457703,5f2ef3125435f10f01fc6a683e1edc75aa4e2d81,7,2,1,970,,,0,"Add more API support

Support the OSC API changes:
* Pass headers through properly
* Add some common methods and exceptions

Change-Id: Ic1e21320c471a9cc07cefe51dba01f27f507bcb4
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/03/457703/1 && git format-patch -1 --stdout FETCH_HEAD,"['osc_lib/api/api.py', 'osc_lib/exceptions.py']",2,5f2ef3125435f10f01fc6a683e1edc75aa4e2d81,api-stuff,"class InvalidValue(Exception): """"""An argument value is not valid: wrong type, out of range, etc"""""" message = ""Supplied value is not valid"" ",,41,8
openstack%2Fopenstack-helm-infra~master~I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e,openstack/openstack-helm-infra,master,I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e,"Prometheus alerts, nagios defn - rabbitmq,mariadb,ES",MERGED,2018-04-24 21:36:34.000000000,2018-05-21 18:40:53.000000000,2018-05-21 18:40:53.000000000,"[{'_account_id': 17591}, {'_account_id': 18295}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-24 21:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/338751796b0a6c3b55235e28c1c656127c0e6fa4', 'message': 'Prometheus alerts, nagios defn - rabbitmq,mariadb,ES\n\nChange-Id: I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e\n'}, {'number': 2, 'created': '2018-04-24 22:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/42a53aecd701956a6664f140472dcb1a4fe94985', 'message': 'Prometheus alerts, nagios defn - rabbitmq,mariadb,ES\n\nChange-Id: I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e\n'}, {'number': 3, 'created': '2018-05-15 14:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c9c4cd51c73329c202550a11a776b396b2595b0c', 'message': 'Prometheus alerts, nagios defn - rabbitmq,mariadb,ES\n\nChange-Id: I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e\n'}, {'number': 4, 'created': '2018-05-15 17:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2b7b79bedefa85a4dcaf2edb2e0c87d12442449e', 'message': 'Prometheus alerts, nagios defn - rabbitmq,mariadb,ES\n\nChange-Id: I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e\n'}, {'number': 5, 'created': '2018-05-15 17:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8e43fde489ea6de18a18b1d23abceb89b930d5ce', 'message': 'Prometheus alerts, nagios defn - rabbitmq,mariadb,ES\n\nChange-Id: I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e\n'}, {'number': 6, 'created': '2018-05-15 20:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0df1b0cf63f670124232d6c1dad3a5228c8c41c', 'message': 'Prometheus alerts, nagios defn - rabbitmq,mariadb,ES\n\nChange-Id: I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e\n'}, {'number': 7, 'created': '2018-05-20 15:16:57.000000000', 'files': ['nagios/values.yaml', 'prometheus/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/52c980b10cdc14c49883576965a79376c0f21253', 'message': 'Prometheus alerts, nagios defn - rabbitmq,mariadb,ES\n\nChange-Id: I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e\n'}]",0,564069,52c980b10cdc14c49883576965a79376c0f21253,21,4,7,18503,,,0,"Prometheus alerts, nagios defn - rabbitmq,mariadb,ES

Change-Id: I71bc9f42aebc268ad2383a5a36a3405fc47c6c9e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/69/564069/4 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/values.yaml', 'prometheus/values.yaml']",2,338751796b0a6c3b55235e28c1c656127c0e6fa4,," rabbitmq: groups: - name: rabbitmq.rules rules: - alert: rabbitmq_network_pratitions_detected expr: min(partitions) by(instance) > 0 for: 10m labels: severity: warning annotations: description: 'RabbitMQ at {{ $labels.instance }} has {{ $value }} partitions' summary: 'RabbitMQ Network partitions detected' - alert: rabbitmq_down expr: min(rabbitmq_up) by(instance) != 1 for: 10m labels: severity: page annotations: description: 'RabbitMQ Server instance {{ $labels.instance }} is down' summary: 'The RabbitMQ Server instance at {{ $labels.instance }} has been down the last 10 mins' - alert: rabbitmq_file_descriptor_usage_high expr: fd_used * 100 /fd_total > 80 for: 10m labels: severity: warning annotations: description: 'RabbitMQ Server instance {{ $labels.instance }} has high file descriptor usage of {{ $value }} percent.' summary: 'RabbitMQ file descriptors usage is high for last 10 mins' - alert: rabbitmq_node_disk_free_alarm expr: node_disk_free_alarm > 0 for: 10m labels: severity: warning annotations: description: 'RabbitMQ Server instance {{ $labels.instance }} has low disk free space available.' summary: 'RabbitMQ disk space usage is high' - alert: rabbitmq_node_memory_alarm expr: node_mem_alarm > 0 for: 10m labels: severity: warning annotations: description: 'RabbitMQ Server instance {{ $labels.instance }} has low free memory.' summary: 'RabbitMQ memory usage is high' - alert: rabbitmq_less_than_3_nodes expr: running < 3 for: 10m labels: severity: warning annotations: description: 'RabbitMQ Server has less than 3 nodes running.' summary: 'RabbitMQ server is at risk of loosing data' - alert: rabbitmq_queue_messages_returned_high expr: queue_messages_returned_total/queue_messages_published_total * 100 > 50 for: 5m labels: severity: warning annotations: description: 'RabbitMQ Server is returing more than 50 percent of messages received.' summary: 'RabbitMQ server is returning more than 50 percent of messages received.' - alert: rabbitmq_consumers_low_utilization expr: queue_consumer_utilisation < .4 for: 5m labels: severity: warning annotations: description: 'RabbitMQ consumers message consumption speed is low' summary: 'RabbitMQ consumers message consumption speed is low' - alert: rabbitmq_high_message_load expr: queue_messages_total > 17000 or increase(queue_messages_total[5m]) > 4000 for: 5m labels: severity: warning annotations: description: 'RabbitMQ has high message load. Total Queue depth > 17000 or growth more than 4000 messages.' summary: 'RabbitMQ has high message load' elasticsearch: groups: - name: elasticsearch.rules rules: - alert: es_high_process_open_files_count expr: sum(elasticsearch_process_open_files_count) by (host) > 64000 for: 10m labels: severity: warning annotations: description: 'Elasticsearch at {{ $labels.host }} has more than 64000 process open file count.' summary: 'Elasticsearch has a very high process open file count.' - alert: es_high_process_cpu_percent expr: elasticsearch_process_cpu_percent > 95 for: 10m labels: severity: warning annotations: description: 'Elasticsearch at {{ $labels.instance }} has high process cpu percent of {{ $value }}.' summary: 'Elasticsearch process cpu usage is more than 95 percent.' - alert: es_fs_usage_high expr: (100 * (elasticsearch_filesystem_data_size_bytes - elasticsearch_filesystem_data_free_bytes) / elasticsearch_filesystem_data_size_bytes) > 80 for: 10m labels: severity: warning annotations: description: 'Elasticsearch at {{ $labels.instance }} has filesystem usage of {{ $value }}.' summary: 'Elasticsearch filesystem usage is high.' - alert: es_unassigned_shards expr: elasticsearch_cluster_health_unassigned_shards > 0 for: 10m labels: severity: warning annotations: description: 'Elasticsearch has {{ $value }} unassigned shards.' summary: 'Elasticsearch has unassigned shards and hence a unhealthy cluster state.' - alert: es_cluster_health_timed_out expr: elasticsearch_cluster_health_timed_out > 0 for: 10m labels: severity: warning annotations: description: 'Elasticsearch cluster health status call timedout {{ $value }} times.' summary: 'Elasticsearch cluster health status calls are timing out.' - alert: es_cluster_health_status_alert expr: elasticsearch_cluster_health_status > 0 for: 10m labels: severity: warning annotations: description: 'Elasticsearch cluster health status is not green. One or more shards or replicas are unallocated.' summary: 'Elasticsearch cluster health status is not green.' - alert: es_cluster_health_too_few_nodes_running expr: elasticsearch_cluster_health_number_of_nodes < 3 for: 10m labels: severity: warning annotations: description: 'There are only {{$value}} < 3 ElasticSearch nodes running' summary: 'ElasticSearch running on less than 3 nodes' - alert: es_cluster_health_too_few_data_nodes_running expr: elasticsearch_cluster_health_number_of_data_nodes < 3 for: 10m labels: severity: warning annotations: description: 'There are only {{$value}} < 3 ElasticSearch data nodes running' summary: 'ElasticSearch running on less than 3 data nodes' mariadb: groups: - name: mariadb.rules rules: - alert: mariadb_table_lock_wait_high expr: 100 * mysql_global_status_table_locks_waited/(mysql_global_status_table_locks_waited + mysql_global_status_table_locks_immediate) > 30 for: 10m labels: severity: warning annotations: description: 'Mariadb has high table lock waits of {{ $value }} percentage' summary: 'Mariadb table lock waits are high' - alert: mariadb_node_not_ready expr: mysql_global_status_wsrep_ready != 1 for: 10m labels: severity: warning annotations: description: '{{$labels.job}} on {{$labels.instance}} is not ready.' summary: 'Galera cluster node not ready' - alert: mariadb_galera_node_out_of_sync expr: mysql_global_status_wsrep_local_state != 4 AND mysql_global_variables_wsrep_desync == 0 for: 10m labels: severity: warning annotations: description: '{{$labels.job}} on {{$labels.instance}} is not in sync ({{$value}} != 4)' summary: 'Galera cluster node out of sync' - alert: mariadb_innodb_replication_fallen_behind expr: (mysql_global_variables_innodb_replication_delay > 30) AND on (instance) (predict_linear(mysql_global_variables_innodb_replication_delay[5m], 60*2) > 0) for: 10m labels: severity: warning annotations: description: 'The mysql innodb replication has fallen behind and is not recovering' summary: 'MySQL innodb replication is lagging'",,290,0
openstack%2Fopenstack-helm-infra~master~I782f54b5ad8159e7a4375d336a42524f380e65d2,openstack/openstack-helm-infra,master,I782f54b5ad8159e7a4375d336a42524f380e65d2,Nagios notificiation on alerts and ceph monitoring,MERGED,2018-04-24 14:34:16.000000000,2018-05-21 18:33:34.000000000,2018-05-21 18:33:34.000000000,"[{'_account_id': 17591}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-24 14:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec142452af07d8c07113ea16bf81cf28ddfba76a', 'message': 'Nagios notificiation on alerts and ceph monitoring\n\nChange-Id: I782f54b5ad8159e7a4375d336a42524f380e65d2\n'}, {'number': 2, 'created': '2018-04-24 21:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/41f092e94ff1fa0072f81e2507c94ae6ababa49c', 'message': 'Nagios notificiation on alerts and ceph monitoring\n\nChange-Id: I782f54b5ad8159e7a4375d336a42524f380e65d2\n'}, {'number': 3, 'created': '2018-05-15 14:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a74dea7812de2f8476b8ae07b22a7e7d4274a079', 'message': 'Nagios notificiation on alerts and ceph monitoring\n\nChange-Id: I782f54b5ad8159e7a4375d336a42524f380e65d2\n'}, {'number': 4, 'created': '2018-05-15 17:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/590f229fdfdc054383c39fe9cde9862fe1254d1d', 'message': 'Nagios notificiation on alerts and ceph monitoring\n\nChange-Id: I782f54b5ad8159e7a4375d336a42524f380e65d2\n'}, {'number': 5, 'created': '2018-05-15 17:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a04d02279c44f3d99ad539e6e77d10f215847fdf', 'message': 'Nagios notificiation on alerts and ceph monitoring\n\nChange-Id: I782f54b5ad8159e7a4375d336a42524f380e65d2\n'}, {'number': 6, 'created': '2018-05-15 20:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e7d938e6e63e9be6e910ea2d129b41fdda7eeb7b', 'message': 'Nagios notificiation on alerts and ceph monitoring\n\nChange-Id: I782f54b5ad8159e7a4375d336a42524f380e65d2\n'}, {'number': 7, 'created': '2018-05-20 15:16:42.000000000', 'files': ['nagios/templates/deployment.yaml', 'nagios/templates/configmap-etc.yaml', 'nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/69cd66b7c9cfb7965b86cfe13fa4b6e249223f26', 'message': 'Nagios notificiation on alerts and ceph monitoring\n\nChange-Id: I782f54b5ad8159e7a4375d336a42524f380e65d2\n'}]",0,563987,69cd66b7c9cfb7965b86cfe13fa4b6e249223f26,21,5,7,18503,,,0,"Nagios notificiation on alerts and ceph monitoring

Change-Id: I782f54b5ad8159e7a4375d336a42524f380e65d2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/87/563987/1 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/templates/configmap-etc.yaml', 'nagios/templates/deployment.yaml', 'nagios/values.yaml']",3,ec142452af07d8c07113ea16bf81cf28ddfba76a,nagios_alerts_ceph," contacts: - notifying_contact: name: notifying_contact contact_name: notifying_contact alias: notifying contact service_notification_period: 24x7 host_notification_period: 24x7 service_notification_options: w,u,c,r,f,s host_notification_options: d,u,r,f,s register: 0 - snmp_notifying_contact: use: notifying_contact name: snmp_notifying_contact contact_name: snmp_notifying_contact alias: snmp contact service_notification_commands: send_service_snmp_trap host_notification_commands: send_host_snmp_trap - http_notifying_contact: use: notifying_contact name: http_notifying_contact contact_name: http_notifying_contact alias: HTTP contact service_notification_commands: send_service_http_post host_notification_commands: send_host_http_post contactgroups: - snmp_and_http_notifying_contact_group: contactgroup_name: snmp_and_http_notifying_contact_group alias: SNMP and HTTP notifying group members: snmp_notifying_contact,http_notifying_contact - ceph_mgr_placeholder: hostgroup_name: ceph_mgr_placeholder alias: ""ceph_mgr_placeholder"" commands: - send_service_snmp_trap: command_name: send_service_snmp_trap command_line: ""$USER1$/send_service_trap.sh '$USER8$' '$HOSTNAME$' '$SERVICEDESC$' $SERVICESTATEID$ '$SERVICEOUTPUT$' '$USER4$' '$USER5$'"" - send_host_snmp_trap: command_name: send_host_snmp_trap command_line: ""$USER1$/send_host_trap.sh '$USER8$' '$HOSTNAME$' $HOSTSTATEID$ '$HOSTOUTPUT$' '$USER4$' '$USER5$'"" - send_service_http_post: command_name: send_service_http_post command_line: ""$USER1$/post_rest_api_service_event.sh '$HOSTNAME$' '$SERVICEDESC$' $SERVICESTATEID$ '$SERVICEOUTPUT$' '$USER6$' '$USER7$'"" - send_host_http_post: command_name: send_host_http_post command_line: ""$USER1$/post_rest_api_host_event.sh '$HOSTNAME$' $HOSTSTATEID$ '$HOSTOUTPUT$' '$USER6$' '$USER7$'"" - check_ceph_health: command_name: check_ceph_health command_line: $USER1$/check_exporter_health_metric.py --exporter_api 'http://$HOSTADDRESS$:9283/metrics' --health_metric ceph_health_status --critical 0 --warning 0 services: - notifying_service: name: notifying_service flap_detection_enabled: 0 process_perf_data: 0 contact_groups: snmp_and_http_notifying_contact_group check_interval: 60 notification_interval: 120 retry_interval: 15 register: 0 - check_ceph_health: use: notifying_service hostgroup_name: ^ceph_mgr.*$ service_description: ""CEPH_health"" check_command: check_ceph_health check_interval: 60 - check_prometheus_replicas: use: notifying_service check_interval: 60 - check_alertmanager_replicas: use: notifying_service check_interval: 60 - check_statefulset_replicas: use: notifying_service check_interval: 60 - check_daemonset_misscheduled: use: notifying_service check_interval: 60 - check_daemonset_not-scheduled: use: notifying_service check_interval: 60 - check_deployment_replicas_unavailable: use: notifying_service check_interval: 60 - check_deployment_rollingupdate_replicas_unavailable: use: notifying_service check_interval: 60 - check_job_status_failed: use: notifying_service check_interval: 60 - check_pod_status_pending: use: notifying_service check_interval: 60 - check_pod_status_error_image_pull: use: notifying_service check_interval: 60 - check_replicaset_missing_replicas: use: notifying_service check_interval: 60 - check_pod_container_terminated: use: notifying_service check_interval: 60 - check_glance_api: use: notifying_service check_interval: 60 - check_nova_api: use: notifying_service check_interval: 60 - check_keystone_api: use: notifying_service check_interval: 60 - check_neutron_api: use: notifying_service check_interval: 60 - check_swift_api: use: notifying_service check_interval: 60 - check_service_nova_compute: use: notifying_service check_interval: 60 - check_service_nova_conductor: use: notifying_service check_interval: 60 - check_service_nova_consoleauth: use: notifying_service check_interval: 60 - check_service_nova_scheduler: use: notifying_service check_interval: 60 - check_ceph_monitor_quorum: use: notifying_service check_interval: 60 - check_ceph_storage_usage: use: notifying_service check_interval: 60 - check_ceph_pgs_degradation: use: notifying_service check_interval: 60 - check_ceph_osds_down: use: notifying_service check_interval: 60 - check_ceph_monitor_clock_skew: use: notifying_service check_interval: 60 - check_fluentd_up: use: notifying_service check_interval: 60 - check_etcd_high_http_deletes_failed: use: notifying_service check_interval: 60 - check_etcd_high_http_get_failed: use: notifying_service check_interval: 60 - check_etcd_high_http_updates_failed: use: notifying_service check_interval: 60 - check_felix_iptables_save_errors: use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service check_interval: 60 - check_filespace_mounts-usage: use: notifying_service check_interval: 60 - check_node_loadavg: use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service use: notifying_service host_check_timeout: 60 event_handler_timeout: 60 notification_timeout: 60 interval_length: 1 use_regexp_matching: 1 illegal_macro_output_chars: ""`~$&|'<>\"""" notification: snmp: primary_target: 127.0.0.1:15162 secondary_target: 127.0.0.1:15162 http: primary_target: 127.0.0.1:3904/events secondary_target: 127.0.0.1:3904/events", commands: services: - check_prometheus_replicas: check_interval: 1 - check_alertmanager_replicas: use: generic-service check_interval: 1 - check_statefulset_replicas: use: generic-service check_interval: 1 - check_daemonset_misscheduled: use: generic-service check_interval: 1 - check_daemonset_not-scheduled: use: generic-service check_interval: 1 - check_deployment_replicas_unavailable: use: generic-service check_interval: 1 - check_deployment_rollingupdate_replicas_unavailable: use: generic-service check_interval: 1 - check_job_status_failed: use: generic-service check_interval: 1 - check_pod_status_pending: use: generic-service check_interval: 1 - check_pod_status_error_image_pull: use: generic-service check_interval: 1 - check_replicaset_missing_replicas: use: generic-service check_interval: 1 - check_pod_container_terminated: use: generic-service check_interval: 1 - check_glance_api: use: generic-service check_interval: 1 - check_nova_api: use: generic-service check_interval: 1 - check_keystone_api: use: generic-service check_interval: 1 - check_neutron_api: use: generic-service check_interval: 1 - check_swift_api: use: generic-service check_interval: 1 - check_service_nova_compute: use: generic-service check_interval: 1 - check_service_nova_conductor: use: generic-service check_interval: 1 - check_service_nova_consoleauth: use: generic-service check_interval: 1 - check_service_nova_scheduler: use: generic-service check_interval: 1 - check_ceph_monitor_quorum: use: generic-service check_interval: 1 - check_ceph_storage_usage: use: generic-service check_interval: 1 - check_ceph_pgs_degradation: use: generic-service check_interval: 1 - check_ceph_osds_down: use: generic-service check_interval: 1 - check_ceph_monitor_clock_skew: use: generic-service check_interval: 1 - check_fluentd_up: use: generic-service check_interval: 1 - check_etcd_high_http_deletes_failed: use: generic-service check_interval: 1 - check_etcd_high_http_get_failed: use: generic-service check_interval: 1 - check_etcd_high_http_updates_failed: use: generic-service check_interval: 1 - check_felix_iptables_save_errors: use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service check_interval: 1 - check_filespace_mounts-usage: use: generic-service check_interval: 1 - check_node_loadavg: use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service use: generic-service host_check_timeout: 30 event_handler_timeout: 30 notification_timeout: 30 interval_length: 60 use_regexp_matching: 0,173,92
openstack%2Frequirements~master~I643c7632a02c87820c9c51f03fa34f0764384783,openstack/requirements,master,I643c7632a02c87820c9c51f03fa34f0764384783,Allow Pygments in openstack/requirements,MERGED,2018-05-16 02:55:39.000000000,2018-05-21 18:15:40.000000000,2018-05-21 18:15:40.000000000,"[{'_account_id': 6593}, {'_account_id': 8099}, {'_account_id': 8871}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2018-05-16 02:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5a1cc841619e5990e84b985ac5fa96b097782cac', 'message': 'Allow Pygments in openstack/requirements\n\nThis change will help doc8 check rst files without error D000.\n\nIssue:\n\n""Requirement set([Requirement(package=u\'Pygments\', location=\'\',\n specifiers=\'>=2.2.0\', markers=u\'\', comment=\'\', extras=frozenset([]))])\n not in openstack/requirements""\n\nChange-Id: I643c7632a02c87820c9c51f03fa34f0764384783\nClose-bug: #1771479\n'}, {'number': 2, 'created': '2018-05-16 03:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d8992774c860bc974a30ea5c09d4a65214fc2364', 'message': 'Allow Pygments in openstack/requirements\n\nThis change will help doc8 check rst files without error D000.\n\nIssue:\n\n""Requirement set([Requirement(package=u\'Pygments\', location=\'\',\n specifiers=\'>=2.2.0\', markers=u\'\', comment=\'\', extras=frozenset([]))])\n not in openstack/requirements""\n\nChange-Id: I643c7632a02c87820c9c51f03fa34f0764384783\nClose-bug: #1771479\n'}, {'number': 3, 'created': '2018-05-16 15:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/41c1df9ee7a4258eca12dc6aaae047fc92b19fff', 'message': 'Allow Pygments in openstack/requirements\n\nThis change will help doc8 check rst files without error D000.\n\nIs the library actively maintained?\nYes - https://bitbucket.org/birkenfeld/pygments-main\n\nIs the library good code?\nYes - It is the defacto syntax highlighting code in Python\n\nIs the library python 3 compatible?\nYes\n\nIs the library license compatible?\nYes - BSD\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure setup? (Answer to this should be Yes, of course) Which?\nYes - for doc8 checking where there is code snippets.\nIt is also a transient dependancy of sphinx - https://github.com/sphinx-doc/sphinx/blob/master/setup.py#L21\n\nChange-Id: I643c7632a02c87820c9c51f03fa34f0764384783\nClose-bug: #1771479\n'}, {'number': 4, 'created': '2018-05-17 02:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1ec162eaad92af57fc465bfec8808b5d2ccb721c', 'message': ""Allow Pygments in openstack/requirements\n\nProjects that want to enable a comprehensive doc8 check of code,\nincluding D000, need Pygmnets to be installable.  It's an option library\nused by docutils so we need to track it here.\n\nWhile this isn't really a linter, neither is it really required at\nruntime for the projects using it so it's added to the blacklist\n\nIs the library actively maintained?\nYes - https://bitbucket.org/birkenfeld/pygments-main\n\nIs the library good code?\nYes - It is the defacto syntax highlighting code in Python\n\nIs the library python 3 compatible?\nYes\n\nIs the library license compatible?\nYes - BSD\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure setup? (Answer to this should be Yes, of course) Which?\nYes - for doc8 checking where there is code snippets.\nIt is also a transient dependancy of sphinx - https://github.com/sphinx-doc/sphinx/blob/master/setup.py#L21\n\nChange-Id: I643c7632a02c87820c9c51f03fa34f0764384783\nClose-bug: #1771479\n""}, {'number': 5, 'created': '2018-05-17 05:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d172f506c2853ce3f9c083ec97af5dea3f9c7bfc', 'message': ""Allow Pygments in openstack/requirements\n\nProjects that want to enable a comprehensive doc8 check of code,\nincluding D000, need Pygmnets to be installable.  It's an option library\nused by docutils so we need to track it here.\n\nWhile this isn't really a linter, neither is it really required at\nruntime for the projects using it so it's added to the blacklist\n\nIs the library actively maintained?\nYes - https://bitbucket.org/birkenfeld/pygments-main\n\nIs the library good code?\nYes - It is the defacto syntax highlighting code in Python\n\nIs the library python 3 compatible?\nYes\n\nIs the library license compatible?\nYes - BSD\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure setup? (Answer to this should be Yes, of course) Which?\nYes - for doc8 checking where there is code snippets.\nIt is also a transient dependancy of sphinx - https://github.com/sphinx-doc/sphinx/blob/master/setup.py#L21\n\nChange-Id: I643c7632a02c87820c9c51f03fa34f0764384783\nClose-bug: #1771479\n""}, {'number': 6, 'created': '2018-05-17 06:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/83143aa216cf8a7d9728402e8ba88caea7b4f0fc', 'message': ""Allow Pygments in openstack/requirements\n\nProjects that want to enable a comprehensive doc8 check of code,\nincluding D000, need Pygmnets to be installable.  It's an option library\nused by docutils so we need to track it here.\n\nWhile this isn't really a linter, neither is it really required at\nruntime for the projects using it so it's added to the blacklist\n\nIs the library actively maintained?\nYes - https://bitbucket.org/birkenfeld/pygments-main\n\nIs the library good code?\nYes - It is the defacto syntax highlighting code in Python\n\nIs the library python 3 compatible?\nYes\n\nIs the library license compatible?\nYes - BSD\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure setup? (Answer to this should be Yes, of course) Which?\nYes - for doc8 checking where there is code snippets.\nIt is also a transient dependancy of sphinx - https://github.com/sphinx-doc/sphinx/blob/master/setup.py#L21\n\nChange-Id: I643c7632a02c87820c9c51f03fa34f0764384783\nClose-bug: #1771479\n""}, {'number': 7, 'created': '2018-05-17 06:58:34.000000000', 'files': ['global-requirements.txt', 'blacklist.txt', 'lower-constraints.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/aee6e953804da859ecf55e16c6a6cf5ac7571e6b', 'message': ""Allow Pygments in openstack/requirements\n\nProjects that want to enable a comprehensive doc8 check of code,\nincluding D000, need Pygmnets to be installable.  It's an option library\nused by docutils so we need to track it here.\n\nWhile this isn't really a linter, neither is it really required at\nruntime for the projects using it so it's added to the blacklist\n\nIs the library actively maintained?\nYes - https://bitbucket.org/birkenfeld/pygments-main\n\nIs the library good code?\nYes - It is the defacto syntax highlighting code in Python\n\nIs the library python 3 compatible?\nYes\n\nIs the library license compatible?\nYes - BSD\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure setup? (Answer to this should be Yes, of course) Which?\nYes - for doc8 checking where there is code snippets.\nIt is also a transient dependancy of sphinx - https://github.com/sphinx-doc/sphinx/blob/master/setup.py#L21\n\nChange-Id: I643c7632a02c87820c9c51f03fa34f0764384783\nClose-bug: #1771479\n""}]",0,568729,aee6e953804da859ecf55e16c6a6cf5ac7571e6b,31,7,7,25254,,,0,"Allow Pygments in openstack/requirements

Projects that want to enable a comprehensive doc8 check of code,
including D000, need Pygmnets to be installable.  It's an option library
used by docutils so we need to track it here.

While this isn't really a linter, neither is it really required at
runtime for the projects using it so it's added to the blacklist

Is the library actively maintained?
Yes - https://bitbucket.org/birkenfeld/pygments-main

Is the library good code?
Yes - It is the defacto syntax highlighting code in Python

Is the library python 3 compatible?
Yes

Is the library license compatible?
Yes - BSD

Is the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?
Yes

Is the function of this library already covered by other libraries in global-requirements.txt?
No

Is the library required for OpenStack project or related dev or infrastructure setup? (Answer to this should be Yes, of course) Which?
Yes - for doc8 checking where there is code snippets.
It is also a transient dependancy of sphinx - https://github.com/sphinx-doc/sphinx/blob/master/setup.py#L21

Change-Id: I643c7632a02c87820c9c51f03fa34f0764384783
Close-bug: #1771479
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/568729/6 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,5a1cc841619e5990e84b985ac5fa96b097782cac,bug/1771479,Pygments # MIT,,1,0
openstack%2Fcharm-swift-storage~master~Ib978709943c4aec8f7d405c0b71e1c4d81f3764c,openstack/charm-swift-storage,master,Ib978709943c4aec8f7d405c0b71e1c4d81f3764c,Add nofail to fstab options for loop dev,MERGED,2018-05-21 16:43:45.000000000,2018-05-21 18:08:52.000000000,2018-05-21 18:08:51.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 16:43:45.000000000', 'files': ['unit_tests/test_swift_storage_utils.py', 'lib/swift_storage_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/0598fd20fb0bfe11ad77baaff3e04e9d0712ea90', 'message': 'Add nofail to fstab options for loop dev\n\nSome machines will not boot if nofail is excluded\n\nChange-Id: Ib978709943c4aec8f7d405c0b71e1c4d81f3764c\nCloses-Bug: 1768666\n'}]",0,569824,0598fd20fb0bfe11ad77baaff3e04e9d0712ea90,8,4,1,22799,,,0,"Add nofail to fstab options for loop dev

Some machines will not boot if nofail is excluded

Change-Id: Ib978709943c4aec8f7d405c0b71e1c4d81f3764c
Closes-Bug: 1768666
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/24/569824/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_swift_storage_utils.py', 'lib/swift_storage_utils.py']",2,0598fd20fb0bfe11ad77baaff3e04e9d0712ea90,bug/1768666," options = ""loop,nofail,defaults"""," options = ""loop,defaults""",3,3
openstack%2Ftripleo-ha-utils~master~Ibc1c62e498c2fc9b84d88e245df080cf8c9471cc,openstack/tripleo-ha-utils,master,Ibc1c62e498c2fc9b84d88e245df080cf8c9471cc,Replace any redhat/quickstart previous reference,MERGED,2018-05-21 17:00:00.000000000,2018-05-21 17:55:05.000000000,2018-05-21 17:55:05.000000000,"[{'_account_id': 20936}, {'_account_id': 21686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 17:00:00.000000000', 'files': ['roles/instance-ha/README.md', 'roles/validate-ha/tasks/main.yml', 'roles/stonith-config/README.md', 'roles/validate-ha/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/3367205138ab75d9cc676d4560cbfd2af8726ea7', 'message': 'Replace any redhat/quickstart previous reference\n\nSince we are now on the new repository, we want to use it as a reference\ninstead of the original one, ""redhat-openstack/tripleo-quickstart-utils"":\nthis commit replaces any reference with ""openstack/tripleo-ha-utils"".\n\nChange-Id: Ibc1c62e498c2fc9b84d88e245df080cf8c9471cc\n'}]",0,569826,3367205138ab75d9cc676d4560cbfd2af8726ea7,7,3,1,20936,,,0,"Replace any redhat/quickstart previous reference

Since we are now on the new repository, we want to use it as a reference
instead of the original one, ""redhat-openstack/tripleo-quickstart-utils"":
this commit replaces any reference with ""openstack/tripleo-ha-utils"".

Change-Id: Ibc1c62e498c2fc9b84d88e245df080cf8c9471cc
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/26/569826/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/instance-ha/README.md', 'roles/validate-ha/tasks/main.yml', 'roles/stonith-config/README.md', 'roles/validate-ha/README.md']",4,3367205138ab75d9cc676d4560cbfd2af8726ea7,replace_any_redhat_and_quickstart_reference,The TripleO environment must be prepared as described [here](https://github.com/openstack/tripleo-ha-utils/tree/master/README.md).All tests are performed using the tool [ha-test-suite](https://github.com/openstack/tripleo-ha-utils/tree/master/tools/ha-test-suite).described [here](https://github.com/openstack/tripleo-ha-utils/tree/master/README.md). ansible-playbook /home/stack/tripleo-ha-utils/playbooks/overcloud-validate-ha.yml \ ansible-playbook -vvvv /home/stack/tripleo-ha-utils/playbooks/overcloud-validate-ha.yml -e @/home/stack/config.yml,The TripleO environment must be prepared as described [here](https://github.com/redhat-openstack/tripleo-quickstart-utils/tree/master/README.md).All tests are performed using the tool [ha-test-suite](https://github.com/redhat-openstack/tripleo-quickstart-utils/tree/master/tools/ha-test-suite).described [here](https://github.com/redhat-openstack/tripleo-quickstart-utils/tree/master/README.md). ansible-playbook /home/stack/tripleo-quickstart-utils/playbooks/overcloud-validate-ha.yml \ ansible-playbook -vvvv /home/stack/tripleo-quickstart-utils/playbooks/overcloud-validate-ha.yml -e @/home/stack/config.yml,19,19
openstack%2Fopenstack-helm-infra~master~I85753ddd514d1a0196918e904c930fabdc8f2f80,openstack/openstack-helm-infra,master,I85753ddd514d1a0196918e904c930fabdc8f2f80,WIP: Add kube-system user,ABANDONED,2018-05-21 15:52:08.000000000,2018-05-21 17:43:06.000000000,,[],"[{'number': 1, 'created': '2018-05-21 15:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a3b7347910eddb6a5f0aa619331211d3c08d6cf2', 'message': 'WIP: Add kube-system user\n\nChange-Id: I85753ddd514d1a0196918e904c930fabdc8f2f80\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-05-21 16:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4545bb0905536d0cb5a889f3e8836fd5d5e412a', 'message': 'WIP: Add kube-system user\n\nChange-Id: I85753ddd514d1a0196918e904c930fabdc8f2f80\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2018-05-21 17:06:59.000000000', 'files': ['tools/deployment/keystone-auth/check.sh', 'kubernetes-keystone-webhook/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ba30ee296761d42434d2cfab3a8c407fce10e076', 'message': 'WIP: Add kube-system user\n\nChange-Id: I85753ddd514d1a0196918e904c930fabdc8f2f80\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,569816,ba30ee296761d42434d2cfab3a8c407fce10e076,4,0,3,20466,,,0,"WIP: Add kube-system user

Change-Id: I85753ddd514d1a0196918e904c930fabdc8f2f80
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/16/569816/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/keystone-auth/check.sh', 'kubernetes-keystone-webhook/values.yaml']",2,a3b7347910eddb6a5f0aa619331211d3c08d6cf2,update-policy," - resource: verbs: - ""*"" resources: - ""*"" namespace: ""kube-system"" version: ""*"" match: - type: role values:",,26,1
openstack%2Ftripleo-ui~stable%2Fqueens~I229c040cb70df89088ee439cba6befab65f30651,openstack/tripleo-ui,stable/queens,I229c040cb70df89088ee439cba6befab65f30651,Imported Translations from Zanata,MERGED,2018-05-13 06:16:19.000000000,2018-05-21 17:41:19.000000000,2018-05-21 17:41:19.000000000,"[{'_account_id': 9317}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-13 06:16:19.000000000', 'files': ['i18n/locales/id.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/6873bd50c0af8664bc15cd6dd641ff089aa1f9f9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I229c040cb70df89088ee439cba6befab65f30651\n'}]",0,568037,6873bd50c0af8664bc15cd6dd641ff089aa1f9f9,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I229c040cb70df89088ee439cba6befab65f30651
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/37/568037/1 && git format-patch -1 --stdout FETCH_HEAD,['i18n/locales/id.json'],1,6873bd50c0af8664bc15cd6dd641ff089aa1f9f9,zanata/translations," ""CurrentPlan.configurePlanStepTooltip"": ""Langkah ini memungkinkan Anda untuk mengedit pengaturan khusus untuk jaringan, penyimpanan, dan plugin bersertifikasi overcloud lainnya. Gunakan langkah ini untuk menentukan konfigurasi isolasi jaringan Anda dan pengaturan penyimpanan backend Anda."", ""CurrentPlan.configureRolesStepTooltip"": ""Pada dialog pemilihan setiap peran, Anda dapat menetapkan node yang tersedia ke dalam peran atau node yang belum ditetapkan yang telah ditetapkan untuk peran tersebut. Anda juga dapat menyesuaikan pengaturan khusus peran dalam langkah ini. Klik ikon di sudut kanan atas setiap peran untuk melihat pengaturan khusus peran ini."", ""CurrentPlan.deploymentStepTooltip"": ""Langkah ini memulai pengerahan overcloud. Setelah penerapan dimulai, Anda dapat melacak kemajuan dan melihat laporan dari setiap langkah yang selesai, berjalan, atau gagal."", ""CurrentPlan.hardwareStepTooltip"": ""Pendaftaran perangkat keras melibatkan penentuan rincian manajemen daya setiap node sehingga aplikasi dapat mengontrolnya selama introspeksi dan provisioning. Introspeksi mengidentifikasi perangkat keras yang digunakan setiap node dan membangun profil dari setiap node."","," ""CurrentPlan.configurePlanStepTooltip"": """", ""CurrentPlan.configureRolesStepTooltip"": """", ""CurrentPlan.deploymentStepTooltip"": """", ""CurrentPlan.hardwareStepTooltip"": """",",4,4
openstack%2Ftripleo-ui~master~Ie6d9177a6a7ea889dd8b9c4d1597793a2c2273da,openstack/tripleo-ui,master,Ie6d9177a6a7ea889dd8b9c4d1597793a2c2273da,Imported Translations from Zanata,MERGED,2018-05-13 06:18:33.000000000,2018-05-21 17:41:18.000000000,2018-05-21 17:41:18.000000000,"[{'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 20970}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-13 06:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/87e8a6e92ac2236b1cac2ca80e58e2516d92433a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie6d9177a6a7ea889dd8b9c4d1597793a2c2273da\n'}, {'number': 2, 'created': '2018-05-17 06:12:09.000000000', 'files': ['i18n/locales/en-GB.json', 'i18n/locales/de.json', 'i18n/locales/zh-CN.json', 'i18n/locales/es.json', 'i18n/locales/ja.json', 'i18n/locales/ko-KR.json', 'i18n/locales/tr-TR.json', 'i18n/locales/id.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/92945b4e90776b92c980f16a13212817cdc2b797', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie6d9177a6a7ea889dd8b9c4d1597793a2c2273da\n'}]",0,568038,92945b4e90776b92c980f16a13212817cdc2b797,12,5,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie6d9177a6a7ea889dd8b9c4d1597793a2c2273da
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/38/568038/1 && git format-patch -1 --stdout FETCH_HEAD,['i18n/locales/id.json'],1,87e8a6e92ac2236b1cac2ca80e58e2516d92433a,zanata/translations," ""CurrentPlan.configurePlanStepTooltip"": ""Langkah ini memungkinkan Anda untuk mengedit pengaturan khusus untuk jaringan, penyimpanan, dan plugin bersertifikasi overcloud lainnya. Gunakan langkah ini untuk menentukan konfigurasi isolasi jaringan Anda dan pengaturan penyimpanan backend Anda."", ""CurrentPlan.configureRolesStepTooltip"": ""Pada dialog pemilihan setiap peran, Anda dapat menetapkan node yang tersedia ke dalam peran atau node yang belum ditetapkan yang telah ditetapkan untuk peran tersebut. Anda juga dapat menyesuaikan pengaturan khusus peran dalam langkah ini. Klik ikon di sudut kanan atas setiap peran untuk melihat pengaturan khusus peran ini."", ""CurrentPlan.deploymentStepTooltip"": ""Langkah ini memulai pengerahan overcloud. Setelah penerapan dimulai, Anda dapat melacak kemajuan dan melihat laporan dari setiap langkah yang selesai, berjalan, atau gagal."", ""CurrentPlan.hardwareStepTooltip"": ""Pendaftaran perangkat keras melibatkan penentuan rincian manajemen daya setiap node sehingga aplikasi dapat mengontrolnya selama introspeksi dan provisioning. Introspeksi mengidentifikasi perangkat keras yang digunakan setiap node dan membangun profil dari setiap node."", ""DebugScreen.gitSha"": ""Git Sha"", ""DeploymentConfirmation.validationsNotificationMessage"": ""Disarankan untuk menunggu hingga validasi ini selesai berjalan dan kesalahan apa pun telah diselesaikan sebelum melanjutkan penerapan."", ""DeploymentConfirmation.validationsNotificationTitle"": ""Validasi pre-deployment telah dimulai secara otomatis."", ""NodesActions.nodeIntrospectionFailedNotificationTitle"": ""Introspeksi Node Gagal"", ""OvercloudInfo.loadingOvercloudInformation"": ""Memuat informasi penerapan ..."", ""OvercloudInfo.overcloudInformationHeader"": ""Informasi penerapan"", ""OvercloudInfo.overcloudIpAddress"": ""Alamat IP penerapan:"", ""UserDropdown.logout"": ""Log Out"","," ""CurrentPlan.configurePlanStepTooltip"": """", ""CurrentPlan.configureRolesStepTooltip"": """", ""CurrentPlan.deploymentStepTooltip"": """", ""CurrentPlan.hardwareStepTooltip"": """", ""DebugScreen.gitSha"": """", ""DeploymentConfirmation.validationsNotificationMessage"": """", ""DeploymentConfirmation.validationsNotificationTitle"": """", ""NodesActions.nodeIntrospectionFailedNotificationTitle"": """", ""OvercloudInfo.loadingOvercloudInformation"": """", ""OvercloudInfo.overcloudInformationHeader"": """", ""OvercloudInfo.overcloudIpAddress"": """", ""UserDropdown.logout"": """",",12,12
openstack%2Fpuppet-tripleo~master~I9e2a475e4582deec383b92f368e9a834122f65bb,openstack/puppet-tripleo,master,I9e2a475e4582deec383b92f368e9a834122f65bb,Deprecate tripleo::profile::base::docker(_registry),MERGED,2018-05-07 05:40:42.000000000,2018-05-21 17:41:17.000000000,2018-05-21 17:41:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-07 05:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/36039ba8c7d972245bd228870ea9fb18282b8b15', 'message': 'Deprecate tripleo::profile::base::docker\n\nThis profile is replaced by https://github.com/openstack/ansible-role-container-registry,\nso we deprecate it now and will remove the code in the future.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I9e2a475e4582deec383b92f368e9a834122f65bb\n'}, {'number': 2, 'created': '2018-05-07 21:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ca68f789538ab6924c1d3630ccf8d783b9e22887', 'message': 'Deprecate tripleo::profile::base::docker\n\nThis profile is replaced by https://github.com/openstack/ansible-role-container-registry,\nso we deprecate it now and will remove the code in the future.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I9e2a475e4582deec383b92f368e9a834122f65bb\n'}, {'number': 3, 'created': '2018-05-07 21:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c7cfda9a1469d3560464ebf892f3fafb5b96137d', 'message': 'Deprecate tripleo::profile::base::docker_registry)\n\nThese profiles are replaced by https://github.com/openstack/ansible-role-container-registry,\nso we deprecate it now and will remove the code in the future.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I9e2a475e4582deec383b92f368e9a834122f65bb\n'}, {'number': 4, 'created': '2018-05-07 21:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cfc008d3d91e7d7c700d47378636c012124db924', 'message': 'Deprecate tripleo::profile::base::docker(_registry)\n\nThese profiles are replaced by https://github.com/openstack/ansible-role-container-registry,\nso we deprecate it now and will remove the code in the future.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I9e2a475e4582deec383b92f368e9a834122f65bb\n'}, {'number': 5, 'created': '2018-05-07 21:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f1c31dce52d064da1fc59441717b64215720eda3', 'message': 'Deprecate tripleo::profile::base::docker(_registry)\n\nThese profiles are replaced by https://github.com/openstack/ansible-role-container-registry,\nso we deprecate it now and will remove the code in the future.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I9e2a475e4582deec383b92f368e9a834122f65bb\n'}, {'number': 6, 'created': '2018-05-08 06:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ed2020b0b578d8d14eef9217c7f11b9406772e2a', 'message': 'Deprecate tripleo::profile::base::docker(_registry)\n\nThese profiles are replaced by https://github.com/openstack/ansible-role-container-registry,\nso we deprecate it now and will remove the code in the future.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I9e2a475e4582deec383b92f368e9a834122f65bb\n'}, {'number': 7, 'created': '2018-05-17 17:40:54.000000000', 'files': ['releasenotes/notes/docker_registry-163bf23bc95761a8.yaml', 'manifests/profile/base/docker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/767cd520bd2c7976de4a620638063feb91e52a9c', 'message': 'Deprecate tripleo::profile::base::docker(_registry)\n\nThese profiles are replaced by https://github.com/openstack/ansible-role-container-registry,\nso we deprecate it now and will remove the code in the future.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I9e2a475e4582deec383b92f368e9a834122f65bb\n'}]",0,566507,767cd520bd2c7976de4a620638063feb91e52a9c,37,6,7,3153,,,0,"Deprecate tripleo::profile::base::docker(_registry)

These profiles are replaced by https://github.com/openstack/ansible-role-container-registry,
so we deprecate it now and will remove the code in the future.

Depends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334
Change-Id: I9e2a475e4582deec383b92f368e9a834122f65bb
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/07/566507/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/docker_registry-163bf23bc95761a8.yaml', 'manifests/profile/base/docker.pp']",2,36039ba8c7d972245bd228870ea9fb18282b8b15,deprec," warning('tripleo::profile::base::docker is deprecated, is replaced by ansible-role-container-registry and will be removed on the future.') ",,7,0
openstack%2Ftripleo-quickstart-extras~master~I1e34b8974ff98219f666e8864189c496ae8d0be6,openstack/tripleo-quickstart-extras,master,I1e34b8974ff98219f666e8864189c496ae8d0be6,Fix idents in setting undercloud hostname,MERGED,2018-05-21 11:24:10.000000000,2018-05-21 17:41:16.000000000,2018-05-21 17:41:16.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-21 11:24:10.000000000', 'files': ['roles/undercloud-setup/tasks/hostname.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d2382d920e16d135759a746f7b0c2e74e69b685e', 'message': ""Fix idents in setting undercloud hostname\n\nBecause of wrong idents setting undercloud hostname in script\ndoesn't work. Fix idents in ansible task.\n\nChange-Id: I1e34b8974ff98219f666e8864189c496ae8d0be6\n""}]",0,569779,d2382d920e16d135759a746f7b0c2e74e69b685e,10,7,1,10969,,,0,"Fix idents in setting undercloud hostname

Because of wrong idents setting undercloud hostname in script
doesn't work. Fix idents in ansible task.

Change-Id: I1e34b8974ff98219f666e8864189c496ae8d0be6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/79/569779/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-setup/tasks/hostname.yml'],1,d2382d920e16d135759a746f7b0c2e74e69b685e,," cacheable: true undercloud_undercloud_hostname: ""{{ hostnamectl_result.stdout }}"""," cacheable: true undercloud_undercloud_hostname: ""{{ hostnamectl_result.stdout }}""",2,2
openstack%2Ftripleo-ui~master~I0262cfebfdf43e1f6d2282ae78b174a49492ab6b,openstack/tripleo-ui,master,I0262cfebfdf43e1f6d2282ae78b174a49492ab6b,Chain ansible messages in deployment progress,MERGED,2018-04-27 11:12:07.000000000,2018-05-21 17:35:10.000000000,2018-05-21 17:35:10.000000000,"[{'_account_id': 7509}, {'_account_id': 8871}, {'_account_id': 10112}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 11:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/c53a4de029e64d48d21225a1a6b7deeedd04d3c2', 'message': 'Chain ansible messages in deployment progress\n\nThis change stores incoming config-deploy ansible messages in a List\nRendering of ansible messages is moved into separate component which\nautomatically scrolls to the bottom of the messages output\n\nChange-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b\n'}, {'number': 2, 'created': '2018-05-02 13:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/af2c334fa29237d5942bb54c8a5abba78712eb54', 'message': 'Chain ansible messages in deployment progress\n\nThis change stores incoming config-deploy ansible messages in a List\nRendering of ansible messages is moved into separate component which\nautomatically scrolls to the bottom of the messages output\n\nChange-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b\n'}, {'number': 3, 'created': '2018-05-02 14:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/7a551e7664f400dc9d758626344e0820216c1a96', 'message': 'Chain ansible messages in deployment progress\n\nThis change stores incoming config-deploy ansible messages in a List\nRendering of ansible messages is moved into separate component which\nautomatically scrolls to the bottom of the messages output\n\nChange-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b\n'}, {'number': 4, 'created': '2018-05-02 15:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/f7a1ed9374d161e49885c94e6cf851a2ee7512e6', 'message': 'Chain ansible messages in deployment progress\n\nThis change stores incoming config-deploy ansible messages in a List\nRendering of ansible messages is moved into separate component which\nautomatically scrolls to the bottom of the messages output\n\nChange-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b\n'}, {'number': 5, 'created': '2018-05-02 16:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/c32910b0a61cb13a5cd294cd2025860914df3a58', 'message': 'Chain ansible messages in deployment progress\n\nThis change stores incoming config-deploy ansible messages in a List\nRendering of ansible messages is moved into separate component which\nautomatically scrolls to the bottom of the messages output\n\nChange-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b\n'}, {'number': 6, 'created': '2018-05-09 12:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/8ee85c38407873fd6c0a0f0fe777dfc7880ce296', 'message': 'Chain ansible messages in deployment progress\n\nThis change stores incoming config-deploy ansible messages in a List\nRendering of ansible messages is moved into separate component which\nautomatically scrolls to the bottom of the messages output\n\nChange-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b\n'}, {'number': 7, 'created': '2018-05-09 12:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/6aa3b551f9d7415646313e89e938f6d1031fe926', 'message': 'Chain ansible messages in deployment progress\n\nThis change stores incoming config-deploy ansible messages in a List\nRendering of ansible messages is moved into separate component which\nautomatically scrolls to the bottom of the messages output\n\nChange-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b\n'}, {'number': 8, 'created': '2018-05-11 13:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/c0c4f38ad832a49d8d0465ab9f4a04bd11a864da', 'message': 'Chain ansible messages in deployment progress\n\nThis change stores incoming config-deploy ansible messages in a List\nRendering of ansible messages is moved into separate component which\nautomatically scrolls to the bottom of the messages output\n\nChange-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b\n'}, {'number': 9, 'created': '2018-05-14 13:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/781ed033ff05afc6ce130fec904641f9e6bb06d6', 'message': 'Chain ansible messages in deployment progress\n\nThis change stores incoming config-deploy ansible messages in a List\nRendering of ansible messages is moved into separate component which\nautomatically scrolls to the bottom of the messages output\n\nImplements: blueprint config-download-ui\nChange-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b\n'}, {'number': 10, 'created': '2018-05-15 12:00:22.000000000', 'files': ['src/js/components/deployment/ConfigDownloadMessagesList.js', 'src/js/immutableRecords/deploymentStatus.js', 'src/js/reducers/deploymentStatus.js', 'src/js/components/deployment/DeploymentProgress.js', 'src/less/components/DeploymentDetail.less', 'src/js/constants/DeploymentConstants.js', 'src/js/actions/DeploymentActions.js', 'src/__tests__/reducers/deploymentStatus.tests.js', 'src/js/actions/ZaqarActions.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/1cf8ea141efe49c168fdbca062fc37f1d1772311', 'message': 'Chain ansible messages in deployment progress\n\nThis change stores incoming config-deploy ansible messages in a List\nRendering of ansible messages is moved into separate component which\nautomatically scrolls to the bottom of the messages output\n\nImplements: blueprint config-download-ui\nChange-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b\n'}]",2,564733,1cf8ea141efe49c168fdbca062fc37f1d1772311,32,6,10,7509,,,0,"Chain ansible messages in deployment progress

This change stores incoming config-deploy ansible messages in a List
Rendering of ansible messages is moved into separate component which
automatically scrolls to the bottom of the messages output

Implements: blueprint config-download-ui
Change-Id: I0262cfebfdf43e1f6d2282ae78b174a49492ab6b
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/33/564733/8 && git format-patch -1 --stdout FETCH_HEAD,"['src/js/immutableRecords/deploymentStatus.js', 'src/js/reducers/deploymentStatus.js', 'src/js/components/deployment/AnsibleMessagesList.js', 'src/js/components/deployment/DeploymentProgress.js', 'src/less/components/DeploymentDetail.less', 'src/js/constants/DeploymentConstants.js', 'src/js/actions/DeploymentActions.js', 'src/js/actions/ZaqarActions.js']",8,c53a4de029e64d48d21225a1a6b7deeedd04d3c2,bp/config-download-ui," deploymentFinished, configDownloadMessage dispatch(configDownloadMessage(plan_name, message));"," deploymentFinished dispatch( getDeploymentStatusSuccess(plan_name, { ansibleMessage: message, status: deploymentStates.DEPLOYING }) );",73,15
openstack%2Ftripleo-heat-templates~master~I17d6f6b7710a398f207009f4115fcc9cd38952bf,openstack/tripleo-heat-templates,master,I17d6f6b7710a398f207009f4115fcc9cd38952bf,[tripleo-ui] Explicitly configure Nova CORS,MERGED,2018-04-19 16:59:16.000000000,2018-05-21 17:35:08.000000000,2018-05-21 17:35:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-19 16:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7875da71a39ffb8b570bc8ca3eabb98e43f991f9', 'message': '[tripleo-ui] Explicitly configure Nova CORS\n\nChange-Id: I17d6f6b7710a398f207009f4115fcc9cd38952bf\n'}, {'number': 2, 'created': '2018-04-19 17:20:13.000000000', 'files': ['environments/undercloud.yaml', 'puppet/services/tripleo-ui.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/064d5d50c086e1e8f1bbe3092d33c858bc31e8f7', 'message': '[tripleo-ui] Explicitly configure Nova CORS\n\nChange-Id: I17d6f6b7710a398f207009f4115fcc9cd38952bf\n'}]",1,562751,064d5d50c086e1e8f1bbe3092d33c858bc31e8f7,11,5,2,20970,,,0,"[tripleo-ui] Explicitly configure Nova CORS

Change-Id: I17d6f6b7710a398f207009f4115fcc9cd38952bf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/562751/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/tripleo-ui.yaml'],1,7875da71a39ffb8b570bc8ca3eabb98e43f991f9,tripleo-ui-nova," nova::cors::allowed_origin: '*' nova::cors::max_age: 3600 nova::cors::allow_methods: 'GET,POST,PUT,DELETE,OPTIONS,PATCH' nova::cors::allow_headers: 'Content-Type,Cache-Control,Content-Language,Expires,Last-Modified,Pragma,X-Auth-Token' nova::cors::expose_headers: 'Content-Type,Cache-Control,Content-Language,Expires,Last-Modified,Pragma'",,5,0
openstack%2Fopenstack-helm-infra~master~I2c23c6fc9d0a00236cd38c63d29207e04a368f5f,openstack/openstack-helm-infra,master,I2c23c6fc9d0a00236cd38c63d29207e04a368f5f,Grafana: Add Prometheus dashboard,MERGED,2018-05-18 20:26:07.000000000,2018-05-21 17:33:29.000000000,2018-05-21 17:33:29.000000000,"[{'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-18 20:26:07.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9c90f7d2a9e2caf4d74b0bf2e82672ae1abcaa03', 'message': 'Grafana: Add Prometheus dashboard\n\nThis adds a dashboard for displaying prometheus specific metrics,\nproviding insight into the performance of prometheus as well as\nmetrics related to time series, rule evaluations, scrape delays,\nand query latency\n\nChange-Id: I2c23c6fc9d0a00236cd38c63d29207e04a368f5f\n'}]",0,569516,9c90f7d2a9e2caf4d74b0bf2e82672ae1abcaa03,7,3,1,17591,,,0,"Grafana: Add Prometheus dashboard

This adds a dashboard for displaying prometheus specific metrics,
providing insight into the performance of prometheus as well as
metrics related to time series, rule evaluations, scrape delays,
and query latency

Change-Id: I2c23c6fc9d0a00236cd38c63d29207e04a368f5f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/16/569516/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,9c90f7d2a9e2caf4d74b0bf2e82672ae1abcaa03,add_prometheus_dashboard," prometheus: __inputs: - name: prometheus label: Prometheus description: Prometheus which you want to monitor type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: 4.6.0 - type: panel id: graph name: Graph version: '' - type: datasource id: prometheus name: Prometheus version: 1.0.0 - type: panel id: singlestat name: Singlestat version: '' - type: panel id: text name: Text version: '' annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: rgba(0, 211, 255, 1) name: Annotations & Alerts type: dashboard - datasource: ""$datasource"" enable: true expr: count(sum(up{instance=""$instance""}) by (instance) < 1) hide: false iconColor: rgb(250, 44, 18) limit: 100 name: downage showIn: 0 step: 30s tagKeys: instance textFormat: prometheus down titleFormat: Downage type: alert - datasource: ""$datasource"" enable: true expr: sum(changes(prometheus_config_last_reload_success_timestamp_seconds[10m])) by (instance) hide: false iconColor: ""#fceaca"" limit: 100 name: Reload showIn: 0 step: 5m tagKeys: instance tags: [] titleFormat: Reload type: tags description: Dashboard for monitoring of Prometheus v2.x.x editable: true gnetId: 3681 graphTooltip: 1 hideControls: false id: links: - icon: info tags: [] targetBlank: true title: 'Dashboard''s Github ' tooltip: Github repo of this dashboard type: link url: https://github.com/FUSAKLA/Prometheus2-grafana-dashboard - icon: doc tags: [] targetBlank: true title: Prometheus Docs tooltip: '' type: link url: http://prometheus.io/docs/introduction/overview/ refresh: 5m rows: - collapse: false height: 161 panels: - cacheTimeout: colorBackground: false colorValue: false colors: - ""#299c46"" - rgba(237, 129, 40, 0.89) - ""#bf1b00"" datasource: prometheus decimals: 1 format: s gauge: maxValue: 1000000 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true id: 41 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 2 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - expr: time() - process_start_time_seconds{instance=""$instance""} format: time_series instant: false intervalFactor: 2 refId: A thresholds: '' title: Uptime type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current - cacheTimeout: colorBackground: false colorValue: true colors: - ""#299c46"" - rgba(237, 129, 40, 0.89) - ""#bf1b00"" datasource: prometheus format: short gauge: maxValue: 1000000 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true id: 42 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 4 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: prometheus_tsdb_head_series{instance=""$instance""} format: time_series instant: false intervalFactor: 2 refId: A thresholds: '500000,800000,1000000' title: Total count of time series type: singlestat valueFontSize: 150% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - ""#299c46"" - rgba(237, 129, 40, 0.89) - ""#d44a3a"" datasource: prometheus format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true id: 48 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 2 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: version targets: - expr: prometheus_build_info{instance=""$instance""} format: table instant: true intervalFactor: 2 refId: A thresholds: '' title: Version type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: avg - cacheTimeout: colorBackground: false colorValue: false colors: - ""#299c46"" - rgba(237, 129, 40, 0.89) - ""#d44a3a"" datasource: prometheus decimals: 2 format: ms gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true id: 49 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 2 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - expr: prometheus_tsdb_head_max_time{instance=""$instance""} - prometheus_tsdb_head_min_time{instance=""$instance""} format: time_series instant: true intervalFactor: 2 refId: A thresholds: '' title: Actual head block length type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current - content: <img src=""https://cdn.worldvectorlogo.com/logos/prometheus.svg""/ height=""140px""> height: '' id: 50 links: [] mode: html span: 1 title: '' transparent: true type: text - cacheTimeout: colorBackground: false colorValue: true colors: - ""#e6522c"" - rgba(237, 129, 40, 0.89) - ""#299c46"" datasource: prometheus decimals: 1 format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true id: 52 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' span: 1 sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - expr: '2' format: time_series intervalFactor: 2 refId: A thresholds: '10,20' title: '' transparent: true type: singlestat valueFontSize: 200% valueMaps: - op: ""="" text: N/A value: 'null' valueName: avg repeat: repeatIteration: repeatRowId: showTitle: false title: Header instance info titleSize: h6 - collapse: false height: '250' panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 15 legend: avg: true current: false max: false min: false show: false total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: true steppedLine: false targets: - expr: max(prometheus_engine_query_duration_seconds{instance=""$instance""}) by (instance, slice) format: time_series intervalFactor: 1 legendFormat: max duration for {{slice}} metric: prometheus_local_storage_rushed_mode refId: A step: 900 thresholds: [] timeFrom: timeShift: title: Query elapsed time tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: '' logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 17 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: sum(increase(prometheus_tsdb_head_series_created_total{instance=""$instance""}[$aggregation_interval])) by (instance) format: time_series intervalFactor: 2 legendFormat: created on {{ instance }} metric: prometheus_local_storage_maintain_series_duration_seconds_count refId: A step: 1800 - expr: sum(increase(prometheus_tsdb_head_series_removed_total{instance=""$instance""}[$aggregation_interval])) by (instance) * -1 format: time_series intervalFactor: 2 legendFormat: removed on {{ instance }} refId: B thresholds: [] timeFrom: timeShift: title: Head series created/deleted tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 13 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: sum(increase(prometheus_target_scrapes_exceeded_sample_limit_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: exceeded_sample_limit on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: A step: 1800 - expr: sum(increase(prometheus_target_scrapes_sample_duplicate_timestamp_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: duplicate_timestamp on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: B step: 1800 - expr: sum(increase(prometheus_target_scrapes_sample_out_of_bounds_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: out_of_bounds on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: C step: 1800 - expr: sum(increase(prometheus_target_scrapes_sample_out_of_order_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: out_of_order on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: D step: 1800 - expr: sum(increase(prometheus_rule_evaluation_failures_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: rule_evaluation_failure on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: G step: 1800 - expr: sum(increase(prometheus_tsdb_compactions_failed_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: tsdb_compactions_failed on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: K step: 1800 - expr: sum(increase(prometheus_tsdb_reloads_failures_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: tsdb_reloads_failures on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: L step: 1800 - expr: sum(increase(prometheus_tsdb_head_series_not_found{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: head_series_not_found on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: N step: 1800 - expr: sum(increase(prometheus_evaluator_iterations_missed_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: evaluator_iterations_missed on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: O step: 1800 - expr: sum(increase(prometheus_evaluator_iterations_skipped_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: evaluator_iterations_skipped on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: P step: 1800 thresholds: [] timeFrom: timeShift: title: Prometheus errors tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: false title: Main info titleSize: h6 - collapse: false height: 250 panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""$datasource"" description: '' editable: true error: false fill: 1 grid: {} id: 25 legend: alignAsTable: true avg: true current: true max: true min: false show: false sort: max sortDesc: true total: false values: true lines: true linewidth: 2 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 6 stack: false steppedLine: false targets: - expr: prometheus_target_interval_length_seconds{instance=""$instance"",quantile=""0.99""} - 60 format: time_series interval: 2m intervalFactor: 1 legendFormat: ""{{instance}}"" metric: '' refId: A step: 300 thresholds: [] timeFrom: timeShift: title: Scrape delay (counts with 1m scrape interval) tooltip: msResolution: false shared: true sort: 2 value_type: cumulative type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s logBase: 1 max: min: show: true - format: short logBase: 1 max: min: show: true - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 14 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: - alias: Queue length yaxis: 2 spaceLength: 10 span: 6 stack: false steppedLine: false targets: - expr: sum(prometheus_evaluator_duration_seconds{instance=""$instance""}) by (instance, quantile) format: time_series intervalFactor: 2 legendFormat: Queue length metric: prometheus_local_storage_indexing_queue_length refId: B step: 1800 thresholds: [] timeFrom: timeShift: title: Rule evaulation duration tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: '0' show: true repeat: repeatIteration: repeatRowId: showTitle: true title: Scrape & rule duration titleSize: h6 - collapse: false height: 250 panels: - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 18 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: sum(increase(http_requests_total{instance=""$instance""}[$aggregation_interval])) by (instance, handler) > 0 format: time_series intervalFactor: 2 legendFormat: ""{{ handler }} on {{ instance }}"" metric: '' refId: A step: 1800 thresholds: [] timeFrom: timeShift: title: Request count tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: none label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 16 legend: avg: false current: false hideEmpty: true hideZero: true max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: max(sum(http_request_duration_microseconds{instance=""$instance""}) by (instance, handler, quantile)) by (instance, handler) > 0 format: time_series hide: false intervalFactor: 2 legendFormat: ""{{ handler }} on {{ instance }}"" refId: B thresholds: [] timeFrom: timeShift: title: Request duration per handler tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 19 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: sum(increase(http_request_size_bytes{instance=""$instance"", quantile=""0.99""}[$aggregation_interval])) by (instance, handler) > 0 format: time_series hide: false intervalFactor: 2 legendFormat: ""{{ handler }} in {{ instance }}"" refId: B thresholds: [] timeFrom: timeShift: title: Request size by handler tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: bytes label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Allocated bytes: ""#F9BA8F"" Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max count collector: ""#bf1b00"" Max count harvester: ""#bf1b00"" Max to persist: ""#3F6833"" RSS: ""#890F02"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 8 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: - alias: ""/Max.*/"" fill: 0 linewidth: 2 spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: sum(prometheus_engine_queries{instance=""$instance""}) by (instance, handler) format: time_series intervalFactor: 2 legendFormat: 'Current count ' metric: last refId: A step: 1800 - expr: sum(prometheus_engine_queries_concurrent_max{instance=""$instance""}) by (instance, handler) format: time_series intervalFactor: 2 legendFormat: Max count metric: last refId: B step: 1800 thresholds: [] timeFrom: timeShift: title: Cont of concurent queries tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: true title: Requests & queries titleSize: h6 - collapse: false height: 250 panels: - aliasColors: Alert queue capacity on o collector: ""#bf1b00"" Alert queue capacity on o harvester: ""#bf1b00"" Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 20 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: - alias: ""/.*capacity.*/"" fill: 0 linewidth: 2 spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: sum(prometheus_notifications_queue_capacity{instance=""$instance""})by (instance) format: time_series intervalFactor: 2 legendFormat: 'Alert queue capacity ' metric: prometheus_local_storage_checkpoint_last_size_bytes refId: A step: 1800 - expr: sum(prometheus_notifications_queue_length{instance=""$instance""})by (instance) format: time_series intervalFactor: 2 legendFormat: 'Alert queue size on ' metric: prometheus_local_storage_checkpoint_last_size_bytes refId: B step: 1800 thresholds: [] timeFrom: timeShift: title: Alert queue size tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: bytes label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 21 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: sum(prometheus_notifications_alertmanagers_discovered{instance=""$instance""}) by (instance) format: time_series intervalFactor: 2 legendFormat: Checkpoint chunks written/s metric: prometheus_local_storage_checkpoint_series_chunks_written_sum refId: A step: 1800 thresholds: [] timeFrom: timeShift: title: Count of discovered alertmanagers tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: none label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 39 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: sum(increase(prometheus_notifications_dropped_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: notifications_dropped on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: F step: 1800 - expr: sum(increase(prometheus_rule_evaluation_failures_total{rule_type=""alerting"",instance=""$instance""}[$aggregation_interval])) by (rule_type,instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: rule_evaluation_failures on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: A step: 1800 thresholds: [] timeFrom: timeShift: title: Alerting errors tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: true title: Alerting titleSize: h6 - collapse: false height: 250 panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 id: 45 legend: avg: false current: false max: false min: false show: true total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: increase(prometheus_target_sync_length_seconds_count{scrape_job=""kubernetes-service-endpoints""}[$aggregation_interval]) format: time_series intervalFactor: 2 legendFormat: Count of target synces refId: A step: 240 thresholds: [] timeFrom: timeShift: title: Kubernetes SD sync count tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 46 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: sum(increase(prometheus_target_scrapes_exceeded_sample_limit_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: exceeded_sample_limit on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: A step: 1800 - expr: sum(increase(prometheus_sd_file_read_errors_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series interval: '' intervalFactor: 2 legendFormat: sd_file_read_error on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: E step: 1800 thresholds: [] timeFrom: timeShift: title: Service discovery errors tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: true title: Service discovery titleSize: h6 - collapse: false height: 250 panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 id: 36 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: sum(increase(prometheus_tsdb_reloads_total{instance=""$instance""}[30m])) by (instance) format: time_series intervalFactor: 2 legendFormat: ""{{ instance }}"" refId: A thresholds: [] timeFrom: timeShift: title: Reloaded block from disk tooltip: shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 5 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: sum(prometheus_tsdb_blocks_loaded{instance=""$instance""}) by (instance) format: time_series intervalFactor: 2 legendFormat: Loaded data blocks metric: prometheus_local_storage_memory_chunkdescs refId: A step: 1800 thresholds: [] timeFrom: timeShift: title: Loaded data blocks tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 3 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: prometheus_tsdb_head_series{instance=""$instance""} format: time_series intervalFactor: 2 legendFormat: Time series count metric: prometheus_local_storage_memory_series refId: A step: 1800 thresholds: [] timeFrom: timeShift: title: Time series total count tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 1 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: sum(rate(prometheus_tsdb_head_samples_appended_total{instance=""$instance""}[$aggregation_interval])) by (instance) format: time_series intervalFactor: 2 legendFormat: samples/s {{instance}} metric: prometheus_local_storage_ingested_samples_total refId: A step: 1800 thresholds: [] timeFrom: timeShift: title: Samples Appended per second tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: '' logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: true title: TSDB stats titleSize: h6 - collapse: false height: 250 panels: - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" To persist: ""#9AC48A"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 2 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: - alias: ""/Max.*/"" fill: 0 spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: sum(prometheus_tsdb_head_chunks{instance=""$instance""}) by (instance) format: time_series hide: false intervalFactor: 2 legendFormat: Head chunk count metric: prometheus_local_storage_memory_chunks refId: A step: 1800 thresholds: [] timeFrom: timeShift: title: Head chunks count tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 id: 35 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: max(prometheus_tsdb_head_max_time{instance=""$instance""}) by (instance) - min(prometheus_tsdb_head_min_time{instance=""$instance""}) by (instance) format: time_series intervalFactor: 2 legendFormat: ""{{ instance }}"" refId: A thresholds: [] timeFrom: timeShift: title: Length of head block tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: ms label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 4 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: sum(rate(prometheus_tsdb_head_chunks_created_total{instance=""$instance""}[$aggregation_interval])) by (instance) format: time_series intervalFactor: 2 legendFormat: created on {{ instance }} refId: B - expr: sum(rate(prometheus_tsdb_head_chunks_removed_total{instance=""$instance""}[$aggregation_interval])) by (instance) * -1 format: time_series intervalFactor: 2 legendFormat: deleted on {{ instance }} refId: C thresholds: [] timeFrom: timeShift: title: Head Chunks Created/Deleted per second tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: true title: Head block stats titleSize: h6 - collapse: false height: 250 panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 id: 33 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: sum(increase(prometheus_tsdb_compaction_duration_sum{instance=""$instance""}[30m]) / increase(prometheus_tsdb_compaction_duration_count{instance=""$instance""}[30m])) by (instance) format: time_series intervalFactor: 2 legendFormat: ""{{ instance }}"" refId: B thresholds: [] timeFrom: timeShift: title: Compaction duration tooltip: shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 id: 34 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: sum(prometheus_tsdb_head_gc_duration_seconds{instance=""$instance""}) by (instance, quantile) format: time_series intervalFactor: 2 legendFormat: ""{{ quantile }} on {{ instance }}"" refId: A thresholds: [] timeFrom: timeShift: title: Go Garbage collection duration tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 id: 37 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: sum(prometheus_tsdb_wal_truncate_duration_seconds{instance=""$instance""}) by (instance, quantile) format: time_series intervalFactor: 2 legendFormat: ""{{ quantile }} on {{ instance }}"" refId: A thresholds: [] timeFrom: timeShift: title: WAL truncate duration seconds tooltip: shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 id: 38 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 3 stack: false steppedLine: false targets: - expr: sum(tsdb_wal_fsync_duration_seconds{instance=""$instance""}) by (instance, quantile) format: time_series intervalFactor: 2 legendFormat: ""{{ quantile }} {{ instance }}"" refId: A thresholds: [] timeFrom: timeShift: title: WAL fsync duration seconds tooltip: shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: true title: Data maintenance titleSize: h6 - collapse: false height: 250 panels: - aliasColors: Allocated bytes: ""#7EB26D"" Allocated bytes - 1m max: ""#BF1B00"" Allocated bytes - 1m min: ""#BF1B00"" Allocated bytes - 5m max: ""#BF1B00"" Allocated bytes - 5m min: ""#BF1B00"" Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" RSS: ""#447EBC"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" decimals: editable: true error: false fill: 1 id: 6 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: - alias: ""/-/"" fill: 0 - alias: collector heap size color: ""#E0752D"" fill: 0 linewidth: 2 - alias: collector kubernetes memory limit color: ""#BF1B00"" fill: 0 linewidth: 3 spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: sum(process_resident_memory_bytes{instance=""$instance""}) by (instance) format: time_series hide: false intervalFactor: 2 legendFormat: Total resident memory - {{instance}} metric: process_resident_memory_bytes refId: B step: 1800 - expr: sum(go_memstats_alloc_bytes{instance=""$instance""}) by (instance) format: time_series hide: false intervalFactor: 2 legendFormat: Total llocated bytes - {{instance}} metric: go_memstats_alloc_bytes refId: A step: 1800 thresholds: [] timeFrom: timeShift: title: Memory tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: bytes label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: Allocated bytes: ""#F9BA8F"" Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" RSS: ""#890F02"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 7 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: rate(go_memstats_alloc_bytes_total{instance=""$instance""}[$aggregation_interval]) format: time_series intervalFactor: 2 legendFormat: Allocated Bytes/s metric: go_memstats_alloc_bytes refId: A step: 1800 thresholds: [] timeFrom: timeShift: title: Allocations per second tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: bytes label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""$datasource"" decimals: 2 editable: true error: false fill: 1 id: 9 legend: alignAsTable: false avg: false current: false hideEmpty: false max: false min: false rightSide: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 4 stack: false steppedLine: false targets: - expr: sum(rate(process_cpu_seconds_total{instance=""$instance""}[$aggregation_interval])) by (instance) format: time_series intervalFactor: 2 legendFormat: CPU/s metric: prometheus_local_storage_ingested_samples_total refId: B step: 1800 thresholds: [] timeFrom: timeShift: title: CPU per second tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: - avg yaxes: - format: none label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: true title: RAM&CPU titleSize: h6 - collapse: false height: 250 panels: - aliasColors: Chunks: ""#1F78C1"" Chunks to persist: ""#508642"" Max chunks: ""#052B51"" Max to persist: ""#3F6833"" bars: false dashLength: 10 dashes: false datasource: ""$datasource"" editable: true error: false fill: 1 id: 47 legend: avg: false current: false max: false min: false show: false total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 12 stack: false steppedLine: false targets: - expr: sum(increase(net_conntrack_dialer_conn_failed_total{instance=""$instance""}[$aggregation_interval])) by (instance) > 0 format: time_series hide: false interval: '' intervalFactor: 2 legendFormat: conntrack_dialer_conn_failed on {{ instance }} metric: prometheus_local_storage_chunk_ops_total refId: M step: 1800 thresholds: [] timeFrom: timeShift: title: Net errors tooltip: msResolution: false shared: true sort: 2 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: true title: Contrac errors titleSize: h6 schemaVersion: 14 style: dark tags: - prometheus templating: list: - auto: true auto_count: 30 auto_min: 2m current: text: auto value: ""$__auto_interval"" hide: 0 label: aggregation intarval name: aggregation_interval options: - selected: true text: auto value: ""$__auto_interval"" - selected: false text: 1m value: 1m - selected: false text: 10m value: 10m - selected: false text: 30m value: 30m - selected: false text: 1h value: 1h - selected: false text: 6h value: 6h - selected: false text: 12h value: 12h - selected: false text: 1d value: 1d - selected: false text: 7d value: 7d - selected: false text: 14d value: 14d - selected: false text: 30d value: 30d query: 1m,10m,30m,1h,6h,12h,1d,7d,14d,30d refresh: 2 type: interval - allValue: current: {} datasource: ""$datasource"" hide: 0 includeAll: false label: Instance multi: false name: instance options: [] query: label_values(prometheus_build_info, instance) refresh: 2 regex: '' sort: 2 tagValuesQuery: '' tags: [] tagsQuery: '' type: query useTags: false - current: text: Prometheus value: Prometheus hide: 0 label: Prometheus datasource name: datasource options: [] query: prometheus refresh: 1 regex: '' type: datasource - current: text: influxdb(heapster) - kokura value: influxdb(heapster) - kokura hide: 0 label: InfluxDB datasource name: influx_datasource options: [] query: influxdb refresh: 1 regex: '' type: datasource time: from: now-7d to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: browser title: Prometheus2.0 (v1.0.0 by FUSAKLA) version: 8",,2791,0
openstack%2Fopenstack-specs~master~I643a2e668599ae77eb615d1b292a59e5066dcbb5,openstack/openstack-specs,master,I643a2e668599ae77eb615d1b292a59e5066dcbb5,Define a set of basic default roles,ABANDONED,2017-11-29 19:44:35.000000000,2018-05-21 17:28:43.000000000,,"[{'_account_id': 782}, {'_account_id': 2218}, {'_account_id': 3153}, {'_account_id': 4257}, {'_account_id': 4690}, {'_account_id': 5046}, {'_account_id': 6873}, {'_account_id': 7191}, {'_account_id': 8099}, {'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 10343}, {'_account_id': 10608}, {'_account_id': 11589}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 21420}, {'_account_id': 22136}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-11-29 19:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/34033875f4c4a066149b38a4737887f1cb83897f', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 2, 'created': '2017-11-29 20:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/515bc782a2e6395e934311f535599dc18ae0a36f', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 3, 'created': '2017-11-29 20:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/02443d80997daed01f91cefc7ed084360c843a49', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 4, 'created': '2018-01-03 22:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/55381dc091fa437c68ca094f2bb345ccceaf8c52', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 5, 'created': '2018-01-03 23:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/f8c08132d46fd71be5116753fb174c4fa6bec6ea', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 6, 'created': '2018-01-03 23:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/0a6f1e99374c994a1b9382fc3b8d72b8f9c28ba0', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 7, 'created': '2018-01-04 00:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/109dafe1da27c2b3b37e0c1613130ec2e00ab226', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 8, 'created': '2018-01-04 15:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/4d03cafea570ae9e15e04aabd1c06cf8882bee4c', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 9, 'created': '2018-03-27 14:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/839ae7f7a380148d16ae9cb6778db14817bfac34', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 10, 'created': '2018-03-27 18:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/e2783f694bc89e9fb50f75e47722016a5ae8f5f9', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-authored-By: Lance Bragstad <lbagstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 11, 'created': '2018-03-28 15:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/e23cc60d954f8ad3ec11f41dc437628ff4a0ca1e', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-authored-By: Lance Bragstad <lbagstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 12, 'created': '2018-04-02 15:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/dc903ee12112d673ec915543f2f319f6eac2f885', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-authored-By: Lance Bragstad <lbagstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 13, 'created': '2018-04-04 15:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/55315cde3c1a4e59ff2ba613b1dc3894ba61187f', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-authored-By: Lance Bragstad <lbagstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 14, 'created': '2018-04-04 18:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/2fd2dee5fdf8c699d3ce448f4fd6feb10a0563ea', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-authored-By: Lance Bragstad <lbagstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 15, 'created': '2018-04-05 14:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/18419047adea96a4688a58115c8d7046c84cbfa2', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-authored-By: Lance Bragstad <lbagstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 16, 'created': '2018-04-09 19:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/4626620b8686e7ad85dee616e0edcade41985ac2', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-authored-By: Lance Bragstad <lbagstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 17, 'created': '2018-04-10 20:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/b52d69ba63c61366b484357a699afcacd35c3b24', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-authored-By: Lance Bragstad <lbagstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}, {'number': 18, 'created': '2018-04-16 14:51:58.000000000', 'files': ['specs/define-default-roles.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/0d6658ca8752e51b8d54b8464166c149c8588938', 'message': 'Define a set of basic default roles\n\nWith the recent work to keystone and oslo.policy, we should be able to\noffer tooling to project development teams so they can start evolving\ntheir policies. Before we start changing things, we should come to\nconsensus on a set of defaults we should offer out of the box.\n\nMoving towards a set of known defaults will make maintenance for\noperators much easier. It will also build the foundation for a more\nrobust RBAC system that is better at modeling complex\norganization, ultimately being more useful in the real-world.\n\nCo-authored-By: Lance Bragstad <lbagstad@gmail.com>\nCo-Authored-By: Jamie Lennox <jamielennox@gmail.com>\n\nChange-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5\n'}]",173,523973,0d6658ca8752e51b8d54b8464166c149c8588938,98,20,18,5046,,,0,"Define a set of basic default roles

With the recent work to keystone and oslo.policy, we should be able to
offer tooling to project development teams so they can start evolving
their policies. Before we start changing things, we should come to
consensus on a set of defaults we should offer out of the box.

Moving towards a set of known defaults will make maintenance for
operators much easier. It will also build the foundation for a more
robust RBAC system that is better at modeling complex
organization, ultimately being more useful in the real-world.

Co-authored-By: Lance Bragstad <lbagstad@gmail.com>
Co-Authored-By: Jamie Lennox <jamielennox@gmail.com>

Change-Id: I643a2e668599ae77eb615d1b292a59e5066dcbb5
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/73/523973/18 && git format-patch -1 --stdout FETCH_HEAD,['specs/define-default-roles.rst'],1,34033875f4c4a066149b38a4737887f1cb83897f,523973,".. This template should be in ReSTructured text. For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, build the docs using tox, or see: http://rst.ninjs.org The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/openstack/+spec/awesome-thing should be named specs/awesome-thing.rst. Wrap text at 79 columns. Do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None If you would like to provide a diagram with your spec, ascii diagrams are required. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. The reason for this is that the tool used to review specs is based purely on plain text. Plain text will allow review to proceed without having to look at additional files which can not be viewed in gerrit. It will also allow inline feedback on the diagram itself. =================== Basic Default Roles =================== `blueprint basic-default-roles <https://blueprints.launchpad.net/openstack/+spec/basic-default-roles>`_ Introduction paragraph -- why are we doing anything? Managing Role Based Access Control (RBAC) across OpenStack is one of the hardest pain points for operators to deal with. It is not uncommon for operators to have to dig through source code and keep notes about oddities in RBAC implementations across OpenStack just to offer basic RBAC capabilities to their customers. End users are also affected because it is very rare for any two deployments to have similar roles, or ensure those roles are mapped to similar operations. Problem description =================== OpenStack's initial implementation of RBAC was very simple and it worked trivial deployments. As OpenStack APIs evolved and deployment started modeling large, complex organizations, the RBAC implementation failed to evolve with it. As a result, operators are stuck using existing tooling to implement more sophisticated RBAC solutions. This is a confusing and incredibly tough maintenance burden. Proposed change =============== As a platform, OpenStack should offer a very basic and easy to understand RBAC implementation with reasonable default values. The process of implementing this will give operators more flexibility out-of-the-box, meaning they are less likely to introduce inconsistencies across deployment as a result of a lacking RBAC implementation. With some of the work done in the Queens release, and documented in the `Policy Roadmap <https://trello.com/b/bpWycnwa/policy-roadmap>`_, OpenStack project teams have the tools necessary to improve default role definitions. The changing defaults can be consumed by operators in ways that are consistent with changing configuration options. This ensures a graceful transition. Default Roles ------------- **admin**: We need to keep this around for backwards compatibility. Ideally, this role will be considered appropriate for all administrator-like operations depending on the scope. An example project-scoped administrator operation would be resizing a virtual machine (``os_compute_api:servers:resize``). An example system-scoped administrator operation would be creating an endpoint for a service (``identity:create_endpoint``). System-scope is an effort currently being implemented in keystone. More information about system-scope can be found in the `specification <http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html>`_, along with relevant historical context justifying the need for system-scope. **writer**: This role introduces a granularity between the administrator and everyone else. An example project-scoped application of this role would be creating an instance (``os_compute_api:servers:create``). An example system-scope application of this role would be updating a user (``identity:update_user``). **reader**: This role fills an extremely popular request from operators. It should only be used for read-only APIs and operations. An example project-scoped application of this role would be listing servers (``os_compute_api:servers:index``). An example system-scoped application of this role would be listing service endpoints (``identity:list_endpoints``). Example ------- Example snippets of various policy files, or rendered snippets, might look like the following. :: # scope_types = ('project') ""os_compute_api:servers:index"": ""role:reader OR role:writer OR role:admin"" ""os_compute_api:servers:create"": ""role:writer OR role:admin"" ""os_compute_api:servers:delete"": ""role:writer OR role:admin"" ""os_compute_api:servers:update"": ""role:writer OR role:admin"" ""os_compute_api:servers:start"": ""role:writer OR role:admin"" ""os_compute_api:servers:stop"": ""role:writer OR role:admin"" ""os_compute_api:servers:resize"": ""role:admin"" ""os_compute_api:servers:confirm_resize"": ""role:admin"" # scope_types = ('system', 'service') ""os_compute_api:os-hypervisors"": ""role:reader OR role:writer OR role:admin"" ""os_compute_api:os-migrate-server:migrate_live"": ""role:writer OR role:admin"" # scope_types = ('system', 'service') ""identity:list_endpoints"": ""role:reader OR role:writer OR role:admin"" ""identity:get_endpoint"": ""role:reader OR role:writer OR role:admin"" ""identity:create_endpoint"": ""role:admin"" ""identity:update_endpoint"": ""role:writer OR role:admin"" ""identity:delete_endpoint"": ""role:admin"" # scope_types = ('system', 'project') ""identity:list_users"": ""role:reader OR role:writer OR role:admin"" ""identity:get_user"": ""role:reader OR role:writer OR role:admin"" ""identity:create_user"": ""role:admin"" ""identity:update_user"": ""role:writer OR role:admin"" ""identity:delete_user"": ""role:admin"" Let's assume the following role assignment exist: - **Bob** has role **admin** on system - **Alice** has role **admin** on the compute service - **Charlie** has role **writer** on the identity service - **Bill** has role **reader** on system - **Jane** has role **admin** on Project Alpha - **Steve** has role **reader** on Project Beta Given the above assignments and policies, the following would be possible: **Bob** can list compute hypervisors, live migrate instances, in addition to managing users and endpoints. Bob cannot create instances or project-specific users with his system scope. **Alice** can list compute hypervisors and live migrate instances. She cannot manage users, endpoints, or instances. **Charlie** can get, list, and update existing system-wide users and endpoints. She cannot create or delete endpoints or users. She also cannot manage instances or compute hosts of any kind. **Bill** can list hypervisors, endpoints, and system-wide users. He cannot manage users or instances, including live-migration. **Jane** can manage users and instances within her project. She cannot manage endpoints, live migrate instances to other hosts, or create users outside of Project Alpha. **Steve** can list instances and users in Project Beta. He cannot manage users or instances at all and he cannot do any system-level operations. Alternatives ------------ We could keep things as they are an force operators to continue to maintain complicated policies, but that doesn't really seem like a viable alternative at all. Implementation ============== Assignee(s) ----------- I am certainly looking for other folks who are interested in helping with this work. This will likely impact a lot of OpenStack projects, and distributing the work across a team of people who understand the change makes sense. Primary assignee: Lance Bragstad lbragstad lbragstad@gmail.com You? Your friends? Your coworkers? Interns? Work Items ---------- * Reach consensus on a basic set of default roles project developers can move towards * Determine if this is something that needs to be implemented using a `community goal <https://governance.openstack.org/tc/goals/>`_ * Set up a way to track progress (e.g. using launchpad bugs, community goal completion artifacts, burndown charts, etc...) * Coordinate the changes in *each* OpenStack project and assist `patrole <https://github.com/openstack/patrole>`_ with test coverage * Provide How-To documentation for deployments that still need to customize policy Dependencies ============ This work is dependent on the following: * Implementing `system-scope <http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html>`_ in keystone * `Registering and documenting <https://governance.openstack.org/tc/goals/queens/policy-in-code.html>`_ all policies in code * Implementing `scope_types <http://specs.openstack.org/openstack/oslo-specs/specs/queens/include-scope-in-policy.html>`_ Full dependencies can be found in the `Policy Roadmap <https://trello.com/b/bpWycnwa/policy-roadmap>`_. Resources ========= * `Policy Roadmap <https://trello.com/b/bpWycnwa/policy-roadmap>`_ * `System Scope <http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html>`_ * `Deprecation with oslo.policy <http://specs.openstack.org/openstack/oslo-specs/specs/queens/policy-deprecation.html>`_ * `Scope types in oslo.policy <http://specs.openstack.org/openstack/oslo-specs/specs/queens/include-scope-in-policy.html>`_ * Previous `attempts <https://review.openstack.org/#/c/245629>`_ at providing default roles History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Queens - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,237,0
openstack%2Fpatrole~master~I76c4a9b8737bf94f230ab141def652b054120f3b,openstack/patrole,master,I76c4a9b8737bf94f230ab141def652b054120f3b,Make patrole-member job run for queens and pike branches,MERGED,2018-02-25 18:35:40.000000000,2018-05-21 17:10:35.000000000,2018-05-21 17:10:35.000000000,"[{'_account_id': 8556}, {'_account_id': 17896}, {'_account_id': 22348}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-02-25 18:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/de93dc3742a3cc2fdc640c23d7d8cceda2ec87f7', 'message': 'Make patrole-member job run for queens and pike branches\n\nThis makes patrole-member job run for queens and pike branches.\nArguably it is also important to do this for admin role, but\nfor now we will verify stability with Member role before extending\nto admin role.\n\nChange-Id: I76c4a9b8737bf94f230ab141def652b054120f3b\n'}, {'number': 2, 'created': '2018-02-25 19:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/6997e3f8d254a1f8141796adfe29bb05e37ab215', 'message': 'Make patrole-member job run for queens and pike branches\n\nThis makes patrole-member job run for queens and pike branches.\nArguably it is also important to do this for admin role, but\nfor now we will verify stability with Member role before extending\nto admin role.\n\nChange-Id: I76c4a9b8737bf94f230ab141def652b054120f3b\n'}, {'number': 3, 'created': '2018-02-25 19:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/402d77ee0e152659098d0b3f1e1c42b38a17bfeb', 'message': 'Make patrole-member job run for queens and pike branches\n\nThis makes patrole-member job run for queens and pike branches.\nArguably it is also important to do this for admin role, but\nfor now we will verify stability with Member role before extending\nto admin role.\n\nChange-Id: I76c4a9b8737bf94f230ab141def652b054120f3b\n'}, {'number': 4, 'created': '2018-03-22 20:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/8a82fc46024a2a17db1e02f38ca3b836e3eb3fb0', 'message': 'Make patrole-member job run for queens and pike branches\n\nThis makes patrole-member job run for queens and pike branches.\nArguably it is also important to do this for admin role, but\nfor now we will verify stability with Member role before extending\nto admin role.\n\nChange-Id: I76c4a9b8737bf94f230ab141def652b054120f3b\n'}, {'number': 5, 'created': '2018-04-19 23:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/231b7d773da58f3eae00e3caffa5cb249076c243', 'message': 'Make patrole-member job run for queens and pike branches\n\nThis makes patrole-member job run for queens and pike branches.\nArguably it is also important to do this for admin role, but\nfor now we will verify stability with Member role before extending\nto admin role.\n\nChange-Id: I76c4a9b8737bf94f230ab141def652b054120f3b\n'}, {'number': 6, 'created': '2018-04-20 01:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/de7dfef8a9549af75331ef57afb090bdafc360f5', 'message': 'Make patrole-member job run for queens and pike branches\n\nThis makes patrole-member job run for queens and pike branches.\nArguably it is also important to do this for admin role, but\nfor now we will verify stability with Member role before extending\nto admin role.\n\nChange-Id: I76c4a9b8737bf94f230ab141def652b054120f3b\n'}, {'number': 7, 'created': '2018-04-20 02:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/65df900743e7c9fbcb63880465e109b5315fc420', 'message': 'Make patrole-member job run for queens and pike branches\n\nThis makes patrole-member job run for queens and pike branches.\nArguably it is also important to do this for admin role, but\nfor now we will verify stability with Member role before extending\nto admin role.\n\nChange-Id: I76c4a9b8737bf94f230ab141def652b054120f3b\n'}, {'number': 8, 'created': '2018-04-20 04:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5051cddc90c08d892c499e89343a3797939dfd95', 'message': 'Make patrole-member job run for queens and pike branches\n\nThis makes patrole-member job run for queens and pike branches.\nArguably it is also important to do this for admin role, but\nfor now we will verify stability with Member role before extending\nto admin role.\n\nChange-Id: I76c4a9b8737bf94f230ab141def652b054120f3b\n'}, {'number': 9, 'created': '2018-05-19 15:25:17.000000000', 'files': ['.zuul.yaml', 'patrole_tempest_plugin/tests/api/identity/v3/test_project_tags_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/4c3ae9bd25022a423320b4df25fbf54ce8173459', 'message': 'Make patrole-member job run for queens and pike branches\n\nThis makes patrole-member job run for queens and pike branches.\nArguably it is also important to do this for admin role, but\nfor now we will verify stability with Member role before extending\nto admin role.\n\nChange-Id: I76c4a9b8737bf94f230ab141def652b054120f3b\n'}]",2,547851,4c3ae9bd25022a423320b4df25fbf54ce8173459,35,5,9,23186,,,0,"Make patrole-member job run for queens and pike branches

This makes patrole-member job run for queens and pike branches.
Arguably it is also important to do this for admin role, but
for now we will verify stability with Member role before extending
to admin role.

Change-Id: I76c4a9b8737bf94f230ab141def652b054120f3b
",git fetch https://review.opendev.org/openstack/patrole refs/changes/51/547851/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,de93dc3742a3cc2fdc640c23d7d8cceda2ec87f7,policy-feature-flags, # This currently works from stable/pike onward. branches: - master - stable/queens - stable/pike,,5,0
openstack%2Fpatrole~master~Ia0d9847908a8e723446c16465d68cd7f622c04cc,openstack/patrole,master,Ia0d9847908a8e723446c16465d68cd7f622c04cc,feature flag: Policy feature enabled config group,MERGED,2018-03-25 04:34:35.000000000,2018-05-21 17:10:34.000000000,2018-05-21 17:10:34.000000000,"[{'_account_id': 8556}, {'_account_id': 17896}, {'_account_id': 22348}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-03-25 04:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/e187a1532184977fe7d3ba72ad802d15f1fe569d', 'message': ""feature flag: Backwards incompatible policies\n\nA new configuration option,\n``[patrole].backwards_incompatible_rules``, has been added which\nallows for the possibility of enumerating policy names that are\nnot supported in N-1 and earlier OpenStack releases because they\nwere renamed or removed in a backwards-incompatible way by a\nservice in a later release.\n\nThis option is a ListOpt which shall contain the backwards-\nincompatible policy names not supported in N-1, N-2 or\nearlier.\n\nThe option is checked in rbac_rule_validation where it can\ndetect the rule passed in to the rbac_rule_validation.action\ndecorator and compare it against the list of backwards-\nincompatible policies, the tests for which should be skipped.\n\nThe motivation behind this feature flag is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires a follow up in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike. This will include (for now) 5-7 policy\nnames.\n\nA documentation update will also come in a follow up with\ninformation on this feature flag, its motivation, and\nhow to use it.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n""}, {'number': 2, 'created': '2018-03-25 04:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/bec34ad7687ac634dc1d4f32fd60327693de947f', 'message': ""feature flag: Backwards incompatible policies\n\nA new configuration option,\n``[patrole].backwards_incompatible_rules``, has been added which\nallows for the possibility of enumerating policy names that are\nnot supported in N-1 and earlier OpenStack releases because they\nwere renamed or removed in a backwards-incompatible way by a\nservice in a later release.\n\nThis option is a ListOpt which shall contain the backwards-\nincompatible policy names not supported in N-1, N-2 or\nearlier.\n\nThe option is checked in rbac_rule_validation where it can\ndetect the rule passed in to the rbac_rule_validation.action\ndecorator and compare it against the list of backwards-\nincompatible policies, the tests for which should be skipped.\n\nThe motivation behind this feature flag is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires a follow up in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike. This will include (for now) 5-7 policy\nnames.\n\nA documentation update will also come in a follow up with\ninformation on this feature flag, its motivation, and\nhow to use it.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n""}, {'number': 3, 'created': '2018-03-25 04:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/71bece5c58153c208f9c2beab1dd518bc4b71454', 'message': ""feature flag: Backwards incompatible policies\n\nA new configuration option,\n``[patrole].backwards_incompatible_rules``, has been added which\nallows for the possibility of enumerating policy names that are\nnot supported in N-1 and earlier OpenStack releases because they\nwere renamed or removed in a backwards-incompatible way by a\nservice in a later release.\n\nThis option is a ListOpt which shall contain the backwards-\nincompatible policy names not supported in N-1, N-2 or\nearlier.\n\nThe option is checked in rbac_rule_validation where it can\ndetect the rule passed in to the rbac_rule_validation.action\ndecorator and compare it against the list of backwards-\nincompatible policies, the tests for which should be skipped.\n\nThe motivation behind this feature flag is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires a follow up in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike. This will include (for now) 5-7 policy\nnames.\n\nA documentation update will also come in a follow up with\ninformation on this feature flag, its motivation, and\nhow to use it.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n""}, {'number': 4, 'created': '2018-03-26 19:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b846180abe7cac348ede59e5dddddde32b6c1d63', 'message': ""feature flag: Backwards incompatible policies\n\nA new configuration group ``[policy_feature_enabled]`` has\nbeen added to Patrole which will be responsible for collecting\nthe feature flags to be used for policies that were renamed\nor removed in a backwards-incompatible\nway. These feature flags are:\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires a follow up in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike.\n\nA documentation update will also come in a follow up with\ninformation on these feature flags.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n""}, {'number': 5, 'created': '2018-03-26 21:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/79281ee35a89a0027f6363b1926d149828d97aa3', 'message': ""feature flag: Backwards incompatible policies\n\nA new configuration group ``[policy_feature_enabled]`` has\nbeen added to Patrole which will be responsible for collecting\nthe feature flags to be used for policies that were renamed\nor removed in a backwards-incompatible\nway. These feature flags are:\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires a follow up in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike.\n\nA documentation update will also come in a follow up with\ninformation on these feature flags.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n""}, {'number': 6, 'created': '2018-03-26 21:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/1fc8ade4e69d3e51e6591aa42210df3c9d3a1aa4', 'message': ""feature flag: Backwards incompatible policies\n\nA new configuration group ``[policy_feature_enabled]`` has\nbeen added to Patrole which will be responsible for collecting\nthe feature flags to be used for policies that were renamed\nor removed in a backwards-incompatible\nway. These feature flags are:\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires a follow up in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike.\n\nA documentation update will also come in a follow up with\ninformation on these feature flags.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n""}, {'number': 7, 'created': '2018-03-30 20:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/02d52bf7d1fe13de16b24891d4b166af147fb47b', 'message': ""feature flag: Backwards incompatible policies\n\nA new configuration group ``[policy_feature_enabled]`` has\nbeen added to Patrole which will be responsible for collecting\nthe feature flags to be used for policies that were renamed\nor removed in a backwards-incompatible\nway. These feature flags are:\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires a follow up in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike.\n\nA documentation update will also come in a follow up with\ninformation on these feature flags.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n""}, {'number': 8, 'created': '2018-03-30 20:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b688a6e628fe5ce5f1add9b25009b41add968e33', 'message': ""feature flag: Backwards incompatible policies\n\nA new configuration group ``[policy_feature_enabled]`` has\nbeen added to Patrole which will be responsible for collecting\nthe feature flags to be used for policies that were renamed\nor removed in a backwards-incompatible\nway. These feature flags are:\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires a follow up in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike.\n\nA documentation update will also come in a follow up with\ninformation on these feature flags.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n""}, {'number': 9, 'created': '2018-04-15 02:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/18c226221b23b10ace17b6b6b5bf27939338ad95', 'message': ""feature flag: Backwards incompatible policies\n\nA new configuration group ``[policy_feature_enabled]`` has\nbeen added to Patrole which will be responsible for collecting\nthe feature flags to be used for policies that were renamed\nor removed in a backwards-incompatible\nway. These feature flags are:\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires a follow up in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike.\n\nA documentation update will also come in a follow up with\ninformation on these feature flags.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n""}, {'number': 10, 'created': '2018-04-19 23:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/0270fd27533078005f454be2a82aeb690d1e67e6', 'message': ""feature flag: Policy feature enabled config group\n\nA new configuration group ``[policy_feature_enabled]`` has been added to\nPatrole which will be responsible for collecting the feature flags to be\nused for newly introduced policies or policies that were changed in a\nbackwards-incompatible way.\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires a follow up in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike.\n\nA documentation update will also come in a follow up with\ninformation on these feature flags.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n""}, {'number': 11, 'created': '2018-04-19 23:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/c36e1b50f744cc3f7d69f75a935f8bab4f2d3f9b', 'message': ""feature flag: Policy feature enabled config group\n\nA new configuration group ``[policy_feature_enabled]`` has been added to\nPatrole which will be responsible for collecting the feature flags to be\nused for newly introduced policies or policies that were changed in a\nbackwards-incompatible way.\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires another PS [2] in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike.\n\nA documentation update will also come in a follow up with\ninformation on these feature flags.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n[2] I00bdeff9474c54d38b6d6844a041b305bec01ad8\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\nDepends-On: I00bdeff9474c54d38b6d6844a041b305bec01ad8\n""}, {'number': 12, 'created': '2018-05-07 15:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a5fdb6f1ae86978d2c20940c547ed5b621b8b9d5', 'message': ""feature flag: Policy feature enabled config group\n\nA new configuration group ``[policy_feature_enabled]`` has been added to\nPatrole which will be responsible for collecting the feature flags to be\nused for newly introduced policies or policies that were changed in a\nbackwards-incompatible way.\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires another PS [2] in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike.\n\nA documentation update will also come in a follow up with\ninformation on these feature flags.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n[2] I00bdeff9474c54d38b6d6844a041b305bec01ad8\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\nDepends-On: I00bdeff9474c54d38b6d6844a041b305bec01ad8\n""}, {'number': 13, 'created': '2018-05-14 21:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/39a13dd2843d37516846ed7f71e436c6a82a3eb6', 'message': ""feature flag: Policy feature enabled config group\n\nA new configuration group ``[policy_feature_enabled]`` has been added to\nPatrole which will be responsible for collecting the feature flags to be\nused for newly introduced policies or policies that were changed in a\nbackwards-incompatible way.\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires another PS [2] in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike.\n\nA documentation update will also come in a follow up with\ninformation on these feature flags.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n[2] I00bdeff9474c54d38b6d6844a041b305bec01ad8\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\nDepends-On: I00bdeff9474c54d38b6d6844a041b305bec01ad8\n""}, {'number': 14, 'created': '2018-05-19 15:24:42.000000000', 'files': ['patrole_tempest_plugin/tests/api/network/test_ports_rbac.py', 'etc/patrole.conf.sample', 'patrole_tempest_plugin/tests/api/volume/test_limits_rbac.py', 'patrole_tempest_plugin/config.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_actions_rbac.py', 'releasenotes/notes/backwards-incompatible-rule-feature-flag-ebe8b44c0aa663a8.yaml', 'devstack/plugin.sh', 'patrole_tempest_plugin/plugin.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/739041fb9c0018326baa55098e6d1a381e08c87c', 'message': ""feature flag: Policy feature enabled config group\n\nA new configuration group ``[policy_feature_enabled]`` has been added to\nPatrole which will be responsible for collecting the feature flags to be\nused for newly introduced policies or policies that were changed in a\nbackwards-incompatible way.\n\n    * create_port_fixed_ips_ip_address_policy (Neutron)\n    * update_port_fixed_ips_ip_address_policy (Neutron)\n    * limits_extension_used_limits_policy (Cinder)\n    * volume_extension_volume_actions_attach_policy (Cinder)\n    * volume_extension_volume_actions_reserve_policy (Cinder)\n    * volume_extension_volume_actions_unreserve_policy (Cinder)\n\nThese feature flags will be supported until Pike release cycle\nis EOL.\n\nThe motivation behind these feature flags is [0] which adds\nPike/Queens gating to Patrole. However, in Queens, Neutron\nand Cinder renamed or removed a few policies in a backwards-\nincompatible way. These policies can be reviewed here: [1].\n\nThis PS requires another PS [2] in devstack's lib/tempest\nbecause Patrole, being a branchless project and hosting the\nPatrole devstack plugin itself, must fall back to Tempest's\ndevstack script to list out the backwards-incompatible\npolicies in Pike.\n\nA documentation update will also come in a follow up with\ninformation on these feature flags.\n\n[0] I76c4a9b8737bf94f230ab141def652b054120f3b\n[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229\n[2] I00bdeff9474c54d38b6d6844a041b305bec01ad8\n\nChange-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc\n""}]",13,556136,739041fb9c0018326baa55098e6d1a381e08c87c,47,5,14,23186,,,0,"feature flag: Policy feature enabled config group

A new configuration group ``[policy_feature_enabled]`` has been added to
Patrole which will be responsible for collecting the feature flags to be
used for newly introduced policies or policies that were changed in a
backwards-incompatible way.

    * create_port_fixed_ips_ip_address_policy (Neutron)
    * update_port_fixed_ips_ip_address_policy (Neutron)
    * limits_extension_used_limits_policy (Cinder)
    * volume_extension_volume_actions_attach_policy (Cinder)
    * volume_extension_volume_actions_reserve_policy (Cinder)
    * volume_extension_volume_actions_unreserve_policy (Cinder)

These feature flags will be supported until Pike release cycle
is EOL.

The motivation behind these feature flags is [0] which adds
Pike/Queens gating to Patrole. However, in Queens, Neutron
and Cinder renamed or removed a few policies in a backwards-
incompatible way. These policies can be reviewed here: [1].

This PS requires another PS [2] in devstack's lib/tempest
because Patrole, being a branchless project and hosting the
Patrole devstack plugin itself, must fall back to Tempest's
devstack script to list out the backwards-incompatible
policies in Pike.

A documentation update will also come in a follow up with
information on these feature flags.

[0] I76c4a9b8737bf94f230ab141def652b054120f3b
[1] e.g. http://logs.openstack.org/51/547851/4/check/patrole-member-pike/139c534/job-output.txt.gz#_2018-03-22_21_46_08_392229
[2] I00bdeff9474c54d38b6d6844a041b305bec01ad8

Change-Id: Ia0d9847908a8e723446c16465d68cd7f622c04cc
",git fetch https://review.opendev.org/openstack/patrole refs/changes/36/556136/11 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/rbac_rule_validation.py', 'patrole_tempest_plugin/config.py', 'patrole_tempest_plugin/tests/unit/test_rbac_rule_validation.py', 'releasenotes/notes/backwards-incompatible-rule-feature-flag-ebe8b44c0aa663a8.yaml']",4,e187a1532184977fe7d3ba72ad802d15f1fe569d,policy-feature-flags,"--- features: - | A new configuration option, ``[patrole].backwards_incompatible_rules``, has been added which allows for the possibility of enumerating policy names that are not supported in N-1 and earlier OpenStack releases because they were renamed or removed in a backwards-incompatible way by a service in a later release. ",,41,3
openstack%2Fpuppet-tripleo~master~Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e,openstack/puppet-tripleo,master,Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e,Force GDPR compliance of containers logs,MERGED,2018-05-17 14:59:18.000000000,2018-05-21 15:39:55.000000000,2018-05-21 15:39:55.000000000,"[{'_account_id': 6926}, {'_account_id': 9098}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-05-17 14:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2248ee479d5035b32603f0635cb255152072e5f3', 'message': ""Force GDPR compliance of containers logs\n\nAfter purge_after_days, defaults to a 14, forcibly remove\nany rotated and compressed logs of containerized services\nin /var/log/containers. This overrides any related\ncontainerized logrotate configuration used for\ncontainerized services.\n\nAllow to alter rotation interval for log files managed\nvia containerized logrotate. Defaults to 'daily'\nand rotate 14 (days).\n\nAdditionally, to enforce GDPR compliance of log files\nin /var/log/containers, put them under logrotate management\n(minsize 1) and always compress. Prohibit the size option\nas it does not honor time-based contstraints required by\nGDPR. Forcibly remove all files but those rotated and\ncompressed logs, via the postscript section.\n\nPartial-bug: #1771543\n\nChange-Id: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2018-05-17 20:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/61f6d144812bc36787c70732f55ab9a92897c30f', 'message': ""Force GDPR compliance of containers logs\n\nAfter purge_after_days, defaults to a 14, forcibly remove\nany rotated and compressed logs of containerized services\nin /var/log/containers. This overrides any related\ncontainerized logrotate configuration used for\ncontainerized services.\n\nAllow to alter rotation interval for log files managed\nvia containerized logrotate. Defaults to 'daily'\nand rotate 14 (days).\n\nAdditionally, to enforce GDPR compliance of log files\nin /var/log/containers, put them under logrotate management\n(minsize 1) and always compress. Prohibit the size option\nas it does not honor time-based contstraints required by\nGDPR. Forcibly remove all files but those rotated and\ncompressed logs, via the postscript section.\n\nPartial-bug: #1771543\n\nChange-Id: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2018-05-18 08:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f148f8a10e1d70fdd19dd8f00cb8951577e75a44', 'message': ""Force GDPR compliance of containers logs\n\nAfter purge_after_days, defaults to a 14, forcibly remove\nany rotated and compressed logs of containerized services\nin /var/log/containers. This overrides any related\ncontainerized logrotate configuration used for\ncontainerized services.\n\nAllow to alter rotation interval for log files managed\nvia containerized logrotate. Defaults to 'daily'\nand rotate 14 (days).\n\nUse sharedscripts to clean up files in the postrotate\nscript only once.\n\nAdditionally, to enforce GDPR compliance of log files\nin /var/log/containers, put them under logrotate management\n(minsize 1) and always compress. Prohibit the size option\nas it does not honor time-based contstraints required by\nGDPR. Forcibly remove all files but those rotated and\ncompressed logs, via the postscript section.\n\nPartial-bug: #1771543\n\nChange-Id: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2018-05-18 13:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dbfd92ebef59d8a92fd030ac12f23c11b8d00079', 'message': ""Force GDPR compliance of containers logs\n\nAfter purge_after_days, defaults to a 14, forcibly remove\nany rotated and compressed logs of containerized services\nin /var/log/containers. This overrides any related\ncontainerized logrotate configuration used for\ncontainerized services.\n\nAllow to alter rotation interval for log files managed\nvia containerized logrotate. Defaults to 'daily'\nand rotate 14 (days).\n\nUse sharedscripts to clean up files in the postrotate\nscript only once.\n\nAdditionally, to enforce GDPR compliance of log files\nin /var/log/containers, put them under logrotate management\n(minsize 1) and always compress. Prohibit the size option\nas it does not honor time-based contstraints required by\nGDPR. Forcibly remove all files but those rotated and\ncompressed logs, via the postscript section.\n\nPartial-bug: #1771543\n\nChange-Id: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2018-05-21 09:18:20.000000000', 'files': ['releasenotes/notes/logrotate-containers-purge-56143a979ba80b51.yaml', 'templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e13654504adb93f7313942b4d839577d3ccd072d', 'message': ""Force GDPR compliance of containers logs\n\nAfter purge_after_days, defaults to a 14, forcibly remove\nany rotated and compressed logs of containerized services\nin /var/log/containers. This overrides any related\ncontainerized logrotate configuration used for\ncontainerized services.\n\nAllow to alter rotation interval for log files managed\nvia containerized logrotate. Defaults to 'daily'\nand rotate 14 (days).\n\nUse sharedscripts to clean up files in the postrotate\nscript only once.\n\nAdditionally, to enforce GDPR compliance of log files\nin /var/log/containers, put them under logrotate management\n(minsize 1) and always compress. Prohibit the size option\nas it does not honor time-based contstraints required by\nGDPR. Forcibly remove all files but those rotated and\ncompressed logs, via the postscript section.\n\nPartial-bug: #1771543\n\nChange-Id: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",2,569139,e13654504adb93f7313942b4d839577d3ccd072d,27,7,5,6926,,,0,"Force GDPR compliance of containers logs

After purge_after_days, defaults to a 14, forcibly remove
any rotated and compressed logs of containerized services
in /var/log/containers. This overrides any related
containerized logrotate configuration used for
containerized services.

Allow to alter rotation interval for log files managed
via containerized logrotate. Defaults to 'daily'
and rotate 14 (days).

Use sharedscripts to clean up files in the postrotate
script only once.

Additionally, to enforce GDPR compliance of log files
in /var/log/containers, put them under logrotate management
(minsize 1) and always compress. Prohibit the size option
as it does not honor time-based contstraints required by
GDPR. Forcibly remove all files but those rotated and
compressed logs, via the postscript section.

Partial-bug: #1771543

Change-Id: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/39/569139/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/logrotate-containers-purge-56143a979ba80b51.yaml', 'templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp']",3,2248ee479d5035b32603f0635cb255152072e5f3,bug/1771543,"# [*maxsize*] # (optional) Defaults to '10M'. # Configures the logrotate maxsize parameter. # # [*rotation*] # (optional) Defaults to 'daily'. # Configures the logrotate rotation interval. # # [*rotate*] # (optional) Defaults to 14. # Configures the logrotate rotate parameter. # # [*purge_after_days*] # (optional) Defaults to 14. # Configures forced purge period for rotated logs. # Overrides the rotation and rotate settings. # # DEPRECATED PARAMETERS # # [*size*] # DEPRECATED: (optional) Defaults to '10M'. # Configures the logrotate size parameter. # $rotation = 'daily', $maxsize = '10M', $purge_after_days = 14, # DEPRECATED PARAMETERS $size = undef, $delaycompress = false, $compress = true, if (! $compress or $delaycompress or $size != undef) { warning(""Size and delaycompress are DISABLED to enforce GDPR."") warning(""Size configures maxsize instead of size."") warning(""Compress can't be delayed or turned off."") $maxsize = pick($size, $maxsize) $compress = true $delaycompress = false }","# [*size*] # (optional) Defaults to '10M'. # Configures the logrotate size parameter. # # [*rotate*] # (optional) Defaults to 14. # Configures the logrotate rotate parameter. # $delaycompress = true, $compress = true, $size = '10M',",78,18
openstack%2Fkolla-ansible~master~If4be4e787b7e899bd0d265cf22f3df3dd3f18f43,openstack/kolla-ansible,master,If4be4e787b7e899bd0d265cf22f3df3dd3f18f43,Update the deprecated vnc options,MERGED,2018-05-16 02:31:01.000000000,2018-05-21 15:32:53.000000000,2018-05-21 15:32:53.000000000,"[{'_account_id': 14151}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-05-16 02:31:01.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1da05bd5bee0f42cb047079e189381c9859e0c47', 'message': 'Update the deprecated vnc options\n\n- Option ""vncserver_listen"" from group ""vnc"" is deprecated.\n  Use option ""server_listen"" from group ""vnc"".\n- Option ""vncserver_proxyclient_address"" from group ""vnc"" is deprecated.\n  Use option ""server_proxyclient_address"" from group ""vnc"".\n\nChange-Id: If4be4e787b7e899bd0d265cf22f3df3dd3f18f43\n'}]",0,568724,1da05bd5bee0f42cb047079e189381c9859e0c47,10,6,1,19779,,,0,"Update the deprecated vnc options

- Option ""vncserver_listen"" from group ""vnc"" is deprecated.
  Use option ""server_listen"" from group ""vnc"".
- Option ""vncserver_proxyclient_address"" from group ""vnc"" is deprecated.
  Use option ""server_proxyclient_address"" from group ""vnc"".

Change-Id: If4be4e787b7e899bd0d265cf22f3df3dd3f18f43
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/568724/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/templates/nova.conf.j2'],1,1da05bd5bee0f42cb047079e189381c9859e0c47,deprecated_options,server_listen = {{ api_interface_address }} server_proxyclient_address = {{ api_interface_address }},vncserver_listen = {{ api_interface_address }} vncserver_proxyclient_address = {{ api_interface_address }},2,2
openstack%2Fkolla-ansible~master~I6d1e6d7dc21eaf6051c89b467cd6d886d8e3c469,openstack/kolla-ansible,master,I6d1e6d7dc21eaf6051c89b467cd6d886d8e3c469,Fix the permissions of mgr and mds keyring,MERGED,2018-05-15 01:14:16.000000000,2018-05-21 15:32:29.000000000,2018-05-21 15:32:29.000000000,"[{'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-15 01:14:16.000000000', 'files': ['ansible/roles/ceph/tasks/start_mdss.yml', 'ansible/roles/ceph/tasks/start_mgrs.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5da1cb0b5ef2dff696899878877c62663f67137d', 'message': 'Fix the permissions of mgr and mds keyring\n\nChange-Id: I6d1e6d7dc21eaf6051c89b467cd6d886d8e3c469\n'}]",0,568401,5da1cb0b5ef2dff696899878877c62663f67137d,10,6,1,24250,,,0,"Fix the permissions of mgr and mds keyring

Change-Id: I6d1e6d7dc21eaf6051c89b467cd6d886d8e3c469
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/568401/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceph/tasks/start_mdss.yml', 'ansible/roles/ceph/tasks/start_mgrs.yml']",2,5da1cb0b5ef2dff696899878877c62663f67137d,bugfix/fix-keyring-permission, become: true mode: 0600,,4,0
openstack%2Fzun~master~Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61,openstack/zun,master,Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61,Remove APIs for managing security groups,MERGED,2018-05-06 19:04:34.000000000,2018-05-21 15:21:52.000000000,2018-05-21 15:21:52.000000000,"[{'_account_id': 11536}, {'_account_id': 21428}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23517}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-05-06 19:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1b360e180bc576c8b63efc4f634349674250b769', 'message': '[WIP] Remove APIs for managing security groups\n\nThese APIs are proxy to Neutron API calls. Users can achieve the\nequivalent functionality by directly calling the Neutron APIs.\nIn particular, these APIs are removed after microversion 1.15\n* POST /containers/<ident>/add_security_group\n* POST /containers/<ident>/remove_security_group\n\nChange-Id: Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61\nImplements: blueprint rework-security-group-api\n'}, {'number': 2, 'created': '2018-05-06 22:42:48.000000000', 'files': ['zun/tests/unit/api/controllers/test_root.py', 'zun/api/rest_api_version_history.rst', 'zun/api/controllers/v1/containers.py', 'zun/api/controllers/versions.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/b4c866bab18c1b8bd050a98e1626266c0ed48836', 'message': 'Remove APIs for managing security groups\n\nThese APIs are proxy to Neutron API calls. Users can achieve the\nequivalent functionality by directly calling the Neutron APIs.\nIn particular, these APIs are removed after microversion 1.15\n* POST /containers/<ident>/add_security_group\n* POST /containers/<ident>/remove_security_group\n\nChange-Id: Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61\nImplements: blueprint rework-security-group-api\n'}]",3,566472,b4c866bab18c1b8bd050a98e1626266c0ed48836,13,6,2,11536,,,0,"Remove APIs for managing security groups

These APIs are proxy to Neutron API calls. Users can achieve the
equivalent functionality by directly calling the Neutron APIs.
In particular, these APIs are removed after microversion 1.15
* POST /containers/<ident>/add_security_group
* POST /containers/<ident>/remove_security_group

Change-Id: Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61
Implements: blueprint rework-security-group-api
",git fetch https://review.opendev.org/openstack/zun refs/changes/72/566472/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/unit/api/controllers/test_root.py', 'zun/api/rest_api_version_history.rst', 'zun/api/controllers/v1/containers.py', 'zun/api/controllers/versions.py']",4,1b360e180bc576c8b63efc4f634349674250b769,bp/rework-security-group-api, * 1.15 - Remove add_security_group and remove_security_groupCURRENT_MAX_VER = '1.15',CURRENT_MAX_VER = '1.14',12,3
openstack%2Fkolla-ansible~master~I47b329bb3e16aa33a5e0a156aca515a666cd98e4,openstack/kolla-ansible,master,I47b329bb3e16aa33a5e0a156aca515a666cd98e4,Optimise the tag for common role,MERGED,2018-05-18 10:04:52.000000000,2018-05-21 15:20:51.000000000,2018-05-21 15:20:51.000000000,"[{'_account_id': 14151}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-05-18 10:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1a5a8893ae694d3f3faaf80268afb68e7bb2491', 'message': 'Optimise the tag for common role\n\nChange-Id: I47b329bb3e16aa33a5e0a156aca515a666cd98e4\n'}, {'number': 2, 'created': '2018-05-18 12:29:54.000000000', 'files': ['ansible/roles/common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3d63ae6bda48e112738e0eebeac0ef4e5455a170', 'message': 'Optimise the tag for common role\n\nChange-Id: I47b329bb3e16aa33a5e0a156aca515a666cd98e4\n'}]",1,569372,3d63ae6bda48e112738e0eebeac0ef4e5455a170,13,5,2,21691,,,0,"Optimise the tag for common role

Change-Id: I47b329bb3e16aa33a5e0a156aca515a666cd98e4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/569372/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/defaults/main.yml'],1,e1a5a8893ae694d3f3faaf80268afb68e7bb2491,,"## Docker ##################### common_install_type: ""{{ kolla_install_type }}"" common_tag: ""{{ openstack_release }}"" kolla_toolbox_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ common_install_type }}-kolla-toolbox"" kolla_toolbox_tag: ""{{ common_tag }}""cron_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ common_install_type }}-cron"" cron_tag: ""{{ common_tag }}""fluentd_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ common_install_type }}-fluentd"" fluentd_tag: ""{{ common_tag }}""","# Docker #################### kolla_toolbox_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ kolla_install_type }}-kolla-toolbox"" kolla_toolbox_tag: ""{{ openstack_release }}""cron_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ kolla_install_type }}-cron"" cron_tag: ""{{ openstack_release }}""fluentd_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ kolla_install_type }}-fluentd"" fluentd_tag: ""{{ openstack_release }}""",11,8
openstack%2Fneutron-fwaas-dashboard~master~Iba8be7cbee1315ff8fe979eaccf2cbbfb46d7960,openstack/neutron-fwaas-dashboard,master,Iba8be7cbee1315ff8fe979eaccf2cbbfb46d7960,Imported Translations from Zanata,MERGED,2018-05-11 07:05:48.000000000,2018-05-21 15:05:14.000000000,2018-05-21 15:05:13.000000000,"[{'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 07:05:48.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/locale/id/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/3a6a7bdee8a235444e2b1a685d25d3acad90bafc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iba8be7cbee1315ff8fe979eaccf2cbbfb46d7960\n'}]",0,567784,3a6a7bdee8a235444e2b1a685d25d3acad90bafc,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iba8be7cbee1315ff8fe979eaccf2cbbfb46d7960
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/84/567784/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/locale/id/LC_MESSAGES/django.po']",2,3a6a7bdee8a235444e2b1a685d25d3acad90bafc,zanata/translations,"""POT-Creation-Date: 2018-05-10 14:05+0000\n""""PO-Revision-Date: 2018-05-10 01:48+0000\n""msgid ""Add Port to Firewall Group"" msgstr ""Tambahkan Port ke Firewall Group"" msgid ""Admin State Up"" msgstr ""Admin State Up"" msgid ""Available Ports"" msgstr ""Available Ports"" msgid ""Available Routers"" msgstr ""Available Routers"" msgid ""Available Rules"" msgstr ""Available Rules"" msgid ""Choose port(s) from Available Ports. "" msgstr ""Pilih port dari Available Ports. "" msgid """" ""Choose router(s) from Available Routers to Selected Routers by push button "" ""or drag and drop. "" msgstr """" ""Pilih router dari Available Routers ke Selected Routers dengan menekan "" ""tombol atau seret dan lepas (drag and drop)."" msgid """" ""Choose rule(s) from Available Rules to Selected Rule by push button or drag "" ""and drop, you may change their order by drag and drop as well."" msgstr """" ""Pilih aturan dari Available Rules ke Selected Rule dengan menekan tombol "" ""atau seret dan lepaskan, Anda dapat mengubah pesanan mereka dengan drag dan "" ""drop juga."" msgid ""Choose the router(s) you want to add."" msgstr ""Pilih router yang ingin Anda tambahkan."" msgid """" ""Choose the rule you want to insert. Specify either the rule you want to "" ""insert immediately before, or the rule to insert immediately after. If both "" ""are specified, the prior takes precedence."" msgstr """" ""Pilih aturan yang ingin Anda sisipkan. Tentukan baik aturan yang ingin Anda "" ""masukkan segera sebelumnya, atau aturan untuk memasukkan segera setelahnya. "" ""Jika keduanya ditentukan, sebelumnya diutamakan."" msgid ""Choose the rule you want to remove."" msgstr ""Pilih aturan yang ingin Anda hapus."" msgid ""Description:"" msgstr ""Deskripsi:"" msgid ""Destination IP Address"" msgstr ""Destination IP Address"" msgid ""Egress Policy ID"" msgstr ""Egress Policy ID"" msgid ""ID"" msgstr ""ID"" msgid ""Ingress Policy ID"" msgstr ""Ingress Policy ID"" msgid ""Position in Policy"" msgstr ""Position in Policy"" msgid ""Project ID"" msgstr ""Project ID"" msgid ""Remove Port from Firewall Group"" msgstr ""Hapus Port dari Firewall Group"" msgid ""Selected Ports"" msgstr ""Selected Ports"" msgid ""Selected Routers"" msgstr ""Selected Routers"" msgid ""Selected Rules"" msgstr ""Selected Rules"" msgid ""Source IP Address"" msgstr ""Source IP Address"" msgid ""Unselect the routers you want to disassociate from the firewall."" msgstr ""Batalkan pilihan router yang ingin Anda pisahkan dari firewall."" msgid ""Used in Policy"" msgstr ""Used in Policy"" msgid ""You may add ports to firewall group here."" msgstr ""Anda dapat menambahkan port ke grup firewall di sini."" msgid ""You may remove ports from firewall group here."" msgstr ""Anda dapat menghapus port dari grup firewall di sini."" msgid ""You may update firewall details here."" msgstr ""Anda dapat memperbarui detail firewall di sini."" msgid ""You may update firewall group details here."" msgstr ""Anda dapat memperbarui rincian grup firewall di sini."" msgid """" ""You may update policy details here. Use 'Insert Rule' or 'Remove Rule' links "" ""instead to insert or remove a rule"" msgstr """" ""Anda dapat memperbarui rincian kebijakan di sini. Gunakan tautan 'Insert "" ""Rule' atau 'Remove Rule' sebagai gantinya untuk memasukkan atau menghapus "" ""aturan."" msgid """" ""You may update policy details here. Use 'Insert Rule' or 'Remove Rule' links "" ""instead to insert or remove a rule."" msgstr """" ""Anda dapat memperbarui rincian kebijakan di sini. Gunakan tautan 'Insert "" ""Rule' atau 'Remove Rule' sebagai gantinya untuk memasukkan atau menghapus "" ""aturan."" msgid ""You may update rule details here."" msgstr ""Anda dapat memperbarui detail aturan di sini.""","""POT-Creation-Date: 2018-03-01 11:01+0000\n""""PO-Revision-Date: 2018-02-21 03:59+0000\n""",198,6
openstack%2Fkayobe~master~Id61527ff5e76cac3a485746a1c2898f03ed1bce6,openstack/kayobe,master,Id61527ff5e76cac3a485746a1c2898f03ed1bce6,Add vault password and config path to env vars,MERGED,2018-05-11 18:03:38.000000000,2018-05-21 14:45:34.000000000,2018-05-21 14:45:34.000000000,"[{'_account_id': 16984}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 18:03:38.000000000', 'files': ['kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6ab645234511678dc1ad60b547c14a72e1ff5e17', 'message': 'Add vault password and config path to env vars\n\nThis change sets the KAYOBE_VAULT_PASSWORD environment variable when a\nvault password file is specified via --vault-password-file. This allows\nthe kayobe playbooks to use the password to encrypt and decrypt the\nkolla ansible passwords.yml file.\n\nWe also set the KAYOBE_CONFIG_PATH environment variable, to ensure that\nkayobe playbooks set the {{ kayobe_config_path }} variable correctly\nwhen the config path is specified via --config-path.\n\nChange-Id: Id61527ff5e76cac3a485746a1c2898f03ed1bce6\nStory: 2001664\nTask: 6699\n'}]",0,567918,6ab645234511678dc1ad60b547c14a72e1ff5e17,7,3,1,14826,,,0,"Add vault password and config path to env vars

This change sets the KAYOBE_VAULT_PASSWORD environment variable when a
vault password file is specified via --vault-password-file. This allows
the kayobe playbooks to use the password to encrypt and decrypt the
kolla ansible passwords.yml file.

We also set the KAYOBE_CONFIG_PATH environment variable, to ensure that
kayobe playbooks set the {{ kayobe_config_path }} variable correctly
when the config path is specified via --config-path.

Change-Id: Id61527ff5e76cac3a485746a1c2898f03ed1bce6
Story: 2001664
Task: 6699
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/18/567918/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py']",2,6ab645234511678dc1ad60b547c14a72e1ff5e17,story/2001664," @mock.patch.dict(os.environ, clear=True) expected_env = {""KAYOBE_CONFIG_PATH"": ""/etc/kayobe""} mock_run.assert_called_once_with(expected_cmd, quiet=False, env=expected_env) @mock.patch.dict(os.environ, clear=True) expected_env = {""KAYOBE_CONFIG_PATH"": ""/path/to/config""} mock_run.assert_called_once_with(expected_cmd, quiet=False, env=expected_env) @mock.patch.dict(os.environ, clear=True) expected_env = {""KAYOBE_CONFIG_PATH"": ""/path/to/config""} mock_run.assert_called_once_with(expected_cmd, quiet=False, env=expected_env) @mock.patch.object(ansible, ""_read_vault_password_file"") @mock.patch.dict(os.environ, clear=True) def test_run_playbooks_vault_password_file(self, mock_read, mock_validate, mock_vars, mock_run): mock_read.return_value = ""test-pass"" expected_env = {""KAYOBE_CONFIG_PATH"": ""/etc/kayobe"", ""KAYOBE_VAULT_PASSWORD"": ""test-pass""} mock_run.assert_called_once_with(expected_cmd, quiet=False, env=expected_env) @mock.patch.dict(os.environ, {""KAYOBE_VAULT_PASSWORD"": ""test-pass""}, clear=True) expected_env = {""KAYOBE_CONFIG_PATH"": ""/etc/kayobe"", ""KAYOBE_VAULT_PASSWORD"": ""test-pass""} mock_run.assert_called_once_with(expected_cmd, quiet=False, env=expected_env) @mock.patch.dict(os.environ, clear=True) @mock.patch.dict(os.environ, clear=True) expected_env = {""KAYOBE_CONFIG_PATH"": ""/etc/kayobe""} mock_run.assert_called_once_with(expected_cmd, quiet=False, env=expected_env) @mock.patch.dict(os.environ, clear=True) @mock.patch.object(utils, 'read_file') def test__read_vault_password_file(self, mock_read): mock_read.return_value = ""test-pass\n"" result = ansible._read_vault_password_file(""/path/to/file"") self.assertEqual(""test-pass"", result) mock_read.assert_called_once_with(""/path/to/file"")"," mock_run.assert_called_once_with(expected_cmd, quiet=False) mock_run.assert_called_once_with(expected_cmd, quiet=False) mock_run.assert_called_once_with(expected_cmd, quiet=False) def test_run_playbooks_vault_password_file(self, mock_validate, mock_vars, mock_run): mock_run.assert_called_once_with(expected_cmd, quiet=False) @mock.patch.dict(os.environ, {""KAYOBE_VAULT_PASSWORD"": ""test-pass""}) mock_run.assert_called_once_with(expected_cmd, quiet=False) mock_run.assert_called_once_with(expected_cmd, quiet=False)",60,10
openstack%2Fkolla~stable%2Fqueens~I94dba206614ee353cdbb6cf1d44716d4c94e55ab,openstack/kolla,stable/queens,I94dba206614ee353cdbb6cf1d44716d4c94e55ab,base: drop not needed APT key,MERGED,2018-05-17 15:11:39.000000000,2018-05-21 14:44:42.000000000,2018-05-21 14:44:42.000000000,"[{'_account_id': 2834}, {'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 22997}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-17 15:11:39.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1435f14867d3c8bf1c72c38365bb69b5f3da13cf', 'message': 'base: drop not needed APT key\n\nChange-Id: I94dba206614ee353cdbb6cf1d44716d4c94e55ab\n'}]",0,569142,1435f14867d3c8bf1c72c38365bb69b5f3da13cf,11,8,1,24072,,,0,"base: drop not needed APT key

Change-Id: I94dba206614ee353cdbb6cf1d44716d4c94e55ab
",git fetch https://review.opendev.org/openstack/kolla refs/changes/42/569142/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,1435f14867d3c8bf1c72c38365bb69b5f3da13cf,,," 'https://people.linaro.org/~marcin.juszkiewicz/debian/stretch/Release.key',",0,1
openstack%2Fkayobe~master~Ifb6abb784b0791794e25059334f28e4f24003add,openstack/kayobe,master,Ifb6abb784b0791794e25059334f28e4f24003add,Don't create a virtualenv for kolla on the seed hypervisor,MERGED,2018-05-10 08:18:42.000000000,2018-05-21 14:42:46.000000000,2018-05-21 14:42:46.000000000,"[{'_account_id': 16984}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-05-10 08:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f2cb1d7cffd2181fb1a990a98fd3d46494709f51', 'message': ""Don't create a virtualenv for kolla on the seed hypervisor\n\nKolla should not be running against the seed hypervisor.\n\nChange-Id: Ifb6abb784b0791794e25059334f28e4f24003add\n""}, {'number': 2, 'created': '2018-05-10 08:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b92eb32c67d5f44f0802e6d82ce17b5466807d51', 'message': ""Don't create a virtualenv for kolla on the seed hypervisor\n\nKolla should not be running against the seed hypervisor.\n\nChange-Id: Ifb6abb784b0791794e25059334f28e4f24003add\nTrivialFix\n""}, {'number': 3, 'created': '2018-05-10 15:16:00.000000000', 'files': ['ansible/kolla-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ce4d09857176ae305f71fad7ee4c4f5238f499ef', 'message': ""Don't create a virtualenv for kolla on the seed hypervisor\n\nKolla should not be running against the seed hypervisor.\n\nChange-Id: Ifb6abb784b0791794e25059334f28e4f24003add\nTrivialFix\n""}]",0,567505,ce4d09857176ae305f71fad7ee4c4f5238f499ef,11,4,3,14826,,,0,"Don't create a virtualenv for kolla on the seed hypervisor

Kolla should not be running against the seed hypervisor.

Change-Id: Ifb6abb784b0791794e25059334f28e4f24003add
TrivialFix
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/05/567505/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-target-venv.yml'],1,f2cb1d7cffd2181fb1a990a98fd3d46494709f51,no-kolla-venv-on-hypervisor, hosts: seed:overcloud, hosts: seed:seed-hypervisor:overcloud,1,1
openstack%2Fkolla-ansible~master~I9e94daaa2054e7aa4b814516f8cf2b6a4981465c,openstack/kolla-ansible,master,I9e94daaa2054e7aa4b814516f8cf2b6a4981465c,Add congress-dashboard into Horizon,MERGED,2018-04-20 02:12:02.000000000,2018-05-21 14:12:54.000000000,2018-05-21 14:12:54.000000000,"[{'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-04-20 02:12:02.000000000', 'files': ['ansible/roles/horizon/defaults/main.yml', 'ansible/group_vars/all.yml', 'releasenotes/notes/add-congress-dashboard-q65x5d27c034f8xc.yaml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b4243491004804998f1262ba761439e58876791', 'message': 'Add congress-dashboard into Horizon\n\nChange-Id: I9e94daaa2054e7aa4b814516f8cf2b6a4981465c\nDepends-on: I5cd0cc2c884530525b3019c22c04a782a181a3bf\n'}]",0,562898,4b4243491004804998f1262ba761439e58876791,14,7,1,22165,,,0,"Add congress-dashboard into Horizon

Change-Id: I9e94daaa2054e7aa4b814516f8cf2b6a4981465c
Depends-on: I5cd0cc2c884530525b3019c22c04a782a181a3bf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/562898/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/defaults/main.yml', 'ansible/group_vars/all.yml', 'releasenotes/notes/add-congress-dashboard-q65x5d27c034f8xc.yaml', 'etc/kolla/globals.yml']",4,4b4243491004804998f1262ba761439e58876791,,"#enable_horizon_congress: ""{{ enable_congress | bool }}""",,5,0
openstack%2Fkolla-ansible~master~I16999287defa1bdf3e14a33577389985b7da0f2d,openstack/kolla-ansible,master,I16999287defa1bdf3e14a33577389985b7da0f2d,Remove old upgrade task from Ceilometer,MERGED,2018-05-14 14:01:53.000000000,2018-05-21 14:12:53.000000000,2018-05-21 14:12:53.000000000,"[{'_account_id': 9414}, {'_account_id': 14151}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 22582}]","[{'number': 1, 'created': '2018-05-14 14:01:53.000000000', 'files': ['ansible/roles/ceilometer/tasks/upgrade.yml', 'ansible/roles/ceilometer/templates/ceilometer-api.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0dbd8af3146e5d3da16bafe34de5b122bc7a85dc', 'message': 'Remove old upgrade task from Ceilometer\n\nThis is due for removal since Queens.\n\nChange-Id: I16999287defa1bdf3e14a33577389985b7da0f2d\n'}]",0,568295,0dbd8af3146e5d3da16bafe34de5b122bc7a85dc,10,6,1,1390,,,0,"Remove old upgrade task from Ceilometer

This is due for removal since Queens.

Change-Id: I16999287defa1bdf3e14a33577389985b7da0f2d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/568295/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceilometer/tasks/upgrade.yml', 'ansible/roles/ceilometer/templates/ceilometer-api.json.j2']",2,0dbd8af3146e5d3da16bafe34de5b122bc7a85dc,,,"{% set apache_cmd = 'apache2' if kolla_base_distro in ['ubuntu', 'debian'] else 'httpd' %} {% set apache_dir = 'apache2/conf-enabled' if kolla_base_distro in ['ubuntu', 'debian'] else 'httpd/conf.d' %} {% set apache_file = '000-default.conf' if kolla_base_distro in ['ubuntu', 'debian'] else 'ceilometer-api.conf' %} { ""command"": ""/usr/sbin/{{ apache_cmd }} -DFOREGROUND"", ""config_files"": [ { ""source"": ""{{ container_config_directory }}/ceilometer.conf"", ""dest"": ""/etc/ceilometer/ceilometer.conf"", ""owner"": ""ceilometer"", ""perm"": ""0600"" } ], ""permissions"": [ { ""path"": ""/var/log/kolla/ceilometer"", ""owner"": ""ceilometer:ceilometer"", ""recurse"": true } ] } ",0,33
openstack%2Fnova~master~I0b33200b710960e4e8df7333d06c98456c4b0c00,openstack/nova,master,I0b33200b710960e4e8df7333d06c98456c4b0c00,Update PowerVM hypervisor docs,MERGED,2018-05-18 19:02:27.000000000,2018-05-21 14:08:56.000000000,2018-05-19 01:38:42.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-18 19:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2b348564131728a05880d8238aa5fa06d62a4c7', 'message': 'Update PowerVM hypervisor docs\n\nThis refreshes the PowerVM hypervisor docs with a clearer flow and\nadditional information.\n\nChange-Id: I0b33200b710960e4e8df7333d06c98456c4b0c00\n'}, {'number': 2, 'created': '2018-05-18 19:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a26f8ddedd15332b06a7f06d3b87a9eb42021e44', 'message': 'Update PowerVM hypervisor docs\n\nThis refreshes the PowerVM hypervisor docs with a clearer flow and\nadditional information.\n\nChange-Id: I0b33200b710960e4e8df7333d06c98456c4b0c00\n'}, {'number': 3, 'created': '2018-05-18 21:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f70254b6c1be2b42714ce0fedf51f08f7beaf65', 'message': 'Update PowerVM hypervisor docs\n\nThis refreshes the PowerVM hypervisor docs with a clearer flow and\nadditional information.\n\nChange-Id: I0b33200b710960e4e8df7333d06c98456c4b0c00\n'}, {'number': 4, 'created': '2018-05-18 21:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f8621184c9abe90b4291d0f55ec64798fdf8be3', 'message': 'Update PowerVM hypervisor docs\n\nThis refreshes the PowerVM hypervisor docs with a clearer flow and\nadditional information.\n\nChange-Id: I0b33200b710960e4e8df7333d06c98456c4b0c00\n'}, {'number': 5, 'created': '2018-05-18 22:00:22.000000000', 'files': ['doc/source/admin/configuration/hypervisor-powervm.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/30c87c5a9d246b4500d66720f1282f79bb2c1dae', 'message': 'Update PowerVM hypervisor docs\n\nThis refreshes the PowerVM hypervisor docs with a clearer flow and\nadditional information.\n\nChange-Id: I0b33200b710960e4e8df7333d06c98456c4b0c00\n'}]",11,569497,30c87c5a9d246b4500d66720f1282f79bb2c1dae,31,11,5,10608,,,0,"Update PowerVM hypervisor docs

This refreshes the PowerVM hypervisor docs with a clearer flow and
additional information.

Change-Id: I0b33200b710960e4e8df7333d06c98456c4b0c00
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/569497/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/hypervisor-powervm.rst'],1,a2b348564131728a05880d8238aa5fa06d62a4c7,bp/powervm-localdisk,"IntroductionOpenStack Compute supports the PowerVM hypervisor through `NovaLink`_. In the NovaLink architecture, a thin NovaLink virtual machine running on the Power system manages virtualization for that system. The ``nova-compute`` service can be installed on the NovaLink virtual machine and configured to use the PowerVM compute driver. No external management element (e.g. Hardware Management Console) is needed.Configuration ----- In order to function properly, the Nova compute service must be executed by a member of the ``pvm_admin`` group. Use the ``usermod`` command to add the user. For example, to add the ``stacker`` user to the ``pvm_admin`` group, execute::To enable the PowerVM compute driver, set the folloing configuration option in the ``/etc/nova/nova.conf`` file: .. code-block:: ini compute_driver = powervm.PowerVMDriver The PowerVM driver supports 2 types of storage for ephemeral disks: ``localdisk`` or ``ssp``. If ``localdisk`` is selected, you must specify which volume group should be used. Using the ``rootvg`` volume group is strongly discouraged since ``rootvg`` is used by the management partition and filling this will cause failures. E.g.: .. code-block:: ini [powervm] disk_driver = localdisk volume_group_name = openstackvg The PowerVM driver also supports configuring the default amount of physical processor compute power (known as ""proc units"") which will be given to each vCPU. This value will be used if the requested flavor does not specify the ``powervm:proc_units`` extra-spec. A factor value of 1.0 means a whole physical processor, whereas 0.05 means 1/20th of a physical processor. E.g.: .. code-block:: ini [powervm] proc_units_factor = 0.1","UsageTo make use of the PowerVM compute driver, a PowerVM system set up with `NovaLink`_ is required.Installing the NovaLink software creates the ``pvm_admin`` group. In order to function properly, the user executing the Nova compute service must be a member of this group. Use the ``usermod`` command to add the user. For example, to add the user ``stacker`` to the ``pvm_admin`` group, execute::The NovaLink architecture is such that the compute driver runs directly on the PowerVM system. No external management element (e.g. Hardware Management Console or PowerVC) is needed. Management of the virtualization is driven through a thin virtual machine running on the PowerVM system. Configuration of the PowerVM system and NovaLink is required ahead of time. If the operator is using volumes or Shared Storage Pools, they are required to be configured ahead of time. Configuration File Options -------------------------- After nova has been installed the user must enable PowerVM as the compute driver. To do so, set the ``compute_driver`` value in the ``nova.conf`` file to ``compute_driver = powervm.driver.PowerVMDriver``.",38,19
openstack%2Fkolla-ansible~master~I0c453aa7214752fd6782521c64d462153396b05a,openstack/kolla-ansible,master,I0c453aa7214752fd6782521c64d462153396b05a,Remove the unnecessary register.yml for upgrade,MERGED,2018-05-18 13:33:26.000000000,2018-05-21 14:07:56.000000000,2018-05-21 14:07:56.000000000,"[{'_account_id': 14151}, {'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-18 13:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/030c8c658009c3acb6a57ce633785770fb66fa10', 'message': 'Remove the unnecessary register.yml for upgrade\n\nChange-Id: I0c453aa7214752fd6782521c64d462153396b05a\n'}, {'number': 2, 'created': '2018-05-18 13:36:49.000000000', 'files': ['ansible/roles/murano/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/81eb90a34fb167f9860385dec826d13195bf592e', 'message': 'Remove the unnecessary register.yml for upgrade\n\nWhen execute upgrade action, no need to create endpoint and\nproject again. This PS to remove register.yml from upgrade.yml\n\nChange-Id: I0c453aa7214752fd6782521c64d462153396b05a\n'}]",0,569408,81eb90a34fb167f9860385dec826d13195bf592e,11,6,2,21691,,,0,"Remove the unnecessary register.yml for upgrade

When execute upgrade action, no need to create endpoint and
project again. This PS to remove register.yml from upgrade.yml

Change-Id: I0c453aa7214752fd6782521c64d462153396b05a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/569408/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/murano/tasks/upgrade.yml'],1,030c8c658009c3acb6a57ce633785770fb66fa10,,,- include: register.yml ,0,2
openstack%2Fmurano~master~I1b0438ad451db2b7a89a9fb65dc948b52ceb2f3f,openstack/murano,master,I1b0438ad451db2b7a89a9fb65dc948b52ceb2f3f,"Fix Contract on Project property, extra.",MERGED,2018-04-10 20:52:21.000000000,2018-05-21 14:05:20.000000000,2018-04-12 11:56:37.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-04-10 20:52:21.000000000', 'files': ['meta/io.murano/Classes/Project.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/475545a62180be1f7feccae93d9671eedb9e1e8a', 'message': ""Fix Contract on Project property, extra.\n\nThe current contract for this property (in Project.yaml) is:\n\n      extra:\n        Contract:\n          $.string().notNull(): $.string()\n\nDeploying my Murano application, the code attempts to populate this\nproperty with:\n\n     u'tags': []\n\nand gets this error:\n\n    ContractViolationException: [io.murano.Project.extra['tags']] Value [] violates string() contract\n\nMy fix is:\n\n        extra:\n        Contract:\n          $.string().notNull(): $\n\nThis allows the 2nd value of the pair to be any scalar or data structure.  A string\nor a list of strings is acceptable now.\n\nChange-Id: I1b0438ad451db2b7a89a9fb65dc948b52ceb2f3f\nCo-Authored-By: Devjani Ray <devjani.ray@oracle.com>\nCloses-Bug: 1762821\n""}]",0,560148,475545a62180be1f7feccae93d9671eedb9e1e8a,8,3,1,26101,,,0,"Fix Contract on Project property, extra.

The current contract for this property (in Project.yaml) is:

      extra:
        Contract:
          $.string().notNull(): $.string()

Deploying my Murano application, the code attempts to populate this
property with:

     u'tags': []

and gets this error:

    ContractViolationException: [io.murano.Project.extra['tags']] Value [] violates string() contract

My fix is:

        extra:
        Contract:
          $.string().notNull(): $

This allows the 2nd value of the pair to be any scalar or data structure.  A string
or a list of strings is acceptable now.

Change-Id: I1b0438ad451db2b7a89a9fb65dc948b52ceb2f3f
Co-Authored-By: Devjani Ray <devjani.ray@oracle.com>
Closes-Bug: 1762821
",git fetch https://review.opendev.org/openstack/murano refs/changes/48/560148/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/io.murano/Classes/Project.yaml'],1,475545a62180be1f7feccae93d9671eedb9e1e8a,bug/1762821, $.string().notNull(): $, $.string().notNull(): $.string(),1,1
openstack%2Fkolla-ansible~stable%2Fqueens~Id00187ec032c7a6c98d0772def12f142ef13fb22,openstack/kolla-ansible,stable/queens,Id00187ec032c7a6c98d0772def12f142ef13fb22,Fix the profile missing when run bootstrap.sh,MERGED,2018-05-16 05:07:26.000000000,2018-05-21 14:03:33.000000000,2018-05-21 14:03:33.000000000,"[{'_account_id': 167}, {'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 05:07:26.000000000', 'files': ['contrib/dev/vagrant/bootstrap.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/05f39cfe3350983ed70869a3cddf8302989b20b2', 'message': 'Fix the profile missing when run bootstrap.sh\n\nwhen use bootstrap.sh script to prepare the development\nenvironment, the /etc/kolla/globlas.yml and\n/etc/kolla/passwords.yml is missing, this ps to fix it.\n\nChange-Id: Id00187ec032c7a6c98d0772def12f142ef13fb22\nCloses-Bug: #1766081\n(cherry picked from commit f9478235c944c9b0cd7a54a79f029279abd4be92)\n'}]",0,568748,05f39cfe3350983ed70869a3cddf8302989b20b2,8,4,1,22165,,,0,"Fix the profile missing when run bootstrap.sh

when use bootstrap.sh script to prepare the development
environment, the /etc/kolla/globlas.yml and
/etc/kolla/passwords.yml is missing, this ps to fix it.

Change-Id: Id00187ec032c7a6c98d0772def12f142ef13fb22
Closes-Bug: #1766081
(cherry picked from commit f9478235c944c9b0cd7a54a79f029279abd4be92)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/568748/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/dev/vagrant/bootstrap.sh'],1,05f39cfe3350983ed70869a3cddf8302989b20b2,bug/1766081-stable/queens, mkdir -p /etc/kolla cp -r ${KOLLA_ANSIBLE_PATH}/etc/kolla/* /etc/kolla, cp -r ${KOLLA_ANSIBLE_PATH}/etc/kolla/ /etc/kolla,2,1
openstack%2Fpython-tripleoclient~master~Ie45900df4d50e2c3b1d0a54bd2f9e5561da5101b,openstack/python-tripleoclient,master,Ie45900df4d50e2c3b1d0a54bd2f9e5561da5101b,Improve output when registering nodes.,ABANDONED,2018-04-26 18:53:40.000000000,2018-05-21 14:02:54.000000000,,"[{'_account_id': 9712}, {'_account_id': 11085}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-26 18:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/19d50868a2dfc760b24314f2771251f7c7fc065c', 'message': 'Improve output when registering nodes.\n\nCurrently when registering nodes with the openstack unified interface\nthere is to much information dumped to the command line. This change\nlooks to correct that by adding debug log statements to the points where\nthe message bus was being printed to the command line.\n\nChange-Id: Ie45900df4d50e2c3b1d0a54bd2f9e5561da5101b\n'}, {'number': 2, 'created': '2018-04-26 19:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eb18de60ac4e1c62912c58b5db74a1d0d7bbf2e0', 'message': 'Improve output when registering nodes.\n\nCurrently when registering nodes with the openstack unified interface\nthere is to much information dumped to the command line. This change\nlooks to correct that by adding debug log statements to the points where\nthe message bus was being printed to the command line.\n\nCloses-Bug: 1710685\nChange-Id: Ie45900df4d50e2c3b1d0a54bd2f9e5561da5101b\n'}, {'number': 3, 'created': '2018-04-26 19:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d8ebd4ea75b241d4f734e3f778b9100e4e751e66', 'message': 'Improve output when registering nodes.\n\nCurrently when registering nodes with the openstack unified interface\nthere is to much information dumped to the command line. This change\nlooks to correct that by adding debug log statements to the points where\nthe message bus was being printed to the command line.\n\nCloses-Bug: 1710685\nChange-Id: Ie45900df4d50e2c3b1d0a54bd2f9e5561da5101b\n'}, {'number': 4, 'created': '2018-04-30 15:10:24.000000000', 'files': ['tripleoclient/workflows/baremetal.py', '.gitignore'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86769a546ac20c1715755c8bcc01855e6e09bcb3', 'message': 'Improve output when registering nodes.\n\nCurrently when registering nodes with the openstack unified interface\nthere is to much information dumped to the command line. This change\nlooks to correct that by adding debug log statements to the points where\nthe message bus was being printed to the command line.\n\nCloses-Bug: 1710685\nChange-Id: Ie45900df4d50e2c3b1d0a54bd2f9e5561da5101b\n'}]",1,564585,86769a546ac20c1715755c8bcc01855e6e09bcb3,13,4,4,11085,,,0,"Improve output when registering nodes.

Currently when registering nodes with the openstack unified interface
there is to much information dumped to the command line. This change
looks to correct that by adding debug log statements to the points where
the message bus was being printed to the command line.

Closes-Bug: 1710685
Change-Id: Ie45900df4d50e2c3b1d0a54bd2f9e5561da5101b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/564585/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/baremetal.py'],1,19d50868a2dfc760b24314f2771251f7c7fc065c,bug/1710685,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) LOG.debug(payload['message']) LOG.info('Successfully validated environment file') LOG.debug(payload['message']) LOG.info('Successfully registered node UUID %s' % nd['uuid']) LOG.debug(payload['message']) LOG.info(""Waiting for introspection to finish..."") LOG.debug(payload['message']) LOG.info(""Waiting for introspection to finish..."") LOG.debug(payload['message']) LOG.info(""Introspection completed."") LOG.debug(payload['message']) LOG.debug(payload['message']) LOG.debug(payload['message']) LOG.debug(payload['message']) LOG.debug(payload['message']) LOG.info('Creating RAID configuration for given nodes, this may take time') LOG.debug(payload['message']) LOG.info('Success') LOG.debug(payload['message']) LOG.info('Successfully registered node UUID %s' % nd['uuid'])","from __future__ import print_function print(payload['message']) print('Successfully validated environment file') print(payload['message']) print('Successfully registered node UUID %s' % nd['uuid']) print(payload['message']) print(""Waiting for introspection to finish..."") print(payload['message']) print(""Waiting for introspection to finish..."") print(payload['message']) print(""Introspection completed."") print(payload['message']) print(payload['message']) print(payload['message']) print(payload['message']) print(payload['message']) print('Creating RAID configuration for given nodes, this may take time') print(payload['message']) print('Success') print(payload['message']) print('Successfully registered node UUID %s' % nd['uuid'])",23,21
openstack%2Fkolla-ansible~master~I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af,openstack/kolla-ansible,master,I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af,Support deploying the Monasca Log API,MERGED,2018-04-06 16:54:53.000000000,2018-05-21 13:53:34.000000000,2018-05-21 13:53:33.000000000,"[{'_account_id': 14826}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 21922}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25945}, {'_account_id': 26285}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-04-06 16:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc2690b8f659683121ea66f070e17460a68ce90f', 'message': 'Supporting deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 2, 'created': '2018-04-06 17:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/898d9a9f1c306898e13959d11716ef2dc61e7bd5', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 3, 'created': '2018-04-09 17:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/61e7be81afcc9a37c85c60cfadcab358a954f374', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 4, 'created': '2018-04-12 16:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad3ee3ffcc70053e994dc050af5a51208dd499ec', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 5, 'created': '2018-04-12 16:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0afef3c3b69f0eda6ab2e0b05194a7e0ce8c2f7e', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 6, 'created': '2018-04-13 08:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0d6c56619b9dda92d365d78649d4d790c5bd4ab', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 7, 'created': '2018-04-13 08:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f9518a34b4f6899f3aba63f9db040109b582912', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 8, 'created': '2018-04-13 16:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b649a84613657517d59b2b2c067a8640fa28caa5', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 9, 'created': '2018-04-13 17:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a2a373e6d8ac9be65acdaaf16ecf6462f2f90a9', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 10, 'created': '2018-04-13 17:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa3422a613b1911e85c887acd5c4d713107112a3', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 11, 'created': '2018-04-16 09:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc402e8d1bcd144a7848c438b09951fbd871eb64', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 12, 'created': '2018-04-16 09:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24367069a7470b7676024302349166b3669000c5', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 13, 'created': '2018-04-16 10:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d95e902b3d424a93bb21b384d98d3493b81b0e6', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 14, 'created': '2018-04-16 12:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1cf709da9bd9cb716b66d90f3862bda3e5787ffe', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 15, 'created': '2018-04-16 15:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/871e92e2515f063c006332bace82c220d2b99001', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 16, 'created': '2018-04-17 13:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/13d810a48890ec759ba4a69949b4081bdabc7b88', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 17, 'created': '2018-04-18 08:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b5c3ebf051110f161239021c115d41d483a48e8', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 18, 'created': '2018-05-21 09:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/44f15ed3c6b19a91a1c1d7063650b47a9cb4963c', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 19, 'created': '2018-05-21 09:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/716d5f74c090883460801eb99eb2136cb691592b', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}, {'number': 20, 'created': '2018-05-21 11:06:09.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/monasca/templates/monasca-log-api/log-api-paste.ini.j2', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/monasca/templates/monasca-log-api/log-api.conf.j2', 'ansible/roles/monasca/templates/monasca-log-api/wsgi-log-api.conf.j2', 'releasenotes/notes/add-monasca-log-api-d47662a4e643cd7f.yaml', 'ansible/inventory/all-in-one', 'ansible/roles/monasca/tasks/register.yml', 'ansible/group_vars/all.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/tasks/precheck.yml', 'ansible/roles/monasca/templates/monasca-log-api/monasca-log-api.json.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eab66ab02ef97f8925fba414f44fd881f3745dc0', 'message': 'Support deploying the Monasca Log API\n\nDeploys the Monasca Log API with mod_wsgi + Apache.\n\nChange-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af\nPartially-Implements: blueprint monasca-roles\n'}]",18,559376,eab66ab02ef97f8925fba414f44fd881f3745dc0,61,11,20,17669,,,0,"Support deploying the Monasca Log API

Deploys the Monasca Log API with mod_wsgi + Apache.

Change-Id: I28f0aa31c59b0b6917be2b125b5f8a0d7a7035af
Partially-Implements: blueprint monasca-roles
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/559376/17 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/monasca/templates/monasca-log-api/log-api-paste.ini.j2', 'ansible/roles/monasca/templates/monasca-log-api/log-api.conf.j2', 'ansible/roles/monasca/templates/monasca-log-api/wsgi-log-api.conf.j2', 'ansible/inventory/all-in-one', 'ansible/roles/monasca/tasks/register.yml', 'ansible/roles/monasca/templates/monasca-log-api/log-api-logging.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/tasks/precheck.yml', 'ansible/roles/monasca/meta/main.yml', 'ansible/roles/monasca/templates/monasca-log-api/monasca-log-api.json.j2']",15,cc2690b8f659683121ea66f070e17460a68ce90f,bp/monasca-roles,"{% set monasca_cmd = 'apache2' if kolla_base_distro in ['ubuntu', 'debian'] else 'httpd' %} {% set wsgi_conf_dir = 'apache2/conf-enabled' if kolla_base_distro in ['ubuntu', 'debian'] else 'httpd/conf.d' %} { ""command"": ""/usr/sbin/{{ monasca_cmd }} -DFOREGROUND"", ""config_files"": [ { ""source"": ""{{ container_config_directory }}/log-api.conf"", ""dest"": ""/etc/monasca/log-api.conf"", ""owner"": ""monasca"", ""perm"": ""0600"" }, { ""source"": ""{{ container_config_directory }}/log-api-logging.conf"", ""dest"": ""/etc/monasca/log-api-logging.conf"", ""owner"": ""monasca"", ""perm"": ""0600"" }, { ""source"": ""{{ container_config_directory }}/log-api-paste.ini"", ""dest"": ""/etc/monasca/log-api-paste.ini"", ""owner"": ""monasca"", ""perm"": ""0600"" }, { ""source"": ""{{ container_config_directory }}/wsgi-log-api.conf"", ""dest"": ""/etc/{{ wsgi_conf_dir }}/wsgi-config.conf"", ""owner"": ""monasca"", ""perm"": ""0600"" } ], ""permissions"": [ { ""path"": ""/monasca-log"", ""owner"": ""monasca:monasca"", ""recurse"": true }, { ""path"": ""/var/log/kolla/monasca"", ""owner"": ""monasca:kolla"", ""recurse"": true } ] } ",,338,1
openstack%2Fpython-tripleoclient~master~I77fdc9deab97c785725f09b8529c512950753f86,openstack/python-tripleoclient,master,I77fdc9deab97c785725f09b8529c512950753f86,Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare,MERGED,2018-05-04 14:59:02.000000000,2018-05-21 13:47:28.000000000,2018-05-21 13:47:28.000000000,"[{'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26285}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-04 14:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f165674d343212ff3d344d47f4d2102a7cd073a', 'message': 'WIP Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare\n\nBefore we update the heat stack for the ffwd-upgrade prepare we\ncan use this to run any required commands on the overcloud.\n\nThe current use case is removal of the\n/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json\nOtherwise after the upgrade prepare is executed, overcloud nodes\nwill have empty config.json for os-net-config (also discussed [0])\n\n[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255\nRelated-Bug: 1758161\n\nChange-Id: I77fdc9deab97c785725f09b8529c512950753f86\n'}, {'number': 2, 'created': '2018-05-07 13:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f783f5e1d65eebd430ef56d8e2dae26537a2afa0', 'message': 'Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare\n\nBefore we update the heat stack for the ffwd-upgrade prepare we\ncan use this to run any required commands on the overcloud.\n\nThe current use case is removal of the\n/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json\nOtherwise after the upgrade prepare is executed, overcloud nodes\nwill have empty config.json for os-net-config (also discussed [0])\n\n[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255\nRelated-Bug: 1758161\nDepends-On: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc\nChange-Id: I77fdc9deab97c785725f09b8529c512950753f86\n'}, {'number': 3, 'created': '2018-05-10 09:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2999c7bc3dc9e7e219a7ab25a084c50f1113bc22', 'message': 'Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare\n\nBefore we update the heat stack for the ffwd-upgrade prepare we\ncan use this to run any required commands on the overcloud.\n\nThe current use case is removal of the\n/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json\nOtherwise after the upgrade prepare is executed, overcloud nodes\nwill have empty config.json for os-net-config (also discussed [0])\n\n[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255\nRelated-Bug: 1758161\nDepends-On: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc\nChange-Id: I77fdc9deab97c785725f09b8529c512950753f86\n'}, {'number': 4, 'created': '2018-05-10 09:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9f5d374804b6022ad58d4458bf2ffbd8a91ee978', 'message': 'Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare\n\nBefore we update the heat stack for the ffwd-upgrade prepare we\ncan use this to run any required commands on the overcloud.\n\nThe current use case is removal of the\n/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json\nOtherwise after the upgrade prepare is executed, overcloud nodes\nwill have empty config.json for os-net-config (also discussed [0])\n\nThe current implementation of .deployment.v1.deploy_on_servers assumes\nall servers are managed by nova. This is OK for N..Q ffu but we will\nneed to revisit in future, see [1] for more info.\n\n[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255\n[1]: https://bugs.launchpad.net/tripleo/+bug/1770356\nRelated-Bug: 1758161\nDepends-On: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc\nChange-Id: I77fdc9deab97c785725f09b8529c512950753f86\n'}, {'number': 5, 'created': '2018-05-15 12:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2d961be524321e16ca7f29fd3817aa2ad06fcf04', 'message': 'Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare\n\nBefore we update the heat stack for the ffwd-upgrade prepare we\ncan use this to run any required commands on the overcloud.\n\nThe current use case is removal of the\n/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json\nOtherwise after the upgrade prepare is executed, overcloud nodes\nwill have empty config.json for os-net-config (also discussed [0])\n\nThe current implementation of .deployment.v1.deploy_on_servers assumes\nall servers are managed by nova. This is OK for N..Q ffu but we will\nneed to revisit in future, see [1] for more info.\n\n[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255\n[1]: https://bugs.launchpad.net/tripleo/+bug/1770356\nRelated-Bug: 1758161\nDepends-On: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc\nChange-Id: I77fdc9deab97c785725f09b8529c512950753f86\n'}, {'number': 6, 'created': '2018-05-16 11:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0598141440882cc9a31e81626e7d01e0197eda80', 'message': 'Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare\n\nBefore we update the heat stack for the ffwd-upgrade prepare we\ncan use this to run any required commands on the overcloud.\n\nThe current use case is removal of the\n/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json\nOtherwise after the upgrade prepare is executed, overcloud nodes\nwill have empty config.json for os-net-config (also discussed [0])\n\nThe current implementation of .deployment.v1.deploy_on_servers assumes\nall servers are managed by nova. This is OK for N..Q ffu but we will\nneed to revisit in future, see [1] for more info.\n\n[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255\n[1]: https://bugs.launchpad.net/tripleo/+bug/1770356\nRelated-Bug: 1758161\nDepends-On: Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc\nChange-Id: I77fdc9deab97c785725f09b8529c512950753f86\n'}, {'number': 7, 'created': '2018-05-18 10:36:47.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/workflows/package_update.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/08360e466730598e9ca5f270798cb3a510a5c9ee', 'message': 'Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare\n\nBefore we update the heat stack for the ffwd-upgrade prepare we\ncan use this to run any required commands on the overcloud.\n\nThe current use case is removal of the\n/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json\nOtherwise after the upgrade prepare is executed, overcloud nodes\nwill have empty config.json for os-net-config (also discussed [0])\n\nThe current implementation of .deployment.v1.deploy_on_servers assumes\nall servers are managed by nova. This is OK for N..Q ffu but we will\nneed to revisit in future, see [1] for more info.\n\n[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255\n[1]: https://bugs.launchpad.net/tripleo/+bug/1770356\nRelated-Bug: 1758161\nRelated:\n    tripleo-common Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc\nChange-Id: I77fdc9deab97c785725f09b8529c512950753f86\n'}]",14,566336,08360e466730598e9ca5f270798cb3a510a5c9ee,78,13,7,8449,,,0,"Add .deployment.v1.deploy_on_servers to ffwd-upgrade prepare

Before we update the heat stack for the ffwd-upgrade prepare we
can use this to run any required commands on the overcloud.

The current use case is removal of the
/usr/libexec/os-apply-config/templates/etc/os-net-config/config.json
Otherwise after the upgrade prepare is executed, overcloud nodes
will have empty config.json for os-net-config (also discussed [0])

The current implementation of .deployment.v1.deploy_on_servers assumes
all servers are managed by nova. This is OK for N..Q ffu but we will
need to revisit in future, see [1] for more info.

[0]: https://bugzilla.redhat.com/show_bug.cgi?id=1561255
[1]: https://bugs.launchpad.net/tripleo/+bug/1770356
Related-Bug: 1758161
Related:
    tripleo-common Ic138c4925c5c96d1cf718af7ae59bcf5f0ba96dc
Change-Id: I77fdc9deab97c785725f09b8529c512950753f86
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/566336/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/workflows/package_update.py']",3,6f165674d343212ff3d344d47f4d2102a7cd073a,bug/1758161," def run_on_nodes(clients, **workflow_input): workflow_client = clients.workflow_engine tripleoclients = clients.tripleoclient with tripleoclients.messaging_websocket( workflow_input['queue_name']) as ws: execution = base.start_workflow( workflow_client, 'tripleo.deployment.v1.deploy_on_servers', workflow_input=workflow_input ) for payload in base.wait_for_messages(workflow_client, ws, execution): if payload['status'] == ""SUCCESS"": print('Success') break elif payload['status'] == ""FAILED"": raise RuntimeError('run on nodes failed: {}'.format(payload))",,35,0
openstack%2Fnova~master~Iab93acde31639b1471c83b06fb1a77474bb52c48,openstack/nova,master,Iab93acde31639b1471c83b06fb1a77474bb52c48,api-ref: Fix parameters for os-volume-attachments.inc,MERGED,2018-05-11 05:29:44.000000000,2018-05-21 13:41:07.000000000,2018-05-21 13:41:06.000000000,"[{'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24441}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-11 05:29:44.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/os-volume-attachments.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/a676d2e6b22b307287a6e18046e3384b7539de98', 'message': ""api-ref: Fix parameters for os-volume-attachments.inc\n\nIn the following APIs, the 'volume_id' parameters are\n'path' parameters. So fix them.\n\n- GET /servers/{server_id}/os-volume_attachments/{volume_id}\n- DELETE /servers/{server_id}/os-volume_attachments/{volume_id}\n\nIn addition, the descriptions of the parameters are amended.\n\nChange-Id: Iab93acde31639b1471c83b06fb1a77474bb52c48\nCloses-Bug: #1770560\n""}]",5,567744,a676d2e6b22b307287a6e18046e3384b7539de98,24,17,1,7634,,,0,"api-ref: Fix parameters for os-volume-attachments.inc

In the following APIs, the 'volume_id' parameters are
'path' parameters. So fix them.

- GET /servers/{server_id}/os-volume_attachments/{volume_id}
- DELETE /servers/{server_id}/os-volume_attachments/{volume_id}

In addition, the descriptions of the parameters are amended.

Change-Id: Iab93acde31639b1471c83b06fb1a77474bb52c48
Closes-Bug: #1770560
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/567744/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/os-volume-attachments.inc', 'api-ref/source/parameters.yaml']",2,a676d2e6b22b307287a6e18046e3384b7539de98,bug/1770560,volume_id_attached_path: description: | The UUID of the attached volume. in: path required: true type: stringvolume_id_to_detach_path: description: | The UUID of the volume to detach. in: path required: true type: string,,14,2
openstack%2Foctavia~stable%2Focata~Ia74f63888b7e4fbcf5392a7d3ec392bddb57f9e7,openstack/octavia,stable/ocata,Ia74f63888b7e4fbcf5392a7d3ec392bddb57f9e7,Pin pip < 10 in the amphora image,MERGED,2018-04-19 22:17:12.000000000,2018-05-21 13:20:33.000000000,2018-05-21 13:20:33.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-19 22:17:12.000000000', 'files': ['elements/amphora-agent/install.d/75-run_setup_install', 'elements/amphora-agent/install.d/cap-pip.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8527a1396ae892d528813d9ad10ede5825d825dc', 'message': 'Pin pip < 10 in the amphora image\n\npip 10 fails when installing the amphora-agent due to a package conflict\nin oslo.config PyYAML and the python3-yaml installed in the base images.\nWe cannot backport the venv fix from master as the stable branch uses\nthe ubuntu element which does not have enough disk space to install with the\nvenv.\nSo to make a minimal fix for the stable branches we are going to pin pip\nin the amphora image.\n\n(cherry picked from commit 9e1ced71e1e270777b15adbcde8de03577375964)\n\nChange-Id: Ia74f63888b7e4fbcf5392a7d3ec392bddb57f9e7\n'}]",0,562850,8527a1396ae892d528813d9ad10ede5825d825dc,8,4,1,11628,,,0,"Pin pip < 10 in the amphora image

pip 10 fails when installing the amphora-agent due to a package conflict
in oslo.config PyYAML and the python3-yaml installed in the base images.
We cannot backport the venv fix from master as the stable branch uses
the ubuntu element which does not have enough disk space to install with the
venv.
So to make a minimal fix for the stable branches we are going to pin pip
in the amphora image.

(cherry picked from commit 9e1ced71e1e270777b15adbcde8de03577375964)

Change-Id: Ia74f63888b7e4fbcf5392a7d3ec392bddb57f9e7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/50/562850/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/install.d/75-run_setup_install', 'elements/amphora-agent/install.d/cap-pip.txt']",2,8527a1396ae892d528813d9ad10ede5825d825dc,,"pip!=8,<10 ",,12,0
openstack%2Ftripleo-heat-templates~master~I1cd765b1998f059702f0c17ccb67d54f6d5db362,openstack/tripleo-heat-templates,master,I1cd765b1998f059702f0c17ccb67d54f6d5db362,Enhance completion message when upgrading non controller nodes,MERGED,2017-07-12 09:28:13.000000000,2018-05-21 13:15:10.000000000,2018-01-12 07:14:42.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 18575}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2017-07-12 09:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11ce4cd7330fa3d301b5445de302cb72a27027cb', 'message': 'Enhance completion message when upgrading non controller nodes\n\nThis adds a better completion message when upgrading a non\ncontroller node.\n\nChange-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362\nloses-Bug: 1703792\n'}, {'number': 2, 'created': '2017-07-12 10:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8cc4ed6bd4aaa2d7bea933fd712131946fe990b', 'message': 'Enhance completion message when upgrading non controller nodes\n\nThis adds a better completion message when upgrading a non\ncontroller node.\n\nChange-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362\nCloses-Bug: 1703792\n'}, {'number': 3, 'created': '2017-08-04 12:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b04b8a7785b820ec07ce89ecf8d36ae7dc3bc924', 'message': 'Enhance completion message when upgrading non controller nodes\n\nThis adds a better completion message when upgrading a non\ncontroller node.\n\nChange-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362\nCloses-Bug: 1703792\n'}, {'number': 4, 'created': '2017-08-25 07:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c612c1337aff90434e70a2635a7d83da7bd61e86', 'message': 'Enhance completion message when upgrading non controller nodes\n\nThis adds a better completion message when upgrading a non\ncontroller node.\n\nChange-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362\nCloses-Bug: 1703792\n'}, {'number': 5, 'created': '2017-10-10 10:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/742f96a021fb21de16b1f6b0ef0427c65ccd051d', 'message': 'Enhance completion message when upgrading non controller nodes\n\nThis adds a better completion message when upgrading a non\ncontroller node.\n\nChange-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362\nCloses-Bug: 1703792\n'}, {'number': 6, 'created': '2018-01-11 09:08:32.000000000', 'files': ['extraconfig/tasks/tripleo_upgrade_node.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bf4edde5de2ab99824c9e8259a9ffa3307b9554', 'message': 'Enhance completion message when upgrading non controller nodes\n\nThis adds a better completion message when upgrading a non\ncontroller node.\n\nChange-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362\nCloses-Bug: 1703792\n'}]",4,482868,7bf4edde5de2ab99824c9e8259a9ffa3307b9554,46,11,6,20775,,,0,"Enhance completion message when upgrading non controller nodes

This adds a better completion message when upgrading a non
controller node.

Change-Id: I1cd765b1998f059702f0c17ccb67d54f6d5db362
Closes-Bug: 1703792
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/482868/6 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/tripleo_upgrade_node.sh'],1,11ce4cd7330fa3d301b5445de302cb72a27027cb,bug/1703792,"NODE_NAME=`echo $HOSTNAME` log_debug ""TripleO upgrade run completed on: $NODE_NAME"" echo ""---------------------------------------------------- The TripleO upgrade tasks have successfully finished The node upgraded is: $NODE_NAME ----------------------------------------------------"" ","log_debug ""TripleO upgrade run completed.""",10,1
openstack%2Ftripleo-ci~master~I4c8f389978717848e755f12856dd454d605c9137,openstack/tripleo-ci,master,I4c8f389978717848e755f12856dd454d605c9137,Add newton->ocata undercloud upgrades to unsupported list,MERGED,2018-05-17 14:00:09.000000000,2018-05-21 13:15:04.000000000,2018-05-21 13:15:04.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-17 14:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ef6351a574880201b09440f5277f92f2d289fdd2', 'message': 'Add newton->ocata undercloud upgrades to unsupported list\n\nChange-Id: I4c8f389978717848e755f12856dd454d605c9137\n'}, {'number': 2, 'created': '2018-05-17 16:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d3bff7a4e1667338ef073c0c0b0d6e13b4872842', 'message': 'Add newton->ocata undercloud upgrades to unsupported list\n\nChange-Id: I4c8f389978717848e755f12856dd454d605c9137\n'}, {'number': 3, 'created': '2018-05-17 20:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c3ce3602f7ea815f44832a31af5fd671cc031748', 'message': 'Add newton->ocata undercloud upgrades to unsupported list\n\nChange-Id: I4c8f389978717848e755f12856dd454d605c9137\n'}, {'number': 4, 'created': '2018-05-18 17:13:09.000000000', 'files': ['scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_unsupported_upgrades.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f76569c23b77c568b0bb642036d40a5552c972a9', 'message': 'Add newton->ocata undercloud upgrades to unsupported list\n\nChange-Id: I4c8f389978717848e755f12856dd454d605c9137\n'}]",0,569120,f76569c23b77c568b0bb642036d40a5552c972a9,15,6,4,12715,,,0,"Add newton->ocata undercloud upgrades to unsupported list

Change-Id: I4c8f389978717848e755f12856dd454d605c9137
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/20/569120/4 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_unsupported_upgrades.py']",2,ef6351a574880201b09440f5277f92f2d289fdd2,sprint13,"def test_undercloud_upgrades_from_newton_to_ocata_are_unsupported(): featureset = { 'undercloud_upgrade': True, } stable_release = 'ocata' with pytest.raises(RuntimeError): compose_releases_dictionary(stable_release, featureset)",,16,1
openstack%2Fkayobe~master~Iaa66516d667f7e24a0684288dd3f67cd84fc5323,openstack/kayobe,master,Iaa66516d667f7e24a0684288dd3f67cd84fc5323,Support running external playbooks,ABANDONED,2018-04-11 16:13:17.000000000,2018-05-21 12:49:33.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-11 16:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/abf69ba1aabdc8c4fdb1b522c234684cd1b430e5', 'message': 'Support running external playbooks\n\nAdds support for running playbooks outside of the kayobe source code\nrepository, whilst retaining the use of playbook group variables defined\nin ansible/group_vars.\n\nThis forms the basis for supporting customisable extensions to the\nstandard workflows.\n\nChange-Id: Iaa66516d667f7e24a0684288dd3f67cd84fc5323\nStory: 2001663\nTask: 12577\n'}, {'number': 2, 'created': '2018-04-12 11:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c684962680df7a6f241805770e2fa9f434d5b5b9', 'message': 'Support running external playbooks\n\nAdds support for running playbooks outside of the kayobe source code\nrepository, whilst retaining the use of playbook group variables defined\nin ansible/group_vars.\n\nThis forms the basis for supporting customisable extensions to the\nstandard workflows.\n\nChange-Id: Iaa66516d667f7e24a0684288dd3f67cd84fc5323\nStory: 2001663\nTask: 12577\n'}, {'number': 3, 'created': '2018-04-12 12:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1220d4de42807067b28da7e42aadfb5ca8151b1e', 'message': 'Support running external playbooks\n\nAdds support for running playbooks outside of the kayobe source code\nrepository, whilst retaining the use of playbook group variables defined\nin ansible/group_vars.\n\nThis forms the basis for supporting customisable extensions to the\nstandard workflows.\n\nChange-Id: Iaa66516d667f7e24a0684288dd3f67cd84fc5323\nStory: 2001663\nTask: 12577\n'}, {'number': 4, 'created': '2018-04-18 15:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f4c13f68850f31ad415fd9b45db49ddb9ca41b3c', 'message': 'Support running external playbooks\n\nAdds support for running playbooks outside of the kayobe source code\nrepository, whilst retaining the use of playbook group variables defined\nin ansible/group_vars.\n\nThis forms the basis for supporting customisable extensions to the\nstandard workflows.\n\nChange-Id: Iaa66516d667f7e24a0684288dd3f67cd84fc5323\nStory: 2001663\nTask: 12577\n'}, {'number': 5, 'created': '2018-05-01 18:28:44.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py', 'ansible/include-playbook.yml', 'kayobe/cli/commands.py', 'tools/test-ansible-syntax.sh', 'doc/source/release-notes.rst', 'tox.ini', 'kayobe/exception.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7005d355d006560ffda1b8b0e0ca5d6432873256', 'message': 'Support running external playbooks\n\nAdds support for running playbooks outside of the kayobe source code\nrepository, whilst retaining the use of playbook group variables defined\nin ansible/group_vars.\n\nThis forms the basis for supporting customisable extensions to the\nstandard workflows.\n\nChange-Id: Iaa66516d667f7e24a0684288dd3f67cd84fc5323\nStory: 2001663\nTask: 12577\n'}]",0,560555,7005d355d006560ffda1b8b0e0ca5d6432873256,12,2,5,14826,,,0,"Support running external playbooks

Adds support for running playbooks outside of the kayobe source code
repository, whilst retaining the use of playbook group variables defined
in ansible/group_vars.

This forms the basis for supporting customisable extensions to the
standard workflows.

Change-Id: Iaa66516d667f7e24a0684288dd3f67cd84fc5323
Story: 2001663
Task: 12577
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/55/560555/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py', 'kayobe/cli/commands.py', 'doc/source/release-notes.rst']",5,abf69ba1aabdc8c4fdb1b522c234684cd1b430e5,story/2001663,* Adds support for running playbooks outside of the kayobe repository via ``kayobe playbook run <playbook>``. ,,90,5
openstack%2Fnetworking-odl~master~I43406896111b088675c5b202f82732d6256031d6,openstack/networking-odl,master,I43406896111b088675c5b202f82732d6256031d6,Replace deprecated library function os.popen() with subprocess,ABANDONED,2018-05-21 09:45:08.000000000,2018-05-21 12:37:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-05-21 09:45:08.000000000', 'files': ['networking_odl/tests/unit/journal/test_journal.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/28eaeb900b9f4f186fa06e195643844cc9e9461a', 'message': 'Replace deprecated library function os.popen() with subprocess\n\nos.popen() is deprecated since version 2.6. Resolved with use of\nsubprocess module\n\nChange-Id: I43406896111b088675c5b202f82732d6256031d6\n'}]",2,569766,28eaeb900b9f4f186fa06e195643844cc9e9461a,4,2,1,21486,,,0,"Replace deprecated library function os.popen() with subprocess

os.popen() is deprecated since version 2.6. Resolved with use of
subprocess module

Change-Id: I43406896111b088675c5b202f82732d6256031d6
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/66/569766/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/tests/unit/journal/test_journal.py'],1,28eaeb900b9f4f186fa06e195643844cc9e9461a,,"import subprocess with subprocess.Popen( 'ps ax -o pid,state,cmd', shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT).stdout as f:"," with os.popen('ps ax -o pid,state,cmd') as f:",6,1
openstack%2Fnetworking-ovn~master~I5265da4c21e58672db9858555625c8e2c5350316,openstack/networking-ovn,master,I5265da4c21e58672db9858555625c8e2c5350316,Handle port's 'port_security_enabled' flag when adding ACLs,MERGED,2018-05-11 18:33:29.000000000,2018-05-21 12:22:45.000000000,2018-05-18 12:02:01.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 8871}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-05-11 18:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e2870fc4fc3d18a96a73cc6c6f571e49120588aa', 'message': ""Handle port's 'port_security_enabled' flag when adding ACLs\n\nWhen a port's security groups are cleared and 'port_security_enabled'\nflag is True, it is expected that all the traffic to/from the port is dropped.\nBut this is not the case. So this patch fixes this issue. 'port_security_enabled'\nflag is checked before adding the port's ACLs.\n\nSo the new (and correct) behaviour with this patch is\n - No security groups and port security enabled -> Drop all the traffic\n - No security groups and port security disabled -> Allow all the traffic\n\nChange-Id: I5265da4c21e58672db9858555625c8e2c5350316\nCloses-bug: #1770723\n""}, {'number': 2, 'created': '2018-05-11 18:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/372ead8051f19d746ee76f21a78234cede91a274', 'message': ""Handle port's 'port_security_enabled' flag when adding ACLs\n\nWhen a port's security groups are cleared and 'port_security_enabled'\nflag is True, it is expected that all the traffic to/from the port is dropped.\nBut this is not the case. So this patch fixes this issue. 'port_security_enabled'\nflag is checked before adding the port's ACLs.\n\nSo the new (and correct) behaviour with this patch is\n - No security groups and port security enabled -> Drop all the traffic\n - No security groups and port security disabled -> Allow all the traffic\n\nChange-Id: I5265da4c21e58672db9858555625c8e2c5350316\nCloses-bug: #1770723\n""}, {'number': 3, 'created': '2018-05-14 10:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/21de25003252bc24f3fe6aa83e96e63296e3d6bc', 'message': ""Handle port's 'port_security_enabled' flag when adding ACLs\n\nWhen a port's security groups are cleared and 'port_security_enabled'\nflag is True, it is expected that all the traffic to/from the port is dropped.\nBut this is not the case. So this patch fixes this issue. 'port_security_enabled'\nflag is checked before adding the port's ACLs.\n\nSo the new (and correct) behaviour with this patch is\n - No security groups and port security enabled -> Drop all the traffic\n - No security groups and port security disabled -> Allow all the traffic\n\nChange-Id: I5265da4c21e58672db9858555625c8e2c5350316\nCloses-bug: #1770723\n""}, {'number': 4, 'created': '2018-05-14 10:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/decb8d8aa7115ad4bce86e25c09bdc95015efc78', 'message': ""Handle port's 'port_security_enabled' flag when adding ACLs\n\nWhen a port's security groups are cleared and 'port_security_enabled'\nflag is True, it is expected that all the traffic to/from the port is dropped.\nBut this is not the case. So this patch fixes this issue. 'port_security_enabled'\nflag is checked before adding the port's ACLs.\n\nSo the new (and correct) behaviour with this patch is\n - No security groups and port security enabled -> Drop all the traffic\n - No security groups and port security disabled -> Allow all the traffic\n\nChange-Id: I5265da4c21e58672db9858555625c8e2c5350316\nCloses-bug: #1770723\n""}, {'number': 5, 'created': '2018-05-14 13:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9f5909c97daf321d8182cb0c4d6de53d7a073a6a', 'message': ""Handle port's 'port_security_enabled' flag when adding ACLs\n\nWhen a port's security groups are cleared and 'port_security_enabled'\nflag is True, it is expected that all the traffic to/from the port is dropped.\nBut this is not the case. So this patch fixes this issue. 'port_security_enabled'\nflag is checked before adding the port's ACLs.\n\nSo the new (and correct) behaviour with this patch is\n - No security groups and port security enabled -> Drop all the traffic\n - No security groups and port security disabled -> Allow all the traffic\n\nChange-Id: I5265da4c21e58672db9858555625c8e2c5350316\nCloses-bug: #1770723\n""}, {'number': 6, 'created': '2018-05-17 06:24:54.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py', 'networking_ovn/common/acl.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d97a670257fb67917e2b5da4c944b9e29a5d7855', 'message': ""Handle port's 'port_security_enabled' flag when adding ACLs\n\nWhen a port's security groups are cleared and 'port_security_enabled'\nflag is True, it is expected that all the traffic to/from the port is dropped.\nBut this is not the case. So this patch fixes this issue. 'port_security_enabled'\nflag is checked before adding the port's ACLs.\n\nSo the new (and correct) behaviour with this patch is\n - No security groups and port security enabled -> Drop all the traffic\n - No security groups and port security disabled -> Allow all the traffic\n\nChange-Id: I5265da4c21e58672db9858555625c8e2c5350316\nCloses-bug: #1770723\n""}]",5,567928,d97a670257fb67917e2b5da4c944b9e29a5d7855,27,6,6,10237,,,0,"Handle port's 'port_security_enabled' flag when adding ACLs

When a port's security groups are cleared and 'port_security_enabled'
flag is True, it is expected that all the traffic to/from the port is dropped.
But this is not the case. So this patch fixes this issue. 'port_security_enabled'
flag is checked before adding the port's ACLs.

So the new (and correct) behaviour with this patch is
 - No security groups and port security enabled -> Drop all the traffic
 - No security groups and port security disabled -> Allow all the traffic

Change-Id: I5265da4c21e58672db9858555625c8e2c5350316
Closes-bug: #1770723
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/28/567928/6 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py', 'networking_ovn/common/acl.py']",4,e2870fc4fc3d18a96a73cc6c6f571e49120588aa,bug/1770723,from neutron_lib.api.definitions import port_security as psec if utils.is_lsp_trusted(port) or not port.get(psec.PORTSECURITY): return acl_list, return acl_list,119,2
openstack%2Fheat~master~Icd54465d0c593557a12d853ddee4ee8ce6483499,openstack/heat,master,Icd54465d0c593557a12d853ddee4ee8ce6483499,Don't allow nested or stacks in FAILED state to be migrated,MERGED,2018-05-04 07:20:30.000000000,2018-05-21 12:22:28.000000000,2018-05-18 07:59:39.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8042}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-05-04 07:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/13065b80061ccc9cd041f6b441d31be9bb21df3f', 'message': ""Don't allow stacks in FAILED state to be migrated to convergence\n\nStacks and their nested stacks should be in *COMPLETE state for\nthem to be migrated.\n\nThis also changes stack_get_all_by_owner_id() to not select the\nbackup stacks. This seems to be used only in convergence code\npath  and migrate_convergence_1().\n\nChange-Id: Icd54465d0c593557a12d853ddee4ee8ce6483499\nCloses-Bug: #1767962\n""}, {'number': 2, 'created': '2018-05-10 04:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a24fccd8c4fdefb20472ac6274c40a8d8910c102', 'message': ""Don't allow non-root or stacks in FAILED state to be migrated\n\nStacks and their nested stacks should be in *COMPLETE state for\nthem to be migrated. Also, we should not allow migration of a\nnon-root stack.\n\nThis also changes stack_get_all_by_owner_id() to not select the\nbackup stacks. This seems to be used only in convergence code\npath and migrate_convergence_1().\n\nChange-Id: Icd54465d0c593557a12d853ddee4ee8ce6483499\nCloses-Bug: #1767962\nStory: #1767962\nTask: #17363\n""}, {'number': 3, 'created': '2018-05-11 05:37:30.000000000', 'files': ['heat/common/exception.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py', 'heat/cmd/manage.py', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/abfec544d7938ad8b576e1d0fa78f8a5dca1df00', 'message': ""Don't allow nested or stacks in FAILED state to be migrated\n\nStack and its nested stacks should be in *_COMPLETE state for\nit to be migrated. Also, we should not allow migration of a\nnested stack.\n\nThis also changes stack_get_all_by_owner_id() to not select the\nbackup stacks. This seems to be used only in convergence code\npath and migrate_convergence_1().\n\nChange-Id: Icd54465d0c593557a12d853ddee4ee8ce6483499\nCloses-Bug: #1767962\nStory: #1767962\nTask: #17363\n""}]",12,566225,abfec544d7938ad8b576e1d0fa78f8a5dca1df00,27,7,3,8833,,,0,"Don't allow nested or stacks in FAILED state to be migrated

Stack and its nested stacks should be in *_COMPLETE state for
it to be migrated. Also, we should not allow migration of a
nested stack.

This also changes stack_get_all_by_owner_id() to not select the
backup stacks. This seems to be used only in convergence code
path and migrate_convergence_1().

Change-Id: Icd54465d0c593557a12d853ddee4ee8ce6483499
Closes-Bug: #1767962
Story: #1767962
Task: #17363
",git fetch https://review.opendev.org/openstack/heat refs/changes/25/566225/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/common/exception.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py', 'heat/cmd/manage.py', 'heat/engine/service.py']",5,13065b80061ccc9cd041f6b441d31be9bb21df3f,bug/1767962," if parent_stack.status != parent_stack.COMPLETE: raise exception.ActionNotComplete(stack_name=parent_stack.name, action=parent_stack.action) # check if any of the nested stacks is in IN_PROGRESS/FAILED state for stack in stacks: if stack.status != stack.COMPLETE: raise exception.ActionNotComplete(stack_name=stack.name, action=stack.action) ",,24,4
openstack%2Fopenstack-ansible-os_octavia~stable%2Fpike~Ic7f244fef35a9663c09b96c5618c3a5b0601e5a9,openstack/openstack-ansible-os_octavia,stable/pike,Ic7f244fef35a9663c09b96c5618c3a5b0601e5a9,Do not log passwords,MERGED,2018-05-18 20:10:30.000000000,2018-05-21 12:16:45.000000000,2018-05-21 12:16:45.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-05-18 20:10:30.000000000', 'files': ['tasks/octavia_service_add.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f6d417f76eaa83a06e73f330233a2951fab15ddd', 'message': 'Do not log passwords\n\nThis prevents data to be leaked into the callback plugin.\n\nChange-Id: Ic7f244fef35a9663c09b96c5618c3a5b0601e5a9\n(cherry picked from commit e15fff5e9d974d91839c74f4ac8b6fe6abc68ddc)\n'}]",0,569511,f6d417f76eaa83a06e73f330233a2951fab15ddd,7,3,1,10850,,,0,"Do not log passwords

This prevents data to be leaked into the callback plugin.

Change-Id: Ic7f244fef35a9663c09b96c5618c3a5b0601e5a9
(cherry picked from commit e15fff5e9d974d91839c74f4ac8b6fe6abc68ddc)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/11/569511/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_service_add.yml'],1,f6d417f76eaa83a06e73f330233a2951fab15ddd,, no_log: True no_log: True no_log: True no_log: True,,4,0
openstack%2Fkayobe~master~Ibdab0053caa2db71df2fd03cc8a598ae5aac73c9,openstack/kayobe,master,Ibdab0053caa2db71df2fd03cc8a598ae5aac73c9,Make kayobe ansible user bootstrap optional,MERGED,2018-04-12 17:31:29.000000000,2018-05-21 12:08:51.000000000,2018-05-21 12:08:51.000000000,"[{'_account_id': 14826}, {'_account_id': 16984}, {'_account_id': 17669}, {'_account_id': 18368}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-12 17:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/21370c7ff05116eb8c61faed263b2d149b29b0f9', 'message': ""Make kayobe ansible user bootstrap optional\n\nThe bootstrap user may be used to create the kayobe user account and configure\npasswordless sudo. We can't assume that the bootstrap user account will exist\nafter the initial bootstrapping, or that the current operator's key is\nauthorised for the bootstrap user. We therefore attempt to access the kayobe\nuser account via SSH, and only perform the bootstrap process if the account is\ninaccessible.\n\nThis change also adds some tasks to verify that the kayobe ansible user is\naccessible and has passwordless sudo configured.\n\nChange-Id: Ibdab0053caa2db71df2fd03cc8a598ae5aac73c9\nStory: 2001659\nTask: 6692\n""}, {'number': 2, 'created': '2018-04-12 17:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/37579f3b7d8214c53e3331a9ecc2465385bdfb92', 'message': ""Make kayobe ansible user bootstrap optional\n\nThe bootstrap user may be used to create the kayobe user account and\nconfigure passwordless sudo. We can't assume that the bootstrap user\naccount will exist after the initial bootstrapping, or that the current\noperator's key is authorised for the bootstrap user. We therefore\nattempt to access the kayobe user account via SSH, and only perform the\nbootstrap process if the account is inaccessible.\n\nThis change also adds some tasks to verify that the kayobe ansible user\nis accessible and has passwordless sudo configured.\n\nChange-Id: Ibdab0053caa2db71df2fd03cc8a598ae5aac73c9\nStory: 2001659\nTask: 6692\n""}, {'number': 3, 'created': '2018-05-04 15:35:16.000000000', 'files': ['ansible/kayobe-ansible-user.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/68fc8d30573b28914d9ccec12966f644807c2afb', 'message': ""Make kayobe ansible user bootstrap optional\n\nThe bootstrap user may be used to create the kayobe user account and\nconfigure passwordless sudo. We can't assume that the bootstrap user\naccount will exist after the initial bootstrapping, or that the current\noperator's key is authorised for the bootstrap user. We therefore\nattempt to access the kayobe user account via SSH, and only perform the\nbootstrap process if the account is inaccessible.\n\nThis change also adds some tasks to verify that the kayobe ansible user\nis accessible and has passwordless sudo configured.\n\nChange-Id: Ibdab0053caa2db71df2fd03cc8a598ae5aac73c9\nStory: 2001659\nTask: 6692\n""}]",2,560980,68fc8d30573b28914d9ccec12966f644807c2afb,22,5,3,14826,,,0,"Make kayobe ansible user bootstrap optional

The bootstrap user may be used to create the kayobe user account and
configure passwordless sudo. We can't assume that the bootstrap user
account will exist after the initial bootstrapping, or that the current
operator's key is authorised for the bootstrap user. We therefore
attempt to access the kayobe user account via SSH, and only perform the
bootstrap process if the account is inaccessible.

This change also adds some tasks to verify that the kayobe ansible user
is accessible and has passwordless sudo configured.

Change-Id: Ibdab0053caa2db71df2fd03cc8a598ae5aac73c9
Story: 2001659
Task: 6692
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/80/560980/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kayobe-ansible-user.yml'],1,21370c7ff05116eb8c61faed263b2d149b29b0f9,optional-bootstrap,"# NOTE(mgoddard): The bootstrap user may be used to create the kayobe user # account and configure passwordless sudo. We can't assume that the bootstrap # user account will exist after the initial bootstrapping, or that the # current operator's key is authorised for the bootstrap user. We therefore # attempt to access the kayobe user account via SSH, and only perform the # bootstrap process if the account is inaccessible. - name: Determine whether user bootstrapping is required gather_facts: false tags: - kayobe-ansible-user tasks: - name: Check whether the host is accessible via SSH local_action: module: command ssh -p {{ ssh_port }} {{ ssh_user }}@{{ ssh_host }} hostname failed_when: false changed_when: false register: ssh_result vars: ssh_user: ""{{ ansible_user }}"" ssh_host: ""{{ ansible_host | default(inventory_hostname) }}"" ssh_port: ""{{ ansible_ssh_port | default('22') }}"" - name: Group hosts requiring kayobe user bootstrapping group_by: key: kayobe_user_bootstrap_required_{{ ssh_result.rc != 0 }} - name: Display a message when bootstrapping is required debug: msg: > Cannot access host via SSH using Kayobe Ansible user account - attempting bootstrap when: ssh_result.rc != 0 - name: Ensure the Kayobe Ansible user account exists hosts: kayobe_user_bootstrap_required_True - name: Verify that the Kayobe Ansible user account is accessible hosts: seed:overcloud gather_facts: false tags: - kayobe-ansible-user tasks: - name: Verify that a command can be executed command: hostname changed_when: false - name: Verify that a command can be executed with become command: hostname changed_when: false become: true",- name: Ensure the Kayobe Ansible user account exists,51,1
openstack%2Fkolla-ansible~master~I6eb57702d4dad549ef8c999c1c82e577f316d8d6,openstack/kolla-ansible,master,I6eb57702d4dad549ef8c999c1c82e577f316d8d6,Adding ironic_dnsmasq_boot_file parameter to globals.yml,MERGED,2018-03-06 07:47:26.000000000,2018-05-21 11:28:20.000000000,2018-05-21 11:28:20.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24574}, {'_account_id': 26598}]","[{'number': 1, 'created': '2018-03-06 07:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4822ab374f3f168e4327afe2e2aaacf4b10e288f', 'message': 'Adding ironic_dnsmasq_boot_file parameter to globals.yml\n\nBy now, ironic-dnsmasq has default bootfile pxelinux.0,\nwhich is correct only for x86.\nAdding ironic_dnsmasq_boot_file parameter to globals.yml\nto make it configuable.\nFor example: /etc/kolla/globals.yml\nironic_dnsmasq_boot_file: ""debian-installer/arm64/bootnetaa64.efi""\n\nChange-Id: I6eb57702d4dad549ef8c999c1c82e577f316d8d6\n'}, {'number': 2, 'created': '2018-05-18 08:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1392d679acb3113723cba06760c3c8cfe8d682b1', 'message': 'Adding ironic_dnsmasq_boot_file parameter to globals.yml\n\nBy now, ironic-dnsmasq has default bootfile pxelinux.0,\nwhich is correct only for x86.\nAdding ironic_dnsmasq_boot_file parameter to globals.yml\nto make it configuable.\nFor example: /etc/kolla/globals.yml\nironic_dnsmasq_boot_file: ""debian-installer/arm64/bootnetaa64.efi""\n\nChange-Id: I6eb57702d4dad549ef8c999c1c82e577f316d8d6\n'}, {'number': 3, 'created': '2018-05-21 07:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f90e4f72e50b47a79881afa7e8ac78aba8f8e5ed', 'message': 'Adding ironic_dnsmasq_boot_file parameter to globals.yml\n\nBy now, ironic-dnsmasq has default bootfile pxelinux.0,\nwhich is correct only for x86.\nAdding ironic_dnsmasq_boot_file parameter to globals.yml\nto make it configuable.\nFor example: /etc/kolla/globals.yml\nironic_dnsmasq_boot_file: ""debian-installer/arm64/bootnetaa64.efi""\n\nChange-Id: I6eb57702d4dad549ef8c999c1c82e577f316d8d6\n'}, {'number': 4, 'created': '2018-05-21 07:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/994e3ad3c46e948048d0df6ba514d018ba8d6b8f', 'message': 'Adding ironic_dnsmasq_boot_file parameter to globals.yml\n\nBy now, ironic-dnsmasq has default bootfile pxelinux.0,\nwhich is correct only for x86.\nAdding ironic_dnsmasq_boot_file parameter to globals.yml\nto make it configuable.\nFor example: /etc/kolla/globals.yml\nironic_dnsmasq_boot_file: ""debian-installer/arm64/bootnetaa64.efi""\n\nChange-Id: I6eb57702d4dad549ef8c999c1c82e577f316d8d6\n'}, {'number': 5, 'created': '2018-05-21 08:36:04.000000000', 'files': ['doc/source/reference/ironic-guide.rst', 'ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'ansible/roles/ironic/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4eaf39702339fbb6800806b6a06b0edbae41063b', 'message': 'Adding ironic_dnsmasq_boot_file parameter to globals.yml\n\nBy now, ironic-dnsmasq has default bootfile pxelinux.0,\nwhich is correct only for x86.\nAdding ironic_dnsmasq_boot_file parameter to globals.yml\nto make it configuable.\nFor example: /etc/kolla/globals.yml\nironic_dnsmasq_boot_file: ""debian-installer/arm64/bootnetaa64.efi""\n\nChange-Id: I6eb57702d4dad549ef8c999c1c82e577f316d8d6\n'}]",7,549963,4eaf39702339fbb6800806b6a06b0edbae41063b,27,9,5,26598,,,0,"Adding ironic_dnsmasq_boot_file parameter to globals.yml

By now, ironic-dnsmasq has default bootfile pxelinux.0,
which is correct only for x86.
Adding ironic_dnsmasq_boot_file parameter to globals.yml
to make it configuable.
For example: /etc/kolla/globals.yml
ironic_dnsmasq_boot_file: ""debian-installer/arm64/bootnetaa64.efi""

Change-Id: I6eb57702d4dad549ef8c999c1c82e577f316d8d6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/549963/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'ansible/roles/ironic/defaults/main.yml', 'etc/kolla/globals.yml']",3,4822ab374f3f168e4327afe2e2aaacf4b10e288f,ironic-update,#ironic_dnsmasq_boot_file:,,3,1
openstack%2Fkolla-ansible~master~I3e03762217fbef1fb0cbff6239abb109cbec226b,openstack/kolla-ansible,master,I3e03762217fbef1fb0cbff6239abb109cbec226b,Support deploying the Monasca API,MERGED,2018-04-06 16:54:53.000000000,2018-05-21 11:05:54.000000000,2018-05-21 11:05:54.000000000,"[{'_account_id': 11869}, {'_account_id': 14151}, {'_account_id': 14826}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 21922}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 23717}, {'_account_id': 25945}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-04-06 16:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc4adbf545a7ca3697e4e92a29115fc1e11c5179', 'message': 'Supporting deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 2, 'created': '2018-04-06 17:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/822395d8103bb8b202bdebfa572116067b2cfe23', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 3, 'created': '2018-04-09 17:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e478cdfeff96263d4bc08996deb3bf9460b64d6b', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 4, 'created': '2018-04-12 16:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a45631ee7a82c7d8e0e3240fe2ef50166f4bf03', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 5, 'created': '2018-04-12 16:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad0b1069192069369718f29e21ceb4b2a5449e16', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 6, 'created': '2018-04-13 08:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a46e5c5ed146d758f3702ed578d9e18e5702b864', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 7, 'created': '2018-04-13 08:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64941d63defd122b48e16e766c8af6b7af6b6c1d', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 8, 'created': '2018-04-13 16:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e47301fc5f016d94c30b4eb8f54516e92d28080', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 9, 'created': '2018-04-13 17:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/38404da1ad40e57ca30760c497f4161afc731ef2', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 10, 'created': '2018-04-13 17:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9d529039b589221acc0cef6790e5482229f46b2', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 11, 'created': '2018-04-16 09:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fac1d481110c7e8851a9c36ce181716ecec5bdb0', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 12, 'created': '2018-04-16 09:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df5831189e69ca7b7e373ba750971723b3f6523f', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 13, 'created': '2018-04-16 10:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3b2382aebd76d2b1ddb44ef3af937e3d8879fb6a', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 14, 'created': '2018-04-16 12:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a692d4a9bcaa408ce6f43542ce0255fabe63e8c', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 15, 'created': '2018-04-16 15:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/30b96ad6086fa890de9f9d3e0fb469b0440886e5', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 16, 'created': '2018-04-17 13:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60e36fe2eecb2071256348354e4635eb3235f4c7', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 17, 'created': '2018-04-18 08:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/731ce44d20ebc8e2fb4d19f98cde70cbd17cc843', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 18, 'created': '2018-05-21 09:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e787e582bd63d8b92d65d78da81b0ea9731d562', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}, {'number': 19, 'created': '2018-05-21 09:28:17.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/common/templates/cron-logrotate-monasca.conf.j2', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/common/templates/cron.json.j2', 'ansible/roles/monasca/tasks/reconfigure.yml', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/site.yml', 'ansible/roles/monasca/tasks/bootstrap_service.yml', 'ansible/roles/monasca/tasks/bootstrap.yml', 'releasenotes/notes/add-monasca-api-eb536dd5a6d77563.yaml', 'ansible/roles/monasca/tasks/pull.yml', 'ansible/inventory/all-in-one', 'ansible/roles/monasca/tasks/register.yml', 'ansible/roles/monasca/templates/monasca-api/monasca-api.json.j2', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/tasks/precheck.yml', 'etc/kolla/globals.yml', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'ansible/roles/monasca/tasks/main.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/templates/monasca-api/api-config.ini.j2', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/monasca/templates/monasca-api/api-config.conf.j2', 'etc/kolla/passwords.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/monasca/tasks/check.yml', 'ansible/group_vars/all.yml', 'ansible/roles/monasca/meta/main.yml', 'ansible/roles/monasca/templates/monasca-api/wsgi-api.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c11f9f521d5833a8dd41bfdb32c1927daa42b00c', 'message': 'Support deploying the Monasca API\n\nDeploys the Monasca API with mod_wsgi + Apache.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b\n'}]",74,559375,c11f9f521d5833a8dd41bfdb32c1927daa42b00c,76,14,19,17669,,,0,"Support deploying the Monasca API

Deploys the Monasca API with mod_wsgi + Apache.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Partially-Implements: blueprint monasca-roles
Change-Id: I3e03762217fbef1fb0cbff6239abb109cbec226b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/559375/19 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/common/templates/cron-logrotate-monasca.conf.j2', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/common/templates/cron.json.j2', 'ansible/roles/monasca/tasks/reconfigure.yml', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/site.yml', 'ansible/roles/monasca/tasks/bootstrap.yml', 'ansible/roles/monasca/tasks/pull.yml', 'ansible/inventory/all-in-one', 'ansible/roles/monasca/tasks/register.yml', 'ansible/roles/monasca/templates/monasca-api/monasca-api.json.j2', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/tasks/precheck.yml', 'etc/kolla/globals.yml', 'ansible/roles/monasca/tasks/main.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/templates/monasca-api/api-logging.conf.j2', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/monasca/templates/monasca-api/api-config.conf.j2', 'etc/kolla/passwords.yml', 'ansible/roles/monasca/tasks/check.yml', 'ansible/group_vars/all.yml', 'ansible/roles/monasca/meta/main.yml', 'ansible/roles/monasca/templates/monasca-api/wsgi-api.conf.j2']",26,dc4adbf545a7ca3697e4e92a29115fc1e11c5179,bp/monasca-roles,"{% set python_path = '/usr/lib/python2.7/site-packages' if kolla_install_type == 'binary' else '/var/lib/kolla/venv/lib/python2.7/site-packages' %} {% set wsgi_path = '/usr/bin' if monasca_install_type == 'binary' else '/monasca-api/monasca_api/api' %} Listen {{ api_interface_address }}:{{ monasca_api_port }} TraceEnable off <VirtualHost *:{{ monasca_api_port }}> ErrorLog ""/var/log/kolla/monasca/monasca-api/monasca-api-error.log"" LogFormat ""%{X-Forwarded-For}i %l %u %t \""%r\"" %>s %b %D \""%{Referer}i\"" \""%{User-Agent}i\"""" logformat CustomLog ""/var/log/kolla/monasca/monasca-api/monasca-api-access.log"" logformat WSGIApplicationGroup %{GLOBAL} WSGIDaemonProcess monasca-api group=monasca processes={{ openstack_service_workers }} threads=1 user=monasca python-path={{ python_path }} WSGIProcessGroup monasca-api WSGIScriptAlias / {{ wsgi_path }}/wsgi.py WSGIPassAuthorization On SetEnv no-gzip 1 <Directory ""{{ wsgi_path }}""> Require all granted </Directory> </VirtualHost> ",,486,2
openstack%2Fnova~master~Ie29f8a92749ef96ce6c7b8c045d7986fe8036fe5,openstack/nova,master,Ie29f8a92749ef96ce6c7b8c045d7986fe8036fe5,Retry decorator fix for autoscale delete,ABANDONED,2018-05-21 10:56:42.000000000,2018-05-21 11:04:09.000000000,,[],"[{'number': 1, 'created': '2018-05-21 10:56:42.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/088f5d51aa2dd092049b3de78023b294ae272968', 'message': ""Retry decorator fix for autoscale delete\n\ndeallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line for\nthe failure is 'Setting instance vm_state to ERROR',\nFailure in do_terminate_instance.\n\nChange-Id: Ie29f8a92749ef96ce6c7b8c045d7986fe8036fe5\n""}]",0,569777,088f5d51aa2dd092049b3de78023b294ae272968,2,0,1,27482,,,0,"Retry decorator fix for autoscale delete

deallocate-network-retry

retry fix for VM going to ERROR state during auto-scale delete instance

Delete issued to building server leaves the instance in error state due to
not able to deallocate network error.During auto-scale delete, some of
the machines go into ERROR state rather than being deleted.This happens
once in a while during deletion of the instances at scale.Log line for
the failure is 'Setting instance vm_state to ERROR',
Failure in do_terminate_instance.

Change-Id: Ie29f8a92749ef96ce6c7b8c045d7986fe8036fe5
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/569777/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,088f5d51aa2dd092049b3de78023b294ae272968,retry_decorator," @loopingcall.RetryDecorator(max_retry_count=3, inc_sleep_time=10, max_sleep_time=30, exceptions=( keystone_exception.connection.ConnectFailure,))",,24,0
openstack%2Ftripleo-validations~stable%2Fnewton~I895fc83d148523c283664080b7b1bf75d53d9edb,openstack/tripleo-validations,stable/newton,I895fc83d148523c283664080b7b1bf75d53d9edb,Validate that there should not be XFS volumes with ftype=0,MERGED,2018-04-27 11:52:50.000000000,2018-05-21 10:48:41.000000000,2018-05-21 10:48:41.000000000,"[{'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 11:52:50.000000000', 'files': ['releasenotes/notes/validate-xfs-ftype-equals-0-8fdb1f8c99bee975.yaml', 'validations/check-ftype.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3130bc412917b7591b532ca792f6df909df21615', 'message': 'Validate that there should not be XFS volumes with ftype=0\n\nIf  we have XFS partitions formatted with ftype=0,\nthe upgrades will fail because ftype=0 is incompatible\nwith the docker overlayfs driver.\n\nRelated-Bug: 1765121\nChange-Id: I895fc83d148523c283664080b7b1bf75d53d9edb\n(cherry picked from commit a5e63ee72531c85ee527ce721022fffce3cfcf75)\n(cherry picked from commit d54ae2d1e21245f7033107e1bae327621f54f82f)\n'}]",0,564739,3130bc412917b7591b532ca792f6df909df21615,7,2,1,20775,,,0,"Validate that there should not be XFS volumes with ftype=0

If  we have XFS partitions formatted with ftype=0,
the upgrades will fail because ftype=0 is incompatible
with the docker overlayfs driver.

Related-Bug: 1765121
Change-Id: I895fc83d148523c283664080b7b1bf75d53d9edb
(cherry picked from commit a5e63ee72531c85ee527ce721022fffce3cfcf75)
(cherry picked from commit d54ae2d1e21245f7033107e1bae327621f54f82f)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/39/564739/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/validate-xfs-ftype-equals-0-8fdb1f8c99bee975.yaml', 'validations/check-ftype.yaml']",2,3130bc412917b7591b532ca792f6df909df21615,bug/1765121-stable/queens-stable/pike-stable/ocata-stable/newton,"--- - hosts: undercloud, overcloud vars: metadata: name: XFS ftype check description: > Check if there is at least 1 XFS volume with ftype=0 in any deployed node. groups: - pre-upgrade tasks: - name: Check if there are XFS volumes with ftype=0 become: true shell: | for dev in $(df -h | grep '/dev/' | grep -v 'tmp' | cut -d' ' -f1) do parseftype=$(xfs_info $dev | grep ftype=0); if [[ ! -z ""$parseftype"" ]]; then ftype=""ftype=0""; break; fi done echo $ftype; register: ftype changed_when: false - name: Check ftype fail: msg: > XFS volumes formatted using ftype=0 are incompatible with the docker overlayfs driver. Run xfs_info in {{ ansible_fqdn }} and fix those volumes before proceeding with the upgrade. when: - ftype.stdout == 'ftype=0' ",,47,0
openstack%2Ftripleo-heat-templates~master~I3d526b374b6233bad69f5c6be12036b3ede37028,openstack/tripleo-heat-templates,master,I3d526b374b6233bad69f5c6be12036b3ede37028,Enable logging for tempest container,MERGED,2018-05-04 16:52:27.000000000,2018-05-21 10:48:40.000000000,2018-05-21 10:48:40.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-04 16:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e943a1a193ecf801f43c1a1ed6ac3b790696267', 'message': 'Enable logging for tempest container\n\n* In order to make sure tempest container is available in CI,\n  It adds the logging for the same in /var/log/containers/tempest.\n\nChange-Id: I3d526b374b6233bad69f5c6be12036b3ede37028\n'}, {'number': 2, 'created': '2018-05-09 05:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d36ccececb95aa7f8795cf96cc55be12073d2f7', 'message': 'Enable logging for tempest container\n\n* In order to make sure tempest container is available in CI,\n  It adds the logging for the same in /var/log/containers/tempest.\n\nChange-Id: I3d526b374b6233bad69f5c6be12036b3ede37028\n'}, {'number': 3, 'created': '2018-05-09 06:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/207e2619a665590f1c46995e68c31a85cdc66f15', 'message': 'Enable logging for tempest container\n\n* In order to make sure tempest container is available in CI,\n  It adds the logging for the same in /var/log/containers/tempest.\n\nChange-Id: I3d526b374b6233bad69f5c6be12036b3ede37028\n'}, {'number': 4, 'created': '2018-05-15 07:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db004da34b5e07913108d8fbd519b13c0fb851da', 'message': 'Enable logging for tempest container\n\n* In order to make sure tempest container is available in CI,\n  It adds the logging for the same in /var/log/containers/tempest.\n\nChange-Id: I3d526b374b6233bad69f5c6be12036b3ede37028\n'}, {'number': 5, 'created': '2018-05-17 07:20:18.000000000', 'files': ['docker/services/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f30a0578ba1211686e014561038118003c3903fa', 'message': 'Enable logging for tempest container\n\n* In order to make sure tempest container is available in CI,\n  It adds the logging for the same in /var/log/containers/tempest.\n\nChange-Id: I3d526b374b6233bad69f5c6be12036b3ede37028\n'}]",3,566364,f30a0578ba1211686e014561038118003c3903fa,35,9,5,12393,,,0,"Enable logging for tempest container

* In order to make sure tempest container is available in CI,
  It adds the logging for the same in /var/log/containers/tempest.

Change-Id: I3d526b374b6233bad69f5c6be12036b3ede37028
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/566364/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/tempest.yaml'],1,8e943a1a193ecf801f43c1a1ed6ac3b790696267,tempest_log," step_2: tempest_init_logs: image: &tempest_image {get_param: DockerTempestImage} privileged: false user: root volumes: - /var/log/containers/tempest:/var/log/tempest command: ['/bin/bash', '-c', 'chown -R tempest:tempest /var/log/tempest']", volumes: '',8,1
openstack%2Fswift~feature%2Fdeep-review~I0693e54c1d7f3b77f53c3df5c616a16f74723b97,openstack/swift,feature/deep-review,I0693e54c1d7f3b77f53c3df5c616a16f74723b97,Add container sharding documentation,MERGED,2018-05-02 13:09:28.000000000,2018-05-21 10:38:06.000000000,2018-05-19 01:00:42.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-02 13:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6f6e308f4e5ad695c4a974a999eca4a98de40da8', 'message': 'Add container sharding documentation\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 2, 'created': '2018-05-03 16:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/057396496e62c37e32672124ed0f919b2bb69e3c', 'message': 'Add container sharding documentation\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 3, 'created': '2018-05-04 08:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1230fcd5e84c1ffdb16e4a8ede437fd40c980214', 'message': 'Add container sharding documentation\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 4, 'created': '2018-05-07 16:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/65c46acb1cffcfde9f5478461eb43f33276a824b', 'message': 'Add container sharding documentation\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 5, 'created': '2018-05-08 10:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/981fc3f94f2a1dbaf25855119d2bd8907cca63c4', 'message': 'Add container sharding documentation\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 6, 'created': '2018-05-08 16:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7f7571187cf80288b7ab1354879c8fab539a7524', 'message': 'Add container sharding documentation\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 7, 'created': '2018-05-09 16:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4aab004e75638283aaa891c0285d327a7f26a3a1', 'message': 'Add container sharding documentation\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 8, 'created': '2018-05-10 17:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/56e25e1d7150bde0a96957ee14f774ac4b3c2c5b', 'message': 'Add container sharding documentation\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 9, 'created': '2018-05-11 18:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/63e41cf3e0764c39a2ec4beba4845e2cbff69171', 'message': 'Add container sharding documentation\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 10, 'created': '2018-05-11 23:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8407f179b4e171cde25cd57246a9a3b511698e47', 'message': 'Add container sharding documentation\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 11, 'created': '2018-05-14 14:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1a6ee1c366e2620a96050e96db1e1c472e255e05', 'message': 'Add container sharding documentation\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 12, 'created': '2018-05-15 17:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8bade97c0a1d08e5b1636ec9a89a2f16bdd1166d', 'message': 'Add container sharding documentation\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 13, 'created': '2018-05-16 18:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8b11b8231e1ced698b5878623774cb08a94dfccb', 'message': 'Add container sharding documentation\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 14, 'created': '2018-05-17 18:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/60ae7db88708546f64dec356b631a44243af33d6', 'message': 'Add container sharding documentation\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}, {'number': 15, 'created': '2018-05-18 19:08:40.000000000', 'files': ['doc/source/images/sharding_cleave2_load.svg', 'doc/source/container.rst', 'doc/source/images/sharding_cleave_basic.svg', 'doc/source/overview_container_sharding.rst', 'doc/source/images/sharding_db_states.svg', 'doc/source/images/sharding_cleave1_load.svg', 'doc/source/images/sharded_GET.svg', 'doc/source/logs.rst', 'doc/source/index.rst', 'doc/source/images/sharding_unsharded_load.svg', 'doc/source/overview_architecture.rst', 'doc/source/images/sharding_GET.svg', 'doc/source/images/sharding_sharded_load.svg', 'doc/source/images/sharding_scan_basic.svg', 'doc/source/images/sharding_unsharded.svg', 'doc/source/images/sharding_scan_load.svg'], 'web_link': 'https://opendev.org/openstack/swift/commit/5c5b08d0472f695a0d81655ab80725f1be08d308', 'message': 'Add container sharding documentation\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97\n'}]",18,565749,5c5b08d0472f695a0d81655ab80725f1be08d308,46,7,15,7847,,,0,"Add container sharding documentation

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Co-Authored-By: John Dickinson <me@not.mn>

Change-Id: I0693e54c1d7f3b77f53c3df5c616a16f74723b97
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/565749/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/images/sharding_lock2.png', 'doc/source/container.rst', 'doc/source/images/sharding_db_states.png', 'doc/source/images/sharding_lock_sharding_GET.png', 'doc/source/images/sharding_snip4.png', 'doc/source/overview_container_sharding.rst', 'doc/source/images/sharding_snip2.png', 'doc/source/images/sharding_lock3.png', 'doc/source/images/sharding_lock5.png', 'doc/source/images/sharding_snip3.png', 'doc/source/index.rst', 'doc/source/images/sharding_lock1.png', 'doc/source/images/sharding_lock_sharded_GET.png', 'doc/source/images/sharding_snip1.png', 'doc/source/images/sharding_snip5.png', 'doc/source/images/sharding_lock4.png']",16,6f6e308f4e5ad695c4a974a999eca4a98de40da8,rev10,,,1213,4
openstack%2Fkayobe~master~I01daebb219a7e1c7ac0803db17efc14e3173561d,openstack/kayobe,master,I01daebb219a7e1c7ac0803db17efc14e3173561d,Fix yamllint issues in kolla-openstack role,MERGED,2018-05-16 16:45:45.000000000,2018-05-21 10:21:28.000000000,2018-05-21 10:21:28.000000000,"[{'_account_id': 16984}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 16:45:45.000000000', 'files': ['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/molecule/enable-everything/prepare.yml', 'ansible/roles/kolla-openstack/.yamllint', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ac93b8e2e2a19e53a0effc428ecc569adfa3a160', 'message': 'Fix yamllint issues in kolla-openstack role\n\nChange-Id: I01daebb219a7e1c7ac0803db17efc14e3173561d\n'}]",0,568896,ac93b8e2e2a19e53a0effc428ecc569adfa3a160,7,3,1,14826,,,0,"Fix yamllint issues in kolla-openstack role

Change-Id: I01daebb219a7e1c7ac0803db17efc14e3173561d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/96/568896/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/molecule/enable-everything/prepare.yml', 'ansible/roles/kolla-openstack/.yamllint', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml']",5,ac93b8e2e2a19e53a0effc428ecc569adfa3a160,use-master, kolla_enable_ceph: true kolla_enable_cinder: true kolla_enable_designate: true kolla_enable_glance: true kolla_enable_grafana: true kolla_enable_heat: true kolla_enable_horizon: true kolla_enable_influxdb: true kolla_enable_ironic: true kolla_enable_kafka: true kolla_enable_magnum: true kolla_enable_manila: true kolla_enable_murano: true kolla_enable_monasca: true kolla_enable_neutron: true kolla_enable_nova: true kolla_enable_sahara: true kolla_enable_swift: true kolla_enable_zookeeper: true, kolla_enable_ceph: True kolla_enable_cinder: True kolla_enable_designate: True kolla_enable_glance: True kolla_enable_grafana: True kolla_enable_heat: True kolla_enable_horizon: True kolla_enable_influxdb: True kolla_enable_ironic: True kolla_enable_kafka: True kolla_enable_magnum: True kolla_enable_manila: True kolla_enable_murano: True kolla_enable_monasca: True kolla_enable_neutron: True kolla_enable_nova: True kolla_enable_sahara: True kolla_enable_swift: True kolla_enable_zookeeper: True,26,29
openstack%2Ftripleo-docs~master~I1f076105a47b70d11311a8c950e0fe5760d6fd5f,openstack/tripleo-docs,master,I1f076105a47b70d11311a8c950e0fe5760d6fd5f,undercloud/upgrade: suggest backup before upgrade,MERGED,2018-05-17 21:54:57.000000000,2018-05-21 10:07:56.000000000,2018-05-21 10:07:56.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 10239}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 21:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e3bde227fc7bc05eadbea082caf85b30782a248e', 'message': ""undercloud/upgrade: suggest backup before upgrade\n\nSuggest to perform a backup before the undercloud upgrade and validate\nthat the restore works fine. It's to make sure our operators understand\nthis procedure is critical.\nWe'll also add some warning in tripleoclient so our operators are asked\nto do a backup before proceeding to the upgrade.\n\nChange-Id: I1f076105a47b70d11311a8c950e0fe5760d6fd5f\n""}, {'number': 2, 'created': '2018-05-17 23:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6edb2202b3aa468f13deeefce26ddaae1389d3bf', 'message': ""undercloud/upgrade: suggest backup before upgrade\n\nSuggest to perform a backup before the undercloud upgrade and validate\nthat the restore works fine. It's to make sure our operators understand\nthis procedure is critical.\nWe'll also add some warning in tripleoclient so our operators are asked\nto do a backup before proceeding to the upgrade.\n\nChange-Id: I1f076105a47b70d11311a8c950e0fe5760d6fd5f\n""}, {'number': 3, 'created': '2018-05-18 14:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/15cd6b1de4a88f4b56960c1317e80aa4c3a76c8b', 'message': ""undercloud/upgrade: suggest backup before upgrade\n\nSuggest to perform a backup before the undercloud upgrade and validate\nthat the restore works fine. It's to make sure our operators understand\nthis procedure is critical.\nWe'll also add some warning in tripleoclient so our operators are asked\nto do a backup before proceeding to the upgrade.\n\nAlso removing the note about the fact any package can be upgraded. This\nnote is not useful as we're moving to containers anyway.\n\nChange-Id: I1f076105a47b70d11311a8c950e0fe5760d6fd5f\n""}, {'number': 4, 'created': '2018-05-18 15:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/59d7419e5eb345676cb1a4ecac6c2bf475079ff2', 'message': ""undercloud/upgrade: suggest backup before upgrade\n\nSuggest to perform a backup before the undercloud upgrade and validate\nthat the restore works fine. It's to make sure our operators understand\nthis procedure is critical.\nWe'll also add some warning in tripleoclient so our operators are asked\nto do a backup before proceeding to the upgrade.\n\nAlso removing the note about the fact any package can be upgraded. This\nnote is not useful as we're moving to containers anyway.\n\nChange-Id: I1f076105a47b70d11311a8c950e0fe5760d6fd5f\n""}, {'number': 5, 'created': '2018-05-18 15:16:28.000000000', 'files': ['doc/source/install/installation/updating.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0fc1315e601656f11cd001d288ffb51c1c5f1ec1', 'message': ""undercloud/upgrade: suggest backup before upgrade\n\nSuggest to perform a backup before the undercloud upgrade and validate\nthat the restore works fine. It's to make sure our operators understand\nthis procedure is critical.\nWe'll also add some warning in tripleoclient so our operators are asked\nto do a backup before proceeding to the upgrade.\n\nAlso removing the note about the fact any package can be upgraded. This\nnote is not useful as we're moving to containers anyway.\n\nChange-Id: I1f076105a47b70d11311a8c950e0fe5760d6fd5f\n""}]",2,569279,0fc1315e601656f11cd001d288ffb51c1c5f1ec1,18,7,5,3153,,,0,"undercloud/upgrade: suggest backup before upgrade

Suggest to perform a backup before the undercloud upgrade and validate
that the restore works fine. It's to make sure our operators understand
this procedure is critical.
We'll also add some warning in tripleoclient so our operators are asked
to do a backup before proceeding to the upgrade.

Also removing the note about the fact any package can be upgraded. This
note is not useful as we're moving to containers anyway.

Change-Id: I1f076105a47b70d11311a8c950e0fe5760d6fd5f
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/79/569279/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/installation/updating.rst'],1,e3bde227fc7bc05eadbea082caf85b30782a248e,warning/upgrade,"#. Before upgrading the undercloud, it is highly suggested to perform a backup_ of the undercloud and validate that a restore works fine. .. _backup: ../../install/controlplane_backup_restore",,3,0
openstack%2Ftripleo-ha-utils~master~I82c8bd4a41bce267fdad21c259c197e3edfe7497,openstack/tripleo-ha-utils,master,I82c8bd4a41bce267fdad21c259c197e3edfe7497,Make instance HA uninstallation idempotent,MERGED,2018-05-14 14:06:54.000000000,2018-05-21 10:07:16.000000000,2018-05-21 10:07:16.000000000,"[{'_account_id': 6449}, {'_account_id': 17823}, {'_account_id': 20936}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 27978}]","[{'number': 1, 'created': '2018-05-14 14:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/35cf0664b1958fd1a5b3109783008d5b5d2b67f0', 'message': 'Make instance HA uninstallation idempotent\n\nThis commit pairs with the one related to the pre checks [1] and make\nthe instance HA uninstallation idempotent, so that it will be possible\nto run even if something was interrupted before.\n\n[1] https://review.openstack.org/#/c/567892/\n\nChange-Id: I82c8bd4a41bce267fdad21c259c197e3edfe7497\n'}, {'number': 2, 'created': '2018-05-14 14:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/e9936a5f47e86db389d0776e5999d20ffee9a627', 'message': 'Make instance HA uninstallation idempotent\n\nThis commit pairs with the one related to the pre checks [1] and make\nthe instance HA uninstallation idempotent, so that it will be possible\nto run even if something was interrupted before.\n\n[1] https://review.openstack.org/#/c/567892/\n\nChange-Id: I82c8bd4a41bce267fdad21c259c197e3edfe7497\n'}, {'number': 3, 'created': '2018-05-17 11:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/df0d8889d1b1e86d373a551d520bc7b84dd01471', 'message': 'Make instance HA uninstallation idempotent\n\nThis commit pairs with the one related to the pre checks [1] and make\nthe instance HA uninstallation idempotent, so that it will be possible\nto run even if something was interrupted before.\n\n[1] https://review.openstack.org/#/c/567892/\n\nChange-Id: I82c8bd4a41bce267fdad21c259c197e3edfe7497\n'}, {'number': 4, 'created': '2018-05-17 16:03:15.000000000', 'files': ['roles/instance-ha/tasks/undo.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/e3aca95dcadd682d07778f4d32c6ce929a2ec6eb', 'message': 'Make instance HA uninstallation idempotent\n\nThis commit pairs with the one related to the pre checks [1] and make\nthe instance HA uninstallation idempotent, so that it will be possible\nto run even if something was interrupted before.\n\n[1] https://review.openstack.org/#/c/567892/\n\nChange-Id: I82c8bd4a41bce267fdad21c259c197e3edfe7497\n'}]",0,568296,e3aca95dcadd682d07778f4d32c6ce929a2ec6eb,16,6,4,20936,,,0,"Make instance HA uninstallation idempotent

This commit pairs with the one related to the pre checks [1] and make
the instance HA uninstallation idempotent, so that it will be possible
to run even if something was interrupted before.

[1] https://review.openstack.org/#/c/567892/

Change-Id: I82c8bd4a41bce267fdad21c259c197e3edfe7497
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/96/568296/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/instance-ha/tasks/undo.yml'],1,35cf0664b1958fd1a5b3109783008d5b5d2b67f0,add_idempotent_instance_ha_removal," for stonithid in $(pcs stonith show | grep ""fence_compute"" | awk '{print $1}') do done for resourceid in $(pcs resource show | grep compute | grep -v -e Stopped: -e Started: -e disabled -e remote | awk '{print $3}') do pcs resource cleanup $resourceid pcs --force resource delete $resourceid done for resourceid in $(pcs resource show | grep NovaEvacuate | awk 'NovaEvacuate/ {print $1}') do pcs resource cleanup $resourceid pcs --force resource delete $resourceid done for resourceid in $(pcs resource show | awk '/:remote/ {print $1}') do pcs resource cleanup $resourceid pcs --force resource delete $resourceid done for constraintid in $(pcs config show | grep -B 3 ""osprole eq controller"" | awk '/Constraint/ {print $2}') do pcs constraint delete $constraintid done shell: | for nodeid in $(pcs property | awk '/osprole/ { print $1 }' | cut -d: -f1) do pcs property unset --node $nodeid osprole done shell: | for propertyid in $(pcs property | awk '/cluster-recheck-interval/ { print $1 }' | cut -d: -f1) do pcs property unset cluster-recheck-interval done for resource in $(pcs status | sed -n -e '/Failed Actions:/,/^$/p' | egrep 'OCF_|not running|unknown' | awk '{print $2}' | cut -f1 -d_ | sort |uniq) do pcs resource cleanup $resource done shell: | for rule in $(iptables-save | grep ""\-A INPUT \-p tcp \-\-dport 3121 \-j ACCEPT"") do iptables -D INPUT -p tcp --dport 3121 -j ACCEPT done"," for resourceid in $(pcs resource show | grep compute | grep -v -e Stopped: -e Started: -e disabled -e remote | awk '{print $3}') do pcs resource cleanup $resourceid pcs --force resource delete $resourceid done for resourceid in $(pcs resource show | grep NovaEvacuate | awk '{print $1}') do pcs resource cleanup $resourceid pcs --force resource delete $resourceid done for resourceid in $(pcs resource show | grep :remote | awk '{print $1}') do pcs resource cleanup $resourceid pcs --force resource delete $resourceid done # - name: Erase the status entries corresponding to the compute nodes # shell: | # cibadmin --delete --xml-text ""<node id='{{ item }}'/>"" # cibadmin --delete --xml-text ""<node_state id={{ item }}'/>"" # with_items: # - ""{{ groups['compute'] }}"" for constraintid in $(pcs config show | grep -B 3 ""osprole eq controller"" | awk '/Constraint/ {print $2}') do pcs constraint delete $constraintid done shell: ""pcs property unset --node {{ hostvars[item]['ansible_hostname'] }} osprole"" with_items: ""{{ groups['controller'] }}"" shell: ""pcs property unset cluster-recheck-interval"" for resource in $(pcs status | sed -n -e '/Failed Actions:/,/^$/p' | egrep 'OCF_|not running|unknown' | awk '{print $2}' | cut -f1 -d_ | sort |uniq) do pcs resource cleanup $resource done shell: > iptables -D INPUT -p tcp --dport 3121 -j ACCEPT;",41,36
openstack%2Fmistral~stable%2Fpike~Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,openstack/mistral,stable/pike,Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,"Release note for using ""passive_deletes=True""",MERGED,2018-05-21 09:01:03.000000000,2018-05-21 10:05:44.000000000,2018-05-21 10:05:44.000000000,"[{'_account_id': 9712}, {'_account_id': 11085}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 09:01:03.000000000', 'files': ['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/4e28b65fcf55d4c7c17f7221299862bea0262852', 'message': 'Release note for using ""passive_deletes=True""\n\nThis update includes a small change to mention memory\nsavings for the new configuration option.\n\nChange-Id: Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde\n(cherry picked from commit d3c6bf7767fda544be79af94d3e0b26e1e3b2a3e)\n'}]",0,569749,4e28b65fcf55d4c7c17f7221299862bea0262852,6,3,1,9712,,,0,"Release note for using ""passive_deletes=True""

This update includes a small change to mention memory
savings for the new configuration option.

Change-Id: Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde
(cherry picked from commit d3c6bf7767fda544be79af94d3e0b26e1e3b2a3e)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/49/569749/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'],1,4e28b65fcf55d4c7c17f7221299862bea0262852,passive_deletes-stable/pike, deletion which also reduces the memory requirement on the system., deleting them.,1,1
openstack%2Fmistral~stable%2Fqueens~Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,openstack/mistral,stable/queens,Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,"Release note for using ""passive_deletes=True""",MERGED,2018-05-21 09:00:03.000000000,2018-05-21 09:57:08.000000000,2018-05-21 09:57:08.000000000,"[{'_account_id': 9712}, {'_account_id': 11085}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 09:00:03.000000000', 'files': ['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/72f1ddebb4bec021bc0551a01d885444b4139be0', 'message': 'Release note for using ""passive_deletes=True""\n\nThis update includes a small change to mention memory\nsavings for the new configuration option.\n\nChange-Id: Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde\n(cherry picked from commit d3c6bf7767fda544be79af94d3e0b26e1e3b2a3e)\n'}]",0,569748,72f1ddebb4bec021bc0551a01d885444b4139be0,6,3,1,9712,,,0,"Release note for using ""passive_deletes=True""

This update includes a small change to mention memory
savings for the new configuration option.

Change-Id: Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde
(cherry picked from commit d3c6bf7767fda544be79af94d3e0b26e1e3b2a3e)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/48/569748/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'],1,72f1ddebb4bec021bc0551a01d885444b4139be0,passive_deletes-stable/queens, deletion which also reduces the memory requirement on the system., deleting them.,1,1
openstack%2Ftripleo-heat-templates~master~I7335e7d9113bd248a1a00007d38f574291ffef9a,openstack/tripleo-heat-templates,master,I7335e7d9113bd248a1a00007d38f574291ffef9a,Correct log location in container environment for Fluentd,ABANDONED,2018-05-15 09:12:56.000000000,2018-05-21 09:39:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-05-15 09:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1088c7a575efcf92810604c227fabafe2a519bc6', 'message': 'WIP Correct log location in container environment for Fluentd\n\nIllustrate an alternative approach to https://review.openstack.org/#/c/566228/\nfor discussion\n\nChange-Id: I7335e7d9113bd248a1a00007d38f574291ffef9a\nCloses-Bug: 1769051\n'}, {'number': 2, 'created': '2018-05-15 09:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5eda54bd66bf1a0584c29b9cb81121b88b773be', 'message': 'Correct log location in container environment for Fluentd\n\nAlternative approach to https://review.openstack.org/#/c/566228/\n\nCo-Authored-By: Thomas Herve <therve@redhat.com>\nChange-Id: I7335e7d9113bd248a1a00007d38f574291ffef9a\nCloses-Bug: 1769051\n'}, {'number': 3, 'created': '2018-05-15 11:37:24.000000000', 'files': ['docker/services/designate-central.yaml', 'docker/services/database/mongodb.yaml', 'docker/services/ceilometer-agent-central.yaml', 'docker/services/nova-api.yaml', 'docker/services/designate-api.yaml', 'docker/services/designate-sink.yaml', 'docker/services/heat-api.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/ec2-api.yaml', 'tools/yaml-validate.py', 'docker/services/cinder-scheduler.yaml', 'docker/services/cinder-volume.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/designate-mdns.yaml', 'docker/services/designate-worker.yaml', 'docker/services/designate-producer.yaml', 'docker/services/neutron-api.yaml', 'docker/services/keystone.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/heat-engine.yaml', 'docker/services/cinder-api.yaml', 'docker/services/glance-api.yaml', 'docker/services/ceilometer-agent-notification.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5391dc94a073e0a5550bac29c5b65663235f2c08', 'message': 'Correct log location in container environment for Fluentd\n\nAlternative approach to https://review.openstack.org/#/c/566228/\n\nCo-Authored-By: Thomas Herve <therve@redhat.com>, Cdric Jeanneret <cjeanner@redhat.com>\nChange-Id: I7335e7d9113bd248a1a00007d38f574291ffef9a\nCloses-Bug: 1769051\n'}]",0,568540,5391dc94a073e0a5550bac29c5b65663235f2c08,7,3,3,4328,,,0,"Correct log location in container environment for Fluentd

Alternative approach to https://review.openstack.org/#/c/566228/

Co-Authored-By: Thomas Herve <therve@redhat.com>, Cdric Jeanneret <cjeanner@redhat.com>
Change-Id: I7335e7d9113bd248a1a00007d38f574291ffef9a
Closes-Bug: 1769051
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/568540/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/nova-api.yaml'],1,1088c7a575efcf92810604c227fabafe2a519bc6,bug/1769051," NovaApiLoggingSource: type: json default: tag: openstack.nova.api path: /var/log/containers/nova/nova-api.log service_config_settings: map_merge: - {get_attr: [NovaApiBase, role_data, service_config_settings]} - fluentd: tripleo_fluentd_groups_nova_api: - nova tripleo_fluentd_sources_nova_api: - {get_param: NovaApiLoggingSource}"," service_config_settings: {get_attr: [NovaApiBase, role_data, service_config_settings]}",13,1
openstack%2Ftripleo-heat-templates~master~Ib32c508cd4a193866f1ec24011587d07c15a2658,openstack/tripleo-heat-templates,master,Ib32c508cd4a193866f1ec24011587d07c15a2658,Ensure files never bind-mounted as directories,ABANDONED,2018-05-18 11:35:46.000000000,2018-05-21 09:27:49.000000000,,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-05-18 11:35:46.000000000', 'files': ['docker/services/gnocchi-metricd.yaml', 'docker/services/qdrouterd.yaml', 'docker/services/aodh-api.yaml', 'docker/services/barbican-api.yaml', 'docker/services/designate-central.yaml', 'docker/services/database/mongodb.yaml', 'docker/services/octavia-housekeeping.yaml', 'docker/services/nova-libvirt.yaml', 'docker/services/logging/stdout/heat-api.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml', 'docker/services/ironic-pxe.yaml', 'docker/services/mistral-api.yaml', 'docker/services/logging/files/panko-api.yaml', 'docker/services/tacker.yaml', 'docker/services/iscsid.yaml', 'docker/services/cinder-volume.yaml', 'docker/services/ovn-dbs.yaml', 'docker/services/designate-worker.yaml', 'docker/services/sensu-client.yaml', 'docker/services/ovn-controller.yaml', 'docker/services/logging/files/nova-placement.yaml', 'docker/services/logging/stdout/nova-api.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'docker/services/database/mysql.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/heat-engine.yaml', 'docker/services/manila-share.yaml', 'docker/services/manila-scheduler.yaml', 'docker/services/cinder-api.yaml', 'docker/services/etcd.yaml', 'docker/services/collectd.yaml', 'docker/services/logging/stdout/nova-placement.yaml', 'docker/services/swift-storage.yaml', 'docker/services/logging/stdout/glance-api.yaml', 'docker/services/messaging/rpc-rabbitmq.yaml', 'docker/services/tripleo-ui.yaml', 'docker/services/nova-consoleauth.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/neutron-l3.yaml', 'docker/services/logging/files/neutron-api.yaml', 'docker/services/logging/stdout/neutron-common.yaml', 'docker/services/logging/stdout/heat-api-cfn.yaml', 'docker/services/nova-vnc-proxy.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/logging/files/heat-engine.yaml', 'docker/services/mistral-executor.yaml', 'docker/services/logging/stdout/nova-common.yaml', 'docker/services/nova-metadata.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/messaging/notify-rabbitmq.yaml', 'docker/services/logging/files/barbican-api.yaml', 'docker/services/zaqar.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/logging/stdout/nova-libvirt.yaml', 'docker/services/logging/files/nova-api.yaml', 'docker/services/glance-api.yaml', 'docker/services/rabbitmq.yaml', 'docker/services/ceilometer-agent-notification.yaml', 'docker/services/horizon.yaml', 'docker/services/logging/files/neutron-common.yaml', 'docker/services/octavia-api.yaml', 'docker/services/ironic-inspector.yaml', 'docker/services/nova-api.yaml', 'docker/services/logging/stdout/panko-api.yaml', 'docker/services/memcached.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'docker/services/heat-api.yaml', 'docker/services/logging/stdout/keystone.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/ironic-conductor.yaml', 'docker/services/ovn-metadata.yaml', 'docker/services/ec2-api.yaml', 'docker/services/cinder-scheduler.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/logging/files/heat-api-cfn.yaml', 'docker/services/sahara-api.yaml', 'docker/services/logging/files/haproxy.yaml', 'docker/services/novajoin.yaml', 'docker/services/logging/files/keystone.yaml', 'docker/services/logging/files/glance-api.yaml', 'docker/services/nova-placement.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/congress.yaml', 'docker/services/logging/stdout/haproxy.yaml', 'docker/services/neutron-sriov-agent.yaml', 'docker/services/octavia-health-manager.yaml', 'docker/services/haproxy.yaml', 'docker/services/logging/stdout/barbican-api.yaml', 'docker/services/panko-api.yaml', 'docker/services/nova-ironic.yaml', 'docker/services/opendaylight-api.yaml', 'docker/services/containers-common.yaml', 'docker/services/gnocchi-statsd.yaml', 'docker/services/ceilometer-agent-central.yaml', 'docker/services/designate-api.yaml', 'docker/services/logging/stdout/heat-engine.yaml', 'docker/services/logging/files/nova-common.yaml', 'docker/services/mistral-event-engine.yaml', 'docker/services/database/redis.yaml', 'docker/services/designate-sink.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/logging/files/heat-api.yaml', 'docker/services/pacemaker/manila-share.yaml', 'docker/services/manila-api.yaml', 'docker/services/designate-mdns.yaml', 'docker/services/multipathd.yaml', 'docker/services/pacemaker/clustercheck.yaml', 'docker/services/neutron-ovs-dpdk-agent.yaml', 'docker/services/ceilometer-agent-compute.yaml', 'docker/services/aodh-listener.yaml', 'docker/services/designate-producer.yaml', 'docker/services/neutron-api.yaml', 'docker/services/neutron-ovs-agent.yaml', 'docker/services/cinder-backup.yaml', 'docker/services/ironic-neutron-agent.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/ironic-api.yaml', 'docker/services/keystone.yaml', 'docker/services/aodh-evaluator.yaml', 'docker/services/keepalived.yaml', 'docker/services/messaging/rpc-qdrouterd.yaml', 'docker/services/fluentd.yaml', 'docker/services/neutron-metadata.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/swift-proxy.yaml', 'docker/services/mistral-engine.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec0c1cabdcb1d189dee58d2b89fe02080701757e', 'message': 'Ensure files never bind-mounted as directories\n\nDocker volumes create missing files as directories.\nThis highly likely breaks deployments in unexpected ways.\n\nMake the common host prep tasks of containerized services\nensuring files will be bind-mounted as files and not as\ndirectories.\n\nRelated bz: 1579409\n\nChange-Id: Ib32c508cd4a193866f1ec24011587d07c15a2658\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,569392,ec0c1cabdcb1d189dee58d2b89fe02080701757e,10,10,1,6926,,,0,"Ensure files never bind-mounted as directories

Docker volumes create missing files as directories.
This highly likely breaks deployments in unexpected ways.

Make the common host prep tasks of containerized services
ensuring files will be bind-mounted as files and not as
directories.

Related bz: 1579409

Change-Id: Ib32c508cd4a193866f1ec24011587d07c15a2658
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/569392/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/gnocchi-metricd.yaml', 'docker/services/qdrouterd.yaml', 'docker/services/aodh-api.yaml', 'docker/services/barbican-api.yaml', 'docker/services/designate-central.yaml', 'docker/services/database/mongodb.yaml', 'docker/services/octavia-housekeeping.yaml', 'docker/services/nova-libvirt.yaml', 'docker/services/logging/stdout/heat-api.yaml', 'docker/services/pacemaker/notify-rabbitmq.yaml', 'docker/services/ironic-pxe.yaml', 'docker/services/mistral-api.yaml', 'docker/services/logging/files/panko-api.yaml', 'docker/services/tacker.yaml', 'docker/services/iscsid.yaml', 'docker/services/cinder-volume.yaml', 'docker/services/ovn-dbs.yaml', 'docker/services/designate-worker.yaml', 'docker/services/sensu-client.yaml', 'docker/services/ovn-controller.yaml', 'docker/services/logging/files/nova-placement.yaml', 'docker/services/logging/stdout/nova-api.yaml', 'docker/services/pacemaker/rabbitmq.yaml', 'docker/services/database/mysql.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/heat-engine.yaml', 'docker/services/manila-share.yaml', 'docker/services/manila-scheduler.yaml', 'docker/services/cinder-api.yaml', 'docker/services/etcd.yaml', 'docker/services/collectd.yaml', 'docker/services/logging/stdout/nova-placement.yaml', 'docker/services/swift-storage.yaml', 'docker/services/logging/stdout/glance-api.yaml', 'docker/services/messaging/rpc-rabbitmq.yaml', 'docker/services/tripleo-ui.yaml', 'docker/services/nova-consoleauth.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/neutron-l3.yaml', 'docker/services/logging/files/neutron-api.yaml', 'docker/services/logging/stdout/neutron-common.yaml', 'docker/services/logging/stdout/heat-api-cfn.yaml', 'docker/services/nova-vnc-proxy.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/logging/files/heat-engine.yaml', 'docker/services/mistral-executor.yaml', 'docker/services/logging/stdout/nova-common.yaml', 'docker/services/nova-metadata.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/messaging/notify-rabbitmq.yaml', 'docker/services/logging/files/barbican-api.yaml', 'docker/services/zaqar.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'docker/services/pacemaker/rpc-rabbitmq.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/logging/stdout/nova-libvirt.yaml', 'docker/services/logging/files/nova-api.yaml', 'docker/services/glance-api.yaml', 'docker/services/rabbitmq.yaml', 'docker/services/ceilometer-agent-notification.yaml', 'docker/services/horizon.yaml', 'docker/services/logging/files/neutron-common.yaml', 'docker/services/octavia-api.yaml', 'docker/services/ironic-inspector.yaml', 'docker/services/nova-api.yaml', 'docker/services/logging/stdout/panko-api.yaml', 'docker/services/memcached.yaml', 'docker/services/pacemaker/ovn-dbs.yaml', 'docker/services/heat-api.yaml', 'docker/services/logging/stdout/keystone.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/ironic-conductor.yaml', 'docker/services/ovn-metadata.yaml', 'docker/services/ec2-api.yaml', 'docker/services/cinder-scheduler.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/logging/files/heat-api-cfn.yaml', 'docker/services/sahara-api.yaml', 'docker/services/logging/files/haproxy.yaml', 'docker/services/novajoin.yaml', 'docker/services/logging/files/keystone.yaml', 'docker/services/logging/files/glance-api.yaml', 'docker/services/nova-placement.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/congress.yaml', 'docker/services/logging/stdout/haproxy.yaml', 'docker/services/neutron-sriov-agent.yaml', 'docker/services/octavia-health-manager.yaml', 'docker/services/haproxy.yaml', 'docker/services/logging/stdout/barbican-api.yaml', 'docker/services/panko-api.yaml', 'docker/services/nova-ironic.yaml', 'docker/services/opendaylight-api.yaml', 'docker/services/containers-common.yaml', 'docker/services/gnocchi-statsd.yaml', 'docker/services/ceilometer-agent-central.yaml', 'docker/services/designate-api.yaml', 'docker/services/logging/stdout/heat-engine.yaml', 'docker/services/logging/files/nova-common.yaml', 'docker/services/mistral-event-engine.yaml', 'docker/services/database/redis.yaml', 'docker/services/designate-sink.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/logging/files/heat-api.yaml', 'docker/services/pacemaker/manila-share.yaml', 'docker/services/manila-api.yaml', 'docker/services/designate-mdns.yaml', 'docker/services/multipathd.yaml', 'docker/services/pacemaker/clustercheck.yaml', 'docker/services/neutron-ovs-dpdk-agent.yaml', 'docker/services/ceilometer-agent-compute.yaml', 'docker/services/aodh-listener.yaml', 'docker/services/designate-producer.yaml', 'docker/services/neutron-api.yaml', 'docker/services/neutron-ovs-agent.yaml', 'docker/services/cinder-backup.yaml', 'docker/services/ironic-neutron-agent.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/ironic-api.yaml', 'docker/services/keystone.yaml', 'docker/services/aodh-evaluator.yaml', 'docker/services/keepalived.yaml', 'docker/services/messaging/rpc-qdrouterd.yaml', 'docker/services/fluentd.yaml', 'docker/services/neutron-metadata.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/swift-proxy.yaml', 'docker/services/mistral-engine.yaml', 'docker/services/nova-compute.yaml']",131,ec0c1cabdcb1d189dee58d2b89fe02080701757e,1579409," - {get_attr: [ContainersCommon, host_prep_tasks]} - *tasks custom_host_prep_tasks: &tasks list_concat:",,583,17
openstack%2Fnetworking-midonet~master~Iff427bbf9b659076e3bfecdd5e0bff9553db9dec,openstack/networking-midonet,master,Iff427bbf9b659076e3bfecdd5e0bff9553db9dec,Avoid tox_install,MERGED,2018-03-23 13:56:23.000000000,2018-05-21 09:13:18.000000000,2018-05-21 09:13:08.000000000,"[{'_account_id': 156}, {'_account_id': 6547}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 13:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f9cd4062ef1626b594243c9d726ddbd2ff3d3955', 'message': ""Avoid tox_install\n\nInstall the dependencies explicitely in requirements instead of using\ntox_install which does not work well with OpenStack CI.\n\nInstall tap-as-a-service from tarballs, there's no release on pypi that\nwe can use as placeholder.\n\nAdapt tox.ini for this.\n\nChange-Id: Iff427bbf9b659076e3bfecdd5e0bff9553db9dec\n""}, {'number': 2, 'created': '2018-03-23 14:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bf2ab89da95965f6fa1575f2fcd86e21d3f1fdd2', 'message': ""Avoid tox_install\n\nInstall the dependencies explicitely in requirements instead of using\ntox_install which does not work well with OpenStack CI.\n\nInstall tap-as-a-service from tarballs, there's no release on pypi that\nwe can use as placeholder.\n\nAdapt tox.ini for this.\n\nChange-Id: Iff427bbf9b659076e3bfecdd5e0bff9553db9dec\n""}, {'number': 3, 'created': '2018-03-23 15:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/76682a4ebd3cac89de5228055b45823b5606bf64', 'message': ""Avoid tox_install\n\nInstall the dependencies explicitely in requirements instead of using\ntox_install which does not work well with OpenStack CI.\n\nInstall tap-as-a-service from tarballs, there's no release on pypi that\nwe can use as placeholder.\n\nAdapt tox.ini for this.\n\nChange-Id: Iff427bbf9b659076e3bfecdd5e0bff9553db9dec\n""}, {'number': 4, 'created': '2018-05-07 07:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/637700971339a7077d4c4b50e6585640d8cb48c2', 'message': 'Avoid tox_install\n\nInstall the dependencies explicitely in requirements instead of using\ntox_install which does not work well with OpenStack CI.\n\nAdapt tox.ini for this.\n\nChange-Id: Iff427bbf9b659076e3bfecdd5e0bff9553db9dec\n'}, {'number': 5, 'created': '2018-05-08 09:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bed58291da8615ce95aae90cec0d30cd7d62d868', 'message': 'Avoid tox_install\n\nInstall the dependencies explicitly in requirements instead of using\ntox_install which does not work well with OpenStack CI.\n\nAdapt tox.ini for this.\n\nChange-Id: Iff427bbf9b659076e3bfecdd5e0bff9553db9dec\n'}, {'number': 6, 'created': '2018-05-11 05:27:51.000000000', 'files': ['devstack/ci/hooks/tempest_plugins_base', 'requirements.txt', 'tools/tox_install.sh', 'test-requirements.txt', 'tools/tox_install_project.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/088befedd60c7de7ec980adb92b3082a002c8ad7', 'message': 'Avoid tox_install\n\nInstall the dependencies explicitly in requirements instead of using\ntox_install which does not work well with OpenStack CI.\n\nAdapt tox.ini for this.\n\nThis commit includes the following unrelated change to pass\nthe gate.\n----------------------------------------\ngate_hook: Remove neutron repo from the list of tempest plugins\n\nThe code has been moved to neutron-tempest-plugins.\n\nCloses-Bug: #1769904\nChange-Id: I1213f4c9947248ae61b9954fec22f77fc6bb5d2d\n----------------------------------------\n\nCo-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>\nChange-Id: Iff427bbf9b659076e3bfecdd5e0bff9553db9dec\n'}]",5,555788,088befedd60c7de7ec980adb92b3082a002c8ad7,32,6,6,6547,,,0,"Avoid tox_install

Install the dependencies explicitly in requirements instead of using
tox_install which does not work well with OpenStack CI.

Adapt tox.ini for this.

This commit includes the following unrelated change to pass
the gate.
----------------------------------------
gate_hook: Remove neutron repo from the list of tempest plugins

The code has been moved to neutron-tempest-plugins.

Closes-Bug: #1769904
Change-Id: I1213f4c9947248ae61b9954fec22f77fc6bb5d2d
----------------------------------------

Co-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>
Change-Id: Iff427bbf9b659076e3bfecdd5e0bff9553db9dec
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/88/555788/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tools/tox_install.sh', 'tools/tox_install_project.sh', 'tox.ini']",4,f9cd4062ef1626b594243c9d726ddbd2ff3d3955,tox-siblings,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt http://tarballs.openstack.org/tap-as-a-service/tap-as-a-service-master.tar.gzdeps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/test-requirements.txtdeps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} deps = -r{toxinidir}/requirements.txtdeps = -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt,16,90
openstack%2Fzaqar~master~Ic43cc7101add05b08b0bb7f31fe73307576e7c45,openstack/zaqar,master,Ic43cc7101add05b08b0bb7f31fe73307576e7c45,Update links in README,MERGED,2018-03-10 18:51:48.000000000,2018-05-21 09:03:51.000000000,2018-05-21 09:03:51.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28035}]","[{'number': 1, 'created': '2018-03-10 18:51:48.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/bc4e4078ec96369d1466bc4583846d78ecb388f5', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: Ic43cc7101add05b08b0bb7f31fe73307576e7c45\n'}]",0,551706,bc4e4078ec96369d1466bc4583846d78ecb388f5,8,3,1,17130,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: Ic43cc7101add05b08b0bb7f31fe73307576e7c45
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/06/551706/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,bc4e4078ec96369d1466bc4583846d78ecb388f5,readme,".. image:: https://governance.openstack.org/tc/badges/zaqar.svg :target: https://governance.openstack.org/tc/reference/tags/index.html This way is the easiest, quickest and most suitable for beginners. ",".. image:: https://governance.openstack.org/badges/zaqar.svg :target: https://governance.openstack.org/reference/tags/index.html This way is the easiest, quickest and most suitable for beginners.",3,3
openstack%2Fneutron~master~I89c3b2546382624f175f8de4de621c3e53adf527,openstack/neutron,master,I89c3b2546382624f175f8de4de621c3e53adf527,Router should flip to standby if all L3 nodes down,MERGED,2017-04-21 12:06:23.000000000,2018-05-21 09:02:10.000000000,2018-04-09 22:45:52.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 7249}, {'_account_id': 8190}, {'_account_id': 9572}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 12947}, {'_account_id': 14571}, {'_account_id': 14581}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17776}, {'_account_id': 20330}, {'_account_id': 21784}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-04-21 12:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52878750ae54f85dddd5239825e72ffcd017302f', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 2, 'created': '2017-04-21 15:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b25a27dd0e8461e54036c8c4210ddd63a29b18fc', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 3, 'created': '2017-04-25 17:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3e9f88b9b71526fa8e49b4cd5929d59ecb55fde', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 4, 'created': '2017-05-15 15:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5663d52b237a029480a2bde1db778109e86f415', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 5, 'created': '2017-05-17 10:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44704a34071614a100f5ae89444b3173c893c770', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 6, 'created': '2017-05-22 09:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fafd08fa2d11ac9a22bb9d9020505a2e1905925', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 7, 'created': '2017-05-23 17:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5562d43f3002ffb7f5de5e7794d657b5b59bfb43', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 8, 'created': '2017-05-23 17:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40e0c85732444586fb727f237200385a5bee6f20', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 9, 'created': '2017-05-24 14:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c63ccf5120cfa7330651636f97c1d5f5e54e7543', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 10, 'created': '2017-06-27 07:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec35d5f3de928c5f0a57b6f43cea5dc89e7f9fd0', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 11, 'created': '2017-10-26 16:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/daf55aa09fc68daa35d360575613b2754158e3e9', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 12, 'created': '2018-02-16 22:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92c44049795c37870804990894b4d5c9ec131387', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 13, 'created': '2018-03-07 02:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11515e1f420ecb53a4b0a31c7ae8065d5288bd9b', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 14, 'created': '2018-03-07 16:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ba7700f0bcb6515662415c6be72c529501a5982', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 15, 'created': '2018-03-07 21:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6611e5972a44eb7feebcf48a19c1e362a83ad9f3', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 16, 'created': '2018-03-12 20:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90ae5c6420c15af2f35c5b145a2e66a97cbd7c64', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 17, 'created': '2018-03-12 20:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5294dd624565ad8c2b445f7ab8cce1be9da0ecb9', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 18, 'created': '2018-03-13 09:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48660101b2618e252753ec331200cbaac3768ae7', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 19, 'created': '2018-03-13 11:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db74af43c56341e756dd47f9e3938cff5a4a36ed', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}, {'number': 20, 'created': '2018-04-04 23:43:00.000000000', 'files': ['neutron/common/constants.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/migration/alembic_migrations/versions/rocky/expand/61663558142c_add_ha_router_state.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/db/models/l3ha.py', 'releasenotes/notes/add-new-harouter-state-5612fc5b5c2043a5.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b62d1bfdf71c2f8810d9b143d50127b8f3a4942d', 'message': 'Router should flip to standby if all L3 nodes down\n\nA HA router should always be active unless all of the agents hosting\nthat router go down.  In that event, the router should switch to\nstandby.  This behavior changed with review:\n  https://review.openstack.org/#/c/411784\n\nThat review seemed to be accounting for a flakey message bus.  This\nchange should account for that, but also revert to the original behavior\nof the router state only changing when its backing agent hosts are down.\n\nChange-Id: I89c3b2546382624f175f8de4de621c3e53adf527\nCloses-Bug: 1682145\n'}]",46,458814,b62d1bfdf71c2f8810d9b143d50127b8f3a4942d,187,23,20,8190,,,0,"Router should flip to standby if all L3 nodes down

A HA router should always be active unless all of the agents hosting
that router go down.  In that event, the router should switch to
standby.  This behavior changed with review:
  https://review.openstack.org/#/c/411784

That review seemed to be accounting for a flakey message bus.  This
change should account for that, but also revert to the original behavior
of the router state only changing when its backing agent hosts are down.

Change-Id: I89c3b2546382624f175f8de4de621c3e53adf527
Closes-Bug: 1682145
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/458814/20 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_hamode_db.py', 'neutron/tests/unit/db/test_l3_hamode_db.py']",2,52878750ae54f85dddd5239825e72ffcd017302f,bug/1682145," def test_get_l3_bindings_hosting_router_agents_admin_state_up_is_true( self._assert_ha_state_for_agent(router, self.agent1, state=n_const.HA_ROUTER_STATE_ACTIVE) def test_get_l3_bindings_hosting_router_with_ha_states_two_dead(self): router = self._create_router() self.plugin.update_routers_states( self.admin_ctx, {router['id']: n_const.HA_ROUTER_STATE_STANDBY}, self.agent1['host']) self.plugin.update_routers_states( self.admin_ctx, {router['id']: n_const.HA_ROUTER_STATE_STANDBY}, self.agent2['host']) with mock.patch.object(agent_utils, 'is_agent_down', return_value=True): self._assert_ha_state_for_agent( router, self.agent1, state=n_const.HA_ROUTER_STATE_STANDBY) "," def test_get_l3_bindings_hosting_router_agents_admin_state_up_is_false( self._assert_ha_state_for_agent(router, self.agent1)",31,16
openstack%2Fmistral~master~Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,openstack/mistral,master,Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde,"Release note for using ""passive_deletes=True""",MERGED,2018-05-17 14:45:37.000000000,2018-05-21 09:01:03.000000000,2018-05-21 05:25:24.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-05-17 14:45:37.000000000', 'files': ['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d3c6bf7767fda544be79af94d3e0b26e1e3b2a3e', 'message': 'Release note for using ""passive_deletes=True""\n\nThis update includes a small change to mention memory\nsavings for the new configuration option.\n\nChange-Id: Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde\n'}]",0,569134,d3c6bf7767fda544be79af94d3e0b26e1e3b2a3e,10,4,1,11085,,,0,"Release note for using ""passive_deletes=True""

This update includes a small change to mention memory
savings for the new configuration option.

Change-Id: Ic8d55adbfb802b8aff2000c2e4edf279c53f6bde
",git fetch https://review.opendev.org/openstack/mistral refs/changes/34/569134/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/using_passive_deletes_in_sqlalchemy-4b3006b3aba55155.yaml'],1,d3c6bf7767fda544be79af94d3e0b26e1e3b2a3e,passive_deletes, deletion which also reduces the memory requirement on the system., deleting them.,1,1
openstack%2Foctavia-dashboard~master~Ib766643ac3bdd9d52363a89a6c25d51bd3f15438,openstack/octavia-dashboard,master,Ib766643ac3bdd9d52363a89a6c25d51bd3f15438,Imported Translations from Zanata,MERGED,2018-05-18 06:50:02.000000000,2018-05-21 08:51:57.000000000,2018-05-21 08:51:57.000000000,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 06:50:02.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/327768d49aaecfcd18844022bd30594979e8a8c4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib766643ac3bdd9d52363a89a6c25d51bd3f15438\n'}]",0,569346,327768d49aaecfcd18844022bd30594979e8a8c4,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib766643ac3bdd9d52363a89a6c25d51bd3f15438
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/46/569346/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,327768d49aaecfcd18844022bd30594979e8a8c4,zanata/translations,"""POT-Creation-Date: 2018-05-16 20:26+0000\n""""PO-Revision-Date: 2018-05-17 11:32+0000\n""msgid ""2.0.0.0b1-10"" msgstr ""2.0.0.0b1-10"" ","""POT-Creation-Date: 2018-05-09 19:41+0000\n""""PO-Revision-Date: 2018-05-09 09:58+0000\n""",5,2
openstack%2Ftripleo-upgrade~stable%2Fpike~I1273367fb07bda5cdacb538081a87f9d3e5ece3c,openstack/tripleo-upgrade,stable/pike,I1273367fb07bda5cdacb538081a87f9d3e5ece3c,Add Neutron L3 agent failover check during upgrade,MERGED,2018-05-14 08:33:30.000000000,2018-05-21 08:18:25.000000000,2018-05-21 08:18:25.000000000,"[{'_account_id': 11090}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-05-14 08:33:30.000000000', 'files': ['tasks/common/l3_agent_failover_check_post_script.yml', 'tasks/common/create_l3_agent_failover_check_script.yml', 'infrared_plugin/plugin.spec', 'tasks/common/l3_agent_failover_check_pre_script.yml', 'infrared_plugin/main.yml', 'templates/l3_agent_failover_pre.sh.j2', 'defaults/main.yml', 'templates/l3_agent_failover_post.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7f2f332b81cf7c970a2e2ddf0b250902b711e2e8', 'message': 'Add Neutron L3 agent failover check during upgrade\n\nThis change adds suppport for validating that a router created on\nthe overcloud before upgrade remains active on the same node between\nthe various steps of the upgrade process and does not failover.\n\nChange-Id: I1273367fb07bda5cdacb538081a87f9d3e5ece3c\n(cherry picked from commit 71aaf58e6f263321c6119bcb2ae9f6f93176941d)\n(cherry picked from commit aa0a0983b58007faa6264e08acb641f77ea5f6a3)\n'}]",3,568231,7f2f332b81cf7c970a2e2ddf0b250902b711e2e8,14,7,1,21537,,,0,"Add Neutron L3 agent failover check during upgrade

This change adds suppport for validating that a router created on
the overcloud before upgrade remains active on the same node between
the various steps of the upgrade process and does not failover.

Change-Id: I1273367fb07bda5cdacb538081a87f9d3e5ece3c
(cherry picked from commit 71aaf58e6f263321c6119bcb2ae9f6f93176941d)
(cherry picked from commit aa0a0983b58007faa6264e08acb641f77ea5f6a3)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/31/568231/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/l3_agent_failover_check_post_script.yml', 'tasks/common/create_l3_agent_failover_check_script.yml', 'infrared_plugin/plugin.spec', 'tasks/common/l3_agent_failover_check_pre_script.yml', 'infrared_plugin/main.yml', 'templates/l3_agent_failover_pre.sh.j2', 'defaults/main.yml', 'templates/l3_agent_failover_post.sh.j2']",8,7f2f332b81cf7c970a2e2ddf0b250902b711e2e8,l3-failover-pike,"#!/bin/bash # # Script which validates that the active agent hosting a neutron router # has not failed over during upgrade. Used with l3_agent_failover_check. source {{ working_dir }}/router_active_agent.sh ROUTER_HOST_POST=$(neutron l3-agent-list-hosting-router ${ROUTER_ID} -f json | jq -r -c '.[]|select(.ha_state==""active"")|.host') if [ ""$ROUTER_HOST_PRE"" != ""$ROUTER_HOST_POST"" ]; then echo ""Neutron router failover detected."" echo ""Router $ROUTER_ID previously hosted by $ROUTER_HOST_PRE and now hosted by $ROUTER_HOST_POST"" exit 1 fi ",,58,0
openstack%2Ftripleo-upgrade~master~I35dfbe50d12b65a8d14f62410adea551e7584912,openstack/tripleo-upgrade,master,I35dfbe50d12b65a8d14f62410adea551e7584912,Separate scripts creation tasks for under/overcloud.,MERGED,2018-05-04 11:14:02.000000000,2018-05-21 08:18:25.000000000,2018-05-21 08:18:25.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27336}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-05-04 11:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9b76cf0e0b2ba23d9e86e1ec97a6c7ef22f833b8', 'message': 'Separate create scripts tasks by host.\n\nThe upgrade/update tasks in tripleo-upgrade started\nwith a create-scripts book, which generated most of\nthe scripts from the templates. However, this book\nmixed the creation of scripts needed for the overcloud\nas well as for the undercloud. This becomes an issue\nwhen we want to perform only an undercloud upgrade, as\nwe are running tasks intended to the overcloud and it\nmight not even exist.\nThis patch divides the script creation tasks used for\nthe undercloud from the ones used for the overcloud.\n\nChange-Id: I35dfbe50d12b65a8d14f62410adea551e7584912\nCloses-Bug: #1769107\n'}, {'number': 2, 'created': '2018-05-08 14:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/097559a23c061939a403d55757ece398f20fbd59', 'message': 'Separate scripts creation tasks for under/overcloud.\n\nThe upgrade/update tasks in tripleo-upgrade started\nwith a create-scripts book, which generated most of\nthe scripts from the templates. However, this book\nmixed the creation of scripts needed for the overcloud\nas well as for the undercloud. This becomes an issue\nwhen we want to perform only an undercloud upgrade, as\nwe are running tasks intended to the overcloud and it\nmight not even exist.\nThis patch divides the script creation tasks used for\nthe undercloud from the ones used for the overcloud.\n\nChange-Id: I35dfbe50d12b65a8d14f62410adea551e7584912\nCloses-Bug: #1769107\n'}, {'number': 3, 'created': '2018-05-09 06:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/85ff4c2d0ee9ff3027de01c98980f64bb0eb253b', 'message': 'Separate scripts creation tasks for under/overcloud.\n\nThe upgrade/update tasks in tripleo-upgrade started\nwith a create-scripts book, which generated most of\nthe scripts from the templates. However, this book\nmixed the creation of scripts needed for the overcloud\nas well as for the undercloud. This becomes an issue\nwhen we want to perform only an undercloud upgrade, as\nwe are running tasks intended to the overcloud and it\nmight not even exist.\nThis patch divides the script creation tasks used for\nthe undercloud from the ones used for the overcloud.\n\nAlso, it removes the SSL validation task which were\ninherited from older tripleo-upgrade releases and are\nnot needed anymore.\n\nChange-Id: I35dfbe50d12b65a8d14f62410adea551e7584912\nCloses-Bug: #1769107\n'}, {'number': 4, 'created': '2018-05-09 07:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1d23846d9aefc9b051ab7a00568b464eb66afd4e', 'message': 'Separate scripts creation tasks for under/overcloud.\n\nThe upgrade/update tasks in tripleo-upgrade started\nwith a create-scripts book, which generated most of\nthe scripts from the templates. However, this book\nmixed the creation of scripts needed for the overcloud\nas well as for the undercloud. This becomes an issue\nwhen we want to perform only an undercloud upgrade, as\nwe are running tasks intended to the overcloud and it\nmight not even exist.\nThis patch divides the script creation tasks used for\nthe undercloud from the ones used for the overcloud.\n\nChange-Id: I35dfbe50d12b65a8d14f62410adea551e7584912\nCloses-Bug: #1769107\n'}, {'number': 5, 'created': '2018-05-14 08:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/501e193bbdcc2492b62814572af761b318ca2c70', 'message': 'Separate scripts creation tasks for under/overcloud.\n\nThe upgrade/update tasks in tripleo-upgrade started\nwith a create-scripts book, which generated most of\nthe scripts from the templates. However, this book\nmixed the creation of scripts needed for the overcloud\nas well as for the undercloud. This becomes an issue\nwhen we want to perform only an undercloud upgrade, as\nwe are running tasks intended to the overcloud and it\nmight not even exist.\nThis patch divides the script creation tasks used for\nthe undercloud from the ones used for the overcloud.\n\nChange-Id: I35dfbe50d12b65a8d14f62410adea551e7584912\nCloses-Bug: #1769107\n'}, {'number': 6, 'created': '2018-05-14 08:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/95e8e5aa01a32a8cf10beb7cddac953a95e38f11', 'message': 'Separate scripts creation tasks for under/overcloud.\n\nThe upgrade/update tasks in tripleo-upgrade started\nwith a create-scripts book, which generated most of\nthe scripts from the templates. However, this book\nmixed the creation of scripts needed for the overcloud\nas well as for the undercloud. This becomes an issue\nwhen we want to perform only an undercloud upgrade, as\nwe are running tasks intended to the overcloud and it\nmight not even exist.\nThis patch divides the script creation tasks used for\nthe undercloud from the ones used for the overcloud.\n\nChange-Id: I35dfbe50d12b65a8d14f62410adea551e7584912\nCloses-Bug: #1769107\n'}, {'number': 7, 'created': '2018-05-16 09:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0c1fc65ad165fc26731e9afd89f73b4631b30e69', 'message': 'Separate scripts creation tasks for under/overcloud.\n\nThe upgrade/update tasks in tripleo-upgrade started\nwith a create-scripts book, which generated most of\nthe scripts from the templates. However, this book\nmixed the creation of scripts needed for the overcloud\nas well as for the undercloud. This becomes an issue\nwhen we want to perform only an undercloud upgrade, as\nwe are running tasks intended to the overcloud and it\nmight not even exist.\nThis patch divides the script creation tasks used for\nthe undercloud from the ones used for the overcloud.\n\nChange-Id: I35dfbe50d12b65a8d14f62410adea551e7584912\nCloses-Bug: #1769107\n'}, {'number': 8, 'created': '2018-05-18 06:38:10.000000000', 'files': ['tasks/update/create-overcloud-update-scripts.yaml', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml', 'tasks/update/create-undercloud-update-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0fd5d40994cb30117444b22a9e862722c4ebc52c', 'message': 'Separate scripts creation tasks for under/overcloud.\n\nThe upgrade/update tasks in tripleo-upgrade started\nwith a create-scripts book, which generated most of\nthe scripts from the templates. However, this book\nmixed the creation of scripts needed for the overcloud\nas well as for the undercloud. This becomes an issue\nwhen we want to perform only an undercloud upgrade, as\nwe are running tasks intended to the overcloud and it\nmight not even exist.\nThis patch divides the script creation tasks used for\nthe undercloud from the ones used for the overcloud.\n\nChange-Id: I35dfbe50d12b65a8d14f62410adea551e7584912\nCloses-Bug: #1769107\n'}]",12,566291,0fd5d40994cb30117444b22a9e862722c4ebc52c,43,11,8,26343,,,0,"Separate scripts creation tasks for under/overcloud.

The upgrade/update tasks in tripleo-upgrade started
with a create-scripts book, which generated most of
the scripts from the templates. However, this book
mixed the creation of scripts needed for the overcloud
as well as for the undercloud. This becomes an issue
when we want to perform only an undercloud upgrade, as
we are running tasks intended to the overcloud and it
might not even exist.
This patch divides the script creation tasks used for
the undercloud from the ones used for the overcloud.

Change-Id: I35dfbe50d12b65a8d14f62410adea551e7584912
Closes-Bug: #1769107
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/91/566291/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/create-overcloud-update-scripts.yaml', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml', 'tasks/update/create-undercloud-update-scripts.yaml']",6,9b76cf0e0b2ba23d9e86e1ec97a6c7ef22f833b8,bug/1769107,"--- - name: create undercloud update script vars: log_prefix: ""update"" template: src: ""{{ undercloud_upgrade_template }}"" dest: ""{{ undercloud_update_script }}"" mode: 0775 force: true - name: create scripts with workarounds template: src: ""{{ update_workarounds_template }}"" dest: ""{{ working_dir }}/{{ item.script }}"" mode: 0755 force: true with_items: - '{{ pre_undercloud_update_workarounds|default([]) }}' - '{{ post_undercloud_update_workarounds|default([]) }}' when: updates_workarounds|bool ",,71,42
openstack%2Fopenstack-ansible~master~Ia747f400e8eca373b3f324d0ce09be803c5ed837,openstack/openstack-ansible,master,Ia747f400e8eca373b3f324d0ce09be803c5ed837,Fix broken ceilometer variables,MERGED,2018-05-16 14:59:39.000000000,2018-05-21 08:17:08.000000000,2018-05-21 08:17:08.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-16 14:59:39.000000000', 'files': ['inventory/group_vars/ceilometer_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a1c8e5699eb344fbe3d807528d57558058f8050', 'message': 'Fix broken ceilometer variables\n\nThe option ""ceilometer_service_adminurl"" is not defined and not used in\nthe ceilometer role, however it has jinja that will error out if loaded\non it\'s own. This change removes that options and adds the required\noptions needed to render the used strings.\n\nChange-Id: Ia747f400e8eca373b3f324d0ce09be803c5ed837\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,568872,8a1c8e5699eb344fbe3d807528d57558058f8050,15,6,1,7353,,,0,"Fix broken ceilometer variables

The option ""ceilometer_service_adminurl"" is not defined and not used in
the ceilometer role, however it has jinja that will error out if loaded
on it's own. This change removes that options and adds the required
options needed to render the used strings.

Change-Id: Ia747f400e8eca373b3f324d0ce09be803c5ed837
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/72/568872/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/ceilometer_all.yml'],1,8a1c8e5699eb344fbe3d807528d57558058f8050,,ceilometer_service_port: 8777 ceilometer_service_proto: http,"ceilometer_service_adminurl: ""{{ ceilometer_service_adminuri }}/""",2,1
openstack%2Frally~master~I1e917b0fb64022729606de4dad7bf9df9d7bb52f,openstack/rally,master,I1e917b0fb64022729606de4dad7bf9df9d7bb52f,fix error url,MERGED,2018-05-21 05:45:28.000000000,2018-05-21 08:04:11.000000000,2018-05-21 08:04:11.000000000,"[{'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 05:45:28.000000000', 'files': ['rally/ui/templates/ci/index_verify.html', 'rally/ui/templates/ci/index.html'], 'web_link': 'https://opendev.org/openstack/rally/commit/967d9f30839a2e5c1a363cc7fde1c232bf2364a6', 'message': 'fix error url\n\nChange-Id: I1e917b0fb64022729606de4dad7bf9df9d7bb52f\n'}]",0,569703,967d9f30839a2e5c1a363cc7fde1c232bf2364a6,7,3,1,17130,,,0,"fix error url

Change-Id: I1e917b0fb64022729606de4dad7bf9df9d7bb52f
",git fetch https://review.opendev.org/openstack/rally refs/changes/03/569703/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/ui/templates/ci/index_verify.html', 'rally/ui/templates/ci/index.html']",2,967d9f30839a2e5c1a363cc7fde1c232bf2364a6,fix-url," <li><a href=""https://rally.readthedocs.io/en/latest/"">Documentation</a> <li><a href=""https://rally.readthedocs.io/en/latest/quick_start/index.html"">Quick start</a> <li><a href=""https://rally.readthedocs.io/en/latest/quick_start/gates.html"">How to add Rally job to your project</a>"," <li><a href=""https://rally.readthedocs.org/en/latest/"">Documentation</a> <li><a href=""https://wiki.openstack.org/wiki/Rally/HowTo"">How to use Rally (locally)</a> <li><a href=""https://wiki.openstack.org/wiki/Rally/RallyGates"">How to add Rally job to your project</a>",6,6
openstack%2Fsenlin~master~Ie6f550f2187d629d396065269af9d4e9fba5acda,openstack/senlin,master,Ie6f550f2187d629d396065269af9d4e9fba5acda,Kubernetes: Add cluster delete dependents attribute,MERGED,2018-03-28 10:19:47.000000000,2018-05-21 07:04:48.000000000,2018-05-21 07:04:47.000000000,"[{'_account_id': 8246}, {'_account_id': 17656}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 23401}, {'_account_id': 23517}, {'_account_id': 24441}, {'_account_id': 25167}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-03-28 10:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/0c9e2ca3b7155c7c39c378ac22ce3af6d4d79fb4', 'message': ""Kubernetes: Add cluster dependents attribute\n\nThe cluster dependents value default 'None'. If kube\nmaster create, the kube node create add 'master' value\nto dependents attribute.\n\nChange-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n""}, {'number': 2, 'created': '2018-03-28 12:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/4ec6dc385d0361e440aae7eae477dc5b6f8b8d52', 'message': ""Kubernetes: Add cluster dependents attribute\n\nThe cluster dependents value default 'None'. If kube\nmaster create, the kube node create add 'master' value\nto dependents attribute.\n\nChange-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n""}, {'number': 3, 'created': '2018-03-29 01:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/21aa01a805cc28d66ee4bf0f5ab708172ec6cb67', 'message': ""Kubernetes: Add cluster dependents attribute\n\nThe cluster dependents value default 'None'. If kube\nmaster create, the kube node create add 'master' value\nto dependents attribute and the kube master add 'node'\nvalue to dependents attribute.\n\nChange-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n""}, {'number': 4, 'created': '2018-03-29 08:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2086c8810c4bece2d404e62882c8b6b4b06f9f5f', 'message': ""Kubernetes: Add cluster dependents attribute\n\nThe cluster dependents value default 'None'. If kube\nmaster create, the kube node create add 'master' value\nto dependents attribute and the kube master add 'node'\nvalue to dependents attribute.\n\nChange-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n""}, {'number': 5, 'created': '2018-05-03 03:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/7e2f00640f6a3a40197c74bea0002dc90215bc4f', 'message': 'Kubernetes: Add cluster delete dependents attribute\n\nThis patch add kubernetes cluster dependents, master cluster\nrecord work cluster uuid to dependents, work cluster record\nmaster cluster uuid to dependents.\n\nMaster cluster delete check dependents, if work cluster dependents\nexist, the master cluster delete faild. kubernetes cluster\nwork cluster delete before master cluster delete.\n\nChange-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 6, 'created': '2018-05-04 06:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/b09daae99ec30bc300781bc202f4256f07482419', 'message': 'Kubernetes: Add cluster delete dependents attribute\n\nThis patch add kubernetes cluster dependents, master cluster\nrecord work cluster uuid to dependents.\n\nMaster cluster delete check dependents, if work cluster dependents\nexist, the master cluster delete faild. kubernetes cluster\nwork cluster delete before master cluster delete.\n\nChange-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 7, 'created': '2018-05-04 14:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/eaa3b64bd6e83ea567827c6be686d8446c135843', 'message': 'Kubernetes: Add cluster delete dependents attribute\n\nThis patch add kubernetes cluster dependents, master cluster\nrecord work cluster uuid to dependents.\n\nMaster cluster delete check dependents, if work cluster dependents\nexist, the master cluster delete faild. kubernetes cluster\nwork cluster delete before master cluster delete.\n\nChange-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 8, 'created': '2018-05-10 04:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/15c5148372f7b55757a797c41294650bca7f8271', 'message': 'Kubernetes: Add cluster delete dependents attribute\n\nThis patch add kubernetes cluster dependents, master cluster\nrecord work cluster uuid to dependents.\n\nMaster cluster delete check dependents, if work cluster dependents\nexist, the master cluster delete faild. kubernetes cluster\nwork cluster delete before master cluster delete.\n\nChange-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 9, 'created': '2018-05-16 01:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d4de706db9e68e4a089eaa97e0c6a089c33e6cb4', 'message': 'Kubernetes: Add cluster delete dependents attribute\n\nThis patch add kubernetes cluster dependents, master cluster\nrecord work cluster uuid to dependents.\n\nMaster cluster delete check dependents, if work cluster dependents\nexist, the master cluster delete faild. kubernetes cluster\nwork cluster delete before master cluster delete.\n\nChange-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 10, 'created': '2018-05-17 01:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8aa2baf2fc356dc8214e66b6f6ad74be8d4a4d3c', 'message': 'Kubernetes: Add cluster delete dependents attribute\n\nThis patch add kubernetes cluster dependents, master cluster\nrecord work cluster uuid to dependents.\n\nMaster cluster delete check dependents, if work cluster dependents\nexist, the master cluster delete faild. kubernetes cluster\nwork cluster delete before master cluster delete.\n\nChange-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 11, 'created': '2018-05-21 03:00:30.000000000', 'files': ['contrib/kubernetes/kube/master.py', 'contrib/kubernetes/kube/worker.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/41f00dd07c121fd07334bb1b6955cddeb8677029', 'message': 'Kubernetes: Add cluster delete dependents attribute\n\nThis patch add kubernetes cluster dependents, master cluster\nrecord work cluster uuid to dependents.\n\nMaster cluster delete check dependents, if work cluster dependents\nexist, the master cluster delete faild. kubernetes cluster\nwork cluster delete before master cluster delete.\n\nChange-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",14,557290,41f00dd07c121fd07334bb1b6955cddeb8677029,48,11,11,23517,,,0,"Kubernetes: Add cluster delete dependents attribute

This patch add kubernetes cluster dependents, master cluster
record work cluster uuid to dependents.

Master cluster delete check dependents, if work cluster dependents
exist, the master cluster delete faild. kubernetes cluster
work cluster delete before master cluster delete.

Change-Id: Ie6f550f2187d629d396065269af9d4e9fba5acda
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/90/557290/2 && git format-patch -1 --stdout FETCH_HEAD,['contrib/kubernetes/kube/worker.py'],1,0c9e2ca3b7155c7c39c378ac22ce3af6d4d79fb4,add_cluster_dependents," def _set_cluster_dependents(self, obj): ctx = context.get_service_context(user_id=obj.user, project_id=obj.project) master = self.properties[self.MASTER_CLUSTER] try: cluster = cluster_obj.Cluster.find(ctx, master) except Exception as ex: raise exc.EResourceCreation(type='kubernetes.worker', message=six.text_type(ex)) dependents = {'kube-master': master} if cluster: cluster_obj.Cluster.update(ctx, obj.id, {'dependents': dependents}) self._set_cluster_dependents(obj)",,14,0
openstack%2Fwatcher~master~Ifaf7cd4a962da287f740a12e4c382a1ca92750d6,openstack/watcher,master,Ifaf7cd4a962da287f740a12e4c382a1ca92750d6,Add Cinder Cluster Data Model Collector test case,MERGED,2018-05-15 11:31:33.000000000,2018-05-21 06:31:47.000000000,2018-05-21 06:31:47.000000000,"[{'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 11:31:33.000000000', 'files': ['watcher/tests/decision_engine/cluster/test_cinder_cdmc.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/7556d19638680f695a929ace39fb38e48cbc5120', 'message': 'Add Cinder Cluster Data Model Collector test case\n\nThis patch adds Cinder Data Model Collector test case.\n\nChange-Id: Ifaf7cd4a962da287f740a12e4c382a1ca92750d6\n'}]",0,568560,7556d19638680f695a929ace39fb38e48cbc5120,7,3,1,13111,,,0,"Add Cinder Cluster Data Model Collector test case

This patch adds Cinder Data Model Collector test case.

Change-Id: Ifaf7cd4a962da287f740a12e4c382a1ca92750d6
",git fetch https://review.opendev.org/openstack/watcher refs/changes/60/568560/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/tests/decision_engine/cluster/test_cinder_cdmc.py'],1,7556d19638680f695a929ace39fb38e48cbc5120,add_cinder_cdmc_test,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import mock from watcher.common import cinder_helper from watcher.decision_engine.model.collector import cinder from watcher.tests import base from watcher.tests import conf_fixture class TestCinderClusterDataModelCollector(base.TestCase): def setUp(self): super(TestCinderClusterDataModelCollector, self).setUp() self.useFixture(conf_fixture.ConfReloadFixture()) @mock.patch('keystoneclient.v3.client.Client', mock.Mock()) @mock.patch.object(cinder_helper, 'CinderHelper') def test_cinder_cdmc_execute(self, m_cinder_helper_cls): m_cinder_helper = mock.Mock(name=""cinder_helper"") m_cinder_helper_cls.return_value = m_cinder_helper fake_storage_node = mock.Mock( host='host@backend', zone='zone', status='enabled', state='up', volume_type=['fake_type'] ) fake_storage_pool = mock.Mock( total_volumes=1, total_capacity_gb=30, free_capacity_gb=20, provisioned_capacity_gb=10, allocated_capacity_gb=10, virtual_free=20 ) setattr(fake_storage_pool, 'name', 'host@backend#pool') fake_volume = mock.Mock( id=1, size=1, status='in-use', attachments=[{""server_id"": ""server_id"", ""attachment_id"": ""attachment_id""}], multiattach='false', snapshot_id='', metadata='{""key"": ""value""}', bootable='false' ) setattr(fake_volume, 'name', 'name') setattr(fake_volume, 'os-vol-tenant-attr:tenant_id', 'project_id') setattr(fake_volume, 'os-vol-host-attr:host', 'host@backend#pool') # storage node list m_cinder_helper.get_storage_node_list.return_value = [ fake_storage_node] m_cinder_helper.get_volume_type_by_backendname.return_value = [ 'fake_type'] # storage pool list m_cinder_helper.get_storage_pool_list.return_value = [ fake_storage_pool] # volume list m_cinder_helper.get_volume_list.return_value = [fake_volume] m_config = mock.Mock() m_osc = mock.Mock() cinder_cdmc = cinder.CinderClusterDataModelCollector( config=m_config, osc=m_osc) model = cinder_cdmc.execute() storage_nodes = model.get_all_storage_nodes() storage_node = list(storage_nodes.values())[0] storage_pools = model.get_node_pools(storage_node) storage_pool = storage_pools[0] volumes = model.get_pool_volumes(storage_pool) volume = volumes[0] self.assertEqual(1, len(storage_nodes)) self.assertEqual(1, len(storage_pools)) self.assertEqual(1, len(volumes)) self.assertEqual(storage_node.host, 'host@backend') self.assertEqual(storage_pool.name, 'host@backend#pool') self.assertEqual(volume.uuid, '1') ",,103,0
openstack%2Fdiskimage-builder~master~I20d4c25e9b79e7326c86767c36be8615ba0888a3,openstack/diskimage-builder,master,I20d4c25e9b79e7326c86767c36be8615ba0888a3,Replace the ubuntu-minimal trusty test with a bionic one,MERGED,2018-05-18 04:55:39.000000000,2018-05-21 06:01:53.000000000,2018-05-21 06:01:53.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-18 04:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e2509d8f19f72ee8fd2cbbd4412ea4a598e39b54', 'message': 'Replace the ubuntu-minimal trusty test with a bionic one\n\nAdd a bionic test in replacement of trusty.  We are already building\nbionic images in the gate, so this seems like a good time to switch.\n\nChange-Id: I20d4c25e9b79e7326c86767c36be8615ba0888a3\n'}, {'number': 2, 'created': '2018-05-21 02:51:46.000000000', 'files': ['diskimage_builder/elements/ubuntu-minimal/test-elements/bionic-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/ubuntu-minimal/test-elements/bionic-build-succeeds/README.rst', 'tests/run_functests.sh', 'diskimage_builder/elements/openstack-ci-mirrors/root.d/10-apt-disable-gpg', 'diskimage_builder/elements/ubuntu-minimal/test-elements/bionic-build-succeeds/test-output-formats', 'diskimage_builder/elements/ubuntu-minimal/test-elements/bionic-build-succeeds/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/82eb1ca837a5df70776165a95ea9732079adda1e', 'message': 'Replace the ubuntu-minimal trusty test with a bionic one\n\nAdd a bionic test in replacement of trusty.  We are already building\nbionic images in the gate, so this seems like a good time to switch.\n\nChange-Id: I20d4c25e9b79e7326c86767c36be8615ba0888a3\n'}]",0,569324,82eb1ca837a5df70776165a95ea9732079adda1e,12,4,2,7118,,,0,"Replace the ubuntu-minimal trusty test with a bionic one

Add a bionic test in replacement of trusty.  We are already building
bionic images in the gate, so this seems like a good time to switch.

Change-Id: I20d4c25e9b79e7326c86767c36be8615ba0888a3
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/24/569324/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/ubuntu-minimal/test-elements/bionic-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/ubuntu-minimal/test-elements/bionic-build-succeeds/README.rst', 'tests/run_functests.sh', 'diskimage_builder/elements/ubuntu-minimal/test-elements/bionic-build-succeeds/test-output-formats', 'diskimage_builder/elements/ubuntu-minimal/test-elements/bionic-build-succeeds/element-deps']",5,e2509d8f19f72ee8fd2cbbd4412ea4a598e39b54,bionic-ubuntu-minimal,block-device-mbr openstack-ci-mirrors vm ,,12,0
openstack%2Ftripleo-common~master~I829ec8aa00bc421a167aa3e16455c29d05458ca9,openstack/tripleo-common,master,I829ec8aa00bc421a167aa3e16455c29d05458ca9,DNM: Put IPA images as selinux-permissive,ABANDONED,2018-04-27 08:07:36.000000000,2018-05-21 05:44:19.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-04-27 08:07:36.000000000', 'files': ['image-yaml/overcloud-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b182ea86e2e87212c18918d60d869d34bbfa3484', 'message': 'DNM: Put IPA images as selinux-permissive\n\nTo test rhel 7.5 problems at introspection at OVB.\n\nChange-Id: I829ec8aa00bc421a167aa3e16455c29d05458ca9\n'}]",0,564697,b182ea86e2e87212c18918d60d869d34bbfa3484,5,6,1,27898,,,0,"DNM: Put IPA images as selinux-permissive

To test rhel 7.5 problems at introspection at OVB.

Change-Id: I829ec8aa00bc421a167aa3e16455c29d05458ca9
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/564697/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-images.yaml'],1,b182ea86e2e87212c18918d60d869d34bbfa3484,," - ""selinux-permissive""",,1,0
openstack%2Fansible-role-container-registry~master~Ibde3d326b7e824fe09fafb9f46875b1e6739d299,openstack/ansible-role-container-registry,master,Ibde3d326b7e824fe09fafb9f46875b1e6739d299,Handle Docker rpm updates,MERGED,2018-05-15 22:44:32.000000000,2018-05-21 05:37:21.000000000,2018-05-21 05:37:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-15 22:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/83ab2715e59b5077573151ead85f479637144f3f', 'message': ""Handle Docker rpm updates\n\nThe tasks were taken from OpenStack TripleO. They manage the case where\nDocker needs to be updated. We'll first stop containers, stop docker\nthen update the rpm before making sure Docker is running again.\n\nChange-Id: Ibde3d326b7e824fe09fafb9f46875b1e6739d299\n""}, {'number': 2, 'created': '2018-05-15 22:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/03f5f03edaadcfcbc203a7f8857be18a3d8b83a7', 'message': ""Handle Docker rpm updates\n\nThe tasks were taken from OpenStack TripleO. They manage the case where\nDocker needs to be updated. We'll first stop containers, stop docker\nthen update the rpm before making sure Docker is running again.\n\nChange-Id: Ibde3d326b7e824fe09fafb9f46875b1e6739d299\n""}, {'number': 3, 'created': '2018-05-16 03:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/a98642ba2819ecaa85e0dbc516d49016674ae593', 'message': ""Handle Docker rpm updates\n\nThe tasks were taken from OpenStack TripleO. They manage the case where\nDocker needs to be updated. We'll first stop containers, stop docker\nthen update the rpm before making sure Docker is running again.\n\nChange-Id: Ibde3d326b7e824fe09fafb9f46875b1e6739d299\n""}, {'number': 4, 'created': '2018-05-17 18:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/a1c1e10083ff98f27d4d048da72c55088398809a', 'message': ""Handle Docker rpm updates\n\nThe tasks were taken from OpenStack TripleO. They manage the case where\nDocker needs to be updated. We'll first stop containers, stop docker\nthen update the rpm before making sure Docker is running again.\n\nChange-Id: Ibde3d326b7e824fe09fafb9f46875b1e6739d299\n""}, {'number': 5, 'created': '2018-05-20 18:59:16.000000000', 'files': ['tasks/docker-update.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/7a3cd85d56561420a4bcf0121e15c989b8db61d3', 'message': ""Handle Docker rpm updates\n\nThe tasks were taken from OpenStack TripleO. They manage the case where\nDocker needs to be updated. We'll first stop containers, stop docker\nthen update the rpm before making sure Docker is running again.\n\nChange-Id: Ibde3d326b7e824fe09fafb9f46875b1e6739d299\n""}]",4,568714,7a3cd85d56561420a4bcf0121e15c989b8db61d3,22,5,5,3153,,,0,"Handle Docker rpm updates

The tasks were taken from OpenStack TripleO. They manage the case where
Docker needs to be updated. We'll first stop containers, stop docker
then update the rpm before making sure Docker is running again.

Change-Id: Ibde3d326b7e824fe09fafb9f46875b1e6739d299
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/14/568714/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/docker.yml'],1,83ab2715e59b5077573151ead85f479637144f3f,updates,"- name: can docker be updated shell: yum check-update docker register: docker_check_update failed_when: docker_check_update.rc not in [0, 100] changed_when: docker_check_update.rc == 100 - name: set docker_rpm_needs_update fact set_fact: docker_rpm_needs_update={{ docker_check_update.rc == 100 }} - name: stop all containers before update # xargs is preferable to docker stop $(docker ps -q) as that might generate a # a too long command line shell: docker ps -q | xargs --no-run-if-empty -n1 docker stop when: docker_rpm_needs_update - name: ensure docker is installed yum: name: docker state: present when: docker_rpm_needs_update - name: update the docker package yum: name=docker state=latest update_cache=yes # cache for https://bugs.launchpad.net/tripleo/+bug/1703830 when: docker_rpm_needs_update notify: restart docker service ",,26,0
openstack%2Fansible-role-container-registry~master~I75a0683b7b6866f7f4c33fa845a7a88666a22c84,openstack/ansible-role-container-registry,master,I75a0683b7b6866f7f4c33fa845a7a88666a22c84,Add tripleo jobs to this project,MERGED,2018-05-07 05:35:46.000000000,2018-05-21 05:26:24.000000000,2018-05-21 05:26:24.000000000,"[{'_account_id': 3153}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-07 05:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/8f7d0a6d1b088a8597ac8649efb713dfec65ee0f', 'message': 'Add tripleo jobs to this project\n\nSo we can actually test changes in this role.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I75a0683b7b6866f7f4c33fa845a7a88666a22c84\n'}, {'number': 2, 'created': '2018-05-07 05:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/69b628af9f1adc7580f81f40a2a1ecfb59c6b0c5', 'message': 'Add tripleo jobs to this project\n\nSo we can actually test changes in this role.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I75a0683b7b6866f7f4c33fa845a7a88666a22c84\n'}, {'number': 3, 'created': '2018-05-07 05:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/2ad3f6ff27c1225005fe0c09276be9d572803bc6', 'message': 'Add tripleo jobs to this project\n\nSo we can actually test changes in this role.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I75a0683b7b6866f7f4c33fa845a7a88666a22c84\n'}, {'number': 4, 'created': '2018-05-07 21:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/5b15d111f17a1042b29c4e61f8d85455ab70059d', 'message': 'Add tripleo jobs to this project\n\nSo we can actually test changes in this role.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I75a0683b7b6866f7f4c33fa845a7a88666a22c84\n'}, {'number': 5, 'created': '2018-05-07 21:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/6715e8f3209a8e30e01fde062c7ca9e92c6bae5b', 'message': 'Add tripleo jobs to this project\n\nSo we can actually test changes in this role.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I75a0683b7b6866f7f4c33fa845a7a88666a22c84\n'}, {'number': 6, 'created': '2018-05-20 18:58:58.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/337922c98304b288239e0b6658064e2da98fa46c', 'message': 'Add tripleo jobs to this project\n\nSo we can actually test changes in this role.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I75a0683b7b6866f7f4c33fa845a7a88666a22c84\n'}]",0,566506,337922c98304b288239e0b6658064e2da98fa46c,29,5,6,3153,,,0,"Add tripleo jobs to this project

So we can actually test changes in this role.

Depends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334
Change-Id: I75a0683b7b6866f7f4c33fa845a7a88666a22c84
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/06/566506/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yml'],1,8f7d0a6d1b088a8597ac8649efb713dfec65ee0f,ci,- project: name: openstack/ansible-role-container-registry templates: - tripleo-multinode-container-minimal ,,4,0
openstack%2Fopenstack-ansible-nspawn_hosts~master~I6965e132674238727d69606464f2140ec42d6434,openstack/openstack-ansible-nspawn_hosts,master,I6965e132674238727d69606464f2140ec42d6434,Add trailing slash to copy files,MERGED,2018-05-19 18:43:17.000000000,2018-05-21 05:17:01.000000000,2018-05-21 05:17:00.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-19 18:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/64464546a1226c637f31e00ed9572bd0f76fbe70', 'message': ""Add trailing slash to copy files\n\nWithout the trailing slash the sync task will create a nested directory\nfor the target when is a directory. This change ensures we're copying\ncopying the directories correctly.\n\nThis behaviour has been documented in the defaults file.\n\nChange-Id: I6965e132674238727d69606464f2140ec42d6434\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 2, 'created': '2018-05-21 04:49:39.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/eececf267fdd90155eb3d6f82d0ac39d6c0e5abb', 'message': ""Add trailing slash to copy files\n\nWithout the trailing slash the sync task will create a nested directory\nfor the target when is a directory. This change ensures we're copying\ncopying the directories correctly.\n\nThis behaviour has been documented in the defaults file.\n\nChange-Id: I6965e132674238727d69606464f2140ec42d6434\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",2,569604,eececf267fdd90155eb3d6f82d0ac39d6c0e5abb,11,3,2,7353,,,0,"Add trailing slash to copy files

Without the trailing slash the sync task will create a nested directory
for the target when is a directory. This change ensures we're copying
copying the directories correctly.

This behaviour has been documented in the defaults file.

Change-Id: I6965e132674238727d69606464f2140ec42d6434
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/04/569604/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml']",4,64464546a1226c637f31e00ed9572bd0f76fbe70,," # NOTICE: With all of the copy options it should be noted that it's using rsync # within the task. If the target being copied is a ""directory"" the path # should end with a tailing slash.",,7,4
openstack%2Fdiskimage-builder~master~I80df28be6e2a5e03ae1450e84fc05715f21a7750,openstack/diskimage-builder,master,I80df28be6e2a5e03ae1450e84fc05715f21a7750,Add Ubuntu 18.04 support,MERGED,2018-05-17 13:00:30.000000000,2018-05-21 05:06:46.000000000,2018-05-18 15:58:41.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 9311}, {'_account_id': 10118}, {'_account_id': 11628}, {'_account_id': 13343}, {'_account_id': 13511}, {'_account_id': 19578}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-17 13:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2ccb6b6558589cf1b130fb3673e12af76f9a93c2', 'message': 'Add Ubuntu 18.04 support\n\nChange-Id: I80df28be6e2a5e03ae1450e84fc05715f21a7750\nCloses-bug: 1766850\n'}, {'number': 2, 'created': '2018-05-17 13:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b4071fde6537dcdc66ae732b9b1f278deacf0180', 'message': 'Add Ubuntu 18.04 support\n\nUse squashfs for more recent Ubuntu releases\n\nChange-Id: I80df28be6e2a5e03ae1450e84fc05715f21a7750\nCloses-bug: 1766850\n'}, {'number': 3, 'created': '2018-05-18 04:47:58.000000000', 'files': ['diskimage_builder/elements/ubuntu/root.d/10-cache-ubuntu-tarball', 'diskimage_builder/elements/ubuntu/test-elements/bionic-build-succeeds/README.rst', 'diskimage_builder/elements/ubuntu/test-elements/bionic-build-succeeds/element-deps', 'diskimage_builder/elements/ubuntu-core/root.d/10-cache-ubuntu-image', 'diskimage_builder/elements/ubuntu/test-elements/bionic-build-succeeds/environment.d/10-set-distro.bash', 'tests/run_functests.sh', 'diskimage_builder/elements/ubuntu/test-elements/bionic-build-succeeds/test-output-formats', 'playbooks/legacy/dib-dsvm-functests-python2-centos-7-image/run.yaml', 'playbooks/legacy/dib-dsvm-functests-python3-image/run.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2e6a19a018197f1f9dda54763e65b06e5ad16d1a', 'message': 'Add Ubuntu 18.04 support\n\nUse squashfs for more recent Ubuntu releases\n\nChange-Id: I80df28be6e2a5e03ae1450e84fc05715f21a7750\nCloses-bug: 1766850\n'}]",1,569103,2e6a19a018197f1f9dda54763e65b06e5ad16d1a,20,10,3,13343,,,0,"Add Ubuntu 18.04 support

Use squashfs for more recent Ubuntu releases

Change-Id: I80df28be6e2a5e03ae1450e84fc05715f21a7750
Closes-bug: 1766850
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/03/569103/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/ubuntu/root.d/10-cache-ubuntu-tarball', 'diskimage_builder/elements/ubuntu-core/root.d/10-cache-ubuntu-image']",2,2ccb6b6558589cf1b130fb3673e12af76f9a93c2,bug/1766850,release_numbers[bionic]=18.04,,11,2
openstack%2Fansible-role-systemd_networkd~master~Ife5c179d27925cd2e71d3d086a731e6c13b12965,openstack/ansible-role-systemd_networkd,master,Ife5c179d27925cd2e71d3d086a731e6c13b12965,Update cleanup process and set a file prefix,MERGED,2018-05-19 04:22:17.000000000,2018-05-21 05:03:36.000000000,2018-05-21 05:03:36.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-19 04:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/84e70cc3d9d74591d8c38ec90dfcbbb0b6e2543d', 'message': ""Update cleanup process and set a file prefix\n\nThe interface cleanup was generating a script that could be used to run\na cleanup whenever required. While this worked it would rapidly become\nout of date, especially when multiple roles are calling this role. This\nchange adds a prefix which deployer can use to ensure the network\ninterface files are marked which will ensure we're limiting the\npossibility of collisions.\n\nThe cleanup process will now use this prefix to search for and remove\nany network interface file that matches the given prefix.\n\nChange-Id: Ife5c179d27925cd2e71d3d086a731e6c13b12965\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 2, 'created': '2018-05-19 04:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/69cbab7858451a0563a95af9bdc5e46d2cf8256e', 'message': ""Update cleanup process and set a file prefix\n\nThe interface cleanup was generating a script that could be used to run\na cleanup whenever required. While this worked it would rapidly become\nout of date, especially when multiple roles are calling this role. This\nchange adds a prefix which deployer can use to ensure the network\ninterface files are marked which will ensure we're limiting the\npossibility of collisions.\n\nThe cleanup process will now use this prefix to search for and remove\nany network interface file that matches the given prefix.\n\nChange-Id: Ife5c179d27925cd2e71d3d086a731e6c13b12965\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 3, 'created': '2018-05-19 05:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/99346a6fb54a2c1c7cad44b794ca9bdaee8b4351', 'message': ""Update cleanup process and set a file prefix\n\nThe interface cleanup was generating a script that could be used to run\na cleanup whenever required. While this worked it would rapidly become\nout of date, especially when multiple roles are calling this role. This\nchange adds a prefix which deployer can use to ensure the network\ninterface files are marked which will ensure we're limiting the\npossibility of collisions.\n\nThe cleanup process will now use this prefix to search for and remove\nany network interface file that matches the given prefix.\n\nChange-Id: Ife5c179d27925cd2e71d3d086a731e6c13b12965\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 4, 'created': '2018-05-19 05:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/1288548edd32de2972e025d7e698f1e45e456ff3', 'message': ""Update cleanup process and set a file prefix\n\nThe interface cleanup was generating a script that could be used to run\na cleanup whenever required. While this worked it would rapidly become\nout of date, especially when multiple roles are calling this role. This\nchange adds a prefix which deployer can use to ensure the network\ninterface files are marked which will ensure we're limiting the\npossibility of collisions.\n\nThe cleanup process will now use this prefix to search for and remove\nany network interface file that matches the given prefix.\n\nChange-Id: Ife5c179d27925cd2e71d3d086a731e6c13b12965\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 5, 'created': '2018-05-19 05:40:59.000000000', 'files': ['tasks/main.yml', 'templates/interface-cleanup.sh.j2', 'tests/test.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/b0395c727e693663b5b654e0483b677ed430e2a0', 'message': ""Update cleanup process and set a file prefix\n\nThe interface cleanup was generating a script that could be used to run\na cleanup whenever required. While this worked it would rapidly become\nout of date, especially when multiple roles are calling this role. This\nchange adds a prefix which deployer can use to ensure the network\ninterface files are marked which will ensure we're limiting the\npossibility of collisions.\n\nThe cleanup process will now use this prefix to search for and remove\nany network interface file that matches the given prefix.\n\nChange-Id: Ife5c179d27925cd2e71d3d086a731e6c13b12965\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",0,569554,b0395c727e693663b5b654e0483b677ed430e2a0,13,2,5,7353,,,0,"Update cleanup process and set a file prefix

The interface cleanup was generating a script that could be used to run
a cleanup whenever required. While this worked it would rapidly become
out of date, especially when multiple roles are calling this role. This
change adds a prefix which deployer can use to ensure the network
interface files are marked which will ensure we're limiting the
possibility of collisions.

The cleanup process will now use this prefix to search for and remove
any network interface file that matches the given prefix.

Change-Id: Ife5c179d27925cd2e71d3d086a731e6c13b12965
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/54/569554/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/interface-cleanup.sh.j2', 'tests/test.yml', 'defaults/main.yml']",4,84e70cc3d9d74591d8c38ec90dfcbbb0b6e2543d,,"# Cleanup all known network interfaces. When this option is enabled the role # will search for and remove all network interface files that match the prefix.# Prefix for all networkd files created by this role. This prefix allows # deployers to set specific file names reducing the chance of a collision # and simplifies the network interface file cleanup operation should it ever # be needed. By default, the prefix is ""general"" however this can be changed # to meet the needs of the deployer. systemd_networkd_prefix: ""general"" systemd_networkd_netdev_filename: ""{{ item.0 }}-{{ systemd_networkd_prefix }}-{{ item.1.NetDev.Name }}.netdev"" systemd_networkd_network_filename: ""{{ item.0 }}-{{ systemd_networkd_prefix }}-{{ item.1.interface }}.network""","# Cleanup all known network interfacessystemd_networkd_netdev_filename: ""{{ item.0 }}-{{ item.1.NetDev.Name }}.netdev"" systemd_networkd_network_filename: ""{{ item.0 }}-{{ item.1.interface }}.network""",89,33
openstack%2Fkeystone~master~I90a0ed677aa9d666a220bd2456dac336378cd3ba,openstack/keystone,master,I90a0ed677aa9d666a220bd2456dac336378cd3ba,Fix the test for unique IdP,MERGED,2018-04-24 04:10:51.000000000,2018-05-21 04:45:28.000000000,2018-05-21 04:45:28.000000000,"[{'_account_id': 5046}, {'_account_id': 11022}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 15699}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 04:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/436d59ffe541fdb9da71a5678b727907ff65b525', 'message': 'Fix the test for unique IdP\n\nThe test that IdP and domain is unique constraint is wrong.\nKeystone never support Idp:domain is 1:1.\n\nThis patch fixed the error to make sure Idp:domain is n:1\n\nChange-Id: I90a0ed677aa9d666a220bd2456dac336378cd3ba\nCloses-bug: #1760843\n'}, {'number': 2, 'created': '2018-04-25 03:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/42549130f0c62a0f690efa9f3b70a753067be397', 'message': 'Fix the test for unique IdP\n\nThe test that IdP and domain is unique constraint is wrong.\nKeystone never support Idp:domain is 1:1.\n\nThis patch fixed the error to make sure Idp:domain is n:1\n\nChange-Id: I90a0ed677aa9d666a220bd2456dac336378cd3ba\nCloses-bug: #1760843\n'}, {'number': 3, 'created': '2018-05-04 08:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f1432f9ade7c18eab25fa4c1d0f682d473fecbfb', 'message': 'Fix the test for unique IdP\n\nThe test that IdP and domain is unique constraint is wrong.\nKeystone never support Idp:domain is 1:1.\n\nThis patch fixed the error to make sure Idp:domain is n:1\n\nChange-Id: I90a0ed677aa9d666a220bd2456dac336378cd3ba\nCloses-bug: #1760843\n'}, {'number': 4, 'created': '2018-05-07 01:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/962b06e22abe28a0200554764f421db102b03c60', 'message': 'Fix the test for unique IdP\n\nThe test that IdP and domain is unique constraint is wrong.\nKeystone never support Idp:domain is 1:1.\n\nThis patch fixed the error in the test to make sure\nIdp:domain is n:1.\n\nChange-Id: I90a0ed677aa9d666a220bd2456dac336378cd3ba\nCloses-bug: #1760843\n'}, {'number': 5, 'created': '2018-05-09 02:29:13.000000000', 'files': ['keystone/tests/unit/test_v3_federation.py', 'api-ref/source/v3-ext/federation.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a7437cae731c0914c4df78590b155f8a272f4139', 'message': 'Fix the test for unique IdP\n\nThe test that IdP and domain is unique constraint is wrong.\nKeystone never support Idp:domain is 1:1.\n\nThis patch fixed the error in the test to make sure\nIdp:domain is n:1.\n\nChange-Id: I90a0ed677aa9d666a220bd2456dac336378cd3ba\nCloses-bug: #1760843\n'}]",14,563812,a7437cae731c0914c4df78590b155f8a272f4139,30,7,5,15054,,,0,"Fix the test for unique IdP

The test that IdP and domain is unique constraint is wrong.
Keystone never support Idp:domain is 1:1.

This patch fixed the error in the test to make sure
Idp:domain is n:1.

Change-Id: I90a0ed677aa9d666a220bd2456dac336378cd3ba
Closes-bug: #1760843
",git fetch https://review.opendev.org/openstack/keystone refs/changes/12/563812/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_v3_federation.py'],1,436d59ffe541fdb9da71a5678b727907ff65b525,bug/1760843," def test_create_multi_idp_in_one_domain(self): idp1 = self._create_default_idp(body=body) self.assertValidResponse(idp1, 'identity_provider', dummy_validator, idp2 = self.put(url, body={'identity_provider': body}, expected_status=http_client.CREATED) self.assertValidResponse(idp2, 'identity_provider', dummy_validator, keys_to_check=keys_to_check, ref=body) self.assertEqual(idp1.result['identity_provider']['domain_id'], idp2.result['identity_provider']['domain_id'])","from keystone.tests.unit import utils as test_utils @test_utils.wip(""Keystone never support IdP:domain = 1:1. This test should"" ""be fixed to make sure IdP:domain is n:1"", bug='1760843') def test_create_idp_domain_id_unique_constraint(self): resp = self._create_default_idp(body=body) self.assertValidResponse(resp, 'identity_provider', dummy_validator, resp = self.put(url, body={'identity_provider': body}, expected_status=http_client.CONFLICT) resp_data = jsonutils.loads(resp.body) self.assertIn('Duplicate entry', resp_data.get('error', {}).get('message'))",11,11
openstack%2Fkeystone~master~I13ecb0ab0434f5614f31d151e708f299cf8e8adb,openstack/keystone,master,I13ecb0ab0434f5614f31d151e708f299cf8e8adb,Update IdP sql model,MERGED,2018-04-09 09:35:23.000000000,2018-05-21 04:44:22.000000000,2018-05-21 04:44:22.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11022}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 15699}, {'_account_id': 22348}, {'_account_id': 24441}]","[{'number': 1, 'created': '2018-04-09 09:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d98a73ae66594bf2745612e16f58914335349332', 'message': ""Mark the idp's domain_id unique\n\nBacking to https://review.openstack.org/#/c/399684/ , When the\ndomain_id is added to idp, it's designed as idp: domain_id (1:1).\n\nNow there are some inconsistence:\nthe sql model for the domain_id in idp is Unique, but it lost\nForeignKey.\nthe db schema for the domain_id in idp has ForeignKey but it lost\nUniqueConstraint.\n\nBase on the original proposal, this patch add a new db migration\nscript to mark the idp's domain_id unique in db.\n\nNOTE: If the there are more than one idps related to the same\ndomain, the migration will fail.\n\nChange-Id: I13ecb0ab0434f5614f31d151e708f299cf8e8adb\nCloses-bug: #1760843\n""}, {'number': 2, 'created': '2018-04-11 03:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/87251464a9c936cc5ca0e3369015441a21f9a30e', 'message': ""Mark the idp's domain_id unique\n\nBacking to https://review.openstack.org/#/c/399684/ , When the\ndomain_id is added to idp, it's designed as idp: domain_id (1:1).\n\nNow there are some inconsistence:\nthe sql model for the domain_id in idp is Unique, but it lost\nForeignKey.\nthe db schema for the domain_id in idp has ForeignKey but it lost\nUniqueConstraint.\n\nBase on the original proposal, this patch add a new db migration\nscript to mark the idp's domain_id unique in db.\n\nNOTE: If the there are more than one idps related to the same\ndomain, the migration will fail.\n\nChange-Id: I13ecb0ab0434f5614f31d151e708f299cf8e8adb\nCloses-bug: #1760843\n""}, {'number': 3, 'created': '2018-04-16 02:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6729c3df923996c185bf95de66952e1406d717a3', 'message': 'Update IdP sql model\n\nBase on the database schema, the domain_id colume in identity_provider\nis not unique and has the ForeignKey for project.id. But the IdP sql\nmodel is different. It marks the domain_id is unique and the ForeignKey\nis lost.\n\nThis patch removed the unique restriction and added ForeignKey back.\n\nChange-Id: I13ecb0ab0434f5614f31d151e708f299cf8e8adb\nCloses-bug: #1760843\n'}, {'number': 4, 'created': '2018-04-16 12:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/85dde3a84fc1e018f679d43b60f75d9ea904c268', 'message': 'Update IdP sql model\n\nBase on the database schema, the domain_id colume in identity_provider\nis not unique and has the ForeignKey for project.id. But the IdP sql\nmodel is different. It marks the domain_id is unique and the ForeignKey\nis lost.\n\nThis patch removed the unique restriction and added ForeignKey back.\n\nChange-Id: I13ecb0ab0434f5614f31d151e708f299cf8e8adb\nCloses-bug: #1760843\n'}, {'number': 5, 'created': '2018-04-17 01:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/314f7e4f0fd9d594e4c6442078ff738400d401c2', 'message': 'Update IdP sql model\n\nBase on the database schema, the domain_id column in identity_provider\nis not unique and has the ForeignKey for project.id. But the IdP sql\nmodel is different. It marks the domain_id is unique and the ForeignKey\nis lost.\n\nThis patch removes the unique restriction and adds the FK back, ultimately\nmaking the relationship between domains and identity provider 1:many.\n\nChange-Id: I13ecb0ab0434f5614f31d151e708f299cf8e8adb\nCloses-bug: #1760843\n'}, {'number': 6, 'created': '2018-04-24 04:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5fc75c05b35114e87b9504555b23432e0a5d9df8', 'message': 'Update IdP sql model\n\nBase on the database schema, the domain_id column in identity_provider\nis not unique and has the ForeignKey for project.id. But the IdP sql\nmodel is different. It marks the domain_id is unique and the ForeignKey\nis lost.\n\nThis patch removes the unique restriction and adds the FK back, ultimately\nmaking the relationship between domains and identity provider 1:many.\n\nChange-Id: I13ecb0ab0434f5614f31d151e708f299cf8e8adb\nPartial-bug: #1760843\n'}, {'number': 7, 'created': '2018-04-25 03:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cee989c9686398536b35c1fb674efe573cc03b95', 'message': 'Update IdP sql model\n\nBase on the database schema, the domain_id column in identity_provider\nis not unique and has the ForeignKey for project.id. But the IdP sql\nmodel is different. It marks the domain_id is unique and the ForeignKey\nis lost.\n\nThis patch removes the unique restriction and adds the FK back, ultimately\nmaking the relationship between domains and identity provider 1:many.\n\nChange-Id: I13ecb0ab0434f5614f31d151e708f299cf8e8adb\nPartial-bug: #1760843\n'}, {'number': 8, 'created': '2018-05-04 08:43:57.000000000', 'files': ['keystone/tests/unit/test_v3_federation.py', 'keystone/federation/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b6da8a1b8976579e4bf4025b58a69a9be539c847', 'message': 'Update IdP sql model\n\nBase on the database schema, the domain_id column in identity_provider\nis not unique and has the ForeignKey for project.id. But the IdP sql\nmodel is different. It marks the domain_id is unique and the ForeignKey\nis lost.\n\nThis patch removes the unique restriction and adds the FK back, ultimately\nmaking the relationship between domains and identity provider 1:many.\n\nChange-Id: I13ecb0ab0434f5614f31d151e708f299cf8e8adb\nPartial-bug: #1760843\n'}]",13,559676,b6da8a1b8976579e4bf4025b58a69a9be539c847,50,8,8,15054,,,0,"Update IdP sql model

Base on the database schema, the domain_id column in identity_provider
is not unique and has the ForeignKey for project.id. But the IdP sql
model is different. It marks the domain_id is unique and the ForeignKey
is lost.

This patch removes the unique restriction and adds the FK back, ultimately
making the relationship between domains and identity provider 1:many.

Change-Id: I13ecb0ab0434f5614f31d151e708f299cf8e8adb
Partial-bug: #1760843
",git fetch https://review.opendev.org/openstack/keystone refs/changes/76/559676/7 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/data_migration_repo/versions/045_migrate_unique_idp_domain_id.py', 'keystone/common/sql/expand_repo/versions/045_expand_unique_idp_domain_id.py', 'keystone/common/sql/contract_repo/versions/045_contract_unique_idp_domain_id.py', 'keystone/federation/backends/sql.py']",4,d98a73ae66594bf2745612e16f58914335349332,bug/1760843," domain_id = sql.Column(sql.String(64), sql.ForeignKey('project.id'), nullable=False, unique=True,)"," domain_id = sql.Column(sql.String(64), nullable=False, unique=True)",61,1
openstack%2Fnetworking-onos~master~Ib4e2d7e18a017dd2b916a449f4727c035e149783,openstack/networking-onos,master,Ib4e2d7e18a017dd2b916a449f4727c035e149783,Fix l3 driver due to API changes,MERGED,2018-05-18 08:36:46.000000000,2018-05-21 03:58:12.000000000,2018-05-21 03:58:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25575}]","[{'number': 1, 'created': '2018-05-18 08:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/e50bbbda406d99666ccf4929e537788a7d58f76c', 'message': 'Fix l3 driver due to API changes\n\nChange-Id: Ib4e2d7e18a017dd2b916a449f4727c035e149783\n'}, {'number': 2, 'created': '2018-05-21 02:03:47.000000000', 'files': ['networking_onos/plugins/l3/driver.py', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/6228a96d59dac787fd647e2967c05054fbf91332', 'message': 'Fix l3 driver due to API changes\n\nChange-Id: Ib4e2d7e18a017dd2b916a449f4727c035e149783\n'}]",0,569362,6228a96d59dac787fd647e2967c05054fbf91332,9,2,2,25575,,,0,"Fix l3 driver due to API changes

Change-Id: Ib4e2d7e18a017dd2b916a449f4727c035e149783
",git fetch https://review.opendev.org/openstack/networking-onos refs/changes/62/569362/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_onos/plugins/l3/driver.py', 'devstack/plugin.sh']",2,e50bbbda406d99666ccf4929e537788a7d58f76c,api_change, configure_neutron_nova_new, create_nova_conf_neutron,3,3
openstack%2Fneutron~stable%2Fpike~I5867f77fc5aedc169b42f50def0424ff209c164c,openstack/neutron,stable/pike,I5867f77fc5aedc169b42f50def0424ff209c164c,Only allow SG port ranges for whitelisted protocols,MERGED,2018-05-08 15:25:05.000000000,2018-05-21 03:57:58.000000000,2018-05-21 03:57:58.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 2463}, {'_account_id': 8871}, {'_account_id': 11975}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 15:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2264d6b90d082d5d713a8ecf0e6eac1b4c272085', 'message': 'Only allow SG port ranges for whitelisted protocols\n\nIptables only supports port-ranges for certain protocols,\nothers will generate failures, possibly leaving the agent\nlooping trying to apply rules.  Change to not allow port\nranges outside of the list of known good protocols.\n\nChange-Id: I5867f77fc5aedc169b42f50def0424ff209c164c\nCloses-bug: #1749667\n(cherry picked from commit b564871bb759a38cf96527f94e7c7d4cc760b1c9)\n'}, {'number': 2, 'created': '2018-05-08 19:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62d61cc72bdfbab9f730514521dc173ede060f20', 'message': 'Only allow SG port ranges for whitelisted protocols\n\nIptables only supports port-ranges for certain protocols,\nothers will generate failures, possibly leaving the agent\nlooping trying to apply rules.  Change to not allow port\nranges outside of the list of known good protocols.\n\nThis backport is based on commit\nb564871bb759a38cf96527f94e7c7d4cc760b1c9, excluding validation\nand tests for protocols where support for port ranges was\nadded later (in Pike, only TCP and UDP are supported).\n\nChange-Id: I5867f77fc5aedc169b42f50def0424ff209c164c\nCloses-bug: #1749667\n'}, {'number': 3, 'created': '2018-05-10 22:25:35.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/extensions/securitygroup.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8f9c9447020f1708ebac2b210e3bfe1dbefe3fa', 'message': 'Only allow SG port ranges for whitelisted protocols\n\nIptables only supports port-ranges for certain protocols,\nothers will generate failures, possibly leaving the agent\nlooping trying to apply rules.  Change to not allow port\nranges outside of the list of known good protocols.\n\nThis backport is based on commit\nb564871bb759a38cf96527f94e7c7d4cc760b1c9, excluding validation\nand tests for protocols where support for port ranges was\nadded later (in Pike, only TCP and UDP are supported).\n\nConflicts:\n    neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I5867f77fc5aedc169b42f50def0424ff209c164c\nCloses-bug: #1749667\n(cherry picked from commit b564871bb759a38cf96527f94e7c7d4cc760b1c9)\n'}]",8,566922,d8f9c9447020f1708ebac2b210e3bfe1dbefe3fa,29,7,3,2463,,,0,"Only allow SG port ranges for whitelisted protocols

Iptables only supports port-ranges for certain protocols,
others will generate failures, possibly leaving the agent
looping trying to apply rules.  Change to not allow port
ranges outside of the list of known good protocols.

This backport is based on commit
b564871bb759a38cf96527f94e7c7d4cc760b1c9, excluding validation
and tests for protocols where support for port ranges was
added later (in Pike, only TCP and UDP are supported).

Conflicts:
    neutron/tests/unit/db/test_securitygroups_db.py

Change-Id: I5867f77fc5aedc169b42f50def0424ff209c164c
Closes-bug: #1749667
(cherry picked from commit b564871bb759a38cf96527f94e7c7d4cc760b1c9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/566922/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/extensions/securitygroup.py', 'neutron/tests/unit/extensions/test_securitygroup.py']",4,2264d6b90d082d5d713a8ecf0e6eac1b4c272085,bug/1749667," def test_create_security_group_rule_protocol_as_number_with_port(self): name = 'webservers' description = 'my webservers' with self.security_group(name, description) as sg: security_group_id = sg['security_group']['id'] protocol = 111 rule = self._build_security_group_rule( security_group_id, 'ingress', protocol, '70') res = self._create_security_group_rule(self.fmt, rule) self.deserialize(self.fmt, res) self.assertEqual(webob.exc.HTTPCreated.code, res.status_int) def test_create_security_group_rule_protocol_as_number_range(self): # This is a SG rule with a port range, but treated as a single # port since min/max are the same. name = 'webservers' description = 'my webservers' with self.security_group(name, description) as sg: security_group_id = sg['security_group']['id'] protocol = 111 rule = self._build_security_group_rule( security_group_id, 'ingress', protocol, '70', '70') res = self._create_security_group_rule(self.fmt, rule) self.deserialize(self.fmt, res) self.assertEqual(webob.exc.HTTPCreated.code, res.status_int) def test_create_security_group_rule_protocol_as_number_range_bad(self): # Only certain protocols support a SG rule with a port range name = 'webservers' description = 'my webservers' with self.security_group(name, description) as sg: security_group_id = sg['security_group']['id'] protocol = 111 rule = self._build_security_group_rule( security_group_id, 'ingress', protocol, '70', '71') res = self._create_security_group_rule(self.fmt, rule) self.deserialize(self.fmt, res) self.assertEqual(webob.exc.HTTPBadRequest.code, res.status_int) ",,76,0
openstack%2Fsenlin~master~I1934da452a5fa987c782974c68b5ef169089784e,openstack/senlin,master,I1934da452a5fa987c782974c68b5ef169089784e,Simplify profile code,MERGED,2018-05-17 08:07:32.000000000,2018-05-21 03:45:40.000000000,2018-05-21 03:45:40.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-05-17 08:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d7d33f35a0f312d4396d5921a9656caddc63a98a', 'message': 'Simplify profile code\n\nReduce duplicate code for profile server operations by creating a generic\nhandler function for standard operations.\n\nChange-Id: I1934da452a5fa987c782974c68b5ef169089784e\n'}, {'number': 2, 'created': '2018-05-17 08:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/64a833f0cbdeb02b30dea6b434a666963a91a502', 'message': 'Simplify profile code\n\nReduce duplicate code for profile server operations by creating a generic\nhandler function for standard operations.\n\nChange-Id: I1934da452a5fa987c782974c68b5ef169089784e\n'}, {'number': 3, 'created': '2018-05-18 20:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/4b069eef1443c3bfc37b63311344b7df3b80a55d', 'message': 'Simplify profile code\n\nReduce duplicate code for profile server operations by creating a generic\nhandler function for standard operations.\n\nChange-Id: I1934da452a5fa987c782974c68b5ef169089784e\n'}, {'number': 4, 'created': '2018-05-18 22:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/e99cce5d1fa25e320d6f4ddf8d5279768fb473c2', 'message': 'Simplify profile code\n\nReduce duplicate code for profile server operations by creating a generic\nhandler function for standard operations.\n\nChange-Id: I1934da452a5fa987c782974c68b5ef169089784e\n'}, {'number': 5, 'created': '2018-05-20 06:07:22.000000000', 'files': ['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/42c1d18c5b8fa897a0e317dd1647d6fe7783e3ef', 'message': 'Simplify profile code\n\nReduce duplicate code for profile server operations by creating a generic\nhandler function for standard operations.\n\nChange-Id: I1934da452a5fa987c782974c68b5ef169089784e\n'}]",9,569052,42c1d18c5b8fa897a0e317dd1647d6fe7783e3ef,25,6,5,27224,,,0,"Simplify profile code

Reduce duplicate code for profile server operations by creating a generic
handler function for standard operations.

Change-Id: I1934da452a5fa987c782974c68b5ef169089784e
",git fetch https://review.opendev.org/openstack/senlin refs/changes/52/569052/2 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py']",2,d7d33f35a0f312d4396d5921a9656caddc63a98a,simplify_profile_code," cc.server_suspend.assert_called_once_with(cc, 'FAKE_ID') cc.server_resume.assert_called_once_with(cc, 'FAKE_ID') cc.server_start.assert_called_once_with(cc, 'FAKE_ID') cc.server_stop.assert_called_once_with(cc, 'FAKE_ID') cc.server_pause.assert_called_once_with(cc, 'FAKE_ID') cc.server_unpause.assert_called_once_with(cc, 'FAKE_ID')", cc.server_suspend.assert_called_once_with('FAKE_ID') cc.server_resume.assert_called_once_with('FAKE_ID') cc.server_start.assert_called_once_with('FAKE_ID') cc.server_stop.assert_called_once_with('FAKE_ID') cc.server_pause.assert_called_once_with('FAKE_ID') cc.server_unpause.assert_called_once_with('FAKE_ID'),33,98
openstack%2Fzun~master~I23b559dae6d695903a7ea26b48a1a17c45515910,openstack/zun,master,I23b559dae6d695903a7ea26b48a1a17c45515910,Require admin privilege for image APIs,MERGED,2018-05-05 22:15:40.000000000,2018-05-21 03:39:14.000000000,2018-05-21 03:39:14.000000000,"[{'_account_id': 11536}, {'_account_id': 17130}, {'_account_id': 21428}, {'_account_id': 22348}, {'_account_id': 25571}, {'_account_id': 25695}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-05-05 22:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/22bd9888ca8064f0da254c2ed3a84bdb2e5f5041', 'message': 'Require admin privilege for image APIs\n\nThe image APIs are designed for pull/delete images at a compute\nnode. Non-admin users should be disallowed to access individual\ncompute node. This patch enforce that.\n\nChange-Id: I23b559dae6d695903a7ea26b48a1a17c45515910\nPartial-Implements: blueprint rework-image-api\n'}, {'number': 2, 'created': '2018-05-09 01:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c3b23d8bd635928b8d867017c859bec8534aaa96', 'message': 'Require admin privilege for image APIs\n\nThe image APIs are designed for pull/delete images at a compute\nnode. Non-admin users should be disallowed to access individual\ncompute node. This patch enforce that.\n\nChange-Id: I23b559dae6d695903a7ea26b48a1a17c45515910\nPartial-Implements: blueprint rework-image-api\n'}, {'number': 3, 'created': '2018-05-13 16:11:42.000000000', 'files': ['zun/tests/unit/api/controllers/v1/test_images.py', 'zun/common/policies/image.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/e3e1a455b756c0d28f98e83096aa2b3aeb0f6269', 'message': 'Require admin privilege for image APIs\n\nThe image APIs are designed for pull/delete images at a compute\nnode. Non-admin users should be disallowed to access individual\ncompute node. This patch enforce that.\n\nChange-Id: I23b559dae6d695903a7ea26b48a1a17c45515910\nPartial-Implements: blueprint rework-image-api\n'}]",0,566443,e3e1a455b756c0d28f98e83096aa2b3aeb0f6269,18,7,3,11536,,,0,"Require admin privilege for image APIs

The image APIs are designed for pull/delete images at a compute
node. Non-admin users should be disallowed to access individual
compute node. This patch enforce that.

Change-Id: I23b559dae6d695903a7ea26b48a1a17c45515910
Partial-Implements: blueprint rework-image-api
",git fetch https://review.opendev.org/openstack/zun refs/changes/43/566443/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/unit/api/controllers/v1/test_images.py', 'zun/common/policies/image.py']",2,22bd9888ca8064f0da254c2ed3a84bdb2e5f5041,bp/rework-image-api," check_str=base.RULE_ADMIN_API, check_str=base.RULE_ADMIN_API, check_str=base.RULE_ADMIN_API,"," check_str=base.RULE_ADMIN_OR_OWNER, check_str=base.RULE_ADMIN_OR_OWNER, check_str=base.RULE_ADMIN_OR_OWNER,",16,10
openstack%2Fpython-openstackclient~master~I046df1d08ea3e6651900d30e831d2fd5546473ee,openstack/python-openstackclient,master,I046df1d08ea3e6651900d30e831d2fd5546473ee,openstack image list: Support for community images,ABANDONED,2018-05-21 03:36:03.000000000,2018-05-21 03:38:46.000000000,,[],"[{'number': 1, 'created': '2018-05-21 03:36:03.000000000', 'files': ['doc/source/cli/command-objects/image.rst', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v1/image.py', 'openstackclient/api/image_v2.py', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e01fa7440b020f68ef0af52fb3c62f1cc9884db0', 'message': 'openstack image list: Support for community images\n\nCommunity images are shared publicly with all projects but are hidden\nfrom the default image listing unless visibility=community is passed to\nthe Image API (as an anti-spam measure).\n\nAdd support for the --community flag to list community images.\n\nChange-Id: I046df1d08ea3e6651900d30e831d2fd5546473ee\n'}]",0,569692,e01fa7440b020f68ef0af52fb3c62f1cc9884db0,2,0,1,21107,,,0,"openstack image list: Support for community images

Community images are shared publicly with all projects but are hidden
from the default image listing unless visibility=community is passed to
the Image API (as an anti-spam measure).

Add support for the --community flag to list community images.

Change-Id: I046df1d08ea3e6651900d30e831d2fd5546473ee
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/92/569692/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/command-objects/image.rst', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v1/image.py', 'openstackclient/api/image_v2.py', 'openstackclient/image/v2/image.py']",5,e01fa7440b020f68ef0af52fb3c62f1cc9884db0,," public_group.add_argument( ""--community"", dest=""community"", action=""store_true"", default=False, help=_(""List only community images""), ) if parsed_args.community: kwargs['community'] = True",,55,1
openstack%2Fnova~stable%2Fqueens~Id9a009c8ab2a02f6f860399eeb145337de3c92e9,openstack/nova,stable/queens,Id9a009c8ab2a02f6f860399eeb145337de3c92e9,Move update_task_state out of try/except,MERGED,2018-04-20 02:18:20.000000000,2018-05-21 03:25:44.000000000,2018-05-21 03:25:44.000000000,"[{'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-20 02:18:20.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d66f6acad033f16a251fb41bcf054dd0021a081', 'message': 'Move update_task_state out of try/except\n\nDuring snapshot there might be some race condition lead\nto instance be deleted, compute layer has handle on the\nInstanceNotFound exception so move update_task_state\nout of try/except in snapshot function to avoid callback\ntrace.\n\nAlso, note follow up patch will handle additional race\ncondition on instance disappear during other exception\nsuch as NotImplemented occurs scenario.\n\nChange-Id: Id9a009c8ab2a02f6f860399eeb145337de3c92e9\nCloses-Bug: 1737024\n(cherry picked from commit 825529a3de45606839f6d44a924ca6263c970dfe)\n'}]",0,562901,2d66f6acad033f16a251fb41bcf054dd0021a081,25,10,1,6062,,,0,"Move update_task_state out of try/except

During snapshot there might be some race condition lead
to instance be deleted, compute layer has handle on the
InstanceNotFound exception so move update_task_state
out of try/except in snapshot function to avoid callback
trace.

Also, note follow up patch will handle additional race
condition on instance disappear during other exception
such as NotImplemented occurs scenario.

Change-Id: Id9a009c8ab2a02f6f860399eeb145337de3c92e9
Closes-Bug: 1737024
(cherry picked from commit 825529a3de45606839f6d44a924ca6263c970dfe)
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/562901/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,2d66f6acad033f16a251fb41bcf054dd0021a081,bug/1737024-stable/queens," @mock.patch.object(libvirt_driver.LOG, 'exception') def test_snapshot_update_task_state_failed(self, mock_exception): res = [None, exception.InstanceNotFound(instance_id='foo')] self.mock_update_task_state.side_effect = res self.assertRaises(exception.InstanceNotFound, self._test_snapshot, disk_format='qcow2') self.assertFalse(mock_exception.called) ",,11,2
openstack%2Fnova~stable%2Fqueens~I31c9ea8628c6f3985f8e9118d9687bbfb8789b68,openstack/nova,stable/queens,I31c9ea8628c6f3985f8e9118d9687bbfb8789b68,Handle PortNotFoundClient exception when getting ports,MERGED,2018-05-09 12:30:38.000000000,2018-05-21 03:23:10.000000000,2018-05-21 03:23:10.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-09 12:30:38.000000000', 'files': ['nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/network/security_group/neutron_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3bf3986c14ed14b9f460161aa4cc2950da5f56f5', 'message': 'Handle PortNotFoundClient exception when getting ports\n\nThere could be a race between deleting an instance and retrieving its\nport groups from Neutron. In this case PortNotFoundClient is raised and\nit can be safely ignored.\n\nChange-Id: I31c9ea8628c6f3985f8e9118d9687bbfb8789b68\nCloses-Bug: #1767058\n(cherry picked from commit 1a0179f7ab9b9c7f07ce9c4dd681486de5a4443a)\n'}]",0,567211,3bf3986c14ed14b9f460161aa4cc2950da5f56f5,24,11,1,9172,,,0,"Handle PortNotFoundClient exception when getting ports

There could be a race between deleting an instance and retrieving its
port groups from Neutron. In this case PortNotFoundClient is raised and
it can be safely ignored.

Change-Id: I31c9ea8628c6f3985f8e9118d9687bbfb8789b68
Closes-Bug: #1767058
(cherry picked from commit 1a0179f7ab9b9c7f07ce9c4dd681486de5a4443a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/567211/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/network/security_group/neutron_driver.py']",2,3bf3986c14ed14b9f460161aa4cc2950da5f56f5,bug/1767058-stable/queens," try: ports.extend(neutron.list_ports(**search_opts).get('ports')) except n_exc.PortNotFoundClient: # There could be a race between deleting an instance and # retrieving its port groups from Neutron. In this case # PortNotFoundClient is raised and it can be safely ignored LOG.debug(""Port not found for device with id %s"", ids)", ports.extend(neutron.list_ports(**search_opts).get('ports')),20,1
openstack%2Fnova~stable%2Fqueens~I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836,openstack/nova,stable/queens,I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836,placement: Fix HTTP error generation,MERGED,2018-05-16 08:45:39.000000000,2018-05-21 03:15:34.000000000,2018-05-21 03:15:34.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28239}]","[{'number': 1, 'created': '2018-05-16 08:45:39.000000000', 'files': ['nova/api/openstack/placement/handlers/inventory.py', 'nova/api/openstack/placement/handlers/trait.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dddee4189c0789565d1bb0328ef03fab3fb6a45a', 'message': ""placement: Fix HTTP error generation\n\nThe traits and the inventories wsgi handler inserted the detailed error\nmessage to the webob.exc.HTTPXXX exceptions via the 'explanation' kwarg.\nThis caused that the generated error messages does not contain the generic\nexplanation of the HTTP error code just the passed in explanation text.\nThe rest of the placement API uses first positional arg of the exception\nclasses to pass in the extra details. Having this inconsistency makes\nreally hard to print proper error messages from the osc-placement\nplugin.\n\nThis patch removes the incosistency by changing the code to use the\npositional arg.\n\nThe change does not affect nova.scheduler.client.report._RE_INV_IN_USE\nregex usage as that regex applied via re.search() and this change only\nadds a new sentece to the message.\n\nChange-Id: I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836\nClose-Bug: #1771325\n(cherry picked from commit 90d2dbedefbcc99a20a6a86888ef1d316d5d119f)\n""}]",0,568784,dddee4189c0789565d1bb0328ef03fab3fb6a45a,22,13,1,9708,,,0,"placement: Fix HTTP error generation

The traits and the inventories wsgi handler inserted the detailed error
message to the webob.exc.HTTPXXX exceptions via the 'explanation' kwarg.
This caused that the generated error messages does not contain the generic
explanation of the HTTP error code just the passed in explanation text.
The rest of the placement API uses first positional arg of the exception
classes to pass in the extra details. Having this inconsistency makes
really hard to print proper error messages from the osc-placement
plugin.

This patch removes the incosistency by changing the code to use the
positional arg.

The change does not affect nova.scheduler.client.report._RE_INV_IN_USE
regex usage as that regex applied via re.search() and this change only
adds a new sentece to the message.

Change-Id: I196c2e3dabcbf0564c1ca0bd4870dc2df3efc836
Close-Bug: #1771325
(cherry picked from commit 90d2dbedefbcc99a20a6a86888ef1d316d5d119f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/568784/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/handlers/inventory.py', 'nova/api/openstack/placement/handlers/trait.py']",2,dddee4189c0789565d1bb0328ef03fab3fb6a45a,bug/1771325," raise webob.exc.HTTPNotFound(ex.format_message()) raise webob.exc.HTTPNotFound(ex.format_message()) except exception.TraitCannotDeleteStandard as ex: raise webob.exc.HTTPBadRequest(ex.format_message()) except exception.TraitInUse as ex: raise webob.exc.HTTPConflict(ex.format_message()) _('The query parameter ""associated"" only accepts ' '""true"" or ""false""')) raise webob.exc.HTTPConflict(e.format_message())"," raise webob.exc.HTTPNotFound( explanation=ex.format_message()) raise webob.exc.HTTPNotFound( explanation=ex.format_message()) except exception.TraitCannotDeleteStandard as ex: raise webob.exc.HTTPBadRequest( explanation=ex.format_message()) except exception.TraitInUse as ex: raise webob.exc.HTTPConflict( explanation=ex.format_message()) explanation=_('The query parameter ""associated"" only accepts ' '""true"" or ""false""')) raise webob.exc.HTTPConflict(explanation=e.format_message())",8,12
openstack%2Fdesignate-dashboard~master~Ie57d111c44c607884e5ed3be614d4acae5e06b7f,openstack/designate-dashboard,master,Ie57d111c44c607884e5ed3be614d4acae5e06b7f,Django 2.0 support,MERGED,2018-05-10 14:41:56.000000000,2018-05-21 03:09:03.000000000,2018-05-21 03:09:03.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-05-10 14:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/0874050688a784faf347d59775b0b6055f0773cb', 'message': 'Django 2.0 support\n\nReplace django.core.urlresolves with django.urls\n\n(In Django 2.0) The django.core.urlresolvers module is removed\nin favor of its new location, django.urls.\nIt was deprecated in Django 1.10:\nhttps://docs.djangoproject.com/en/2.0/releases/1.10/#id3\n\nAdd py35dj20 job to test Django 2.0 integration.\n\nChange-Id: Ie57d111c44c607884e5ed3be614d4acae5e06b7f\n'}, {'number': 2, 'created': '2018-05-10 15:06:06.000000000', 'files': ['designatedashboard/tests/test_designatedashboard.py', 'designatedashboard/dashboards/project/dns_domains/views.py', '.zuul.yaml', 'designatedashboard/dashboards/project/dns_domains/tables.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/84ad2b733766718a359dbac4904b358aa5f3931c', 'message': 'Django 2.0 support\n\nReplace django.core.urlresolves with django.urls\n\n(In Django 2.0) The django.core.urlresolvers module is removed\nin favor of its new location, django.urls.\nIt was deprecated in Django 1.10:\nhttps://docs.djangoproject.com/en/2.0/releases/1.10/#id3\n\nAdd py35dj20 job to test Django 2.0 integration.\n\nChange-Id: Ie57d111c44c607884e5ed3be614d4acae5e06b7f\n'}]",0,567608,84ad2b733766718a359dbac4904b358aa5f3931c,14,3,2,841,,,0,"Django 2.0 support

Replace django.core.urlresolves with django.urls

(In Django 2.0) The django.core.urlresolvers module is removed
in favor of its new location, django.urls.
It was deprecated in Django 1.10:
https://docs.djangoproject.com/en/2.0/releases/1.10/#id3

Add py35dj20 job to test Django 2.0 integration.

Change-Id: Ie57d111c44c607884e5ed3be614d4acae5e06b7f
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/08/567608/1 && git format-patch -1 --stdout FETCH_HEAD,"['designatedashboard/tests/test_designatedashboard.py', 'designatedashboard/dashboards/project/dns_domains/views.py', '.zuul.yaml', 'designatedashboard/dashboards/project/dns_domains/tables.py', 'tox.ini']",5,0874050688a784faf347d59775b0b6055f0773cb,django20-support," [testenv:py35dj20] basepython = python3.5 commands = pip install django>=2.0,<2.1 {[testenv]commands}",,19,6
openstack%2Fopenstack-helm~master~I9ac1e01ddc8b22afa74768ccc6e76a17513b13ee,openstack/openstack-helm,master,I9ac1e01ddc8b22afa74768ccc6e76a17513b13ee,test,ABANDONED,2018-05-21 02:09:51.000000000,2018-05-21 02:10:57.000000000,,[],"[{'number': 1, 'created': '2018-05-21 02:09:51.000000000', 'files': ['tools/deployment/developer/nfs/060-rabbitmq.sh', 'tools/deployment/developer/ceph/900-use-it.sh', 'tools/deployment/developer/ceph/080-keystone.sh', 'tools/deployment/developer/ceph/050-mariadb.sh', 'tools/deployment/developer/nfs/010-deploy-k8s.sh', 'tools/deployment/developer/nfs/170-setup-gateway.sh', 'tools/deployment/developer/ceph/010-deploy-k8s.sh', 'tools/deployment/developer/nfs/140-openvswitch.sh', 'tools/deployment/developer/ceph/070-memcached.sh', 'tools/deployment/developer/nfs/900-use-it.sh', 'tools/deployment/baremetal/035-ceph-ns-activate.sh', 'tools/deployment/developer/nfs/100-horizon.sh', 'tools/deployment/baremetal/030-ceph.sh', 'tools/deployment/developer/ceph/090-heat.sh', 'tools/deployment/multinode/070-memcached.sh', 'tools/deployment/developer/nfs/030-ingress.sh', 'tools/deployment/developer/nfs/080-keystone.sh', 'tools/deployment/developer/ceph/030-ingress.sh', 'tools/deployment/developer/nfs/050-mariadb.sh', 'tools/deployment/developer/ceph/140-openvswitch.sh', 'tools/deployment/baremetal/040-mariadb.sh', 'tools/deployment/multinode/010-setup-client.sh', 'tools/deployment/baremetal/100-heat.sh', 'tools/deployment/developer/ceph/170-setup-gateway.sh', 'tools/deployment/developer/ceph/000-install-packages.sh', 'mariadb/Chart.yaml', 'tools/deployment/baremetal/070-keystone.sh', 'tools/deployment/developer/nfs/020-setup-client.sh', 'tools/deployment/baremetal/000-install-packages.sh', 'tools/deployment/baremetal/090-glance.sh', 'tools/deployment/developer/ceph/100-horizon.sh', 'tools/deployment/developer/nfs/090-heat.sh', 'tools/deployment/baremetal/080-ceph-radosgateway.sh', 'tools/deployment/baremetal/050-rabbitmq.sh', 'tools/deployment/baremetal/060-memcached.sh', 'tools/deployment/developer/ceph/060-rabbitmq.sh', 'tools/deployment/developer/nfs/000-install-packages.sh', 'tools/deployment/developer/ceph/020-setup-client.sh', 'tools/deployment/developer/common/020-setup-client.sh', 'tools/deployment/developer/nfs/070-memcached.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0db02a36371cd96714528d74e96b496c0e5977c1', 'message': 'test\n\nChange-Id: I9ac1e01ddc8b22afa74768ccc6e76a17513b13ee\n'}]",0,569686,0db02a36371cd96714528d74e96b496c0e5977c1,2,0,1,14151,,,0,"test

Change-Id: I9ac1e01ddc8b22afa74768ccc6e76a17513b13ee
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/86/569686/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/developer/nfs/060-rabbitmq.sh', 'tools/deployment/developer/ceph/900-use-it.sh', 'tools/deployment/developer/ceph/080-keystone.sh', 'tools/deployment/developer/ceph/050-mariadb.sh', 'tools/deployment/developer/nfs/010-deploy-k8s.sh', 'tools/deployment/developer/nfs/170-setup-gateway.sh', 'tools/deployment/developer/ceph/010-deploy-k8s.sh', 'tools/deployment/developer/nfs/140-openvswitch.sh', 'tools/deployment/developer/ceph/070-memcached.sh', 'tools/deployment/developer/nfs/900-use-it.sh', 'tools/deployment/baremetal/035-ceph-ns-activate.sh', 'tools/deployment/developer/nfs/100-horizon.sh', 'tools/deployment/baremetal/030-ceph.sh', 'tools/deployment/developer/ceph/090-heat.sh', 'tools/deployment/multinode/070-memcached.sh', 'tools/deployment/developer/nfs/030-ingress.sh', 'tools/deployment/developer/nfs/080-keystone.sh', 'tools/deployment/developer/ceph/030-ingress.sh', 'tools/deployment/developer/nfs/050-mariadb.sh', 'tools/deployment/developer/ceph/140-openvswitch.sh', 'tools/deployment/baremetal/040-mariadb.sh', 'tools/deployment/multinode/010-setup-client.sh', 'tools/deployment/baremetal/100-heat.sh', 'tools/deployment/developer/ceph/170-setup-gateway.sh', 'tools/deployment/developer/ceph/000-install-packages.sh', 'mariadb/Chart.yaml', 'tools/deployment/baremetal/070-keystone.sh', 'tools/deployment/developer/nfs/020-setup-client.sh', 'tools/deployment/baremetal/000-install-packages.sh', 'tools/deployment/baremetal/090-glance.sh', 'tools/deployment/developer/ceph/100-horizon.sh', 'tools/deployment/developer/nfs/090-heat.sh', 'tools/deployment/baremetal/080-ceph-radosgateway.sh', 'tools/deployment/baremetal/050-rabbitmq.sh', 'tools/deployment/baremetal/060-memcached.sh', 'tools/deployment/developer/ceph/060-rabbitmq.sh', 'tools/deployment/developer/nfs/000-install-packages.sh', 'tools/deployment/developer/ceph/020-setup-client.sh', 'tools/deployment/developer/common/020-setup-client.sh', 'tools/deployment/developer/nfs/070-memcached.sh']",40,0db02a36371cd96714528d74e96b496c0e5977c1,,"#!/bin/bash # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe #NOTE: Lint and package chart make memcached #NOTE: Deploy command : ${OSH_EXTRA_HELM_ARGS:=""""} helm upgrade --install memcached ./memcached \ --namespace=openstack \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_MEMCACHED} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh openstack #NOTE: Validate Deployment info helm status memcached ",,1766,1
openstack%2Fnova~master~I037d9b8c1bb554c3437434cc9a57ddb630dd62f0,openstack/nova,master,I037d9b8c1bb554c3437434cc9a57ddb630dd62f0,Placement: allow to set reserved value equal to total for inventory,MERGED,2018-04-27 16:46:39.000000000,2018-05-21 01:30:36.000000000,2018-05-19 02:53:32.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12356}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-27 16:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6011b4dd1dd8c90749fa819d5704daf9581fce1', 'message': 'Placement: allow to set reserved value equal to total for inventory\n\nThis is needed for ironic use case, when during cleaning, resources\nare reserved by ironic itself.\n\nCloses-Bug: 1767381\nChange-Id: I037d9b8c1bb554c3437434cc9a57ddb630dd62f0\n'}, {'number': 2, 'created': '2018-04-28 19:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a07a74c3117512b1d52b25cda268688c8db4c93', 'message': 'Placement: allow to set reserved value equal to total for inventory\n\nThis is needed for ironic use case, when during cleaning, resources\nare reserved by ironic itself. Cyborg will also benefit from this\nduring FPGA programming.\n\nblueprint: allow-reserved-equal-total-inventory\nChange-Id: I037d9b8c1bb554c3437434cc9a57ddb630dd62f0\n'}, {'number': 3, 'created': '2018-05-15 13:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03c22ddc4daa2e228f10ed2603746ef6275db83a', 'message': 'Placement: allow to set reserved value equal to total for inventory\n\nThis is needed for ironic use case, when during cleaning, resources\nare reserved by ironic itself. Cyborg will also benefit from this\nduring FPGA programming.\n\nblueprint: allow-reserved-equal-total-inventory\nChange-Id: I037d9b8c1bb554c3437434cc9a57ddb630dd62f0\n'}, {'number': 4, 'created': '2018-05-15 13:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fe4794d6a560ab115b8b2577fcf57bb3d185ba7', 'message': 'Placement: allow to set reserved value equal to total for inventory\n\nThis is needed for ironic use case, when during cleaning, resources\nare reserved by ironic itself. Cyborg will also benefit from this\nduring FPGA programming.\n\nblueprint: allow-reserved-equal-total-inventory\nChange-Id: I037d9b8c1bb554c3437434cc9a57ddb630dd62f0\n'}, {'number': 5, 'created': '2018-05-16 16:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64dbe985d203659e8d83f5a597559ea10bc862a9', 'message': 'Placement: allow to set reserved value equal to total for inventory\n\nThis is needed for ironic use case, when during cleaning, resources\nare reserved by ironic itself. Cyborg will also benefit from this\nduring FPGA programming.\n\nblueprint: allow-reserved-equal-total-inventory\nChange-Id: I037d9b8c1bb554c3437434cc9a57ddb630dd62f0\n'}, {'number': 6, 'created': '2018-05-16 16:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64102e088840ac145648401be1b15a9791c6a9b5', 'message': 'Placement: allow to set reserved value equal to total for inventory\n\nThis is needed for ironic use case, when during cleaning, resources\nare reserved by ironic itself. Cyborg will also benefit from this\nduring FPGA programming.\n\nblueprint: allow-reserved-equal-total-inventory\nChange-Id: I037d9b8c1bb554c3437434cc9a57ddb630dd62f0\n'}, {'number': 7, 'created': '2018-05-18 23:04:27.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/rest_api_version_history.rst', 'nova/tests/functional/api/openstack/placement/gabbits/inventory.yaml', 'nova/api/openstack/placement/exception.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py', 'releasenotes/notes/allow-reserved-equal-total-inventory-fe93584dd28c460d.yaml', 'nova/api/openstack/placement/handlers/inventory.py', 'nova/tests/functional/api/openstack/placement/gabbits/microversion.yaml', 'nova/api/openstack/placement/microversion.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f79758dd994675a0b90c35ae035d0c182290b83', 'message': 'Placement: allow to set reserved value equal to total for inventory\n\nThis is needed for ironic use case, when during cleaning, resources\nare reserved by ironic itself. Cyborg will also benefit from this\nduring FPGA programming.\n\nblueprint: allow-reserved-equal-total-inventory\nChange-Id: I037d9b8c1bb554c3437434cc9a57ddb630dd62f0\n'}]",16,564838,7f79758dd994675a0b90c35ae035d0c182290b83,97,20,7,12356,,,0,"Placement: allow to set reserved value equal to total for inventory

This is needed for ironic use case, when during cleaning, resources
are reserved by ironic itself. Cyborg will also benefit from this
during FPGA programming.

blueprint: allow-reserved-equal-total-inventory
Change-Id: I037d9b8c1bb554c3437434cc9a57ddb630dd62f0
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/564838/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/rest_api_version_history.rst', 'nova/tests/functional/api/openstack/placement/gabbits/inventory.yaml', 'nova/api/openstack/placement/exception.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py', 'nova/api/openstack/placement/handlers/inventory.py', 'nova/tests/functional/api/openstack/placement/gabbits/microversion.yaml', 'nova/api/openstack/placement/microversion.py']",8,b6011b4dd1dd8c90749fa819d5704daf9581fce1,ironic-reserved-resources," '1.24', # Add ability to specify inventory with reserved value equal to # total.",,141,35
openstack%2Fopenstack-helm~master~Iab95cb724d664edeed64af95d1ff20e0b7e207a0,openstack/openstack-helm,master,Iab95cb724d664edeed64af95d1ff20e0b7e207a0,Rally: update image ref to both be unique and match other charts,MERGED,2018-05-18 18:14:48.000000000,2018-05-21 01:20:36.000000000,2018-05-21 01:20:36.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-18 18:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/590e1bcb361b83dd367737a77c46d613f25fb07c', 'message': 'Rally: update image ref to both be unique and match other charts\n\nThis PS updates the rally db sync image ref to match other charts,\nand have a globally unique name.\n\nChange-Id: Iab95cb724d664edeed64af95d1ff20e0b7e207a0\n'}, {'number': 2, 'created': '2018-05-19 17:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a3880326720f08ff6655a2197575df6c5812ecba', 'message': 'Rally: update image ref to both be unique and match other charts\n\nThis PS updates the rally db sync image ref to match other charts,\nand have a globally unique name.\n\nChange-Id: Iab95cb724d664edeed64af95d1ff20e0b7e207a0\n'}, {'number': 3, 'created': '2018-05-20 05:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2eea930ddd3f8154b873dbca59e3484a7b6e328f', 'message': 'Rally: update image ref to both be unique and match other charts\n\nThis PS updates the rally db sync image ref to match other charts,\nand have a globally unique name.\n\nChange-Id: Iab95cb724d664edeed64af95d1ff20e0b7e207a0\n'}, {'number': 4, 'created': '2018-05-20 15:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6287231c7593b7e93a47884929cbbf62c6c0d90', 'message': 'Rally: update image ref to both be unique and match other charts\n\nThis PS updates the rally db sync image ref to match other charts,\nand have a globally unique name.\n\nChange-Id: Iab95cb724d664edeed64af95d1ff20e0b7e207a0\n'}, {'number': 5, 'created': '2018-05-20 22:22:36.000000000', 'files': ['rally/templates/job-manage-db.yaml', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e7905d0b58168ade1e62ac97872aa1c1f885aa07', 'message': 'Rally: update image ref to both be unique and match other charts\n\nThis PS updates the rally db sync image ref to match other charts,\nand have a globally unique name.\n\nChange-Id: Iab95cb724d664edeed64af95d1ff20e0b7e207a0\n'}]",0,569483,e7905d0b58168ade1e62ac97872aa1c1f885aa07,18,5,5,23928,,,0,"Rally: update image ref to both be unique and match other charts

This PS updates the rally db sync image ref to match other charts,
and have a globally unique name.

Change-Id: Iab95cb724d664edeed64af95d1ff20e0b7e207a0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/83/569483/4 && git format-patch -1 --stdout FETCH_HEAD,"['rally/templates/job-manage-db.yaml', 'rally/values.yaml']",2,590e1bcb361b83dd367737a77c46d613f25fb07c,image/function, rally_db_sync: docker.io/kolla/ubuntu-source-rally:3.0.3, manage_db: docker.io/kolla/ubuntu-source-rally:3.0.3,2,2
openstack%2Fdiskimage-builder~master~Id847591d04fd7cd32c8903967da01ee0d303b267,openstack/diskimage-builder,master,Id847591d04fd7cd32c8903967da01ee0d303b267,Remove non-maintained ubuntu-core element,MERGED,2018-05-17 09:52:59.000000000,2018-05-21 00:43:55.000000000,2018-05-21 00:43:54.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 6449}, {'_account_id': 6488}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28208}]","[{'number': 1, 'created': '2018-05-17 09:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8d16e6ec3eb96542941448f416764c4e1c2aaefc', 'message': 'Remove non-maintained ubuntu-core element\n\nRemoving no longer working and no longer maintained ubuntu-core element, which\nintent is unclear, and not documented.\n\nChange-Id: Id847591d04fd7cd32c8903967da01ee0d303b267\nCloses-Bug: 1771614\n'}, {'number': 2, 'created': '2018-05-18 16:28:26.000000000', 'files': ['diskimage_builder/elements/ubuntu-core/README.rst', 'diskimage_builder/elements/ubuntu-core/element-provides', 'diskimage_builder/elements/ubuntu-core/package-installs.yaml', 'diskimage_builder/elements/ubuntu-core/root.d/10-cache-ubuntu-image', 'diskimage_builder/elements/ubuntu-core/environment.d/10-ubuntu-distro-name.bash', 'diskimage_builder/elements/ubuntu-core/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/09af52a08c28960d1855b9f4bea7661588830fd1', 'message': 'Remove non-maintained ubuntu-core element\n\nRemoving no longer working and no longer maintained ubuntu-core element, which\nintent is unclear, and not documented.\n\nChange-Id: Id847591d04fd7cd32c8903967da01ee0d303b267\nCloses-Bug: 1771614\n'}]",0,569077,09af52a08c28960d1855b9f4bea7661588830fd1,21,9,2,28208,,,0,"Remove non-maintained ubuntu-core element

Removing no longer working and no longer maintained ubuntu-core element, which
intent is unclear, and not documented.

Change-Id: Id847591d04fd7cd32c8903967da01ee0d303b267
Closes-Bug: 1771614
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/77/569077/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/ubuntu-core/README.rst', 'diskimage_builder/elements/ubuntu-core/element-provides', 'diskimage_builder/elements/ubuntu-core/package-installs.yaml', 'diskimage_builder/elements/ubuntu-core/root.d/10-cache-ubuntu-image', 'diskimage_builder/elements/ubuntu-core/element-deps', 'diskimage_builder/elements/ubuntu-core/environment.d/10-ubuntu-distro-name.bash']",6,8d16e6ec3eb96542941448f416764c4e1c2aaefc,bug/1771614,,export DISTRO_NAME=ubuntu ,0,96
openstack%2Fopenstack-helm~master~I98dea65f0f568cbd0f3b344adfc7e4ac73799200,openstack/openstack-helm,master,I98dea65f0f568cbd0f3b344adfc7e4ac73799200,Nova: Use helm-toolkit template for placement endpoints management,MERGED,2018-05-18 19:14:19.000000000,2018-05-21 00:39:54.000000000,2018-05-21 00:39:54.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-05-18 19:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/13c5696b267817f06ed09e29b8d3c2a29813f631', 'message': 'Nova: Use helm-toolkit template for placement endpoints management\n\nThis PS uses helm-toolkit for the placement endpoints management job.\n\nChange-Id: I98dea65f0f568cbd0f3b344adfc7e4ac73799200\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-05-19 17:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5665722fe6d9f628a30b049a0dcd8da1c69db104', 'message': 'Nova: Use helm-toolkit template for placement endpoints management\n\nThis PS uses helm-toolkit for the placement endpoints management job.\n\nChange-Id: I98dea65f0f568cbd0f3b344adfc7e4ac73799200\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-05-20 15:11:22.000000000', 'files': ['nova/templates/job-ks-placement-endpoints.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/93de8767c92c9664dce2670b219c17089907cd51', 'message': 'Nova: Use helm-toolkit template for placement endpoints management\n\nThis PS uses helm-toolkit for the placement endpoints management job.\n\nChange-Id: I98dea65f0f568cbd0f3b344adfc7e4ac73799200\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,569499,93de8767c92c9664dce2670b219c17089907cd51,11,3,3,23928,,,0,"Nova: Use helm-toolkit template for placement endpoints management

This PS uses helm-toolkit for the placement endpoints management job.

Change-Id: I98dea65f0f568cbd0f3b344adfc7e4ac73799200
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/99/569499/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/job-ks-placement-endpoints.yaml'],1,13c5696b267817f06ed09e29b8d3c2a29813f631,image/function,"{{- $ksServiceJob := dict ""envAll"" . ""serviceName"" ""placement"" ""configMapBin"" ""nova-bin"" ""serviceTypes"" ( tuple ""placement"" ) -}} {{ $ksServiceJob | include ""helm-toolkit.manifests.job_ks_endpoints"" }}","{{- $envAll := . }} {{- $serviceAccountName := ""placement-ks-endpoints"" }} {{ tuple $envAll ""ks_endpoints"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: batch/v1 kind: Job metadata: name: placement-ks-endpoints spec: template: metadata: labels: {{ tuple $envAll ""placement"" ""ks-endpoints"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} spec: serviceAccountName: {{ $serviceAccountName }} restartPolicy: OnFailure nodeSelector: {{ .Values.labels.job.node_selector_key }}: {{ .Values.labels.job.node_selector_value }} initContainers: {{ tuple $envAll ""ks_endpoints"" list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: {{- range $key1, $osServiceType := tuple ""placement"" }} {{- range $key2, $osServiceEndPoint := tuple ""admin"" ""internal"" ""public"" }} - name: {{ $osServiceType }}-ks-endpoints-{{ $osServiceEndPoint }} {{ tuple $envAll ""ks_endpoints"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.ks_endpoints | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} command: - /tmp/ks-endpoints.sh volumeMounts: - name: ks-endpoints-sh mountPath: /tmp/ks-endpoints.sh subPath: ks-endpoints.sh readOnly: true env: {{- with $env := dict ""ksUserSecret"" $envAll.Values.secrets.identity.admin }} {{- include ""helm-toolkit.snippets.keystone_openrc_env_vars"" $env | indent 12 }} {{- end }} - name: OS_SVC_ENDPOINT value: {{ $osServiceEndPoint }} - name: OS_SERVICE_NAME value: {{ tuple $osServiceType $envAll | include ""helm-toolkit.endpoints.keystone_endpoint_name_lookup"" }} - name: OS_SERVICE_TYPE value: {{ $osServiceType }} - name: OS_SERVICE_ENDPOINT value: {{ tuple $osServiceType $osServiceEndPoint ""api"" $envAll | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup"" }} {{- end }} {{- end }} volumes: - name: ks-endpoints-sh configMap: name: nova-bin defaultMode: 0555",2,53
openstack%2Fopenstack-helm~master~If594a477478cf2d91ffdb4a6cfe919925aabbd63,openstack/openstack-helm,master,If594a477478cf2d91ffdb4a6cfe919925aabbd63,Nova: Use helm-toolkit template for placement service management,MERGED,2018-05-18 18:14:48.000000000,2018-05-21 00:38:12.000000000,2018-05-21 00:38:12.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-05-18 18:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eea4af8d8f7b71a08d77b8f6cad7752d415f75f7', 'message': 'Nova: Use helm-toolkit template for placement service management\n\nThis PS uses helm-toolkit for the placement service management job.\n\nChange-Id: If594a477478cf2d91ffdb4a6cfe919925aabbd63\n'}, {'number': 2, 'created': '2018-05-19 17:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7bf8ce06df37cafb5c4a95cc8eda0cffd1cab7ef', 'message': 'Nova: Use helm-toolkit template for placement service management\n\nThis PS uses helm-toolkit for the placement service management job.\n\nChange-Id: If594a477478cf2d91ffdb4a6cfe919925aabbd63\n'}, {'number': 3, 'created': '2018-05-20 15:11:09.000000000', 'files': ['nova/templates/job-ks-placement-service.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/071ae008fdfd65a01cc64659379eb20414e5690c', 'message': 'Nova: Use helm-toolkit template for placement service management\n\nThis PS uses helm-toolkit for the placement service management job.\n\nChange-Id: If594a477478cf2d91ffdb4a6cfe919925aabbd63\n'}]",0,569485,071ae008fdfd65a01cc64659379eb20414e5690c,11,3,3,23928,,,0,"Nova: Use helm-toolkit template for placement service management

This PS uses helm-toolkit for the placement service management job.

Change-Id: If594a477478cf2d91ffdb4a6cfe919925aabbd63
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/569485/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/job-ks-placement-service.yaml'],1,eea4af8d8f7b71a08d77b8f6cad7752d415f75f7,image/function,"{{- $ksServiceJob := dict ""envAll"" . ""serviceName"" ""placement"" ""configMapBin"" ""nova-bin"" ""serviceTypes"" ( tuple ""placement"" ) -}} {{ $ksServiceJob | include ""helm-toolkit.manifests.job_ks_service"" }}","{{- $envAll := . }} {{- $serviceAccountName := ""placement-ks-service"" }} {{ tuple $envAll ""ks_service"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: batch/v1 kind: Job metadata: name: placement-ks-service spec: template: metadata: labels: {{ tuple $envAll ""placement"" ""ks-service"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} spec: serviceAccountName: {{ $serviceAccountName }} restartPolicy: OnFailure nodeSelector: {{ .Values.labels.job.node_selector_key }}: {{ .Values.labels.job.node_selector_value }} initContainers: {{ tuple $envAll ""ks_service"" list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: {{- range $key1, $osServiceType := tuple ""placement"" }} - name: {{ $osServiceType }}-ks-service-registration {{ tuple $envAll ""ks_service"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.ks_endpoints | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} command: - /tmp/ks-service.sh volumeMounts: - name: ks-service-sh mountPath: /tmp/ks-service.sh subPath: ks-service.sh readOnly: true env: {{- with $env := dict ""ksUserSecret"" $envAll.Values.secrets.identity.admin }} {{- include ""helm-toolkit.snippets.keystone_openrc_env_vars"" $env | indent 12 }} {{- end }} - name: OS_SERVICE_NAME value: {{ tuple $osServiceType $envAll | include ""helm-toolkit.endpoints.keystone_endpoint_name_lookup"" }} - name: OS_SERVICE_TYPE value: {{ $osServiceType }} {{- end }} volumes: - name: ks-service-sh configMap: name: nova-bin defaultMode: 0555",2,47
openstack%2Fopenstack-helm~master~I6571ab5c257c69ef1c9640ba223fd35a54ddb4e5,openstack/openstack-helm,master,I6571ab5c257c69ef1c9640ba223fd35a54ddb4e5,Nova: Use helm-toolkit template for placement user management,MERGED,2018-05-18 18:14:48.000000000,2018-05-21 00:38:11.000000000,2018-05-21 00:38:11.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-05-18 18:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/32aa6409f093a7449aa02e08978f96c02d7a9731', 'message': 'Nova: Use helm-toolkit template for placement user management\n\nThis PS uses helm-toolkit for the placement user management job.\n\nChange-Id: I6571ab5c257c69ef1c9640ba223fd35a54ddb4e5\n'}, {'number': 2, 'created': '2018-05-19 17:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fcc460632568bc0fcf2fd97f008705662348278e', 'message': 'Nova: Use helm-toolkit template for placement user management\n\nThis PS uses helm-toolkit for the placement user management job.\n\nChange-Id: I6571ab5c257c69ef1c9640ba223fd35a54ddb4e5\n'}, {'number': 3, 'created': '2018-05-20 15:10:58.000000000', 'files': ['nova/templates/job-ks-placement-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/54dfb0debd2afd1cb3ce9ce1930e7735f6bec88b', 'message': 'Nova: Use helm-toolkit template for placement user management\n\nThis PS uses helm-toolkit for the placement user management job.\n\nChange-Id: I6571ab5c257c69ef1c9640ba223fd35a54ddb4e5\n'}]",0,569484,54dfb0debd2afd1cb3ce9ce1930e7735f6bec88b,11,3,3,23928,,,0,"Nova: Use helm-toolkit template for placement user management

This PS uses helm-toolkit for the placement user management job.

Change-Id: I6571ab5c257c69ef1c9640ba223fd35a54ddb4e5
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/84/569484/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/job-ks-placement-user.yaml'],1,32aa6409f093a7449aa02e08978f96c02d7a9731,image/function,"{{- $ksUserJob := dict ""envAll"" . ""serviceName"" ""placement"" ""serviceUser"" ""placement"" ""configMapBin"" ""nova-bin"" -}} {{ $ksUserJob | include ""helm-toolkit.manifests.job_ks_user"" }}","{{- $envAll := . }} {{- $serviceAccountName := ""placement-ks-user"" }} {{ tuple $envAll ""ks_user"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: batch/v1 kind: Job metadata: name: placement-ks-user spec: template: metadata: labels: {{ tuple $envAll ""placement"" ""ks-user"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} spec: serviceAccountName: {{ $serviceAccountName }} restartPolicy: OnFailure nodeSelector: {{ .Values.labels.job.node_selector_key }}: {{ .Values.labels.job.node_selector_value }} initContainers: {{ tuple $envAll ""ks_user"" list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: placement-ks-user {{ tuple $envAll ""ks_user"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.db_service | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} command: - /tmp/ks-user.sh volumeMounts: - name: ks-user-sh mountPath: /tmp/ks-user.sh subPath: ks-user.sh readOnly: true env: {{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin }} {{- include ""helm-toolkit.snippets.keystone_openrc_env_vars"" $env | indent 12 }} {{- end }} - name: SERVICE_OS_SERVICE_NAME value: ""placement"" {{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.placement }} {{- include ""helm-toolkit.snippets.keystone_user_create_env_vars"" $env | indent 12 }} {{- end }} - name: SERVICE_OS_ROLE value: {{ .Values.endpoints.identity.auth.placement.role | quote }} volumes: - name: ks-user-sh configMap: name: nova-bin defaultMode: 0555",2,48
openstack%2Fnova~stable%2Fqueens~Ibfca4ae922766b5b977e217594d12e1169ddeee8,openstack/nova,stable/queens,Ibfca4ae922766b5b977e217594d12e1169ddeee8,Make instance.refresh() avoid recursion better,MERGED,2018-05-19 14:46:39.000000000,2018-05-20 23:57:16.000000000,2018-05-20 23:57:16.000000000,"[{'_account_id': 4393}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-19 14:46:39.000000000', 'files': ['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/419e6198fadf4e91855109b76374d5205164b467', 'message': ""Make instance.refresh() avoid recursion better\n\nThe instance.refresh() method is careful to prevent recursion, to avoid\nlazy-loads on the object we just pulled from the database. However, it\nwas allowing those to raise OrphanedObjectError to the caller to make\nthem visible. The caller is not really at fault in that case, and can not\navoid it.\n\nThe only time this has ever come up is in the context of cellsv1 and the\nkeypairs field that it doesn't have set on instances in the child cells.\nThus, this changes refresh() to just skip fields that are set on the\ncurrent object and unset on the one we pull from the database, as we\nwould not be able to refresh those anyway. This logs the situation so that\nit is visible (at DEBUG) if it becomes relevant.\n\nCloses-Bug: #1772088\n\nChange-Id: Ibfca4ae922766b5b977e217594d12e1169ddeee8\n(cherry picked from commit 549e5a2226ccf3920fd49e6726d5cea7fabf2914)\n""}]",0,569576,419e6198fadf4e91855109b76374d5205164b467,13,9,1,6873,,,0,"Make instance.refresh() avoid recursion better

The instance.refresh() method is careful to prevent recursion, to avoid
lazy-loads on the object we just pulled from the database. However, it
was allowing those to raise OrphanedObjectError to the caller to make
them visible. The caller is not really at fault in that case, and can not
avoid it.

The only time this has ever come up is in the context of cellsv1 and the
keypairs field that it doesn't have set on instances in the child cells.
Thus, this changes refresh() to just skip fields that are set on the
current object and unset on the one we pull from the database, as we
would not be able to refresh those anyway. This logs the situation so that
it is visible (at DEBUG) if it becomes relevant.

Closes-Bug: #1772088

Change-Id: Ibfca4ae922766b5b977e217594d12e1169ddeee8
(cherry picked from commit 549e5a2226ccf3920fd49e6726d5cea7fabf2914)
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/569576/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",2,419e6198fadf4e91855109b76374d5205164b467,gifts-for-mriedem-stable/queens, inst.refresh()," self.assertRaises(exception.OrphanedObjectError, inst.refresh)",15,6
openstack%2Fnova~master~I3dd44088230303bf6754d80e63d21e0315bd3336,openstack/nova,master,I3dd44088230303bf6754d80e63d21e0315bd3336,Add tests for _get_trees_matching_all() function,MERGED,2018-05-16 04:12:46.000000000,2018-05-20 23:47:06.000000000,2018-05-19 02:34:15.000000000,"[{'_account_id': 7}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-16 04:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d147b84edb0fd5fe9e8c86587cc2df673a47b112', 'message': 'Add tests for _get_trees_matching_all() function\n\nNow _get_trees_matching_all() function returns a list of two-tuples,\n(provider internal ID, root provider internal ID). However its unit\ntest validates only the second values, root provider ids, of the\ntuples.\n\nThis patch expands existing test function, test_trees_matching_all(),\nto test the first values, provider ids, in the tuples as well.\n\nChange-Id: I3dd44088230303bf6754d80e63d21e0315bd3336\nBlueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 2, 'created': '2018-05-16 04:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73efbffb81f01c30a9d74dd3b0b9928d4b31db9c', 'message': 'Add tests for _get_trees_matching_all() function\n\nNow _get_trees_matching_all() function returns a list of two-tuples,\n(provider internal ID, root provider internal ID). However its unit\ntest validates only the second values, root provider ids, of the\ntuples.\n\nThis patch expands existing test function, test_trees_matching_all(),\nto test the first values, provider ids, in the tuples as well.\n\nChange-Id: I3dd44088230303bf6754d80e63d21e0315bd3336\nBlueprint: nested-resource-providers-allocation-candidates\n'}, {'number': 3, 'created': '2018-05-17 01:56:54.000000000', 'files': ['nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7668efb8259061cd4a121df282fb05bd0cfb2fd2', 'message': 'Add tests for _get_trees_matching_all() function\n\nNow _get_trees_matching_all() function returns a list of two-tuples,\n(provider internal ID, root provider internal ID). However its unit\ntest validates only the second values, root provider ids, of the\ntuples.\n\nThis patch expands existing test function, test_trees_matching_all(),\nto test the first values, provider ids, in the tuples as well.\n\nChange-Id: I3dd44088230303bf6754d80e63d21e0315bd3336\nBlueprint: nested-resource-providers-allocation-candidates\nRelated-Bug: #1771707\n'}]",2,568737,7668efb8259061cd4a121df282fb05bd0cfb2fd2,33,11,3,25625,,,0,"Add tests for _get_trees_matching_all() function

Now _get_trees_matching_all() function returns a list of two-tuples,
(provider internal ID, root provider internal ID). However its unit
test validates only the second values, root provider ids, of the
tuples.

This patch expands existing test function, test_trees_matching_all(),
to test the first values, provider ids, in the tuples as well.

Change-Id: I3dd44088230303bf6754d80e63d21e0315bd3336
Blueprint: nested-resource-providers-allocation-candidates
Related-Bug: #1771707
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/568737/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py'],1,d147b84edb0fd5fe9e8c86587cc2df673a47b112,bp/nested-resource-providers-allocation-candidates," def _get_rp_ids_matching_names(self, names): """"""Utility function to look up root provider IDs from a set of supplied provider names directly from the API DB. """""" names = map(six.text_type, names) sel = sa.select([rp_obj._RP_TBL.c.id]) sel = sel.where(rp_obj._RP_TBL.c.name.in_(names)) with self.api_db.get_engine().connect() as conn: cn_root_ids = set([r[0] for r in conn.execute(sel)]) return cn_root_ids # let's validate providers in tree as well provider_ids = set(p[0] for p in trees) provider_names = cn_names + ['cn1_numa0_pf0', 'cn1_numa1_pf1', 'cn2_numa0_pf0', 'cn2_numa1_pf1', 'cn3_numa0_pf0', 'cn3_numa1_pf1'] expect_provider_ids = self._get_rp_ids_matching_names(provider_names) self.assertEqual(expect_provider_ids, provider_ids) # let's validate providers in tree as well provider_ids = set(p[0] for p in trees) provider_names = cn_names + ['cn1_numa0_pf0', 'cn1_numa1_pf1', 'cn3_numa0_pf0', 'cn3_numa1_pf1'] expect_provider_ids = self._get_rp_ids_matching_names(provider_names) self.assertEqual(expect_provider_ids, provider_ids) # let's validate providers in tree as well provider_ids = set(p[0] for p in trees) # NOTE(tetsuro): Ideally, we want to have only pf1 from cn3, # provider_names = cn_names + ['cn3_numa1_pf1'] # At least we should have only compute node and pf providers, # provider_names = cn_names + ['cn3_numa0_pf0', 'cn3_numa1_pf1'] # but actually we have all the rps in the tree of 'cn3' provider_names = cn_names + ['cn3_numa0', 'cn3_numa0_pf0', 'cn3_numa1', 'cn3_numa1_pf1'] expect_provider_ids = self._get_rp_ids_matching_names(provider_names) self.assertEqual(expect_provider_ids, provider_ids) # let's validate providers in tree as well provider_ids = set(p[0] for p in trees) # NOTE(tetsuro): Ideally, we want to have only pf1 from cn3, # provider_names = cn_names + ['cn3_numa1_pf1'] # At least we should have only compute node and pf providers, # provider_names = cn_names + ['cn3_numa0_pf0', 'cn3_numa1_pf1'] # but actually we have all the rps in the tree of 'cn3' provider_names = cn_names + ['cn3_numa0', 'cn3_numa0_pf0', 'cn3_numa1', 'cn3_numa1_pf1'] expect_provider_ids = self._get_rp_ids_matching_names(provider_names) self.assertEqual(expect_provider_ids, provider_ids) ",,50,0
openstack%2Fdesignate~master~I9b9c8015394578d52c3a55839b84b4f64fb0a5c4,openstack/designate,master,I9b9c8015394578d52c3a55839b84b4f64fb0a5c4,Replace Chinese punctuation with English punctuation,MERGED,2018-05-17 07:36:05.000000000,2018-05-20 23:41:40.000000000,2018-05-20 23:41:40.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-05-17 07:36:05.000000000', 'files': ['doc/source/contributor/ubuntu-dev.rst', 'doc/source/admin/support-matrix.rst', 'doc/source/contributor/architecture.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/b59e0c16d9472ef2d9ce3e9c935bb38e1f134dd3', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input method.\nWhen read from english context, it makes some confusion.\n\nChange-Id: I9b9c8015394578d52c3a55839b84b4f64fb0a5c4\n'}]",0,569043,b59e0c16d9472ef2d9ce3e9c935bb38e1f134dd3,8,3,1,27565,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input method.
When read from english context, it makes some confusion.

Change-Id: I9b9c8015394578d52c3a55839b84b4f64fb0a5c4
",git fetch https://review.opendev.org/openstack/designate refs/changes/43/569043/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/ubuntu-dev.rst', 'doc/source/admin/support-matrix.rst', 'doc/source/contributor/architecture.rst']",3,b59e0c16d9472ef2d9ce3e9c935bb38e1f134dd3,fix_punctuation,"is required for a normal installation, you're free to use other","is required for a normal installation, youre free to use other",5,5
openstack%2Fproject-config~master~I6e70f69ae6912da39d697d8dbffc711d3892fea3,openstack/project-config,master,I6e70f69ae6912da39d697d8dbffc711d3892fea3,Airshipit cgit aliases for airship projects,MERGED,2018-05-20 22:05:34.000000000,2018-05-20 23:21:09.000000000,2018-05-20 23:21:09.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-20 22:05:34.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3768166c8d945b3b8d8a89fe27cd21e03db6670e', 'message': 'Airshipit cgit aliases for airship projects\n\nThis configures the jeepyb side of things for the new git.airshipit.org\ncgit alias.\n\nDepends-On: I783552c085f4ab7770b5d76a29c1d8c8cb5a26ad\nChange-Id: I6e70f69ae6912da39d697d8dbffc711d3892fea3\n'}]",0,569677,3768166c8d945b3b8d8a89fe27cd21e03db6670e,9,5,1,4146,,,0,"Airshipit cgit aliases for airship projects

This configures the jeepyb side of things for the new git.airshipit.org
cgit alias.

Depends-On: I783552c085f4ab7770b5d76a29c1d8c8cb5a26ad
Change-Id: I6e70f69ae6912da39d697d8dbffc711d3892fea3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/569677/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,3768166c8d945b3b8d8a89fe27cd21e03db6670e,airshipit-cgit-aliases, cgit-alias: site: git.airshipit.org path: airship-armada cgit-alias: site: git.airshipit.org path: airship-berth cgit-alias: site: git.airshipit.org path: airship-deckhand cgit-alias: site: git.airshipit.org path: airship-divingbell cgit-alias: site: git.airshipit.org path: airship-drydock cgit-alias: site: git.airshipit.org path: airship-in-a-bottle cgit-alias: site: git.airshipit.org path: airship-maas cgit-alias: site: git.airshipit.org path: airship-pegleg cgit-alias: site: git.airshipit.org path: airship-promenade cgit-alias: site: git.airshipit.org path: airship-shipyard,,30,0
openstack%2Fos-client-config~master~Ifde1f9b51f0c40d386d655d2c44492664438eb6c,openstack/os-client-config,master,Ifde1f9b51f0c40d386d655d2c44492664438eb6c,Add release note for the vendor data regression,MERGED,2018-05-20 21:38:03.000000000,2018-05-20 23:04:54.000000000,2018-05-20 23:04:54.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-20 21:38:03.000000000', 'files': ['releasenotes/notes/fix-vendor-import-ebd4ade0d5c17146.yaml'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/c4aa5695cbfdc687bf9f0b712b4a489d619cb675', 'message': 'Add release note for the vendor data regression\n\nChange-Id: Ifde1f9b51f0c40d386d655d2c44492664438eb6c\n'}]",0,569675,c4aa5695cbfdc687bf9f0b712b4a489d619cb675,6,2,1,2,,,0,"Add release note for the vendor data regression

Change-Id: Ifde1f9b51f0c40d386d655d2c44492664438eb6c
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/75/569675/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-vendor-import-ebd4ade0d5c17146.yaml'],1,c4aa5695cbfdc687bf9f0b712b4a489d619cb675,,--- fixes: - | Fixed regression in vendor data importing caused by the merge with openstacksdk. ,,5,0
openstack%2Fos-client-config~master~I44b9f52762aa3cca69145eb4cb194e85f003f2bd,openstack/os-client-config,master,I44b9f52762aa3cca69145eb4cb194e85f003f2bd,Turn osc-functional-devstack-tips to nonvoting,ABANDONED,2018-05-18 18:42:25.000000000,2018-05-20 23:02:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-18 18:42:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/b195ae9758df703ae1fddf3665bb7140c2d1f986', 'message': ""Turn osc-functional-devstack-tips to nonvoting\n\nTwo issues seem to have arisen with the osc gate that aren't osc's\nfault. Turn these to non-voting while we sort it out.\n\nChange-Id: I44b9f52762aa3cca69145eb4cb194e85f003f2bd\n""}]",0,569492,b195ae9758df703ae1fddf3665bb7140c2d1f986,3,1,1,2,,,0,"Turn osc-functional-devstack-tips to nonvoting

Two issues seem to have arisen with the osc gate that aren't osc's
fault. Turn these to non-voting while we sort it out.

Change-Id: I44b9f52762aa3cca69145eb4cb194e85f003f2bd
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/92/569492/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b195ae9758df703ae1fddf3665bb7140c2d1f986,, - osc-functional-devstack-tips: voting: false, - osc-functional-devstack-tips - osc-functional-devstack-tips,2,2
openstack%2Fopenstacksdk~master~I86a00ca20f46d92d250f07a4a43c445780ed05af,openstack/openstacksdk,master,I86a00ca20f46d92d250f07a4a43c445780ed05af,Turn osc-functional-devstack-tips to nonvoting,ABANDONED,2018-05-18 18:45:31.000000000,2018-05-20 23:02:28.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 18:45:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4e32f1b18f46231c4145cf9b43cd9f7c7c3c6fdb', 'message': ""Turn osc-functional-devstack-tips to nonvoting\n\nTwo issues seem to have arisen with the osc gate that aren't osc's\nfault. Turn these to non-voting while we sort it out.\n\nChange-Id: I86a00ca20f46d92d250f07a4a43c445780ed05af\n""}]",0,569493,4e32f1b18f46231c4145cf9b43cd9f7c7c3c6fdb,4,2,1,2,,,0,"Turn osc-functional-devstack-tips to nonvoting

Two issues seem to have arisen with the osc gate that aren't osc's
fault. Turn these to non-voting while we sort it out.

Change-Id: I86a00ca20f46d92d250f07a4a43c445780ed05af
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/93/569493/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4e32f1b18f46231c4145cf9b43cd9f7c7c3c6fdb,, - osc-functional-devstack-tips: voting: false, - osc-functional-devstack-tips - osc-functional-devstack-tips,2,2
openstack%2Fos-client-config~master~I5a3cb6096a090c29e257079da7c3d07d5a9b3428,openstack/os-client-config,master,I5a3cb6096a090c29e257079da7c3d07d5a9b3428,fix saltstack breakage introduced in v1.31.0,MERGED,2018-05-17 23:28:22.000000000,2018-05-20 22:58:29.000000000,2018-05-20 22:58:29.000000000,"[{'_account_id': 2}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 28251}]","[{'number': 1, 'created': '2018-05-17 23:28:22.000000000', 'files': ['os_client_config/tests/test_import_vendors.py', 'os_client_config/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/590b1723b5d70761dd14be132109173cfc1d9425', 'message': ""fix saltstack breakage introduced in v1.31.0\n\nSaltStack's openstack cloud provider in current production release calls\nos_client_config.vendors.get_profile after importing just\nos_client_config:\nhttps://github.com/saltstack/salt/blob/v2018.3.0/salt/cloud/clouds/openstack.py#L319\nAfter 5c2eae8f8242332aff59d18b45a7d17f01524aaa vendors module is no\nlonger imported into os_client_config which results in\nAttributeError: 'module' object has no attribute 'vendors'\nImporting this manually in __init__.py fixes it, however I wasn't able\nto write a working test case  testtools loader loads all submodules\nrecursively and test runs without throwing exception.\nI hope someone more knowledgeable review this change and confirm it\ndoesn't break this use case anymore.\nThanks in advance.\n\nChange-Id: I5a3cb6096a090c29e257079da7c3d07d5a9b3428\nSigned-off-by: Alexander D <maniac@pzskc383.dp.ua>\n""}]",0,569291,590b1723b5d70761dd14be132109173cfc1d9425,11,4,1,28251,,,0,"fix saltstack breakage introduced in v1.31.0

SaltStack's openstack cloud provider in current production release calls
os_client_config.vendors.get_profile after importing just
os_client_config:
https://github.com/saltstack/salt/blob/v2018.3.0/salt/cloud/clouds/openstack.py#L319
After 5c2eae8f8242332aff59d18b45a7d17f01524aaa vendors module is no
longer imported into os_client_config which results in
AttributeError: 'module' object has no attribute 'vendors'
Importing this manually in __init__.py fixes it, however I wasn't able
to write a working test case  testtools loader loads all submodules
recursively and test runs without throwing exception.
I hope someone more knowledgeable review this change and confirm it
doesn't break this use case anymore.
Thanks in advance.

Change-Id: I5a3cb6096a090c29e257079da7c3d07d5a9b3428
Signed-off-by: Alexander D <maniac@pzskc383.dp.ua>
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/91/569291/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_client_config/tests/test_import_vendors.py', 'os_client_config/__init__.py']",2,590b1723b5d70761dd14be132109173cfc1d9425,module-vendor-fix,from os_client_config import vendors # noqa,,23,0
openstack%2Fopenstacksdk~master~I6cde6a6f9303f2a21efcfce979ffc0c1fea4bdb3,openstack/openstacksdk,master,I6cde6a6f9303f2a21efcfce979ffc0c1fea4bdb3,baremetal: refuse to inspect associated machines,MERGED,2018-05-18 10:12:23.000000000,2018-05-20 22:54:04.000000000,2018-05-20 22:54:04.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 10:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/66a3e5a94fc60c9dd70ec87a2494860aa2452bef', 'message': 'baremetal: refuse to inspect associated machines\n\nAutomatically inspecting ""available"" machines is a controversial feature,\nsince it enables ""stealing"" a machine that Nova already picked for deployment.\nTo reduce this probability, refuse to inspect nodes with instance_uuid set.\n\nChange-Id: I6cde6a6f9303f2a21efcfce979ffc0c1fea4bdb3\n'}, {'number': 2, 'created': '2018-05-18 12:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/33ccd7c187a1b17a0ba9b5c03e64b027a17c4c6c', 'message': 'baremetal: refuse to inspect associated machines\n\nAutomatically inspecting ""available"" machines is a controversial feature,\nsince it enables ""stealing"" a machine that Nova already picked for deployment.\nTo reduce this probability, refuse to inspect nodes with instance_uuid set.\n\nAlso finish the incomplete comment.\n\nChange-Id: I6cde6a6f9303f2a21efcfce979ffc0c1fea4bdb3\n'}, {'number': 3, 'created': '2018-05-18 12:40:20.000000000', 'files': ['openstack/cloud/openstackcloud.py', 'openstack/tests/unit/cloud/test_baremetal_node.py', 'releasenotes/notes/no-inspect-associated-563e272785bb6016.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f19d58a728ffa5f6b982f5373bfdb1a503006edf', 'message': 'baremetal: refuse to inspect associated machines\n\nAutomatically inspecting ""available"" machines is a controversial feature,\nsince it enables ""stealing"" a machine that Nova already picked for deployment.\nTo reduce this probability, refuse to inspect nodes with instance_uuid set.\n\nAlso finish the incomplete comment.\n\nChange-Id: I6cde6a6f9303f2a21efcfce979ffc0c1fea4bdb3\n'}]",4,569375,f19d58a728ffa5f6b982f5373bfdb1a503006edf,17,5,3,10239,,,0,"baremetal: refuse to inspect associated machines

Automatically inspecting ""available"" machines is a controversial feature,
since it enables ""stealing"" a machine that Nova already picked for deployment.
To reduce this probability, refuse to inspect nodes with instance_uuid set.

Also finish the incomplete comment.

Change-Id: I6cde6a6f9303f2a21efcfce979ffc0c1fea4bdb3
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/75/569375/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/openstackcloud.py', 'openstack/tests/unit/cloud/test_baremetal_node.py', 'releasenotes/notes/no-inspect-associated-563e272785bb6016.yaml']",3,66a3e5a94fc60c9dd70ec87a2494860aa2452bef,no-inspect-associated,"--- fixes: - | Machine inspection now fails for machines associated with an instance. This is to avoid ""stealing"" a machine from under a provisioner (e.g. Nova). ",,31,0
openstack%2Fnova~stable%2Fqueens~I91528d61bbadc1b30c27985de9511e51ad71e771,openstack/nova,stable/queens,I91528d61bbadc1b30c27985de9511e51ad71e771,Fix auth_url example in hypervisor-hyper-v.rst,MERGED,2018-05-17 22:29:25.000000000,2018-05-20 22:24:38.000000000,2018-05-20 22:24:38.000000000,"[{'_account_id': 12898}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-17 22:29:25.000000000', 'files': ['doc/source/admin/configuration/hypervisor-hyper-v.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3cdb35882b1b4822c16211ccba31c20ad923403', 'message': ""Fix auth_url example in hypervisor-hyper-v.rst\n\nThe url path should be 'v3' instead of 'v3.0'\nin the 'auth_url'.\n\nTrivialFix\nChange-Id: I91528d61bbadc1b30c27985de9511e51ad71e771\n(cherry picked from commit 18a018033cba04b1de33bf4a95ab9a67e64f8055)\n""}]",0,569284,e3cdb35882b1b4822c16211ccba31c20ad923403,8,4,1,7634,,,0,"Fix auth_url example in hypervisor-hyper-v.rst

The url path should be 'v3' instead of 'v3.0'
in the 'auth_url'.

TrivialFix
Change-Id: I91528d61bbadc1b30c27985de9511e51ad71e771
(cherry picked from commit 18a018033cba04b1de33bf4a95ab9a67e64f8055)
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/569284/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/hypervisor-hyper-v.rst'],1,e3cdb35882b1b4822c16211ccba31c20ad923403,fix_auth_url, auth_url = http://IP_ADDRESS:5000/v3, auth_url = http://IP_ADDRESS:5000/v3.0,1,1
openstack%2Fnova~stable%2Fqueens~I5c0a6389b759153bae06fa43846f03ac083c3db4,openstack/nova,stable/queens,I5c0a6389b759153bae06fa43846f03ac083c3db4,Update auth_url in install docs,MERGED,2018-05-16 02:55:57.000000000,2018-05-20 22:24:33.000000000,2018-05-20 22:24:33.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 12898}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-16 02:55:57.000000000', 'files': ['doc/source/install/verify.rst', 'doc/source/admin/configuration/hypervisor-hyper-v.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/7887d1d63eb584ff0d4883f00e69c6bcaee2e43c', 'message': 'Update auth_url in install docs\n\n1. Beginning with the Queens release, the keystone install guide\nrecommends running all interfaces on the same port. This patch\nupdates the install guide to reflect that change.\n2. update the deprecated neutron auth options\n\nChange-Id: I5c0a6389b759153bae06fa43846f03ac083c3db4\n(cherry picked from commit 17105cce3a7e7b9e333425e6c6c07c5e518f3642)\n'}]",0,568730,7887d1d63eb584ff0d4883f00e69c6bcaee2e43c,10,8,1,25903,,,0,"Update auth_url in install docs

1. Beginning with the Queens release, the keystone install guide
recommends running all interfaces on the same port. This patch
updates the install guide to reflect that change.
2. update the deprecated neutron auth options

Change-Id: I5c0a6389b759153bae06fa43846f03ac083c3db4
(cherry picked from commit 17105cce3a7e7b9e333425e6c6c07c5e518f3642)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/568730/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/verify.rst', 'doc/source/admin/configuration/hypervisor-hyper-v.rst']",2,7887d1d63eb584ff0d4883f00e69c6bcaee2e43c,, project_name = service username = neutron password = Passw0rd auth_url = http://IP_ADDRESS:5000/v3.0 auth_type = password, admin_tenant_name = service admin_username = neutron admin_password = Passw0rd admin_auth_url = http://IP_ADDRESS:35357/v2.0,6,5
openstack%2Fnova~stable%2Fpike~Ie252271ecfd38a0a1c61c26e323cc03869889f0a,openstack/nova,stable/pike,Ie252271ecfd38a0a1c61c26e323cc03869889f0a,Skip placement on rebuild in same host,MERGED,2018-04-12 19:22:35.000000000,2018-05-20 22:06:18.000000000,2018-05-20 22:06:18.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-04-12 19:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87bb1a9bda8294184fbe55963ebffd944950c2cb', 'message': ""Skip placement on rebuild in same host\n\nIf the instance is rebuilt with a different image in the same\nhost, we don't need to call placement because there is no change\nin resource consumption.\n\nChange-Id: Ie252271ecfd38a0a1c61c26e323cc03869889f0a\nCloses-Bug: #1750623\n(cherry pick from commit c3a894b6af32ff8ddba728328bc7d4e1339b2964)\n""}, {'number': 2, 'created': '2018-04-13 18:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a376b1defc4fbe5df283bb4493170b04c5378014', 'message': ""Skip placement on rebuild in same host\n\nIf the instance is rebuilt with a different image in the same\nhost, we don't need to call placement because there is no change\nin resource consumption.\n\nChange-Id: Ie252271ecfd38a0a1c61c26e323cc03869889f0a\nCloses-Bug: #1750623\n(cherry-pick from 04ea910ad13b412f410ccf520074cacee6bbe13e)\n""}, {'number': 3, 'created': '2018-04-17 10:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/118523b1ced8cf72867a2ff5cd9ff3fb58dafebe', 'message': ""Skip placement on rebuild in same host\n\nIf the instance is rebuilt with a different image in the same\nhost, we don't need to call placement because there is no change\nin resource consumption.\n\nConflicts:\n        nova/scheduler/manager.py\n\nNOTE(lyarwood): Conflict caused by Iae904afb6cb4fcea8bb27741d774ffbe986a5fb4\nnot being present in Pike.\n\nChange-Id: Ie252271ecfd38a0a1c61c26e323cc03869889f0a\nCloses-Bug: #1750623\n(cherry-pick from c3a894b6af32ff8ddba728328bc7d4e1339b2964)\n(cherry picked from commit 04ea910ad13b412f410ccf520074cacee6bbe13e)\n""}, {'number': 4, 'created': '2018-04-19 13:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53b2ca156681054be179960a56a786b0dc3398cb', 'message': ""Skip placement on rebuild in same host\n\nIf the instance is rebuilt with a different image in the same\nhost, we don't need to call placement because there is no change\nin resource consumption.\n\nConflicts:\n        nova/scheduler/manager.py\n        nova/tests/unit/scheduler/test_scheduler.py\n\nNOTE(lyarwood): Conflicts caused by Iae904afb6cb4fcea8bb27741d774ffbe986a5fb4\nand I03b95a2106624c2ea24835814ca38e954ec7a997 not being present in Pike.\n\nChange-Id: Ie252271ecfd38a0a1c61c26e323cc03869889f0a\nCloses-Bug: #1750623\n(cherry-pick from c3a894b6af32ff8ddba728328bc7d4e1339b2964)\n(cherry picked from commit 04ea910ad13b412f410ccf520074cacee6bbe13e)\n""}, {'number': 5, 'created': '2018-05-09 15:34:23.000000000', 'files': ['nova/scheduler/manager.py', 'nova/tests/fixtures.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/scheduler/test_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ffbf5918c650e8499de206b73f050d5e8580b04e', 'message': ""Skip placement on rebuild in same host\n\nIf the instance is rebuilt with a different image in the same\nhost, we don't need to call placement because there is no change\nin resource consumption.\n\nConflicts:\n        nova/scheduler/manager.py\n        nova/tests/fixtures.py\n        nova/tests/unit/scheduler/test_scheduler.py\n\nNOTE(lyarwood): Pike Conflicts due to the following changes not being\npresent until Queens Iae904afb6cb4fcea8bb27741d774ffbe986a5fb4,\nI03b95a2106624c2ea24835814ca38e954ec7a997 and\nIacb9808ef7188e3419abfac9e8c5fb5a46c71c05.\n\nChange-Id: Ie252271ecfd38a0a1c61c26e323cc03869889f0a\nCloses-Bug: #1750623\n(cherry-pick from c3a894b6af32ff8ddba728328bc7d4e1339b2964)\n(cherry picked from commit 04ea910ad13b412f410ccf520074cacee6bbe13e)\n""}]",5,561015,ffbf5918c650e8499de206b73f050d5e8580b04e,43,10,5,27654,,,0,"Skip placement on rebuild in same host

If the instance is rebuilt with a different image in the same
host, we don't need to call placement because there is no change
in resource consumption.

Conflicts:
        nova/scheduler/manager.py
        nova/tests/fixtures.py
        nova/tests/unit/scheduler/test_scheduler.py

NOTE(lyarwood): Pike Conflicts due to the following changes not being
present until Queens Iae904afb6cb4fcea8bb27741d774ffbe986a5fb4,
I03b95a2106624c2ea24835814ca38e954ec7a997 and
Iacb9808ef7188e3419abfac9e8c5fb5a46c71c05.

Change-Id: Ie252271ecfd38a0a1c61c26e323cc03869889f0a
Closes-Bug: #1750623
(cherry-pick from c3a894b6af32ff8ddba728328bc7d4e1339b2964)
(cherry picked from commit 04ea910ad13b412f410ccf520074cacee6bbe13e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/561015/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/scheduler/test_scheduler.py']",3,87bb1a9bda8294184fbe55963ebffd944950c2cb,bug/1750623," def test_select_destination_is_rebuild(self, mock_get_ac, mock_rfrs): fake_spec = objects.RequestSpec( scheduler_hints={'_nova_check_type': ['rebuild']}) fake_spec.instance_uuid = uuids.instance with mock.patch.object(self.manager.driver, 'select_destinations' ) as select_destinations: self.manager.select_destinations(self.context, spec_obj=fake_spec, instance_uuids=[fake_spec.instance_uuid]) select_destinations.assert_called_once_with( self.context, fake_spec, [fake_spec.instance_uuid], None, None, None, False) mock_get_ac.assert_not_called() @mock.patch('nova.scheduler.utils.resources_from_request_spec') @mock.patch('nova.scheduler.client.report.SchedulerReportClient.' 'get_allocation_candidates')",,30,1
openstack%2Fnova~master~I4369f7fb1453e896864222fa407437982be8f6b5,openstack/nova,master,I4369f7fb1453e896864222fa407437982be8f6b5,Update nova-status and docs for required placement 1.24,MERGED,2018-05-16 18:23:37.000000000,2018-05-20 22:02:24.000000000,2018-05-19 01:55:32.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-16 18:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93539840615ec60bb9261c375a9921349be33204', 'message': 'Update nova-status and docs for required placement 1.24\n\nChange Id7eecbfe53f3a973d828122cf0149b2e10b8833f made\nnova-scheduler require placement >= 1.24 so this change\nupdates the minimum required version checked in the\nnova-status upgrade check command along with the upgrade\ndocs.\n\nChange-Id: I4369f7fb1453e896864222fa407437982be8f6b5\n'}, {'number': 2, 'created': '2018-05-16 18:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e35eecc535b58c399eab1f9eb5ed0fd64ba3ee8d', 'message': 'Update nova-status and docs for required placement 1.24\n\nChange Id7eecbfe53f3a973d828122cf0149b2e10b8833f made\nnova-scheduler require placement >= 1.24 so this change\nupdates the minimum required version checked in the\nnova-status upgrade check command along with the upgrade\ndocs.\n\nChange-Id: I4369f7fb1453e896864222fa407437982be8f6b5\n'}, {'number': 3, 'created': '2018-05-16 21:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52be53f3bdedb8c447d203c11998740b95fe3096', 'message': 'Update nova-status and docs for required placement 1.24\n\nChange Id7eecbfe53f3a973d828122cf0149b2e10b8833f made\nnova-scheduler require placement >= 1.24 so this change\nupdates the minimum required version checked in the\nnova-status upgrade check command along with the upgrade\ndocs.\n\nChange-Id: I4369f7fb1453e896864222fa407437982be8f6b5\n'}, {'number': 4, 'created': '2018-05-18 21:46:25.000000000', 'files': ['doc/source/user/placement.rst', 'nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/216e232def43e42befc06c1530a89b23f029a207', 'message': 'Update nova-status and docs for required placement 1.24\n\nChange Id7eecbfe53f3a973d828122cf0149b2e10b8833f made\nnova-scheduler require placement >= 1.24 so this change\nupdates the minimum required version checked in the\nnova-status upgrade check command along with the upgrade\ndocs.\n\nChange-Id: I4369f7fb1453e896864222fa407437982be8f6b5\n'}]",2,568923,216e232def43e42befc06c1530a89b23f029a207,44,15,4,6873,,,0,"Update nova-status and docs for required placement 1.24

Change Id7eecbfe53f3a973d828122cf0149b2e10b8833f made
nova-scheduler require placement >= 1.24 so this change
updates the minimum required version checked in the
nova-status upgrade check command along with the upgrade
docs.

Change-Id: I4369f7fb1453e896864222fa407437982be8f6b5
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/568923/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/placement.rst', 'nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'nova/scheduler/client/report.py']",5,93539840615ec60bb9261c375a9921349be33204,bp/alloc-candidates-member-of," # NOTE(mriedem): If you bump this version, remember to adjust the # placement version check in the nova-status upgrade check command.",,20,7
openstack%2Fopenstack-helm~master~I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d,openstack/openstack-helm,master,I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d,Add image management function to manifests,MERGED,2018-05-18 15:43:36.000000000,2018-05-20 21:58:52.000000000,2018-05-20 21:58:52.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-18 15:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d15808bb3ecb166afe998ae0292d941b9d8ac995', 'message': 'WIP: Add image management fucntion to manifests\n\nWhen removing helm-toolkit from OSH and swithcing to use the\ntoolkit from OSH-Infra, the image declaration function was missed.\n\nChange-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-05-18 15:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bd439ba1a73df1d8219f3913904a424694623039', 'message': 'WIP: Add image management function to manifests\n\nWhen removing helm-toolkit from OSH and swithcing to use the\ntoolkit from OSH-Infra, the image declaration function was missed.\n\nChange-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-05-18 15:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bbea8fbad768041907087f7cbc00c9a35d288357', 'message': 'WIP: Add image management function to manifests\n\nWhen removing helm-toolkit from OSH and swithcing to use the\ntoolkit from OSH-Infra, the image declaration function was missed.\n\nChange-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-05-18 16:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab5d6610dacddf5aab86ea72220c31797830dee5', 'message': 'WIP: Add image management function to manifests\n\nWhen removing helm-toolkit from OSH and swithcing to use the\ntoolkit from OSH-Infra, the image declaration function was missed.\n\nChange-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2018-05-18 18:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e87ca88648a1a88516debf82746194b06ef7bbfb', 'message': 'WIP: Add image management function to manifests\n\nWhen removing helm-toolkit from OSH and swithcing to use the\ntoolkit from OSH-Infra, the image declaration function was missed.\n\nChange-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2018-05-18 18:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db0c10bffd6b951b7a099b0f279a798455b65599', 'message': 'Add image management function to manifests\n\nWhen removing helm-toolkit from OSH and swithcing to use the\ntoolkit from OSH-Infra, the image declaration function was missed.\n\nChange-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2018-05-19 05:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e448f902a436431ca63a5fe5b7f6bed4ac23a35d', 'message': 'Add image management function to manifests\n\nWhen removing helm-toolkit from OSH and swithcing to use the\ntoolkit from OSH-Infra, the image declaration function was missed.\n\nDepends-On: I2f2012590d81ffcb159d49d8a76eedd4441744cd\nChange-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2018-05-19 17:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f144afb2910a64a4282d2160c921a22e78d11278', 'message': 'Add image management function to manifests\n\nWhen removing helm-toolkit from OSH and swithcing to use the\ntoolkit from OSH-Infra, the image declaration function was missed.\n\nDepends-On: I2f2012590d81ffcb159d49d8a76eedd4441744cd\nChange-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 9, 'created': '2018-05-20 05:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/584886c25371580045ab6d26e0522909b617b23a', 'message': 'Add image management function to manifests\n\nWhen removing helm-toolkit from OSH and swithcing to use the\ntoolkit from OSH-Infra, the image declaration function was missed.\n\nDepends-On: I2f2012590d81ffcb159d49d8a76eedd4441744cd\nChange-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 10, 'created': '2018-05-20 15:10:25.000000000', 'files': ['ldap/templates/statefulset.yaml', 'glance/templates/deployment-registry.yaml', 'senlin/templates/deployment-engine.yaml', 'senlin/templates/deployment-api.yaml', 'ingress/templates/deployment-ingress.yaml', 'glance/templates/pod-rally-test.yaml', 'nova/templates/job-ks-placement-user.yaml', 'glance/templates/job-storage-init.yaml', 'nova/templates/cron-job-cell-setup.yaml', 'cinder/templates/deployment-api.yaml', 'congress/templates/job-ds-create.yaml', 'gnocchi/templates/deployment-api.yaml', 'rally/templates/job-ks-endpoints.yaml', 'mariadb/templates/deployment-ingress.yaml', 'horizon/templates/job-db-sync.yaml', 'magnum/templates/statefulset-conductor.yaml', 'memcached/templates/deployment.yaml', 'ceph-client/templates/job-bootstrap.yaml', 'ceph-client/templates/deployment-rgw.yaml', 'ceph-mon/templates/job-keyring.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml', 'nova/templates/deployment-conductor.yaml', 'keystone/templates/job-domain-manage.yaml', 'nova/templates/pod-rally-test.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'cinder/templates/job-storage-init.yaml', 'nova/templates/deployment-spiceproxy.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'neutron/templates/pod-rally-test.yaml', 'ingress/templates/deployment-error.yaml', 'ceilometer/templates/deployment-central.yaml', 'mariadb/templates/deployment-error.yaml', 'nova/templates/deployment-api-metadata.yaml', 'rabbitmq/templates/statefulset.yaml', 'ceilometer/templates/deployment-notification.yaml', 'mistral/templates/statefulset-event-engine.yaml', 'neutron/templates/deployment-server.yaml', 'congress/templates/pod-test.yaml', 'gnocchi/templates/job-storage-init.yaml', 'ceph-mon/templates/job-bootstrap.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/pod-rally-test.yaml', 'ceph-client/templates/job-rbd-pool.yaml', 'nova/templates/deployment-novncproxy.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'congress/templates/deployment-datasource.yaml', 'gnocchi/templates/daemonset-metricd.yaml', 'cinder/templates/job-backup-storage-init.yaml', 'gnocchi/templates/job-db-sync.yaml', 'congress/templates/deployment-api.yaml', 'ceilometer/templates/deployment-collector.yaml', 'heat/templates/deployment-engine.yaml', 'ironic/templates/job-manage-cleaning-network.yaml', 'postgresql/templates/statefulset.yaml', 'cinder/templates/cron-job-cinder-volume-usage-audit.yaml', 'ironic/templates/deployment-api.yaml', 'cinder/templates/pod-rally-test.yaml', 'mariadb/templates/monitoring/prometheus/exporter-deployment.yaml', 'mongodb/templates/statefulset.yaml', 'nova/templates/deployment-consoleauth.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'nova/templates/daemonset-compute.yaml', 'ceilometer/templates/daemonset-compute.yaml', 'nova/templates/statefulset-compute-ironic.yaml', 'rabbitmq/templates/pod-test.yaml', 'mistral/templates/deployment-executor.yaml', 'heat/templates/job-ks-user-domain.yaml', 'gnocchi/templates/pod-gnocchi-test.yaml', 'tempest/templates/job-run-tests.yaml', 'rally/templates/job-ks-service.yaml', 'gnocchi/templates/daemonset-statsd.yaml', 'ceilometer/templates/pod-rally-test.yaml', 'rally/templates/job-run-task.yaml', 'ironic/templates/statefulset-conductor.yaml', 'ceilometer/templates/deployment-api.yaml', 'heat/templates/deployment-cfn.yaml', 'heat/templates/job-trusts.yaml', 'ceph-client/templates/job-cephfs-client-key.yaml', 'nova/templates/deployment-scheduler.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'horizon/templates/deployment.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'heat/templates/cron-job-engine-cleaner.yaml', 'nova/templates/job-cell-setup.yaml', 'nova/templates/job-ks-placement-service.yaml', 'cinder/templates/deployment-scheduler.yaml', 'senlin/templates/pod-test.yaml', 'mistral/templates/pod-rally-test.yaml', 'heat/templates/pod-rally-test.yaml', 'keystone/templates/job-credential-setup.yaml', 'ceph-client/templates/job-namespace-client-key-cleaner.yaml', 'cinder/templates/deployment-volume.yaml', 'barbican/templates/pod-test.yaml', 'ceph-client/templates/deployment-rbd-provisioner.yaml', 'nova/templates/job-ks-placement-endpoints.yaml', 'cinder/templates/deployment-backup.yaml', 'congress/templates/deployment-policy-engine.yaml', 'ceph-client/templates/deployment-cephfs-provisioner.yaml', 'nova/templates/deployment-api-osapi.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'openvswitch/templates/daemonset-ovs-db.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'gnocchi/templates/job-db-init-indexer.yaml', 'magnum/templates/deployment-api.yaml', 'glance/templates/job-clean.yaml', 'rally/templates/job-manage-db.yaml', 'ceph-client/templates/deployment-mds.yaml', 'cinder/templates/job-clean.yaml', 'barbican/templates/deployment-api.yaml', 'etcd/templates/deployment.yaml', 'mistral/templates/statefulset-engine.yaml', 'ceilometer/templates/job-db-init-mongodb.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'gnocchi/templates/job-clean.yaml', 'rally/templates/job-bootstrap.yaml', 'libvirt/templates/daemonset-libvirt.yaml', 'nova/templates/deployment-placement.yaml', 'mariadb/templates/statefulset.yaml', 'ceph-client/templates/job-namespace-client-key.yaml', 'magnum/templates/job-ks-user-domain.yaml', 'heat/templates/deployment-api.yaml', 'keystone/templates/cron-job-credential-rotate.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'mistral/templates/deployment-api.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'mariadb/templates/monitoring/prometheus/exporter-job-create-user.yaml', 'senlin/templates/cron-job-engine-cleaner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/460675bf7f85df1aaf4d918beda5a5929d04a942', 'message': 'Add image management function to manifests\n\nWhen removing helm-toolkit from OSH and swithcing to use the\ntoolkit from OSH-Infra, the image declaration function was missed.\n\nDepends-On: I2f2012590d81ffcb159d49d8a76eedd4441744cd\nChange-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,569448,460675bf7f85df1aaf4d918beda5a5929d04a942,27,4,10,23928,,,0,"Add image management function to manifests

When removing helm-toolkit from OSH and swithcing to use the
toolkit from OSH-Infra, the image declaration function was missed.

Depends-On: I2f2012590d81ffcb159d49d8a76eedd4441744cd
Change-Id: I0f1118bb748f3fe1b6bb73acfc00e77c5cca9c7d
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/48/569448/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/templates/deployment-notification.yaml', 'cinder/templates/deployment-volume.yaml', 'congress/templates/pod-test.yaml', 'glance/templates/deployment-registry.yaml', 'barbican/templates/pod-test.yaml', 'ceph-client/templates/deployment-rbd-provisioner.yaml', 'ceph-mon/templates/job-bootstrap.yaml', 'cinder/templates/deployment-backup.yaml', 'congress/templates/deployment-policy-engine.yaml', 'ceph-client/templates/deployment-cephfs-provisioner.yaml', 'glance/templates/job-storage-init.yaml', 'cinder/templates/deployment-api.yaml', 'congress/templates/job-ds-create.yaml', 'ceph-client/templates/job-rbd-pool.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'congress/templates/deployment-datasource.yaml', 'ceilometer/templates/pod-rally-test.yaml', 'glance/templates/job-clean.yaml', 'ceph-client/templates/deployment-mds.yaml', 'cinder/templates/job-backup-storage-init.yaml', 'ceph-client/templates/job-bootstrap.yaml', 'cinder/templates/job-clean.yaml', 'barbican/templates/deployment-api.yaml', 'ceilometer/templates/deployment-api.yaml', 'ceph-client/templates/deployment-rgw.yaml', 'ceph-mon/templates/job-keyring.yaml', 'etcd/templates/deployment.yaml', 'ceilometer/templates/job-db-init-mongodb.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'congress/templates/deployment-api.yaml', 'glance/templates/deployment-api.yaml', 'ceph-client/templates/job-cephfs-client-key.yaml', 'ceilometer/templates/deployment-collector.yaml', 'cinder/templates/cron-job-cinder-volume-usage-audit.yaml', 'cinder/templates/job-storage-init.yaml', 'ceph-client/templates/job-namespace-client-key.yaml', 'cinder/templates/deployment-scheduler.yaml', 'cinder/templates/pod-rally-test.yaml', 'ceilometer/templates/deployment-central.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'ceilometer/templates/daemonset-compute.yaml', 'ceph-client/templates/job-namespace-client-key-cleaner.yaml', 'ceph-client/templates/deployment-mgr.yaml']",44,d15808bb3ecb166afe998ae0292d941b9d8ac995,image/function,"{{ tuple $envAll ""ceph_mds"" | include ""helm-toolkit.snippets.image"" | indent 10 }}{{ tuple $envAll ""ceph_mgr"" | include ""helm-toolkit.snippets.image"" | indent 10 }}", image: {{ .Values.images.tags.ceph_mgr }} imagePullPolicy: {{ .Values.images.pull_policy }} image: {{ .Values.images.tags.ceph_mgr }} imagePullPolicy: {{ .Values.images.pull_policy }},68,134
openstack%2Foslotest~master~I8864ab0c475b63a7549137d9ea0514b7e8154e79,openstack/oslotest,master,I8864ab0c475b63a7549137d9ea0514b7e8154e79,Deprecate MoxStubout class,MERGED,2018-05-14 17:44:10.000000000,2018-05-20 21:49:05.000000000,2018-05-20 21:49:05.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 17:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/a02cd89caab01aaf8f54931d0a24149cf7cf87f0', 'message': 'Deprecate MoxStubout class\n\nAs part of the mox removal goal, we need to deprecate this class so\nit can be removed once everyone has stopped using it.\n\nStory 2001546\n\nChange-Id: I8864ab0c475b63a7549137d9ea0514b7e8154e79\n'}, {'number': 2, 'created': '2018-05-14 19:40:24.000000000', 'files': ['requirements.txt', 'oslotest/moxstubout.py'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/cae8c8d51a94b891ce5b311a91d01b4264b296d2', 'message': 'Deprecate MoxStubout class\n\nAs part of the mox removal goal, we need to deprecate this class so\nit can be removed once everyone has stopped using it.\n\nStory 2001546\n\nChange-Id: I8864ab0c475b63a7549137d9ea0514b7e8154e79\n'}]",2,568336,cae8c8d51a94b891ce5b311a91d01b4264b296d2,10,4,2,6928,,,0,"Deprecate MoxStubout class

As part of the mox removal goal, we need to deprecate this class so
it can be removed once everyone has stopped using it.

Story 2001546

Change-Id: I8864ab0c475b63a7549137d9ea0514b7e8154e79
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/36/568336/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslotest/moxstubout.py']",2,a02cd89caab01aaf8f54931d0a24149cf7cf87f0,deprecate-mox,"from debtcollector import removals@removals.removed_class('MoxStubout', version='3.5.0')",,3,0
openstack%2Foslotest~master~Iaf64f0cbee5ee7894367a354c1d1646561759744,openstack/oslotest,master,Iaf64f0cbee5ee7894367a354c1d1646561759744,Fix requirements,MERGED,2018-05-14 19:40:24.000000000,2018-05-20 21:42:16.000000000,2018-05-17 14:13:52.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 19:40:24.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/0a3b06e46f3d58c11acae88bfd04f683f5d73ce1', 'message': ""Fix requirements\n\nOne of our lower bounds didn't match so the requirements job in this\nrepo is failing.\n\nChange-Id: Iaf64f0cbee5ee7894367a354c1d1646561759744\n""}]",0,568357,0a3b06e46f3d58c11acae88bfd04f683f5d73ce1,7,2,1,6928,,,0,"Fix requirements

One of our lower bounds didn't match so the requirements job in this
repo is failing.

Change-Id: Iaf64f0cbee5ee7894367a354c1d1646561759744
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/57/568357/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0a3b06e46f3d58c11acae88bfd04f683f5d73ce1,deprecate-mox,"sphinx!=1.6.6,!=1.6.7,>=1.6.5 # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",1,1
openstack%2Ftripleo-quickstart-extras~master~I5256a1bee84f32629990c48c5e6e987384bd498f,openstack/tripleo-quickstart-extras,master,I5256a1bee84f32629990c48c5e6e987384bd498f,"Revert ""Run ""overcloud container image prepare"" only once""",MERGED,2018-05-18 22:13:23.000000000,2018-05-20 21:30:24.000000000,2018-05-19 05:15:37.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11391}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-05-18 22:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9d507b7834bfac78bdf901a75b103d0a90a41dec', 'message': 'Revert ""Run ""overcloud container image prepare"" only once""\n\nThis reverts commit 445157148a46452c26ffa070e31b4da1c8e4503d.\n\nChange-Id: I5256a1bee84f32629990c48c5e6e987384bd498f\n'}, {'number': 2, 'created': '2018-05-18 22:17:44.000000000', 'files': ['roles/overcloud-upgrade/templates/major-upgrade-overcloud-containers.sh.j2', 'roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a17a676489a206fce5f30fa664e1cc97497ded85', 'message': 'Revert ""Run ""overcloud container image prepare"" only once""\n\nThis reverts commit 445157148a46452c26ffa070e31b4da1c8e4503d.\n\nThe containers update script does not handle the new format.\nSo this broke CI when container updates are applied.\n\nCloses-Bug: #1772122\nChange-Id: I5256a1bee84f32629990c48c5e6e987384bd498f\n'}]",0,569528,a17a676489a206fce5f30fa664e1cc97497ded85,12,10,2,14985,,,0,"Revert ""Run ""overcloud container image prepare"" only once""

This reverts commit 445157148a46452c26ffa070e31b4da1c8e4503d.

The containers update script does not handle the new format.
So this broke CI when container updates are applied.

Closes-Bug: #1772122
Change-Id: I5256a1bee84f32629990c48c5e6e987384bd498f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/28/569528/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-upgrade/templates/major-upgrade-overcloud-containers.sh.j2', 'roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2']",2,9d507b7834bfac78bdf901a75b103d0a90a41dec,bp/container-prepare-workflow,"## * Populate the docker registry## * Configure the {{ working_dir }}/containers-default-parameters.yaml, this is done automatically.openstack overcloud container image prepare \ --images-file {{ working_dir }}/overcloud_containers.yaml \ --env-file {{ working_dir }}/containers-default-parameters.yaml \ ${PREPARE_ARGS} \ --namespace {{ local_docker_registry_host }}:8787/{{ docker_registry_namespace_used }} \ --set ceph_namespace={{ local_docker_registry_host }}:8787/ceph \ {% if docker_prep_prefix is defined %} --prefix={{ docker_prep_prefix}} \{% if docker_prep_suffix is defined %} --suffix={{ docker_prep_suffix }} \ {% endif %} {% if docker_ceph_image is defined %} --set ceph_image={{ docker_ceph_image }} \ {% endif %} {% if docker_ceph_tag is defined %} --set ceph_tag={{ docker_ceph_tag }} \ {% endif %} --tag $BUILD_ID","## * Configure the {{ working_dir }}/containers-default-parameters.yaml, and ## populate the docker registry. This is done automatically. --env-file {{ working_dir }}/containers-default-parameters.yaml \{% if release in ['ocata', 'pike'] %} ## * Configure the {{ working_dir }}/containers-default-parameters.yaml to pull ## from a local registry, this is done automatically. openstack overcloud container image prepare \ --env-file {{ working_dir }}/containers-default-parameters.yaml \ ${PREPARE_ARGS} \ --namespace {{ local_docker_registry_host }}:8787/{{ docker_registry_namespace }} \ {% if docker_prep_prefix is defined %} --prefix={{ docker_prep_prefix}} \ {% endif %} {% if docker_prep_suffix is defined %} --suffix={{ docker_prep_suffix }} \ {% endif %} {% if docker_ceph_namespace is defined %} --set ceph_namespace={{ docker_ceph_namespace }} \ {% endif %} {% if docker_ceph_image is defined %} --set ceph_image={{ docker_ceph_image }} \ {% endif %} {% if docker_ceph_tag is defined %} --set ceph_tag={{ docker_ceph_tag }} \ {% endif %} --tag $BUILD_ID",28,36
openstack%2Fnova~stable%2Fpike~Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e,openstack/nova,stable/pike,Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e,conf: Do not inherit image signature props with snapshots,MERGED,2018-04-30 19:39:42.000000000,2018-05-20 21:21:39.000000000,2018-05-20 21:21:39.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-30 19:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bedb294bebf28ef32293011f00b27a582480935', 'message': 'conf: Do not inherit image signature props with snapshots\n\nAll image signature properties should not be inherited from the metadata\nof the original image when creating a snapshot of an instance. Otherwise\nGlance will attempt to verify the signature of the snapshot image and\nfail as this has changed from that of the original.\n\nCloses-bug: #1737513\nChange-Id: Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e\n(cherry picked from commit 82c823bcec5850f6876308ebcdbcb37312bf763f)\n'}, {'number': 2, 'created': '2018-04-30 19:42:21.000000000', 'files': ['nova/conf/compute.py', 'releasenotes/notes/default-non-inheritable-image-properties-dfd13ba3b09278dd.yaml', 'nova/tests/unit/compute/test_compute_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f8498c41cdfec2acde62a1da1abce917ac882c7d', 'message': 'conf: Do not inherit image signature props with snapshots\n\nAll image signature properties should not be inherited from the metadata\nof the original image when creating a snapshot of an instance. Otherwise\nGlance will attempt to verify the signature of the snapshot image and\nfail as this has changed from that of the original.\n\nCloses-bug: #1737513\nNeeded-By: https://review.openstack.org/551290\nChange-Id: Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e\n(cherry picked from commit 82c823bcec5850f6876308ebcdbcb37312bf763f)\n'}]",0,565288,f8498c41cdfec2acde62a1da1abce917ac882c7d,13,9,2,7012,,,0,"conf: Do not inherit image signature props with snapshots

All image signature properties should not be inherited from the metadata
of the original image when creating a snapshot of an instance. Otherwise
Glance will attempt to verify the signature of the snapshot image and
fail as this has changed from that of the original.

Closes-bug: #1737513
Needed-By: https://review.openstack.org/551290
Change-Id: Ia3d80bf2f81c7317fec117aecbc3c560d51a7d4e
(cherry picked from commit 82c823bcec5850f6876308ebcdbcb37312bf763f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/565288/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'releasenotes/notes/default-non-inheritable-image-properties-dfd13ba3b09278dd.yaml', 'nova/tests/unit/compute/test_compute_api.py']",3,6bedb294bebf28ef32293011f00b27a582480935,bug/1737513," # Test non-inheritable properties, 'user_id' should also not be # carried from sys_meta into image property...since it should be set # explicitly by _create_image() in compute api. 'bittorrent': 'dropped', 'img_signature_hash_method': 'dropped', 'img_signature': 'dropped', 'img_signature_key_type': 'dropped', 'img_signature_certificate_uuid': 'dropped'", # 'cache_in_nova' is for testing non-inheritable properties # 'user_id' should also not be carried from sys_meta into # image property...since it should be set explicitly by # _create_image() in compute api.,24,6
openstack%2Ftripleo-heat-templates~master~Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334,openstack/tripleo-heat-templates,master,Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334,Deploy Docker via Ansible and not Puppet,MERGED,2018-04-14 01:49:07.000000000,2018-05-20 18:47:24.000000000,2018-05-20 18:47:24.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 18851}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-14 01:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3a3ab09884a147b6db4c7f67a589a4a1e995874', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 2, 'created': '2018-04-14 23:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/755124400b545ad1597753cc4c0f7962964b5803', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 3, 'created': '2018-04-15 05:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f601454c133200ba060210de64c8aa7f650f757d', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nDepends-On: Ifab466893beb5bfaa0314b50d14740f2b04771a8\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 4, 'created': '2018-04-15 18:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad998e817558730e4b3081c170bf7a7a55d302db', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nDepends-On: Ifab466893beb5bfaa0314b50d14740f2b04771a8\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 5, 'created': '2018-04-15 20:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/465c38476dc5764c6098186d9e051bc9149243a4', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nDepends-On: Ifab466893beb5bfaa0314b50d14740f2b04771a8\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 6, 'created': '2018-04-15 21:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e23f27834a66e365f093c30950476701b9071752', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nDepends-On: Ifab466893beb5bfaa0314b50d14740f2b04771a8\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 7, 'created': '2018-04-15 22:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/956fd319d2f8b70ae2dc13285f40a228a977983c', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nDepends-On: Ifab466893beb5bfaa0314b50d14740f2b04771a8\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 8, 'created': '2018-04-16 00:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e46be8564b9844a5cc6acc19385914d45139313e', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nDepends-On: Ifab466893beb5bfaa0314b50d14740f2b04771a8\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 9, 'created': '2018-04-16 00:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ff725ab07e0d9e540e4fbca80f980215acd790f', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\n\nDepends-On: Ifab466893beb5bfaa0314b50d14740f2b04771a8\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 10, 'created': '2018-04-16 02:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e48340a1f7b89bcb1338cb7c5b8fa767ff53d329', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nDepends-On: Idcb5a104a3875be0831a134e11ab44bb315b510e\nDepends-On: Ifab466893beb5bfaa0314b50d14740f2b04771a8\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 11, 'created': '2018-04-16 15:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab2dde538d6cd58d92ba0f96f542d11f32a8361a', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 12, 'created': '2018-04-16 16:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8bc93b425ca09d0bd553bc11651f50277989419d', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 13, 'created': '2018-04-16 16:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0bb2092705a389988dcbc6628072b64368d680db', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 14, 'created': '2018-04-16 16:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63a2ee60935a88c5ca0e124cf97f39a0f819c0c8', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 15, 'created': '2018-04-16 17:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/195b42437af3a1ff16328d19391b7233876b0ec9', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 16, 'created': '2018-04-16 19:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e3b7797730c2f31498669938da01ec86afa0d54', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 17, 'created': '2018-04-16 19:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7794196032716043e7170d9d7cf54b36ccf2473', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 18, 'created': '2018-04-16 20:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a9996a9ccda98cbf528bf09058507b400821e14', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 19, 'created': '2018-04-16 21:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33264db5f48d4d7ef8a42e8b61643bf61c70fa2d', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 20, 'created': '2018-04-17 00:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ec7f879b004aa4c8968abef1d5aefb1c32fc8a2', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 21, 'created': '2018-04-17 17:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/476c552a22cd7dffcb753dc962d487b4b3b0c2ca', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 22, 'created': '2018-04-17 17:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce495267227b590f162ac18be88d65472ed42034', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 23, 'created': '2018-04-17 21:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4e53cc4e27b257eacf133dc07564b18e35ac6fb', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 24, 'created': '2018-04-18 01:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eba9ee7e4b51e3ec6eb675605f70c721d9b37b77', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 25, 'created': '2018-04-18 04:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03bec1933137a7fabe853afa1ebe5f8a783c473e', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 26, 'created': '2018-04-18 04:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b4153268352279c54ac3b193e164b1b9bbb2fb6', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 27, 'created': '2018-04-18 14:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b6f13f2e8a0490c8bfe1e711e2e47dc01bfb02e', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 28, 'created': '2018-04-18 16:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16f21e2627d6d32f666148f0f67e032d09166b8e', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 29, 'created': '2018-04-18 19:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbe11c010aa44b942237b82bc2bfca18ff49067b', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 30, 'created': '2018-04-19 03:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be0fcf72025e7b53438a2a7a81297642aa736150', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nDepends-On: I7c6c5e6395dbcf049072ecb1228fc10f83f1db7f\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 31, 'created': '2018-04-19 15:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d54e761fa4700f6ec544582d4813cff1cd5ce89', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nDepends-On: I7c6c5e6395dbcf049072ecb1228fc10f83f1db7f\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 32, 'created': '2018-04-19 19:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93247ae2be039e10fda578199f90c241e26d04fa', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nDepends-On: I7c6c5e6395dbcf049072ecb1228fc10f83f1db7f\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 33, 'created': '2018-04-19 19:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/559fb6702c26e36bf6f4bfb4620ccb36ef275971', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 34, 'created': '2018-04-20 01:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7bcf255d9793305adae43648449c428a599567a', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 35, 'created': '2018-04-20 01:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29f8ff241343551c05fd157350f98df9a78256b6', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 36, 'created': '2018-04-20 18:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6986652d95385632a7380413c9cf33afe75f74d2', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 37, 'created': '2018-04-20 20:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0a760c13f5fc0738c5a1a0c5585642db1202946', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 38, 'created': '2018-04-27 02:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3beb9f1357dc5dfa3c9ef354176986e1f1616e8c', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 39, 'created': '2018-04-27 15:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41b0cc88df9bdabc1a5268c7efc0309912b26180', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iea954c8b5c79d5d3f0e053421f5d5c52d199aa13\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 40, 'created': '2018-05-01 17:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c83ff688f774596492dba16a7c906927c0793d70', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 41, 'created': '2018-05-01 17:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3cfe0b3abee2182a5af2a82d155e016f9678531', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 42, 'created': '2018-05-02 05:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25d167afcaefc55e67cebbeff9d0196d8432ee00', 'message': ""WIP - Deploy Docker via Ansible and not Puppet\n\nThis is a proof-of-concept now but we're trying to deploy Docker with\nAnsible instead of Puppet so we can prepare the registry before\ndeploying any containerized service and do tasks in the middle like\nupdating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 43, 'created': '2018-05-02 17:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb88be38a21316321b5de32d3969d9366b2373f7', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nDepends-On: Ic7aa28d71b70d4e7fc484e6dd4420f913dc84146\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 44, 'created': '2018-05-03 04:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f08814e299722302a052873dd56bda7ab6b84f0f', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nDepends-On: Ic7aa28d71b70d4e7fc484e6dd4420f913dc84146\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 45, 'created': '2018-05-03 05:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cabe2c28fc7b38f5308fc6de5cda20426dc06b3a', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: I9585c0bb4c88bcad18adfd19a89c60c4d9a2af67\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nDepends-On: Ic7aa28d71b70d4e7fc484e6dd4420f913dc84146\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 46, 'created': '2018-05-04 05:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80c5925c4dcaea017cf57f04c4ad10f5257bb2b6', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nDepends-On: Ic7aa28d71b70d4e7fc484e6dd4420f913dc84146\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 47, 'created': '2018-05-04 05:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc8c27ca8435bac68378e08cbef3c0df9285181c', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nDepends-On: Ic7aa28d71b70d4e7fc484e6dd4420f913dc84146\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 48, 'created': '2018-05-04 06:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdb46ffcd70014b8c60fcd96ad042ad412c8efcf', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 49, 'created': '2018-05-05 00:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a52f2709578101ed0a7aae26dfacdf084d7ccff', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 50, 'created': '2018-05-05 06:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cb8d70f879706fef4aa115559263d5b7fb9178a', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Iab2615f9be9e107d85d509f75bbfee01fe04b88a\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 51, 'created': '2018-05-05 06:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3c6123092bbb7177f1f8dae3aa5e2a8afe85f4e', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 52, 'created': '2018-05-05 06:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e10a5d8216a359bdac2f533f92cc3a54f6f5fc9', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 53, 'created': '2018-05-05 18:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a018c9ee70c09820e303e92a4f71de07ee500151', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nNote: we're using host_prep_tasks and not deploy_steps_tasks because we\nneed networking to be ready when deploying Docker, and\ndeploy_steps_tasks step0 happens before network config.\nAlso we need to deploy docker before any service (container, etc), so\nhost_prep_tasks is a good fit here.\n\nDepends-On: Ib25edc4b235181b172d8e9c89efc7a624636fe41\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 54, 'created': '2018-05-06 05:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24835006477bd8f61257ba0fa0b622fbc5b64adf', 'message': 'Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n'}, {'number': 55, 'created': '2018-05-06 17:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39ee597f62750fe40fe9110b2afe0260e707fd3b', 'message': 'Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n'}, {'number': 56, 'created': '2018-05-06 21:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0f1796667cb438c3ea08ddf38e9eb6519db9994', 'message': 'Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nDepends-On: I5db2f011e4d831085adbc643766245f34dd6346a\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n'}, {'number': 57, 'created': '2018-05-07 03:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/623ffd76ef7052bcd5c046cc92c89292e6f22c47', 'message': 'Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n'}, {'number': 58, 'created': '2018-05-07 03:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68d73dc9548f67d9fc735f6d210a284448622700', 'message': 'Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n'}, {'number': 59, 'created': '2018-05-07 05:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8edd477fef239dc0552cf532b71cc6186ba9b303', 'message': 'Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n'}, {'number': 60, 'created': '2018-05-07 13:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/034f4d972641ef64193f9493142e4c5672e1a7aa', 'message': 'Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nAlso manage the minor updates.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n'}, {'number': 61, 'created': '2018-05-07 17:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8044f794c17187d30e7b8bb7703e4d90691673b', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nAlso add a note for update_tasks, we'll migrate them later in the role\nas well. Remove the puppet runs,  not used anymore. We'll handle the\nupdates in the role directly.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 62, 'created': '2018-05-07 21:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74bd60bfd772619da4bb49154b1a4ca3aebf5f55', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nAlso add a note for update_tasks, we'll migrate them later in the role\nas well. Remove the puppet runs,  not used anymore. We'll handle the\nupdates in the role directly.\n\nDepends-On: I0da7f5f1005532b8ba68c46ed6ca065cc333d0d5\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 63, 'created': '2018-05-07 21:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c59752bc003380f3afef3bf119bf5fc66e7ecba', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nAlso add a note for update_tasks, we'll migrate them later in the role\nas well. Remove the puppet runs,  not used anymore. We'll handle the\nupdates in the role directly.\n\nDepends-On: I0da7f5f1005532b8ba68c46ed6ca065cc333d0d5\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 64, 'created': '2018-05-07 21:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/863a578926bf0dc41e820d50366f11c63e6cdf86', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nAlso add a note for update_tasks, we'll migrate them later in the role\nas well. Remove the puppet runs,  not used anymore. We'll handle the\nupdates in the role directly.\n\nDepends-On: I0da7f5f1005532b8ba68c46ed6ca065cc333d0d5\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 65, 'created': '2018-05-08 01:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/554c655cec8c8e68b46e1d970750fb21c268af06', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nAlso add a note for update_tasks, we'll migrate them later in the role\nas well. Remove the puppet runs,  not used anymore. We'll handle the\nupdates in the role directly.\n\nDepends-On: I0da7f5f1005532b8ba68c46ed6ca065cc333d0d5\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 66, 'created': '2018-05-08 17:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d13e43009429992edb875c99ea81796c634c76a1', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 67, 'created': '2018-05-09 02:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4827ad619775c4299573d117533803ea0274243', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 68, 'created': '2018-05-09 06:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba392b68faae868b9502989677abb845fa3e7fe1', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 69, 'created': '2018-05-09 15:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f90c53dba62a1cacc85dda35cae74e4f67e0cdc5', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 70, 'created': '2018-05-09 15:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe6da78141ad801d9cdfc67d174421d24cd3a6b0', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 71, 'created': '2018-05-10 03:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fcf3d1cc50e12f5ef5680fb31e80e3aba29bd7aa', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 72, 'created': '2018-05-14 04:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b46341507b3a6654cc63b81e15e3ba85b698ebd0', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 73, 'created': '2018-05-14 18:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f26c07bcde7d887a0e5c9d57d64fa2924376a80d', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 74, 'created': '2018-05-14 18:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e91a9b4ab92e2aa72c3c0618875acf6c47f9ba54', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 75, 'created': '2018-05-14 23:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99fa9d38434f12721c4c350e9b733486819092ad', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 76, 'created': '2018-05-15 05:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fe0023f0289e0eb0fd26644fcdf86fb0face970', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 77, 'created': '2018-05-15 13:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39fa43add8e8a26dde99581c5c1d51b5d8ff9073', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 78, 'created': '2018-05-15 16:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db2881582fec18abe82d15a2fbf7ea30821b99ba', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 79, 'created': '2018-05-16 03:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2281b853dc112a438ac05f7b9a603682ec6c19f4', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 80, 'created': '2018-05-16 13:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e68e94f5cab6a18754bb92f5c66899231448133', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nDepends-On: I39c84c462793bfe819f876583782acbe0619a89d\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 81, 'created': '2018-05-17 18:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe966670c460f6340192dee0535507ed88cda61d', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 82, 'created': '2018-05-17 18:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/878f9d99aca093535f32dcfe6ced3658163693a6', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 83, 'created': '2018-05-18 15:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97f92adaf33fc27f233695b48d4473f5c07162da', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}, {'number': 84, 'created': '2018-05-20 05:20:54.000000000', 'files': ['puppet/services/docker-registry.yaml', 'puppet/services/docker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00f5019ef28771e0b3544d0aa3110d5603d7c159', 'message': ""Deploy Docker via Ansible and not Puppet\n\nDeploy Docker with Ansible instead of Puppet so later we will be able\nto prepare the registry before deploying any containerized service\nand do tasks in the middle like updating containers.\n\nRemove the Puppet run from update_tasks, we'll move these tasks later in\nansible-role-container-registry.\n\nChange-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\n""}]",11,561377,00f5019ef28771e0b3544d0aa3110d5603d7c159,240,17,84,3153,,,0,"Deploy Docker via Ansible and not Puppet

Deploy Docker with Ansible instead of Puppet so later we will be able
to prepare the registry before deploying any containerized service
and do tasks in the middle like updating containers.

Remove the Puppet run from update_tasks, we'll move these tasks later in
ansible-role-container-registry.

Change-Id: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/561377/37 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/docker.yaml'],1,d3a3ab09884a147b6db4c7f67a589a4a1e995874,docker," config_settings: {} step_config: '' external_deploy_tasks: # Of course this is just for testing now but we'll have to package this one. - name: Deploy ansible-role-container-registry git: repo: 'https://github.com/EmilienM/ansible-role-container-registry.git' dest: /usr/share/ansible/roles/container-registry become: true - name: Install, Configure and Run Docker become: true # TODO: add conditions for some of these like in the hieradata vars: debug: {get_param: Debug} deployment_user: {get_param: DeploymentUser} docker_options: {get_param: DockerOptions} insecure_registries: {get_param: DockerInsecureRegistryAddress} registry_mirror: {get_param: DockerRegistryMirror} network_options: '--bip=172.31.0.1/24' block: - include_role: name: container-registry tasks_from: docker"," config_settings: map_merge: - tripleo::profile::base::docker::configure_network: true tripleo::profile::base::docker::network_options: ""--bip=172.31.0.1/24"" tripleo::profile::base::docker::docker_options: {get_param: DockerOptions} tripleo::profile::base::docker::debug: if: - service_debug_unset - {get_param: Debug } - {get_param: DockerDebug} - if: - insecure_registry_is_empty - {} - tripleo::profile::base::docker::insecure_registries: {get_param: DockerInsecureRegistryAddress} - if: - insecure_registry_mirror_is_empty - {} - tripleo::profile::base::docker::registry_mirror: {get_param: DockerRegistryMirror} - if: - deployment_user_is_empty - {} - tripleo::profile::base::docker::deployment_user: {get_param: DeploymentUser} step_config: | include ::tripleo::profile::base::docker",23,27
openstack%2Fnova~stable%2Fqueens~I68f2074814c3ae890888a5c75fd2870bb99f0e08,openstack/nova,stable/queens,I68f2074814c3ae890888a5c75fd2870bb99f0e08,api-ref: add a note in DELETE /os-services about deleting computes,MERGED,2018-04-20 18:57:08.000000000,2018-05-20 18:35:04.000000000,2018-05-20 18:35:04.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 24441}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-20 18:57:08.000000000', 'files': ['api-ref/source/os-services.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/1b7ba3a200ff3b7d7a26c38de9135f7439caa4eb', 'message': ""api-ref: add a note in DELETE /os-services about deleting computes\n\nAs seen in I2717274bb1bd370870acbf58c03dc59cee30cc5e, if an\noperator deletes a nova-compute service via the API but fails\nto stop the actual nova-compute process, the API will delete the\nservices table and compute_nodes table records, but the nova-compute\nprocess will hit the 'update_available_resource' periodic task and\nre-create the compute node record, which at that point is orphaned\nsince it does not have an associated nova-compute service.\n\nRestarting the nova-compute service _should_ recreate the service\ntable record for that host and then the user could attempt to\ndelete the service and compute node record again via this API, but\nit's better to not have to find this out the hard way.\n\nSo this change adds a simple reminder that the nova-compute process\non the host should be stopped before deleting the compute service.\n\nWhile in here, the link to the install guide about the various\ncompute services is also fixed.\n\nChange-Id: I68f2074814c3ae890888a5c75fd2870bb99f0e08\nRelated-Bug: #1646255\n(cherry picked from commit e0c43ac7a7b9edbd3eb4921d87f476a33364549b)\n""}]",0,563233,1b7ba3a200ff3b7d7a26c38de9135f7439caa4eb,17,11,1,6873,,,0,"api-ref: add a note in DELETE /os-services about deleting computes

As seen in I2717274bb1bd370870acbf58c03dc59cee30cc5e, if an
operator deletes a nova-compute service via the API but fails
to stop the actual nova-compute process, the API will delete the
services table and compute_nodes table records, but the nova-compute
process will hit the 'update_available_resource' periodic task and
re-create the compute node record, which at that point is orphaned
since it does not have an associated nova-compute service.

Restarting the nova-compute service _should_ recreate the service
table record for that host and then the user could attempt to
delete the service and compute node record again via this API, but
it's better to not have to find this out the hard way.

So this change adds a simple reminder that the nova-compute process
on the host should be stopped before deleting the compute service.

While in here, the link to the install guide about the various
compute services is also fixed.

Change-Id: I68f2074814c3ae890888a5c75fd2870bb99f0e08
Related-Bug: #1646255
(cherry picked from commit e0c43ac7a7b9edbd3eb4921d87f476a33364549b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/563233/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/os-services.inc'],1,1b7ba3a200ff3b7d7a26c38de9135f7439caa4eb,bug/1756179,"Compute <https://docs.openstack.org/nova/latest/install/get-started-compute.html>`__.Deletes a service. If it's a ``nova-compute`` service, then the.. important:: Be sure to stop the actual ``nova-compute`` process on the physical host *before* deleting the service with this API. Failing to do so can lead to the running service re-creating orphaned **compute_nodes** table records in the database. ","Compute <https://docs.openstack.org/ocata/install-guide-obs/common/get-started-compute.html>`__.Deletes a Compute service. If it's a nova-compute service, then the",7,2
openstack%2Fnova~stable%2Fqueens~I519c5abfe24b154998f481c8a86db239a75d4729,openstack/nova,stable/queens,I519c5abfe24b154998f481c8a86db239a75d4729,Add functional test for deleting a compute service,MERGED,2018-04-20 18:51:20.000000000,2018-05-20 18:34:59.000000000,2018-05-20 18:34:59.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-20 18:51:20.000000000', 'files': ['nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bcd462e49b4d51e78e9f31c60cd9e4d9fd8f99f9', 'message': 'Add functional test for deleting a compute service\n\nThis adds a functional test which asserts the things\nrelated to bug 1756179 where deleting a compute service\ndoes not also delete the related host mapping or resource\nprovider resources.\n\nAlso related to bug 1763183 in that it should not be\npossible to delete a compute service that has instances\nrunning on it since that will mess up resource tracking\nin Placement.\n\nNOTE(mriedem): There are two changes in this backport:\n\n1. The ResourceClass fields moved in Rocky via change\n   Iea182341f9419cb514a044f76864d6bec60a3683.\n\n2. The _get_provider_inventory method was added in change\n   I5ee11274816cd9e4f0669e9e52468a29262c9020 in Rocky.\n\nChange-Id: I519c5abfe24b154998f481c8a86db239a75d4729\nRelated-Bug: #1756179\nRelated-Bug: #1763183\n(cherry picked from commit a80ac96362c8fafba1bfe71244b52ba2f082c86e)\n'}]",0,563229,bcd462e49b4d51e78e9f31c60cd9e4d9fd8f99f9,10,6,1,6873,,,0,"Add functional test for deleting a compute service

This adds a functional test which asserts the things
related to bug 1756179 where deleting a compute service
does not also delete the related host mapping or resource
provider resources.

Also related to bug 1763183 in that it should not be
possible to delete a compute service that has instances
running on it since that will mess up resource tracking
in Placement.

NOTE(mriedem): There are two changes in this backport:

1. The ResourceClass fields moved in Rocky via change
   Iea182341f9419cb514a044f76864d6bec60a3683.

2. The _get_provider_inventory method was added in change
   I5ee11274816cd9e4f0669e9e52468a29262c9020 in Rocky.

Change-Id: I519c5abfe24b154998f481c8a86db239a75d4729
Related-Bug: #1756179
Related-Bug: #1763183
(cherry picked from commit a80ac96362c8fafba1bfe71244b52ba2f082c86e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/563229/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/test_servers.py']",2,bcd462e49b4d51e78e9f31c60cd9e4d9fd8f99f9,bug/1756179," def _get_provider_inventory(self, rp_uuid): return self.placement_api.get( '/resource_providers/%s/inventories' % rp_uuid).body['inventories'] ",,118,0
openstack%2Fmetalsmith~master~I5f726023a0ff956d2950acbe43dc37da0cb5fb5b,openstack/metalsmith,master,I5f726023a0ff956d2950acbe43dc37da0cb5fb5b,CI: run a local boot test with the CentOS image,MERGED,2018-05-20 16:07:45.000000000,2018-05-20 18:33:20.000000000,2018-05-20 18:33:20.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-20 16:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/c27e91d492bae14413389fff4da19ef2560e0cff', 'message': 'CI: run a local boot test with the CentOS image\n\nChange-Id: I5f726023a0ff956d2950acbe43dc37da0cb5fb5b\n'}, {'number': 2, 'created': '2018-05-20 16:37:52.000000000', 'files': ['playbooks/integration/exercise.yaml', 'playbooks/integration/run.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/8b6e176b95ef79d3230feea88b7df18e848fdebb', 'message': 'CI: run a local boot test with the CentOS image\n\nChange-Id: I5f726023a0ff956d2950acbe43dc37da0cb5fb5b\n'}]",0,569645,8b6e176b95ef79d3230feea88b7df18e848fdebb,7,2,2,10239,,,0,"CI: run a local boot test with the CentOS image

Change-Id: I5f726023a0ff956d2950acbe43dc37da0cb5fb5b
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/45/569645/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/integration/exercise.yaml', 'playbooks/integration/run.yaml']",2,c27e91d492bae14413389fff4da19ef2560e0cff,ci-centos, vars: centos_file: CentOS-7-x86_64-GenericCloud.qcow2 - name: Download the CentOS image get_url: url: https://cloud.centos.org/centos/7/images/{{ centos_file }}.xz dest: ~/{{ centos_file }}.xz register: centos_image_result until: centos_image_result | succeeded retries: 3 delay: 10 - name: Unpack the CentOS image command: xz -d {{ centos_file }}.xz - name: Upload the CentOS image command: > openstack image create --disk-format qcow2 --file {{ centos_file }} test-centos-image extra_args: --netboot extra_args: --netboot - include: exercise.yaml vars: image: test-centos-image precreate_port: false extra_args: '',,29,1
openstack%2Fmetalsmith~master~Ic12743adaf8ce9ac255197c380c0556608e1c961,openstack/metalsmith,master,Ic12743adaf8ce9ac255197c380c0556608e1c961,CI: use find module to find an SSH public key,MERGED,2018-05-20 15:31:31.000000000,2018-05-20 17:04:14.000000000,2018-05-20 17:04:14.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-20 15:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/5a1293375c6b3c3e2918cbd31eaba18f72f7d762', 'message': 'CI: use find module to find an SSH public key\n\nAlso moves this logic to a reusable tasks file.\n\nChange-Id: Ic12743adaf8ce9ac255197c380c0556608e1c961\n'}, {'number': 2, 'created': '2018-05-20 15:43:00.000000000', 'files': ['playbooks/integration/run.yaml', 'playbooks/integration/ssh-key.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/2b6f60a6e79e5309224111d3a28fff359d2d9036', 'message': 'CI: use find module to find an SSH public key\n\nAlso moves this logic to a reusable tasks file.\n\nChange-Id: Ic12743adaf8ce9ac255197c380c0556608e1c961\n'}]",0,569642,2b6f60a6e79e5309224111d3a28fff359d2d9036,7,2,2,10239,,,0,"CI: use find module to find an SSH public key

Also moves this logic to a reusable tasks file.

Change-Id: Ic12743adaf8ce9ac255197c380c0556608e1c961
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/42/569642/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/integration/run.yaml', 'playbooks/integration/ssh-key.yaml']",2,5a1293375c6b3c3e2918cbd31eaba18f72f7d762,ci-ssh,"- name: Find a public SSH key file find: path: ~/.ssh/ pattern: id_*.pub register: ssh_key_result - name: Fail if no SSH public keys were found fail: msg: No public SSH keys found on ~/.ssh when: ssh_key_result.matched < 1 - name: Set SSH public key fact set_fact: ssh_key_file: ""{{ ssh_key_result.files[0].path }}"" ",,18,25
openstack%2Fnova~master~Id0f4027f1fffefdb90240fc484cf3c0554e576d9,openstack/nova,master,Id0f4027f1fffefdb90240fc484cf3c0554e576d9,Make instance able to lazy-load almost everything,MERGED,2018-05-17 21:30:40.000000000,2018-05-20 16:52:05.000000000,2018-05-19 01:35:46.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-17 21:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf618f91d681fb24b5bc63565668601269025893', 'message': ""Make instance able to lazy-load almost everything\n\nPreviously we had a trivial block on the lazy-load handler for instance\nthat prevented loading mundane things that couldn't be opted-out during\na query. There's no real reason for that and we already had the generic\nloader mechanism.\n\nThis removes that limit, and adjusts some of the logic in obj_load_attr()\nto continue providing the same behavior for things like id and uuid being\nmissing (which we have lots of existing coverage for). The new behavior\nof being able to load something like vm_state gets a new test, which also\nvalidates that _load_generic() loads anything else it can from the instance\nit fetches from the database, if not already set on the object initiating\nthe load.\n\nChange-Id: Id0f4027f1fffefdb90240fc484cf3c0554e576d9\n""}, {'number': 2, 'created': '2018-05-17 22:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b56bfaa8b975ed2a4fc66f9ba7356f635fc1115', 'message': ""Make instance able to lazy-load almost everything\n\nPreviously we had a trivial block on the lazy-load handler for instance\nthat prevented loading mundane things that couldn't be opted-out during\na query. There's no real reason for that and we already had the generic\nloader mechanism.\n\nThis removes that limit, and adjusts some of the logic in obj_load_attr()\nto continue providing the same behavior for things like id and uuid being\nmissing (which we have lots of existing coverage for). The new behavior\nof being able to load something like vm_state gets a new test, which also\nvalidates that _load_generic() loads anything else it can from the instance\nit fetches from the database, if not already set on the object initiating\nthe load.\n\nChange-Id: Id0f4027f1fffefdb90240fc484cf3c0554e576d9\n""}, {'number': 3, 'created': '2018-05-18 18:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4888bc064f3e01e6f66dad9e9775eccc63d18ac0', 'message': ""Make instance able to lazy-load almost everything\n\nPreviously we had a trivial block on the lazy-load handler for instance\nthat prevented loading mundane things that couldn't be opted-out during\na query. There's no real reason for that and we already had the generic\nloader mechanism.\n\nThis removes that limit, and adjusts some of the logic in obj_load_attr()\nto continue providing the same behavior for things like id and uuid being\nmissing (which we have lots of existing coverage for). The new behavior\nof being able to load something like vm_state gets a new test, which also\nvalidates that _load_generic() loads anything else it can from the instance\nit fetches from the database, if not already set on the object initiating\nthe load.\n\nChange-Id: Id0f4027f1fffefdb90240fc484cf3c0554e576d9\n""}, {'number': 4, 'created': '2018-05-18 21:36:20.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7dc4286b1294e2bb48e1239b5a02cb536dafabfb', 'message': ""Make instance able to lazy-load almost everything\n\nPreviously we had a trivial block on the lazy-load handler for instance\nthat prevented loading mundane things that couldn't be opted-out during\na query. There's no real reason for that and we already had the generic\nloader mechanism.\n\nThis removes that limit, and adjusts some of the logic in obj_load_attr()\nto continue providing the same behavior for things like id and uuid being\nmissing (which we have lots of existing coverage for). The new behavior\nof being able to load something like vm_state gets a new test, which also\nvalidates that _load_generic() loads anything else it can from the instance\nit fetches from the database, if not already set on the object initiating\nthe load.\n\nChange-Id: Id0f4027f1fffefdb90240fc484cf3c0554e576d9\n""}]",11,569267,7dc4286b1294e2bb48e1239b5a02cb536dafabfb,72,16,4,4393,,,0,"Make instance able to lazy-load almost everything

Previously we had a trivial block on the lazy-load handler for instance
that prevented loading mundane things that couldn't be opted-out during
a query. There's no real reason for that and we already had the generic
loader mechanism.

This removes that limit, and adjusts some of the logic in obj_load_attr()
to continue providing the same behavior for things like id and uuid being
missing (which we have lots of existing coverage for). The new behavior
of being able to load something like vm_state gets a new test, which also
validates that _load_generic() loads anything else it can from the instance
it fetches from the database, if not already set on the object initiating
the load.

Change-Id: Id0f4027f1fffefdb90240fc484cf3c0554e576d9
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/569267/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",2,bf618f91d681fb24b5bc63565668601269025893,gifts-for-mriedem," @mock.patch.object(objects.Instance, 'get_by_uuid') def test_load_something_unspecial(self, mock_get): inst2 = objects.Instance(vm_state=vm_states.ACTIVE, task_state=task_states.SCHEDULING) mock_get.return_value = inst2 inst = instance.Instance(context=self.context, uuid=uuids.instance) self.assertEqual(vm_states.ACTIVE, inst.vm_state) self.assertEqual(task_states.SCHEDULING, inst.task_state) mock_get.assert_called_once_with(self.context, uuid=uuids.instance, expected_attrs=['vm_state']) ",,38,11
openstack%2Fnova~master~I80dd6d08322bcedc8535f04baf2e96473f5e3aeb,openstack/nova,master,I80dd6d08322bcedc8535f04baf2e96473f5e3aeb,ProviderTree.has_inventory_changed for new fields,MERGED,2018-05-17 19:22:07.000000000,2018-05-20 08:09:39.000000000,2018-05-19 01:38:30.000000000,"[{'_account_id': 7}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-17 19:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d88222971b3946bde1069e191eeca03a985fd668', 'message': 'ProviderTree.has_inventory_changed for new fields\n\nThe has_inventory_changed method of ProviderTree is deliberately not\nautomatically reporting True if the incoming record is ""sparse"" - that\nis, for a given resource class, it only contains a subset of the keys in\nthe existing record.  For example, the caller may want to know if the\ntotal has changed, but doesn\'t care about the other fields, so may ask:\n\nptree.has_inventory_changed(uuid, {\'VCPU\': {\'total\': 3}, ...})\n\n...and has_inventory_changed will only compare the \'total\' field.\n\nHowever, we were doing the same if the incoming record contained fields\nthat were *not* in the existing record.  For example, if the current\ninventory was:\n\n{ \'VCPU\': {\n      \'total\': 8,\n      \'min_unit\': 1,\n      \'max_unit\': 8,\n      \'step_size\': 1,\n  }\n}\n\n...and the new inventory was:\n\n{ \'VCPU\': {\n      \'total\': 8,\n      \'min_unit\': 1,\n      \'max_unit\': 8,\n      \'step_size\': 1,\n      \'allocation_ratio\': 16.0,  # <== new\n      \'reserved\': 1,             # <== new\n  }\n}\n\n...the presence of the new fields was *not* enough to trigger a True\nresponse.\n\nThis is problematic because we currently expect to be able to add\nspecifically these fields - allocation_ratio and reserved - to an\ninventory record if they are not present (see [1]).\n\nWith this change set, we add a condition to automatically return True\n(inventory *has* changed) whenever the incoming (new) record contains\nfields absent from the existing record.\n\n[1] https://github.com/openstack/nova/blob/050e9202f69b6eeb23026b7350eeb8821ca9f1cc/nova/compute/resource_tracker.py#L83-L125\n\nChange-Id: I80dd6d08322bcedc8535f04baf2e96473f5e3aeb\n'}, {'number': 2, 'created': '2018-05-18 04:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dcd9e79c3b4b60cc38a9ef283f9c8b5c075646a', 'message': 'ProviderTree.has_inventory_changed for new fields\n\nThe has_inventory_changed method of ProviderTree is deliberately not\nautomatically reporting True if the incoming record is ""sparse"" - that\nis, for a given resource class, it only contains a subset of the keys in\nthe existing record.  For example, the caller may want to know if the\ntotal has changed, but doesn\'t care about the other fields, so may ask:\n\nptree.has_inventory_changed(uuid, {\'VCPU\': {\'total\': 3}, ...})\n\n...and has_inventory_changed will only compare the \'total\' field.\n\nHowever, we were doing the same if the incoming record contained fields\nthat were *not* in the existing record.  For example, if the current\ninventory was:\n\n{ \'VCPU\': {\n      \'total\': 8,\n      \'min_unit\': 1,\n      \'max_unit\': 8,\n      \'step_size\': 1,\n  }\n}\n\n...and the new inventory was:\n\n{ \'VCPU\': {\n      \'total\': 8,\n      \'min_unit\': 1,\n      \'max_unit\': 8,\n      \'step_size\': 1,\n      \'allocation_ratio\': 16.0,  # <== new\n      \'reserved\': 1,             # <== new\n  }\n}\n\n...the presence of the new fields was *not* enough to trigger a True\nresponse.\n\nThis is problematic because we currently expect to be able to add\nspecifically these fields - allocation_ratio and reserved - to an\ninventory record if they are not present (see [1]).\n\nWith this change set, we add a condition to automatically return True\n(inventory *has* changed) whenever the incoming (new) record contains\nfields absent from the existing record.\n\n[1] https://github.com/openstack/nova/blob/050e9202f69b6eeb23026b7350eeb8821ca9f1cc/nova/compute/resource_tracker.py#L83-L125\n\nPartial-Bug: #1771728\nChange-Id: I80dd6d08322bcedc8535f04baf2e96473f5e3aeb\n'}, {'number': 3, 'created': '2018-05-18 21:41:35.000000000', 'files': ['nova/compute/provider_tree.py', 'nova/tests/unit/compute/test_provider_tree.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b864d08eaf8b670cc173319d661e82111eb54f08', 'message': 'ProviderTree.has_inventory_changed for new fields\n\nThe has_inventory_changed method of ProviderTree is deliberately not\nautomatically reporting True if the incoming record is ""sparse"" - that\nis, for a given resource class, it only contains a subset of the keys in\nthe existing record.  For example, the caller may want to know if the\ntotal has changed, but doesn\'t care about the other fields, so may ask:\n\nptree.has_inventory_changed(uuid, {\'VCPU\': {\'total\': 3}, ...})\n\n...and has_inventory_changed will only compare the \'total\' field.\n\nHowever, we were doing the same if the incoming record contained fields\nthat were *not* in the existing record.  For example, if the current\ninventory was:\n\n{ \'VCPU\': {\n      \'total\': 8,\n      \'min_unit\': 1,\n      \'max_unit\': 8,\n      \'step_size\': 1,\n  }\n}\n\n...and the new inventory was:\n\n{ \'VCPU\': {\n      \'total\': 8,\n      \'min_unit\': 1,\n      \'max_unit\': 8,\n      \'step_size\': 1,\n      \'allocation_ratio\': 16.0,  # <== new\n      \'reserved\': 1,             # <== new\n  }\n}\n\n...the presence of the new fields was *not* enough to trigger a True\nresponse.\n\nThis is problematic because we currently expect to be able to add\nspecifically these fields - allocation_ratio and reserved - to an\ninventory record if they are not present (see [1]).\n\nWith this change set, we add a condition to automatically return True\n(inventory *has* changed) whenever the incoming (new) record contains\nfields absent from the existing record.\n\n[1] https://github.com/openstack/nova/blob/050e9202f69b6eeb23026b7350eeb8821ca9f1cc/nova/compute/resource_tracker.py#L83-L125\n\nPartial-Bug: #1771728\nChange-Id: I80dd6d08322bcedc8535f04baf2e96473f5e3aeb\n'}]",1,569228,b864d08eaf8b670cc173319d661e82111eb54f08,43,17,3,14070,,,0,"ProviderTree.has_inventory_changed for new fields

The has_inventory_changed method of ProviderTree is deliberately not
automatically reporting True if the incoming record is ""sparse"" - that
is, for a given resource class, it only contains a subset of the keys in
the existing record.  For example, the caller may want to know if the
total has changed, but doesn't care about the other fields, so may ask:

ptree.has_inventory_changed(uuid, {'VCPU': {'total': 3}, ...})

...and has_inventory_changed will only compare the 'total' field.

However, we were doing the same if the incoming record contained fields
that were *not* in the existing record.  For example, if the current
inventory was:

{ 'VCPU': {
      'total': 8,
      'min_unit': 1,
      'max_unit': 8,
      'step_size': 1,
  }
}

...and the new inventory was:

{ 'VCPU': {
      'total': 8,
      'min_unit': 1,
      'max_unit': 8,
      'step_size': 1,
      'allocation_ratio': 16.0,  # <== new
      'reserved': 1,             # <== new
  }
}

...the presence of the new fields was *not* enough to trigger a True
response.

This is problematic because we currently expect to be able to add
specifically these fields - allocation_ratio and reserved - to an
inventory record if they are not present (see [1]).

With this change set, we add a condition to automatically return True
(inventory *has* changed) whenever the incoming (new) record contains
fields absent from the existing record.

[1] https://github.com/openstack/nova/blob/050e9202f69b6eeb23026b7350eeb8821ca9f1cc/nova/compute/resource_tracker.py#L83-L125

Partial-Bug: #1771728
Change-Id: I80dd6d08322bcedc8535f04baf2e96473f5e3aeb
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/569228/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/provider_tree.py', 'nova/tests/unit/compute/test_provider_tree.py']",2,d88222971b3946bde1069e191eeca03a985fd668,bug/1771728," # ...but *adding* a key in the new record *should* result in changes # being recorded cn_inv['VCPU']['reserved'] = 0 self.assertTrue(pt.has_inventory_changed(cn.uuid, cn_inv)) self.assertTrue(pt.update_inventory(cn.uuid, cn_inv, generation=rp_gen)) "," 'reserved': 0,",15,4
openstack%2Fcharm-cinder-backup~master~I4d82f73b7b83d5bb597147663d424554d34d7e76,openstack/charm-cinder-backup,master,I4d82f73b7b83d5bb597147663d424554d34d7e76,Enable Bionic as a gate test,MERGED,2018-05-08 18:53:04.000000000,2018-05-20 07:11:42.000000000,2018-05-20 07:11:42.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 18:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/663909a98701f43ccb7604c7227bcb90f0ec2251', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I4d82f73b7b83d5bb597147663d424554d34d7e76\n'}, {'number': 2, 'created': '2018-05-09 16:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/a93921e4fbb20135e4a5927be415e1157eeeeebb', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I4d82f73b7b83d5bb597147663d424554d34d7e76\n'}, {'number': 3, 'created': '2018-05-11 21:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/9232a9078c884119cedded2e2086a96174fc3e1b', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I4d82f73b7b83d5bb597147663d424554d34d7e76\n'}, {'number': 4, 'created': '2018-05-16 21:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/94cdb6cb27fe67303009734057907456c6fb4347', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I4d82f73b7b83d5bb597147663d424554d34d7e76\n'}, {'number': 5, 'created': '2018-05-17 18:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/7210d075291bc4364a03b7d948a1e8df7937641e', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I4d82f73b7b83d5bb597147663d424554d34d7e76\n'}, {'number': 6, 'created': '2018-05-17 21:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/d50b9d62a7f97e281000d3aa259dbb20afc27957', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I4d82f73b7b83d5bb597147663d424554d34d7e76\n'}, {'number': 7, 'created': '2018-05-17 23:29:26.000000000', 'files': ['tests/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', '.gitignore', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/charmhelpers/core/sysctl.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/gate-basic-bionic-queens', 'tests/charmhelpers/core/unitdata.py', 'tests/gate-basic-xenial-queens', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/bb4e4912c7ac0d42ac23ed871b9d171c0df0a434', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I4d82f73b7b83d5bb597147663d424554d34d7e76\n'}]",0,566983,bb4e4912c7ac0d42ac23ed871b9d171c0df0a434,38,4,7,20805,,,0,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: I4d82f73b7b83d5bb597147663d424554d34d7e76
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/83/566983/6 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/charmhelpers/core/sysctl.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/gate-basic-bionic-queens', 'tests/charmhelpers/core/unitdata.py', 'tests/gate-basic-xenial-queens', 'tox.ini']",29,663909a98701f43ccb7604c7227bcb90f0ec2251,update-amulet-defs-bionic, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-queens --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-xenial-pike --no-destroy,978,178
openstack%2Fcharm-neutron-dynamic-routing~master~I22b81e25d0e9fc227de4e000540d350c2a635765,openstack/charm-neutron-dynamic-routing,master,I22b81e25d0e9fc227de4e000540d350c2a635765,Create DRAgentRelationAdapters,MERGED,2018-05-18 22:35:15.000000000,2018-05-20 07:06:10.000000000,2018-05-20 07:06:10.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-18 22:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/414358444926592b24410458e16825b845d12eff', 'message': 'Create DRAgentRelationAdapters\n\nOverride the amqp adapter the correct way by creating a new relation\nadapters class. Use the newer transport_url rather than the older\nrabbit_* settings for amqp messaging.\n\nChange-Id: I22b81e25d0e9fc227de4e000540d350c2a635765\n'}, {'number': 2, 'created': '2018-05-18 23:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/b7da0a4f95c52b01cbc195b2fd7fec05c739106e', 'message': 'Create DRAgentRelationAdapters\n\nOverride the amqp adapter the correct way by creating a new relation\nadapters class. Use the newer transport_url rather than the older\nrabbit_* settings for amqp messaging.\n\nChange-Id: I22b81e25d0e9fc227de4e000540d350c2a635765\n'}, {'number': 3, 'created': '2018-05-18 23:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/69e0da1bd6857026c189ac345102df274b076ec0', 'message': 'Create DRAgentRelationAdapters\n\nOverride the amqp adapter the correct way by creating a new relation\nadapters class. Use the newer transport_url rather than the older\nrabbit_* settings for amqp messaging.\n\nChange-Id: I22b81e25d0e9fc227de4e000540d350c2a635765\n'}, {'number': 4, 'created': '2018-05-18 23:56:12.000000000', 'files': ['src/lib/charm/openstack/dragent.py', '.gitreview', 'src/tox.ini', 'unit_tests/test_lib_charm_openstack_dragent.py', 'unit_tests/__init__.py', 'src/tests/tests.yaml', 'tox.ini', 'src/templates/neutron.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/dc79712d49286d4a1d7e44f94c93bcc9f04c6946', 'message': 'Create DRAgentRelationAdapters\n\nOverride the amqp adapter the correct way by creating a new relation\nadapters class. Use the newer transport_url rather than the older\nrabbit_* settings for amqp messaging.\n\nChange-Id: I22b81e25d0e9fc227de4e000540d350c2a635765\n'}]",0,569530,dc79712d49286d4a1d7e44f94c93bcc9f04c6946,18,4,4,20805,,,0,"Create DRAgentRelationAdapters

Override the amqp adapter the correct way by creating a new relation
adapters class. Use the newer transport_url rather than the older
rabbit_* settings for amqp messaging.

Change-Id: I22b81e25d0e9fc227de4e000540d350c2a635765
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/30/569530/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/dragent.py', '.gitreview', 'src/tox.ini', 'src/templates/neutron.conf']",4,414358444926592b24410458e16825b845d12eff,dragentrelationadapters,{% if amqp.transport_url -%} transport_url = {{ amqp.transport_url }} {% endif -%} ,"{% include ""parts/section-rabbitmq-oslo"" %} {% include ""parts/section-oslo-notifications"" %} ",29,11
openstack%2Fcharm-manila~master~I4e3c30a2dc5cc084149710a06a6c212b1b48459c,openstack/charm-manila,master,I4e3c30a2dc5cc084149710a06a6c212b1b48459c,Enable Bionic as a gate test,MERGED,2018-05-08 19:00:06.000000000,2018-05-20 07:05:54.000000000,2018-05-20 07:05:54.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 19:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/037929e8462849f3ae942e6959e15bb3370d5460', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I4e3c30a2dc5cc084149710a06a6c212b1b48459c\n'}, {'number': 2, 'created': '2018-05-14 16:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/7816657b956668a6a5522238fda76fa71757b040', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I4e3c30a2dc5cc084149710a06a6c212b1b48459c\n'}, {'number': 3, 'created': '2018-05-18 22:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/0b92e95a41371c72fde7c3f9700ebcd1df598e64', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I4e3c30a2dc5cc084149710a06a6c212b1b48459c\n'}, {'number': 4, 'created': '2018-05-19 01:29:09.000000000', 'files': ['src/tox.ini', 'src/tests/basic_deployment.py', 'src/tests/gate-basic-bionic-queens', 'src/templates/queens/manila.conf', 'src/tests/gate-basic-xenial-queens', 'src/lib/charm/openstack/manila.py'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/a3377912a4d7f14a4efb28a72877c3cf32d6ccad', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: I4e3c30a2dc5cc084149710a06a6c212b1b48459c\n'}]",0,566993,a3377912a4d7f14a4efb28a72877c3cf32d6ccad,23,4,4,20805,,,0,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: I4e3c30a2dc5cc084149710a06a6c212b1b48459c
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/93/566993/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tox.ini', 'src/tests/gate-basic-bionic-queens', 'src/tests/gate-basic-xenial-queens']",3,037929e8462849f3ae942e6959e15bb3370d5460,update-amulet-defs-bionic,"#!/usr/bin/env python """"""Amulet tests on a basic manila deployment on xenial-queens. """""" from basic_deployment import ManilaBasicDeployment if __name__ == '__main__': deployment = ManilaBasicDeployment(series='xenial') deployment.run_tests() ",,11,1
openstack%2Fcharm-nova-compute-proxy~master~Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595,openstack/charm-nova-compute-proxy,master,Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595,Enable Bionic as a gate test,MERGED,2018-05-08 19:01:16.000000000,2018-05-20 07:05:46.000000000,2018-05-20 07:05:46.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-08 19:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-proxy/commit/dddc739ed2e2ef86de80bac3c1b4cd400bc4d386', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595\n'}, {'number': 2, 'created': '2018-05-09 16:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-proxy/commit/bc5cf02b619e3712cfd6adcb8d114aaca39d22e5', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595\n'}, {'number': 3, 'created': '2018-05-11 23:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-proxy/commit/7c0bd809b418fc751bc53f6a1a204a6ea8f72d8b', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595\n'}, {'number': 4, 'created': '2018-05-17 18:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-proxy/commit/d1df7c43928d89c0614beb75416b33467098c12d', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595\n'}, {'number': 5, 'created': '2018-05-17 20:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-proxy/commit/f802a0c209da16ecc7c4b8f82fe14db0f2e2e7a9', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595\n'}, {'number': 6, 'created': '2018-05-18 23:13:49.000000000', 'files': ['tests/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'tests/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/network/ufw.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/charmhelpers/contrib/storage/linux/utils.py', 'tests/charmhelpers/core/sysctl.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/gate-basic-bionic-queens', 'tests/charmhelpers/core/unitdata.py', 'tests/gate-basic-xenial-queens', 'tox.ini', 'tests/charmhelpers/contrib/storage/linux/lvm.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-proxy/commit/be2ce92ca34f39b83a76b1b83ff632bebaa2b465', 'message': 'Enable Bionic as a gate test\n\nChange bionic test from dev to gate for 18.05.\n\nChange-Id: Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595\n'}]",0,567001,be2ce92ca34f39b83a76b1b83ff632bebaa2b465,33,4,6,20805,,,0,"Enable Bionic as a gate test

Change bionic test from dev to gate for 18.05.

Change-Id: Ibd9e14eaccc203f5c3c777a86c7e3b98a8ea2595
",git fetch https://review.opendev.org/openstack/charm-nova-compute-proxy refs/changes/01/567001/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'tests/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/network/ufw.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/charmhelpers/contrib/storage/linux/utils.py', 'tests/charmhelpers/core/sysctl.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/gate-basic-bionic-queens', 'tests/charmhelpers/core/unitdata.py', 'tests/gate-basic-xenial-queens', 'tox.ini', 'tests/charmhelpers/contrib/storage/linux/lvm.py']",36,dddc739ed2e2ef86de80bac3c1b4cd400bc4d386,update-amulet-defs-bionic," def create_logical_volume(lv_name, volume_group, size=None): ''' Create a new logical volume in an existing volume group :param lv_name: str: name of logical volume to be created. :param volume_group: str: Name of volume group to use for the new volume. :param size: str: Size of logical volume to create (100% if not supplied) :raises subprocess.CalledProcessError: in the event that the lvcreate fails. ''' if size: check_call([ 'lvcreate', '--yes', '-L', '{}'.format(size), '-n', lv_name, volume_group ]) # create the lv with all the space available, this is needed because the # system call is different for LVM else: check_call([ 'lvcreate', '--yes', '-l', '100%FREE', '-n', lv_name, volume_group ])",,1123,182
openstack%2Fnova~master~I9251287451bc2f800ef4a230c3c01598f37b5ad3,openstack/nova,master,I9251287451bc2f800ef4a230c3c01598f37b5ad3,PowerVM Driver: Localdisk,MERGED,2018-03-02 17:47:15.000000000,2018-05-20 06:26:36.000000000,2018-05-19 01:38:35.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16710}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-02 17:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/817e36e2688ba06ed50bcc04a8720569e8778c25', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-virt-rocky\n'}, {'number': 2, 'created': '2018-03-02 21:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61c8ecabd27b101d5d0259568446e8e1cfabdc3b', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-virt-rocky\n'}, {'number': 3, 'created': '2018-03-02 21:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e1be59b2c76a972d434c3b8aa83624578a13411', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-virt-rocky\n'}, {'number': 4, 'created': '2018-03-05 19:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00dd2bd1b832af5bcf91867dce6ef66505c6cd31', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-virt-rocky\n'}, {'number': 5, 'created': '2018-03-05 20:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9923de92f6293219e0c7104d07ef103c2ca630f6', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-virt-rocky\n'}, {'number': 6, 'created': '2018-03-06 16:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d11fd75e45b0cff0e7c6f2a9518823392f3ded6', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-virt-rocky\n'}, {'number': 7, 'created': '2018-03-07 16:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab8aaf7db777d6b59f6af9ff045395ef0147e650', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-virt-rocky\n'}, {'number': 8, 'created': '2018-03-07 16:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da8ea24cd4f9260327ff2322ac38dcd8b8a63b76', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-virt-rocky\n'}, {'number': 9, 'created': '2018-03-21 19:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65676d652fc20ea6731e898c25f8617075dfb983', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-virt-rocky\n'}, {'number': 10, 'created': '2018-03-21 20:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c3412b9439a29620c2f72f06a333663097bedc2', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-virt-rocky\n'}, {'number': 11, 'created': '2018-03-21 20:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a398c732472ccc5df509efd94124b7b161288f1e', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 12, 'created': '2018-03-26 16:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2307cd140da951c50c74ce818e74792ce6253d00', 'message': 'WIP: PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 13, 'created': '2018-03-26 18:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47935cc78de29360635208a72d58ce6941382296', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 14, 'created': '2018-03-31 21:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab7e5d6338719fa07caf8d29e9b5e00c7253243f', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 15, 'created': '2018-03-31 22:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2756258a9b4ab85ef37ab75e55bcceabb2d3ed7', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 16, 'created': '2018-04-02 20:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65a898c24e5326e58c15b3383ab7296a37eba605', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 17, 'created': '2018-04-02 20:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65925194c346b097f0a68d684f1e2e01bf22e6b1', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 18, 'created': '2018-04-09 14:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4257f54e42685c9b9ded0d6a73bb9773bee5ce3', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 19, 'created': '2018-04-10 21:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/575ad9308399b353a99bc71cab788745e0ce09a2', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 20, 'created': '2018-04-11 17:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1afe4faefa79d43cf0690901f8bed558c624f22c', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 21, 'created': '2018-04-11 19:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb3e96abd1e6117bef5803548c8d4f512b98db85', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 22, 'created': '2018-04-12 18:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/407a9da29343e5305ef6251951a582015e35716d', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 23, 'created': '2018-04-12 21:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc59073cd453197bf8db8cbcabe8fbf7ece46276', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 24, 'created': '2018-04-24 15:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e124b5ec217636a3631c0695c5f695bfd0cb755', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 25, 'created': '2018-04-25 19:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6337ad489102cde132dbc6bbe41702e652b30d79', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 26, 'created': '2018-05-09 20:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ae3ddba04998266b8cedc6ed41a467a9baa6cb7', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 27, 'created': '2018-05-16 16:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3888b403197edc1de3efe6dac0d9d1194a0be728', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 28, 'created': '2018-05-16 18:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ac880275f0099746cab998b9889eeb9303ef124', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 29, 'created': '2018-05-16 19:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f01703154c4cd165fe4e334d3167e2cf1a53565', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 30, 'created': '2018-05-16 19:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7814f61cc62fa3d6c995ff15ccdc0762f5fa3fa', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 31, 'created': '2018-05-17 16:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd541a19587f0730ed60d071ed5314c79c260811', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 32, 'created': '2018-05-18 15:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4db67f39499a35c6f2acdd7b10e5c5c6b693ed4', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 33, 'created': '2018-05-18 16:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfb475f08354788b9fc2cefb52ef2dbefbc6e405', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}, {'number': 34, 'created': '2018-05-18 21:38:09.000000000', 'files': ['nova/tests/unit/virt/powervm/disk/test_localdisk.py', 'nova/exception.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'releasenotes/notes/powervm-localdisk-ccdf2347226303a8.yaml', 'nova/virt/powervm/disk/localdisk.py', 'doc/source/user/support-matrix.ini', 'nova/conf/powervm.py', 'nova/virt/powervm/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/026c2a61d08d6f2202e417a70313d182fdba3f45', 'message': 'PowerVM Driver: Localdisk\n\nAdd PowerVM Driver support for local ephemeral disk.\n\nChange-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3\nBlueprint: powervm-localdisk\n'}]",119,549300,026c2a61d08d6f2202e417a70313d182fdba3f45,364,21,34,16710,,,0,"PowerVM Driver: Localdisk

Add PowerVM Driver support for local ephemeral disk.

Change-Id: I9251287451bc2f800ef4a230c3c01598f37b5ad3
Blueprint: powervm-localdisk
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/549300/33 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/powervm/disk/localdisk.py', 'nova/virt/powervm/disk/driver.py']",3,817e36e2688ba06ed50bcc04a8720569e8778c25,bp/powervm-localdisk,"from oslo_utils import units @staticmethod def get_name_by_uuid(disk_type, uuid, short=False): """"""Generate a name for a DiskType using a given uuid. :param disk_type: One of the DiskType enum values. :param uuid: The uuid to use for the name :param short: If True the generate name will be limited to 15 characters. If False it will be limited by the API. :return: A name base off of disk_type and uuid. """""" prefix = '%s_' % (disk_type[0] if short else disk_type) return pvm_u.sanitize_file_name_for_api( uuid, prefix=prefix, max_len=pvm_const.MaxLen.VDISK_NAME if short else pvm_const.MaxLen.FILENAME_DEFAULT) @staticmethod def _disk_gb_to_bytes(size_gb, floor=None): """"""Convert a GB size (usually of a disk) to bytes, with a minimum. :param size_gb: GB size to convert :param floor: The minimum value to return. If specified, and the converted size_gb is smaller, this value will be returned instead. :return: A size in bytes. """""" disk_bytes = size_gb * units.Gi if floor is not None: if disk_bytes < floor: disk_bytes = floor return disk_bytes def extend_disk(self, instance, disk_info, size): """"""Extends the disk. :param instance: instance to extend the disk for. :param disk_info: dictionary with disk info. :param size: the new size in gb. """""" raise NotImplementedError()",,366,0
openstack%2Fsenlin~master~I0a74d3d02b031fa2e0b50419dd9d5f9494910be2,openstack/senlin,master,I0a74d3d02b031fa2e0b50419dd9d5f9494910be2,Replace Chinese punctuation with English punctuation,MERGED,2018-05-17 04:29:15.000000000,2018-05-20 06:14:02.000000000,2018-05-20 06:14:02.000000000,"[{'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 25674}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-05-17 04:29:15.000000000', 'files': ['doc/specs/lifecycle-hook.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/4aed9e951b31e6808446d17e5f44cd025895a9dc', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input method.\nWhen read from english context, it makes some confusion.\n\nChange-Id: I0a74d3d02b031fa2e0b50419dd9d5f9494910be2\n'}]",0,569009,4aed9e951b31e6808446d17e5f44cd025895a9dc,10,6,1,27565,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input method.
When read from english context, it makes some confusion.

Change-Id: I0a74d3d02b031fa2e0b50419dd9d5f9494910be2
",git fetch https://review.opendev.org/openstack/senlin refs/changes/09/569009/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/specs/lifecycle-hook.rst'],1,4aed9e951b31e6808446d17e5f44cd025895a9dc,fix_punctuation, not been completed. A 'location' header is included in the, not been completed. A location header is included in the,1,1
openstack%2Fhorizon~master~I6b2158f80826a23611bd6ae15285a8acedeb0925,openstack/horizon,master,I6b2158f80826a23611bd6ae15285a8acedeb0925,[trivial] Fixes a typo,MERGED,2018-05-20 00:22:44.000000000,2018-05-20 05:32:16.000000000,2018-05-20 05:32:16.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-20 00:22:44.000000000', 'files': ['openstack_dashboard/api/neutron.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a3cc0625a68ffbe5aa6095a94ef3ba36e1383651', 'message': '[trivial] Fixes a typo\n\nauto_alloocated_network -> auto_allocated_network\n\nTrivialFix\n\nChange-Id: I6b2158f80826a23611bd6ae15285a8acedeb0925\n'}]",0,569613,a3cc0625a68ffbe5aa6095a94ef3ba36e1383651,6,2,1,14482,,,0,"[trivial] Fixes a typo

auto_alloocated_network -> auto_allocated_network

TrivialFix

Change-Id: I6b2158f80826a23611bd6ae15285a8acedeb0925
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/569613/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/neutron.py'],1,a3cc0625a68ffbe5aa6095a94ef3ba36e1383651,fix-typo," '""auto_allocated_network"".')) '""auto_allocated_network"".'))"," '""auto_alloocated_network"".')) '""auto_alloocated_network"".'))",2,2
openstack%2Fnova~master~I941a8f4b321e4c90a45f7d9fccb74489fae0d62d,openstack/nova,master,I941a8f4b321e4c90a45f7d9fccb74489fae0d62d,Update placement upgrade docs for nova-api dependency on placement,MERGED,2018-05-16 18:31:06.000000000,2018-05-20 04:41:59.000000000,2018-05-19 01:55:37.000000000,"[{'_account_id': 6062}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-16 18:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3686d3dc1de7af6d3517b94be33f152f5918abc6', 'message': 'Update placement upgrade docs for nova-api dependency on placement\n\nChange If507e23f0b7e5fa417041c3870d77786498f741d makes nova-api\ndependent on placement for deleting an instance when the nova-compute\nservice on which that instance is running is down, also known as\n""local delete"".\n\nChange I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 makes nova-api\ndependent on placement for deleting a nova-compute service record.\n\nBoth changes are idempotent if nova-api isn\'t configured to use\nplacement, but warnings will show up in the logs.\n\nThis change updates the upgrade docs to mention the new dependency.\n\nChange-Id: I941a8f4b321e4c90a45f7d9fccb74489fae0d62d\nRelated-Bug: #1679750\nRelated-Bug: #1756179\n'}, {'number': 2, 'created': '2018-05-18 23:06:43.000000000', 'files': ['doc/source/user/placement.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/3abd5f5797737b54c10ea85d4b833aff054d1bee', 'message': 'Update placement upgrade docs for nova-api dependency on placement\n\nChange If507e23f0b7e5fa417041c3870d77786498f741d makes nova-api\ndependent on placement for deleting an instance when the nova-compute\nservice on which that instance is running is down, also known as\n""local delete"".\n\nChange I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 makes nova-api\ndependent on placement for deleting a nova-compute service record.\n\nBoth changes are idempotent if nova-api isn\'t configured to use\nplacement, but warnings will show up in the logs.\n\nThis change updates the upgrade docs to mention the new dependency.\n\nChange-Id: I941a8f4b321e4c90a45f7d9fccb74489fae0d62d\nRelated-Bug: #1679750\nRelated-Bug: #1756179\n'}]",0,568925,3abd5f5797737b54c10ea85d4b833aff054d1bee,23,11,2,6873,,,0,"Update placement upgrade docs for nova-api dependency on placement

Change If507e23f0b7e5fa417041c3870d77786498f741d makes nova-api
dependent on placement for deleting an instance when the nova-compute
service on which that instance is running is down, also known as
""local delete"".

Change I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 makes nova-api
dependent on placement for deleting a nova-compute service record.

Both changes are idempotent if nova-api isn't configured to use
placement, but warnings will show up in the logs.

This change updates the upgrade docs to mention the new dependency.

Change-Id: I941a8f4b321e4c90a45f7d9fccb74489fae0d62d
Related-Bug: #1679750
Related-Bug: #1756179
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/568925/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/placement.rst'],1,3686d3dc1de7af6d3517b94be33f152f5918abc6,bug/1679750,* The ``nova-api`` service now requires the ``[placement]`` section to be configured in nova.conf if you are using a separate config file just for that service. This is because the ``nova-api`` service now needs to talk to the placement service in order to (1) delete resource provider allocations when deleting an instance and the ``nova-compute`` service on which that instance is running is down and (2) delete a ``nova-compute`` service record via the ``DELETE /os-services/{service_id}`` API. This change is idempotent if ``[placement]`` is not configured in ``nova-api`` but it will result in new warnings in the logs until configured.,,9,0
openstack%2Fopenstack-helm~master~Ia7725cd41b578730b853cbedaa97f28ff9806936,openstack/openstack-helm,master,Ia7725cd41b578730b853cbedaa97f28ff9806936,Add prometheus memcached exporter,MERGED,2018-03-01 19:48:06.000000000,2018-05-20 01:41:17.000000000,2018-05-20 01:41:17.000000000,"[{'_account_id': 20466}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-03-01 19:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe548bdb49fe0a36a062f39bc3a60007574c70ea', 'message': 'WIP: Add prometheus memcached exporter\n\nThis adds a prometheus memcached exporter to the memcached chart\nand disables it by default\n\nChange-Id: Ia7725cd41b578730b853cbedaa97f28ff9806936\n'}, {'number': 2, 'created': '2018-05-15 21:38:36.000000000', 'files': ['memcached/templates/monitoring/prometheus/exporter-service.yaml', 'tools/deployment/armada/multinode/armada-osh.yaml', 'memcached/templates/monitoring/prometheus/exporter-deployment.yaml', 'memcached/values.yaml', 'memcached/templates/monitoring/prometheus/bin/_memcached-exporter.sh.tpl', 'memcached/templates/deployment.yaml', 'memcached/templates/monitoring/prometheus/exporter-configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e39a1ba75046b96c848e23bfb27e5a3be2545eca', 'message': 'Add prometheus memcached exporter\n\nThis adds a prometheus memcached exporter to the memcached chart\nand disables it by default\n\nChange-Id: Ia7725cd41b578730b853cbedaa97f28ff9806936\n'}]",0,549032,e39a1ba75046b96c848e23bfb27e5a3be2545eca,10,4,2,17591,,,0,"Add prometheus memcached exporter

This adds a prometheus memcached exporter to the memcached chart
and disables it by default

Change-Id: Ia7725cd41b578730b853cbedaa97f28ff9806936
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/549032/1 && git format-patch -1 --stdout FETCH_HEAD,"['memcached/templates/monitoring/prometheus/exporter-service.yaml', 'tools/deployment/armada/multinode/armada-osh.yaml', 'memcached/templates/monitoring/prometheus/bin/_memcached-exporter.sh.tpl', 'memcached/templates/monitoring/prometheus/exporter-deployment.yaml', 'memcached/values.yaml', 'memcached/templates/deployment.yaml', 'memcached/templates/monitoring/prometheus/exporter-configmap-bin.yaml']",7,fe548bdb49fe0a36a062f39bc3a60007574c70ea,memcached-exporter,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if and .Values.manifests.monitoring.prometheus.configmap_bin .Values.monitoring.prometheus.enabled }} {{- $envAll := . }} --- apiVersion: v1 kind: ConfigMap metadata: name: {{ printf ""%s-%s"" $envAll.Release.Name ""memcached-exporter-bin"" | quote }} data: memcached-exporter.sh: | {{ tuple ""bin/_memcached-exporter.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }} {{- end }} ",,275,27
openstack%2Fopenstack-helm~master~Ifc9c1ceda5b62532a44b83733aad9755165f5b55,openstack/openstack-helm,master,Ifc9c1ceda5b62532a44b83733aad9755165f5b55,Fix task names in dev deploy playbooks,MERGED,2018-05-17 13:49:08.000000000,2018-05-20 01:37:58.000000000,2018-05-20 01:37:58.000000000,"[{'_account_id': 14151}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-17 13:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/582422d583e62336a3b31c3e94b379ec633d90de', 'message': 'Fix task names in dev deploy playbooks\n\nThe task names in the dev deploy playbooks for deploying k8s\nwere mistakenly named after the previous tasks. This fixes them\nappropriately\n\nChange-Id: Ifc9c1ceda5b62532a44b83733aad9755165f5b55\n'}, {'number': 2, 'created': '2018-05-18 17:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5badd60853b8cbae24df49e28cc2729804efc1e5', 'message': 'Fix task names in dev deploy playbooks\n\nThe task names in the dev deploy playbooks for deploying k8s\nwere mistakenly named after the previous tasks. This fixes them\nappropriately\n\nChange-Id: Ifc9c1ceda5b62532a44b83733aad9755165f5b55\n'}, {'number': 3, 'created': '2018-05-19 17:04:45.000000000', 'files': ['tools/gate/playbooks/dev-deploy-ceph.yaml', 'tools/gate/playbooks/dev-deploy-nfs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3a86bc9a64d5f75c7680b3778b8daba787178565', 'message': 'Fix task names in dev deploy playbooks\n\nThe task names in the dev deploy playbooks for deploying k8s\nwere mistakenly named after the previous tasks. This fixes them\nappropriately\n\nChange-Id: Ifc9c1ceda5b62532a44b83733aad9755165f5b55\n'}]",0,569118,3a86bc9a64d5f75c7680b3778b8daba787178565,18,5,3,17591,,,0,"Fix task names in dev deploy playbooks

The task names in the dev deploy playbooks for deploying k8s
were mistakenly named after the previous tasks. This fixes them
appropriately

Change-Id: Ifc9c1ceda5b62532a44b83733aad9755165f5b55
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/18/569118/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/dev-deploy-ceph.yaml', 'tools/gate/playbooks/dev-deploy-nfs.yaml']",2,582422d583e62336a3b31c3e94b379ec633d90de,fix/playbook_steps, - name: Deploy Kubernetes, - name: Deploy Required packages,2,2
openstack%2Fopenstack-ansible~master~I1a0df433c30236f300aeb5659c86299c2d41b637,openstack/openstack-ansible,master,I1a0df433c30236f300aeb5659c86299c2d41b637,zuul: Make openSUSE metal jobs voting,MERGED,2018-05-16 08:04:30.000000000,2018-05-20 00:37:36.000000000,2018-05-20 00:37:36.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-16 08:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d55950e5612a5f7fad750e03ed3cb73086e35e54', 'message': 'zuul: Make openSUSE metal jobs voting\n\nChange-Id: I1a0df433c30236f300aeb5659c86299c2d41b637\n'}, {'number': 2, 'created': '2018-05-16 10:12:37.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ffad8ebb4d7ce64e4c7c05cfd39e61af77d7fbb5', 'message': 'zuul: Make openSUSE metal jobs voting\n\nChange-Id: I1a0df433c30236f300aeb5659c86299c2d41b637\n'}]",0,568778,ffad8ebb4d7ce64e4c7c05cfd39e61af77d7fbb5,10,3,2,23163,,,0,"zuul: Make openSUSE metal jobs voting

Change-Id: I1a0df433c30236f300aeb5659c86299c2d41b637
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/568778/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,d55950e5612a5f7fad750e03ed3cb73086e35e54,enable-aio-metal-opensuse,, voting: false,1,1
