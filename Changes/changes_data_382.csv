id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ffreezer-tempest-plugin~master~I7bb637a09d5e6ce11b605333e043591876d3b566,openstack/freezer-tempest-plugin,master,I7bb637a09d5e6ce11b605333e043591876d3b566,Restore  tempest ci gate test,MERGED,2019-06-01 06:05:15.000000000,2019-06-01 07:44:39.000000000,2019-06-01 07:44:39.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-01 06:05:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/41acbd8ed78a2841f9f97cd44b8e0921aa9d605e', 'message': 'Restore  tempest ci gate test\n\nThe Falcon2.0 issues are fixed. Restore tempest ci gate test.\n\nChange-Id: I7bb637a09d5e6ce11b605333e043591876d3b566\n'}]",0,662597,41acbd8ed78a2841f9f97cd44b8e0921aa9d605e,6,2,1,21069,,,0,"Restore  tempest ci gate test

The Falcon2.0 issues are fixed. Restore tempest ci gate test.

Change-Id: I7bb637a09d5e6ce11b605333e043591876d3b566
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/97/662597/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,41acbd8ed78a2841f9f97cd44b8e0921aa9d605e,bugfix4, - freezer-tempest-basic - freezer-tempest-client - freezer-tempest-basic-sql - freezer-tempest-basic - freezer-tempest-client - freezer-tempest-basic-sql, - freezer-tempest-basic: voting: false - freezer-tempest-client: voting: false - freezer-tempest-basic-sql: voting: false - freezer-tempest-basic: voting: false - freezer-tempest-client: voting: false - freezer-tempest-basic-sql: voting: false ,6,12
openstack%2Fpython-freezerclient~master~I713b33a9ecb2c1767e09ff8bc6568b146d859909,openstack/python-freezerclient,master,I713b33a9ecb2c1767e09ff8bc6568b146d859909,Dropping the py35 testing,MERGED,2019-04-14 21:12:17.000000000,2019-06-01 07:24:12.000000000,2019-06-01 07:24:12.000000000,"[{'_account_id': 8556}, {'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-14 21:12:17.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/02e2e163d2e0cc893f2904c2d0f484ae4605eb39', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I713b33a9ecb2c1767e09ff8bc6568b146d859909\n'}]",0,652302,02e2e163d2e0cc893f2904c2d0f484ae4605eb39,14,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I713b33a9ecb2c1767e09ff8bc6568b146d859909
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/02/652302/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,02e2e163d2e0cc893f2904c2d0f484ae4605eb39,dropping-py35-testing,"envlist = py27,py36,pep8,pylint,docs","envlist = py27,py35,py36,pep8,pylint,docs",1,3
openstack%2Foperations-guide~master~I967e88aa6d978d1eb08a093cf1b509ab143096c6,openstack/operations-guide,master,I967e88aa6d978d1eb08a093cf1b509ab143096c6,Imported Translations from Zanata,MERGED,2019-06-01 06:39:15.000000000,2019-06-01 07:22:50.000000000,2019-06-01 07:22:50.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-01 06:39:15.000000000', 'files': ['doc/source/locale/ja/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/82eb2ab2b51af5d6a7f21f00bdd1d137dba51c4d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I967e88aa6d978d1eb08a093cf1b509ab143096c6\n'}]",0,662599,82eb2ab2b51af5d6a7f21f00bdd1d137dba51c4d,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I967e88aa6d978d1eb08a093cf1b509ab143096c6
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/99/662599/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/ja/LC_MESSAGES/doc.po'],1,82eb2ab2b51af5d6a7f21f00bdd1d137dba51c4d,zanata/translations,"""POT-Creation-Date: 2019-04-26 11:16+0000\n""""PO-Revision-Date: 2019-05-31 08:31+0000\n""msgid """" ""Go back to the first step and try restarting the RabbitMQ service again. If "" ""you still have errors, remove the contents in the ``/var/lib/rabbitmq/mnesia/"" ""`` directory between stopping and starting the RabbitMQ service."" msgstr """" ""初めのステップに戻り、RabbitMQサービスをまた再起動しましょう。もしまだエラー"" ""が出る場合は、RabbitMQサービスの停止と起動の間に ``/var/lib/rabbitmq/mnesia/"" ""`` ディレクトリ内のコンテンツを直接削除しましょう。"" ""If the service refuses to stop, then run the :command:`pkill` command to "" ""stop the service, then restart the service:"" msgstr """" ""もしサービスが停止できない場合は、 :command:`pkill` コマンドでサービスを停止"" ""しましょう。その後サービスを再起動します。"" msgid """"msgid """" ""It is quite common for the RabbitMQ service to hang when it is restarted or "" ""stopped. Therefore, it is highly recommended that you manually restart "" ""RabbitMQ on each controller node."" msgstr """" ""RabbitMQサービスを再起動するか止めた際にハングすることはすっかり一般的になっ"" ""ています。このため、各コントロールノード上のRabbitMQを手動で再起動することを"" ""強くお勧めします。"" ""Restart the RabbitMQ service on the first controller node. The :command:"" ""`service rabbitmq-server restart` command may not work in certain "" ""situations, so it is best to use:"" msgstr """" ""最初のコントローラノード上でRabbitMQサービスを再起動します。 :command:"" ""`service rabbitmq-server restart` 再起動コマンドはある状況下ではうまく動作し"" ""ないかもしれません、ですので次のコマンドを使うと良いでしょう。"" msgid """"msgid """" ""Since the Liberty release, OpenStack services will automatically recover "" ""from a RabbitMQ outage. You should only consider restarting OpenStack "" ""services after checking if RabbitMQ heartbeat functionality is enabled, and "" ""if OpenStack services are not picking up messages from RabbitMQ queues."" msgstr """" ""Libertyリリース以降、OpenStackサービスは自動でRabbitMQの停止から復旧するよう"" ""になりました。RabbitMQハートビート機能がオンになっているかどうか、また"" ""OpenStackサービスがRabbtMQのキューからメッセージを取得していないこと、を確認"" ""した後にのみOpenStackサービスの再起動を考慮すればいいでしょう。"" ""The RabbitMQ service name may vary depending on your operating system or "" ""vendor who supplies your RabbitMQ service."" msgstr """" ""RabbitMQサービス名はあなたのオペレーションシステムかRabbitMQサービスを提供し"" ""ているベンダに強く依存しているかもしれません。"" msgid """"","""POT-Creation-Date: 2019-04-23 15:20+0000\n""""PO-Revision-Date: 2019-01-24 07:37+0000\n""",54,2
openstack%2Fopenstackdocstheme~master~I386f3d81ebf496b8ddac55fd801b1cab68680fbf,openstack/openstackdocstheme,master,I386f3d81ebf496b8ddac55fd801b1cab68680fbf,Note External Link Helper is not compatible with project only master brach,MERGED,2019-05-29 12:49:20.000000000,2019-06-01 06:52:13.000000000,2019-05-30 16:37:59.000000000,"[{'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-05-29 12:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/9181d9a08ab57e27bac8ad8ede616f429415a35e', 'message': 'Note External Link Helper is not compatible with project only master brach\n\nChange-Id: I386f3d81ebf496b8ddac55fd801b1cab68680fbf\n'}, {'number': 2, 'created': '2019-05-29 12:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/01383876a60531e35ffe27daec1ae861e754a0ae', 'message': 'Note External Link Helper is not compatible with project only master brach\n\nChange-Id: I386f3d81ebf496b8ddac55fd801b1cab68680fbf\n'}, {'number': 3, 'created': '2019-05-30 07:17:48.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/d32531868b33bff3a1769227e623362c5a836233', 'message': 'Note External Link Helper is not compatible with project only master brach\n\nChange-Id: I386f3d81ebf496b8ddac55fd801b1cab68680fbf\n'}]",11,661970,d32531868b33bff3a1769227e623362c5a836233,22,5,3,19779,,,0,"Note External Link Helper is not compatible with project only master brach

Change-Id: I386f3d81ebf496b8ddac55fd801b1cab68680fbf
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/70/661970/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,9181d9a08ab57e27bac8ad8ede616f429415a35e,external-link,".. note:: If there is only master branch exists in projec, do not use this feature. ",,4,0
openstack%2Ffreezer-tempest-plugin~master~Id9ca3299fdf58135a0fcf0da3570cdce2152ad95,openstack/freezer-tempest-plugin,master,Id9ca3299fdf58135a0fcf0da3570cdce2152ad95,Update api.test_api_jobs test cases,MERGED,2019-06-01 03:47:07.000000000,2019-06-01 05:45:37.000000000,2019-06-01 05:45:36.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-01 03:47:07.000000000', 'files': ['freezer_tempest_plugin/tests/freezer_api/api/test_api_jobs.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/05c87ad33a9360eb515c1cd7aa0a359389b3e041', 'message': 'Update api.test_api_jobs test cases\n\nRemove invalid paramters of offest&limit test  because of  falcon2.0 api is modified .\n\nChange-Id: Id9ca3299fdf58135a0fcf0da3570cdce2152ad95\n'}]",0,662594,05c87ad33a9360eb515c1cd7aa0a359389b3e041,6,2,1,21069,,,0,"Update api.test_api_jobs test cases

Remove invalid paramters of offest&limit test  because of  falcon2.0 api is modified .

Change-Id: Id9ca3299fdf58135a0fcf0da3570cdce2152ad95
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/94/662594/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_tempest_plugin/tests/freezer_api/api/test_api_jobs.py'],1,05c87ad33a9360eb515c1cd7aa0a359389b3e041,bugfix3," # for bad_limit in [0, -1, -2]: # self.assertRaises(exceptions.BadRequest, # self.freezer_api_client.get_jobs, # limit=bad_limit) # for bad_offset in [-1, -2]: # self.assertRaises(exceptions.BadRequest, # self.freezer_api_client.get_jobs, # offset=bad_offset)"," for bad_limit in [0, -1, -2]: self.assertRaises(exceptions.BadRequest, self.freezer_api_client.get_jobs, limit=bad_limit) for bad_offset in [-1, -2]: self.assertRaises(exceptions.BadRequest, self.freezer_api_client.get_jobs, offset=bad_offset)",8,8
openstack%2Ffreezer-tempest-plugin~master~I848752a1ba6e80c017c90fe1aeaf7434ab79fac2,openstack/freezer-tempest-plugin,master,I848752a1ba6e80c017c90fe1aeaf7434ab79fac2,Update api.test_api_sessions test cases,MERGED,2019-06-01 03:50:32.000000000,2019-06-01 05:45:33.000000000,2019-06-01 05:45:33.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-01 03:50:32.000000000', 'files': ['freezer_tempest_plugin/tests/freezer_api/api/test_api_sessions.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/b7bd6e46b9047c86a4b4ecc2fe6970af5b25d72c', 'message': 'Update api.test_api_sessions test cases\n\nRemove invalid paramters of offest&limit test  because of  falcon2.0 api is modified .\n\nChange-Id: I848752a1ba6e80c017c90fe1aeaf7434ab79fac2\n'}]",0,662595,b7bd6e46b9047c86a4b4ecc2fe6970af5b25d72c,6,2,1,21069,,,0,"Update api.test_api_sessions test cases

Remove invalid paramters of offest&limit test  because of  falcon2.0 api is modified .

Change-Id: I848752a1ba6e80c017c90fe1aeaf7434ab79fac2
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/95/662595/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_tempest_plugin/tests/freezer_api/api/test_api_sessions.py'],1,b7bd6e46b9047c86a4b4ecc2fe6970af5b25d72c,bugfix4,"# from tempest.lib import exceptions # for bad_limit in [0, -1, -2]: # self.assertRaises(exceptions.BadRequest, # self.freezer_api_client.get_sessions, # limit=bad_limit) # for bad_offset in [-1, -2]: # self.assertRaises(exceptions.BadRequest, # self.freezer_api_client.get_sessions, # offset=bad_offset)","from tempest.lib import exceptions for bad_limit in [0, -1, -2]: self.assertRaises(exceptions.BadRequest, self.freezer_api_client.get_sessions, limit=bad_limit) for bad_offset in [-1, -2]: self.assertRaises(exceptions.BadRequest, self.freezer_api_client.get_sessions, offset=bad_offset)",9,9
openstack%2Ffreezer-tempest-plugin~master~I474b13ce20e8cb8ba0a582bae034486450d24861,openstack/freezer-tempest-plugin,master,I474b13ce20e8cb8ba0a582bae034486450d24861,Update api.test_api_clients test cases,MERGED,2019-06-01 03:43:48.000000000,2019-06-01 05:45:33.000000000,2019-06-01 05:45:32.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-01 03:43:48.000000000', 'files': ['freezer_tempest_plugin/tests/freezer_api/api/test_api_clients.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/d0adf6b3c7bc9167cc2effce37c5c2cb14d3a85c', 'message': 'Update api.test_api_clients test cases\n\nRemove invalid paramters of offest&limit test  because of falcon2.0 api is modified .\n\nChange-Id: I474b13ce20e8cb8ba0a582bae034486450d24861\n'}]",0,662593,d0adf6b3c7bc9167cc2effce37c5c2cb14d3a85c,6,2,1,21069,,,0,"Update api.test_api_clients test cases

Remove invalid paramters of offest&limit test  because of falcon2.0 api is modified .

Change-Id: I474b13ce20e8cb8ba0a582bae034486450d24861
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/93/662593/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_tempest_plugin/tests/freezer_api/api/test_api_clients.py'],1,d0adf6b3c7bc9167cc2effce37c5c2cb14d3a85c,bugfix2,"# from tempest.lib import exceptions # for bad_limit in [0, -1, -2]: # self.assertRaises(exceptions.BadRequest, # self.freezer_api_client.get_clients, # limit=bad_limit) # for bad_offset in [-1, -2]: # self.assertRaises(exceptions.BadRequest, # self.freezer_api_client.get_clients, # offset=bad_offset)","from tempest.lib import exceptions for bad_limit in [0, -1, -2]: self.assertRaises(exceptions.BadRequest, self.freezer_api_client.get_clients, limit=bad_limit) for bad_offset in [-1, -2]: self.assertRaises(exceptions.BadRequest, self.freezer_api_client.get_clients, offset=bad_offset)",9,9
openstack%2Ffreezer-tempest-plugin~master~I36758c3c4a8263767091c254b5e453a3cf075268,openstack/freezer-tempest-plugin,master,I36758c3c4a8263767091c254b5e453a3cf075268,Update api.test_api_backups test cases,MERGED,2019-06-01 03:35:45.000000000,2019-06-01 05:43:51.000000000,2019-06-01 05:43:51.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-01 03:35:45.000000000', 'files': ['freezer_tempest_plugin/tests/freezer_api/api/test_api_backups.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/cc95295a0644eb6d027f3517e8ea1f09bad824f5', 'message': 'Update api.test_api_backups test cases\n\nRemove invalid paramters of offest&limit test  because of  falcon2.0 api is modified .\n\nChange-Id: I36758c3c4a8263767091c254b5e453a3cf075268\n'}]",0,662592,cc95295a0644eb6d027f3517e8ea1f09bad824f5,6,2,1,21069,,,0,"Update api.test_api_backups test cases

Remove invalid paramters of offest&limit test  because of  falcon2.0 api is modified .

Change-Id: I36758c3c4a8263767091c254b5e453a3cf075268
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/92/662592/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_tempest_plugin/tests/freezer_api/api/test_api_backups.py'],1,cc95295a0644eb6d027f3517e8ea1f09bad824f5,bugfix1," # for bad_limit in [0, -1, -2]: # self.assertRaises(tempest.lib.exceptions.BadRequest, # self.freezer_api_client.get_actions, # limit=bad_limit) # self.assertRaises(tempest.lib.exceptions.BadRequest, # self.freezer_api_client.get_backups, offset=-1) # self.assertRaises(tempest.lib.exceptions.BadRequest, # self.freezer_api_client.get_backups, offset=-2)"," for bad_limit in [0, -1, -2]: self.assertRaises(tempest.lib.exceptions.BadRequest, self.freezer_api_client.get_actions, limit=bad_limit) self.assertRaises(tempest.lib.exceptions.BadRequest, self.freezer_api_client.get_backups, offset=-1) self.assertRaises(tempest.lib.exceptions.BadRequest, self.freezer_api_client.get_backups, offset=-2)",8,8
openstack%2Fneutron~master~Idcaa224b3bc4a06126f2e1dc72d331a925d8d7f5,openstack/neutron,master,Idcaa224b3bc4a06126f2e1dc72d331a925d8d7f5,Switch DB _utils to new engine facade,MERGED,2019-05-28 23:30:41.000000000,2019-06-01 05:42:32.000000000,2019-06-01 05:42:31.000000000,"[{'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-28 23:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b72d91a59a4b87c2fb4b45bc89dcf69d0ceae8ce', 'message': 'Switch DB _utils to new engine facade\n\nSwitch DB _utils to new engine facade\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: Idcaa224b3bc4a06126f2e1dc72d331a925d8d7f5\n'}, {'number': 2, 'created': '2019-05-28 23:35:51.000000000', 'files': ['neutron/db/_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7bf1a4e8d53b3daa23c2dcd1c95759eb2b0eea9', 'message': 'Switch DB _utils to new engine facade\n\nSwitch DB _utils to new engine facade\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: Idcaa224b3bc4a06126f2e1dc72d331a925d8d7f5\n'}]",0,661861,c7bf1a4e8d53b3daa23c2dcd1c95759eb2b0eea9,20,10,2,4694,,,0,"Switch DB _utils to new engine facade

Switch DB _utils to new engine facade

Partially-Implements blueprint: enginefacade-switch

Change-Id: Idcaa224b3bc4a06126f2e1dc72d331a925d8d7f5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/661861/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/_utils.py'],1,b72d91a59a4b87c2fb4b45bc89dcf69d0ceae8ce,bp/enginefacade-switch,from neutron_lib.db import api as db_api cm = (db_api.CONTEXT_WRITER.using(context), cm = (context.session.begin(subtransactions=True),2,1
openstack%2Fnova~stable%2Fstein~I9a5118373548c525b2b1c2271e7d210cc92e4f4c,openstack/nova,stable/stein,I9a5118373548c525b2b1c2271e7d210cc92e4f4c,Move get_pci_mapping_for_migration to MigrationContext,MERGED,2019-05-26 18:04:06.000000000,2019-06-01 04:34:25.000000000,2019-06-01 04:34:25.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12171}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-26 18:04:06.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/objects/migration_context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/84bb00a86da539183211364961ada2c1b1bb5edc', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some preliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retrieve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\nPartial-Bug: #1809095\n(cherry picked from commit 5a1c385b996090b80f5881680e04c88abc21828a)\n'}]",0,661494,84bb00a86da539183211364961ada2c1b1bb5edc,17,8,1,28714,,,0,"Move get_pci_mapping_for_migration to MigrationContext

In order to fix Bug #1809095, it is required to update
PCI related VIFs with the original PCI address on the source
host to allow virt driver to properly unplug the VIF from hypervisor,
e.g allow the proper VF representor to be unplugged
from the integration bridge in case of a hardware offloaded OVS.

To do so, some preliminary work is needed to allow code-sharing
between nova.network.neutronv2 and nova.compute.manager

This change:
- Moves common logic to retrieve the PCI mapping between
  the source and destination node from nova.network.neutronv2
  to objects.migration_context.
- Makes code adjustments to methods in nova.network.neutronv2
  to accomodate the former.

Change-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c
Partial-Bug: #1809095
(cherry picked from commit 5a1c385b996090b80f5881680e04c88abc21828a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/661494/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/objects/migration_context.py']",4,84bb00a86da539183211364961ada2c1b1bb5edc,bug/1809095,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) def get_pci_mapping_for_migration(self, revert): """"""Get the mapping between the old PCI devices and the new PCI devices that have been allocated during this migration. The correlation is based on PCI request ID which is unique per PCI devices for SR-IOV ports. :param revert: If True, return a reverse mapping i.e mapping between new PCI devices and old PCI devices. :returns: dictionary of PCI mapping. if revert==False: {'<old pci address>': <New PciDevice>} if revert==True: {'<new pci address>': <Old PciDevice>} """""" step = -1 if revert else 1 current_pci_devs, updated_pci_devs = (self.old_pci_devices, self.new_pci_devices)[::step] if current_pci_devs and updated_pci_devs: LOG.debug(""Determining PCI devices mapping using migration "" ""context: current_pci_devs: %(cur)s, "" ""updated_pci_devs: %(upd)s"", {'cur': [dev for dev in current_pci_devs], 'upd': [dev for dev in updated_pci_devs]}) return {curr_dev.address: upd_dev for curr_dev in current_pci_devs for upd_dev in updated_pci_devs if curr_dev.request_id == upd_dev.request_id} return {}",,85,81
openstack%2Fnova~master~I927e105f9fc9303391e498140016d194ccfca0f0,openstack/nova,master,I927e105f9fc9303391e498140016d194ccfca0f0,DEMO: Update instance.availability_zone on revertResize,ABANDONED,2019-04-17 18:00:59.000000000,2019-06-01 03:21:46.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2019-04-17 18:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/587cc41b28b6a66057102aa13e6ac7b449aabd4b', 'message': 'DEMO: Update instance.availability_zone on revertResize\n\nWhen resizing a server that was not created in an explicit\nzone, the scheduler can pick a host in another zone and\nconductor will update the instance.availability_zone value\nfor the new dest host zone.\n\nThe problem is when reverting the resize, the server goes\nback to the original source host/zone but the\ninstance.availability_zone value in the database is not\nupdated which can lead to incorrect results when listing\nservers and filtering by zone.\n\nThis fixes the bug by updating the instance.availability_zone\nvalue in the API (where we have access to the aggregates\ntable in the API DB) before casting to nova-compute to\ncomplete the revert. As noted in the comment within, this\nis not fail-safe in case the revert fails before the\ninstance.host is updated in finish_revert_resize, but we\ndon\'t have a lot of great backportable options here that\ndon\'t involve ""up-calls"" from the compute to the API DB.\n\nChange-Id: I927e105f9fc9303391e498140016d194ccfca0f0\nCloses--Bug: #1819963\n'}, {'number': 2, 'created': '2019-04-17 18:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a1d5b1bd8d8ef6168ed5caa8170940e16d19a7c', 'message': 'DEMO: Update instance.availability_zone on revertResize\n\nWhen resizing a server that was not created in an explicit\nzone, the scheduler can pick a host in another zone and\nconductor will update the instance.availability_zone value\nfor the new dest host zone.\n\nThe problem is when reverting the resize, the server goes\nback to the original source host/zone but the\ninstance.availability_zone value in the database is not\nupdated which can lead to incorrect results when listing\nservers and filtering by zone.\n\nThis fixes the bug by updating the instance.availability_zone\nvalue in the API (where we have access to the aggregates\ntable in the API DB) before casting to nova-compute to\ncomplete the revert. As noted in the comment within, this\nis not fail-safe in case the revert fails before the\ninstance.host is updated in finish_revert_resize, but we\ndon\'t have a lot of great backportable options here that\ndon\'t involve ""up-calls"" from the compute to the API DB.\n\nChange-Id: I927e105f9fc9303391e498140016d194ccfca0f0\nCloses-Bug: #1819963\n'}, {'number': 3, 'created': '2019-04-17 19:08:08.000000000', 'files': ['nova/tests/functional/test_availability_zones.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ddbd699b014f204feb12663e7e9f078575e6cbe1', 'message': 'DEMO: Update instance.availability_zone on revertResize\n\nWhen resizing a server that was not created in an explicit\nzone, the scheduler can pick a host in another zone and\nconductor will update the instance.availability_zone value\nfor the new dest host zone.\n\nThe problem is when reverting the resize, the server goes\nback to the original source host/zone but the\ninstance.availability_zone value in the database is not\nupdated which can lead to incorrect results when listing\nservers and filtering by zone.\n\nThis fixes the bug by updating the instance.availability_zone\nvalue in the API (where we have access to the aggregates\ntable in the API DB) before casting to nova-compute to\ncomplete the revert. As noted in the comment within, this\nis not fail-safe in case the revert fails before the\ninstance.host is updated in finish_revert_resize, but we\ndon\'t have a lot of great backportable options here that\ndon\'t involve ""up-calls"" from the compute to the API DB.\n\nChange-Id: I927e105f9fc9303391e498140016d194ccfca0f0\nCloses-Bug: #1819963\n'}]",0,653505,ddbd699b014f204feb12663e7e9f078575e6cbe1,104,13,3,14070,,,0,"DEMO: Update instance.availability_zone on revertResize

When resizing a server that was not created in an explicit
zone, the scheduler can pick a host in another zone and
conductor will update the instance.availability_zone value
for the new dest host zone.

The problem is when reverting the resize, the server goes
back to the original source host/zone but the
instance.availability_zone value in the database is not
updated which can lead to incorrect results when listing
servers and filtering by zone.

This fixes the bug by updating the instance.availability_zone
value in the API (where we have access to the aggregates
table in the API DB) before casting to nova-compute to
complete the revert. As noted in the comment within, this
is not fail-safe in case the revert fails before the
instance.host is updated in finish_revert_resize, but we
don't have a lot of great backportable options here that
don't involve ""up-calls"" from the compute to the API DB.

Change-Id: I927e105f9fc9303391e498140016d194ccfca0f0
Closes-Bug: #1819963
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/653505/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_availability_zones.py', 'nova/compute/api.py']",2,587cc41b28b6a66057102aa13e6ac7b449aabd4b,bug/1819963," # The AZ for the server may have changed when it was migrated so while # we are in the API and have access to the API DB, update the # instance.availability_zone before casting off to the compute service. # Note that we do this in the API to avoid an ""up-call"" from the # compute service to the API DB. This is not great in case something # fails during revert before the instance.host is updated to the # original source host, but it is good enough for now. Long-term we # could consider passing the AZ down to compute so it can set it when # the instance.host value is set in finish_revert_resize. instance.availability_zone = ( availability_zones.get_host_availability_zone( context, migration.source_compute)) ",,14,15
openstack%2Fnova~master~I53ba421a73c1698acc73a5dc6e3faf34e303c28b,openstack/nova,master,I53ba421a73c1698acc73a5dc6e3faf34e303c28b,DEMO: Functional recreate test for bug 1819963,ABANDONED,2019-04-17 18:00:59.000000000,2019-06-01 03:21:37.000000000,,"[{'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-17 18:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d410d79035e60dbacbb36dac4d2d488f6c9b568', 'message': 'DEMO: Functional recreate test for bug 1819963\n\nWhen resizing a server that was not created in an explicit\nzone, the scheduler can pick a host in another zone and\nconductor will update the instance.availability_zone value\nfor the new dest host zone.\n\nThe problem is when reverting the resize, the server goes\nback to the original source host/zone but the\ninstance.availability_zone value in the database is not\nupdated which can lead to incorrect results when listing\nservers and filtering by zone.\n\nThis adds a functional recreate test for the bug.\n\nChange-Id: I53ba421a73c1698acc73a5dc6e3faf34e303c28b\nRelated--Bug: #1819963\n'}, {'number': 2, 'created': '2019-04-17 18:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4c1cdbd5e54d20c3b7ae9f7e576b70229b00f76', 'message': 'DEMO: Functional recreate test for bug 1819963\n\nWhen resizing a server that was not created in an explicit\nzone, the scheduler can pick a host in another zone and\nconductor will update the instance.availability_zone value\nfor the new dest host zone.\n\nThe problem is when reverting the resize, the server goes\nback to the original source host/zone but the\ninstance.availability_zone value in the database is not\nupdated which can lead to incorrect results when listing\nservers and filtering by zone.\n\nThis adds a functional recreate test for the bug.\n\nChange-Id: I53ba421a73c1698acc73a5dc6e3faf34e303c28b\nRelated-Bug: #1819963\n'}, {'number': 3, 'created': '2019-04-17 19:08:08.000000000', 'files': ['nova/tests/functional/test_availability_zones.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/19e923cc391d650a68bf7339ea77925d669c2b71', 'message': 'DEMO: Functional recreate test for bug 1819963\n\nWhen resizing a server that was not created in an explicit\nzone, the scheduler can pick a host in another zone and\nconductor will update the instance.availability_zone value\nfor the new dest host zone.\n\nThe problem is when reverting the resize, the server goes\nback to the original source host/zone but the\ninstance.availability_zone value in the database is not\nupdated which can lead to incorrect results when listing\nservers and filtering by zone.\n\nThis adds a functional recreate test for the bug.\n\nChange-Id: I53ba421a73c1698acc73a5dc6e3faf34e303c28b\nRelated-Bug: #1819963\n'}]",0,653504,19e923cc391d650a68bf7339ea77925d669c2b71,13,7,3,14070,,,0,"DEMO: Functional recreate test for bug 1819963

When resizing a server that was not created in an explicit
zone, the scheduler can pick a host in another zone and
conductor will update the instance.availability_zone value
for the new dest host zone.

The problem is when reverting the resize, the server goes
back to the original source host/zone but the
instance.availability_zone value in the database is not
updated which can lead to incorrect results when listing
servers and filtering by zone.

This adds a functional recreate test for the bug.

Change-Id: I53ba421a73c1698acc73a5dc6e3faf34e303c28b
Related-Bug: #1819963
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/653504/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_availability_zones.py'],1,1d410d79035e60dbacbb36dac4d2d488f6c9b568,bug/1819963," def test_resize_revert_across_azs(self): """"""Creates two compute service hosts in separate AZs. Creates a server without an explicit AZ so it lands in one AZ, and then resizes the server which moves it to the other AZ. Then the resize is reverted and asserts the server is shown as back in the original source host AZ. """""" server = self._create_server('test_resize_revert_across_azs') original_host = server['OS-EXT-SRV-ATTR:host'] original_az = 'zone1' if original_host == 'host1' else 'zone2' # Resize the server which should move it to the other zone. self.api.post_server_action( server['id'], {'resize': {'flavorRef': self.flavor2}}) server = self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') # Now the server should be in the other AZ. new_zone = 'zone2' if original_host == 'host1' else 'zone1' self._assert_instance_az(server, new_zone) # Revert the resize and the server should be back in the original AZ. self.api.post_server_action(server['id'], {'revertResize': None}) server = self._wait_for_state_change(self.api, server, 'ACTIVE') # FIXME(efried): This is bug 1819963 where the API will show the source # host AZ but the instance.availability_zone value in the DB is still # wrong because nothing updated it on revert. Remove the explicit API # and DB checks and uncomment the _assert_instance_az call when the bug # is fixed. # Check the API self.assertEqual(original_az, server['OS-EXT-AZ:availability_zone']) # Check the DB. ctxt = context.get_admin_context() with context.target_cell( ctxt, self.cell_mappings[test.CELL1_NAME]) as cctxt: instance = objects.Instance.get_by_uuid(cctxt, server['id']) # Bug 1819963: this should be original_az! self.assertEqual(new_zone, instance.availability_zone) # self._assert_instance_az(server, original_az)",,38,0
openstack%2Fnova~master~I0bac991207480ee4d1cf2fb8a63d168aec0c3be3,openstack/nova,master,I0bac991207480ee4d1cf2fb8a63d168aec0c3be3,DNM: DEMO: Reinstate bug 1819963,ABANDONED,2019-04-17 18:00:59.000000000,2019-06-01 03:21:21.000000000,,"[{'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-17 18:00:59.000000000', 'files': ['nova/tests/functional/test_availability_zones.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/615be2c65449a51955be744aaa25ec260173ceae', 'message': ""DNM: DEMO: Reinstate bug 1819963\n\nFor the Nova onboarding session at the Train summit, I'm going to walk\nthrough the process of fixing a bug by introducing a patch that proves\nthe broken behavior, and then putting a patch to fix it on top. I'm\ngoing to do this with bug 1819963, so this patch reverts the substance\nof [1] and [2] so I can repropose trimmed-down versions of those for the\ndemo.\n\n[1] https://review.openstack.org/#/c/643151/\n[2] https://review.openstack.org/#/c/643155/\n\nChange-Id: I0bac991207480ee4d1cf2fb8a63d168aec0c3be3\n""}]",0,653503,615be2c65449a51955be744aaa25ec260173ceae,12,10,1,14070,,,0,"DNM: DEMO: Reinstate bug 1819963

For the Nova onboarding session at the Train summit, I'm going to walk
through the process of fixing a bug by introducing a patch that proves
the broken behavior, and then putting a patch to fix it on top. I'm
going to do this with bug 1819963, so this patch reverts the substance
of [1] and [2] so I can repropose trimmed-down versions of those for the
demo.

[1] https://review.openstack.org/#/c/643151/
[2] https://review.openstack.org/#/c/643155/

Change-Id: I0bac991207480ee4d1cf2fb8a63d168aec0c3be3
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/653503/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_availability_zones.py', 'nova/compute/api.py']",2,615be2c65449a51955be744aaa25ec260173ceae,bug/1819963,," # The AZ for the server may have changed when it was migrated so while # we are in the API and have access to the API DB, update the # instance.availability_zone before casting off to the compute service. # Note that we do this in the API to avoid an ""up-call"" from the # compute service to the API DB. This is not great in case something # fails during revert before the instance.host is updated to the # original source host, but it is good enough for now. Long-term we # could consider passing the AZ down to compute so it can set it when # the instance.host value is set in finish_revert_resize. instance.availability_zone = ( availability_zones.get_host_availability_zone( context, migration.source_compute)) ",0,37
openstack%2Fwatcher~master~Iab23ce2ad081fef18978579594886950b8e2cb01,openstack/watcher,master,Iab23ce2ad081fef18978579594886950b8e2cb01,Add missing ws separator between words,MERGED,2019-05-31 06:56:15.000000000,2019-06-01 03:10:10.000000000,2019-06-01 03:10:09.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-05-31 06:56:15.000000000', 'files': ['watcher/datasources/manager.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/9c1b83e610dfc1616bc0242cc150f1444ace44be', 'message': 'Add missing ws separator between words\n\nThis is to add missing ws separator between words.\n\nChange-Id: Iab23ce2ad081fef18978579594886950b8e2cb01\n'}]",0,662395,9c1b83e610dfc1616bc0242cc150f1444ace44be,8,3,1,20190,,,0,"Add missing ws separator between words

This is to add missing ws separator between words.

Change-Id: Iab23ce2ad081fef18978579594886950b8e2cb01
",git fetch https://review.opendev.org/openstack/watcher refs/changes/95/662395/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/datasources/manager.py'],1,9c1b83e610dfc1616bc0242cc150f1444ace44be,missing_ws," LOG.critical(""Can not retrieve datasource without specifying "" LOG.warning(""Datasource: {0} could not be used due to """," LOG.critical(""Can not retrieve datasource without specifying"" LOG.warning(""Datasource: {0} could not be used due to""",2,2
openstack%2Fneutron~master~Ia3eb436d07e3b2fc633b219aa00c78cc07ed30db,openstack/neutron,master,Ia3eb436d07e3b2fc633b219aa00c78cc07ed30db,Switch to new engine facade for StandardAttribute objects,MERGED,2019-05-29 19:25:21.000000000,2019-06-01 03:05:40.000000000,2019-06-01 03:05:40.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-29 19:25:21.000000000', 'files': ['neutron/objects/stdattrs.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e969205ab1840aaa83008ce8ef8600d40743eec', 'message': 'Switch to new engine facade for StandardAttribute objects\n\nEnable the new Engine Facade for StandardAttribute objects.\n\nChange-Id: Ia3eb436d07e3b2fc633b219aa00c78cc07ed30db\n'}]",0,662071,5e969205ab1840aaa83008ce8ef8600d40743eec,10,6,1,13995,,,0,"Switch to new engine facade for StandardAttribute objects

Enable the new Engine Facade for StandardAttribute objects.

Change-Id: Ia3eb436d07e3b2fc633b219aa00c78cc07ed30db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/662071/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/stdattrs.py'],1,5e969205ab1840aaa83008ce8ef8600d40743eec,bp/enginefacade-switch, new_facade = True ,,2,0
openstack%2Fneutron~stable%2Fstein~If0d42919412dac75deb4d7f484c42cea630fbc59,openstack/neutron,stable/stein,If0d42919412dac75deb4d7f484c42cea630fbc59,Make OVS controller inactivity_probe configurable,MERGED,2019-05-20 10:07:47.000000000,2019-06-01 03:05:37.000000000,2019-06-01 03:05:37.000000000,"[{'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 4694}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16963}, {'_account_id': 20147}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 30413}, {'_account_id': 30427}, {'_account_id': 30429}, {'_account_id': 30500}]","[{'number': 1, 'created': '2019-05-20 10:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af7d58002276e5c0941e17d9872423e3bb431cb2', 'message': 'Make OVS controller inactivity_probe configurable\n\nThis parameter applies to the OVSDB Controller table when the\nnative openflow driver is used. There are reports that increasing\nit can reduce errors on busy systems. This patch also sets the\ndefault value to 10s which is more than the OVS default of 5s.\nSee the ovs-vswitchd.conf.db man page for full description.\n\nChange-Id: If0d42919412dac75deb4d7f484c42cea630fbc59\nPartial-Bug: #1817022\n(cherry picked from commit 540d00f68ecf1c11b0296922f965ef60d15d1a86)\n'}, {'number': 2, 'created': '2019-05-25 13:30:57.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'releasenotes/notes/ovs-make-inactivity-probe-configurable-39d669014d961c5c.yaml', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e661ecd2de3994de25af0337f7e2ae781c2cca9', 'message': 'Make OVS controller inactivity_probe configurable\n\nThis parameter applies to the OVSDB Controller table when the\nnative openflow driver is used. There are reports that increasing\nit can reduce errors on busy systems. This patch also sets the\ndefault value to 10s which is more than the OVS default of 5s.\nSee the ovs-vswitchd.conf.db man page for full description.\n\nChange-Id: If0d42919412dac75deb4d7f484c42cea630fbc59\nPartial-Bug: #1817022\n(cherry picked from commit 540d00f68ecf1c11b0296922f965ef60d15d1a86)\n'}]",0,660074,6e661ecd2de3994de25af0337f7e2ae781c2cca9,26,17,2,9373,,,0,"Make OVS controller inactivity_probe configurable

This parameter applies to the OVSDB Controller table when the
native openflow driver is used. There are reports that increasing
it can reduce errors on busy systems. This patch also sets the
default value to 10s which is more than the OVS default of 5s.
See the ovs-vswitchd.conf.db man page for full description.

Change-Id: If0d42919412dac75deb4d7f484c42cea630fbc59
Partial-Bug: #1817022
(cherry picked from commit 540d00f68ecf1c11b0296922f965ef60d15d1a86)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/660074/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'releasenotes/notes/ovs-make-inactivity-probe-configurable-39d669014d961c5c.yaml', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py']",6,af7d58002276e5c0941e17d9872423e3bb431cb2,bug/1817022-stable/stein," cfg.IntOpt('of_inactivity_probe', default=10, help=_(""The inactivity_probe interval in seconds for the local "" ""switch connection to the controller. "" ""A value of 0 disables inactivity probes. "" ""Used only for 'native' driver."")),",,34,3
openstack%2Fnova~master~I3ff39d5ed99a68ad8678e5ff62b343f3018b4768,openstack/nova,master,I3ff39d5ed99a68ad8678e5ff62b343f3018b4768,Use instance mappings to count server group members,MERGED,2019-02-21 03:27:34.000000000,2019-06-01 02:42:06.000000000,2019-06-01 02:32:20.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 12408}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25564}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 30402}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-02-21 03:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e642c7e07681d5d244224ae602f37ce6bde2be6', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 2, 'created': '2019-02-22 02:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/392335ca27fde511613bf936783010877d9028cc', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 3, 'created': '2019-02-25 05:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0a26ecc9818f7412631bf42a0be877d4511ceef', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 4, 'created': '2019-02-26 01:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f060ae39f4cb262d5927d77157d1e7d9509a215', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 5, 'created': '2019-02-26 06:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7eec038d4d4bb93612b3b8092b5310d1a8bc9888', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 6, 'created': '2019-02-26 17:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c1be9dec334e2dc94d9d56bc0bd6b338e9ce990', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 7, 'created': '2019-02-27 02:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94d35a9845951a0df34d933cd5ef40be79d5b0a0', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 8, 'created': '2019-02-28 06:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cadc245f69762f0ae40cf837c6f48d09de3f1321', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 9, 'created': '2019-02-28 17:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71b7bb3dbc5c1fd5d01fb541e29c964970366ca2', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 10, 'created': '2019-02-28 20:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8fb8eb019866a09533e7a5b77e46b12fb9bf4c7', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 11, 'created': '2019-03-04 08:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/802fa481855c1ee8fa7c498623bfb07b8c240905', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 12, 'created': '2019-03-05 07:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f040c02822f3737969b1d56dd65ca814c2fbe24', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 13, 'created': '2019-03-05 19:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adc51021069fe4922cc1cb614e4238afe82328eb', 'message': 'Use instance mappings to count server group members\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 14, 'created': '2019-03-06 07:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00979155985805ebaf4fa627ebd6d1b8733c22c7', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 15, 'created': '2019-03-06 07:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcd32923e2c2f8a1b2592d620be075b13a11ecb3', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 16, 'created': '2019-03-06 16:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0385451dcd5e6b60fc8158485ea9fb66c2918bd8', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 17, 'created': '2019-03-06 23:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccd97b31fe00d1b36e869d13be73d0b962ccff59', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 18, 'created': '2019-03-06 23:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/200102aaaa1512052ade84243b34ed69de8bfb79', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 19, 'created': '2019-03-07 01:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a46999b5083eb93c210ad3a35599c604478ceba', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 20, 'created': '2019-03-12 20:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c071b0ecca4fe84c9e12b30e85d14f4630820603', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 21, 'created': '2019-03-28 01:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66f96e2bce7eb56ede2e7657269d9496053ada3d', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 22, 'created': '2019-04-09 03:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c0be0f6b52b18fd867c865564231f1f7d998f42', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 23, 'created': '2019-04-16 20:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/220a0ec46e8fd8b1f5d965ea5b02f0b3c1b80ea6', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 24, 'created': '2019-04-16 20:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2b7a4b28b217786dc73d4709cc848c2554f4002', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 25, 'created': '2019-04-17 04:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a703b2f7a3f93a52648ac0f3d21609a9ccefd6c0', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 26, 'created': '2019-04-18 18:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e66103663eea8076408e2a1375bcf2627b4b2b01', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 27, 'created': '2019-04-18 19:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db8992da29fe461ea356ff355cafeb56ce170ce3', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 28, 'created': '2019-05-02 21:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fa9c168b4e08642bc6a083736e2281c7d4a8058', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 29, 'created': '2019-05-23 18:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/255442da652c9f7d3ddfe50c5fde3e913c0c0bbb', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 30, 'created': '2019-05-24 02:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b3baad4f488e650ce35eafb9b346123aea8f865', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 31, 'created': '2019-05-31 15:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2271d038ee506ad32ca994525b2a50fc29f141c8', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}, {'number': 32, 'created': '2019-05-31 18:08:53.000000000', 'files': ['nova/tests/functional/db/test_quota.py', 'nova/objects/instance_mapping.py', 'nova/test.py', 'nova/tests/unit/test_quota.py', 'nova/quota.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/799c0e4b952d800c694b5a2487fa596232dd7fac', 'message': 'Use instance mappings to count server group members\n\nThis adds a get_count_by_uuids_and_user() method to the InstanceMapping\nobject and uses it to count instance mappings for the purpose of\ncounting quota usage for server group members. By counting server group\nmembers via instance mappings, the count is resilient to down cells in\na multi-cell environment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768\n'}]",38,638324,799c0e4b952d800c694b5a2487fa596232dd7fac,273,23,32,4690,,,0,"Use instance mappings to count server group members

This adds a get_count_by_uuids_and_user() method to the InstanceMapping
object and uses it to count instance mappings for the purpose of
counting quota usage for server group members. By counting server group
members via instance mappings, the count is resilient to down cells in
a multi-cell environment.

Part of blueprint count-quota-usage-from-placement

Change-Id: I3ff39d5ed99a68ad8678e5ff62b343f3018b4768
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/638324/32 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/objects/instance_mapping.py', 'nova/quota.py']",3,6e642c7e07681d5d244224ae602f37ce6bde2be6,bp/count-quota-usage-from-placement,"def _server_group_count_members_by_user_legacy(context, group, user_id):def _server_group_count_members_by_user(context, group, user_id): if not instance_mapping_obj.user_id_populated(context): return _server_group_count_members_by_user_legacy(context, group, user_id) else: return objects.InstanceMappingList.get_count_by_uuids_and_user( context, group.members, user_id) ","def _server_group_count_members_by_user(context, group, user_id):",40,3
openstack%2Fneutron~stable%2Fqueens~Ic4c5790a5d66e10a606327f4f4e4c92611f161d8,openstack/neutron,stable/queens,Ic4c5790a5d66e10a606327f4f4e4c92611f161d8,Use list instead of six.viewkeys to avoid py2 to py3 problems,MERGED,2019-05-31 13:22:27.000000000,2019-06-01 02:32:44.000000000,2019-06-01 02:32:43.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-31 13:22:27.000000000', 'files': ['neutron/pecan_wsgi/hooks/policy_enforcement.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa0d4f5f641fb8fd88616b1b291bcff826d9c0ac', 'message': ""Use list instead of six.viewkeys to avoid py2 to py3 problems\n\nThis change fixes an 'RuntimeError: dictionary changed size during\niteration' error that is raised because of different behaviour between\npython2 and python3.  An earlier attempt [1] to use the six library did\nnot fix the issue.\n\n[1] https://review.opendev.org/660427\n\nResolves-Bug: #1829304\nChange-Id: Ic4c5790a5d66e10a606327f4f4e4c92611f161d8\n(cherry picked from commit a65ae9c81eea909133446c0be4d54ce389f6e0e1)\n""}]",0,662464,aa0d4f5f641fb8fd88616b1b291bcff826d9c0ac,11,5,1,13995,,,0,"Use list instead of six.viewkeys to avoid py2 to py3 problems

This change fixes an 'RuntimeError: dictionary changed size during
iteration' error that is raised because of different behaviour between
python2 and python3.  An earlier attempt [1] to use the six library did
not fix the issue.

[1] https://review.opendev.org/660427

Resolves-Bug: #1829304
Change-Id: Ic4c5790a5d66e10a606327f4f4e4c92611f161d8
(cherry picked from commit a65ae9c81eea909133446c0be4d54ce389f6e0e1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/662464/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/pecan_wsgi/hooks/policy_enforcement.py'],1,aa0d4f5f641fb8fd88616b1b291bcff826d9c0ac,bug/1829304-stable/queens, obj[const.ATTRIBUTES_TO_UPDATE] = list(item) for attr_name in list(data):,import six obj[const.ATTRIBUTES_TO_UPDATE] = six.viewkeys(item) for attr_name in six.viewkeys(data):,2,3
openstack%2Fneutron~stable%2Frocky~Ic4c5790a5d66e10a606327f4f4e4c92611f161d8,openstack/neutron,stable/rocky,Ic4c5790a5d66e10a606327f4f4e4c92611f161d8,Use list instead of six.viewkeys to avoid py2 to py3 problems,MERGED,2019-05-31 13:22:11.000000000,2019-06-01 02:32:40.000000000,2019-06-01 02:32:40.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-31 13:22:11.000000000', 'files': ['neutron/pecan_wsgi/hooks/policy_enforcement.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5424bdc38b1c39ec9cd4aeac590f1ce86a5804be', 'message': ""Use list instead of six.viewkeys to avoid py2 to py3 problems\n\nThis change fixes an 'RuntimeError: dictionary changed size during\niteration' error that is raised because of different behaviour between\npython2 and python3.  An earlier attempt [1] to use the six library did\nnot fix the issue.\n\n[1] https://review.opendev.org/660427\n\nResolves-Bug: #1829304\nChange-Id: Ic4c5790a5d66e10a606327f4f4e4c92611f161d8\n(cherry picked from commit a65ae9c81eea909133446c0be4d54ce389f6e0e1)\n""}]",0,662462,5424bdc38b1c39ec9cd4aeac590f1ce86a5804be,10,5,1,13995,,,0,"Use list instead of six.viewkeys to avoid py2 to py3 problems

This change fixes an 'RuntimeError: dictionary changed size during
iteration' error that is raised because of different behaviour between
python2 and python3.  An earlier attempt [1] to use the six library did
not fix the issue.

[1] https://review.opendev.org/660427

Resolves-Bug: #1829304
Change-Id: Ic4c5790a5d66e10a606327f4f4e4c92611f161d8
(cherry picked from commit a65ae9c81eea909133446c0be4d54ce389f6e0e1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/662462/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/pecan_wsgi/hooks/policy_enforcement.py'],1,5424bdc38b1c39ec9cd4aeac590f1ce86a5804be,bug/1829304-stable/rocky, obj[const.ATTRIBUTES_TO_UPDATE] = list(item) for attr_name in list(data):,import six obj[const.ATTRIBUTES_TO_UPDATE] = six.viewkeys(item) for attr_name in six.viewkeys(data):,2,3
openstack%2Fnova~master~I88919634551b654b6cfdd377ac5de78106bc894f,openstack/nova,master,I88919634551b654b6cfdd377ac5de78106bc894f,Add documentation for counting quota usage from placement,MERGED,2019-04-18 19:44:45.000000000,2019-06-01 02:32:32.000000000,2019-06-01 02:32:32.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-18 19:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3020a16db8c6826f5fc716045084d8244710f3b1', 'message': 'Add documentation for counting quota usage from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I88919634551b654b6cfdd377ac5de78106bc894f\n'}, {'number': 2, 'created': '2019-04-18 19:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddf382a159dc459eab35faff77ba9df13395cfff', 'message': 'Add documentation for counting quota usage from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I88919634551b654b6cfdd377ac5de78106bc894f\n'}, {'number': 3, 'created': '2019-04-18 19:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b86ff43deecef78b1755bbead17d8a3c2aff7d5', 'message': 'Add documentation for counting quota usage from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I88919634551b654b6cfdd377ac5de78106bc894f\n'}, {'number': 4, 'created': '2019-05-02 21:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1af84d348408c2041ac8f791b96356e5fd735f3', 'message': 'Add documentation for counting quota usage from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I88919634551b654b6cfdd377ac5de78106bc894f\n'}, {'number': 5, 'created': '2019-05-02 21:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bbe6e3a64b83fb2dfce29db3d4d6da22e08bbd1', 'message': 'Add documentation for counting quota usage from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I88919634551b654b6cfdd377ac5de78106bc894f\n'}, {'number': 6, 'created': '2019-05-23 18:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b359ca92850282c40f918320cfed0991713147be', 'message': 'Add documentation for counting quota usage from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I88919634551b654b6cfdd377ac5de78106bc894f\n'}, {'number': 7, 'created': '2019-05-24 02:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/923163d91f8618945e24d52cfeb0a0e5d5e49670', 'message': 'Add documentation for counting quota usage from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I88919634551b654b6cfdd377ac5de78106bc894f\n'}, {'number': 8, 'created': '2019-05-31 15:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5bb30c1407a2f39f6403ce0a9950ff57cd0db46', 'message': 'Add documentation for counting quota usage from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I88919634551b654b6cfdd377ac5de78106bc894f\n'}, {'number': 9, 'created': '2019-05-31 18:08:53.000000000', 'files': ['doc/source/user/cellsv2-layout.rst', 'doc/source/admin/cells.rst', 'doc/source/user/quotas.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3aadaf17fcdeb26b55c234d78a9b433ed8677e2', 'message': 'Add documentation for counting quota usage from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I88919634551b654b6cfdd377ac5de78106bc894f\n'}]",6,653845,e3aadaf17fcdeb26b55c234d78a9b433ed8677e2,58,14,9,4690,,,0,"Add documentation for counting quota usage from placement

Part of blueprint count-quota-usage-from-placement

Change-Id: I88919634551b654b6cfdd377ac5de78106bc894f
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/653845/9 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/cellsv2-layout.rst', 'doc/source/admin/cells.rst', 'doc/source/user/quotas.rst']",3,3020a16db8c6826f5fc716045084d8244710f3b1,bp/count-quota-usage-from-placement,"Quota usage from placement ========================== Starting in the Train (20.0.0) release, it is possible to configure quota usage counting of cores and ram from the placement service and instances from instance mappings in the API database instead of counting resources from cell databases. This makes quota usage counting resilient in the presence of `down or poor-performing cells`_. Quota usage counting from placement is opt-in via configuration option: .. code-block:: ini [quota] count_usage_from_placement = True There are some things to note when opting in to counting quota usage from placement: * Counted usage will not be accurate in an environment where multiple Nova deployments are sharing a placement deployment because currently placement has no way of partitioning resource providers between different Nova deployments. Operators who are running multiple Nova deployments that share a placement deployment should not set the ``[quota]count_usage_from_placement`` configuration option to ``True``. * Behavior will be different for resizes. During a resize, resource allocations are held on both the source and destination (even on the same host, see https://bugs.launchpad.net/nova/+bug/1790204) until the resize is confirmed or reverted. Quota usage will be inflated for servers in this state and operators should weigh the advantages and disadvantages before enabling ``[quota]count_usage_from_placement``. * The ``populate_queued_for_delete`` and ``populate_user_id`` online data migrations must be completed before usage can be counted from placement. Until the data migration is complete, the system will fall back to legacy quota usage counting from cell databases depending on the result of an EXISTS database query during each quota check, if ``[quota]count_usage_from_placement`` is set to ``True``. Operators who want to avoid the performance hit from the EXISTS queries should wait to set the ``[quota]count_usage_from_placement`` configuration option to ``True`` until after they have completed their online data migrations via ``nova-manage db online_data_migrations``. * Behavior will be different for unscheduled servers in ``ERROR`` state. A server in ``ERROR`` state that has never been scheduled to a compute host will not have placement allocations, so it will not consume quota usage for cores and ram. .. _down or poor-performing cells: https://developer.openstack.org/api-guide/compute/down_cells.html ",,68,7
openstack%2Fnova~master~I05700c97f756edb7470be7273d5c9c3d76d63e29,openstack/nova,master,I05700c97f756edb7470be7273d5c9c3d76d63e29,Add regression recreate test for bug 1830747,MERGED,2019-05-28 18:16:59.000000000,2019-06-01 02:32:11.000000000,2019-06-01 02:32:11.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-28 18:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22eccfbb6fb8cd21342a9c85ad791909cdbcce4c', 'message': 'Add regression recreate test for bug 1830747\n\nBefore change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when\na cold migration would reschedule to conductor it would not send the\nRequestSpec, only the filter_properties. The filter_properties contain\na primitive version of the instance group information from the RequestSpec\nfor things like the group members, hosts and policies, but not the uuid.\nWhen conductor is trying to reschedule the cold migration without a\nRequestSpec, it builds a RequestSpec from the components it has, like the\nfilter_properties. This results in a RequestSpec with an instance_group\nfield set but with no uuid field in the RequestSpec.instance_group.\nThat RequestSpec gets persisted and then because of change\nIe70c77db753711e1449e99534d3b83669871943f, later attempts to load the\nRequestSpec from the database will fail because of the missing\nRequestSpec.instance_group.uuid.\n\nThe test added here recreates the pre-Stein scenario which could still\nbe a problem (on master) for any corrupted RequestSpecs for older\ninstances.\n\nChange-Id: I05700c97f756edb7470be7273d5c9c3d76d63e29\nRelated-Bug: #1830747\n'}, {'number': 2, 'created': '2019-05-31 19:19:00.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1830747.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c96c7c5e13bde39944a9dde7da7fe418b311ca2d', 'message': 'Add regression recreate test for bug 1830747\n\nBefore change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when\na cold migration would reschedule to conductor it would not send the\nRequestSpec, only the filter_properties. The filter_properties contain\na primitive version of the instance group information from the RequestSpec\nfor things like the group members, hosts and policies, but not the uuid.\nWhen conductor is trying to reschedule the cold migration without a\nRequestSpec, it builds a RequestSpec from the components it has, like the\nfilter_properties. This results in a RequestSpec with an instance_group\nfield set but with no uuid field in the RequestSpec.instance_group.\nThat RequestSpec gets persisted and then because of change\nIe70c77db753711e1449e99534d3b83669871943f, later attempts to load the\nRequestSpec from the database will fail because of the missing\nRequestSpec.instance_group.uuid.\n\nThe test added here recreates the pre-Stein scenario which could still\nbe a problem (on master) for any corrupted RequestSpecs for older\ninstances.\n\nChange-Id: I05700c97f756edb7470be7273d5c9c3d76d63e29\nRelated-Bug: #1830747\n'}]",5,661822,c96c7c5e13bde39944a9dde7da7fe418b311ca2d,27,11,2,6873,,,0,"Add regression recreate test for bug 1830747

Before change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when
a cold migration would reschedule to conductor it would not send the
RequestSpec, only the filter_properties. The filter_properties contain
a primitive version of the instance group information from the RequestSpec
for things like the group members, hosts and policies, but not the uuid.
When conductor is trying to reschedule the cold migration without a
RequestSpec, it builds a RequestSpec from the components it has, like the
filter_properties. This results in a RequestSpec with an instance_group
field set but with no uuid field in the RequestSpec.instance_group.
That RequestSpec gets persisted and then because of change
Ie70c77db753711e1449e99534d3b83669871943f, later attempts to load the
RequestSpec from the database will fail because of the missing
RequestSpec.instance_group.uuid.

The test added here recreates the pre-Stein scenario which could still
be a problem (on master) for any corrupted RequestSpecs for older
instances.

Change-Id: I05700c97f756edb7470be7273d5c9c3d76d63e29
Related-Bug: #1830747
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/661822/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1830747.py'],1,22eccfbb6fb8cd21342a9c85ad791909cdbcce4c,bug/1830747,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import six from nova.conductor import api as conductor_api from nova import context as nova_context from nova import exception from nova import objects from nova.scheduler import weights from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as fake_image from nova.virt import fake as fake_virt class HostNameWeigher(weights.BaseHostWeigher): # Prefer host1 over host2. weights = {'host1': 100, 'host2': 50} def _weigh_object(self, host_state, weight_properties): return self.weights.get(host_state.host, 0) class MissingReqSpecInstanceGroupUUIDTestCase( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression recreate test for bug 1830747 Before change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when a cold migration would reschedule to conductor it would not send the RequestSpec, only the filter_properties. The filter_properties contain a primitive version of the instance group information from the RequestSpec for things like the group members, hosts and policies, but not the uuid. When conductor is trying to reschedule the cold migration without a RequestSpec, it builds a RequestSpec from the components it has, like the filter_properties. This results in a RequestSpec with an instance_group field set but with no uuid field in the RequestSpec.instance_group. That RequestSpec gets persisted and then because of change Ie70c77db753711e1449e99534d3b83669871943f, later attempts to load the RequestSpec from the database will fail because of the missing RequestSpec.instance_group.uuid. This test recreates the regression scenario by cold migrating a server to a host which fails and triggers a reschedule but without the RequestSpec so a RequestSpec is created/updated for the instance without the instance_group.uuid set which will lead to a failure loading the RequestSpec from the DB later. """""" def setUp(self): super(MissingReqSpecInstanceGroupUUIDTestCase, self).setUp() # Stub out external dependencies. self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) # Configure the API to allow resizing to the same host so we can keep # the number of computes down to two in the test. self.flags(allow_resize_to_same_host=True) # Start nova controller services. api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.start_service('conductor') # Use our custom weigher defined above to make sure that we have # a predictable scheduling sort order. self.flags(weight_classes=[__name__ + '.HostNameWeigher'], group='filter_scheduler') self.start_service('scheduler') # Start two computes, one where the server will be created and another # where we'll cold migrate it. self.addCleanup(fake_virt.restore_nodes) self.computes = {} # keep track of the compute services per host name for host in ('host1', 'host2'): fake_virt.set_nodes([host]) compute_service = self.start_service('compute', host=host) self.computes[host] = compute_service def test_cold_migrate_reschedule(self): # Create an anti-affinity group for the server. body = { 'server_group': { 'name': 'test-group', 'policies': ['anti-affinity'] } } group_id = self.api.api_post( '/os-server-groups', body).body['server_group']['id'] # Create a server in the group which should land on host1 due to our # custom weigher. server = self._build_minimal_create_server_request( self.api, 'test_cold_migrate_reschedule') body = dict(server=server) body['os:scheduler_hints'] = {'group': group_id} server = self.api.post_server(body) server = self._wait_for_state_change(self.api, server, 'ACTIVE') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # Verify the group uuid is set in the request spec. ctxt = nova_context.get_admin_context() reqspec = objects.RequestSpec.get_by_instance_uuid(ctxt, server['id']) self.assertEqual(group_id, reqspec.instance_group.uuid) # Stub out the ComputeTaskAPI.resize_instance method to not pass the # request spec from compute to conductor during a reschedule. # This simulates the pre-Stein reschedule behavior. original_resize_instance = conductor_api.ComputeTaskAPI.resize_instance def stub_resize_instance(_self, context, instance, extra_instance_updates, scheduler_hint, *args, **kwargs): # Only null out the request spec if we know we're rescheduling # which we can determine from the filter_properties retry dict. filter_properties = scheduler_hint['filter_properties'] if filter_properties.get('retry', {}).get('exc'): kwargs['request_spec'] = None return original_resize_instance( _self, context, instance, extra_instance_updates, scheduler_hint, *args, **kwargs) self.stub_out('nova.conductor.api.ComputeTaskAPI.resize_instance', stub_resize_instance) # Now cold migrate the server. Because of allow_resize_to_same_host and # the weigher, the scheduler will pick host1 first. The FakeDriver # actually allows migrating to the same host so we need to stub that # out so the compute will raise UnableToMigrateToSelf like when using # the libvirt driver. host1_driver = self.computes['host1'].driver with mock.patch.dict(host1_driver.capabilities, supports_migrate_to_same_host=False): self.api.post_server_action(server['id'], {'migrate': None}) # FIXME(mriedem): Due to bug 1830747 we don't go to VERIFY_RESIZE # because the reschedule fails and the instance is put into # ERROR status. When the bug is fixed the status should be # VERIFY_RESIZE and the server should be on host2. server = self._wait_for_state_change( self.api, server, 'ERROR') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # And the RequestSpec.instance_group.uuid should be missing which # leads to us failing to load the RequestSpec. ex = self.assertRaises(exception.ObjectActionError, objects.RequestSpec.get_by_instance_uuid, ctxt, server['id']) self.assertIn('unable to load uuid', six.text_type(ex)) ",,158,0
openstack%2Fnova~master~I76f777e4f354b92c55dbd52a20039e504434b3a1,openstack/nova,master,I76f777e4f354b92c55dbd52a20039e504434b3a1,Move _fill_provider_mapping to the scheduler_utils,MERGED,2019-04-23 12:04:40.000000000,2019-06-01 02:32:04.000000000,2019-06-01 02:32:03.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-23 12:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2fdc87e798a1546c29f46e68ed14b816598567c', 'message': 'Move _fill_provider_mapping to the scheduler_utils\n\nThe _fill_provider_mapping is called during boot and reschedule so far\nbut to support move operations with ports having resource request we\nneed to call it during various coductor tasks. So this patch move the\nfunction to the utils and adjust the name and the signature accordingly.\n\nblueprint: support-server-move-operations-with-ports-having-resource-request\n\nChange-Id: I76f777e4f354b92c55dbd52a20039e504434b3a1\n'}, {'number': 2, 'created': '2019-04-30 01:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16585c68c65dcbed1a53052f13d4106b4bec7918', 'message': 'Move _fill_provider_mapping to the scheduler_utils\n\nThe _fill_provider_mapping is called during boot and reschedule so far\nbut to support move operations with ports having resource request we\nneed to call it during various coductor tasks. So this patch move the\nfunction to the utils and adjust the name and the signature accordingly.\n\nblueprint: support-server-move-operations-with-ports-having-resource-request\n\nChange-Id: I76f777e4f354b92c55dbd52a20039e504434b3a1\n'}, {'number': 3, 'created': '2019-04-30 20:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0731372b2494014fd4c723c82796031f51f1d164', 'message': 'Move _fill_provider_mapping to the scheduler_utils\n\nThe _fill_provider_mapping is called during boot and reschedule so far\nbut to support move operations with ports having resource request we\nneed to call it during various coductor tasks. So this patch move the\nfunction to the utils and adjust the name and the signature accordingly.\n\nblueprint: support-server-move-operations-with-ports-having-resource-request\n\nChange-Id: I76f777e4f354b92c55dbd52a20039e504434b3a1\n'}, {'number': 4, 'created': '2019-05-03 16:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/785db2c0088cd47a4a1f5090bbc1426928f6d716', 'message': 'Move _fill_provider_mapping to the scheduler_utils\n\nThe _fill_provider_mapping is called during boot and reschedule so far\nbut to support move operations with ports having resource request we\nneed to call it during various coductor tasks. So this patch move the\nfunction to the utils and adjust the name and the signature accordingly.\n\nblueprint: support-server-move-operations-with-ports-having-resource-request\n\nChange-Id: I76f777e4f354b92c55dbd52a20039e504434b3a1\n'}, {'number': 5, 'created': '2019-05-10 12:12:10.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/276001914d42800ee39179948367e00a57870252', 'message': 'Move _fill_provider_mapping to the scheduler_utils\n\nThe _fill_provider_mapping is called during boot and reschedule so far\nbut to support move operations with ports having resource request we\nneed to call it during various coductor tasks. So this patch move the\nfunction to the utils and adjust the name and the signature accordingly.\n\nblueprint: support-move-ops-with-qos-ports\n\nChange-Id: I76f777e4f354b92c55dbd52a20039e504434b3a1\n'}]",4,655108,276001914d42800ee39179948367e00a57870252,90,15,5,9708,,,0,"Move _fill_provider_mapping to the scheduler_utils

The _fill_provider_mapping is called during boot and reschedule so far
but to support move operations with ports having resource request we
need to call it during various coductor tasks. So this patch move the
function to the utils and adjust the name and the signature accordingly.

blueprint: support-move-ops-with-qos-ports

Change-Id: I76f777e4f354b92c55dbd52a20039e504434b3a1
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/655108/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py']",3,f2fdc87e798a1546c29f46e68ed14b816598567c,bp/support-move-ops-with-qos-ports," fill = nova.scheduler.utils.fill_provider_mapping 'nova.scheduler.utils.fill_provider_mapping',"," fill = manager.ComputeTaskManager._fill_provider_mapping 'nova.conductor.manager.ComputeTaskManager.' '_fill_provider_mapping',",60,55
openstack%2Fheat~stable%2Fqueens~Iefd3cdd20bb51c63e7267ae0628e0f15544c0427,openstack/heat,stable/queens,Iefd3cdd20bb51c63e7267ae0628e0f15544c0427,Return None for attributes of sd with no actions,MERGED,2019-05-31 12:06:14.000000000,2019-06-01 02:26:39.000000000,2019-06-01 02:26:39.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 12:06:14.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/openstack/heat/test_software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9c7fa9ef5b7d0ecc87e3830e97571b61b8fd57be', 'message': ""Return None for attributes of sd with no actions\n\nIf the 'actions' property of a deployment is [], we don't\ncreate a software deployment in heat and resource_id of the\nsoftware deployment is None. However, there is a possibility\nthat we access the attributes of the sd in the template and\nthat results in TypeError as we try to make an rpc call to\nshow the software deployment for None.\n\nChange-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427\nTask: 33516\n(cherry picked from commit ee061103477ed7c9b4692a8b90817a127064fbcd)\n""}]",0,662442,9c7fa9ef5b7d0ecc87e3830e97571b61b8fd57be,7,2,1,8833,,,0,"Return None for attributes of sd with no actions

If the 'actions' property of a deployment is [], we don't
create a software deployment in heat and resource_id of the
software deployment is None. However, there is a possibility
that we access the attributes of the sd in the template and
that results in TypeError as we try to make an rpc call to
show the software deployment for None.

Change-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427
Task: 33516
(cherry picked from commit ee061103477ed7c9b4692a8b90817a127064fbcd)
",git fetch https://review.opendev.org/openstack/heat refs/changes/42/662442/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/openstack/heat/test_software_deployment.py']",2,9c7fa9ef5b7d0ecc87e3830e97571b61b8fd57be,, self.deployment.resource_id = 'c8a19429-7fde-47ea-a42f-40045488226c' self.deployment.resource_id = 'c8a19429-7fde-47ea-a42f-40045488226c',,9,7
openstack%2Fwatcher-specs~master~Id224bf37a72347e634567c933c42a12ef9b048d3,openstack/watcher-specs,master,Id224bf37a72347e634567c933c42a12ef9b048d3,Spec for Grafana proxy datasource,MERGED,2019-05-14 15:17:27.000000000,2019-06-01 02:21:04.000000000,2019-06-01 02:21:04.000000000,"[{'_account_id': 5575}, {'_account_id': 6873}, {'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-05-14 15:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/7091983ff16bceb7a81c4fc962f0d0f5decfd457', 'message': 'Spec for Grafana proxy datasource\n\nSpec for a new datasource to collect metrics using Grafana as a proxy\nto the databases it integrates with.\n\nChange-Id: Id224bf37a72347e634567c933c42a12ef9b048d3\nImplements: blueprint grafana-proxy-datasource\n'}, {'number': 2, 'created': '2019-05-14 17:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/9e637010280a3409a06acf50c87ca20e9768d7b0', 'message': 'Spec for Grafana proxy datasource\n\nSpec for a new datasource to collect metrics using Grafana as a proxy\nto the databases it integrates with.\n\nChange-Id: Id224bf37a72347e634567c933c42a12ef9b048d3\nImplements: blueprint grafana-proxy-datasource\n'}, {'number': 3, 'created': '2019-05-15 09:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/980cef2e63934858dda13db069bf66cdd75ef8e9', 'message': 'Spec for Grafana proxy datasource\n\nSpec for a new datasource to collect metrics using Grafana as a proxy\nto the databases it integrates with.\n\nChange-Id: Id224bf37a72347e634567c933c42a12ef9b048d3\nImplements: blueprint grafana-proxy-datasource\n'}, {'number': 4, 'created': '2019-05-22 11:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/7caeb8dba2f1e24a2e66cef5f482a32f8f89f6fc', 'message': 'Spec for Grafana proxy datasource\n\nSpec for a new datasource to collect metrics using Grafana as a proxy\nto the databases it integrates with.\n\nChange-Id: Id224bf37a72347e634567c933c42a12ef9b048d3\nImplements: blueprint grafana-proxy-datasource\n'}, {'number': 5, 'created': '2019-05-29 13:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/7ca4fa1b449718f04f98f9e8a0432031262e1560', 'message': 'Spec for Grafana proxy datasource\n\nSpec for a new datasource to collect metrics using Grafana as a proxy\nto the databases it integrates with.\n\nChange-Id: Id224bf37a72347e634567c933c42a12ef9b048d3\nImplements: blueprint grafana-proxy-datasource\n'}, {'number': 6, 'created': '2019-05-29 15:14:07.000000000', 'files': ['specs/train/approved/grafana-proxy-datasource.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/56c1f631a0e744f13512be341b526cce54855aad', 'message': 'Spec for Grafana proxy datasource\n\nSpec for a new datasource to collect metrics using Grafana as a proxy\nto the databases it integrates with.\n\nChange-Id: Id224bf37a72347e634567c933c42a12ef9b048d3\nImplements: blueprint grafana-proxy-datasource\n'}]",26,659099,56c1f631a0e744f13512be341b526cce54855aad,29,7,6,29911,,,0,"Spec for Grafana proxy datasource

Spec for a new datasource to collect metrics using Grafana as a proxy
to the databases it integrates with.

Change-Id: Id224bf37a72347e634567c933c42a12ef9b048d3
Implements: blueprint grafana-proxy-datasource
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/99/659099/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/grafana-proxy-datasource.rst'],1,7091983ff16bceb7a81c4fc962f0d0f5decfd457,grafana-proxy-datasource,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================== Grafana proxy datasource ======================== https://blueprints.launchpad.net/watcher/+spec/grafana-proxy-datasaource Watcher requires metrics from compute nodes and instances to perform the resource optimization. Metrics are retrieved using several different datasources such as Gnocchi and Monasca, however, not every OpenStack cloud might have the available datasources deployed. Grafana can be implemented as an additional datasource that can be used to retrieve metrics from several different databases that the Grafana endpoint is configured to use. Problem description =================== Not every OpenStack cloud might use the currently available datasources limiting the use of Watcher. By offering a widely used monitoring platform as datasource with flexible configurations options more OpenStack clouds could start using Watcher. Use Cases ---------- As a service operator I want Watcher to integrate with currently deployed monitoring solutions. Proposed change =============== The new Grafana datasource will be able to query for different metrics depending on what is configured by the end user. Flexible configuration options will allow Grafana to work for each users configuration. Some of these options will be configurable per metric using key value pairs in a dictionary, these options are called maps as they map the value to a specific metric. Configuration options include * Endpoint url * Authorization token * Project id map * Database map * Query map * Translator map The way queries have to be send to the endpoint and how to interpret the retrieved data will depend upon the database behind Grafana. To account for these differences between databases specific translators will be developed. The influxdb translator will be developed first. Because the amount of metrics available to Grafana depends on user configuration some minor changes are made to the datasource manager to build the metric list for Grafana at runtime. Currently `there is a transition`_ from using ``metric_map`` values as meter name to using keys as meter names when calling ``statistic_aggregation``. To account for this active transition the Grafana datasource will be able to interpret both the keys and values to call the appropriate metric method until the transition is complete. Similarly currently the metric map will soon be configured using a separate yaml file instead of in the main configuration. To anticipate `this change`_ the Grafana datasource will depend on the file based metric map and will be developed to work with. .. _there is a transition: https://specs.openstack.org/openstack/watcher-specs/specs/train/approved/formal-datasource-interface.html .. _this change: https://specs.openstack.org/openstack/watcher-specs/specs/train/approved/file-based-metricmap.html Alternatives ------------ Datasources for individual databases that Grafana integrates with could be developed but this would be significantly more development effort and possibly complicate authorization as it would have to be configured per database. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- The configuration file will need to contain the Grafana authorization token which provides read access to the databases Grafana is configured for. The configuration file already contains other important credentials. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Dantali0n Work Items ---------- * Configuration options * General Grafana datasource * Translator interface * InfluxDB translator * Unit tests for Grafana * Unit tests for translators Dependencies ============ * The communication with Grafana is realized using the requests library Testing ======= Unit tests for both the datasource itself as well as the translator base class and any subsequent translators will be created. Documentation Impact ==================== A page containing documentation on how end users can configure the options to successfully use Grafana as a datasource will be created. References ========== * https://specs.openstack.org/openstack/watcher-specs/specs/train/approved/formal-datasource-interface.html * https://specs.openstack.org/openstack/watcher-specs/specs/train/approved/file-based-metricmap.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,181,0
openstack%2Fnova~master~I9a9dab1dd71073ce94f40c782fd6c0275144265f,openstack/nova,master,I9a9dab1dd71073ce94f40c782fd6c0275144265f,Remove fake_libvirt_utils from libvirt imagebackend tests.,MERGED,2019-03-18 09:22:28.000000000,2019-06-01 02:07:56.000000000,2019-06-01 02:07:56.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 22896}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-18 09:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffcc896fd0d7eae295c8ba54455cd39e24d256a7', 'message': ""Remove fake_libvirt_utils from libvirt imagebackend tests.\n\nI can't really explain why there was so much mocking of\nmethods that only appear in fake_libvirt_utils (but not\nlibvirt.utils) here. I guess we're just lucky.\n\nChange-Id: I9a9dab1dd71073ce94f40c782fd6c0275144265f\n""}, {'number': 2, 'created': '2019-03-21 09:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1beb9000d134e2caf29c5360aa19474ed86ebed', 'message': ""Remove fake_libvirt_utils from libvirt imagebackend tests.\n\nI can't really explain why there was so much mocking of\nmethods that only appear in fake_libvirt_utils (but not\nlibvirt.utils) here. I guess we're just lucky.\n\nChange-Id: I9a9dab1dd71073ce94f40c782fd6c0275144265f\n""}, {'number': 3, 'created': '2019-04-02 08:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00007a16eaee99153f04a8ab59524af4329dbcd3', 'message': ""Remove fake_libvirt_utils from libvirt imagebackend tests.\n\nI can't really explain why there was so much mocking of\nmethods that only appear in fake_libvirt_utils (but not\nlibvirt.utils) here. I guess we're just lucky.\n\nChange-Id: I9a9dab1dd71073ce94f40c782fd6c0275144265f\n""}, {'number': 4, 'created': '2019-04-05 09:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e415ca460108161764b090f6b09e00fc9e0ef3a3', 'message': ""Remove fake_libvirt_utils from libvirt imagebackend tests.\n\nI can't really explain why there was so much mocking of\nmethods that only appear in fake_libvirt_utils (but not\nlibvirt.utils) here. I guess we're just lucky.\n\nChange-Id: I9a9dab1dd71073ce94f40c782fd6c0275144265f\n""}, {'number': 5, 'created': '2019-04-12 07:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dba932449bff658ba51b9dac7692a93474be8c61', 'message': ""Remove fake_libvirt_utils from libvirt imagebackend tests.\n\nI can't really explain why there was so much mocking of\nmethods that only appear in fake_libvirt_utils (but not\nlibvirt.utils) here. I guess we're just lucky.\n\nChange-Id: I9a9dab1dd71073ce94f40c782fd6c0275144265f\n""}, {'number': 6, 'created': '2019-04-22 22:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15dbcf440812d69177e896330edcecc09bbd79d6', 'message': ""Remove fake_libvirt_utils from libvirt imagebackend tests.\n\nI can't really explain why there was so much mocking of\nmethods that only appear in fake_libvirt_utils (but not\nlibvirt.utils) here. I guess we're just lucky.\n\nChange-Id: I9a9dab1dd71073ce94f40c782fd6c0275144265f\n""}, {'number': 7, 'created': '2019-05-13 20:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67b4cfdb5372b8607ce66654f925cd0088b0e957', 'message': ""Remove fake_libvirt_utils from libvirt imagebackend tests.\n\nI can't really explain why there was so much mocking of\nmethods that only appear in fake_libvirt_utils (but not\nlibvirt.utils) here. I guess we're just lucky.\n\nChange-Id: I9a9dab1dd71073ce94f40c782fd6c0275144265f\n""}, {'number': 8, 'created': '2019-05-31 17:23:44.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c1aa4dff0157abbde7f4cdccc638b79f77b94358', 'message': ""Remove fake_libvirt_utils from libvirt imagebackend tests.\n\nI can't really explain why there was so much mocking of\nmethods that only appear in fake_libvirt_utils (but not\nlibvirt.utils) here. I guess we're just lucky.\n\nChange-Id: I9a9dab1dd71073ce94f40c782fd6c0275144265f\n""}]",0,643895,c1aa4dff0157abbde7f4cdccc638b79f77b94358,69,11,8,2271,,,0,"Remove fake_libvirt_utils from libvirt imagebackend tests.

I can't really explain why there was so much mocking of
methods that only appear in fake_libvirt_utils (but not
libvirt.utils) here. I guess we're just lucky.

Change-Id: I9a9dab1dd71073ce94f40c782fd6c0275144265f
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/643895/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_imagebackend.py'],1,ffcc896fd0d7eae295c8ba54455cd39e24d256a7,fake-cleanup,"from nova.virt.libvirt import utils as libvirt_utils libvirt_utils.get_instance_path(self.INSTANCE), self.NAME) @mock.patch('nova.virt.libvirt.utils.copy_image') @mock.patch('nova.virt.libvirt.utils.copy_image') @mock.patch('nova.virt.libvirt.utils.copy_image') @mock.patch('nova.virt.libvirt.utils.create_cow_image') @mock.patch('nova.virt.libvirt.utils.create_cow_image') @mock.patch('nova.virt.libvirt.utils.create_cow_image') @mock.patch('nova.virt.libvirt.utils.create_cow_image') @mock.patch('nova.virt.libvirt.utils.get_disk_backing_file') @mock.patch('nova.virt.libvirt.utils.copy_image') @mock.patch('nova.virt.libvirt.utils.create_cow_image') @mock.patch('nova.virt.libvirt.utils.get_disk_backing_file') @mock.patch('nova.virt.libvirt.utils.copy_image')","from nova.tests.unit.virt.libvirt import fake_libvirt_utils fake_libvirt_utils.get_instance_path(self.INSTANCE), self.NAME) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.libvirt_utils', fake_libvirt_utils)) @mock.patch.object(fake_libvirt_utils, 'copy_image') @mock.patch.object(fake_libvirt_utils, 'copy_image') @mock.patch.object(fake_libvirt_utils, 'copy_image') @mock.patch.object(fake_libvirt_utils, 'create_cow_image') @mock.patch.object(fake_libvirt_utils, 'create_cow_image') @mock.patch.object(fake_libvirt_utils, 'create_cow_image') @mock.patch.object(fake_libvirt_utils, 'create_cow_image') @mock.patch.object(fake_libvirt_utils, 'get_disk_backing_file') @mock.patch.object(fake_libvirt_utils, 'copy_image') @mock.patch.object(fake_libvirt_utils, 'create_cow_image') @mock.patch.object(fake_libvirt_utils, 'get_disk_backing_file') mock.patch.object(self.libvirt_utils, 'create_lvm_image', mock.Mock()), mock.patch.object(self.libvirt_utils, 'remove_logical_volumes', mock.Mock()), mock.patch.object(self.libvirt_utils, 'create_lvm_image', mock.Mock()), mock.patch.object(self.libvirt_utils, 'remove_logical_volumes', mock.Mock()), mock.patch.object(self.libvirt_utils, 'create_lvm_image', mock.Mock()), mock.patch.object(self.libvirt_utils, 'remove_logical_volumes', mock.Mock()), mock.patch.object(self.libvirt_utils, 'create_lvm_image', mock.Mock()), mock.patch.object(self.libvirt_utils, 'remove_logical_volumes', mock.Mock()), mock.patch.object(self.libvirt_utils, 'create_lvm_image', mock.Mock()), mock.patch.object(self.libvirt_utils, 'remove_logical_volumes', mock.Mock()), mock.patch.object(self.libvirt_utils, 'create_lvm_image', mock.Mock()), mock.patch.object(self.libvirt_utils, 'remove_logical_volumes', mock.Mock()), mock.patch.object(self.libvirt_utils, 'create_lvm_image', mock.Mock()), mock.patch.object(self.libvirt_utils, 'remove_logical_volumes', mock.Mock()), @mock.patch.object(fake_libvirt_utils, 'copy_image')",14,46
openstack%2Fneutron~master~I0bb3187a88a7f20adb8c60e24945db159afb83f1,openstack/neutron,master,I0bb3187a88a7f20adb8c60e24945db159afb83f1,Notify ironic on port status changes,MERGED,2019-05-13 10:52:51.000000000,2019-06-01 02:07:46.000000000,2019-06-01 02:07:45.000000000,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 12860}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18051}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 24245}, {'_account_id': 26622}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-05-13 10:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a901c2d4759b238682bfe2e6f2440e328a4551ce', 'message': 'Notify ironic on port status changes\n\nThis patch adds an ironic notifier that sends notifications\nto ironic endpoint /v1/events. The events are triggered by\nport updates and deletions. Only ports with vnic_type\nbaremetal are honored.\n\nStory: 1304673\nTask: 22263\nCloses-Bug: #1828367\nAuthored-By: Vasyl Saienko <vsaienko@mirantis.com>\nCo-Authored-By: Harald Jensås <hjensas@redhat.com>\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: I0bb3187a88a7f20adb8c60e24945db159afb83f1\n'}, {'number': 2, 'created': '2019-05-13 12:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1143efef20b4acd580945858119d741c29080423', 'message': 'Notify ironic on port status changes\n\nThis patch adds an ironic notifier that sends notifications\nto ironic endpoint /v1/events. The events are triggered by\nport updates and deletions. Only ports with vnic_type\nbaremetal are honored.\n\nStory: 1304673\nTask: 22263\nCloses-Bug: #1828367\nAuthored-By: Vasyl Saienko <vsaienko@mirantis.com>\nCo-Authored-By: Harald Jensås <hjensas@redhat.com>\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: I0bb3187a88a7f20adb8c60e24945db159afb83f1\n'}, {'number': 3, 'created': '2019-05-13 18:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33ee1b63d9471c01d8ab65b4bbcbd955b6daf3f9', 'message': 'Notify ironic on port status changes\n\nThis patch adds an ironic notifier that sends notifications\nto ironic endpoint /v1/events. The events are triggered by\nport updates and deletions. Only ports with vnic_type\nbaremetal are honored.\n\nStory: 1304673\nTask: 22263\nCloses-Bug: #1828367\nAuthored-By: Vasyl Saienko <vsaienko@mirantis.com>\nCo-Authored-By: Harald Jensås <hjensas@redhat.com>\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: I0bb3187a88a7f20adb8c60e24945db159afb83f1\n'}, {'number': 4, 'created': '2019-05-15 16:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b555fba4a774a4eed1e777b143d8a4a9e34b0e98', 'message': 'Notify ironic on port status changes\n\nThis patch adds an ironic notifier that sends notifications\nto ironic endpoint /v1/events. The events are triggered by\nport updates and deletions. Only ports with vnic_type\nbaremetal are honored.\n\nStory: 1304673\nTask: 22263\nCloses-Bug: #1828367\nImplements: blueprint event-notifier-ironic\nAuthored-By: Vasyl Saienko <vsaienko@mirantis.com>\nCo-Authored-By: Harald Jensås <hjensas@redhat.com>\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: I0bb3187a88a7f20adb8c60e24945db159afb83f1\n'}, {'number': 5, 'created': '2019-05-21 08:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a312dfecad986f32f0cc8c323bd9cfad4d6adc7', 'message': 'Notify ironic on port status changes\n\nThis patch adds an ironic notifier that sends notifications\nto ironic endpoint /v1/events. The events are triggered by\nport updates and deletions. Only ports with vnic_type\nbaremetal are honored.\n\nStory: 1304673\nTask: 22263\nCloses-Bug: #1828367\nImplements: blueprint event-notifier-ironic\nAuthored-By: Vasyl Saienko <vsaienko@mirantis.com>\nCo-Authored-By: Harald Jensås <hjensas@redhat.com>\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: I0bb3187a88a7f20adb8c60e24945db159afb83f1\n'}, {'number': 6, 'created': '2019-05-27 11:40:08.000000000', 'files': ['neutron/notifiers/ironic.py', 'neutron/opts.py', 'requirements.txt', 'neutron/tests/unit/notifiers/test_ironic.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/common/config.py', 'etc/oslo-config-generator/neutron.conf', 'neutron/conf/common.py', 'lower-constraints.txt', 'releasenotes/notes/notifier-ironic-66391e083d78fee2.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/afff649a3900dd75ffe699f4a599bcbdc449598c', 'message': 'Notify ironic on port status changes\n\nThis patch adds an ironic notifier that sends notifications\nto ironic endpoint /v1/events. The events are triggered by\nport updates and deletions. Only ports with vnic_type\nbaremetal are honored.\n\nStory: 1304673\nTask: 22263\nCloses-Bug: #1828367\nImplements: blueprint event-notifier-ironic\nAuthored-By: Vasyl Saienko <vsaienko@mirantis.com>\nCo-Authored-By: Harald Jensås <hjensas@redhat.com>\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: I0bb3187a88a7f20adb8c60e24945db159afb83f1\n'}]",25,658787,afff649a3900dd75ffe699f4a599bcbdc449598c,63,16,6,24245,,,0,"Notify ironic on port status changes

This patch adds an ironic notifier that sends notifications
to ironic endpoint /v1/events. The events are triggered by
port updates and deletions. Only ports with vnic_type
baremetal are honored.

Story: 1304673
Task: 22263
Closes-Bug: #1828367
Implements: blueprint event-notifier-ironic
Authored-By: Vasyl Saienko <vsaienko@mirantis.com>
Co-Authored-By: Harald Jensås <hjensas@redhat.com>
Co-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>
Change-Id: I0bb3187a88a7f20adb8c60e24945db159afb83f1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/658787/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/ironic.py', 'neutron/opts.py', 'requirements.txt', 'neutron/tests/unit/notifiers/test_ironic.py', 'neutron/common/config.py', 'neutron/db/db_base_plugin_v2.py', 'etc/oslo-config-generator/neutron.conf', 'neutron/conf/common.py', 'releasenotes/notes/notifier-ironic-66391e083d78fee2.yaml', 'setup.cfg']",10,a901c2d4759b238682bfe2e6f2440e328a4551ce,story/1304673, ironic.auth = neutron.opts:list_ironic_auth_opts,,461,0
openstack%2Ftripleo-heat-templates~master~I4a54742671446f07b2fbd1fa230b4fb5b133db8a,openstack/tripleo-heat-templates,master,I4a54742671446f07b2fbd1fa230b4fb5b133db8a,mistral-event-engine: only import ::tripleo::profile::base::mistral,MERGED,2019-05-21 19:08:56.000000000,2019-06-01 01:14:45.000000000,2019-06-01 01:14:45.000000000,"[{'_account_id': 1}, {'_account_id': 6926}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-05-21 19:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f6b398ed11417ce49d2b51d7e1f06a1ccad4282', 'message': ""mistral-event-engine: only import ::tripleo::profile::base::mistral\n\n::tripleo::profile::base::mistral is the only puppet manifest that is\nneeded since ::mistral::event_engine (imported by\ntripleo::profile::base::mistral::event_engine) does nothing else but\nconfiguring services, installing packages (things we don't need with\ncontainers) and configuring some parameters that aren't overriden in\nTHT.\n\nChange-Id: I4a54742671446f07b2fbd1fa230b4fb5b133db8a\n""}, {'number': 2, 'created': '2019-05-27 12:31:00.000000000', 'files': ['deployment/mistral/mistral-event-engine-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cd8347c2c36586f3df4f64111e50db22898ef36', 'message': ""mistral-event-engine: only import ::tripleo::profile::base::mistral\n\n::tripleo::profile::base::mistral is the only puppet manifest that is\nneeded since ::mistral::event_engine (imported by\ntripleo::profile::base::mistral::event_engine) does nothing else but\nconfiguring services, installing packages (things we don't need with\ncontainers) and configuring some parameters that aren't overriden in\nTHT.\n\nChange-Id: I4a54742671446f07b2fbd1fa230b4fb5b133db8a\n""}]",0,660495,1cd8347c2c36586f3df4f64111e50db22898ef36,17,9,2,3153,,,0,"mistral-event-engine: only import ::tripleo::profile::base::mistral

::tripleo::profile::base::mistral is the only puppet manifest that is
needed since ::mistral::event_engine (imported by
tripleo::profile::base::mistral::event_engine) does nothing else but
configuring services, installing packages (things we don't need with
containers) and configuring some parameters that aren't overriden in
THT.

Change-Id: I4a54742671446f07b2fbd1fa230b4fb5b133db8a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/660495/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/mistral/mistral-event-engine-container-puppet.yaml'],1,4f6b398ed11417ce49d2b51d7e1f06a1ccad4282,puppet/config, - - include ::tripleo::profile::base::mistral, - - include ::tripleo::profile::base::mistral::event_engine,1,1
openstack%2Fpuppet-tripleo~stable%2Frocky~I3de131c022e183cb29aa1c5c9913af736afd0c4d,openstack/puppet-tripleo,stable/rocky,I3de131c022e183cb29aa1c5c9913af736afd0c4d,Rebuild initramfs after applying change in kernel parameters,MERGED,2019-05-31 04:00:28.000000000,2019-06-01 01:14:43.000000000,2019-06-01 01:14:43.000000000,"[{'_account_id': 11090}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-05-31 04:00:28.000000000', 'files': ['manifests/profile/base/kernel.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c5986da90e70e07d4c7ebb96a3866ffed7b52a62', 'message': 'Rebuild initramfs after applying change in kernel parameters\n\nThis patch makes sure that initramfs is rebuilt after applying\nchange in kernel pamraters, so that we also have these change\napplied in initramfs.\n\nChange-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d\nCloses-Bug: #1830574\n(cherry picked from commit 3ef8e3e35dbb43414becc4f561830bb731643ead)\n(cherry picked from commit 65471401b694cca93798a59ed9875474dab43c82)\n'}]",0,662377,c5986da90e70e07d4c7ebb96a3866ffed7b52a62,9,5,1,9816,,,0,"Rebuild initramfs after applying change in kernel parameters

This patch makes sure that initramfs is rebuilt after applying
change in kernel pamraters, so that we also have these change
applied in initramfs.

Change-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d
Closes-Bug: #1830574
(cherry picked from commit 3ef8e3e35dbb43414becc4f561830bb731643ead)
(cherry picked from commit 65471401b694cca93798a59ed9875474dab43c82)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/77/662377/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/kernel.pp'],1,c5986da90e70e07d4c7ebb96a3866ffed7b52a62,bug/1830574," # Rebuild initramfs to include kernel parameter changes in initramfs exec { 'rebuild initramfs': command => 'dracut -f -v', path => '/bin:/sbin:/usr/bin:/usr/sbin', refreshonly => true, } Sysctl <| |> ~> Exec <| title == 'rebuild initramfs' |>",,8,0
openstack%2Fnova~master~I2f90d6b109fe319f6b03fab9a3a2e2ca5c4e54e6,openstack/nova,master,I2f90d6b109fe319f6b03fab9a3a2e2ca5c4e54e6,Remove fake_libvirt_utils from virt driver tests.,MERGED,2019-03-18 09:22:28.000000000,2019-06-01 00:21:32.000000000,2019-06-01 00:21:32.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27679}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-03-18 09:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e13454e5e409bcacb85b2fb778db5afec6e9d89b', 'message': 'Remove fake_libvirt_utils from virt driver tests.\n\nWe were mocking this for all virt drivers, and the replacement to\nthe big scary magical thing is trivial.\n\nChange-Id: I2f90d6b109fe319f6b03fab9a3a2e2ca5c4e54e6\n'}, {'number': 2, 'created': '2019-03-21 09:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebb24302f28cb0ab59af9d74eb4abebdb3adc630', 'message': 'Remove fake_libvirt_utils from virt driver tests.\n\nWe were mocking this for all virt drivers, and the replacement to\nthe big scary magical thing is trivial.\n\nChange-Id: I2f90d6b109fe319f6b03fab9a3a2e2ca5c4e54e6\n'}, {'number': 3, 'created': '2019-04-02 08:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9658697c08d083858321f7253d4a85b613c9b2eb', 'message': 'Remove fake_libvirt_utils from virt driver tests.\n\nWe were mocking this for all virt drivers, and the replacement to\nthe big scary magical thing is trivial.\n\nChange-Id: I2f90d6b109fe319f6b03fab9a3a2e2ca5c4e54e6\n'}, {'number': 4, 'created': '2019-04-05 09:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb4a558ac51de88be23f2cfaa52bb4df23f8f34b', 'message': 'Remove fake_libvirt_utils from virt driver tests.\n\nWe were mocking this for all virt drivers, and the replacement to\nthe big scary magical thing is trivial.\n\nChange-Id: I2f90d6b109fe319f6b03fab9a3a2e2ca5c4e54e6\n'}, {'number': 5, 'created': '2019-04-12 07:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02c2dfad47fe9181e3591831928052deb87b1287', 'message': 'Remove fake_libvirt_utils from virt driver tests.\n\nWe were mocking this for all virt drivers, and the replacement to\nthe big scary magical thing is trivial.\n\nChange-Id: I2f90d6b109fe319f6b03fab9a3a2e2ca5c4e54e6\n'}, {'number': 6, 'created': '2019-04-22 22:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30dedda5779d19a8db9a3bd9079db780c1839ea4', 'message': 'Remove fake_libvirt_utils from virt driver tests.\n\nWe were mocking this for all virt drivers, and the replacement to\nthe big scary magical thing is trivial.\n\nChange-Id: I2f90d6b109fe319f6b03fab9a3a2e2ca5c4e54e6\n'}, {'number': 7, 'created': '2019-05-13 20:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0a9d04a65b01ad219de5801cb59b561ba0fd023', 'message': 'Remove fake_libvirt_utils from virt driver tests.\n\nWe were mocking this for all virt drivers, and the replacement to\nthe big scary magical thing is trivial.\n\nChange-Id: I2f90d6b109fe319f6b03fab9a3a2e2ca5c4e54e6\n'}, {'number': 8, 'created': '2019-05-31 17:23:44.000000000', 'files': ['nova/tests/unit/virt/test_virt_drivers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/30d6bc3c87f3228920bd65a708e5cea25255dec1', 'message': 'Remove fake_libvirt_utils from virt driver tests.\n\nWe were mocking this for all virt drivers, and the replacement to\nthe big scary magical thing is trivial.\n\nChange-Id: I2f90d6b109fe319f6b03fab9a3a2e2ca5c4e54e6\n'}]",3,643894,30d6bc3c87f3228920bd65a708e5cea25255dec1,74,12,8,2271,,,0,"Remove fake_libvirt_utils from virt driver tests.

We were mocking this for all virt drivers, and the replacement to
the big scary magical thing is trivial.

Change-Id: I2f90d6b109fe319f6b03fab9a3a2e2ca5c4e54e6
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/643894/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/test_virt_drivers.py'],1,e13454e5e409bcacb85b2fb778db5afec6e9d89b,fake-cleanup," @mock.patch('nova.virt.libvirt.utils.load_file', return_value='') def test_unrescue_unrescued_instance(self, mock_load_file, mock_unlink): # fake_libvirt_utils.files['dummy.log'] = ''","from nova.tests.unit.virt.libvirt import fake_libvirt_utils from nova.tests.unit.virt.libvirt import fake_libvirt_utils self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.libvirt_utils', fake_libvirt_utils)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.libvirt_utils', fake_libvirt_utils)) def test_unrescue_unrescued_instance(self, mock_unlink): fake_libvirt_utils.files['dummy.log'] = ''",3,10
openstack%2Fneutron~master~I429d2477d1b379de06d666edbdef4a9afcfe4b5d,openstack/neutron,master,I429d2477d1b379de06d666edbdef4a9afcfe4b5d,update sriov config docs for live migration support.,MERGED,2019-05-30 17:55:25.000000000,2019-05-31 23:59:41.000000000,2019-05-31 23:59:41.000000000,"[{'_account_id': 4187}, {'_account_id': 6873}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-30 17:55:25.000000000', 'files': ['doc/source/admin/config-sriov.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fec048c5614b6d903fcb553810d068b29c1ca8a6', 'message': 'update sriov config docs for live migration support.\n\n- In the train release of Nova SR-IOV live migration\n  support was added to the libvirt virt driver.\n- This change updated the admin config docs to reflect\n  that live migration is now supported.\n\nChange-Id: I429d2477d1b379de06d666edbdef4a9afcfe4b5d\n'}]",2,662275,fec048c5614b6d903fcb553810d068b29c1ca8a6,13,8,1,11604,,,0,"update sriov config docs for live migration support.

- In the train release of Nova SR-IOV live migration
  support was added to the libvirt virt driver.
- This change updated the admin config docs to reflect
  that live migration is now supported.

Change-Id: I429d2477d1b379de06d666edbdef4a9afcfe4b5d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/662275/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-sriov.rst'],1,fec048c5614b6d903fcb553810d068b29c1ca8a6,bp/libvirt-neutron-sriov-livemigration,* Live migration support has been added to the Libvirt Nova virt-driver in the Train release for instances with neutron SR-IOV ports. Indirect mode SR-IOV interfaces (vnic-type: macvtap or virtio-forwarder) can now be migrated transparently to the guest. Direct mode SR-IOV interfaces (vnic-type: direct or direct-physical) are detached before the migration and reattached after the migration so this is not transparent to the guest. To avoid loss of network connectivy when live migrating with direct mode sriov the user should create a failover bond in the guest with a transparently live migration port type e.g. vnic-type normal or indirect mode SR-IOV.,* Live migration is not supported for instances with SR-IOV ports.,8,1
openstack%2Fopenstack-helm-infra~master~Iccd4342fe16d06787cb24342d9a57e4de12e6980,openstack/openstack-helm-infra,master,Iccd4342fe16d06787cb24342d9a57e4de12e6980,Elasticsearch: kill process after data node drain,MERGED,2019-05-30 20:13:29.000000000,2019-05-31 23:48:33.000000000,2019-05-31 23:48:33.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-05-30 20:13:29.000000000', 'files': ['elasticsearch/templates/bin/_elasticsearch.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b0706544f711bdaa010e088e98962a3dfd0b614d', 'message': 'Elasticsearch: kill process after data node drain\n\nThis updates the Elasticsearch entrypoint override for the data\nnodes to include a signal to kill the process after the trap to\ndrain each data node completes\n\nChange-Id: Iccd4342fe16d06787cb24342d9a57e4de12e6980\n'}]",0,662314,b0706544f711bdaa010e088e98962a3dfd0b614d,12,5,1,17591,,,0,"Elasticsearch: kill process after data node drain

This updates the Elasticsearch entrypoint override for the data
nodes to include a signal to kill the process after the trap to
drain each data node completes

Change-Id: Iccd4342fe16d06787cb24342d9a57e4de12e6980
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/14/662314/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/templates/bin/_elasticsearch.sh.tpl'],1,b0706544f711bdaa010e088e98962a3dfd0b614d,update-es-entrypoint, kill -TERM 1,,1,0
openstack%2Ftripleo-heat-templates~master~I5fbd66958a912db29c3e8fee025eaecebc067b71,openstack/tripleo-heat-templates,master,I5fbd66958a912db29c3e8fee025eaecebc067b71,"Move vpp, and veritas-hyperscale into deployment",MERGED,2019-04-24 18:06:55.000000000,2019-05-31 23:45:56.000000000,2019-05-31 23:45:56.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-24 18:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e37781ac0b4ad8c5221ce22b0e2bad3c85145963', 'message': 'Move vpp, and veritas-hyperscale into deployment\n\nChange-Id: I5fbd66958a912db29c3e8fee025eaecebc067b71\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 2, 'created': '2019-04-25 13:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8faeeafae6d4146811834fd5eb8b347191258acd', 'message': 'Move vpp, and veritas-hyperscale into deployment\n\nChange-Id: I5fbd66958a912db29c3e8fee025eaecebc067b71\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 3, 'created': '2019-05-13 14:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8b616ffa41e6f52c272876bbcedb0de1263c99f', 'message': 'Move vpp, and veritas-hyperscale into deployment\n\nChange-Id: I5fbd66958a912db29c3e8fee025eaecebc067b71\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 4, 'created': '2019-05-30 20:37:33.000000000', 'files': ['deployment/veritas-hyperscale/veritas-hyperscale-controller-baremetal-puppet.yaml', 'environments/neutron-ml2-vpp.yaml', 'deployment/vpp/vpp-baremetal-puppet.yaml', 'environments/services/vpp.yaml', 'environments/veritas-hyperscale/veritas-hyperscale-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d799f4193dee18e06b6bf1b68982c9a566c7224e', 'message': 'Move vpp, and veritas-hyperscale into deployment\n\nChange-Id: I5fbd66958a912db29c3e8fee025eaecebc067b71\nRelated-Blueprint: services-yaml-flattening\n'}]",0,655513,d799f4193dee18e06b6bf1b68982c9a566c7224e,25,7,4,360,,,0,"Move vpp, and veritas-hyperscale into deployment

Change-Id: I5fbd66958a912db29c3e8fee025eaecebc067b71
Related-Blueprint: services-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/655513/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/veritas-hyperscale/veritas-hyperscale-controller-baremetal-puppet.yaml', 'deployment/vpp/vpp-baremetal-puppet.yaml', 'environments/neutron-ml2-vpp.yaml', 'environments/services/vpp.yaml', 'environments/veritas-hyperscale/veritas-hyperscale-config.yaml']",5,e37781ac0b4ad8c5221ce22b0e2bad3c85145963,bp/services-yaml-flattening, OS::TripleO::Services::VRTSHyperScale: ../../deployment/veritas-hyperscale/veritas-hyperscale-controller-baremetal-puppet.yaml, OS::TripleO::Services::VRTSHyperScale: ../../puppet/services/veritas-hyperscale-controller.yaml,3,4
openstack%2Fproject-config~master~I905777efa387d4a7e570ab53e545bd267df75ad1,openstack/project-config,master,I905777efa387d4a7e570ab53e545bd267df75ad1,Update infra-specs link,MERGED,2019-05-30 18:52:20.000000000,2019-05-31 23:43:56.000000000,2019-05-31 23:43:56.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 18:52:20.000000000', 'files': ['docs-site/infra-index.html.tmpl'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a68b03673cd9bf4ba95e1afcfb4366fda8d86ac8', 'message': 'Update infra-specs link\n\nUpdate link for infra-specs published documents at page\ndocs.openstack.org/infra\n\nChange-Id: I905777efa387d4a7e570ab53e545bd267df75ad1\n'}]",0,662293,a68b03673cd9bf4ba95e1afcfb4366fda8d86ac8,7,3,1,6547,,,0,"Update infra-specs link

Update link for infra-specs published documents at page
docs.openstack.org/infra

Change-Id: I905777efa387d4a7e570ab53e545bd267df75ad1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/662293/1 && git format-patch -1 --stdout FETCH_HEAD,['docs-site/infra-index.html.tmpl'],1,a68b03673cd9bf4ba95e1afcfb4366fda8d86ac8,infra-specs," <dd><a href=""https://docs.opendev.org/opendev/infra-specs/latest/"">"," <dd><a href=""http://specs.openstack.org/openstack-infra/infra-specs/"">",1,1
openstack%2Fproject-config~master~Ibabbe59b65eb52b32aa636487450b8ae1dd89269,openstack/project-config,master,Ibabbe59b65eb52b32aa636487450b8ae1dd89269,Use retired ACL everywhere,MERGED,2019-05-30 13:46:44.000000000,2019-05-31 23:43:54.000000000,2019-05-31 23:43:54.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 13:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c0e19304d354cb5b5c9b2ac17d088a9cb5ce9888', 'message': 'Use retired ACL everywhere\n\nUse the shared retired ACL for all retired repos, remove thus obsolete\nACLs.\n\nChange-Id: Ibabbe59b65eb52b32aa636487450b8ae1dd89269\n'}, {'number': 2, 'created': '2019-05-30 14:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9f1ca214c275bea0c530e170dcee694ff1e077b0', 'message': 'Use retired ACL everywhere\n\nUse the shared retired ACL for all retired repos, remove thus obsolete\nACLs.\n\nChange-Id: Ibabbe59b65eb52b32aa636487450b8ae1dd89269\n'}, {'number': 3, 'created': '2019-05-31 15:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c84e790dd2c7bc4d395fb9d6f982fff506ff9c8a', 'message': 'Use retired ACL everywhere\n\nUse the shared retired ACL for all retired repos, remove thus obsolete\nACLs.\n\nChange-Id: Ibabbe59b65eb52b32aa636487450b8ae1dd89269\n'}, {'number': 4, 'created': '2019-05-31 18:55:21.000000000', 'files': ['gerrit/acls/openstack-attic/object-api.config', 'gerrit/acls/openstack-attic/identity-api.config', 'gerrit/acls/stackforge-attic/murano-metadataclient.config', 'gerrit/acls/stackforge-attic/tuskar-ui-extras.config', 'gerrit/acls/openstack-attic/oslo.version.config', 'gerrit/acls/openstack-attic/python-melangeclient.config', 'gerrit/acls/stackforge-attic/murano-docs.config', 'gerrit/acls/stackforge-attic/fuel-plugin-group-based-policy.config', 'gerrit/acls/openstack-attic/image-api.config', 'gerrit/acls/stackforge-attic/zvm-driver.config', 'gerrit/acls/openstack-attic/melange.config', 'gerrit/projects.yaml', 'gerrit/acls/openstack-attic/volume-api.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-notification.config', 'gerrit/acls/stackforge-attic/murano-repository.config', 'gerrit/acls/openstack-attic/database-api.config', 'gerrit/acls/stackforge-attic/murano-common.config', 'gerrit/acls/openstack-attic/netconn-api.config', 'gerrit/acls/stackforge-attic/murano-conductor.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-persister.config', 'gerrit/acls/openstack-attic/compute-api.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-api.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-thresh.config', 'gerrit/acls/stackforge-attic/cookbook-ceph.config', 'gerrit/acls/openstack-attic/openstack-qa.config', 'gerrit/acls/stackforge-attic/fuel-plugin-external-nfs.config', 'gerrit/acls/openstack-attic/openstack-security-notes.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-schema.config', 'gerrit/acls/stackforge-attic/murano-tests.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-agent.config', 'gerrit/acls/openstack-attic/akanda.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2a72b2c1f8c365c4af6b8dbdbe2a20cdbb962e33', 'message': 'Use retired ACL everywhere\n\nUse the shared retired ACL for all retired repos, remove thus obsolete\nACLs.\n\nChange-Id: Ibabbe59b65eb52b32aa636487450b8ae1dd89269\n'}]",0,662223,2a72b2c1f8c365c4af6b8dbdbe2a20cdbb962e33,15,4,4,6547,,,0,"Use retired ACL everywhere

Use the shared retired ACL for all retired repos, remove thus obsolete
ACLs.

Change-Id: Ibabbe59b65eb52b32aa636487450b8ae1dd89269
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/662223/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack-attic/object-api.config', 'gerrit/acls/openstack-attic/identity-api.config', 'gerrit/acls/stackforge-attic/murano-metadataclient.config', 'gerrit/acls/stackforge-attic/tuskar-ui-extras.config', 'gerrit/acls/openstack-attic/oslo.version.config', 'gerrit/acls/openstack-attic/python-melangeclient.config', 'gerrit/acls/stackforge-attic/murano-docs.config', 'gerrit/acls/stackforge-attic/fuel-plugin-group-based-policy.config', 'gerrit/acls/openstack-attic/image-api.config', 'gerrit/acls/stackforge-attic/zvm-driver.config', 'gerrit/acls/openstack-attic/melange.config', 'gerrit/projects.yaml', 'gerrit/acls/openstack-attic/volume-api.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-notification.config', 'gerrit/acls/stackforge-attic/murano-repository.config', 'gerrit/acls/openstack-attic/database-api.config', 'gerrit/acls/stackforge-attic/murano-common.config', 'gerrit/acls/openstack-attic/netconn-api.config', 'gerrit/acls/stackforge-attic/murano-conductor.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-persister.config', 'gerrit/acls/openstack-attic/compute-api.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-api.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-thresh.config', 'gerrit/acls/stackforge-attic/cookbook-ceph.config', 'gerrit/acls/openstack-attic/openstack-qa.config', 'gerrit/acls/stackforge-attic/fuel-plugin-external-nfs.config', 'gerrit/acls/openstack-attic/openstack-security-notes.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-schema.config', 'gerrit/acls/stackforge-attic/murano-tests.config', 'gerrit/acls/stackforge-attic/cookbook-monasca-agent.config', 'gerrit/acls/openstack-attic/akanda.config']",31,c0e19304d354cb5b5c9b2ac17d088a9cb5ce9888,retired-acls,,[project] state = read only ,30,61
openstack%2Fproject-config~master~I497d989fc005cf71b29b5dc19bf4bb41c6fff60c,openstack/project-config,master,I497d989fc005cf71b29b5dc19bf4bb41c6fff60c,Remove unused ACLs,MERGED,2019-05-29 08:37:15.000000000,2019-05-31 23:43:52.000000000,2019-05-31 23:43:52.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 08:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2fb2287e95538905b407d1b4c279a7f300edc58c', 'message': 'Remove unused ACLs\n\nRemove a few ACLs files that are not used.\n\nRemove also notification for a repo that does not exist.\n\nChange-Id: I497d989fc005cf71b29b5dc19bf4bb41c6fff60c\n'}, {'number': 2, 'created': '2019-05-31 15:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d89b2baebb72e18d0ed320943391b4e0f42b2217', 'message': 'Remove unused ACLs\n\nRemove a few ACLs files that are not used.\n\nChange-Id: I497d989fc005cf71b29b5dc19bf4bb41c6fff60c\n'}, {'number': 3, 'created': '2019-05-31 18:55:35.000000000', 'files': ['gerrit/acls/openstack-infra/gerrit-verification-status-plugin.config', 'gerrit/acls/openstack-infra/config.config', 'gerrit/acls/openstack-infra/ansible-build-image.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/63ff2f0532de241be5352f0b440863043dc076cb', 'message': 'Remove unused ACLs\n\nRemove a few ACLs files that are not used.\n\nChange-Id: I497d989fc005cf71b29b5dc19bf4bb41c6fff60c\n'}]",0,661913,63ff2f0532de241be5352f0b440863043dc076cb,14,4,3,6547,,,0,"Remove unused ACLs

Remove a few ACLs files that are not used.

Change-Id: I497d989fc005cf71b29b5dc19bf4bb41c6fff60c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/661913/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack-infra/gerrit-verification-status-plugin.config', 'gerritbot/channels.yaml', 'gerrit/acls/openstack-infra/config.config', 'gerrit/acls/openstack-infra/ansible-build-image.config']",4,2fb2287e95538905b407d1b4c279a7f300edc58c,unused-acls,,"[access ""refs/heads/*""] abandon = group ansible-build-image-core label-Code-Review = -2..+2 group ansible-build-image-core label-Workflow = -1..+1 group ansible-build-image-core [access ""refs/tags/*""] pushSignedTag = group ansible-build-image-release [receive] requireChangeId = true [submit] mergeContent = true ",0,35
openstack%2Fproject-config~master~I4193ac59b431d31f3ce835c93950745e5b742418,openstack/project-config,master,I4193ac59b431d31f3ce835c93950745e5b742418,Check ACLs for all namespaces,MERGED,2019-05-31 18:15:46.000000000,2019-05-31 23:43:21.000000000,2019-05-31 23:43:21.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 18:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cae5c2e359f47d489c391cc7bbe76bf38238bda1', 'message': 'Check ACLs for all namespaces\n\nRemove hardcoded list of namespaces with iterating over all directories\nin the check of valid ACLs.\n\nChange-Id: I4193ac59b431d31f3ce835c93950745e5b742418\n'}, {'number': 2, 'created': '2019-05-31 18:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/257b442f9522c39bc9923bb40be35c7e3070a512', 'message': 'Check ACLs for all namespaces\n\nRemove hardcoded list of namespaces with iterating over all directories\nin the check of valid ACLs.\n\nChange-Id: I4193ac59b431d31f3ce835c93950745e5b742418\n'}, {'number': 3, 'created': '2019-05-31 19:53:29.000000000', 'files': ['tools/check_valid_gerrit_config.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7114e79485166e23d4d57eab25fee7dedd2b6f6c', 'message': ""Check ACLs for all namespaces\n\nRemove hardcoded list of namespaces with iterating over all directories\nin the check of valid ACLs.\n\nRemove parameter, we don't need to pass it in.\n\nBe more verbose and report directories scanned and number of ACL files\nread.\n\nChange-Id: I4193ac59b431d31f3ce835c93950745e5b742418\n""}]",0,662537,7114e79485166e23d4d57eab25fee7dedd2b6f6c,15,4,3,6547,,,0,"Check ACLs for all namespaces

Remove hardcoded list of namespaces with iterating over all directories
in the check of valid ACLs.

Remove parameter, we don't need to pass it in.

Be more verbose and report directories scanned and number of ACL files
read.

Change-Id: I4193ac59b431d31f3ce835c93950745e5b742418
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/662537/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check_valid_gerrit_config.sh'],1,cae5c2e359f47d489c391cc7bbe76bf38238bda1,hotfix2,"for namespace in $CONFIGS_LIST_BASE/*; do if [ -d $namespace ] ; then check_team_acl ""${namespace}"" fi","for namespace in openstack openstack-infra stackforge; do check_team_acl ""${CONFIGS_LIST_BASE}${namespace}""",4,2
openstack%2Fpuppet-nova~master~Ib007f1f647c80e79fee2b01bbf6c3dd66e4d1139,openstack/puppet-nova,master,Ib007f1f647c80e79fee2b01bbf6c3dd66e4d1139,Consistent project name,MERGED,2019-05-24 23:22:04.000000000,2019-05-31 23:13:24.000000000,2019-05-31 23:13:24.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-24 23:22:04.000000000', 'files': ['releasenotes/notes/consistent-project-name-40ef75b7e11461f4.yaml', 'manifests/metadata/novajoin/api.pp', 'spec/classes/nova_metadata_novajoin_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/215624858a95fa63842c6c5dd31bbd3da4f57959', 'message': 'Consistent project name\n\nChange-Id: Ib007f1f647c80e79fee2b01bbf6c3dd66e4d1139\n'}]",0,661418,215624858a95fa63842c6c5dd31bbd3da4f57959,9,5,1,16137,,,0,"Consistent project name

Change-Id: Ib007f1f647c80e79fee2b01bbf6c3dd66e4d1139
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/18/661418/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/consistent-project-name-40ef75b7e11461f4.yaml', 'manifests/metadata/novajoin/api.pp', 'spec/classes/nova_metadata_novajoin_api_spec.rb']",3,215624858a95fa63842c6c5dd31bbd3da4f57959,consistent-project-name," :project_name => 'services', :project_name => 'services',"," :project_name => 'service', :project_name => 'service',",9,4
openstack%2Ftripleo-heat-templates~master~I4000381a48f21263935518aca38cedcb792094d9,openstack/tripleo-heat-templates,master,I4000381a48f21263935518aca38cedcb792094d9,"Move masq-nets, swift-external, and validations to deployment",MERGED,2019-04-24 18:06:55.000000000,2019-05-31 23:07:07.000000000,2019-05-31 23:07:07.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-24 18:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c4e34d237f7099ef1adba695593b430c1c37f00', 'message': 'Move masq-nets, swift-external, and validations to deployment\n\nChange-Id: I4000381a48f21263935518aca38cedcb792094d9\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 2, 'created': '2019-04-25 13:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a727263cf6f0b0c972bd4c4f0711af923495d6c', 'message': 'Move masq-nets, swift-external, and validations to deployment\n\nChange-Id: I4000381a48f21263935518aca38cedcb792094d9\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 3, 'created': '2019-05-13 14:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fb453372b3b5e789f955da9f3e0e844367c1af3', 'message': 'Move masq-nets, swift-external, and validations to deployment\n\nChange-Id: I4000381a48f21263935518aca38cedcb792094d9\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 4, 'created': '2019-05-30 20:37:30.000000000', 'files': ['deployment/swift/external-swift-proxy-baremetal-puppet.yaml', 'environments/services/masquerade-networks.yaml', 'environments/tripleo-validations.yaml', 'deployment/validations/tripleo-validations-baremetal-puppet.yaml', 'environments/swift-external.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ae00015e49a91d583b5ff6508741697e6995e7d', 'message': 'Move masq-nets, swift-external, and validations to deployment\n\nChange-Id: I4000381a48f21263935518aca38cedcb792094d9\nRelated-Blueprint: services-yaml-flattening\n'}]",0,655512,3ae00015e49a91d583b5ff6508741697e6995e7d,22,5,4,360,,,0,"Move masq-nets, swift-external, and validations to deployment

Change-Id: I4000381a48f21263935518aca38cedcb792094d9
Related-Blueprint: services-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/655512/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/swift/external-swift-proxy-baremetal-puppet.yaml', 'environments/services/masquerade-networks.yaml', 'environments/tripleo-validations.yaml', 'deployment/validations/tripleo-validations-baremetal-puppet.yaml', 'environments/swift-external.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-puppet.yaml']",6,5c4e34d237f7099ef1adba695593b430c1c37f00,bp/services-yaml-flattening,,,3,3
openstack%2Ftripleo-heat-templates~master~I152762c33ef31a580ce1c7fba5f5e81146b2f00b,openstack/tripleo-heat-templates,master,I152762c33ef31a580ce1c7fba5f5e81146b2f00b,"Move auditd, ca-cert, certmonger to deployment",MERGED,2019-04-24 17:31:33.000000000,2019-05-31 23:07:05.000000000,2019-05-31 23:07:05.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-04-24 17:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36949664c38f94ceda7081bd26fe20e805248074', 'message': 'Move auditd, ca-cert, certmonger to deployment\n\nChange-Id: I152762c33ef31a580ce1c7fba5f5e81146b2f00b\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 2, 'created': '2019-04-25 13:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/123aaf1de358e75556450a8483b4e8ab5402be21', 'message': 'Move auditd, ca-cert, certmonger to deployment\n\nChange-Id: I152762c33ef31a580ce1c7fba5f5e81146b2f00b\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 3, 'created': '2019-05-13 14:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfc67cf9ff9e5be28d697947977bf85222ade85e', 'message': 'Move auditd, ca-cert, certmonger to deployment\n\nChange-Id: I152762c33ef31a580ce1c7fba5f5e81146b2f00b\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 4, 'created': '2019-05-30 20:37:25.000000000', 'files': ['sample-env-generator/ssl.yaml', 'deployment/certs/certmonger-user-baremetal-puppet.yaml', 'environments/ssl/enable-internal-tls.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/certs/ca-certs-baremetal-puppet.yaml', 'environments/auditd.yaml', 'deployment/auditd/auditd-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e2750b72d316476983e19dc150dd19cb5421269', 'message': 'Move auditd, ca-cert, certmonger to deployment\n\nChange-Id: I152762c33ef31a580ce1c7fba5f5e81146b2f00b\nRelated-Blueprint: services-yaml-flattening\n'}]",0,655508,2e2750b72d316476983e19dc150dd19cb5421269,25,6,4,360,,,0,"Move auditd, ca-cert, certmonger to deployment

Change-Id: I152762c33ef31a580ce1c7fba5f5e81146b2f00b
Related-Blueprint: services-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/655508/4 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/ssl.yaml', 'deployment/certs/certmonger-user-baremetal-puppet.yaml', 'environments/ssl/enable-internal-tls.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/certs/ca-certs-baremetal-puppet.yaml', 'environments/auditd.yaml', 'deployment/auditd/auditd-baremetal-puppet.yaml']",7,36949664c38f94ceda7081bd26fe20e805248074,bp/services-yaml-flattening,,,6,8
openstack%2Fopenstack-helm-infra~master~Ibe640979002331693f0a9b6155c9014572294664,openstack/openstack-helm-infra,master,Ibe640979002331693f0a9b6155c9014572294664,Fluentd: Use fqdn hostname for Elasticsearch service,MERGED,2019-05-31 19:42:57.000000000,2019-05-31 23:01:18.000000000,2019-05-31 23:01:18.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-05-31 19:42:57.000000000', 'files': ['fluentd/templates/deployment-fluentd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/277b54fc65d6e31a99eddc0adf1aacd7cd469cb3', 'message': 'Fluentd: Use fqdn hostname for Elasticsearch service\n\nThis moves Fluentd to use the helm-toolkit endpoint lookup for\nusing the fqdn for the Elasticsearch hostname instead of the\nstandard short host name\n\nChange-Id: Ibe640979002331693f0a9b6155c9014572294664\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,662560,277b54fc65d6e31a99eddc0adf1aacd7cd469cb3,7,3,1,17591,,,0,"Fluentd: Use fqdn hostname for Elasticsearch service

This moves Fluentd to use the helm-toolkit endpoint lookup for
using the fqdn for the Elasticsearch hostname instead of the
standard short host name

Change-Id: Ibe640979002331693f0a9b6155c9014572294664
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/60/662560/1 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/templates/deployment-fluentd.yaml'],1,277b54fc65d6e31a99eddc0adf1aacd7cd469cb3,fluentd-es-host," value: {{ tuple ""elasticsearch"" ""internal"" . | include ""helm-toolkit.endpoints.hostname_fqdn_endpoint_lookup"" | quote }}"," value: {{ tuple ""elasticsearch"" ""internal"" . | include ""helm-toolkit.endpoints.hostname_short_endpoint_lookup"" | quote }}",1,1
openstack%2Ftripleo-heat-templates~master~I87b061f1491fbc6a11740b229c17156a5a68a94a,openstack/tripleo-heat-templates,master,I87b061f1491fbc6a11740b229c17156a5a68a94a,Move openvswitch into deployments,MERGED,2019-04-23 17:58:05.000000000,2019-05-31 22:49:45.000000000,2019-05-31 22:49:45.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-04-23 17:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42e941e6bf05b947cdc0d97052869019f51373cc', 'message': 'Move openvswitch into deployments\n\nChange-Id: I87b061f1491fbc6a11740b229c17156a5a68a94a\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 2, 'created': '2019-04-25 13:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ac575f0b0d38157a9822642356e6ea97b868657', 'message': 'Move openvswitch into deployments\n\nChange-Id: I87b061f1491fbc6a11740b229c17156a5a68a94a\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 3, 'created': '2019-05-13 14:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2ed794dcfe57f99a269a3a397ffc80e7dbc5e43', 'message': 'Move openvswitch into deployments\n\nChange-Id: I87b061f1491fbc6a11740b229c17156a5a68a94a\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 4, 'created': '2019-05-30 20:37:07.000000000', 'files': ['deployment/openvswitch/openvswitch-baremetal-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/deprecated/opendaylight/opendaylight-ovs-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48ca0b4ace50d9ceb89959496d8ed92c0bfcfc7b', 'message': 'Move openvswitch into deployments\n\nChange-Id: I87b061f1491fbc6a11740b229c17156a5a68a94a\nRelated-Blueprint: services-yaml-flattening\n'}]",0,655223,48ca0b4ace50d9ceb89959496d8ed92c0bfcfc7b,28,7,4,360,,,0,"Move openvswitch into deployments

Change-Id: I87b061f1491fbc6a11740b229c17156a5a68a94a
Related-Blueprint: services-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/655223/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/openvswitch/openvswitch-baremetal-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/deprecated/opendaylight/opendaylight-ovs-baremetal-puppet.yaml']",3,42e941e6bf05b947cdc0d97052869019f51373cc,bp/services-yaml-flattening, type: ../../openvswitch/openvswitch-baremetal-puppet.yaml, type: ./openvswitch.yaml,2,2
openstack%2Fansible-role-collect-logs~master~I8df72ef9bca9d32a2fb55a865905731ec86549ad,openstack/ansible-role-collect-logs,master,I8df72ef9bca9d32a2fb55a865905731ec86549ad,Grab cloud-init logs,MERGED,2019-05-14 16:56:27.000000000,2019-05-31 22:38:20.000000000,2019-05-31 22:38:20.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 18575}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-05-14 16:56:27.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/11402e31205c133e816093bb967210c0b5a63aef', 'message': ""Grab cloud-init logs\n\nWe use cloud-init for the firstboot items in TripleO. Let's capture the\ncloud-init log file.\n\nChange-Id: I8df72ef9bca9d32a2fb55a865905731ec86549ad\n""}]",0,659125,11402e31205c133e816093bb967210c0b5a63aef,9,8,1,14985,,,0,"Grab cloud-init logs

We use cloud-init for the firstboot items in TripleO. Let's capture the
cloud-init log file.

Change-Id: I8df72ef9bca9d32a2fb55a865905731ec86549ad
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/25/659125/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,11402e31205c133e816093bb967210c0b5a63aef,cloud-init, - /var/log/cloud-init*.log,,1,0
openstack%2Fheat~stable%2Frocky~Iefd3cdd20bb51c63e7267ae0628e0f15544c0427,openstack/heat,stable/rocky,Iefd3cdd20bb51c63e7267ae0628e0f15544c0427,Return None for attributes of sd with no actions,MERGED,2019-05-31 12:05:54.000000000,2019-05-31 22:26:50.000000000,2019-05-31 22:26:49.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 12:05:54.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/openstack/heat/test_software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d15c9d7eceb95730c25a55d11d38c3b1f4b4de50', 'message': ""Return None for attributes of sd with no actions\n\nIf the 'actions' property of a deployment is [], we don't\ncreate a software deployment in heat and resource_id of the\nsoftware deployment is None. However, there is a possibility\nthat we access the attributes of the sd in the template and\nthat results in TypeError as we try to make an rpc call to\nshow the software deployment for None.\n\nChange-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427\nTask: 33516\n(cherry picked from commit ee061103477ed7c9b4692a8b90817a127064fbcd)\n""}]",0,662441,d15c9d7eceb95730c25a55d11d38c3b1f4b4de50,6,2,1,8833,,,0,"Return None for attributes of sd with no actions

If the 'actions' property of a deployment is [], we don't
create a software deployment in heat and resource_id of the
software deployment is None. However, there is a possibility
that we access the attributes of the sd in the template and
that results in TypeError as we try to make an rpc call to
show the software deployment for None.

Change-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427
Task: 33516
(cherry picked from commit ee061103477ed7c9b4692a8b90817a127064fbcd)
",git fetch https://review.opendev.org/openstack/heat refs/changes/41/662441/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/openstack/heat/test_software_deployment.py']",2,d15c9d7eceb95730c25a55d11d38c3b1f4b4de50,, self.deployment.resource_id = 'c8a19429-7fde-47ea-a42f-40045488226c' self.deployment.resource_id = 'c8a19429-7fde-47ea-a42f-40045488226c',,9,7
openstack%2Fovsdbapp~master~I90dfdb5b5fe625ca8af768dfe9dac10f6d3c1430,openstack/ovsdbapp,master,I90dfdb5b5fe625ca8af768dfe9dac10f6d3c1430,Allow match_ip in LrNatDelCommand to be IP network,MERGED,2019-04-21 19:01:21.000000000,2019-05-31 22:11:47.000000000,2019-05-31 22:11:47.000000000,"[{'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 10068}, {'_account_id': 10237}, {'_account_id': 16688}, {'_account_id': 20229}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 30297}]","[{'number': 1, 'created': '2019-04-21 19:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6a0f1d87030c209e90795b6e5202e41e3f43ca48', 'message': 'Allow match_ip in LrNatDelCommand to be IP network\n\n__init__ of LrNatDelCommand in schema/ovn_northbound/commands.py takes\noptional match_ip parameter to find one or more specific NAT Table rows\nof a logical router to delete. This match_ip is searched in the\n""logical_ip"" column for NAT rows of type ""snat"" and in ""external_ip""\ncolumn for other types. While ""external_ip"" column value has to be an\nIP address, ""logical_ip"" column value can be IPv4 network or\nIP address. Currently the code only allows match_ip to be an IP address\nand raises an error when an IP network is passed.\n\nThis change allows match_ip to be IP network when NAT type is ""snat"".\n\nCloses-Bug: #1825740\nChange-Id: I90dfdb5b5fe625ca8af768dfe9dac10f6d3c1430\n'}, {'number': 2, 'created': '2019-04-24 09:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/93bede6a634de5e9040953ba0b9053ad3fdfe9d2', 'message': 'Allow match_ip in LrNatDelCommand to be IP network\n\n__init__ of LrNatDelCommand in schema/ovn_northbound/commands.py takes\noptional match_ip parameter to find one or more specific NAT Table rows\nof a logical router to delete. This match_ip is searched in the\n""logical_ip"" column for NAT rows of type ""snat"" and in ""external_ip""\ncolumn for other types. While ""external_ip"" column value has to be an\nIP address, ""logical_ip"" column value can be IPv4 network or\nIP address. Currently the code only allows match_ip to be an IP address\nand raises an error when an IP network is passed.\n\nThis change allows match_ip to be IP network when NAT type is ""snat"".\n\nCloses-Bug: #1825740\nChange-Id: I90dfdb5b5fe625ca8af768dfe9dac10f6d3c1430\n'}, {'number': 3, 'created': '2019-04-24 10:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/52e726edad30a5776eeed6024b396f31dc6dd0f6', 'message': 'Allow match_ip in LrNatDelCommand to be IP network\n\n__init__ of LrNatDelCommand in schema/ovn_northbound/commands.py takes\noptional match_ip parameter to find one or more specific NAT Table rows\nof a logical router to delete. This match_ip is searched in the\n""logical_ip"" column for NAT rows of type ""snat"" and in ""external_ip""\ncolumn for other types. While ""external_ip"" column value has to be an\nIP address, ""logical_ip"" column value can be IPv4 network or\nIP address. Currently the code only allows match_ip to be an IP address\nand raises an error when an IP network is passed.\n\nThis change allows match_ip to be IP network when NAT type is ""snat"".\n\nCloses-Bug: #1825740\nChange-Id: I90dfdb5b5fe625ca8af768dfe9dac10f6d3c1430\n'}, {'number': 4, 'created': '2019-04-24 11:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/ff141b16e609e7b6355e8f32a4c39b984cba3a80', 'message': 'Allow match_ip in LrNatDelCommand to be IP network\n\n__init__ of LrNatDelCommand in schema/ovn_northbound/commands.py takes\noptional match_ip parameter to find one or more specific NAT Table rows\nof a logical router to delete. This match_ip is searched in the\n""logical_ip"" column for NAT rows of type ""snat"" and in ""external_ip""\ncolumn for other types. While ""external_ip"" column value has to be an\nIP address, ""logical_ip"" column value can be IPv4 network or\nIP address. Currently the code only allows match_ip to be an IP address\nand raises an error when an IP network is passed.\n\nThis change allows match_ip to be IP network when NAT type is ""snat"".\n\nCloses-Bug: #1825740\nChange-Id: I90dfdb5b5fe625ca8af768dfe9dac10f6d3c1430\n'}, {'number': 5, 'created': '2019-04-24 11:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/3cbe2f97a079b0c1f947a6524a92e430132141cf', 'message': 'Allow match_ip in LrNatDelCommand to be IP network\n\n__init__ of LrNatDelCommand in schema/ovn_northbound/commands.py takes\noptional match_ip parameter to find one or more specific NAT Table rows\nof a logical router to delete. This match_ip is searched in the\n""logical_ip"" column for NAT rows of type ""snat"" and in ""external_ip""\ncolumn for other types. While ""external_ip"" column value has to be an\nIP address, ""logical_ip"" column value can be IPv4 network or\nIP address. Currently the code only allows match_ip to be an IP address\nand raises an error when an IP network is passed.\n\nThis change allows match_ip to be IP network when NAT type is ""snat"".\n\nCloses-Bug: #1825740\nChange-Id: I90dfdb5b5fe625ca8af768dfe9dac10f6d3c1430\n'}, {'number': 6, 'created': '2019-04-24 11:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/0b3fa97ab0e01fc7ff46b3440b3e89c74656b3ad', 'message': 'Allow match_ip in LrNatDelCommand to be IP network\n\n__init__ of LrNatDelCommand in schema/ovn_northbound/commands.py takes\noptional match_ip parameter to find one or more specific NAT Table rows\nof a logical router to delete. This match_ip is searched in the\n""logical_ip"" column for NAT rows of type ""snat"" and in ""external_ip""\ncolumn for other types. While ""external_ip"" column value has to be an\nIP address, ""logical_ip"" column value can be IPv4 network or\nIP address. Currently the code only allows match_ip to be an IP address\nand raises an error when an IP network is passed.\n\nThis change allows match_ip to be IP network when NAT type is ""snat"".\n\nCloses-Bug: #1825740\nChange-Id: I90dfdb5b5fe625ca8af768dfe9dac10f6d3c1430\n'}, {'number': 7, 'created': '2019-04-24 11:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/7cbacc77dee2ce956f2595c2b4e27c2b1757fcde', 'message': 'Allow match_ip in LrNatDelCommand to be IP network\n\n__init__ of LrNatDelCommand in schema/ovn_northbound/commands.py takes\noptional match_ip parameter to find one or more specific NAT Table rows\nof a logical router to delete. This match_ip is searched in the\n""logical_ip"" column for NAT rows of type ""snat"" and in ""external_ip""\ncolumn for other types. While ""external_ip"" column value has to be an\nIP address, ""logical_ip"" column value can be IPv4 network or\nIP address. Currently the code only allows match_ip to be an IP address\nand raises an error when an IP network is passed.\n\nThis change allows match_ip to be IP network when NAT type is ""snat"".\n\nCloses-Bug: #1825740\nChange-Id: I90dfdb5b5fe625ca8af768dfe9dac10f6d3c1430\n'}, {'number': 8, 'created': '2019-04-27 12:47:42.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/9f8dc4494dd5b273a282d21cc15057086624029d', 'message': 'Allow match_ip in LrNatDelCommand to be IP network\n\n__init__ of LrNatDelCommand in schema/ovn_northbound/commands.py takes\noptional match_ip parameter to find one or more specific NAT Table rows\nof a logical router to delete. This match_ip is searched in the\n""logical_ip"" column for NAT rows of type ""snat"" and in ""external_ip""\ncolumn for other types. While ""external_ip"" column value has to be an\nIP address, ""logical_ip"" column value can be IPv4 network or\nIP address. Currently the code only allows match_ip to be an IP address\nand raises an error when an IP network is passed.\n\nThis change allows match_ip to be IP network when NAT type is ""snat"".\n\nCloses-Bug: #1825740\nChange-Id: I90dfdb5b5fe625ca8af768dfe9dac10f6d3c1430\n'}]",3,654261,9f8dc4494dd5b273a282d21cc15057086624029d,27,16,8,30297,,,0,"Allow match_ip in LrNatDelCommand to be IP network

__init__ of LrNatDelCommand in schema/ovn_northbound/commands.py takes
optional match_ip parameter to find one or more specific NAT Table rows
of a logical router to delete. This match_ip is searched in the
""logical_ip"" column for NAT rows of type ""snat"" and in ""external_ip""
column for other types. While ""external_ip"" column value has to be an
IP address, ""logical_ip"" column value can be IPv4 network or
IP address. Currently the code only allows match_ip to be an IP address
and raises an error when an IP network is passed.

This change allows match_ip to be IP network when NAT type is ""snat"".

Closes-Bug: #1825740
Change-Id: I90dfdb5b5fe625ca8af768dfe9dac10f6d3c1430
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/61/654261/3 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/schema/ovn_northbound/commands.py'],1,6a0f1d87030c209e90795b6e5202e41e3f43ca48,bug/1825740, try: match_ip = str(netaddr.IPAddress(match_ip)) except ValueError: # logical_ip can be IPNetwork if nat_type == const.NAT_SNAT: match_ip = str(netaddr.IPNetwork(match_ip)) else: raise, match_ip = str(netaddr.IPAddress(match_ip)),8,1
openstack%2Fironic~master~I182c2c8dd2825e33eb25bf6b0c7d262e3c3de07b,openstack/ironic,master,I182c2c8dd2825e33eb25bf6b0c7d262e3c3de07b,Test announced devstack python3 change,ABANDONED,2018-12-05 19:47:12.000000000,2019-05-31 22:06:40.000000000,,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2018-12-05 19:47:12.000000000', 'files': ['ironic/drivers/modules/xclarity/power.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/26c2f41ed6e703d2e6848e2a9cd52d9f7fe89db3', 'message': 'Test announced devstack python3 change\n\nDepends-On: https://review.openstack.org/#/c/622415/\nChange-Id: I182c2c8dd2825e33eb25bf6b0c7d262e3c3de07b\n'}]",0,623058,26c2f41ed6e703d2e6848e2a9cd52d9f7fe89db3,14,8,1,11655,,,0,"Test announced devstack python3 change

Depends-On: https://review.openstack.org/#/c/622415/
Change-Id: I182c2c8dd2825e33eb25bf6b0c7d262e3c3de07b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/623058/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/xclarity/power.py'],1,26c2f41ed6e703d2e6848e2a9cd52d9f7fe89db3,,# Nothing Here,,1,0
openstack%2Fcinder~master~Id97baadef51a8e6e5f9bd2ebe96b523cde331b20,openstack/cinder,master,Id97baadef51a8e6e5f9bd2ebe96b523cde331b20,Glob volume driver docs to auto sort,MERGED,2019-05-10 18:24:38.000000000,2019-05-31 22:02:40.000000000,2019-05-31 22:02:40.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-10 18:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f55d3287232508423db8c7fc6098b4caad43a29', 'message': 'Glab volume driver docs to auto sort\n\nStop the shenanigans.\n\nChange-Id: Id97baadef51a8e6e5f9bd2ebe96b523cde331b20\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-05-10 18:25:32.000000000', 'files': ['doc/source/configuration/block-storage/volume-drivers.rst', 'doc/source/configuration/block-storage/drivers/oracle-zfssa-iscsi-driver.rst', 'doc/source/configuration/block-storage/drivers/oracle-zfssa-nfs-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/25a5ddc69daa3f31abeca0f844e1668242b3c595', 'message': 'Glob volume driver docs to auto sort\n\nStop the shenanigans.\n\nChange-Id: Id97baadef51a8e6e5f9bd2ebe96b523cde331b20\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,658447,25a5ddc69daa3f31abeca0f844e1668242b3c595,31,25,2,11904,,,0,"Glob volume driver docs to auto sort

Stop the shenanigans.

Change-Id: Id97baadef51a8e6e5f9bd2ebe96b523cde331b20
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/658447/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/volume-drivers.rst', 'doc/source/configuration/block-storage/drivers/oracle-zfssa-iscsi-driver.rst', 'doc/source/configuration/block-storage/drivers/oracle-zfssa-nfs-driver.rst']",3,2f55d3287232508423db8c7fc6098b4caad43a29,volume-driver-docs,,,2,48
openstack%2Fnetworking-ovn~master~I00b24cd1f8eaae2386d732af34365fa1f81e565a,openstack/networking-ovn,master,I00b24cd1f8eaae2386d732af34365fa1f81e565a,Distributed OVSDB lock: Make use of the HashRing,MERGED,2019-04-24 11:08:51.000000000,2019-05-31 21:54:25.000000000,2019-05-31 21:54:25.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-04-24 11:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/07f235e9aa887fc3ce7e08dc98b987e757e19a27', 'message': 'DO NOT REVIEW: Distributed OVSDB lock: Make use of the HashRing\n\nThis is a PoC so the code is not the cleanest. Unit and functional tests\nalso needs to be updated around the ovsdb_monitor bits as well as the\novn_db_sync (Because OVNWorker does not exist anymore).\n\nCloses-Bug: #1823715\nChange-Id: I00b24cd1f8eaae2386d732af34365fa1f81e565a\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2019-04-25 13:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b315f8347482ecf64648c67942348efe8bbc194a', 'message': 'DO NOT REVIEW: Distributed OVSDB lock: Make use of the HashRing\n\nChanges:\n\n* The unittests test_notify_no_ovsdb_lock() and\n  test_notify_ovsdb_lock_not_yet_contended() were converged into a single\n  test called test_notify_different_target_node(). Different from the\n  OVSDB lock that has ""locked"" and ""lock contended"" the Hash Ring only\n  cares about whether the hash matches with the node_uuid of the\n  instance or not.\n\nCloses-Bug: #1823715\nChange-Id: I00b24cd1f8eaae2386d732af34365fa1f81e565a\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2019-05-09 08:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ecfccc93a6349b878111ffd7ee91a02afe6a93b0', 'message': 'Distributed OVSDB lock: Make use of the HashRing\n\nChanges:\n\n* New OvnIdlDistributedLock class added. This is now the base class\n  which the NB and SB OVSDBs IDLs will inherit from. The old OvnIdl\n  class was kept because services like the Metadata agent and Octavia\n  driver uses it and for those services the OVSDB lock seems sufficient\n  (but nothing prevents us from updating them too in the future)\n\n* A new pre_fork_initialize() hook was added to the mechanism driver.\n  This hook runs before the process is forked (to create the workers)\n  and it does two things:\n\n  - Set a signal handler for SIGTERM. So, in case where a SIGTERM is\n    sent the service will handle it and clean up the Hash Ring before\n    exiting.\n\n  - Clean up the Hash Ring at start up. If there\'s some leftover (in\n    case of a SIGKILL for example) the workers will be considered part\n    of the Hash Ring until they timeout. And in the start of the service\n    we can get rid of those dead entries.\n\n* Remove OvnWorker: The OvnWorker was responsible for running the\n  ovn_db_sync() code and handling the events from OVSDB. Now, this\n  patch moved the ovn_db_sync() into the MaintenanceWorker and since\n  OVSDB events are now handled by all other workers in parallel there\'s\n  no more use for the OvnWorker and it has been removed from the code.\n\n* The unittests test_notify_no_ovsdb_lock() and\n  test_notify_ovsdb_lock_not_yet_contended() were converged into a single\n  test called test_notify_different_target_node(). Different from the\n  OVSDB lock that has ""locked"" and ""lock contended"" the Hash Ring only\n  cares about whether the hash matches with the node_uuid of the\n  instance or not.\n\nCloses-Bug: #1823715\nChange-Id: I00b24cd1f8eaae2386d732af34365fa1f81e565a\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2019-05-22 09:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c7dcac9909178aff87069b6fc500456904d2077d', 'message': 'Distributed OVSDB lock: Make use of the HashRing\n\nChanges:\n\n* New OvnIdlDistributedLock class added. This is now the base class\n  which the NB and SB OVSDBs IDLs will inherit from. The old OvnIdl\n  class was kept because services like the Metadata agent and Octavia\n  driver uses it and for those services the OVSDB lock seems sufficient\n  (but nothing prevents us from updating them too in the future)\n\n* A new pre_fork_initialize() hook was added to the mechanism driver.\n  This hook runs before the process is forked (to create the workers)\n  and it does two things:\n\n  - Set a signal handler for SIGTERM. So, in case where a SIGTERM is\n    sent the service will handle it and clean up the Hash Ring before\n    exiting.\n\n  - Clean up the Hash Ring at start up. If there\'s some leftover (in\n    case of a SIGKILL for example) the workers will be considered part\n    of the Hash Ring until they timeout. And in the start of the service\n    we can get rid of those dead entries.\n\n* Remove OvnWorker: The OvnWorker was responsible for running the\n  ovn_db_sync() code and handling the events from OVSDB. Now, this\n  patch moved the ovn_db_sync() into the MaintenanceWorker and since\n  OVSDB events are now handled by all other workers in parallel there\'s\n  no more use for the OvnWorker and it has been removed from the code.\n\n* The unittests test_notify_no_ovsdb_lock() and\n  test_notify_ovsdb_lock_not_yet_contended() were converged into a single\n  test called test_notify_different_target_node(). Different from the\n  OVSDB lock that has ""locked"" and ""lock contended"" the Hash Ring only\n  cares about whether the hash matches with the node_uuid of the\n  instance or not.\n\nCloses-Bug: #1823715\nChange-Id: I00b24cd1f8eaae2386d732af34365fa1f81e565a\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2019-05-22 12:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9b7a35549d2c4dc04b1fb957a5d0304aa7639c5e', 'message': 'Distributed OVSDB lock: Make use of the HashRing\n\nChanges:\n\n* New OvnIdlDistributedLock class added. This is now the base class\n  which the NB and SB OVSDBs IDLs will inherit from. The old OvnIdl\n  class was kept because services like the Metadata agent and Octavia\n  driver uses it and for those services the OVSDB lock seems sufficient\n  (but nothing prevents us from updating them too in the future)\n\n* A new pre_fork_initialize() hook was added to the mechanism driver.\n  This hook runs before the process is forked (to create the workers)\n  and it does two things:\n\n  - Set a signal handler for SIGTERM. So, in case where a SIGTERM is\n    sent the service will handle it and clean up the Hash Ring before\n    exiting.\n\n  - Clean up the Hash Ring at start up. If there\'s some leftover (in\n    case of a SIGKILL for example) the workers will be considered part\n    of the Hash Ring until they timeout. And in the start of the service\n    we can get rid of those dead entries.\n\n* Remove OvnWorker: The OvnWorker was responsible for running the\n  ovn_db_sync() code and handling the events from OVSDB. Now, this\n  patch moved the ovn_db_sync() into the MaintenanceWorker and since\n  OVSDB events are now handled by all other workers in parallel there\'s\n  no more use for the OvnWorker and it has been removed from the code.\n\n* The unittests test_notify_no_ovsdb_lock() and\n  test_notify_ovsdb_lock_not_yet_contended() were converged into a single\n  test called test_notify_different_target_node(). Different from the\n  OVSDB lock that has ""locked"" and ""lock contended"" the Hash Ring only\n  cares about whether the hash matches with the node_uuid of the\n  instance or not.\n\nCloses-Bug: #1823715\nChange-Id: I00b24cd1f8eaae2386d732af34365fa1f81e565a\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2019-05-22 17:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5863054c362a4772e16eb50f696a37777b6a386f', 'message': 'Distributed OVSDB lock: Make use of the HashRing\n\nChanges:\n\n* New OvnIdlDistributedLock class added. This is now the base class\n  which the NB and SB OVSDBs IDLs will inherit from. The old OvnIdl\n  class was kept because services like the Metadata agent and Octavia\n  driver uses it and for those services the OVSDB lock seems sufficient\n  (but nothing prevents us from updating them too in the future)\n\n* A new pre_fork_initialize() hook was added to the mechanism driver.\n  This hook runs before the process is forked (to create the workers)\n  and it does two things:\n\n  - Set a signal handler for SIGTERM. So, in case where a SIGTERM is\n    sent the service will handle it and clean up the Hash Ring before\n    exiting.\n\n  - Clean up the Hash Ring at start up. If there\'s some leftover (in\n    case of a SIGKILL for example) the workers will be considered part\n    of the Hash Ring until they timeout. And in the start of the service\n    we can get rid of those dead entries.\n\n* Remove OvnWorker: The OvnWorker was responsible for running the\n  ovn_db_sync() code and handling the events from OVSDB. Now, this\n  patch moved the ovn_db_sync() into the MaintenanceWorker and since\n  OVSDB events are now handled by all other workers in parallel there\'s\n  no more use for the OvnWorker and it has been removed from the code.\n\n* The unittests test_notify_no_ovsdb_lock() and\n  test_notify_ovsdb_lock_not_yet_contended() were converged into a single\n  test called test_notify_different_target_node(). Different from the\n  OVSDB lock that has ""locked"" and ""lock contended"" the Hash Ring only\n  cares about whether the hash matches with the node_uuid of the\n  instance or not.\n\nCloses-Bug: #1823715\nChange-Id: I00b24cd1f8eaae2386d732af34365fa1f81e565a\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2019-05-23 14:17:33.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/common/maintenance.py', 'networking_ovn/ovsdb/worker.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/functional/test_router.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6ef5489cf70cbc140a8768727350a8556fc8e870', 'message': 'Distributed OVSDB lock: Make use of the HashRing\n\nChanges:\n\n* New OvnIdlDistributedLock class added. This is now the base class\n  which the NB and SB OVSDBs IDLs will inherit from. The old OvnIdl\n  class was kept because services like the Metadata agent and Octavia\n  driver uses it and for those services the OVSDB lock seems sufficient\n  (but nothing prevents us from updating them too in the future)\n\n* A new pre_fork_initialize() hook was added to the mechanism driver.\n  This hook runs before the process is forked (to create the workers)\n  and it does two things:\n\n  - Set a signal handler for SIGTERM. So, in case where a SIGTERM is\n    sent the service will handle it and clean up the Hash Ring before\n    exiting.\n\n  - Clean up the Hash Ring at start up. If there\'s some leftover (in\n    case of a SIGKILL for example) the workers will be considered part\n    of the Hash Ring until they timeout. And in the start of the service\n    we can get rid of those dead entries.\n\n* Remove OvnWorker: The OvnWorker was responsible for running the\n  ovn_db_sync() code and handling the events from OVSDB. Now, this\n  patch moved the ovn_db_sync() into the MaintenanceWorker and since\n  OVSDB events are now handled by all other workers in parallel there\'s\n  no more use for the OvnWorker and it has been removed from the code.\n\n* The unittests test_notify_no_ovsdb_lock() and\n  test_notify_ovsdb_lock_not_yet_contended() were converged into a single\n  test called test_notify_different_target_node(). Different from the\n  OVSDB lock that has ""locked"" and ""lock contended"" the Hash Ring only\n  cares about whether the hash matches with the node_uuid of the\n  instance or not.\n\nCloses-Bug: #1823715\nChange-Id: I00b24cd1f8eaae2386d732af34365fa1f81e565a\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",20,655408,6ef5489cf70cbc140a8768727350a8556fc8e870,43,6,7,6773,,,0,"Distributed OVSDB lock: Make use of the HashRing

Changes:

* New OvnIdlDistributedLock class added. This is now the base class
  which the NB and SB OVSDBs IDLs will inherit from. The old OvnIdl
  class was kept because services like the Metadata agent and Octavia
  driver uses it and for those services the OVSDB lock seems sufficient
  (but nothing prevents us from updating them too in the future)

* A new pre_fork_initialize() hook was added to the mechanism driver.
  This hook runs before the process is forked (to create the workers)
  and it does two things:

  - Set a signal handler for SIGTERM. So, in case where a SIGTERM is
    sent the service will handle it and clean up the Hash Ring before
    exiting.

  - Clean up the Hash Ring at start up. If there's some leftover (in
    case of a SIGKILL for example) the workers will be considered part
    of the Hash Ring until they timeout. And in the start of the service
    we can get rid of those dead entries.

* Remove OvnWorker: The OvnWorker was responsible for running the
  ovn_db_sync() code and handling the events from OVSDB. Now, this
  patch moved the ovn_db_sync() into the MaintenanceWorker and since
  OVSDB events are now handled by all other workers in parallel there's
  no more use for the OvnWorker and it has been removed from the code.

* The unittests test_notify_no_ovsdb_lock() and
  test_notify_ovsdb_lock_not_yet_contended() were converged into a single
  test called test_notify_different_target_node(). Different from the
  OVSDB lock that has ""locked"" and ""lock contended"" the Hash Ring only
  cares about whether the hash matches with the node_uuid of the
  instance or not.

Closes-Bug: #1823715
Change-Id: I00b24cd1f8eaae2386d732af34365fa1f81e565a
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/08/655408/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/maintenance.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ovsdb/worker.py', 'networking_ovn/tests/functional/test_router.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/functional/base.py']",8,07f235e9aa887fc3ce7e08dc98b987e757e19a27,bug/1823715, trigger_cls.trigger.__self__.__class__ = worker.MaintenanceWorker if not self.ovn_worker:, trigger_cls.trigger.__self__.__class__ = worker.OvnWorker if self.ovn_worker:,134,99
openstack%2Fpuppet-neutron~stable%2Fstein~Idf81990d4075f4332d99326170ed733452a85cab,openstack/puppet-neutron,stable/stein,Idf81990d4075f4332d99326170ed733452a85cab,Add DPDK support for OVN,MERGED,2019-05-30 13:31:24.000000000,2019-05-31 21:22:50.000000000,2019-05-31 21:22:50.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 13:31:24.000000000', 'files': ['spec/classes/neutron_plugins_ml2_ovn_spec.rb', 'manifests/plugins/ml2/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/ff3610d862066722e2c92deaae4371c8bb7d6a48', 'message': 'Add DPDK support for OVN\n\nOvS-DPDK requires the vhostuser socket directory to be\nspecific directory, which need to be shared between OvS\nand qemu. Deployer will create a directory with required\naccess permissions. OVN should use the provided directory\nto create the vhostuser sockets.\n\nChange-Id: Idf81990d4075f4332d99326170ed733452a85cab\n(cherry picked from commit c24b1dd86d54a939ed0a044e1d09eb1afc5dc4c1)\n'}]",0,662216,ff3610d862066722e2c92deaae4371c8bb7d6a48,8,4,1,3153,,,0,"Add DPDK support for OVN

OvS-DPDK requires the vhostuser socket directory to be
specific directory, which need to be shared between OvS
and qemu. Deployer will create a directory with required
access permissions. OVN should use the provided directory
to create the vhostuser sockets.

Change-Id: Idf81990d4075f4332d99326170ed733452a85cab
(cherry picked from commit c24b1dd86d54a939ed0a044e1d09eb1afc5dc4c1)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/16/662216/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_ml2_ovn_spec.rb', 'manifests/plugins/ml2/ovn.pp']",2,ff3610d862066722e2c92deaae4371c8bb7d6a48,ovn_dpdk-stable/stein,"# # [*vhostuser_socket_dir*] # (optional) The vhost-user socket directory for OVS # Type: String # Defaults to $::os_service_default $vhostuser_socket_dir = $::os_service_default, 'ovn/vhostuser_socket_dir' : value => $vhostuser_socket_dir;",,13,0
openstack%2Foslo.versionedobjects~master~I896a0640e7fb0a12d50c89e1964641a9e9e37976,openstack/oslo.versionedobjects,master,I896a0640e7fb0a12d50c89e1964641a9e9e37976,Dropping the py35 testing,MERGED,2019-04-15 01:30:33.000000000,2019-05-31 21:10:30.000000000,2019-05-31 21:10:30.000000000,"[{'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 01:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/a04dca083c831c0fc822ba4508b264b5cbcb3d46', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I896a0640e7fb0a12d50c89e1964641a9e9e37976\n'}, {'number': 2, 'created': '2019-04-15 18:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/294175f0b09a6bb6076296ec23c6d9a2edf15162', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I896a0640e7fb0a12d50c89e1964641a9e9e37976\n'}, {'number': 3, 'created': '2019-05-21 08:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/c4e9ffb3ac32371d3071258727d243964b5c8900', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I896a0640e7fb0a12d50c89e1964641a9e9e37976\n'}, {'number': 4, 'created': '2019-05-31 17:23:38.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/40007e84db935afdabfa4bd23a888e1e2ac42fa3', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I896a0640e7fb0a12d50c89e1964641a9e9e37976\n'}]",2,652463,40007e84db935afdabfa4bd23a888e1e2ac42fa3,16,4,4,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I896a0640e7fb0a12d50c89e1964641a9e9e37976
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/63/652463/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,a04dca083c831c0fc822ba4508b264b5cbcb3d46,dropping-py35-testing,"envlist = py27,pep8","envlist = py35,py27,pep8",2,3
openstack%2Frequirements~master~I2028218f733688308c2024b6503ed21a9ad19544,openstack/requirements,master,I2028218f733688308c2024b6503ed21a9ad19544,Updated from generate-constraints,MERGED,2019-05-31 06:14:59.000000000,2019-05-31 20:55:49.000000000,2019-05-31 20:55:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 06:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f87b18e3ca2c1505b6a097c9759078f53cff3aed', 'message': 'Updated from generate-constraints\n\nChange-Id: I2028218f733688308c2024b6503ed21a9ad19544\n'}, {'number': 2, 'created': '2019-05-31 06:37:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6c09c23711db60a915f15772b2ae473bc8f24673', 'message': 'Updated from generate-constraints\n\nChange-Id: I2028218f733688308c2024b6503ed21a9ad19544\n'}]",0,662389,6c09c23711db60a915f15772b2ae473bc8f24673,9,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I2028218f733688308c2024b6503ed21a9ad19544
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/662389/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f87b18e3ca2c1505b6a097c9759078f53cff3aed,openstack/requirements/constraints/noclob,grpcio===1.21.1SQLAlchemy===1.3.4urllib3===1.25.3pywbem===0.14.3tornado===5.1.1;python_version=='2.7'cryptography===2.7pycryptodomex===3.8.2django-compressor===2.3amqp===2.5.0M2Crypto===0.34.0;python_version=='2.7'boto3===1.9.159kubernetes===9.0.0botocore===1.12.159kombu===4.6.0rjsmin===1.1.0jsonschema===3.0.1,grpcio===1.15.0SQLAlchemy===1.2.19urllib3===1.24.3pywbem===0.14.2tornado===4.5.3;python_version=='2.7'cryptography===2.6.1pycryptodomex===3.8.1django-compressor===2.2amqp===2.4.2M2Crypto===0.33.0;python_version=='2.7'boto3===1.9.158kubernetes===8.0.1botocore===1.12.158kombu===4.5.0rjsmin===1.0.12jsonschema===2.6.0,16,16
openstack%2Fcharm-neutron-gateway~master~Ie7a880dd0b9064e6e99c023b2ee9a1fc332b9def,openstack/charm-neutron-gateway,master,Ie7a880dd0b9064e6e99c023b2ee9a1fc332b9def,Sync charm-helpers,MERGED,2019-05-31 13:22:21.000000000,2019-05-31 20:51:48.000000000,2019-05-31 20:51:48.000000000,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 13:22:21.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/93dbc7350c4a2fce010088ebd46298bf8e03e89b', 'message': 'Sync charm-helpers\n\nSyncing updated code from charm helpers to fix a\nproblem introduced by PR #324, fixed in PR #332.\n\nChange-Id: Ie7a880dd0b9064e6e99c023b2ee9a1fc332b9def\n'}]",0,662463,93dbc7350c4a2fce010088ebd46298bf8e03e89b,9,4,1,14567,,,0,"Sync charm-helpers

Syncing updated code from charm helpers to fix a
problem introduced by PR #324, fixed in PR #332.

Change-Id: Ie7a880dd0b9064e6e99c023b2ee9a1fc332b9def
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/63/662463/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",7,93dbc7350c4a2fce010088ebd46298bf8e03e89b,," # Train 'train': 'bionic-updates/train', 'bionic-train': 'bionic-updates/train', 'bionic-train/updates': 'bionic-updates/train', 'bionic-updates/train': 'bionic-updates/train', 'train/proposed': 'bionic-proposed/train', 'bionic-train/proposed': 'bionic-proposed/train', 'bionic-proposed/train': 'bionic-proposed/train', if key: # Import key before adding the source which depends on it, # as refreshing packages could fail otherwise. # call the associated function with the captured groups # raises SourceConfigError on error. fn(*m.groups())", # call the assoicated function with the captured groups # raises SourceConfigError on error. fn(*m.groups()) if key:,78,22
openstack%2Fnova~master~I7f8eb7d5c5a9b1cb0a8d5e607d719b49a22675d3,openstack/nova,master,I7f8eb7d5c5a9b1cb0a8d5e607d719b49a22675d3,xenapi: log quality warning in init_host,MERGED,2019-05-30 18:57:28.000000000,2019-05-31 20:50:55.000000000,2019-05-31 20:50:55.000000000,"[{'_account_id': 1004}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-30 18:57:28.000000000', 'files': ['nova/virt/xenapi/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/92c7e0e0b4fcc596e86b493aafb28ee656cb046c', 'message': 'xenapi: log quality warning in init_host\n\nThe xenapi driver has not had working third party CI\nfor several months. As a result, this change logs a\nwarning on startup of the service in the init_host\nmethod indicating the lack of testing and the possibility\nthat the driver may be deprecated in the future if the\nsituation does not change.\n\nThis was discussed at the 2019-05-30 nova meeting [1] and\nalso at the Train PTG.\n\n[1] http://eavesdrop.openstack.org/meetings/nova/2019/nova.2019-05-30-14.00.log.html\n\nChange-Id: I7f8eb7d5c5a9b1cb0a8d5e607d719b49a22675d3\n'}]",3,662295,92c7e0e0b4fcc596e86b493aafb28ee656cb046c,26,16,1,6873,,,0,"xenapi: log quality warning in init_host

The xenapi driver has not had working third party CI
for several months. As a result, this change logs a
warning on startup of the service in the init_host
method indicating the lack of testing and the possibility
that the driver may be deprecated in the future if the
situation does not change.

This was discussed at the 2019-05-30 nova meeting [1] and
also at the Train PTG.

[1] http://eavesdrop.openstack.org/meetings/nova/2019/nova.2019-05-30-14.00.log.html

Change-Id: I7f8eb7d5c5a9b1cb0a8d5e607d719b49a22675d3
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/662295/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/xenapi/driver.py'],1,92c7e0e0b4fcc596e86b493aafb28ee656cb046c,, # TODO(mriedem): Consider deprecating the driver if there is still no # working 3rd party CI by the end of the Train release. LOG.warning('The xenapi driver is not tested by the OpenStack ' 'project and thus its quality can not be ensured. The ' 'driver may be deprecated in the future.') ,,6,0
openstack%2Fnova~master~I6f42da5e2fd2e65d31b8e9191e3dff98b011d0bf,openstack/nova,master,I6f42da5e2fd2e65d31b8e9191e3dff98b011d0bf,extract baselineCPU API call from _get_cpu_traits(),MERGED,2019-05-28 15:18:52.000000000,2019-05-31 20:50:48.000000000,2019-05-31 20:50:48.000000000,"[{'_account_id': 2394}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16150}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25257}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-28 15:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e8949e81df9fc07e662e4c8a2d11cbb0fa540ee', 'message': ""extract baselineCPU API call from _get_cpu_traits()\n\n_get_cpu_traits() in the libvirt driver was quite complicated, dealing\nwith multiple modes of the guest CPU model config, and also invoking\nlibvirt's baselineCPU API.  This made it hard to see at a glance the\nflow through the method, and which variables were used where.\n\nSo extract the baselineCPU API call into a separate method, resulting\nin clearer variable scoping.  Also document the API call and its\ninputs and outputs.\n\nChange-Id: I6f42da5e2fd2e65d31b8e9191e3dff98b011d0bf\n""}, {'number': 2, 'created': '2019-05-28 15:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b832652475df84a7ee2a9777059f5059ce5c904c', 'message': ""extract baselineCPU API call from _get_cpu_traits()\n\n_get_cpu_traits() in the libvirt driver was quite complicated, dealing\nwith multiple modes of the guest CPU model config, and also invoking\nlibvirt's baselineCPU API.  This made it hard to see at a glance the\nflow through the method, and which variables were used where.\n\nSo extract the baselineCPU API call into a separate method, resulting\nin clearer variable scoping.  Also document the API call and its\ninputs and outputs, based on the official API docs:\n\nhttps://libvirt.org/html/libvirt-libvirt-host.html#virConnectBaselineCPU\n\nChange-Id: I6f42da5e2fd2e65d31b8e9191e3dff98b011d0bf\n""}, {'number': 3, 'created': '2019-05-28 17:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f666529adb8e3504498189354a5168ba1be1d71', 'message': ""extract baselineCPU API call from _get_cpu_traits()\n\n_get_cpu_traits() in the libvirt driver was quite complicated, dealing\nwith multiple modes of the guest CPU model config, and also invoking\nlibvirt's baselineCPU API.  This made it hard to see at a glance the\nflow through the method, and which variables were used where.\n\nSo extract the baselineCPU API call into a separate method, resulting\nin clearer variable scoping.  Also document the API call and its\ninputs and outputs, based on the official API docs:\n\nhttps://libvirt.org/html/libvirt-libvirt-host.html#virConnectBaselineCPU\n\nChange-Id: I6f42da5e2fd2e65d31b8e9191e3dff98b011d0bf\n""}, {'number': 4, 'created': '2019-05-28 22:45:42.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/197b7912406b33f4c59c91ba1693e610fe25f503', 'message': ""extract baselineCPU API call from _get_cpu_traits()\n\n_get_cpu_traits() in the libvirt driver was quite complicated, dealing\nwith multiple modes of the guest CPU model config, and also invoking\nlibvirt's baselineCPU API.  This made it hard to see at a glance the\nflow through the method, and which variables were used where.\n\nSo extract the baselineCPU API call into a separate method, resulting\nin clearer variable scoping.  Also document the API call and its\ninputs and outputs, based on the official API docs:\n\nhttps://libvirt.org/html/libvirt-libvirt-host.html#virConnectBaselineCPU\n\nChange-Id: I6f42da5e2fd2e65d31b8e9191e3dff98b011d0bf\n""}]",2,661782,197b7912406b33f4c59c91ba1693e610fe25f503,54,18,4,2394,,,0,"extract baselineCPU API call from _get_cpu_traits()

_get_cpu_traits() in the libvirt driver was quite complicated, dealing
with multiple modes of the guest CPU model config, and also invoking
libvirt's baselineCPU API.  This made it hard to see at a glance the
flow through the method, and which variables were used where.

So extract the baselineCPU API call into a separate method, resulting
in clearer variable scoping.  Also document the API call and its
inputs and outputs, based on the official API docs:

https://libvirt.org/html/libvirt-libvirt-host.html#virConnectBaselineCPU

Change-Id: I6f42da5e2fd2e65d31b8e9191e3dff98b011d0bf
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/661782/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,6e8949e81df9fc07e662e4c8a2d11cbb0fa540ee,split-get-cpu-traits," features_xml = self._get_guest_baseline_cpu_features(xml_str) feature_names = [] if features_xml: cpu.parse_str(features_xml) feature_names = [f.name for f in cpu.features] return libvirt_utils.cpu_features_to_traits(feature_names) def _get_guest_baseline_cpu_features(self, xml_str): """"""Calls libvirt's baselineCPU API to compute the biggest set of CPU features which is compatible with the given host CPU. :param xml_str: XML description of host CPU :return: An XML string of the computed CPU, or None on error """""" return self._host.get_connection().baselineCPU( return self._host.get_connection().baselineCPU([xml_str]) return None ", features = self._host.get_connection().baselineCPU( features = self._host.get_connection().baselineCPU([xml_str]) return libvirt_utils.cpu_features_to_traits([]) cpu.parse_str(features) return libvirt_utils.cpu_features_to_traits( [f.name for f in cpu.features]),17,6
openstack%2Fpyeclib~master~I4bb1990305ff1b127e59752879971b94177200b4,openstack/pyeclib,master,I4bb1990305ff1b127e59752879971b94177200b4,Update testing after rename,MERGED,2019-05-30 19:28:30.000000000,2019-05-31 20:49:15.000000000,2019-05-31 20:49:15.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 19:28:30.000000000', 'files': ['playbooks/legacy/libec-pyeclib-unit-centos-7/run.yaml', '.zuul.yaml', 'playbooks/legacy/libec-pyeclib-unit/run.yaml'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/84be3cf54694f6bac6974aa052d82f33871ae9b8', 'message': 'Update testing after rename\n\nFollow rename of repos from x/ to openstack/ and update jobs for this.\n\nChange-Id: I4bb1990305ff1b127e59752879971b94177200b4\n'}]",3,662303,84be3cf54694f6bac6974aa052d82f33871ae9b8,13,4,1,6547,,,0,"Update testing after rename

Follow rename of repos from x/ to openstack/ and update jobs for this.

Change-Id: I4bb1990305ff1b127e59752879971b94177200b4
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/03/662303/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/libec-pyeclib-unit-centos-7/run.yaml', '.zuul.yaml', 'playbooks/legacy/libec-pyeclib-unit/run.yaml']",3,84be3cf54694f6bac6974aa052d82f33871ae9b8,rename-cleanup, openstack/liberasurecode \ openstack/pyeclib cd openstack/liberasurecode cd $WORKSPACE/openstack/pyeclib, x/liberasurecode \ x/pyeclib cd x/liberasurecode cd $WORKSPACE/x/pyeclib,12,12
openstack%2Fheat~stable%2Fstein~Iefd3cdd20bb51c63e7267ae0628e0f15544c0427,openstack/heat,stable/stein,Iefd3cdd20bb51c63e7267ae0628e0f15544c0427,Return None for attributes of sd with no actions,MERGED,2019-05-31 12:05:31.000000000,2019-05-31 20:20:03.000000000,2019-05-31 20:20:03.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 12:05:31.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/openstack/heat/test_software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e5b6c90b4c69b83baf0d80a6cad0a2bf39c944a5', 'message': ""Return None for attributes of sd with no actions\n\nIf the 'actions' property of a deployment is [], we don't\ncreate a software deployment in heat and resource_id of the\nsoftware deployment is None. However, there is a possibility\nthat we access the attributes of the sd in the template and\nthat results in TypeError as we try to make an rpc call to\nshow the software deployment for None.\n\nChange-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427\nTask: 33516\n(cherry picked from commit ee061103477ed7c9b4692a8b90817a127064fbcd)\n""}]",0,662440,e5b6c90b4c69b83baf0d80a6cad0a2bf39c944a5,8,2,1,8833,,,0,"Return None for attributes of sd with no actions

If the 'actions' property of a deployment is [], we don't
create a software deployment in heat and resource_id of the
software deployment is None. However, there is a possibility
that we access the attributes of the sd in the template and
that results in TypeError as we try to make an rpc call to
show the software deployment for None.

Change-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427
Task: 33516
(cherry picked from commit ee061103477ed7c9b4692a8b90817a127064fbcd)
",git fetch https://review.opendev.org/openstack/heat refs/changes/40/662440/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/openstack/heat/test_software_deployment.py']",2,e5b6c90b4c69b83baf0d80a6cad0a2bf39c944a5,, self.deployment.resource_id = 'c8a19429-7fde-47ea-a42f-40045488226c' self.deployment.resource_id = 'c8a19429-7fde-47ea-a42f-40045488226c',,9,7
openstack%2Fgovernance~master~I1a5102a6faec5d8d4995f477aa2089295ddfd63c,openstack/governance,master,I1a5102a6faec5d8d4995f477aa2089295ddfd63c,"Some repos were renamed, update reference files",MERGED,2019-05-31 15:54:57.000000000,2019-05-31 20:13:13.000000000,2019-05-31 20:13:13.000000000,"[{'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 15:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/3e59cf13520ae572edf3956d8443426aaafdb9cb', 'message': 'Some repos were renamed, update reference files\n\nA couple of repos were renamed or moved from one org to another, follow\nrenames in reference docs.\n\nDepends-On: https://review.opendev.org/657155\nDepends-On: https://review.opendev.org/662432\nDepends-On: https://review.opendev.org/657277\nDepends-On: https://review.opendev.org/661682\nDepends-On: https://review.opendev.org/659489\nDepends-On: https://review.opendev.org/644584\nChange-Id: I1a5102a6faec5d8d4995f477aa2089295ddfd63c\n'}, {'number': 2, 'created': '2019-05-31 16:07:32.000000000', 'files': ['reference/projects.yaml', 'reference/user-committee-repos.yaml', 'reference/sigs-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/2584fec8815fdaa82fa0c49d8979ca0acd2ed996', 'message': 'Some repos were renamed, update reference files\n\nA couple of repos were renamed or moved from one org to another, follow\nrenames in reference docs.\n\nDepends-On: https://review.opendev.org/657155\nDepends-On: https://review.opendev.org/662432\nDepends-On: https://review.opendev.org/657277\nDepends-On: https://review.opendev.org/661682\nDepends-On: https://review.opendev.org/659489\nDepends-On: https://review.opendev.org/644584\nChange-Id: I1a5102a6faec5d8d4995f477aa2089295ddfd63c\n'}]",2,662499,2584fec8815fdaa82fa0c49d8979ca0acd2ed996,13,6,2,6547,,,0,"Some repos were renamed, update reference files

A couple of repos were renamed or moved from one org to another, follow
renames in reference docs.

Depends-On: https://review.opendev.org/657155
Depends-On: https://review.opendev.org/662432
Depends-On: https://review.opendev.org/657277
Depends-On: https://review.opendev.org/661682
Depends-On: https://review.opendev.org/659489
Depends-On: https://review.opendev.org/644584
Change-Id: I1a5102a6faec5d8d4995f477aa2089295ddfd63c
",git fetch https://review.opendev.org/openstack/governance refs/changes/99/662499/2 && git format-patch -1 --stdout FETCH_HEAD,"['reference/projects.yaml', 'reference/user-committee-repos.yaml', 'reference/sigs-repos.yaml']",3,3e59cf13520ae572edf3956d8443426aaafdb9cb,typo-fix,Public Cloud SIG: - repo: openstack/publiccloud-sig,,12,12
openstack%2Fheat~stable%2Fqueens~I23493b1c477d082c478f87167de2c1859ba5ace7,openstack/heat,stable/queens,I23493b1c477d082c478f87167de2c1859ba5ace7,Fix regression with SW deployments when region not configured,MERGED,2019-05-30 14:23:58.000000000,2019-05-31 20:04:35.000000000,2019-05-31 20:04:35.000000000,"[{'_account_id': 4257}, {'_account_id': 9542}, {'_account_id': 22348}, {'_account_id': 30105}]","[{'number': 1, 'created': '2019-05-30 14:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c2a81e3f70fa5cd784a68d209dc5935f3ace68c7', 'message': 'Fix regression with SW deployments when region not configured\n\nThe region name eventually has to pass through an os-collect-config.conf\nfile, the format of which is unable to distinguish between the JSON null\n(equivalent to None in Python) and the string ""null"".\n\nThis means that Story 2002781 caused a regression for users who didn\'t\nhave the region_name_for_services config option explicitly set in\nheat.conf.\n\nTo avoid this, only specify the region when we know what it is.\n\nChange-Id: I23493b1c477d082c478f87167de2c1859ba5ace7\nStory: #2005797\nTask: 33527\nTask: 33528\n(cherry picked from commit d580565abff2997002eff856535bdfd2ddb44da7)\n'}, {'number': 2, 'created': '2019-05-31 07:40:42.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/89c1cc473211189cf490a1038cb371ab3359dd89', 'message': 'Fix regression with SW deployments when region not configured\n\nThe region name eventually has to pass through an os-collect-config.conf\nfile, the format of which is unable to distinguish between the JSON null\n(equivalent to None in Python) and the string ""null"".\n\nThis means that Story 2002781 caused a regression for users who didn\'t\nhave the region_name_for_services config option explicitly set in\nheat.conf.\n\nTo avoid this, only specify the region when we know what it is.\n\nChange-Id: I23493b1c477d082c478f87167de2c1859ba5ace7\nStory: #2005797\nTask: 33527\nTask: 33528\n(cherry picked from commit d580565abff2997002eff856535bdfd2ddb44da7)\n'}]",0,662234,89c1cc473211189cf490a1038cb371ab3359dd89,12,4,2,8833,,,0,"Fix regression with SW deployments when region not configured

The region name eventually has to pass through an os-collect-config.conf
file, the format of which is unable to distinguish between the JSON null
(equivalent to None in Python) and the string ""null"".

This means that Story 2002781 caused a regression for users who didn't
have the region_name_for_services config option explicitly set in
heat.conf.

To avoid this, only specify the region when we know what it is.

Change-Id: I23493b1c477d082c478f87167de2c1859ba5ace7
Story: #2005797
Task: 33527
Task: 33528
(cherry picked from commit d580565abff2997002eff856535bdfd2ddb44da7)
",git fetch https://review.opendev.org/openstack/heat refs/changes/34/662234/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/software_deployment.py'],1,c2a81e3f70fa5cd784a68d209dc5935f3ace68c7,," if creds['region_name']: yield swc_io.InputConfig( name=self.DEPLOY_REGION_NAME, value=creds['region_name'], description=_('Region name for API authentication'))"," yield swc_io.InputConfig( name=self.DEPLOY_REGION_NAME, value=creds['region_name'], description=_('Region name for API authentication'))",5,3
openstack%2Fproject-config~master~Ie3ebc105fdecbf604279d00f1e300e9479e267e4,openstack/project-config,master,Ie3ebc105fdecbf604279d00f1e300e9479e267e4,Readd x/os-http,MERGED,2019-05-31 19:27:46.000000000,2019-05-31 19:50:34.000000000,2019-05-31 19:50:34.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 19:27:46.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fca3352e7a86a0d164fae19cc8beb387534b43e9', 'message': 'Readd x/os-http\n\nhttps://review.opendev.org/657277 removed x/os-http by accident\nfrom zuul/main.yaml, add it back in.\n\nChange-Id: Ie3ebc105fdecbf604279d00f1e300e9479e267e4\n'}]",0,662549,fca3352e7a86a0d164fae19cc8beb387534b43e9,7,3,1,6547,,,0,"Readd x/os-http

https://review.opendev.org/657277 removed x/os-http by accident
from zuul/main.yaml, add it back in.

Change-Id: Ie3ebc105fdecbf604279d00f1e300e9479e267e4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/662549/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,fca3352e7a86a0d164fae19cc8beb387534b43e9,hotfix3, - x/os-http,,1,0
openstack%2Fgovernance~master~Ifad5a4eff3a31cc51c46706e77ff3acf1cffc94e,openstack/governance,master,Ifad5a4eff3a31cc51c46706e77ff3acf1cffc94e,Rename x/compute-hyperv to openstack/compute-hyperv,ABANDONED,2019-05-28 07:11:45.000000000,2019-05-31 19:50:28.000000000,,"[{'_account_id': 8099}, {'_account_id': 8213}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 12404}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-28 07:11:45.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/97c4156ab444c0d8b50659f30d16b7b41a373e25', 'message': 'Rename x/compute-hyperv to openstack/compute-hyperv\n\nThe compute-hyperv project has been moved back to the openstack\nnamespace after being marked as a ""Winstackers"" team deliverable.\n\nDepends-On: I876fdf180368bf16b680b71339922a9c2e752c74\nChange-Id: Ifad5a4eff3a31cc51c46706e77ff3acf1cffc94e\n'}]",0,661684,97c4156ab444c0d8b50659f30d16b7b41a373e25,9,7,1,8543,,,0,"Rename x/compute-hyperv to openstack/compute-hyperv

The compute-hyperv project has been moved back to the openstack
namespace after being marked as a ""Winstackers"" team deliverable.

Depends-On: I876fdf180368bf16b680b71339922a9c2e752c74
Change-Id: Ifad5a4eff3a31cc51c46706e77ff3acf1cffc94e
",git fetch https://review.opendev.org/openstack/governance refs/changes/84/661684/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,97c4156ab444c0d8b50659f30d16b7b41a373e25,project-rename, - openstack/compute-hyperv, - x/compute-hyperv,1,1
openstack%2Fnova~stable%2Fstein~I4bc81b482380c5778781659c4d167a712316dab4,openstack/nova,stable/stein,I4bc81b482380c5778781659c4d167a712316dab4,cleanup evacuated instances not on hypervisor,MERGED,2019-05-30 11:23:13.000000000,2019-05-31 19:26:41.000000000,2019-05-31 19:26:41.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-30 11:23:13.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b8f2cd689f0a747778080ba4b6e148e71eb53085', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code paths only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nNote that the functional test coverage will be added on top as it needs\nsome refactoring that would make the bugfix non backportable.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n(cherry picked from commit 9cacaad14e8c18e99e85d9dc04308fee91303f8f)\n""}]",0,662189,b8f2cd689f0a747778080ba4b6e148e71eb53085,10,5,1,9708,,,0,"cleanup evacuated instances not on hypervisor

When the compute host recovers from a failure the compute manager
destroys instances that were evacuated from the host while it was down.
However these code paths only consider evacuated instances that are
still reported by the hypervisor. This means that if the compute
host is recovered in a way that the hypervisor lost the definition
of the instances (for example the compute host was redeployed) then
the allocation of these instances will not be deleted.

This patch makes sure that the instance allocation is cleaned up
even if the driver doesn't return that instance as exists on the
hypervisor.

Note that the functional test coverage will be added on top as it needs
some refactoring that would make the bugfix non backportable.

Change-Id: I4bc81b482380c5778781659c4d167a712316dab4
Closes-Bug: #1724172
(cherry picked from commit 9cacaad14e8c18e99e85d9dc04308fee91303f8f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/662189/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,b8f2cd689f0a747778080ba4b6e148e71eb53085,bug/1724172," Then allocations are removed from Placement for every instance that is evacuated from this host regardless if the instance is reported by the hypervisor or not. evacuated_local_instances = {inst.uuid: inst for inst in local_instances if inst.uuid in evacuations} for instance in evacuated_local_instances.values(): LOG.info('Destroying instance as it has been evacuated from ' 'this host but still exists in the hypervisor', instance=instance) # NOTE(gibi): We are called from init_host and at this point the # compute_nodes of the resource tracker has not been populated yet so # we cannot rely on the resource tracker here. compute_nodes = {} for instance_uuid, migration in evacuations.items(): try: if instance_uuid in evacuated_local_instances: # Avoid the db call if we already have the instance loaded # above instance = evacuated_local_instances[instance_uuid] else: instance = objects.Instance.get_by_uuid( context, instance_uuid) except exception.InstanceNotFound: # The instance already deleted so we expect that every # allocation of that instance has already been cleaned up continue LOG.info('Cleaning up allocations of the instance as it has been ' 'evacuated from this host', instance=instance)"," evacuated = [inst for inst in local_instances if inst.uuid in evacuations] # NOTE(gibi): We are called from init_host and at this point the # compute_nodes of the resource tracker has not been populated yet so # we cannot rely on the resource tracker here. compute_nodes = {} for instance in evacuated: migration = evacuations[instance.uuid] LOG.info('Deleting instance as it has been evacuated from ' 'this host', instance=instance) # delete the allocation of the evacuated instance from this host",119,13
openstack%2Fproject-config~master~Iaa330a3f9507cb065ee8b3a11d91abdadb455cf2,openstack/project-config,master,Iaa330a3f9507cb065ee8b3a11d91abdadb455cf2,Fix gerrit/projects.yaml sort order,MERGED,2019-05-31 17:43:35.000000000,2019-05-31 19:21:11.000000000,2019-05-31 19:21:11.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 17:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/abff2fb05ad7fff31995610ad77b83e02c48ae93', 'message': 'Fix gerrit/projects.yaml sort order\n\nOur linters fail due to wrong sorting, fix it.\n\nChange-Id: Iaa330a3f9507cb065ee8b3a11d91abdadb455cf2\n'}, {'number': 2, 'created': '2019-05-31 18:02:49.000000000', 'files': ['tools/check_valid_gerrit_config.sh', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ef188ee2f60c5ee72da0b756149d5b73a6865fcc', 'message': 'Fix gerrit/projects.yaml sort order\n\nOur linters fail due to wrong sorting, fix it.\n\nAlso, fix tools/check_valid_gerrit_config.sh, openstack-dev is dead now.\n(the file needs a better fix, will do a followup)\n\nChange-Id: Iaa330a3f9507cb065ee8b3a11d91abdadb455cf2\n'}]",0,662527,ef188ee2f60c5ee72da0b756149d5b73a6865fcc,10,3,2,6547,,,0,"Fix gerrit/projects.yaml sort order

Our linters fail due to wrong sorting, fix it.

Also, fix tools/check_valid_gerrit_config.sh, openstack-dev is dead now.
(the file needs a better fix, will do a followup)

Change-Id: Iaa330a3f9507cb065ee8b3a11d91abdadb455cf2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/662527/2 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,abff2fb05ad7fff31995610ad77b83e02c48ae93,hotfix2,- project: opendev/sandbox description: Sandbox for first time contributors groups: - openstack-dev-sandbox,- project: opendev/sandbox description: Sandbox for first time contributors groups: - openstack-dev-sandbox,4,4
openstack%2Fopenstack~master~I171261b046cc3f00444ef1f4b2bc0bc646f9b346,openstack/openstack,master,I171261b046cc3f00444ef1f4b2bc0bc646f9b346,Regenerate .gitmodules after rename,MERGED,2019-05-31 19:10:52.000000000,2019-05-31 19:19:34.000000000,2019-05-31 19:19:34.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 19:10:52.000000000', 'files': ['ansible-role-k8s-keystone', '.gitmodules', 'ansible-role-k8s-cookiecutter', 'charm-vault', 'gitdm', 'charm-interface-websso-fid-service-provider', 'charm-keystone-saml-mellon', 'zmq-event-publisher', 'cyborg-tempest-plugin', 'pyeclib', 'openstackweb', 'ansible-role-k8s-rabbitmq', 'oslosphinx', 'ansible-role-k8s-tripleo', 'ansible-role-k8s-cinder', 'ciwatch', 'infra-ansible', 'gearman-plugin', 'compute-hyperv', 'ansible-role-k8s-mariadb', 'liberasurecode', 'ansible-role-cloud-launcher', 'groups', 'openstackid', 'zone-opendev.org', 'jenkins-job-builder', 'openstackid-resources', 'groups-static-pages', 'odsreg', 'charm-nova-lxd', 'charm-interface-keystone-fid-service-provider', 'ansible-role-k8s-glance'], 'web_link': 'https://opendev.org/openstack/openstack/commit/45d5296e76570db7caf94d1e8e69abc5ede2ec9c', 'message': 'Regenerate .gitmodules after rename\n\nRegenerate .gitmodules after rename.\n\nThis also takes into account recent retirement and new creation of repos.\n\nChange-Id: I171261b046cc3f00444ef1f4b2bc0bc646f9b346\n'}]",0,662547,45d5296e76570db7caf94d1e8e69abc5ede2ec9c,6,2,1,6547,,,0,"Regenerate .gitmodules after rename

Regenerate .gitmodules after rename.

This also takes into account recent retirement and new creation of repos.

Change-Id: I171261b046cc3f00444ef1f4b2bc0bc646f9b346
",git fetch https://review.opendev.org/openstack/openstack refs/changes/47/662547/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-role-k8s-keystone', '.gitmodules', 'ansible-role-k8s-cookiecutter', 'charm-vault', 'gitdm', 'charm-interface-websso-fid-service-provider', 'charm-keystone-saml-mellon', 'zmq-event-publisher', 'cyborg-tempest-plugin', 'pyeclib', 'openstackweb', 'ansible-role-k8s-rabbitmq', 'oslosphinx', 'ansible-role-k8s-tripleo', 'ansible-role-k8s-cinder', 'ciwatch', 'infra-ansible', 'gearman-plugin', 'compute-hyperv', 'ansible-role-k8s-mariadb', 'liberasurecode', 'ansible-role-cloud-launcher', 'groups', 'openstackid', 'zone-opendev.org', 'jenkins-job-builder', 'openstackid-resources', 'groups-static-pages', 'odsreg', 'charm-nova-lxd', 'charm-interface-keystone-fid-service-provider', 'ansible-role-k8s-glance']",32,45d5296e76570db7caf94d1e8e69abc5ede2ec9c,,,Subproject commit 6c31b563708d169421f9b94c7da565b99a5f674c,53,103
openstack%2Fnova~stable%2Fstein~Id0f05bb1275cc816d98b662820e02eae25dc57a3,openstack/nova,stable/stein,Id0f05bb1275cc816d98b662820e02eae25dc57a3,Fix live-migration when glance image deleted,MERGED,2019-05-30 07:50:00.000000000,2019-05-31 18:52:22.000000000,2019-05-31 18:52:22.000000000,"[{'_account_id': 2033}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 20147}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28332}]","[{'number': 1, 'created': '2019-05-30 07:50:00.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b45f47c7577f7b9694ba0a6060312f1a0ec06abd', 'message': 'Fix live-migration when glance image deleted\n\nWhen block live-migration is run on instance with\na deleted glance image, image.cache() is called\nwithout specyfing instance disk size parameter,\npreventing the resize of disk on the target host.\n\nChange-Id: Id0f05bb1275cc816d98b662820e02eae25dc57a3\nCloses-Bug: #1829000\n(cherry picked from commit c1782bacd8461bdd8c833792864e61228fa451f1)\n'}]",0,662152,b45f47c7577f7b9694ba0a6060312f1a0ec06abd,10,8,1,10135,,,0,"Fix live-migration when glance image deleted

When block live-migration is run on instance with
a deleted glance image, image.cache() is called
without specyfing instance disk size parameter,
preventing the resize of disk on the target host.

Change-Id: Id0f05bb1275cc816d98b662820e02eae25dc57a3
Closes-Bug: #1829000
(cherry picked from commit c1782bacd8461bdd8c833792864e61228fa451f1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/662152/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,b45f47c7577f7b9694ba0a6060312f1a0ec06abd,bug/1829000," backfile_path = os.path.join(base_dir, backing_file) disk_size = 10747904 virt_disk_size = 25165824 u'disk_size': disk_size, u'virt_disk_size': virt_disk_size}] def fake_copy_image(src, dest, **kwargs): # backing file should be present and have a smaller size # than instance root disk in order to assert resize_image() if dest == backfile_path: # dest is created under TempDir() fixture, # it will go away after test cleanup with open(dest, 'a'): pass mock.patch.object(libvirt_driver.libvirt_utils, 'copy_image', side_effect=fake_copy_image), mock.patch.object(imagebackend.Qcow2, 'resize_image'), mock.patch.object(imagebackend.Image, 'get_disk_size', return_value=disk_size), ) as (copy_image_mock, fetch_image_mock, resize_image_mock, get_disk_size_mock): resize_image_mock.assert_called_once_with(virt_disk_size)"," u'disk_size': 10747904, u'virt_disk_size': 25165824}] mock.patch.object(libvirt_driver.libvirt_utils, 'copy_image'), ) as (copy_image_mock, fetch_image_mock): backfile_path = os.path.join(base_dir, backing_file)",22,6
openstack%2Fopenstack-helm-images~master~Ic56207f6ac26b8a381158e0b5bf22543442b9176,openstack/openstack-helm-images,master,Ic56207f6ac26b8a381158e0b5bf22543442b9176,DNM: test,ABANDONED,2019-05-31 13:16:31.000000000,2019-05-31 18:31:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-05-31 13:16:31.000000000', 'files': ['mini-mirror/tools/publish_snapshots.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0a3f25a38410b8bbf38b9ebe08840f59dfba4768', 'message': 'DNM: test\n\nChange-Id: Ic56207f6ac26b8a381158e0b5bf22543442b9176\n'}]",0,662459,0a3f25a38410b8bbf38b9ebe08840f59dfba4768,5,2,1,28618,,,0,"DNM: test

Change-Id: Ic56207f6ac26b8a381158e0b5bf22543442b9176
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/59/662459/1 && git format-patch -1 --stdout FETCH_HEAD,['mini-mirror/tools/publish_snapshots.sh'],1,0a3f25a38410b8bbf38b9ebe08840f59dfba4768,DNM,set -xe,set -e,1,1
openstack%2Fpaunch~stable%2Fstein~Ia8ebe35a9edc41f3ec635cc05dde08783c5e2a44,openstack/paunch,stable/stein,Ia8ebe35a9edc41f3ec635cc05dde08783c5e2a44,"Ensure we don't have any trailing ""requires"" for paunch units",MERGED,2019-05-30 12:44:07.000000000,2019-05-31 18:28:12.000000000,2019-05-31 18:28:12.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-05-30 12:44:07.000000000', 'files': ['paunch/tests/test_utils_systemd.py', 'paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/dd2da3f9f536d7578039ce1f10a90b82dc2277ef', 'message': 'Ensure we don\'t have any trailing ""requires"" for paunch units\n\nIt might happen people want to disable the health checks in an update.\nThis change will ensure paunch cleans things up before (re)creating the\nmain service unit file, in order to avoid failed dependencies in systemd\nconfiguration.\n\nChange-Id: Ia8ebe35a9edc41f3ec635cc05dde08783c5e2a44\n(cherry picked from commit ecc2047b2ec5eaf39cce119abe1678ac19139d79)\n'}]",0,662198,dd2da3f9f536d7578039ce1f10a90b82dc2277ef,9,6,1,3153,,,0,"Ensure we don't have any trailing ""requires"" for paunch units

It might happen people want to disable the health checks in an update.
This change will ensure paunch cleans things up before (re)creating the
main service unit file, in order to avoid failed dependencies in systemd
configuration.

Change-Id: Ia8ebe35a9edc41f3ec635cc05dde08783c5e2a44
(cherry picked from commit ecc2047b2ec5eaf39cce119abe1678ac19139d79)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/98/662198/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_utils_systemd.py', 'paunch/utils/systemd.py']",2,dd2da3f9f536d7578039ce1f10a90b82dc2277ef,requires, # Ensure we don't have some trailing .requires directory and content for # this service if os.path.exists(sysd_unit_f + '.requires'): shutil.rmtree(sysd_unit_f + '.requires') ,,13,1
openstack%2Fpaunch~stable%2Fstein~Ib5d61ed0e3b85dfbc256cb46cbfb611f8a785d71,openstack/paunch,stable/stein,Ib5d61ed0e3b85dfbc256cb46cbfb611f8a785d71,Corrected how health check unit and link are removed,MERGED,2019-05-30 12:43:20.000000000,2019-05-31 18:28:11.000000000,2019-05-31 18:28:11.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-30 12:43:20.000000000', 'files': ['paunch/tests/test_utils_systemd.py', 'paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/cbc9607c0b92a894ba957bd0f6f69b79180b6cb8', 'message': 'Corrected how health check unit and link are removed\n\nI681fa0eb225d43ecbaa1b765f6761dd07031bce1 introduced some logic and\nlinks between main service and its health check. The removal wasn\'t that\nclean, so this patch intends to make things faster and cleaner.\n\nWe also remove the ""systemctl daemon-reload"" call, since it\'s useless:\nits only value is for modified units, and here we\'re stopping, disabling\nand deleting units.\n\nThis last change allows to get a cleaner, safer removal of the health\ncheck dependency.\n\nChange-Id: Ib5d61ed0e3b85dfbc256cb46cbfb611f8a785d71\n(cherry picked from commit 52d0b2d5f557e199b757826289b06a8951496621)\n'}]",0,662197,cbc9607c0b92a894ba957bd0f6f69b79180b6cb8,8,6,1,3153,,,0,"Corrected how health check unit and link are removed

I681fa0eb225d43ecbaa1b765f6761dd07031bce1 introduced some logic and
links between main service and its health check. The removal wasn't that
clean, so this patch intends to make things faster and cleaner.

We also remove the ""systemctl daemon-reload"" call, since it's useless:
its only value is for modified units, and here we're stopping, disabling
and deleting units.

This last change allows to get a cleaner, safer removal of the health
check dependency.

Change-Id: Ib5d61ed0e3b85dfbc256cb46cbfb611f8a785d71
(cherry picked from commit 52d0b2d5f557e199b757826289b06a8951496621)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/97/662197/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_utils_systemd.py', 'paunch/utils/systemd.py']",2,cbc9607c0b92a894ba957bd0f6f69b79180b6cb8,links,"import shutil for sysd_f in sysd_unit_f, sysd_health_f, sysd_timer_f: try: systemctl.stop(sysd_f) systemctl.disable(sysd_f) os.remove(sysdir + sysd_f) # Now that the service is removed, we can remove its "".requires"" if os.path.exists(os.path.join(sysdir, sysd_health_req_d)): log.info('Removing healthcheck require for %s' % service) shutil.rmtree(os.path.join(sysdir, sysd_health_req_d))"," sysd_health_req_f = sysd_health_req_d + '/' + sysd_timer_f for sysd_f in sysd_health_req_f, sysd_unit_f, sysd_health_f, sysd_timer_f: sysd_unit = os.path.basename(sysd_f) try: systemctl.stop(sysd_unit) systemctl.disable(sysd_unit) if os.path.exists(sysdir + sysd_f): os.remove(sysdir + sysd_f) try: systemctl.daemon_reload() except systemctl.SystemctlException: log.exception(""systemctl failed"") raise if os.path.exists(os.path.join(sysdir, sysd_health_req_d)): log.info('Removing %s.requires' % service) os.rmdir(os.path.join(sysdir, sysd_health_req_d))",14,29
openstack%2Fpaunch~stable%2Fstein~Ia0e278bf5731aa5d09739d54f4db64dbaf85d037,openstack/paunch,stable/stein,Ia0e278bf5731aa5d09739d54f4db64dbaf85d037,Introduce the systemctl module to provide simple systemctl commands wrap,MERGED,2019-05-30 12:41:28.000000000,2019-05-31 18:28:11.000000000,2019-05-31 18:28:11.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-05-30 12:41:28.000000000', 'files': ['paunch/utils/systemctl.py', 'paunch/tests/test_utils_systemctl.py', 'paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/835c3d6c9191a0ba20e6f035cb61689b9b659212', 'message': 'Introduce the systemctl module to provide simple systemctl commands wrap\n\nCentralize all the subprocess dedicated to call systemctl in a dedicated\nwrapper to ensure straightforward usage and dedicated unit test less\nin a functional approach and also reduce the technical debt.\n\nThis module can continue to evolve to reflect the real systemctl command\nsignatures and dedicated parameters and related checks if needed.\n\nChange-Id: Ia0e278bf5731aa5d09739d54f4db64dbaf85d037\n(cherry picked from commit 2567495f158903a9adb6ee1be2fda383103c9416)\n'}]",0,662196,835c3d6c9191a0ba20e6f035cb61689b9b659212,12,6,1,3153,,,0,"Introduce the systemctl module to provide simple systemctl commands wrap

Centralize all the subprocess dedicated to call systemctl in a dedicated
wrapper to ensure straightforward usage and dedicated unit test less
in a functional approach and also reduce the technical debt.

This module can continue to evolve to reflect the real systemctl command
signatures and dedicated parameters and related checks if needed.

Change-Id: Ia0e278bf5731aa5d09739d54f4db64dbaf85d037
(cherry picked from commit 2567495f158903a9adb6ee1be2fda383103c9416)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/96/662196/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/utils/systemctl.py', 'paunch/tests/test_utils_systemctl.py', 'paunch/utils/systemd.py']",3,835c3d6c9191a0ba20e6f035cb61689b9b659212,,"from paunch.utils import systemctl wants = "" "".join(systemctl.format_name(str(x)) for x in cconfig.get('depends_on', [])) sysd_unit_f = sysdir + systemctl.format_name(service) systemctl.daemon_reload() systemctl.enable(service, now=True) except systemctl.SystemctlException: sysd_unit_f = systemctl.format_name(service) sysd_health_f = systemctl.format_name(service + '_healthcheck') systemctl.stop(sysd_unit) systemctl.disable(sysd_unit) except systemctl.SystemctlException: systemctl.daemon_reload() except systemctl.SystemctlException: healthcheck = systemctl.format_name(service + '_healthcheck') systemctl.enable(healthcheck_timer, now=True) systemctl.add_requires(systemctl.format_name(service), healthcheck_timer) systemctl.daemon_reload() except systemctl.SystemctlException:","import subprocess wants = "" "".join(str(x) + '.service' for x in cconfig.get('depends_on', [])) sysd_unit_f = sysdir + service + '.service' subprocess.check_call(['systemctl', 'daemon-reload']) subprocess.check_call(['systemctl', 'enable', '--now', service]) except subprocess.CalledProcessError: sysd_unit_f = service + '.service' sysd_health_f = service + '_healthcheck.service' subprocess.check_call(['systemctl', 'stop', sysd_unit]) subprocess.check_call(['systemctl', 'disable', sysd_unit]) except subprocess.CalledProcessError: subprocess.check_call(['systemctl', 'daemon-reload']) except subprocess.CalledProcessError: healthcheck = service + '_healthcheck.service' subprocess.check_call(['systemctl', 'enable', '--now', healthcheck_timer]) subprocess.check_call(['systemctl', 'add-requires', service + '.service', healthcheck_timer]) subprocess.check_call(['systemctl', 'daemon-reload']) except subprocess.CalledProcessError:",166,21
openstack%2Fnova-specs~master~I85ee16635ad80a3ceef8806b8b3bea0e70304565,openstack/nova-specs,master,I85ee16635ad80a3ceef8806b8b3bea0e70304565,Resource Management Daemon - Base Enablement,ABANDONED,2019-04-09 08:06:01.000000000,2019-05-31 18:24:43.000000000,,"[{'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 29334}, {'_account_id': 30001}]","[{'number': 1, 'created': '2019-04-09 08:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c902c47ff7944cb577064688c4409e53ab81fa1a', 'message': 'Implements: blueprint nova-local-resource-management-that-uses-rmd\n\nChange-Id: I85ee16635ad80a3ceef8806b8b3bea0e70304565\nSigned-off-by: Dakshina Ilangovan  <dakshina.ilangovan@intel.com>\n'}, {'number': 2, 'created': '2019-04-09 11:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/81b579d7f7bbd3e1764bced06d3285b16e09f14c', 'message': 'Nova local resource management that uses RMD\n\nWe propose a solution for OpenStack Nova to leverage the RMD to manage a subset of host resources traditionally not visible to Nova. These are resources that shall allow more fine grain resource control for more predictable performance. This will require running RMD on the compute nodes along with RMD plugins to interface each resource it supports and modifying Nova Compute.\n\nImplements: blueprint nova-local-resource-management-that-uses-rmd\n\nChange-Id: I85ee16635ad80a3ceef8806b8b3bea0e70304565\nSigned-off-by: Dakshina Ilangovan  <dakshina.ilangovan@intel.com>\nSigned-off-by: dakshinai <dakshina.ilangovan@intel.com>\n'}, {'number': 3, 'created': '2019-04-10 17:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/724778f752808c82fa86367334b782cc6ef27b75', 'message': 'Nova local resource management that uses RMD\n\nWe propose a solution for OpenStack Nova to leverage the RMD to manage a subset of host resources traditionally not visible to Nova. These are resources that shall allow more fine grain resource control for more predictable performance. This will require running RMD on the compute nodes along with RMD plugins to interface each resource it supports and modifying Nova Compute.\n\nImplements: blueprint nova-local-resource-management-that-uses-rmd\n\nChange-Id: I85ee16635ad80a3ceef8806b8b3bea0e70304565\nSigned-off-by: Dakshina Ilangovan  <dakshina.ilangovan@intel.com>\nSigned-off-by: dakshinai <dakshina.ilangovan@intel.com>\n'}, {'number': 4, 'created': '2019-04-10 18:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0e7dc6ddcc01a248101e514478b4a4d8b498f8aa', 'message': 'Resource Management Daemon - Base Enablement\n\nWe propose a solution for OpenStack Nova to leverage the RMD to manage a subset of host resources traditionally not visible to Nova. These are resources that shall allow more fine grain resource control for more predictable performance. This will require running RMD on the compute nodes along with RMD plugins to interface each resource it supports and modifying Nova Compute.\n\nImplements: blueprint rmd-base-enablement\n\nChange-Id: I85ee16635ad80a3ceef8806b8b3bea0e70304565\nSigned-off-by: Dakshina Ilangovan  <dakshina.ilangovan@intel.com>\n'}, {'number': 5, 'created': '2019-04-11 00:34:03.000000000', 'files': ['specs/train/approved/rmd-base-enablement.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/28b06cb71b84a2f2cee5b8c041c3e2781321c423', 'message': 'Resource Management Daemon - Base Enablement\n\nWe propose a solution for OpenStack Nova to leverage the RMD to manage a subset of host resources traditionally not visible to Nova. These are resources that shall allow more fine grain resource control for more predictable performance. This will require running RMD on the compute nodes along with RMD plugins to interface each resource it supports and modifying Nova Compute.\n\nImplements: blueprint rmd-base-enablement\n\nChange-Id: I85ee16635ad80a3ceef8806b8b3bea0e70304565\nSigned-off-by: Dakshina Ilangovan  <dakshina.ilangovan@intel.com>\n'}]",75,651130,28b06cb71b84a2f2cee5b8c041c3e2781321c423,19,9,5,29334,,,0,"Resource Management Daemon - Base Enablement

We propose a solution for OpenStack Nova to leverage the RMD to manage a subset of host resources traditionally not visible to Nova. These are resources that shall allow more fine grain resource control for more predictable performance. This will require running RMD on the compute nodes along with RMD plugins to interface each resource it supports and modifying Nova Compute.

Implements: blueprint rmd-base-enablement

Change-Id: I85ee16635ad80a3ceef8806b8b3bea0e70304565
Signed-off-by: Dakshina Ilangovan  <dakshina.ilangovan@intel.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/30/651130/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/nova-local-resource-management-that-uses-rmd.rst'],1,c902c47ff7944cb577064688c4409e53ab81fa1a,bp/rmd-base-enablement,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Nova local resource management that uses RMD ============================================ https://blueprints.launchpad.net/nova/+spec/nova-local-resource-management-that-uses-rmd This document assumes the existence and use of Resource Management Daemon (RMD) to manage certain local hardware resources on the servers of interest, and this document identifies the changes that are needed in Nova to interface to RMD. RMD is an open source project and is described in [1]_. However, RMD is not part of OpenStack because it needs to support a broader set of cases, including bare-metal, using either OpenStack or Kubernetes. That said, while this document does not define or specify RMD, it is necessary to understand some basic background about RMD to understand this document's proposed modifications to Nova. Through this proposal we want to show how OpenStack can talk to RMD running (locally) on its compute nodes to enable resource management for a subset of host resources that RMD can control. This means that one subset of host resources can be statically managed through a hypervisor like Libvirt, and a different subset can be managed using RMD so they can realize its benefits. RMD can provision hardware resources and dynamically manage resource allocations for a VM created using the hypervisor. It can be said that RMD extends the capabilities of the hypervisor. **RMD Background** Low latency and real time workloads are sensitive to resource contention on a compute node. As the density of the software that runs on the platform increases, software components like VNFs, containers or infrastructure components like vSwitch/vRouter often compete for hardware resources and this can have significant impact on performance and service availability. To prevent such negative impact, one solution is to leave some resource headroom while scheduling tasks to a machine. Even this can prove inadequate when there are spikes in load, such as when there are network traffic bursts affecting the Quality of Service (QoS)/Quality of Experience (QoE). Also, with Service Function Chaining, VNFs can be selectively prioritized to deliver an on-demand service. Such decisions require dynamic adjustments to resources allocated to the VNFs to meet the desired performance. To facilitate greater workload packing and handle changes in workload characteristics or priorities, fine grain resource control at sub-second time granularity on the compute node is valuable. Orchestrators today don't have the ability to provide this on each compute node. For instance, hardware resources like Last Level Cache (LLC), Memory bandwidth, Power management, etc., while being time sensitive and shared across multiple VMs, require dynamic and time-sensitive adjustments at node level leading to the requirement of having a node agent like RMD. Secondly, since VNFs use a shared platform, hardware partitioning/isolation can be critical. Such partitioning enables each application to get the resources it needs when it needs them, and is not adversely affected by other VNFs. This is sometimes called the noisy neighbor problem and RMD aims to address it. For instance, with 5G network slicing, a carrier may want to manage the VNF resource partitions dynamically. The Resource Management Daemon (RMD) is run on selected servers and bridges this gap by providing the following features: 1. Provide finer-grain local control of resources through short-term monitoring on the local node and ability to make dynamic adjustments to existing allocations consistent to user requests. 2. Provide high-level abstraction of allocation requests of resources on the local platform. 3. Associate Quality of Service (QoS) metadata with resource allocation requests. 4. Provide hooks into platform to address different interfaces for the same or multiple resources. This results in vendor or platform independence from OpenStack. Currently Nova only provides static allocation of hardware resources when an instance like VM is scheduled with no concept of local node monitoring and fine tuning of a subset of hardware resources that can help improve or maintain the performance. Refer to the Alternatives section for the implications of using a hypervisor like Libvirt alone to manage hardware resources. OpenStack workloads can benefit from the Resource Management Daemon (RMD) when deployed on a compute node and RMD can extend the capabilities of a hypervisor like Libvirt to provide more than static allocation of resources using its plugins. **Implications for Nova** We propose a solution for OpenStack Nova to leverage the Resource Management Daemon (RMD) to manage a subset of host resources traditionally not visible to Nova. These are resources that shall allow more fine grain resource control for more predictable performance. This will require running RMD on the compute nodes along with RMD plugins to interface each resource it supports and modifying Nova Compute. The integration between OpenStack and RMD require the following two changes in Nova Compute: * Enabling a path between Nova Compute and RMD that allows Nova Compute to query the inventory of resources managed by RMD, and to delegate resource allocation requests to RMD. The OpenStack flavor determines as always eligible hosts and the amount and types of the various resources being requested for an instance. * Enabling a path from Nova Compute to Placement API to update resource inventory information obtained from RMD. The changes are illustrated below: .. code:: WORKLOAD REQUEST-X +----------------------+ |IMAGE, FLAVOR, POLICY | +----------+ +---------+------------+ |PLACEMENT | | +---------->SERVICE | +-----v----+ | Schedule +----^-----+ |NOVA | | Flavor | |API | | Resources | +-----+----+ +---v------+ | | |NOVA | | | |SCHEDULER | | +-----v----+ +----^-----+ | |NOVA | | | |CONDUCTOR +-------------+ | +-----+----+ | | | | | +-----v----+ Resource Inventory Updates | |NOVA +----------------------------+ |COMPUTE | +---+---+--+ | | | | Fetch Resource Inventory +----------+ | +--------------------------> RMD | +------------------------------> +--------+ Request Resource Allocation +--+---+---+ | | | | | | | +-----+ | +v----+ +--v--+ | VM <--+ | VM | | VM | +-----+ +-----+ +-----+ * The Resource Management Daemon (RMD) is outside the scope of Nova. * Note that no changes are needed to the Placement service. Custom Resource classes or Resource Provider Traits will be leveraged depending upon the resource enabled by RMD. * Each Nova flavor request will request RMD supported resources using Extra Specs. * For fetch resource inventory requests to RMD, the interface will be GET /v1/<resourcetype> (e.g. GET /v1/cache). * For resource allocation requests to RMD, the interface will be POST /v1/workloads. When a set of x resources are requested, RMD assumes the all or nothing rule. That is, it returns an error even if one of the resource allocations fail. The details for enabling specific platform resource through RMD Openstack integration and RMD resource plugins will be covered in a seperate spec. Problem description =================== Today, Nova Compute only provides static allocation of hardware resources at scheduled times, with no concept of local node monitoring or fine tuning of a subset of hardware resources, which could help improve or maintain the performance of latency-sensitive and real-time workloads. Secondly, for every new vendor resource that has to be supported, today there is no centralized approach to provide a user interface with high-level abstraction of allocation requests and with additional Quality of Service (QoS) metadata. The Resource Management Daemon (RMD) solution will allow vendors to easily integrate their resources into a local node daemon instead of having to upstream code for different interfaces for multiple resources and their multiple versions. This will eliminate vendor/platform dependent changes in OpenStack. Use Cases --------- Use case #1: Efficient co-location of workloads on OpenStack compute nodes Actors: Users, Deployers The users and deployers of workloads that are sensitive to hardware resources may require dynamic management of the resources for optimal performance in a virtualized environment. Hardware resources like Last Level Cache (LLC) and memory bandwidth can benefit from such dynamic adjustments [2]_. Since RMD has a holistic view of the set of resources on the local node under its umbrella and delivers a model to monitor these resources using collectors like collectd, it can make dynamic adjustments to resource allocations, which form a local closed loop feedback. The allocation will be based on the resource policy provided by the orchestrator. Of course, such changes would have to be made within the boundaries specified by the algorithm or workload owner. In future, OpenStack can also interact with RMD via the control plane, with an updated policy to make dynamic adjustments based on long-term monitoring results obtained from all nodes. Use case #2: Vendor Independence for OpenStack Resource Management Actors: Users, Vendors, Developers Users, vendors and developers need to control resources in easy to understand common terms and not in vendor-specific fields and values. RMD handles the abstraction and translates user-friendly units to what hardware requires. For example, with RMD, end-users need not worry about complex vendor-specific allocation requests and how these resources are controlled on the platform (sys fs, resctrl fs, proc fs, etc.). For instance, an end user would not specify bitmask fields associated with Intel Resource Director Technology (RDT) allocation request for a workload's Last Level Cache (LLC). RMD can in turn abstract the allocation units to user-friendly units such as MB for LLC and Mbps for Memory bandwidth. RMD can also provide an abstract view to end users to associate Quality of Service (QoS) features provided by specific vendor technologies - for instance dedicated vs. overlapping LLC ways provide by Intel Resource Directory Technology (RDT). The RMD approach means that every vendor developer need not update OpenStack (in multiple places) to support their vendor-specific resources. It is easier to integrate support for vendor specific host resources in RMD for a compute node and let OpenStack track the vendor specific host resources across compute nodes that deploy RMD. For instance, RMD could support L3 Cache QoS strategies from Intel (RDT [3]_) and expose relevant inventory information and knobs to control L3 cache to OpenStack, based on the vendor and platform used on the compute node. Use case #3: Platform Independence for OpenStack Resource Management Actors: Developers, Deployers In order to manage platform-specific resources such as Intel RDT technology, developers should take into account the CPU SKU model, kernel version, kernel boot parameters and other kernel options like mount parameters for file systems in use. RMD helps to abstract these checks, and updates OpenStack inventory (via the Placement API) to let deployers know what resources are available on each OpenStack compute node. Proposed change =============== We propose a solution for integration between OpenStack and RMD to enable the finer control of compute resources exposed using RMD [*]_. As part of the integration, we suggest modifications to Nova Compute to be able to interact with RMD deployed on all desired compute nodes. 1. Modifications to Nova Compute -------------------------------- The virt-driver in Nova compute leverages RMD when RMD is deployed on a compute node. The virt-driver validates the existence of RMD on the compute node when RMD flags are enabled from the Nova configuration. All interactions to RMD HTTPS REST interface are mutually authenticated using certificates enabled from Nova configuration. The Nova configuration will also carry configuration for the polling interval to request information from RMD. The responsibilities of the virt-driver to support RMD are outlined below: * Query RMD to get the inventory of resources it manages by polling OpenStack should be aware of the resources reported and managed by RMD across all compute nodes that deploy RMD, to let users request and schedule for those resources. The virt-driver will query resource inventory information from RMD's REST interface as part of its update_resource_provider_tree() method. The query should also reflect new inventory information on startup of RMD, after any hot-plug in the OpenStack compute node or when resources are used by other non Openstack processes on the compute node. * Update the resource inventory information, obtained from RMD, to the Placement API The virt-driver should update resource inventory information reported by RMD about its corresponding compute node to the Placement API. This lets the scheduler to be aware of the resources managed by RMD at all compute nodes that deploy RMD. The placement information can be reflected as Resource Provider Traits or Resource Classes based on the type of platform resource supported by RMD. * Formulate resource allocation request to RMD from new Extra Specs in Openstack flavor that comprehend RMD managed resources The administrator is expected to configure Extra Specs in Openstack flavor [4]_ to let users request for resources reported and managed by RMD. Nova can request for a new resource allocation or a delete on resource allocations. With the introduction and QoS and other meta-data into the flavor that can be used by RMD, Nova should implement an RMD filter on the flavor to extract min value requested for resources that can be used by the scheduler. Based on the request for a resource managed by RMD through custom flavors and inventory information in the Placement API, the scheduler can select the appropriate compute node reporting the respective RMD resource. The virt-driver should delegate resource allocation and management to RMD by formulating a request through a policy sent to RMD's REST API. The virt-driver as part of ts spawn() method can create this policy using information from the flavor. This can include resource allocation amounts for the RMD resources as well as other meta-data like CPU pinning information. Please note that RMD only works on a subset of resources configured, and leverages any meta-data information it may require. For instance, it will not do any CPU pinning but can use the information to do resource allocations to the set of cores the VM is pinned to. When the virt-driver sends a request to RMD to perform resource allocation for a subset of host resources on a compute node that is identified by the scheduler, the following scenarios will occur: a. If RMD allocation succeeds, no further interactions are needed. b. If RMD allocation fails, an exception is returned to Nova Compute, allocation entries are removed from the allocation table and the compute node is blacklisted for that request to avoid any retries by the scheduler. Note than an exception is returned from RMD even if one of the resource allocations requested in the policy fails. c. RMD persists policies it receives in a lightweight no-sql file. When a workload (e.g., VM) crashes or restarts or RMD is restarted, RMD clears the policies and allocations if the workload no longer exists or restores the allocations from polices if the workload exists. Nova Compute takes care of updating the Placement API in OpenStack for workloads that do not exist. d. Any dynamic re-allocations to workload resources done by RMD is handled in the range of min and max allocation values requested for those resources. Nova Compute polls for these changes to resource allocations of the workloads done by RMD and sends updates to Allocations API in the Placement API for each workload. 2. Deployment of Resource Management Daemon to desired compute nodes -------------------------------------------------------------------- The Resource Management Daemon (RMD) is a Golang-based local node daemon for resource management. It consists of two processes, namely * A user engine that provides a REST interface to manage allocation and monitoring polices for configured resources, and * A super user process that talks to underlying hardware using plugins to different interfaces provided for the hardware resources. The privilege division between the two processes is by design to prevent any misuse of super user permissions that RMD may have to access the hardware resources. All requests to RMD are placed via HTTPS based REST API. The authority of a user is verified using HTTPS based mutual authentication or by using credentials supplied over HTTPS which are validated using PAM on Linux systems [5]_. The REST API consumes a policy that can contain requests for resources per process id or core id, Quality of Service (QoS) metadata associated with the requested resources and monitoring rules for dynamic re-allocations of requested resources. An example for QoS metadata are definitions of Guaranteed/Shared/Best-effort cache pools for Last Level Cache (LLC) resource. Alternatives ------------ An alternate method is to let Libvirt handle the resource management for vendor/platform specific resources. However, Libvirt is only interested in static provisioning of a workload with the following limitations: * Libvirt assigns a specific quantity of requested resources to a VM while these resource allocation do not change for the life a VM without an explicit update from the control plane. * Libvirt does not track or modify the shared resources of a CPU at runtime that are allocated across multiple VMs to avoid noisy neighbor situations or shared resource contention problems. * The only run time changes made by Libvirt are when external entities like Vitrage, Monasca or analytics node initiate resource changes via live migration etc. * These feedback & control mechanisms generally take seconds to minutes defeating the purpose of fine tuning the resources like LLC/memory bandwidth/power management on a CPU and their allocation to VMs or containers. Data model impact ----------------- None REST API impact --------------- This proposal will involve the addition of new fields in the flavor to support every new resource added as part of RMD, similar to how addition of resources to a hypervisor like Libvirt works. The resources can be adopted early through the use of custom flavors and Placement API traits/resource classes. Nova Compute will use the existing Placement API to update inventory reported by RMD. Security impact --------------- Since Nova Compute controls the movement of data, there is no major security impact. Since RMD controls local hardware resources, it has a strong security model to validate user requests as well as to sandbox the REST API running as a user process from the actual super user process that talks to hardware resources. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ We expect the polling agent in Nova Compute to be fine-tuned using Nova configuration to avoid frequent polling and reduce any subsequent resource inventory updates to the Placement API. RMD allocations will occur after the creation of the workload (e.g. VM) and the time to allocate resources is an extension of the time taken by a hypervisor like Libvirt to provision resources for the VM. Tthe nova virt-driver will perform an extra step to communicate with RMD to request for resource inventory information and deliver the RMD policy for resource allocation to the VM. This will introduce a locking period to wait for the verification of the RMD’s policy and then for the reconfiguration of the hardware. The performance impact will depend on the complexity of the policy and other hardware constraints. Other deployer impact --------------------- The operator can choose to selectively deploy RMD on the compute nodes during bootstrap along with any desired changes to the default RMD configuration options. RMD supported resources are available on a compute node, only when reported to the Placement API. Operators should also enable custom flavors to request RMD enabled resources. Developer impact ---------------- For every new resource that RMD supports, OpenStack developers can leverage it by making appropriate changes to Nova Compute to expose and consume those resources. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: Dakshina Ilangovan Ivens Zambrano Joseph Gasparakis Work Items ---------- Dependencies ============ Resource Management Daemon (RMD) - https://github.com/intel/rmd Testing ======= Documentation Impact ==================== The following documentation guides will be updated. 1. Release Notes - Introduction to leverage RMD on compute nodes with OpenStack Nova. 2. Deployment Guide - Deploy OpenStack with RMD for compute nodes. 3. Administrator Guide - Configuring RMD and enabling custom flavors for resources accessible via RMD on OpenStack compute nodes. 4. End User Guide - Documenting the kinds of workloads that would benefit from RMD controlled resource allocation and listing the OpenStack flavors that explicitly reference them. References ========== .. [1] Resource Management Daemon (RMD) - https://github.com/intel/rmd .. [2] https://builders.intel.com/docs/networkbuilder/deterministic_network_functions_virtualization_with_Intel_Resource_Director_Technology.pdf .. [3] https://www.intel.com/content/www/us/en/architecture-and-technology/resource-director-technology.html .. [4] Custom Flavors - https://specs.openstack.org/openstack/nova-specs/specs/pike/implemented/custom-resource-classes-in-flavors.html .. [5] Linux PAM - http://www.linux-pam.org/ .. [*] As a reminder, there is no suggestion that RMD manage all resources of a server. Libvirt, Cinder and other mechanisms will be used to manage some resources. History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,524,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2,openstack/python-tripleoclient,stable/queens,I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2,Handle tls endpoint for zaqar websocket client,MERGED,2019-05-27 11:10:42.000000000,2019-05-31 18:22:03.000000000,2019-05-31 18:22:03.000000000,"[{'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-27 11:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fbf629145f34a4309ffe1c7ceb6915e325100427', 'message': 'Handle tls endpoint for zaqar websocket client\n\nWhen creating zaqar websocket client, if the endpoint has tls enabled\nprovide the CA to the client.\n\nCloses-Bug: 1791970\nChange-Id: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2\n'}, {'number': 2, 'created': '2019-05-27 11:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/40fbdf5fc54e02d777fe6a7aa99c83084d25c672', 'message': 'Handle tls endpoint for zaqar websocket client\n\nWhen creating zaqar websocket client, if the endpoint has tls enabled\nprovide the CA to the client.\n\nCloses-Bug: 1791970\nChange-Id: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2\n(cherry picked from commit 6639b9e5643aeaee7a17b7995fddc2fb6288b926)\n'}, {'number': 3, 'created': '2019-05-31 08:49:26.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/plugin.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7f8d8999d3b0cdc182d52ae83d7539679e71c1ea', 'message': 'Handle tls endpoint for zaqar websocket client\n\nWhen creating zaqar websocket client, if the endpoint has tls enabled\nprovide the CA to the client.\n\nCloses-Bug: 1791970\nChange-Id: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2\n(cherry picked from commit 6639b9e5643aeaee7a17b7995fddc2fb6288b926)\n'}]",0,661582,7f8d8999d3b0cdc182d52ae83d7539679e71c1ea,14,9,3,6926,,,0,"Handle tls endpoint for zaqar websocket client

When creating zaqar websocket client, if the endpoint has tls enabled
provide the CA to the client.

Closes-Bug: 1791970
Change-Id: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2
(cherry picked from commit 6639b9e5643aeaee7a17b7995fddc2fb6288b926)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/82/661582/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/plugin.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/fakes.py']",4,fbf629145f34a4309ffe1c7ceb6915e325100427,bug/1791970,"WSS_URL = ""wss://0.0.0.0""",,40,1
openstack%2Fkuryr-kubernetes~stable%2Fstein~I35519acfdf8ef250880e36bcf789c063ba86b31e,openstack/kuryr-kubernetes,stable/stein,I35519acfdf8ef250880e36bcf789c063ba86b31e,Ensure Pod SG is updated on podSelector of NP spec update,MERGED,2019-05-27 09:06:52.000000000,2019-05-31 18:21:27.000000000,2019-05-31 18:21:27.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-05-27 09:06:52.000000000', 'files': ['kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/53ffeb980ce2a8958151070b8b2866e15f983846', 'message': ""Ensure Pod SG is updated on podSelector of NP spec update\n\nWhen the podSelector of a Network Policy Spec is updated from '{}'\nto any other value, the pods that are not supposed to be enforced\nby the policy anymore do not have their Security Group updated\nto the default one. This commit fixes the issue by also taking into\naccount the possible value of '{}' in the podSelector NP spec.\n\nChange-Id: I35519acfdf8ef250880e36bcf789c063ba86b31e\nCloses-Bug: 1826548\n(cherry picked from commit 59e761afbf838d10484baeb0564db9ae4d5867b1)\n""}]",0,661570,53ffeb980ce2a8958151070b8b2866e15f983846,15,6,1,23567,,,0,"Ensure Pod SG is updated on podSelector of NP spec update

When the podSelector of a Network Policy Spec is updated from '{}'
to any other value, the pods that are not supposed to be enforced
by the policy anymore do not have their Security Group updated
to the default one. This commit fixes the issue by also taking into
account the possible value of '{}' in the podSelector NP spec.

Change-Id: I35519acfdf8ef250880e36bcf789c063ba86b31e
Closes-Bug: 1826548
(cherry picked from commit 59e761afbf838d10484baeb0564db9ae4d5867b1)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/70/661570/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py']",2,53ffeb980ce2a8958151070b8b2866e15f983846,bug/1826548-stable/stein," @mock.patch.object(network_policy.NetworkPolicyDriver, 'affected_pods') @mock.patch.object(network_policy.NetworkPolicyDriver, 'namespaced_pods') @mock.patch.object(network_policy.NetworkPolicyDriver, 'get_kuryrnetpolicy_crd') @mock.patch.object(network_policy.NetworkPolicyDriver, 'create_security_group_rules_from_network_policy') @mock.patch.object(network_policy.NetworkPolicyDriver, 'update_security_group_rules_from_network_policy') def test_ensure_network_policy_with_existing_crd_empty_selector( self, m_update, m_create, m_get_crd, m_namespaced, m_affected): previous_selector = {} pod_selector = {'matchLabels': {'run': 'demo'}} updated_policy = self._policy.copy() updated_policy['spec']['podSelector'] = pod_selector crd_with_empty_selector = self._crd.copy() crd_with_empty_selector['spec']['podSelector'] = previous_selector m_get_crd.return_value = crd_with_empty_selector m_update.return_value = previous_selector self._driver.ensure_network_policy(updated_policy, self._project_id) m_get_crd.assert_called_once_with(updated_policy) m_create.assert_not_called() m_update.assert_called_once_with(updated_policy) m_affected.assert_called_with(self._policy, previous_selector) m_namespaced.assert_not_called() @mock.patch.object(network_policy.NetworkPolicyDriver, 'namespaced_pods') def test_affected_pods_with_empty_podselector(self, m_namespaced): m_namespaced.return_value = [] pod_selector = {} self._driver.affected_pods(self._policy, pod_selector) m_namespaced.assert_called_with(self._policy) ",,37,2
openstack%2Fopenstack-helm-images~master~If2d60001da03930064afa4d873d8597aeb8f2ee7,openstack/openstack-helm-images,master,If2d60001da03930064afa4d873d8597aeb8f2ee7,Remove Newton from image builds,MERGED,2019-05-31 06:17:38.000000000,2019-05-31 18:17:15.000000000,2019-05-31 18:12:48.000000000,"[{'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-31 06:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/03308b47a262279e4015ae258716877855bb9b1a', 'message': ""Remove Newton from image builds\n\nDuring the last PTG, we discussed about removing the support of\nNewton image building. As nobody was interested in maintaining\nnewton, there is no reason to test this anymore.\n\nWithout this patch, we'll continue to CI test Newton, and should\na failure happen, nobody will care to fix it. It has therefore\nno purpose.\n\nTo not break compatibility or existing tooling, this patch\nremoves Newton from CI builds, and doesn't remove the wrapper\nscript we provide in openstack/loci/.\n\nChange-Id: If2d60001da03930064afa4d873d8597aeb8f2ee7\n""}, {'number': 2, 'created': '2019-05-31 09:48:27.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/19ce24e55cd4595b7f35be6101855693acd190fc', 'message': ""Remove Newton from image builds\n\nDuring the last PTG, we discussed about removing the support of\nNewton image building. As nobody was interested in maintaining\nnewton, there is no reason to test this anymore.\n\nWithout this patch, we'll continue to CI test Newton, and should\na failure happen, nobody will care to fix it. It has therefore\nno purpose.\n\nTo not break compatibility or existing tooling, this patch\nremoves Newton from CI builds, and doesn't remove the wrapper\nscript we provide in openstack/loci/.\n\nChange-Id: If2d60001da03930064afa4d873d8597aeb8f2ee7\n""}]",0,662390,19ce24e55cd4595b7f35be6101855693acd190fc,15,4,2,17068,,,0,"Remove Newton from image builds

During the last PTG, we discussed about removing the support of
Newton image building. As nobody was interested in maintaining
newton, there is no reason to test this anymore.

Without this patch, we'll continue to CI test Newton, and should
a failure happen, nobody will care to fix it. It has therefore
no purpose.

To not break compatibility or existing tooling, this patch
removes Newton from CI builds, and doesn't remove the wrapper
script we provide in openstack/loci/.

Change-Id: If2d60001da03930064afa4d873d8597aeb8f2ee7
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/90/662390/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,03308b47a262279e4015ae258716877855bb9b1a,remove_newton_from_image_building,," - openstack-helm-images-build-openstack-loci-newton-ubuntu_xenial - openstack-helm-images-upload-openstack-loci-newton-ubuntu_xenial - openstack-helm-images-promote-openstack-loci-newton-ubuntu_xenial # Newton - job: name: openstack-helm-images-build-openstack-loci-newton-ubuntu_xenial parent: openstack-helm-images-build-openstack-loci-master-ubuntu_xenial description: Build newton LOCI images for xenial vars: &build_newton_xenial_images branchname: ""newton-eol"" shortbranchname: ""newton"" distroname: ""ubuntu_xenial"" wheels_location: ""http://172.17.0.1:8080/wheels.tar.gz"" from: ""gcr.io/google_containers/ubuntu-slim:0.14"" prep_docker_images: - context: ""."" repository: openstackhelm/requirements build_args: - ""FROM='{{ from }}'"" - ""PROJECT='requirements'"" - ""PROJECT_REF='stable/newton'"" docker_images: - context: ""."" repository: openstackhelm/keystone build_args: - ""FROM='{{ from }}'"" - ""PROJECT='keystone'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='apache ldap'"" - ""PIP_PACKAGES='pycrypto python-openstackclient'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag - context: ""."" repository: openstackhelm/heat build_args: - ""FROM='{{ from }}'"" - ""PROJECT='heat'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='apache'"" - ""PIP_PACKAGES='pycrypto'"" - ""DIST_PACKAGES='curl'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag - context: ""."" repository: openstackhelm/barbican build_args: - ""FROM='{{ from }}'"" - ""PROJECT='barbican'"" - ""PROJECT_REF={{ branchname }}"" - ""PIP_PACKAGES='pycrypto'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag - context: ""."" repository: openstackhelm/glance build_args: - ""FROM='{{ from }}'"" - ""PROJECT='glance'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='glance ceph'"" - ""PIP_PACKAGES='pycrypto python-swiftclient'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag - context: ""."" repository: openstackhelm/cinder build_args: - ""FROM='{{ from }}'"" - ""PROJECT='cinder'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='cinder lvm ceph qemu'"" - ""PIP_PACKAGES='pycrypto python-swiftclient'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag - context: ""."" repository: openstackhelm/neutron build_args: - ""FROM='{{ from }}'"" - ""PROJECT='neutron'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='neutron linuxbridge openvswitch'"" - ""PIP_PACKAGES='pycrypto'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag - context: ""."" repository: openstackhelm/neutron build_args: - ""FROM=docker.io/ubuntu:18.04"" - ""PROJECT='neutron'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='neutron linuxbridge openvswitch'"" - ""PIP_PACKAGES='pycrypto'"" - ""DIST_PACKAGES='ethtool lshw'"" - ""WHEELS='{{ wheels_location }}'"" tags: - ""{{ shortbranchname }}-18.04-sriov"" - context: ""."" repository: openstackhelm/nova build_args: - ""FROM='{{ from }}'"" - ""PROJECT='nova'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='nova ceph linuxbridge openvswitch configdrive qemu apache'"" - ""PIP_PACKAGES='pycrypto'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag - context: ""."" repository: openstackhelm/horizon build_args: - ""FROM='{{ from }}'"" - ""PROJECT='horizon'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='horizon apache'"" - ""PIP_PACKAGES='pycrypto'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag - context: ""."" repository: openstackhelm/senlin build_args: - ""FROM='{{ from }}'"" - ""PROJECT='senlin'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='senlin'"" - ""PIP_PACKAGES='pycrypto'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag - context: ""."" repository: openstackhelm/congress build_args: - ""FROM='{{ from }}'"" - ""PROJECT='congress'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='congress'"" - ""PIP_PACKAGES='pycrypto python-congressclient'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag - context: ""."" repository: openstackhelm/magnum build_args: - ""FROM='{{ from }}'"" - ""PROJECT='magnum'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='magnum'"" - ""PIP_PACKAGES='pycrypto'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag - context: ""."" repository: openstackhelm/ironic build_args: - ""FROM='{{ from }}'"" - ""PROJECT='ironic'"" - ""PROJECT_REF={{ branchname }}"" - ""PROFILES='ironic ipxe ipmi qemu tftp'"" - ""PIP_PACKAGES='pycrypto'"" - ""DIST_PACKAGES='iproute2'"" - ""WHEELS='{{ wheels_location }}'"" tags: *imagetag files: *loci-files - job: name: openstack-helm-images-upload-openstack-loci-newton-ubuntu_xenial parent: openstack-helm-images-upload-openstack-loci-master-ubuntu_xenial description: Build and upload newton LOCI images for xenial vars: *build_newton_xenial_images - job: name: openstack-helm-images-promote-openstack-loci-newton-ubuntu_xenial parent: openstack-helm-images-promote-openstack-loci-master-ubuntu_xenial description: Promote a previously published loci xenial newton images vars: *build_newton_xenial_images",0,169
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I707282bf3cfcc7e370af41f987700e39c1b0b268,openstack/tripleo-heat-templates,stable/queens,I707282bf3cfcc7e370af41f987700e39c1b0b268,Enable serial execution for ansible host,MERGED,2019-05-23 08:52:03.000000000,2019-05-31 18:16:45.000000000,2019-05-31 18:16:45.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-23 08:52:03.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4bce0f151a4eb92ca33b6f36aa75a14d624fbd7c', 'message': 'Enable serial execution for ansible host\n\nAllow to override serial parameter for parallel execution\nin Ansible\n\nNeeded-By: Iafd7c58aaf2f1b30cf46cd16122b5821c96c497c\nNeeded-By: I15511b4f36260292e0ea4100b15b8e65a701b38b\n\nChange-Id: I707282bf3cfcc7e370af41f987700e39c1b0b268\n(cherry picked from commit 9755a1b2d68dddb53090b6de5e44b71975ded723)\n'}]",0,660947,4bce0f151a4eb92ca33b6f36aa75a14d624fbd7c,10,3,1,16515,,,0,"Enable serial execution for ansible host

Allow to override serial parameter for parallel execution
in Ansible

Needed-By: Iafd7c58aaf2f1b30cf46cd16122b5821c96c497c
Needed-By: I15511b4f36260292e0ea4100b15b8e65a701b38b

Change-Id: I707282bf3cfcc7e370af41f987700e39c1b0b268
(cherry picked from commit 9755a1b2d68dddb53090b6de5e44b71975ded723)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/660947/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,4bce0f151a4eb92ca33b6f36aa75a14d624fbd7c,, serial: {{ deploy_serial | default(1) }} serial: {{ deploy_serial | default(1) }}, serial: 1 serial: 1,2,2
openstack%2Ftripleo-heat-templates~master~I09bf2a81099ee1436335c5f58b279929b5fcdbfc,openstack/tripleo-heat-templates,master,I09bf2a81099ee1436335c5f58b279929b5fcdbfc,Fix netapp deployment manifest,MERGED,2019-05-30 19:58:25.000000000,2019-05-31 18:16:43.000000000,2019-05-31 18:16:43.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 10068}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-30 19:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf961e77f56194bfd93d7a9abc6ac0f78efffdc7', 'message': 'Fix netapp deployment manifest\n\nThe manifests were moved in change\nI02addc0ecbbbcb60d2c6a0d30d7c9cfa42346f7c.\nHowever the environment file still referred\nto the old path.\n\nChange-Id: I09bf2a81099ee1436335c5f58b279929b5fcdbfc\nCloses-Bug: #1831122\n'}, {'number': 2, 'created': '2019-05-30 20:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b30988b77021e77a69f777a0ae7233bc67bac6e', 'message': 'Fix netapp deployment manifest\n\nThe manifests were moved in change\nI02addc0ecbbbcb60d2c6a0d30d7c9cfa42346f7c.\nHowever the environment file still referred\nto the old path.\n\nChange-Id: I09bf2a81099ee1436335c5f58b279929b5fcdbfc\nCloses-Bug: #1831122\n'}, {'number': 3, 'created': '2019-05-30 20:04:20.000000000', 'files': ['releasenotes/notes/bug-1831122-fix-netapp-env-file-e5aeb0c2bf417d2b.yaml', 'environments/manila-netapp-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e4f70322bbf780f8c5ecc7a04260721f285e683', 'message': 'Fix netapp deployment manifest\n\nThe manifests were moved in change\nI02addc0ecbbbcb60d2c6a0d30d7c9cfa42346f7c.\nHowever the environment file still referred\nto the old path.\n\nChange-Id: I09bf2a81099ee1436335c5f58b279929b5fcdbfc\nCloses-Bug: #1831122\n'}]",0,662306,8e4f70322bbf780f8c5ecc7a04260721f285e683,13,7,3,29455,,,0,"Fix netapp deployment manifest

The manifests were moved in change
I02addc0ecbbbcb60d2c6a0d30d7c9cfa42346f7c.
However the environment file still referred
to the old path.

Change-Id: I09bf2a81099ee1436335c5f58b279929b5fcdbfc
Closes-Bug: #1831122
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/662306/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1831122-fix-netapp-env-file-e5aeb0c2bf417d2b.yaml', 'environments/manila-netapp-config.yaml']",2,bf961e77f56194bfd93d7a9abc6ac0f78efffdc7,bug/1831122, OS::TripleO::Services::ManilaShare: ../deployment/manila/manila-share-pacemaker-puppet.yaml, OS::TripleO::Services::ManilaShare: ../docker/deployment/manila/manila-share-pacemaker-puppet.yaml,66,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ie623e91517f2b310d58181233f06bc3e7c9e9c71,openstack/tripleo-heat-templates,stable/stein,Ie623e91517f2b310d58181233f06bc3e7c9e9c71,ceph-base: Update ceph-ansible default playbook,MERGED,2019-05-30 19:33:08.000000000,2019-05-31 18:16:41.000000000,2019-05-31 18:16:41.000000000,"[{'_account_id': 6796}, {'_account_id': 14270}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-30 19:33:08.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/705fdb625aaf52b06759f0b8ef8dba50f372a547', 'message': ""ceph-base: Update ceph-ansible default playbook\n\nThe main ceph-ansible playbook for containerized deployment is named\nsite-container.yml because it isn't only used for docker.\nCurrently the site-docker playbook is a symlink to site-container and\nthis symlink will probably be remove in the future.\n\nChange-Id: Ie623e91517f2b310d58181233f06bc3e7c9e9c71\n(cherry picked from commit c450bae2ba7717a3fd0d2116b3d901d50a511d4d)\n""}]",0,662304,705fdb625aaf52b06759f0b8ef8dba50f372a547,8,5,1,18002,,,0,"ceph-base: Update ceph-ansible default playbook

The main ceph-ansible playbook for containerized deployment is named
site-container.yml because it isn't only used for docker.
Currently the site-docker playbook is a symlink to site-container and
this symlink will probably be remove in the future.

Change-Id: Ie623e91517f2b310d58181233f06bc3e7c9e9c71
(cherry picked from commit c450bae2ba7717a3fd0d2116b3d901d50a511d4d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/662304/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,705fdb625aaf52b06759f0b8ef8dba50f372a547,ceph_ansible_playbook_name-stable/stein, {{ ceph_ansible_playbooks_default|default(['/usr/share/ceph-ansible/site-container.yml.sample']) }}, {{ ceph_ansible_playbooks_default|default(['/usr/share/ceph-ansible/site-docker.yml.sample']) }},1,1
openstack%2Fpuppet-tripleo~stable%2Fstein~I3de131c022e183cb29aa1c5c9913af736afd0c4d,openstack/puppet-tripleo,stable/stein,I3de131c022e183cb29aa1c5c9913af736afd0c4d,Rebuild initramfs after applying change in kernel parameters,MERGED,2019-05-31 03:58:13.000000000,2019-05-31 18:16:39.000000000,2019-05-31 18:16:39.000000000,"[{'_account_id': 11090}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-05-31 03:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/65471401b694cca93798a59ed9875474dab43c82', 'message': 'Rebuild initramfs after applying change in kernel parameters\n\nThis patch makes sure that initramfs is rebuilt after applying\nchange in kernel pamraters, so that we also have these change\napplied in initramfs.\n\nChange-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d\nCloses-Bug: #1830574\n(cherry picked from commit 3ef8e3e35dbb43414becc4f561830bb731643ead)\n'}, {'number': 2, 'created': '2019-05-31 13:00:49.000000000', 'files': ['manifests/profile/base/kernel.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7559e6366f3400ad2cc8d1ba96841b2fa9c267f9', 'message': 'Rebuild initramfs after applying change in kernel parameters\n\nThis patch makes sure that initramfs is rebuilt after applying\nchange in kernel pamraters, so that we also have these change\napplied in initramfs.\n\nChange-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d\nCloses-Bug: #1830574\n(cherry picked from commit 3ef8e3e35dbb43414becc4f561830bb731643ead)\n'}]",0,662376,7559e6366f3400ad2cc8d1ba96841b2fa9c267f9,12,5,2,9816,,,0,"Rebuild initramfs after applying change in kernel parameters

This patch makes sure that initramfs is rebuilt after applying
change in kernel pamraters, so that we also have these change
applied in initramfs.

Change-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d
Closes-Bug: #1830574
(cherry picked from commit 3ef8e3e35dbb43414becc4f561830bb731643ead)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/662376/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/kernel.pp'],1,65471401b694cca93798a59ed9875474dab43c82,bug/1830574," # Rebuild initramfs to include kernel parameter changes in initramfs exec { 'rebuild initramfs': command => 'dracut -f -v', path => '/bin:/sbin:/usr/bin:/usr/sbin', refreshonly => true, } Sysctl <| |> ~> Exec <| title == 'rebuild initramfs' |>",,8,0
openstack%2Ftripleo-heat-templates~master~If04a3f055ce9ebb1bdfeb20cbf82638fadcda71a,openstack/tripleo-heat-templates,master,If04a3f055ce9ebb1bdfeb20cbf82638fadcda71a,neutron: force project_name for midonet & bigswitch,MERGED,2019-05-28 14:14:18.000000000,2019-05-31 18:16:38.000000000,2019-05-31 18:16:37.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-28 14:14:18.000000000', 'files': ['puppet/extraconfig/all_nodes/neutron-midonet-all-nodes.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8ebe0c502bccb34dd0eb5d8a79e843654b10c0d', 'message': ""neutron: force project_name for midonet & bigswitch\n\nRelated to https://review.opendev.org/661416\nIn TripleO we use 'service', and not 'services'.\nSo we need to force the midonet & bigswitch configs to be 'service'.\n\nChange-Id: If04a3f055ce9ebb1bdfeb20cbf82638fadcda71a\n""}]",0,661765,d8ebe0c502bccb34dd0eb5d8a79e843654b10c0d,9,5,1,3153,,,0,"neutron: force project_name for midonet & bigswitch

Related to https://review.opendev.org/661416
In TripleO we use 'service', and not 'services'.
So we need to force the midonet & bigswitch configs to be 'service'.

Change-Id: If04a3f055ce9ebb1bdfeb20cbf82638fadcda71a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/661765/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/extraconfig/all_nodes/neutron-midonet-all-nodes.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml']",2,d8ebe0c502bccb34dd0eb5d8a79e843654b10c0d,neutron/service, neutron::plugins::ml2::bigswitch::restproxy::auth_tenant: service,,2,0
openstack%2Ftripleo-heat-templates~master~Ie82e10774066fcfb91708691bb59500998dbf465,openstack/tripleo-heat-templates,master,Ie82e10774066fcfb91708691bb59500998dbf465,novajoin: set project_name to service,MERGED,2019-05-28 14:16:58.000000000,2019-05-31 18:16:36.000000000,2019-05-31 18:16:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-28 14:16:58.000000000', 'files': ['deployment/nova/novajoin-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f6032e811e2b452d35c000204ba9f93cb383e07', 'message': ""novajoin: set project_name to service\n\nRelated to https://review.opendev.org/661418\nWe use 'service' in TripleO so we need to ensure that\nnovajoin is using the right project name even if the upstream changes in\npuppet-nova.\n\nChange-Id: Ie82e10774066fcfb91708691bb59500998dbf465\n""}]",0,661766,6f6032e811e2b452d35c000204ba9f93cb383e07,12,7,1,3153,,,0,"novajoin: set project_name to service

Related to https://review.opendev.org/661418
We use 'service' in TripleO so we need to ensure that
novajoin is using the right project name even if the upstream changes in
puppet-nova.

Change-Id: Ie82e10774066fcfb91708691bb59500998dbf465
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/661766/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/novajoin-container-puppet.yaml'],1,6f6032e811e2b452d35c000204ba9f93cb383e07,nova/service, nova::metadata::novajoin::api::project_name: service,,1,0
openstack%2Fkolla-ansible~stable%2Frocky~I763a5ae6aa8c8ab3bf766ab5b58c386da74a188b,openstack/kolla-ansible,stable/rocky,I763a5ae6aa8c8ab3bf766ab5b58c386da74a188b,Support configuring Monasca Persister performance,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 17:25:43.000000000,2019-05-31 17:25:43.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/roles/monasca/templates/monasca-persister/persister.conf.j2', 'ansible/roles/monasca/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eeb04c76f3f1bdcf0182d20df9beb76b32f32df0', 'message': 'Support configuring Monasca Persister performance\n\nOn a single node deployment, the Monasca persister can\nlimit the rate at which Monasca can persist metrics to\nInfluxDB. Increasing the thread count can remove this\nbottle neck.\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I763a5ae6aa8c8ab3bf766ab5b58c386da74a188b\n'}]",0,656323,eeb04c76f3f1bdcf0182d20df9beb76b32f32df0,11,4,1,17669,,,0,"Support configuring Monasca Persister performance

On a single node deployment, the Monasca persister can
limit the rate at which Monasca can persist metrics to
InfluxDB. Increasing the thread count can remove this
bottle neck.

Partially-Implements: blueprint monasca-roles
Change-Id: I763a5ae6aa8c8ab3bf766ab5b58c386da74a188b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/656323/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-persister/persister.conf.j2']",2,eeb04c76f3f1bdcf0182d20df9beb76b32f32df0,bp/monasca-roles,num_processors = {{ monasca_metric_pipeline_threads }},num_processors = 1,2,1
openstack%2Fopenstack-helm-images~master~I033f1f5dc39c47b748b3887f25e1dfa02fc0f800,openstack/openstack-helm-images,master,I033f1f5dc39c47b748b3887f25e1dfa02fc0f800,Restrict Rocky on Leap 15.0,MERGED,2019-05-31 09:33:16.000000000,2019-05-31 17:25:18.000000000,2019-05-31 17:21:21.000000000,"[{'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-31 09:33:16.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d35532d0c913dbe1b9c997b94a8fbfc103a41cff', 'message': 'Restrict Rocky on Leap 15.0\n\nThe default base image for opensuse/leap:15 is now pointing\nto 15.1 on dockerhub.\n\nIn LOCI, we are using opensuse/leap:15 as base image by\ndefault. It is not a problem, as we are always targetting\nmaster in LOCI.\n\nHowever, Rocky is older, and the upper-constraints for\nlibvirt currently points to 4.6.0, which is unable to build\non leap 15.1, due to 15.1 having a too recent version of\nlibvirt.\n\nThis fixes the requirements building by ensuring Rocky\nwill always stay on a 15.0 base.\n\nChange-Id: I033f1f5dc39c47b748b3887f25e1dfa02fc0f800\n'}]",0,662419,d35532d0c913dbe1b9c997b94a8fbfc103a41cff,13,5,1,17068,,,0,"Restrict Rocky on Leap 15.0

The default base image for opensuse/leap:15 is now pointing
to 15.1 on dockerhub.

In LOCI, we are using opensuse/leap:15 as base image by
default. It is not a problem, as we are always targetting
master in LOCI.

However, Rocky is older, and the upper-constraints for
libvirt currently points to 4.6.0, which is unable to build
on leap 15.1, due to 15.1 having a too recent version of
libvirt.

This fixes the requirements building by ensuring Rocky
will always stay on a 15.0 base.

Change-Id: I033f1f5dc39c47b748b3887f25e1dfa02fc0f800
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/19/662419/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,d35532d0c913dbe1b9c997b94a8fbfc103a41cff,use_leap15.0_for_rocky," # This from will be used in all the docker_images section. # We override the base image's FROM to 15.0 (instead of 15, which can # shift over time). That is because of the fact that upper-constraints # for Rocky contains a libvirt-python version too old for 15.1 # (libvirt-python 4.10.0 required for building under leap 15.1 due to # the version of libvirt on the system). - ""FROM=opensuse/leap:15.0""",,7,0
openstack%2Fgovernance~master~I17bf8e54de41f3bf22da6d015da377cf5b2b6807,openstack/governance,master,I17bf8e54de41f3bf22da6d015da377cf5b2b6807,Rename x/liberasurecode and x/pyeclib to openstack/*,ABANDONED,2019-05-28 15:06:21.000000000,2019-05-31 17:22:55.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-28 15:06:21.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/fd20aaded670bb463c9035e49a38436e4cd2862a', 'message': 'Rename x/liberasurecode and x/pyeclib to openstack/*\n\nAs Swift team deliverables, bring these back to the openstack namespace.\n\nDepends-On: I9ec488f04ca119b048b0f47235fc9ffaa4ab7417\nChange-Id: I17bf8e54de41f3bf22da6d015da377cf5b2b6807\n'}]",0,661779,fd20aaded670bb463c9035e49a38436e4cd2862a,5,2,1,15343,,,0,"Rename x/liberasurecode and x/pyeclib to openstack/*

As Swift team deliverables, bring these back to the openstack namespace.

Depends-On: I9ec488f04ca119b048b0f47235fc9ffaa4ab7417
Change-Id: I17bf8e54de41f3bf22da6d015da377cf5b2b6807
",git fetch https://review.opendev.org/openstack/governance refs/changes/79/661779/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,fd20aaded670bb463c9035e49a38436e4cd2862a,, - openstack/liberasurecode - openstack/pyeclib, - x/liberasurecode - x/pyeclib,2,2
openstack%2Ftripleo-image-elements~master~I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c,openstack/tripleo-image-elements,master,I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c,Remove note in README regarding security hardened images,MERGED,2019-05-22 19:58:26.000000000,2019-05-31 17:12:11.000000000,2019-05-31 14:58:25.000000000,"[{'_account_id': 6133}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-05-22 19:58:26.000000000', 'files': ['elements/overcloud-secure-uefi/README.rst', 'elements/overcloud-secure/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/37b74a670a8569566f5c928f80b46ae125d21d41', 'message': 'Remove note in README regarding security hardened images\n\nSupport for security hardened images was delivered in Queens, not as\nTechPreview.  Removing the section of README that indicates it is\nTechPreview.\n\nChange-Id: I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c\n'}]",0,660819,37b74a670a8569566f5c928f80b46ae125d21d41,11,4,1,21909,,,0,"Remove note in README regarding security hardened images

Support for security hardened images was delivered in Queens, not as
TechPreview.  Removing the section of README that indicates it is
TechPreview.

Change-Id: I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/19/660819/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-secure-uefi/README.rst', 'elements/overcloud-secure/README.rst']",2,37b74a670a8569566f5c928f80b46ae125d21d41,overcloud-secure-not-tp,,"CAUTION: This element is part of the security hardened images feature, that is delivered in this release as tech preview. The following element is not intended for production usage. ",0,8
openstack%2Fproject-config~master~I202434b22727d34d7b521fe064cd32403c5ff96d,openstack/project-config,master,I202434b22727d34d7b521fe064cd32403c5ff96d,Fix ansible-role-cloud-launcher,MERGED,2019-05-31 16:15:17.000000000,2019-05-31 16:30:45.000000000,2019-05-31 16:30:45.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 16:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/78f94ee240cd042473dc709e2189f85b39b7c777', 'message': 'Fix gerrit/projects.yaml after rename\n\nWe moved in https://review.opendev.org/657277\nansible-role-cloud-launcher from org ""x"" to ""opendev"" but forgot to\nudpate gerrit/projects.yaml - fix this.\n\nChange-Id: I202434b22727d34d7b521fe064cd32403c5ff96d\n'}, {'number': 2, 'created': '2019-05-31 16:25:36.000000000', 'files': ['zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/ansible-role-cloud-launcher.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6312597c060cb93689197a60140e32c31fd06edd', 'message': 'Fix ansible-role-cloud-launcher\n\nWe moved in https://review.opendev.org/657277\nansible-role-cloud-launcher from org ""x"" to ""opendev"" partially,\n\nrevert those changes.\n\nAlso, the list of projects in zuul.d/projects.yaml was sorted\nwrongly in the rename, fix it.\n\nChange-Id: I202434b22727d34d7b521fe064cd32403c5ff96d\n'}]",4,662513,6312597c060cb93689197a60140e32c31fd06edd,8,4,2,6547,,,0,"Fix ansible-role-cloud-launcher

We moved in https://review.opendev.org/657277
ansible-role-cloud-launcher from org ""x"" to ""opendev"" partially,

revert those changes.

Also, the list of projects in zuul.d/projects.yaml was sorted
wrongly in the rename, fix it.

Change-Id: I202434b22727d34d7b521fe064cd32403c5ff96d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/662513/2 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,78f94ee240cd042473dc709e2189f85b39b7c777,fix-gerrit,- project: opendev/ansible-role-cloud-launcher description: Ansible role to deploy multiple clouds resources,- project: x/ansible-role-cloud-launcher description: Ansible role to deploy multiple clouds resources,2,2
openstack%2Fproject-config~master~Ia293a781bca9a24bb5d89f6169713663a851eab7,openstack/project-config,master,Ia293a781bca9a24bb5d89f6169713663a851eab7,Sort zuul.d/projects.yaml again,ABANDONED,2019-05-31 16:19:04.000000000,2019-05-31 16:25:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-31 16:19:04.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/32e68208bc12293198ce01f8cc810e26d359c90f', 'message': 'Sort zuul.d/projects.yaml again\n\nThe list of projects was sorted wrongly in the last rename, fix it.\n\nChange-Id: Ia293a781bca9a24bb5d89f6169713663a851eab7\n'}]",2,662514,32e68208bc12293198ce01f8cc810e26d359c90f,3,1,1,6547,,,0,"Sort zuul.d/projects.yaml again

The list of projects was sorted wrongly in the last rename, fix it.

Change-Id: Ia293a781bca9a24bb5d89f6169713663a851eab7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/662514/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,32e68208bc12293198ce01f8cc810e26d359c90f,fix-gerrit, name: opendev/ci-sandbox templates: - noop-jobs - project: name: opendev/sandbox release: jobs: - release-openstack-python - legacy-sandbox-tag templates: - noop-jobs pre-release: jobs: - legacy-sandbox-tag - project:, name: opendev/ci-sandbox templates: - noop-jobs - project: name: opendev/sandbox release: jobs: - release-openstack-python - legacy-sandbox-tag templates: - noop-jobs pre-release: jobs: - legacy-sandbox-tag - project:,17,17
openstack%2Fnova~master~I9a5118373548c525b2b1c2271e7d210cc92e4f4c,openstack/nova,master,I9a5118373548c525b2b1c2271e7d210cc92e4f4c,Move get_pci_mapping_for_migration to MigrationContext,MERGED,2019-03-13 11:50:49.000000000,2019-05-31 16:20:07.000000000,2019-05-24 22:14:07.000000000,"[{'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23498}, {'_account_id': 23900}, {'_account_id': 26515}, {'_account_id': 27794}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-03-13 11:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1066cf47a292e089d62a556bada913847d0dbf03', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some perliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retireve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\nRelated-Bug: #1809095\n'}, {'number': 2, 'created': '2019-04-04 18:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5bfddf6e765d7785b04ae37fbcfb4dc31a71a3a', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some perliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retireve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\nPartial-Bug: #1809095\n'}, {'number': 3, 'created': '2019-04-07 07:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b60ae6174ee12aa47068a5266354321b6599fc1', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some perliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retireve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\nPartial-Bug: #1809095\n'}, {'number': 4, 'created': '2019-05-02 19:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0165b67b25c66d95d54c7d92b3c528edb1bed173', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some perliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retireve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\nPartial-Bug: #1809095\n'}, {'number': 5, 'created': '2019-05-19 15:50:01.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/objects/migration_context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5a1c385b996090b80f5881680e04c88abc21828a', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some preliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retrieve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\nPartial-Bug: #1809095\n'}]",22,643023,5a1c385b996090b80f5881680e04c88abc21828a,99,22,5,28714,,,0,"Move get_pci_mapping_for_migration to MigrationContext

In order to fix Bug #1809095, it is required to update
PCI related VIFs with the original PCI address on the source
host to allow virt driver to properly unplug the VIF from hypervisor,
e.g allow the proper VF representor to be unplugged
from the integration bridge in case of a hardware offloaded OVS.

To do so, some preliminary work is needed to allow code-sharing
between nova.network.neutronv2 and nova.compute.manager

This change:
- Moves common logic to retrieve the PCI mapping between
  the source and destination node from nova.network.neutronv2
  to objects.migration_context.
- Makes code adjustments to methods in nova.network.neutronv2
  to accomodate the former.

Change-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c
Partial-Bug: #1809095
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/643023/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/objects/migration_context.py']",4,1066cf47a292e089d62a556bada913847d0dbf03,bug/1809095,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) def get_pci_mapping_for_migration(self, mapping_for_revert=False): """"""Get the mapping between the old PCI devices and the new PCI devices that have been allocated during this migration. The correlation is based on PCI request ID which is unique per PCI devices for SR-IOV ports. :param mapping_for_revert: If set, return a reverse mapping i.e mapping between new PCI devices and old PCI devices. :returns: dictionary of PCI mapping. if mapping_for_revert==False: {'<old pci address>': <New PciDevice>} if mapping_for_revert==True: {'<new pci address>': <Old PciDevice>} """""" old_pci_devs, new_pci_devs = (self.old_pci_devices, self.new_pci_devices) if ( not mapping_for_revert) else (self.new_pci_devices, self.old_pci_devices) if old_pci_devs and new_pci_devs: LOG.debug(""Determining PCI devices mapping using migration "" ""context: old_pci_devs: %(old)s, "" ""new_pci_devs: %(new)s"", {'old': [dev for dev in old_pci_devs], 'new': [dev for dev in new_pci_devs]}) return {old.address: new for old in old_pci_devs for new in new_pci_devs if old.request_id == new.request_id} return {}",,86,81
openstack%2Fproject-config~master~I9ec488f04ca119b048b0f47235fc9ffaa4ab7417,openstack/project-config,master,I9ec488f04ca119b048b0f47235fc9ffaa4ab7417,Rename x/pyeclib and x/liberasurecode to openstack/*,MERGED,2019-05-04 19:48:42.000000000,2019-05-31 15:56:26.000000000,2019-05-31 15:07:06.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 14288}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 19:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5ddeb69b1be511da0ad406479efceb9b57a330cf', 'message': ""Rename x/pyeclib and x/liberasurecode to openstack/*\n\nThese are Swift team deliverables that we'd like to keep under the\nopenstack namespace.\n\nChange-Id: I9ec488f04ca119b048b0f47235fc9ffaa4ab7417\n""}, {'number': 2, 'created': '2019-05-05 05:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e1c99117f83f0d68d76adda4bb67941c076e5483', 'message': ""Rename x/pyeclib and x/liberasurecode to openstack/*\n\nThese are Swift team deliverables that we'd like to keep under the\nopenstack namespace.\n\nChange-Id: I9ec488f04ca119b048b0f47235fc9ffaa4ab7417\nDepends-On: I333393e0304844e30983f89c82eabcad11487be2\n""}, {'number': 3, 'created': '2019-05-10 22:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/648bf1958d4b6a95bf735d16e28db550c24b46c5', 'message': ""Rename x/pyeclib and x/liberasurecode to openstack/*\n\nThese are Swift team deliverables that we'd like to keep under the\nopenstack namespace.\n\nChange-Id: I9ec488f04ca119b048b0f47235fc9ffaa4ab7417\n""}, {'number': 4, 'created': '2019-05-28 14:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b52825be7c1ccbf0e1153216119e91afa8cbad44', 'message': ""Rename x/pyeclib and x/liberasurecode to openstack/*\n\nThese are Swift team deliverables that we'd like to keep under the\nopenstack namespace.\n\nChange-Id: I9ec488f04ca119b048b0f47235fc9ffaa4ab7417\nDepends-On: I333393e0304844e30983f89c82eabcad11487be2\n""}, {'number': 5, 'created': '2019-05-29 21:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d5ebbe4bc76e48c44d1de931ed10ab0292c51337', 'message': ""Rename x/pyeclib and x/liberasurecode to openstack/*\n\nThese are Swift team deliverables that we'd like to keep under the\nopenstack namespace.\n\nChange-Id: I9ec488f04ca119b048b0f47235fc9ffaa4ab7417\nDepends-On: I333393e0304844e30983f89c82eabcad11487be2\n""}, {'number': 6, 'created': '2019-05-29 22:02:29.000000000', 'files': ['gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/liberasurecode.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ba0fd6b2ba11a3aafd9ed5b17ea1caa5eec1cf95', 'message': ""Rename x/pyeclib and x/liberasurecode to openstack/*\n\nThese are Swift team deliverables that we'd like to keep under the\nopenstack namespace.\n\nChange-Id: I9ec488f04ca119b048b0f47235fc9ffaa4ab7417\nRelated-Change: I333393e0304844e30983f89c82eabcad11487be2\n""}]",10,657155,ba0fd6b2ba11a3aafd9ed5b17ea1caa5eec1cf95,33,7,6,15343,,,0,"Rename x/pyeclib and x/liberasurecode to openstack/*

These are Swift team deliverables that we'd like to keep under the
openstack namespace.

Change-Id: I9ec488f04ca119b048b0f47235fc9ffaa4ab7417
Related-Change: I333393e0304844e30983f89c82eabcad11487be2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/657155/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/liberasurecode.config']",5,5ddeb69b1be511da0ad406479efceb9b57a330cf,project-rename,,,11,11
openstack%2Fproject-config~master~I7b8f4c2f74530152ac0190024f829491aad2e0fc,openstack/project-config,master,I7b8f4c2f74530152ac0190024f829491aad2e0fc,Rename x/charm-vault to openstack/charm-vault,MERGED,2019-05-31 11:15:20.000000000,2019-05-31 15:56:21.000000000,2019-05-31 15:07:27.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 11:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f0db4d60cf99736c035865bd7667d0b5bdde000d', 'message': 'Rename x/charm-vault to openstack/charm-vault\n\nThis is a required change to bring charm-vault into\nthe openstack-charms project.\n\nChange-Id: I7b8f4c2f74530152ac0190024f829491aad2e0fc\nDepends-On: https://review.opendev.org/#/c/660908/\n'}, {'number': 2, 'created': '2019-05-31 13:12:43.000000000', 'files': ['gerrit/acls/openstack/charm-vault.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/24f573072266b0e45029bcaef3f1a9a6c62e45b8', 'message': 'Rename x/charm-vault to openstack/charm-vault\n\nThis is a required change to bring charm-vault into\nthe openstack-charms project.\n\nChange-Id: I7b8f4c2f74530152ac0190024f829491aad2e0fc\nDepends-On: https://review.opendev.org/#/c/660908/\n'}]",1,662432,24f573072266b0e45029bcaef3f1a9a6c62e45b8,19,5,2,20634,,,0,"Rename x/charm-vault to openstack/charm-vault

This is a required change to bring charm-vault into
the openstack-charms project.

Change-Id: I7b8f4c2f74530152ac0190024f829491aad2e0fc
Depends-On: https://review.opendev.org/#/c/660908/
",git fetch https://review.opendev.org/openstack/project-config refs/changes/32/662432/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,f0db4d60cf99736c035865bd7667d0b5bdde000d,project-rename, - openstack/charm-vault, - x/charm-vault,6,5
openstack%2Fproject-config~master~I4a70949c5d90970d29608f5a70c8af8d3ed85b17,openstack/project-config,master,I4a70949c5d90970d29608f5a70c8af8d3ed85b17,Rename opendev projects we missed,MERGED,2019-05-05 15:27:19.000000000,2019-05-31 15:56:18.000000000,2019-05-31 15:07:18.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 15:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9e42a5f320005a3f37344ae5eb73e39ffcdec76a', 'message': 'Rename opendev projects we missed\n\nIn the next batch of renames, we should clean up after the\nrepos we missed the first time.\n\nDepends-On: https://review.opendev.org/657275\nChange-Id: I4a70949c5d90970d29608f5a70c8af8d3ed85b17\n'}, {'number': 2, 'created': '2019-05-28 15:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/366a8b7f10d12050048db1c571e1eae018b0616e', 'message': 'Rename opendev projects we missed\n\nIn the next batch of renames, we should clean up after the\nrepos we missed the first time.\n\nDepends-On: https://review.opendev.org/657275\nChange-Id: I4a70949c5d90970d29608f5a70c8af8d3ed85b17\n'}, {'number': 3, 'created': '2019-05-28 16:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/97c88ccfb0f6827041a455bcc1906b470ab82cbb', 'message': 'Rename opendev projects we missed\n\nIn the next batch of renames, we should clean up after the\nrepos we missed the first time.\n\nDepends-On: https://review.opendev.org/657275\nChange-Id: I4a70949c5d90970d29608f5a70c8af8d3ed85b17\n'}, {'number': 4, 'created': '2019-05-28 16:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/84e6bbae79f5edba9eb19d3014a507d1073ee032', 'message': 'Rename opendev projects we missed\n\nIn the next batch of renames, we should clean up after the\nrepos we missed the first time.\n\nDepends-On: https://review.opendev.org/657275\nChange-Id: I4a70949c5d90970d29608f5a70c8af8d3ed85b17\n'}, {'number': 5, 'created': '2019-05-29 09:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f71a2d00241ed94d5e2ff64586d9dc345f30f5f0', 'message': 'Rename opendev projects we missed\n\nIn the next batch of renames, we should clean up after the\nrepos we missed the first time.\n\nDepends-On: https://review.opendev.org/657275\nChange-Id: I4a70949c5d90970d29608f5a70c8af8d3ed85b17\n'}, {'number': 6, 'created': '2019-05-29 21:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/46feaa633f611a669c487fd2741918f325e9c93c', 'message': 'Rename opendev projects we missed\n\nIn the next batch of renames, we should clean up after the\nrepos we missed the first time.\n\nDepends-On: https://review.opendev.org/657275\nChange-Id: I4a70949c5d90970d29608f5a70c8af8d3ed85b17\n'}, {'number': 7, 'created': '2019-05-29 22:02:29.000000000', 'files': ['gerrit/acls/opendev/ansible-role-cloud-launcher.config', 'gerrit/acls/opendev/zone-zuul-ci.org.config', 'gerritbot/channels.yaml', 'gerrit/acls/opendev/zone-opendev.org.config', 'gerrit/acls/opendev/ci-sandbox.config', 'gerrit/acls/opendev/netlify-sandbox.config', 'gerrit/acls/opendev/sandbox.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/x/os-http.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a9842682bc361a1c7d09fd078f3b5e2673a8e15c', 'message': 'Rename opendev projects we missed\n\nIn the next batch of renames, we should clean up after the\nrepos we missed the first time.\n\nDepends-On: https://review.opendev.org/657275\nChange-Id: I4a70949c5d90970d29608f5a70c8af8d3ed85b17\n'}]",30,657277,a9842682bc361a1c7d09fd078f3b5e2673a8e15c,27,5,7,2,,,0,"Rename opendev projects we missed

In the next batch of renames, we should clean up after the
repos we missed the first time.

Depends-On: https://review.opendev.org/657275
Change-Id: I4a70949c5d90970d29608f5a70c8af8d3ed85b17
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/657277/6 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/opendev/ansible-role-cloud-launcher.config', 'gerritbot/channels.yaml', 'gerrit/acls/opendev/zone-opendev.org.config', 'gerrit/acls/opendev/ci-sandbox.config', 'gerrit/acls/opendev/netlify-sandbox.config', 'gerrit/acls/opendev/sandbox.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/os-http.config']",10,9e42a5f320005a3f37344ae5eb73e39ffcdec76a,project-rename,,,41,60
openstack%2Fproject-config~master~I876fdf180368bf16b680b71339922a9c2e752c74,openstack/project-config,master,I876fdf180368bf16b680b71339922a9c2e752c74,Rename x/compute-hyperv to openstack/compute-hyperv,MERGED,2019-05-28 07:07:14.000000000,2019-05-31 15:56:14.000000000,2019-05-31 15:06:57.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8213}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-28 07:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/30436549bda3478451d4fd2baf5de5301c4fd026', 'message': 'Rename x/compute-hyperv to openstack/compute-hyperv\n\ncompute-hyperv is now a ""Winstackers"" team deliverable, for which\nreason we\'re moving it back to the ""openstack"" namespace.\n\nChange-Id: I876fdf180368bf16b680b71339922a9c2e752c74\n'}, {'number': 2, 'created': '2019-05-28 20:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/443500a6dac77fc68e19e5cb48807915a2afe858', 'message': 'Rename x/compute-hyperv to openstack/compute-hyperv\n\ncompute-hyperv is now a ""Winstackers"" team deliverable, for which\nreason we\'re moving it back to the ""openstack"" namespace.\n\nChange-Id: I876fdf180368bf16b680b71339922a9c2e752c74\n'}, {'number': 3, 'created': '2019-05-29 06:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f6f0e39803c42c267729b15e4e10dbf068c40a7e', 'message': 'Rename x/compute-hyperv to openstack/compute-hyperv\n\ncompute-hyperv is now a ""Winstackers"" team deliverable, for which\nreason we\'re moving it back to the ""openstack"" namespace.\n\nChange-Id: I876fdf180368bf16b680b71339922a9c2e752c74\n'}, {'number': 4, 'created': '2019-05-29 21:52:24.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/acls/openstack/compute-hyperv.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2d7442555801eade02dd5ad21735ecdfeb014402', 'message': 'Rename x/compute-hyperv to openstack/compute-hyperv\n\ncompute-hyperv is now a ""Winstackers"" team deliverable, for which\nreason we\'re moving it back to the ""openstack"" namespace.\n\nChange-Id: I876fdf180368bf16b680b71339922a9c2e752c74\n'}]",9,661682,2d7442555801eade02dd5ad21735ecdfeb014402,20,5,4,8543,,,0,"Rename x/compute-hyperv to openstack/compute-hyperv

compute-hyperv is now a ""Winstackers"" team deliverable, for which
reason we're moving it back to the ""openstack"" namespace.

Change-Id: I876fdf180368bf16b680b71339922a9c2e752c74
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/661682/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,30436549bda3478451d4fd2baf5de5301c4fd026,project-rename, - openstack/compute-hyperv, - x/compute-hyperv,11,11
openstack%2Fproject-config~master~Iff3ff7fd0271881b6a3b0c1498a2f28ea441ba39,openstack/project-config,master,Iff3ff7fd0271881b6a3b0c1498a2f28ea441ba39,Renaming of Public Cloud WG to Public Cloud SIG,MERGED,2019-05-16 08:16:36.000000000,2019-05-31 15:56:11.000000000,2019-05-31 15:06:32.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-16 08:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/63787c44041b7921da70a9d87c5df6c5d1320cf6', 'message': 'Renaming of Public Cloud WG to Public Cloud SIG\n\nAs part of the migration from WG to SIG we need to change the repo\nconfiguration to match the naming.\n\nChange-Id: Iff3ff7fd0271881b6a3b0c1498a2f28ea441ba39\n'}, {'number': 2, 'created': '2019-05-29 21:52:24.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/publiccloud-sig.config', 'gerrit/acls/openstack/publiccloud-wg.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f6a98e5891c3b412626cbb6bf99ad0ae98575765', 'message': 'Renaming of Public Cloud WG to Public Cloud SIG\n\nAs part of the migration from WG to SIG we need to change the repo\nconfiguration to match the naming.\n\nChange-Id: Iff3ff7fd0271881b6a3b0c1498a2f28ea441ba39\n'}]",0,659489,f6a98e5891c3b412626cbb6bf99ad0ae98575765,14,4,2,23924,,,0,"Renaming of Public Cloud WG to Public Cloud SIG

As part of the migration from WG to SIG we need to change the repo
configuration to match the naming.

Change-Id: Iff3ff7fd0271881b6a3b0c1498a2f28ea441ba39
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/659489/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/publiccloud-sig.config', 'gerrit/acls/openstack/publiccloud-wg.config']",5,63787c44041b7921da70a9d87c5df6c5d1320cf6,project-rename,,"[access ""refs/heads/*""] abandon = group publiccloud-wg-core label-Code-Review = -2..+2 group publiccloud-wg-core label-Workflow = -1..+1 group publiccloud-wg-core [access ""refs/tags/*""] pushSignedTag = group publiccloud-wg-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",20,20
openstack%2Fproject-config~master~I0cfe05700067be86fcc80e02d73a2148f20def63,openstack/project-config,master,I0cfe05700067be86fcc80e02d73a2148f20def63,Rename charm-lxd to charm-nova-lxd,MERGED,2019-03-19 14:22:28.000000000,2019-05-31 15:56:06.000000000,2019-05-31 15:06:26.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-19 14:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7666a1c03b1ab933aaea69d105ee965282f7d63c', 'message': 'Rename charm-lxd to charm-nova-lxd\n\nThis better reflects that the (nova-)lxd charm actually configures LXD\nfor use with nova, and not just LXD in general.\n\nChange-Id: I0cfe05700067be86fcc80e02d73a2148f20def63\n'}, {'number': 2, 'created': '2019-05-29 21:52:24.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4ebf25ef80bb3823138034973b98dba6457e064e', 'message': 'Rename charm-lxd to charm-nova-lxd\n\nThis better reflects that the (nova-)lxd charm actually configures LXD\nfor use with nova, and not just LXD in general.\n\nChange-Id: I0cfe05700067be86fcc80e02d73a2148f20def63\n'}]",0,644584,4ebf25ef80bb3823138034973b98dba6457e064e,15,5,2,20870,,,0,"Rename charm-lxd to charm-nova-lxd

This better reflects that the (nova-)lxd charm actually configures LXD
for use with nova, and not just LXD in general.

Change-Id: I0cfe05700067be86fcc80e02d73a2148f20def63
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/644584/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,7666a1c03b1ab933aaea69d105ee965282f7d63c,project-rename, - openstack/charm-nova-lxd, - openstack/charm-lxd,6,6
openstack%2Fgovernance~master~I333393e0304844e30983f89c82eabcad11487be2,openstack/governance,master,I333393e0304844e30983f89c82eabcad11487be2,Add liberasurecode and pyeclib as Swift team deliverables,MERGED,2019-05-04 19:45:59.000000000,2019-05-31 15:47:49.000000000,2019-05-30 15:22:09.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 12404}, {'_account_id': 14288}, {'_account_id': 15343}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 19:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/736891e30edf4d8313d0c00752f8ee920b875f47', 'message': 'Add liberasurecode and pyeclib as Swift team deliverables\n\nThis more-accurately reflects the realities that:\n\n- the primary developers for these projects are Swift developers and\n- the primary consumer of these projects is Swift\n\nChange-Id: I333393e0304844e30983f89c82eabcad11487be2\n'}, {'number': 2, 'created': '2019-05-09 19:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/095a6ed52dd14fb0b107bc14f0a77638b79bb654', 'message': 'Add liberasurecode and pyeclib as Swift team deliverables\n\nThis more-accurately reflects the realities that:\n\n- the primary developers for these projects are Swift developers and\n- the primary consumer of these projects is Swift\n\nChange-Id: I333393e0304844e30983f89c82eabcad11487be2\nDepends-On: I9ec488f04ca119b048b0f47235fc9ffaa4ab7417\n'}, {'number': 3, 'created': '2019-05-28 14:29:54.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/37c376d400947f26bdcaed124e28ce3367c413dd', 'message': 'Add liberasurecode and pyeclib as Swift team deliverables\n\nThis more-accurately reflects the realities that:\n\n- the primary developers for these projects are Swift developers and\n- the primary consumer of these projects is Swift\n\nChange-Id: I333393e0304844e30983f89c82eabcad11487be2\n'}]",3,657154,37c376d400947f26bdcaed124e28ce3367c413dd,38,14,3,15343,,,0,"Add liberasurecode and pyeclib as Swift team deliverables

This more-accurately reflects the realities that:

- the primary developers for these projects are Swift developers and
- the primary consumer of these projects is Swift

Change-Id: I333393e0304844e30983f89c82eabcad11487be2
",git fetch https://review.opendev.org/openstack/governance refs/changes/54/657154/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,736891e30edf4d8313d0c00752f8ee920b875f47,project-update, liberasurecode: release-management: none repos: - openstack/liberasurecode pyeclib: release-management: none repos: - openstack/pyeclib,,8,0
openstack%2Fkuryr-kubernetes~master~I6f74831831e33c7f1bdbc04df78601f9522d9212,openstack/kuryr-kubernetes,master,I6f74831831e33c7f1bdbc04df78601f9522d9212,Improve behaviour of VIFHandler,MERGED,2019-05-28 12:12:39.000000000,2019-05-31 15:47:35.000000000,2019-05-31 15:47:35.000000000,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 28396}, {'_account_id': 30247}]","[{'number': 1, 'created': '2019-05-28 12:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/06eec5e7577199d1a4773047cc737cb9853b2b53', 'message': 'Fix wrong behiviour of VIFHandler\n\nPreviously VIFHandler run throuth all the vifs\nwaiting it to be active. If neutron ports was not\nactive then exception was raised and new pod state\nwas not written. Thus each retry VIFHandler should\nrun through all the vifs even if appropriate neutron\nport is active. Check for each neutron port requires\nrequest to neutron that is time consuming process.\n\nThis commit allown ot update pod state even if state\nof single port was changed regardless exceptions for\nother ports.\n\nChange-Id: I6f74831831e33c7f1bdbc04df78601f9522d9212\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 2, 'created': '2019-05-28 12:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/06e21b26596875983476361c80e2f0fbd94614a3', 'message': 'Fix wrong behiviour of VIFHandler\n\nPreviously VIFHandler run through all the vifs\nwaiting it to be active. If neutron ports was not\nactive then exception was raised and new pod state\nwas not written. Thus each retry VIFHandler should\nrun through all the vifs even if appropriate neutron\nport is active. Check for each neutron port requires\nrequest to neutron that is time consuming process.\n\nThis commit allows to update pod state even if state\nof single port was changed regardless exceptions for\nother ports.\n\nChange-Id: I6f74831831e33c7f1bdbc04df78601f9522d9212\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 3, 'created': '2019-05-28 12:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4b0c840d421f22cac81ef4f63b0ed52319bb2246', 'message': 'Fix wrong behiviour of VIFHandler\n\nPreviously VIFHandler run through all the vifs\nwaiting it to be active. If neutron ports was not\nactive then exception was raised and new pod state\nwas not written. Thus each retry VIFHandler should\nrun through all the vifs even if appropriate neutron\nport is active. Check for each neutron port requires\nrequest to neutron that is time consuming process.\n\nThis commit allows to update pod state even if state\nof single port was changed regardless exceptions for\nother ports.\n\nChange-Id: I6f74831831e33c7f1bdbc04df78601f9522d9212\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 4, 'created': '2019-05-28 12:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d27d20e4a60302199418fd99746d21ca72fa0093', 'message': 'Fix wrong behaviour of VIFHandler\n\nPreviously VIFHandler run through all the vifs\nwaiting it to be active. If neutron ports was not\nactive then exception was raised and new pod state\nwas not written. Thus each retry VIFHandler should\nrun through all the vifs even if appropriate neutron\nport is active. Check for each neutron port requires\nrequest to neutron that is time consuming process.\n\nThis commit allows to update pod state even if state\nof single port was changed regardless exceptions for\nother ports.\n\nChange-Id: I6f74831831e33c7f1bdbc04df78601f9522d9212\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 5, 'created': '2019-05-28 13:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9b569f5bf037510c6f07ca2d9cda7febf6ac8f40', 'message': 'Fix wrong behaviour of VIFHandler\n\nPreviously VIFHandler run through all the vifs\nwaiting it to be active. If neutron ports was not\nactive then exception was raised and new pod state\nwas not written. Thus each retry VIFHandler should\nrun through all the vifs even if appropriate neutron\nport is active. Check for each neutron port requires\nrequest to neutron that is time consuming process.\n\nThis commit allows to update pod state even if state\nof single port was changed regardless exceptions for\nother ports.\n\nChange-Id: I6f74831831e33c7f1bdbc04df78601f9522d9212\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 6, 'created': '2019-05-28 13:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fe22fbb79a45836a01cadd7b4c7051f8033564bc', 'message': 'Fix wrong behaviour of VIFHandler\n\nPreviously VIFHandler run through all the vifs\nwaiting it to be active. If neutron ports was not\nactive then exception was raised and new pod state\nwas not written. Thus each retry VIFHandler should\nrun through all the vifs even if appropriate neutron\nport is active. Check for each neutron port requires\nrequest to neutron that is time consuming process.\n\nThis commit allows to update pod state even if state\nof single port was changed regardless exceptions for\nother ports.\n\nChange-Id: I6f74831831e33c7f1bdbc04df78601f9522d9212\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 7, 'created': '2019-05-29 07:43:42.000000000', 'files': ['kuryr_kubernetes/controller/handlers/vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ebe57d338293f62e182997d9a1fe4c90bb560db1', 'message': 'Improve behaviour of VIFHandler\n\nPreviously VIFHandler run through all the vifs\nwaiting it to be active. If neutron ports was not\nactive then exception was raised and new pod state\nwas not written. Thus each retry VIFHandler should\nrun through all the vifs even if appropriate neutron\nport is active. Check for each neutron port requires\nrequest to neutron that is time consuming process.\n\nThis commit allows to update pod state even if state\nof single port was changed regardless exceptions for\nother ports.\n\nChange-Id: I6f74831831e33c7f1bdbc04df78601f9522d9212\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}]",5,661742,ebe57d338293f62e182997d9a1fe4c90bb560db1,21,7,7,24604,,,0,"Improve behaviour of VIFHandler

Previously VIFHandler run through all the vifs
waiting it to be active. If neutron ports was not
active then exception was raised and new pod state
was not written. Thus each retry VIFHandler should
run through all the vifs even if appropriate neutron
port is active. Check for each neutron port requires
request to neutron that is time consuming process.

This commit allows to update pod state even if state
of single port was changed regardless exceptions for
other ports.

Change-Id: I6f74831831e33c7f1bdbc04df78601f9522d9212
Signed-off-by: Danil Golov <d.golov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/42/661742/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/vif.py'],1,06eec5e7577199d1a4773047cc737cb9853b2b53,," try: for ifname, vif in state.vifs.items(): if vif.plugin == constants.KURYR_VIF_TYPE_SRIOV: driver_utils.update_port_pci_info(pod, vif) if not vif.active: self._drv_vif_pool.activate_vif(pod, vif) changed = True finally: if changed: self._set_pod_state(pod, state) crd_pod_selectors = self._drv_sg.create_sg_rules(pod) if self._is_network_policy_enabled(): services = driver_utils.get_services( pod['metadata']['namespace']) self._update_services( services, crd_pod_selectors, project_id)"," for ifname, vif in state.vifs.items(): if vif.plugin == constants.KURYR_VIF_TYPE_SRIOV: driver_utils.update_port_pci_info(pod, vif) if not vif.active: self._drv_vif_pool.activate_vif(pod, vif) changed = True if changed: self._set_pod_state(pod, state) crd_pod_selectors = self._drv_sg.create_sg_rules(pod) if self._is_network_policy_enabled(): services = driver_utils.get_services( pod['metadata']['namespace']) self._update_services( services, crd_pod_selectors, project_id)",16,14
openstack%2Fironic-python-agent~master~Ibbf07052bea8f5c0305dda098b2879bcbc2fece5,openstack/ironic-python-agent,master,Ibbf07052bea8f5c0305dda098b2879bcbc2fece5,Supports fetching API endpoints from mDNS,MERGED,2019-04-12 08:58:55.000000000,2019-05-31 15:41:43.000000000,2019-05-31 15:41:43.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12773}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-04-12 08:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4e6e8392e216ade4004cee4d72ea7cd92ba5703d', 'message': '[POC][WIP] Fetch baremetal endpoint from mdns\n\nStory: #2005393\nTask: #30382\nDepends-On: https://review.openstack.org/651810\nChange-Id: Ibbf07052bea8f5c0305dda098b2879bcbc2fece5\n'}, {'number': 2, 'created': '2019-04-12 15:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f180c71e59b1d0ccc228f152c01a56e5a8987415', 'message': '[POC][WIP] Fetch baremetal endpoint from mdns\n\nStory: #2005393\nTask: #30382\nDepends-On: https://review.openstack.org/651810\nChange-Id: Ibbf07052bea8f5c0305dda098b2879bcbc2fece5\n'}, {'number': 3, 'created': '2019-04-15 12:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/016a7f8e1cf743e2d970dce55c66a0d4707f71ff', 'message': '[POC][WIP] Fetch baremetal endpoint from mdns\n\nStory: #2005393\nTask: #30382\nDepends-On: https://review.openstack.org/651810\nChange-Id: Ibbf07052bea8f5c0305dda098b2879bcbc2fece5\n'}, {'number': 4, 'created': '2019-04-16 10:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ce282a6ba4a85e6c55d32d438de09a6b3d541c13', 'message': '[POC][WIP] Fetch baremetal endpoint from mdns\n\nStory: #2005393\nTask: #30382\nDepends-On: https://review.openstack.org/651810\nChange-Id: Ibbf07052bea8f5c0305dda098b2879bcbc2fece5\n'}, {'number': 5, 'created': '2019-04-17 10:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3da6d437e36fd152ccd2569c45eba935fd44fa86', 'message': '[POC][WIP] Fetch baremetal-introspection endpoint from mdns\n\nStory: #2005393\nTask: #30382\nDepends-On: https://review.openstack.org/#/c/653382/\nChange-Id: Ibbf07052bea8f5c0305dda098b2879bcbc2fece5\n'}, {'number': 6, 'created': '2019-05-29 09:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9940ec96c70a2789c2347a4b9e5a8eb014c7c706', 'message': '[WIP] Fetch baremetal-introspection endpoint from mdns\n\nStory: #2005393\nTask: #30382\nChange-Id: Ibbf07052bea8f5c0305dda098b2879bcbc2fece5\n'}, {'number': 7, 'created': '2019-05-29 10:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a829870cb9e6f0732f5ec3c99d427af011fa9c47', 'message': '[WIP] Supports fetching API endpoints from mDNS\n\nStory: #2005393\nTask: #30382\nChange-Id: Ibbf07052bea8f5c0305dda098b2879bcbc2fece5\n'}, {'number': 8, 'created': '2019-05-29 14:59:06.000000000', 'files': ['requirements.txt', 'ironic_python_agent/tests/unit/test_inspector.py', 'releasenotes/notes/mdns-e020484e64d76edb.yaml', 'ironic_python_agent/inspector.py', 'ironic_python_agent/config.py', 'ironic_python_agent/agent.py', 'lower-constraints.txt', 'ironic_python_agent/tests/unit/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5c5328ccaabd0e6dfe8c4658b4ff738adcaba768', 'message': 'Supports fetching API endpoints from mDNS\n\nThis change enables IPA to receive API endpoints and configuration\nvia multicast DNS.\n\nStory: #2005393\nTask: #30382\nChange-Id: Ibbf07052bea8f5c0305dda098b2879bcbc2fece5\n'}]",8,652017,5c5328ccaabd0e6dfe8c4658b4ff738adcaba768,36,6,8,10239,,,0,"Supports fetching API endpoints from mDNS

This change enables IPA to receive API endpoints and configuration
via multicast DNS.

Story: #2005393
Task: #30382
Change-Id: Ibbf07052bea8f5c0305dda098b2879bcbc2fece5
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/17/652017/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic_python_agent/mdns.py', 'ironic_python_agent/agent.py', 'lower-constraints.txt']",4,4e6e8392e216ade4004cee4d72ea7cd92ba5703d,story/2005393,zeroconf==0.19.1,,61,1
openstack%2Fkolla-ansible~stable%2Frocky~I2674958b1e64efddbca4765fefa55431261648e6,openstack/kolla-ansible,stable/rocky,I2674958b1e64efddbca4765fefa55431261648e6,Fix format file message field,MERGED,2019-05-23 10:59:46.000000000,2019-05-31 15:41:37.000000000,2019-05-31 15:41:37.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-23 10:59:46.000000000', 'files': ['ansible/roles/common/templates/conf/format/wsgi_python.conf.j2', 'ansible/roles/common/templates/conf/format/apache_access.conf.j2', 'ansible/roles/common/templates/conf/format/wsgi_access.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1ed54bab9d544f9bd6f65c6b2f65749076b13ea2', 'message': ""Fix format file message field\n\nThe message field for these format files wasn't renamed when\nthe input field was renamed. This problem was masked by Monasca\nwhich renames the message field back to 'message' for the Fluentd\nMonasca output plugin.\n\nChange-Id: I2674958b1e64efddbca4765fefa55431261648e6\nCloses-Bug: #1819168\n(cherry picked from commit e5d564136b479e83da71ad08d31783a3f793314d)\n""}]",0,660974,1ed54bab9d544f9bd6f65c6b2f65749076b13ea2,11,4,1,17669,,,0,"Fix format file message field

The message field for these format files wasn't renamed when
the input field was renamed. This problem was masked by Monasca
which renames the message field back to 'message' for the Fluentd
Monasca output plugin.

Change-Id: I2674958b1e64efddbca4765fefa55431261648e6
Closes-Bug: #1819168
(cherry picked from commit e5d564136b479e83da71ad08d31783a3f793314d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/74/660974/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/format/apache_access.conf.j2', 'ansible/roles/common/templates/conf/format/wsgi_python.conf.j2', 'ansible/roles/common/templates/conf/format/wsgi_access.conf.j2']",3,1ed54bab9d544f9bd6f65c6b2f65749076b13ea2,bug/1819168-stable/rocky, key_name Payload, key_name message,3,3
openstack%2Fplacement~master~Ic3a43e2e35f361234f081c0e1f34729cf6560828,openstack/placement,master,Ic3a43e2e35f361234f081c0e1f34729cf6560828,Bump openstackdocstheme to 1.30.0,MERGED,2019-05-30 23:08:36.000000000,2019-05-31 15:41:32.000000000,2019-05-31 15:41:32.000000000,"[{'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 23:08:36.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/placement/commit/289130fc3daa67a700b9164563ed4222af563390', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: Ic3a43e2e35f361234f081c0e1f34729cf6560828\n'}]",0,662356,289130fc3daa67a700b9164563ed4222af563390,6,2,1,14070,,,0,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: Ic3a43e2e35f361234f081c0e1f34729cf6560828
",git fetch https://review.opendev.org/openstack/placement refs/changes/56/662356/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,289130fc3daa67a700b9164563ed4222af563390,bump-openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.24.0 # Apache-2.0,1,1
openstack%2Fproject-config~master~I2f113d336b4e462bf73d92f77b44500bd1ca489e,openstack/project-config,master,I2f113d336b4e462bf73d92f77b44500bd1ca489e,Rename request: airship-in-a-bottle,MERGED,2019-04-26 20:22:26.000000000,2019-05-31 15:06:38.000000000,2019-05-31 15:06:38.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-04-26 20:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d03a60a8197476d1ed5d58c549d7223330ba916c', 'message': 'Rename request: airship-in-a-bottle\n\nThe Airship team would like to rename the following project.\nFrom: airship/in-a-bottle\nTo:   airship/airship-in-a-bottle\n\nChange-Id: I2f113d336b4e462bf73d92f77b44500bd1ca489e\n'}, {'number': 2, 'created': '2019-04-26 20:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d9f5a953be9af64510829792dbafb0ffa814046d', 'message': 'Rename request: airship-in-a-bottle\n\nThe Airship team would like to rename the following project.\nFrom: airship/in-a-bottle\nTo:   airship/airship-in-a-bottle\n\nChange-Id: I2f113d336b4e462bf73d92f77b44500bd1ca489e\n'}, {'number': 3, 'created': '2019-05-28 18:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/23253c6484e80925cf825a970c40f5e1d694904b', 'message': 'Rename request: airship-in-a-bottle\n\nThe Airship team would like to rename the following project.\nFrom: airship/in-a-bottle\nTo:   airship/airship-in-a-bottle\n\nChange-Id: I2f113d336b4e462bf73d92f77b44500bd1ca489e\n'}, {'number': 4, 'created': '2019-05-29 21:52:24.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7897b615fe3183b3b7e7bf9f04a758162293975c', 'message': 'Rename request: airship-in-a-bottle\n\nThe Airship team would like to rename the following project.\nFrom: airship/in-a-bottle\nTo:   airship/airship-in-a-bottle\n\nChange-Id: I2f113d336b4e462bf73d92f77b44500bd1ca489e\n'}]",0,656008,7897b615fe3183b3b7e7bf9f04a758162293975c,18,5,4,22477,,,0,"Rename request: airship-in-a-bottle

The Airship team would like to rename the following project.
From: airship/in-a-bottle
To:   airship/airship-in-a-bottle

Change-Id: I2f113d336b4e462bf73d92f77b44500bd1ca489e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/08/656008/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,d03a60a8197476d1ed5d58c549d7223330ba916c,project-rename, - airship/airship-in-a-bottle, - airship/in-a-bottle,2,2
openstack%2Fneutron-dynamic-routing~master~Ib354f20702f98227b7d0abbdf283561930a29afd,openstack/neutron-dynamic-routing,master,Ib354f20702f98227b7d0abbdf283561930a29afd,Fix unreliability of check_remote_as_state() in scenario tests,ABANDONED,2019-05-30 21:32:30.000000000,2019-05-31 15:05:38.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-05-30 21:32:30.000000000', 'files': ['neutron_dynamic_routing/tests/tempest/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/be9da0bf6cbc267f50c423d64371947b94c11f19', 'message': 'Fix unreliability of check_remote_as_state() in scenario tests\n\nThis change adds simple, limited polling to check_remote_as_state()\nas it can be subject to failures stemming from simple timing issues.\n\nChange-Id: Ib354f20702f98227b7d0abbdf283561930a29afd\n'}]",2,662341,be9da0bf6cbc267f50c423d64371947b94c11f19,7,7,1,4187,,,0,"Fix unreliability of check_remote_as_state() in scenario tests

This change adds simple, limited polling to check_remote_as_state()
as it can be subject to failures stemming from simple timing issues.

Change-Id: Ib354f20702f98227b7d0abbdf283561930a29afd
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/41/662341/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/tests/tempest/scenario/base.py'],1,be9da0bf6cbc267f50c423d64371947b94c11f19,," as_state_matches = False for i in range(0, 4): neighbor_state = self.get_remote_as_state(l_as, r_as, if neighbor_state == expected_state: as_state_matches = True break # Wait before reading and checking state again time.sleep(10) self.assertTrue(as_state_matches)"," neighbor_state = self.get_remote_as_state(l_as, r_as, self.assertEqual(neighbor_state, expected_state)",11,2
openstack%2Fcinder~master~I135af489867a2ff324f818687ac3c28ecd65c4c3,openstack/cinder,master,I135af489867a2ff324f818687ac3c28ecd65c4c3,Drop use git.openstack.org for tox deps,MERGED,2019-05-08 02:19:18.000000000,2019-05-31 15:05:17.000000000,2019-05-30 20:40:08.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12898}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28613}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-08 02:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/965f82d39498349a448cbfb3e06f6201a33937ba', 'message': 'Drop use git.openstack.org for tox deps\n\nChange-Id: I135af489867a2ff324f818687ac3c28ecd65c4c3\n'}, {'number': 2, 'created': '2019-05-21 02:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca302b78a5cb1d7398bb638d3c2107fcff80289a', 'message': 'Drop use git.openstack.org for tox deps\n\nChange-Id: I135af489867a2ff324f818687ac3c28ecd65c4c3\n'}, {'number': 3, 'created': '2019-05-21 03:46:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/90f0d636c032403cb7fb22b217c285ccb71c1fdd', 'message': 'Drop use git.openstack.org for tox deps\n\nChange-Id: I135af489867a2ff324f818687ac3c28ecd65c4c3\n'}]",4,657723,90f0d636c032403cb7fb22b217c285ccb71c1fdd,121,36,3,28613,,,0,"Drop use git.openstack.org for tox deps

Change-Id: I135af489867a2ff324f818687ac3c28ecd65c4c3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/657723/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,965f82d39498349a448cbfb3e06f6201a33937ba,cinder,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/upper-constraints.txt},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Fpuppet-tripleo~stable%2Fstein~Iab5f11c3065ff34a3543621554e7f05161d069f2,openstack/puppet-tripleo,stable/stein,Iab5f11c3065ff34a3543621554e7f05161d069f2,Fix tripleo::haproxy::stats to be more correct and flexible,MERGED,2019-05-30 18:36:20.000000000,2019-05-31 14:59:55.000000000,2019-05-31 02:05:55.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-30 18:36:20.000000000', 'files': ['manifests/haproxy.pp', 'manifests/haproxy/stats.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ef577909d6b5b0db6ea829e2325aed989d91ba35', 'message': ""Fix tripleo::haproxy::stats to be more correct and flexible\n\nIn this change we do three things:\n1) We make the class parameter 'ip' also be a list so that multiple\n   bind addresses are possible\n2) We remove the hard coded 1993 and move it to a parameter\n3) Instead of passing only the controller_virtual_ip as the only bind\n   address on all controllers which makes no sense (see linked LP)\n   we also bind to the IP specified in the hiera key\n   'tripleo::haproxy::haproxy_stats_bind_address'.\n\nTested this change with the accompanying THT patch and correctly\ngot the haproxy stats on a custom network (internal_api and the\ncontroller vip):\n\nlisten haproxy.stats\n  bind fd00:fd00:fd00:2000::16:1993 transparent\n  bind 192.168.24.15:1993 transparent\n  mode http\n  stats enable\n  stats uri /\n  stats auth admin:password\n\nI did not remove the controller_virtual_ip binding as that might be\na breaking change for operators. We could think about deprecating it\nand removing it eventually.\n\nRelated-Bug: #1830334\nChange-Id: Iab5f11c3065ff34a3543621554e7f05161d069f2\n(cherry picked from commit e76519d2c8324e71db1871e2a9219eb66d0ce5c4)\n""}]",0,662287,ef577909d6b5b0db6ea829e2325aed989d91ba35,8,4,1,3153,,,0,"Fix tripleo::haproxy::stats to be more correct and flexible

In this change we do three things:
1) We make the class parameter 'ip' also be a list so that multiple
   bind addresses are possible
2) We remove the hard coded 1993 and move it to a parameter
3) Instead of passing only the controller_virtual_ip as the only bind
   address on all controllers which makes no sense (see linked LP)
   we also bind to the IP specified in the hiera key
   'tripleo::haproxy::haproxy_stats_bind_address'.

Tested this change with the accompanying THT patch and correctly
got the haproxy stats on a custom network (internal_api and the
controller vip):

listen haproxy.stats
  bind fd00:fd00:fd00:2000::16:1993 transparent
  bind 192.168.24.15:1993 transparent
  mode http
  stats enable
  stats uri /
  stats auth admin:password

I did not remove the controller_virtual_ip binding as that might be
a breaking change for operators. We could think about deprecating it
and removing it eventually.

Related-Bug: #1830334
Change-Id: Iab5f11c3065ff34a3543621554e7f05161d069f2
(cherry picked from commit e76519d2c8324e71db1871e2a9219eb66d0ce5c4)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/87/662287/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/haproxy/stats.pp']",2,ef577909d6b5b0db6ea829e2325aed989d91ba35,haproxy_stats_fix-stable/stein,"# IP Address(es) on which the stats interface is listening on. # Can be a string or a list of ip addresses # # [*port*] # Port on which to listen to for haproxy stats web interface # Defaults to '1993' $port = '1993', $opts = union($haproxy_listen_bind_param, ['ssl', 'crt', $certificate]) } else { $opts = $haproxy_listen_bind_param } $haproxy_stats_bind_opts = list_to_hash(suffix(any2array($ip), "":${port}""), $opts) ","# IP Address on which the stats interface is listening on. This right now # assumes that it's in the ctlplane network. $haproxy_stats_bind_opts = { ""${ip}:1993"" => union($haproxy_listen_bind_param, ['ssl', 'crt', $certificate]), } } else { $haproxy_stats_bind_opts = { ""${ip}:1993"" => $haproxy_listen_bind_param, } } ",22,9
openstack%2Ftripleo-heat-templates~stable%2Fstein~If2ee15f1e0fcf6d077cba524fad75dec7e1144b6,openstack/tripleo-heat-templates,stable/stein,If2ee15f1e0fcf6d077cba524fad75dec7e1144b6,Fix haproxy stats network binding,MERGED,2019-05-31 06:11:16.000000000,2019-05-31 14:58:23.000000000,2019-05-31 14:58:23.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-31 06:11:16.000000000', 'files': ['network/service_net_map.j2.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b3fceb0bebef5dedbbb18e235f1e85c24c69302', 'message': ""Fix haproxy stats network binding\n\na) The haproxy.stats stanza in haproxy config file has pretty much remained the same since newton:\nlisten haproxy.stats\n  bind 192.168.24.8:1993 transparent\n  mode http\n  stats enable\n  stats uri /\n  stats auth admin:tRJre6PnQuN4ZwqKYUygTJArB\n\nb) what we do today with the haproxy stats makes little sense:\n- we bind it to the VIP running on the control-plane network on all controller nodes\n- de facto we allow to look at the haproxy stat info via web only on the node holding the ctlplane VIP\n- since haproxy does not share stats across nodes, we're effectively\n  limited at looking at the stats info on a single node.\n\nNow imagine ctrl-0 holding the internal_api VIP and ctrl-1 holding the\nctlplane VIP. Basically now the only stats you will be able to see are\nthe ones relative to keystone_admin (which for other silly reasons has\nbeen moved to ctlplane by default) and very little else.\n\nTested this and am able to bind the haproxy stat to another network\nand to have it listen to the IP of the node on said network (in addition\nto the ctrlplane vip which we do not remove as it might break stuff):\n\n    listen haproxy.stats\n      bind fd00:fd00:fd00:2000::16:1993 transparent\n      bind 192.168.24.15:1993 transparent\n      mode http\n      stats enable\n      stats uri /\n      stats auth admin:password\n\nCloses-Bug: #1830334\n\nDepends-On: Iab5f11c3065ff34a3543621554e7f05161d069f2\n\nChange-Id: If2ee15f1e0fcf6d077cba524fad75dec7e1144b6\n(cherry picked from commit 45f5c283e32e4753360c4e4c9627043b20a30e24)\n""}]",0,662388,8b3fceb0bebef5dedbbb18e235f1e85c24c69302,8,4,1,20172,,,0,"Fix haproxy stats network binding

a) The haproxy.stats stanza in haproxy config file has pretty much remained the same since newton:
listen haproxy.stats
  bind 192.168.24.8:1993 transparent
  mode http
  stats enable
  stats uri /
  stats auth admin:tRJre6PnQuN4ZwqKYUygTJArB

b) what we do today with the haproxy stats makes little sense:
- we bind it to the VIP running on the control-plane network on all controller nodes
- de facto we allow to look at the haproxy stat info via web only on the node holding the ctlplane VIP
- since haproxy does not share stats across nodes, we're effectively
  limited at looking at the stats info on a single node.

Now imagine ctrl-0 holding the internal_api VIP and ctrl-1 holding the
ctlplane VIP. Basically now the only stats you will be able to see are
the ones relative to keystone_admin (which for other silly reasons has
been moved to ctlplane by default) and very little else.

Tested this and am able to bind the haproxy stat to another network
and to have it listen to the IP of the node on said network (in addition
to the ctrlplane vip which we do not remove as it might break stuff):

    listen haproxy.stats
      bind fd00:fd00:fd00:2000::16:1993 transparent
      bind 192.168.24.15:1993 transparent
      mode http
      stats enable
      stats uri /
      stats auth admin:password

Closes-Bug: #1830334

Depends-On: Iab5f11c3065ff34a3543621554e7f05161d069f2

Change-Id: If2ee15f1e0fcf6d077cba524fad75dec7e1144b6
(cherry picked from commit 45f5c283e32e4753360c4e4c9627043b20a30e24)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/662388/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/service_net_map.j2.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml']",2,8b3fceb0bebef5dedbbb18e235f1e85c24c69302,haproxy_stats_fix-stable/stein," tripleo::haproxy::haproxy_stats_bind_address: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, HaproxyNetwork]}",,8,0
openstack%2Ftripleo-heat-templates~master~Ic1cc0f59d812ddf0a6a1ce9bf852c22089fd19a4,openstack/tripleo-heat-templates,master,Ic1cc0f59d812ddf0a6a1ce9bf852c22089fd19a4,Consolidate RpcPort healthchecks,MERGED,2019-05-15 19:11:08.000000000,2019-05-31 14:58:21.000000000,2019-05-31 14:58:21.000000000,"[{'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-15 19:11:08.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/deprecated/nova/nova-consoleauth-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9c26b6d3284fbfb6e142d242465f97bed2e485a', 'message': 'Consolidate RpcPort healthchecks\n\nUpdate the templates with RpcPort healthchecks to use the resource in\ncontainers-common.yaml.\n\nChange-Id: Ic1cc0f59d812ddf0a6a1ce9bf852c22089fd19a4\n'}]",0,659362,e9c26b6d3284fbfb6e142d242465f97bed2e485a,15,7,1,21129,,,0,"Consolidate RpcPort healthchecks

Update the templates with RpcPort healthchecks to use the resource in
containers-common.yaml.

Change-Id: Ic1cc0f59d812ddf0a6a1ce9bf852c22089fd19a4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/659362/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/deprecated/nova/nova-consoleauth-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml']",13,e9c26b6d3284fbfb6e142d242465f97bed2e485a,rpc-params-cleanup," healthcheck: {get_attr: [ContainersCommon, healthcheck_rpc_port]}", RpcPort: default: 5672 description: The network port for messaging backend type: number healthcheck: test: list_join: - ' ' - - '/openstack/healthcheck' - yaql: expression: str($.data.port) data: port: {get_param: RpcPort},14,205
openstack%2Fheat~stable%2Frocky~I23493b1c477d082c478f87167de2c1859ba5ace7,openstack/heat,stable/rocky,I23493b1c477d082c478f87167de2c1859ba5ace7,Fix regression with SW deployments when region not configured,MERGED,2019-05-30 14:23:38.000000000,2019-05-31 14:54:45.000000000,2019-05-31 14:54:44.000000000,"[{'_account_id': 4257}, {'_account_id': 9542}, {'_account_id': 22348}, {'_account_id': 30105}]","[{'number': 1, 'created': '2019-05-30 14:23:38.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9bd44195997ca56eb4a4c1f19baa59c2ae0390f6', 'message': 'Fix regression with SW deployments when region not configured\n\nThe region name eventually has to pass through an os-collect-config.conf\nfile, the format of which is unable to distinguish between the JSON null\n(equivalent to None in Python) and the string ""null"".\n\nThis means that Story 2002781 caused a regression for users who didn\'t\nhave the region_name_for_services config option explicitly set in\nheat.conf.\n\nTo avoid this, only specify the region when we know what it is.\n\nChange-Id: I23493b1c477d082c478f87167de2c1859ba5ace7\nStory: #2005797\nTask: 33527\nTask: 33528\n(cherry picked from commit d580565abff2997002eff856535bdfd2ddb44da7)\n'}]",0,662233,9bd44195997ca56eb4a4c1f19baa59c2ae0390f6,10,4,1,8833,,,0,"Fix regression with SW deployments when region not configured

The region name eventually has to pass through an os-collect-config.conf
file, the format of which is unable to distinguish between the JSON null
(equivalent to None in Python) and the string ""null"".

This means that Story 2002781 caused a regression for users who didn't
have the region_name_for_services config option explicitly set in
heat.conf.

To avoid this, only specify the region when we know what it is.

Change-Id: I23493b1c477d082c478f87167de2c1859ba5ace7
Story: #2005797
Task: 33527
Task: 33528
(cherry picked from commit d580565abff2997002eff856535bdfd2ddb44da7)
",git fetch https://review.opendev.org/openstack/heat refs/changes/33/662233/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/software_deployment.py'],1,9bd44195997ca56eb4a4c1f19baa59c2ae0390f6,," if creds['region_name']: yield swc_io.InputConfig( name=self.DEPLOY_REGION_NAME, value=creds['region_name'], description=_('Region name for API authentication'))"," yield swc_io.InputConfig( name=self.DEPLOY_REGION_NAME, value=creds['region_name'], description=_('Region name for API authentication'))",5,3
openstack%2Fcinder~master~Icf7d61ae18f18778febd72029874a85da9b700f8,openstack/cinder,master,Icf7d61ae18f18778febd72029874a85da9b700f8,"Fix the misspelling of ""volumes""",MERGED,2019-01-23 09:07:53.000000000,2019-05-31 14:44:47.000000000,2019-05-30 23:42:10.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-23 09:07:53.000000000', 'files': ['cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfa0f8d5efbbc0b14439abd1927baed7e9d65d1a', 'message': 'Fix the misspelling of ""volumes""\n\nChange-Id: Icf7d61ae18f18778febd72029874a85da9b700f8\n'}]",0,632660,bfa0f8d5efbbc0b14439abd1927baed7e9d65d1a,67,30,1,29721,,,0,"Fix the misspelling of ""volumes""

Change-Id: Icf7d61ae18f18778febd72029874a85da9b700f8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/632660/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/infinidat.py'],1,bfa0f8d5efbbc0b14439abd1927baed7e9d65d1a,, # source_group+source_vols. The target is group+volumes, # source_group+source_vols. The target is group+voluems,1,1
openstack%2Fnova~master~I1dd6abcc2be17ff76f108e7ff3771314f33259c6,openstack/nova,master,I1dd6abcc2be17ff76f108e7ff3771314f33259c6,Stop handling 'InstanceUnknownCell' exception,MERGED,2019-04-09 16:15:52.000000000,2019-05-31 14:39:24.000000000,2019-05-31 13:31:02.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-09 16:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/662798a6a90f727717b7e6acfff74e2dd41687b0', 'message': ""Stop handling 'InstanceUnknownCell' exception\n\nThis was only raised by cells v1 code and therefore no longer needs to be\nhandled. A future change will remove the exception itself.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I1dd6abcc2be17ff76f108e7ff3771314f33259c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-04-16 08:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecceac35fdcb233a99ae978a58f48ae183895d64', 'message': ""Stop handling 'InstanceUnknownCell' exception\n\nThis was only raised by cells v1 code and therefore no longer needs to be\nhandled. A future change will remove the exception itself.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I1dd6abcc2be17ff76f108e7ff3771314f33259c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-04-16 14:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e4899d11bc567a7153cdce69bb6b822be2a8c03', 'message': ""Stop handling 'InstanceUnknownCell' exception\n\nThis was only raised by cells v1 code and therefore no longer needs to be\nhandled. A future change will remove the exception itself.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I1dd6abcc2be17ff76f108e7ff3771314f33259c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-04-16 17:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ce8c33b42d2c5faf993ec1f9763677e0a69e43c', 'message': ""Stop handling 'InstanceUnknownCell' exception\n\nThis was only raised by cells v1 code and therefore no longer needs to be\nhandled. A future change will remove the exception itself.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I1dd6abcc2be17ff76f108e7ff3771314f33259c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-04-29 16:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1b26860e8bf69285ecb7f190535d00c25cda949', 'message': ""Stop handling 'InstanceUnknownCell' exception\n\nThis was only raised by cells v1 code and therefore no longer needs to be\nhandled. A future change will remove the exception itself.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I1dd6abcc2be17ff76f108e7ff3771314f33259c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-05-01 16:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c9b05d1be4e37b33ed919c60266ed5afaa026f1', 'message': ""Stop handling 'InstanceUnknownCell' exception\n\nThis was only raised by cells v1 code and therefore no longer needs to be\nhandled. A future change will remove the exception itself.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I1dd6abcc2be17ff76f108e7ff3771314f33259c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-05-02 14:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/287097faa6e424bbd74344a8f3ea9fcc4737ea75', 'message': ""Stop handling 'InstanceUnknownCell' exception\n\nThis was only raised by cells v1 code and therefore no longer needs to be\nhandled. A future change will remove the exception itself.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I1dd6abcc2be17ff76f108e7ff3771314f33259c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-05-22 10:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9253471f721127a2096f8d241458e3f5339a2062', 'message': ""Stop handling 'InstanceUnknownCell' exception\n\nThis was only raised by cells v1 code and therefore no longer needs to be\nhandled. A future change will remove the exception itself.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I1dd6abcc2be17ff76f108e7ff3771314f33259c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-05-29 16:23:55.000000000', 'files': ['nova/api/openstack/compute/remote_consoles.py', 'nova/api/openstack/compute/create_backup.py', 'nova/api/openstack/compute/server_metadata.py', 'nova/api/openstack/compute/shelve.py', 'nova/api/openstack/compute/deferred_delete.py', 'nova/api/openstack/compute/admin_password.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/compute/rescue.py', 'nova/api/openstack/compute/volumes.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/servers.py', 'nova/api/openstack/compute/admin_actions.py', 'nova/api/openstack/compute/pause_server.py', 'nova/api/openstack/compute/floating_ips.py', 'nova/api/openstack/compute/suspend_server.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/api/openstack/compute/multinic.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95dc5d0ab558604df7d8ef31eba8f9efaee9c474', 'message': ""Stop handling 'InstanceUnknownCell' exception\n\nThis was only raised by cells v1 code and therefore no longer needs to be\nhandled. A future change will remove the exception itself.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I1dd6abcc2be17ff76f108e7ff3771314f33259c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,651307,95dc5d0ab558604df7d8ef31eba8f9efaee9c474,110,18,9,15334,,,0,"Stop handling 'InstanceUnknownCell' exception

This was only raised by cells v1 code and therefore no longer needs to be
handled. A future change will remove the exception itself.

Part of blueprint remove-cells-v1

Change-Id: I1dd6abcc2be17ff76f108e7ff3771314f33259c6
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/651307/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/remote_consoles.py', 'nova/api/openstack/compute/create_backup.py', 'nova/api/openstack/compute/server_metadata.py', 'nova/api/openstack/compute/shelve.py', 'nova/api/openstack/compute/deferred_delete.py', 'nova/api/openstack/compute/admin_password.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/compute/rescue.py', 'nova/api/openstack/compute/volumes.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/servers.py', 'nova/api/openstack/compute/admin_actions.py', 'nova/api/openstack/compute/pause_server.py', 'nova/api/openstack/compute/floating_ips.py', 'nova/api/openstack/compute/suspend_server.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/api/openstack/compute/multinic.py']",17,662798a6a90f727717b7e6acfff74e2dd41687b0,bp/remove-cells-v1,, except exception.InstanceUnknownCell as e: raise exc.HTTPNotFound(explanation=e.format_message()) except exception.InstanceUnknownCell as e: raise exc.HTTPNotFound(explanation=e.format_message()),8,92
openstack%2Fpython-tripleoclient~stable%2Fqueens~I8db61fe01a986331cc03120e0abadf9462399c17,openstack/python-tripleoclient,stable/queens,I8db61fe01a986331cc03120e0abadf9462399c17,[Queens only] Add --ssh-key argument for overcloud update and upgrade. (WIP),ABANDONED,2019-05-24 13:49:47.000000000,2019-05-31 14:34:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-05-24 13:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/59ad17d9b823a665f09f4b8145f0e5a2a931bca8', 'message': '[Queens only] Add --ssh-key argument for overcloud update and upgrade.\n(WIP)\n\nChange-Id: I8db61fe01a986331cc03120e0abadf9462399c17\nResolves: rhbz#1690096\nDepends-On: I63f1e61c960fce7f280b83125bdc31a86c58b930\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-05-29 17:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8e9eccc2e51401a6477d71c9590e5a2127946479', 'message': '[Queens only] Add --ssh-key argument for overcloud update and upgrade.\n(WIP)\n\nChange-Id: I8db61fe01a986331cc03120e0abadf9462399c17\nResolves: rhbz#1690096\nDepends-On: I63f1e61c960fce7f280b83125bdc31a86c58b930\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-05-29 17:40:16.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86628afe087fbd067e91ac8ad86643bb445ec1ef', 'message': '[Queens only] Add --ssh-key argument for overcloud update and upgrade.\n(WIP)\n\nThe functionality to override the SSH user is deprecated in Rocky. [1]\nThe ability to override the private key is required to resolve\nthe mentioned BugZilla so this patch targets only the Queens branch.\n\n1. https://review.opendev.org/#/c/615829\n\nChange-Id: I8db61fe01a986331cc03120e0abadf9462399c17\nResolves: rhbz#1690096\nDepends-On: I63f1e61c960fce7f280b83125bdc31a86c58b930\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,661294,86628afe087fbd067e91ac8ad86643bb445ec1ef,11,3,3,25877,,,0,"[Queens only] Add --ssh-key argument for overcloud update and upgrade.
(WIP)

The functionality to override the SSH user is deprecated in Rocky. [1]
The ability to override the private key is required to resolve
the mentioned BugZilla so this patch targets only the Queens branch.

1. https://review.opendev.org/#/c/615829

Change-Id: I8db61fe01a986331cc03120e0abadf9462399c17
Resolves: rhbz#1690096
Depends-On: I63f1e61c960fce7f280b83125bdc31a86c58b930
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/661294/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py']",3,59ad17d9b823a665f09f4b8145f0e5a2a931bca8,queens_ssh_key_for_updates," parser.add_argument(""--ssh-key"", dest=""ssh_key"", action=""store"", default=""null"", help=_(""The private ssh key file for connecting "" ""to the overcloud nodes."") ) parsed_args.ssh_key,",,19,2
openstack%2Ftripleo-common~stable%2Fqueens~I63f1e61c960fce7f280b83125bdc31a86c58b930,openstack/tripleo-common,stable/queens,I63f1e61c960fce7f280b83125bdc31a86c58b930,[Queens only] Allow a custom SSH key during updates and upgrades. (WIP),ABANDONED,2019-05-24 13:43:41.000000000,2019-05-31 14:34:13.000000000,,"[{'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-05-24 13:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/83748d7000b8d5d59660676c8b0269469a52b755', 'message': '[Queens-only] Allow a custom SSH key during updates and upgrades. (WIP)\n\nChange-Id: I63f1e61c960fce7f280b83125bdc31a86c58b930\nResolves: rhbz#1690096\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-05-29 17:32:47.000000000', 'files': ['workbooks/package_update.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ea19e5bfbee4852a53a7a7e90ac536f0cba96318', 'message': '[Queens only] Allow a custom SSH key during updates and upgrades. (WIP)\n\nChange-Id: I63f1e61c960fce7f280b83125bdc31a86c58b930\nResolves: rhbz#1690096\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",2,661293,ea19e5bfbee4852a53a7a7e90ac536f0cba96318,13,5,2,25877,,,0,"[Queens only] Allow a custom SSH key during updates and upgrades. (WIP)

Change-Id: I63f1e61c960fce7f280b83125bdc31a86c58b930
Resolves: rhbz#1690096
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/93/661293/2 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/package_update.yaml'],1,83748d7000b8d5d59660676c8b0269469a52b755,queens_ssh_key_for_updates," - private_key check_ssh_key_input: on-success: - get_private_key: <% $.private_key = ""null"" %> ",,5,0
openstack%2Fnova~master~Iea337f73c231db2cb9d9f639b92475daaede6793,openstack/nova,master,Iea337f73c231db2cb9d9f639b92475daaede6793,[ironic] Don't remove instance info twice in destroy,MERGED,2019-05-17 14:30:48.000000000,2019-05-31 14:26:26.000000000,2019-05-30 21:59:11.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14826}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-17 14:30:48.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/060e42b7fd185bf3b827b7aa5c9ab6131f6a21d7', 'message': ""[ironic] Don't remove instance info twice in destroy\n\nDuring teardown, at the end of the ironic virt driver's destroy method,\nwe call _cleanup_deploy, which since\nhttps://review.opendev.org/#/c/563722/ removes instance_info from the\nironic node. Given that we're destroying the node, the instance_info\nwill have been cleared from the node anyway, so we don't need to do\nthis.\n\nFurther, it can cause tear down to fail if automated cleaning is\nenabled in ironic. This happens because ironic prevents updates to nodes\nthat are undergoing a state transition, as is the case during cleaning.\nThe virt driver will retry this request by default every 2 seconds with\n60 attempts. Typically this is not long enough for cleaning to complete,\nso tear down fails with the following error:\n\n  Conflict: Node a00696d5-32ba-475e-9528-59bf11cffea6 can not be updated\n  while a state transition is in progress. (HTTP 409)\n\nThis change skips the instance info update in _cleanup_deploy in the\ncase of tear down.\n\nChange-Id: Iea337f73c231db2cb9d9f639b92475daaede6793\nCloses-Bug: #1815799\n""}]",1,659809,060e42b7fd185bf3b827b7aa5c9ab6131f6a21d7,22,16,1,14826,,,0,"[ironic] Don't remove instance info twice in destroy

During teardown, at the end of the ironic virt driver's destroy method,
we call _cleanup_deploy, which since
https://review.opendev.org/#/c/563722/ removes instance_info from the
ironic node. Given that we're destroying the node, the instance_info
will have been cleared from the node anyway, so we don't need to do
this.

Further, it can cause tear down to fail if automated cleaning is
enabled in ironic. This happens because ironic prevents updates to nodes
that are undergoing a state transition, as is the case during cleaning.
The virt driver will retry this request by default every 2 seconds with
60 attempts. Typically this is not long enough for cleaning to complete,
so tear down fails with the following error:

  Conflict: Node a00696d5-32ba-475e-9528-59bf11cffea6 can not be updated
  while a state transition is in progress. (HTTP 409)

This change skips the instance info update in _cleanup_deploy in the
case of tear down.

Change-Id: Iea337f73c231db2cb9d9f639b92475daaede6793
Closes-Bug: #1815799
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/659809/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,060e42b7fd185bf3b827b7aa5c9ab6131f6a21d7,bug/1815799," mock_cleanup_deploy.assert_called_with(node, instance, network_info, remove_instance_info=False) mock_clean.assert_called_once_with(node, instance, None, remove_instance_info=False) mock_clean.assert_called_once_with(node, instance, None, remove_instance_info=False) @mock.patch.object(ironic_driver.IronicDriver, '_stop_firewall') @mock.patch.object(ironic_driver.IronicDriver, '_unplug_vifs') @mock.patch.object(ironic_driver.IronicDriver, '_cleanup_volume_target_info') @mock.patch.object(cw.IronicClientWrapper, 'call') def test__cleanup_deploy_no_remove_ii(self, mock_call, mock_vol, mock_unvif, mock_stop_fw): # TODO(TheJulia): This REALLY should be updated to cover all of the # calls that take place. node = ironic_utils.get_test_node(driver='fake') instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.driver._cleanup_deploy(node, instance, remove_instance_info=False) mock_vol.assert_called_once_with(instance) mock_unvif.assert_called_once_with(node, instance, None) mock_stop_fw.assert_called_once_with(instance, None) self.assertFalse(mock_call.called) "," mock_cleanup_deploy.assert_called_with(node, instance, network_info) mock_clean.assert_called_once_with(node, instance, None) mock_clean.assert_called_once_with(node, instance, None)",34,6
openstack%2Fneutron-fwaas~master~Ia5454a92a46fc4fab981fd0b7730244f692504d6,openstack/neutron-fwaas,master,Ia5454a92a46fc4fab981fd0b7730244f692504d6,Update hacking version,MERGED,2019-01-04 17:48:33.000000000,2019-05-31 14:23:50.000000000,2019-05-31 14:23:50.000000000,"[{'_account_id': 841}, {'_account_id': 5367}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28614}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-04 17:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e321444b517b299df91b143ba19b3b7ed8938633', 'message': 'Update hacking version to latest\n\nChange-Id: Ia5454a92a46fc4fab981fd0b7730244f692504d6\n'}, {'number': 2, 'created': '2019-02-17 09:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/29d20357b26e921003d1bf1c0fe95212ce40a1b2', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: Ia5454a92a46fc4fab981fd0b7730244f692504d6\n'}, {'number': 3, 'created': '2019-02-20 04:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a7da95a03057c0e6583651e185d6287dfd1bfd8f', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: Ia5454a92a46fc4fab981fd0b7730244f692504d6\n'}, {'number': 4, 'created': '2019-05-23 04:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/bb672d01c19246dea63169f94f2ff75fdb15ecc9', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: Ia5454a92a46fc4fab981fd0b7730244f692504d6\n'}, {'number': 5, 'created': '2019-05-31 06:43:41.000000000', 'files': ['neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/extensions/firewall_v2.py', 'neutron_fwaas/extensions/firewall.py', 'test-requirements.txt', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/45a36b8ba8cbf04752ace4e00a535005f6b2a6e9', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: Ia5454a92a46fc4fab981fd0b7730244f692504d6\n'}]",2,628647,45a36b8ba8cbf04752ace4e00a535005f6b2a6e9,29,9,5,27781,,,0,"Update hacking version

Use latest release 1.1.0 and compatible changes w.r.t pep8

Change-Id: Ia5454a92a46fc4fab981fd0b7730244f692504d6
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/47/628647/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e321444b517b299df91b143ba19b3b7ed8938633,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fkolla-ansible~stable%2Frocky~I7f966ff749ea37620f1bde7019a598cb9505fa45,openstack/kolla-ansible,stable/rocky,I7f966ff749ea37620f1bde7019a598cb9505fa45,Set external web URL for Prometheus services,MERGED,2019-04-24 20:31:17.000000000,2019-05-31 14:16:06.000000000,2019-05-31 14:16:05.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-24 20:31:17.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-server.json.j2', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c418f7458c8b4084332ed0338a23252f330629cf', 'message': 'Set external web URL for Prometheus services\n\nThis change ensures that URLs returned from these services reference\nthe HAProxy endpoint, rather than the host on which the service is\nrunning.\n\nCloses-Bug: #1825150\nChange-Id: I7f966ff749ea37620f1bde7019a598cb9505fa45\n(cherry picked from commit 9d495504be57b30343f3f4c64f86413edfb962ad)\n'}]",0,655563,c418f7458c8b4084332ed0338a23252f330629cf,9,4,1,17669,,,0,"Set external web URL for Prometheus services

This change ensures that URLs returned from these services reference
the HAProxy endpoint, rather than the host on which the service is
running.

Closes-Bug: #1825150
Change-Id: I7f966ff749ea37620f1bde7019a598cb9505fa45
(cherry picked from commit 9d495504be57b30343f3f4c64f86413edfb962ad)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/655563/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prometheus/templates/prometheus-server.json.j2', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2']",2,c418f7458c8b4084332ed0338a23252f330629cf,bug/1825150-stable/stein-stable/rocky," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_port }} --web.external-url={{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ prometheus_alertmanager_port }} {% if groups[""prometheus-alertmanager""] | length > 1 %} --mesh.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --mesh.peer={{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"","," ""command"": ""/opt/prometheus_alertmanager/alertmanager --config.file=/etc/prometheus/alertmanager.yml --web.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_port }}{% if groups[""prometheus-alertmanager""] | length > 1 %} --mesh.listen-address={{ api_interface_address }}:{{ prometheus_alertmanager_cluster_port }} {% for host in groups[""prometheus-alertmanager""] %} --mesh.peer={{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ hostvars[host]['prometheus_alertmanager_cluster_port'] }}{% endfor %}{% endif %} --storage.path /var/lib/prometheus"",",2,2
openstack%2Fcharm-ceph-osd~master~I708b33cafc8818af7e3c63a7fa80c02978e66f65,openstack/charm-ceph-osd,master,I708b33cafc8818af7e3c63a7fa80c02978e66f65,Notify ceph-mon relations on version upgrade.,MERGED,2019-05-20 19:35:38.000000000,2019-05-31 14:14:29.000000000,2019-05-31 14:14:29.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30218}]","[{'number': 1, 'created': '2019-05-20 19:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/af02f8ce0384956b1c6571b0563e512b647ed07a', 'message': 'Notify ceph-mon relations on version upgrade.\n\nThis notification is added to allow ceph-mon to know\nwhen ceph-osd units have upgraded in order to run\npost-upgrade commands (required for certain upgrades).\n\n- Add notify_mon_of_upgrade function that sets\nnew_ceph_relation to release version.\n\n- Refactor some hard coded strings to vars\n\nChange-Id: I708b33cafc8818af7e3c63a7fa80c02978e66f65\nPartial-Bug: #1828630\n'}, {'number': 2, 'created': '2019-05-21 19:35:21.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/28ca5957b3eb7f8fc651f51e6f6d30e166bbea59', 'message': 'Notify ceph-mon relations on version upgrade.\n\nThis notification is added to allow ceph-mon to know\nwhen ceph-osd units have upgraded in order to run\npost-upgrade commands (required for certain upgrades).\n\n- Add notify_mon_of_upgrade function that sets\nceph_release to release version.\n\n- Refactor some hard coded strings to vars\n\n- Set relation ceph_release when setting bootstrapped-osd\n\nChange-Id: I708b33cafc8818af7e3c63a7fa80c02978e66f65\nPartial-Bug: #1828630\n'}]",3,660199,28ca5957b3eb7f8fc651f51e6f6d30e166bbea59,13,4,2,30218,,,0,"Notify ceph-mon relations on version upgrade.

This notification is added to allow ceph-mon to know
when ceph-osd units have upgraded in order to run
post-upgrade commands (required for certain upgrades).

- Add notify_mon_of_upgrade function that sets
ceph_release to release version.

- Refactor some hard coded strings to vars

- Set relation ceph_release when setting bootstrapped-osd

Change-Id: I708b33cafc8818af7e3c63a7fa80c02978e66f65
Partial-Bug: #1828630
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/99/660199/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_upgrade.py']",2,af02f8ce0384956b1c6571b0563e512b647ed07a,bug/1828630,"from ceph_hooks import check_for_upgrade, notify_mon_of_upgrade @patch('ceph_hooks.notify_mon_of_upgrade') dirs_need_ownership_update, notify_mon_of_upgrade): version_pre = 'firefly' version_post = 'hammer' version.side_effect = [version_pre, version_post] notify_mon_of_upgrade.assert_called_once_with(version_post) @patch('ceph_hooks.notify_mon_of_upgrade') dirs_need_ownership_update, notify_mon_of_upgrade): version_pre_and_post = 'jewel' version.side_effect = [version_pre_and_post, version_pre_and_post] notify_mon_of_upgrade.assert_called_once_with(version_pre_and_post) class UpgradeUtilTestCase(CharmTestCase): @patch('ceph_hooks.relation_ids') @patch('ceph_hooks.log') @patch('ceph_hooks.relation_set') def test_notify_mon_of_upgrade(self, relation_set, log, relation_ids): relation_ids_to_check = ['1', '2', '3'] relation_ids.return_value = relation_ids_to_check release = 'luminous' notify_mon_of_upgrade(release) self.assertEqual(log.call_count, len(relation_ids_to_check)) relation_ids.assert_called_once_with('mon') set_dict = dict(new_ceph_release=release) relation_set_calls = [ call(relation_id=relation_ids_to_check[0], relation_settings=set_dict), call(relation_id=relation_ids_to_check[1], relation_settings=set_dict), call(relation_id=relation_ids_to_check[2], relation_settings=set_dict), ] relation_set.assert_has_calls(relation_set_calls)","from ceph_hooks import check_for_upgrade dirs_need_ownership_update): version.side_effect = ['firefly', 'hammer'] dirs_need_ownership_update): version.side_effect = ['jewel', 'jewel']",48,5
openstack%2Fansible-role-tripleo-modify-image~master~Id12743c0cf83d054189df10cad2c8abec57961e8,openstack/ansible-role-tripleo-modify-image,master,Id12743c0cf83d054189df10cad2c8abec57961e8,"Revert ""yum_update.sh improvements""",MERGED,2019-05-31 09:03:54.000000000,2019-05-31 14:14:22.000000000,2019-05-31 14:14:22.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 4978}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13039}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22722}]","[{'number': 1, 'created': '2019-05-31 09:03:54.000000000', 'files': ['files/yum_update.sh'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/f33cad74435565f6c982f462859c3e9ed8f54fdd', 'message': 'Revert ""yum_update.sh improvements""\n\nContainers no longer updated in CentOS7 now,\nas yum repoquery is not a command.\n\nThis reverts commit c475c8394a033e77134ce40dfa8428d17ea7f3d6.\n\nChange-Id: Id12743c0cf83d054189df10cad2c8abec57961e8\n'}]",0,662414,f33cad74435565f6c982f462859c3e9ed8f54fdd,13,10,1,13861,,,0,"Revert ""yum_update.sh improvements""

Containers no longer updated in CentOS7 now,
as yum repoquery is not a command.

This reverts commit c475c8394a033e77134ce40dfa8428d17ea7f3d6.

Change-Id: Id12743c0cf83d054189df10cad2c8abec57961e8
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/14/662414/1 && git format-patch -1 --stdout FETCH_HEAD,['files/yum_update.sh'],1,f33cad74435565f6c982f462859c3e9ed8f54fdd,yum_update,"if [ -n ""$1"" ] && command -v repoquery >/dev/null 2>&1; then available_versions=$(repoquery --provides --disablerepo='*' --enablerepo=$1 -a | sort)PKG=""$(command -v dnf || command -v yum)""else:","PKG=""$(command -v dnf || command -v yum)"" if [ -n ""$1"" ] && $PKG repoquery >/dev/null 2>&1; then available_versions=$($PKG repoquery --quiet --provides --disablerepo='*' --enablerepo=$1 -a | sort)else",4,5
openstack%2Fcharms.ceph~master~I2dfab7404b72e314625ea554ee64595c5e26f3c6,openstack/charms.ceph,master,I2dfab7404b72e314625ea554ee64595c5e26f3c6,Updates to support Ceph Nautilus release,MERGED,2019-05-31 09:13:53.000000000,2019-05-31 14:07:50.000000000,2019-05-31 14:07:49.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 09:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/44d6d23d3b86d7951745b4ddf0237b6c37bc9557', 'message': ""Updates to support Ceph Nautilus release\n\nFor Nautilus the Ceph monitors automatically create the admin and\nbootstrap keyrings as part of cluster formation so the charm just\nneeds to retrieve the admin keyring after the monitors have been\nbootstrapped.\n\nAs the bootstrap process is two quite distinct steps, this change\nrefactors the bootstrap_monitor_cluster function into two discrete\nfunctions - one to create and start the ceph monitor, and a second\nto create the ceph keyrings on the local filesystem.\n\nAs the osd-bootstrap keyring is not actually created on disk from\nNautilus onwards, the 'is_bootstrapped' function now looks for the\nclient.admin keyring across all Ceph releases - this should be\nbackwards compatible.\n\nChange-Id: I2dfab7404b72e314625ea554ee64595c5e26f3c6\n""}, {'number': 2, 'created': '2019-05-31 09:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/f08ef8cd54ac41418fbc305e73d86f572bc0e88c', 'message': ""Updates to support Ceph Nautilus release\n\nFor Nautilus the Ceph monitors automatically create the admin and\nbootstrap keyrings as part of cluster formation so the charm just\nneeds to retrieve the admin keyring after the monitors have been\nbootstrapped.\n\nAs the bootstrap process is two quite distinct steps, this change\nrefactors the bootstrap_monitor_cluster function into two discrete\nfunctions - one to create and start the ceph monitor, and a second\nto create the ceph keyrings on the local filesystem.\n\nAs the osd-bootstrap keyring is not actually created on disk from\nNautilus onwards, the 'is_bootstrapped' function now looks for the\nclient.admin keyring across all Ceph releases - this should be\nbackwards compatible.\n\nThis change also adds the standing data for upgrade paths to\nNautilus, however this is as yet untested.\n\nChange-Id: I2dfab7404b72e314625ea554ee64595c5e26f3c6\n""}, {'number': 3, 'created': '2019-05-31 09:45:09.000000000', 'files': ['unit_tests/test_utils.py', 'ceph/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/f29aba7672ee8f17990700b3a792304a5a5ceaf5', 'message': ""Updates to support Ceph Nautilus release\n\nFor Nautilus the Ceph monitors automatically create the admin and\nbootstrap keyrings as part of cluster formation so the charm just\nneeds to retrieve the admin keyring after the monitors have been\nbootstrapped.\n\nAs the bootstrap process is two quite distinct steps, this change\nrefactors the bootstrap_monitor_cluster function into two discrete\nfunctions - one to create and start the ceph monitor, and a second\nto create the ceph keyrings on the local filesystem.\n\nAs the osd-bootstrap keyring is not actually created on disk from\nNautilus onwards, the 'is_bootstrapped' function now looks for the\nclient.admin keyring across all Ceph releases - this should be\nbackwards compatible.\n\nThis change also adds the standing data for upgrade paths to\nNautilus, however this is as yet untested.\n\nChange-Id: I2dfab7404b72e314625ea554ee64595c5e26f3c6\n""}]",0,662415,f29aba7672ee8f17990700b3a792304a5a5ceaf5,10,3,3,935,,,0,"Updates to support Ceph Nautilus release

For Nautilus the Ceph monitors automatically create the admin and
bootstrap keyrings as part of cluster formation so the charm just
needs to retrieve the admin keyring after the monitors have been
bootstrapped.

As the bootstrap process is two quite distinct steps, this change
refactors the bootstrap_monitor_cluster function into two discrete
functions - one to create and start the ceph monitor, and a second
to create the ceph keyrings on the local filesystem.

As the osd-bootstrap keyring is not actually created on disk from
Nautilus onwards, the 'is_bootstrapped' function now looks for the
client.admin keyring across all Ceph releases - this should be
backwards compatible.

This change also adds the standing data for upgrade paths to
Nautilus, however this is as yet untested.

Change-Id: I2dfab7404b72e314625ea554ee64595c5e26f3c6
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/15/662415/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_utils.py', 'ceph/utils.py', 'tox.ini']",3,44d6d23d3b86d7951745b4ddf0237b6c37bc9557,nautilus-support,"envlist = pep8,py27,py36,py37[testenv:py37] basepython = python3.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ","envlist = pep8,py27,py36",248,83
openstack%2Freleases~master~I0a0efa9f2f9f353696ab07abbb7174cb3c94a027,openstack/releases,master,I0a0efa9f2f9f353696ab07abbb7174cb3c94a027,Oslo Queens releases for 2019-05-29,MERGED,2019-05-29 20:04:21.000000000,2019-05-31 14:04:11.000000000,2019-05-31 14:04:10.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 20:04:21.000000000', 'files': ['deliverables/queens/oslo.messaging.yaml', 'deliverables/queens/oslo.cache.yaml', 'deliverables/queens/oslo.db.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6bc56bb7b95363fbe0d0c2892ac37216c1fdb950', 'message': 'Oslo Queens releases for 2019-05-29\n\nChange-Id: I0a0efa9f2f9f353696ab07abbb7174cb3c94a027\n'}]",1,662083,6bc56bb7b95363fbe0d0c2892ac37216c1fdb950,8,4,1,6928,,,0,"Oslo Queens releases for 2019-05-29

Change-Id: I0a0efa9f2f9f353696ab07abbb7174cb3c94a027
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/662083/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/oslo.messaging.yaml', 'deliverables/queens/oslo.cache.yaml', 'deliverables/queens/oslo.db.yaml']",3,6bc56bb7b95363fbe0d0c2892ac37216c1fdb950,oslo-queens, - projects: - hash: 7d9e9a894b23a418bbb9597e1f43bf8f5803d1d0 repo: openstack/oslo.db version: 4.33.4,,12,0
openstack%2Fopenstack-ansible-os_cinder~master~I9bbfe5fb6e1c9f235ec4177ee3f0eedab2afd4e4,openstack/openstack-ansible-os_cinder,master,I9bbfe5fb6e1c9f235ec4177ee3f0eedab2afd4e4,db_setup: refactor database setup to a common file,MERGED,2019-05-30 19:13:09.000000000,2019-05-31 13:54:30.000000000,2019-05-31 13:54:30.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 19:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/fc0386338c324ad09ddfa986dbd583f8789057fe', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I9bbfe5fb6e1c9f235ec4177ee3f0eedab2afd4e4\n'}, {'number': 2, 'created': '2019-05-30 19:50:19.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/cinder_db_sync.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/0f4b8f276007d287c46a3c032796710cf002f6a9', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I9bbfe5fb6e1c9f235ec4177ee3f0eedab2afd4e4\n'}]",0,662301,0f4b8f276007d287c46a3c032796710cf002f6a9,8,3,2,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: I9bbfe5fb6e1c9f235ec4177ee3f0eedab2afd4e4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/01/662301/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/cinder_db_sync.yml']",3,fc0386338c324ad09ddfa986dbd583f8789057fe,osa/db-refactor,,"- name: Create DB for service mysql_db: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ cinder_galera_address }}"" name: ""{{ cinder_galera_database }}"" state: ""present"" delegate_to: ""{{ cinder_db_setup_host }}"" no_log: True - name: Grant access to the DB for the service mysql_user: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ cinder_galera_address }}"" name: ""{{ cinder_galera_user }}"" password: ""{{ cinder_container_mysql_password }}"" host: ""{{ item }}"" state: ""present"" priv: ""{{ cinder_galera_database }}.*:ALL"" delegate_to: ""{{ cinder_db_setup_host }}"" with_items: - ""localhost"" - ""%"" no_log: True ",76,46
openstack%2Freleases~master~I4dfae890b1d1a526f8427f6a26122ba717ad1d08,openstack/releases,master,I4dfae890b1d1a526f8427f6a26122ba717ad1d08,Clarify documentation,ABANDONED,2019-03-04 21:01:34.000000000,2019-05-31 13:53:34.000000000,,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-04 21:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f0999dc2a1445339851dbaa80f46fbea03ee5b2e', 'message': ""Clarify documentation\n\nThe focus nowadays is not to track who hasn't released at least\ntwice, but to focus on who hasn't released.\n\nA clarification of the documentation is therefore necessary.\n\nChange-Id: I4dfae890b1d1a526f8427f6a26122ba717ad1d08\n""}, {'number': 2, 'created': '2019-03-04 21:02:06.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/97253e4a2d50daa350fad569f391593b1a1b54b0', 'message': ""Clarify documentation\n\nThe focus nowadays is not to track who hasn't released at least\ntwice, but to focus on who hasn't released.\n\nA clarification of the documentation is therefore necessary.\n\nChange-Id: I4dfae890b1d1a526f8427f6a26122ba717ad1d08\n""}]",1,640867,97253e4a2d50daa350fad569f391593b1a1b54b0,8,4,2,17068,,,0,"Clarify documentation

The focus nowadays is not to track who hasn't released at least
twice, but to focus on who hasn't released.

A clarification of the documentation is therefore necessary.

Change-Id: I4dfae890b1d1a526f8427f6a26122ba717ad1d08
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/640867/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,f0999dc2a1445339851dbaa80f46fbea03ee5b2e,cycle_with_rc-list_only_unreleased_at_m3, but did not release. That patch will be used as a base .. code-block:: console tox -e venv -- list-deliverables --type=client-library --unreleased --series {seriesname} , but did not release since milestone-2. That patch will be used as a base,5,1
openstack%2Fnova~stable%2Fstein~Icd7fcb87a09c35a13e4e14235feb30a289d22778,openstack/nova,stable/stein,Icd7fcb87a09c35a13e4e14235feb30a289d22778,Block swap volume on volumes with >1 rw attachment,MERGED,2019-05-30 20:59:55.000000000,2019-05-31 13:48:54.000000000,2019-05-31 13:48:54.000000000,"[{'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-30 20:59:55.000000000', 'files': ['api-ref/source/os-volume-attachments.inc', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/volumes.py', 'nova/compute/api.py', 'releasenotes/notes/bug-1775418-754fc50261f5d7c3.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b21d1067a071ab17758068dfca5cd2ebd29d868', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nIf we're swapping from a multiattach volume that has more than one\nread/write attachment, another server on the secondary attachment could\nbe writing to the volume which is not getting copied into the volume to\nwhich we're swapping, so we could have data loss during the swap.\n\nThis change does volume read/write attachment counting for the volume\nwe're swapping from and if there is more than one read/write attachment\non the volume, the swap volume operation fails with a 400 BadRequest\nerror.\n\nDepends-On: https://review.openstack.org/573025/\nCloses-Bug: #1775418\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n(cherry picked from commit 5a1d159d142997bb4288d4bf86d4e144334905cd)\n""}]",0,662331,9b21d1067a071ab17758068dfca5cd2ebd29d868,12,5,1,6873,,,0,"Block swap volume on volumes with >1 rw attachment

If we're swapping from a multiattach volume that has more than one
read/write attachment, another server on the secondary attachment could
be writing to the volume which is not getting copied into the volume to
which we're swapping, so we could have data loss during the swap.

This change does volume read/write attachment counting for the volume
we're swapping from and if there is more than one read/write attachment
on the volume, the swap volume operation fails with a 400 BadRequest
error.

Depends-On: https://review.openstack.org/573025/
Closes-Bug: #1775418
Change-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778
(cherry picked from commit 5a1d159d142997bb4288d4bf86d4e144334905cd)
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/662331/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/os-volume-attachments.inc', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/volumes.py', 'nova/compute/api.py', 'releasenotes/notes/bug-1775418-754fc50261f5d7c3.yaml']",7,9b21d1067a071ab17758068dfca5cd2ebd29d868,bug/1775418,"--- fixes: - | The `os-volume_attachments`_ update API, commonly referred to as the swap volume API will now return a ``400`` (BadRequest) error when attempting to swap from a multi attached volume with more than one active read/write attachment resolving `bug #1775418`_. .. _os-volume_attachments: https://developer.openstack.org/api-ref/compute/?expanded=update-a-volume-attachment-detail .. _bug #1775418: https://launchpad.net/bugs/1775418 ",,207,1
openstack%2Fopenstack-ansible-os_glance~master~If3ac6a4e7002740c8409aef6d378d88bc287a9e7,openstack/openstack-ansible-os_glance,master,If3ac6a4e7002740c8409aef6d378d88bc287a9e7,db_setup: refactor database setup to a common file,MERGED,2019-05-03 20:33:54.000000000,2019-05-31 13:48:08.000000000,2019-05-31 13:48:08.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-05-03 20:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/a582b4e4b1801f1a3986b8293f059eae9f69641a', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: If3ac6a4e7002740c8409aef6d378d88bc287a9e7\n'}, {'number': 2, 'created': '2019-05-21 13:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/fcddeca164d5c2ca95babeaf88f2f52f247f1cb5', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: If3ac6a4e7002740c8409aef6d378d88bc287a9e7\n'}, {'number': 3, 'created': '2019-05-21 22:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/35278921ae3805e71b6734653a9e498480707535', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: If3ac6a4e7002740c8409aef6d378d88bc287a9e7\n'}, {'number': 4, 'created': '2019-05-22 01:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/c1610886134cfb32f2e674b22503cec9d8b0d180', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: If3ac6a4e7002740c8409aef6d378d88bc287a9e7\n'}, {'number': 5, 'created': '2019-05-22 02:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/331c0aa6bc93f8b055fd366707d1f900ecc30ce7', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: If3ac6a4e7002740c8409aef6d378d88bc287a9e7\n'}, {'number': 6, 'created': '2019-05-22 04:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/aa19022ea87653c233aaecca1ae9342e30ba9ae2', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nDepends-On: https://review.opendev.org/660558\n\nChange-Id: If3ac6a4e7002740c8409aef6d378d88bc287a9e7\n'}, {'number': 7, 'created': '2019-05-28 18:30:14.000000000', 'files': ['tasks/main.yml', 'tasks/glance_db_setup.yml', 'tasks/db_setup.yml', 'tasks/glance_db_sync.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/a9a9488ef277292e90e17db75081e33a2f562d7a', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nDepends-On: https://review.opendev.org/660558\n\nChange-Id: If3ac6a4e7002740c8409aef6d378d88bc287a9e7\n'}]",6,657029,a9a9488ef277292e90e17db75081e33a2f562d7a,28,7,7,1004,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Depends-On: https://review.opendev.org/660558

Change-Id: If3ac6a4e7002740c8409aef6d378d88bc287a9e7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/29/657029/7 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/glance_db_setup.yml', 'tasks/db_setup.yml']",3,a582b4e4b1801f1a3986b8293f059eae9f69641a,osa/db-refactor,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://git.openstack.org/cgit/openstack/openstack-ansible-tests/tree/sync/tasks/db_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup Database Service (MariaDB) delegate_to: ""{{ _oslodb_setup_host }}"" tags: - common-mariadb block: - name: Create database for service mysql_db: name: ""{{ item.name }}"" loop: ""{{ _oslodb_databases }}"" - name: Grant access to the database for the service mysql_user: name: ""{{ item.1.username }}"" password: ""{{ item.1.password }}"" host: ""{{ item.1.host | default('%') }}"" priv: ""{{ item.0.name }}.*:{{ item.1.priv | default('ALL') }}"" loop: ""{{ _oslodb_database | subelements('users') }}""",,59,31
openstack%2Fnova~master~I17293cf1259b83ad0ac9c5896d121df4214cf12f,openstack/nova,master,I17293cf1259b83ad0ac9c5896d121df4214cf12f,Remove unnecessary wrapper,MERGED,2019-04-09 16:15:52.000000000,2019-05-31 13:44:52.000000000,2019-05-31 13:44:51.000000000,"[{'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-09 16:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3d467310dda00d8deaf545dc312a78c480e18cf', 'message': 'Remove unnecessary wrapper\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I17293cf1259b83ad0ac9c5896d121df4214cf12f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-04-16 08:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3abd39ca22b9e135b2e74b892c024c032381524c', 'message': 'Remove unnecessary wrapper\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I17293cf1259b83ad0ac9c5896d121df4214cf12f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-04-16 14:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b945508a2ee0dd57e3795fc781c1176e6199d087', 'message': 'Remove unnecessary wrapper\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I17293cf1259b83ad0ac9c5896d121df4214cf12f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2019-04-16 17:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/210bb855e2652e828065b6938b25a85fcedd6147', 'message': 'Remove unnecessary wrapper\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I17293cf1259b83ad0ac9c5896d121df4214cf12f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2019-04-29 16:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c96f14e11444604848b8342cb87d0f675d65b2be', 'message': 'Remove unnecessary wrapper\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I17293cf1259b83ad0ac9c5896d121df4214cf12f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2019-05-01 16:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdf50531304cd62c200ae962e6d65c41b699cb3f', 'message': 'Remove unnecessary wrapper\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I17293cf1259b83ad0ac9c5896d121df4214cf12f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2019-05-02 14:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50e3138cb308797de60b9b4db596ac08ec1e10dc', 'message': 'Remove unnecessary wrapper\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I17293cf1259b83ad0ac9c5896d121df4214cf12f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 8, 'created': '2019-05-22 10:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e05a213e9a0e0e0b2310a7e31152caf8356030f6', 'message': 'Remove unnecessary wrapper\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I17293cf1259b83ad0ac9c5896d121df4214cf12f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 9, 'created': '2019-05-29 16:23:55.000000000', 'files': ['nova/rpc.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7166482a719bb16c8a3150b11bf5468edcc8d470', 'message': 'Remove unnecessary wrapper\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I17293cf1259b83ad0ac9c5896d121df4214cf12f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,651308,7166482a719bb16c8a3150b11bf5468edcc8d470,91,17,9,15334,,,0,"Remove unnecessary wrapper

Part of blueprint remove-cells-v1

Change-Id: I17293cf1259b83ad0ac9c5896d121df4214cf12f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/651308/9 && git format-patch -1 --stdout FETCH_HEAD,['nova/rpc.py'],1,e3d467310dda00d8deaf545dc312a78c480e18cf,bp/remove-cells-v1, self.serializer = default_client.serializer," # NOTE(melwitt): Cells v1 does its own serialization and won't # have a serializer available on the client object. self.serializer = getattr(default_client, 'serializer', None)",1,3
openstack%2Fopenstack-ansible-os_neutron~master~Icfbd5c17da0c1854e6aa15094122bb911665a95e,openstack/openstack-ansible-os_neutron,master,Icfbd5c17da0c1854e6aa15094122bb911665a95e,db_setup: refactor database setup to a common file,MERGED,2019-05-30 20:47:00.000000000,2019-05-31 13:43:16.000000000,2019-05-31 13:43:16.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 20:47:00.000000000', 'files': ['tasks/main.yml', 'tasks/neutron_db_setup.yml', 'tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b045ba329a758d99dd3fdfc36374b515e818bf73', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: Icfbd5c17da0c1854e6aa15094122bb911665a95e\n'}]",0,662329,b045ba329a758d99dd3fdfc36374b515e818bf73,7,3,1,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: Icfbd5c17da0c1854e6aa15094122bb911665a95e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/29/662329/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/neutron_db_setup.yml', 'tasks/db_setup.yml']",3,b045ba329a758d99dd3fdfc36374b515e818bf73,osa/db-refactor,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://git.openstack.org/cgit/openstack/openstack-ansible-tests/tree/sync/tasks/db_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup Database Service (MariaDB) delegate_to: ""{{ _oslodb_setup_host }}"" tags: - common-mariadb block: - name: Create database for service mysql_db: name: ""{{ item.name }}"" loop: ""{{ _oslodb_databases }}"" - name: Grant access to the database for the service mysql_user: name: ""{{ item.1.username }}"" password: ""{{ item.1.password }}"" host: ""{{ item.1.host | default('%') }}"" priv: ""{{ item.0.name }}.*:{{ item.1.priv | default('ALL') }}"" append_privs: yes loop: ""{{ _oslodb_databases | subelements('users') }}"" no_log: true ",,75,47
openstack%2Fpuppet-pacemaker~master~I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b,openstack/puppet-pacemaker,master,I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b,Add new pcs 0.10 compatible remote addition implementation,MERGED,2019-05-20 12:56:32.000000000,2019-05-31 13:42:15.000000000,2019-05-31 13:42:14.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-05-20 12:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/14506195dcf9eaccabbc861203950c0f4bf42ddf', 'message': 'WIP pcs 0.10 new remote auth rework\n\nChange-Id: I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b\n'}, {'number': 2, 'created': '2019-05-20 13:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/3a35e75355edcc1665be38274ef5b91ad9f55468', 'message': 'WIP pcs 0.10 new remote auth rework\n\nChange-Id: I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b\n'}, {'number': 3, 'created': '2019-05-21 10:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/04262ff46a3e039e921f9018d96fdffa21663429', 'message': 'WIP pcs 0.10 new remote auth rework\n\nChange-Id: I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b\n'}, {'number': 4, 'created': '2019-05-23 05:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/632af6185d08a1bf55d21f74cb728c06da8c9ce9', 'message': 'WIP Add new pcs 0.10 compatible remote addition implementation\n\nSmoketested this and correctly get remotes working on pcmk2.0/pcs\n0.10.x:\n[root@controller-0 galera-bundle-1]# pcs status\nCluster name: tripleo_cluster\nStack: corosync\nCurrent DC: controller-1 (version 2.0.1-4.el8-0eb7991564) - partition with quorum\nLast updated: Thu May 23 05:52:33 2019\nLast change: Tue May 21 14:20:14 2019 by root via cibadmin on controller-0\n\n17 nodes configured\n72 resources configured\n\nOnline: [ controller-0 controller-1 controller-2 ]\nRemoteOnline: [ compute-0 compute-1 ]\n\nFull list of resources:\n\n compute-0      (ocf::pacemaker:remote):        Started controller-0\n compute-1      (ocf::pacemaker:remote):        Started controller-1\n\nStill need to review the code one more time and then test the following:\nA) re-deploy idempotency\nB) Error cases\n\nChange-Id: I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b\n'}, {'number': 5, 'created': '2019-05-23 06:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/c4ae2803dd4cdfb950b88c422f504fe4b11f4490', 'message': 'WIP Add new pcs 0.10 compatible remote addition implementation\n\nSmoketested this and correctly get remotes working on pcmk2.0/pcs\n0.10.x:\n[root@controller-0 galera-bundle-1]# pcs status\nCluster name: tripleo_cluster\nStack: corosync\nCurrent DC: controller-1 (version 2.0.1-4.el8-0eb7991564) - partition with quorum\nLast updated: Thu May 23 05:52:33 2019\nLast change: Tue May 21 14:20:14 2019 by root via cibadmin on controller-0\n\n17 nodes configured\n72 resources configured\n\nOnline: [ controller-0 controller-1 controller-2 ]\nRemoteOnline: [ compute-0 compute-1 ]\n\nFull list of resources:\n\n compute-0      (ocf::pacemaker:remote):        Started controller-0\n compute-1      (ocf::pacemaker:remote):        Started controller-1\n\nStill need to review the code one more time and then test the following:\nA) re-deploy idempotency\nB) Error cases\n\nChange-Id: I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b\n'}, {'number': 6, 'created': '2019-05-30 12:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/986388d3eea33dfd419c74ccddef16ad5d86634f', 'message': 'Add new pcs 0.10 compatible remote addition implementation\n\nNew pcs 0.10 needs to implement remotes addition in a completely\ndifferent way. It is not sufficient anymore to just create the\nocf::pacemaker::remote resource and make sure that pacemaker_remote is\nup and running with the same authkey on all nodes. Now we\nneed to setup pcsd on all nodes (remotes and controllers), setup the\nhacluster user and then do a pcs cluster remote-add command.\n\nWe do this only when pcs 0.10 is detected in order to maintain\nthe old proven behaviour on pcs 0.9x.\n\nTested this on stein + rhel8 correctly get remotes working on an IHA\nsetup:\n[root@controller-0 galera-bundle-1]# pcs status\nCluster name: tripleo_cluster\nStack: corosync\nCurrent DC: controller-1 (version 2.0.1-4.el8-0eb7991564) - partition with quorum\nLast updated: Thu May 23 05:52:33 2019\nLast change: Tue May 21 14:20:14 2019 by root via cibadmin on controller-0\n\n17 nodes configured\n72 resources configured\n\nOnline: [ controller-0 controller-1 controller-2 ]\nRemoteOnline: [ compute-0 compute-1 ]\n\nFull list of resources:\n\n compute-0      (ocf::pacemaker:remote):        Started controller-0\n compute-1      (ocf::pacemaker:remote):        Started controller-1\n\nAlso tested on qiqueens SP13 to make sure no regressions in the old codepaths\nare introduced. Additionally tested a redeploy on stein to make sure\nidempotency is preserved.\n\nChange-Id: I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b\n'}, {'number': 7, 'created': '2019-05-31 05:45:08.000000000', 'files': ['manifests/corosync.pp', 'lib/puppet/provider/pcmk_remote/default.rb', 'lib/puppet/type/pcmk_remote.rb', 'manifests/remote.pp', 'manifests/resource/remote.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/fde568564d43c78bf2828d3c981d5cc685fb3369', 'message': 'Add new pcs 0.10 compatible remote addition implementation\n\nNew pcs 0.10 needs to implement remotes addition in a completely\ndifferent way. It is not sufficient anymore to just create the\nocf::pacemaker::remote resource and make sure that pacemaker_remote is\nup and running with the same authkey on all nodes. Now we\nneed to setup pcsd on all nodes (remotes and controllers), setup the\nhacluster user and then do a pcs cluster remote-add command.\n\nWe do this only when pcs 0.10 is detected in order to maintain\nthe old proven behaviour on pcs 0.9x.\n\nTested this on stein + rhel8 correctly get remotes working on an IHA\nsetup:\n[root@controller-0 galera-bundle-1]# pcs status\nCluster name: tripleo_cluster\nStack: corosync\nCurrent DC: controller-1 (version 2.0.1-4.el8-0eb7991564) - partition with quorum\nLast updated: Thu May 23 05:52:33 2019\nLast change: Tue May 21 14:20:14 2019 by root via cibadmin on controller-0\n\n17 nodes configured\n72 resources configured\n\nOnline: [ controller-0 controller-1 controller-2 ]\nRemoteOnline: [ compute-0 compute-1 ]\n\nFull list of resources:\n\n compute-0      (ocf::pacemaker:remote):        Started controller-0\n compute-1      (ocf::pacemaker:remote):        Started controller-1\n\nAlso tested on queens to make sure no regressions in the old codepaths\nare introduced. Additionally tested a redeploy on stein to make sure\nidempotency is preserved.\n\nChange-Id: I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b\n'}]",2,660110,fde568564d43c78bf2828d3c981d5cc685fb3369,26,6,7,20172,,,0,"Add new pcs 0.10 compatible remote addition implementation

New pcs 0.10 needs to implement remotes addition in a completely
different way. It is not sufficient anymore to just create the
ocf::pacemaker::remote resource and make sure that pacemaker_remote is
up and running with the same authkey on all nodes. Now we
need to setup pcsd on all nodes (remotes and controllers), setup the
hacluster user and then do a pcs cluster remote-add command.

We do this only when pcs 0.10 is detected in order to maintain
the old proven behaviour on pcs 0.9x.

Tested this on stein + rhel8 correctly get remotes working on an IHA
setup:
[root@controller-0 galera-bundle-1]# pcs status
Cluster name: tripleo_cluster
Stack: corosync
Current DC: controller-1 (version 2.0.1-4.el8-0eb7991564) - partition with quorum
Last updated: Thu May 23 05:52:33 2019
Last change: Tue May 21 14:20:14 2019 by root via cibadmin on controller-0

17 nodes configured
72 resources configured

Online: [ controller-0 controller-1 controller-2 ]
RemoteOnline: [ compute-0 compute-1 ]

Full list of resources:

 compute-0      (ocf::pacemaker:remote):        Started controller-0
 compute-1      (ocf::pacemaker:remote):        Started controller-1

Also tested on queens to make sure no regressions in the old codepaths
are introduced. Additionally tested a redeploy on stein to make sure
idempotency is preserved.

Change-Id: I852d5d7aa8578c45f0c7215827cedd4ea72c8d0b
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/10/660110/7 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/remote.pp', 'manifests/resource/remote.pp']",2,14506195dcf9eaccabbc861203950c0f4bf42ddf,pcs_newremote," if $::pacemaker::pcs_010 { pcmk_remote { $name: ensure => $ensure, remote_address => $remote_address, reconnect_interval => $reconnect_interval, resource_params => $resource_params, meta_params => $meta_params, op_params => $op_params, tries => $tries, try_sleep => $try_sleep, verify_on_create => $verify_on_create, location_rule => $location_rule, deep_compare => $deep_compare, update_settle_secs => $update_settle_secs, } } else { pcmk_resource { $name: ensure => $ensure, resource_type => 'remote', remote_address => $remote_address, reconnect_interval => $reconnect_interval, resource_params => $resource_params, meta_params => $meta_params, op_params => $op_params, bundle => $bundle, tries => $tries, try_sleep => $try_sleep, verify_on_create => $verify_on_create, location_rule => $location_rule, deep_compare => $deep_compare, update_settle_secs => $update_settle_secs, }"," pcmk_resource { $name: ensure => $ensure, resource_type => 'remote', remote_address => $remote_address, reconnect_interval => $reconnect_interval, resource_params => $resource_params, meta_params => $meta_params, op_params => $op_params, bundle => $bundle, tries => $tries, try_sleep => $try_sleep, verify_on_create => $verify_on_create, location_rule => $location_rule, deep_compare => $deep_compare, update_settle_secs => $update_settle_secs,",109,34
openstack%2Fkolla-ansible~stable%2Fpike~I51d08d5a57453bb8a8459daea73a17b5e800f45f,openstack/kolla-ansible,stable/pike,I51d08d5a57453bb8a8459daea73a17b5e800f45f,Add cinder_enpoint_type option in trove,MERGED,2018-03-28 10:03:59.000000000,2019-05-31 13:33:02.000000000,2019-05-31 13:33:01.000000000,"[{'_account_id': 9414}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-03-28 10:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c06b62a3d4edb149315994b680010b6eb66a310', 'message': 'Add cinder_enpoint_type option in trove\n\nhttps://github.com/openstack/trove/blob/master/trove/common/cfg.py#L85\n\nChange-Id: I51d08d5a57453bb8a8459daea73a17b5e800f45f\n(cherry picked from commit ca558f4bb6f60b289d9d12601fb36fcd269f707a)\n'}, {'number': 2, 'created': '2019-05-08 02:37:43.000000000', 'files': ['ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5602464f52cea1fd87d7fd539928d6eefa0fdd45', 'message': 'Add cinder_enpoint_type option in trove\n\nhttps://github.com/openstack/trove/blob/master/trove/common/cfg.py#L85\n\nChange-Id: I51d08d5a57453bb8a8459daea73a17b5e800f45f\n(cherry picked from commit ca558f4bb6f60b289d9d12601fb36fcd269f707a)\n'}]",0,557287,5602464f52cea1fd87d7fd539928d6eefa0fdd45,10,4,2,7488,,,0,"Add cinder_enpoint_type option in trove

https://github.com/openstack/trove/blob/master/trove/common/cfg.py#L85

Change-Id: I51d08d5a57453bb8a8459daea73a17b5e800f45f
(cherry picked from commit ca558f4bb6f60b289d9d12601fb36fcd269f707a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/557287/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2']",2,1c06b62a3d4edb149315994b680010b6eb66a310,add_trove_endpoint_type-stable/pike,cinder_endpoint_type = internalURL,,2,0
openstack%2Fcharm-vault~stable%2F19.04~Id40f7f3d70c1e9b055bd0ed65c1c9a90c95f84c1,openstack/charm-vault,stable/19.04,Id40f7f3d70c1e9b055bd0ed65c1c9a90c95f84c1,Add hostname as a new config option,MERGED,2019-05-16 11:59:20.000000000,2019-05-31 13:31:13.000000000,2019-05-31 13:31:13.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28608}]","[{'number': 1, 'created': '2019-05-16 11:59:20.000000000', 'files': ['src/config.yaml', 'unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/804654915e1c27af61f1400918e2bbbbbc426d6f', 'message': 'Add hostname as a new config option\n\nWithout this option, the charm announces its API URL with the VIP\naddress. It is problematic when using FQDN in the SAN section of the\ncertificates and not IP addresses.\n\nChange-Id: Id40f7f3d70c1e9b055bd0ed65c1c9a90c95f84c1\nCloses-Bug: 1826225\n(cherry picked from commit 8b99dc282988b6b395d4c9c867e050213127f07c)\n'}]",0,659541,804654915e1c27af61f1400918e2bbbbbc426d6f,16,5,1,28608,,,0,"Add hostname as a new config option

Without this option, the charm announces its API URL with the VIP
address. It is problematic when using FQDN in the SAN section of the
certificates and not IP addresses.

Change-Id: Id40f7f3d70c1e9b055bd0ed65c1c9a90c95f84c1
Closes-Bug: 1826225
(cherry picked from commit 8b99dc282988b6b395d4c9c867e050213127f07c)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/41/659541/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",3,804654915e1c27af61f1400918e2bbbbbc426d6f,bug/1826225, if config('hostname'): vault_url = vault.get_api_url(address=config('hostname')) else: vault_url = vault.get_api_url(address=config('vip')), vault_url = vault.get_api_url(address=config('vip')),36,3
openstack%2Fopenstack-ansible~stable%2Frocky~I47f0e4818fdd83bbfba34c71dac5c115089515f7,openstack/openstack-ansible,stable/rocky,I47f0e4818fdd83bbfba34c71dac5c115089515f7,Bump SHAs for stable/rocky,MERGED,2019-05-19 13:59:56.000000000,2019-05-31 13:27:18.000000000,2019-05-31 13:27:18.000000000,"[{'_account_id': 13095}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-19 13:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0f4d60d9c1409a32be0d3697aa071cef060a9abe', 'message': 'Bump SHAs for stable/rocky\n\nChange-Id: I47f0e4818fdd83bbfba34c71dac5c115089515f7\n'}, {'number': 2, 'created': '2019-05-20 01:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6c0b8bb5563903eff3c219de41913f4e8f64790c', 'message': 'Bump SHAs for stable/rocky\n\nChange-Id: I47f0e4818fdd83bbfba34c71dac5c115089515f7\n'}, {'number': 3, 'created': '2019-05-22 14:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f0acfd6203ca9d5b97b677cad6ed8ba0ff924fae', 'message': 'Bump SHAs for stable/rocky\n\nChange-Id: I47f0e4818fdd83bbfba34c71dac5c115089515f7\n'}, {'number': 4, 'created': '2019-05-29 15:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2ae1b0bc0a55effeb392ed5372d013213d43b407', 'message': 'Bump SHAs for stable/rocky\n\nChange-Id: I47f0e4818fdd83bbfba34c71dac5c115089515f7\n'}, {'number': 5, 'created': '2019-05-31 06:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/09e05e66cb368de0bcde6fcaf0c6fd1afb7b5f1b', 'message': 'Bump SHAs for stable/rocky\n\nChange-Id: I47f0e4818fdd83bbfba34c71dac5c115089515f7\n'}, {'number': 6, 'created': '2019-05-31 08:41:47.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/334096f6a9e84acbceca64ef08d1390fdb790da3', 'message': 'Bump SHAs for stable/rocky\n\nChange-Id: I47f0e4818fdd83bbfba34c71dac5c115089515f7\n'}]",2,659967,334096f6a9e84acbceca64ef08d1390fdb790da3,23,6,6,17068,,,0,"Bump SHAs for stable/rocky

Change-Id: I47f0e4818fdd83bbfba34c71dac5c115089515f7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/67/659967/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,0f4d60d9c1409a32be0d3697aa071cef060a9abe,bump_osa, version: 7bdbbd5ca21d399ecd7100d905be5034d11bc2c7 version: 0ce2636062f128f1e1a9570b1c29509630693504 version: 4f049ba1865c104b331f040a03bd10ff0a440dfb version: 28d89bee42b5a91f590591737c2aedd307272fad version: 6329358505e21f33e8f348cdb185b1ddbb8c3e31 version: 5c7645455557a81c0cc17c7b3e08e359a70a9a4e version: cd9784d0748a7f8ae9ff80443d1aefe643479702 version: 856b8766c3f2d8ed9836a64e7ee5557809b0e830 version: 623d5da82840f5c60605029cd3c2ccffa5d0edf3 version: 0394ef6ab8415fa023e65cab98e9d1e93048eb14 version: 4d80fb7a3aa315cccda9322a605f5cf3c19488b6 version: 08e7d44f2ae2f09c19f5059f9425d27fc229e55d version: bb7eca2988d209f12b116311955e753fdf088164 version: ac4fe8962ba21fb1e4d9173ee357204562ec343c version: 716857f33df691cffdb4e0b1bad3e0f7dbb4900b version: ef5042c7a5ee39d21c2c55471e470d572d795bbc version: 0e3c7be52cb23764e025803f0d03ba5cc2bfe12b version: 41743941d7b7053d201d28e46ba00ebea30cd22c version: bed697bd45b031f272679bb319359d0e83e7fba6 version: 95bb87038534564378a18412a1720829e18a3932 version: 2c4672941312b421bc9a7e08a41d73ae8a936470 version: cefdbaf821dea8c8501e64c9aaade47bb0ee36fe version: dd8090a92b56112062279c3299646b64075dfb7b version: b2648f8514d0b9d9c025ac5c803aa4394c1c0ddc version: 63ac20350f38e594cef10035c59358965d6e266f version: 1ae1c896bcdfe17f2076ca29b960fa1affabd4ed version: 5a20db85d2d24d5ea8901feb0de8b892ec6b7c0c version: d6334cd1b2a0b7b85a7ee4e9153a7d6c026b44c4 version: 8ca838d1b0b938b46e42a784304771fbca3c78bf version: 3e8a89f72c8248895bdb1080bdd3de928fa1b38c version: 9b97383f6daec843acdceae129dd236a2be615f2 version: 9e4283e8e53c351f3d1ee8cd28f369969d5c8d22 version: dadf1e1f7bb5b4162fb648487be2edc9063f594a version: 751c9e0f4fac7943dc2531992d6ae311cc360440 version: d68b960200422db6b4e4291c4f52872ae1183490 version: be7c455237e4264f524902c7283a0d59a65f38ab version: c808aee2a2e14e3d3440252147de86a2b0ac64ef version: c233a4931a6cb86795f428c2cb9169bae00a1832 version: 561b90bb984eb8e0f52a1f6bfa67f9213f8ebf68 version: b6560b385a6bab2769aabe42f71dcc4096cfa6aa version: 222eb0064b33941465c8e1a3e499251eefa60691 version: d63b1c993dec76f449b740d2a60c74483d6211df version: a24924462451c06835525b635b42ad3235bfa9c4 version: 8c1c0cf69f59ec354a341d8bbcf16deed614faf7 version: 487e2179c31d2aed565e58a838491d34b75000b3 version: 21ca82023b98d9ed4e15d1d45772dd9a6017e3f4 version: 4724e0ac7af3336562797e2084125ef41d3e3b40 version: cdb90f063bcd148eb779a575be2e65c799fee28f, version: 56fd6b335ed5529eef99c2ce2ca4a03c9414c732 version: 4b2584d699c79ac65acfeb2157a97327df6f0fd6 version: 671e7129ad3dcf20bdda942842f9f76203bf5a5e version: 5d34a9f0970d5761f16e7c2d6f521d134e84a56b version: 714c3473592b0b7a513815ed5361d5d59a576e31 version: fec4dcc5d504013eda40297bcf9b0f1d8a69d0da version: 6bc259471283162b3cb8ec0c4bc736f81254d050 version: 0083490703872893edf09e001bac9b80b0480b1e version: 34c723247bdb369cfea288661faecf9aba4d23ed version: e058c81a44859c7bcd3eeaac49a8f25b423e38a4 version: e1330b74148158067d962189b529c5dfbae9868b version: 3a3f062cb66a4d7b046d9fd49842cdbd6fdcd738 version: 805ef5349db7d8af0132b546ff56a36ec80ea7db version: e0439b40c2911ebe44b492969f791f09b0d63c0c version: 33af8db0598d0b8ef28d83663ebe58b61daf7166 version: 6aca261a7c3ed5e6a7561cb66d8956df89657b78 version: c7542c03285ebdb67f2d88344bbc25689753be5d version: 0e6ccb63dba466bb1b7a11e94db7a420c716c06d version: 53a4e0ae2bd7cf6ab8bd04650dcd730458ccdbc5 version: 0567bee85ef558c4b8b3919e6a507d7c5899380c version: 95bc7afe74c3ec50ff884487c853139b1a5b56e4 version: 5482233ed57008d9b7b4de7387ead0f8e9013450 version: 1418e1762fc9a641f88688f036eec441de95e920 version: 2aee242fde780c384581f5b772a99be3e7a45a92 version: 9b54919fbce06ccabef349b1c219c6b86237e6dc version: b18b426439294c65146c31ba913ee25e83da93a5 version: 2b57eb04f7e509a344dce3e083bd6f3cd8e65871 version: eefd746d8067b3a2f473263b0342ee390df8a311 version: 508ea6d834153d0eb6da5bd32d10472f483c6dfa version: 8e98112b858ecffbb92c6ae342237af87416b7fa version: ed7aa2d64a2ea3508c7d88a9e869524fdf0e9353 version: a88edf84964819870ef990d25b3bfa514186249a version: bbce8657c13d2545bf632eb81bb78329a5479798 version: 69fcad4fd4b4a67cfb0ba34ab5e2d2705e8f539f version: 3bb8ad052617c8b6efa1cc0ed15d55bd11c1407e version: 43d2ef6a000c44da3358e2dd0d7c04db68c9b1a9 version: 582fd291d8f3e029d7f522a7c14d75029c4e0f21 version: 630a6dfdcb46ba719ddb7fd7a4875259c5602b15 version: dd143b381b2fb94a3ba435f951e8b9338353a48d version: ed5e61c8bc2aabb905918bb2751ae985b1cfe229 version: 9318bafbe60fed5f026c1e216d693bce745b9f99 version: a5aca6ebbc341feb34b9ec0d73e16aeeedae63ac version: 2bcf03f1cca550731789d5b53c7d0806ef5f5ff7 version: f69e101b9191682986272b766747f107b8a7a136 version: 58940f5fdd50d17666ca569c53056cef305acb87 version: ee6263b3ce6502712ff4d6fb56474066df1773e4 version: b024d0a3d97caf06b962a1f19450511b108dc5eb version: 24981083961d257b269c05479c4cfbeb1233c0a0,87,87
openstack%2Fcharm-ceph-radosgw~master~I497b2553a2f7743763e2ea040ff9276d97bf5d73,openstack/charm-ceph-radosgw,master,I497b2553a2f7743763e2ea040ff9276d97bf5d73,Ensure fsid variable always exists for mon context,MERGED,2019-05-31 09:52:56.000000000,2019-05-31 13:27:14.000000000,2019-05-31 13:27:14.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 09:52:56.000000000', 'files': ['hooks/ceph_radosgw_context.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/cb9fe63628459f605ef1d563fdd89a919e9da391', 'message': ""Ensure fsid variable always exists for mon context\n\nTo avoid any occurences of:\n\n UnboundLocalError: local variable 'fsid' referenced before assignment\n\nensure that the fsid variable is always defined, but set to None if\nthe mon cluster has not yet presented this data item.\n\nChange-Id: I497b2553a2f7743763e2ea040ff9276d97bf5d73\n""}]",0,662422,cb9fe63628459f605ef1d563fdd89a919e9da391,7,3,1,935,,,0,"Ensure fsid variable always exists for mon context

To avoid any occurences of:

 UnboundLocalError: local variable 'fsid' referenced before assignment

ensure that the fsid variable is always defined, but set to None if
the mon cluster has not yet presented this data item.

Change-Id: I497b2553a2f7743763e2ea040ff9276d97bf5d73
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/22/662422/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_radosgw_context.py'],1,cb9fe63628459f605ef1d563fdd89a919e9da391,avoid-reference-before-assignment, fsid = None,,1,0
openstack%2Fcharm-guide~master~I35f2de3623130daed4e359113704f42e91589c27,openstack/charm-guide,master,I35f2de3623130daed4e359113704f42e91589c27,Misc updates to stable backport policy,MERGED,2019-05-31 10:50:22.000000000,2019-05-31 13:26:47.000000000,2019-05-31 13:26:47.000000000,"[{'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 10:50:22.000000000', 'files': ['doc/source/backport-policy.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d2295a914575b95c4ea75f0b831ff1edfa5ce8b2', 'message': ""Misc updates to stable backport policy\n\nExceptions process.\n\nRequirement for 2 x +2's before landing.\n\nChange-Id: I35f2de3623130daed4e359113704f42e91589c27\n""}]",0,662430,d2295a914575b95c4ea75f0b831ff1edfa5ce8b2,8,4,1,935,,,0,"Misc updates to stable backport policy

Exceptions process.

Requirement for 2 x +2's before landing.

Change-Id: I35f2de3623130daed4e359113704f42e91589c27
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/30/662430/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/backport-policy.rst'],1,d2295a914575b95c4ea75f0b831ff1edfa5ce8b2,backport-policy-updates, Backport exceptions ------------------- Exceptions may be made to changes covered under 'Backport exclusions' in the event that the default behaviour of the charm is not impacted and that the risk of regression is deemed sufficiently low. The change must be covered by a bug report and the regression risk must be evaluated and documented in the bug report as part of the stable backport process. Backport approvals ------------------ All charm stable branch reviews must be approved by two core reviewers prior to landing.,,17,0
openstack%2Fneutron~master~Ic4c5790a5d66e10a606327f4f4e4c92611f161d8,openstack/neutron,master,Ic4c5790a5d66e10a606327f4f4e4c92611f161d8,Use list instead of six.viewkeys to avoid py2 to py3 problems,MERGED,2019-05-30 12:55:14.000000000,2019-05-31 13:22:27.000000000,2019-05-31 12:05:32.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-30 12:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26e7947794811d34c1fbd8627c4edf7030029e54', 'message': ""Use list instead of six.viewkeys to avoid py2 to py3 problems\n\nThis change fixes an 'RuntimeError: dictionary changed size during\niteration' error that is raised because of different behaviour between\npython2 and python3.  Earlier attempt to use the six library did not fix\nthe issue.\n\nChange-Id: Ic4c5790a5d66e10a606327f4f4e4c92611f161d8\n""}, {'number': 2, 'created': '2019-05-30 18:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e04cd8106d9795b0b4165999f063fe8e3caded49', 'message': ""Use list instead of six.viewkeys to avoid py2 to py3 problems\n\nThis change fixes an 'RuntimeError: dictionary changed size during\niteration' error that is raised because of different behaviour between\npython2 and python3.  An earlier attempt [1] to use the six library did\nnot fix the issue.\n\n[1] https://review.opendev.org/660427\n\nResolves-Bug: #1829304\nChange-Id: Ic4c5790a5d66e10a606327f4f4e4c92611f161d8\n""}, {'number': 3, 'created': '2019-05-30 18:39:55.000000000', 'files': ['neutron/pecan_wsgi/hooks/policy_enforcement.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a65ae9c81eea909133446c0be4d54ce389f6e0e1', 'message': ""Use list instead of six.viewkeys to avoid py2 to py3 problems\n\nThis change fixes an 'RuntimeError: dictionary changed size during\niteration' error that is raised because of different behaviour between\npython2 and python3.  An earlier attempt [1] to use the six library did\nnot fix the issue.\n\n[1] https://review.opendev.org/660427\n\nResolves-Bug: #1829304\nChange-Id: Ic4c5790a5d66e10a606327f4f4e4c92611f161d8\n""}]",6,662203,a65ae9c81eea909133446c0be4d54ce389f6e0e1,25,6,3,13995,,,0,"Use list instead of six.viewkeys to avoid py2 to py3 problems

This change fixes an 'RuntimeError: dictionary changed size during
iteration' error that is raised because of different behaviour between
python2 and python3.  An earlier attempt [1] to use the six library did
not fix the issue.

[1] https://review.opendev.org/660427

Resolves-Bug: #1829304
Change-Id: Ic4c5790a5d66e10a606327f4f4e4c92611f161d8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/662203/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/pecan_wsgi/hooks/policy_enforcement.py'],1,26e7947794811d34c1fbd8627c4edf7030029e54,bug/1829304, for attr_name in list(data):, for attr_name in six.viewkeys(data):,1,1
openstack%2Fkolla-ansible~stable%2Fqueens~Ic8d26b11f93255220888b5406f8ab4a6f81736c2,openstack/kolla-ansible,stable/queens,Ic8d26b11f93255220888b5406f8ab4a6f81736c2,Fix kolla-docker possible undefined variable,MERGED,2019-05-14 11:27:40.000000000,2019-05-31 13:21:53.000000000,2019-05-31 13:21:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28595}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-05-14 11:27:40.000000000', 'files': ['tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15fff23284e9e3140c1af7bf9fc87e5f2b421af8', 'message': ""Fix kolla-docker possible undefined variable\n\nIt is possible to reference undefined variable in kolla-docker module if\nDockerWorker object initialization fail, so the current behaviour will\ncrash the playbook with the unwanted error message :\n\nUnboundLocalError: local variable 'dw' referenced before assignment\n\nChange-Id: Ic8d26b11f93255220888b5406f8ab4a6f81736c2\nCloses-Bug: #1819361\n(cherry picked from commit 3bb4c199817c8aa4ecd4ae684bd28f84933fb14d)\n""}]",0,659041,15fff23284e9e3140c1af7bf9fc87e5f2b421af8,8,5,1,14826,,,0,"Fix kolla-docker possible undefined variable

It is possible to reference undefined variable in kolla-docker module if
DockerWorker object initialization fail, so the current behaviour will
crash the playbook with the unwanted error message :

UnboundLocalError: local variable 'dw' referenced before assignment

Change-Id: Ic8d26b11f93255220888b5406f8ab4a6f81736c2
Closes-Bug: #1819361
(cherry picked from commit 3bb4c199817c8aa4ecd4ae684bd28f84933fb14d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/659041/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py']",2,15fff23284e9e3140c1af7bf9fc87e5f2b421af8,bug/1819361-stable/queens," dw = None **getattr(dw, 'result', {}))", **dw.result),40,1
openstack%2Fkolla~master~I515f9764ca93a41a871e520696193a9298856d08,openstack/kolla,master,I515f9764ca93a41a871e520696193a9298856d08,Use td-agent-gem to install fluentd monasca plugin on ubuntu,MERGED,2019-05-23 09:28:03.000000000,2019-05-31 13:17:41.000000000,2019-05-31 13:17:41.000000000,"[{'_account_id': 14826}, {'_account_id': 17109}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 26981}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-23 09:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a2ffa05a02dc96cad0d996a420cfa77bd3c3ac0f', 'message': 'Use td-agent-gem to install fluentd monasca plugin on ubuntu\n\nIf monasca is enabled on ubuntu, we see the following error in fluentd:\n\n[error]: config error file=""/etc/td-agent/td-agent.conf""\nerror_class=Fluent::ConfigError error=""Unknown output plugin \'monasca\'.\nRun \'gem search -rd fluent-plugin\' to find plugins""\n\nThis is because we use \'fluent-gem install\' to install the gem, which\nworks on CentOS but on Ubuntu it is necessary to use \'td-agent-gem\ninstall\'.\n\nChange-Id: I515f9764ca93a41a871e520696193a9298856d08\nCloses-Bug: #1830147\n'}, {'number': 2, 'created': '2019-05-29 09:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/18baefacd989f2a951812979d9991d82ac792f5b', 'message': 'Use td-agent-gem to install fluentd monasca plugin on ubuntu\n\nIf monasca is enabled on ubuntu, we see the following error in fluentd:\n\n[error]: config error file=""/etc/td-agent/td-agent.conf""\nerror_class=Fluent::ConfigError error=""Unknown output plugin \'monasca\'.\nRun \'gem search -rd fluent-plugin\' to find plugins""\n\nThis is because we use \'fluent-gem install\' to install the gem, which\nworks on CentOS but on Ubuntu it is necessary to use \'td-agent-gem\ninstall\'.\n\nChange-Id: I515f9764ca93a41a871e520696193a9298856d08\nCloses-Bug: #1830147\n'}, {'number': 3, 'created': '2019-05-29 14:41:56.000000000', 'files': ['docker/macros.j2', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c585ca5055c7a92fdbe5826030d3529e5c397540', 'message': 'Use td-agent-gem to install fluentd monasca plugin on ubuntu\n\nIf monasca is enabled on ubuntu, we see the following error in fluentd:\n\n[error]: config error file=""/etc/td-agent/td-agent.conf""\nerror_class=Fluent::ConfigError error=""Unknown output plugin \'monasca\'.\nRun \'gem search -rd fluent-plugin\' to find plugins""\n\nThis is because we use \'fluent-gem install\' to install the gem, which\nworks on CentOS but on Ubuntu it is necessary to use \'td-agent-gem\ninstall\'.\n\nChange-Id: I515f9764ca93a41a871e520696193a9298856d08\nCloses-Bug: #1830147\n'}]",0,660953,c585ca5055c7a92fdbe5826030d3529e5c397540,25,9,3,14826,,,0,"Use td-agent-gem to install fluentd monasca plugin on ubuntu

If monasca is enabled on ubuntu, we see the following error in fluentd:

[error]: config error file=""/etc/td-agent/td-agent.conf""
error_class=Fluent::ConfigError error=""Unknown output plugin 'monasca'.
Run 'gem search -rd fluent-plugin' to find plugins""

This is because we use 'fluent-gem install' to install the gem, which
works on CentOS but on Ubuntu it is necessary to use 'td-agent-gem
install'.

Change-Id: I515f9764ca93a41a871e520696193a9298856d08
Closes-Bug: #1830147
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/660953/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/macros.j2', 'docker/fluentd/Dockerfile.j2']",2,a2ffa05a02dc96cad0d996a420cfa77bd3c3ac0f,bug/1830147," && {{ macros.install_fluent_plugins(['fluentd-monasca-output-*.gem'], chain=True) }} \", && fluent-gem install fluentd-monasca-output-*.gem \,6,5
openstack%2Fkolla-ansible~stable%2Frocky~I2fb43387bd1bc3b70f5c23d5268a7a7154ec31f0,openstack/kolla-ansible,stable/rocky,I2fb43387bd1bc3b70f5c23d5268a7a7154ec31f0,Add missing Monasca persister and notification dimensions,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 13:04:58.000000000,2019-05-31 13:04:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/roles/monasca/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/646919fc6be417266796b4e0f5eceae7f3aec8ca', 'message': 'Add missing Monasca persister and notification dimensions\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I2fb43387bd1bc3b70f5c23d5268a7a7154ec31f0\n'}]",0,656322,646919fc6be417266796b4e0f5eceae7f3aec8ca,7,3,1,17669,,,0,"Add missing Monasca persister and notification dimensions

Partially-Implements: blueprint monasca-roles
Change-Id: I2fb43387bd1bc3b70f5c23d5268a7a7154ec31f0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/656322/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/handlers/main.yml'],1,646919fc6be417266796b4e0f5eceae7f3aec8ca,bp/monasca-roles," dimensions: ""{{ service.dimensions }}"" dimensions: ""{{ service.dimensions }}""",,2,0
openstack%2Fkolla-ansible~stable%2Frocky~I8166b32bfb1583098ab8318a5f38d25bddb81e89,openstack/kolla-ansible,stable/rocky,I8166b32bfb1583098ab8318a5f38d25bddb81e89,Support deploying Monasca Persister,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 13:04:57.000000000,2019-05-31 13:04:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/monasca/templates/monasca-persister/monasca-persister.json.j2', 'ansible/roles/monasca/templates/monasca-persister/persister.conf.j2', 'ansible/roles/monasca/defaults/main.yml', 'releasenotes/notes/add-monasca-persister-c8fdd3d127b2438e.yaml', 'ansible/inventory/all-in-one'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e62bd7b95aacd553d9b4d35d0397deacd9c8f9f', 'message': 'Support deploying Monasca Persister\n\nThe Monasca Persister reads metrics from Kafka and stores them\nin a configurable time series database.\n\nChange-Id: I8166b32bfb1583098ab8318a5f38d25bddb81e89\nPartially-Implements: blueprint monasca-roles\n'}]",0,656321,0e62bd7b95aacd553d9b4d35d0397deacd9c8f9f,7,3,1,17669,,,0,"Support deploying Monasca Persister

The Monasca Persister reads metrics from Kafka and stores them
in a configurable time series database.

Change-Id: I8166b32bfb1583098ab8318a5f38d25bddb81e89
Partially-Implements: blueprint monasca-roles
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/656321/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/monasca/templates/monasca-persister/monasca-persister.json.j2', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-persister/persister.conf.j2', 'releasenotes/notes/add-monasca-persister-c8fdd3d127b2438e.yaml', 'ansible/inventory/all-in-one']",9,0e62bd7b95aacd553d9b4d35d0397deacd9c8f9f,bp/monasca-roles,[monasca-persister:children] monasca ,,112,2
openstack%2Fkolla-ansible~stable%2Frocky~I21de7748156f8d3689ebfc29f2fc4dc5f7f36ddf,openstack/kolla-ansible,stable/rocky,I21de7748156f8d3689ebfc29f2fc4dc5f7f36ddf,Add some missing parameters for Monasca Notification,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 13:04:55.000000000,2019-05-31 13:04:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/roles/monasca/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84cdd546862300303ba123b5e54ddf3bc1adcb47', 'message': 'Add some missing parameters for Monasca Notification\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I21de7748156f8d3689ebfc29f2fc4dc5f7f36ddf\n'}]",0,656320,84cdd546862300303ba123b5e54ddf3bc1adcb47,7,3,1,17669,,,0,"Add some missing parameters for Monasca Notification

Partially-Implements: blueprint monasca-roles
Change-Id: I21de7748156f8d3689ebfc29f2fc4dc5f7f36ddf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/656320/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/defaults/main.yml'],1,84cdd546862300303ba123b5e54ddf3bc1adcb47,bp/monasca-roles,"monasca_alarm_notifications_topic: ""alarm-notifications"" monasca_alarm_notifications_retry_topic: ""retry-notifications"" monasca_periodic_notifications_topic: ""60-seconds-notifications"" # NOTE(dszumski): Due to the way monasca-notification is currently # implemented it is not recommended to change this period. monasca_periodic_notifications_period: 60",,7,0
openstack%2Fkolla-ansible~stable%2Frocky~I84861d5feefe6b6f38acc4dd71e94c386d40b562,openstack/kolla-ansible,stable/rocky,I84861d5feefe6b6f38acc4dd71e94c386d40b562,Support deploying Monasca Notification engine,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 13:04:54.000000000,2019-05-31 13:04:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'releasenotes/notes/add-monasca-notification-03283c42a8df3d71.yaml', 'ansible/roles/monasca/templates/monasca-notification/monasca-notification.json.j2', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-notification/notification.conf.j2', 'ansible/inventory/all-in-one'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f816100c8820bc13077cad2e50d94d00607e5f40', 'message': 'Support deploying Monasca Notification engine\n\nThe Monasca Notification engine generates alerts such as Slack\nnotifications from alerts.\n\nChange-Id: I84861d5feefe6b6f38acc4dd71e94c386d40b562\nPartially-Implements: blueprint monasca-roles\n'}]",0,656319,f816100c8820bc13077cad2e50d94d00607e5f40,7,3,1,17669,,,0,"Support deploying Monasca Notification engine

The Monasca Notification engine generates alerts such as Slack
notifications from alerts.

Change-Id: I84861d5feefe6b6f38acc4dd71e94c386d40b562
Partially-Implements: blueprint monasca-roles
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/656319/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'releasenotes/notes/add-monasca-notification-03283c42a8df3d71.yaml', 'ansible/roles/monasca/templates/monasca-notification/monasca-notification.json.j2', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-notification/notification.conf.j2', 'ansible/inventory/all-in-one']",9,f816100c8820bc13077cad2e50d94d00607e5f40,bp/monasca-roles,[monasca-notification:children] monasca ,,115,2
openstack%2Fkolla-ansible~stable%2Frocky~I063dca5eead15f3cec009df62f0fc5d857dd4bb0,openstack/kolla-ansible,stable/rocky,I063dca5eead15f3cec009df62f0fc5d857dd4bb0,Support deploying Monasca Thresh,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 13:04:52.000000000,2019-05-31 13:04:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/templates/monasca-thresh/thresh-config.yml.j2', 'ansible/roles/monasca/tasks/deploy.yml', 'releasenotes/notes/add-monasca-thresh-f7a860ce996684f9.yaml', 'ansible/roles/monasca/templates/monasca-thresh/storm.yml.j2', 'ansible/roles/monasca/defaults/main.yml', 'ansible/inventory/all-in-one', 'ansible/roles/monasca/templates/monasca-thresh/monasca-thresh.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65c1e5b0dcd725efb257629c1cce782cdcdcdaae', 'message': 'Support deploying Monasca Thresh\n\nMonasca Thresh is a Storm topology which generates alerts from\nmetric streams according to alarms defined via the Monasca API.\n\nThis change runs the thresholder in local mode, which means that\nthe log output for the topology is directed to stdout and the\ntopology is restarted if the container is restarted. A future\nchange will improve the log collection and introduce a better\nway of the checking the topology is running for multi-node\nclusters.\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I063dca5eead15f3cec009df62f0fc5d857dd4bb0\n'}]",0,656318,65c1e5b0dcd725efb257629c1cce782cdcdcdaae,7,3,1,17669,,,0,"Support deploying Monasca Thresh

Monasca Thresh is a Storm topology which generates alerts from
metric streams according to alarms defined via the Monasca API.

This change runs the thresholder in local mode, which means that
the log output for the topology is directed to stdout and the
topology is restarted if the container is restarted. A future
change will improve the log collection and introduce a better
way of the checking the topology is running for multi-node
clusters.

Partially-Implements: blueprint monasca-roles
Change-Id: I063dca5eead15f3cec009df62f0fc5d857dd4bb0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/656318/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/templates/monasca-thresh/thresh-config.yml.j2', 'ansible/roles/monasca/tasks/deploy.yml', 'releasenotes/notes/add-monasca-thresh-f7a860ce996684f9.yaml', 'ansible/roles/monasca/templates/monasca-thresh/storm.yml.j2', 'ansible/roles/monasca/defaults/main.yml', 'ansible/inventory/all-in-one', 'ansible/roles/monasca/templates/monasca-thresh/monasca-thresh.json.j2']",10,65c1e5b0dcd725efb257629c1cce782cdcdcdaae,bp/monasca-roles,"{ ""command"": ""/opt/storm/bin/storm jar /monasca-thresh-source/monasca-thresh-*/thresh/target/monasca-thresh-*-SNAPSHOT-shaded.jar monasca.thresh.ThresholdingEngine /etc/monasca/thresh-config.yml monasca-thresh local"", ""config_files"": [ { ""source"": ""{{ container_config_directory }}/thresh-config.yml"", ""dest"": ""/etc/monasca/thresh-config.yml"", ""owner"": ""monasca"", ""perm"": ""0600"" }, { ""source"": ""/var/lib/kolla/config_files/storm.yml"", ""dest"": ""/opt/storm/conf/storm.yaml"", ""owner"": ""monasca"", ""perm"": ""0600"" } ], ""permissions"": [ { ""path"": ""/var/log/kolla/monasca"", ""owner"": ""monasca:kolla"", ""recurse"": true }, { ""path"": ""/var/lib/monasca-thresh"", ""owner"": ""monasca:kolla"", ""recurse"": true } ] } ",,268,2
openstack%2Fkolla-ansible~stable%2Frocky~I5e1ef74dc55a787293abbb3e629b5ab1ce5f4bbb,openstack/kolla-ansible,stable/rocky,I5e1ef74dc55a787293abbb3e629b5ab1ce5f4bbb,Support deploying an Apache Storm cluster,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 13:04:51.000000000,2019-05-31 13:04:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/storm/templates/storm-nimbus.json.j2', 'ansible/roles/common/templates/cron.json.j2', 'ansible/roles/storm/tasks/pull.yml', 'ansible/roles/storm/tasks/upgrade.yml', 'ansible/roles/storm/tasks/reconfigure.yml', 'ansible/roles/storm/tasks/config.yml', 'ansible/roles/storm/tasks/main.yml', 'ansible/roles/storm/templates/storm.yml.j2', 'ansible/site.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/cron-logrotate-storm.conf.j2', 'ansible/inventory/all-in-one', 'ansible/roles/storm/tasks/precheck.yml', 'ansible/roles/storm/tasks/check.yml', 'ansible/group_vars/all.yml', 'ansible/roles/storm/meta/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/storm/handlers/main.yml', 'ansible/roles/storm/tasks/deploy.yml', 'ansible/roles/storm/templates/storm-worker.json.j2', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/212f4c51b51daefda40351493a356ba764dd9500', 'message': 'Support deploying an Apache Storm cluster\n\nStorm is required for running the Monasca thresholder component for\ngenerating alerts.\n\nChange-Id: I5e1ef74dc55a787293abbb3e629b5ab1ce5f4bbb\nPartially-Implements: blueprint monasca-roles\n'}]",0,656317,212f4c51b51daefda40351493a356ba764dd9500,7,3,1,17669,,,0,"Support deploying an Apache Storm cluster

Storm is required for running the Monasca thresholder component for
generating alerts.

Change-Id: I5e1ef74dc55a787293abbb3e629b5ab1ce5f4bbb
Partially-Implements: blueprint monasca-roles
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/656317/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/storm/templates/storm-nimbus.json.j2', 'ansible/roles/common/templates/cron.json.j2', 'ansible/roles/storm/tasks/pull.yml', 'ansible/roles/storm/tasks/upgrade.yml', 'ansible/roles/storm/tasks/reconfigure.yml', 'ansible/roles/storm/tasks/config.yml', 'ansible/roles/storm/tasks/main.yml', 'ansible/roles/storm/templates/storm.yml.j2', 'ansible/site.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/cron-logrotate-storm.conf.j2', 'ansible/inventory/all-in-one', 'ansible/roles/storm/tasks/precheck.yml', 'ansible/roles/storm/tasks/check.yml', 'ansible/group_vars/all.yml', 'ansible/roles/storm/meta/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/storm/handlers/main.yml', 'ansible/roles/storm/tasks/deploy.yml', 'ansible/roles/storm/templates/storm-worker.json.j2', 'etc/kolla/globals.yml']",22,212f4c51b51daefda40351493a356ba764dd9500,bp/monasca-roles,"#enable_storm: ""no""",,345,0
openstack%2Fkolla-ansible~stable%2Frocky~Icf1dddb7dd6a64f4e5efb7dffa5ffdf0880f891f,openstack/kolla-ansible,stable/rocky,Icf1dddb7dd6a64f4e5efb7dffa5ffdf0880f891f,Improve scalability of Kafka,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 13:04:50.000000000,2019-05-31 13:04:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/roles/kafka/defaults/main.yml', 'ansible/roles/kafka/templates/kafka.server.properties.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d2c348e1f2d3ea857a0edc9f4563dbd41fe09cf', 'message': 'Improve scalability of Kafka\n\nSet sensible defaults for replica counts and minimum insync replicas\nas a function of the number of nodes in the Kafka cluster.\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: Icf1dddb7dd6a64f4e5efb7dffa5ffdf0880f891f\n'}]",0,656316,0d2c348e1f2d3ea857a0edc9f4563dbd41fe09cf,8,3,1,17669,,,0,"Improve scalability of Kafka

Set sensible defaults for replica counts and minimum insync replicas
as a function of the number of nodes in the Kafka cluster.

Partially-Implements: blueprint monasca-roles
Change-Id: Icf1dddb7dd6a64f4e5efb7dffa5ffdf0880f891f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/656316/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kafka/defaults/main.yml', 'ansible/roles/kafka/templates/kafka.server.properties.j2']",2,0d2c348e1f2d3ea857a0edc9f4563dbd41fe09cf,bp/monasca-roles,min.insync.replicas={{ kafka_broker_count if kafka_broker_count|int < 3 else 2 }} num.partitions=30offsets.topic.replication.factor={{ kafka_broker_count if kafka_broker_count|int < 3 else 3 }} transaction.state.log.replication.factor={{ kafka_broker_count if kafka_broker_count|int < 3 else 3 }} transaction.state.log.min.isr={{ kafka_broker_count if kafka_broker_count|int < 3 else 2 }},num.partitions=1offsets.topic.replication.factor=3 transaction.state.log.replication.factor=3 transaction.state.log.min.isr=3,6,4
openstack%2Fkolla-ansible~stable%2Frocky~I45cc17817c716296451f620f304c0b1108162a56,openstack/kolla-ansible,stable/rocky,I45cc17817c716296451f620f304c0b1108162a56,Support deploying Monasca Log Metrics,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 13:04:48.000000000,2019-05-31 13:04:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/templates/monasca-log-metrics/log-metrics.conf.j2', 'ansible/roles/monasca/templates/monasca-log-metrics/monasca-log-metrics.json.j2', 'ansible/roles/monasca/tasks/deploy.yml', 'releasenotes/notes/add-monasca-log-metrics-370846df015ff96a.yaml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/inventory/all-in-one'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/00f7820954d4f49ad5733d54a813b439a019ca9d', 'message': 'Support deploying Monasca Log Metrics\n\nThe log metrics service generates metrics from log messages\nwhich allows further analysis and alerting to be performed\non them. Basic configuration is provided so that metrics\nare generated for high level warning logs such as error, or\nwarning.\n\nChange-Id: I45cc17817c716296451f620f304c0b1108162a56\nPartially-Implements: blueprint monasca-roles\n'}]",0,656315,00f7820954d4f49ad5733d54a813b439a019ca9d,7,3,1,17669,,,0,"Support deploying Monasca Log Metrics

The log metrics service generates metrics from log messages
which allows further analysis and alerting to be performed
on them. Basic configuration is provided so that metrics
are generated for high level warning logs such as error, or
warning.

Change-Id: I45cc17817c716296451f620f304c0b1108162a56
Partially-Implements: blueprint monasca-roles
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/656315/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/templates/monasca-log-metrics/log-metrics.conf.j2', 'ansible/roles/monasca/templates/monasca-log-metrics/monasca-log-metrics.json.j2', 'ansible/roles/monasca/tasks/deploy.yml', 'releasenotes/notes/add-monasca-log-metrics-370846df015ff96a.yaml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/inventory/all-in-one']",9,00f7820954d4f49ad5733d54a813b439a019ca9d,bp/monasca-roles,[monasca-log-metrics:children] monasca ,,159,2
openstack%2Fkolla-ansible~stable%2Frocky~Id8948fcf2d165f8285c7562e7aebd4145c4ff0db,openstack/kolla-ansible,stable/rocky,Id8948fcf2d165f8285c7562e7aebd4145c4ff0db,Support configuring Monasca log pipeline performance,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 13:04:47.000000000,2019-05-31 13:04:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/roles/monasca/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ab6ec8e87f6cf93d5c0f4b5d4d8d0cb7d1d15ba', 'message': 'Support configuring Monasca log pipeline performance\n\nChange-Id: Id8948fcf2d165f8285c7562e7aebd4145c4ff0db\nPartially-Implements: blueprint monasca-roles\n'}]",0,656314,5ab6ec8e87f6cf93d5c0f4b5d4d8d0cb7d1d15ba,8,3,1,17669,,,0,"Support configuring Monasca log pipeline performance

Change-Id: Id8948fcf2d165f8285c7562e7aebd4145c4ff0db
Partially-Implements: blueprint monasca-roles
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/656314/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/defaults/main.yml'],1,5ab6ec8e87f6cf93d5c0f4b5d4d8d0cb7d1d15ba,bp/monasca-roles,"# Processing pipeline threads. In a large scale deployment you will likely # want to tune these with finer precision. For example, if you have a very # high log throughput, the log metrics service consumer may require a # higher thread count than the producer. You will also want to ensure that # the total number of threads across all instances of a service does not # exceed the Kafka topic partition count. monasca_log_pipeline_threads: 2 ",,8,0
openstack%2Fkolla-ansible~stable%2Frocky~I7ec1786b5828ab0135ca86ec040f83a6f4c78d9f,openstack/kolla-ansible,stable/rocky,I7ec1786b5828ab0135ca86ec040f83a6f4c78d9f,Remove Kafka partitions config option,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 13:04:46.000000000,2019-05-31 13:04:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/roles/monasca/templates/monasca-api/api.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b3b25f786077c1a3448a495665ad760ade33de6e', 'message': ""Remove Kafka partitions config option\n\nThis option doesn't actually do anything and a bug to remove\nit from the Monasca API config file has been raised.\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I7ec1786b5828ab0135ca86ec040f83a6f4c78d9f\n""}]",0,656313,b3b25f786077c1a3448a495665ad760ade33de6e,8,3,1,17669,,,0,"Remove Kafka partitions config option

This option doesn't actually do anything and a bug to remove
it from the Monasca API config file has been raised.

Partially-Implements: blueprint monasca-roles
Change-Id: I7ec1786b5828ab0135ca86ec040f83a6f4c78d9f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/656313/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/templates/monasca-api/api.conf.j2'],1,b3b25f786077c1a3448a495665ad760ade33de6e,bp/monasca-roles,,partitions = 0,0,1
openstack%2Fkolla-ansible~stable%2Frocky~Id076e7a0b838888314159dd9e76697f89adecb5e,openstack/kolla-ansible,stable/rocky,Id076e7a0b838888314159dd9e76697f89adecb5e,Use alembic migrations to bootstrap Monasca database,MERGED,2019-04-29 13:14:15.000000000,2019-05-31 13:04:45.000000000,2019-05-31 13:04:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-29 13:14:15.000000000', 'files': ['ansible/roles/monasca/tasks/bootstrap_service.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9310955cd53700d0419e6e847affebe50c8d9e26', 'message': 'Use alembic migrations to bootstrap Monasca database\n\nAlembic uses the monasca-agent config file for the DB\ncredentials. These are therefore no longer required.\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: Id076e7a0b838888314159dd9e76697f89adecb5e\n'}]",0,656312,9310955cd53700d0419e6e847affebe50c8d9e26,7,3,1,17669,,,0,"Use alembic migrations to bootstrap Monasca database

Alembic uses the monasca-agent config file for the DB
credentials. These are therefore no longer required.

Partially-Implements: blueprint monasca-roles
Change-Id: Id076e7a0b838888314159dd9e76697f89adecb5e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/656312/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/tasks/bootstrap_service.yml'],1,9310955cd53700d0419e6e847affebe50c8d9e26,bp/monasca-roles,," MONASCA_DATABASE_ADDRESS: ""{{ database_address }}"" MONASCA_DATABASE_PORT: ""{{ database_port }}"" MONASCA_DATABASE_USER: ""{{ monasca_database_user }}"" MONASCA_DATABASE_PASSWORD: ""{{ monasca_database_password }}"" MONASCA_DATABASE_NAME: ""{{ monasca_database_name }}""",0,5
openstack%2Fopenstack-ansible-tests~master~I36dd33dc77f8a0c3f91b872279d5fd313908be3d,openstack/openstack-ansible-tests,master,I36dd33dc77f8a0c3f91b872279d5fd313908be3d,Add playbook to test placement,ABANDONED,2019-05-24 04:43:22.000000000,2019-05-31 13:03:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-05-24 04:43:22.000000000', 'files': ['test-vars.yml', 'zuul.d/jobs.yaml', 'test-install-placement.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/66060d78d20631c9adb17dae1409593ca1f87164', 'message': 'Add playbook to test placement\n\nAs placement is already a separate service[1],\nwe need to add a playbook to serve those roles\nlike os_tempest[2] that runs funcional tests and\nneeds to install nova, that should use the\nplacemenet service.\n\n[1] https://github.com/openstack/openstack-ansible-os_nova/commit/5bffb86bbb0f9e41e17f5ef31d721a9b733262bc\n[2] https://github.com/openstack/openstack-ansible-os_tempest/blob/c1b1399ddd528c02afd4833814c6d1b9a99af773/zuul.d/jobs.yaml#L17\n\nChange-Id: I36dd33dc77f8a0c3f91b872279d5fd313908be3d\n'}]",0,661179,66060d78d20631c9adb17dae1409593ca1f87164,4,2,1,28008,,,0,"Add playbook to test placement

As placement is already a separate service[1],
we need to add a playbook to serve those roles
like os_tempest[2] that runs funcional tests and
needs to install nova, that should use the
placemenet service.

[1] https://github.com/openstack/openstack-ansible-os_nova/commit/5bffb86bbb0f9e41e17f5ef31d721a9b733262bc
[2] https://github.com/openstack/openstack-ansible-os_tempest/blob/c1b1399ddd528c02afd4833814c6d1b9a99af773/zuul.d/jobs.yaml#L17

Change-Id: I36dd33dc77f8a0c3f91b872279d5fd313908be3d
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/79/661179/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-vars.yml', 'zuul.d/jobs.yaml', 'test-install-placement.yml']",3,66060d78d20631c9adb17dae1409593ca1f87164,placement_integration,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Install placement hosts: placement_all remote_user: root gather_facts: true any_errors_fatal: true vars_files: - common/test-vars.yml roles: - role: ""os_placement"" ",,38,0
openstack%2Fvirtualbmc~master~I4da0b011250451cff5fbf209e2fae80c391a5df5,openstack/virtualbmc,master,I4da0b011250451cff5fbf209e2fae80c391a5df5,vBMC for openstack instance,ABANDONED,2018-05-28 07:59:52.000000000,2019-05-31 12:46:15.000000000,,"[{'_account_id': 11655}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-05-28 07:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/e783b4e36257aff5c9488cd1d27ea3ffd4a06ae1', 'message': ""vBMC for openstack instance\nvBMC currently works well when it is used to control virtual machine which is made by KVM.\n\nWith this, user uses a virtual machine as like as a baremetal.\n\nIn addition, each KVM node should have vBMC to control the virtual machine.\n\nHowever, current vBMC doesn't support instance which is made by openstack.\n\nTherefore, I uploaded this patch for supporting vBMC for openstack instance.\n\nChange-Id: I4da0b011250451cff5fbf209e2fae80c391a5df5\n""}, {'number': 2, 'created': '2018-05-28 12:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/97af017154a8920ba740ac50815f652148e3f434', 'message': ""vBMC for openstack instance\nvBMC currently works well when it is used to control virtual machine which is made by KVM.\n\nWith this, user uses a virtual machine as like as a baremetal.\n\nIn addition, each KVM node should have vBMC to control the virtual machine.\n\nHowever, current vBMC doesn't support instance which is made by openstack.\n\nTherefore, I uploaded this patch for supporting vBMC for openstack instance.\n\nChange-Id: I4da0b011250451cff5fbf209e2fae80c391a5df5\n""}, {'number': 3, 'created': '2018-05-29 01:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/dc077febd808ae7e67a2b539a29100981e630fdf', 'message': ""vBMC for openstack instance\n\nvBMC currently works well when it is used to control virtual machine\nwhich is made by KVM.\nWith this, user uses a virtual machine as like as a baremetal.\nIn addition, each KVM node should have vBMC to control the virtual\nmachine.\nHowever, current vBMC doesn't support instance which is made\nby openstack.\nTherefore, I uploaded this patch for supporting vBMC for\nopenstack instance.\n\nChange-Id: I4da0b011250451cff5fbf209e2fae80c391a5df5\n""}, {'number': 4, 'created': '2018-05-29 14:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/ce232025cb35995d82e867eec812e1da6a222b93', 'message': ""vBMC for openstack instance\n\nvBMC currently works well when it is used to control virtual machine\nwhich is made by KVM.\nWith this, user uses a virtual machine as like as a baremetal.\nIn addition, each KVM node should have vBMC to control the virtual\nmachine.\nHowever, current vBMC doesn't support instance which is made\nby openstack.\nTherefore, this patch can be used for supporting vBMC for\nopenstack instance.\n\nChange-Id: I4da0b011250451cff5fbf209e2fae80c391a5df5\n""}, {'number': 5, 'created': '2018-05-29 15:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/7b18bdb2d4ef85e7864e5abc35a34162f11e43cf', 'message': ""vBMC for openstack instance\n\nvBMC currently works well when it is used to control virtual machine\nwhich is made by KVM.\nWith this, user uses a virtual machine as like as a baremetal.\nIn addition, each KVM node should have vBMC to control the virtual\nmachine.\nHowever, current vBMC doesn't support instance which is made\nby openstack.\nTherefore, this patch can be used for supporting vBMC for\nopenstack instance.\n\nChange-Id: I4da0b011250451cff5fbf209e2fae80c391a5df5\n""}, {'number': 6, 'created': '2018-05-30 01:11:19.000000000', 'files': ['virtualbmc/manager.py', 'virtualbmc/openstack_utils.py', 'virtualbmc/vbmc.py'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/ca0146cb04834b77fe51b83e4492c2568456cadf', 'message': ""vBMC for openstack instance\n\nvBMC currently works well when it is used to control virtual machine\nwhich is made by KVM.\nWith this, user uses a virtual machine as like as a baremetal.\nIn addition, each KVM node should have vBMC to control the virtual\nmachine.\nHowever, current vBMC doesn't support instance which is made\nby openstack.\nTherefore, this patch can be used for supporting vBMC for\nopenstack instance.\n\nChange-Id: I4da0b011250451cff5fbf209e2fae80c391a5df5\n""}]",22,570737,ca0146cb04834b77fe51b83e4492c2568456cadf,17,4,6,22290,,,0,"vBMC for openstack instance

vBMC currently works well when it is used to control virtual machine
which is made by KVM.
With this, user uses a virtual machine as like as a baremetal.
In addition, each KVM node should have vBMC to control the virtual
machine.
However, current vBMC doesn't support instance which is made
by openstack.
Therefore, this patch can be used for supporting vBMC for
openstack instance.

Change-Id: I4da0b011250451cff5fbf209e2fae80c391a5df5
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/37/570737/6 && git format-patch -1 --stdout FETCH_HEAD,"['virtualbmc/manager.py', 'virtualbmc/openstack_utils.py', 'virtualbmc/vbmc.py']",3,e783b4e36257aff5c9488cd1d27ea3ffd4a06ae1,,"from virtualbmc import openstack_utils if openstack_utils.is_enable(self.domain_name): openstack_utils.set_meta_item(self.domain_name, str(device)) else: with utils.libvirt_open(**self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) tree = ET.fromstring(domain.XMLDesc()) # Remove all ""boot"" element under ""devices"" # They are mutually exclusive with ""os/boot"" for device_element in tree.findall('devices/*'): self._remove_boot_elements(device_element) for os_element in tree.findall('os'): # Remove all ""boot"" elements under ""os"" self._remove_boot_elements(os_element) # Add a new boot element with the request boot device boot_element = ET.SubElement(os_element, 'boot') boot_element.set('dev', device) conn.defineXML(ET.tostring(tree)) # Command not supported in present state return IPMI_COMMAND_NOT_SUPPORTED if openstack_utils.is_enable(self.domain_name): return openstack_utils.get_power_state(self.domain_name) else: with utils.libvirt_open(readonly=True, **self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) if domain.isActive(): return POWERON # Command not supported in present state return IPMI_COMMAND_NOT_SUPPORTED if openstack_utils.is_enable(self.domain_name): openstack_utils.power_control(self.domain_name, openstack_utils.POWER_OFF) else: with utils.libvirt_open(**self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) if domain.isActive(): domain.destroy() # Command not supported in present state return IPMI_COMMAND_NOT_SUPPORTED if openstack_utils.is_enable(self.domain_name): openstack_utils.power_control(self.domain_name, openstack_utils.POWER_ON) else: with utils.libvirt_open(**self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) if not domain.isActive(): domain.create() # Command not supported in present state return IPMI_COMMAND_NOT_SUPPORTED if openstack_utils.is_enable: openstack_utils.power_control(self.domain_name, openstack_utils.POWER_SHUTDOWN) else: with utils.libvirt_open(**self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) if domain.isActive(): domain.shutdown() # Command not supported in present state return IPMI_COMMAND_NOT_SUPPORTED # ykpark if openstack_utils.is_enable: openstack_utils.power_control(self.domain_name, openstack_utils.POWER_RESET) else: with utils.libvirt_open(**self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) if domain.isActive(): domain.reset() return IPMI_COMMAND_NOT_SUPPORTED"," with utils.libvirt_open(**self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) tree = ET.fromstring(domain.XMLDesc()) # Remove all ""boot"" element under ""devices"" # They are mutually exclusive with ""os/boot"" for device_element in tree.findall('devices/*'): self._remove_boot_elements(device_element) for os_element in tree.findall('os'): # Remove all ""boot"" elements under ""os"" self._remove_boot_elements(os_element) # Add a new boot element with the request boot device boot_element = ET.SubElement(os_element, 'boot') boot_element.set('dev', device) conn.defineXML(ET.tostring(tree)) # Command failed, but let client to retry return IPMI_COMMAND_NODE_BUSY with utils.libvirt_open(readonly=True, **self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) if domain.isActive(): return POWERON # Command failed, but let client to retry return IPMI_COMMAND_NODE_BUSY with utils.libvirt_open(**self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) if domain.isActive(): domain.destroy() # Command failed, but let client to retry return IPMI_COMMAND_NODE_BUSY with utils.libvirt_open(**self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) if not domain.isActive(): domain.create() # Command failed, but let client to retry return IPMI_COMMAND_NODE_BUSY with utils.libvirt_open(**self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) if domain.isActive(): domain.shutdown() # Command failed, but let client to retry return IPMI_COMMAND_NODE_BUSY with utils.libvirt_open(**self._conn_args) as conn: domain = utils.get_libvirt_domain(conn, self.domain_name) if domain.isActive(): domain.reset() return IPMI_COMMAND_NODE_BUSY",267,54
openstack%2Ftripleo-ci~master~I7ec6a6a6fd063c4b92e3147ccb5c76a254ef83ea,openstack/tripleo-ci,master,I7ec6a6a6fd063c4b92e3147ccb5c76a254ef83ea,Remove system ansible after it's use is over,MERGED,2019-05-29 15:37:48.000000000,2019-05-31 12:35:09.000000000,2019-05-31 12:35:09.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-29 15:37:48.000000000', 'files': ['roles/build-containers/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f242710aecb49931da4b0ae0aa97ebab49837dde', 'message': ""Remove system ansible after it's use is over\n\nansible is installed currently to run docker-playbook.yaml,\nwe need to cleanup it up as currently docker_login module\nfrom ansible-2.8 conflicts with ansible running in zuul\nexecutor as mentioned in bug #1829736.\n\nRelated-Bug: #1829736\nChange-Id: I7ec6a6a6fd063c4b92e3147ccb5c76a254ef83ea\n""}]",0,662021,f242710aecb49931da4b0ae0aa97ebab49837dde,17,8,1,13861,,,0,"Remove system ansible after it's use is over

ansible is installed currently to run docker-playbook.yaml,
we need to cleanup it up as currently docker_login module
from ansible-2.8 conflicts with ansible running in zuul
executor as mentioned in bug #1829736.

Related-Bug: #1829736
Change-Id: I7ec6a6a6fd063c4b92e3147ccb5c76a254ef83ea
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/21/662021/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/pre.yaml'],1,f242710aecb49931da4b0ae0aa97ebab49837dde,bug/1829736, - name: Install ansible to run docker-playbook.yaml - name: Remove ansible become: true package: name: ansible state: absent , - name: Install ansible,7,1
openstack%2Fkolla-ansible~stable%2Fstein~I3fe3f4082279c2fd9a629605619a97aa5f5b0b73,openstack/kolla-ansible,stable/stein,I3fe3f4082279c2fd9a629605619a97aa5f5b0b73,Pin ARA to <1.0.0 and use stable setup interface to find callback plugin,MERGED,2019-05-24 14:57:32.000000000,2019-05-31 12:34:24.000000000,2019-05-31 12:34:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-24 14:57:32.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6ad00b910addf656064a7fc847b95329cd90a62', 'message': ""Pin ARA to <1.0.0 and use stable setup interface to find callback plugin\n\nARA 1.0 will be released in the near future and isn't backwards\ncompatible. Pin it so it doesn't break things unexpectedly.\n\nARA ships simple setup modules to help figure out the paths\nto where things are located.\nThese are backwards compatible from ARA 1.0 to 0.x.\n\nChange-Id: I3fe3f4082279c2fd9a629605619a97aa5f5b0b73\n""}]",0,661320,c6ad00b910addf656064a7fc847b95329cd90a62,7,3,1,9061,,,0,"Pin ARA to <1.0.0 and use stable setup interface to find callback plugin

ARA 1.0 will be released in the near future and isn't backwards
compatible. Pin it so it doesn't break things unexpectedly.

ARA ships simple setup modules to help figure out the paths
to where things are located.
These are backwards compatible from ARA 1.0 to 0.x.

Change-Id: I3fe3f4082279c2fd9a629605619a97aa5f5b0b73
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/661320/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,c6ad00b910addf656064a7fc847b95329cd90a62,pin-ara-1.0-stable/stein," sudo -H pip install -U ""ansible>=2.4"" ""docker>=2.0.0"" ""python-openstackclient"" ""ara<1.0.0"" ""cmd2<0.9.0"" ara_location=$(python -m ara.setup.callback_plugins)callback_plugins = ${ara_location}"," sudo -H pip install -U ""ansible>=2.4"" ""docker>=2.0.0"" ""python-openstackclient"" ""ara"" ""cmd2<0.9.0"" ara_location=$(python -c ""import os,ara; print(os.path.dirname(ara.__file__))"")callback_plugins = ${ara_location}/plugins/callbacks",3,3
openstack%2Fgovernance~master~Ic657850a06ec70dedf153ac754cfa707dbee2b90,openstack/governance,master,Ic657850a06ec70dedf153ac754cfa707dbee2b90,Rewrite IPv6 goal to be clearer that we already v6,MERGED,2019-05-04 23:45:16.000000000,2019-05-31 12:30:50.000000000,2019-05-31 12:30:50.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4146}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8099}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-04 23:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/3168658f2b772f142aaf549cc9cabd1d1406e15c', 'message': ""Rewrite IPv6 goal to be clearer that we already v6\n\nThe original IPv6 community goal is laudable, but misleading. It\nbehooves us to avoid incorrectly implying that we lack solid IPv6\nsupport. We've provided solutions for IPv6 connectivity to user\nresources for a very long time and even have users successfully\ndeploying OpenStack environments with IPv6 control planes. What we\ncan't demonstrate with confidence yet is that OpenStack is usable in\nIPv6-only environments (those with no traditilnal IPv4 addressing),\nso we should clarify that the goal is about taking that next step.\n\nChange-Id: Ic657850a06ec70dedf153ac754cfa707dbee2b90\n""}, {'number': 2, 'created': '2019-05-20 17:22:27.000000000', 'files': ['goals/train/ipv6-support-and-testing.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/a8fb6b3bd09c7c8803e9fe915e3d2e974bc540f1', 'message': ""Rewrite IPv6 goal to be clearer that we already v6\n\nThe original IPv6 community goal is laudable, but misleading. It\nbehooves us to avoid incorrectly implying that we lack solid IPv6\nsupport. We've provided solutions for IPv6 connectivity to user\nresources for a very long time and even have users successfully\ndeploying OpenStack environments with IPv6 control planes. What we\ncan't demonstrate with confidence yet is that OpenStack is usable in\nIPv6-only environments (those with no traditional IPv4 addressing),\nso we should clarify that the goal is about taking that next step.\n\nChange-Id: Ic657850a06ec70dedf153ac754cfa707dbee2b90\n""}]",9,657174,a8fb6b3bd09c7c8803e9fe915e3d2e974bc540f1,29,14,2,5263,,,0,"Rewrite IPv6 goal to be clearer that we already v6

The original IPv6 community goal is laudable, but misleading. It
behooves us to avoid incorrectly implying that we lack solid IPv6
support. We've provided solutions for IPv6 connectivity to user
resources for a very long time and even have users successfully
deploying OpenStack environments with IPv6 control planes. What we
can't demonstrate with confidence yet is that OpenStack is usable in
IPv6-only environments (those with no traditional IPv4 addressing),
so we should clarify that the goal is about taking that next step.

Change-Id: Ic657850a06ec70dedf153ac754cfa707dbee2b90
",git fetch https://review.opendev.org/openstack/governance refs/changes/74/657174/2 && git format-patch -1 --stdout FETCH_HEAD,['goals/train/ipv6-support-and-testing.rst'],1,3168658f2b772f142aaf549cc9cabd1d1406e15c,formal-vote,"============================= Support IPv6-Only Deployments ============================= For years now, OpenStack has provided and continually tested features for providing IPv6-ready environments, to the point where we've also seen interest in operating environments which have no traditional IPv4 at all so we need tests which can confirm this scenario also works well and does not regress. each other on only IPv6. endpoint) over only IPv6. This scenario is much needed when OpenStack services like Octavia and Sahara need to communicate to other services from compute VM. In most of the cases, above two scenarios might work fine but there is insufficient testing to prove it. The purpose of this goal is to add the integration testing of IPv6-only support setting for all the projects and adding the IPv6 support for inter-service communication where it doesn't exist. This goal may also entail the drafting of new standards such as a v6 equivalent for metadata services which popular clients can eventually implement. Below are the next steps for respective team to extend the IPv6 testing scope or documentation:#. Run the voting integration job with IPv6-only setting (or through supervision which will fail the job if intra-stack communication attempts to utilize IP version 4 protocol) in check and gate pipeline. This job will be suffixed as -IPv6-only. This integration job does not need to run all the tests present (or running in other integration jobs) in that project. The set of tests to run on these jobs will be decided on runtime based on each project requirement and considering the two scenarios listed above under the scope of this goal. For example:Most projects work fine with IPv6 already, but there is no testing to confirm IPv6 functionality and to avoid any breaking change to merge. By having a voting job running IPv6-only setting (or failing on any v4 communication which hasn't been whitelisted) will make sure we have the IPv6-only scenario working and will not regress.","======================== IPv6 Support and Testing ======================== IPv6 has been around over 10 years and most of the OpenStack projects do have IPv6 supports in general or at some extent depends on various scenarios and use cases. There are multiple levels of IPv6 support. For example, the two primary IPv6 use cases are: * OpenStack services listen and communicate with each other on IPv6. * OpenStack resources, for example Compute VM are assigned an IPv6 address and able to ssh and communicate with each other over IPv6. All these scenarios are good to target in OpenStack as complete software and most of them might have been working. But we do not have concrete testing for any of IPv6 scenario or use cases which means we do not know what all scenarios work properly or not regressed or never worked at all. It is always difficult to guarantee that all the use cases of IPv6 work and have been tested in the upstream gate. We can target to test and fix that one by one. each other on IPv6. endpoint) over IPv6. This scenario is much needed when OpenStack services like Octavia and Sahara need to communicate to other services from compute VM. In most of the cases, above two scenarios might work fine but there is not enough testing of IPv6. The purpose of this goal is to add the integration testing of IPv6-only support setting for all the projects and adding the IPv6 support for inter-service communication where it doesn't exist. Once we have integration jobs running as voting on gate to test the OpenStack services listen on IPv6 address and VM connectivity over IPv6, below are the next steps for respective team to extend the IPv6 testing scope or documentation:#. Run the voting integration job with IPv6-only setting in check and gate pipeline. This job will be suffixed as -IPv6-only. This integration job does not need to run all the tests present (or running in other integration jobs) in that project. The set of tests to run on these jobs will be decided on runtime based on each project requirement and considering the two scenarios listed above under the scope of this goal. For example:Most projects might be working fine with IPv6, but there is no testing to confirm IPv6 functionality and to avoid any breaking change to merge. By having a voting job running IPv6-only setting will make sure we have basic IPv6 scenario working and will not regress.",33,43
openstack%2Fgovernance~master~Id8b5400f27c4d61c2f0feff2abe12c1d940ea72b,openstack/governance,master,Id8b5400f27c4d61c2f0feff2abe12c1d940ea72b,Retire ansible-role-k8s-* repos,MERGED,2019-05-21 16:24:24.000000000,2019-05-31 12:30:49.000000000,2019-05-31 12:30:49.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 14985}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-21 16:24:24.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/a0f1047dfaa1fdd4331f2d6feda3188e4319308e', 'message': 'Retire ansible-role-k8s-* repos\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-May/006458.html\n\nChange-Id: Id8b5400f27c4d61c2f0feff2abe12c1d940ea72b\nDepends-On: https://review.opendev.org/#/c/660446/\n'}]",0,660448,a0f1047dfaa1fdd4331f2d6feda3188e4319308e,18,9,1,14985,,,0,"Retire ansible-role-k8s-* repos

http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006458.html

Change-Id: Id8b5400f27c4d61c2f0feff2abe12c1d940ea72b
Depends-On: https://review.opendev.org/#/c/660446/
",git fetch https://review.opendev.org/openstack/governance refs/changes/48/660448/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/projects.yaml']",2,a0f1047dfaa1fdd4331f2d6feda3188e4319308e,project-update,, ansible-role-k8s-cinder: repos: - openstack/ansible-role-k8s-cinder ansible-role-k8s-cookiecutter: repos: - openstack/ansible-role-k8s-cookiecutter ansible-role-k8s-glance: repos: - openstack/ansible-role-k8s-glance ansible-role-k8s-keystone: repos: - openstack/ansible-role-k8s-keystone ansible-role-k8s-mariadb: repos: - openstack/ansible-role-k8s-mariadb ansible-role-k8s-rabbitmq: repos: - openstack/ansible-role-k8s-rabbitmq ansible-role-k8s-tripleo: repos: - openstack/ansible-role-k8s-tripleo,28,21
openstack%2Fgovernance~master~I5b147d2845d27d982c97abf18275fcff798a516d,openstack/governance,master,I5b147d2845d27d982c97abf18275fcff798a516d,Add charm-vault to Charms governance,MERGED,2019-05-23 07:34:24.000000000,2019-05-31 12:30:48.000000000,2019-05-31 12:30:48.000000000,"[{'_account_id': 308}, {'_account_id': 935}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 6547}, {'_account_id': 8099}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 30467}]","[{'number': 1, 'created': '2019-05-23 07:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f058833c8138b04a883fe259c98b16165fc39662', 'message': 'Add charm-vault to governance\n\nCharm-vault has been an official member of the OpenStack Charms\nproject for some time, but was left out of governance in the past\nfor a few reasons. These reasons have recently been re-evaluated\nby the team and the conclusion has been to include this charm in\ngovernance.\n\nChange-Id: I5b147d2845d27d982c97abf18275fcff798a516d\n'}, {'number': 2, 'created': '2019-05-23 07:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/994316197c4d3f8ba07f7b40293557d966f5362e', 'message': 'Add charm-vault to Charms governance\n\nCharm-vault has been an official member of the OpenStack Charms\nproject for some time, but was left out of governance in the past\nfor a few reasons. These reasons have recently been re-evaluated\nby the team and the conclusion has been to include this charm in\ngovernance.\n\nChange-Id: I5b147d2845d27d982c97abf18275fcff798a516d\n'}, {'number': 3, 'created': '2019-05-23 14:03:34.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/1c3972db867b26627cb883eaa331be887afc1ba2', 'message': 'Add charm-vault to Charms governance\n\nCharm-vault has been an official member of the OpenStack Charms\nproject for some time, but was left out of governance in the past\nfor a few reasons. These reasons have recently been re-evaluated\nby the team and the conclusion has been to include this charm in\ngovernance.\n\nChange-Id: I5b147d2845d27d982c97abf18275fcff798a516d\n'}]",0,660908,1c3972db867b26627cb883eaa331be887afc1ba2,19,10,3,20634,,,0,"Add charm-vault to Charms governance

Charm-vault has been an official member of the OpenStack Charms
project for some time, but was left out of governance in the past
for a few reasons. These reasons have recently been re-evaluated
by the team and the conclusion has been to include this charm in
governance.

Change-Id: I5b147d2845d27d982c97abf18275fcff798a516d
",git fetch https://review.opendev.org/openstack/governance refs/changes/08/660908/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,f058833c8138b04a883fe259c98b16165fc39662,project-update, charm-vault: release-management: external repos: - openstack/charm-vault,,4,0
openstack%2Fpuppet-ovn~stable%2Fstein~I7e098075580721dfb7d3fb4b696ca8d33743ef84,openstack/puppet-ovn,stable/stein,I7e098075580721dfb7d3fb4b696ca8d33743ef84,Add DPDK support for OVN,MERGED,2019-05-30 13:31:46.000000000,2019-05-31 12:30:29.000000000,2019-05-31 12:30:28.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 13:31:46.000000000', 'files': ['metadata.json', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/69b547995f5f07a7c55f3a0a2c524b21b313d1ef', 'message': 'Add DPDK support for OVN\n\nOvS-DPDK on host requires the datapath type to be set\nas netdev and then invoking vswitch::dpdk to apply the\nDPDK specific parameters. Exposing those parameters\nto be used by the deployer.\n\nChange-Id: I7e098075580721dfb7d3fb4b696ca8d33743ef84\n(cherry picked from commit 97132fbf778b3cc0e0957f03cce08d4319de3a9c)\n'}]",0,662217,69b547995f5f07a7c55f3a0a2c524b21b313d1ef,8,4,1,3153,,,0,"Add DPDK support for OVN

OvS-DPDK on host requires the datapath type to be set
as netdev and then invoking vswitch::dpdk to apply the
DPDK specific parameters. Exposing those parameters
to be used by the deployer.

Change-Id: I7e098075580721dfb7d3fb4b696ca8d33743ef84
(cherry picked from commit 97132fbf778b3cc0e0957f03cce08d4319de3a9c)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/17/662217/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'manifests/controller.pp']",2,69b547995f5f07a7c55f3a0a2c524b21b313d1ef,ovn_dpdk-stable/stein,"# # [*datapath_type*] # (optional) Datapath type for ovs bridges # Defaults to $::os_service_default # # [*enable_dpdk*] # (optional) Enable or not DPDK with OVS # Defaults to false. # $datapath_type = $::os_service_default, $enable_dpdk = false, if $enable_dpdk and is_service_default($datapath_type) { fail('Datapath type must be set when DPDK is enabled') } if $enable_dpdk { require ::vswitch::dpdk } else { require ::vswitch::ovs } if ! is_service_default($datapath_type) { $datapath_config = { 'external_ids:ovn-bridge-datapath-type' => { 'value' => $datapath_type } } } else { $datapath_config = {} } create_resources('vs_config', merge($config_items, $bridge_items, $hw_offload, $datapath_config)) onlyif => ""ovs-vsctl br-exists ${br}"","," include ::vswitch::ovs create_resources('vs_config', merge($config_items, $bridge_items, $hw_offload))",38,3
openstack%2Fkolla-ansible~stable%2Fqueens~If65b26935e8bd1e6655d84259499f4013762e4e3,openstack/kolla-ansible,stable/queens,If65b26935e8bd1e6655d84259499f4013762e4e3,Upgrade identity v2 to identity v3 API,MERGED,2019-05-30 14:10:15.000000000,2019-05-31 12:22:32.000000000,2019-05-31 12:22:32.000000000,"[{'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23942}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-30 14:10:15.000000000', 'files': ['ansible/roles/karbor/templates/providers.d/openstack-infra.conf.j2', 'ansible/roles/neutron/templates/neutron_lbaas.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce546013e753d8f7b2c8d7ac02fc3e5a1b278d48', 'message': 'Upgrade identity v2 to identity v3 API\n\nAs of the Queens release, Keystone solely implements the Identity\nAPI v3. Support for Identity API v2.0 has been removed since Queens\nin favor of the Identity API v3.\n\nChange-Id: If65b26935e8bd1e6655d84259499f4013762e4e3\nCloses-Bug: #1778846\n(cherry picked from commit 4968508d7fcb2e8a9c21cf6943e3064c2be94cfe)\n'}]",0,662230,ce546013e753d8f7b2c8d7ac02fc3e5a1b278d48,8,5,1,15197,,,0,"Upgrade identity v2 to identity v3 API

As of the Queens release, Keystone solely implements the Identity
API v3. Support for Identity API v2.0 has been removed since Queens
in favor of the Identity API v3.

Change-Id: If65b26935e8bd1e6655d84259499f4013762e4e3
Closes-Bug: #1778846
(cherry picked from commit 4968508d7fcb2e8a9c21cf6943e3064c2be94cfe)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/662230/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/karbor/templates/providers.d/openstack-infra.conf.j2', 'ansible/roles/neutron/templates/neutron_lbaas.conf.j2']",2,ce546013e753d8f7b2c8d7ac02fc3e5a1b278d48,bug/1778846,auth_url = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }}/v3auth_version = 3project_domain_id = {{ default_project_domain_id }} user_domain_id = {{ default_user_domain_id }} ,auth_url = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }}/v2.0auth_version = 2,10,4
openstack%2Fkolla-ansible~stable%2Frocky~Ib219ad215d1ef2147ba3591f8c398feb4f3c8888,openstack/kolla-ansible,stable/rocky,Ib219ad215d1ef2147ba3591f8c398feb4f3c8888,Increase retries numbers of grafana check task,MERGED,2019-04-25 08:50:58.000000000,2019-05-31 12:22:25.000000000,2019-05-31 12:22:25.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-25 08:50:58.000000000', 'files': ['ansible/roles/grafana/tasks/post_config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f655ed9c901aa4d72629a80d29354e7d949f90a', 'message': ""Increase retries numbers of grafana check task\n\n20 seconds may be too short to wait for grafana ready, Let's keep the\ncheck task 60 seconds.\n\nbackport: rocky\n\nChange-Id: Ib219ad215d1ef2147ba3591f8c398feb4f3c8888\nCloses-Bug: #1821285\n(cherry picked from commit 20ef211f6a045ebfdf786564b6af3936345bbdc3)\n""}]",0,655632,1f655ed9c901aa4d72629a80d29354e7d949f90a,8,4,1,14826,,,0,"Increase retries numbers of grafana check task

20 seconds may be too short to wait for grafana ready, Let's keep the
check task 60 seconds.

backport: rocky

Change-Id: Ib219ad215d1ef2147ba3591f8c398feb4f3c8888
Closes-Bug: #1821285
(cherry picked from commit 20ef211f6a045ebfdf786564b6af3936345bbdc3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/655632/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/grafana/tasks/post_config.yml'],1,1f655ed9c901aa4d72629a80d29354e7d949f90a,bug/1821285-stable/rocky, retries: 30, retries: 10,1,1
openstack%2Fkolla-ansible~stable%2Frocky~Ia6d3935263a5909c71750b34eb69e72e6e558b7a,openstack/kolla-ansible,stable/rocky,Ia6d3935263a5909c71750b34eb69e72e6e558b7a,Constrain the size of Docker logs,MERGED,2019-05-17 15:18:49.000000000,2019-05-31 12:15:31.000000000,2019-05-31 12:15:31.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23942}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-17 15:18:49.000000000', 'files': ['ansible/group_vars/all.yml', 'releasenotes/notes/limit-docker-log-size-33133da03b232ece.yaml', 'ansible/roles/baremetal/templates/docker_systemd_service.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/354aa1d19b2b8fbeaeda35bed15626bab4acfa8b', 'message': 'Constrain the size of Docker logs\n\nEven though Kolla services are configured to log output to file rather than\nstdout, some stdout still occurs when for example the container re(starts).\nSince the Docker logs are not constrained in size, they can fill up the\ndocker volumes drive and bring down the host. One example of when this is\nparticularly problematic is when Fluentd cannot parse a log message. The\nwarning output is written to the Docker log and in production we have seen\nit eat 100GB of disk space in less than a day. We could configure Fluentd\nnot to do this, but the problem may still occur via another mechanism.\n\nChange-Id: Ia6d3935263a5909c71750b34eb69e72e6e558b7a\nCloses-Bug: #1794249\n(cherry picked from commit bd54b99132d019b747dcd98af9371628625c8a1b)\n'}]",0,659821,354aa1d19b2b8fbeaeda35bed15626bab4acfa8b,16,6,1,14826,,,0,"Constrain the size of Docker logs

Even though Kolla services are configured to log output to file rather than
stdout, some stdout still occurs when for example the container re(starts).
Since the Docker logs are not constrained in size, they can fill up the
docker volumes drive and bring down the host. One example of when this is
particularly problematic is when Fluentd cannot parse a log message. The
warning output is written to the Docker log and in production we have seen
it eat 100GB of disk space in less than a day. We could configure Fluentd
not to do this, but the problem may still occur via another mechanism.

Change-Id: Ia6d3935263a5909c71750b34eb69e72e6e558b7a
Closes-Bug: #1794249
(cherry picked from commit bd54b99132d019b747dcd98af9371628625c8a1b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/659821/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'releasenotes/notes/limit-docker-log-size-33133da03b232ece.yaml', 'ansible/roles/baremetal/templates/docker_systemd_service.j2']",3,354aa1d19b2b8fbeaeda35bed15626bab4acfa8b,bug/1794249-stable/rocky,"ExecStart=/usr/bin/{{ docker_binary_name|default(""docker daemon"", true) }}{% if docker_registry_insecure | bool %} --insecure-registry {{ docker_registry }}{% endif %}{% if docker_storage_driver %} --storage-driver {{ docker_storage_driver }}{% endif %}{% if docker_runtime_directory %} --graph {{ docker_runtime_directory }}{% endif %}{% if docker_custom_option %} {{ docker_custom_option }}{% endif %} --log-opt max-file={{ docker_log_max_file }} --log-opt max-size={{ docker_log_max_size }}","ExecStart=/usr/bin/{{ docker_binary_name|default(""docker daemon"", true) }}{% if docker_registry_insecure | bool %} --insecure-registry {{ docker_registry }}{% endif %}{% if docker_storage_driver %} --storage-driver {{ docker_storage_driver }}{% endif %}{% if docker_runtime_directory %} --graph {{ docker_runtime_directory }}{% endif %}{% if docker_custom_option %} {{ docker_custom_option }}{% endif %}",13,1
openstack%2Fkolla-ansible~stable%2Fstein~Ibb8ce5d262c03d3ddb0234cfcd41796677158f5b,openstack/kolla-ansible,stable/stein,Ibb8ce5d262c03d3ddb0234cfcd41796677158f5b,Fix bifrost tests (Stein),MERGED,2019-05-29 12:14:38.000000000,2019-05-31 12:15:30.000000000,2019-05-31 12:15:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-29 12:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/efaaaf5c2507613fa05b4f3f4f0287420da62bce', 'message': 'Fix bifrost tests (Stein)\n\nBifrost now requires the use of the openstack CLI rather than ironic.\n\nChange-Id: Ibb8ce5d262c03d3ddb0234cfcd41796677158f5b\n'}, {'number': 2, 'created': '2019-05-29 14:04:17.000000000', 'files': ['tests/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff186dbe9f4a8395d4e6e949ba9c45078e4f4872', 'message': 'Fix bifrost tests (Stein)\n\nBifrost now requires the use of the openstack CLI rather than ironic.\n\nChange-Id: Ibb8ce5d262c03d3ddb0234cfcd41796677158f5b\n'}]",0,661958,ff186dbe9f4a8395d4e6e949ba9c45078e4f4872,11,4,2,14826,,,0,"Fix bifrost tests (Stein)

Bifrost now requires the use of the openstack CLI rather than ironic.

Change-Id: Ibb8ce5d262c03d3ddb0234cfcd41796677158f5b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/661958/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/bifrost/defaults/main.yml', 'tests/test-bifrost.sh']",2,efaaaf5c2507613fa05b4f3f4f0287420da62bce,," while [[ $(sudo docker exec bifrost_deploy bash -c ""OS_CLOUD=bifrost openstack baremetal driver list -f value"" | wc -l) -eq 0 ]]; do sudo docker exec bifrost_deploy bash -c ""OS_CLOUD=bifrost openstack baremetal node list"" sudo docker exec bifrost_deploy bash -c ""OS_CLOUD=bifrost openstack baremetal node create --driver ipmi --name test-node"" sudo docker exec bifrost_deploy bash -c ""OS_CLOUD=bifrost openstack baremetal node delete test-node"""," while [[ $(sudo docker exec bifrost_deploy bash -c ""source env-vars && ironic driver-list"" | wc -l) -le 4 ]]; do sudo docker exec bifrost_deploy bash -c ""source env-vars && ironic node-list"" sudo docker exec bifrost_deploy bash -c ""source env-vars && ironic node-create --driver ipmi --name test-node"" sudo docker exec bifrost_deploy bash -c ""source env-vars && ironic node-delete test-node""",5,4
openstack%2Fdiskimage-builder~master~If9515234f1a803cda32b2482f8abe10ddf0e6d26,openstack/diskimage-builder,master,If9515234f1a803cda32b2482f8abe10ddf0e6d26,Increase size of EFI system partition (again),MERGED,2019-03-07 15:53:12.000000000,2019-05-31 12:13:42.000000000,2019-05-31 09:05:17.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 15197}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-07 15:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f59bad30ed119bc433298b8930a82daae2f49c86', 'message': 'Increase size of EFI system partition (again)\n\nWhen I said in I8594d1fe05242f246a5809740a115ab2f84ac5a3 that 12 MiB ought to\nbe enough, I should have expected that I would be proven wrong. While 12 MiB is\nenough to fit shim-x64 and grub2-efi-x64, yum fails to update these packages to\nnewer versions:\n\nTransaction check error:\n  installing package shim-x64-15-2.el7.centos.x86_64 needs 7MB on the /boot/efi filesystem\n  installing package grub2-efi-x64-1:2.02-0.76.el7.centos.1.x86_64 needs 3MB on the /boot/efi filesystem\n\nError Summary\n-------------\nDisk Requirements:\n  At least 7MB more space needed on the /boot/efi filesystem.\n\nBump partition size to 24MiB, hopefully it will be enough this time.\n\nChange-Id: If9515234f1a803cda32b2482f8abe10ddf0e6d26\n'}, {'number': 2, 'created': '2019-04-09 21:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7bf65af481452e86231c43e7a4232685ef7fbc96', 'message': 'Increase size of EFI system partition (again)\n\nWhen I said in I8594d1fe05242f246a5809740a115ab2f84ac5a3 that 12 MiB\nought to be enough, I should have expected that I would be proven wrong.\nWhile 12 MiB is enough to fit shim-x64 and grub2-efi-x64, yum fails to\nupdate these packages to newer versions:\n\nTransaction check error:\n  installing package shim-x64-15-2.el7.centos.x86_64 needs 7MB on the /boot/efi filesystem\n  installing package grub2-efi-x64-1:2.02-0.76.el7.centos.1.x86_64 needs 3MB on the /boot/efi filesystem\n\nError Summary\n-------------\nDisk Requirements:\n  At least 7MB more space needed on the /boot/efi filesystem.\n\nIt is recommended that the ESP partition be much bigger. This commit\nbumps its size to 550MiB, following guidelines from Rod Smith to avoid\nincompatibilities with some EFIs [1].\n\n[1] https://www.rodsbooks.com/efi-bootloaders/principles.html\n\nChange-Id: If9515234f1a803cda32b2482f8abe10ddf0e6d26\n'}, {'number': 3, 'created': '2019-05-31 07:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9138bd3e12b9cb68e627c128aa76cb67c6f17554', 'message': 'Increase size of EFI system partition (again)\n\nWhen I said in I8594d1fe05242f246a5809740a115ab2f84ac5a3 that 12 MiB\nought to be enough, I should have expected that I would be proven wrong.\nWhile 12 MiB is enough to fit shim-x64 and grub2-efi-x64, yum fails to\nupdate these packages to newer versions:\n\nTransaction check error:\n  installing package shim-x64-15-2.el7.centos.x86_64 needs 7MB on the /boot/efi filesystem\n  installing package grub2-efi-x64-1:2.02-0.76.el7.centos.1.x86_64 needs 3MB on the /boot/efi filesystem\n\nError Summary\n-------------\nDisk Requirements:\n  At least 7MB more space needed on the /boot/efi filesystem.\n\nIt is recommended that the ESP partition be much bigger. This commit\nbumps its size to 550MiB, following guidelines from Rod Smith to avoid\nincompatibilities with some EFIs [1].\n\n[1] https://www.rodsbooks.com/efi-bootloaders/principles.html\n\nChange-Id: If9515234f1a803cda32b2482f8abe10ddf0e6d26\n'}, {'number': 4, 'created': '2019-05-31 07:10:21.000000000', 'files': ['diskimage_builder/elements/block-device-efi/block-device-default.yaml', 'releasenotes/notes/gpt-esp-partition-size-200568cb6fcc8788.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7fd52ba84180b4e749ccf4c9db8c49eafff46ea8', 'message': 'Increase size of EFI system partition (again)\n\nWhen I said in I8594d1fe05242f246a5809740a115ab2f84ac5a3 that 12 MiB\nought to be enough, I should have expected that I would be proven wrong.\nWhile 12 MiB is enough to fit shim-x64 and grub2-efi-x64, yum fails to\nupdate these packages to newer versions:\n\nTransaction check error:\n  installing package shim-x64-15-2.el7.centos.x86_64 needs 7MB on the /boot/efi filesystem\n  installing package grub2-efi-x64-1:2.02-0.76.el7.centos.1.x86_64 needs 3MB on the /boot/efi filesystem\n\nError Summary\n-------------\nDisk Requirements:\n  At least 7MB more space needed on the /boot/efi filesystem.\n\nIt is recommended that the ESP partition be much bigger. This commit\nbumps its size to 550MiB, following guidelines from Rod Smith to avoid\nincompatibilities with some EFIs [1].\n\n[1] https://www.rodsbooks.com/efi-bootloaders/principles.html\n\nChange-Id: If9515234f1a803cda32b2482f8abe10ddf0e6d26\n'}]",0,641702,7fd52ba84180b4e749ccf4c9db8c49eafff46ea8,20,6,4,15197,,,0,"Increase size of EFI system partition (again)

When I said in I8594d1fe05242f246a5809740a115ab2f84ac5a3 that 12 MiB
ought to be enough, I should have expected that I would be proven wrong.
While 12 MiB is enough to fit shim-x64 and grub2-efi-x64, yum fails to
update these packages to newer versions:

Transaction check error:
  installing package shim-x64-15-2.el7.centos.x86_64 needs 7MB on the /boot/efi filesystem
  installing package grub2-efi-x64-1:2.02-0.76.el7.centos.1.x86_64 needs 3MB on the /boot/efi filesystem

Error Summary
-------------
Disk Requirements:
  At least 7MB more space needed on the /boot/efi filesystem.

It is recommended that the ESP partition be much bigger. This commit
bumps its size to 550MiB, following guidelines from Rod Smith to avoid
incompatibilities with some EFIs [1].

[1] https://www.rodsbooks.com/efi-bootloaders/principles.html

Change-Id: If9515234f1a803cda32b2482f8abe10ddf0e6d26
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/02/641702/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/block-device-efi/block-device-default.yaml'],1,f59bad30ed119bc433298b8930a82daae2f49c86,esp-size, size: 24MiB, size: 12MiB,1,1
openstack%2Fkolla-ansible~stable%2Fstein~I289dc4b90356049eaa756a69f814696453556f7c,openstack/kolla-ansible,stable/stein,I289dc4b90356049eaa756a69f814696453556f7c,CI Test: Support being source of a Ceph upgrade,MERGED,2019-05-09 17:50:01.000000000,2019-05-31 12:10:45.000000000,2019-05-31 12:10:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-09 17:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6b05ae391a7e592137e35ad2213fde15f19edf3', 'message': 'CI Test: Support being source of a Ceph upgrade\n\nAllow Stein release to be the source of a Ceph upgrade test.\n\nChange-Id: I289dc4b90356049eaa756a69f814696453556f7c\n'}, {'number': 2, 'created': '2019-05-10 08:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f75dbad184555754f6ee1827891cb6c4c170f3c1', 'message': 'CI Test: Support being source of a Ceph upgrade\n\nAllow Stein release to be the source of a Ceph upgrade test.\n\nChange-Id: I289dc4b90356049eaa756a69f814696453556f7c\n'}, {'number': 3, 'created': '2019-05-22 16:27:57.000000000', 'files': ['tests/test-openstack.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f50e331e1a3b377b0530fa3f99b542abef0a6005', 'message': 'CI Test: Support being source of a Ceph upgrade\n\nAllow Stein release to be the source of a Ceph upgrade test.\n\nChange-Id: I289dc4b90356049eaa756a69f814696453556f7c\n'}]",0,658163,f50e331e1a3b377b0530fa3f99b542abef0a6005,17,5,3,14826,,,0,"CI Test: Support being source of a Ceph upgrade

Allow Stein release to be the source of a Ceph upgrade test.

Change-Id: I289dc4b90356049eaa756a69f814696453556f7c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/658163/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-openstack.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'tools/setup_gate.sh']",4,f6b05ae391a7e592137e35ad2213fde15f19edf3,test-ceph-upgrade-stein," if [[ $ACTION =~ ""ceph"" ]]; then"," if [[ $ACTION == ""ceph"" ]]; then",9,7
openstack%2Fheat~master~I23493b1c477d082c478f87167de2c1859ba5ace7,openstack/heat,master,I23493b1c477d082c478f87167de2c1859ba5ace7,Fix regression with SW deployments when region not configured,MERGED,2019-05-29 19:45:55.000000000,2019-05-31 12:06:58.000000000,2019-05-30 05:12:37.000000000,"[{'_account_id': 6484}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-29 19:45:55.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d580565abff2997002eff856535bdfd2ddb44da7', 'message': 'Fix regression with SW deployments when region not configured\n\nThe region name eventually has to pass through an os-collect-config.conf\nfile, the format of which is unable to distinguish between the JSON null\n(equivalent to None in Python) and the string ""null"".\n\nThis means that Story 2002781 caused a regression for users who didn\'t\nhave the region_name_for_services config option explicitly set in\nheat.conf.\n\nTo avoid this, only specify the region when we know what it is.\n\nChange-Id: I23493b1c477d082c478f87167de2c1859ba5ace7\nStory: #2005797\nTask: 33527\nTask: 33528\n'}]",0,662078,d580565abff2997002eff856535bdfd2ddb44da7,12,5,1,4257,,,0,"Fix regression with SW deployments when region not configured

The region name eventually has to pass through an os-collect-config.conf
file, the format of which is unable to distinguish between the JSON null
(equivalent to None in Python) and the string ""null"".

This means that Story 2002781 caused a regression for users who didn't
have the region_name_for_services config option explicitly set in
heat.conf.

To avoid this, only specify the region when we know what it is.

Change-Id: I23493b1c477d082c478f87167de2c1859ba5ace7
Story: #2005797
Task: 33527
Task: 33528
",git fetch https://review.opendev.org/openstack/heat refs/changes/78/662078/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/software_deployment.py'],1,d580565abff2997002eff856535bdfd2ddb44da7,," if creds['region_name']: yield swc_io.InputConfig( name=self.DEPLOY_REGION_NAME, value=creds['region_name'], description=_('Region name for API authentication'))"," yield swc_io.InputConfig( name=self.DEPLOY_REGION_NAME, value=creds['region_name'], description=_('Region name for API authentication'))",5,3
openstack%2Fopenstack-ansible-os_tempest~master~Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2,openstack/openstack-ansible-os_tempest,master,Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2,Default network segmentation ID correctly,MERGED,2019-05-17 20:16:42.000000000,2019-05-31 12:06:21.000000000,2019-05-31 12:06:21.000000000,"[{'_account_id': 8367}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-17 20:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b783c8c0b953cac7aa2f8ad6161d26d39d9ec430', 'message': ""Default network segmentation ID correctly\n\nResolve an ansible 2.8 issue:\nargument provider_segmentation_id is of type <type 'str'> and we\nwere unable to convert to int: <type 'str'> cannot be converted to an\nint\n\nChange-Id: Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2\n""}, {'number': 2, 'created': '2019-05-22 12:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b0d8264c0d517ce4553530b0e0567f295fb9064d', 'message': ""Default network segmentation ID correctly\n\nResolve an ansible 2.8 issue:\nargument provider_segmentation_id is of type <type 'str'> and we\nwere unable to convert to int: <type 'str'> cannot be converted to an\nint\n\nDepends-On: https://review.opendev.org/#/c/660697/\nChange-Id: Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2\n""}, {'number': 3, 'created': '2019-05-22 16:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b82f4728847d857e0f46852a2fff7a3b3fce5758', 'message': ""Default network segmentation ID correctly\n\nResolve an ansible 2.8 issue:\nargument provider_segmentation_id is of type <type 'str'> and we\nwere unable to convert to int: <type 'str'> cannot be converted to an\nint\n\nDepends-On: https://review.opendev.org/#/c/660697/\nDepends-On: https://review.opendev.org/#/c/587733/\nChange-Id: Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2\n""}, {'number': 4, 'created': '2019-05-22 18:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e3b7aca9fe46c712cf129b1c3e453f1529eca253', 'message': ""Default network segmentation ID correctly\n\nResolve an ansible 2.8 issue:\nargument provider_segmentation_id is of type <type 'str'> and we\nwere unable to convert to int: <type 'str'> cannot be converted to an\nint\n\nDepends-On: https://review.opendev.org/#/c/660697/\nDepends-On: https://review.opendev.org/#/c/660772/\nChange-Id: Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2\n""}, {'number': 5, 'created': '2019-05-28 10:59:57.000000000', 'files': ['tasks/tempest_resources.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ad019ce477acc939075e58ecc433851cb767d85a', 'message': ""Default network segmentation ID correctly\n\nResolve an ansible 2.8 issue:\nargument provider_segmentation_id is of type <type 'str'> and we\nwere unable to convert to int: <type 'str'> cannot be converted to an\nint\n\nDepends-On: https://review.opendev.org/#/c/660697/\nDepends-On: https://review.opendev.org/#/c/660772/\nChange-Id: Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2\n""}]",0,659877,ad019ce477acc939075e58ecc433851cb767d85a,25,5,5,17799,,,0,"Default network segmentation ID correctly

Resolve an ansible 2.8 issue:
argument provider_segmentation_id is of type <type 'str'> and we
were unable to convert to int: <type 'str'> cannot be converted to an
int

Depends-On: https://review.opendev.org/#/c/660697/
Depends-On: https://review.opendev.org/#/c/660772/
Change-Id: Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/77/659877/5 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_resources.yml'],1,b783c8c0b953cac7aa2f8ad6161d26d39d9ec430,osa-update-ansible," provider_segmentation_id: ""{{ tempest_private_net_seg_id | default(omit, true) }}"" provider_segmentation_id: ""{{ tempest_public_net_seg_id | default(omit, true) }}"""," provider_segmentation_id: ""{{ tempest_private_net_seg_id | default(omit) }}"" provider_segmentation_id: ""{{ tempest_public_net_seg_id | default(omit) }}""",2,2
openstack%2Fheat~master~Iefd3cdd20bb51c63e7267ae0628e0f15544c0427,openstack/heat,master,Iefd3cdd20bb51c63e7267ae0628e0f15544c0427,Return None for attributes of sd with no actions,MERGED,2019-05-29 04:25:05.000000000,2019-05-31 12:06:14.000000000,2019-05-31 11:28:02.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 04:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5aa714eab36e16654ebdb849f00a9d45a37be99c', 'message': ""Return None for attributes of sd with no actions\n\nIf the 'actions' property of a deployment is [], we don't\ncreate a software deployment in heat and resource_id of the\nsoftware deployment is None. However, there is a possibility\nthat we access the attributes of the sd in the template and\nthat results in TypeError as we try to make an rpc call to\nshow the software deployment for None.\n\nChange-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427\nTask: 33516\n""}, {'number': 2, 'created': '2019-05-29 05:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9d89e3bcd22af8c69a58b1a6f3d0a526b367b774', 'message': ""Return None for attributes of sd with no actions\n\nIf the 'actions' property of a deployment is [], we don't\ncreate a software deployment in heat and resource_id of the\nsoftware deployment is None. However, there is a possibility\nthat we access the attributes of the sd in the template and\nthat results in TypeError as we try to make an rpc call to\nshow the software deployment for None.\n\nChange-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427\nTask: 33516\n""}, {'number': 3, 'created': '2019-05-29 16:57:27.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/openstack/heat/test_software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ee061103477ed7c9b4692a8b90817a127064fbcd', 'message': ""Return None for attributes of sd with no actions\n\nIf the 'actions' property of a deployment is [], we don't\ncreate a software deployment in heat and resource_id of the\nsoftware deployment is None. However, there is a possibility\nthat we access the attributes of the sd in the template and\nthat results in TypeError as we try to make an rpc call to\nshow the software deployment for None.\n\nChange-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427\nTask: 33516\n""}]",4,661889,ee061103477ed7c9b4692a8b90817a127064fbcd,28,3,3,8833,,,0,"Return None for attributes of sd with no actions

If the 'actions' property of a deployment is [], we don't
create a software deployment in heat and resource_id of the
software deployment is None. However, there is a possibility
that we access the attributes of the sd in the template and
that results in TypeError as we try to make an rpc call to
show the software deployment for None.

Change-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427
Task: 33516
",git fetch https://review.opendev.org/openstack/heat refs/changes/89/661889/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/software_deployment.py'],1,5aa714eab36e16654ebdb849f00a9d45a37be99c,, if self.resource_id is None: return None,,2,0
openstack%2Fnova~master~Iddd5f1f31a7bdcfee94b5113af0b2b25fe677edd,openstack/nova,master,Iddd5f1f31a7bdcfee94b5113af0b2b25fe677edd,Remove fake_libvirt_utils from snapshot tests.,MERGED,2019-03-11 20:23:54.000000000,2019-05-31 12:05:43.000000000,2019-05-31 12:05:43.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-11 20:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d163c5f990ba43dba64a1e8af09eefcce8ae519', 'message': 'Remove fake_libvirt_utils from snapshot tests.\n\nThis is probably the most complicated transition for this file.\nHowever, it makes it much clearer what each test expects in order\nto work correctly.\n\nChange-Id: Iddd5f1f31a7bdcfee94b5113af0b2b25fe677edd\n'}, {'number': 2, 'created': '2019-03-18 09:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bd732d30e47d583a07b36266f8e610ffe555956', 'message': 'Remove fake_libvirt_utils from snapshot tests.\n\nThis is probably the most complicated transition for this file.\nHowever, it makes it much clearer what each test expects in order\nto work correctly.\n\nChange-Id: Iddd5f1f31a7bdcfee94b5113af0b2b25fe677edd\n'}, {'number': 3, 'created': '2019-03-21 09:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30fc92b7db125f4b5378454dce74520a97048a5e', 'message': 'Remove fake_libvirt_utils from snapshot tests.\n\nThis is probably the most complicated transition for this file.\nHowever, it makes it much clearer what each test expects in order\nto work correctly.\n\nChange-Id: Iddd5f1f31a7bdcfee94b5113af0b2b25fe677edd\n'}, {'number': 4, 'created': '2019-04-02 08:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/507fc1de245e02826d72389a76958e582e79ed4a', 'message': 'Remove fake_libvirt_utils from snapshot tests.\n\nThis is probably the most complicated transition for this file.\nHowever, it makes it much clearer what each test expects in order\nto work correctly.\n\nChange-Id: Iddd5f1f31a7bdcfee94b5113af0b2b25fe677edd\n'}, {'number': 5, 'created': '2019-04-05 09:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ce0960f4868f9dca643112eb03cdafa42018085', 'message': 'Remove fake_libvirt_utils from snapshot tests.\n\nThis is probably the most complicated transition for this file.\nHowever, it makes it much clearer what each test expects in order\nto work correctly.\n\nChange-Id: Iddd5f1f31a7bdcfee94b5113af0b2b25fe677edd\n'}, {'number': 6, 'created': '2019-04-12 07:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d8faf7b46082b88260564a686f8ecb1d54f7fd4', 'message': 'Remove fake_libvirt_utils from snapshot tests.\n\nThis is probably the most complicated transition for this file.\nHowever, it makes it much clearer what each test expects in order\nto work correctly.\n\nChange-Id: Iddd5f1f31a7bdcfee94b5113af0b2b25fe677edd\n'}, {'number': 7, 'created': '2019-04-22 22:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c90f55bf2fe21b94336990db5595163ab6c4dd48', 'message': 'Remove fake_libvirt_utils from snapshot tests.\n\nThis is probably the most complicated transition for this file.\nHowever, it makes it much clearer what each test expects in order\nto work correctly.\n\nChange-Id: Iddd5f1f31a7bdcfee94b5113af0b2b25fe677edd\n'}, {'number': 8, 'created': '2019-05-13 20:27:48.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d43cab00a6c18dd3778f0a4e83ec5e753ab498ab', 'message': 'Remove fake_libvirt_utils from snapshot tests.\n\nThis is probably the most complicated transition for this file.\nHowever, it makes it much clearer what each test expects in order\nto work correctly.\n\nChange-Id: Iddd5f1f31a7bdcfee94b5113af0b2b25fe677edd\n'}]",0,642558,d43cab00a6c18dd3778f0a4e83ec5e753ab498ab,65,11,8,2271,,,0,"Remove fake_libvirt_utils from snapshot tests.

This is probably the most complicated transition for this file.
However, it makes it much clearer what each test expects in order
to work correctly.

Change-Id: Iddd5f1f31a7bdcfee94b5113af0b2b25fe677edd
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/642558/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,8d163c5f990ba43dba64a1e8af09eefcce8ae519,fake-cleanup,"def _fake_file_like_object(*args, **kwargs): return io.BytesIO(b'') @mock.patch('nova.virt.libvirt.utils.create_image') def _create_image(self, mock_create_image, extra_properties=None): @mock.patch('nova.virt.libvirt.utils.get_disk_size', return_value=0) @mock.patch('nova.virt.libvirt.utils.create_cow_image') @mock.patch('nova.virt.libvirt.utils.get_disk_backing_file', return_value=None) @mock.patch('nova.virt.libvirt.utils.extract_snapshot', side_effect=_fake_file_like_object) @mock.patch('nova.virt.libvirt.utils.file_open', side_effect=_fake_file_like_object) def _snapshot(self, image_id, mock_file_open, mock_extract_snapshot, mock_get_disk_backing_file, mock_create_cow_image, mock_get_disk_size, mock_get_domain, mock_resolve, mock_version, mock_disk_op_sema): @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value=None) @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('filename', 'qcow2')) def test_ami(self, mock_find_disk, mock_get_disk_type_from_path): @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value=None) @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('filename', 'raw')) def test_raw(self, mock_convert_image, mock_find_disk, mock_get_disk_type_from_path): @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value=None) @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('filename', 'qcow2')) def test_qcow2(self, mock_find_disk, mock_get_disk_type_from_path): @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value='ploop') @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('unknown_disk_type', None)) def test_ploop(self, mock_convert_image, mock_find_disk, mock_get_disk_type_from_path): @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value=None) @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('filename', 'qcow2')) def test_no_image_architecture(self, mock_find_disk, mock_get_disk_type_from_path): @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value=None) @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('filename', 'qcow2')) def test_no_original_image(self, mock_find_disk, mock_get_disk_type_from_path): @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value=None) @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('filename', 'qcow2')) def test_snapshot_metadata_image(self, mock_find_disk, mock_get_disk_type_from_path): @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value=None) @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('filename', 'qcow2')) def test_snapshot_update_task_state_failed(self, mock_exception, mock_find_disk, mock_get_disk_type_from_path): @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('filename', 'qcow2')) def test_failing_domain_not_found(self, mock_write_config, mock_get_guest, mock_find_disk): @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value='rbd') @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('rbd://some/fake/rbd/image', 'raw')) def test_raw_with_rbd_clone(self, mock_rbd, mock_driver, mock_find_disk, mock_get_disk_type_from_path): self._test_snapshot(disk_format='raw') @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value='rbd') @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('rbd://some/fake/rbd/image', 'raw')) @mock.patch.object(libvirt_driver.imagebackend.images, 'convert_image', return_value=b'') def test_raw_with_rbd_clone_graceful_fallback( self, mock_rbd, mock_driver, mock_convert_image, mock_find_disk, mock_get_disk_type_from_path): self._test_snapshot(disk_format='raw') self.assertFalse(rbd.clone.called) @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value='rbd') @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('rbd://some/fake/rbd/image', 'raw')) @mock.patch.object(libvirt_driver.imagebackend.images, 'convert_image', return_value=b'') def test_raw_with_rbd_clone_eperm(self, mock_rbd, mock_driver, mock_convert_image, mock_find_disk, mock_get_disk_type_from_path): self._test_snapshot(disk_format='raw') # Ensure that the direct_snapshot attempt was cleaned up rbd.remove_snap.assert_called_with('c', 'd', ignore_errors=False, pool='b', force=True) @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value='rbd') @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('rbd://some/fake/rbd/image', 'raw')) def test_raw_with_rbd_clone_post_process_fails( self, mock_rbd, mock_driver, mock_find_disk, mock_get_disk_type_from_path): with mock.patch.object(self.image_service, 'update', side_effect=test.TestingException): @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value='rbd') @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('rbd://some/fake/rbd/image', 'raw')) @mock.patch.object(rbd_utils, 'RBDDriver') @mock.patch.object(rbd_utils, 'rbd') @mock.patch('nova.virt.libvirt.imagebackend.Rbd.direct_snapshot') @mock.patch('nova.virt.libvirt.imagebackend.Rbd.resolve_driver_format') def test_raw_with_rbd_clone_is_live_snapshot( self, mock_get_guest, mock_version, mock_resolve, mock_snapshot, mock_rbd, mock_driver, mock_find_disk, mock_get_disk_type_from_path): @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value='rbd') side_effect=[io.BytesIO(b''), io.BytesIO(b'')]) @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('filename', 'rbd')) @mock.patch('nova.virt.libvirt.utils.file_open', return_value=io.BytesIO(b'')) @mock.patch('nova.virt.libvirt.imagebackend.Rbd.resolve_driver_format') def test_raw_with_rbd_clone_failure_does_cold_snapshot( self, mock_rbd, mock_driver, mock_get_guest, mock_version, mock_resolve, mock_file_open, mock_find_disk, mock_convert, mock_get_disk_type_from_path): with mock.patch.object(driver, ""suspend"") as mock_suspend: driver.snapshot(self.context, self.instance_ref, recv_meta['id'], self.mock_update_task_state) self.assertTrue(mock_suspend.called) @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value='rbd') @mock.patch.object(libvirt_driver.imagebackend.images, 'convert_image', side_effect=[io.BytesIO(b''), io.BytesIO(b'')]) @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('filename', 'rbd')) @mock.patch('nova.virt.libvirt.utils.file_open', return_value=io.BytesIO(b'')) self, mock_version, mock_get_guest, mock_file_open, mock_find_disk, mock_convert, mock_get_disk_type_from_path): @mock.patch('nova.virt.libvirt.utils.find_disk', return_value=('/dev/nova-vg/lv', 'raw')) @mock.patch('nova.virt.libvirt.utils.get_disk_backing_file', return_value=None) @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', return_value='lvm') @mock.patch('nova.virt.libvirt.utils.file_open', side_effect=[io.BytesIO(b''), io.BytesIO(b'')]) 'convert_image') mock_convert_image, mock_file_opem, mock_get_disk_type_from_path, mock_get_disk_backing_file, mock_find_disk):"," self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.libvirt_utils', fake_libvirt_utils)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.libvirt_utils', fake_libvirt_utils)) def _create_image(self, extra_properties=None): def _snapshot(self, image_id, mock_get_domain, mock_resolve, mock_version, mock_disk_op_sema): def test_ami(self): @mock.patch.object(fake_libvirt_utils, 'disk_type', new='raw') def test_raw(self, mock_convert_image): def test_qcow2(self): @mock.patch.object(fake_libvirt_utils, 'disk_type', new='ploop') def test_ploop(self, mock_convert_image): def test_no_image_architecture(self): def test_no_original_image(self): def test_snapshot_metadata_image(self): def test_snapshot_update_task_state_failed(self, mock_exception): def test_failing_domain_not_found(self, mock_write_config, mock_get_guest): def test_raw_with_rbd_clone(self, mock_rbd, mock_driver): with mock.patch.object(fake_libvirt_utils, 'find_disk', return_value=('rbd://some/fake/rbd/image', 'raw')): with mock.patch.object(fake_libvirt_utils, 'disk_type', new='rbd'): self._test_snapshot(disk_format='raw') def test_raw_with_rbd_clone_graceful_fallback(self, mock_rbd, mock_driver): with test.nested( mock.patch.object(libvirt_driver.imagebackend.images, 'convert_image', side_effect=_fake_convert_image), mock.patch.object(fake_libvirt_utils, 'find_disk', return_value=('rbd://some/fake/rbd/image', 'raw')), mock.patch.object(fake_libvirt_utils, 'disk_type', new='rbd')): self._test_snapshot(disk_format='raw') self.assertFalse(rbd.clone.called) def test_raw_with_rbd_clone_eperm(self, mock_rbd, mock_driver): with test.nested( mock.patch.object(libvirt_driver.imagebackend.images, 'convert_image', side_effect=_fake_convert_image), mock.patch.object(fake_libvirt_utils, 'find_disk', return_value=('rbd://some/fake/rbd/image', 'raw')), mock.patch.object(fake_libvirt_utils, 'disk_type', new='rbd')): self._test_snapshot(disk_format='raw') # Ensure that the direct_snapshot attempt was cleaned up rbd.remove_snap.assert_called_with('c', 'd', ignore_errors=False, pool='b', force=True) def test_raw_with_rbd_clone_post_process_fails(self, mock_rbd, mock_driver): with test.nested( mock.patch.object(fake_libvirt_utils, 'find_disk', return_value=('rbd://some/fake/rbd/image', 'raw')), mock.patch.object(fake_libvirt_utils, 'disk_type', new='rbd'), mock.patch.object(self.image_service, 'update', side_effect=test.TestingException)): @mock.patch.object(imagebackend.Image, 'direct_snapshot') @mock.patch.object(imagebackend.Image, 'resolve_driver_format') def test_raw_with_rbd_clone_is_live_snapshot(self, mock_get_guest, mock_version, mock_resolve, mock_snapshot): side_effect=_fake_convert_image) @mock.patch.object(fake_libvirt_utils, 'find_disk') @mock.patch.object(imagebackend.Image, 'resolve_driver_format') def test_raw_with_rbd_clone_failure_does_cold_snapshot(self, mock_rbd, mock_driver, mock_get_guest, mock_version, mock_resolve, mock_find_disk, mock_convert): with mock.patch.object(fake_libvirt_utils, 'disk_type', new='rbd'): with mock.patch.object(driver, ""suspend"") as mock_suspend: driver.snapshot(self.context, self.instance_ref, recv_meta['id'], self.mock_update_task_state) self.assertTrue(mock_suspend.called) self, mock_version, mock_get_guest): @mock.patch.object(fake_libvirt_utils, 'disk_type', new='lvm') 'convert_image', side_effect=_fake_convert_image) mock_convert_image):",160,87
openstack%2Fneutron~master~I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659,openstack/neutron,master,I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659,Add Smart NIC representor port to integration bridge,MERGED,2018-07-26 14:33:39.000000000,2019-05-31 12:05:36.000000000,2019-05-31 12:05:36.000000000,"[{'_account_id': 333}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 8976}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 13995}, {'_account_id': 14807}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18051}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23851}, {'_account_id': 26622}, {'_account_id': 26682}, {'_account_id': 27654}, {'_account_id': 28373}, {'_account_id': 28692}, {'_account_id': 28714}, {'_account_id': 29271}]","[{'number': 1, 'created': '2018-07-26 14:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4505c395bd5e21dc9de7222fce6c62cd72c6f5eb', 'message': 'Add SmartNIC representor port to integeration bridge\nin case of baremetal vNIC type\n\nDepends-On: I68c7334e1e377a85694a9791295683ff4fcbee35\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 2, 'created': '2018-08-02 14:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc166b307ad89400def1c160b83dfc492396d105', 'message': 'Add SmartNIC representor port to integeration bridge\nin case of baremetal vNIC type\n\nDepends-On: I68c7334e1e377a85694a9791295683ff4fcbee35\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 3, 'created': '2018-08-02 14:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28ed33878f14dfab7ff9932d3b049663bd1f0894', 'message': 'Add SmartNIC representor port to integeration bridge\nin case of baremetal vNIC type\n\nDepends-On: I68c7334e1e377a85694a9791295683ff4fcbee35\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 4, 'created': '2018-08-06 08:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78a83a76ae527b172470163678283fb59ee89814', 'message': 'Add SmartNIC representor port to integeration bridge\nin case of baremetal vNIC type\n\nDepends-On: I68c7334e1e377a85694a9791295683ff4fcbee35\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 5, 'created': '2018-08-08 14:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/198a17729a65b58caf5a0d5eb1b5ec33cbf72c23', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of baremetal vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 6, 'created': '2018-11-21 21:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/688146028520a9c00906c8ac1a6ffd940bd11229', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of baremetal vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 7, 'created': '2018-11-26 11:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad3d85ce290551ef12a854895050e7990481ddf2', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of baremetal vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nCloses-Bug: #1785608\nDepends-On: I658754f7f8c74087b0aabfdef222a2c0b5698541\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 8, 'created': '2018-11-28 10:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2f96e5e0f18d622f7d5121ea62342a9b7e82a60', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of baremetal vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nCloses-Bug: #1785608\nDepends-On: I658754f7f8c74087b0aabfdef222a2c0b5698541\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 9, 'created': '2018-12-03 14:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3aa589c40381b10e000ef65b9416ab3831d847de', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of baremetal vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nCloses-Bug: #1785608\nDepends-On: I658754f7f8c74087b0aabfdef222a2c0b5698541\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 10, 'created': '2018-12-12 11:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ee0c1d13da97845d7ea3d49b791b2d8f0165b49', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of baremetal vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nCloses-Bug: #1785608\nDepends-On: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\nDepends-On: I658754f7f8c74087b0aabfdef222a2c0b5698541\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 11, 'created': '2018-12-12 11:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b351f96c4544c4d3170b86eb5e5e822ec5ee09c2', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of baremetal vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nCloses-Bug: #1785608\nDepends-On: I91f63810626ce4e054e358f5de5e46434c4da131\nDepends-On: I658754f7f8c74087b0aabfdef222a2c0b5698541\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 12, 'created': '2018-12-13 14:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49abcaf3e246eb1708ab70b2b0e506196151a88d', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of baremetal vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nCloses-Bug: #1785608\nDepends-On: I91f63810626ce4e054e358f5de5e46434c4da131\nDepends-On: I658754f7f8c74087b0aabfdef222a2c0b5698541\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 13, 'created': '2018-12-13 14:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e511a0d1fadc7406b69eb7d5dec68df1df525fa5', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of baremetal vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nCloses-Bug: #1785608\nDepends-On: I91f63810626ce4e054e358f5de5e46434c4da131\nDepends-On: I658754f7f8c74087b0aabfdef222a2c0b5698541\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 14, 'created': '2018-12-16 11:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39df14b536fbe211129c50a3f3b96614dfbc5c15', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of smart-nic vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nCloses-Bug: #1785608\nDepends-On: I91f63810626ce4e054e358f5de5e46434c4da131\nDepends-On: I658754f7f8c74087b0aabfdef222a2c0b5698541\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 15, 'created': '2018-12-25 12:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7d6ed1d5d2282b632a29042dd8efe4108cd1b3b', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of smart-nic vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 16, 'created': '2018-12-25 13:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0430c5db52534b6973f9517e5a3d90257c988201', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of smart-nic vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 17, 'created': '2019-01-06 09:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/54cc4539d83c284587a2cc561a4a17962f5df38e', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of smart-nic vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 18, 'created': '2019-01-08 12:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a4bc32c7a1bfa7dad2def05ef47b74a15f2e25f', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of smart-nic vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 19, 'created': '2019-01-22 12:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/986e1c72dd50cdcce5ab452cff432e3954634366', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of smart-nic vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 20, 'created': '2019-01-27 11:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbc599d691f99e6e9f48a9be216889608c25cbea', 'message': 'Add SmartNIC representor port to integeration bridge\n\nIn case of smart-nic vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 21, 'created': '2019-01-30 18:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cc183a0d7097b9865a002e57b9be438bee07768', 'message': 'Add Smart NIC representor port to integeration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 22, 'created': '2019-02-03 12:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da992c6670bca084aa91a5786aa134407574375f', 'message': 'Add Smart NIC representor port to integeration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 23, 'created': '2019-02-10 10:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68f9ccbc869baf41c3edc7b7f2338a89c51736e9', 'message': 'Add Smart NIC representor port to integeration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 24, 'created': '2019-02-17 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9f16c2bcbad25bced0c8fbde0dc6476cf11d7fa', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 25, 'created': '2019-02-20 11:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78a6d00d6d92649e39d5390e52fe574e2d9022bf', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 26, 'created': '2019-02-24 20:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4747ba0bd0233432af288699e89ddabd36f3f157', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 27, 'created': '2019-02-24 20:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/287ff43a7d4a6b840e6ab41fd1318453a6f49927', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 28, 'created': '2019-02-26 10:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c28bfbbda1feb2e7a11a54737f6255de8fe73468', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 29, 'created': '2019-02-26 11:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bad9ca2b1160381b96a56263b9e45286f81d9e7d', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 30, 'created': '2019-02-27 13:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1702b4b09dbc73097d8a587b82e44f6626318f62', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 31, 'created': '2019-02-27 14:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e035d5d95af9a20eead53da1fdbfff374b3d1e1', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 32, 'created': '2019-02-28 14:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6768c410bac2d1e0360ae86d38e5efae687ec4a1', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 33, 'created': '2019-03-02 13:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7b25b5aabaecf09cdc973e0e5eb6af3e4c7cd71', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 34, 'created': '2019-03-05 20:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83468dc4c57611052103786e8164476bf4578b5d', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 35, 'created': '2019-03-10 11:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a113270e33432d24f5cc4713c52b7e2c8c94597a', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 36, 'created': '2019-03-17 14:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e171e9010fa8174e6e87332927fa84117bdd365f', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 37, 'created': '2019-03-24 14:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51011d9a3f992b7d4041f5407ebd2fb8f2334674', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 38, 'created': '2019-04-14 12:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f896b647612bc7ab8591e0fe7a3b610f82441b25', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 39, 'created': '2019-04-21 11:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d416a02e7d6843dbe7d97526ab02455d20854a0b', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 40, 'created': '2019-05-05 13:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9d0c995ade170733ce66ed689e995fdbea138c0', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 41, 'created': '2019-05-20 10:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eeee9a6c300d3183ec3eaaf75c90a0c1fb335bbc', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 42, 'created': '2019-05-21 08:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e39234041d0904c535aa1deb461e5614de4c1101', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 43, 'created': '2019-05-21 20:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd1e67a1e1a265f7a8eb5ee6d6f37262e8d9f49c', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 44, 'created': '2019-05-22 08:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7992d8578ea2e4276997ccf9e1d31600058986d9', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 45, 'created': '2019-05-22 18:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9943133e44db535fd3dfbdfae86a23bf82631af', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}, {'number': 46, 'created': '2019-05-23 07:53:30.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/agent/test_rpc.py', 'neutron/plugins/ml2/rpc.py', 'lower-constraints.txt', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py', 'neutron/agent/rpc.py', 'neutron/objects/ports.py', 'neutron/plugins/ml2/plugin.py', 'releasenotes/notes/add-smartnic-support-53d25564bab0cbc5.yaml', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'requirements.txt', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/tests/unit/plugins/ml2/test_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4243ad3f72b3dc7ef5f291a85a3dd084d6c1c00', 'message': 'Add Smart NIC representor port to integration bridge\n\nIn case of Smart NIC vNIC type neutron should mimic nova-compute\nthat plug the port to the ovs bridge.\n\nExtend the Neutron OVS mechanism driver and Neutron OVS Agent to bind\nthe Neutron port for the baremetal host with Smart NIC. This will allow\nthe Neutron OVS Agent to configure the pipeline of the OVS running on\nthe Smart NIC and leverage the pipeline features such as: VXLAN,\nSecurity Groups and ARP Responder.\n\nStory: #2003346\nCloses-Bug: #1785608\nChange-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659\n'}]",176,586252,b4243ad3f72b3dc7ef5f291a85a3dd084d6c1c00,392,31,46,22948,,,0,"Add Smart NIC representor port to integration bridge

In case of Smart NIC vNIC type neutron should mimic nova-compute
that plug the port to the ovs bridge.

Extend the Neutron OVS mechanism driver and Neutron OVS Agent to bind
the Neutron port for the baremetal host with Smart NIC. This will allow
the Neutron OVS Agent to configure the pipeline of the OVS running on
the Smart NIC and leverage the pipeline features such as: VXLAN,
Security Groups and ARP Responder.

Story: #2003346
Closes-Bug: #1785608
Change-Id: I6d520d3bac2e9ceb30b5b6197c6eb0f958cc3659
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/586252/22 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,4505c395bd5e21dc9de7222fce6c62cd72c6f5eb,bluefield," # In case of baremetal vnic type, add smartnic representor port to # the integration bridge. port_data = self.plugin_rpc.remote_resource_cache. \ get_resource_by_id(resources.PORT, port['id']) if not port_data: LOG.warning('Failed to get port details, port id: %s', port['id']) return if port_data.binding['vnic_type'] == 'baremetal': try: rep_port = port_data.binding['profile'][ 'local_link_information'][0]['port_id'] vif_type = port_data.binding['vif_type'] if vif_type == 'ovs': mac = port_data['mac_address'] iface_id = port_data.binding['port_id'] utils.execute(['ovs-vsctl', '--', '--may-exist', 'add-port', 'br-int', rep_port, '--', 'set', 'Interface', rep_port, 'external-ids:iface-id=%s' % iface_id, 'external-ids:iface-status=active', 'external-ids:attached-mac=%s' % mac, 'external-ids:vm-uuid=%s' % port_data['device_id']], run_as_root=True) elif vif_type == 'unbound': utils.execute(['ovs-vsctl', '--if-exists', 'del-port', 'br-int', '%s' % rep_port], run_as_root=True) except Exception as e: LOG.warning(""Failed to add port to ovs %s"", e) pass ",,33,0
openstack%2Fdiskimage-builder~master~I9de9f33c2cc16596d04b35c4eb92621e6a2c7511,openstack/diskimage-builder,master,I9de9f33c2cc16596d04b35c4eb92621e6a2c7511,Makes image caching more resilient,MERGED,2019-04-30 09:12:49.000000000,2019-05-31 11:47:44.000000000,2019-05-31 08:54:31.000000000,"[{'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 7118}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-04-30 09:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cc31a5d784a02b9f2e43fad5d2c836c77263d2cd', 'message': 'Makes imave caching more resilient to network flakiness\n\nAvoids failing on the first attempt to download the image to cache as\nmirrors hosting them can randomly go down, usually with a connection\nrefused.\n\nChange-Id: I9de9f33c2cc16596d04b35c4eb92621e6a2c7511\n'}, {'number': 2, 'created': '2019-04-30 09:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c8298a0518d83ac5922e82cc63ba240bd994deca', 'message': 'Makes image caching more resilient\n\nAvoids failing on the first attempt to download the image to cache as\nmirrors hosting them can randomly go down, usually with a connection\nrefused.\n\nChange-Id: I9de9f33c2cc16596d04b35c4eb92621e6a2c7511\n'}, {'number': 3, 'created': '2019-05-31 06:31:54.000000000', 'files': ['diskimage_builder/elements/cache-url/bin/cache-url'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fb656718fbf3d9c91d29d9c9f62fda43b8a65dd6', 'message': 'Makes image caching more resilient\n\nAvoids failing on the first attempt to download the image to cache as\nmirrors hosting them can randomly go down, usually with a connection\nrefused.\n\nChange-Id: I9de9f33c2cc16596d04b35c4eb92621e6a2c7511\n'}]",0,656478,fb656718fbf3d9c91d29d9c9f62fda43b8a65dd6,19,11,3,24162,,,0,"Makes image caching more resilient

Avoids failing on the first attempt to download the image to cache as
mirrors hosting them can randomly go down, usually with a connection
refused.

Change-Id: I9de9f33c2cc16596d04b35c4eb92621e6a2c7511
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/78/656478/3 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/cache-url/bin/cache-url'],1,cc31a5d784a02b9f2e43fad5d2c836c77263d2cd,fix/curl-retry,"curl_opts=""--retry 3 --retry-delay 30""","curl_opts=""""",1,1
openstack%2Fdiskimage-builder~master~I60d83414fdc241d65eda8ab88c8e284e5d0bd257,openstack/diskimage-builder,master,I60d83414fdc241d65eda8ab88c8e284e5d0bd257,bindep: exclude zypper from debian-stretch,MERGED,2019-02-08 18:23:31.000000000,2019-05-31 11:42:16.000000000,2019-05-31 09:10:45.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-08 18:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dae7399284b1ac373b11b2e1f425783ce8ac92bc', 'message': 'bindep: exclude zypper from debian-stretch\n\nIt seems that zypper was removed from debian-stretch which means\nthat we have to ignore it in bindep (likely for the same reason\nthat we are excluding bionic)[1].\n\n[1]: https://tracker.debian.org/news/836378/zypper-removed-from-testing/\n\nChange-Id: I60d83414fdc241d65eda8ab88c8e284e5d0bd257\n'}, {'number': 2, 'created': '2019-05-31 07:02:28.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4236a784ff672e30430a439ed02d26692be4015d', 'message': 'bindep: exclude zypper from debian-stretch\n\nIt seems that zypper was removed from debian-stretch which means\nthat we have to ignore it in bindep (likely for the same reason\nthat we are excluding bionic)[1].\n\n[1]: https://tracker.debian.org/news/836378/zypper-removed-from-testing/\n\nChange-Id: I60d83414fdc241d65eda8ab88c8e284e5d0bd257\n'}]",0,635910,4236a784ff672e30430a439ed02d26692be4015d,20,4,2,1004,,,0,"bindep: exclude zypper from debian-stretch

It seems that zypper was removed from debian-stretch which means
that we have to ignore it in bindep (likely for the same reason
that we are excluding bionic)[1].

[1]: https://tracker.debian.org/news/836378/zypper-removed-from-testing/

Change-Id: I60d83414fdc241d65eda8ab88c8e284e5d0bd257
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/10/635910/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,dae7399284b1ac373b11b2e1f425783ce8ac92bc,add-docker-images,zypper [!platform:debian-stretch !platform:redhat !platform:ubuntu-trusty !platform:ubuntu-bionic],zypper [!platform:redhat !platform:ubuntu-trusty !platform:ubuntu-bionic],1,1
openstack%2Fperformance-docs~master~Iacb1238ab1354443fbeeffcc6d0e90127040d418,openstack/performance-docs,master,Iacb1238ab1354443fbeeffcc6d0e90127040d418,Update home-page,MERGED,2019-01-11 17:18:40.000000000,2019-05-31 11:39:47.000000000,2019-05-31 11:39:47.000000000,"[{'_account_id': 5950}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-01-11 17:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/performance-docs/commit/77f8a627db8eb15226a3a5eb54da7cc8363a3ec4', 'message': 'Update home-page\n\nChange-Id: Iacb1238ab1354443fbeeffcc6d0e90127040d418\n'}, {'number': 2, 'created': '2019-05-30 09:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/performance-docs/commit/e73cf4637e1794a1b1b7578a7a8ae32d1437349a', 'message': 'Update home-page\n\nChange-Id: Iacb1238ab1354443fbeeffcc6d0e90127040d418\n'}, {'number': 3, 'created': '2019-05-30 09:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/performance-docs/commit/0b84942d882c3fbb8ae3ecb19c36597ae12beb2e', 'message': 'Update home-page\n\nChange-Id: Iacb1238ab1354443fbeeffcc6d0e90127040d418\n'}, {'number': 4, 'created': '2019-05-31 08:56:02.000000000', 'files': ['scripts/rally-runners/setup.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/performance-docs/commit/869f4ca522512ae16431e9d165edc810fa94e8a8', 'message': 'Update home-page\n\nChange-Id: Iacb1238ab1354443fbeeffcc6d0e90127040d418\n'}]",0,630347,869f4ca522512ae16431e9d165edc810fa94e8a8,19,6,4,26297,,,0,"Update home-page

Change-Id: Iacb1238ab1354443fbeeffcc6d0e90127040d418
",git fetch https://review.opendev.org/openstack/performance-docs refs/changes/47/630347/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/rally-runners/setup.cfg', 'setup.cfg']",2,77f8a627db8eb15226a3a5eb54da7cc8363a3ec4,,home-page = https://docs.openstack.org/performance-docs/latest/,home-page = https://docs.openstack.org/developer/performance-docs/,3,2
openstack%2Fdiskimage-builder~master~Ibaa39aedb7db286f859c4b090114c6a233b150c7,openstack/diskimage-builder,master,Ibaa39aedb7db286f859c4b090114c6a233b150c7,fail early when lates build information can not be fetched,MERGED,2019-05-08 21:42:12.000000000,2019-05-31 11:30:47.000000000,2019-05-31 08:45:50.000000000,"[{'_account_id': 6593}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-08 21:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a51f229424f122a69c17547ef9c6ede7b3479d6d', 'message': 'gentoo: fail early when gentoo latest build information can not be fetched\n\nWhen the mirror returns a error, it was tryint to interpret the error\nmessage (e.g. <html><title>Internal sever error..) as a download link.\nBy using -f on curl we get an empty reply and an exit code, which, as\nwe run in set -e mode, aborts.\n\nChange-Id: Ibaa39aedb7db286f859c4b090114c6a233b150c7\n'}, {'number': 2, 'created': '2019-05-08 21:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e8ca6a8965778b773747e021267306b8ed07fbf3', 'message': 'gentoo: fail early when gentoo latest build information can not be fetched\n\nWhen the mirror returns a error, it was trying to interpret the error\nmessage (e.g. <html><title>Internal server error..) as a download link.\nBy using -f on curl we get an empty reply and an exit code, which, as\nwe run in set -e mode, aborts.\n\nChange-Id: Ibaa39aedb7db286f859c4b090114c6a233b150c7\n'}, {'number': 3, 'created': '2019-05-09 20:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/680ec292de7b206537f7bdc4cd1a361aa24121dd', 'message': 'fail early when gentoo latest build information can not be fetched\n\nWhen the mirror returns a error, it was trying to interpret the error\nmessage (e.g. <html><title>Internal server error..) as a download link.\nBy using -f on curl we get an empty reply and an exit code, which, as\nwe run in set -e mode, aborts.\n\nChange-Id: Ibaa39aedb7db286f859c4b090114c6a233b150c7\n'}, {'number': 4, 'created': '2019-05-13 16:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/405eb035becb3483d539e7a9764c0d5c6fdcaa63', 'message': 'fail early when lates build information can not be fetched\n\nWhen the mirror returns a error, it was trying to interpret the error\nmessage (e.g. <html><title>Internal server error..) as a download link.\nBy using -f on curl we get an empty reply and an exit code, which, as\nwe run in set -e mode, aborts.\n\nChange-Id: Ibaa39aedb7db286f859c4b090114c6a233b150c7\n'}, {'number': 5, 'created': '2019-05-31 06:09:37.000000000', 'files': ['diskimage_builder/elements/gentoo/root.d/10-gentoo-image', 'diskimage_builder/elements/hpdsa/pre-install.d/06-hpdsa', 'diskimage_builder/elements/source-repositories/extra-data.d/98-source-repositories'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/421a0fa541bb8b4508854b5e00532a02b28d73ea', 'message': 'fail early when lates build information can not be fetched\n\nWhen the mirror returns a error, it was trying to interpret the error\nmessage (e.g. <html><title>Internal server error..) as a download link.\nBy using -f on curl we get an empty reply and an exit code, which, as\nwe run in set -e mode, aborts.\n\nChange-Id: Ibaa39aedb7db286f859c4b090114c6a233b150c7\n'}]",3,657892,421a0fa541bb8b4508854b5e00532a02b28d73ea,44,6,5,6593,,,0,"fail early when lates build information can not be fetched

When the mirror returns a error, it was trying to interpret the error
message (e.g. <html><title>Internal server error..) as a download link.
By using -f on curl we get an empty reply and an exit code, which, as
we run in set -e mode, aborts.

Change-Id: Ibaa39aedb7db286f859c4b090114c6a233b150c7
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/92/657892/5 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/gentoo/root.d/10-gentoo-image'],1,a51f229424f122a69c17547ef9c6ede7b3479d6d,gentoo,"LATEST_IMAGE_FILE=$(curl -f -s ${DIB_CLOUD_SOURCE} | tail -n 1 | cut -d\ -f 1) BASE_IMAGE_FILE=${BASE_IMAGE_FILE:-""http://distfiles.gentoo.org/releases/amd64/autobuilds/$LATEST_IMAGE_FILE""}","BASE_IMAGE_FILE=${BASE_IMAGE_FILE:-""http://distfiles.gentoo.org/releases/amd64/autobuilds/$(curl ${DIB_CLOUD_SOURCE} -s | tail -n 1 | cut -d\ -f 1)""}",2,1
openstack%2Fnova-specs~master~I141f027756ad2160cbd581877569e4081acfecd0,openstack/nova-specs,master,I141f027756ad2160cbd581877569e4081acfecd0,Bump openstackdocstheme to 1.30.0,MERGED,2019-05-30 23:07:50.000000000,2019-05-31 11:26:33.000000000,2019-05-31 11:26:33.000000000,"[{'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 23:07:50.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a0ef771cfb250ed44f57405f5177fb8004d6222c', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I141f027756ad2160cbd581877569e4081acfecd0\n'}]",0,662354,a0ef771cfb250ed44f57405f5177fb8004d6222c,8,4,1,14070,,,0,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I141f027756ad2160cbd581877569e4081acfecd0
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/54/662354/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,a0ef771cfb250ed44f57405f5177fb8004d6222c,bump-openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.19.0 # Apache-2.0,1,1
openstack%2Fnova-specs~master~Ie042cc50d49251be589467e921a03b033845fe7d,openstack/nova-specs,master,Ie042cc50d49251be589467e921a03b033845fe7d,Cap sphinx for py2 to match global requirements,MERGED,2019-05-15 02:44:17.000000000,2019-05-31 11:26:32.000000000,2019-05-31 11:26:32.000000000,"[{'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-05-15 02:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b32458edab5dfc2e1710aad5dd3c9dd6bf259dac', 'message': 'Cap sphinx for py2 to match global requirements\n\nSphinx 2.0.0 dropped Python 2.7 support. This is aligned with\n[1] in requirements project.\n[1]Change-Id If558f184c959e4b63b56dec3ca1571d1034cfe5c\n\nChange-Id: Ie042cc50d49251be589467e921a03b033845fe7d\n'}, {'number': 2, 'created': '2019-05-16 00:53:50.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2bc98799db430d772caedb20c019d80004ae39df', 'message': 'Cap sphinx for py2 to match global requirements\n\nSphinx 2.0.0 dropped Python 2.7 support. This is aligned with\n[1] in requirements project.\n[1]Change-Id If558f184c959e4b63b56dec3ca1571d1034cfe5c\n\nChange-Id: Ie042cc50d49251be589467e921a03b033845fe7d\n'}]",2,659205,2bc98799db430d772caedb20c019d80004ae39df,12,5,2,26458,,,0,"Cap sphinx for py2 to match global requirements

Sphinx 2.0.0 dropped Python 2.7 support. This is aligned with
[1] in requirements project.
[1]Change-Id If558f184c959e4b63b56dec3ca1571d1034cfe5c

Change-Id: Ie042cc50d49251be589467e921a03b033845fe7d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/05/659205/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,b32458edab5dfc2e1710aad5dd3c9dd6bf259dac,,"sphinx!=1.6.6,!=1.6.7,>=1.6.3,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.3;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Ftripleo-heat-templates~master~I66a4ed99f9e0cc199899494813073b4a085d99e7,openstack/tripleo-heat-templates,master,I66a4ed99f9e0cc199899494813073b4a085d99e7,Respect tags in upgrade tasks,MERGED,2019-05-29 11:41:29.000000000,2019-05-31 11:08:06.000000000,2019-05-31 11:08:05.000000000,"[{'_account_id': 8042}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-05-29 11:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78609ef9cb854f93870b75b007253eeda4f9c115', 'message': 'Respect tags in upgrade tasks\n\nThere seems to be a difference between how include_tasks and\nimport_tasks work.\n\n`include_tasks` applies properties on the inclusion itself, and if we\nwant to apply something on the included tasks, we need to use `apply`\ndict. We previously had to add `always` tag onto `include_tasks` to\nmake the inclusion happen when we ran upgrade with `--tags`.\n\n`import_tasks`, on the other hand, is processed more like a block than\nan individual task, and all its properties get applied on the tasks\ninside. This meant that the `always` tag got applied on all tags in\nthe upgrade playbook, instead of on the import itself, which broke use\nof tags in `upgrade_tasks`. This is now fixed by removing the tags\nfrom `import_tasks`. The import should happen always regardless if\nthere are any `tags` on the import.\n\nChange-Id: I66a4ed99f9e0cc199899494813073b4a085d99e7\nCloses-Bug: #1830892\n'}, {'number': 2, 'created': '2019-05-30 07:35:54.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d9560e1777250921ee8c62b55ca7d3638cf1e07', 'message': 'Respect tags in upgrade tasks\n\nThere seems to be a difference between how include_tasks and\nimport_tasks work.\n\n`include_tasks` applies properties on the inclusion itself, and if we\nwant to apply something on the included tasks, we need to use `apply`\ndict. We previously had to add `always` tag onto `include_tasks` to\nmake the inclusion happen when we ran upgrade with `--tags`.\n\n`import_tasks`, on the other hand, is processed more like a block than\nan individual task, and all its properties get applied on the tasks\ninside. This meant that the `always` tag got applied on all tags in\nthe upgrade playbook, instead of on the import itself, which broke use\nof tags in `upgrade_tasks`. This is now fixed by removing the tags\nfrom `import_tasks`. The import should happen always regardless if\nthere are any `tags` on the import.\n\nChange-Id: I66a4ed99f9e0cc199899494813073b4a085d99e7\nCloses-Bug: #1830892\n'}]",1,661945,6d9560e1777250921ee8c62b55ca7d3638cf1e07,20,6,2,8042,,,0,"Respect tags in upgrade tasks

There seems to be a difference between how include_tasks and
import_tasks work.

`include_tasks` applies properties on the inclusion itself, and if we
want to apply something on the included tasks, we need to use `apply`
dict. We previously had to add `always` tag onto `include_tasks` to
make the inclusion happen when we ran upgrade with `--tags`.

`import_tasks`, on the other hand, is processed more like a block than
an individual task, and all its properties get applied on the tasks
inside. This meant that the `always` tag got applied on all tags in
the upgrade playbook, instead of on the import itself, which broke use
of tags in `upgrade_tasks`. This is now fixed by removing the tags
from `import_tasks`. The import should happen always regardless if
there are any `tags` on the import.

Change-Id: I66a4ed99f9e0cc199899494813073b4a085d99e7
Closes-Bug: #1830892
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/661945/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,78609ef9cb854f93870b75b007253eeda4f9c115,leapp,, tags: always,0,1
openstack%2Fopenstack-ansible~stable%2Fpike~Ifa996657752e59bf10c9c6a99eba5e1ee249dd37,openstack/openstack-ansible,stable/pike,Ifa996657752e59bf10c9c6a99eba5e1ee249dd37,Bump SHAs for stable/pike,MERGED,2019-05-19 14:02:41.000000000,2019-05-31 10:58:16.000000000,2019-05-31 10:58:16.000000000,"[{'_account_id': 290}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-05-19 14:02:41.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d2c1b9b3c98d2e7dcdfc24e9137e607bc4b9cb94', 'message': 'Bump SHAs for stable/pike\n\nChange-Id: Ifa996657752e59bf10c9c6a99eba5e1ee249dd37\n'}]",0,659968,d2c1b9b3c98d2e7dcdfc24e9137e607bc4b9cb94,13,6,1,17068,,,0,"Bump SHAs for stable/pike

Change-Id: Ifa996657752e59bf10c9c6a99eba5e1ee249dd37
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/68/659968/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,d2c1b9b3c98d2e7dcdfc24e9137e607bc4b9cb94,bump_osa, version: a347671cf40ef67fb1e45c7cb52c316eb1de45f3 version: 79bacbedaeee3a9463c2acbdb73fd207bd3d79fc version: bc293411172907729884adf3ea8608954e0bcb56 version: c08ea49e7d31e5292e27e8b020e41458194f02b5 version: 47916da9f6359810350d2d37c35644852b819f43 version: 0a6033fc37bf8e772dbc32942c95097dc3193836 version: 8606253335df4bc0787172378c550ac2a9ba51f5 version: a90c8153233dc992255e1cd4ad3ffd1ffd3acf7a version: 2b42517c0e28ee9582e11d1840670ab31e9c985c version: b60c69839e796f15df02f03874692ba176562b8e version: b96bdefb443a73e4646edf28a3c46bece8260ffc version: a026d7e5bf266f1099e38b360419492c56e60f30 version: 1aa63eb318bbf14e008344ba678bbfe712a78e8e version: 74b6b2e251d6b92a4e3d680a005dbab2a1528d43 version: 565dd94908a457e4c18318710ee7bf8437c0a5d7 version: bc287db73105367f1b517e1748554165b9b4b02e version: b4acc75816e8481adb5cfc006a5e8b1299e25e76 version: 9c8768dc5382052d0a6b0d95fc7406bdb875be2a version: d903264841508ec99800356c9cf43ec7800a33ad version: 7f3a396e379931c6d8ac66d77e96d88c1a29e5e8 version: 52b6c4f034d9b34b1a758fbbae17c321ed926781 version: 953ac1e89a367909bbefc1b88ed7d2f6464b1d33 version: c1e30491b59c01b0a99e4b173494d21862fad63b version: 97f141c959305f840eb51504ab6e7b037e90ab55 version: 1f4711aa5e12bf0340d24b3e8d8dd81266c26ffb version: 8eacf470aef0ccaac2c6adb01dd5fe4c2d101732 version: 954a16fd64fddcca6ab1ed4af790a7063f5beb6d version: 7f98b2cc6e138e3d532c88b09460e4a6870ec844 version: 09beb352c9d17108c0841e1bab38b2855e2ea3b7 version: 1ed8ebd92dc4de95d554b0743860dc0abc155915 version: 8c7201b204288ff9edaee6f6889ac414f86b0311 version: b76e77672bcdef2adb32d56b8a51b41f4c578606 version: 7148f30112bdc63053ce787711b541a46821ef1f version: aaa27ede9ff80426597688f69ea9188e7c8ab54c version: aabf16c83c8442cad1a79e0285abe8d1e85af4ef version: 4dcdeb18ce21b781782fd09d8380d228b80acd9b version: 76b627988d1562719443a85517c425f209ca908d version: ef6fe4dac17a87c377b3e7d8201773e5dba78f81 version: 4df7f40ff39205cb6d6efec2f1bb547584792887 version: 88683b75a0554ea68c36beae971b7f0de20b9d7c, version: 2397da31a14218ac831d53c22b01aa1e4fd648fb version: a7cc4ff03d40ed98ba9f29faf2b552ffb8d404b2 version: 7187fc8be6e54629c625645b83ac48e2064130d5 version: 498e22742c0b0947811559cdba3ab8aebc0b061c version: 6413e57c0b23a8c0e630d35638e991d984cbf24f version: e365ceae4c28da8651bc8bcec78f07430775f2ce version: 2cbecda29b5be57b1cbb781e8e7f414e0486e3fd version: 0512aac790686af779bba92ba826f8d615bad032 version: 0eb4f4c98ed12175ceedd005272c562509fd6b99 version: 2bf8171dcfc7ee22fa2cf18ad054eee7226e69db version: ad2cdac9e3ab6b9b0130328b38afd1955b489eae version: 5d47236c891dafd786552a91520dd0bc95d5d4a2 version: 0020b42bbe9fd65710ad73eed59a02a57a3d959b version: ea7c9b56467963dbaacf9ca7b43480b3fb2478ae version: f6d8ceee47ea0aaa709462fb906c39deda49a8e5 version: 1e1f7f3dfe22e28e611575d4bbf7c846e6afcde7 version: e80c0ca5e8c6fd1b9341dffa013044163e9cec70 version: 66f0e91edcec1449c7376316fe403a6c6b20d34a version: f9f5535ae8dd772318592402e5b0338e66a3c0e9 version: 2a060fbdfc165f087be1ccf096332f950629de1b version: 16c77a5eb468eb9bb30a9e1f24d70118fe4caee3 version: 50da5837ed338ba985c92f35f8b8444cd0483765 version: 2ae6b0a38528d3f1ac373b9032e8e6bd5a3cbe11 version: 3dce72d0dba6365ce86851181b4bebbc44c40e04 version: 74330358621b7264a26087716acc066cd8350586 version: 5aa69064b50501d5b6604aeddcbb9f151b5503cd version: 7f440be0a58cf3b0b584bc1dd6c289b5c4363de0 version: 5e2b4d928da5975b7904a5379c48a2feea3ad74c version: f5f16b8ca88b38b18cad7ba68bafee1ef1e90607 version: 171fb64352b5005544f53e5b2162b656337ff5f7 version: 93aa82d7481e775b77d215c4c43a69d3cf63c93a version: e1ed1fda3aa8c885a922b05162f8d69caaa8beaa version: e7bc8e253b169e8d5ea2136fef15d0e0ad6139d6 version: dc4abed00960c0123d45e9e67e666a5e9a1bb51f version: 89c0ebdca4331d8e380b2a62c85c80dfdf132b9b version: 7792bd482825672e2f1ea88ec5e22dd94170a74d version: 25b50e9465b2a0633175ec9620c32ea34411ef10 version: 532add072620ca9b3c96ea65b117b97caa730fc9 version: 2fc0ffac46395a14df0854dd5dc10c7d974bf52f version: b0aa2d6ee565c0cd9d7d85d015d98fff3cc2e334,73,73
openstack%2Fnova~master~I35f98f88f8353602e1bfc135f35d1b7bc9ba42a4,openstack/nova,master,I35f98f88f8353602e1bfc135f35d1b7bc9ba42a4,Add get_usages_counts_for_quota to SchedulerReportClient,MERGED,2019-04-16 20:30:00.000000000,2019-05-31 10:52:52.000000000,2019-05-30 20:39:32.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 12408}, {'_account_id': 14384}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-04-16 20:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ff50e6d24e629a194320938022b38c8b8da8e0d', 'message': 'Add get_usages_counts_for_quota to SchedulerReportClient\n\nThis adds a method for requesting /usages from placement for the\npurpose of counting quota usage for cores and ram. It is used in the\nnext patch in the series.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I35f98f88f8353602e1bfc135f35d1b7bc9ba42a4\n'}, {'number': 2, 'created': '2019-04-17 04:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff0582bb802ab468953ac325d0a3fd1ecc48dcdf', 'message': 'Add get_usages_counts_for_quota to SchedulerReportClient\n\nThis adds a method for requesting /usages from placement for the\npurpose of counting quota usage for cores and ram. It is used in the\nnext patch in the series.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I35f98f88f8353602e1bfc135f35d1b7bc9ba42a4\n'}, {'number': 3, 'created': '2019-04-18 19:44:45.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/54408d0ce4a74395cd585d5f24b0c143b8618623', 'message': 'Add get_usages_counts_for_quota to SchedulerReportClient\n\nThis adds a method for requesting /usages from placement for the\npurpose of counting quota usage for cores and ram. It is used in the\nnext patch in the series.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I35f98f88f8353602e1bfc135f35d1b7bc9ba42a4\n'}]",21,653145,54408d0ce4a74395cd585d5f24b0c143b8618623,63,18,3,4690,,,0,"Add get_usages_counts_for_quota to SchedulerReportClient

This adds a method for requesting /usages from placement for the
purpose of counting quota usage for cores and ram. It is used in the
next patch in the series.

Part of blueprint count-quota-usage-from-placement

Change-Id: I35f98f88f8353602e1bfc135f35d1b7bc9ba42a4
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/653145/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,4ff50e6d24e629a194320938022b38c8b8da8e0d,bp/count-quota-usage-from-placement,"GET_USAGES_VERSION = '1.9' @staticmethod def _handle_usages_error_from_placement(resp, project_id, user_id): msg = ('[%(placement_req_id)s] Failed to retrieve usages for project ' '%(project_id)s and user %(user_id)s. Got %(status_code)d: ' '%(err_text)s') args = {'placement_req_id': get_placement_request_id(resp), 'project_id': project_id, 'user_id': user_id or 'N/A', 'status_code': resp.status_code, 'err_text': resp.text} LOG.error(msg, args) raise exception.UsagesRetrievalFailed(project_id=project_id, user_id=user_id or 'N/A') @retrying.retry(stop_max_attempt_number=4, retry_on_exception=lambda e: isinstance( e, ks_exc.ConnectFailure)) def _get_usages(self, context, project_id, user_id=None): url = '/usages?project_id=%s' % project_id if user_id: url = ''.join([url, '&user_id=%s' % user_id]) return self.get(url, version=GET_USAGES_VERSION, global_request_id=context.global_id) def get_usages_counts_for_quota(self, context, project_id, user_id=None): """"""Get the usages counts for the purpose of counting quota usage. :param context: The request context :param project_id: The project_id to count across :param user_id: The user_id to count across :returns: A dict containing the project-scoped and user-scoped counts if user_id is specified. For example: {'project': {'cores': <count across project>, 'ram': <count across project>}, {'user': {'cores': <count across user>, 'ram': <count across user>}, :raises: `exception.UsagesRetrievalFailed` if a placement API call fails """""" total_counts = {'project': {}} # First query counts across all users of a project resp = self._get_usages(context, project_id) if resp.status_code == 200: data = resp.json() cores = data['usages'].get(orc.VCPU, 0) ram = data['usages'].get(orc.MEMORY_MB, 0) total_counts['project'] = {'cores': cores, 'ram': ram} else: self._handle_usages_error_from_placement(resp, project_id, user_id) # If specified, second query counts across one user in the project if user_id: resp = self._get_usages(context, project_id, user_id=user_id) if resp.status_code == 200: data = resp.json() cores = data['usages'].get(orc.VCPU, 0) ram = data['usages'].get(orc.MEMORY_MB, 0) total_counts['user'] = {'cores': cores, 'ram': ram} else: self._handle_usages_error_from_placement(resp, project_id, user_id) return total_counts",,133,0
openstack%2Fnova~master~Icd7fcb87a09c35a13e4e14235feb30a289d22778,openstack/nova,master,Icd7fcb87a09c35a13e4e14235feb30a289d22778,Block swap volume on volumes with >1 rw attachment,MERGED,2018-06-06 14:33:15.000000000,2019-05-31 10:42:06.000000000,2019-05-30 17:47:09.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 8864}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19944}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25429}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-06-06 14:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50adeee68801a9b1f7b9bc0540ae43e9487ce9f5', 'message': 'WIP: Block swap volume with multiattach volumes\n\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\nTODO: count attachments, tests, and link to a bug\n'}, {'number': 2, 'created': '2018-06-06 19:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9788dc486b2cbd1e48a36530d02aa72e112b18ee', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nThe only virt driver that supports swap volume is the\nlibvirt driver and the blockRebase operation is not\ndesigned to handle multiattach volumes, so if we're\nswapping from a multiattach volume that has more than\none read/write attachment, another server on the\nsecondary attachment could be writing to the volume\nwhich is not getting copied into the volume to which\nwe're swapping, so we could have data loss during the\nswap.\n\nThis change does volume read/write attachment counting\nfor the volume we're swapping from and the volume we're\nswapping to and if there is more than one read/write\nattachment on either volume, the swap volume operation\nfails with a 400 BadRequest error.\n\nCloses-Bug: #1775418\n\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 3, 'created': '2018-06-06 19:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91bca49490aefba77c2cad872f75eb687d2c7d83', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nThe only virt driver that supports swap volume is the\nlibvirt driver and the blockRebase operation is not\ndesigned to handle multiattach volumes, so if we're\nswapping from a multiattach volume that has more than\none read/write attachment, another server on the\nsecondary attachment could be writing to the volume\nwhich is not getting copied into the volume to which\nwe're swapping, so we could have data loss during the\nswap.\n\nThis change does volume read/write attachment counting\nfor the volume we're swapping from and the volume we're\nswapping to and if there is more than one read/write\nattachment on either volume, the swap volume operation\nfails with a 400 BadRequest error.\n\nCloses-Bug: #1775418\n\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 4, 'created': '2018-06-06 21:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77932a5e52076e867a54ffc8bf697fd6cec8c46a', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nThe only virt driver that supports swap volume is the\nlibvirt driver and the blockRebase operation is not\ndesigned to handle multiattach volumes, so if we're\nswapping from a multiattach volume that has more than\none read/write attachment, another server on the\nsecondary attachment could be writing to the volume\nwhich is not getting copied into the volume to which\nwe're swapping, so we could have data loss during the\nswap.\n\nThis change does volume read/write attachment counting\nfor the volume we're swapping from and the volume we're\nswapping to and if there is more than one read/write\nattachment on either volume, the swap volume operation\nfails with a 400 BadRequest error.\n\nCloses-Bug: #1775418\n\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 5, 'created': '2018-06-06 22:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6001c03c173dbe9cd73d657baf47c381cb87d401', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nThe only virt driver that supports swap volume is the\nlibvirt driver and the blockRebase operation is not\ndesigned to handle multiattach volumes, so if we're\nswapping from a multiattach volume that has more than\none read/write attachment, another server on the\nsecondary attachment could be writing to the volume\nwhich is not getting copied into the volume to which\nwe're swapping, so we could have data loss during the\nswap.\n\nThis change does volume read/write attachment counting\nfor the volume we're swapping from and if there is more\nthan one read/write attachment on the volume, the swap\nvolume operation fails with a 400 BadRequest error.\n\nCloses-Bug: #1775418\n\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 6, 'created': '2018-06-06 22:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5adc7f3b34f1bea367e7b2e9cd19047ac5bfb12d', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nThe only virt driver that supports swap volume is the\nlibvirt driver and the blockRebase operation is not\ndesigned to handle multiattach volumes, so if we're\nswapping from a multiattach volume that has more than\none read/write attachment, another server on the\nsecondary attachment could be writing to the volume\nwhich is not getting copied into the volume to which\nwe're swapping, so we could have data loss during the\nswap.\n\nThis change does volume read/write attachment counting\nfor the volume we're swapping from and if there is more\nthan one read/write attachment on the volume, the swap\nvolume operation fails with a 400 BadRequest error.\n\nDepends-On: https://review.openstack.org/573025/\n\nCloses-Bug: #1775418\n\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 7, 'created': '2018-06-07 02:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9342bd3040259ae95be038f480e978fd02c9961e', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nThe only virt driver that supports swap volume is the\nlibvirt driver and the blockRebase operation is not\ndesigned to handle multiattach volumes, so if we're\nswapping from a multiattach volume that has more than\none read/write attachment, another server on the\nsecondary attachment could be writing to the volume\nwhich is not getting copied into the volume to which\nwe're swapping, so we could have data loss during the\nswap.\n\nThis change does volume read/write attachment counting\nfor the volume we're swapping from and if there is more\nthan one read/write attachment on the volume, the swap\nvolume operation fails with a 400 BadRequest error.\n\nDepends-On: https://review.openstack.org/573025/\n\nCloses-Bug: #1775418\n\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 8, 'created': '2018-06-07 19:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcbbba2edba45e7f2a2802e17e0a2ea0e5a7dd72', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nIf we're swapping from a multiattach volume that has\nmore than one read/write attachment, another server on\nthe secondary attachment could be writing to the volume\nwhich is not getting copied into the volume to which\nwe're swapping, so we could have data loss during the\nswap.\n\nThis change does volume read/write attachment counting\nfor the volume we're swapping from and if there is more\nthan one read/write attachment on the volume, the swap\nvolume operation fails with a 400 BadRequest error.\n\nDepends-On: https://review.openstack.org/573025/\n\nCloses-Bug: #1775418\n\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 9, 'created': '2018-10-25 20:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9ad51cadafc0009efe761298517f6562103cf47', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nIf we're swapping from a multiattach volume that has\nmore than one read/write attachment, another server on\nthe secondary attachment could be writing to the volume\nwhich is not getting copied into the volume to which\nwe're swapping, so we could have data loss during the\nswap.\n\nThis change does volume read/write attachment counting\nfor the volume we're swapping from and if there is more\nthan one read/write attachment on the volume, the swap\nvolume operation fails with a 400 BadRequest error.\n\nDepends-On: https://review.openstack.org/573025/\n\nCloses-Bug: #1775418\n\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 10, 'created': '2019-04-03 08:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cc9772a51189196a72510817cac3784757c1911', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nIf we're swapping from a multiattach volume that has\nmore than one read/write attachment, another server on\nthe secondary attachment could be writing to the volume\nwhich is not getting copied into the volume to which\nwe're swapping, so we could have data loss during the\nswap.\n\nThis change does volume read/write attachment counting\nfor the volume we're swapping from and if there is more\nthan one read/write attachment on the volume, the swap\nvolume operation fails with a 400 BadRequest error.\n\nDepends-On: https://review.openstack.org/573025/\n\nCloses-Bug: #1775418\n\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 11, 'created': '2019-04-09 18:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47abe8d3808d7dda516c55b6ac5c58b1358121d8', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nIf we're swapping from a multiattach volume that has more than one\nread/write attachment, another server on the secondary attachment could\nbe writing to the volume which is not getting copied into the volume to\nwhich we're swapping, so we could have data loss during the swap.\n\nThis change does volume read/write attachment counting for the volume\nwe're swapping from and if there is more than one read/write attachment\non the volume, the swap volume operation fails with a 400 BadRequest\nerror.\n\nDepends-On: https://review.openstack.org/573025/\nCloses-Bug: #1775418\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 12, 'created': '2019-05-20 13:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9367c1f6ad8f7cd17dcbd412f46846648df41db', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nIf we're swapping from a multiattach volume that has more than one\nread/write attachment, another server on the secondary attachment could\nbe writing to the volume which is not getting copied into the volume to\nwhich we're swapping, so we could have data loss during the swap.\n\nThis change does volume read/write attachment counting for the volume\nwe're swapping from and if there is more than one read/write attachment\non the volume, the swap volume operation fails with a 400 BadRequest\nerror.\n\nDepends-On: https://review.openstack.org/573025/\nCloses-Bug: #1775418\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 13, 'created': '2019-05-22 08:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c611b43aebd82f79771bd4f64807369a77cf700c', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nIf we're swapping from a multiattach volume that has more than one\nread/write attachment, another server on the secondary attachment could\nbe writing to the volume which is not getting copied into the volume to\nwhich we're swapping, so we could have data loss during the swap.\n\nThis change does volume read/write attachment counting for the volume\nwe're swapping from and if there is more than one read/write attachment\non the volume, the swap volume operation fails with a 400 BadRequest\nerror.\n\nDepends-On: https://review.openstack.org/573025/\nCloses-Bug: #1775418\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 14, 'created': '2019-05-22 09:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3be1ff002fa7d8ef83f486582310c5e8fe65e794', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nIf we're swapping from a multiattach volume that has more than one\nread/write attachment, another server on the secondary attachment could\nbe writing to the volume which is not getting copied into the volume to\nwhich we're swapping, so we could have data loss during the swap.\n\nThis change does volume read/write attachment counting for the volume\nwe're swapping from and if there is more than one read/write attachment\non the volume, the swap volume operation fails with a 400 BadRequest\nerror.\n\nDepends-On: https://review.openstack.org/573025/\nCloses-Bug: #1775418\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}, {'number': 15, 'created': '2019-05-22 09:09:03.000000000', 'files': ['api-ref/source/os-volume-attachments.inc', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/volumes.py', 'nova/compute/api.py', 'releasenotes/notes/bug-1775418-754fc50261f5d7c3.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/5a1d159d142997bb4288d4bf86d4e144334905cd', 'message': ""Block swap volume on volumes with >1 rw attachment\n\nIf we're swapping from a multiattach volume that has more than one\nread/write attachment, another server on the secondary attachment could\nbe writing to the volume which is not getting copied into the volume to\nwhich we're swapping, so we could have data loss during the swap.\n\nThis change does volume read/write attachment counting for the volume\nwe're swapping from and if there is more than one read/write attachment\non the volume, the swap volume operation fails with a 400 BadRequest\nerror.\n\nDepends-On: https://review.openstack.org/573025/\nCloses-Bug: #1775418\nChange-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778\n""}]",52,572790,5a1d159d142997bb4288d4bf86d4e144334905cd,204,27,15,6873,,,0,"Block swap volume on volumes with >1 rw attachment

If we're swapping from a multiattach volume that has more than one
read/write attachment, another server on the secondary attachment could
be writing to the volume which is not getting copied into the volume to
which we're swapping, so we could have data loss during the swap.

This change does volume read/write attachment counting for the volume
we're swapping from and if there is more than one read/write attachment
on the volume, the swap volume operation fails with a 400 BadRequest
error.

Depends-On: https://review.openstack.org/573025/
Closes-Bug: #1775418
Change-Id: Icd7fcb87a09c35a13e4e14235feb30a289d22778
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/572790/14 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/api/openstack/compute/volumes.py', 'nova/compute/api.py']",3,50adeee68801a9b1f7b9bc0540ae43e9487ce9f5,bug/1775418," # Disallow swapping with multiattach volumes. # TODO(mriedem): We should be counting attachments here, and ideally # counting read/write attachments. We know old_volume has at least # one attachment (to this server) but if it has an attachment to # another server (in read/write mode) we should block it. if old_volume['multiattach'] or new_volume['multiattach']: raise exception.MultiattachSwapVolumeNotSupported() ",,16,1
openstack%2Fnova~stable%2Fqueens~I933687891abef4878de09481937d576ce5899511,openstack/nova,stable/queens,I933687891abef4878de09481937d576ce5899511,[stable-only] Delete allocations even if _confirm_resize raises (part 2),MERGED,2019-05-24 16:11:43.000000000,2019-05-31 10:13:43.000000000,2019-05-30 15:14:18.000000000,"[{'_account_id': 6873}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14567}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-24 16:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/064114d555e6cfb2d76abacfc227cfb37e69eb5f', 'message': '[stable-only] Delete allocations even if _confirm_resize raises (part 2)\n\nThe backport https://review.opendev.org/#/c/652153/ to fix\nbug 1821594 did not account for how the _delete_allocation_after_move\nmethod before Stein is tightly coupled to the migration status\nbeing set to ""confirmed"" which is what the _confirm_resize method\ndoes after self.driver.confirm_migration returns.\n\nHowever, if self.driver.confirm_migration raises an exception\nwe still want to cleanup the allocations held on the source node\nand for that we call _delete_allocation_after_move. But because\nof that tight coupling before Stein, we need to temporarily\nmutate the migration status to ""confirmed"" to get the cleanup\nmethod to do what we want.\n\nThis isn\'t a problem starting in Stein because change\nI0851e2d54a1fdc82fe3291fb7e286e790f121e92 removed that\ntight coupling on the migration status, so this is a stable\nbranch only change.\n\nNote that we don\'t call self.reportclient.delete_allocation_for_instance\ndirectly since before Stein we still need to account for a\nmigration that does not move the source node allocations to the\nmigration record, and that logic is in _delete_allocation_after_move.\n\nA simple unit test assertion is added here but the functional\ntest added in change I9d6478f492351b58aa87b8f56e907ee633d6d1c6\nwill assert the bug is fixed properly before Stein.\n\nChange-Id: I933687891abef4878de09481937d576ce5899511\nCloses-Bug: #1821594\n(cherry picked from commit dac3239e92fc1865cacc17bbfbd2316072a9d26e)\n'}, {'number': 2, 'created': '2019-05-29 00:52:49.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5600309a1fc38f0f98629608d3f41eacf66d714a', 'message': '[stable-only] Delete allocations even if _confirm_resize raises (part 2)\n\nThe backport https://review.opendev.org/#/c/652153/ to fix\nbug 1821594 did not account for how the _delete_allocation_after_move\nmethod before Stein is tightly coupled to the migration status\nbeing set to ""confirmed"" which is what the _confirm_resize method\ndoes after self.driver.confirm_migration returns.\n\nHowever, if self.driver.confirm_migration raises an exception\nwe still want to cleanup the allocations held on the source node\nand for that we call _delete_allocation_after_move. But because\nof that tight coupling before Stein, we need to temporarily\nmutate the migration status to ""confirmed"" to get the cleanup\nmethod to do what we want.\n\nThis isn\'t a problem starting in Stein because change\nI0851e2d54a1fdc82fe3291fb7e286e790f121e92 removed that\ntight coupling on the migration status, so this is a stable\nbranch only change.\n\nNote that we don\'t call self.reportclient.delete_allocation_for_instance\ndirectly since before Stein we still need to account for a\nmigration that does not move the source node allocations to the\nmigration record, and that logic is in _delete_allocation_after_move.\n\nA simple unit test assertion is added here but the functional\ntest added in change I9d6478f492351b58aa87b8f56e907ee633d6d1c6\nwill assert the bug is fixed properly before Stein.\n\nChange-Id: I933687891abef4878de09481937d576ce5899511\nCloses-Bug: #1821594\n(cherry picked from commit dac3239e92fc1865cacc17bbfbd2316072a9d26e)\n'}]",0,661349,5600309a1fc38f0f98629608d3f41eacf66d714a,33,12,2,6873,,,0,"[stable-only] Delete allocations even if _confirm_resize raises (part 2)

The backport https://review.opendev.org/#/c/652153/ to fix
bug 1821594 did not account for how the _delete_allocation_after_move
method before Stein is tightly coupled to the migration status
being set to ""confirmed"" which is what the _confirm_resize method
does after self.driver.confirm_migration returns.

However, if self.driver.confirm_migration raises an exception
we still want to cleanup the allocations held on the source node
and for that we call _delete_allocation_after_move. But because
of that tight coupling before Stein, we need to temporarily
mutate the migration status to ""confirmed"" to get the cleanup
method to do what we want.

This isn't a problem starting in Stein because change
I0851e2d54a1fdc82fe3291fb7e286e790f121e92 removed that
tight coupling on the migration status, so this is a stable
branch only change.

Note that we don't call self.reportclient.delete_allocation_for_instance
directly since before Stein we still need to account for a
migration that does not move the source node allocations to the
migration record, and that logic is in _delete_allocation_after_move.

A simple unit test assertion is added here but the functional
test added in change I9d6478f492351b58aa87b8f56e907ee633d6d1c6
will assert the bug is fixed properly before Stein.

Change-Id: I933687891abef4878de09481937d576ce5899511
Closes-Bug: #1821594
(cherry picked from commit dac3239e92fc1865cacc17bbfbd2316072a9d26e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/661349/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,064114d555e6cfb2d76abacfc227cfb37e69eb5f,bug/1821594," # NOTE(mriedem): _delete_allocation_after_move is tightly # coupled to the migration status on the confirm step so # we unfortunately have to mutate the migration status to # have _delete_allocation_after_move cleanup the allocation # held by the migration consumer. with utils.temporary_mutation( migration, status='confirmed'): self._delete_allocation_after_move( context, instance, migration, old_instance_type, migration.source_node)"," self._delete_allocation_after_move( context, instance, migration, old_instance_type, migration.source_node)",18,4
openstack%2Ffreezer-tempest-plugin~master~I66aecd3c92643cff3cbb7cc78c67406c7cd36b50,openstack/freezer-tempest-plugin,master,I66aecd3c92643cff3cbb7cc78c67406c7cd36b50,update  api.test_api_actions cases,MERGED,2019-05-31 07:01:27.000000000,2019-05-31 09:56:31.000000000,2019-05-31 09:56:31.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 07:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/10a5fd15b882b0de521e1e894ff55587c48e4f72', 'message': 'update  api.test_api_actions cases\n\nRemove invalid offest&limit test cases for falcon2.0.\n\nChange-Id: I66aecd3c92643cff3cbb7cc78c67406c7cd36b50\n'}, {'number': 2, 'created': '2019-05-31 08:07:49.000000000', 'files': ['freezer_tempest_plugin/tests/freezer_api/api/test_api_actions.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/c6b250013a7fa31760c291825d368f560e1e21e1', 'message': 'update  api.test_api_actions cases\n\nRemove invalid offest&limit test cases for falcon2.0.\n\nChange-Id: I66aecd3c92643cff3cbb7cc78c67406c7cd36b50\n'}]",0,662396,c6b250013a7fa31760c291825d368f560e1e21e1,8,2,2,21069,,,0,"update  api.test_api_actions cases

Remove invalid offest&limit test cases for falcon2.0.

Change-Id: I66aecd3c92643cff3cbb7cc78c67406c7cd36b50
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/96/662396/2 && git format-patch -1 --stdout FETCH_HEAD,['freezer_tempest_plugin/tests/freezer_api/api/test_api_actions.py'],1,10a5fd15b882b0de521e1e894ff55587c48e4f72,," #for bad_limit in [0, -1, -2]: # self.assertRaises(exceptions.BadRequest, # self.freezer_api_client.get_actions, # limit=bad_limit) #for bad_offset in [-1, -2]: # self.assertRaises(exceptions.BadRequest, # self.freezer_api_client.get_actions, # offset=bad_offset)"," for bad_limit in [0, -1, -2]: self.assertRaises(exceptions.BadRequest, self.freezer_api_client.get_actions, limit=bad_limit) for bad_offset in [-1, -2]: self.assertRaises(exceptions.BadRequest, self.freezer_api_client.get_actions, offset=bad_offset)",8,8
openstack%2Fopenstack-zuul-jobs~master~Ifafc060c6e82b5760adcb44d88390d427386fc39,openstack/openstack-zuul-jobs,master,Ifafc060c6e82b5760adcb44d88390d427386fc39,Add neutron-tempest-plugin to bgpvpn-bagpipe job,ABANDONED,2019-05-31 08:33:42.000000000,2019-05-31 09:53:56.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 08:33:42.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f161cf5ba6c545b426615e2fe6ee26e5ac9c3ace', 'message': 'Add neutron-tempest-plugin to bgpvpn-bagpipe job\n\nIn commit [1] we removed tempest plugin code from networking-bgpvpn\nrepo as it was moved to neutron-tempest-plugin.\n\nThis commit adds neutron-tempest-plugin repo to required projects\nfor legacy-tempest-dsvm-networking-bgpvpn-bagpipe job\n\n[1] https://review.opendev.org/#/c/657793/\n\nChange-Id: Ifafc060c6e82b5760adcb44d88390d427386fc39\n'}]",0,662402,f161cf5ba6c545b426615e2fe6ee26e5ac9c3ace,4,2,1,11975,,,0,"Add neutron-tempest-plugin to bgpvpn-bagpipe job

In commit [1] we removed tempest plugin code from networking-bgpvpn
repo as it was moved to neutron-tempest-plugin.

This commit adds neutron-tempest-plugin repo to required projects
for legacy-tempest-dsvm-networking-bgpvpn-bagpipe job

[1] https://review.opendev.org/#/c/657793/

Change-Id: Ifafc060c6e82b5760adcb44d88390d427386fc39
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/02/662402/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-jobs.yaml'],1,f161cf5ba6c545b426615e2fe6ee26e5ac9c3ace,stadium-migration, - openstack/neutron-tempest-plugin,,1,0
openstack%2Fkolla~stable%2Fstein~Idbfc6741d371adcb06ed97d578d75d3bce862743,openstack/kolla,stable/stein,Idbfc6741d371adcb06ed97d578d75d3bce862743,Fix multiple mon deployment failures,MERGED,2019-05-23 01:19:02.000000000,2019-05-31 09:34:35.000000000,2019-05-31 09:34:35.000000000,"[{'_account_id': 14826}, {'_account_id': 20147}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-23 01:19:02.000000000', 'files': ['docker/ceph/ceph-mon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/877df152ddc6dcf83e5a92964a275de2dfc1444b', 'message': 'Fix multiple mon deployment failures\n\nWhen 4 or 5 mons are deployed, all mons will always be in the election\nstate, and the ceph cluster cannot be accessed.\n\nAfter comparing with ceph-deploy, I found that when the cluster was\ninitialized, it did not use monmap. When adding a new mon node, it\nneeds to use monmap. According to the above situation, I fixed the\nproblem.\n\nChange-Id: Idbfc6741d371adcb06ed97d578d75d3bce862743\nCloses-bug: #1824783\n(cherry picked from commit 285814353af29395932e15d78c6a154796978a21)\n'}]",0,660863,877df152ddc6dcf83e5a92964a275de2dfc1444b,9,5,1,24250,,,0,"Fix multiple mon deployment failures

When 4 or 5 mons are deployed, all mons will always be in the election
state, and the ceph cluster cannot be accessed.

After comparing with ceph-deploy, I found that when the cluster was
initialized, it did not use monmap. When adding a new mon node, it
needs to use monmap. According to the above situation, I fixed the
problem.

Change-Id: Idbfc6741d371adcb06ed97d578d75d3bce862743
Closes-bug: #1824783
(cherry picked from commit 285814353af29395932e15d78c6a154796978a21)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/63/660863/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-mon/extend_start.sh'],1,877df152ddc6dcf83e5a92964a275de2dfc1444b,bug/1824783-stable/stein," mon_stat=$(ceph mon stat --connect-timeout 1 || true) mon_check=$(echo $mon_stat | awk '/mons/{print $0}' | wc -l) if [[ ${mon_check} -eq 0 ]]; then ceph-mon --mkfs -i ""${HOSTNAME}"" --keyring ""${KEYRING_TMP}"" else MONMAP_TMP=""/tmp/ceph.${HOSTNAME}.monmap"" ceph mon getmap -o ""${MONMAP_TMP}"" ceph-mon --mkfs -i ""${HOSTNAME}"" --monmap ""${MONMAP_TMP}"" --keyring ""${KEYRING_TMP}"" rm ""${MONMAP_TMP}"" fi"," ceph-mon --mkfs -i ""${HOSTNAME}"" --monmap ""${MONMAP}"" --keyring ""${KEYRING_TMP}""",11,1
openstack%2Fkolla~stable%2Fstein~I0a5fc2d47ccb4f64dbf8fca7092240cd40777b28,openstack/kolla,stable/stein,I0a5fc2d47ccb4f64dbf8fca7092240cd40777b28,Add CI trigger for ceph jobs,MERGED,2019-05-23 09:29:39.000000000,2019-05-31 09:34:34.000000000,2019-05-31 09:34:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23509}]","[{'number': 1, 'created': '2019-05-23 09:29:39.000000000', 'files': ['.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', '.zuul.d/oraclelinux.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/eb4ad16744889464d44d3a16e2d1a279deb33842', 'message': 'Add CI trigger for ceph jobs\n\nAdd a trigger for running CI ceph jobs when docker/ceph/.* and\ndocker/cinder/.* files are being changed.\n\nChange-Id: I0a5fc2d47ccb4f64dbf8fca7092240cd40777b28\n(cherry picked from commit 14f1507d2c2002c05cb30196b6650f6a8b23206a)\n'}]",0,660954,eb4ad16744889464d44d3a16e2d1a279deb33842,9,4,1,14826,,,0,"Add CI trigger for ceph jobs

Add a trigger for running CI ceph jobs when docker/ceph/.* and
docker/cinder/.* files are being changed.

Change-Id: I0a5fc2d47ccb4f64dbf8fca7092240cd40777b28
(cherry picked from commit 14f1507d2c2002c05cb30196b6650f6a8b23206a)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/54/660954/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', '.zuul.d/oraclelinux.yaml']",3,eb4ad16744889464d44d3a16e2d1a279deb33842,feature/run_ceph_gates_on_ceph_change-stable/stein, - kolla-ansible-oraclelinux-source-ceph: files: ^docker\/(ceph|cinder)\/.*,,6,0
openstack%2Fkolla~stable%2Frocky~I7babdb794bec3b08047101e2537f030e2217cedb,openstack/kolla,stable/rocky,I7babdb794bec3b08047101e2537f030e2217cedb,Remove HTTP configuration shipped in openstack-nova-placement-api RPM,MERGED,2019-05-24 18:10:39.000000000,2019-05-31 09:34:33.000000000,2019-05-31 09:34:33.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 25257}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-24 18:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fe2615830b7ba70e02ea290c4038c0ed6378ed88', 'message': 'Remove HTTP configuration shipped in openstack-nova-placement-api RPM\n\nThe RDO openstack-nova-placement-api RPM ships with an HTTP\nconfiguration deploying placement on port 8778, while Kolla-Ansible\ncreates another file to configure it to listen on port 8780. If\n`placement_api_port` is changed to use port 8778, the placement_api\ncontainer will fail to start because the port is already in use.\n\nThis commit removes the configuration file shipped with the RPM package\nto avoid this conflict.\n\nChange-Id: I7babdb794bec3b08047101e2537f030e2217cedb\n'}, {'number': 2, 'created': '2019-05-24 18:11:56.000000000', 'files': ['docker/nova/nova-placement-api/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e9cc856bfbdcb97e04df4c950aaeaf485cd5cc4', 'message': 'Remove HTTP configuration shipped in openstack-nova-placement-api RPM\n\nThe RDO openstack-nova-placement-api RPM ships with an HTTP\nconfiguration deploying placement on port 8778, while Kolla-Ansible\ncreates another file to configure it to listen on port 8780. If\n`placement_api_port` is changed to use port 8778, the placement_api\ncontainer will fail to start because the port is already in use.\n\nThis commit removes the configuration file shipped with the RPM package\nto avoid this conflict.\n\nChange-Id: I7babdb794bec3b08047101e2537f030e2217cedb\nCloses-Bug: #1830420\n'}]",0,661369,8e9cc856bfbdcb97e04df4c950aaeaf485cd5cc4,14,7,2,15197,,,0,"Remove HTTP configuration shipped in openstack-nova-placement-api RPM

The RDO openstack-nova-placement-api RPM ships with an HTTP
configuration deploying placement on port 8778, while Kolla-Ansible
creates another file to configure it to listen on port 8780. If
`placement_api_port` is changed to use port 8778, the placement_api
container will fail to start because the port is already in use.

This commit removes the configuration file shipped with the RPM package
to avoid this conflict.

Change-Id: I7babdb794bec3b08047101e2537f030e2217cedb
Closes-Bug: #1830420
",git fetch https://review.opendev.org/openstack/kolla refs/changes/69/661369/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-placement-api/Dockerfile.j2'],1,fe2615830b7ba70e02ea290c4038c0ed6378ed88,bug/1830420," && sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf \ && rm -f /etc/httpd/conf.d/00-nova-placement-api.conf"," && sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf",2,1
openstack%2Fkolla~stable%2Fpike~Ie552b59b9e2b19deb82ed5e94036cf75700a3d1f,openstack/kolla,stable/pike,Ie552b59b9e2b19deb82ed5e94036cf75700a3d1f,Bump service versions for Pike EM,MERGED,2019-05-20 16:20:40.000000000,2019-05-31 09:34:31.000000000,2019-05-31 09:34:31.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-20 16:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1957084fb8e99bf2687d9a60448044ac98deff29', 'message': 'Bump service versions for Pike EM\n\nPike is now in extended maintenance mode.\n\nChange-Id: Ie552b59b9e2b19deb82ed5e94036cf75700a3d1f\n'}, {'number': 2, 'created': '2019-05-20 17:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/34827cc7030152b1183dac9182bc36f34b3f70fb', 'message': 'Bump service versions for Pike EM\n\nPike is now in extended maintenance mode.\n\nChange-Id: Ie552b59b9e2b19deb82ed5e94036cf75700a3d1f\n'}, {'number': 3, 'created': '2019-05-21 08:32:17.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/11c64a1d27be8f939bec647b3050b0177de8fc50', 'message': 'Bump service versions for Pike EM\n\nPike is now in extended maintenance mode.\n\nChange-Id: Ie552b59b9e2b19deb82ed5e94036cf75700a3d1f\n'}]",0,660159,11c64a1d27be8f939bec647b3050b0177de8fc50,19,6,3,14826,,,0,"Bump service versions for Pike EM

Pike is now in extended maintenance mode.

Change-Id: Ie552b59b9e2b19deb82ed5e94036cf75700a3d1f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/59/660159/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,1957084fb8e99bf2687d9a60448044ac98deff29,bump-pike," 'aodh-pike-em.tar.gz')}, 'barbican-pike-em.tar.gz')}, 'bifrost-pike-em.tar.gz')}, 'ceilometer-pike-em.tar.gz')}, 'panko-pike-em.tar.gz')}, 'cinder-pike-em.tar.gz')}, 'congress-pike-em.tar.gz')}, 'cloudkitty-pike-em.tar.gz')}, 'designate-pike-em.tar.gz')}, 'freezer-api-pike-em.tar.gz')}, 'freezer-pike-em.tar.gz')}, 'glance-pike-em.tar.gz')}, 'heat-9.0.7.tar.gz')}, 'horizon-pike-em.tar.gz')}, 'cloudkitty-dashboard-pike-em.tar.gz')}, 'designate-dashboard-pike-em.tar.gz')}, 'neutron-fwaas-dashboard-pike-em.tar.gz')}, 'freezer-web-ui-pike-em.tar.gz')}, 'ironic-ui-pike-em.tar.gz')}, 'magnum-ui-pike-em.tar.gz')}, 'manila-ui-pike-em.tar.gz')}, 'mistral-dashboard-pike-em.tar.gz')}, 'monasca-ui-pike-em.tar.gz')}, 'murano-dashboard-pike-em.tar.gz')}, 'neutron-lbaas-dashboard-pike-em.tar.gz')}, 'sahara-dashboard-pike-em.tar.gz')}, 'searchlight-ui-pike-em.tar.gz')}, 'senlin-dashboard-pike-em.tar.gz')}, 'solum-dashboard-pike-em.tar.gz')}, 'tacker-horizon-pike-em.tar.gz')}, 'trove-dashboard-pike-em.tar.gz')}, 'watcher-dashboard-pike-em.tar.gz')}, 'zaqar-ui-pike-em.tar.gz')}, 'zun-ui-pike-em.tar.gz')}, 'ironic-pike-em.tar.gz')}, 'ironic-inspector-pike-em.tar.gz')}, 'keystone-pike-em.tar.gz')}, 'magnum-pike-em.tar.gz')}, 'manila-pike-em.tar.gz')}, 'mistral-pike-em.tar.gz')}, 'tacker-pike-em.tar.gz')}, 'monasca-api-pike-em.tar.gz')}, 'monasca-log-api-pike-em.tar.gz')}, 'monasca-notification-pike-em.tar.gz')}, 'monasca-persister-pike-em.tar.gz')}, 'monasca-statsd-pike-em.tar.gz')}, 'murano-pike-em.tar.gz')}, 'neutron-pike-em.tar.gz')}, 'neutron-fwaas-pike-em.tar.gz')}, 'networking-sfc-pike-em.tar.gz')}, 'neutron-dynamic-routing-pike-em.tar.gz')}, 'neutron-lbaas-pike-em.tar.gz')}, 'networking-odl-pike-em.tar.gz')}, 'networking-bgpvpn-pike-em.tar.gz')}, 'networking-sfc-pike-em.tar.gz')}, 'neutron-dynamic-routing-pike-em.tar.gz')}, 'neutron-lbaas-pike-em.tar.gz')}, 'networking-ovn-pike-em.tar.gz')}, 'nova-pike-em.tar.gz')}, 'octavia-pike-em.tar.gz')}, 'panko-pike-em.tar.gz')}, 'sahara-pike-em.tar.gz')}, 'searchlight-pike-em.tar.gz')}, 'senlin-pike-em.tar.gz')}, 'solum-pike-em.tar.gz')}, 'swift-pike-em.tar.gz')}, 'tacker-pike-em.tar.gz')}, 'trove-pike-em.tar.gz')}, 'vitrage-pike-em.tar.gz')}, 'zaqar-pike-em.tar.gz')}, 'zun-pike-em.tar.gz')}"," 'aodh-5.1.0.tar.gz')}, 'barbican-5.0.1.tar.gz')}, 'bifrost-4.0.1.tar.gz')}, 'ceilometer-9.0.6.tar.gz')}, 'panko-3.1.0.tar.gz')}, 'cinder-11.2.0.tar.gz')}, 'congress-6.0.1.tar.gz')}, 'cloudkitty-6.0.0.tar.gz')}, 'designate-5.0.2.tar.gz')}, 'freezer-api-5.0.0.tar.gz')}, 'freezer-5.0.0.tar.gz')}, 'glance-15.0.1.tar.gz')}, 'heat-9.0.5.tar.gz')}, 'horizon-12.0.3.tar.gz')}, 'cloudkitty-dashboard-6.0.0.tar.gz')}, 'designate-dashboard-5.0.1.tar.gz')}, 'neutron-fwaas-dashboard-1.0.0.tar.gz')}, 'freezer-web-ui-5.0.0.tar.gz')}, 'ironic-ui-3.0.3.tar.gz')}, 'magnum-ui-3.0.0.tar.gz')}, 'manila-ui-2.10.2.tar.gz')}, 'mistral-dashboard-5.2.4.tar.gz')}, 'monasca-ui-1.8.0.tar.gz')}, 'murano-dashboard-4.0.0.tar.gz')}, 'neutron-lbaas-dashboard-3.0.2.tar.gz')}, 'sahara-dashboard-7.0.3.tar.gz')}, 'searchlight-ui-3.0.0.tar.gz')}, 'senlin-dashboard-0.7.0.tar.gz')}, 'solum-dashboard-2.2.0.tar.gz')}, 'tacker-horizon-0.10.0.tar.gz')}, 'trove-dashboard-9.0.0.tar.gz')}, 'watcher-dashboard-1.4.0.tar.gz')}, 'zaqar-ui-3.0.0.tar.gz')}, 'zun-ui-0.2.0.tar.gz')}, 'ironic-9.1.6.tar.gz')}, 'ironic-inspector-6.0.3.tar.gz')}, 'keystone-12.0.2.tar.gz')}, 'magnum-5.0.1.tar.gz')}, 'manila-5.0.3.tar.gz')}, 'mistral-5.2.7.tar.gz')}, 'tacker-0.8.1.tar.gz')}, 'monasca-api-2.2.0.tar.gz')}, 'monasca-log-api-2.3.0.tar.gz')}, 'monasca-notification-1.10.1.tar.gz')}, 'monasca-persister-1.7.0.tar.gz')}, 'monasca-statsd-1.7.0.tar.gz')}, 'murano-4.0.0.tar.gz')}, 'neutron-11.0.6.tar.gz')}, 'neutron-fwaas-11.0.2.tar.gz')}, 'networking-sfc-5.0.0.tar.gz')}, 'neutron-dynamic-routing-11.0.1.tar.gz')}, 'neutron-lbaas-11.0.3.tar.gz')}, 'networking-odl-11.0.0.tar.gz')}, 'networking-bgpvpn-7.0.0.tar.gz')}, 'networking-sfc-5.0.0.tar.gz')}, 'neutron-dynamic-routing-11.0.1.tar.gz')}, 'neutron-lbaas-11.0.3.tar.gz')}, 'networking-ovn-3.0.1.tar.gz')}, 'nova-16.1.7.tar.gz')}, 'octavia-1.0.4.tar.gz')}, 'panko-3.1.0.tar.gz')}, 'sahara-7.0.3.tar.gz')}, 'searchlight-3.0.0.tar.gz')}, 'senlin-4.0.0.tar.gz')}, 'solum-5.4.0.tar.gz')}, 'swift-2.15.2.tar.gz')}, 'tacker-0.8.1.tar.gz')}, 'trove-8.0.0.tar.gz')}, 'vitrage-1.8.2.tar.gz')}, 'zaqar-5.0.0.tar.gz')}, 'zun-0.2.1.tar.gz')}",71,71
openstack%2Fnova~master~I1207687d1b00416482ac34ad3250e7121d9b4352,openstack/nova,master,I1207687d1b00416482ac34ad3250e7121d9b4352,Keep attach_mode as top-level field in _translate_attachment_ref,MERGED,2018-06-11 19:45:46.000000000,2019-05-31 09:32:08.000000000,2019-05-31 00:56:13.000000000,"[{'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-11 19:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3cfc11a0451d269d1ca3bce5687383b046b84d2', 'message': ""Keep attach_mode as top-level field in _translate_attachment_ref\n\nThe attach_mode is a top-level field on the attachment record\nin Cinder. There is an access_mode entry in the connection_info\nfield which is used by the volume driver in compute when making\nan attachment, but the attach_mode field is read by the API during\nswap volume so we don't have to dig into the connection_info details.\n\nThis changes _translate_attachment_ref to leave attach_mode on the\ntop-level attachment reference dict so the API does not need to look\ninto the connection_info data.\n\nChange-Id: I1207687d1b00416482ac34ad3250e7121d9b4352\n""}, {'number': 2, 'created': '2018-10-25 20:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e90a317ea467362ecb67d898faf4ab2fc0d13c8', 'message': ""Keep attach_mode as top-level field in _translate_attachment_ref\n\nThe attach_mode is a top-level field on the attachment record\nin Cinder. There is an access_mode entry in the connection_info\nfield which is used by the volume driver in compute when making\nan attachment, but the attach_mode field is read by the API during\nswap volume so we don't have to dig into the connection_info details.\n\nThis changes _translate_attachment_ref to leave attach_mode on the\ntop-level attachment reference dict so the API does not need to look\ninto the connection_info data.\n\nChange-Id: I1207687d1b00416482ac34ad3250e7121d9b4352\n""}, {'number': 3, 'created': '2019-04-09 18:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/add56c823f1e32320f575447cef4f0ebcbf01de0', 'message': ""Keep attach_mode as top-level field in _translate_attachment_ref\n\nThe attach_mode is a top-level field on the attachment record in Cinder.\nThere is an access_mode entry in the connection_info field which is used\nby the volume driver in compute when making an attachment, but the\nattach_mode field is read by the API during swap volume so we don't have\nto dig into the connection_info details.\n\nThis changes _translate_attachment_ref to leave attach_mode on the\ntop-level attachment reference dict so the API does not need to look\ninto the connection_info data.\n\nChange-Id: I1207687d1b00416482ac34ad3250e7121d9b4352\n""}, {'number': 4, 'created': '2019-05-20 13:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af77475c86c705aa515c789ab492b5171408970c', 'message': ""Keep attach_mode as top-level field in _translate_attachment_ref\n\nThe attach_mode is a top-level field on the attachment record in Cinder.\nThere is an access_mode entry in the connection_info field which is used\nby the volume driver in compute when making an attachment, but the\nattach_mode field is read by the API during swap volume so we don't have\nto dig into the connection_info details.\n\nThis changes _translate_attachment_ref to leave attach_mode on the\ntop-level attachment reference dict so the API does not need to look\ninto the connection_info data.\n\nChange-Id: I1207687d1b00416482ac34ad3250e7121d9b4352\n""}, {'number': 5, 'created': '2019-05-22 09:09:37.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/volume/cinder.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c489ccab2dc962c554b60455dc22729d89535802', 'message': ""Keep attach_mode as top-level field in _translate_attachment_ref\n\nThe attach_mode is a top-level field on the attachment record in Cinder.\nThere is an access_mode entry in the connection_info field which is used\nby the volume driver in compute when making an attachment, but the\nattach_mode field is read by the API during swap volume so we don't have\nto dig into the connection_info details.\n\nThis changes _translate_attachment_ref to leave attach_mode on the\ntop-level attachment reference dict so the API does not need to look\ninto the connection_info data.\n\nChange-Id: I1207687d1b00416482ac34ad3250e7121d9b4352\n""}]",3,574413,c489ccab2dc962c554b60455dc22729d89535802,102,21,5,6873,,,0,"Keep attach_mode as top-level field in _translate_attachment_ref

The attach_mode is a top-level field on the attachment record in Cinder.
There is an access_mode entry in the connection_info field which is used
by the volume driver in compute when making an attachment, but the
attach_mode field is read by the API during swap volume so we don't have
to dig into the connection_info details.

This changes _translate_attachment_ref to leave attach_mode on the
top-level attachment reference dict so the API does not need to look
into the connection_info data.

Change-Id: I1207687d1b00416482ac34ad3250e7121d9b4352
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/574413/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/volume/cinder.py', 'nova/compute/api.py']",5,a3cfc11a0451d269d1ca3bce5687383b046b84d2,bug/1775418, if attachment_record['attach_mode'] == 'rw':," if attachment_record.get( 'connection_info', {}).get( # attachments are read/write by default 'attach_mode', 'rw') == 'rw':",7,11
openstack%2Fqinling~master~Ic5943bc83e6aadd27d094e28bb60439ca2dbedbd,openstack/qinling,master,Ic5943bc83e6aadd27d094e28bb60439ca2dbedbd,Fix session when user is not in default domain,MERGED,2019-05-30 18:03:29.000000000,2019-05-31 09:30:36.000000000,2019-05-31 09:30:36.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 18:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/5159f355889caadef4ccdea690173f889f498ca7', 'message': 'Fix session when user is not in default domain\n\nUse the project_domain_name value returned by the\ncontext instead of using a static value from the\nqinling.conf configuration file.\n\nChange-Id: Ic5943bc83e6aadd27d094e28bb60439ca2dbedbd\nStory: 2005802\nTask: 33573\n'}, {'number': 2, 'created': '2019-05-30 22:55:47.000000000', 'files': ['qinling/utils/openstack/keystone.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/02b957f92ef4f88ca26eeb604814a32a72889986', 'message': 'Fix session when user is not in default domain\n\nUse the project_domain_name value returned by the\ncontext instead of using a static value from the\nqinling.conf configuration file.\n\nChange-Id: Ic5943bc83e6aadd27d094e28bb60439ca2dbedbd\nStory: 2005802\nTask: 33537\n'}]",0,662278,02b957f92ef4f88ca26eeb604814a32a72889986,8,2,2,16006,,,0,"Fix session when user is not in default domain

Use the project_domain_name value returned by the
context instead of using a static value from the
qinling.conf configuration file.

Change-Id: Ic5943bc83e6aadd27d094e28bb60439ca2dbedbd
Story: 2005802
Task: 33537
",git fetch https://review.opendev.org/openstack/qinling refs/changes/78/662278/1 && git format-patch -1 --stdout FETCH_HEAD,['qinling/utils/openstack/keystone.py'],1,5159f355889caadef4ccdea690173f889f498ca7,2005802/33573," project_domain_name=ctx.project_domain_name,"," project_domain_name=CONF.keystone_authtoken.project_domain_name,",1,1
openstack%2Fcinder~master~I80e653cd628ab1b1f9f5a9fe77d1e5c0bda32a42,openstack/cinder,master,I80e653cd628ab1b1f9f5a9fe77d1e5c0bda32a42,Make py37 unit tests voting,MERGED,2019-05-29 14:29:34.000000000,2019-05-31 09:25:34.000000000,2019-05-29 21:45:11.000000000,"[{'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-29 14:29:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b85ebe98ec5cbdf7f3f57de082e96ad7880a8df', 'message': 'Make py37 unit tests voting\n\nChange-Id: I80e653cd628ab1b1f9f5a9fe77d1e5c0bda32a42\n'}]",0,661996,3b85ebe98ec5cbdf7f3f57de082e96ad7880a8df,42,30,1,4523,,,0,"Make py37 unit tests voting

Change-Id: I80e653cd628ab1b1f9f5a9fe77d1e5c0bda32a42
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/661996/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3b85ebe98ec5cbdf7f3f57de082e96ad7880a8df,659701, - openstack-python37-jobs, - openstack-python37-jobs-nonvoting,1,1
openstack%2Fnova~master~I19f49c923d2c41eab0c7b4cab28c50498dc07046,openstack/nova,master,I19f49c923d2c41eab0c7b4cab28c50498dc07046,Move selective patching of open() to nova.test for reuse,MERGED,2019-05-24 12:38:30.000000000,2019-05-31 09:22:55.000000000,2019-05-30 08:25:19.000000000,"[{'_account_id': 782}, {'_account_id': 2394}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-24 12:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5ccef2b80836823daa5739c82086db3ac18bcf2', 'message': 'Move selective patching of open() to nova.test for reuse\n\nSeveral existing tests patch open() to fake the contents of a file\noutside the test virtualenv, whilst avoiding interfering with reading\nand writing of other files inside the test virtualenv.  Currently they\ndo it by duplicating logic.\n\nFurthermore, in the near future, more tests (specifically, some SEV\ntests) will want to do the same selective patching, and similarly will\nneed to avoid impacting reads of other files within the test\nvirtualenv, e.g. placement-policy.yaml.\n\nSo create new patch_open() context manager / decorator in nova.test\nfor selectively patching open based on the path parameter, and reuse\nthis for existing tests.\n\nAlso add unit tests for all these cases.\n\nChange-Id: I19f49c923d2c41eab0c7b4cab28c50498dc07046\n'}, {'number': 2, 'created': '2019-05-24 15:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a808f9e2a76dd6d10816ac8b6cd77f9e1f683e32', 'message': 'Move selective patching of open() to nova.test for reuse\n\nSeveral existing tests patch open() to fake the contents of a file\noutside the test virtualenv, whilst avoiding interfering with reading\nand writing of other files inside the test virtualenv.  Currently they\ndo it by duplicating logic.\n\nFurthermore, in the near future, more tests (specifically, some SEV\ntests) will want to do the same selective patching, and similarly will\nneed to avoid impacting reads of other files within the test\nvirtualenv, e.g. placement-policy.yaml.\n\nSo create new patch_open() context manager / decorator in nova.test\nfor selectively patching open based on the path parameter, and reuse\nthis for existing tests.\n\nAlso add unit tests for all these cases.\n\nChange-Id: I19f49c923d2c41eab0c7b4cab28c50498dc07046\n'}, {'number': 3, 'created': '2019-05-24 23:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e4c434d82b46f88b349b8ecfe47b485d79c4583', 'message': 'Move selective patching of open() to nova.test for reuse\n\nSeveral existing tests patch open() to fake the contents of a file\noutside the test virtualenv, whilst avoiding interfering with reading\nand writing of other files inside the test virtualenv.  Currently they\ndo it by duplicating logic.\n\nFurthermore, in the near future, more tests (specifically, some SEV\ntests) will want to do the same selective patching, and similarly will\nneed to avoid impacting reads of other files within the test\nvirtualenv, e.g. placement-policy.yaml.\n\nSo create new patch_open() context manager / decorator in nova.test\nfor selectively patching open based on the path parameter, and reuse\nthis for existing tests.\n\nAlso add unit tests for all these cases.\n\nmock >= 3.0.0 is required because configparser.RawConfigParser._read()\nuses enumerate() to iterate over the lines of the (mocked)\n/etc/nova/release config file, and this uses __iter__() under the hood\nwhich was not supported via mock_open until a bug was fixed and\nbackported to the external mock library for 3.0.0:\n\n    https://bugs.python.org/issue21258\n    https://bugs.python.org/issue32933\n    https://github.com/testing-cabal/mock/commit/73f6eed0d6867299fa2543b88a07cd8f12198361\n\nChange-Id: I19f49c923d2c41eab0c7b4cab28c50498dc07046\n'}, {'number': 4, 'created': '2019-05-25 02:54:05.000000000', 'files': ['test-requirements.txt', 'nova/test.py', 'lower-constraints.txt', 'nova/tests/unit/pci/test_utils.py', 'nova/tests/unit/test_versions.py', 'nova/tests/unit/test_test.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca8f4be2a84d37319183cf9511d1791068a2e2fd', 'message': 'Move selective patching of open() to nova.test for reuse\n\nSeveral existing tests patch open() to fake the contents of a file\noutside the test virtualenv, whilst avoiding interfering with reading\nand writing of other files inside the test virtualenv.  Currently they\ndo it by duplicating logic.\n\nFurthermore, in the near future, more tests (specifically, some SEV\ntests) will want to do the same selective patching, and similarly will\nneed to avoid impacting reads of other files within the test\nvirtualenv, e.g. placement-policy.yaml.\n\nSo create new patch_open() context manager / decorator in nova.test\nfor selectively patching open based on the path parameter, and reuse\nthis for existing tests.\n\nAlso add unit tests for all these cases.\n\nmock >= 3.0.0 is required because configparser.RawConfigParser._read()\nuses enumerate() to iterate over the lines of the (mocked)\n/etc/nova/release config file, and this uses __iter__() under the hood\nwhich was not supported via mock_open until a bug was fixed and\nbackported to the external mock library for 3.0.0:\n\n    https://bugs.python.org/issue21258\n    https://bugs.python.org/issue32933\n    https://github.com/testing-cabal/mock/commit/73f6eed0d6867299fa2543b88a07cd8f12198361\n\nChange-Id: I19f49c923d2c41eab0c7b4cab28c50498dc07046\n'}]",9,661266,ca8f4be2a84d37319183cf9511d1791068a2e2fd,93,19,4,2394,,,0,"Move selective patching of open() to nova.test for reuse

Several existing tests patch open() to fake the contents of a file
outside the test virtualenv, whilst avoiding interfering with reading
and writing of other files inside the test virtualenv.  Currently they
do it by duplicating logic.

Furthermore, in the near future, more tests (specifically, some SEV
tests) will want to do the same selective patching, and similarly will
need to avoid impacting reads of other files within the test
virtualenv, e.g. placement-policy.yaml.

So create new patch_open() context manager / decorator in nova.test
for selectively patching open based on the path parameter, and reuse
this for existing tests.

Also add unit tests for all these cases.

mock >= 3.0.0 is required because configparser.RawConfigParser._read()
uses enumerate() to iterate over the lines of the (mocked)
/etc/nova/release config file, and this uses __iter__() under the hood
which was not supported via mock_open until a bug was fixed and
backported to the external mock library for 3.0.0:

    https://bugs.python.org/issue21258
    https://bugs.python.org/issue32933
    https://github.com/testing-cabal/mock/commit/73f6eed0d6867299fa2543b88a07cd8f12198361

Change-Id: I19f49c923d2c41eab0c7b4cab28c50498dc07046
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/661266/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/test.py', 'nova/tests/unit/pci/test_utils.py', 'nova/tests/unit/test_versions.py', 'nova/tests/unit/test_test.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,d5ccef2b80836823daa5739c82086db3ac18bcf2,patch-open," @test.patch_open(""/etc/machine-id"", theuuid) self._test_get_guest_config_sysinfo_serial(self.theuuid)","from six.moves import builtins real_open = builtins.open with mock.patch.object(builtins, ""open"") as mock_open: theuuid = ""56b40135-a973-4eb3-87bb-a2382a3e6dbc"" def fake_open(filename, *args, **kwargs): if filename == ""/etc/machine-id"": h = mock.MagicMock() h.read.return_value = theuuid h.__enter__.return_value = h return h return real_open(filename, *args, **kwargs) mock_open.side_effect = fake_open self._test_get_guest_config_sysinfo_serial(theuuid)",128,33
openstack%2Fnova~master~Ieb685a476d51d92ad3f153fb3d1fabfb6d5a4376,openstack/nova,master,Ieb685a476d51d92ad3f153fb3d1fabfb6d5a4376,Blacklist python-cinderclient 4.0.0,MERGED,2019-05-27 09:54:23.000000000,2019-05-31 09:10:54.000000000,2019-05-30 17:47:02.000000000,"[{'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27679}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-05-27 09:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e33b3cd23010074cf61b8068a435277f708e7ed2', 'message': 'Blacklist python-cinderclient 4.0.0\n\nThis release of the Cinder client broke support for the v3\nvolume-transfer APIs unless microversion 3.55 or higher was requested.\ndepend on https://review.opendev.org/#/c/587877/\n\nChange-Id: Ieb685a476d51d92ad3f153fb3d1fabfb6d5a4376\n'}, {'number': 2, 'created': '2019-05-28 06:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1eb9e43dd80e5fda7085f6e5cc99f059e64da94', 'message': 'Blacklist python-cinderclient 4.0.0\n\nThis release of the Cinder client broke support for the v3\nvolume-transfer APIs unless microversion 3.55 or higher was requested.\ndepend on https://review.opendev.org/#/c/587877/\n\nChange-Id: Ieb685a476d51d92ad3f153fb3d1fabfb6d5a4376\n'}, {'number': 3, 'created': '2019-05-30 01:35:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/4825720ae5b0a0ad704f54bf0a9268f95dc8fd13', 'message': 'Blacklist python-cinderclient 4.0.0\n\nThis release of the Cinder client broke support for the v3\nvolume-transfer APIs unless microversion 3.55 or higher was requested.\nDepends-On https://review.opendev.org/#/c/587877/\n\nChange-Id: Ieb685a476d51d92ad3f153fb3d1fabfb6d5a4376\n'}]",5,661578,4825720ae5b0a0ad704f54bf0a9268f95dc8fd13,52,17,3,28239,,,0,"Blacklist python-cinderclient 4.0.0

This release of the Cinder client broke support for the v3
volume-transfer APIs unless microversion 3.55 or higher was requested.
Depends-On https://review.opendev.org/#/c/587877/

Change-Id: Ieb685a476d51d92ad3f153fb3d1fabfb6d5a4376
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/661578/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e33b3cd23010074cf61b8068a435277f708e7ed2,bug#cinderclient,python-cinderclient!=4.0.0>=3.3.0 # Apache-2.0,python-cinderclient>=3.3.0 # Apache-2.0,1,1
openstack%2Fansible-role-tripleo-modify-image~master~Id03405d49dc213d018941c44129521cca845e7d6,openstack/ansible-role-tripleo-modify-image,master,Id03405d49dc213d018941c44129521cca845e7d6,yum_update.sh improvements,MERGED,2019-05-09 09:28:19.000000000,2019-05-31 09:03:54.000000000,2019-05-31 08:43:10.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 4978}, {'_account_id': 9592}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22722}]","[{'number': 1, 'created': '2019-05-09 09:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/e57d87ce2a1fdb92dc1570091ea8c5d2d379d62c', 'message': 'yum_update.sh improvements\n\n* Use <yum|dnf> repoquery instead of repoquery directly\n\n  ""repoquery"" is part of <yum|dnf>-utils which may not be installed, in\n  which case no packages would end up updated.\n\n* Use the --quiet flag with repoquery\n\n  This prevents notices such as subscription-related stderr warnings\n  from being added to the output and messing with the sorted order.\n\n* Remove the : after else\n\n  It seems using else without a colon is the bash standard. This gets\n  rid of the following error on RHEL:\n  ""/tmp/yum_update.sh: line 34: else:: command not found""\n\nChange-Id: Id03405d49dc213d018941c44129521cca845e7d6\n'}, {'number': 2, 'created': '2019-05-13 08:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/fc05d4c71dcf60d5ea9180932c29410606b18224', 'message': 'yum_update.sh improvements\n\n* Use <yum|dnf> repoquery instead of repoquery directly\n\n  ""repoquery"" is part of <yum|dnf>-utils which may not be installed, in\n  which case no packages would end up updated.\n\n* Use the --quiet flag with repoquery\n\n  This prevents notices such as subscription-related stderr warnings\n  from being added to the output and messing with the sorted order.\n\n* Remove the : after else\n\n  It seems using else without a colon is the bash standard. This gets\n  rid of the following error on RHEL8:\n  ""/tmp/yum_update.sh: line 34: else:: command not found""\n\nChange-Id: Id03405d49dc213d018941c44129521cca845e7d6\n'}, {'number': 3, 'created': '2019-05-30 20:18:00.000000000', 'files': ['files/yum_update.sh'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/c475c8394a033e77134ce40dfa8428d17ea7f3d6', 'message': 'yum_update.sh improvements\n\n* Use <yum|dnf> repoquery instead of repoquery directly\n\n  ""repoquery"" is part of <yum|dnf>-utils which may not be installed, in\n  which case no packages would end up updated.\n\n* Use the --quiet flag with repoquery\n\n  This prevents notices such as subscription-related stderr warnings\n  from being added to the output and messing with the sorted order.\n\n* Remove the : after else\n\n  It seems using else without a colon is the bash standard. This gets\n  rid of the following error on RHEL8:\n  ""/tmp/yum_update.sh: line 34: else:: command not found""\n\nDepends-On: https://review.opendev.org/662317\nChange-Id: Id03405d49dc213d018941c44129521cca845e7d6\n'}]",0,657961,c475c8394a033e77134ce40dfa8428d17ea7f3d6,28,8,3,4978,,,0,"yum_update.sh improvements

* Use <yum|dnf> repoquery instead of repoquery directly

  ""repoquery"" is part of <yum|dnf>-utils which may not be installed, in
  which case no packages would end up updated.

* Use the --quiet flag with repoquery

  This prevents notices such as subscription-related stderr warnings
  from being added to the output and messing with the sorted order.

* Remove the : after else

  It seems using else without a colon is the bash standard. This gets
  rid of the following error on RHEL8:
  ""/tmp/yum_update.sh: line 34: else:: command not found""

Depends-On: https://review.opendev.org/662317
Change-Id: Id03405d49dc213d018941c44129521cca845e7d6
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/61/657961/1 && git format-patch -1 --stdout FETCH_HEAD,['files/yum_update.sh'],1,e57d87ce2a1fdb92dc1570091ea8c5d2d379d62c,yum_update,"PKG=""$(command -v dnf || command -v yum)"" if [ -n ""$1"" ] && $PKG repoquery >/dev/null 2>&1; then available_versions=$($PKG repoquery --quiet --provides --disablerepo='*' --enablerepo=$1 -a | sort)else","if [ -n ""$1"" ] && command -v repoquery >/dev/null 2>&1; then available_versions=$(repoquery --provides --disablerepo='*' --enablerepo=$1 -a | sort)PKG=""$(command -v dnf || command -v yum)""else:",5,4
openstack%2Ffreezer-tempest-plugin~master~Ib013da0c8d1d5e13bb2d350e5a1c485f7efde72d,openstack/freezer-tempest-plugin,master,Ib013da0c8d1d5e13bb2d350e5a1c485f7efde72d,[TEST]:Fix freezer tempset api ci,MERGED,2019-05-27 03:35:31.000000000,2019-05-31 08:27:37.000000000,2019-05-31 08:27:37.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-27 03:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/7b659a2deb7bf1327133dcc55b71a6bd5a9f012a', 'message': 'Fix freezer tempset api ci\n\nThe patch fix tempset ci fail\n\nChange-Id: Ib013da0c8d1d5e13bb2d350e5a1c485f7efde72d\n'}, {'number': 2, 'created': '2019-05-27 05:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/c6d9cbcc85ded2c3cb26c21ba669dd317f9fbb5e', 'message': 'Fix freezer tempset api ci\n\nThe patch fix tempset ci fail\n\nChange-Id: Ib013da0c8d1d5e13bb2d350e5a1c485f7efde72d\n'}, {'number': 3, 'created': '2019-05-28 01:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/3e87dad61f622e7eb8e378cdd7cc50e24013e789', 'message': '[TEST]:Fix freezer tempset api ci\n\nThe patch fix tempset ci fail\n\nChange-Id: Ib013da0c8d1d5e13bb2d350e5a1c485f7efde72d\n'}, {'number': 4, 'created': '2019-05-28 01:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/9578cec157667c9757cf5f6236294fc100a5caf8', 'message': '[TEST]:Fix freezer tempset api ci\n\nThe patch fix tempset ci fail\n\nChange-Id: Ib013da0c8d1d5e13bb2d350e5a1c485f7efde72d\n'}, {'number': 5, 'created': '2019-05-31 06:35:55.000000000', 'files': ['freezer_tempest_plugin/tests/freezer_api/api/test_api_clients.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/81d09929061109998dcaf0578d7ba10587c05b93', 'message': '[TEST]:Fix freezer tempset api ci\n\nThe patch fix tempset ci fail\n\nChange-Id: Ib013da0c8d1d5e13bb2d350e5a1c485f7efde72d\n'}]",0,661520,81d09929061109998dcaf0578d7ba10587c05b93,17,2,5,21387,,,0,"[TEST]:Fix freezer tempset api ci

The patch fix tempset ci fail

Change-Id: Ib013da0c8d1d5e13bb2d350e5a1c485f7efde72d
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/20/661520/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_tempest_plugin/tests/freezer_api/api/test_api_clients.py'],1,7b659a2deb7bf1327133dcc55b71a6bd5a9f012a,fixtempsetci,import uuid 'uuid': uuid.uuid4().hex}, 'uuid': 'test-client-uuid'},2,1
openstack%2Ftripleo-quickstart~master~I98b709c023866bff532e41c5f8db12c23eba885c,openstack/tripleo-quickstart,master,I98b709c023866bff532e41c5f8db12c23eba885c,override container update repos for Fedora,MERGED,2019-05-30 20:17:18.000000000,2019-05-31 08:24:34.000000000,2019-05-31 08:24:34.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-30 20:17:18.000000000', 'files': ['config/release/tripleo-ci/Fedora-28/master.yml', 'config/release/tripleo-ci/Fedora-28/stein.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/018100d754b5626aec41d3856d1785bab94d753d', 'message': 'override container update repos for Fedora\n\nFedora jobs should not be using a centos ceph\nyum repo in the config for container updates.\n\nChange-Id: I98b709c023866bff532e41c5f8db12c23eba885c\n'}]",0,662317,018100d754b5626aec41d3856d1785bab94d753d,9,5,1,9592,,,0,"override container update repos for Fedora

Fedora jobs should not be using a centos ceph
yum repo in the config for container updates.

Change-Id: I98b709c023866bff532e41c5f8db12c23eba885c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/17/662317/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/Fedora-28/master.yml', 'config/release/tripleo-ci/Fedora-28/stein.yml']",2,018100d754b5626aec41d3856d1785bab94d753d,,"# used for container updates standalone_container_prep_update_repo: >- {{ gating_repo_name }},delorean-current",,6,0
openstack%2Fdiskimage-builder~master~I71192b23c8f0bc48b348fe7377bf8a2399b53792,openstack/diskimage-builder,master,I71192b23c8f0bc48b348fe7377bf8a2399b53792,Add option to skip update packages,MERGED,2019-02-10 14:07:06.000000000,2019-05-31 08:13:38.000000000,2019-05-31 08:13:38.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-10 14:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/39180a34571ad34800cd46121996feda89064de5', 'message': 'add option to skip update packages\n\nin same cases it is required to avoid update all existing packages, doing so can result in release update which is currently not possible unless you not include ""base"" element.\n\n""base"" element used for most distribution (rhel, debain), and is necessary for most cloud operations, this patch add ""DIB_AVOID_PACKAGES_UPDATE"" parameter to skip updating all packages.\n\nusage:\nDIB_AVOID_PACKAGES_UPDATE=true\n\nor\nDIB_AVOID_PACKAGES_UPDATE=false\n\nChange-Id: I71192b23c8f0bc48b348fe7377bf8a2399b53792\n'}, {'number': 2, 'created': '2019-02-10 14:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/381d4f8233b77ab19d6ca73e45782e835e638801', 'message': 'add option to skip update packages\n\nin same cases it is required to avoid update all existing packages, doing so can result in release update which is currently not possible unless you not include ""base"" element.\n\n""base"" element used for most distribution (rhel, debain), and is necessary for most cloud operations, this patch add ""DIB_AVOID_PACKAGES_UPDATE"" parameter to skip updating all packages.\n\nusage:\nDIB_AVOID_PACKAGES_UPDATE=true\n\nor\nDIB_AVOID_PACKAGES_UPDATE=false\n\nChange-Id: I71192b23c8f0bc48b348fe7377bf8a2399b53792\n'}, {'number': 3, 'created': '2019-02-25 06:31:34.000000000', 'files': ['diskimage_builder/elements/base/environment.d/10-base-defaults', 'diskimage_builder/elements/base/README.rst', 'diskimage_builder/elements/base/install.d/00-up-to-date'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8b83196024bd7d88f5f0b9d318a103e2de7dae9b', 'message': 'Add option to skip update packages\n\nin same cases it is required to avoid update all existing packages,\ndoing so can result in release update which is currently not possible\nunless you not include ""base"" element.\n\n""base"" element used for most distribution (rhel, debain), and is\nnecessary for most cloud operations, this patch add \n""DIB_AVOID_PACKAGES_UPDATE"" parameter to skip updating all packages.\n\nusecases for this patch can be:\n * Avoid release update when building old release ex. RHEL7.5.\n * build on network-less environment.\n\nusage:\nDIB_AVOID_PACKAGES_UPDATE=1\n\nor\nDIB_AVOID_PACKAGES_UPDATE=0\n\nChange-Id: I71192b23c8f0bc48b348fe7377bf8a2399b53792\n'}]",4,636060,8b83196024bd7d88f5f0b9d318a103e2de7dae9b,16,5,3,16690,,,0,"Add option to skip update packages

in same cases it is required to avoid update all existing packages,
doing so can result in release update which is currently not possible
unless you not include ""base"" element.

""base"" element used for most distribution (rhel, debain), and is
necessary for most cloud operations, this patch add 
""DIB_AVOID_PACKAGES_UPDATE"" parameter to skip updating all packages.

usecases for this patch can be:
 * Avoid release update when building old release ex. RHEL7.5.
 * build on network-less environment.

usage:
DIB_AVOID_PACKAGES_UPDATE=1

or
DIB_AVOID_PACKAGES_UPDATE=0

Change-Id: I71192b23c8f0bc48b348fe7377bf8a2399b53792
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/60/636060/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,39180a34571ad34800cd46121996feda89064de5,add-opt-ignore-pkg-update,,,0,0
openstack%2Fperformance-docs~master~Icd8da94ef6f3ece5efb06783c7ccdd3147e10c1e,openstack/performance-docs,master,Icd8da94ef6f3ece5efb06783c7ccdd3147e10c1e,Pin Sphinx on py27,MERGED,2019-05-29 15:24:38.000000000,2019-05-31 08:11:36.000000000,2019-05-31 08:11:36.000000000,"[{'_account_id': 5950}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 15:24:38.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/performance-docs/commit/b5b6aaba8b04b9a687427132e04bfb14e51cc507', 'message': 'Pin Sphinx on py27\n\nChange-Id: Icd8da94ef6f3ece5efb06783c7ccdd3147e10c1e\n'}]",0,662019,b5b6aaba8b04b9a687427132e04bfb14e51cc507,6,2,1,5950,,,0,"Pin Sphinx on py27

Change-Id: Icd8da94ef6f3ece5efb06783c7ccdd3147e10c1e
",git fetch https://review.opendev.org/openstack/performance-docs refs/changes/19/662019/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b5b6aaba8b04b9a687427132e04bfb14e51cc507,pin-sphinx,"sphinx!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7;python_version>='3.4' # BSD",sphinx>=1.6.2 # BSD ,2,2
openstack%2Fmistral~master~I3b880ef29057afb041edd9095c279a944c77f2dd,openstack/mistral,master,I3b880ef29057afb041edd9095c279a944c77f2dd,Fix adhoc action lookup,MERGED,2019-05-29 12:18:42.000000000,2019-05-31 08:10:03.000000000,2019-05-31 08:10:03.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 11391}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-05-29 12:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/59b7a6e092b2c429beaeb608778f6a48bd7428e1', 'message': 'Fix adhoc action lookup\n\nNow to find an adhoc action definition by name action hanler takes\nthe name in runtime context first, and then provides this value along\nwith workflow name and workflow spec name to resolve_action_definition\nmethod.\n\nThis method tries to find a definition by full name, i.e.\n""wb_name.action_name"" if wf_name != wf_spec_name, and, if nothing was\nfound, looks for a definition just by name, i.e. ""action_name"".\n\nThere is an issue, because runtime context already contains full name\nfor the action and substitution of a workbook name as a prefix is not\nnecessary.\n\nIt leads to the fact, that for all adhoc actions mistral tries to find\nthem by ""my_wb_name.my_wb_name.my_action_name"" first, and then, when it\nfails, it looks for ""my_wb_name.my_action_name"".\n\nThis results in double the number of queries to the database and highly\ninnefficient.\n\nThis commit solves the issue by not providing workflow name and workflow\nspec name to resolve_action_definition method for adhoc actions.\nAfter that, the method will search for the action immediately by its\nname.\n\nChange-Id: I3b880ef29057afb041edd9095c279a944c77f2dd\n'}, {'number': 2, 'created': '2019-05-29 13:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5239d76cde78a0267849732179d64db0118387ba', 'message': 'Fix adhoc action lookup\n\nNow to find an adhoc action definition by name action hanler takes\nthe name in runtime context first, and then provides this value along\nwith workflow name and workflow spec name to resolve_action_definition\nmethod.\n\nThis method tries to find a definition by full name, i.e.\n""wb_name.action_name"" if wf_name != wf_spec_name, and, if nothing was\nfound, looks for a definition just by name, i.e. ""action_name"".\n\nThere is an issue, because runtime context already contains full name\nfor the action and substitution of a workbook name as a prefix is not\nnecessary.\n\nIt leads to the fact, that for all adhoc actions mistral tries to find\nthem by ""my_wb_name.my_wb_name.my_action_name"" first, and then, when it\nfails, it looks for ""my_wb_name.my_action_name"".\n\nThis results in double the number of queries to the database and highly\ninnefficient.\n\nThis commit solves the issue by not providing workflow name and workflow\nspec name to resolve_action_definition method for adhoc actions.\nAfter that, the method will search for the action immediately by its\nname.\n\nChange-Id: I3b880ef29057afb041edd9095c279a944c77f2dd\n'}, {'number': 3, 'created': '2019-05-29 15:14:34.000000000', 'files': ['mistral/tests/unit/engine/test_adhoc_actions.py', 'mistral/engine/action_handler.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/2712b8c1519926b1935056a00e3c2a630de97dab', 'message': 'Fix adhoc action lookup\n\nNow to find an adhoc action definition by name action hanler takes\nthe name in runtime context first, and then provides this value along\nwith workflow name and workflow spec name to resolve_action_definition\nmethod.\n\nThis method tries to find a definition by full name, i.e.\n""wb_name.action_name"" if wf_name != wf_spec_name, and, if nothing was\nfound, looks for a definition just by name, i.e. ""action_name"".\n\nThere is an issue, because runtime context already contains full name\nfor the action and substitution of a workbook name as a prefix is not\nnecessary.\n\nIt leads to the fact, that for all adhoc actions mistral tries to find\nthem by ""my_wb_name.my_wb_name.my_action_name"" first, and then, when it\nfails, it looks for ""my_wb_name.my_action_name"".\n\nThis results in double the number of queries to the database and highly\ninnefficient.\n\nThis commit solves the issue by not providing workflow name and workflow\nspec name to resolve_action_definition method for adhoc actions.\nAfter that, the method will search for the action immediately by its\nname.\nFor system actions this substitution is not necessary there either, so\nthe code can be safely deleted as well.\n\nChange-Id: I3b880ef29057afb041edd9095c279a944c77f2dd\n'}]",0,661959,2712b8c1519926b1935056a00e3c2a630de97dab,17,7,3,11391,,,0,"Fix adhoc action lookup

Now to find an adhoc action definition by name action hanler takes
the name in runtime context first, and then provides this value along
with workflow name and workflow spec name to resolve_action_definition
method.

This method tries to find a definition by full name, i.e.
""wb_name.action_name"" if wf_name != wf_spec_name, and, if nothing was
found, looks for a definition just by name, i.e. ""action_name"".

There is an issue, because runtime context already contains full name
for the action and substitution of a workbook name as a prefix is not
necessary.

It leads to the fact, that for all adhoc actions mistral tries to find
them by ""my_wb_name.my_wb_name.my_action_name"" first, and then, when it
fails, it looks for ""my_wb_name.my_action_name"".

This results in double the number of queries to the database and highly
innefficient.

This commit solves the issue by not providing workflow name and workflow
spec name to resolve_action_definition method for adhoc actions.
After that, the method will search for the action immediately by its
name.
For system actions this substitution is not necessary there either, so
the code can be safely deleted as well.

Change-Id: I3b880ef29057afb041edd9095c279a944c77f2dd
",git fetch https://review.opendev.org/openstack/mistral refs/changes/59/661959/2 && git format-patch -1 --stdout FETCH_HEAD,['mistral/engine/action_handler.py'],1,59b7a6e092b2c429beaeb608778f6a48bd7428e1,fix_adhoc_action_lookup, action_def = actions.resolve_action_definition(adhoc_action_name)," action_def = actions.resolve_action_definition( adhoc_action_name, wf_name, wf_spec_name )",1,5
openstack%2Fdiskimage-builder~master~Ic39ed85cacae9942448eb18ad685763f9369c2ed,openstack/diskimage-builder,master,Ic39ed85cacae9942448eb18ad685763f9369c2ed,Deprecate rhel7 in favor of rhel,MERGED,2019-03-26 10:54:33.000000000,2019-05-31 08:01:13.000000000,2019-05-31 08:01:13.000000000,"[{'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-26 10:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3b7b33d00fdeab78338c01d8d26a5518cd59a997', 'message': ""Deprecate rhel7 in favor of rhel\n\nThe rhel7 element is deprecated and is left only for backward compatibility.\nThe rhel element should be used instead. Users should set DIB_RELEASE to 7 to indicate which release you are using.\n\nThe new element is a version-less RHEL element to handle both '7' and '8' DIB_RELEASE, which aligns with other elements which operate in the\nsame way such as the Fedora element.\n\nChange-Id: Ic39ed85cacae9942448eb18ad685763f9369c2ed\n""}, {'number': 2, 'created': '2019-03-26 10:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cb7652d69dcee23fb876d314d1aae479ccc777b1', 'message': ""Deprecate rhel7 in favor of rhel\n\nThe rhel7 element is deprecated and is left only for backward\ncompatibility.\nThe rhel element should be used instead. Users should set DIB_RELEASE to\n'7' to indicate which release you are using.\n\nThe new element is a version-less RHEL element to handle both '7'\nand '8' DIB_RELEASE, which aligns with other elements which operate in\nthe same way such as the Fedora element.\n\nChange-Id: Ic39ed85cacae9942448eb18ad685763f9369c2ed\n""}, {'number': 3, 'created': '2019-05-14 13:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/678aff61fc5695365598dcfcd9b6dc770193e14d', 'message': ""Deprecate rhel7 in favor of rhel\n\nThe rhel7 element is deprecated and is left only for backward\ncompatibility.\nThe rhel element should be used instead. Users should set DIB_RELEASE to\n'7' to indicate which release you are using.\n\nThe new element is a version-less RHEL element to handle both '7'\nand '8' DIB_RELEASE, which aligns with other elements which operate in\nthe same way such as the Fedora element.\n\nChange-Id: Ic39ed85cacae9942448eb18ad685763f9369c2ed\n""}, {'number': 4, 'created': '2019-05-15 08:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6bc5c6426513cc001b8da9599c7453332932bb02', 'message': ""Deprecate rhel7 in favor of rhel\n\nThe rhel7 element is deprecated and is left only for backward\ncompatibility.\nThe rhel element should be used instead. Users should set DIB_RELEASE to\n'7' to indicate which release you are using.\n\nThe new element is a version-less RHEL element to handle both '7'\nand '8' DIB_RELEASE, which aligns with other elements which operate in\nthe same way such as the Fedora element.\n\nChange-Id: Ic39ed85cacae9942448eb18ad685763f9369c2ed\n""}, {'number': 5, 'created': '2019-05-22 09:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2560756abd86441cebf358aeadb797534777e159', 'message': ""Deprecate rhel7 in favor of rhel\n\nThe rhel7 element is deprecated and is left only for backward\ncompatibility.\nThe rhel element should be used instead. Users should set DIB_RELEASE to\n'7' to indicate which release you are using.\n\nThe new element is a version-less RHEL element to handle both '7'\nand '8' DIB_RELEASE, which aligns with other elements which operate in\nthe same way such as the Fedora element.\n\nChange-Id: Ic39ed85cacae9942448eb18ad685763f9369c2ed\n""}, {'number': 6, 'created': '2019-05-29 12:07:44.000000000', 'files': ['diskimage_builder/elements/rhel7/element-provides', 'diskimage_builder/elements/rhel7/environment.d/10-rhel7-distro-name.bash', 'diskimage_builder/elements/rhel7/root.d/10-rhel7-cloud-image', 'releasenotes/notes/rhel7-element-deprecation-b0c1b57be8cd06ac.yaml', 'diskimage_builder/elements/rhel7/README.rst', 'diskimage_builder/elements/rhel7/environment.d/00-rhel7-element-deprecation.bash', 'diskimage_builder/elements/rhel7/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/433a3747481fc7647908cbb41afce400557b1110', 'message': ""Deprecate rhel7 in favor of rhel\n\nThe rhel7 element is deprecated and is left only for backward\ncompatibility.\nThe rhel element should be used instead. Users should set DIB_RELEASE to\n'7' to indicate which release you are using.\n\nThe new element is a version-less RHEL element to handle both '7'\nand '8' DIB_RELEASE, which aligns with other elements which operate in\nthe same way such as the Fedora element.\n\nChange-Id: Ic39ed85cacae9942448eb18ad685763f9369c2ed\n""}]",0,647710,433a3747481fc7647908cbb41afce400557b1110,27,6,6,6579,,,0,"Deprecate rhel7 in favor of rhel

The rhel7 element is deprecated and is left only for backward
compatibility.
The rhel element should be used instead. Users should set DIB_RELEASE to
'7' to indicate which release you are using.

The new element is a version-less RHEL element to handle both '7'
and '8' DIB_RELEASE, which aligns with other elements which operate in
the same way such as the Fedora element.

Change-Id: Ic39ed85cacae9942448eb18ad685763f9369c2ed
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/10/647710/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/rhel7/element-provides', 'diskimage_builder/elements/rhel7/environment.d/10-rhel7-distro-name.bash', 'diskimage_builder/elements/rhel7/root.d/10-rhel7-cloud-image', 'releasenotes/notes/rhel7-element-deprecation-b0c1b57be8cd06ac.yaml', 'diskimage_builder/elements/rhel7/README.rst', 'diskimage_builder/elements/rhel7/element-deps', 'diskimage_builder/elements/rhel7/environment.d/00-rhel7-element-deprecation.bash']",7,3b7b33d00fdeab78338c01d8d26a5518cd59a997,deprecate_rhel7_element,"echo ""The rhel7 element is deprecated and will be removed in future releases. Use the rhel element instead."" ",,17,52
openstack%2Fdiskimage-builder~master~I90540675c70bb475d9db2ae24f81c648a31f3f95,openstack/diskimage-builder,master,I90540675c70bb475d9db2ae24f81c648a31f3f95,Add version-less RHEL element for RHEL7 and RHEL8,MERGED,2019-03-17 09:55:17.000000000,2019-05-31 07:56:50.000000000,2019-05-31 07:56:50.000000000,"[{'_account_id': 1955}, {'_account_id': 6133}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 7118}, {'_account_id': 8161}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10118}, {'_account_id': 11810}, {'_account_id': 12393}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30457}]","[{'number': 1, 'created': '2019-03-17 09:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4e7ba4598c421e7e340a411a97625011dd4f0adc', 'message': 'WIP: Add rhel element\n\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n'}, {'number': 2, 'created': '2019-03-17 10:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/629d074f3d0ffaa97bb52716ac67f9a9a918a90c', 'message': ""Add vesion-less  RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the same way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with Python 3.\nAs of now, users of diskimage-builder will still be able to use the 'rhel7' element, or migrate to 'rhel' and specify their respective DIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 3, 'created': '2019-03-17 10:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6fcbfd07ba223508558a86293d729191dabb8014', 'message': ""Add vesion-less  RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the same way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with Python 3.\nAs of now, users of diskimage-builder will still be able to use the 'rhel7' element, or migrate to 'rhel' and specify their respective DIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 4, 'created': '2019-03-17 10:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2eacc43f687c751acaff7fcdd741fd60f6b5f5ca', 'message': ""Add vesion-less  RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 5, 'created': '2019-03-17 16:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dfb48283575d8654f523c1cf99593812399014a1', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 6, 'created': '2019-03-17 16:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/56b7e95c714af9e4d7d923f65975847c3c0d4652', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 7, 'created': '2019-03-19 16:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1f044d92d39d1f78d34c8be5db39c6ef632185c6', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 8, 'created': '2019-03-20 09:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e50acafda639544e148119624437e635f07a274b', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 9, 'created': '2019-03-20 09:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b06bc52cfabe156421f5b18bd136080c99668636', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 10, 'created': '2019-03-24 08:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6fd57a8f0f78ab8cdd972150c641fccfed0dfa2c', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 11, 'created': '2019-03-24 11:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/21bb5d324277db21e96bf5f688895a1b69c239e5', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 12, 'created': '2019-03-24 12:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5ddd41a1022c7b706fa794f7d4d6986fd0c902a1', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 13, 'created': '2019-03-26 10:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e0301a85b4fea4bd005dadf3ecbbc97b25420898', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 14, 'created': '2019-04-15 09:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7fbcc7ae70f14ef9804285f5433be6dabfe2bcb4', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 15, 'created': '2019-04-15 11:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4ff75927a66aac87094faf55299049ec57ae86a1', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 16, 'created': '2019-04-15 13:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bff0f1f45902e82a66dbb22635cd3c21aed574a7', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 17, 'created': '2019-04-15 14:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/365b8dfddb9a78a203e3f25d8bf57788ab4a3e4f', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 18, 'created': '2019-05-14 13:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/93611d4e84941afb061ca753b32f38fe2bd09441', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 19, 'created': '2019-05-14 17:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4d30e282d492bb19003735af87d333696c5f8721', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 20, 'created': '2019-05-15 08:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/97e83b4e30aba6af94b4deefd92727da52dd37e9', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\n* mount the xfs file-system for extraction as read-only.  vaguely\n  based on explaination in [1] and the fact we only read the image\n  data into a tar, so can ignore this.\n\n    XFS (dm-1): Superblock has unknown read-only compatible features (0x4) enabled.\n\n* Use the redhat system python as the dib-python version.  dib was\n  ahead of it's time making an abstracted python interpreter for\n  system work ;) the system python should work for running the various\n  dib element scripts.\n\n[1] https://unix.stackexchange.com/questions/247550/unmountable-xfs-filesystem\n\nRedhat-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1700253\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 21, 'created': '2019-05-15 09:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ca6ac6efd3573e00ff06fdeb1021ea8a0cabc606', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\n* mount the xfs file-system for extraction as read-only.  vaguely\n  based on explaination in [1] and the fact we only read the image\n  data into a tar, so can ignore this.\n\n    XFS (dm-1): Superblock has unknown read-only compatible features (0x4) enabled.\n\n* Use the redhat system python as the dib-python version.  dib was\n  ahead of it's time making an abstracted python interpreter for\n  system work ;) the system python should work for running the various\n  dib element scripts.\n\n[1] https://unix.stackexchange.com/questions/247550/unmountable-xfs-filesystem\n\nRedhat-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1700253\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 22, 'created': '2019-05-20 14:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e985a2dcb01fe578bf6e97e9b50f1dce710edeed', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\n* mount the xfs file-system for extraction as read-only.  vaguely\n  based on explaination in [1] and the fact we only read the image\n  data into a tar, so can ignore this.\n\n    XFS (dm-1): Superblock has unknown read-only compatible features (0x4) enabled.\n\n* Use the redhat system python as the dib-python version.  dib was\n  ahead of it's time making an abstracted python interpreter for\n  system work ;) the system python should work for running the various\n  dib element scripts.\n\n[1] https://unix.stackexchange.com/questions/247550/unmountable-xfs-filesystem\n\nRedhat-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1700253\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 23, 'created': '2019-05-22 09:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/199ddde267ee7a6e5553bc6882b520a95dc27e83', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\n* mount the xfs file-system for extraction as read-only.  vaguely\n  based on explaination in [1] and the fact we only read the image\n  data into a tar, so can ignore this.\n\n    XFS (dm-1): Superblock has unknown read-only compatible features (0x4) enabled.\n\n* Use the redhat system python as the dib-python version.  dib was\n  ahead of it's time making an abstracted python interpreter for\n  system work ;) the system python should work for running the various\n  dib element scripts.\n\n[1] https://unix.stackexchange.com/questions/247550/unmountable-xfs-filesystem\n\nRedhat-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1700253\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 24, 'created': '2019-05-28 11:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d472f0794ca7d198900daaf8c96830c1b73b5a86', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\n* mount the xfs file-system for extraction as read-only.  vaguely\n  based on explaination in [1] and the fact we only read the image\n  data into a tar, so can ignore this.\n\n    XFS (dm-1): Superblock has unknown read-only compatible features (0x4) enabled.\n\n* Use the redhat system python as the dib-python version.  dib was\n  ahead of it's time making an abstracted python interpreter for\n  system work ;) the system python should work for running the various\n  dib element scripts.\n\n[1] https://unix.stackexchange.com/questions/247550/unmountable-xfs-filesystem\n\nRedhat-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1700253\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}, {'number': 25, 'created': '2019-05-29 11:42:53.000000000', 'files': ['diskimage_builder/elements/rhel-common/pre-install.d/00-rhel-registration', 'diskimage_builder/elements/redhat-common/bin/extract-image', 'releasenotes/notes/add-version-less-rhel-element-82fac7f2609e16d3.yaml', 'diskimage_builder/elements/rhel/README.rst', 'diskimage_builder/elements/rhel/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rhel/root.d/10-rhel-cloud-image', 'diskimage_builder/elements/rhel/environment.d/10-rhel-distro-name.bash', 'diskimage_builder/elements/pip-and-virtualenv/pkg-map', 'diskimage_builder/elements/svc-map/package-installs.yaml', 'diskimage_builder/elements/rhel/element-provides', 'diskimage_builder/elements/rhel/element-deps', 'diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', 'diskimage_builder/elements/dib-python/pre-install.d/01-dib-python', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/lib/img-defaults', 'diskimage_builder/elements/svc-map/bin/svc-map', 'diskimage_builder/elements/svc-map/pkg-map', 'diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ee46e2f9b76233b6eddf9e3a73e245e799bc4b99', 'message': ""Add version-less RHEL element for RHEL7 and RHEL8\n\nMake a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.\nThe element usage should align with other elements which operate in the\nsame way such as the Fedora element.\n\nAdditionally, this patch adds support for RHEL8 that operates with\nPython 3.\nAs of now, users of diskimage-builder will still be able to use the\n'rhel7' element, or migrate to 'rhel' and specify their respective\nDIB_RELEASE value.\n\n* mount the xfs file-system for extraction as read-only.  vaguely\n  based on explaination in [1] and the fact we only read the image\n  data into a tar, so can ignore this.\n\n    XFS (dm-1): Superblock has unknown read-only compatible features (0x4) enabled.\n\n* Use the redhat system python as the dib-python version.  dib was\n  ahead of it's time making an abstracted python interpreter for\n  system work ;) the system python should work for running the various\n  dib element scripts.\n\n[1] https://unix.stackexchange.com/questions/247550/unmountable-xfs-filesystem\n\nRedhat-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1700253\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nChange-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95\n""}]",24,643731,ee46e2f9b76233b6eddf9e3a73e245e799bc4b99,126,16,25,6579,,,0,"Add version-less RHEL element for RHEL7 and RHEL8

Make a version-less RHEL element to handle both '7' and '8' DIB_RELEASE.
The element usage should align with other elements which operate in the
same way such as the Fedora element.

Additionally, this patch adds support for RHEL8 that operates with
Python 3.
As of now, users of diskimage-builder will still be able to use the
'rhel7' element, or migrate to 'rhel' and specify their respective
DIB_RELEASE value.

* mount the xfs file-system for extraction as read-only.  vaguely
  based on explaination in [1] and the fact we only read the image
  data into a tar, so can ignore this.

    XFS (dm-1): Superblock has unknown read-only compatible features (0x4) enabled.

* Use the redhat system python as the dib-python version.  dib was
  ahead of it's time making an abstracted python interpreter for
  system work ;) the system python should work for running the various
  dib element scripts.

[1] https://unix.stackexchange.com/questions/247550/unmountable-xfs-filesystem

Redhat-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1700253
Co-Authored-By: Ian Wienand <iwienand@redhat.com>
Change-Id: I90540675c70bb475d9db2ae24f81c648a31f3f95
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/31/643731/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/yum-minimal/pre-install.d/03-yum-cleanup', 'diskimage_builder/elements/rhel/README.rst', 'diskimage_builder/elements/rhel/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rhel/root.d/10-rhel-cloud-image', 'diskimage_builder/elements/rhel/environment.d/10-rhel-distro-name.bash', 'diskimage_builder/elements/rhel/package-installs.yaml', 'diskimage_builder/elements/pip-and-virtualenv/pkg-map', 'diskimage_builder/elements/svc-map/package-installs.yaml', 'diskimage_builder/elements/rhel/element-provides', 'diskimage_builder/elements/rhel/element-deps', 'diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', 'diskimage_builder/elements/svc-map/bin/svc-map', 'diskimage_builder/elements/svc-map/pkg-map', 'diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip']",15,4e7ba4598c421e7e340a411a97625011dd4f0adc,rhel-element,"if [[ $DISTRO_NAME =~ (opensuse|fedora|centos|centos7|rhel|rhel7) ]]; then rhel) _clear_old_files=1 case ""$DIB_RELEASE"" in 8) _do_py3=1 packages="" python3-virtualenv python3-pip python3-setuptools"" ;; 7) # note python2-pip in epel _extra_repo=""--enablerepo=epel"" packages=""python-virtualenv python2-pip"" if [[ ""$(rpm -q --qf '[%{obsoletes}\n]' python2-setuptools)"" == ""python-setuptools"" ]]; then # If OpenStack release is installed, then python-setuptools is # obsoleted by python2-setuptools packages+="" python2-setuptools"" else packages+="" python-setuptools"" fi ;; ;; esac",if [[ $DISTRO_NAME =~ (opensuse|fedora|centos|centos7|rhel7) ]]; then,208,10
openstack%2Fmistral-dashboard~master~Id3b45726f14087088767c5171b14fd8ec12da9ef,openstack/mistral-dashboard,master,Id3b45726f14087088767c5171b14fd8ec12da9ef,The columns out of page range,MERGED,2019-05-31 06:44:39.000000000,2019-05-31 07:54:29.000000000,2019-05-31 07:54:29.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 06:44:39.000000000', 'files': ['mistraldashboard/action_executions/tables.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/3be30d09d78e1d826039515ee268512980f9d4dc', 'message': 'The columns out of page range\n\nToo many columns in the table, resulting in out of page range,\naffecting the appearance.\nSome information can be seen on the details page,\nI think it can be deleted from the table.\n\nChange-Id: Id3b45726f14087088767c5171b14fd8ec12da9ef\n'}]",0,662392,3be30d09d78e1d826039515ee268512980f9d4dc,6,2,1,27822,,,0,"The columns out of page range

Too many columns in the table, resulting in out of page range,
affecting the appearance.
Some information can be seen on the details page,
I think it can be deleted from the table.

Change-Id: Id3b45726f14087088767c5171b14fd8ec12da9ef
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/92/662392/1 && git format-patch -1 --stdout FETCH_HEAD,['mistraldashboard/action_executions/tables.py'],1,3be30d09d78e1d826039515ee268512980f9d4dc,Bug#1,," input = tables.Column( """", verbose_name=_(""Input""), empty_value=_(""View""), link=""horizon:mistral:action_executions:input"", link_classes=(""ajax-modal"",) ) output = tables.Column( """", verbose_name=_(""Output""), empty_value=_(""View""), link=""horizon:mistral:action_executions:output"", link_classes=(""ajax-modal"",) )",0,14
openstack%2Fnova-powervm~master~I3dcab96661c56664118e4f698e83bf9e8daa7e2f,openstack/nova-powervm,master,I3dcab96661c56664118e4f698e83bf9e8daa7e2f,Correct pep8 issue - arrange imports alphabetically,ABANDONED,2019-05-31 06:50:36.000000000,2019-05-31 07:14:43.000000000,,"[{'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 06:50:36.000000000', 'files': ['nova_powervm/virt/powervm/driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/170c0d7c9bf9997c844de2669bd9339119a27aa1', 'message': 'Correct pep8 issue - arrange imports alphabetically\n\nChange-Id: I3dcab96661c56664118e4f698e83bf9e8daa7e2f\n'}]",0,662394,170c0d7c9bf9997c844de2669bd9339119a27aa1,4,2,1,26575,,,0,"Correct pep8 issue - arrange imports alphabetically

Change-Id: I3dcab96661c56664118e4f698e83bf9e8daa7e2f
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/94/662394/1 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/virt/powervm/driver.py'],1,170c0d7c9bf9997c844de2669bd9339119a27aa1,import_issues_rc_fields,import os_resource_classes as orc,import os_resource_classes as orc,1,1
openstack%2Frenderspec~master~Ie764618004b52449f909afbb075d2571b83e32a2,openstack/renderspec,master,Ie764618004b52449f909afbb075d2571b83e32a2,Switch to TOX_CONSTRAINTS_FILE,MERGED,2019-05-23 19:41:51.000000000,2019-05-31 07:13:25.000000000,2019-05-31 07:13:25.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-23 19:41:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/91fa3948ec5b5746f21b92cdc312b278d2135acd', 'message': 'Switch to TOX_CONSTRAINTS_FILE\n\nThis is a slightly more accurate naming of UPPER_CONSTRAINTS_FILE\nwhic is still supported.\n\nChange-Id: Ie764618004b52449f909afbb075d2571b83e32a2\n'}]",1,661097,91fa3948ec5b5746f21b92cdc312b278d2135acd,7,3,1,6593,,,0,"Switch to TOX_CONSTRAINTS_FILE

This is a slightly more accurate naming of UPPER_CONSTRAINTS_FILE
whic is still supported.

Change-Id: Ie764618004b52449f909afbb075d2571b83e32a2
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/97/661097/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,91fa3948ec5b5746f21b92cdc312b278d2135acd,stestr, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fnova-powervm~stable%2Fstein~I1e2993aafb64920729fc87081bdd9337a81b1b6f,openstack/nova-powervm,stable/stein,I1e2993aafb64920729fc87081bdd9337a81b1b6f,Changing import in driver class for nova_powervm,ABANDONED,2019-05-30 10:39:51.000000000,2019-05-31 07:13:13.000000000,,"[{'_account_id': 13637}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 30044}]","[{'number': 1, 'created': '2019-05-30 10:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/ee05768b9148b5fbcde6b2e90aba63596d776ac3', 'message': 'Changing import in driver class for nova_powervm\n\nThis change set is to correct the import statement in driver\nclass - os_resource_classes now provides cpu, ram and disk\nkeys instead of rc_fields class.\n\nChange-Id: I1e2993aafb64920729fc87081bdd9337a81b1b6f\nCloses-Bug: #1831034\n'}, {'number': 2, 'created': '2019-05-30 11:13:31.000000000', 'files': ['requirements.txt', 'nova_powervm/virt/powervm/driver.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/52fef8f5ea64134cd0731e010a2cbd3e3addc30d', 'message': 'Changing import in driver class for nova_powervm\n\nThis change set is to correct the import statement in driver\nclass - os_resource_classes now provides cpu, ram and disk\nkeys instead of rc_fields class.\n\nChange-Id: I1e2993aafb64920729fc87081bdd9337a81b1b6f\nCloses-Bug: #1831034\n'}]",0,662180,52fef8f5ea64134cd0731e010a2cbd3e3addc30d,8,4,2,26575,,,0,"Changing import in driver class for nova_powervm

This change set is to correct the import statement in driver
class - os_resource_classes now provides cpu, ram and disk
keys instead of rc_fields class.

Change-Id: I1e2993aafb64920729fc87081bdd9337a81b1b6f
Closes-Bug: #1831034
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/80/662180/2 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/virt/powervm/driver.py'],1,ee05768b9148b5fbcde6b2e90aba63596d776ac3,bug/1831034,import os_resource_classes as orc orc.VCPU: { orc.MEMORY_MB: { orc.DISK_GB: {,from nova import rc_fields rc_fields.ResourceClass.VCPU: { rc_fields.ResourceClass.MEMORY_MB: { rc_fields.ResourceClass.DISK_GB: {,4,4
openstack%2Frpm-packaging~master~I67aaf9025362fe0f5fcac6d71d02ebbc8e8ab22d,openstack/rpm-packaging,master,I67aaf9025362fe0f5fcac6d71d02ebbc8e8ab22d,Update to 2.34.0,MERGED,2019-05-29 01:50:00.000000000,2019-05-31 07:13:05.000000000,2019-05-31 07:13:05.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-29 01:50:00.000000000', 'files': ['openstack/oslo.vmware/oslo.vmware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ac89ae58f77a31b0649f5b851642929e751313a8', 'message': 'Update to 2.34.0\n\nChange-Id: I67aaf9025362fe0f5fcac6d71d02ebbc8e8ab22d\n'}]",0,661874,ac89ae58f77a31b0649f5b851642929e751313a8,9,5,1,28613,,,0,"Update to 2.34.0

Change-Id: I67aaf9025362fe0f5fcac6d71d02ebbc8e8ab22d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/74/661874/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.vmware/oslo.vmware.spec.j2'],1,ac89ae58f77a31b0649f5b851642929e751313a8,oslo.vmware,{% set upstream_version = upstream_version('2.34.0') %},{% set upstream_version = upstream_version('2.33.0') %},1,1
openstack%2Frpm-packaging~master~I3c3ba4a5450480ae4fae47b8f78ca075d3533b06,openstack/rpm-packaging,master,I3c3ba4a5450480ae4fae47b8f78ca075d3533b06,Update to 5.16.0,MERGED,2019-05-29 02:12:17.000000000,2019-05-31 07:13:04.000000000,2019-05-31 07:13:04.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-29 02:12:17.000000000', 'files': ['openstack/oslo.rootwrap/oslo.rootwrap.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5ef591d4521eac86ad358ab7bbba16ee3bc8f77e', 'message': 'Update to 5.16.0\n\nChange-Id: I3c3ba4a5450480ae4fae47b8f78ca075d3533b06\n'}]",0,661877,5ef591d4521eac86ad358ab7bbba16ee3bc8f77e,9,5,1,28613,,,0,"Update to 5.16.0

Change-Id: I3c3ba4a5450480ae4fae47b8f78ca075d3533b06
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/77/661877/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.rootwrap/oslo.rootwrap.spec.j2'],1,5ef591d4521eac86ad358ab7bbba16ee3bc8f77e,oslo.rootwrap,{% set upstream_version = upstream_version('5.16.0') %},{% set upstream_version = upstream_version('5.15.2') %},1,1
openstack%2Frpm-packaging~master~Ib1ed1daa53c05088cfd13a1e8f23ff1a9b2dd19f,openstack/rpm-packaging,master,Ib1ed1daa53c05088cfd13a1e8f23ff1a9b2dd19f,Update to 3.6.0,MERGED,2019-05-29 01:17:25.000000000,2019-05-31 07:13:03.000000000,2019-05-31 07:13:03.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-29 01:17:25.000000000', 'files': ['openstack/taskflow/taskflow.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5f5df7b2f7ab103a6f1a28ff17c500cebe856d80', 'message': 'Update to 3.6.0\n\nChange-Id: Ib1ed1daa53c05088cfd13a1e8f23ff1a9b2dd19f\n'}]",0,661868,5f5df7b2f7ab103a6f1a28ff17c500cebe856d80,9,5,1,28613,,,0,"Update to 3.6.0

Change-Id: Ib1ed1daa53c05088cfd13a1e8f23ff1a9b2dd19f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/68/661868/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/taskflow/taskflow.spec.j2'],1,5f5df7b2f7ab103a6f1a28ff17c500cebe856d80,taskflow,{% set upstream_version = upstream_version('3.6.0') %},{% set upstream_version = upstream_version('3.4.0') %},1,1
openstack%2Frpm-packaging~stable%2Fstein~I34a041f238e78a226c4a96831c0b14d12a55c4ef,openstack/rpm-packaging,stable/stein,I34a041f238e78a226c4a96831c0b14d12a55c4ef,Fix build against current master tarballs of monasca/ceilometer,MERGED,2019-05-28 15:01:03.000000000,2019-05-31 07:13:02.000000000,2019-05-31 07:13:02.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-28 15:01:03.000000000', 'files': ['openstack/monasca-persister/monasca-persister.spec.j2', 'openstack/monasca-ceilometer/monasca-ceilometer.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/798b9a1053276b15d8b0493ae1d76c0c6931ffc7', 'message': 'Fix build against current master tarballs of monasca/ceilometer\n\nChange-Id: I34a041f238e78a226c4a96831c0b14d12a55c4ef\n(cherry picked from commit ed25a402ae2dd445f3834c7c346bd32fc911ed48)\n'}]",0,661777,798b9a1053276b15d8b0493ae1d76c0c6931ffc7,14,8,1,8482,,,0,"Fix build against current master tarballs of monasca/ceilometer

Change-Id: I34a041f238e78a226c4a96831c0b14d12a55c4ef
(cherry picked from commit ed25a402ae2dd445f3834c7c346bd32fc911ed48)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/77/661777/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/monasca-persister/monasca-persister.spec.j2', 'openstack/monasca-ceilometer/monasca-ceilometer.spec.j2']",2,798b9a1053276b15d8b0493ae1d76c0c6931ffc7,,BuildRequires: {{ py2pkg('oslo.upgradecheck') }}Requires: {{ py2pkg('oslo.upgradecheck') }}%{_bindir}/ceilometer-status,,4,0
openstack%2Frpm-packaging~master~I540a95a403a16b061151ec3ee5b0c94f982bc5a9,openstack/rpm-packaging,master,I540a95a403a16b061151ec3ee5b0c94f982bc5a9,Update to 2.1.1,MERGED,2019-05-29 01:31:09.000000000,2019-05-31 07:11:53.000000000,2019-05-31 07:11:53.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-29 01:31:09.000000000', 'files': ['openstack/python-cloudkittyclient/python-cloudkittyclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/658a76d43c97a810b1f267a90aad8892e7a02f4c', 'message': 'Update to 2.1.1\n\nChange-Id: I540a95a403a16b061151ec3ee5b0c94f982bc5a9\n'}]",0,661870,658a76d43c97a810b1f267a90aad8892e7a02f4c,9,5,1,28613,,,0,"Update to 2.1.1

Change-Id: I540a95a403a16b061151ec3ee5b0c94f982bc5a9
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/70/661870/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-cloudkittyclient/python-cloudkittyclient.spec.j2'],1,658a76d43c97a810b1f267a90aad8892e7a02f4c,python-cloudkittyclient,{% set upstream_version = upstream_version('2.1.1') %},{% set upstream_version = upstream_version('2.1.0') %},1,1
openstack%2Fmistral~master~Id87f5834492a69cc2af2278e7736149fcb65d73d,openstack/mistral,master,Id87f5834492a69cc2af2278e7736149fcb65d73d,feat: add workflow input dict support unicode in py2,ABANDONED,2019-05-30 02:32:15.000000000,2019-05-31 07:09:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-30 02:32:15.000000000', 'files': ['mistral/utils/__init__.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/2db65e8f5d7177681313b0ed09bb94e8108da7ae', 'message': 'feat: add workflow input dict support unicode in py2\n\nChange-Id: Id87f5834492a69cc2af2278e7736149fcb65d73d\n'}]",0,662124,2db65e8f5d7177681313b0ed09bb94e8108da7ae,3,1,1,30524,,,0,"feat: add workflow input dict support unicode in py2

Change-Id: Id87f5834492a69cc2af2278e7736149fcb65d73d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/24/662124/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/utils/__init__.py'],1,2db65e8f5d7177681313b0ed09bb94e8108da7ae,workflow-input-dict-cut," is_unicode = isinstance(value, unicode) if is_unicode: v = str(value.encode('utf-8')) else: v = str(value)"," v = str(value.encode('utf-8')) if isinstance(value, unicode) else str(value) ",5,1
openstack%2Fmistral~master~I08056b0c5deb11c21310cbcb8c902830fe261b3d,openstack/mistral,master,I08056b0c5deb11c21310cbcb8c902830fe261b3d,feat: Adds workflow input dict Chinese parameter support,ABANDONED,2019-05-29 14:00:07.000000000,2019-05-31 07:09:08.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 14:00:07.000000000', 'files': ['mistral/utils/__init__.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/26eb92a3ae3c7f22cc527555ed94817655faa007', 'message': 'feat:\nAdds workflow input dict Chinese parameter support\n\nChange-Id: I08056b0c5deb11c21310cbcb8c902830fe261b3d\n'}]",0,661991,26eb92a3ae3c7f22cc527555ed94817655faa007,4,2,1,30524,,,0,"feat:
Adds workflow input dict Chinese parameter support

Change-Id: I08056b0c5deb11c21310cbcb8c902830fe261b3d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/91/661991/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/utils/__init__.py'],1,26eb92a3ae3c7f22cc527555ed94817655faa007,workflow-input-dict-cut," v = str(value.encode('utf-8')) if isinstance(value, unicode) else str(value) ", v = str(value),1,1
openstack%2Fdiskimage-builder~master~I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4,openstack/diskimage-builder,master,I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4,[wip] rhel8 beta support,ABANDONED,2018-12-06 05:13:07.000000000,2019-05-31 07:03:56.000000000,,"[{'_account_id': 2}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 7118}, {'_account_id': 8161}, {'_account_id': 10118}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-06 05:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c18670b35745ff45e92d58fe5089afc323f5c391', 'message': '[wip] rhel8 beta support\n\nChange-Id: I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4\nCloses-Bug: #1806296\n'}, {'number': 2, 'created': '2019-01-16 04:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2f3daf2b6a04b11f24612bac8f5dca2be422df2d', 'message': '[wip] rhel8 beta support\n\nChange-Id: I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4\nCloses-Bug: #1806296\n'}, {'number': 3, 'created': '2019-02-14 14:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8ea02abf1957b9c47757fbe1633e6a1fd6b1d36e', 'message': '[wip] rhel8 beta support\n\nChange-Id: I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4\nCloses-Bug: #1806296\n'}, {'number': 4, 'created': '2019-02-17 12:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/57edbd4ada163bb44ec1b8e76c0b8de68efbe2c1', 'message': '[wip] rhel8 beta support\n\nChange-Id: I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4\nCloses-Bug: #1806296\n'}, {'number': 5, 'created': '2019-02-19 13:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1d1ab07fd0e6148b5314d361f08334359542a0dc', 'message': '[wip] rhel8 beta support\n\nChange-Id: I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4\nCloses-Bug: #1806296\n'}, {'number': 6, 'created': '2019-02-21 23:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/62cacfbf70ed247a4ab2b78f088d54b581b6700a', 'message': '[wip] rhel8 beta support\n\nChange-Id: I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4\nCloses-Bug: #1806296\n'}, {'number': 7, 'created': '2019-02-26 02:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5daf57900e27ee195e9dbdbf3cb753c56f03a392', 'message': '[wip] rhel8 beta support\n\nChange-Id: I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4\nCloses-Bug: #1806296\n'}, {'number': 8, 'created': '2019-03-19 14:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c3c622e7ab7641801503158be9f42eaa35e7b59a', 'message': '[wip] rhel8 beta support\n\nChange-Id: I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4\nCloses-Bug: #1806296\n'}, {'number': 9, 'created': '2019-04-02 20:47:09.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/yum-minimal/pre-install.d/03-yum-cleanup', 'diskimage_builder/elements/rhel-minimal/yum.repos.d/yum.repo', 'diskimage_builder/elements/rhel-minimal/element-provides', 'diskimage_builder/elements/rpm-distro/cleanup.d/99-selinux-fixfiles-restore', 'diskimage_builder/elements/rhel-minimal/README.rst', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rhel-minimal/element-deps', 'diskimage_builder/elements/rhel-minimal/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/pip-and-virtualenv/pkg-map', 'diskimage_builder/elements/redhat-common/package-installs.yaml', 'diskimage_builder/elements/svc-map/package-installs.yaml', 'diskimage_builder/elements/rhel-minimal/test-elements/build-succeeds/README.rst', 'diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', 'diskimage_builder/elements/svc-map/bin/svc-map', 'diskimage_builder/elements/svc-map/pkg-map', 'diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip', 'diskimage_builder/elements/rhel-minimal/environment.d/10-rhel-distro-name.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0ed96e48a174a329d2d4d4501b666dcf1b2b468d', 'message': '[wip] rhel8 beta support\n\nChange-Id: I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4\nCloses-Bug: #1806296\n'}]",4,623137,0ed96e48a174a329d2d4d4501b666dcf1b2b468d,40,9,9,7118,,,0,"[wip] rhel8 beta support

Change-Id: I7117da58f5a1b07f9bed8e650d42fb7b4e2a16b4
Closes-Bug: #1806296
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/37/623137/9 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/yum-minimal/pre-install.d/03-yum-cleanup', 'diskimage_builder/elements/rhel-minimal/yum.repos.d/yum.repo', 'diskimage_builder/elements/rhel-minimal/element-provides', 'diskimage_builder/elements/rhel-minimal/README.rst', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rhel-minimal/element-deps', 'diskimage_builder/elements/rhel-minimal/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/redhat-common/package-installs.yaml', 'diskimage_builder/elements/rhel-minimal/test-elements/build-succeeds/README.rst', 'diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', 'diskimage_builder/elements/rhel-minimal/environment.d/10-rhel-distro-name.bash']",12,c18670b35745ff45e92d58fe5089afc323f5c391,bug/1806296,"export DISTRO_NAME=rhel export DIB_RELEASE=${DIB_RELEASE:-8} # by default, enable DHCP configuration of eth0 & eth1 in network # scripts. See yum-minimal for full details # disabled rhel8 #export DIB_YUM_MINIMAL_CREATE_INTERFACES=${DIB_YUM_MINIMAL_CREATE_INTERFACES:-1} # Useful for elements that work with fedora (dnf) & centos export YUM=${YUM:-dnf} ",,98,30
openstack%2Fcharm-ceph-radosgw~stable%2F19.04~Ia822fa6e26fd3011463dd2bd295b47cf99850e6d,openstack/charm-ceph-radosgw,stable/19.04,Ia822fa6e26fd3011463dd2bd295b47cf99850e6d,Backport Zaza reconfiguration,MERGED,2019-05-24 12:53:56.000000000,2019-05-31 06:54:54.000000000,2019-05-31 06:54:53.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 12:53:56.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/161793d5639fe60c7187593db97c676b70134a87', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: Ia822fa6e26fd3011463dd2bd295b47cf99850e6d\n'}]",0,661272,161793d5639fe60c7187593db97c676b70134a87,11,4,1,20634,,,0,"Backport Zaza reconfiguration

By splitting up Zaza from the openstack-charms specific tests,
we can more easily guarantee test stability, while not harming
out ability to improve on the testing library during a cycle.

This change backports the zaza namespace change landing, and
adds a stable branch of the zaza-openstack-charms project to
the test-dependencies.

Change-Id: Ia822fa6e26fd3011463dd2bd295b47cf99850e6d
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/72/661272/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,161793d5639fe60c7187593db97c676b70134a87,stable-zaza,git+https://github.com/openstack-charmers/zaza.git#egg=zaza;python_version>='3.0' git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/19.04#egg=zaza.openstack;python_version>='3.0',git+https://github.com/openstack-charmers/zaza.git@namespace-tests#egg=zaza;python_version>='3.0',2,1
openstack%2Ftripleo-docs~master~If78607ddb6c8c99075cfe4ca902e36a2dbd1e31a,openstack/tripleo-docs,master,If78607ddb6c8c99075cfe4ca902e36a2dbd1e31a,Sync Sphinx requirement,MERGED,2019-05-29 03:50:19.000000000,2019-05-31 06:47:03.000000000,2019-05-31 06:47:03.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-29 03:50:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/89ae70f3545ec06ccc2513766dfdf567aa56d1b1', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: If78607ddb6c8c99075cfe4ca902e36a2dbd1e31a\nCloses-Bug: #1830827\n'}]",0,661884,89ae70f3545ec06ccc2513766dfdf567aa56d1b1,12,5,1,30356,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: If78607ddb6c8c99075cfe4ca902e36a2dbd1e31a
Closes-Bug: #1830827
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/84/661884/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,89ae70f3545ec06ccc2513766dfdf567aa56d1b1,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.6.2 # BSD,2,1
openstack%2Fcharm-neutron-dynamic-routing~stable%2F19.04~I63082395ab1a47fd19c8b50f5eae4e2f4c73393b,openstack/charm-neutron-dynamic-routing,stable/19.04,I63082395ab1a47fd19c8b50f5eae4e2f4c73393b,Backport Zaza reconfiguration,MERGED,2019-05-24 12:54:29.000000000,2019-05-31 06:46:31.000000000,2019-05-31 06:46:30.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 12:54:29.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/b163bd2d027c91806b5ececf2fe530465ea670aa', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: I63082395ab1a47fd19c8b50f5eae4e2f4c73393b\n'}]",0,661275,b163bd2d027c91806b5ececf2fe530465ea670aa,11,4,1,20634,,,0,"Backport Zaza reconfiguration

By splitting up Zaza from the openstack-charms specific tests,
we can more easily guarantee test stability, while not harming
out ability to improve on the testing library during a cycle.

This change backports the zaza namespace change landing, and
adds a stable branch of the zaza-openstack-charms project to
the test-dependencies.

Change-Id: I63082395ab1a47fd19c8b50f5eae4e2f4c73393b
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/75/661275/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,b163bd2d027c91806b5ececf2fe530465ea670aa,stable-zaza,git+https://github.com/openstack-charmers/zaza.git#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/19.04#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza.git@namespace-tests#egg=zaza,2,1
openstack%2Fcharm-keystone~stable%2F19.04~I6916f6cbc96facb5d8277351c456a28c4c2d517e,openstack/charm-keystone,stable/19.04,I6916f6cbc96facb5d8277351c456a28c4c2d517e,Backport Zaza reconfiguration,MERGED,2019-05-24 12:54:19.000000000,2019-05-31 06:45:36.000000000,2019-05-31 06:45:36.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 12:54:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/1710a7ea43aae54c5b461cb153e07690f01a40de', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: I6916f6cbc96facb5d8277351c456a28c4c2d517e\n'}]",0,661274,1710a7ea43aae54c5b461cb153e07690f01a40de,9,4,1,20634,,,0,"Backport Zaza reconfiguration

By splitting up Zaza from the openstack-charms specific tests,
we can more easily guarantee test stability, while not harming
out ability to improve on the testing library during a cycle.

This change backports the zaza namespace change landing, and
adds a stable branch of the zaza-openstack-charms project to
the test-dependencies.

Change-Id: I6916f6cbc96facb5d8277351c456a28c4c2d517e
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/74/661274/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1710a7ea43aae54c5b461cb153e07690f01a40de,stable-zaza,git+https://github.com/openstack-charmers/zaza.git#egg=zaza;python_version>='3.0' git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/19.04#egg=zaza.openstack;python_version>='3.0',git+https://github.com/openstack-charmers/zaza.git@namespace-tests#egg=zaza;python_version>='3.0',2,1
openstack%2Fcharm-barbican-vault~stable%2F19.04~I5c31c98115ddfbabb40abe639601527d56c152d6,openstack/charm-barbican-vault,stable/19.04,I5c31c98115ddfbabb40abe639601527d56c152d6,Backport Zaza reconfiguration,MERGED,2019-05-24 12:53:34.000000000,2019-05-31 06:45:16.000000000,2019-05-31 06:45:16.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 12:53:34.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/a52f533b54abce67fb3df642cda5695568fbfb90', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: I5c31c98115ddfbabb40abe639601527d56c152d6\n'}]",0,661270,a52f533b54abce67fb3df642cda5695568fbfb90,9,4,1,20634,,,0,"Backport Zaza reconfiguration

By splitting up Zaza from the openstack-charms specific tests,
we can more easily guarantee test stability, while not harming
out ability to improve on the testing library during a cycle.

This change backports the zaza namespace change landing, and
adds a stable branch of the zaza-openstack-charms project to
the test-dependencies.

Change-Id: I5c31c98115ddfbabb40abe639601527d56c152d6
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/70/661270/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,a52f533b54abce67fb3df642cda5695568fbfb90,stable-zaza,git+https://github.com/openstack-charmers/zaza.git#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/19.04#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza.git@namespace-tests#egg=zaza,2,1
openstack%2Fcharm-ceph-osd~stable%2F19.04~I3e2153bd42a4bc3f277030ab1c4610bf8e56fa75,openstack/charm-ceph-osd,stable/19.04,I3e2153bd42a4bc3f277030ab1c4610bf8e56fa75,Backport Zaza reconfiguration,MERGED,2019-05-24 12:53:45.000000000,2019-05-31 06:45:10.000000000,2019-05-31 06:45:10.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 12:53:45.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/bd39a50033636a16386ebc3e3677d08d4430ca66', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: I3e2153bd42a4bc3f277030ab1c4610bf8e56fa75\n'}]",0,661271,bd39a50033636a16386ebc3e3677d08d4430ca66,13,4,1,20634,,,0,"Backport Zaza reconfiguration

By splitting up Zaza from the openstack-charms specific tests,
we can more easily guarantee test stability, while not harming
out ability to improve on the testing library during a cycle.

This change backports the zaza namespace change landing, and
adds a stable branch of the zaza-openstack-charms project to
the test-dependencies.

Change-Id: I3e2153bd42a4bc3f277030ab1c4610bf8e56fa75
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/71/661271/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,bd39a50033636a16386ebc3e3677d08d4430ca66,stable-zaza,git+https://github.com/openstack-charmers/zaza.git#egg=zaza;python_version>='3.0' git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/19.04#egg=zaza.openstack;python_version>='3.0',git+https://github.com/openstack-charmers/zaza.git@namespace-tests#egg=zaza;python_version>='3.0',2,1
openstack%2Fcharm-pacemaker-remote~stable%2F19.04~If1f4818596a4d38fde7d93b349597d483edcb091,openstack/charm-pacemaker-remote,stable/19.04,If1f4818596a4d38fde7d93b349597d483edcb091,Backport Zaza reconfiguration,MERGED,2019-05-24 12:55:10.000000000,2019-05-31 06:44:53.000000000,2019-05-31 06:44:53.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 12:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/3b76ab3236da9301349badf66122fc0a522f8b99', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: If1f4818596a4d38fde7d93b349597d483edcb091\n'}, {'number': 2, 'created': '2019-05-24 13:39:07.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/1d31160331f77b69b8c63cd97f2f5bbdfb000db6', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: If1f4818596a4d38fde7d93b349597d483edcb091\n'}]",0,661279,1d31160331f77b69b8c63cd97f2f5bbdfb000db6,12,4,2,20634,,,0,"Backport Zaza reconfiguration

By splitting up Zaza from the openstack-charms specific tests,
we can more easily guarantee test stability, while not harming
out ability to improve on the testing library during a cycle.

This change backports the zaza namespace change landing, and
adds a stable branch of the zaza-openstack-charms project to
the test-dependencies.

Change-Id: If1f4818596a4d38fde7d93b349597d483edcb091
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/79/661279/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,3b76ab3236da9301349badf66122fc0a522f8b99,stable-zaza, - zaza.openstack.charm_tests.pacemaker_remote.tests.PacemakerRemoteTest, - zaza.charm_tests.pacemaker_remote.tests.PacemakerRemoteTest,2,1
openstack%2Fcharm-vault~stable%2F19.04~I0c3be578938e1ef8b2752d5cc6883043bda0d110,openstack/charm-vault,stable/19.04,I0c3be578938e1ef8b2752d5cc6883043bda0d110,Backport Zaza reconfiguration,MERGED,2019-05-24 12:55:20.000000000,2019-05-31 06:44:31.000000000,2019-05-31 06:44:30.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 12:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/8346d1b86cc0033e221c5d56990955eebaf87f74', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: I0c3be578938e1ef8b2752d5cc6883043bda0d110\n'}, {'number': 2, 'created': '2019-05-24 13:39:02.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/be805d29d5e8859e041a35a60e8decbd740ec753', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: I0c3be578938e1ef8b2752d5cc6883043bda0d110\n'}]",0,661280,be805d29d5e8859e041a35a60e8decbd740ec753,11,4,2,20634,,,0,"Backport Zaza reconfiguration

By splitting up Zaza from the openstack-charms specific tests,
we can more easily guarantee test stability, while not harming
out ability to improve on the testing library during a cycle.

This change backports the zaza namespace change landing, and
adds a stable branch of the zaza-openstack-charms project to
the test-dependencies.

Change-Id: I0c3be578938e1ef8b2752d5cc6883043bda0d110
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/80/661280/2 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,8346d1b86cc0033e221c5d56990955eebaf87f74,stable-zaza,git+https://github.com/openstack-charmers/zaza.git#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/19.04#egg=zaza,git+https://github.com/openstack-charmers/zaza.git@namespace-tests#egg=zaza,2,1
openstack%2Fcharm-nova-cell-controller~stable%2F19.04~I0956a696d97cc8e1b25bd1542e1ba1197f7cade9,openstack/charm-nova-cell-controller,stable/19.04,I0956a696d97cc8e1b25bd1542e1ba1197f7cade9,Backport Zaza reconfiguration,MERGED,2019-05-24 12:54:40.000000000,2019-05-31 06:44:30.000000000,2019-05-31 06:44:29.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 12:54:40.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/4f65f622a74a81be3c6c23979c9fe5b986cc5bef', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: I0956a696d97cc8e1b25bd1542e1ba1197f7cade9\n'}]",0,661276,4f65f622a74a81be3c6c23979c9fe5b986cc5bef,9,4,1,20634,,,0,"Backport Zaza reconfiguration

By splitting up Zaza from the openstack-charms specific tests,
we can more easily guarantee test stability, while not harming
out ability to improve on the testing library during a cycle.

This change backports the zaza namespace change landing, and
adds a stable branch of the zaza-openstack-charms project to
the test-dependencies.

Change-Id: I0956a696d97cc8e1b25bd1542e1ba1197f7cade9
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/76/661276/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,4f65f622a74a81be3c6c23979c9fe5b986cc5bef,stable-zaza,git+https://github.com/openstack-charmers/zaza.git#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/19.04#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza.git@namespace-tests#egg=zaza,2,1
openstack%2Fcharm-ceph-rbd-mirror~stable%2F19.04~I01053ff88e4dba58893dc20e171095f62524f480,openstack/charm-ceph-rbd-mirror,stable/19.04,I01053ff88e4dba58893dc20e171095f62524f480,Pass key data instead of interface object,MERGED,2019-05-27 14:35:18.000000000,2019-05-31 06:39:08.000000000,2019-05-31 06:39:08.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-27 14:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/23726560df3ebfe1a8ccebbf68d3620036519849', 'message': 'Pass key data instead of interface object\n\nUpdate to match change in ``charms.openstack``\n\nDepends-On: If1d645f4708e27b724f93cac0e14431137c885d7\nChange-Id: I01053ff88e4dba58893dc20e171095f62524f480\n(cherry picked from commit 011a5d3b67ea49ccdb0d5b2636cd1d163e87f6c9)\n'}, {'number': 2, 'created': '2019-05-28 09:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/19cfc3006e8cab310524a1ca07bfa5dab6de2b5f', 'message': 'Pass key data instead of interface object\n\nUpdate to match change in ``charms.openstack``\n\nDepends-On: If1d645f4708e27b724f93cac0e14431137c885d7\nChange-Id: I01053ff88e4dba58893dc20e171095f62524f480\n(cherry picked from commit 011a5d3b67ea49ccdb0d5b2636cd1d163e87f6c9)\n'}, {'number': 3, 'created': '2019-05-28 10:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/6493ef1283ce37a1a7da12b52f7a4a390bd1b841', 'message': 'Pass key data instead of interface object\n\nUpdate to match change in ``charms.openstack``\n\nDepends-On: If1d645f4708e27b724f93cac0e14431137c885d7\nChange-Id: I01053ff88e4dba58893dc20e171095f62524f480\n(cherry picked from commit 011a5d3b67ea49ccdb0d5b2636cd1d163e87f6c9)\n'}, {'number': 4, 'created': '2019-05-28 11:10:19.000000000', 'files': ['src/reactive/ceph_rbd_mirror_handlers.py', 'unit_tests/test_ceph_rbd_mirror_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/bc809c1c0465eb431863348b9b7b9970b90cb7a0', 'message': 'Pass key data instead of interface object\n\nUpdate to match change in ``charms.openstack``\n\nDepends-On: If1d645f4708e27b724f93cac0e14431137c885d7\nChange-Id: I01053ff88e4dba58893dc20e171095f62524f480\n(cherry picked from commit 011a5d3b67ea49ccdb0d5b2636cd1d163e87f6c9)\n'}]",0,661616,bc809c1c0465eb431863348b9b7b9970b90cb7a0,21,4,4,20634,,,0,"Pass key data instead of interface object

Update to match change in ``charms.openstack``

Depends-On: If1d645f4708e27b724f93cac0e14431137c885d7
Change-Id: I01053ff88e4dba58893dc20e171095f62524f480
(cherry picked from commit 011a5d3b67ea49ccdb0d5b2636cd1d163e87f6c9)
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/16/661616/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/ceph_rbd_mirror_handlers.py', 'unit_tests/test_ceph_rbd_mirror_handlers.py']",2,23726560df3ebfe1a8ccebbf68d3620036519849,port-gnocchi-ceph-charms-openstack-stable/19.04," mock.call(endpoint_local.key, cluster_name=None), mock.call(endpoint_remote.key, cluster_name='remote'),"," mock.call(endpoint_local, cluster_name=None), mock.call(endpoint_remote, cluster_name='remote'),",3,3
openstack%2Fcharm-ceph-rbd-mirror~stable%2F19.04~I88e05613bc19f218d36a7bbfd009492efa8a6d8d,openstack/charm-ceph-rbd-mirror,stable/19.04,I88e05613bc19f218d36a7bbfd009492efa8a6d8d,Backport Zaza reconfiguration,MERGED,2019-05-24 12:54:07.000000000,2019-05-31 06:38:59.000000000,2019-05-31 06:38:58.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 12:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/0b47e3d56f754195e341aed3f86eb5011e8935b5', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: I88e05613bc19f218d36a7bbfd009492efa8a6d8d\n'}, {'number': 2, 'created': '2019-05-28 10:03:37.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/f9b53802438bb4a7511055ca3ab38d84286fc940', 'message': 'Backport Zaza reconfiguration\n\nBy splitting up Zaza from the openstack-charms specific tests,\nwe can more easily guarantee test stability, while not harming\nout ability to improve on the testing library during a cycle.\n\nThis change backports the zaza namespace change landing, and\nadds a stable branch of the zaza-openstack-charms project to\nthe test-dependencies.\n\nChange-Id: I88e05613bc19f218d36a7bbfd009492efa8a6d8d\n'}]",0,661273,f9b53802438bb4a7511055ca3ab38d84286fc940,12,4,2,20634,,,0,"Backport Zaza reconfiguration

By splitting up Zaza from the openstack-charms specific tests,
we can more easily guarantee test stability, while not harming
out ability to improve on the testing library during a cycle.

This change backports the zaza namespace change landing, and
adds a stable branch of the zaza-openstack-charms project to
the test-dependencies.

Change-Id: I88e05613bc19f218d36a7bbfd009492efa8a6d8d
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/73/661273/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,0b47e3d56f754195e341aed3f86eb5011e8935b5,stable-zaza,- zaza.openstack.charm_tests.glance.setup.add_lts_image tests: - zaza.openstack.charm_tests.ceph.rbd_mirror.tests.CephRBDMirrorTest - zaza.openstack.charm_tests.ceph.rbd_mirror.tests.CephRBDMirrorControlledFailoverTest - zaza.openstack.charm_tests.ceph.rbd_mirror.tests.CephRBDMirrorDisasterFailoverTest,- zaza.charm_tests.glance.setup.add_lts_image tests: - zaza.charm_tests.ceph.rbd_mirror.tests.CephRBDMirrorTest - zaza.charm_tests.ceph.rbd_mirror.tests.CephRBDMirrorControlledFailoverTest - zaza.charm_tests.ceph.rbd_mirror.tests.CephRBDMirrorDisasterFailoverTest,5,4
openstack%2Ffreezer-api~master~I58b7ffc3deddc573bdea0711a21921ca7f5d3d28,openstack/freezer-api,master,I58b7ffc3deddc573bdea0711a21921ca7f5d3d28,Fix ci fail due to falcon for sessions,MERGED,2019-05-30 09:19:03.000000000,2019-05-31 06:34:58.000000000,2019-05-31 06:34:58.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-05-30 09:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/107eaf9be477a18cb75e2c0f2d3033922c39fa08', 'message': 'Fix ci fail due to falcon\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28\n'}, {'number': 2, 'created': '2019-05-31 00:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/57cf8dcb888079638cee82ad81ecf07edfc21ffb', 'message': 'Fix ci fail due to falcon for clients\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28\n'}, {'number': 3, 'created': '2019-05-31 00:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/4c6f4abcf6dcd1fc8361b854f2ca43cd3568373c', 'message': 'Fix ci fail due to falcon for clients\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28\n'}, {'number': 4, 'created': '2019-05-31 00:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/f27a74119adcebb0638f74045649d6969a2d26b2', 'message': 'Fix ci fail due to falcon for clients\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28\n'}, {'number': 5, 'created': '2019-05-31 00:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/e51b32a4bffb6e0a33196c572a8753c974d6c0b8', 'message': 'Fix ci fail due to falcon for clients\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28\n'}, {'number': 6, 'created': '2019-05-31 00:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/7777f9c8710436902b1b7ca18502c2f2696dc9e1', 'message': 'Fix ci fail due to falcon for clients\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28\n'}, {'number': 7, 'created': '2019-05-31 00:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/97270c24b8b10fe1ee38b37dd9c6c6a6603f5057', 'message': 'Fix ci fail due to falcon for clients\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28\n'}, {'number': 8, 'created': '2019-05-31 00:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/7777fa981aecc43e73702cbaa4a1e7224f960ad0', 'message': 'Fix ci fail due to falcon for clients\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28\n'}, {'number': 9, 'created': '2019-05-31 00:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/558de43488d137c0776b47556683cd1e12b3684a', 'message': 'Fix ci fail due to falcon for clients\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28\n'}, {'number': 10, 'created': '2019-05-31 00:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/6f3e02708767a9eb94df76534d2e85f0084d43ee', 'message': 'Fix ci fail due to falcon for sessions\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28\n'}, {'number': 11, 'created': '2019-05-31 03:34:04.000000000', 'files': ['freezer_api/api/v1/sessions.py', 'freezer_api/api/v2/sessions.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/ccda8747963b0172f9699284b56c3df928756920', 'message': 'Fix ci fail due to falcon for sessions\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28\n'}]",0,662167,ccda8747963b0172f9699284b56c3df928756920,19,3,11,21387,,,0,"Fix ci fail due to falcon for sessions

Fix ci fail due to falcon upgrade

Change-Id: I58b7ffc3deddc573bdea0711a21921ca7f5d3d28
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/67/662167/9 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/api/v1/sessions.py', 'freezer_api/api/v1/clients.py', 'freezer_api/api/v2/clients.py', 'freezer_api/api/v2/sessions.py', 'freezer_api/api/v2/jobs.py', 'freezer_api/api/v2/backups.py', 'freezer_api/api/v1/backups.py', 'freezer_api/api/v1/jobs.py', 'freezer_api/api/v2/actions.py', 'freezer_api/api/v1/actions.py']",10,107eaf9be477a18cb75e2c0f2d3033922c39fa08,fixcifailfalcon, offset = req.get_param_as_int('offset') or 0 limit = req.get_param_as_int('limit') or 10," offset = req.get_param_as_int('offset', min=0) or 0 limit = req.get_param_as_int('limit', min=1) or 10",20,20
openstack%2Ffreezer-api~master~Iba6a866d4a99b222b0e45882c55a25eb796be254,openstack/freezer-api,master,Iba6a866d4a99b222b0e45882c55a25eb796be254,Fix ci fail of tempest for V2 action and job table,MERGED,2019-05-31 01:20:12.000000000,2019-05-31 06:34:57.000000000,2019-05-31 06:34:57.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-05-31 01:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/fc64e5ea168938a94739c662749d748543f59d85', 'message': 'Fix ci fail of tempest for V2 action and job table\n\nThe patch fix the fail of tempset\n\nChange-Id: Iba6a866d4a99b222b0e45882c55a25eb796be254\n'}, {'number': 2, 'created': '2019-05-31 03:32:29.000000000', 'files': ['freezer_api/api/v2/jobs.py', 'freezer_api/api/v2/actions.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/b965ab39a8c16803faadb786d7998279e1a58527', 'message': 'Fix ci fail of tempest for V2 action and job table\n\nThe patch fix the fail of tempset\n\nChange-Id: Iba6a866d4a99b222b0e45882c55a25eb796be254\n'}]",0,662366,b965ab39a8c16803faadb786d7998279e1a58527,9,3,2,21387,,,0,"Fix ci fail of tempest for V2 action and job table

The patch fix the fail of tempset

Change-Id: Iba6a866d4a99b222b0e45882c55a25eb796be254
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/66/662366/2 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/api/v2/jobs.py', 'freezer_api/api/v2/actions.py']",2,fc64e5ea168938a94739c662749d748543f59d85,fixcifailfalconforV2table, offset = req.get_param_as_int('offset') or 0 limit = req.get_param_as_int('limit') or 10," offset = req.get_param_as_int('offset', min=0) or 0 limit = req.get_param_as_int('limit', min=1) or 10",4,4
openstack%2Fstackviz~master~I8ee5425e1688fa090d5dc9fe3021345e779e2c07,openstack/stackviz,master,I8ee5425e1688fa090d5dc9fe3021345e779e2c07,Add karma-subunit-reporter,MERGED,2016-05-28 21:49:49.000000000,2019-05-31 06:33:34.000000000,2019-05-31 06:33:34.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-05-28 21:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/3539b4296da8c79411dc62f3e6a311925fd4e050', 'message': ""Add karma-subunit-reporter\n\nThis adds a new karma plugin, 'karma-subunit-reporter', to generate\nsubunit streams for unit test output. These files should be compatible\nwith stackviz itself (via stackviz-export) and other tools like\nsubunit2sql and openstack-health.\n\nChange-Id: I8ee5425e1688fa090d5dc9fe3021345e779e2c07\n""}, {'number': 2, 'created': '2016-06-10 16:06:57.000000000', 'files': ['.gitignore', 'test/karma.conf.js', 'package.json'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/5c37303ca38eb58d0a258b73ae75ece3d114e3c7', 'message': ""Add karma-subunit-reporter\n\nThis adds a new karma plugin, 'karma-subunit-reporter', to generate\nsubunit streams for unit test output. These files should be compatible\nwith stackviz itself (via stackviz-export) and other tools like\nsubunit2sql and openstack-health.\n\nChange-Id: I8ee5425e1688fa090d5dc9fe3021345e779e2c07\n""}]",0,322450,5c37303ca38eb58d0a258b73ae75ece3d114e3c7,18,4,2,17001,,,0,"Add karma-subunit-reporter

This adds a new karma plugin, 'karma-subunit-reporter', to generate
subunit streams for unit test output. These files should be compatible
with stackviz itself (via stackviz-export) and other tools like
subunit2sql and openstack-health.

Change-Id: I8ee5425e1688fa090d5dc9fe3021345e779e2c07
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/50/322450/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test/karma.conf.js', 'package.json']",3,3539b4296da8c79411dc62f3e6a311925fd4e050,karma-subunit," ""karma-subunit-reporter"": ""0.0.2"",",,8,1
openstack%2Fsearchlight~master~I31c8d3b244b93fd7d1731bc79dab6727aa2581ea,openstack/searchlight,master,I31c8d3b244b93fd7d1731bc79dab6727aa2581ea,Cap sphinx for py2 to match global requirements,MERGED,2019-05-16 09:08:01.000000000,2019-05-31 06:29:19.000000000,2019-05-31 06:29:19.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 30384}]","[{'number': 1, 'created': '2019-05-16 09:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight/commit/33f47ca695e5982c127b1211be88a9cbf453893c', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I31c8d3b244b93fd7d1731bc79dab6727aa2581ea\n'}, {'number': 2, 'created': '2019-05-16 09:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight/commit/8f602f806797cbad1a926631eb60581b3fb2f572', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I31c8d3b244b93fd7d1731bc79dab6727aa2581ea\n'}, {'number': 3, 'created': '2019-05-31 06:00:09.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/4359ac5cec2abcff63e2c6ad2ab86891ce8a8b74', 'message': 'Cap sphinx for py2 to match global requirements\n\nWe will still support py3.4 for now.\n\nChange-Id: I31c8d3b244b93fd7d1731bc79dab6727aa2581ea\n'}]",2,659501,4359ac5cec2abcff63e2c6ad2ab86891ce8a8b74,19,3,3,30384,,,0,"Cap sphinx for py2 to match global requirements

We will still support py3.4 for now.

Change-Id: I31c8d3b244b93fd7d1731bc79dab6727aa2581ea
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/01/659501/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,33f47ca695e5982c127b1211be88a9cbf453893c,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fhorizon~master~Iaf28306df7e1d77ee64501adee07a932c72c560c,openstack/horizon,master,Iaf28306df7e1d77ee64501adee07a932c72c560c,Handle 403 response when update image attribute,NEW,2019-05-16 09:50:29.000000000,2019-05-31 06:25:36.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27738}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-05-16 09:50:29.000000000', 'files': ['openstack_dashboard/api/rest/glance.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/36bbddf6e42f8d0fb11d3ed7cc4a5bd94127aa3a', 'message': 'Handle 403 response when update image attribute\n\nThe part of angularjs code catch an HTTP 403 response and redirect\nto logout, convert it to 404 response.\n\nChange-Id: Iaf28306df7e1d77ee64501adee07a932c72c560c\nCloses-Bug: #1818659\n'}]",1,659513,36bbddf6e42f8d0fb11d3ed7cc4a5bd94127aa3a,6,5,1,27738,,,0,"Handle 403 response when update image attribute

The part of angularjs code catch an HTTP 403 response and redirect
to logout, convert it to 404 response.

Change-Id: Iaf28306df7e1d77ee64501adee07a932c72c560c
Closes-Bug: #1818659
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/659513/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/rest/glance.py'],1,36bbddf6e42f8d0fb11d3ed7cc4a5bd94127aa3a,bug/1818659,"from django.http import HttpResponse try: api.glance.image_update(request, image_id, **meta) except Exception as e: if e.code == 403: e.code = 404 return HttpResponse(e.details, status=e.code) try: api.glance.image_update_properties( request, image_id, request.DATA.get('removed'), **request.DATA['updated'] ) except Exception as e: if e.code == 403: e.code = 404 return HttpResponse(e.details, status=e.code)"," api.glance.image_update(request, image_id, **meta) api.glance.image_update_properties( request, image_id, request.DATA.get('removed'), **request.DATA['updated'] )",16,5
openstack%2Ffreezer-api~master~I9853c77749c565928287c906a127341273896077,openstack/freezer-api,master,I9853c77749c565928287c906a127341273896077,Fix ci fail of tempest for V2 clients,MERGED,2019-05-31 01:09:50.000000000,2019-05-31 06:24:45.000000000,2019-05-31 06:24:45.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-05-31 01:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/b32a7ebeed71ad95c96966487728afe8a7175491', 'message': 'Fix ci fail of tempest for V2 clients\n\nThe patch fix the fail of tempset\n\nChange-Id: I9853c77749c565928287c906a127341273896077\n'}, {'number': 2, 'created': '2019-05-31 03:32:19.000000000', 'files': ['freezer_api/api/v2/clients.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/a60c2934b3599487e34c96e1862d7b1171affe74', 'message': 'Fix ci fail of tempest for V2 clients\n\nThe patch fix the fail of tempset\n\nChange-Id: I9853c77749c565928287c906a127341273896077\n'}]",0,662359,a60c2934b3599487e34c96e1862d7b1171affe74,9,3,2,21387,,,0,"Fix ci fail of tempest for V2 clients

The patch fix the fail of tempset

Change-Id: I9853c77749c565928287c906a127341273896077
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/59/662359/2 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/api/v2/clients.py'],1,b32a7ebeed71ad95c96966487728afe8a7175491,fixcifailfalconforclientsV2, offset = req.get_param_as_int('offset') or 0 limit = req.get_param_as_int('limit') or 10," offset = req.get_param_as_int('offset', min=0) or 0 limit = req.get_param_as_int('limit', min=1) or 10",2,2
openstack%2Ffreezer-api~master~Ia002576a9f63c7bcc787364c0b89dcbd493614bf,openstack/freezer-api,master,Ia002576a9f63c7bcc787364c0b89dcbd493614bf,Fix ci fail of tempest for V2 backup table,MERGED,2019-05-31 01:14:45.000000000,2019-05-31 06:23:23.000000000,2019-05-31 06:23:23.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-05-31 01:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/cec2a6368343ec2bbdb885207020bfed5ba2aa3b', 'message': 'Fix ci fail of tempest for V2 backup table\n\nThe patch fix the fail of tempset\n\nChange-Id: Ia002576a9f63c7bcc787364c0b89dcbd493614bf\n'}, {'number': 2, 'created': '2019-05-31 03:32:48.000000000', 'files': ['freezer_api/api/v2/backups.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/6a92a95cf309e575fee616b8afdf454966f38c7e', 'message': 'Fix ci fail of tempest for V2 backup table\n\nThe patch fix the fail of tempset\n\nChange-Id: Ia002576a9f63c7bcc787364c0b89dcbd493614bf\n'}]",0,662361,6a92a95cf309e575fee616b8afdf454966f38c7e,9,3,2,21387,,,0,"Fix ci fail of tempest for V2 backup table

The patch fix the fail of tempset

Change-Id: Ia002576a9f63c7bcc787364c0b89dcbd493614bf
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/61/662361/2 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/api/v2/backups.py'],1,cec2a6368343ec2bbdb885207020bfed5ba2aa3b,fixcifailfalconforbackupV2, offset = req.get_param_as_int('offset') or 0 limit = req.get_param_as_int('limit') or 10," offset = req.get_param_as_int('offset', min=0) or 0 limit = req.get_param_as_int('limit', min=1) or 10",2,2
openstack%2Fdiskimage-builder~master~Ib52512505bc4a634acd74dabe4911820e94215f4,openstack/diskimage-builder,master,Ib52512505bc4a634acd74dabe4911820e94215f4,bindep: add sudo,MERGED,2019-02-08 18:39:41.000000000,2019-05-31 06:23:21.000000000,2019-05-31 06:23:21.000000000,"[{'_account_id': 6593}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-02-08 18:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/11ea58af2065004643038a68e1777366d4e3238d', 'message': ""bindep: add sudo\n\nsudo is required for running diskimage-builder and it's not listed\nin bindep.txt so let's add it.\n\nChange-Id: Ib52512505bc4a634acd74dabe4911820e94215f4\n""}, {'number': 2, 'created': '2019-05-08 15:00:30.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4e27296bf8d6e1a5196264fdee866261086c303a', 'message': ""bindep: add sudo\n\nsudo is required for running diskimage-builder and it's not listed\nin bindep.txt so let's add it.\n\nChange-Id: Ib52512505bc4a634acd74dabe4911820e94215f4\n""}]",0,635913,4e27296bf8d6e1a5196264fdee866261086c303a,31,6,2,1004,,,0,"bindep: add sudo

sudo is required for running diskimage-builder and it's not listed
in bindep.txt so let's add it.

Change-Id: Ib52512505bc4a634acd74dabe4911820e94215f4
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/13/635913/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,11ea58af2065004643038a68e1777366d4e3238d,add-docker-images,sudo,,1,0
openstack%2Ffreezer-api~master~I2ff66360ddd65cc34ac586277995e62c9078b413,openstack/freezer-api,master,I2ff66360ddd65cc34ac586277995e62c9078b413,Fix ci fail due to falcon for jobs and backups in v1,MERGED,2019-05-31 01:15:03.000000000,2019-05-31 06:22:58.000000000,2019-05-31 06:22:58.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 01:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/ce004d7142bda568176d39528f68e3dec1862b6d', 'message': 'Fix ci fail due to falcon for jobs and backups in v1\n\nFix ci fail due to falcon upgrade.\n\nChange-Id: I2ff66360ddd65cc34ac586277995e62c9078b413\n'}, {'number': 2, 'created': '2019-05-31 03:32:38.000000000', 'files': ['freezer_api/api/v1/backups.py', 'freezer_api/api/v1/jobs.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/fb8dd50bcb049836ca5e0845b83f8c449d249c8b', 'message': 'Fix ci fail due to falcon for jobs and backups in v1\n\nFix ci fail due to falcon upgrade.\n\nChange-Id: I2ff66360ddd65cc34ac586277995e62c9078b413\n'}]",0,662362,fb8dd50bcb049836ca5e0845b83f8c449d249c8b,9,3,2,22484,,,0,"Fix ci fail due to falcon for jobs and backups in v1

Fix ci fail due to falcon upgrade.

Change-Id: I2ff66360ddd65cc34ac586277995e62c9078b413
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/62/662362/2 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/api/v1/backups.py', 'freezer_api/api/v1/jobs.py']",2,ce004d7142bda568176d39528f68e3dec1862b6d,bug/gengchc, offset = req.get_param_as_int('offset') or 0 limit = req.get_param_as_int('limit') or 10," offset = req.get_param_as_int('offset', min=0) or 0 limit = req.get_param_as_int('limit', min=1) or 10",4,4
openstack%2Fironic-python-agent~master~I2cc621ac1e442ba262d76af7fa4e9598ecc2da5a,openstack/ironic-python-agent,master,I2cc621ac1e442ba262d76af7fa4e9598ecc2da5a,Docs: Add bmc_v6address hardware inventory,MERGED,2019-05-30 15:03:30.000000000,2019-05-31 06:21:56.000000000,2019-05-31 06:21:56.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-05-30 15:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/964cd36d88fd27a6d78d0aaa551cd967466614a7', 'message': 'Docs: Add bmc_v6address hardware inventory\n\nChange-Id: I2cc621ac1e442ba262d76af7fa4e9598ecc2da5a\n'}, {'number': 2, 'created': '2019-05-30 15:22:46.000000000', 'files': ['doc/source/admin/how_it_works.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/dcffadc196db81965e43d9486282028dc990b28c', 'message': 'Docs: Add bmc_v6address hardware inventory\n\nChange-Id: I2cc621ac1e442ba262d76af7fa4e9598ecc2da5a\n'}]",2,662242,dcffadc196db81965e43d9486282028dc990b28c,11,5,2,12860,,,0,"Docs: Add bmc_v6address hardware inventory

Change-Id: I2cc621ac1e442ba262d76af7fa4e9598ecc2da5a
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/42/662242/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/how_it_works.rst'],1,964cd36d88fd27a6d78d0aaa551cd967466614a7,update_hardware_inventory," IPv4 address of the node's BMC (aka IPMI v4 address), optional. ``bmc_v6address`` IPv6 address of the node's BMC(aka IPMI v6 address), optional."," IP address of the node's BMC (aka IPMI address), optional.",4,1
openstack%2Ffreezer-api~master~I0e5ba4a66e0ee4e85ea2d0b79bac6c5e2954b1e1,openstack/freezer-api,master,I0e5ba4a66e0ee4e85ea2d0b79bac6c5e2954b1e1,Fix ci fail due to falcon for clients and actions in v1,MERGED,2019-05-31 01:07:15.000000000,2019-05-31 06:21:27.000000000,2019-05-31 06:21:27.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 01:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/1cfb68ac859aea6435023224c86b06b65ea7b986', 'message': 'Fix ci fail due to falcon for clients and actions in v1\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I0e5ba4a66e0ee4e85ea2d0b79bac6c5e2954b1e1\n'}, {'number': 2, 'created': '2019-05-31 01:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/0f0e5b53d140c147e1489b22ff79faed300fcc1b', 'message': 'Fix ci fail due to falcon for clients and actions in v1\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I0e5ba4a66e0ee4e85ea2d0b79bac6c5e2954b1e1\n'}, {'number': 3, 'created': '2019-05-31 03:32:01.000000000', 'files': ['freezer_api/api/v1/clients.py', 'freezer_api/api/v1/actions.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/e4c8abd9036aa19f146643d4b8ae617c29f88f88', 'message': 'Fix ci fail due to falcon for clients and actions in v1\n\nFix ci fail due to falcon upgrade\n\nChange-Id: I0e5ba4a66e0ee4e85ea2d0b79bac6c5e2954b1e1\n'}]",0,662358,e4c8abd9036aa19f146643d4b8ae617c29f88f88,10,3,3,22484,,,0,"Fix ci fail due to falcon for clients and actions in v1

Fix ci fail due to falcon upgrade

Change-Id: I0e5ba4a66e0ee4e85ea2d0b79bac6c5e2954b1e1
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/58/662358/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/api/v1/clients.py', 'freezer_api/api/v1/actions.py']",2,1cfb68ac859aea6435023224c86b06b65ea7b986,bug/gengchc, offset = req.get_param_as_int('offset') or 0 limit = req.get_param_as_int('limit' or 10," offset = req.get_param_as_int('offset', min=0) or 0 limit = req.get_param_as_int('limit', min=1) or 10",4,4
openstack%2Ffreezer-api~master~I737ec903f22d310b8335ad47505045b6a1ecc667,openstack/freezer-api,master,I737ec903f22d310b8335ad47505045b6a1ecc667,Add a param req_succeeded for falcon:  process_response,MERGED,2019-05-30 08:05:10.000000000,2019-05-31 06:11:28.000000000,2019-05-31 06:11:28.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 08:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/a627f0611e61f5bf562cfce30a7d04e8c684e68e', 'message': 'Add a param req_succeeded for falcon:  process_response\n\nIn falcon 2.0.0, process_response is changed as follows:\n  def process_response(self, req, resp, resource, req_succeeded)\nIn falcon 1.4.1, process_response is changed as follows:\n  def process_response(self, req, resp, resource)\n\nChange-Id: I737ec903f22d310b8335ad47505045b6a1ecc667\n'}, {'number': 2, 'created': '2019-05-31 03:34:40.000000000', 'files': ['freezer_api/api/common/middleware.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/3fc0cc9a1ed5149c6f5f314c566f0dc8fc862aa3', 'message': 'Add a param req_succeeded for falcon:  process_response\n\nIn falcon 2.0.0, process_response is changed as follows:\n  def process_response(self, req, resp, resource, req_succeeded)\nIn falcon 1.4.1, process_response is changed as follows:\n  def process_response(self, req, resp, resource)\n\nChange-Id: I737ec903f22d310b8335ad47505045b6a1ecc667\n'}]",0,662155,3fc0cc9a1ed5149c6f5f314c566f0dc8fc862aa3,8,2,2,22484,,,0,"Add a param req_succeeded for falcon:  process_response

In falcon 2.0.0, process_response is changed as follows:
  def process_response(self, req, resp, resource, req_succeeded)
In falcon 1.4.1, process_response is changed as follows:
  def process_response(self, req, resp, resource)

Change-Id: I737ec903f22d310b8335ad47505045b6a1ecc667
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/55/662155/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/api/common/middleware.py'],1,a627f0611e61f5bf562cfce30a7d04e8c684e68e,bug/gengchc," def process_response(self, req, resp, resource, req_succeeded=True):"," def process_response(self, req, resp, resource):",1,1
openstack%2Ftripleo-heat-templates~master~If2ee15f1e0fcf6d077cba524fad75dec7e1144b6,openstack/tripleo-heat-templates,master,If2ee15f1e0fcf6d077cba524fad75dec7e1144b6,Fix haproxy stats network binding,MERGED,2019-05-18 19:21:01.000000000,2019-05-31 06:11:16.000000000,2019-05-31 02:32:24.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25564}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-05-18 19:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e318108f3421ac2c67f4fead4ab71a4e430917f', 'message': 'WIP Fix haproxy stats network binding\n\nWIP\n\nChange-Id: If2ee15f1e0fcf6d077cba524fad75dec7e1144b6\n'}, {'number': 2, 'created': '2019-05-19 06:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02ef31af41e0729e4ca4115ae0b0605e0d0e4e69', 'message': 'WIP Fix haproxy stats network binding\n\nWIP\n\nChange-Id: If2ee15f1e0fcf6d077cba524fad75dec7e1144b6\n'}, {'number': 3, 'created': '2019-05-24 12:45:56.000000000', 'files': ['network/service_net_map.j2.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45f5c283e32e4753360c4e4c9627043b20a30e24', 'message': ""Fix haproxy stats network binding\n\na) The haproxy.stats stanza in haproxy config file has pretty much remained the same since newton:\nlisten haproxy.stats\n  bind 192.168.24.8:1993 transparent\n  mode http\n  stats enable\n  stats uri /\n  stats auth admin:tRJre6PnQuN4ZwqKYUygTJArB\n\nb) what we do today with the haproxy stats makes little sense:\n- we bind it to the VIP running on the control-plane network on all controller nodes\n- de facto we allow to look at the haproxy stat info via web only on the node holding the ctlplane VIP\n- since haproxy does not share stats across nodes, we're effectively\n  limited at looking at the stats info on a single node.\n\nNow imagine ctrl-0 holding the internal_api VIP and ctrl-1 holding the\nctlplane VIP. Basically now the only stats you will be able to see are\nthe ones relative to keystone_admin (which for other silly reasons has\nbeen moved to ctlplane by default) and very little else.\n\nTested this and am able to bind the haproxy stat to another network\nand to have it listen to the IP of the node on said network (in addition\nto the ctrlplane vip which we do not remove as it might break stuff):\n\n    listen haproxy.stats\n      bind fd00:fd00:fd00:2000::16:1993 transparent\n      bind 192.168.24.15:1993 transparent\n      mode http\n      stats enable\n      stats uri /\n      stats auth admin:password\n\nCloses-Bug: #1830334\n\nDepends-On: Iab5f11c3065ff34a3543621554e7f05161d069f2\n\nChange-Id: If2ee15f1e0fcf6d077cba524fad75dec7e1144b6\n""}]",0,659925,45f5c283e32e4753360c4e4c9627043b20a30e24,29,7,3,20172,,,0,"Fix haproxy stats network binding

a) The haproxy.stats stanza in haproxy config file has pretty much remained the same since newton:
listen haproxy.stats
  bind 192.168.24.8:1993 transparent
  mode http
  stats enable
  stats uri /
  stats auth admin:tRJre6PnQuN4ZwqKYUygTJArB

b) what we do today with the haproxy stats makes little sense:
- we bind it to the VIP running on the control-plane network on all controller nodes
- de facto we allow to look at the haproxy stat info via web only on the node holding the ctlplane VIP
- since haproxy does not share stats across nodes, we're effectively
  limited at looking at the stats info on a single node.

Now imagine ctrl-0 holding the internal_api VIP and ctrl-1 holding the
ctlplane VIP. Basically now the only stats you will be able to see are
the ones relative to keystone_admin (which for other silly reasons has
been moved to ctlplane by default) and very little else.

Tested this and am able to bind the haproxy stat to another network
and to have it listen to the IP of the node on said network (in addition
to the ctrlplane vip which we do not remove as it might break stuff):

    listen haproxy.stats
      bind fd00:fd00:fd00:2000::16:1993 transparent
      bind 192.168.24.15:1993 transparent
      mode http
      stats enable
      stats uri /
      stats auth admin:password

Closes-Bug: #1830334

Depends-On: Iab5f11c3065ff34a3543621554e7f05161d069f2

Change-Id: If2ee15f1e0fcf6d077cba524fad75dec7e1144b6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/659925/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/service_net_map.j2.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml']",2,3e318108f3421ac2c67f4fead4ab71a4e430917f,haproxy_stats_fix," tripleo::haproxy::stats::bind_address: {get_param: [ServiceNetMap, HaproxyNetwork]}",,3,0
openstack%2Ffreezer-api~master~I4aa18510cc11827c2ef478bf4ca6bd1baa9878e4,openstack/freezer-api,master,I4aa18510cc11827c2ef478bf4ca6bd1baa9878e4,Update handling for falcon 2.0.0 behavior changes,MERGED,2019-05-30 09:20:17.000000000,2019-05-31 06:03:05.000000000,2019-05-31 06:03:05.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 09:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/34fdc6d5dba92eb2755523a72984a14bbaa33943', 'message': 'Update handling for falcon 2.0.0 behavior changes\n\nThe 2.0.0 release of falcon changed the default values for two request\nquery parsing options that would cause failures due to unexpected\nresults. This sets those options to their previous defaults to maintain\ncompatibility across 2.0.0 and pre-2.0.0 versions of the package.\nLower constraint version raised to 1.1.0 where the options were\nintroduced.\n\nThere are additional integration test failures with Falcon 2.0.0 that\nwere due to changes in the subscription URL path.\n\nChange-Id: I4aa18510cc11827c2ef478bf4ca6bd1baa9878e4\n'}, {'number': 2, 'created': '2019-05-31 03:34:22.000000000', 'files': ['freezer_api/cmd/api.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/24ebe1ffd7c86e1ea92898f500e0cf11b05557a4', 'message': 'Update handling for falcon 2.0.0 behavior changes\n\nThe 2.0.0 release of falcon changed the default values for two request\nquery parsing options that would cause failures due to unexpected\nresults. This sets those options to their previous defaults to maintain\ncompatibility across 2.0.0 and pre-2.0.0 versions of the package.\nLower constraint version raised to 1.1.0 where the options were\nintroduced.\n\nThere are additional integration test failures with Falcon 2.0.0 that\nwere due to changes in the subscription URL path.\n\nChange-Id: I4aa18510cc11827c2ef478bf4ca6bd1baa9878e4\n'}]",0,662169,24ebe1ffd7c86e1ea92898f500e0cf11b05557a4,8,2,2,22484,,,0,"Update handling for falcon 2.0.0 behavior changes

The 2.0.0 release of falcon changed the default values for two request
query parsing options that would cause failures due to unexpected
results. This sets those options to their previous defaults to maintain
compatibility across 2.0.0 and pre-2.0.0 versions of the package.
Lower constraint version raised to 1.1.0 where the options were
introduced.

There are additional integration test failures with Falcon 2.0.0 that
were due to changes in the subscription URL path.

Change-Id: I4aa18510cc11827c2ef478bf4ca6bd1baa9878e4
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/69/662169/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/cmd/api.py'],1,34fdc6d5dba92eb2755523a72984a14bbaa33943,bug/gengchc, # Set options to keep behavior compatible to pre-2.0.0 falcon app.req_options.auto_parse_qs_csv = True app.req_options.keep_blank_qs_values = False app.req_options.strip_url_path_trailing_slash = True # Set options to keep behavior compatible to pre-2.0.0 falcon app.req_options.auto_parse_qs_csv = True app.req_options.keep_blank_qs_values = False app.req_options.strip_url_path_trailing_slash = True ,,9,0
openstack%2Fstackviz~master~I4f43a6b719ba0493cb8409767e555eed9d4f254d,openstack/stackviz,master,I4f43a6b719ba0493cb8409767e555eed9d4f254d,Add refactored summary page with tests,NEW,2016-08-25 22:41:38.000000000,2019-05-31 05:34:06.000000000,,"[{'_account_id': 5689}, {'_account_id': 17001}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-08-25 22:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/3163d3721464d83368a14e8f5f6cfb5d3b08c23e', 'message': ""Add refactored summary page with tests\n\nThis commit adds a (p)react/redux-refactored summary page and dataset\nservice. The components added here should be roughly at feature parity\nwith the current implementation, except where they might depend on\nother components that have not yet been implemented (for example,\nlinks to the timeline page). Unit tests have also been added in the\n'test-refactor' directory.\n\nThese components should be considered a viable basis for the remainder\nof the refactoring process; for more information, see:\nhttps://etherpad.openstack.org/p/stackviz-refactor\n\nChange-Id: I4f43a6b719ba0493cb8409767e555eed9d4f254d\n""}, {'number': 2, 'created': '2016-08-26 20:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/b04d21c2815ef1d6f3ca1c0327228624c529712f', 'message': ""Add refactored summary page with tests\n\nThis commit adds a (p)react/redux-refactored summary page and dataset\nservice. The components added here should be roughly at feature parity\nwith the current implementation, except where they might depend on\nother components that have not yet been implemented (for example,\nlinks to the timeline page). Unit tests have also been added in the\n'test-refactor' directory.\n\nThese components should be considered a viable basis for the remainder\nof the refactoring process; for more information, see:\nhttps://etherpad.openstack.org/p/stackviz-refactor\n\nChange-Id: I4f43a6b719ba0493cb8409767e555eed9d4f254d\n""}, {'number': 3, 'created': '2016-08-26 21:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/dc7bc0c21e8e97df4cfc0aecc729ddc119e752e0', 'message': ""Add refactored summary page with tests\n\nThis commit adds a (p)react/redux-refactored summary page and dataset\nservice. The components added here should be roughly at feature parity\nwith the current implementation, except where they might depend on\nother components that have not yet been implemented (for example,\nlinks to the timeline page). Unit tests have also been added in the\n'test-refactor' directory.\n\nThese components should be considered a viable basis for the remainder\nof the refactoring process; for more information, see:\nhttps://etherpad.openstack.org/p/stackviz-refactor\n\nChange-Id: I4f43a6b719ba0493cb8409767e555eed9d4f254d\n""}, {'number': 4, 'created': '2017-02-18 21:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/bf52716a5a8f2e934ae28dc9e153520c2ebb2264', 'message': ""Add refactored summary page with tests\n\nThis commit adds a (p)react/redux-refactored summary page and dataset\nservice. The components added here should be roughly at feature parity\nwith the current implementation, except where they might depend on\nother components that have not yet been implemented (for example,\nlinks to the timeline page). Unit tests have also been added in the\n'test-refactor' directory.\n\nThese components should be considered a viable basis for the remainder\nof the refactoring process; for more information, see:\nhttps://etherpad.openstack.org/p/stackviz-refactor\n\nChange-Id: I4f43a6b719ba0493cb8409767e555eed9d4f254d\n""}, {'number': 5, 'created': '2017-02-20 23:34:52.000000000', 'files': ['test-refactor/unit/lib/dataset/dataset-reducers.spec.js', 'test-refactor/unit/lib/dataset/dataset-actions.spec.js', 'src/components/summary/subunit-stats/index.js', 'test-refactor/unit/components/notify/notify-actions.spec.js', 'src/lib/dataset/dataset-reducers.js', 'src/components/notify/index.js', 'test-refactor/unit/components/notify/notify.spec.js', 'src/components/notify/notify-reducers.js', 'src/components/notify/notify-actions.js', 'src/components/summary/factory.js', 'src/store.js', 'src/lib/dataset/dataset-actions.js', 'test-refactor/unit/components/app.spec.js', 'src/components/summary/subunit-stats/summary.js', 'src/components/app.js', 'src/components/summary/index.js', 'src/components/summary/subunit-stats/failures.js', 'test-refactor/unit/components/notify/notify-reducers.spec.js'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/3c212c883027fd9b9d1404246083cdafc027d148', 'message': ""Add refactored summary page with tests\n\nThis commit adds a (p)react/redux-refactored summary page and dataset\nservice. The components added here should be roughly at feature parity\nwith the current implementation, except where they might depend on\nother components that have not yet been implemented (for example,\nlinks to the timeline page). Unit tests have also been added in the\n'test-refactor' directory.\n\nThese components should be considered a viable basis for the remainder\nof the refactoring process; for more information, see:\nhttps://etherpad.openstack.org/p/stackviz-refactor\n\nChange-Id: I4f43a6b719ba0493cb8409767e555eed9d4f254d\n""}]",0,360810,3c212c883027fd9b9d1404246083cdafc027d148,16,3,5,17001,,,0,"Add refactored summary page with tests

This commit adds a (p)react/redux-refactored summary page and dataset
service. The components added here should be roughly at feature parity
with the current implementation, except where they might depend on
other components that have not yet been implemented (for example,
links to the timeline page). Unit tests have also been added in the
'test-refactor' directory.

These components should be considered a viable basis for the remainder
of the refactoring process; for more information, see:
https://etherpad.openstack.org/p/stackviz-refactor

Change-Id: I4f43a6b719ba0493cb8409767e555eed9d4f254d
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/10/360810/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-refactor/unit/lib/dataset/dataset-reducers.spec.js', 'test-refactor/unit/lib/dataset/dataset-actions.spec.js', 'src/components/summary/subunit-stats/index.js', 'test-refactor/unit/components/notify/notify-actions.spec.js', 'src/lib/dataset/dataset-reducers.js', 'src/components/notify/index.js', 'test-refactor/unit/components/notify/notify.spec.js', 'src/components/notify/notify-reducers.js', 'src/components/notify/notify-actions.js', 'src/components/summary/factory.js', 'src/store.js', 'src/lib/dataset/dataset-actions.js', 'test-refactor/unit/components/app.spec.js', 'src/components/summary/subunit-stats/summary.js', 'src/components/app.js', 'src/components/summary/index.js', 'src/components/summary/subunit-stats/failures.js', 'test-refactor/unit/components/notify/notify-reducers.spec.js']",18,3163d3721464d83368a14e8f5f6cfb5d3b08c23e,refactor-build,"/* * Copyright (c) 2016 Hewlett Packard Enterprise Development, L.P. * * Licensed under the Apache License, Version 2.0 (the 'License'); you may * not use this file except in compliance with the License. You may obtain * a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an 'AS IS' BASIS, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * License for the specific language governing permissions and limitations * under the License. */ /* eslint no-unused-expressions: ""off"" */ import { NOTIFICATION, NOTIFICATION_DISMISS } from 'stackviz/components/notify/notify-reducers'; describe('notify-reducers', () => { const testA = { kind: 'info', message: 'test', error: null }; const testB = { kind: 'error', message: 'error', error: new Error('test') }; /** @test {NOTIFICATION} */ describe('NOTIFICATION', () => { it('should add notifications', () => { const firstState = { notifications: [] }; const secondState = NOTIFICATION(firstState, { type: 'NOTIFICATION', ...testA }); expect(secondState).not.to.equal(firstState); expect(secondState).not.to.deep.equal(firstState); expect(secondState.notifications).to.deep.equal([ testA ]); const thirdState = NOTIFICATION(secondState, { type: 'NOTIFICATION', ...testB }); expect(thirdState).not.to.equal(secondState); expect(thirdState).not.to.deep.equal(secondState); expect(thirdState.notifications).to.deep.equal([ testA, testB ]); }); }); /** @test {NOTIFICATION_DISMISS} */ describe('NOTIFICATION_DISMISS', () => { let state; beforeEach(() => { state = { notifications: [ testA, testB ] }; }); it('should dismiss the correct notification', () => { let next = NOTIFICATION_DISMISS(state, { id: 0 }); expect(next.notifications).to.deep.equal([ testB ]); next = NOTIFICATION_DISMISS(next, { id: 0 }); expect(next.notifications).to.be.empty; }); }); }); ",,2118,7
openstack%2Ftripleo-heat-templates~master~If7fad9f24c7294c2d749fc3838b1fb71182930fc,openstack/tripleo-heat-templates,master,If7fad9f24c7294c2d749fc3838b1fb71182930fc,Ensure openstack clients are installed,MERGED,2019-05-20 16:02:58.000000000,2019-05-31 05:09:00.000000000,2019-05-31 05:09:00.000000000,"[{'_account_id': 6413}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-20 16:02:58.000000000', 'files': ['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/885715855b19ec71ab362d92233478f3afb5a696', 'message': 'Ensure openstack clients are installed\n\nWe need to ensure the openstack clients are installed on controllers for\nthe deployed server case. This should be handled by the overcloud images\nthemselves, however if the images are not used we should make sure the\nclients get installed with our OpenstackClients service.\n\nChange-Id: If7fad9f24c7294c2d749fc3838b1fb71182930fc\nRelated-Bug: #1829769\n'}]",0,660156,885715855b19ec71ab362d92233478f3afb5a696,11,6,1,14985,,,0,"Ensure openstack clients are installed

We need to ensure the openstack clients are installed on controllers for
the deployed server case. This should be handled by the overcloud images
themselves, however if the images are not used we should make sure the
clients get installed with our OpenstackClients service.

Change-Id: If7fad9f24c7294c2d749fc3838b1fb71182930fc
Related-Bug: #1829769
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/660156/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Controller.yaml', 'roles_data.yaml', 'roles/ControllerOpenstack.yaml']",7,885715855b19ec71ab362d92233478f3afb5a696,bug/1829769, - OS::TripleO::Services::OpenStackClients,,7,0
openstack%2Ftripleo-heat-templates~master~I55ee3eae53b17ae022c4d711223a159cdb33ba9a,openstack/tripleo-heat-templates,master,I55ee3eae53b17ae022c4d711223a159cdb33ba9a,Sync the ControllerStorageNfs role with the Controller role,MERGED,2019-05-17 21:53:04.000000000,2019-05-31 05:08:58.000000000,2019-05-31 05:08:58.000000000,"[{'_account_id': 7144}, {'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-17 21:53:04.000000000', 'files': ['roles/ControllerStorageNfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb8d27105d6a910aa3e34605f3547af88f89c093', 'message': 'Sync the ControllerStorageNfs role with the Controller role\n\nAdd missing services\n\nChange-Id: I55ee3eae53b17ae022c4d711223a159cdb33ba9a\n'}]",0,659884,cb8d27105d6a910aa3e34605f3547af88f89c093,9,5,1,16643,,,0,"Sync the ControllerStorageNfs role with the Controller role

Add missing services

Change-Id: I55ee3eae53b17ae022c4d711223a159cdb33ba9a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/659884/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ControllerStorageNfs.yaml'],1,cb8d27105d6a910aa3e34605f3547af88f89c093,StorageNFS, - OS::TripleO::Services::CinderBackendDellEMCVNX - OS::TripleO::Services::CinderBackendNVMeOF - OS::TripleO::Services::DesignateApi - OS::TripleO::Services::DesignateCentral - OS::TripleO::Services::DesignateProducer - OS::TripleO::Services::DesignateWorker - OS::TripleO::Services::DesignateMDNS - OS::TripleO::Services::DesignateSink - OS::TripleO::Services::MistralApi - OS::TripleO::Services::MistralEngine - OS::TripleO::Services::MistralExecutor - OS::TripleO::Services::MistralEventEngine,,13,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I707282bf3cfcc7e370af41f987700e39c1b0b268,openstack/tripleo-heat-templates,stable/rocky,I707282bf3cfcc7e370af41f987700e39c1b0b268,Enable serial execution for ansible host,MERGED,2019-05-23 08:47:43.000000000,2019-05-31 05:08:29.000000000,2019-05-31 05:08:29.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-23 08:47:43.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/448c9b81ba6b1de9bd1df4a74b4456933f61734c', 'message': 'Enable serial execution for ansible host\n\nAllow to override serial parameter for parallel execution\nin Ansible\n\nNeeded-By: Iafd7c58aaf2f1b30cf46cd16122b5821c96c497c\nNeeded-By: I15511b4f36260292e0ea4100b15b8e65a701b38b\n\nChange-Id: I707282bf3cfcc7e370af41f987700e39c1b0b268\n(cherry picked from commit 9755a1b2d68dddb53090b6de5e44b71975ded723)\n'}]",0,660943,448c9b81ba6b1de9bd1df4a74b4456933f61734c,7,3,1,16515,,,0,"Enable serial execution for ansible host

Allow to override serial parameter for parallel execution
in Ansible

Needed-By: Iafd7c58aaf2f1b30cf46cd16122b5821c96c497c
Needed-By: I15511b4f36260292e0ea4100b15b8e65a701b38b

Change-Id: I707282bf3cfcc7e370af41f987700e39c1b0b268
(cherry picked from commit 9755a1b2d68dddb53090b6de5e44b71975ded723)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/660943/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,448c9b81ba6b1de9bd1df4a74b4456933f61734c,parallel/execution-stable/stein-stable/rocky, serial: {{ deploy_serial | default(1) }} serial: {{ deploy_serial | default(1) }}, serial: 1 serial: 1,2,2
openstack%2Ftripleo-heat-templates~stable%2Fstein~I707282bf3cfcc7e370af41f987700e39c1b0b268,openstack/tripleo-heat-templates,stable/stein,I707282bf3cfcc7e370af41f987700e39c1b0b268,Enable serial execution for ansible host,MERGED,2019-05-23 08:47:19.000000000,2019-05-31 05:08:27.000000000,2019-05-31 05:08:27.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-23 08:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f09dac80eff27970aafd7b261744e852e71c8fb2', 'message': 'Enable serial execution for ansible host\n\nAllow to override serial parameter for parallel execution\nin Ansible\n\nNeeded-By: Iafd7c58aaf2f1b30cf46cd16122b5821c96c497c\nNeeded-By: I15511b4f36260292e0ea4100b15b8e65a701b38b\n\nChange-Id: I707282bf3cfcc7e370af41f987700e39c1b0b268\n(cherry picked from commit 9755a1b2d68dddb53090b6de5e44b71975ded723)\n'}, {'number': 2, 'created': '2019-05-23 08:48:02.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93f31d38b29a92c8b471c24a356bcf245f07c840', 'message': 'Enable serial execution for ansible host\n\nAllow to override serial parameter for parallel execution\nin Ansible\n\nNeeded-By: Iafd7c58aaf2f1b30cf46cd16122b5821c96c497c\nNeeded-By: I15511b4f36260292e0ea4100b15b8e65a701b38b\n\nChange-Id: I707282bf3cfcc7e370af41f987700e39c1b0b268\n(cherry picked from commit 9755a1b2d68dddb53090b6de5e44b71975ded723)\n'}]",0,660942,93f31d38b29a92c8b471c24a356bcf245f07c840,9,3,2,16515,,,0,"Enable serial execution for ansible host

Allow to override serial parameter for parallel execution
in Ansible

Needed-By: Iafd7c58aaf2f1b30cf46cd16122b5821c96c497c
Needed-By: I15511b4f36260292e0ea4100b15b8e65a701b38b

Change-Id: I707282bf3cfcc7e370af41f987700e39c1b0b268
(cherry picked from commit 9755a1b2d68dddb53090b6de5e44b71975ded723)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/660942/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,f09dac80eff27970aafd7b261744e852e71c8fb2,parallel/execution-stable/stein, serial: {{ deploy_serial | default(1) }} serial: {{ deploy_serial | default(1) }}, serial: 1 serial: 1,2,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9fed91255f6857ac39a68278fb2c036606d88468,openstack/tripleo-heat-templates,stable/queens,I9fed91255f6857ac39a68278fb2c036606d88468,Run collectd socket cleanup on container start,MERGED,2019-05-30 01:28:05.000000000,2019-05-31 05:08:25.000000000,2019-05-31 05:08:25.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-30 01:28:05.000000000', 'files': ['puppet/services/metrics/collectd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3662c067651c9f337172db17b071d4b5549aae5', 'message': 'Run collectd socket cleanup on container start\n\nThis patch enables collectd deleting /var/run/collect-socket on startup.\nIt is created for monitoring purposes and on some conditions is created\nby health check script sooner than collectd starts, which results on collect\nfailing to create the socket and listening on it.\n\nChange-Id: I9fed91255f6857ac39a68278fb2c036606d88468\nCloses-Bug: #1807683\n(cherry picked from commit 36cfba38f8cf70e56fe039933d0ca844655ba20d)\n'}]",0,662116,a3662c067651c9f337172db17b071d4b5549aae5,8,7,1,16347,,,0,"Run collectd socket cleanup on container start

This patch enables collectd deleting /var/run/collect-socket on startup.
It is created for monitoring purposes and on some conditions is created
by health check script sooner than collectd starts, which results on collect
failing to create the socket and listening on it.

Change-Id: I9fed91255f6857ac39a68278fb2c036606d88468
Closes-Bug: #1807683
(cherry picked from commit 36cfba38f8cf70e56fe039933d0ca844655ba20d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/662116/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/metrics/collectd.yaml'],1,a3662c067651c9f337172db17b071d4b5549aae5,bug/1807683, collectd::plugin::unixsock::deletesocket: true,,1,0
openstack%2Fopenstack-ansible~master~Ifec1bebaa3fe6d6cce02fc4f36de1dcdf7c79ff3,openstack/openstack-ansible,master,Ifec1bebaa3fe6d6cce02fc4f36de1dcdf7c79ff3,Pin ARA to <1.0.0,MERGED,2019-05-24 14:32:49.000000000,2019-05-31 04:46:15.000000000,2019-05-31 04:46:15.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-24 14:32:49.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/34ba3c5a50ba0a80cd2179cbd716baa488d82635', 'message': ""Pin ARA to <1.0.0\n\nARA 1.0 will be released in the near future and isn't backwards\ncompatible. Pin it so it doesn't break things unexpectedly.\n\nChange-Id: Ifec1bebaa3fe6d6cce02fc4f36de1dcdf7c79ff3\n""}]",0,661303,34ba3c5a50ba0a80cd2179cbd716baa488d82635,8,3,1,9061,,,0,"Pin ARA to <1.0.0

ARA 1.0 will be released in the near future and isn't backwards
compatible. Pin it so it doesn't break things unexpectedly.

Change-Id: Ifec1bebaa3fe6d6cce02fc4f36de1dcdf7c79ff3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/661303/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/scripts-library.sh'],1,34ba3c5a50ba0a80cd2179cbd716baa488d82635,pin-ara-1.0," ${PIP_COMMAND} install --isolated ${PIP_OPTS} 'ara<1.0.0' ""${ANSIBLE_PACKAGE:-ansible}"""," ${PIP_COMMAND} install --isolated ${PIP_OPTS} ara ""${ANSIBLE_PACKAGE:-ansible}""",1,1
openstack%2Fdiskimage-builder~master~I382cc3e8038e2e552c553c526a990a01e51aeb12,openstack/diskimage-builder,master,I382cc3e8038e2e552c553c526a990a01e51aeb12,allow the use of non-bzip compressed stages for building gentoo,MERGED,2019-05-23 19:44:49.000000000,2019-05-31 04:42:07.000000000,2019-05-31 04:42:07.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-23 19:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8fe9c95cdd72ce3e7ab6fb5545ff12415bf53ac7', 'message': 'allow the use of non-bzip compressed stages for building gentoo\n\nUpstream is switching to xz so we need to be able to support it.\n\nChange-Id: I382cc3e8038e2e552c553c526a990a01e51aeb12\n'}, {'number': 2, 'created': '2019-05-23 20:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2f25d4ddbf721565983116c042a26da4bf53704f', 'message': 'allow the use of non-bzip compressed stages for building gentoo\n\nUpstream is switching to xz so we need to be able to support it.\n\nChange-Id: I382cc3e8038e2e552c553c526a990a01e51aeb12\n'}, {'number': 3, 'created': '2019-05-24 14:33:09.000000000', 'files': ['diskimage_builder/elements/gentoo/root.d/10-gentoo-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/afcac1922c606b0e7e43817362320168ad2f977a', 'message': 'allow the use of non-bzip compressed stages for building gentoo\n\nUpstream is switching to xz so we need to be able to support it.\n\nChange-Id: I382cc3e8038e2e552c553c526a990a01e51aeb12\n'}]",3,661098,afcac1922c606b0e7e43817362320168ad2f977a,17,6,3,14288,,,0,"allow the use of non-bzip compressed stages for building gentoo

Upstream is switching to xz so we need to be able to support it.

Change-Id: I382cc3e8038e2e552c553c526a990a01e51aeb12
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/98/661098/3 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/gentoo/root.d/10-gentoo-image'],1,8fe9c95cdd72ce3e7ab6fb5545ff12415bf53ac7,gentoo-no-bz2-hardcoding,"BASE_IMAGE_FILE_SUFFIX=${BASE_IMAGE_FILE_SUFFIX:-""$(echo ${BASE_IMAGE_FILE} | rev | cut -d\/ -f 1 | rev | cut -d. -f 2,3)""}CACHED_FILE=""${DIB_IMAGE_CACHE}/${FILENAME_BASE}.${BASE_IMAGE_FILE_SUFFIX}"" CACHED_SHA512SUM=$(grep -A1 -e 'SHA512' ""${CACHED_SIGNATURE_FILE}"" | grep -e ""${BASE_IMAGE_FILE_SUFFIX}$"" | cut -d\ -f 1)sudo tar -C ""${TARGET_ROOT}"" --numeric-owner --xattrs -xf ""${CACHED_FILE}""","CACHED_FILE=""${DIB_IMAGE_CACHE}/${FILENAME_BASE}.tar.bz2"" CACHED_SHA512SUM=$(grep -A1 -e 'SHA512' ""${CACHED_SIGNATURE_FILE}"" | grep -e 'tar.bz2$' | cut -d\ -f 1)sudo tar -C ""${TARGET_ROOT}"" --numeric-owner --xattrs -xjpf ""${CACHED_FILE}""",4,3
openstack%2Fnova~master~I0c8d488c1daecc71d7d2817ffb4ae10727771d19,openstack/nova,master,I0c8d488c1daecc71d7d2817ffb4ae10727771d19,Remove zeromq from getting started with compute docs,MERGED,2018-07-12 02:05:36.000000000,2019-05-31 04:35:13.000000000,2019-05-30 23:42:14.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-12 02:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f181331d3e6db81705f936a73015b879df3486d', 'message': 'Replace ZeroMQ URL with Qpid URL\n\nZeroMQ driver is deprecated, as per the Dublin 2018 PTG decision:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/128055.html\n\nChange-Id: I0c8d488c1daecc71d7d2817ffb4ae10727771d19\n'}, {'number': 2, 'created': '2019-05-30 16:00:29.000000000', 'files': ['doc/source/install/get-started-compute.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f2b7d812856e2267f55829a55c3b06f8572e1d1', 'message': 'Remove zeromq from getting started with compute docs\n\nZeroMQ driver is deprecated, as per the Dublin 2018 PTG decision:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/128055.html\n\nThis change simply replaces the zeromq mention with a link to the\nother oslo.messaging drivers.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I0c8d488c1daecc71d7d2817ffb4ae10727771d19\n'}]",4,581926,8f2b7d812856e2267f55829a55c3b06f8572e1d1,32,16,2,16523,,,0,"Remove zeromq from getting started with compute docs

ZeroMQ driver is deprecated, as per the Dublin 2018 PTG decision:
http://lists.openstack.org/pipermail/openstack-dev/2018-March/128055.html

This change simply replaces the zeromq mention with a link to the
other oslo.messaging drivers.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: I0c8d488c1daecc71d7d2817ffb4ae10727771d19
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/581926/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/get-started-compute.rst'],1,9f181331d3e6db81705f936a73015b879df3486d,remove-zeromq," another AMQP message queue, such as `Qpid <https://qpid.apache.org/>`__."," another AMQP message queue, such as `ZeroMQ <http://www.zeromq.org/>`__.",1,1
openstack%2Fopenstack-ansible~master~I6c43d0f43ea6db3014e2c2c8e28bf1efce9b7b53,openstack/openstack-ansible,master,I6c43d0f43ea6db3014e2c2c8e28bf1efce9b7b53,Imported Translations from Zanata,MERGED,2019-05-27 07:33:58.000000000,2019-05-31 04:26:29.000000000,2019-05-31 04:26:29.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27679}]","[{'number': 1, 'created': '2019-05-27 07:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7eed64f64ce4f7b6a6bdc72234602ee09e2fd1c9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6c43d0f43ea6db3014e2c2c8e28bf1efce9b7b53\n'}, {'number': 2, 'created': '2019-05-28 07:17:00.000000000', 'files': ['doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributor.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fe032198047d1fc02ecd8f88551e7a9d4cbd4ae5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6c43d0f43ea6db3014e2c2c8e28bf1efce9b7b53\n'}]",0,661551,fe032198047d1fc02ecd8f88551e7a9d4cbd4ae5,10,4,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6c43d0f43ea6db3014e2c2c8e28bf1efce9b7b53
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/661551/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po']",3,7eed64f64ce4f7b6a6bdc72234602ee09e2fd1c9,zanata/translations,"""POT-Creation-Date: 2019-05-27 05:55+0000\n""","""POT-Creation-Date: 2019-05-09 16:12+0000\n""msgid """" ""The |current_release_formal_name| release is only compatible with Ubuntu "" ""16.04 (Xenial Xerus), Ubuntu 18.04 (Bionic Beaver) CentOS 7 and openSUSE "" ""Leap 42.X."" msgstr """" ""Die |current_release_formal_name| Version ist nur kompatibel mit Ubuntu "" ""16.04 (Xenial Xerus), Ubuntu 18.04 (Bionic Beaver) CentOS 7 und openSUSE "" ""Leap 42.X."" msgid ""Upstream Ubuntu repositories to mirror for Ubuntu 16.04 LTS:"" msgstr ""Upstream Ubuntu Repositories zum Spiegeln von Ubuntu 16.04 LTS:"" msgid ""xenial"" msgstr ""Xenial"" msgid ""xenial-updates"" msgstr ""Xenial-Updates""",6,41
openstack%2Fopenstack-ansible~stable%2Frocky~I25a89ed706cad0ae3376c466807f3ba024941c2a,openstack/openstack-ansible,stable/rocky,I25a89ed706cad0ae3376c466807f3ba024941c2a,Utility container venv is missing python libs for ansible openstack modules,MERGED,2019-05-28 16:40:45.000000000,2019-05-31 04:26:28.000000000,2019-05-31 04:26:28.000000000,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-28 16:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4992ad646586aaf601402ead8ae87b3392bedcb8', 'message': 'Utility container is missing the shade library\n\nSome service set up tasks use ansible modules that rely on shade.\nWhen using a utility container as a service setup host these tasks\nwill fail if shade is not installed to the utility container.\n\nAdded shade to the list of pip packages installed to the container.\n\nChange-Id: I25a89ed706cad0ae3376c466807f3ba024941c2a\nCloses-Bug: #1830028\n'}, {'number': 2, 'created': '2019-05-28 17:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/79bea6ef1f514395360bab040801a2edd3e78a33', 'message': 'Utility container venv is missing python libs for openstack ansible modules\n\nSome service set up tasks use ansible modules that require external\npython libraries. When using a utility container as a service setup host\nthese ansible tasks will fail if the required libraries are not present\nin the utility venv.\n\nAdded shade to the list of pip packages installed to the container, as\nrequired for ansible 2.5 / Rocky.\n\nChange-Id: I25a89ed706cad0ae3376c466807f3ba024941c2a\nCloses-Bug: #1830028\n'}, {'number': 3, 'created': '2019-05-29 08:28:43.000000000', 'files': ['inventory/group_vars/utility_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0a929c3dfd42abb4df7f0dfce4c7aeb8e44e30fc', 'message': 'Utility container venv is missing python libs for ansible openstack modules\n\nSome service set up tasks use ansible modules that require external\npython libraries. When using a utility container as a service setup host\nthese ansible tasks will fail if the required libraries are not present\nin the utility venv.\n\nAdded shade to the list of pip packages installed to the container, as\nrequired for ansible 2.5 / Rocky.\n\n(manual cherry pick from commit 79bea6ef1f514395360bab040801a2edd3e78a33)\nChange-Id: I25a89ed706cad0ae3376c466807f3ba024941c2a\nCloses-Bug: #1830028\n'}]",1,661812,0a929c3dfd42abb4df7f0dfce4c7aeb8e44e30fc,17,4,3,29865,,,0,"Utility container venv is missing python libs for ansible openstack modules

Some service set up tasks use ansible modules that require external
python libraries. When using a utility container as a service setup host
these ansible tasks will fail if the required libraries are not present
in the utility venv.

Added shade to the list of pip packages installed to the container, as
required for ansible 2.5 / Rocky.

(manual cherry pick from commit 79bea6ef1f514395360bab040801a2edd3e78a33)
Change-Id: I25a89ed706cad0ae3376c466807f3ba024941c2a
Closes-Bug: #1830028
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/661812/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/utility_all.yml'],1,4992ad646586aaf601402ead8ae87b3392bedcb8,bug/1830028, - shade,,1,0
openstack%2Fopenstack-ansible~stable%2Fstein~I8c29f04b7505bd3571928af9fa8c98f6f2ecd56b,openstack/openstack-ansible,stable/stein,I8c29f04b7505bd3571928af9fa8c98f6f2ecd56b,Pin ARA to <1.0.0,MERGED,2019-05-24 14:37:35.000000000,2019-05-31 04:25:02.000000000,2019-05-27 22:12:33.000000000,"[{'_account_id': 7353}, {'_account_id': 9061}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-24 14:37:35.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dd412f7070702e513b8af8235949d0ce32a77934', 'message': ""Pin ARA to <1.0.0\n\nARA 1.0 will be released in the near future and isn't backwards\ncompatible. Pin it so it doesn't break things unexpectedly.\n\nChange-Id: I8c29f04b7505bd3571928af9fa8c98f6f2ecd56b\n(cherry picked from commit 34ba3c5a50ba0a80cd2179cbd716baa488d82635)\n""}]",0,661305,dd412f7070702e513b8af8235949d0ce32a77934,11,4,1,9061,,,0,"Pin ARA to <1.0.0

ARA 1.0 will be released in the near future and isn't backwards
compatible. Pin it so it doesn't break things unexpectedly.

Change-Id: I8c29f04b7505bd3571928af9fa8c98f6f2ecd56b
(cherry picked from commit 34ba3c5a50ba0a80cd2179cbd716baa488d82635)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/661305/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/scripts-library.sh'],1,dd412f7070702e513b8af8235949d0ce32a77934,pin-ara-1.0," ${PIP_COMMAND} install --isolated ${PIP_OPTS} 'ara<1.0.0' ""${ANSIBLE_PACKAGE:-ansible}"""," ${PIP_COMMAND} install --isolated ${PIP_OPTS} ara==0.16.3 ""${ANSIBLE_PACKAGE:-ansible}""",1,1
openstack%2Ftripleo-common~stable%2Fqueens~I36a851397a0adeadc3216656c96c58f8668fd7fc,openstack/tripleo-common,stable/queens,I36a851397a0adeadc3216656c96c58f8668fd7fc,Remove amp_hw_arch from octavia_post,MERGED,2019-04-11 14:38:01.000000000,2019-05-31 04:24:31.000000000,2019-05-31 04:24:31.000000000,"[{'_account_id': 6579}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30158}]","[{'number': 1, 'created': '2019-04-11 14:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c76111dbbf5af5338db21fd6793d92404b3d47c3', 'message': ""Remove amp_hw_arch from octavia_post\n\nThis patch is a followup to this[1] change.\n\nThe reasons for removing amp_hw_arch from octavia_post:\n1. In stable/queens, we break since we don't feed ansible with any\nvalue.\n2. We don't support or ship an Amphora image that is non-x86_64.The\npurpose of specifying the arch is (as stated here[1]) to hint the Nova\nscheduler which compute nodes to take into account when it schedules\nan Amphora instance.\n\nCloses-Bug: #1824368\n\n[1] Ia7be6503a40e08d0d1f7f4d89132c9e9b5bd6704\nChange-Id: I36a851397a0adeadc3216656c96c58f8668fd7fc\n""}, {'number': 2, 'created': '2019-04-14 08:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9bf3b20c70d41a10b7e99e3012cc2356c0c3ccdf', 'message': ""Remove amp_hw_arch from octavia_post\n\nThis patch is a followup to this[1] change.\n\nThe reasons for removing amp_hw_arch from octavia_post:\n1. In stable/queens, we break since we don't feed ansible with any\nvalue.\n2. We don't support or ship an Amphora image that is non-x86_64.The\npurpose of specifying the arch is (as stated here[1]) to hint the Nova\nscheduler which compute nodes to take into account when it schedules\nan Amphora instance.\n\nCloses-Bug: #1824368\n\n[1] Ia7be6503a40e08d0d1f7f4d89132c9e9b5bd6704\nChange-Id: I36a851397a0adeadc3216656c96c58f8668fd7fc\n(cherry picked from commit e2b67d33cf59464bf82e07e247f45c6b96f2bb6c)\n(cherry picked from commit c75d5e031ee9ec925a6c8de1eac5962f436ffbb8)\n""}, {'number': 3, 'created': '2019-04-22 11:24:54.000000000', 'files': ['workbooks/octavia_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1c2c0a0a895af3b33c2ee530c60dd7a3686d92d3', 'message': ""Remove amp_hw_arch from octavia_post\n\nThis patch is a followup to this[1] change.\n\nThe reasons for removing amp_hw_arch from octavia_post:\n1. In stable/queens, we break since we don't feed ansible with any\nvalue.\n2. We don't support or ship an Amphora image that is non-x86_64.The\npurpose of specifying the arch is (as stated here[1]) to hint the Nova\nscheduler which compute nodes to take into account when it schedules\nan Amphora instance.\n\nCloses-Bug: #1824368\n\n[1] Ia7be6503a40e08d0d1f7f4d89132c9e9b5bd6704\nChange-Id: I36a851397a0adeadc3216656c96c58f8668fd7fc\n(cherry picked from commit e2b67d33cf59464bf82e07e247f45c6b96f2bb6c)\n(cherry picked from commit b1676eac87147096e76f4317226336411ffdf819)\n""}]",0,651800,1c2c0a0a895af3b33c2ee530c60dd7a3686d92d3,17,5,3,6579,,,0,"Remove amp_hw_arch from octavia_post

This patch is a followup to this[1] change.

The reasons for removing amp_hw_arch from octavia_post:
1. In stable/queens, we break since we don't feed ansible with any
value.
2. We don't support or ship an Amphora image that is non-x86_64.The
purpose of specifying the arch is (as stated here[1]) to hint the Nova
scheduler which compute nodes to take into account when it schedules
an Amphora instance.

Closes-Bug: #1824368

[1] Ia7be6503a40e08d0d1f7f4d89132c9e9b5bd6704
Change-Id: I36a851397a0adeadc3216656c96c58f8668fd7fc
(cherry picked from commit e2b67d33cf59464bf82e07e247f45c6b96f2bb6c)
(cherry picked from commit b1676eac87147096e76f4317226336411ffdf819)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/651800/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/octavia_post.yaml'],1,c76111dbbf5af5338db21fd6793d92404b3d47c3,bug/1824368,, - amp_hw_arch amp_hw_arch: <% $.amp_hw_arch %>,0,2
openstack%2Fwatcher-tempest-plugin~master~I013725bc387974ca06946ef83cb9ed92704ac3b1,openstack/watcher-tempest-plugin,master,I013725bc387974ca06946ef83cb9ed92704ac3b1,Add execute_strategy method in base class,MERGED,2019-05-30 09:41:20.000000000,2019-05-31 04:04:51.000000000,2019-05-31 04:04:51.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 09:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/6c6e4a40e6b12a4182d1a4e14ac793fc61c882ae', 'message': '[WIP] Add execute_strategy method in base class\n\nTo improve strategy tempest, add execute_strategy methon in base,\nthen all strategy tempest can invoke it.\n\nChange-Id: I013725bc387974ca06946ef83cb9ed92704ac3b1\n'}, {'number': 2, 'created': '2019-05-31 02:11:31.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/e4d89ca14369ea47218690ba4d621692efc69c04', 'message': 'Add execute_strategy method in base class\n\nTo improve strategy tempest, add execute_strategy methon in base,\nthen all strategy tempest can invoke it.\n\nChange-Id: I013725bc387974ca06946ef83cb9ed92704ac3b1\n'}]",0,662172,e4d89ca14369ea47218690ba4d621692efc69c04,8,2,2,21692,,,0,"Add execute_strategy method in base class

To improve strategy tempest, add execute_strategy methon in base,
then all strategy tempest can invoke it.

Change-Id: I013725bc387974ca06946ef83cb9ed92704ac3b1
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/72/662172/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/tests/scenario/base.py'],1,6c6e4a40e6b12a4182d1a4e14ac793fc61c882ae,strategy_tempest," def execute_strategy(self, goal, strategy, **audit_kwargs): """"""Execute an action plan based on the BASIC strategy - create an audit template with the basic strategy - run the audit to create an action plan - get the action plan - run the action plan - get results and make sure it succeeded """""" self.addCleanup(self.rollback_compute_nodes_status) self._create_one_instance_per_host_with_statistic() self.make_host_statistic() _, goal = self.client.show_goal(self.GOAL_NAME) _, strategy = self.client.show_strategy(""basic"") _, audit_template = self.create_audit_template( goal['uuid'], strategy=strategy['uuid']) self.assertTrue(test_utils.call_until_true( func=functools.partial( self.has_action_plans_finished), duration=600, sleep_for=2 )) _, audit = self.create_audit( audit_template['uuid'], parameters={ ""granularity"": 300, ""period"": 72000, ""aggregation_method"": {""instance"": ""mean"", ""compute_node"": ""mean""} } ) try: self.assertTrue(test_utils.call_until_true( func=functools.partial( self.has_audit_finished, audit['uuid']), duration=600, sleep_for=2 )) except ValueError: self.fail(""The audit has failed!"") _, finished_audit = self.client.show_audit(audit['uuid']) if finished_audit.get('state') in ('FAILED', 'CANCELLED', 'SUSPENDED'): self.fail(""The audit ended in unexpected state: %s!"" % finished_audit.get('state')) _, action_plans = self.client.list_action_plans( audit_uuid=audit['uuid']) action_plan = action_plans['action_plans'][0] _, action_plan = self.client.show_action_plan(action_plan['uuid']) if action_plan['state'] in ('SUPERSEDED', 'SUCCEEDED'): # This means the action plan is superseded so we cannot trigger it, # or it is empty. return # Execute the action by changing its state to PENDING _, updated_ap = self.client.start_action_plan(action_plan['uuid']) self.assertTrue(test_utils.call_until_true( func=functools.partial( self.has_action_plan_finished, action_plan['uuid']), duration=600, sleep_for=2 )) _, finished_ap = self.client.show_action_plan(action_plan['uuid']) _, action_list = self.client.list_actions( action_plan_uuid=finished_ap[""uuid""]) self.assertIn(updated_ap['state'], ('PENDING', 'ONGOING')) self.assertIn(finished_ap['state'], ('SUCCEEDED', 'SUPERSEDED')) for action in action_list['actions']: self.assertEqual('SUCCEEDED', action.get('state'))",,79,0
openstack%2Fcongress~master~If983dd1a9774fbf33d3d1903199bab4cf7a4c4db,openstack/congress,master,If983dd1a9774fbf33d3d1903199bab4cf7a4c4db,temporarily disable unstable dse tests,MERGED,2017-08-30 00:56:36.000000000,2019-05-31 04:04:04.000000000,2017-10-16 05:35:24.000000000,"[{'_account_id': 3}, {'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-30 00:56:36.000000000', 'files': ['congress/tests/dse2/test_dse_node.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/a1cf5dac554d7adb66c053e944c89eb1fd146b02', 'message': 'temporarily disable unstable dse tests\n\nAcceptable in the short term because the facilities\nare exercise in many other tests.\n\nChange-Id: If983dd1a9774fbf33d3d1903199bab4cf7a4c4db\n'}]",0,498996,a1cf5dac554d7adb66c053e944c89eb1fd146b02,8,4,1,18591,,,0,"temporarily disable unstable dse tests

Acceptable in the short term because the facilities
are exercise in many other tests.

Change-Id: If983dd1a9774fbf33d3d1903199bab4cf7a4c4db
",git fetch https://review.opendev.org/openstack/congress refs/changes/96/498996/1 && git format-patch -1 --stdout FETCH_HEAD,['congress/tests/dse2/test_dse_node.py'],1,a1cf5dac554d7adb66c053e944c89eb1fd146b02,, # FIXME(dsetest): resolve instability and re-enable def _test_node_rpc(self): # FIXME(dsetest): resolve instability and re-enable def _test_node_broadcast_rpc(self): # FIXME(dsetest): resolve instability and re-enable def _test_service_rpc(self): # FIXME(dsetest): resolve instability and re-enable def _test_broadcast_service_rpc(self):, def test_node_rpc(self): def test_node_broadcast_rpc(self): def test_service_rpc(self): def test_broadcast_service_rpc(self):,8,4
openstack%2Fopenstack-ansible-os_nova~master~Iff8425e2aff37a35432202d9912b7bd00ddcd761,openstack/openstack-ansible-os_nova,master,Iff8425e2aff37a35432202d9912b7bd00ddcd761,Clarify supported SUSE versions,MERGED,2019-05-21 07:58:32.000000000,2019-05-31 03:55:31.000000000,2019-05-31 03:55:31.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-21 07:58:32.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/28e2e7015c56f64874159d0bf30c7566b9a38ae3', 'message': 'Clarify supported SUSE versions\n\nThis role only support openSUSE Leap 15, not 42.3, not tumbleweed.\nSaying all is confusing and a bad practice. This fixes it, while\nensuring the job is properly defined to test that assertion.\n\nChange-Id: Iff8425e2aff37a35432202d9912b7bd00ddcd761\n'}]",0,660273,28e2e7015c56f64874159d0bf30c7566b9a38ae3,7,3,1,17068,,,0,"Clarify supported SUSE versions

This role only support openSUSE Leap 15, not 42.3, not tumbleweed.
Saying all is confusing and a bad practice. This fixes it, while
ensuring the job is properly defined to test that assertion.

Change-Id: Iff8425e2aff37a35432202d9912b7bd00ddcd761
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/73/660273/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,28e2e7015c56f64874159d0bf30c7566b9a38ae3,clarify-suse-support, - 15, - all,1,1
openstack%2Fopenstack-ansible-os_monasca-agent~master~I08abf1796b0c4dc7b68dfe89795f59086113cfbf,openstack/openstack-ansible-os_monasca-agent,master,I08abf1796b0c4dc7b68dfe89795f59086113cfbf,Fix monasca agent for leap 15,MERGED,2019-05-21 07:56:46.000000000,2019-05-31 03:53:38.000000000,2019-05-31 03:53:38.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-21 07:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca-agent/commit/168feea67a389fbec8694b0877344196dc6f577e', 'message': ""Fix monasca agent for leap 15\n\nThis ensures vars are properly loaded for Leap 15.\nIn order to test this actively, we'll rely on the integrated\njobs.\n\nChange-Id: I08abf1796b0c4dc7b68dfe89795f59086113cfbf\n""}, {'number': 2, 'created': '2019-05-21 08:25:18.000000000', 'files': ['zuul.d/project.yaml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca-agent/commit/af52c060bddf77a0df0b6d71eeeb7171c1fc2c70', 'message': ""Fix monasca agent for leap 15\n\nThis ensures vars are properly loaded for Leap 15.\nIn order to test this actively, we'll rely on the integrated\njobs.\n\nChange-Id: I08abf1796b0c4dc7b68dfe89795f59086113cfbf\n""}]",0,660272,af52c060bddf77a0df0b6d71eeeb7171c1fc2c70,8,3,2,17068,,,0,"Fix monasca agent for leap 15

This ensures vars are properly loaded for Leap 15.
In order to test this actively, we'll rely on the integrated
jobs.

Change-Id: I08abf1796b0c4dc7b68dfe89795f59086113cfbf
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_monasca-agent refs/changes/72/660272/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'meta/main.yml', 'vars/suse.yml']",3,168feea67a389fbec8694b0877344196dc6f577e,fix_leap15_monasca_agent,,,4,3
openstack%2Fopenstack-ansible-os_tempest~master~Ia449079776e0339515ae1a2bca7553b03d9cde1c,openstack/openstack-ansible-os_tempest,master,Ia449079776e0339515ae1a2bca7553b03d9cde1c,Update openstack.org -> opendev.org,MERGED,2019-04-23 10:37:10.000000000,2019-05-31 03:42:21.000000000,2019-05-31 03:42:21.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 8944}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-04-23 10:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c446083c29659c3f6d9e6c6fd21ab15cbae1b4d2', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-04-24 07:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ee5b36dad00b2b4852f84262a5ece057d84f7cd5', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-04-24 07:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/0dbbdcb989cf663dc780846013b047fdddb1c435', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-04-24 07:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/1baee3034ced5d51eb578a55d1e595a3786763a4', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-04-24 08:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ca28e527ed938ba2c89262700d8d927ee48966e5', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-05-02 07:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f707223251763bb7bf1587ef21195faba103867e', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2019-05-09 09:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f3c8d35c1fe99788df7e93923a10f0a560135464', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2019-05-20 09:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/db2425797f6c7c3e36b3d4e06497d2bbc703d356', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2019-05-21 07:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/da59b24406e36d35485b1fced84dab1d18a2eefe', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/#/c/660266/\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2019-05-21 07:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ce2c4cdf2fdd12407cc57b1352ec3ff3ce0f0277', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\n\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2019-05-22 11:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/35858a0d2d59c8d2b1516407350501487ae21256', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/#/c/660685/\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2019-05-22 13:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/11ddbcdc213c515717869dcf78255b20e46bdd1a', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/#/c/659877/\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 13, 'created': '2019-05-22 16:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3344fda16c52d2f3e59832d3a7946325edc1349b', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/#/c/660697/\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 14, 'created': '2019-05-22 16:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/83cdf541e0b2b0f300d5995471e514bb20133799', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/#/c/660697/\nDepends-On: https://review.opendev.org/660772\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 15, 'created': '2019-05-23 08:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/fcb3db8b08e20c61705ebdfe550e03290479784a', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nIt also adds os_placement as a ansible role requirements.\n\nDepends-On: https://review.opendev.org/#/c/660697/\nDepends-On: https://review.opendev.org/660772\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 16, 'created': '2019-05-24 10:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ed0c9f00c793f00cd7fdae62749d720539fdfe5f', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nIt also adds os_placement as a ansible role requirements.\n\nDepends-On: https://review.opendev.org/#/c/661179/\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 17, 'created': '2019-05-24 13:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/00956c3a2675161f50f022e7ae1df0f8d51e273b', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nIt also adds os_placement as a ansible role requirements.\n\nDepends-On: https://review.opendev.org/#/c/661179/\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 18, 'created': '2019-05-27 07:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a52b38e458e28804c478c0b2c7637015b00b7658', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nIt also adds os_placement as a ansible role requirements.\n\nDepends-On: https://review.opendev.org/#/c/661179/\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 19, 'created': '2019-05-28 06:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/248a9654289624696d528e51803e9f7a9903b13a', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nIt also adds os_placement as a ansible role requirements.\n\nDepends-On: https://review.opendev.org/#/c/661179/\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 20, 'created': '2019-05-30 06:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e6040ce564fccbdda7c48cdab2693a90c750083e', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 21, 'created': '2019-05-30 08:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6c0a43c5b77e870f1d8b27ce6e6b7ab4143127ed', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 22, 'created': '2019-05-30 09:59:34.000000000', 'files': ['doc/source/user/installation.rst', 'tests/ansible-role-requirements.yml', 'tests/os_tempest-overrides.yml', 'README.rst', 'doc/source/conf.py', 'requirements.yml', 'tox.ini', 'defaults/main.yml', 'vars/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ecdc0eedaf75e560273cc2addeeda2a29ace5403', 'message': 'Update openstack.org -> opendev.org\n\nIt updates the url from git.openstack.org to opendev.org and\nalso remove cgit from opendev.org.\n\nKeeping vagrantfile, run_tests.sh and bindep.txt as itis\nas these are updated automatically by openstack-ansible-tests.\n\nChange-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}]",19,654942,ecdc0eedaf75e560273cc2addeeda2a29ace5403,73,14,22,12393,,,0,"Update openstack.org -> opendev.org

It updates the url from git.openstack.org to opendev.org and
also remove cgit from opendev.org.

Keeping vagrantfile, run_tests.sh and bindep.txt as itis
as these are updated automatically by openstack-ansible-tests.

Change-Id: Ia449079776e0339515ae1a2bca7553b03d9cde1c
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/42/654942/9 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/installation.rst', 'README.rst', 'doc/source/conf.py', 'defaults/main.yml', 'vars/main.yml', 'run_tests.sh', 'bindep.txt', 'tests/ansible-role-requirements.yml', 'tests/os_tempest-overrides.yml', 'Vagrantfile', 'requirements.yml', 'tox.ini', 'releasenotes/source/conf.py']",13,c446083c29659c3f6d9e6c6fd21ab15cbae1b4d2,opendev," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",59,59
openstack%2Fwatcher-tempest-plugin~master~Idb431b81c81eeaf8a12552fca782e1bd6b53608b,openstack/watcher-tempest-plugin,master,Idb431b81c81eeaf8a12552fca782e1bd6b53608b,Add watcherclient tempest readme,MERGED,2019-05-30 07:37:46.000000000,2019-05-31 03:39:13.000000000,2019-05-31 03:39:13.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 07:37:46.000000000', 'files': ['watcher_tempest_plugin/README.rst'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/d24b76c6d47b383e8bafb734e88a84d70ad4e4e2', 'message': 'Add watcherclient tempest readme\n\nChange-Id: Idb431b81c81eeaf8a12552fca782e1bd6b53608b\n'}]",0,662151,d24b76c6d47b383e8bafb734e88a84d70ad4e4e2,6,2,1,21692,,,0,"Add watcherclient tempest readme

Change-Id: Idb431b81c81eeaf8a12552fca782e1bd6b53608b
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/51/662151/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/README.rst'],1,d24b76c6d47b383e8bafb734e88a84d70ad4e4e2,client_readme, Watcherclient Tempest tests execution ------------------------------- To run Watcherclient functional tests you need to execute ``tempest run`` command:: $ tempest run --regex watcher_tempest_plugin.tests.client_functional You can run specified test(s) by using regular expression:: $ tempest run --regex watcher_tempest_plugin.tests.client_functional.v1.test_action.ActionTests.test_action_list,,12,0
openstack%2Fwatcher-tempest-plugin~master~I749e957fc7e5c385f8655e62975fac3e705cb87f,openstack/watcher-tempest-plugin,master,I749e957fc7e5c385f8655e62975fac3e705cb87f,Add cold migrate test,MERGED,2019-05-30 06:48:46.000000000,2019-05-31 03:39:12.000000000,2019-05-31 03:39:12.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 06:48:46.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/test_execute_actuator.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/056ed00ce1b539126edc51b1cc0abb3756dd57ee', 'message': 'Add cold migrate test\n\nChange-Id: I749e957fc7e5c385f8655e62975fac3e705cb87f\n'}]",0,662141,056ed00ce1b539126edc51b1cc0abb3756dd57ee,6,2,1,21692,,,0,"Add cold migrate test

Change-Id: I749e957fc7e5c385f8655e62975fac3e705cb87f
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/41/662141/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/tests/scenario/test_execute_actuator.py'],1,056ed00ce1b539126edc51b1cc0abb3756dd57ee,cold_migrate," ""input_parameters"": { ""migration_type"": ""cold""},",,2,0
openstack%2Fstackviz~master~I75f0045e88d20d04ecbcdc798bcf3f45d2c27e7a,openstack/stackviz,master,I75f0045e88d20d04ecbcdc798bcf3f45d2c27e7a,Use py36,MERGED,2019-05-25 14:26:46.000000000,2019-05-31 03:36:41.000000000,2019-05-31 03:36:41.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-25 14:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/b28f50173686b7cb5e868e94ce7d94bcc63a6c99', 'message': 'Use py37\n\nThis commit makes to use python3.7 instead of python2.7 in postinstall\nsince python2.7 will be EOL soon. And, this commit encourages to use\npy37 task instead of py27 as well.\n\nChange-Id: I75f0045e88d20d04ecbcdc798bcf3f45d2c27e7a\n'}, {'number': 2, 'created': '2019-05-25 14:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/99ce02a6552ab6cde648adc11593913d0217b1b0', 'message': 'Use py37\n\nThis commit makes to use python3.7 instead of python2.7 in postinstall\nsince python2.7 will be EOL soon. And, this commit encourages to use\npy37 task instead of py27 as well.\nAnd also this commit changes to use node8 to test in the upstream gate.\n\nChange-Id: I75f0045e88d20d04ecbcdc798bcf3f45d2c27e7a\n'}, {'number': 3, 'created': '2019-05-25 15:06:44.000000000', 'files': ['README.rst', '.zuul.yaml', 'package.json'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/30856e46a769ab8f4ee1f60c318f5e96d86c4edc', 'message': 'Use py36\n\nThis commit makes to use python3.6 instead of python2.7 in postinstall\nsince python2.7 will be EOL soon. And, this commit encourages to use\npy36 task instead of py27 as well.\nAnd also this commit changes to use node8 to test in the upstream gate.\n\nChange-Id: I75f0045e88d20d04ecbcdc798bcf3f45d2c27e7a\n'}]",0,661457,30856e46a769ab8f4ee1f60c318f5e96d86c4edc,13,3,3,5689,,,0,"Use py36

This commit makes to use python3.6 instead of python2.7 in postinstall
since python2.7 will be EOL soon. And, this commit encourages to use
py36 task instead of py27 as well.
And also this commit changes to use node8 to test in the upstream gate.

Change-Id: I75f0045e88d20d04ecbcdc798bcf3f45d2c27e7a
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/57/661457/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'package.json']",2,b28f50173686b7cb5e868e94ce7d94bcc63a6c99,postinstall-py37," ""postinstall"": ""if [ ! -d .venv ]; then tox -epy37 --notest; fi"","," ""postinstall"": ""if [ ! -d .venv ]; then tox -epy27 --notest; fi"",",2,2
openstack%2Ffreezer-api~master~Idae094c6083ca1abb89caf5b2cd17f27c5d9c26e,openstack/freezer-api,master,Idae094c6083ca1abb89caf5b2cd17f27c5d9c26e,Change tempest job to non-voting,MERGED,2019-05-31 01:17:41.000000000,2019-05-31 03:27:23.000000000,2019-05-31 03:27:23.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 01:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/1d40943942e39e45e44495c193f34e6a49d03351', 'message': 'Change tempest job to non-voting\n\nFalcon 2.0.0 version has some  issues which is  blocked tempest job.\nTemporary fix!\n\nChange-Id: Idae094c6083ca1abb89caf5b2cd17f27c5d9c26e\n'}, {'number': 2, 'created': '2019-05-31 02:02:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/f6c1b17cdd2d4b3a2906cf89f76110b849e57ca1', 'message': 'Change tempest job to non-voting\n\nFalcon 2.0.0 version has some  issues which is  blocked tempest job.\nTemporary fix!\n\nChange-Id: Idae094c6083ca1abb89caf5b2cd17f27c5d9c26e\n'}]",0,662364,f6c1b17cdd2d4b3a2906cf89f76110b849e57ca1,7,2,2,21069,,,0,"Change tempest job to non-voting

Falcon 2.0.0 version has some  issues which is  blocked tempest job.
Temporary fix!

Change-Id: Idae094c6083ca1abb89caf5b2cd17f27c5d9c26e
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/64/662364/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1d40943942e39e45e44495c193f34e6a49d03351,, - freezer-tempest-basic: voting: false - freezer-tempest-basic-sqlalchemy: voting: false - freezer-api-ubuntu: voting: false - freezer-tempest-basic: voting: false - freezer-tempest-basic-sqlalchemy: voting: false, - freezer-tempest-basic - freezer-tempest-basic-sqlalchemy - freezer-api-ubuntu - freezer-tempest-basic - freezer-tempest-basic-sqlalchemy,10,5
openstack%2Fpython-watcherclient~master~I87c6e6ce1bb6e253014d844a3a67b51cd6b11135,openstack/python-watcherclient,master,I87c6e6ce1bb6e253014d844a3a67b51cd6b11135,Remove unused readme file,MERGED,2019-05-30 07:35:48.000000000,2019-05-31 03:04:23.000000000,2019-05-31 03:04:23.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 27679}]","[{'number': 1, 'created': '2019-05-30 07:35:48.000000000', 'files': ['watcherclient/tests/README.rst'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/dbbe7df1e2f90557cad9246d05a9ed8b5da7bc50', 'message': 'Remove unused readme file\n\nChange-Id: I87c6e6ce1bb6e253014d844a3a67b51cd6b11135\n'}]",0,662149,dbbe7df1e2f90557cad9246d05a9ed8b5da7bc50,7,3,1,21692,,,0,"Remove unused readme file

Change-Id: I87c6e6ce1bb6e253014d844a3a67b51cd6b11135
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/49/662149/1 && git format-patch -1 --stdout FETCH_HEAD,['watcherclient/tests/README.rst'],1,dbbe7df1e2f90557cad9246d05a9ed8b5da7bc50,remove_readme,,".. Except where otherwise noted, this document is licensed under Creative Commons Attribution 3.0 License. You can view the license at: https://creativecommons.org/licenses/by/3.0/ ======= Testing ======= .. _functional_tests: Functional tests ================ The following procedure gets you started with Tempest testing but you can also refer to the `Tempest documentation`_ for more details. .. _Tempest documentation: https://docs.openstack.org/tempest/latest/ Tempest installation -------------------- You need to install virtualenv, create a virtual environment and activate it:: $ pip install virtualenv $ virtualenv watcher-env $ . watcher-env/bin/activate Then, to install Tempest you can issue the following commands:: $ git clone https://github.com/openstack/tempest/ $ pip install tempest/ There should be set environment variables using the OpenStack RC file. If you don't have RC file yet, create ``admin-openrc`` file and fill it using the following example:: export OS_PROJECT_DOMAIN_NAME=default export OS_USER_DOMAIN_NAME=default export OS_PROJECT_NAME=admin export OS_USERNAME=admin export OS_PASSWORD=admin export OS_AUTH_URL=http://controller:35357/v3 export OS_IDENTITY_API_VERSION=3 export OS_IMAGE_API_VERSION=2 Then, save file and execute ``source admin-openrc`` to set environment variables. To run functional tests you need to go to python-watcherclient folder, install all requirements and execute ``tempest run`` command:: $ pip install -r requirements.txt -r test-requirements.txt $ pip install . $ tempest run --regex watcherclient.tests.functional You can run specified test(s) by using regular expression:: $ tempest run --regex watcherclient.tests.functional.v1.test_action.ActionTests.test_action_list ",0,61
openstack%2Fwatcher~master~I68475883529610e514aa82f1881105ab0cf24ec3,openstack/watcher,master,I68475883529610e514aa82f1881105ab0cf24ec3,Group instance methods together in nova_helper,MERGED,2019-05-24 13:55:36.000000000,2019-05-31 02:58:11.000000000,2019-05-31 02:58:11.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 25314}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-05-24 13:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/dc32633111821148e3f7bdb7917ac9705afbbbcc', 'message': 'Method to get compute_node by uuid to nova_helper\n\nAdd new method to get the compute_node by uuid to nova_helper and\ngroup all instance based nova_helper methods together.\n\nChange-Id: I68475883529610e514aa82f1881105ab0cf24ec3\n'}, {'number': 2, 'created': '2019-05-24 15:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/918ac535bd3541fa9dc051cc29224bdfc4d55ddf', 'message': 'Group instance methods together in nova_helper\n\nSome of the methods for retrieving data about instances was placed\nat the bottom of nova_helper instead of being close to the other\ninstance based methods.\n\nChange-Id: I68475883529610e514aa82f1881105ab0cf24ec3\n'}, {'number': 3, 'created': '2019-05-29 07:02:53.000000000', 'files': ['watcher/common/nova_helper.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/a00daf9f26a214d9abcf62d1ee3abf74586590c7', 'message': 'Group instance methods together in nova_helper\n\nSome of the methods for retrieving data about instances was placed\nat the bottom of nova_helper instead of being close to the other\ninstance based methods.\n\nChange-Id: I68475883529610e514aa82f1881105ab0cf24ec3\n'}]",5,661295,a00daf9f26a214d9abcf62d1ee3abf74586590c7,15,5,3,29911,,,0,"Group instance methods together in nova_helper

Some of the methods for retrieving data about instances was placed
at the bottom of nova_helper instead of being close to the other
instance based methods.

Change-Id: I68475883529610e514aa82f1881105ab0cf24ec3
",git fetch https://review.opendev.org/openstack/watcher refs/changes/95/661295/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher/common/nova_helper.py'],1,dc32633111821148e3f7bdb7917ac9705afbbbcc,nova-helper-compute-uuid," def get_compute_node_by_uuid(self, node_uuid): """"""Get compute node by UUID"""""" return self.nova.hypervisors.get(node_uuid) def get_instance_by_uuid(self, instance_uuid): return [instance for instance in self.nova.servers.list(search_opts={""all_tenants"": True, ""uuid"": instance_uuid})] def get_instance_by_name(self, instance_name): return [instance for instance in self.nova.servers.list(search_opts={""all_tenants"": True, ""name"": instance_name})] def get_instances_by_node(self, host): return [instance for instance in self.nova.servers.list(search_opts={""all_tenants"": True, ""host"": host}, limit=-1)] "," def get_instance_by_uuid(self, instance_uuid): return [instance for instance in self.nova.servers.list(search_opts={""all_tenants"": True, ""uuid"": instance_uuid})] def get_instance_by_name(self, instance_name): return [instance for instance in self.nova.servers.list(search_opts={""all_tenants"": True, ""name"": instance_name})] def get_instances_by_node(self, host): return [instance for instance in self.nova.servers.list(search_opts={""all_tenants"": True, ""host"": host}, limit=-1)] ",20,16
openstack%2Fwatcher~master~I512976cce2401dbcd249d42686b78843e111a0e7,openstack/watcher,master,I512976cce2401dbcd249d42686b78843e111a0e7,Improve exceptions and logging in ds manager,MERGED,2019-05-09 15:00:34.000000000,2019-05-31 02:57:33.000000000,2019-05-31 02:57:32.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-05-09 15:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/5c129018cbef418f536c99b274a751b50bb1e339', 'message': 'Add metric name info to NoSuchMetric exception\n\nChange-Id: I512976cce2401dbcd249d42686b78843e111a0e7\n'}, {'number': 2, 'created': '2019-05-09 15:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4c9d19d67b261527e64e948b10cdc6ffe6e70239', 'message': 'Add metric name info to NoSuchMetric exception\n\nChange-Id: I512976cce2401dbcd249d42686b78843e111a0e7\n'}, {'number': 3, 'created': '2019-05-09 17:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ea101bb1521eb17f45394e046d8b268799ee3600', 'message': 'Improve exceptions and logging in ds manager\n\nMetricNotAvailable and NoDatasourceAvailable allow to differentiate\nbetween having no datasources configured and a required metric being\nunavailable from the datasource. Both exceptions have comments so\nthat the use case is clear.\n\nAdditional logging information allows to identify which metric caused\nthe available datasource to be discarded.\n\nTests are updated to validate the correct functionality of the new\nexceptions.\n\nChange-Id: I512976cce2401dbcd249d42686b78843e111a0e7\n'}, {'number': 4, 'created': '2019-05-10 06:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/488febf89fe3fece3f57375936fcf080eb89138a', 'message': 'Improve exceptions and logging in ds manager\n\nMetricNotAvailable and NoDatasourceAvailable allow to differentiate\nbetween having no datasources configured and a required metric being\nunavailable from the datasource. Both exceptions have comments so\nthat the use case is clear.\n\nAdditional logging information allows to identify which metric caused\nthe available datasource to be discarded.\n\nTests are updated to validate the correct functionality of the new\nexceptions.\n\nChange-Id: I512976cce2401dbcd249d42686b78843e111a0e7\n'}, {'number': 5, 'created': '2019-05-10 06:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/368cbeeee106d60fd2526deedd8bf181bc6d5549', 'message': 'Improve exceptions and logging in ds manager\n\nMetricNotAvailable and NoDatasourceAvailable allow to differentiate\nbetween having no datasources configured and a required metric being\nunavailable from the datasource. Both exceptions have comments so\nthat the use case is clear.\n\nAdditional logging information allows to identify which metric caused\nthe available datasource to be discarded.\n\nTests are updated to validate the correct functionality of the new\nexceptions.\n\nChange-Id: I512976cce2401dbcd249d42686b78843e111a0e7\n'}, {'number': 6, 'created': '2019-05-13 11:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d2825e3e3069dbc9c3fbacfefc2d6e0f57b4bb92', 'message': 'Improve exceptions and logging in ds manager\n\nMetricNotAvailable and NoDatasourceAvailable allow to differentiate\nbetween having no datasources configured and a required metric being\nunavailable from the datasource. Both exceptions have comments so\nthat the use case is clear.\n\nAdditional logging information allows to identify which metric caused\nthe available datasource to be discarded.\n\nTests are updated to validate the correct functionality of the new\nexceptions.\n\nChange-Id: I512976cce2401dbcd249d42686b78843e111a0e7\n'}, {'number': 7, 'created': '2019-05-17 06:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/9ba64d9fd27fd03eef6a63e50088f8e4961f0f77', 'message': 'Improve exceptions and logging in ds manager\n\nMetricNotAvailable and NoDatasourceAvailable allow to differentiate\nbetween having no datasources configured and a required metric being\nunavailable from the datasource. Both exceptions have comments so\nthat the use case is clear.\n\nThe input validation of the get_backend method in the datasource\nmanager is improved.\n\nAdditional logging information allows to identify which metric caused\nthe available datasource to be discarded.\n\nTests are updated to validate the correct functionality of the new\nexceptions.\n\nChange-Id: I512976cce2401dbcd249d42686b78843e111a0e7\n'}, {'number': 8, 'created': '2019-05-21 14:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/6170383c312d685dc9714bdc47b945d1dd648456', 'message': 'Improve exceptions and logging in ds manager\n\nMetricNotAvailable and NoDatasourceAvailable allow to differentiate\nbetween having no datasources configured and a required metric being\nunavailable from the datasource. Both exceptions have comments so\nthat the use case is clear.\n\nThe input validation of the get_backend method in the datasource\nmanager is improved.\n\nAdditional logging information allows to identify which metric caused\nthe available datasource to be discarded.\n\nTests are updated to validate the correct functionality of the new\nexceptions.\n\nChange-Id: I512976cce2401dbcd249d42686b78843e111a0e7\n'}, {'number': 9, 'created': '2019-05-21 18:11:28.000000000', 'files': ['watcher/tests/datasources/test_manager.py', 'watcher/datasources/manager.py', 'watcher/common/exception.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/e76c20d1c57b571ca19f9863057ff91e09aa4301', 'message': 'Improve exceptions and logging in ds manager\n\nMetricNotAvailable and NoDatasourceAvailable allow to differentiate\nbetween having no datasources configured and a required metric being\nunavailable from the datasource. Both exceptions have comments so\nthat the use case is clear.\n\nThe input validation of the get_backend method in the datasource\nmanager is improved.\n\nAdditional logging information allows to identify which metric caused\nthe available datasource to be discarded.\n\nTests are updated to validate the correct functionality of the new\nexceptions.\n\nChange-Id: I512976cce2401dbcd249d42686b78843e111a0e7\n'}]",11,658127,e76c20d1c57b571ca19f9863057ff91e09aa4301,33,5,9,29911,,,0,"Improve exceptions and logging in ds manager

MetricNotAvailable and NoDatasourceAvailable allow to differentiate
between having no datasources configured and a required metric being
unavailable from the datasource. Both exceptions have comments so
that the use case is clear.

The input validation of the get_backend method in the datasource
manager is improved.

Additional logging information allows to identify which metric caused
the available datasource to be discarded.

Tests are updated to validate the correct functionality of the new
exceptions.

Change-Id: I512976cce2401dbcd249d42686b78843e111a0e7
",git fetch https://review.opendev.org/openstack/watcher refs/changes/27/658127/6 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/datasource/manager.py', 'watcher/common/exception.py']",2,5c129018cbef418f536c99b274a751b50bb1e339,no-such-metric-info,"class NoSuchMetric(WatcherException): """"""Indicate that the specified metric is not configured / exists"""""" msg_fmt = _('No such metric: %(metric)') ",class NoSuchMetric(WatcherException): msg_fmt = _('No such metric') ,6,5
openstack%2Floci~master~I693363f2895603ad70f65ade74b1bc1352631585,openstack/loci,master,I693363f2895603ad70f65ade74b1bc1352631585,Add qemu profile for Glance into the bindep,MERGED,2019-04-30 08:29:23.000000000,2019-05-31 02:52:49.000000000,2019-05-31 02:52:49.000000000,"[{'_account_id': 7822}, {'_account_id': 14119}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27679}]","[{'number': 1, 'created': '2019-04-30 08:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/a30f021803b285e0641799116572fff0c16dbf87', 'message': 'Add qemu profile for Glance into the bindep\n\nGlance uses qemu-img for the base_import, convert and introspect flows\n\nChange-Id: I693363f2895603ad70f65ade74b1bc1352631585\n'}, {'number': 2, 'created': '2019-05-30 06:44:01.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/2a2ddb832ef41fd921b1f6d5100559e1914fd031', 'message': 'Add qemu profile for Glance into the bindep\n\nGlance uses qemu-img for the base_import, convert and introspect flows\n\nChange-Id: I693363f2895603ad70f65ade74b1bc1352631585\n'}]",0,656465,2a2ddb832ef41fd921b1f6d5100559e1914fd031,14,5,2,9373,,,0,"Add qemu profile for Glance into the bindep

Glance uses qemu-img for the base_import, convert and introspect flows

Change-Id: I693363f2895603ad70f65ade74b1bc1352631585
",git fetch https://review.opendev.org/openstack/loci refs/changes/65/656465/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a30f021803b285e0641799116572fff0c16dbf87,glance_qemu_utils,qemu-img [platform:rpm !platform:suse (nova qemu) (ironic qemu) (cinder qemu) (glance qemu)] qemu-tools [platform:suse (nova qemu) (ironic qemu) (cinder qemu) (glance qemu)] qemu-utils [platform:dpkg (nova qemu) (ironic qemu) (cinder qemu) (glance qemu)],qemu-img [platform:rpm !platform:suse (nova qemu) (ironic qemu) (cinder qemu)] qemu-tools [platform:suse (nova qemu) (ironic qemu) (cinder qemu)] qemu-utils [platform:dpkg (nova qemu) (ironic qemu) (cinder qemu)],3,3
openstack%2Fopenstack-ansible-rsyslog_server~master~Ia5bbecf06019a5d72c038c30155685260ece7a51,openstack/openstack-ansible-rsyslog_server,master,Ia5bbecf06019a5d72c038c30155685260ece7a51,Cap sphinx for py2 to match global requirements,MERGED,2019-05-20 07:14:32.000000000,2019-05-31 02:39:15.000000000,2019-05-31 02:39:15.000000000,"[{'_account_id': 6593}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-20 07:14:32.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/c0a19aca4c835d53f09dece5d5daabfce0612e7e', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Ia5bbecf06019a5d72c038c30155685260ece7a51\n'}]",0,660035,c0a19aca4c835d53f09dece5d5daabfce0612e7e,9,5,1,30092,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Ia5bbecf06019a5d72c038c30155685260ece7a51
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/35/660035/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,c0a19aca4c835d53f09dece5d5daabfce0612e7e,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_ceilometer~master~I2daf24927787b0d0e148b3402da3003172298b32,openstack/openstack-ansible-os_ceilometer,master,I2daf24927787b0d0e148b3402da3003172298b32,Cap sphinx for py2 to match global requirements,MERGED,2019-05-20 07:56:36.000000000,2019-05-31 02:39:13.000000000,2019-05-31 02:39:13.000000000,"[{'_account_id': 6593}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-20 07:56:36.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/3a492a01d658b82d0199d6be51afe4fe1762c08d', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I2daf24927787b0d0e148b3402da3003172298b32\n'}]",0,660040,3a492a01d658b82d0199d6be51afe4fe1762c08d,9,5,1,30092,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I2daf24927787b0d0e148b3402da3003172298b32
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/40/660040/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,3a492a01d658b82d0199d6be51afe4fe1762c08d,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_gnocchi~master~I67707b6a971f9834700a1d1a3c19a58db53e1479,openstack/openstack-ansible-os_gnocchi,master,I67707b6a971f9834700a1d1a3c19a58db53e1479,Cap sphinx for py2 to match global requirements,MERGED,2019-05-20 07:54:22.000000000,2019-05-31 02:39:05.000000000,2019-05-31 02:39:05.000000000,"[{'_account_id': 6593}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-20 07:54:22.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/61ab51b0a96547632668d33086131c46e9a4b421', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I67707b6a971f9834700a1d1a3c19a58db53e1479\n'}]",0,660039,61ab51b0a96547632668d33086131c46e9a4b421,9,5,1,30092,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I67707b6a971f9834700a1d1a3c19a58db53e1479
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/39/660039/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,61ab51b0a96547632668d33086131c46e9a4b421,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_tacker~master~I9f6086e529dd6ca3f04a211bbf592a1e9a4fc5f1,openstack/openstack-ansible-os_tacker,master,I9f6086e529dd6ca3f04a211bbf592a1e9a4fc5f1,Cap sphinx for py2 to match global requirements,MERGED,2019-05-20 07:09:15.000000000,2019-05-31 02:38:53.000000000,2019-05-31 02:38:53.000000000,"[{'_account_id': 6593}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-20 07:09:15.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/9d1a4d704aaef8cf7efa580b57acd5f67922dd93', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I9f6086e529dd6ca3f04a211bbf592a1e9a4fc5f1\n'}]",0,660034,9d1a4d704aaef8cf7efa580b57acd5f67922dd93,9,5,1,30092,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I9f6086e529dd6ca3f04a211bbf592a1e9a4fc5f1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/34/660034/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,9d1a4d704aaef8cf7efa580b57acd5f67922dd93,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_heat~master~I533dec0f80950fe610fcb0aa31fb48191f20a6f0,openstack/openstack-ansible-os_heat,master,I533dec0f80950fe610fcb0aa31fb48191f20a6f0,Cap sphinx for py2 to match global requirements,MERGED,2019-05-20 07:19:31.000000000,2019-05-31 02:35:50.000000000,2019-05-31 02:35:50.000000000,"[{'_account_id': 6593}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-20 07:19:31.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/7a0e4cd5046950d71c866f27ab4a1bf449a9f423', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I533dec0f80950fe610fcb0aa31fb48191f20a6f0\n'}]",0,660037,7a0e4cd5046950d71c866f27ab4a1bf449a9f423,9,5,1,30092,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I533dec0f80950fe610fcb0aa31fb48191f20a6f0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/37/660037/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,7a0e4cd5046950d71c866f27ab4a1bf449a9f423,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-plugins~master~I88ab91b85c342df243081375c25b33864b036e43,openstack/openstack-ansible-plugins,master,I88ab91b85c342df243081375c25b33864b036e43,Cap sphinx for py2 to match global requirements,MERGED,2019-05-20 06:57:01.000000000,2019-05-31 02:35:44.000000000,2019-05-31 02:35:44.000000000,"[{'_account_id': 6593}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-20 06:57:01.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/6c0fe4ae88a5208aa83b40ac19bd4c212fa8db39', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I88ab91b85c342df243081375c25b33864b036e43\n'}]",0,660033,6c0fe4ae88a5208aa83b40ac19bd4c212fa8db39,9,5,1,30092,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I88ab91b85c342df243081375c25b33864b036e43
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/33/660033/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6c0fe4ae88a5208aa83b40ac19bd4c212fa8db39,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_manila~master~I8f6fc94f091917e78fa780f12a7873e919637ce7,openstack/openstack-ansible-os_manila,master,I8f6fc94f091917e78fa780f12a7873e919637ce7,Update the tests source,MERGED,2019-05-06 01:28:03.000000000,2019-05-31 02:34:04.000000000,2019-05-31 02:34:03.000000000,"[{'_account_id': 12898}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-06 01:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/89395602e25358d48e2d51e50d31d32781306b2b', 'message': 'Update the tests source\n\nChange-Id: I8f6fc94f091917e78fa780f12a7873e919637ce7\n'}, {'number': 2, 'created': '2019-05-21 08:51:10.000000000', 'files': ['tests/ansible-role-requirements.yml', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/24dcb23bc4bf82944d634ab640ac0e042599363a', 'message': 'Update the tests source\n\nChange-Id: I8f6fc94f091917e78fa780f12a7873e919637ce7\n'}]",1,657296,24dcb23bc4bf82944d634ab640ac0e042599363a,10,4,2,28613,,,0,"Update the tests source

Change-Id: I8f6fc94f091917e78fa780f12a7873e919637ce7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/96/657296/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ansible-role-requirements.yml', 'README.rst', 'tox.ini']",3,89395602e25358d48e2d51e50d31d32781306b2b,openstack-ansible-os_manila, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},21,21
openstack%2Ftripleo-common~stable%2Fqueens~I6e0c5f38faddd3eadf14b10f0cf9e7631b1f11a8,openstack/tripleo-common,stable/queens,I6e0c5f38faddd3eadf14b10f0cf9e7631b1f11a8,Add XClarity in the list of supported hw types,MERGED,2019-05-10 01:39:33.000000000,2019-05-31 02:32:29.000000000,2019-05-31 02:32:29.000000000,"[{'_account_id': 7144}, {'_account_id': 10068}, {'_account_id': 11878}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-10 01:39:33.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8014dec6b9bb4778294a72907d2343426e003fe8', 'message': 'Add XClarity in the list of supported hw types\n\nThis patch proposes to add XClarity in the list of supported\nhardware types by tripleo-common.\n\nChange-Id: I6e0c5f38faddd3eadf14b10f0cf9e7631b1f11a8\n(cherry picked from commit a70bf70153fca0a9ab1773a401fb9387fa2df8a2)\n'}]",1,658235,8014dec6b9bb4778294a72907d2343426e003fe8,9,6,1,28185,,,0,"Add XClarity in the list of supported hw types

This patch proposes to add XClarity in the list of supported
hardware types by tripleo-common.

Change-Id: I6e0c5f38faddd3eadf14b10f0cf9e7631b1f11a8
(cherry picked from commit a70bf70153fca0a9ab1773a401fb9387fa2df8a2)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/35/658235/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py']",2,8014dec6b9bb4778294a72907d2343426e003fe8,," 'xclarity': PrefixedDriverInfo('xclarity', has_port=True),",,23,0
openstack%2Fneutron-lbaas~master~I142dbfb5b423db87cf484e730233b8552127d458,openstack/neutron-lbaas,master,I142dbfb5b423db87cf484e730233b8552127d458,touch a test.sh for myself,NEW,2019-05-31 02:17:45.000000000,2019-05-31 02:22:02.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 30529}]","[{'number': 1, 'created': '2019-05-31 02:17:45.000000000', 'files': ['test.sh'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/b89d6e15fb46a17e486c1eb6f7485364691e1bc4', 'message': 'touch a test.sh for myself\n\nChange-Id: I142dbfb5b423db87cf484e730233b8552127d458\n'}]",0,662372,b89d6e15fb46a17e486c1eb6f7485364691e1bc4,4,3,1,30529,,,0,"touch a test.sh for myself

Change-Id: I142dbfb5b423db87cf484e730233b8552127d458
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/72/662372/1 && git format-patch -1 --stdout FETCH_HEAD,['test.sh'],1,b89d6e15fb46a17e486c1eb6f7485364691e1bc4,,"#!/bin/bash echo ""hello world"" ",,3,0
openstack%2Fpuppet-tripleo~stable%2Fqueens~I39e6bbe4432025a05e6dcc3f6b263073dd8624c5,openstack/puppet-tripleo,stable/queens,I39e6bbe4432025a05e6dcc3f6b263073dd8624c5,Add nova::cinder to nova compute,MERGED,2019-05-23 06:40:18.000000000,2019-05-31 02:15:31.000000000,2019-05-31 02:15:31.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-05-23 06:40:18.000000000', 'files': ['manifests/profile/base/nova/compute.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2e7ef9d307e8a5d5a31768361ef9b4fd52ab1e8e', 'message': 'Add nova::cinder to nova compute\n\nChange https://review.opendev.org/#/c/657918/ added\ncinder credentials to nova.conf in cinder group.\n\nIncluding the required manifest in nova compute\nprofile.\n\nRelated-Bug: #1734025\nDepends-On: https://review.opendev.org/#/c/660894\nDepends-On: https://review.opendev.org/#/c/660895\nChange-Id: I39e6bbe4432025a05e6dcc3f6b263073dd8624c5\n(cherry picked from commit 578da586e0792cae4750642ba37b9d2399b3e225)\n(cherry picked from commit 9806d0332552d304400825cb07dc0f4e9650f1d5)\n'}]",0,660897,2e7ef9d307e8a5d5a31768361ef9b4fd52ab1e8e,15,9,1,20733,,,0,"Add nova::cinder to nova compute

Change https://review.opendev.org/#/c/657918/ added
cinder credentials to nova.conf in cinder group.

Including the required manifest in nova compute
profile.

Related-Bug: #1734025
Depends-On: https://review.opendev.org/#/c/660894
Depends-On: https://review.opendev.org/#/c/660895
Change-Id: I39e6bbe4432025a05e6dcc3f6b263073dd8624c5
(cherry picked from commit 578da586e0792cae4750642ba37b9d2399b3e225)
(cherry picked from commit 9806d0332552d304400825cb07dc0f4e9650f1d5)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/97/660897/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/compute.pp'],1,2e7ef9d307e8a5d5a31768361ef9b4fd52ab1e8e,bug/1734025-stable/queens, include ::nova::cinder,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If0f9e442e5ed3b2d94bc51e65c145519c51cbc86,openstack/tripleo-heat-templates,stable/queens,If0f9e442e5ed3b2d94bc51e65c145519c51cbc86,Add cinder credentials to nova conf,MERGED,2019-05-23 06:39:27.000000000,2019-05-31 02:15:30.000000000,2019-05-31 02:15:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-05-23 06:39:27.000000000', 'files': ['puppet/services/cinder-api.yaml', 'puppet/services/nova-compute.yaml', 'puppet/services/cinder-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4bde3dc4da075a72d9a17950a60ace6d95855de5', 'message': 'Add cinder credentials to nova conf\n\nAdded user/project CONF with admin role at cinder group,\nand when determine context is_admin and without token, do\nauthenticaion with user/project info to call cinder api.\n\nWhen set reclaim_instance_interval > 0, and then delete an\ninstance which booted from volume with `delete_on_termination`\nset as true. After reclaim_instance_interval time pass,\nall volumes boot instance with state: attached and in-use,\neven when attached instances was deleted.\n\nThis happens because as admin context from\n`nova.compute.manager._reclaim_queued_deletes` did not have\nany token info, then call cinder api would be failed.\n\nThe corresponding nova changes merged in change\nhttps://review.opendev.org/#/c/522112/\n\nAlso rephrased CinderPassword parameter description in\ncinder service templates to make it generic.\n\nConflicts:\n      deployment/nova/nova-compute-container-puppet.yaml\n      docker/services/cinder-api.yaml\n\nDepends-On: https://review.opendev.org/#/c/660894\nRelated-Bug: #1734025\nChange-Id: If0f9e442e5ed3b2d94bc51e65c145519c51cbc86\n(cherry picked from commit 8f8b750e4f5767665f6e2fe2ae2b3dca17be2b61)\n(cherry picked from commit 8da661b1c83c9c863877416e228f2c7695924207)\n'}]",0,660895,4bde3dc4da075a72d9a17950a60ace6d95855de5,18,10,1,20733,,,0,"Add cinder credentials to nova conf

Added user/project CONF with admin role at cinder group,
and when determine context is_admin and without token, do
authenticaion with user/project info to call cinder api.

When set reclaim_instance_interval > 0, and then delete an
instance which booted from volume with `delete_on_termination`
set as true. After reclaim_instance_interval time pass,
all volumes boot instance with state: attached and in-use,
even when attached instances was deleted.

This happens because as admin context from
`nova.compute.manager._reclaim_queued_deletes` did not have
any token info, then call cinder api would be failed.

The corresponding nova changes merged in change
https://review.opendev.org/#/c/522112/

Also rephrased CinderPassword parameter description in
cinder service templates to make it generic.

Conflicts:
      deployment/nova/nova-compute-container-puppet.yaml
      docker/services/cinder-api.yaml

Depends-On: https://review.opendev.org/#/c/660894
Related-Bug: #1734025
Change-Id: If0f9e442e5ed3b2d94bc51e65c145519c51cbc86
(cherry picked from commit 8f8b750e4f5767665f6e2fe2ae2b3dca17be2b61)
(cherry picked from commit 8da661b1c83c9c863877416e228f2c7695924207)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/660895/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/cinder-api.yaml', 'puppet/services/nova-compute.yaml', 'puppet/services/cinder-base.yaml']",3,4bde3dc4da075a72d9a17950a60ace6d95855de5,bug/1734025-stable/queens, description: The password for the cinder service and db account.," description: The password for the cinder service account, used by cinder-api.",16,2
openstack%2Fpuppet-tripleo~master~I3de131c022e183cb29aa1c5c9913af736afd0c4d,openstack/puppet-tripleo,master,I3de131c022e183cb29aa1c5c9913af736afd0c4d,Rebuild initramfs after applying change in kernel parameters,MERGED,2019-05-27 04:27:31.000000000,2019-05-31 02:15:28.000000000,2019-05-31 02:15:28.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27679}]","[{'number': 1, 'created': '2019-05-27 04:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f5366d8abfa98108f60e5e5b7573879b4cb43f1b', 'message': 'Rebuild initramfs after applying change in kernel parameters\n\nThis patch makes sure that initramfs is rebuilt after applying\nchange in kernel pamraters, so that we also have these change\napplied in initramfs.\n\nChange-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d\nCloses-Bug: #1830574\n'}, {'number': 2, 'created': '2019-05-28 15:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9d5d182bb62b6b8275f7592628a21504f5fc7d82', 'message': 'Rebuild initramfs after applying change in kernel parameters\n\nThis patch makes sure that initramfs is rebuilt after applying\nchange in kernel pamraters, so that we also have these change\napplied in initramfs.\n\nChange-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d\nCloses-Bug: #1830574\n'}, {'number': 3, 'created': '2019-05-29 07:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dbdea8b47a560de4b7ab92698b562be9a65e1961', 'message': 'Rebuild initramfs after applying change in kernel parameters\n\nThis patch makes sure that initramfs is rebuilt after applying\nchange in kernel pamraters, so that we also have these change\napplied in initramfs.\n\nChange-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d\nCloses-Bug: #1830574\n'}, {'number': 4, 'created': '2019-05-29 07:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f868fe037b4d28cb8086c7aedd238e89927eae97', 'message': 'Rebuild initramfs after applying change in kernel parameters\n\nThis patch makes sure that initramfs is rebuilt after applying\nchange in kernel pamraters, so that we also have these change\napplied in initramfs.\n\nChange-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d\nCloses-Bug: #1830574\n'}, {'number': 5, 'created': '2019-05-29 07:09:38.000000000', 'files': ['manifests/profile/base/kernel.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3ef8e3e35dbb43414becc4f561830bb731643ead', 'message': 'Rebuild initramfs after applying change in kernel parameters\n\nThis patch makes sure that initramfs is rebuilt after applying\nchange in kernel pamraters, so that we also have these change\napplied in initramfs.\n\nChange-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d\nCloses-Bug: #1830574\n'}]",5,661528,3ef8e3e35dbb43414becc4f561830bb731643ead,29,6,5,9816,,,0,"Rebuild initramfs after applying change in kernel parameters

This patch makes sure that initramfs is rebuilt after applying
change in kernel pamraters, so that we also have these change
applied in initramfs.

Change-Id: I3de131c022e183cb29aa1c5c9913af736afd0c4d
Closes-Bug: #1830574
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/28/661528/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/kernel.pp'],1,f5366d8abfa98108f60e5e5b7573879b4cb43f1b,bug/1830574, # Rebuild initramfs to include kernel parameter changes in initramfs Exec <| title == 'dracut -v -f' |> { returns => [0] },,3,0
openstack%2Fopenstack-ansible~stable%2Fqueens~I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,openstack/openstack-ansible,stable/queens,I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,Move hosts file management toggle to all group vars,MERGED,2019-05-30 13:19:49.000000000,2019-05-31 02:05:20.000000000,2019-05-31 02:05:20.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-30 13:19:49.000000000', 'files': ['inventory/group_vars/all/all.yml', 'inventory/group_vars/hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/50e41d14583d73b817ad7afb309444a9221e86a4', 'message': ""Move hosts file management toggle to all group vars\n\nIn Queens, the hosts file management began occurring on all hosts\nand containers because openstack_hosts role now runs on all inventory\nitems (prior to Queens, it only ran on 'hosts'). The flag for managing\nthe /etc/hosts management should now be moved to the 'all' group\nvars.\n\nChange-Id: I0a9e8e86cd1eb40f55d40eb291f49563a433fd82\n(cherry picked from commit c06e6b5885b4edf074c118f1be8362926e5a6e0c)\n""}]",0,662213,50e41d14583d73b817ad7afb309444a9221e86a4,13,4,1,17799,,,0,"Move hosts file management toggle to all group vars

In Queens, the hosts file management began occurring on all hosts
and containers because openstack_hosts role now runs on all inventory
items (prior to Queens, it only ran on 'hosts'). The flag for managing
the /etc/hosts management should now be moved to the 'all' group
vars.

Change-Id: I0a9e8e86cd1eb40f55d40eb291f49563a433fd82
(cherry picked from commit c06e6b5885b4edf074c118f1be8362926e5a6e0c)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/662213/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/all/all.yml', 'inventory/group_vars/hosts.yml']",2,50e41d14583d73b817ad7afb309444a9221e86a4,,,"# Disable /etc/hosts management if unbound DNS resolution containers exist openstack_host_manage_hosts_file: ""{{ groups['unbound'] is not defined or groups['unbound'] | length < 1 }}"" ",3,3
openstack%2Fpuppet-openstack-integration~master~I7673f1f7e972072ae21f7c34050debfbec8a9a13,openstack/puppet-openstack-integration,master,I7673f1f7e972072ae21f7c34050debfbec8a9a13,"Revert ""Pin tempest to good hash when installed from source""",MERGED,2019-03-11 23:03:59.000000000,2019-05-31 01:54:01.000000000,2019-05-31 01:54:01.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-11 23:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/25dbeae4a9ed13d2de600194a1a9b2275697d79d', 'message': 'Revert ""Pin tempest to good hash when installed from source""\n\nThis reverts commit 87edbad6d0c16081dfc62941d80aea1e5fb214ff.\n\nChange-Id: I7673f1f7e972072ae21f7c34050debfbec8a9a13\n'}, {'number': 2, 'created': '2019-03-18 20:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b9b77d991f4e2b67bb6d696f0e5803b4031e33d1', 'message': 'Revert ""Pin tempest to good hash when installed from source""\n\nThis reverts commit 87edbad6d0c16081dfc62941d80aea1e5fb214ff.\n\nChange-Id: I7673f1f7e972072ae21f7c34050debfbec8a9a13\n'}, {'number': 3, 'created': '2019-05-20 19:50:14.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6ef68152d38e7474e514c3eb8bbaa4b553c05faf', 'message': 'Revert ""Pin tempest to good hash when installed from source""\n\nThis reverts commit 87edbad6d0c16081dfc62941d80aea1e5fb214ff.\n\nChange-Id: I7673f1f7e972072ae21f7c34050debfbec8a9a13\n'}]",0,642594,6ef68152d38e7474e514c3eb8bbaa4b553c05faf,33,7,3,14985,,,0,"Revert ""Pin tempest to good hash when installed from source""

This reverts commit 87edbad6d0c16081dfc62941d80aea1e5fb214ff.

Change-Id: I7673f1f7e972072ae21f7c34050debfbec8a9a13
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/94/642594/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,25dbeae4a9ed13d2de600194a1a9b2275697d79d,642492,# export TEMPEST_VERSION=${TEMPEST_VERSION:-'382a2065f3364a36c110bfcc6275a0f8f6894773'} export TEMPEST_VERSION=${TEMPEST_VERSION:-'master'},if uses_debs; then # Pin tempest until https://review.openstack.org/#/c/605851/ is included in ubuntu's keystone package export TEMPEST_VERSION=${TEMPEST_VERSION:-'a7c4c14493d9c20fb89daa5e094d6396a6cbe80d'} else export TEMPEST_VERSION=${TEMPEST_VERSION:-'master'} fi,2,6
openstack%2Ftacker~master~Iefe009e340315639911603469014dfb52e99227a,openstack/tacker,master,Iefe009e340315639911603469014dfb52e99227a,Fix missing print format,MERGED,2019-05-17 02:21:57.000000000,2019-05-31 01:51:02.000000000,2019-05-31 01:51:02.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}]","[{'number': 1, 'created': '2019-05-17 02:21:57.000000000', 'files': ['tacker/vnfm/infra_drivers/openstack/openstack.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/5b0d16d7fdff2dc11c61be0d45072467655ad5fb', 'message': 'Fix missing print format\n\nThis is to add missing print format introduced in If1f7f60c6c98f90fa57ac79d17a813f0dac13322.\n\nChange-Id: Iefe009e340315639911603469014dfb52e99227a\n'}]",0,659700,5b0d16d7fdff2dc11c61be0d45072467655ad5fb,7,3,1,20190,,,0,"Fix missing print format

This is to add missing print format introduced in If1f7f60c6c98f90fa57ac79d17a813f0dac13322.

Change-Id: Iefe009e340315639911603469014dfb52e99227a
",git fetch https://review.opendev.org/openstack/tacker refs/changes/00/659700/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/infra_drivers/openstack/openstack.py'],1,5b0d16d7fdff2dc11c61be0d45072467655ad5fb,print_format," error_reason = _(""action on VNF %(vnf_id)s is not "" ""%(stack_status)s"") % {'vnf_id': vnf_id,"," error_reason = _(""action on VNF %(vnf_id) is not "" ""%(stack_status)"") % {'vnf_id': vnf_id,",2,2
openstack%2Ffreezer-api~master~Iecf72e5d71f71acc975aa9e3d463feb049f6ec3f,openstack/freezer-api,master,Iecf72e5d71f71acc975aa9e3d463feb049f6ec3f,Change tempest job to no-voting,ABANDONED,2019-05-30 09:09:28.000000000,2019-05-31 01:18:16.000000000,,"[{'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-05-30 09:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/41dc1dcb333e08883fd6e828f24e39de426ca374', 'message': 'Change tempest job to no-voting\n\nfalcon2.0 bug blocked tempest job. Temporary modification!\n\nChange-Id: Iecf72e5d71f71acc975aa9e3d463feb049f6ec3f\n'}, {'number': 2, 'created': '2019-05-30 09:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/3dc2da5d690515b858cd7459b4b6c515134309f0', 'message': 'Change tempest job to no-voting\n\nFalcon 2.0 version has some  issues which is  blocked tempest job.\nTemporary modification!\n\nChange-Id: Iecf72e5d71f71acc975aa9e3d463feb049f6ec3f\n'}, {'number': 3, 'created': '2019-05-30 09:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/7003ddd2e172b6611d28e5a5b3767815c8b51da8', 'message': 'Change tempest job to no-voting\n\nFalcon 2.0 version has some  issues which is  blocked tempest job.\nTemporary modification!\n\nChange-Id: Iecf72e5d71f71acc975aa9e3d463feb049f6ec3f\n'}, {'number': 4, 'created': '2019-05-31 00:41:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/017e76adeb815bc94711dcadeddbec81b63b0ee0', 'message': 'Change tempest job to no-voting\n\nFalcon 2.0.0 version has some  issues which is  blocked tempest job.\nTemporary modification!\n\nChange-Id: Iecf72e5d71f71acc975aa9e3d463feb049f6ec3f\n'}]",0,662165,017e76adeb815bc94711dcadeddbec81b63b0ee0,12,3,4,21069,,,0,"Change tempest job to no-voting

Falcon 2.0.0 version has some  issues which is  blocked tempest job.
Temporary modification!

Change-Id: Iecf72e5d71f71acc975aa9e3d463feb049f6ec3f
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/65/662165/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,41dc1dcb333e08883fd6e828f24e39de426ca374,, voting: false voting: false voting: false voting: false voting: false,,5,0
openstack%2Fpuppet-cinder~master~I8f9bad9a6225c687b0dd72eb4904ba5f9bdaaf5f,openstack/puppet-cinder,master,I8f9bad9a6225c687b0dd72eb4904ba5f9bdaaf5f,Consistent project name,MERGED,2019-05-24 23:08:38.000000000,2019-05-31 01:06:39.000000000,2019-05-31 01:06:39.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-24 23:08:38.000000000', 'files': ['releasenotes/notes/consistent-project-name-769987b2337a8434.yaml', 'spec/classes/cinder_nova_spec.rb', 'manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/05cc781e6ed314c89dd7438c4fed306bf6471f2e', 'message': 'Consistent project name\n\nChange-Id: I8f9bad9a6225c687b0dd72eb4904ba5f9bdaaf5f\n'}]",0,661413,05cc781e6ed314c89dd7438c4fed306bf6471f2e,9,5,1,16137,,,0,"Consistent project name

Change-Id: I8f9bad9a6225c687b0dd72eb4904ba5f9bdaaf5f
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/13/661413/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/consistent-project-name-769987b2337a8434.yaml', 'spec/classes/cinder_nova_spec.rb', 'manifests/nova.pp']",3,05cc781e6ed314c89dd7438c4fed306bf6471f2e,consistent-project-name,"# Defaults to 'services' $project_name = 'services',","# Defaults to 'service' $project_name = 'service',",8,3
openstack%2Fnetworking-ovn~master~I587d58ec882c52132ff5b16bc4f990f1100a6bad,openstack/networking-ovn,master,I587d58ec882c52132ff5b16bc4f990f1100a6bad,Add additional tests for networking_ovn.ovsdb.commands,MERGED,2019-05-13 21:24:14.000000000,2019-05-31 01:05:36.000000000,2019-05-31 01:05:36.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-13 21:24:14.000000000', 'files': ['networking_ovn/tests/unit/ovsdb/test_commands.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/72fbf148d41245d5a955e137bc51da1ef3f49c19', 'message': 'Add additional tests for networking_ovn.ovsdb.commands\n\nAdd new tests for some missed classes.  This gets code\ncoverage for the file up to 95%, total coverage to 66%.\n\nChange-Id: I587d58ec882c52132ff5b16bc4f990f1100a6bad\n'}]",0,658924,72fbf148d41245d5a955e137bc51da1ef3f49c19,28,6,1,1131,,,0,"Add additional tests for networking_ovn.ovsdb.commands

Add new tests for some missed classes.  This gets code
coverage for the file up to 95%, total coverage to 66%.

Change-Id: I587d58ec882c52132ff5b16bc4f990f1100a6bad
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/24/658924/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ovsdb/test_commands.py', 'networking_ovn/tests/unit/fakes.py']",2,72fbf148d41245d5a955e137bc51da1ef3f49c19,add-unit," 'setkey': None,",,355,11
openstack%2Fos-net-config~master~I62b278e1c64252cfd9698f2b3d5ba2ab095587cb,openstack/os-net-config,master,I62b278e1c64252cfd9698f2b3d5ba2ab095587cb,Add missing unit-test for IbInterface ethtool opts,MERGED,2019-05-26 12:48:57.000000000,2019-05-31 01:04:47.000000000,2019-05-31 01:04:47.000000000,"[{'_account_id': 3153}, {'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25241}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-05-26 12:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/dc9b93ee75f79a399ad2a14e6516586cfd12c683', 'message': 'Add missing unit-test for IbInterface ethtool opts\n\nThis commit adds missing unit tests for IbInterface\n\nChange-Id: I62b278e1c64252cfd9698f2b3d5ba2ab095587cb\n'}, {'number': 2, 'created': '2019-05-26 13:52:36.000000000', 'files': ['os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/afc7a8fc636c501e934ba17e51cbebe3e3217bdd', 'message': 'Add missing unit-test for IbInterface ethtool opts\n\nThis commit adds missing unit tests for IbInterface\n\nChange-Id: I62b278e1c64252cfd9698f2b3d5ba2ab095587cb\n'}]",0,661481,afc7a8fc636c501e934ba17e51cbebe3e3217bdd,11,7,2,28714,,,0,"Add missing unit-test for IbInterface ethtool opts

This commit adds missing unit tests for IbInterface

Change-Id: I62b278e1c64252cfd9698f2b3d5ba2ab095587cb
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/81/661481/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py']",2,dc9b93ee75f79a399ad2a14e6516586cfd12c683,ethtool_opts," self.assertIsNone(ib_interface.ethtool_opts) def test_from_json_ethtool_opts(self): data = """"""{ ""type"": ""ib_interface"", ""name"": ""ib0"", ""ethtool_opts"": ""speed 1000 duplex full"" }"""""" ib_ifc = objects.object_from_json(json.loads(data)) self.assertEqual(""speed 1000 duplex full"", ib_ifc.ethtool_opts) ",,25,0
openstack%2Fswift~master~I973c2e1bb8969cf6bffece8ce68881c393efbaef,openstack/swift,master,I973c2e1bb8969cf6bffece8ce68881c393efbaef,py3: port symlink middleware,MERGED,2019-04-23 02:18:03.000000000,2019-05-31 00:57:39.000000000,2019-05-31 00:56:18.000000000,"[{'_account_id': 597}, {'_account_id': 4608}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 25314}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-04-23 02:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/44ccd537c5e249538ec1951c2b5dbf0ed20c9058', 'message': 'py3: port symlink middleware\n\nThis patch ports the symlink middleware to py3.\nThe middlewre inself seemsa to be fine and all changes\nare in the symlink unit tests.\n\nChange-Id: I973c2e1bb8969cf6bffece8ce68881c393efbaef\n'}, {'number': 2, 'created': '2019-04-23 05:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/20a080e925ed402ecccb09b9e8d995d4bca2d003', 'message': 'py3: port symlink middleware\n\nThis patch ports the symlink middleware to py3.\nThe middlewre inself seemsa to be fine and all changes\nare in the symlink unit tests.\n\nChange-Id: I973c2e1bb8969cf6bffece8ce68881c393efbaef\n'}, {'number': 3, 'created': '2019-05-20 12:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/af38a489a2b9a514876c5ba1bfbc21f915ddeeb9', 'message': 'py3: port symlink middleware\n\nThis patch ports the symlink middleware to py3.\nThe middlewre inself seemsa to be fine and all changes\nare in the symlink unit tests.\n\nChange-Id: I973c2e1bb8969cf6bffece8ce68881c393efbaef\n'}, {'number': 4, 'created': '2019-05-30 18:56:32.000000000', 'files': ['swift/common/middleware/symlink.py', 'test/unit/common/middleware/test_symlink.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/4f9595f1130f6c45f8e3e08db55dddc31844be93', 'message': 'py3: port symlink middleware\n\nThis patch ports the symlink middleware to py3.\nThe middleware itself seems to be mostly fine and most changes\nare in the symlink unit tests.\n\nChange-Id: I973c2e1bb8969cf6bffece8ce68881c393efbaef\n'}]",12,654671,4f9595f1130f6c45f8e3e08db55dddc31844be93,23,7,4,7233,,,0,"py3: port symlink middleware

This patch ports the symlink middleware to py3.
The middleware itself seems to be mostly fine and most changes
are in the symlink unit tests.

Change-Id: I973c2e1bb8969cf6bffece8ce68881c393efbaef
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/654671/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_symlink.py', 'tox.ini']",2,44ccd537c5e249538ec1951c2b5dbf0ed20c9058,py3_symlink, test/unit/common/middleware/test_symlink.py \,,51,50
openstack%2Fpuppet-openstack-integration~master~I4e8daf0c7ca0ed0658ce6773ad679a27f70fc53c,openstack/puppet-openstack-integration,master,I4e8daf0c7ca0ed0658ce6773ad679a27f70fc53c,Updated from Puppet OpenStack modules constraints,MERGED,2019-05-29 06:17:10.000000000,2019-05-31 00:56:38.000000000,2019-05-31 00:56:38.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-29 06:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b8ad12694da281a1501069c4729ab27c7cb88dba', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I4e8daf0c7ca0ed0658ce6773ad679a27f70fc53c\n'}, {'number': 2, 'created': '2019-05-30 06:13:46.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d7e95872a92695e69e52fefb4162a3dca702af18', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I4e8daf0c7ca0ed0658ce6773ad679a27f70fc53c\n'}]",0,661892,d7e95872a92695e69e52fefb4162a3dca702af18,11,4,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I4e8daf0c7ca0ed0658ce6773ad679a27f70fc53c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/92/661892/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,b8ad12694da281a1501069c4729ab27c7cb88dba,openstack/puppet/constraints, :ref => '3.2.0', :ref => '3.1.0',1,1
openstack%2Fneutron~stable%2Frocky~I65a42aa2129bef696906a18d82575461dc02ba21,openstack/neutron,stable/rocky,I65a42aa2129bef696906a18d82575461dc02ba21,Only store segmenthostmapping when enable segment plugin,MERGED,2019-05-29 22:17:48.000000000,2019-05-31 00:56:26.000000000,2019-05-31 00:56:26.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9373}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27256}]","[{'number': 1, 'created': '2019-05-29 22:17:48.000000000', 'files': ['neutron/services/segments/db.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f8c446d5f3042660e4a3f3f6f765a5d2cf6a864', 'message': ""Only store segmenthostmapping when enable segment plugin\n\nThis patch adds a check to determine if the 'segments' service plugin is\nenabled. The segment-host mapping db table should only be saved and\nupdated to the db table if the users configure the 'segments' service\nplugin in the config file. The data should be available only in a routed\nnetwork resource situation.\n\nChange-Id: I65a42aa2129bef696906a18d82575461dc02ba21\nCloses-Bug: #1799328\n(cherry picked from commit 06ba6a1aceb8dd2c6df3b243bddb15ef8a8af27d)\n""}]",0,662104,7f8c446d5f3042660e4a3f3f6f765a5d2cf6a864,12,7,1,9373,,,0,"Only store segmenthostmapping when enable segment plugin

This patch adds a check to determine if the 'segments' service plugin is
enabled. The segment-host mapping db table should only be saved and
updated to the db table if the users configure the 'segments' service
plugin in the config file. The data should be available only in a routed
network resource situation.

Change-Id: I65a42aa2129bef696906a18d82575461dc02ba21
Closes-Bug: #1799328
(cherry picked from commit 06ba6a1aceb8dd2c6df3b243bddb15ef8a8af27d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/662104/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/db.py', 'neutron/tests/unit/extensions/test_segment.py']",2,7f8c446d5f3042660e4a3f3f6f765a5d2cf6a864,bug/1799328," cfg.CONF.set_override('service_plugins', [SERVICE_PLUGIN_KLASS]) class TestSegmentHostMappingNoStore( test_db_base_plugin_v2.NeutronDbPluginV2TestCase): def setUp(self): driver_type.register_ml2_drivers_vlan_opts() cfg.CONF.set_override('network_vlan_ranges', ['phys_net1'], group='ml2_type_vlan') cfg.CONF.set_override('service_plugins', []) super(TestSegmentHostMappingNoStore, self).setUp( plugin='neutron.plugins.ml2.plugin.Ml2Plugin') # set to None for simulating server start db._USER_CONFIGURED_SEGMENT_PLUGIN = None db.subscribe() @mock.patch('neutron.services.segments.db.update_segment_host_mapping') @mock.patch('neutron.services.segments.db.map_segment_to_hosts') def test_no_segmenthostmapping_when_disable_segment( self, mock_map_segment_to_hosts, mock_update_segment_mapping): with self.network( arg_list=('provider:network_type', 'provider:physical_network', 'provider:segmentation_id'), **{'provider:network_type': 'vlan', 'provider:physical_network': 'phys_net1', 'provider:segmentation_id': '400'}) as network: network['network'] mock_map_segment_to_hosts.assert_not_called() host1 = 'test_host' physical_network = 'phys_net1' helpers.register_ovs_agent( host=host1, bridge_mappings={physical_network: 'br-eth-1'}, plugin=self.plugin) mock_update_segment_mapping.assert_not_called()",,63,2
openstack%2Fneutron~stable%2Fqueens~I65a42aa2129bef696906a18d82575461dc02ba21,openstack/neutron,stable/queens,I65a42aa2129bef696906a18d82575461dc02ba21,Only store segmenthostmapping when enable segment plugin,MERGED,2019-05-30 14:57:26.000000000,2019-05-31 00:56:22.000000000,2019-05-31 00:56:21.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27256}]","[{'number': 1, 'created': '2019-05-30 14:57:26.000000000', 'files': ['neutron/services/segments/db.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/90dfa1938da30bfa9b89f448472e6a4fab145718', 'message': ""Only store segmenthostmapping when enable segment plugin\n\nThis patch adds a check to determine if the 'segments' service plugin is\nenabled. The segment-host mapping db table should only be saved and\nupdated to the db table if the users configure the 'segments' service\nplugin in the config file. The data should be available only in a routed\nnetwork resource situation.\n\nConflicts:\n\tneutron/tests/unit/extensions/test_segment.py\n\nNOTE(s10): conflict is due to If6792d121e7b8e1ab4c7a548982a42e69023da2b\nnot being in Queens\n\nChange-Id: I65a42aa2129bef696906a18d82575461dc02ba21\nCloses-Bug: #1799328\n(cherry picked from commit 06ba6a1aceb8dd2c6df3b243bddb15ef8a8af27d)\n(cherry picked from commit 7f8c446d5f3042660e4a3f3f6f765a5d2cf6a864)\n""}]",0,662240,90dfa1938da30bfa9b89f448472e6a4fab145718,9,6,1,9373,,,0,"Only store segmenthostmapping when enable segment plugin

This patch adds a check to determine if the 'segments' service plugin is
enabled. The segment-host mapping db table should only be saved and
updated to the db table if the users configure the 'segments' service
plugin in the config file. The data should be available only in a routed
network resource situation.

Conflicts:
	neutron/tests/unit/extensions/test_segment.py

NOTE(s10): conflict is due to If6792d121e7b8e1ab4c7a548982a42e69023da2b
not being in Queens

Change-Id: I65a42aa2129bef696906a18d82575461dc02ba21
Closes-Bug: #1799328
(cherry picked from commit 06ba6a1aceb8dd2c6df3b243bddb15ef8a8af27d)
(cherry picked from commit 7f8c446d5f3042660e4a3f3f6f765a5d2cf6a864)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/662240/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/db.py', 'neutron/tests/unit/extensions/test_segment.py']",2,90dfa1938da30bfa9b89f448472e6a4fab145718,bug/1799328," cfg.CONF.set_override('service_plugins', [SERVICE_PLUGIN_KLASS]) class TestSegmentHostMappingNoStore( test_db_base_plugin_v2.NeutronDbPluginV2TestCase): def setUp(self): driver_type.register_ml2_drivers_vlan_opts() cfg.CONF.set_override('network_vlan_ranges', ['phys_net1'], group='ml2_type_vlan') cfg.CONF.set_override('service_plugins', []) super(TestSegmentHostMappingNoStore, self).setUp( plugin='neutron.plugins.ml2.plugin.Ml2Plugin') # set to None for simulating server start db._USER_CONFIGURED_SEGMENT_PLUGIN = None db.subscribe() @mock.patch('neutron.services.segments.db.update_segment_host_mapping') @mock.patch('neutron.services.segments.db.map_segment_to_hosts') def test_no_segmenthostmapping_when_disable_segment( self, mock_map_segment_to_hosts, mock_update_segment_mapping): with self.network( arg_list=('provider:network_type', 'provider:physical_network', 'provider:segmentation_id'), **{'provider:network_type': 'vlan', 'provider:physical_network': 'phys_net1', 'provider:segmentation_id': '400'}) as network: network['network'] mock_map_segment_to_hosts.assert_not_called() host1 = 'test_host' physical_network = 'phys_net1' helpers.register_ovs_agent( host=host1, bridge_mappings={physical_network: 'br-eth-1'}, plugin=self.plugin) mock_update_segment_mapping.assert_not_called()",,63,2
openstack%2Fdevstack~stable%2Fstein~I3a8efbc8eb6e311db9c7347577c5d2047ba523a9,openstack/devstack,stable/stein,I3a8efbc8eb6e311db9c7347577c5d2047ba523a9,Fixed support python 2 on Fedora 27,MERGED,2019-03-30 02:20:12.000000000,2019-05-31 00:56:20.000000000,2019-05-31 00:56:19.000000000,"[{'_account_id': 1653}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-30 02:20:12.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3cbd51c116e5628ff8868fc137d12dfeb4810708', 'message': 'Fixed support python 2 on Fedora 27\n\nI7d16194d6ba1391ca31251d5b50cbb8de033fc38 added wrong behavour\non Fedora > 26 and Centos 7 when python3 disabled\npip should install packages in /usr/bin\n\nCloses-Bug: #1820070\nChange-Id: I3a8efbc8eb6e311db9c7347577c5d2047ba523a9\n(cherry picked from commit a30dd1cc96a75d565ae924e4698c4208150e5564)\n'}]",0,648808,3cbd51c116e5628ff8868fc137d12dfeb4810708,18,6,1,8556,,,0,"Fixed support python 2 on Fedora 27

I7d16194d6ba1391ca31251d5b50cbb8de033fc38 added wrong behavour
on Fedora > 26 and Centos 7 when python3 disabled
pip should install packages in /usr/bin

Closes-Bug: #1820070
Change-Id: I3a8efbc8eb6e311db9c7347577c5d2047ba523a9
(cherry picked from commit a30dd1cc96a75d565ae924e4698c4208150e5564)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/648808/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,3cbd51c116e5628ff8868fc137d12dfeb4810708,bug/1820070-stable/stein, local PYTHON_PATH=/usr/local/bin ( is_fedora && ! python3_enabled ) || is_suse && PYTHON_PATH=/usr/bin echo $PYTHON_PATH," if python3_enabled && [[ ""$os_VENDOR"" == ""CentOS"" ]] || \ [[ ""$os_VENDOR"" == ""Fedora"" && $os_RELEASE -gt 26 ]]; then # Default Python 3 install prefix changed to /usr/local in Fedora 27: # https://fedoraproject.org/wiki/Changes/Making_sudo_pip_safe echo ""/usr/local/bin"" elif is_fedora || is_suse; then echo ""/usr/bin"" else echo ""/usr/local/bin"" fi",3,10
openstack%2Fpuppet-octavia~stable%2Fqueens~Id6c0d156715147c6559dc39098a6eaabf77ac426,openstack/puppet-octavia,stable/queens,Id6c0d156715147c6559dc39098a6eaabf77ac426,Configure server_certs_key_passphrase for Octavia,MERGED,2019-05-29 12:00:21.000000000,2019-05-31 00:16:06.000000000,2019-05-31 00:16:06.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 12:00:21.000000000', 'files': ['manifests/certificates.pp', 'releasenotes/notes/generate-server_certs_key_passphrase-45d716a67b0e83b3.yaml', 'spec/classes/octavia_certificates_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/bdcd8132a1ef4e10b4c21832ca95fe890ea6badd', 'message': 'Configure server_certs_key_passphrase for Octavia\n\nA recent change[1] to Octavia added a parameter named\nserver_certs_key_passphrase, which means that TripleO should\ngenerate a password for it to avoid using the default value.\n\nCloses-Bug: #1821751\n\n[1] I06d329ca53bc36bd27f7870ae7c7ca0cf18575b2\n\nChange-Id: Id6c0d156715147c6559dc39098a6eaabf77ac426\n(cherry picked from commit e8ae4607b43b2b5f686f7337540837cc024c0b71)\n'}]",0,661952,bdcd8132a1ef4e10b4c21832ca95fe890ea6badd,7,3,1,6579,,,0,"Configure server_certs_key_passphrase for Octavia

A recent change[1] to Octavia added a parameter named
server_certs_key_passphrase, which means that TripleO should
generate a password for it to avoid using the default value.

Closes-Bug: #1821751

[1] I06d329ca53bc36bd27f7870ae7c7ca0cf18575b2

Change-Id: Id6c0d156715147c6559dc39098a6eaabf77ac426
(cherry picked from commit e8ae4607b43b2b5f686f7337540837cc024c0b71)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/52/661952/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certificates.pp', 'releasenotes/notes/generate-server_certs_key_passphrase-45d716a67b0e83b3.yaml', 'spec/classes/octavia_certificates_spec.rb']",3,bdcd8132a1ef4e10b4c21832ca95fe890ea6badd,server_certs_key_passphrase-stable/stein-stable/rocky-stable/queens," is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('<SERVICE DEFAULT>') { :cert_generator => 'local_cert_generator', :cert_manager => 'barbican_cert_manager', :region_name => 'RegionOne', :endpoint_type => 'internalURL', :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :server_certs_key_passphrase => 'secure123', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem' is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123') { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :server_certs_key_passphrase => 'secure123', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123') { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia1/key.pem', :server_certs_key_passphrase => 'secure123', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia2/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123')"," { :cert_generator => 'local_cert_generator', :cert_manager => 'barbican_cert_manager', :region_name => 'RegionOne', :endpoint_type => 'internalURL', :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem' { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client', { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia1/key.pem', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia2/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client',",65,47
openstack%2Fpuppet-octavia~stable%2Frocky~Id6c0d156715147c6559dc39098a6eaabf77ac426,openstack/puppet-octavia,stable/rocky,Id6c0d156715147c6559dc39098a6eaabf77ac426,Configure server_certs_key_passphrase for Octavia,MERGED,2019-05-29 12:00:12.000000000,2019-05-31 00:16:05.000000000,2019-05-31 00:16:05.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 12:00:12.000000000', 'files': ['manifests/certificates.pp', 'releasenotes/notes/generate-server_certs_key_passphrase-45d716a67b0e83b3.yaml', 'spec/classes/octavia_certificates_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/733344b0786134fc9e083570cc366e6281f9f248', 'message': 'Configure server_certs_key_passphrase for Octavia\n\nA recent change[1] to Octavia added a parameter named\nserver_certs_key_passphrase, which means that TripleO should\ngenerate a password for it to avoid using the default value.\n\nCloses-Bug: #1821751\n\n[1] I06d329ca53bc36bd27f7870ae7c7ca0cf18575b2\n\nChange-Id: Id6c0d156715147c6559dc39098a6eaabf77ac426\n(cherry picked from commit e8ae4607b43b2b5f686f7337540837cc024c0b71)\n'}]",0,661951,733344b0786134fc9e083570cc366e6281f9f248,8,3,1,6579,,,0,"Configure server_certs_key_passphrase for Octavia

A recent change[1] to Octavia added a parameter named
server_certs_key_passphrase, which means that TripleO should
generate a password for it to avoid using the default value.

Closes-Bug: #1821751

[1] I06d329ca53bc36bd27f7870ae7c7ca0cf18575b2

Change-Id: Id6c0d156715147c6559dc39098a6eaabf77ac426
(cherry picked from commit e8ae4607b43b2b5f686f7337540837cc024c0b71)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/51/661951/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certificates.pp', 'releasenotes/notes/generate-server_certs_key_passphrase-45d716a67b0e83b3.yaml', 'spec/classes/octavia_certificates_spec.rb']",3,733344b0786134fc9e083570cc366e6281f9f248,server_certs_key_passphrase-stable/stein-stable/rocky," is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('<SERVICE DEFAULT>') { :cert_generator => 'local_cert_generator', :cert_manager => 'barbican_cert_manager', :region_name => 'RegionOne', :endpoint_type => 'internalURL', :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :server_certs_key_passphrase => 'secure123', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem' is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123') { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :server_certs_key_passphrase => 'secure123', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123') { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia1/key.pem', :server_certs_key_passphrase => 'secure123', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia2/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123')"," { :cert_generator => 'local_cert_generator', :cert_manager => 'barbican_cert_manager', :region_name => 'RegionOne', :endpoint_type => 'internalURL', :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem' { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client', { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia1/key.pem', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia2/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client',",65,47
openstack%2Ftripleo-docs~master~Icb30af25adda0aa702b0128b3e7e8d240d743ab0,openstack/tripleo-docs,master,Icb30af25adda0aa702b0128b3e7e8d240d743ab0,Fix system dependencies packages name.,MERGED,2019-04-18 09:47:47.000000000,2019-05-31 00:14:19.000000000,2019-05-31 00:14:19.000000000,"[{'_account_id': 8297}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-04-18 09:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/156d7d5d8b2d15418e1377823c7951115a514205', 'message': 'Fix system dependencies packages name.\n\nFix the packages name of python dependencies.\n\nChange-Id: Icb30af25adda0aa702b0128b3e7e8d240d743ab0\n'}, {'number': 2, 'created': '2019-04-26 07:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5b73656b07f8db78284b122680c6d06ff24a2f2c', 'message': 'Fix system dependencies packages name.\n\nFix the packages name of python dependencies.\n\nCloses-Bug: #1826513\n\nChange-Id: Icb30af25adda0aa702b0128b3e7e8d240d743ab0\n'}, {'number': 3, 'created': '2019-04-26 17:27:57.000000000', 'files': ['doc/source/ci/reproduce-ci.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/115826ff884d39092b39d22cfce88820e849b2c2', 'message': 'Fix system dependencies packages name.\n\nFix the packages name of python dependencies.\n\nCloses-Bug: #1826513\n\nChange-Id: Icb30af25adda0aa702b0128b3e7e8d240d743ab0\n'}]",1,653704,115826ff884d39092b39d22cfce88820e849b2c2,13,5,3,29222,,,0,"Fix system dependencies packages name.

Fix the packages name of python dependencies.

Closes-Bug: #1826513

Change-Id: Icb30af25adda0aa702b0128b3e7e8d240d743ab0
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/04/653704/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ci/reproduce-ci.rst'],1,156d7d5d8b2d15418e1377823c7951115a514205,bug/1826513,* python3-openstackclient * python3-heatclient,* python-openstackclient * python-heatclient,2,2
openstack%2Fpuppet-openstack-cookiecutter~master~Ia473650857acb16a84f04fd1c8d9e66edbe33888,openstack/puppet-openstack-cookiecutter,master,Ia473650857acb16a84f04fd1c8d9e66edbe33888,assert_private() params and deps classes,MERGED,2019-05-24 23:35:28.000000000,2019-05-31 00:12:21.000000000,2019-05-31 00:12:21.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 23:35:28.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/manifests/deps.pp', 'puppet-{{cookiecutter.project_name}}/manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/35a3437421bcf556a6de16d87826babe848c02b7', 'message': ""assert_private() params and deps classes\n\nThese classes are private and should never be\nused outside of it's module.\n\nChange-Id: Ia473650857acb16a84f04fd1c8d9e66edbe33888\n""}]",0,661421,35a3437421bcf556a6de16d87826babe848c02b7,7,3,1,16137,,,0,"assert_private() params and deps classes

These classes are private and should never be
used outside of it's module.

Change-Id: Ia473650857acb16a84f04fd1c8d9e66edbe33888
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/21/661421/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-{{cookiecutter.project_name}}/manifests/deps.pp', 'puppet-{{cookiecutter.project_name}}/manifests/params.pp']",2,35a3437421bcf556a6de16d87826babe848c02b7,assert-private, assert_private() ,,5,0
openstack%2Ftripleo-heat-templates~master~I14c1d8204bd84ead0d6995b5aefd10d2bbc4227d,openstack/tripleo-heat-templates,master,I14c1d8204bd84ead0d6995b5aefd10d2bbc4227d,Remove unnecessary openldap-clients package from overcloud controllers,MERGED,2019-05-30 17:59:29.000000000,2019-05-31 00:10:48.000000000,2019-05-31 00:10:48.000000000,"[{'_account_id': 3153}, {'_account_id': 8866}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-30 17:59:29.000000000', 'files': ['extraconfig/services/ipaclient.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34e1c75e54c7d059c2530a5f6f03bb7a9e9f4d86', 'message': ""Remove unnecessary openldap-clients package from overcloud controllers\n\nWe currently install the openldap-clients package on overcloud\ncontroller nodes.  It was assumed that this package was needed for\nIPA client enrollment, but the ipa-client package only uses the\nopenldap libraries that will already be pulled in as an indirect\ndependency of ipa-client.  The openldap-clients package contains\nLDAP CLI utilities, which don't appear to be actually used.\n\nChange-Id: I14c1d8204bd84ead0d6995b5aefd10d2bbc4227d\n""}]",0,662276,34e1c75e54c7d059c2530a5f6f03bb7a9e9f4d86,12,7,1,9098,,,0,"Remove unnecessary openldap-clients package from overcloud controllers

We currently install the openldap-clients package on overcloud
controller nodes.  It was assumed that this package was needed for
IPA client enrollment, but the ipa-client package only uses the
openldap libraries that will already be pulled in as an indirect
dependency of ipa-client.  The openldap-clients package contains
LDAP CLI utilities, which don't appear to be actually used.

Change-Id: I14c1d8204bd84ead0d6995b5aefd10d2bbc4227d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/662276/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/ipaclient.yaml'],1,34e1c75e54c7d059c2530a5f6f03bb7a9e9f4d86,openldap-clients-package,, - openldap-clients,0,1
openstack%2Fpuppet-octavia~stable%2Fstein~Id6c0d156715147c6559dc39098a6eaabf77ac426,openstack/puppet-octavia,stable/stein,Id6c0d156715147c6559dc39098a6eaabf77ac426,Configure server_certs_key_passphrase for Octavia,MERGED,2019-05-29 12:00:03.000000000,2019-05-31 00:04:15.000000000,2019-05-31 00:04:15.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 12:00:03.000000000', 'files': ['manifests/certificates.pp', 'releasenotes/notes/generate-server_certs_key_passphrase-45d716a67b0e83b3.yaml', 'spec/classes/octavia_certificates_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/59081ddd6cc514fed1b1c40ca53fbf1cb866e94a', 'message': 'Configure server_certs_key_passphrase for Octavia\n\nA recent change[1] to Octavia added a parameter named\nserver_certs_key_passphrase, which means that TripleO should\ngenerate a password for it to avoid using the default value.\n\nCloses-Bug: #1821751\n\n[1] I06d329ca53bc36bd27f7870ae7c7ca0cf18575b2\n\nChange-Id: Id6c0d156715147c6559dc39098a6eaabf77ac426\n(cherry picked from commit e8ae4607b43b2b5f686f7337540837cc024c0b71)\n'}]",0,661950,59081ddd6cc514fed1b1c40ca53fbf1cb866e94a,8,3,1,6579,,,0,"Configure server_certs_key_passphrase for Octavia

A recent change[1] to Octavia added a parameter named
server_certs_key_passphrase, which means that TripleO should
generate a password for it to avoid using the default value.

Closes-Bug: #1821751

[1] I06d329ca53bc36bd27f7870ae7c7ca0cf18575b2

Change-Id: Id6c0d156715147c6559dc39098a6eaabf77ac426
(cherry picked from commit e8ae4607b43b2b5f686f7337540837cc024c0b71)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/50/661950/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certificates.pp', 'releasenotes/notes/generate-server_certs_key_passphrase-45d716a67b0e83b3.yaml', 'spec/classes/octavia_certificates_spec.rb']",3,59081ddd6cc514fed1b1c40ca53fbf1cb866e94a,server_certs_key_passphrase-stable/stein," is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('<SERVICE DEFAULT>') { :cert_generator => 'local_cert_generator', :cert_manager => 'barbican_cert_manager', :region_name => 'RegionOne', :endpoint_type => 'internalURL', :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :server_certs_key_passphrase => 'secure123', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem' is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123') { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :server_certs_key_passphrase => 'secure123', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123') { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia1/key.pem', :server_certs_key_passphrase => 'secure123', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia2/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123')"," { :cert_generator => 'local_cert_generator', :cert_manager => 'barbican_cert_manager', :region_name => 'RegionOne', :endpoint_type => 'internalURL', :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem' { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia/key.pem', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client', { :ca_certificate => '/etc/octavia/ca.pem', :ca_private_key => '/etc/octavia1/key.pem', :ca_private_key_passphrase => 'secure123', :client_cert => '/etc/octavia2/client.pem', :ca_certificate_data => 'on_my_authority_this_is_a_certificate', :ca_private_key_data => 'this_is_my_private_key_woot_woot', :client_cert_data => 'certainly_for_the_client',",65,47
openstack%2Fansible-role-openstack-operations~master~I0ac8c9840e44af61388762cb7b5075f00cb2377a,openstack/ansible-role-openstack-operations,master,I0ac8c9840e44af61388762cb7b5075f00cb2377a,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-10 11:06:52.000000000,2019-05-30 23:32:02.000000000,2019-05-30 23:32:02.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 11:06:52.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/b5debeead3de520c1310cf1dfeaf8325d38bf6da', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0ac8c9840e44af61388762cb7b5075f00cb2377a\n'}]",0,658332,b5debeead3de520c1310cf1dfeaf8325d38bf6da,7,3,1,17130,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I0ac8c9840e44af61388762cb7b5075f00cb2377a
",git fetch https://review.opendev.org/openstack/ansible-role-openstack-operations refs/changes/32/658332/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,b5debeead3de520c1310cf1dfeaf8325d38bf6da,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},2,2
openstack%2Fnova~master~Ib564b6e258dfaaf5db01e462f37da30e467c37c0,openstack/nova,master,Ib564b6e258dfaaf5db01e462f37da30e467c37c0,Remove unused param from _fill_provider_mapping,MERGED,2019-04-23 12:04:40.000000000,2019-05-30 23:25:08.000000000,2019-05-30 23:25:08.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-23 12:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29bad69351c63ff172d06254f93ec37f748ae0c8', 'message': 'Remove unused param from _fill_provider_mapping\n\nSince Iecbee518444bd282ce5f6fd019db41a322f76a83 the instance_uuid param\nis unused in _fill_provider_mapping() in the conductor/manager. So this\npatch removes the parameter.\n\nblueprint: support-server-move-operations-with-ports-having-resource-request\n\nChange-Id: Ib564b6e258dfaaf5db01e462f37da30e467c37c0\n'}, {'number': 2, 'created': '2019-04-30 01:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78e9c2129c6118d8fcbaa4c5fce9efb0c2e434cd', 'message': 'Remove unused param from _fill_provider_mapping\n\nSince Iecbee518444bd282ce5f6fd019db41a322f76a83 the instance_uuid param\nis unused in _fill_provider_mapping() in the conductor/manager. So this\npatch removes the parameter.\n\nblueprint: support-server-move-operations-with-ports-having-resource-request\n\nChange-Id: Ib564b6e258dfaaf5db01e462f37da30e467c37c0\n'}, {'number': 3, 'created': '2019-04-30 20:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54b7f3f5255810594a942efbec14222509ef96a2', 'message': 'Remove unused param from _fill_provider_mapping\n\nSince Iecbee518444bd282ce5f6fd019db41a322f76a83 the instance_uuid param\nis unused in _fill_provider_mapping() in the conductor/manager. So this\npatch removes the parameter.\n\nblueprint: support-server-move-operations-with-ports-having-resource-request\n\nChange-Id: Ib564b6e258dfaaf5db01e462f37da30e467c37c0\n'}, {'number': 4, 'created': '2019-05-03 16:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f60ae144a543bd6284642a55a88c42fc89242b4', 'message': 'Remove unused param from _fill_provider_mapping\n\nSince Iecbee518444bd282ce5f6fd019db41a322f76a83 the instance_uuid param\nis unused in _fill_provider_mapping() in the conductor/manager. So this\npatch removes the parameter.\n\nblueprint: support-server-move-operations-with-ports-having-resource-request\n\nChange-Id: Ib564b6e258dfaaf5db01e462f37da30e467c37c0\n'}, {'number': 5, 'created': '2019-05-10 12:12:10.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5e5e5daa9099a0b1d10ac7f9ddca78397d2188ba', 'message': 'Remove unused param from _fill_provider_mapping\n\nSince Iecbee518444bd282ce5f6fd019db41a322f76a83 the instance_uuid param\nis unused in _fill_provider_mapping() in the conductor/manager. So this\npatch removes the parameter.\n\nblueprint: support-move-ops-with-qos-ports\n\nChange-Id: Ib564b6e258dfaaf5db01e462f37da30e467c37c0\n'}]",1,655107,5e5e5daa9099a0b1d10ac7f9ddca78397d2188ba,68,15,5,9708,,,0,"Remove unused param from _fill_provider_mapping

Since Iecbee518444bd282ce5f6fd019db41a322f76a83 the instance_uuid param
is unused in _fill_provider_mapping() in the conductor/manager. So this
patch removes the parameter.

blueprint: support-move-ops-with-qos-ports

Change-Id: Ib564b6e258dfaaf5db01e462f37da30e467c37c0
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/655107/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,29bad69351c63ff172d06254f93ec37f748ae0c8,bp/support-move-ops-with-qos-ports," context,request_spec, host) def _fill_provider_mapping(self, context, request_spec, host_selection): self._fill_provider_mapping(context, request_spec, host)"," context, instance.uuid, request_spec, host) def _fill_provider_mapping( self, context, instance_uuid, request_spec, host_selection): :param instance_uuid: The UUID of the instance for which the provider mapping is filled self._fill_provider_mapping( context, instance.uuid, request_spec, host)",3,7
openstack%2Fansible-role-redhat-subscription~master~Iecc9b044469c970fa86bf3dab35a1d10c7c12429,openstack/ansible-role-redhat-subscription,master,Iecc9b044469c970fa86bf3dab35a1d10c7c12429,Update min tox version to 2.0,MERGED,2018-10-20 12:18:30.000000000,2019-05-30 23:22:09.000000000,2019-05-30 23:22:09.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-20 12:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/164699cacb0c681555fabcf05f6a7b7bf556c2d1', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: Iecc9b044469c970fa86bf3dab35a1d10c7c12429\n'}, {'number': 2, 'created': '2019-01-14 12:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/a20f77222fe5347a315516adbdd0987845f2de45', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: Iecc9b044469c970fa86bf3dab35a1d10c7c12429\n'}, {'number': 3, 'created': '2019-05-30 09:52:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/86358c2203f9a55b131d9468f914d4e5ce6904c4', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: Iecc9b044469c970fa86bf3dab35a1d10c7c12429\n'}]",0,612013,86358c2203f9a55b131d9468f914d4e5ce6904c4,17,6,3,26297,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: Iecc9b044469c970fa86bf3dab35a1d10c7c12429
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/13/612013/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,164699cacb0c681555fabcf05f6a7b7bf556c2d1,,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fopenstack-ansible~stable%2Fqueens~Iaf61c9fabe979fc7aac4d0f8aaff5357d6eb2bdc,openstack/openstack-ansible,stable/queens,Iaf61c9fabe979fc7aac4d0f8aaff5357d6eb2bdc,Bump SHAs for stable/queens,MERGED,2019-05-19 14:02:44.000000000,2019-05-30 23:10:52.000000000,2019-05-30 23:10:52.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-19 14:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d94ed408011637a5887fa40a860085c01bd42bb0', 'message': 'Bump SHAs for stable/queens\n\nChange-Id: Iaf61c9fabe979fc7aac4d0f8aaff5357d6eb2bdc\n'}, {'number': 2, 'created': '2019-05-22 15:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/71e9bf642d5407ff56325deb97ea9d4f1d8c3fa5', 'message': 'Bump SHAs for stable/queens\n\nChange-Id: Iaf61c9fabe979fc7aac4d0f8aaff5357d6eb2bdc\n'}, {'number': 3, 'created': '2019-05-29 15:09:13.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e4ba058e920f782ee8d4810e924232390b7ad25a', 'message': 'Bump SHAs for stable/queens\n\nChange-Id: Iaf61c9fabe979fc7aac4d0f8aaff5357d6eb2bdc\n'}]",0,659969,e4ba058e920f782ee8d4810e924232390b7ad25a,12,4,3,17068,,,0,"Bump SHAs for stable/queens

Change-Id: Iaf61c9fabe979fc7aac4d0f8aaff5357d6eb2bdc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/69/659969/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,d94ed408011637a5887fa40a860085c01bd42bb0,bump_osa, version: cdd3810a5e6085f59cb0d11f65e6bee369161a0e version: e0b925cc603c0c00be204dbb169a997f4ecabd17 version: dcc21e84b62b8eb77055b62c9be7e6c9c1289edd version: 100f5e4525975c3173e47f4bfc26ab8c9e47630c version: 80c8f8ba9d2dda1864982f64c5aef625fffca50d version: cc6a57fab9c95e3d3911f8de270d2befc089a5dc version: 56c8bbb9c01a53f05be1b03ff6d4d573871dbc18 version: 46c7c7005c36d24ac56d971ce75018b411201223 version: 294f21c6dc5b5ac4eb1f8a9f5dae37326b2b0f48 version: b2be1b1797d4d0359142691c6847520ecc8c65c8 version: cd78a614dfcdf2657d39cdfa1673c3f6c83b882a version: 17db6940071361c40c3740e39a9e1580cb45dc5a version: 8d2b7d252bec989afe8be212dbec79a73773898b version: 5fc214266d4b395de7dbf7f71bebfaddd73bac8f version: 6e09aed9f7714053789d7c62e9b05e963870fdbe version: 6481835afb6d64588d3ee6b8a655b3a9d2c5cda2 version: 4fe4963517cde2fa3bda54bc3fa3320e786355c4 version: 2d166e07585987825773abe8aee977943f04e96d version: ce26a9294fa244183ce22f51f3c66845d706aee5 version: 60ba9416cba04711b016ee41f3ffb7fded33ea9c version: 5152416ab0fc5450154675b784746efe70e2bf9b version: def2d6b36b9200868f709eed30be4d69bb7435e7 version: 2043745336d893da5ea872f391184289ba52250e version: 1de2442b348934281e28ef42f36941f229233b9c version: bdade6b9330482e5390e062cd510591a640de672 version: 4ea6d4f28f5fdc4e12110c43736069f0bb58a227 version: d2e993f47097748ec6406004a0a96005e6c02a32 version: 781dd9ce0c489d9832e8b2f88f5d395ca0dc48aa version: 06c4101839fe1ff33f03ccab522646e26489af14 version: 4f1da57171bbe7e214939ff27c5526a799aa8b76 version: c8920ec66d3c9f8220d695335c0f687d30a9defa version: 51b277159cca5e4076cc206cee56b12911b7d822 version: 70d1edb444a564244b610bd2a61090fa529953d9 version: 1d36def7f76c7298401ddf9cb7e5af924e698117 version: 63f40b254a43e33c120a0a3dd7103893a3a0ea32 version: 6a6b9d9b63f5dbd09f5a601ab05d32c1d63e8eba version: b77a87da4686fee82a75843ad053ba35e5fea359 version: 79661b7d04a763cd2cef1933453625b3ee793abf version: b776c7883593b384478fb34ddd81a25946e7c10f version: edc93b692ccda21c07eac6ad5d776cafb96bc7b3, version: 642044801bba778f8b10a773caa6fbcd363e48ef version: 3f599ead616d3dd768f7df0a46958b105c46d937 version: c84e457e7a86bd1e79f55aaa1d0829e56eb977e7 version: eaf94b354d5a9a18152fa331f01c46fc610343a5 version: 85f7b2c1afb312a8bd0a8602d9b5032d4c59953e version: ee1fb0d6b2a0381c10c9ae62b96d6ebc8f233b68 version: 7e7dd75fce8aa9c0631e105153761db896ba90c1 version: 6a88011db48ce95d7e7f94476efb67a692f5a42d version: 059a8470126e4f0a6560b3cfde68eee38ad8f5b0 version: fb2d656684a01c4b77ddc09c2a0a3b478d93a780 version: fa1245375e07222f1ce60fd54ab49b7d1811ecb2 version: e476286de2b5a3c402b00ad1550e579b7a5c6882 version: 99d05151b64a780a06412199b3049bfc894dacd4 version: 55bf2c9ba915bb48b2835c70d04cba5f55b3c54e version: 9a4d31332155aed4e70ba1febb818ab72d01f98b version: 4d565ba90a7b034afce2434589747905c9ca8795 version: 853bc6bc1fde01754731c7cf5bb93be941972956 version: 7c58240b87967582642e8472646930931bdb6677 version: 3a7b242f97c5737a7025a8b6470b012995d110ae version: 826261dbb664d3d266cd9335a8a158d05844f329 version: 65892901790c8b45b1a30f8a451537a796608ecd version: 3a2986f047124c7e64db4b2b0acfcd3da9f81def version: cebfc095ce6ebdb6e7d19ee5a21786f933276421 version: 3607a6d4a7f8e810f1e6b5957b35214656527d43 version: a8313ec35fac077d14e5691cefb7e7c00955ce53 version: c4b02578a30200161f825f4448f226ef63c49743 version: 87e062b969fcc417276545612f142c6221602aea version: ec6804668df42c06f65f5eb15b52e112ab669c53 version: 32bdb138a0e0fdc00d135252bd89477288b343b9 version: 169cc5bd991813db44edf73e3dfff381f2de99a8 version: bc8794fa4ac01e4fd32a289c9eeb3652478a579f version: 30bd74292021e5507cdfad4b9a7f827a5f8452f6 version: 25ce8e798bf132a2239929f688861cb980ecdaa8 version: 3d4702032a3e901bc99c182a245458ba67176481 version: dcb6ff2cc8c10e17490723b68afe013755a42f35 version: b0359fdeaf106a205a5b2b4b1ba621d3edd3a36e version: b7f270189f79a4e864cc7fa6893d8831a4116291 version: e7369175ba2b377905f8130200d280f3f710ad68 version: cab50999c18b72fbdff1e750f25c4eac1fea23b4 version: 9935f9bbde80c274d8dd0e10bb458630d22413d7,80,80
openstack%2Fopenstack-ansible~stable%2Frocky~I80d4fe2441b0a1137aac05fc6ff739cdfefa204d,openstack/openstack-ansible,stable/rocky,I80d4fe2441b0a1137aac05fc6ff739cdfefa204d,Add /v2 to mistral api endpoint.,MERGED,2019-05-15 12:00:43.000000000,2019-05-30 23:10:51.000000000,2019-05-30 23:10:51.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-15 12:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9bfa22089d7d799234f1a2fc20c1c3186c3f611c', 'message': 'Add /v2 to mistral api endpoint.\n\nwhitout the /v2 openstack cli is not able to list workflows, it always\nend in 404.\n\nwith /v2 both mistral cli and openstack client can be used.\n\nDepends-on: I7770c5417feacfc43a3ad8801125603a55ba9ea8\nChange-Id: I80d4fe2441b0a1137aac05fc6ff739cdfefa204d\n(cherry picked from commit 8abe36115a2694f4ae1748f28f51b46861002bf4)\n'}, {'number': 2, 'created': '2019-05-27 13:50:20.000000000', 'files': ['inventory/group_vars/mistral_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bc7f19b00b7384e2e8e4ed09e3976bb0dd48b69e', 'message': 'Add /v2 to mistral api endpoint.\n\nwhitout the /v2 openstack cli is not able to list workflows, it always\nend in 404.\n\nwith /v2 both mistral cli and openstack client can be used.\n\nDepends-on: I7770c5417feacfc43a3ad8801125603a55ba9ea8\nChange-Id: I80d4fe2441b0a1137aac05fc6ff739cdfefa204d\n(cherry picked from commit 8abe36115a2694f4ae1748f28f51b46861002bf4)\n'}]",0,659277,bc7f19b00b7384e2e8e4ed09e3976bb0dd48b69e,13,4,2,13095,,,0,"Add /v2 to mistral api endpoint.

whitout the /v2 openstack cli is not able to list workflows, it always
end in 404.

with /v2 both mistral cli and openstack client can be used.

Depends-on: I7770c5417feacfc43a3ad8801125603a55ba9ea8
Change-Id: I80d4fe2441b0a1137aac05fc6ff739cdfefa204d
(cherry picked from commit 8abe36115a2694f4ae1748f28f51b46861002bf4)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/77/659277/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/mistral_all.yml'],1,9bfa22089d7d799234f1a2fc20c1c3186c3f611c,fix-mistral-endpoints-stable/rocky,"mistral_service_publicurl: ""{{ mistral_service_publicuri_proto }}://{{ external_lb_vip_address }}:{{ mistral_bind_port }}/v2""mistral_service_internalurl: ""{{ mistral_service_internaluri_proto }}://{{ internal_lb_vip_address }}:{{ mistral_bind_port }}/v2""mistral_service_adminurl: ""{{ mistral_service_adminuri_proto }}://{{ internal_lb_vip_address }}:{{ mistral_bind_port }}/v2""","mistral_service_publicurl: ""{{ mistral_service_publicuri_proto }}://{{ external_lb_vip_address }}:{{ mistral_bind_port }}""mistral_service_internalurl: ""{{ mistral_service_internaluri_proto }}://{{ internal_lb_vip_address }}:{{ mistral_bind_port }}""mistral_service_adminurl: ""{{ mistral_service_adminuri_proto }}://{{ internal_lb_vip_address }}:{{ mistral_bind_port }}""",3,3
openstack%2Fopenstack-ansible~stable%2Frocky~I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,openstack/openstack-ansible,stable/rocky,I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,Move hosts file management toggle to all group vars,MERGED,2019-05-30 13:19:39.000000000,2019-05-30 23:10:50.000000000,2019-05-30 23:10:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-30 13:19:39.000000000', 'files': ['inventory/group_vars/all/all.yml', 'inventory/group_vars/hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aa63cda27b0603bfe90a11ea7e18cf6feabde4af', 'message': ""Move hosts file management toggle to all group vars\n\nIn Queens, the hosts file management began occurring on all hosts\nand containers because openstack_hosts role now runs on all inventory\nitems (prior to Queens, it only ran on 'hosts'). The flag for managing\nthe /etc/hosts management should now be moved to the 'all' group\nvars.\n\nChange-Id: I0a9e8e86cd1eb40f55d40eb291f49563a433fd82\n(cherry picked from commit c06e6b5885b4edf074c118f1be8362926e5a6e0c)\n""}]",0,662212,aa63cda27b0603bfe90a11ea7e18cf6feabde4af,7,3,1,17799,,,0,"Move hosts file management toggle to all group vars

In Queens, the hosts file management began occurring on all hosts
and containers because openstack_hosts role now runs on all inventory
items (prior to Queens, it only ran on 'hosts'). The flag for managing
the /etc/hosts management should now be moved to the 'all' group
vars.

Change-Id: I0a9e8e86cd1eb40f55d40eb291f49563a433fd82
(cherry picked from commit c06e6b5885b4edf074c118f1be8362926e5a6e0c)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/662212/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/all/all.yml', 'inventory/group_vars/hosts.yml']",2,aa63cda27b0603bfe90a11ea7e18cf6feabde4af,,,"# Disable /etc/hosts management if unbound DNS resolution containers exist openstack_host_manage_hosts_file: ""{{ groups['unbound'] is not defined or groups['unbound'] | length < 1 }}"" ",3,3
openstack%2Fheat~stable%2Fqueens~Ieabcd4e8c5e5354125a63e89b9b60931c760858a,openstack/heat,stable/queens,Ieabcd4e8c5e5354125a63e89b9b60931c760858a,Blacklist bandit 1.6.0 and cap Sphinx on Python2,MERGED,2019-05-30 18:35:12.000000000,2019-05-30 22:49:17.000000000,2019-05-30 22:49:17.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2019-05-30 18:35:12.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/75dab33e7dc4af773ea7b742d35a5075d45b1ac7', 'message': ""Blacklist bandit 1.6.0 and cap Sphinx on Python2\n\nThere's a regression[0] in bandit 1.6.0 which causes bandit to stop\nrespecting excluded directories, and our tests throw a bunch of\nviolations. Blacklist this version, but allow newer versions as there is\nalready a pull request[1] to fix it, and I expect it will be included in\nthe next release.\n\nAlso fix the requirements job which was broken by\nhttps://review.opendev.org/657890 adding a cap on Sphinx on Python 2.\n\n[0] https://github.com/PyCQA/bandit/issues/488\n[1] https://github.com/PyCQA/bandit/pull/489\n\nChange-Id: Ieabcd4e8c5e5354125a63e89b9b60931c760858a\n(cherry picked from commit 011fa22c42506e63229cca7e5fc65f81b6e0aabf)\n""}]",0,662285,75dab33e7dc4af773ea7b742d35a5075d45b1ac7,6,3,1,4257,,,0,"Blacklist bandit 1.6.0 and cap Sphinx on Python2

There's a regression[0] in bandit 1.6.0 which causes bandit to stop
respecting excluded directories, and our tests throw a bunch of
violations. Blacklist this version, but allow newer versions as there is
already a pull request[1] to fix it, and I expect it will be included in
the next release.

Also fix the requirements job which was broken by
https://review.opendev.org/657890 adding a cap on Sphinx on Python 2.

[0] https://github.com/PyCQA/bandit/issues/488
[1] https://github.com/PyCQA/bandit/pull/489

Change-Id: Ieabcd4e8c5e5354125a63e89b9b60931c760858a
(cherry picked from commit 011fa22c42506e63229cca7e5fc65f81b6e0aabf)
",git fetch https://review.opendev.org/openstack/heat refs/changes/85/662285/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,75dab33e7dc4af773ea7b742d35a5075d45b1ac7,,"bandit!=1.6.0,>=1.1.0 # Apache-2.0sphinx!=1.6.6,>=1.6.2;python_version>='3.4' # BSD sphinx!=1.6.6,>=1.6.2,<2.0.0;python_version=='2.7' # BSD","bandit>=1.1.0 # Apache-2.0sphinx!=1.6.6,>=1.6.2 # BSD",3,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~I5ae3bc845b0a6ad6986d44b14ff4b0737a9b033b,openstack/tripleo-heat-templates,stable/rocky,I5ae3bc845b0a6ad6986d44b14ff4b0737a9b033b,Make krb-service-principal metadata per-Role,MERGED,2019-05-02 15:42:22.000000000,2019-05-30 22:42:59.000000000,2019-05-30 22:42:58.000000000,"[{'_account_id': 3153}, {'_account_id': 8866}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-05-02 15:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4a82ebc18a7e2fb8de3d9a8e38ddd222b0dd9be', 'message': 'Make krb-service-principal metadata per-Role\n\nNot all roles are connected to all networks, there is no\nneed to create metadata for networks not associated with\nthe role.\n\nIn edge/spine-and-leaf deployments the total number of\ncomposable networks used can be high. Passing all the\nnetworks we quickly go beyond the nova metadata fields\nsize limit (each field cannot exceed 256 bytes).\n\nAlso update tools/check-up-to-date.sh script to use the\nsimple yaml-diff.py instead of diff. The env generator\ncode will sort data, while jinja rendered environments\nare not sorted, thus need to diff the data in yaml not\nthe text.\n\nCloses-Bug: #1821377\nChange-Id: I5ae3bc845b0a6ad6986d44b14ff4b0737a9b033b\n'}, {'number': 2, 'created': '2019-05-16 19:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2fd3a49c212ba47488791e95cee4067d042cad0', 'message': 'Make krb-service-principal metadata per-Role\n\nNot all roles are connected to all networks, there is no\nneed to create metadata for networks not associated with\nthe role.\n\nIn edge/spine-and-leaf deployments the total number of\ncomposable networks used can be high. Passing all the\nnetworks we quickly go beyond the nova metadata fields\nsize limit (each field cannot exceed 256 bytes).\n\nAlso update tools/check-up-to-date.sh script to use the\nsimple yaml-diff.py instead of diff. The env generator\ncode will sort data, while jinja rendered environments\nare not sorted, thus need to diff the data in yaml not\nthe text.\n\nCloses-Bug: #1821377\nChange-Id: I5ae3bc845b0a6ad6986d44b14ff4b0737a9b033b\n'}, {'number': 3, 'created': '2019-05-24 19:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61678a4afd2ff165f0cc0c211c72945bbd554972', 'message': 'Make krb-service-principal metadata per-Role\n\nNot all roles are connected to all networks, there is no\nneed to create metadata for networks not associated with\nthe role.\n\nIn edge/spine-and-leaf deployments the total number of\ncomposable networks used can be high. Passing all the\nnetworks we quickly go beyond the nova metadata fields\nsize limit (each field cannot exceed 256 bytes).\n\nAlso update tools/check-up-to-date.sh script to use the\nsimple yaml-diff.py instead of diff. The env generator\ncode will sort data, while jinja rendered environments\nare not sorted, thus need to diff the data in yaml not\nthe text.\n\nCloses-Bug: #1821377\nChange-Id: I5ae3bc845b0a6ad6986d44b14ff4b0737a9b033b\n'}, {'number': 4, 'created': '2019-05-29 08:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a89a1afd6effbdcc12a8d2199cd0eaa54b15d36e', 'message': 'Make krb-service-principal metadata per-Role\n\nNot all roles are connected to all networks, there is no\nneed to create metadata for networks not associated with\nthe role.\n\nIn edge/spine-and-leaf deployments the total number of\ncomposable networks used can be high. Passing all the\nnetworks we quickly go beyond the nova metadata fields\nsize limit (each field cannot exceed 256 bytes).\n\nAlso update tools/check-up-to-date.sh script to use the\nsimple yaml-diff.py instead of diff. The env generator\ncode will sort data, while jinja rendered environments\nare not sorted, thus need to diff the data in yaml not\nthe text.\n\nConflicts:\n    environments/ssl/enable-internal-tls.j2.yaml\n\nCloses-Bug: #1821377\nChange-Id: I5ae3bc845b0a6ad6986d44b14ff4b0737a9b033b\n'}, {'number': 5, 'created': '2019-05-29 08:43:08.000000000', 'files': ['sample-env-generator/ssl.yaml', 'tools/check-up-to-date.sh', 'tools/yaml-diff.py', 'extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml', 'environments/ssl/enable-internal-tls.j2.yaml', 'tools/process-templates.py', 'overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'common/services/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/218582c4cc47d35181ce34a2b27f899fc1316be3', 'message': 'Make krb-service-principal metadata per-Role\n\nNot all roles are connected to all networks, there is no\nneed to create metadata for networks not associated with\nthe role.\n\nIn edge/spine-and-leaf deployments the total number of\ncomposable networks used can be high. Passing all the\nnetworks we quickly go beyond the nova metadata fields\nsize limit (each field cannot exceed 256 bytes).\n\nAlso update tools/check-up-to-date.sh script to use the\nsimple yaml-diff.py instead of diff. The env generator\ncode will sort data, while jinja rendered environments\nare not sorted, thus need to diff the data in yaml not\nthe text.\n\nConflicts:\n    environments/ssl/enable-internal-tls.j2.yaml\n\nCloses-Bug: #1821377\nChange-Id: I5ae3bc845b0a6ad6986d44b14ff4b0737a9b033b\n(cherry picked from commit d5ecc1f6518d14f1ae6fefebd73533f11762bedf)\n'}]",0,656797,218582c4cc47d35181ce34a2b27f899fc1316be3,26,8,5,8866,,,0,"Make krb-service-principal metadata per-Role

Not all roles are connected to all networks, there is no
need to create metadata for networks not associated with
the role.

In edge/spine-and-leaf deployments the total number of
composable networks used can be high. Passing all the
networks we quickly go beyond the nova metadata fields
size limit (each field cannot exceed 256 bytes).

Also update tools/check-up-to-date.sh script to use the
simple yaml-diff.py instead of diff. The env generator
code will sort data, while jinja rendered environments
are not sorted, thus need to diff the data in yaml not
the text.

Conflicts:
    environments/ssl/enable-internal-tls.j2.yaml

Closes-Bug: #1821377
Change-Id: I5ae3bc845b0a6ad6986d44b14ff4b0737a9b033b
(cherry picked from commit d5ecc1f6518d14f1ae6fefebd73533f11762bedf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/656797/3 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/ssl.yaml', 'tools/check-up-to-date.sh', 'extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml', 'tools/yaml-diff.py', 'environments/ssl/enable-internal-tls.j2.yaml', 'tools/process-templates.py', 'overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'common/services/role.role.j2.yaml']",9,e4a82ebc18a7e2fb8de3d9a8e38ddd222b0dd9be,bug/1821377, type: OS::TripleO::{{role.name}}ServiceServerMetadataHook template: {get_file: ../../puppet/manifests/overcloud_common.pp}, type: OS::TripleO::ServiceServerMetadataHook template: {get_file: ../puppet/manifests/overcloud_common.pp},61,13
openstack%2Frequirements~master~I71b382db4097f36c47f56054cd226b39e67e80ba,openstack/requirements,master,I71b382db4097f36c47f56054cd226b39e67e80ba,Updated from generate-constraints,MERGED,2019-05-30 06:11:28.000000000,2019-05-30 21:59:24.000000000,2019-05-30 21:59:23.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 06:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0f3929604c5f67d00e5bf7a102cf522fe0d7d9f9', 'message': 'Updated from generate-constraints\n\nChange-Id: I71b382db4097f36c47f56054cd226b39e67e80ba\n'}, {'number': 2, 'created': '2019-05-30 14:34:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2d20137822b34de13ee71ee81518c543439c2fe3', 'message': 'Updated from generate-constraints\n\nChange-Id: I71b382db4097f36c47f56054cd226b39e67e80ba\n'}]",1,662135,2d20137822b34de13ee71ee81518c543439c2fe3,9,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I71b382db4097f36c47f56054cd226b39e67e80ba
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/662135/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0f3929604c5f67d00e5bf7a102cf522fe0d7d9f9,openstack/requirements/constraints,pbr===5.2.1grpcio===1.21.1taskflow===3.7.0SQLAlchemy===1.3.4oslo.messaging===9.7.1urllib3===1.25.3tornado===5.1.1;python_version=='2.7'freezegun===0.3.12importlib-metadata===0.17boto3===1.9.158openshift===0.8.9openstackdocstheme===1.30.0kubernetes===9.0.0botocore===1.12.158oslo.privsep===1.33.1jsonschema===3.0.1,pbr===5.2.0grpcio===1.15.0taskflow===3.6.0SQLAlchemy===1.2.19oslo.messaging===9.7.0urllib3===1.24.3tornado===4.5.3;python_version=='2.7'freezegun===0.3.11importlib-metadata===0.15boto3===1.9.157openshift===0.8.8openstackdocstheme===1.29.3kubernetes===8.0.1botocore===1.12.157oslo.privsep===1.33.0jsonschema===2.6.0,16,16
openstack%2Frequirements~master~I1c095ce35c0f7e2a1faec2bb6396a7214a44b805,openstack/requirements,master,I1c095ce35c0f7e2a1faec2bb6396a7214a44b805,update constraint for oslo.privsep to new release 1.33.1,MERGED,2019-05-30 02:07:38.000000000,2019-05-30 21:59:22.000000000,2019-05-30 21:59:21.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 02:07:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bbe0ae0f535f0e6f8845bf953b2e3e41a5346835', 'message': 'update constraint for oslo.privsep to new release 1.33.1\n\nChange-Id: I1c095ce35c0f7e2a1faec2bb6396a7214a44b805\nmeta:version: 1.33.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Iba1df2119592ce5a468d56958019c08692b6b245\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,662120,bbe0ae0f535f0e6f8845bf953b2e3e41a5346835,8,2,1,11131,,,0,"update constraint for oslo.privsep to new release 1.33.1

Change-Id: I1c095ce35c0f7e2a1faec2bb6396a7214a44b805
meta:version: 1.33.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Iba1df2119592ce5a468d56958019c08692b6b245
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/662120/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bbe0ae0f535f0e6f8845bf953b2e3e41a5346835,new-release,oslo.privsep===1.33.1,oslo.privsep===1.33.0,1,1
openstack%2Frequirements~master~I75677aed784be0c096ae7be335f6ec8f69658246,openstack/requirements,master,I75677aed784be0c096ae7be335f6ec8f69658246,update constraint for pbr to new release 5.2.1,MERGED,2019-05-30 02:12:24.000000000,2019-05-30 21:59:20.000000000,2019-05-30 21:59:20.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 02:12:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fd8620b55a1a7e2680b8693ebb9393b8036569b3', 'message': 'update constraint for pbr to new release 5.2.1\n\nChange-Id: I75677aed784be0c096ae7be335f6ec8f69658246\nmeta:version: 5.2.1\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Iba1df2119592ce5a468d56958019c08692b6b245\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,662121,fd8620b55a1a7e2680b8693ebb9393b8036569b3,8,2,1,11131,,,0,"update constraint for pbr to new release 5.2.1

Change-Id: I75677aed784be0c096ae7be335f6ec8f69658246
meta:version: 5.2.1
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Iba1df2119592ce5a468d56958019c08692b6b245
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/662121/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fd8620b55a1a7e2680b8693ebb9393b8036569b3,new-release,pbr===5.2.1,pbr===5.2.0,1,1
openstack%2Frequirements~master~I0ad1f68da3513d2c8da9cf5927e194e71d31a1e8,openstack/requirements,master,I0ad1f68da3513d2c8da9cf5927e194e71d31a1e8,update constraint for oslo.messaging to new release 9.7.1,MERGED,2019-05-30 02:05:43.000000000,2019-05-30 21:59:18.000000000,2019-05-30 21:59:18.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 02:05:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/801bf8d734467985efa66c7efdbd8eb9f9112b74', 'message': 'update constraint for oslo.messaging to new release 9.7.1\n\nChange-Id: I0ad1f68da3513d2c8da9cf5927e194e71d31a1e8\nmeta:version: 9.7.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Iba1df2119592ce5a468d56958019c08692b6b245\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,662119,801bf8d734467985efa66c7efdbd8eb9f9112b74,8,2,1,11131,,,0,"update constraint for oslo.messaging to new release 9.7.1

Change-Id: I0ad1f68da3513d2c8da9cf5927e194e71d31a1e8
meta:version: 9.7.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Iba1df2119592ce5a468d56958019c08692b6b245
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/662119/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,801bf8d734467985efa66c7efdbd8eb9f9112b74,new-release,oslo.messaging===9.7.1,oslo.messaging===9.7.0,1,1
openstack%2Frequirements~master~Ibb376acbabe2d978c9cde5461dd56a9373ac88fd,openstack/requirements,master,Ibb376acbabe2d978c9cde5461dd56a9373ac88fd,update constraint for taskflow to new release 3.7.0,MERGED,2019-05-30 02:17:04.000000000,2019-05-30 21:59:17.000000000,2019-05-30 21:59:17.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 02:17:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4eaae017d92e88ef424042e52e96a0d8b4c2e051', 'message': 'update constraint for taskflow to new release 3.7.0\n\nChange-Id: Ibb376acbabe2d978c9cde5461dd56a9373ac88fd\nmeta:version: 3.7.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Iba1df2119592ce5a468d56958019c08692b6b245\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,662122,4eaae017d92e88ef424042e52e96a0d8b4c2e051,8,2,1,11131,,,0,"update constraint for taskflow to new release 3.7.0

Change-Id: Ibb376acbabe2d978c9cde5461dd56a9373ac88fd
meta:version: 3.7.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Iba1df2119592ce5a468d56958019c08692b6b245
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/662122/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4eaae017d92e88ef424042e52e96a0d8b4c2e051,new-release,taskflow===3.7.0,taskflow===3.6.0,1,1
openstack%2Frequirements~master~If6d7d917a94548f0b6a9e8a3ed4931a0a5e37ab4,openstack/requirements,master,If6d7d917a94548f0b6a9e8a3ed4931a0a5e37ab4,update constraint for openstackdocstheme to new release 1.30.0,MERGED,2019-05-30 01:57:38.000000000,2019-05-30 21:59:16.000000000,2019-05-30 21:59:15.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 01:57:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/828a9ade012760c403351b9d83fcac467aa1311e', 'message': 'update constraint for openstackdocstheme to new release 1.30.0\n\nChange-Id: If6d7d917a94548f0b6a9e8a3ed4931a0a5e37ab4\nmeta:version: 1.30.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Change-Id: Ie6743fa52434abf8ba0f0aa4db741552e6ccfb95\nmeta:release:Code-Review+1: Andreas Jaeger <jaegerandi@gmail.com>\nmeta:release:Code-Review+1: gaoruyue <gaory@awcloud.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: Eric Fried <openstack@fried.cc>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,662118,828a9ade012760c403351b9d83fcac467aa1311e,8,2,1,11131,,,0,"update constraint for openstackdocstheme to new release 1.30.0

Change-Id: If6d7d917a94548f0b6a9e8a3ed4931a0a5e37ab4
meta:version: 1.30.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Stephen Finucane <sfinucan@redhat.com>
meta:release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta:release:Change-Id: Ie6743fa52434abf8ba0f0aa4db741552e6ccfb95
meta:release:Code-Review+1: Andreas Jaeger <jaegerandi@gmail.com>
meta:release:Code-Review+1: gaoruyue <gaory@awcloud.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Eric Fried <openstack@fried.cc>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/662118/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,828a9ade012760c403351b9d83fcac467aa1311e,new-release,openstackdocstheme===1.30.0,openstackdocstheme===1.29.3,1,1
openstack%2Fironic-python-agent~stable%2Frocky~I0e7ff9f86a266d2f798457136fed0100c78569e2,openstack/ironic-python-agent,stable/rocky,I0e7ff9f86a266d2f798457136fed0100c78569e2,Ironic python agent does not extract correct available memory,MERGED,2019-04-16 15:45:11.000000000,2019-05-30 21:50:29.000000000,2019-05-30 21:50:29.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24470}]","[{'number': 1, 'created': '2019-04-16 15:45:11.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/get-physical-memory-535a32362bcdf83a.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8fc63adaf87d76928530efa95864d519f827a297', 'message': 'Ironic python agent does not extract correct available memory\n\nThis patch fixes parsing of memory class output of lshw output.\nTask: 30201\nStory: 2005308\n\nChange-Id: I0e7ff9f86a266d2f798457136fed0100c78569e2\n(cherry picked from commit d8018b9f35172b22475984a921fadd439c5239cc)\n'}]",0,653031,8fc63adaf87d76928530efa95864d519f827a297,12,4,1,10239,,,0,"Ironic python agent does not extract correct available memory

This patch fixes parsing of memory class output of lshw output.
Task: 30201
Story: 2005308

Change-Id: I0e7ff9f86a266d2f798457136fed0100c78569e2
(cherry picked from commit d8018b9f35172b22475984a921fadd439c5239cc)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/31/653031/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/get-physical-memory-535a32362bcdf83a.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,8fc63adaf87d76928530efa95864d519f827a297,master_hardware-stable/rocky,"LSHW_JSON_OUTPUT_V1 = (""""""LSHW_JSON_OUTPUT_V2 = ("""""" { ""id"" : ""bumblebee"", ""class"" : ""system"", ""claimed"" : true, ""handle"" : ""DMI:0001"", ""description"" : ""Rack Mount Chassis"", ""product"" : ""ABCD"", ""vendor"" : ""ABCD"", ""version"" : ""1234"", ""serial"" : ""1234"", ""width"" : 64, ""configuration"" : { ""boot"" : ""normal"", ""chassis"" : ""rackmount"", ""family"" : ""Intel Grantley EP"", ""sku"" : ""NULL"", ""uuid"" : ""00010002-0003-0004-0005-000600070008"" }, ""capabilities"" : { ""smbios-2.8"" : ""SMBIOS version 2.8"", ""dmi-2.7"" : ""DMI version 2.7"", ""vsyscall32"" : ""32-bit processes"" }, ""children"" : [ { ""id"" : ""core"", ""class"" : ""bus"", ""claimed"" : true, ""handle"" : ""DMI:0002"", ""description"" : ""Motherboard"", ""product"" : ""ABCD"", ""vendor"" : ""ABCD"", ""physid"" : ""0"", ""version"" : ""1234"", ""serial"" : ""1234"", ""slot"" : ""NULL"", ""children"" : [ { ""id"" : ""memory:0"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:004A"", ""description"" : ""System Memory"", ""physid"" : ""4a"", ""slot"" : ""System board or motherboard"", ""children"" : [ { ""id"" : ""bank:0"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:004C"", ""description"" : ""DIMM Synchronous 2133 MHz (0.5 ns)"", ""product"" : ""36ASF2G72PZ-2G1A2"", ""vendor"" : ""Micron"", ""physid"" : ""0"", ""serial"" : ""101B6543"", ""slot"" : ""DIMM_A0"", ""units"" : ""bytes"", ""size"" : 17179869184, ""width"" : 64, ""clock"" : 2133000000 }, { ""id"" : ""bank:1"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:004E"", ""description"" : ""DIMM Synchronous [empty]"", ""product"" : ""NO DIMM"", ""vendor"" : ""NO DIMM"", ""physid"" : ""1"", ""serial"" : ""NO DIMM"", ""slot"" : ""DIMM_A1"" }, { ""id"" : ""bank:2"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:004F"", ""description"" : ""DIMM Synchronous 2133 MHz (0.5 ns)"", ""product"" : ""36ASF2G72PZ-2G1A2"", ""vendor"" : ""Micron"", ""physid"" : ""2"", ""serial"" : ""101B654E"", ""slot"" : ""DIMM_A2"", ""units"" : ""bytes"", ""size"" : 17179869184, ""width"" : 64, ""clock"" : 2133000000 }, { ""id"" : ""bank:3"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0051"", ""description"" : ""DIMM Synchronous [empty]"", ""product"" : ""NO DIMM"", ""vendor"" : ""NO DIMM"", ""physid"" : ""3"", ""serial"" : ""NO DIMM"", ""slot"" : ""DIMM_A3"" } ] }, { ""id"" : ""memory:1"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0052"", ""description"" : ""System Memory"", ""physid"" : ""52"", ""slot"" : ""System board or motherboard"", ""children"" : [ { ""id"" : ""bank:0"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0054"", ""description"" : ""DIMM Synchronous 2133 MHz (0.5 ns)"", ""product"" : ""36ASF2G72PZ-2G1A2"", ""vendor"" : ""Micron"", ""physid"" : ""0"", ""serial"" : ""101B6545"", ""slot"" : ""DIMM_A4"", ""units"" : ""bytes"", ""size"" : 17179869184, ""width"" : 64, ""clock"" : 2133000000 }, { ""id"" : ""bank:1"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0056"", ""description"" : ""DIMM Synchronous [empty]"", ""product"" : ""NO DIMM"", ""vendor"" : ""NO DIMM"", ""physid"" : ""1"", ""serial"" : ""NO DIMM"", ""slot"" : ""DIMM_A5"" }, { ""id"" : ""bank:2"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0057"", ""description"" : ""DIMM Synchronous 2133 MHz (0.5 ns)"", ""product"" : ""36ASF2G72PZ-2G1A2"", ""vendor"" : ""Micron"", ""physid"" : ""2"", ""serial"" : ""101B6540"", ""slot"" : ""DIMM_A6"", ""units"" : ""bytes"", ""size"" : 17179869184, ""width"" : 64, ""clock"" : 2133000000 }, { ""id"" : ""bank:3"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0059"", ""description"" : ""DIMM Synchronous [empty]"", ""product"" : ""NO DIMM"", ""vendor"" : ""NO DIMM"", ""physid"" : ""3"", ""serial"" : ""NO DIMM"", ""slot"" : ""DIMM_A7"" } ] }, { ""id"" : ""memory:4"", ""class"" : ""memory"", ""physid"" : ""1"" }, { ""id"" : ""memory:5"", ""class"" : ""memory"", ""physid"" : ""2"" } ] } ] } """""", """") def test_get_memory_psutil_v1(self, mocked_execute, mocked_psutil): mocked_execute.return_value = LSHW_JSON_OUTPUT_V1 def test_get_memory_psutil_v2(self, mocked_execute, mocked_psutil): mocked_psutil.return_value.total = 3952 * 1024 * 1024 mocked_execute.return_value = LSHW_JSON_OUTPUT_V2 mem = self.hardware.get_memory() self.assertEqual(3952 * 1024 * 1024, mem.total) self.assertEqual(65536, mem.physical_mb) @mock.patch('psutil.virtual_memory', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) def test_get_memory_psutil_exception_v1(self, mocked_execute, mocked_psutil): mocked_execute.return_value = LSHW_JSON_OUTPUT_V1 def test_get_memory_psutil_exception_v2(self, mocked_execute, mocked_psutil): mocked_execute.return_value = LSHW_JSON_OUTPUT_V2 mocked_psutil.side_effect = AttributeError() mem = self.hardware.get_memory() self.assertIsNone(mem.total) self.assertEqual(65536, mem.physical_mb) @mock.patch('psutil.virtual_memory', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) mocked_execute.return_value = LSHW_JSON_OUTPUT_V1","LSHW_JSON_OUTPUT = ("""""" def test_get_memory_psutil(self, mocked_execute, mocked_psutil): mocked_execute.return_value = LSHW_JSON_OUTPUT def test_get_memory_psutil_exception(self, mocked_execute, mocked_psutil): mocked_execute.return_value = LSHW_JSON_OUTPUT mocked_execute.return_value = LSHW_JSON_OUTPUT",231,12
openstack%2Fironic-python-agent~stable%2Frocky~Iae8b7808a35bff121f64971aadd4bd36b5f5bb71,openstack/ironic-python-agent,stable/rocky,Iae8b7808a35bff121f64971aadd4bd36b5f5bb71,Bind mount /run into chroot when installing grub,MERGED,2019-04-26 10:55:20.000000000,2019-05-30 21:50:23.000000000,2019-05-30 21:50:23.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-04-26 10:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d0c8306c19b3ba9809a759635db13998356208f1', 'message': 'Bind mount /run into chroot when installing grub\n\ngrub-mkconfig runs a lvs command that attempts to access /run/lvm\nonce for each block device, currently it times out after 10 seconds\nfor each device and moves on. Multiple 10 second delays become\na problem (causing IPA API timeouts) when multiple block devices\nare present. Bind mounting in /run avoids the delay and the\ntimeouts.\n\nTask: 30616\nStory: 2005507\n\nChange-Id: Iae8b7808a35bff121f64971aadd4bd36b5f5bb71\n'}, {'number': 2, 'created': '2019-05-08 18:23:38.000000000', 'files': ['releasenotes/notes/bindmount-run-4c6a31d3ee4e0ed6.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8531d14c22aadbec3acdcaec6c566493f606dbf5', 'message': 'Bind mount /run into chroot when installing grub\n\ngrub-mkconfig runs a lvs command that attempts to access /run/lvm\nonce for each block device, currently it times out after 10 seconds\nfor each device and moves on. Multiple 10 second delays become\na problem (causing IPA API timeouts) when multiple block devices\nare present. Bind mounting in /run avoids the delay and the\ntimeouts.\n\nTask: 30616\nStory: 2005507\n\nChange-Id: Iae8b7808a35bff121f64971aadd4bd36b5f5bb71\n(cherry picked from commit 9c35f0279209ce233a7562f2d9310ded1e0edba5)\n'}]",0,655871,8531d14c22aadbec3acdcaec6c566493f606dbf5,34,5,2,1926,,,0,"Bind mount /run into chroot when installing grub

grub-mkconfig runs a lvs command that attempts to access /run/lvm
once for each block device, currently it times out after 10 seconds
for each device and moves on. Multiple 10 second delays become
a problem (causing IPA API timeouts) when multiple block devices
are present. Bind mounting in /run avoids the delay and the
timeouts.

Task: 30616
Story: 2005507

Change-Id: Iae8b7808a35bff121f64971aadd4bd36b5f5bb71
(cherry picked from commit 9c35f0279209ce233a7562f2d9310ded1e0edba5)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/71/655871/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bindmount-run-4c6a31d3ee4e0ed6.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",3,d0c8306c19b3ba9809a759635db13998356208f1,655871,"BIND_MOUNTS = ('/dev', '/proc', '/run')","BIND_MOUNTS = ('/dev', '/proc')",21,1
openstack%2Fmanila~stable%2Fstein~Id905d47600bda9923cebae617749c8286552ec94,openstack/manila,stable/stein,Id905d47600bda9923cebae617749c8286552ec94,Fix NFS/CIFS share creation failure issue,ABANDONED,2019-05-23 22:49:00.000000000,2019-05-30 21:38:17.000000000,,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25456}]","[{'number': 1, 'created': '2019-05-23 22:49:00.000000000', 'files': ['manila/share/drivers/service_instance.py', 'manila/tests/image/__init__.py', 'manila/tests/share/drivers/test_service_instance.py', 'requirements.txt', 'manila/tests/image/test_image.py', 'manila/image/glance.py', 'manila/image/__init__.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/12de614a71c1d7c687f5cd5fe2a28eba62f379e3', 'message': 'Fix NFS/CIFS share creation failure issue\n\nWhen the image count is over 25, there might not get\nmanila-service-image, because current manila shares\ncreation is using novaclient to get image info, but\nnovaclient can only get 25 images due to pagination\nof glance server, So this change is to switch to use\nglanceclient instead of novaclient to get image info,\nbecause glanceclient can iter all image info, while\nnovaclient is rarely maintained with stuff of image\nAPI.\n\nChange-Id: Id905d47600bda9923cebae617749c8286552ec94\nCloses-Bug: #1741425\n(cherry picked from commit 51dd510636c817d2f7b5cb0b3c967fb604de87bb)\n'}]",0,661130,12de614a71c1d7c687f5cd5fe2a28eba62f379e3,10,4,1,28721,,,0,"Fix NFS/CIFS share creation failure issue

When the image count is over 25, there might not get
manila-service-image, because current manila shares
creation is using novaclient to get image info, but
novaclient can only get 25 images due to pagination
of glance server, So this change is to switch to use
glanceclient instead of novaclient to get image info,
because glanceclient can iter all image info, while
novaclient is rarely maintained with stuff of image
API.

Change-Id: Id905d47600bda9923cebae617749c8286552ec94
Closes-Bug: #1741425
(cherry picked from commit 51dd510636c817d2f7b5cb0b3c967fb604de87bb)
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/661130/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/service_instance.py', 'manila/tests/image/__init__.py', 'manila/tests/share/drivers/test_service_instance.py', 'requirements.txt', 'manila/tests/image/test_image.py', 'manila/image/glance.py', 'manila/image/__init__.py']",7,12de614a71c1d7c687f5cd5fe2a28eba62f379e3,bug/1741425-stable/stein,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import oslo_config.cfg import oslo_utils.importutils _glance_opts = [ oslo_config.cfg.StrOpt('image_api_class', default='manila.image.glance.API', help='The full class name of the ' 'Glance API class to use.'), ] oslo_config.cfg.CONF.register_opts(_glance_opts) def API(): importutils = oslo_utils.importutils glance_api_class = oslo_config.cfg.CONF.image_api_class cls = importutils.import_class(glance_api_class) return cls() ",,237,5
openstack%2Fproject-config~master~If5ad906de60035a0561018b6627ee445fce9ba76,openstack/project-config,master,If5ad906de60035a0561018b6627ee445fce9ba76,Refactor dashboards for neutron-dynamic-routing,ABANDONED,2019-05-08 17:22:44.000000000,2019-05-30 21:36:25.000000000,,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-08 17:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bd5f2d92f0c72febff417ada5ea9f4d08a271097', 'message': 'Add dashboards for neutron-dynamic-routing\n\nThis changes adds grafana dashboards for tracking the status of\nneutron-dynamic-routing jobs.\n\nChange-Id: If5ad906de60035a0561018b6627ee445fce9ba76\n'}, {'number': 2, 'created': '2019-05-08 21:44:00.000000000', 'files': ['grafana/neutron-dynamic-routing.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a6689cbdcd6853c6f62a866980018f584070adbe', 'message': 'Refactor dashboards for neutron-dynamic-routing\n\nThis changes adjusts grafana dashboards for tracking the status of\nneutron-dynamic-routing jobs, providing improved organization and\ndropping tracking of python 3.5 jobs.\n\nChange-Id: If5ad906de60035a0561018b6627ee445fce9ba76\n'}]",1,657853,a6689cbdcd6853c6f62a866980018f584070adbe,8,5,2,4187,,,0,"Refactor dashboards for neutron-dynamic-routing

This changes adjusts grafana dashboards for tracking the status of
neutron-dynamic-routing jobs, providing improved organization and
dropping tracking of python 3.5 jobs.

Change-Id: If5ad906de60035a0561018b6627ee445fce9ba76
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/657853/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron-dynamic-routing.yaml'],1,bd5f2d92f0c72febff417ada5ea9f4d08a271097,," time: from: ""now-7d"" to: ""now"" NOTE - 'No datapoints' in a graph means there have been no job failures reported yet. - title: Scenario Job Failure Rates (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-basic.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-basic{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-basic') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv4.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv4{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-ipv4') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv6.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv6{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-ipv6') - title: Number of scenario job runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-basic.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-basic') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv4.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-ipv4') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv6.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-ipv6') - title: Functional/Tempest Failure Rates (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-functional.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-functional.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-dynamic-routing-dsvm-functional') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-api.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-api.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-api') - title: Number of Functional/Tempest jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-functional{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-dynamic-routing-dsvm-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-api.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-api') type: graph - title: Unit Tests Failure Rates (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py27.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py35') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py37.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py37') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-lower-constraints.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-lower-constraints') type: graph - title: Number of Unit Tests jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py35') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py37') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-lower-constraints') type: graph - title: Coverage/Linter Failure Rates (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-cover.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-cover.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-cover') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-pep8.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-pep8') type: graph - title: Number of Coverage/Linter jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-cover.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-cover') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-pep8') type: graph - title: Documentation Failure Rates (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-docs.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-docs') type: graph - title: Number of Documentation jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-docs') type: graph - title: Scenario Job Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-basic.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-basic{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-basic') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv4.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv4{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-ipv4') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv6.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv6{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-ipv6') type: graph - title: Number of scenario job runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-basic.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-basic') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv4.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-ipv4') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv6.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-ipv6') type: graph - title: Functional/Tempest Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-functional.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-functional.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-dynamic-routing-dsvm-functional') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-api.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-api.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-api') type: graph - title: Number of Functional/Tempest jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-functional.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-dynamic-routing-dsvm-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-api.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-api') type: graph - title: Unit Tests Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py27.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py35') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py37.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py37') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-lower-constraints.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-lower-constraints') type: graph - title: Number of Unit Tests jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py35') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py37') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-lower-constraints') type: graph - title: Coverage/Linter Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-cover.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-cover.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-cover') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-pep8.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-pep8') type: graph - title: Number of Coverage/Linter jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-cover.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-cover') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-pep8') type: graph - title: Documentation Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-docs.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-docs') type: graph - title: Number of Documentation jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-docs') type: graph - title: Periodic jobs span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-with-os-ken-master-scenario-ipv4.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-with-os-ken-master-scenario-ipv4.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-with-os-ken-master-scenario-ipv4') type: graph - title: Number of Periodic jobs runs span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-dynamic-routing-dsvm-tempest-with-os-ken-master-scenario-ipv4.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-with-os-ken-master-scenario-ipv4')"," - title: Unit Test Failure Rates (Check queue) span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py27.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py35') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-api.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-api.{SUCCESS,FAILURE})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-api') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-functional.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-functional.{SUCCESS,FAILURE})),'24hours'), 'neutron-dynamic-routing-dsvm-functional') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-basic.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-basic.{SUCCESS,FAILURE})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-basic') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv4.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv4.{SUCCESS,FAILURE})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-ipv4') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv6.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-scenario-ipv6.{SUCCESS,FAILURE})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-scenario-ipv6') - title: Unit Test Failure Rates (Gate queue) span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py27.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py35') - title: Periodic Job Failure Rates span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py35-with-neutron-lib-master') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-with-ryu-master-scenario-ipv4.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-with-ryu-master-scenario-ipv4.{SUCCESS,FAILURE})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-with-ryu-master-scenario-ipv4') - title: Integrated Failure Rates (Gate queue) span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-api.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-tempest-api.{SUCCESS,FAILURE})),'24hours'), 'neutron-dynamic-routing-dsvm-tempest-api') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-functional.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-dynamic-routing.master.job.neutron-dynamic-routing-dsvm-functional.{SUCCESS,FAILURE})),'24hours'), 'neutron-dynamic-routing-dsvm-functional')",142,21
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I2f177c930567b3a45f0d95cec4140f478f14a074,openstack/tripleo-heat-templates,stable/queens,I2f177c930567b3a45f0d95cec4140f478f14a074,Remove the iptables rules set via service_config_settings,MERGED,2019-05-30 06:31:21.000000000,2019-05-30 21:29:37.000000000,2019-05-30 21:29:37.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-30 06:31:21.000000000', 'files': ['puppet/services/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/525def10109b04d05ff833e6ea1207b0fa7d2e0b', 'message': ""Remove the iptables rules set via service_config_settings\n\nThis breaks the rules for the haproxy stats access because it\nshadows them. Let's remove these rules and move the iptables\nrules for haproxy in puppet-tripleo where they should have\nbeen in the first place, like for all other services.\n\nNB: Cherry pick is clean but had to be moved to\npuppet/services/horizon.yaml instead of the docker/services/horizon.yaml\nDepends-On: I1325171ef60d7a7e3b57373082fcdb5487be939b\nChange-Id: I2f177c930567b3a45f0d95cec4140f478f14a074\nCloses-Bug: #1829338\n(cherry picked from commit 114e5778f95d51e518c0ef73b05c54fca160dbe0)\n(cherry picked from commit 6b4f03f9ea0e958e75f82040d674f67a6cdcfc87)\n(cherry picked from commit ff10e2f6b9968d51f43c95eaf2082d85fe215a34)\n""}]",0,662138,525def10109b04d05ff833e6ea1207b0fa7d2e0b,13,5,1,20172,,,0,"Remove the iptables rules set via service_config_settings

This breaks the rules for the haproxy stats access because it
shadows them. Let's remove these rules and move the iptables
rules for haproxy in puppet-tripleo where they should have
been in the first place, like for all other services.

NB: Cherry pick is clean but had to be moved to
puppet/services/horizon.yaml instead of the docker/services/horizon.yaml
Depends-On: I1325171ef60d7a7e3b57373082fcdb5487be939b
Change-Id: I2f177c930567b3a45f0d95cec4140f478f14a074
Closes-Bug: #1829338
(cherry picked from commit 114e5778f95d51e518c0ef73b05c54fca160dbe0)
(cherry picked from commit 6b4f03f9ea0e958e75f82040d674f67a6cdcfc87)
(cherry picked from commit ff10e2f6b9968d51f43c95eaf2082d85fe215a34)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/662138/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/horizon.yaml'],1,525def10109b04d05ff833e6ea1207b0fa7d2e0b,bug/1829338-stable/queens,, haproxy: tripleo.haproxy.firewall_rules: '127 horizon': dport: - 80 - 443,0,6
openstack%2Fsushy~master~Ic5da181af128641c6eaa432be566cbe0a5f69de4,openstack/sushy,master,Ic5da181af128641c6eaa432be566cbe0a5f69de4,Add @Redfish.Settings update status and expose it for BIOS,MERGED,2018-08-14 11:49:35.000000000,2019-05-30 21:21:31.000000000,2019-05-30 21:21:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}, {'_account_id': 27909}]","[{'number': 1, 'created': '2018-08-14 11:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/8b2709dc70442fe7c4afd8036b54d98f0990bef7', 'message': 'WIP: Add @Redfish.Settings update status and expose it for BIOS\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}, {'number': 2, 'created': '2018-08-14 18:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/d514a3fc1ef15d1c7a4335e299284487dd99c24e', 'message': 'WIP: Add @Redfish.Settings update status and expose it for BIOS\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}, {'number': 3, 'created': '2018-08-14 18:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/25c0c635b24674a52d2b235fcbd054241071b7f9', 'message': 'WIP: Add @Redfish.Settings update status and expose it for BIOS\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}, {'number': 4, 'created': '2018-11-01 15:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/901d219f6734dc7fc9c335e0d88817fc3f26b211', 'message': 'Add @Redfish.Settings update status and expose it for BIOS\n\nAdds logic to determine status exposed to user based on\nmessage severities. This is initial logic and in future can\nbe improved to determine, e.g., if settings update is pending.\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}, {'number': 5, 'created': '2018-12-04 20:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/5d6576a5d7a49d09bfdd610e199ca32f1f3235b1', 'message': 'Add @Redfish.Settings update status and expose it for BIOS\n\nAdds logic to determine status exposed to user based on\nmessage severities. This is initial logic and in future can\nbe improved to determine, e.g., if settings update is pending.\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}, {'number': 6, 'created': '2019-02-12 19:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/ef3fc54cab689c0089805ef2dfadaa4131c32f50', 'message': 'Add @Redfish.Settings update status and expose it for BIOS\n\nAdds logic to determine status exposed to user based on\nmessage severities. This is initial logic and in future can\nbe improved to determine, e.g., if settings update is pending.\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}, {'number': 7, 'created': '2019-02-25 19:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f5bc938f59f928ca8a75fb29156a5535eb07db4a', 'message': 'Add @Redfish.Settings update status and expose it for BIOS\n\nAdds logic to determine status exposed to user based on\nmessage severities. This is initial logic and in future can\nbe improved to determine, e.g., if settings update is pending.\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}, {'number': 8, 'created': '2019-03-03 18:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/2cd100fd9b3fbba23ac0568833f223cd999f6fa6', 'message': 'Add @Redfish.Settings update status and expose it for BIOS\n\nAdds logic to determine status exposed to user based on\nmessage severities. This is initial logic and in future can\nbe improved to determine, e.g., if settings update is pending.\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}, {'number': 9, 'created': '2019-05-22 07:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/295f28777f61d000bb19fc4ffae79f307c6fae93', 'message': 'Add @Redfish.Settings update status and expose it for BIOS\n\nAdds logic to determine status exposed to user based on\nmessage severities. This is initial logic and in future can\nbe improved to determine, e.g., if settings update is pending.\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}, {'number': 10, 'created': '2019-05-22 09:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/d641b672158a6d08755a1e2c0f0713327a1371e0', 'message': 'Add @Redfish.Settings update status and expose it for BIOS\n\nAdds logic to determine status exposed to user based on\nmessage severities. This is initial logic and in future can\nbe improved to determine, e.g., if settings update is pending.\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}, {'number': 11, 'created': '2019-05-23 11:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/764ac46b6135fb42f70c062eed0c326c817495ce', 'message': 'Add @Redfish.Settings update status and expose it for BIOS\n\nAdds logic to determine status exposed to user based on\nmessage severities. This is initial logic and in future can\nbe improved to determine, e.g., if settings update is pending.\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}, {'number': 12, 'created': '2019-05-24 08:34:24.000000000', 'files': ['sushy/tests/unit/json_samples/settings.json', 'sushy/tests/unit/resources/test_settings.py', 'sushy/resources/system/system.py', 'sushy/tests/unit/resources/system/test_bios.py', 'sushy/tests/unit/test_main.py', 'sushy/main.py', 'sushy/tests/unit/json_samples/bios.json', 'sushy/resources/system/bios.py', 'releasenotes/notes/add-bios-update-status-cc59816c374b78e4.yaml', 'sushy/resources/settings.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/51032b62caa4104083dd040c12e6626bf2abc1ea', 'message': 'Add @Redfish.Settings update status and expose it for BIOS\n\nAdds logic to determine status exposed to user based on\nmessage severities. This is initial logic and in future can\nbe improved to determine, e.g., if settings update is pending.\n\nChange-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4\nStory: 2001791\nTask: 19767\n'}]",28,591635,51032b62caa4104083dd040c12e6626bf2abc1ea,44,7,12,27909,,,0,"Add @Redfish.Settings update status and expose it for BIOS

Adds logic to determine status exposed to user based on
message severities. This is initial logic and in future can
be improved to determine, e.g., if settings update is pending.

Change-Id: Ic5da181af128641c6eaa432be566cbe0a5f69de4
Story: 2001791
Task: 19767
",git fetch https://review.opendev.org/openstack/sushy refs/changes/35/591635/5 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/settings.json', 'sushy/resources/system/system.py', 'sushy/tests/unit/resources/test_settings.py', 'sushy/tests/unit/resources/system/test_bios.py', 'sushy/tests/unit/test_main.py', 'sushy/main.py', 'sushy/resources/system/bios.py', 'sushy/resources/settings.py']",8,8b2709dc70442fe7c4afd8036b54d98f0990bef7,settings-status,"from sushy.resources import constants as res_consfrom sushy import utils class SettingsUpdateStatus(object): UPDATE_UNKNOWN = 0, UPDATE_SUCCESS = 1, UPDATE_FAILURE = 2, UPDATE_PENDING = 3, NO_UPDATES = 4 class SettingsUpdate(object): """"""Contains Settings update status and details of the update"""""" def __init__(self, status, messages): self.status = status self.messages = messages def get_status(self, registries=None): """"""Determines the status of last update based on message id-s and severity :param registries: registries to use to parse message. If registries not provided, then status information will be limited :returns: SettingsUpdate """""" if not self.time: return SettingsUpdate(SettingsUpdateStatus.NO_UPDATES, None) parsed_msgs = None if not registries: any_errors = [m for m in self.messages if not m.message_id.lower().endswith('success')] else: parsed_msgs = [] for m in self.messages: parsed_msgs.append(utils.parse_message(registries, m)) any_errors = [m for m in parsed_msgs if not m.severity == res_cons.SEVERITY_OK] if any_errors: status = SettingsUpdateStatus.UPDATE_FAILURE else: status = SettingsUpdateStatus.UPDATE_SUCCESS return SettingsUpdate(status, parsed_msgs)",,112,8
openstack%2Fnova~master~Ic3fbf2af7d88daff950f925d3115c992234a545e,openstack/nova,master,Ic3fbf2af7d88daff950f925d3115c992234a545e,don't add device address if there is no any units,ABANDONED,2017-09-22 15:13:08.000000000,2019-05-30 21:12:08.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12408}, {'_account_id': 13431}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 21284}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-22 15:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81c19ae36a70544dad79c62490ba7bf3a5df70c3', 'message': ""don't add device address if there is no any units\n\nCommit fb343c4022 adds the address element to\nthe disk configuration. The only problem if units\nis None, in such case address element will be\ninvalid(address element without unique unit is\ninvalid).\n\nChange-Id: Ic3fbf2af7d88daff950f925d3115c992234a545e\nSigned-off-by: Konstantin Neumoin <kneumoin@virtuozzo.com>\n""}, {'number': 2, 'created': '2017-09-26 12:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbf8b48921c0366530bda714f44262013e6a923f', 'message': ""don't add device address if there is no any units\n\nCommit fb343c4022 adds the address element to\nthe disk configuration. The only problem if units\nis None, in such case address element will be\ninvalid(address element without unique unit is\ninvalid).\n\nChange-Id: Ic3fbf2af7d88daff950f925d3115c992234a545e\nSigned-off-by: Konstantin Neumoin <kneumoin@virtuozzo.com>\n""}, {'number': 3, 'created': '2017-09-26 13:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9db685d58b97e090d30e1c16239f746322ca5932', 'message': ""don't add device address if there is no any units\n\nCommit fb343c4022 adds the address element to\nthe disk configuration. The only problem if units\nis None, in such case address element will be\ninvalid(address element without unique unit is\ninvalid).\n\nChange-Id: Ic3fbf2af7d88daff950f925d3115c992234a545e\nSigned-off-by: Konstantin Neumoin <kneumoin@virtuozzo.com>\n""}, {'number': 4, 'created': '2017-09-28 12:48:39.000000000', 'files': ['nova/virt/libvirt/volume/volume.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/789a1f26adbde37757b73ff593a23f8e94b52d42', 'message': ""don't add device address if there is no any units\n\nCommit fb343c4022 adds the address element to\nthe disk configuration. The only problem if units\nis None, in such case address element will be\ninvalid(address element without unique unit is\ninvalid).\n\nChange-Id: Ic3fbf2af7d88daff950f925d3115c992234a545e\nSigned-off-by: Konstantin Neumoin <kneumoin@virtuozzo.com>\n""}]",0,506686,789a1f26adbde37757b73ff593a23f8e94b52d42,46,14,4,26955,,,0,"don't add device address if there is no any units

Commit fb343c4022 adds the address element to
the disk configuration. The only problem if units
is None, in such case address element will be
invalid(address element without unique unit is
invalid).

Change-Id: Ic3fbf2af7d88daff950f925d3115c992234a545e
Signed-off-by: Konstantin Neumoin <kneumoin@virtuozzo.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/506686/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/imagebackend.py'],1,81c19ae36a70544dad79c62490ba7bf3a5df70c3,," if disk_unit is None: return # In order to allow up to 256 disks handled by one # virtio-scsi controller, the device addr should be # specified. info.device_addr.unit = disk_unit"," if disk_unit is not None: # In order to allow up to 256 disks handled by one # virtio-scsi controller, the device addr should be # specified. info.device_addr.unit = disk_unit",6,5
openstack%2Fopenstack-helm~master~I4de213e6b70e084c47c9d31f0a7c76fdbf005892,openstack/openstack-helm,master,I4de213e6b70e084c47c9d31f0a7c76fdbf005892,[CEPH] Enable Helm tests for ceph charts,ABANDONED,2019-05-20 20:41:27.000000000,2019-05-30 20:57:31.000000000,,"[{'_account_id': 12281}, {'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-05-20 20:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a86b1d22c0140e3cc4861e3658e92089a401b04', 'message': '[CEPH] Enable Helm tests for ceph charts\n\nThis is to test helm tests  for  ceph charts\n\nChange-Id: I4de213e6b70e084c47c9d31f0a7c76fdbf005892\n'}, {'number': 2, 'created': '2019-05-30 15:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bf0df470ccd94733547b0250c025f54acf19ca66', 'message': '[CEPH] Enable Helm tests for ceph charts\n\nThis is to test helm tests  for  ceph charts\n\nChange-Id: I4de213e6b70e084c47c9d31f0a7c76fdbf005892\n'}, {'number': 3, 'created': '2019-05-30 15:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/065ab6212179312963d5eeffd313d4c2366ebcc4', 'message': '[CEPH] Enable Helm tests for ceph charts\n\nThis is to test helm tests  for  ceph charts\n\nChange-Id: I4de213e6b70e084c47c9d31f0a7c76fdbf005892\n'}, {'number': 4, 'created': '2019-05-30 16:58:23.000000000', 'files': ['tools/deployment/component/ceph/ceph.sh', 'tools/deployment/developer/ceph/040-ceph.sh', 'tools/deployment/multinode/030-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7bbe1aab4c083841b81546cbb6969761183eed81', 'message': '[CEPH] Enable Helm tests for ceph charts\n\nThis is to test helm tests  for  ceph charts\n\nChange-Id: I4de213e6b70e084c47c9d31f0a7c76fdbf005892\n'}]",0,660205,7bbe1aab4c083841b81546cbb6969761183eed81,12,7,4,28372,,,0,"[CEPH] Enable Helm tests for ceph charts

This is to test helm tests  for  ceph charts

Change-Id: I4de213e6b70e084c47c9d31f0a7c76fdbf005892
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/05/660205/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/developer/ceph/040-ceph.sh', 'tools/deployment/multinode/030-ceph.sh']",2,2a86b1d22c0140e3cc4861e3658e92089a401b04,ceph-helm-tests,helm test ceph-osd --timeout 900 helm test ceph-client --timeout 900,,4,0
openstack%2Fglance_store~master~Ia53034f5c1aff754dd500531f27b7c3705a17e19,openstack/glance_store,master,Ia53034f5c1aff754dd500531f27b7c3705a17e19,Add releasenote for option removal,MERGED,2019-05-30 17:12:31.000000000,2019-05-30 20:46:00.000000000,2019-05-30 20:46:00.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 17:12:31.000000000', 'files': ['releasenotes/notes/remove-store-cap-update-min-interval-21fea4173ed4a09b.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/201e6e26e111116790c2fc9f595835a8b81824c7', 'message': ""Add releasenote for option removal\n\nDocuments the removal of 'store_capabilities_update_min_interval' by\nchange I1a6cfa45b5a37eacb4ba158b62fe619e1b1c9dff.\n\nChange-Id: Ia53034f5c1aff754dd500531f27b7c3705a17e19\n""}]",0,662267,201e6e26e111116790c2fc9f595835a8b81824c7,7,3,1,5314,,,0,"Add releasenote for option removal

Documents the removal of 'store_capabilities_update_min_interval' by
change I1a6cfa45b5a37eacb4ba158b62fe619e1b1c9dff.

Change-Id: Ia53034f5c1aff754dd500531f27b7c3705a17e19
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/67/662267/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-store-cap-update-min-interval-21fea4173ed4a09b.yaml'],1,201e6e26e111116790c2fc9f595835a8b81824c7,min-interval-relnote,"--- upgrade: - The ``store_capabilities_update_min_interval`` configuration option, deprecated since the Rocky release, has been removed. The option configured a capability that was not implemented by any glance_store drivers. Thus its removal will have no impact on any deployments. ",,6,0
openstack%2Fglance_store~master~Ia0b66aac906b7920f246c4710ed06d63e11276d8,openstack/glance_store,master,Ia0b66aac906b7920f246c4710ed06d63e11276d8,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:38:04.000000000,2019-05-30 20:45:59.000000000,2019-05-30 20:45:59.000000000,"[{'_account_id': 5314}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 26233}, {'_account_id': 27781}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 11:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/1c81233a891fd5daa502d80ce4b1055756517472', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ia0b66aac906b7920f246c4710ed06d63e11276d8\n'}, {'number': 2, 'created': '2019-04-23 14:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4181d5d494eaf4f7805665979649df85f0a991d9', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ia0b66aac906b7920f246c4710ed06d63e11276d8\n'}, {'number': 3, 'created': '2019-05-05 06:45:57.000000000', 'files': ['releasenotes/notes/queens-relnote-5fa2d009d9a9e458.yaml', 'README.rst', 'tox.ini', 'releasenotes/notes/pike-relnote-9f547df14184d18c.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d7acfb420ff0324e8419a9e29ff0fa101f9516da', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ia0b66aac906b7920f246c4710ed06d63e11276d8\n'}]",8,655006,d7acfb420ff0324e8419a9e29ff0fa101f9516da,18,8,3,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ia0b66aac906b7920f246c4710ed06d63e11276d8
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/06/655006/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/queens-relnote-5fa2d009d9a9e458.yaml', 'README.rst', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'tox.ini', 'releasenotes/notes/pike-relnote-9f547df14184d18c.yaml']",5,1c81233a891fd5daa502d80ce4b1055756517472,, <https://opendev.org/openstack/glance_store/commit/?id=802c5a785444ba9ea5888c7cd131d004ec2a19ad>`_ <https://opendev.org/openstack/glance_store/commit/?id=ccc9696e3f071383cd05d88ba2488f5a5ee98120>`_ <https://opendev.org/openstack/glance_store/commit/?id=d6f3c4e2d921d8a6db8be79e4a81e393334cfa4c>`_ <https://opendev.org/openstack/glance_store/commit/?id=edc19a290b05a12f39f3059b11e2b978a9362052>`_ <https://opendev.org/openstack/glance_store/commit/?id=963e2a0fd1c173556a2c40915ad26db28d8375a6>`_ <https://opendev.org/openstack/glance_store/commit/?id=d16dff9a08d1104540182f3aa36758dc89603fc0>`_, <https://git.openstack.org/cgit/openstack/glance_store/commit/?id=802c5a785444ba9ea5888c7cd131d004ec2a19ad>`_ <https://git.openstack.org/cgit/openstack/glance_store/commit/?id=ccc9696e3f071383cd05d88ba2488f5a5ee98120>`_ <https://git.openstack.org/cgit/openstack/glance_store/commit/?id=d6f3c4e2d921d8a6db8be79e4a81e393334cfa4c>`_ <https://git.openstack.org/cgit/openstack/glance_store/commit/?id=edc19a290b05a12f39f3059b11e2b978a9362052>`_ <https://git.openstack.org/cgit/openstack/glance_store/commit/?id=963e2a0fd1c173556a2c40915ad26db28d8375a6>`_ <https://git.openstack.org/cgit/openstack/glance_store/commit/?id=d16dff9a08d1104540182f3aa36758dc89603fc0>`_,17,17
openstack%2Fneutron~master~I92967d791c1e6c05b3b9c2dc8bbd204aa6b49786,openstack/neutron,master,I92967d791c1e6c05b3b9c2dc8bbd204aa6b49786,Add short info about tempest API/scenario tests to reviewers guide,MERGED,2019-05-28 14:33:24.000000000,2019-05-30 20:40:03.000000000,2019-05-30 20:40:02.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-28 14:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/801c664ee95f98904dd94fea3e0f8d7fc2381799', 'message': 'Add short info about tempest API/scenario tests to reviewers guide\n\nIt should be required to request API/scenario tests for any change\nthat provides new Neutron API and reviewers should remember to\ncheck and require such additional patches with such tests.\n\nChange-Id: I92967d791c1e6c05b3b9c2dc8bbd204aa6b49786\n'}, {'number': 2, 'created': '2019-05-28 15:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6401802576bf3987dfc8feae01ac4b0a6be07682', 'message': 'Add short info about tempest API/scenario tests to reviewers guide\n\nIt should be required to request API/scenario tests for any change\nthat provides new Neutron API and reviewers should remember to\ncheck and require such additional patches with such tests.\n\nChange-Id: I92967d791c1e6c05b3b9c2dc8bbd204aa6b49786\n'}, {'number': 3, 'created': '2019-05-29 08:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/345c2d3c52d4b6e035466f656bd633f12855dfc6', 'message': 'Add short info about tempest API/scenario tests to reviewers guide\n\nIt should be required to request API/scenario tests for any change\nthat provides new Neutron API and reviewers should remember to\ncheck and require such additional patches with such tests.\n\nChange-Id: I92967d791c1e6c05b3b9c2dc8bbd204aa6b49786\n'}, {'number': 4, 'created': '2019-05-29 12:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e09f836099c3cc96d6cba718e839b8d7b8b4799', 'message': 'Add short info about tempest API/scenario tests to reviewers guide\n\nIt should be required to request API/scenario tests for any change\nthat provides new Neutron API and reviewers should remember to\ncheck and require such additional patches with such tests.\n\nChange-Id: I92967d791c1e6c05b3b9c2dc8bbd204aa6b49786\n'}, {'number': 5, 'created': '2019-05-30 09:12:53.000000000', 'files': ['doc/source/contributor/policies/code-reviews.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d55d3bb9f177d0430bd70f6f8c9401e0b97ae87e', 'message': 'Add short info about tempest API/scenario tests to reviewers guide\n\nIt should be required to request API/scenario tests for any change\nthat provides new Neutron API and reviewers should remember to\ncheck and require such additional patches with such tests.\n\nChange-Id: I92967d791c1e6c05b3b9c2dc8bbd204aa6b49786\n'}]",23,661770,d55d3bb9f177d0430bd70f6f8c9401e0b97ae87e,34,9,5,11975,,,0,"Add short info about tempest API/scenario tests to reviewers guide

It should be required to request API/scenario tests for any change
that provides new Neutron API and reviewers should remember to
check and require such additional patches with such tests.

Change-Id: I92967d791c1e6c05b3b9c2dc8bbd204aa6b49786
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/661770/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/policies/code-reviews.rst'],1,801c664ee95f98904dd94fea3e0f8d7fc2381799,add-api-tests-policy-to-review,"* Any change that modifies or introduces new API, should have tests coverage in neutron-tempest-plugin or tempest tests suite. There should be at least API tests added for such new feature but the best would be if there would be API and scenario test added where it is appropriate. ",,5,0
openstack%2Fnova~master~I2eff2d60e3c227394ab137a4ec80ff21ec52c8a2,openstack/nova,master,I2eff2d60e3c227394ab137a4ec80ff21ec52c8a2,Set [quota]count_usage_from_placement = True in nova-next,MERGED,2019-04-16 20:30:00.000000000,2019-05-30 20:39:55.000000000,2019-05-30 20:39:55.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12408}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-04-16 20:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/478a16089df3ec5606a6d0c0c84c9888c1b7848e', 'message': 'Set [quota]count_usage_from_placement = True in nova-next\n\nThis adds test coverage of counting quota usage for cores and ram from\nplacement and instances from instance mappings in the nova-next job.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I2eff2d60e3c227394ab137a4ec80ff21ec52c8a2\n'}, {'number': 2, 'created': '2019-04-16 20:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be94f3c59bf6b641178e67a1bb022b2bb774e673', 'message': 'Set [quota]count_usage_from_placement = True in nova-next\n\nThis adds test coverage of counting quota usage for cores and ram from\nplacement and instances from instance mappings in the nova-next job.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I2eff2d60e3c227394ab137a4ec80ff21ec52c8a2\n'}, {'number': 3, 'created': '2019-04-17 04:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed082ce6577a60d8d1926ed71e787288da8ad734', 'message': 'Set [quota]count_usage_from_placement = True in nova-next\n\nThis adds test coverage of counting quota usage for cores and ram from\nplacement and instances from instance mappings in the nova-next job.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I2eff2d60e3c227394ab137a4ec80ff21ec52c8a2\n'}, {'number': 4, 'created': '2019-04-18 18:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f923aac64aa0ca4ccb7fe613607caf40d3523cd5', 'message': 'Set [quota]count_usage_from_placement = True in nova-next\n\nThis adds test coverage of counting quota usage for cores and ram from\nplacement and instances from instance mappings in the nova-next job.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I2eff2d60e3c227394ab137a4ec80ff21ec52c8a2\n'}, {'number': 5, 'created': '2019-04-18 19:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e704e80f2b85cfc13ca8715f0eb0fb920c4eabf', 'message': 'Set [quota]count_usage_from_placement = True in nova-next\n\nThis adds test coverage of counting quota usage for cores and ram from\nplacement and instances from instance mappings in the nova-next job.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I2eff2d60e3c227394ab137a4ec80ff21ec52c8a2\n'}, {'number': 6, 'created': '2019-05-02 21:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bbb0b65d7303a0b59660575993f7b87ba24d140', 'message': 'Set [quota]count_usage_from_placement = True in nova-next\n\nThis adds test coverage of counting quota usage for cores and ram from\nplacement and instances from instance mappings in the nova-next job.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I2eff2d60e3c227394ab137a4ec80ff21ec52c8a2\n'}, {'number': 7, 'created': '2019-05-23 18:43:44.000000000', 'files': ['playbooks/legacy/nova-next/run.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f17dbe69f20dae95005b347fc75046f5bdf9204f', 'message': 'Set [quota]count_usage_from_placement = True in nova-next\n\nThis adds test coverage of counting quota usage for cores and ram from\nplacement and instances from instance mappings in the nova-next job.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: I2eff2d60e3c227394ab137a4ec80ff21ec52c8a2\n'}]",2,653146,f17dbe69f20dae95005b347fc75046f5bdf9204f,94,19,7,4690,,,0,"Set [quota]count_usage_from_placement = True in nova-next

This adds test coverage of counting quota usage for cores and ram from
placement and instances from instance mappings in the nova-next job.

Part of blueprint count-quota-usage-from-placement

Change-Id: I2eff2d60e3c227394ab137a4ec80ff21ec52c8a2
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/653146/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/nova-next/run.yaml'],1,478a16089df3ec5606a6d0c0c84c9888c1b7848e,bp/count-quota-usage-from-placement, [quota] count_usage_from_placement = True,,2,0
openstack%2Fnova~master~Ie22b0acb5824a41da327abdcf9848d02fc9a92f5,openstack/nova,master,Ie22b0acb5824a41da327abdcf9848d02fc9a92f5,Count instances from mappings and cores/ram from placement,MERGED,2019-02-20 04:14:09.000000000,2019-05-30 20:39:43.000000000,2019-05-30 20:39:42.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 12408}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-02-20 04:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71db018084d048f078490b9241a07622a955b2d7', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 2, 'created': '2019-02-20 08:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78d4f450663d2fb7a28877a606f5ac992582d834', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 3, 'created': '2019-02-20 16:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a19ea5eaac044327e3551369a30d15b5e01f6d7f', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 4, 'created': '2019-02-21 03:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bacad8677c3a007ff9b5429282129d11496ea8fb', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 5, 'created': '2019-02-22 02:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccbc684b3a531a4b65312483ddd3e4927ecb957e', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 6, 'created': '2019-02-25 05:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/444c0a84991e1b43292145b35a7fcad4d6b778a6', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 7, 'created': '2019-02-26 01:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfc15c9e8bea283ab4fecf7dc40a03f4610ab3ab', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 8, 'created': '2019-02-26 06:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/840aa57869f46782866b0e29c537772fdeb46932', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 9, 'created': '2019-02-26 17:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2788b7e3b4ef6a52cd5f76d64ac03f9dd7907a44', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nDepends-On: https://review.openstack.org/639216\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 10, 'created': '2019-02-27 02:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b502a8ce395044fdcee9efcc5998aec836f24e1', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nDepends-On: https://review.openstack.org/639216\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 11, 'created': '2019-02-28 06:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/363cd6f1ad23a205b919efeb21bb702ac2052845', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 12, 'created': '2019-02-28 17:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d81af9c0b831e78c8492f5dfaff7f8e5f9f6355d', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 13, 'created': '2019-02-28 20:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28c83029dddd88c1687e909731bb636a58d814d7', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 14, 'created': '2019-03-04 08:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe7823a972b57e26ec0533e35dccf5bbba625176', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 15, 'created': '2019-03-05 07:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d69d75af3ba6f235cf0b4f33bf1d353f108626c0', 'message': 'WIP Count instances from mappings and cores/ram from placement\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 16, 'created': '2019-03-05 19:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86dce4a4ae22e66b2fc96038d02cf9f6193b192e', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id), we will fall back on the legacy counting method.\n\nBecause placement does not yet support the ability to partition\nallocations from multiple Nova deployments, we also provide a\nworkaround config option to use the legacy counting method, if an\noperator has an environment where multiple Nova deployments share a\nsingle placement deployment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 17, 'created': '2019-03-06 07:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aafd1a2af07f2f99496b9c1e1a1b6eeab1a7b38e', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id), we will fall back on the legacy counting method.\n\nBecause placement does not yet support the ability to partition\nallocations from multiple Nova deployments, we also provide a\nworkaround config option to use the legacy counting method, if an\noperator has an environment where multiple Nova deployments share a\nsingle placement deployment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 18, 'created': '2019-03-06 07:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6dfc30d0020f3b75cf30c60d85e351994cb34669', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id), we will fall back on the legacy counting method.\n\nBecause placement does not yet support the ability to partition\nallocations from multiple Nova deployments, we also provide a\nworkaround config option to use the legacy counting method, if an\noperator has an environment where multiple Nova deployments share a\nsingle placement deployment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 19, 'created': '2019-03-06 23:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d132c15418ff600097ca83d528c0b374467e7bef', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id), we will fall back on the legacy counting method.\n\nBecause placement does not yet support the ability to partition\nallocations from multiple Nova deployments, we also provide a\nworkaround config option to use the legacy counting method, if an\noperator has an environment where multiple Nova deployments share a\nsingle placement deployment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 20, 'created': '2019-03-06 23:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56bcf297df26cad6a3a198077bcc6364b1d56a4e', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id), we will fall back on the legacy counting method.\n\nBecause placement does not yet support the ability to partition\nallocations from multiple Nova deployments, we also provide a\nworkaround config option to use the legacy counting method, if an\noperator has an environment where multiple Nova deployments share a\nsingle placement deployment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 21, 'created': '2019-03-07 01:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/065509e8f132a8637fd54c83678bfb22ca5ae24e', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id), we will fall back on the legacy counting method.\n\nBecause placement does not yet support the ability to partition\nallocations from multiple Nova deployments, we also provide a\nworkaround config option to use the legacy counting method, if an\noperator has an environment where multiple Nova deployments share a\nsingle placement deployment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 22, 'created': '2019-03-12 20:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eca06d5054e27ca68d7cf6cb9a6b124b63658ea6', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id), we will fall back on the legacy counting method.\n\nBecause placement does not yet support the ability to partition\nallocations from multiple Nova deployments, we also provide a\nworkaround config option to use the legacy counting method, if an\noperator has an environment where multiple Nova deployments share a\nsingle placement deployment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 23, 'created': '2019-03-28 01:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f140b079481989aeea3c15109da953564abca4f2', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id), we will fall back on the legacy counting method.\n\nBecause placement does not yet support the ability to partition\nallocations from multiple Nova deployments, we also provide a\nworkaround config option to use the legacy counting method, if an\noperator has an environment where multiple Nova deployments share a\nsingle placement deployment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 24, 'created': '2019-04-09 03:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd7c4fb65c1698dd00b62ab4650e8f6dff903062', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id), we will fall back on the legacy counting method.\n\nBecause placement does not yet support the ability to partition\nallocations from multiple Nova deployments, we also provide a\nworkaround config option to use the legacy counting method, if an\noperator has an environment where multiple Nova deployments share a\nsingle placement deployment.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 25, 'created': '2019-04-16 20:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4df5eedc178a98bb4b7d5e94b898e20b2873bd74', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id or NULL queued_for_delete fields), we will fall back to\nthe legacy counting method.\n\nCounting quota usage from placement is opt-in via the\n[quota]count_usage_from_placement configuration option because:\n\n  * Though beneficial for multi-cell deployments to be resilient to\n    down cells, the vast majority of deployments are single cell and\n    will not be able to realize this benefit.\n\n  * Usage for resizes will reflect resources being held on both the\n    source and destination until the resize is confirmed or reverted.\n    Operators may not want to enable counting from placement based on\n    whether the behavior change is problematic for them.\n\n  * Placement does not yet support the ability to partition resource\n    providers from mulitple Nova deployments, so environments that are\n    sharing a single placement deployment would see usage that\n    aggregates all Nova deployments together. Such environments should\n    not enable counting from placement.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 26, 'created': '2019-04-16 20:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1b997be1734a0c853c65b95e029a1d0335481f1', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id or NULL queued_for_delete fields), we will fall back to\nthe legacy counting method.\n\nCounting quota usage from placement is opt-in via the\n[quota]count_usage_from_placement configuration option because:\n\n  * Though beneficial for multi-cell deployments to be resilient to\n    down cells, the vast majority of deployments are single cell and\n    will not be able to realize this benefit.\n\n  * Usage for resizes will reflect resources being held on both the\n    source and destination until the resize is confirmed or reverted.\n    Operators may not want to enable counting from placement based on\n    whether the behavior change is problematic for them.\n\n  * Placement does not yet support the ability to partition resource\n    providers from mulitple Nova deployments, so environments that are\n    sharing a single placement deployment would see usage that\n    aggregates all Nova deployments together. Such environments should\n    not enable counting from placement.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 27, 'created': '2019-04-17 04:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40a4a1abd894d11a53d596df70cd3184541f87d1', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id or NULL queued_for_delete fields), we will fall back to\nthe legacy counting method.\n\nCounting quota usage from placement is opt-in via the\n[quota]count_usage_from_placement configuration option because:\n\n  * Though beneficial for multi-cell deployments to be resilient to\n    down cells, the vast majority of deployments are single cell and\n    will not be able to realize this benefit.\n\n  * Usage for resizes will reflect resources being held on both the\n    source and destination until the resize is confirmed or reverted.\n    Operators may not want to enable counting from placement based on\n    whether the behavior change is problematic for them.\n\n  * Placement does not yet support the ability to partition resource\n    providers from mulitple Nova deployments, so environments that are\n    sharing a single placement deployment would see usage that\n    aggregates all Nova deployments together. Such environments should\n    not enable counting from placement.\n\n  * Usage for unscheduled instances in ERROR state will not reflect\n    resource consumption for cores and ram because the instance has no\n    placement allocations.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 28, 'created': '2019-04-18 18:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/178fad2395374a463cd43133003520fbda581cbc', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id or NULL queued_for_delete fields), we will fall back to\nthe legacy counting method.\n\nCounting quota usage from placement is opt-in via the\n[quota]count_usage_from_placement configuration option because:\n\n  * Though beneficial for multi-cell deployments to be resilient to\n    down cells, the vast majority of deployments are single cell and\n    will not be able to realize this benefit.\n\n  * Usage for resizes will reflect resources being held on both the\n    source and destination until the resize is confirmed or reverted.\n    Operators may not want to enable counting from placement based on\n    whether the behavior change is problematic for them.\n\n  * Placement does not yet support the ability to partition resource\n    providers from mulitple Nova deployments, so environments that are\n    sharing a single placement deployment would see usage that\n    aggregates all Nova deployments together. Such environments should\n    not enable counting from placement.\n\n  * Usage for unscheduled instances in ERROR state will not reflect\n    resource consumption for cores and ram because the instance has no\n    placement allocations.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 29, 'created': '2019-04-18 19:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e34a1ee797ba3b3016bf27664c3a0fe985dcf247', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id or NULL queued_for_delete fields), we will fall back to\nthe legacy counting method.\n\nCounting quota usage from placement is opt-in via the\n[quota]count_usage_from_placement configuration option because:\n\n  * Though beneficial for multi-cell deployments to be resilient to\n    down cells, the vast majority of deployments are single cell and\n    will not be able to realize this benefit.\n\n  * Usage for resizes will reflect resources being held on both the\n    source and destination until the resize is confirmed or reverted.\n    Operators may not want to enable counting from placement based on\n    whether the behavior change is problematic for them.\n\n  * Placement does not yet support the ability to partition resource\n    providers from mulitple Nova deployments, so environments that are\n    sharing a single placement deployment would see usage that\n    aggregates all Nova deployments together. Such environments should\n    not enable counting from placement.\n\n  * Usage for unscheduled instances in ERROR state will not reflect\n    resource consumption for cores and ram because the instance has no\n    placement allocations.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 30, 'created': '2019-05-02 21:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8351edec9615278e56979362c9f2b20dc8ed9721', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id or NULL queued_for_delete fields), we will fall back to\nthe legacy counting method.\n\nCounting quota usage from placement is opt-in via the\n[quota]count_usage_from_placement configuration option because:\n\n  * Though beneficial for multi-cell deployments to be resilient to\n    down cells, the vast majority of deployments are single cell and\n    will not be able to realize a down cells resiliency benefit and may\n    prefer to keep legacy quota usage counting.\n\n  * Usage for resizes will reflect resources being held on both the\n    source and destination until the resize is confirmed or reverted.\n    Operators may not want to enable counting from placement based on\n    whether the behavior change is problematic for them.\n\n  * Placement does not yet support the ability to partition resource\n    providers from mulitple Nova deployments, so environments that are\n    sharing a single placement deployment would see usage that\n    aggregates all Nova deployments together. Such environments should\n    not enable counting from placement.\n\n  * Usage for unscheduled instances in ERROR state will not reflect\n    resource consumption for cores and ram because the instance has no\n    placement allocations.\n\n  * Usage for instances in SHELVED_OFFLOADED state will not reflect\n    resource consumption for cores and ram because the instance has no\n    placement allocations. Note that because of this, it will be possible for a\n    request to unshelve a server to be rejected if the user does not have\n    enough quota available to support the cores and ram needed by the server to\n    be unshelved.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}, {'number': 31, 'created': '2019-05-23 18:43:44.000000000', 'files': ['nova/tests/functional/db/test_quota.py', 'releasenotes/notes/quota-usage-placement-5b3f62e83056f59d.yaml', 'nova/test.py', 'nova/tests/unit/test_quota.py', 'nova/conf/quota.py', 'nova/scheduler/client/report.py', 'nova/quota.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8354f42e20da952a6ab5612363afb77386886df0', 'message': 'Count instances from mappings and cores/ram from placement\n\nThis counts instance mappings for counting quota usage for instances\nand adds calls to placement for counting quota usage for cores and ram.\n\nDuring an upgrade, if any un-migrated instance mappings are found (with\nNULL user_id or NULL queued_for_delete fields), we will fall back to\nthe legacy counting method.\n\nCounting quota usage from placement is opt-in via the\n[quota]count_usage_from_placement configuration option because:\n\n  * Though beneficial for multi-cell deployments to be resilient to\n    down cells, the vast majority of deployments are single cell and\n    will not be able to realize a down cells resiliency benefit and may\n    prefer to keep legacy quota usage counting.\n\n  * Usage for resizes will reflect resources being held on both the\n    source and destination until the resize is confirmed or reverted.\n    Operators may not want to enable counting from placement based on\n    whether the behavior change is problematic for them.\n\n  * Placement does not yet support the ability to partition resource\n    providers from mulitple Nova deployments, so environments that are\n    sharing a single placement deployment would see usage that\n    aggregates all Nova deployments together. Such environments should\n    not enable counting from placement.\n\n  * Usage for unscheduled instances in ERROR state will not reflect\n    resource consumption for cores and ram because the instance has no\n    placement allocations.\n\n  * Usage for instances in SHELVED_OFFLOADED state will not reflect\n    resource consumption for cores and ram because the instance has no\n    placement allocations. Note that because of this, it will be possible for a\n    request to unshelve a server to be rejected if the user does not have\n    enough quota available to support the cores and ram needed by the server to\n    be unshelved.\n\nPart of blueprint count-quota-usage-from-placement\n\nChange-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5\n'}]",205,638073,8354f42e20da952a6ab5612363afb77386886df0,338,21,31,4690,,,0,"Count instances from mappings and cores/ram from placement

This counts instance mappings for counting quota usage for instances
and adds calls to placement for counting quota usage for cores and ram.

During an upgrade, if any un-migrated instance mappings are found (with
NULL user_id or NULL queued_for_delete fields), we will fall back to
the legacy counting method.

Counting quota usage from placement is opt-in via the
[quota]count_usage_from_placement configuration option because:

  * Though beneficial for multi-cell deployments to be resilient to
    down cells, the vast majority of deployments are single cell and
    will not be able to realize a down cells resiliency benefit and may
    prefer to keep legacy quota usage counting.

  * Usage for resizes will reflect resources being held on both the
    source and destination until the resize is confirmed or reverted.
    Operators may not want to enable counting from placement based on
    whether the behavior change is problematic for them.

  * Placement does not yet support the ability to partition resource
    providers from mulitple Nova deployments, so environments that are
    sharing a single placement deployment would see usage that
    aggregates all Nova deployments together. Such environments should
    not enable counting from placement.

  * Usage for unscheduled instances in ERROR state will not reflect
    resource consumption for cores and ram because the instance has no
    placement allocations.

  * Usage for instances in SHELVED_OFFLOADED state will not reflect
    resource consumption for cores and ram because the instance has no
    placement allocations. Note that because of this, it will be possible for a
    request to unshelve a server to be rejected if the user does not have
    enough quota available to support the cores and ram needed by the server to
    be unshelved.

Part of blueprint count-quota-usage-from-placement

Change-Id: Ie22b0acb5824a41da327abdcf9848d02fc9a92f5
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/638073/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/quota.py', 'nova/conf/workarounds.py']",3,71db018084d048f078490b9241a07622a955b2d7,bp/count-quota-usage-from-placement," cfg.BoolOpt( 'disable_quota_usage_from_placement', default=False, help="""""" Disable the counting of quota usage from the placement service. Starting in Stein, quota usage for instances, cores, and ram is counted from the placement service instead of counting it locally in cell databases. This works well if there is only one Nova service running per placement service. However, if operators are running more than one Nova service per placement service, they will need to set this workaround option to True because currently, the placement service has no way to partition resource allocations per Nova service. When this workaround option is set to True, Nova will fall back on the legacy counting method to count quota usage for instances, cores, and ram from cell databases. """"""),",,111,18
openstack%2Ftempest~master~Ie759315bf7a4440eaae91b5ee4b672234692dd25,openstack/tempest,master,Ie759315bf7a4440eaae91b5ee4b672234692dd25,Remove nova-cells-v1 job from experimental queue,MERGED,2019-05-24 19:14:15.000000000,2019-05-30 20:39:28.000000000,2019-05-30 20:39:27.000000000,"[{'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-05-24 19:14:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/85dfbf6ef91b49decc6cb1b6042c153fdc1a4701', 'message': ""Remove nova-cells-v1 job from experimental queue\n\nThe nova-cells-v1 job was removed from nova in the Train\nrelease with change I2031bf2cc914d134e5ed61156d2cfc621f006e0b\nso we can remove it from tempest's experimental queue.\n\nChange-Id: Ie759315bf7a4440eaae91b5ee4b672234692dd25\n""}]",0,661382,85dfbf6ef91b49decc6cb1b6042c153fdc1a4701,14,4,1,6873,,,0,"Remove nova-cells-v1 job from experimental queue

The nova-cells-v1 job was removed from nova in the Train
release with change I2031bf2cc914d134e5ed61156d2cfc621f006e0b
so we can remove it from tempest's experimental queue.

Change-Id: Ie759315bf7a4440eaae91b5ee4b672234692dd25
",git fetch https://review.opendev.org/openstack/tempest refs/changes/82/661382/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,85dfbf6ef91b49decc6cb1b6042c153fdc1a4701,remove-cells-v1,, - nova-cells-v1: irrelevant-files: *tempest-irrelevant-files,0,2
openstack%2Foslo.db~master~Iba00d9fadaf3a682f3e4bb2dea335dfc74cf030d,openstack/oslo.db,master,Iba00d9fadaf3a682f3e4bb2dea335dfc74cf030d,Dropping the py35 testing,MERGED,2019-04-15 01:02:39.000000000,2019-05-30 20:36:19.000000000,2019-05-30 20:36:19.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 01:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/50f4d47ac4831b03fc81d226f07bbd650cbba8d2', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Iba00d9fadaf3a682f3e4bb2dea335dfc74cf030d\n'}, {'number': 2, 'created': '2019-04-15 18:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/991c4dbcb6b71db5b4cd5de78a0bb4b7af120815', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Iba00d9fadaf3a682f3e4bb2dea335dfc74cf030d\n'}, {'number': 3, 'created': '2019-05-21 08:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4316ea1761d93765e1f0ce6e5153b3d2b9e6e82d', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Iba00d9fadaf3a682f3e4bb2dea335dfc74cf030d\n'}, {'number': 4, 'created': '2019-05-30 13:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/a00e9bac52bb1c9bf865cdbaccb8e70fe602df8e', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Iba00d9fadaf3a682f3e4bb2dea335dfc74cf030d\n'}, {'number': 5, 'created': '2019-05-30 13:39:26.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/2f8250f3f747473c8f4258b148f2f7ded0a95084', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Iba00d9fadaf3a682f3e4bb2dea335dfc74cf030d\n'}]",1,652440,2f8250f3f747473c8f4258b148f2f7ded0a95084,19,3,5,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Iba00d9fadaf3a682f3e4bb2dea335dfc74cf030d
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/40/652440/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,50f4d47ac4831b03fc81d226f07bbd650cbba8d2,dropping-py35-testing,"envlist = py27,pep8","envlist = py35,py27,pep8",2,3
openstack%2Fpaunch~master~Ia8ebe35a9edc41f3ec635cc05dde08783c5e2a44,openstack/paunch,master,Ia8ebe35a9edc41f3ec635cc05dde08783c5e2a44,"Ensure we don't have any trailing ""requires"" for paunch units",MERGED,2019-05-29 10:33:34.000000000,2019-05-30 20:27:42.000000000,2019-05-30 20:27:42.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-05-29 10:33:34.000000000', 'files': ['paunch/tests/test_utils_systemd.py', 'paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/ecc2047b2ec5eaf39cce119abe1678ac19139d79', 'message': 'Ensure we don\'t have any trailing ""requires"" for paunch units\n\nIt might happen people want to disable the health checks in an update.\nThis change will ensure paunch cleans things up before (re)creating the\nmain service unit file, in order to avoid failed dependencies in systemd\nconfiguration.\n\nChange-Id: Ia8ebe35a9edc41f3ec635cc05dde08783c5e2a44\n'}]",0,661936,ecc2047b2ec5eaf39cce119abe1678ac19139d79,15,5,1,28223,,,0,"Ensure we don't have any trailing ""requires"" for paunch units

It might happen people want to disable the health checks in an update.
This change will ensure paunch cleans things up before (re)creating the
main service unit file, in order to avoid failed dependencies in systemd
configuration.

Change-Id: Ia8ebe35a9edc41f3ec635cc05dde08783c5e2a44
",git fetch https://review.opendev.org/openstack/paunch refs/changes/36/661936/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_utils_systemd.py', 'paunch/utils/systemd.py']",2,ecc2047b2ec5eaf39cce119abe1678ac19139d79,systemd/cleanup, # Ensure we don't have some trailing .requires directory and content for # this service if os.path.exists(sysd_unit_f + '.requires'): shutil.rmtree(sysd_unit_f + '.requires') ,,13,1
openstack%2Ftripleo-heat-templates~master~I94998e5885fae927a5637ef67a7930e2dd19a8ee,openstack/tripleo-heat-templates,master,I94998e5885fae927a5637ef67a7930e2dd19a8ee,"Move neutron base, plugins to deployment",MERGED,2019-04-23 00:53:11.000000000,2019-05-30 20:27:40.000000000,2019-05-30 20:27:40.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-23 00:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f499c7f9c79c745dcaf35eec71e3c4fd17c0aa36', 'message': 'Move neutron base, plugins to deployment\n\nChange-Id: I94998e5885fae927a5637ef67a7930e2dd19a8ee\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 2, 'created': '2019-04-23 14:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5b958b07ece2d2d5163be67bfcc07e86067ea89', 'message': 'Move neutron base, plugins to deployment\n\nChange-Id: I94998e5885fae927a5637ef67a7930e2dd19a8ee\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 3, 'created': '2019-04-25 13:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdacf2b47005995c478a89c2de772de0040d4964', 'message': 'Move neutron base, plugins to deployment\n\nChange-Id: I94998e5885fae927a5637ef67a7930e2dd19a8ee\nRelated-Blueprint: services-yaml-flattening\n'}, {'number': 4, 'created': '2019-05-13 14:06:03.000000000', 'files': ['environments/services/neutron-opendaylight-sriov.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'deployment/neutron/neutron-bigswitch-agent-baremetal-puppet.yaml', 'deployment/neutron/neutron-plugin-nuage.yaml', 'deployment/neutron/neutron-base.yaml', 'deployment/neutron/neutron-plugin-ml2-odl.yaml', 'environments/neutron-ml2-bigswitch.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'deployment/neutron/neutron-plugin-ml2-fujitsu-fossw.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-nuage.yaml', 'environments/neutron-ml2-vpp.yaml', 'deployment/neutron/neutron-plugin-ml2.yaml', 'deployment/neutron/neutron-plugin-ml2-cisco-vts-container-puppet.yaml', 'deployment/neutron/neutron-sriov-host-config.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'sample-env-generator/networking.yaml', 'environments/neutron-ml2-fujitsu-cfab.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'deployment/neutron/neutron-midonet-baremetal-puppet.yaml', 'environments/neutron-sriov.yaml', 'environments/neutron-ml2-fujitsu-fossw.yaml', 'environments/services-baremetal/neutron-lbaasv2.yaml', 'deployment/neutron/neutron-vpp-agent-baremetal-puppet.yaml', 'environments/services-baremetal/neutron-opendaylight.yaml', 'deployment/neutron/neutron-lbaas-agent-baremetal-puppet.yaml', 'environments/undercloud.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'deployment/neutron/neutron-compute-plugin-nuage.yaml', 'deployment/neutron/neutron-compute-plugin-plumgrid.yaml', 'environments/services/neutron-ovs-dvr.yaml', 'deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml', 'deployment/neutron/neutron-plugin-plumgrid.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'environments/neutron-midonet.yaml', 'deployment/neutron/neutron-compute-plugin-midonet.yaml', 'sample-env-generator/enable-services.yaml', 'ci/environments/scenario008-multinode-containers.yaml', 'deployment/neutron/neutron-controller-plugin-nuage.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-linuxbridge-agent-baremetal-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-fujitsu-cfab.yaml', 'environments/services/neutron-ovs.yaml', 'environments/services-baremetal/neutron-opendaylight-sriov.yaml', 'environments/services/neutron-ovn-ha.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'environments/neutron-plumgrid.yaml', 'environments/neutron-linuxbridge.yaml', 'environments/services/neutron-opendaylight.yaml', 'deployment/neutron/neutron-l3-compute-dvr.yaml', 'environments/networking/neutron-midonet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'environments/docker-uc-light.yaml', 'environments/services-baremetal/neutron-sriov.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/neutron-ovs-dvr.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'environments/services/neutron-sriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18bae394a3eb8c39de335e365463763881f51d23', 'message': 'Move neutron base, plugins to deployment\n\nDepends-On: Ic7c1817671467f4ec2ef823f52e165c2c1f230ca\nChange-Id: I94998e5885fae927a5637ef67a7930e2dd19a8ee\nRelated-Blueprint: services-yaml-flattening\n'}]",0,654661,18bae394a3eb8c39de335e365463763881f51d23,27,8,4,360,,,0,"Move neutron base, plugins to deployment

Depends-On: Ic7c1817671467f4ec2ef823f52e165c2c1f230ca
Change-Id: I94998e5885fae927a5637ef67a7930e2dd19a8ee
Related-Blueprint: services-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/654661/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-opendaylight-sriov.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'deployment/neutron/neutron-plugin-nuage.yaml', 'deployment/neutron/neutron-base.yaml', 'deployment/neutron/neutron-plugin-ml2-odl.yaml', 'environments/neutron-ml2-bigswitch.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'deployment/neutron/neutron-plugin-ml2-fujitsu-fossw.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-nuage.yaml', 'deployment/neutron/neutron-midonet.yaml', 'deployment/neutron/neutron-linuxbridge-agent.yaml', 'environments/neutron-ml2-vpp.yaml', 'deployment/neutron/neutron-plugin-ml2.yaml', 'deployment/neutron/neutron-plugin-ml2-cisco-vts-container-puppet.yaml', 'deployment/neutron/neutron-sriov-host-config.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'sample-env-generator/networking.yaml', 'environments/neutron-ml2-fujitsu-cfab.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/neutron-sriov.yaml', 'environments/neutron-ml2-fujitsu-fossw.yaml', 'environments/services-baremetal/neutron-lbaasv2.yaml', 'environments/services-baremetal/neutron-opendaylight.yaml', 'deployment/neutron/neutron-lbaas-agent.yaml', 'environments/undercloud.yaml', 'deployment/neutron/neutron-bigswitch-agent.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'deployment/neutron/neutron-compute-plugin-nuage.yaml', 'deployment/neutron/neutron-compute-plugin-plumgrid.yaml', 'environments/services/neutron-ovs-dvr.yaml', 'deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml', 'deployment/neutron/neutron-plugin-plumgrid.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'environments/neutron-midonet.yaml', 'deployment/neutron/neutron-compute-plugin-midonet.yaml', 'sample-env-generator/enable-services.yaml', 'ci/environments/scenario008-multinode-containers.yaml', 'deployment/neutron/neutron-controller-plugin-nuage.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-fujitsu-cfab.yaml', 'environments/services/neutron-ovs.yaml', 'environments/services-baremetal/neutron-opendaylight-sriov.yaml', 'deployment/neutron/neutron-vpp-agent.yaml', 'environments/services/neutron-ovn-ha.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'environments/neutron-plumgrid.yaml', 'environments/neutron-linuxbridge.yaml', 'environments/services/neutron-opendaylight.yaml', 'deployment/neutron/neutron-l3-compute-dvr.yaml', 'environments/networking/neutron-midonet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'environments/docker-uc-light.yaml', 'environments/services-baremetal/neutron-sriov.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/neutron-ovs-dvr.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'environments/services/neutron-sriov.yaml']",63,f499c7f9c79c745dcaf35eec71e3c4fd17c0aa36,bp/services-yaml-flattening, OS::TripleO::Services::NeutronSriovHostConfig: ../../deployment/neutron/neutron-sriov-host-config.yaml, OS::TripleO::Services::NeutronSriovHostConfig: ../../puppet/services/neutron-sriov-host-config.yaml,51,51
openstack%2Fopenstack-ansible~stable%2Fstein~I25a89ed706cad0ae3376c466807f3ba024941c2a,openstack/openstack-ansible,stable/stein,I25a89ed706cad0ae3376c466807f3ba024941c2a,Utility container venv is missing python libs for ansible openstack modules,MERGED,2019-05-30 05:50:33.000000000,2019-05-30 20:21:37.000000000,2019-05-30 20:21:37.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-05-30 05:50:33.000000000', 'files': ['inventory/group_vars/utility_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b4cbd2e76d270b4481d086e3f3673269d27185d2', 'message': 'Utility container venv is missing python libs for ansible openstack modules\n\nSome service set up tasks use ansible modules that require external\npython libraries. When using a utility container as a service setup host\nthese ansible tasks will fail if the required libraries are not present\nin the utility venv.\n\nAdded openstacksdk to the list of pip packages installed to the container\nas required for ansible 2.7 and above.\n\nChange-Id: I25a89ed706cad0ae3376c466807f3ba024941c2a\nCloses-Bug: #1830028\n(cherry picked from commit 5567d92c21c567fa30213b3bc6ac6e040cc745cd)\n'}]",0,662132,b4cbd2e76d270b4481d086e3f3673269d27185d2,12,6,1,28619,,,0,"Utility container venv is missing python libs for ansible openstack modules

Some service set up tasks use ansible modules that require external
python libraries. When using a utility container as a service setup host
these ansible tasks will fail if the required libraries are not present
in the utility venv.

Added openstacksdk to the list of pip packages installed to the container
as required for ansible 2.7 and above.

Change-Id: I25a89ed706cad0ae3376c466807f3ba024941c2a
Closes-Bug: #1830028
(cherry picked from commit 5567d92c21c567fa30213b3bc6ac6e040cc745cd)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/32/662132/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/utility_all.yml'],1,b4cbd2e76d270b4481d086e3f3673269d27185d2,bug/1830028-stable/stein, - openstacksdk,,1,0
openstack%2Fopenstack-ansible-tests~stable%2Fpike~I82052e89d84beb31df41ee2cb8e89746ddf41150,openstack/openstack-ansible-tests,stable/pike,I82052e89d84beb31df41ee2cb8e89746ddf41150,Fix clone list for opendev changes,MERGED,2019-05-29 22:53:39.000000000,2019-05-30 20:01:00.000000000,2019-05-30 20:01:00.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-29 22:53:39.000000000', 'files': ['tests/ansible-role-requirements.yml', 'get-ansible-role-requirements.yml', 'tests/tests-repo-clone.sh', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/310d2450d129f2ec11e59d102d989a9892cbb1b8', 'message': 'Fix clone list for opendev changes\n\nDisable CentOS gating to allow the galera_server percona-release fix\nto merge[1].\n\nopenSUSE 42.3 gating is removed since it uses LXC containers and our\nLXC build process is broken on 42.3, plus 42.3 is scheduled for EOL\nsoon.\n\n[1] https://review.opendev.org/#/c/662107/\n\nChange-Id: I82052e89d84beb31df41ee2cb8e89746ddf41150\n'}]",0,662108,310d2450d129f2ec11e59d102d989a9892cbb1b8,7,3,1,290,,,0,"Fix clone list for opendev changes

Disable CentOS gating to allow the galera_server percona-release fix
to merge[1].

openSUSE 42.3 gating is removed since it uses LXC containers and our
LXC build process is broken on 42.3, plus 42.3 is scheduled for EOL
soon.

[1] https://review.opendev.org/#/c/662107/

Change-Id: I82052e89d84beb31df41ee2cb8e89746ddf41150
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/08/662108/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ansible-role-requirements.yml', 'get-ansible-role-requirements.yml', 'tests/tests-repo-clone.sh', 'zuul.d/project.yaml']",4,310d2450d129f2ec11e59d102d989a9892cbb1b8,opendev-fixes, - openstack-ansible-functional-centos-7: voting: false# - openstack-ansible-functional-centos-7, - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423,21,22
openstack-infra%2Fopendev-website~master~I3e22fcb2debbeae704bb05d8e92552d8ea3d4f55,openstack-infra/opendev-website,master,I3e22fcb2debbeae704bb05d8e92552d8ea3d4f55,Retire repo,MERGED,2019-05-29 08:26:42.000000000,2019-05-30 19:59:28.000000000,2019-05-30 19:59:27.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 08:26:42.000000000', 'files': ['playbooks/copy-to-artifacts.yaml', '.gitreview', 'README.txt', 'index.md', '.zuul.yaml', 'playbooks/copy-to-logs.yaml', 'www/index.css', 'www/index.html'], 'web_link': 'https://opendev.org/openstack-infra/opendev-website/commit/779bdca9947d70c51ad4dbc58dbb52f0e93ed7bf', 'message': 'Retire repo\n\nThis repo is not used anymore, retire it.\n\nDepends-On: https://review.opendev.org/661910\nChange-Id: I3e22fcb2debbeae704bb05d8e92552d8ea3d4f55\n'}]",0,661911,779bdca9947d70c51ad4dbc58dbb52f0e93ed7bf,9,4,1,6547,,,0,"Retire repo

This repo is not used anymore, retire it.

Depends-On: https://review.opendev.org/661910
Change-Id: I3e22fcb2debbeae704bb05d8e92552d8ea3d4f55
",git fetch https://review.opendev.org/openstack-infra/opendev-website refs/changes/11/661911/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/copy-to-artifacts.yaml', '.gitreview', 'README.txt', 'index.md', '.zuul.yaml', 'playbooks/copy-to-logs.yaml', 'www/index.css', 'www/index.html']",8,779bdca9947d70c51ad4dbc58dbb52f0e93ed7bf,retire-repos,,"<!DOCTYPE html> <html xmlns=""http://www.w3.org/1999/xhtml"" lang="""" xml:lang=""""> <head> <meta charset=""utf-8"" /> <meta name=""generator"" content=""pandoc"" /> <meta name=""viewport"" content=""width=device-width, initial-scale=1.0, user-scalable=yes"" /> <title>OpenDev</title> <style type=""text/css""> code{white-space: pre-wrap;} span.smallcaps{font-variant: small-caps;} span.underline{text-decoration: underline;} div.column{display: inline-block; vertical-align: top; width: 50%;} </style> <link rel=""stylesheet"" href=""index.css"" /> <!--[if lt IE 9]> <script src=""//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js""></script> <![endif]--> </head> <body> <h1 id=""opendev"">OpenDev</h1> <p>OpenDev is a space for collaborative Open Source software development.</p> <p>OpenDev’s mission is to provide project hosting, continuous integration tooling, and virtual collaboration spaces for Open Source software projects. OpenDev is itself self hosted on this set of tools including Code Review (Gerrit), Continuous Integration (Zuul), Etherpad, Wiki (mediawiki), and so on. This means that OpenDev itself is run like an open source project, you can join us and help run the system. Additionally all of the services we run are open source software themselves.</p> <h1 id=""current-status"">Current Status</h1> <p>We are still very early in the process of building this out. We have DNS servers and this website running to start.</p> <p>Most of the services we plan to run will be inherited and rebranded from the existing community run OpenStack Infrastructure. This means that we do already have services running, but until we transition them into OpenDev they may say “OpenStack” across the top or in their URLs.</p> <h1 id=""changes-we-plan-to-make"">Changes we plan to make</h1> <p>There are far too many things to capture here so we’ll go after the highlights instead:</p> <ul> <li>Move existing services like Gerrit and Etherpad under the opendev.org domain. Remove OpenStack branding as necessary.</li> <li>For the code review and CI toolchain treat the services as multitenant. This will likely involve moving code repos around. <ul> <li>We’ll need to build better project renaming and provisioning tools.</li> </ul></li> </ul> <h1 id=""join-us"">Join Us</h1> <p>As mentioned previously the OpenDev services themselves are open source software managed on top of Opendev itself. This means that in addition to using OpenDev to host your software development activities you can help us run OpenDev with all of the same tools.</p> <p>If you use the system and find it useful, we’d love to have your help running it as well.</p> <h1 id=""faq"">FAQ</h1> <h2 id=""isnt-this-just-openstack-infrastructure-rebranded"">Isn’t this just OpenStack Infrastructure rebranded?</h2> <p>It is more than that. We want to make this toolset available to others that would find it helpful. OpenStack would become one of the OpenDev tenants, but other tenants like Zuul or $gizmo would be just as important.</p> <h2 id=""can-i-host-my-project-on-opendev"">Can I host my project on OpenDev?</h2> <p>Yes! However, as noted above it is still early days yet and the early experience might be a bit bumpy. Certain things may still say “OpenStack” on them as we figure out the transition. And while any moves should come with appropriate redirects, we may have some inadvertent misses.</p> <h2 id=""can-i-run-tests-on-windows-or-osx-machines"">Can I run tests on Windows or OSX machines?</h2> <p>Currently all of our test resources are Linux based. Adding additional platforms would likely require someone to help us get that running, but Zuul will support systems with ansible connection plugins. Talk to us!</p> <h2 id=""i-am-an-existing-openstack-infra-user-do-i-need-to-do-anything"">I am an existing OpenStack Infra user do I need to do anything?</h2> <p>No. We’ll continue to communicate changes as they happen. We’ll also do our best to make this as smooth a transition as possible. If we run into situations that force us to break something we’ll be sure to let you know at that point.</p> <h2 id=""is-a-cla-required-for-hosted-repos"">Is a CLA required for hosted repos?</h2> <p>No.</p> <h2 id=""what-if-i-dont-like-gerrit-and-would-prefer-insert-tool-here"">What if I don’t like Gerrit and would prefer (insert tool here)?</h2> <p>We’ve got a fair bit of experience with the existing toolset and adding new tools for which we’ve already got an answer is currently out of scope. We think the existing tools (like Gerrit) work well, and should only get better as we update them. The system is able to scale because we do not need multiple implementations of different software that solve similar problems.</p> <h1 id=""contact-info"">Contact info</h1> <p>These will be updated when moved to their new OpenDev locations</p> <ul> <li>Mailing list: openstack-infra@lists.openstack.org</li> <li>IRC #openstack-infra on Freenode</li> </ul> </body> </html> ",10,215
openstack%2Fproject-config~master~I1c0ec1dbf12751fafd07a045a59e7ea25301d712,openstack/project-config,master,I1c0ec1dbf12751fafd07a045a59e7ea25301d712,Update the neutron-lib failure rate dashboard,MERGED,2019-05-29 15:41:00.000000000,2019-05-30 19:58:01.000000000,2019-05-30 19:58:01.000000000,"[{'_account_id': 4146}, {'_account_id': 5367}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 15:41:00.000000000', 'files': ['grafana/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6fc2ff579f9a83094ea074fa79660d1838778bd6', 'message': 'Update the neutron-lib failure rate dashboard\n\nChange to be like the Neutron dashboard with both failure rate\nand number of jobs run per section.  This will allow us to\nbetter understand how the neutron-lib jobs are running over time.\n\nAlso added some missing stats for things like py37, pep8 and docs.\n\nChange-Id: I1c0ec1dbf12751fafd07a045a59e7ea25301d712\n'}]",0,662024,6fc2ff579f9a83094ea074fa79660d1838778bd6,8,4,1,1131,,,0,"Update the neutron-lib failure rate dashboard

Change to be like the Neutron dashboard with both failure rate
and number of jobs run per section.  This will allow us to
better understand how the neutron-lib jobs are running over time.

Also added some missing stats for things like py37, pep8 and docs.

Change-Id: I1c0ec1dbf12751fafd07a045a59e7ea25301d712
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/662024/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron-lib.yaml'],1,6fc2ff579f9a83094ea074fa79660d1838778bd6,update-neutron-lib-dash," time: from: ""now-7d"" to: ""now"" span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.tempest-full-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.tempest-full-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-full-py3') type: graph - title: Number of Integrated Tempest jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.tempest-full-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-full-py3') span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py37.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py37') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-lower-constraints.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-lower-constraints') type: graph - title: Number of Unit Tests jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py37') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-lower-constraints') type: graph - title: Linter Failure Rates (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-pep8.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-pep8') type: graph - title: Number of Linter jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-pep8') type: graph - title: Documentation Failure Rates (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-docs.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-docs') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.build-openstack-releasenotes.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.build-openstack-releasenotes.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'build-openstack-releasenotes') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.build-openstack-api-ref.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.build-openstack-releasenotes.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'build-openstack-api-ref') type: graph - title: Number of Documentation jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-docs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.build-openstack-releasenotes.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'build-openstack-releasenotes') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.build-openstack-api-ref.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'build-openstack-api-ref') type: graph - title: Integrated Tempest Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.tempest-full-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.tempest-full-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-full-py3') type: graph - title: Number of Integrated Tempest jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.tempest-full-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-full-py3') span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py37.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py37') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-lower-constraints.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-lower-constraints') - title: Number of Unit Tests jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py37.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py37') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-lower-constraints') type: graph - title: Periodic jobs span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bagpipe.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bagpipe.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-bagpipe)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bgpvpn.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bgpvpn.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-bgpvpn)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-midonet.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-midonet.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-midonet)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-odl)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-ovn.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-ovn.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-ovn)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-sfc.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-sfc.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-sfc)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-dynamic-routing)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-fwaas.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-fwaas.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-fwaas)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-vpnaas.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-vpnaas.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-vpnaas)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.x_vmware-nsx.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.x_vmware-nsx.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (vmware-nsx)') type: graph - title: Number of Periodic jobs runs span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bagpipe.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-bagpipe)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bgpvpn.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-bgpvpn)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-midonet.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-midonet)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-odl)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-ovn.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-ovn)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-sfc.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-sfc)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-dynamic-routing)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-fwaas.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-fwaas)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-vpnaas.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-vpnaas)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.x_vmware-nsx.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (vmware-nsx)')"," span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.tempest-full-py3.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.tempest-full-py3.{SUCCESS,FAILURE})),'24hours'), 'tempest-full-py3') span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py27.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36') span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py27.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36') - title: Periodic jobs span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master(neutron)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bagpipe.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bagpipe.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-bagpipe)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bgpvpn.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bgpvpn.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-bgpvpn)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-midonet.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-midonet.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-midonet)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-odl)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-ovn.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-ovn.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master(networking-ovn)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-sfc.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-sfc.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-sfc)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-dynamic-routing)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-fwaas.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-fwaas.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-fwaas)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-vpnaas.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-vpnaas.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-vpnaas)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.x_vmware-nsx.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.x_vmware-nsx.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (vmware-nsx)')",100,21
openstack%2Fopenstack-helm-infra~master~I7661083ad24abfb8469700ab2039b4b7be5dd681,openstack/openstack-helm-infra,master,I7661083ad24abfb8469700ab2039b4b7be5dd681,mariadb: fix hostpath values,MERGED,2019-05-29 12:06:55.000000000,2019-05-30 19:46:14.000000000,2019-05-30 19:46:14.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-29 12:06:55.000000000', 'files': ['mariadb/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ce086f7e41b512768bc87a7e2bf72bd6acc5bf86', 'message': 'mariadb: fix hostpath values\n\nUse the correct declaration of the hostpath\n\nChange-Id: I7661083ad24abfb8469700ab2039b4b7be5dd681\n'}]",0,661955,ce086f7e41b512768bc87a7e2bf72bd6acc5bf86,10,8,1,12281,,,0,"mariadb: fix hostpath values

Use the correct declaration of the hostpath

Change-Id: I7661083ad24abfb8469700ab2039b4b7be5dd681
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/661955/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/statefulset.yaml'],1,ce086f7e41b512768bc87a7e2bf72bd6acc5bf86,fix_hostpath_mariadb, hostPath: path: {{ .Values.volume.use_local_path_for_single_pod_cluster.host_path }} type: DirectoryOrCreate, hostPath: {{ .Values.volume.use_local_path_for_single_pod_cluster.host_path }},3,1
openstack%2Fopenstack-helm-infra~master~I6b97ebcd69d3a0c8f80f939bfb0750c743d39f2e,openstack/openstack-helm-infra,master,I6b97ebcd69d3a0c8f80f939bfb0750c743d39f2e,Curator: Fix deployment job overrides,ABANDONED,2019-05-21 19:49:39.000000000,2019-05-30 19:45:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-21 19:49:39.000000000', 'files': ['tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'tools/deployment/multinode/120-elasticsearch.sh', 'tools/deployment/armada/manifests/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4f60be2b48af227e23063a5c156f8a01af4f968d', 'message': 'Curator: Fix deployment job overrides\n\nThis updates the overrides for configuration Curator in our jobs,\nas they were previously indented incorrectly\n\nChange-Id: I6b97ebcd69d3a0c8f80f939bfb0750c743d39f2e\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,660501,4f60be2b48af227e23063a5c156f8a01af4f968d,3,1,1,17591,,,0,"Curator: Fix deployment job overrides

This updates the overrides for configuration Curator in our jobs,
as they were previously indented incorrectly

Change-Id: I6b97ebcd69d3a0c8f80f939bfb0750c743d39f2e
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/660501/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'tools/deployment/multinode/120-elasticsearch.sh', 'tools/deployment/armada/manifests/armada-lma.yaml']",3,4f60be2b48af227e23063a5c156f8a01af4f968d,fix-curator-overrides," curator: schedule: ""0 */6 * * *"" action_file: actions: 1: action: delete_indices description: >- ""Delete indices older than 365 days"" options: timeout_override: continue_if_exception: False ignore_empty_list: True disable_action: True filters: - filtertype: pattern kind: prefix value: logstash- - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: days unit_count: 365",,69,46
openstack%2Fproject-config~master~Ia9b05e5da2352f06014fb63051f4e90030def77d,openstack/project-config,master,Ia9b05e5da2352f06014fb63051f4e90030def77d,fix neutron-lib grafana dashboard,MERGED,2019-05-29 13:18:59.000000000,2019-05-30 19:40:15.000000000,2019-05-30 19:40:15.000000000,"[{'_account_id': 1131}, {'_account_id': 4146}, {'_account_id': 5367}, {'_account_id': 6547}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 13:18:59.000000000', 'files': ['grafana/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/721dbef6ba45693dd07dc72ee7588d80ba690876', 'message': 'fix neutron-lib grafana dashboard\n\nThe neutron-lib Grafana dashboard has been broken since we moved to\nopendev and off py35 jobs. At the moment the dashboard shows no data\n[1]. This patch updates the dashboard to pull the proper zuul stats\nto get the dashboard working again.\n\n[1] http://grafana.openstack.org/d/Um5INcSmz/neutron-lib-failure-rate?orgId=1&panelId=6&fullscreen\n\nChange-Id: Ia9b05e5da2352f06014fb63051f4e90030def77d\n'}]",0,661977,721dbef6ba45693dd07dc72ee7588d80ba690876,11,6,1,5367,,,0,"fix neutron-lib grafana dashboard

The neutron-lib Grafana dashboard has been broken since we moved to
opendev and off py35 jobs. At the moment the dashboard shows no data
[1]. This patch updates the dashboard to pull the proper zuul stats
to get the dashboard working again.

[1] http://grafana.openstack.org/d/Um5INcSmz/neutron-lib-failure-rate?orgId=1&panelId=6&fullscreen

Change-Id: Ia9b05e5da2352f06014fb63051f4e90030def77d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/661977/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron-lib.yaml'],1,721dbef6ba45693dd07dc72ee7588d80ba690876,fix-neutron-lib-dash," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.tempest-full-py3.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.tempest-full-py3.{SUCCESS,FAILURE})),'24hours'), 'tempest-full-py3') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py36.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master(neutron)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bagpipe.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bagpipe.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-bagpipe)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bgpvpn.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bgpvpn.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-bgpvpn)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-midonet.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-midonet.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-midonet)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-odl)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-ovn.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-ovn.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master(networking-ovn)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-sfc.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-sfc.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (networking-sfc)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-dynamic-routing)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-fwaas.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-fwaas.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-fwaas)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-vpnaas.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-vpnaas.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (neutron-vpnaas)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.x_vmware-nsx.master.job.openstack-tox-py36-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.x_vmware-nsx.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py36-with-neutron-lib-master (vmware-nsx)')"," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.legacy-tempest-dsvm-neutron-src.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.legacy-tempest-dsvm-neutron-src.{SUCCESS,FAILURE})),'24hours'), 'legacy-tempest-dsvm-neutron-src') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py35.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py35') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-py35.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py35') type: graph - title: Coverage Failure Rates (Check queue) span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-cover.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-lib.master.job.openstack-tox-cover.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-cover') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master (neutron)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bagpipe.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bagpipe.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master (networking-bagpipe)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bgpvpn.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-bgpvpn.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master (networking-bgpvpn)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-midonet.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-midonet.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master (networking-midonet)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-odl.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master (networking-odl)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-ovn.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-ovn.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master (networking-ovn)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-sfc.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_networking-sfc.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master (networking-sfc)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-dynamic-routing.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master (neutron-dynamic-routing)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-fwaas.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-fwaas.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master (neutron-fwaas)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-vpnaas.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron-vpnaas.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master (neutron-vpnaas)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_vmware-nsx.master.job.openstack-tox-py35-with-neutron-lib-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_vmware-nsx.master.job.openstack-tox-py35-with-neutron-lib-master.{SUCCESS,FAILURE})),'24hours'), 'legacy-periodic-py35-with-neutron-lib-master (vmware-nsx)')",14,19
openstack%2Fnova~master~Iee5e94050c5e2a5ab658ffcf22b6225cf6711fd7,openstack/nova,master,Iee5e94050c5e2a5ab658ffcf22b6225cf6711fd7,[ironic] ignore conflict upon cleaning up node,ABANDONED,2019-03-14 23:03:26.000000000,2019-05-30 19:39:58.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14826}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-14 23:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aba28a7f9fe90fb862dbeb280898fb6c7fd6cf55', 'message': ""[ironic] ignore conflict upon cleaning up node\n\nDepending on the configuration of the ironic deployment,\nthe internal lock in the Ironic conductor can be held for\nlong enough to cause a conflict upon removing the node\ninstance_uuid and instance_info from ironic.\n\nThat being said, these fields have been long deleted as part\nof final steps in ironic's teardown process since changes:\nIe968e5b3d45f417e98da6b3d985de5bfd851c364\nI58bc848ab3a60d3e9ab16d00ce96a603df1c244a\n\nChange-Id: Iee5e94050c5e2a5ab658ffcf22b6225cf6711fd7\nCloses-Bug: 1815799\n""}, {'number': 2, 'created': '2019-03-14 23:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/447e392d94607e9368358bde2873704bc8903d89', 'message': ""[ironic] ignore conflict upon cleaning up node\n\nDepending on the configuration of the ironic deployment,\nthe internal lock in the Ironic conductor can be held for\nlong enough to cause a conflict upon removing the node\ninstance_uuid and instance_info from ironic.\n\nThat being said, these fields have been long deleted as part\nof final steps in ironic's teardown process since changes:\nIe968e5b3d45f417e98da6b3d985de5bfd851c364\nI58bc848ab3a60d3e9ab16d00ce96a603df1c244a\n\nChange-Id: Iee5e94050c5e2a5ab658ffcf22b6225cf6711fd7\nCloses-Bug: 1815799\n""}, {'number': 3, 'created': '2019-03-15 01:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4571b5353c00d232c7fbd1240e3d19e874b70a91', 'message': ""[ironic] ignore conflict upon cleaning up node\n\nDepending on the configuration of the ironic deployment,\nthe internal lock in the Ironic conductor can be held for\nlong enough to cause a conflict upon removing the node\ninstance_uuid and instance_info from ironic.\n\nThat being said, these fields have been long deleted as part\nof final steps in ironic's teardown process since changes:\nIe968e5b3d45f417e98da6b3d985de5bfd851c364\nI58bc848ab3a60d3e9ab16d00ce96a603df1c244a\n\nChange-Id: Iee5e94050c5e2a5ab658ffcf22b6225cf6711fd7\nCloses-Bug: 1815799\n""}, {'number': 4, 'created': '2019-04-12 20:31:45.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c2e2248f9dfc2dbc69535aef928faa720f620f9', 'message': ""[ironic] ignore conflict upon cleaning up node\n\nDepending on the configuration of the ironic deployment,\nthe internal lock in the Ironic conductor can be held for\nlong enough to cause a conflict upon removing the node\ninstance_uuid and instance_info from ironic.\n\nThat being said, these fields have been long deleted as part\nof final steps in ironic's teardown process since changes:\nIe968e5b3d45f417e98da6b3d985de5bfd851c364\nI58bc848ab3a60d3e9ab16d00ce96a603df1c244a\n\nChange-Id: Iee5e94050c5e2a5ab658ffcf22b6225cf6711fd7\nCloses-Bug: 1815799\n""}]",11,643484,4c2e2248f9dfc2dbc69535aef928faa720f620f9,28,15,4,11655,,,0,"[ironic] ignore conflict upon cleaning up node

Depending on the configuration of the ironic deployment,
the internal lock in the Ironic conductor can be held for
long enough to cause a conflict upon removing the node
instance_uuid and instance_info from ironic.

That being said, these fields have been long deleted as part
of final steps in ironic's teardown process since changes:
Ie968e5b3d45f417e98da6b3d985de5bfd851c364
I58bc848ab3a60d3e9ab16d00ce96a603df1c244a

Change-Id: Iee5e94050c5e2a5ab658ffcf22b6225cf6711fd7
Closes-Bug: 1815799
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/643484/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,aba28a7f9fe90fb862dbeb280898fb6c7fd6cf55,bug/1815799," @mock.patch.object(ironic_driver.IronicDriver, '_remove_instance_info_from_node') def test_destroy_instance_info_cleanup_conflict(self, mock_remove_ii): mock_remove_ii.side_effect = ironic_exception.Conflict() self._test_destroy(ironic_states.ACTIVE) ",,15,1
openstack%2Ftripleo-heat-templates~master~Ie623e91517f2b310d58181233f06bc3e7c9e9c71,openstack/tripleo-heat-templates,master,Ie623e91517f2b310d58181233f06bc3e7c9e9c71,ceph-base: Update ceph-ansible default playbook,MERGED,2019-05-28 18:56:35.000000000,2019-05-30 19:33:08.000000000,2019-05-29 21:54:24.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-28 18:56:35.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c450bae2ba7717a3fd0d2116b3d901d50a511d4d', 'message': ""ceph-base: Update ceph-ansible default playbook\n\nThe main ceph-ansible playbook for containerized deployment is named\nsite-container.yml because it isn't only used for docker.\nCurrently the site-docker playbook is a symlink to site-container and\nthis symlink will probably be remove in the future.\n\nChange-Id: Ie623e91517f2b310d58181233f06bc3e7c9e9c71\n""}]",0,661830,c450bae2ba7717a3fd0d2116b3d901d50a511d4d,18,5,1,14270,,,0,"ceph-base: Update ceph-ansible default playbook

The main ceph-ansible playbook for containerized deployment is named
site-container.yml because it isn't only used for docker.
Currently the site-docker playbook is a symlink to site-container and
this symlink will probably be remove in the future.

Change-Id: Ie623e91517f2b310d58181233f06bc3e7c9e9c71
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/661830/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,c450bae2ba7717a3fd0d2116b3d901d50a511d4d,ceph_ansible_playbook_name, {{ ceph_ansible_playbooks_default|default(['/usr/share/ceph-ansible/site-container.yml.sample']) }}, {{ ceph_ansible_playbooks_default|default(['/usr/share/ceph-ansible/site-docker.yml.sample']) }},1,1
openstack%2Fopenstack-helm-infra~master~I22f4957f90e4113831a8ddf48691cb14f811c1e5,openstack/openstack-helm-infra,master,I22f4957f90e4113831a8ddf48691cb14f811c1e5,Elasticsearch: Add data node specific entrypoint override,MERGED,2019-05-04 12:42:25.000000000,2019-05-30 19:24:40.000000000,2019-05-30 19:24:40.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-04 12:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/adcd4cad1b8f54ae748975e92edad071b46e451b', 'message': 'Add container lifecycle hooks for elasticsearch-data pods\n\nThis adds a post-start and pre-stop lifecycle hook to the\nelasticsearch data pods. This helps ensure resiliency of the\nelasticsearch cluster by marking a node not eligible for shard\nallocation, which then moves all shards off the data pod. Once the\npod has restarted, it is then added back to the list of eligible\nnodes for allocation with the post-start hook. This helps reduce\nthe overhead associated with rolling upgrades of the elasticsearch\ncluster\n\nChange-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5\n'}, {'number': 2, 'created': '2019-05-06 13:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7dc8520fe02751613f9206e1edd90b6957b1d7d2', 'message': 'Add container lifecycle hooks for elasticsearch-data pods\n\nThis adds a post-start and pre-stop lifecycle hook to the\nelasticsearch data pods. This helps ensure resiliency of the\nelasticsearch cluster by marking a node not eligible for shard\nallocation, which then moves all shards off the data pod. Once the\npod has restarted, it is then added back to the list of eligible\nnodes for allocation with the post-start hook. This helps reduce\nthe overhead associated with rolling upgrades of the elasticsearch\ncluster\n\nChange-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5\n'}, {'number': 3, 'created': '2019-05-06 14:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/846f85c436e90b96128d9890fe1a248960c1db2c', 'message': 'Add container lifecycle hooks for elasticsearch-data pods\n\nThis adds a post-start and pre-stop lifecycle hook to the\nelasticsearch data pods. This helps ensure resiliency of the\nelasticsearch cluster by marking a node not eligible for shard\nallocation, which then moves all shards off the data pod. Once the\npod has restarted, it is then added back to the list of eligible\nnodes for allocation with the post-start hook. This helps reduce\nthe overhead associated with rolling upgrades of the elasticsearch\ncluster\n\nChange-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5\n'}, {'number': 4, 'created': '2019-05-20 13:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2da8567eece11fad1c96cda8ffe9e3c5d1732a04', 'message': 'Add container lifecycle hooks for elasticsearch-data pods\n\nThis adds a post-start and pre-stop lifecycle hook to the\nelasticsearch data pods. This helps ensure resiliency of the\nelasticsearch cluster by marking a node not eligible for shard\nallocation, which then moves all shards off the data pod. Once the\npod has restarted, it is then added back to the list of eligible\nnodes for allocation with the post-start hook. This helps reduce\nthe overhead associated with rolling upgrades of the elasticsearch\ncluster\n\nChange-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5\n'}, {'number': 5, 'created': '2019-05-23 18:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b1bdf7ba098ccee402cf8dee763c2e09a464a4e', 'message': 'Add container lifecycle hooks for elasticsearch-data pods\n\nThis adds a post-start and pre-stop lifecycle hook to the\nelasticsearch data pods. This helps ensure resiliency of the\nelasticsearch cluster by marking a node not eligible for shard\nallocation, which then moves all shards off the data pod. Once the\npod has restarted, it is then added back to the list of eligible\nnodes for allocation with the post-start hook. This helps reduce\nthe overhead associated with rolling upgrades of the elasticsearch\ncluster\n\nChange-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5\n'}, {'number': 6, 'created': '2019-05-23 18:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/935a8d8f6a3ba42f08de739aa57c903db9d4e790', 'message': 'Add container lifecycle hooks for elasticsearch-data pods\n\nThis adds a post-start and pre-stop lifecycle hook to the\nelasticsearch data pods. This helps ensure resiliency of the\nelasticsearch cluster by marking a node not eligible for shard\nallocation, which then moves all shards off the data pod. Once the\npod has restarted, it is then added back to the list of eligible\nnodes for allocation with the post-start hook. This helps reduce\nthe overhead associated with rolling upgrades of the elasticsearch\ncluster\n\nChange-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5\n'}, {'number': 7, 'created': '2019-05-24 14:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8a9ac6fa0c9081be52f93bc192890c5c942b152', 'message': 'WIP: Add container lifecycle hooks for elasticsearch-data pods\n\nThis adds a post-start and pre-stop lifecycle hook to the\nelasticsearch data pods. This helps ensure resiliency of the\nelasticsearch cluster by marking a node not eligible for shard\nallocation, which then moves all shards off the data pod. Once the\npod has restarted, it is then added back to the list of eligible\nnodes for allocation with the post-start hook. This helps reduce\nthe overhead associated with rolling upgrades of the elasticsearch\ncluster\n\nChange-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5\n'}, {'number': 8, 'created': '2019-05-24 14:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f48e6885d954cedeb19a116e6e01d7fc601b91fb', 'message': 'WIP: Add container lifecycle hooks for elasticsearch-data pods\n\nThis adds a post-start and pre-stop lifecycle hook to the\nelasticsearch data pods. This helps ensure resiliency of the\nelasticsearch cluster by marking a node not eligible for shard\nallocation, which then moves all shards off the data pod. Once the\npod has restarted, it is then added back to the list of eligible\nnodes for allocation with the post-start hook. This helps reduce\nthe overhead associated with rolling upgrades of the elasticsearch\ncluster\n\nChange-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5\n'}, {'number': 9, 'created': '2019-05-30 15:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e289adb01856f29d45adfd6722fabb5e749eb16', 'message': 'Elasticsearch: Add data node specific entrypoint override\n\nThis updates the Elasticsearch chart to include a specific start\nscript for the Elasticsearch data nodes that includes a trap on\nsignals that removes a data node from allocation eligible nodes\nbefore shutting down.  This results in all shards being moved from\na node on shut down to alleviate issues with planned down nodes,\nsuch as during upgrade scenarios\n\nChange-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5\n'}, {'number': 10, 'created': '2019-05-30 15:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/621f1ad991340262db103f8e8155a165ff8b8c5b', 'message': 'Elasticsearch: Add data node specific entrypoint override\n\nThis updates the Elasticsearch chart to include a specific start\nscript for the Elasticsearch data nodes that includes a trap on\nsignals that removes a data node from allocation eligible nodes\nbefore shutting down.  This results in all shards being moved from\na node on shut down to alleviate issues with planned down nodes,\nsuch as during upgrade scenarios\n\nChange-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5\n'}, {'number': 11, 'created': '2019-05-30 15:25:08.000000000', 'files': ['elasticsearch/templates/bin/_elasticsearch.sh.tpl', 'elasticsearch/values.yaml', 'elasticsearch/templates/statefulset-data.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/91178c31bf449242aa41a61fd67ced4e2a49a624', 'message': 'Elasticsearch: Add data node specific entrypoint override\n\nThis updates the Elasticsearch chart to include a specific start\nscript for the Elasticsearch data nodes that includes a trap on\nsignals that removes a data node from allocation eligible nodes\nbefore shutting down.  This results in all shards being moved from\na node on shut down to alleviate issues with planned down nodes,\nsuch as during upgrade scenarios\n\nChange-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5\n'}]",2,657114,91178c31bf449242aa41a61fd67ced4e2a49a624,35,5,11,17591,,,0,"Elasticsearch: Add data node specific entrypoint override

This updates the Elasticsearch chart to include a specific start
script for the Elasticsearch data nodes that includes a trap on
signals that removes a data node from allocation eligible nodes
before shutting down.  This results in all shards being moved from
a node on shut down to alleviate issues with planned down nodes,
such as during upgrade scenarios

Change-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/14/657114/7 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/bin/_elasticsearch.sh.tpl', 'elasticsearch/templates/configmap-bin.yaml', 'elasticsearch/templates/bin/_pre-stop-hook.sh.tpl', 'elasticsearch/templates/bin/_post-start-hook.sh.tpl', 'elasticsearch/templates/statefulset-data.yaml']",5,adcd4cad1b8f54ae748975e92edad071b46e451b,elasticsearch-container-hooks, - /tmp/pre-stop-hook.sh postStart: exec: command: - /tmp/post-start-hook.sh - name: elasticsearch-bin mountPath: /tmp/pre-stop-hook.sh subPath: pre-stop-hook.sh readOnly: true - name: elasticsearch-bin mountPath: /tmp/post-start-hook.sh subPath: post-start-hook.sh readOnly: true, - /tmp/elasticsearch.sh - stop,86,6
openstack%2Fnetworking-l2gw~master~I4e5a56a2ffc1b76d9cf245bf5568c181195b7293,openstack/networking-l2gw,master,I4e5a56a2ffc1b76d9cf245bf5568c181195b7293,Enable MySQL Cluster Support for l2gw,ABANDONED,2017-10-16 14:25:15.000000000,2019-05-30 19:16:23.000000000,,"[{'_account_id': 1390}, {'_account_id': 11816}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-16 14:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/aadfaa6ed7f8ff8dbc08c641731fad5d667a8902', 'message': 'Enable MySQL Cluster Support for l2gw\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I4e5a56a2ffc1b76d9cf245bf5568c181195b7293\nImplements: blueprint mysql-cluster-support\n'}, {'number': 2, 'created': '2017-10-16 14:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/2330606c3d4981539d7a67df92b1ae2d794e7af7', 'message': 'Enable MySQL Cluster Support for l2gw\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I4e5a56a2ffc1b76d9cf245bf5568c181195b7293\nImplements: blueprint mysql-cluster-support\n'}, {'number': 3, 'created': '2017-11-02 17:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/f4cfab226974a3bde02913e13983fd4f87707ec1', 'message': 'Enable MySQL Cluster Support for l2gw\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I4e5a56a2ffc1b76d9cf245bf5568c181195b7293\nImplements: blueprint mysql-cluster-support\n'}, {'number': 4, 'created': '2018-04-02 01:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/8ed4634359cb5d1edb5706e632ee2c3475d63f56', 'message': 'Enable MySQL Cluster Support for l2gw\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I4e5a56a2ffc1b76d9cf245bf5568c181195b7293\nImplements: blueprint mysql-cluster-support\n'}, {'number': 5, 'created': '2018-04-05 00:26:10.000000000', 'files': ['networking_l2gw/db/migration/alembic_migrations/env.py'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/c3dd3a97d3e9da97e62705b86142ac1aeb584513', 'message': 'Enable MySQL Cluster Support for l2gw\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I4e5a56a2ffc1b76d9cf245bf5568c181195b7293\nImplements: blueprint mysql-cluster-support\n'}]",2,512312,c3dd3a97d3e9da97e62705b86142ac1aeb584513,11,4,5,23479,,,0,"Enable MySQL Cluster Support for l2gw

This enables the usage of the mysql_enable_ndb setting from oslo.db
from bug 1564110.This allows operators to select from MySQL (InnoDB)
or MySQL Cluster (NDB) as the storage engine backend.

Depends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3
Depends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf
Change-Id: I4e5a56a2ffc1b76d9cf245bf5568c181195b7293
Implements: blueprint mysql-cluster-support
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/12/512312/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_l2gw/db/migration/alembic_migrations/env.py'],1,aadfaa6ed7f8ff8dbc08c641731fad5d667a8902,bug/1564110," if neutron_config.database.mysql_enable_ndb: mysql_engine = 'NDBCLUSTER' else: mysql_engine = neutron_config.command.mysql_engine engine = session.create_engine( neutron_config.database.connection, sql_connection=neutron_config.database.connection, mysql_enable_ndb=neutron_config.database.mysql_enable_ndb ) with engine.connect() as connection: context.configure( connection=connection, target_metadata=target_metadata, include_object=include_object, version_table=L2GW_VERSION_TABLE ) try: with context.begin_transaction(): context.run_migrations() finally: connection.close() engine.dispose()"," mysql_engine = neutron_config.command.mysql_engine engine = session.create_engine(neutron_config.database.connection) connection = engine.connect() context.configure( connection=connection, target_metadata=target_metadata, include_object=include_object, version_table=L2GW_VERSION_TABLE ) try: with context.begin_transaction(): context.run_migrations() finally: connection.close() engine.dispose()",22,15
openstack%2Fnetworking-l2gw~master~I3667a863bfcb1d14754dbac5f0972afdc1c8faa0,openstack/networking-l2gw,master,I3667a863bfcb1d14754dbac5f0972afdc1c8faa0,Improve the l2gw command in README.rst,ABANDONED,2018-05-29 02:38:04.000000000,2019-05-30 19:16:01.000000000,,"[{'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-29 02:38:04.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/f0a5cd3dd8d381cf89870dab077f74c2bc61d9cb', 'message': 'Improve the l2gw command in README.rst\n\nChange-Id: I3667a863bfcb1d14754dbac5f0972afdc1c8faa0\n'}]",1,570832,f0a5cd3dd8d381cf89870dab077f74c2bc61d9cb,4,2,1,25058,,,0,"Improve the l2gw command in README.rst

Change-Id: I3667a863bfcb1d14754dbac5f0972afdc1c8faa0
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/32/570832/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f0a5cd3dd8d381cf89870dab077f74c2bc61d9cb,doc,"``neutron l2-gateway-create --device name=""myphyswitch"",interface_names=""ens5"" openstackname````neutron l2-gateway-connection-create --default-segmentation-id SEG_ID <GATEWAY-NAME/UUID> <NETWORK-NAME/UUID>``","``l2-gateway-create --device name=""myphyswitch"",interface_names=""ens5"" openstackname````l2-gateway-connection-create <GATEWAY-NAME/UUID> <NETWORK-NAME/UUID>``",2,2
openstack%2Fnetworking-l2gw~master~Id7cbbf34db39aaceabc481a20476bd2fa6bcf93f,openstack/networking-l2gw,master,Id7cbbf34db39aaceabc481a20476bd2fa6bcf93f,Enable mutable config in networking_l2gw,ABANDONED,2018-07-25 20:46:22.000000000,2019-05-30 19:15:44.000000000,,"[{'_account_id': 6854}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-25 20:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/ad437bef3aafa816965c4a1c45f029078eb117b6', 'message': ""Enable mutable config in networking_l2gw\n\nNew releases of oslo.config support a 'mutable' parameter to Opts.\noslo.service provides an option here Icec3e664f3fe72614e373b2938e8dee53cf8bc5e\nallows services to tell oslo.service they want mutate_config_files to be\ncalled by passing a parameter.\n\nThis commit is to use the same. This allows networking_l2gw to benefit from\nI1e7a69de169cc85f4c09954b2f46ce2da7106d90, where the 'debug' option\n(owned by oslo.log) is made mutable. we should be able to turn debug\nlogging on and off by changing the config.\n\ntc goal:\nhttps://governance.openstack.org/tc/goals/rocky/enable-mutable-configuration.html\n\nChange-Id: Id7cbbf34db39aaceabc481a20476bd2fa6bcf93f\n""}, {'number': 2, 'created': '2019-02-07 18:20:12.000000000', 'files': ['networking_l2gw/services/l2gateway/l2gw_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/fbadeda678815be2b3d385b622c767a3c21fab6d', 'message': ""Enable mutable config in networking_l2gw\n\nNew releases of oslo.config support a 'mutable' parameter to Opts.\noslo.service provides an option here Icec3e664f3fe72614e373b2938e8dee53cf8bc5e\nallows services to tell oslo.service they want mutate_config_files to be\ncalled by passing a parameter.\n\nThis commit is to use the same. This allows networking_l2gw to benefit from\nI1e7a69de169cc85f4c09954b2f46ce2da7106d90, where the 'debug' option\n(owned by oslo.log) is made mutable. we should be able to turn debug\nlogging on and off by changing the config.\n\ntc goal:\nhttps://governance.openstack.org/tc/goals/rocky/enable-mutable-configuration.html\n\nChange-Id: Id7cbbf34db39aaceabc481a20476bd2fa6bcf93f\n""}]",0,585883,fbadeda678815be2b3d385b622c767a3c21fab6d,12,3,2,9631,,,0,"Enable mutable config in networking_l2gw

New releases of oslo.config support a 'mutable' parameter to Opts.
oslo.service provides an option here Icec3e664f3fe72614e373b2938e8dee53cf8bc5e
allows services to tell oslo.service they want mutate_config_files to be
called by passing a parameter.

This commit is to use the same. This allows networking_l2gw to benefit from
I1e7a69de169cc85f4c09954b2f46ce2da7106d90, where the 'debug' option
(owned by oslo.log) is made mutable. we should be able to turn debug
logging on and off by changing the config.

tc goal:
https://governance.openstack.org/tc/goals/rocky/enable-mutable-configuration.html

Change-Id: Id7cbbf34db39aaceabc481a20476bd2fa6bcf93f
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/83/585883/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_l2gw/services/l2gateway/l2gw_agent.py'],1,ad437bef3aafa816965c4a1c45f029078eb117b6,mutable-config," service.launch(cfg.CONF, svc, restart_method='mutate').wait()"," service.launch(cfg.CONF, svc).wait()",1,1
openstack%2Fcinder~master~Ied0aa9a5e4fc5d8def4a50501d0fb60af247a6b9,openstack/cinder,master,Ied0aa9a5e4fc5d8def4a50501d0fb60af247a6b9,Update NEC driver manual and support matrix.,MERGED,2019-05-14 00:36:14.000000000,2019-05-30 19:14:49.000000000,2019-05-30 09:03:52.000000000,"[{'_account_id': 7198}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-14 00:36:14.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'doc/source/configuration/block-storage/drivers/nec-storage-m-series-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b996b689db36453977c1f526b9baac86f16bbaf', 'message': 'Update NEC driver manual and support matrix.\n\nIn NEC driver manual, add new NEC Storage models and update setup\ninstructions.\n\nIn support matrix, fix NEC Storage column. The driver does support\nThin Provisioning, and Volume Migration (Storage Assisted).\nIt does not support Snapshot Attachment.\n\nChange-Id: Ied0aa9a5e4fc5d8def4a50501d0fb60af247a6b9\n'}]",0,658939,6b996b689db36453977c1f526b9baac86f16bbaf,29,24,1,28403,,,0,"Update NEC driver manual and support matrix.

In NEC driver manual, add new NEC Storage models and update setup
instructions.

In support matrix, fix NEC Storage column. The driver does support
Thin Provisioning, and Volume Migration (Storage Assisted).
It does not support Snapshot Attachment.

Change-Id: Ied0aa9a5e4fc5d8def4a50501d0fb60af247a6b9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/658939/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'doc/source/configuration/block-storage/drivers/nec-storage-m-series-driver.rst']",2,6b996b689db36453977c1f526b9baac86f16bbaf,update-nec-manual-and-support-matrix,"+-----------------+------------------------+-----------------+ | Storage model | Storage control | Disk type | | | software (firmware) | | +=================+========================+=================+ | M110, | 0979 or later | SSD/HDD hybrid | | M310, | | | | M510, | | | | M710 | | | +-----------------+------------------------+-----------------+ | M310F, | 0979 or later | all flash | | M710F | | | +-----------------+------------------------+-----------------+ | M120, | 1028 or later | SSD/HDD hybrid | | M320 | | | +-----------------+------------------------+-----------------+ | M320F | 1028 or later | all flash | +-----------------+------------------------+-----------------+- NEC Storage M series requires firmware revision 1028 or later to create more than 1024 volumes in a pool. - NEC Storage DynamicDataReplication license. - (Optional) NEC Storage IO Load Manager license for QoS.- Copy a volume to an image. #. Create LD Sets for each node. #. Delete some iSCSI portal settings of each LD Sets to set to Specify one pool number where snapshots are created. Multiple pools are not supported.","- NEC Storage M110, M310, M510 and M710 (SSD/HDD hybrid) - NEC Storage M310F and M710F (all flash)- Storage control software (firmware) revision 0950 or later (1015 or later is required to create more than 1024 volumes in a pool) - NEC Storage DynamicDataReplication license - (Optional) NEC Storage IO Load Manager license for QoS #. Create LD Sets for each node with setting multi-target mode on. #. Delete some iscsi portal settings of each LD Sets to set to Specify a pool number where snapshots are created.",29,12
openstack%2Fglance_store~master~I1a6cfa45b5a37eacb4ba158b62fe619e1b1c9dff,openstack/glance_store,master,I1a6cfa45b5a37eacb4ba158b62fe619e1b1c9dff,Removed 'store_capabilities_update_min_interval' config option,MERGED,2019-05-24 06:22:37.000000000,2019-05-30 19:14:19.000000000,2019-05-30 19:14:19.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 06:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/548fa6cf4bc30b04c51a6a9471ec4f1f74f8337a', 'message': ""Removed 'store_capabilities_update_min_interval' config option\n\nRemoved 'store_capabilities_update_min_interval' configuration\noption which was scheduled to remove during Stein development\ncycle.\n\nChange-Id: I1a6cfa45b5a37eacb4ba158b62fe619e1b1c9dff\n""}, {'number': 2, 'created': '2019-05-29 06:23:15.000000000', 'files': ['glance_store/tests/unit/test_opts.py', 'glance_store/multi_backend.py', 'glance_store/capabilities.py', 'glance_store/backend.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d0d883e16dff136442ec83710288b1a2e7c57abd', 'message': ""Removed 'store_capabilities_update_min_interval' config option\n\nRemoved 'store_capabilities_update_min_interval' configuration\noption which was scheduled to remove during Stein development\ncycle.\n\nChange-Id: I1a6cfa45b5a37eacb4ba158b62fe619e1b1c9dff\n""}]",4,661190,d0d883e16dff136442ec83710288b1a2e7c57abd,13,5,2,9303,,,0,"Removed 'store_capabilities_update_min_interval' config option

Removed 'store_capabilities_update_min_interval' configuration
option which was scheduled to remove during Stein development
cycle.

Change-Id: I1a6cfa45b5a37eacb4ba158b62fe619e1b1c9dff
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/90/661190/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_opts.py', 'glance_store/multi_backend.py', 'glance_store/capabilities.py', 'glance_store/backend.py']",4,548fa6cf4bc30b04c51a6a9471ec4f1f74f8337a,remove-deprecation-options,," cfg.IntOpt('store_capabilities_update_min_interval', default=0, min=0, deprecated_for_removal=True, deprecated_since='Rocky', deprecated_reason="""""" This option configures a stub method that has not been implemented for any existing store drivers. Hence it is non-operational, and giving it a value does absolutely nothing. This option is scheduled for removal early in the Stein development cycle. """""", help="""""" Minimum interval in seconds to execute updating dynamic storage capabilities based on current backend status. Provide an integer value representing time in seconds to set the minimum interval before an update of dynamic storage capabilities for a storage backend can be attempted. Setting ``store_capabilities_update_min_interval`` does not mean updates occur periodically based on the set interval. Rather, the update is performed at the elapse of this interval set, if an operation of the store is triggered. By default, this option is set to zero and is disabled. Provide an integer value greater than zero to enable this option. NOTE 1: For more information on store capabilities and their updates, please visit: https://specs.openstack.org/openstack/glance-specs/\ specs/kilo/store-capabilities.html For more information on setting up a particular store in your deployment and help with the usage of this feature, please contact the storage driver maintainers listed here: https://docs.openstack.org/glance_store/latest/user/drivers.html NOTE 2: The dynamic store update capability described above is not implemented by any current store drivers. Thus, this option DOES NOT DO ANYTHING (and it never has). It is DEPRECATED and scheduled for removal early in the Stein development cycle. Possible values: * Zero * Positive integer Related Options: * None """"""),",9,116
openstack%2Fcinder~master~I6d9ade8c194b10b3618cffbbd5c904d27f785356,openstack/cinder,master,I6d9ade8c194b10b3618cffbbd5c904d27f785356,Remove confusing annotation,MERGED,2019-05-10 02:39:36.000000000,2019-05-30 19:12:26.000000000,2019-05-30 18:32:40.000000000,"[{'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28706}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-10 02:39:36.000000000', 'files': ['cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/faffb74ff8043d375a0894e155db4d2002c81e96', 'message': 'Remove confusing annotation\n\nThe function which was to check for valid disk-format\nhad been removed here. Now remove the confusing annotation.\n\nChange-Id: I6d9ade8c194b10b3618cffbbd5c904d27f785356\n'}]",0,658241,faffb74ff8043d375a0894e155db4d2002c81e96,56,31,1,28706,,,0,"Remove confusing annotation

The function which was to check for valid disk-format
had been removed here. Now remove the confusing annotation.

Change-Id: I6d9ade8c194b10b3618cffbbd5c904d27f785356
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/658241/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/volume_actions.py'],1,faffb74ff8043d375a0894e155db4d2002c81e96,trivialfix," disk_format = params.get(""disk_format"", ""raw"")"," # check for valid disk-format disk_format = params.get(""disk_format"", ""raw"") ",1,2
openstack%2Fcinder~master~I0b61934067bfb69ed3375f14bb1e05c9eeb694ad,openstack/cinder,master,I0b61934067bfb69ed3375f14bb1e05c9eeb694ad,Bump bandit version,MERGED,2019-05-13 17:26:26.000000000,2019-05-30 18:59:08.000000000,2019-05-30 17:47:21.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27679}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-13 17:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8393f696dddb4271474b01cdadf0992c9c6d5370', 'message': ""Bump bandit version\n\nBandit 1.6.0 changes the behavior of the '-x' option so that it now\nsupports glob patterns. Update our tox file to use to correctly exclude\ntest code from bandit scans. This requires bumping our minimum bandit\nversion.\nFor additional details, refer to ML Thread[1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html\n\nChange-Id: I0b61934067bfb69ed3375f14bb1e05c9eeb694ad\n""}, {'number': 2, 'created': '2019-05-15 11:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb3907173100723b4e8ff803392495ae30041209', 'message': ""Bump bandit version\n\nBandit 1.6.0 changes the behavior of the '-x' option so that it now\nsupports glob patterns. Update our tox file to use to correctly exclude\ntest code from bandit scans. This requires bumping our minimum bandit\nversion.\nFor additional details, refer to ML Thread[1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html\n\nChange-Id: I0b61934067bfb69ed3375f14bb1e05c9eeb694ad\n""}, {'number': 3, 'created': '2019-05-20 07:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/54c1b0951401d596ae3c89aa4c937858a21a79cb', 'message': ""Bump bandit version\n\nBandit 1.6.0 changes the behavior of the '-x' option so that it now\nsupports glob patterns. Update our tox file to use to correctly exclude\ntest code from bandit scans. This requires bumping our minimum bandit\nversion.\nFor additional details, refer to ML Thread[1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html\n\nChange-Id: I0b61934067bfb69ed3375f14bb1e05c9eeb694ad\n""}, {'number': 4, 'created': '2019-05-20 16:54:48.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0554ee1d477cbff4a338524147e9243e823fd43e', 'message': ""Bump bandit version\n\nBandit 1.6.0 changes the behavior of the '-x' option so that it now\nsupports glob patterns. Update our tox file to use to correctly exclude\ntest code from bandit scans. This requires bumping our minimum bandit\nversion.\nFor additional details, refer to ML Thread[1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html\n\nChange-Id: I0b61934067bfb69ed3375f14bb1e05c9eeb694ad\n""}]",7,658873,0554ee1d477cbff4a338524147e9243e823fd43e,126,38,4,27615,,,0,"Bump bandit version

Bandit 1.6.0 changes the behavior of the '-x' option so that it now
supports glob patterns. Update our tox file to use to correctly exclude
test code from bandit scans. This requires bumping our minimum bandit
version.
For additional details, refer to ML Thread[1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html

Change-Id: I0b61934067bfb69ed3375f14bb1e05c9eeb694ad
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/658873/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,8393f696dddb4271474b01cdadf0992c9c6d5370,,commands = bandit -r cinder -n5 -x cinder/tests/* -llcommands = bandit-baseline -r cinder -n5 -x cinder/tests/* -ii -ll,commands = bandit -r cinder -n5 -x tests -llcommands = bandit-baseline -r cinder -n5 -x tests -ii -ll,4,4
openstack%2Fheat~stable%2Fstein~I23493b1c477d082c478f87167de2c1859ba5ace7,openstack/heat,stable/stein,I23493b1c477d082c478f87167de2c1859ba5ace7,Fix regression with SW deployments when region not configured,MERGED,2019-05-30 14:23:17.000000000,2019-05-30 18:53:47.000000000,2019-05-30 18:53:47.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 14:23:17.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/bc6b4d9e7ea16f3d499d42f8b1a83983e5231fb2', 'message': 'Fix regression with SW deployments when region not configured\n\nThe region name eventually has to pass through an os-collect-config.conf\nfile, the format of which is unable to distinguish between the JSON null\n(equivalent to None in Python) and the string ""null"".\n\nThis means that Story 2002781 caused a regression for users who didn\'t\nhave the region_name_for_services config option explicitly set in\nheat.conf.\n\nTo avoid this, only specify the region when we know what it is.\n\nChange-Id: I23493b1c477d082c478f87167de2c1859ba5ace7\nStory: #2005797\nTask: 33527\nTask: 33528\n(cherry picked from commit d580565abff2997002eff856535bdfd2ddb44da7)\n'}]",0,662232,bc6b4d9e7ea16f3d499d42f8b1a83983e5231fb2,6,2,1,8833,,,0,"Fix regression with SW deployments when region not configured

The region name eventually has to pass through an os-collect-config.conf
file, the format of which is unable to distinguish between the JSON null
(equivalent to None in Python) and the string ""null"".

This means that Story 2002781 caused a regression for users who didn't
have the region_name_for_services config option explicitly set in
heat.conf.

To avoid this, only specify the region when we know what it is.

Change-Id: I23493b1c477d082c478f87167de2c1859ba5ace7
Story: #2005797
Task: 33527
Task: 33528
(cherry picked from commit d580565abff2997002eff856535bdfd2ddb44da7)
",git fetch https://review.opendev.org/openstack/heat refs/changes/32/662232/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/software_deployment.py'],1,bc6b4d9e7ea16f3d499d42f8b1a83983e5231fb2,," if creds['region_name']: yield swc_io.InputConfig( name=self.DEPLOY_REGION_NAME, value=creds['region_name'], description=_('Region name for API authentication'))"," yield swc_io.InputConfig( name=self.DEPLOY_REGION_NAME, value=creds['region_name'], description=_('Region name for API authentication'))",5,3
openstack%2Fopenstack-helm-infra~master~Iec6d6f259dc8b7b4f2309b492409cc0e5feab669,openstack/openstack-helm-infra,master,Iec6d6f259dc8b7b4f2309b492409cc0e5feab669,Elasticsearch: Update client and data pod deps,MERGED,2019-05-29 14:37:47.000000000,2019-05-30 18:52:51.000000000,2019-05-30 18:52:51.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-05-29 14:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/73efff6143bf98515a174b1c96ebbbd72a85ae9a', 'message': 'Elasticsearch: Update client and data pod deps\n\nThis updates the Elasticsearch client and data pod dependencies\nto allow for sequential bring up of the cluster components. As\nwe want the order to be master->client->data, we add the discovery\nservice endpoint as a dependency for the client pods and add both\nthe discovery and client service endpoints as dependencies for\nthe data pods\n\nChange-Id: Iec6d6f259dc8b7b4f2309b492409cc0e5feab669\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-05-30 15:28:59.000000000', 'files': ['elasticsearch/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d334c5b68a082c0c09ce37116060b9efc1d45af4', 'message': 'Elasticsearch: Update client and data pod deps\n\nThis updates the Elasticsearch client and data pod dependencies\nto allow for sequential bring up of the cluster components. As\nwe want the order to be master->client->data, we add the discovery\nservice endpoint as a dependency for the client pods and add both\nthe discovery and client service endpoints as dependencies for\nthe data pods\n\nChange-Id: Iec6d6f259dc8b7b4f2309b492409cc0e5feab669\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,661997,d334c5b68a082c0c09ce37116060b9efc1d45af4,10,4,2,17591,,,0,"Elasticsearch: Update client and data pod deps

This updates the Elasticsearch client and data pod dependencies
to allow for sequential bring up of the cluster components. As
we want the order to be master->client->data, we add the discovery
service endpoint as a dependency for the client pods and add both
the discovery and client service endpoints as dependencies for
the data pods

Change-Id: Iec6d6f259dc8b7b4f2309b492409cc0e5feab669
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/661997/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/values.yaml'],1,73efff6143bf98515a174b1c96ebbbd72a85ae9a,update-es-deps, services: - endpoint: discovery service: elasticsearch services: - endpoint: internal service: elasticsearch - endpoint: discovery service: elasticsearch, services: null services: null,8,2
openstack%2Fcinder~master~I1dfc0b32a152b43f52328eab9a5d50faa991113b,openstack/cinder,master,I1dfc0b32a152b43f52328eab9a5d50faa991113b,PowerMax docs - add information on new and existing functionality,MERGED,2019-04-10 14:37:22.000000000,2019-05-30 18:46:25.000000000,2019-05-30 17:47:35.000000000,"[{'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}]","[{'number': 1, 'created': '2019-04-10 14:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/832f63b7c7da2cb5e8806ae60b9008152b448fe1', 'message': 'PowerMax docs - additional information on new and existing functionality\n\nAdding more information on the PowerMax support of cinder backup and links\nto the latest documentation.  Adding note on support of in use (attached)\nvolume retyping.\n\nChange-Id: I1dfc0b32a152b43f52328eab9a5d50faa991113b\n'}, {'number': 2, 'created': '2019-04-15 16:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc6dad05ad5caef3a5ea7d8fa5b9e2124d8a7277', 'message': 'PowerMax docs - additional information on new and existing functionality\n\nAdding more information on the PowerMax support of cinder backup and links\nto the latest documentation.  Adding note on support of in use (attached)\nvolume retyping and Unisphere failover feature\n\nChange-Id: I1dfc0b32a152b43f52328eab9a5d50faa991113b\n'}, {'number': 3, 'created': '2019-04-16 10:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/033dd946f414554ea8979026261533050641aab5', 'message': 'PowerMax docs - additional information on new and existing functionality\n\nAdding more information on the PowerMax support of cinder backup and links\nto the latest documentation.  Adding note on support of in use (attached)\nvolume retyping and Unisphere failover feature\n\nChange-Id: I1dfc0b32a152b43f52328eab9a5d50faa991113b\n'}, {'number': 4, 'created': '2019-04-16 10:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff1a6207ea148946473f2adcbcadc5b4db95b41a', 'message': 'PowerMax docs - add information on new and existing functionality\n\nAdding more information on the PowerMax support of cinder backup and\nlinks to the latest documentation.  Adding note on support of in use\n(attached) volume retyping and Unisphere failover feature.\n\nChange-Id: I1dfc0b32a152b43f52328eab9a5d50faa991113b\n'}, {'number': 5, 'created': '2019-04-17 14:57:29.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2c084da77c2387a61191881076ad5bfe4a9491a', 'message': 'PowerMax docs - add information on new and existing functionality\n\nAdding more information on the PowerMax support of cinder backup and\nlinks to the latest documentation.  Adding note on support of in use\n(attached) volume retyping and Unisphere failover feature.\n\nChange-Id: I1dfc0b32a152b43f52328eab9a5d50faa991113b\n'}]",14,651559,c2c084da77c2387a61191881076ad5bfe4a9491a,108,29,5,12670,,,0,"PowerMax docs - add information on new and existing functionality

Adding more information on the PowerMax support of cinder backup and
links to the latest documentation.  Adding note on support of in use
(attached) volume retyping and Unisphere failover feature.

Change-Id: I1dfc0b32a152b43f52328eab9a5d50faa991113b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/651559/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'],1,832f63b7c7da2cb5e8806ae60b9008152b448fe1,doc_additions,"- Backup create, delete, list, restore and show.. note:: With the Stein release, In Use (attached) volume retype is supported Cinder backup support --------------------- PowerMax cinder driver supports cinder backup functionality. See https://docs.openstack.org/cinder/latest/configuration/block-storage/backup-drivers.html and https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/backup.html for more details. ",,16,0
openstack%2Fcinder~master~Ib35eba39009a2ecdb1c45c6b56de7c08dabd6676,openstack/cinder,master,Ib35eba39009a2ecdb1c45c6b56de7c08dabd6676,move kaminario driver exceptions,MERGED,2019-05-07 20:16:56.000000000,2019-05-30 18:42:48.000000000,2019-05-24 02:37:59.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20721}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-07 20:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/25d8cb9bd2a9d4b8031075d769fd380535b0ebaa', 'message': 'move kaminario driver exceptions\n\nThis patch moves the kaminario exceptions to the\nkaminario_common file\n\nChange-Id: Ib35eba39009a2ecdb1c45c6b56de7c08dabd6676\n'}, {'number': 2, 'created': '2019-05-09 12:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a49b6011c4c7d7baec133f6eef6583db4afc0acc', 'message': 'move kaminario driver exceptions\n\nThis patch moves the kaminario exceptions to the\nkaminario_common file\n\nChange-Id: Ib35eba39009a2ecdb1c45c6b56de7c08dabd6676\n'}, {'number': 3, 'created': '2019-05-10 17:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dea2294c81cf5e9c0e5c09bc1f5ef016f9c70a38', 'message': 'move kaminario driver exceptions\n\nThis patch moves the kaminario exceptions to the\nkaminario_common file\n\nChange-Id: Ib35eba39009a2ecdb1c45c6b56de7c08dabd6676\n'}, {'number': 4, 'created': '2019-05-23 15:00:11.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/exception.py', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6db2e945430c1ba900ba055e0555e277b95c3f06', 'message': 'move kaminario driver exceptions\n\nThis patch moves the kaminario exceptions to the\nkaminario_common file\n\nChange-Id: Ib35eba39009a2ecdb1c45c6b56de7c08dabd6676\n'}]",0,657678,6db2e945430c1ba900ba055e0555e277b95c3f06,149,42,4,5997,,,0,"move kaminario driver exceptions

This patch moves the kaminario exceptions to the
kaminario_common file

Change-Id: Ib35eba39009a2ecdb1c45c6b56de7c08dabd6676
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/657678/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/exception.py', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py']",5,25d8cb9bd2a9d4b8031075d769fd380535b0ebaa,driver_exceptions, raise common.KaminarioCinderDriverException(reason=msg) raise common.KaminarioCinderDriverException(reason=msg) raise common.KaminarioCinderDriverException(reason=ex) raise common.KaminarioCinderDriverException(reason=ex),from cinder import exception raise exception.KaminarioCinderDriverException(reason=msg) raise exception.KaminarioCinderDriverException(reason=msg) raise exception.KaminarioCinderDriverException(reason=ex) raise exception.KaminarioCinderDriverException(reason=ex),50,52
openstack%2Fcinder~master~Ia9f7107cde306271faeca49a8d3e447b3962c47b,openstack/cinder,master,Ia9f7107cde306271faeca49a8d3e447b3962c47b,move brocade zone manager exceptions,MERGED,2019-05-09 18:28:31.000000000,2019-05-30 18:42:45.000000000,2019-05-20 20:34:41.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20721}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 28543}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30388}]","[{'number': 1, 'created': '2019-05-09 18:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4eaec758cd8ca0fb0fd6637dfa89d286f12e126', 'message': 'move brocade zone manager exceptions\n\nThis patch moves the brocade zone manager exceptions to\nbrocade/exception.py\n\nChange-Id: Ia9f7107cde306271faeca49a8d3e447b3962c47b\n'}, {'number': 2, 'created': '2019-05-10 16:25:54.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/brocade/exception.py', 'cinder/exception.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_zone_client_cli.py', 'cinder/tests/unit/zonemanager/test_brcd_http_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/659d4e390ac84e2c7a8fe4a2bbeaf4f69fe5dea6', 'message': 'move brocade zone manager exceptions\n\nThis patch moves the brocade zone manager exceptions to\nbrocade/exception.py\n\nChange-Id: Ia9f7107cde306271faeca49a8d3e447b3962c47b\n'}]",0,658172,659d4e390ac84e2c7a8fe4a2bbeaf4f69fe5dea6,74,38,2,5997,,,0,"move brocade zone manager exceptions

This patch moves the brocade zone manager exceptions to
brocade/exception.py

Change-Id: Ia9f7107cde306271faeca49a8d3e447b3962c47b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/658172/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/brocade/exception.py', 'cinder/exception.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_zone_client_cli.py', 'cinder/tests/unit/zonemanager/test_brcd_http_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py']",7,d4eaec758cd8ca0fb0fd6637dfa89d286f12e126,driver_exceptions,from cinder.zonemanager.drivers.brocade import exception as b_exception except b_exception.BrocadeZoningCliException: raise b_exception.BrocadeZoningCliException(reason=msg) raise b_exception.BrocadeZoningCliException(reason=msg) raise b_exception.BrocadeZoningCliException(reason=msg) except b_exception.BrocadeZoningCliException: raise b_exception.BrocadeZoningCliException(reason=msg) raise b_exception.BrocadeZoningCliException(reason=msg) raise b_exception.BrocadeZoningCliException(reason=msg) raise b_exception.BrocadeZoningCliException(reason=msg), except exception.BrocadeZoningCliException: raise exception.BrocadeZoningCliException(reason=msg) raise exception.BrocadeZoningCliException(reason=msg) raise exception.BrocadeZoningCliException(reason=msg) except exception.BrocadeZoningCliException: raise exception.BrocadeZoningCliException(reason=msg) raise exception.BrocadeZoningCliException(reason=msg) raise exception.BrocadeZoningCliException(reason=msg) raise exception.BrocadeZoningCliException(reason=msg),98,78
openstack%2Fos-brick~stable%2Fqueens~I12b9535d8a9969356394e406a1ed5ac4a5f1f959,openstack/os-brick,stable/queens,I12b9535d8a9969356394e406a1ed5ac4a5f1f959,Fix FC case sensitive scanning,MERGED,2019-05-15 12:27:22.000000000,2019-05-30 18:42:39.000000000,2019-05-17 09:01:49.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 27679}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-05-15 12:27:22.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/connectors/fibre_channel.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bdd05d22328a61d9e284317614884d5bcb133863', 'message': ""Fix FC case sensitive scanning\n\nFor FC connections there are multiple places where we check the\ninitiator target map provided by the backend against the port names of\nthe HBAs on the system.\n\nCurrently this check is case sensitive, but some backends are returning\nthe port names in the initiator target map upper cased, which usually\nresults in attach failures.\n\nSome of the reasons for the attach failures is that os-brick will not\nissue scan requests.\n\nExample from a 3PAR backend from a specific system:\n\n  Connector properties:\n    {\n     'wwpns': ['10001409dcd71ff6', '10001409dcd71ff7'],\n     'wwnns': ['20001409dcd71ff6', '20001409dcd71ff7'],\n     ...\n    }\n\n  Connection properties:\n    {\n     'initiator_target_map': {\n       '10001409DCD71FF6': ['20320002AC01E166', '21420002AC01E166'],\n       '10001409DCD71FF7': ['20410002AC01E166', '21410002AC01E166']\n     }\n     ...\n    }\n\nThis patch converts to lower case the\ninitiator_target_map and the target_wwn/target_wwns.\n\nCloses-Bug: #1775677\nChange-Id: I12b9535d8a9969356394e406a1ed5ac4a5f1f959\n(cherry picked from commit 037f9fe66768a99f3792d014b67ccf7d71e744c5)\nConflicts:\n\tos_brick/initiator/connectors/fibre_channel.py\n(cherry picked from commit 00a4d96d2506bed5c5507282a774bc75df9f790f)\n""}]",0,659281,bdd05d22328a61d9e284317614884d5bcb133863,15,11,1,21129,,,0,"Fix FC case sensitive scanning

For FC connections there are multiple places where we check the
initiator target map provided by the backend against the port names of
the HBAs on the system.

Currently this check is case sensitive, but some backends are returning
the port names in the initiator target map upper cased, which usually
results in attach failures.

Some of the reasons for the attach failures is that os-brick will not
issue scan requests.

Example from a 3PAR backend from a specific system:

  Connector properties:
    {
     'wwpns': ['10001409dcd71ff6', '10001409dcd71ff7'],
     'wwnns': ['20001409dcd71ff6', '20001409dcd71ff7'],
     ...
    }

  Connection properties:
    {
     'initiator_target_map': {
       '10001409DCD71FF6': ['20320002AC01E166', '21420002AC01E166'],
       '10001409DCD71FF7': ['20410002AC01E166', '21410002AC01E166']
     }
     ...
    }

This patch converts to lower case the
initiator_target_map and the target_wwn/target_wwns.

Closes-Bug: #1775677
Change-Id: I12b9535d8a9969356394e406a1ed5ac4a5f1f959
(cherry picked from commit 037f9fe66768a99f3792d014b67ccf7d71e744c5)
Conflicts:
	os_brick/initiator/connectors/fibre_channel.py
(cherry picked from commit 00a4d96d2506bed5c5507282a774bc75df9f790f)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/81/659281/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/connectors/fibre_channel.py']",2,bdd05d22328a61d9e284317614884d5bcb133863,bug/1775677," # Convert wwns to lower case wwns = [wwn.lower() for wwn in wwns] if target_wwns: connection_properties['target_wwns'] = wwns elif target_wwn: connection_properties['target_wwn'] = wwns if connection_properties.get('initiator_target_map') is not None: # Convert it to lower case itmap = {k.lower(): [port.lower() for port in v] for k, v in itmap.items()} connection_properties['initiator_target_map'] = itmap wwpn_lun_map[target_wwpn]))", if 'initiator_target_map' in connection_properties: wwpn_lun_map[target_wwpn])),45,3
openstack%2Fcinder~master~I4c6bee3d41e3d83c4d05d079e6d0f649587ecd98,openstack/cinder,master,I4c6bee3d41e3d83c4d05d079e6d0f649587ecd98,move datera exception,MERGED,2019-05-08 19:45:48.000000000,2019-05-30 18:42:37.000000000,2019-05-10 08:41:53.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-08 19:45:48.000000000', 'files': ['cinder/volume/drivers/datera/datera_common.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_datera.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/12225b6c0a0b1dff5f90c6bca382d9d40b8477fb', 'message': 'move datera exception\n\nThis patch moves the datera exception to datera_common\n\nChange-Id: I4c6bee3d41e3d83c4d05d079e6d0f649587ecd98\n'}]",0,657876,12225b6c0a0b1dff5f90c6bca382d9d40b8477fb,50,33,1,5997,,,0,"move datera exception

This patch moves the datera exception to datera_common

Change-Id: I4c6bee3d41e3d83c4d05d079e6d0f649587ecd98
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/657876/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/datera/datera_common.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_datera.py']",3,12225b6c0a0b1dff5f90c6bca382d9d40b8477fb,driver_exceptions," self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException, self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException, self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException, self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException, self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException, self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException, self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException, self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException, self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException, self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException, self.mock_api.side_effect = datc.DateraAPIException self.assertRaises(datc.DateraAPIException,"," self.mock_api.side_effect = exception.DateraAPIException self.assertRaises(exception.DateraAPIException, self.mock_api.side_effect = exception.DateraAPIException self.assertRaises(exception.DateraAPIException, self.mock_api.side_effect = exception.DateraAPIException self.assertRaises(exception.DateraAPIException, self.mock_api.side_effect = exception.DateraAPIException self.assertRaises(exception.DateraAPIException, self.mock_api.side_effect = exception.DateraAPIException self.assertRaises(exception.DateraAPIException, self.mock_api.side_effect = exception.DateraAPIException self.assertRaises(exception.DateraAPIException, self.mock_api.side_effect = exception.DateraAPIException self.assertRaises(exception.DateraAPIException, self.mock_api.side_effect = exception.DateraAPIException self.assertRaises(exception.DateraAPIException, self.mock_api.side_effect = exception.DateraAPIException self.assertRaises(exception.DateraAPIException, self.mock_api.side_effect = exception.DateraAPIException self.assertRaises(exception.DateraAPIException, self.mock_api.side_effect = exception.DateraAPIException self.assertRaises(exception.DateraAPIException,",32,33
openstack%2Fcinder~master~I83ab1925dd7eb39cf64b9853cd65e2b7cb06e833,openstack/cinder,master,I83ab1925dd7eb39cf64b9853cd65e2b7cb06e833,move Dell EMC SC driver exceptions,MERGED,2019-05-24 13:23:25.000000000,2019-05-30 18:42:31.000000000,2019-05-29 16:19:01.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-24 13:23:25.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/30da697a5925bc402df82508dc03f7e6fad18333', 'message': 'move Dell EMC SC driver exceptions\n\nThis patch moves the Dell EMC SC exceptions to the driver.\n\nChange-Id: I83ab1925dd7eb39cf64b9853cd65e2b7cb06e833\n'}]",0,661288,30da697a5925bc402df82508dc03f7e6fad18333,41,33,1,5997,,,0,"move Dell EMC SC driver exceptions

This patch moves the Dell EMC SC exceptions to the driver.

Change-Id: I83ab1925dd7eb39cf64b9853cd65e2b7cb06e833
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/661288/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/exception.py']",3,30da697a5925bc402df82508dc03f7e6fad18333,driver_exceptions,,"# Driver specific exceptions # Dell class DellDriverRetryableException(VolumeBackendAPIException): message = _(""Retryable Dell Exception encountered"") class DellDriverUnknownSpec(VolumeDriverException): message = _(""Dell driver failure: %(reason)s"") ",8,13
openstack%2Fcinder~master~Id1249b73a3e7f1c8424c220ffc15066e47b1e77e,openstack/cinder,master,Id1249b73a3e7f1c8424c220ffc15066e47b1e77e,move zadara exceptions,MERGED,2019-05-08 19:34:00.000000000,2019-05-30 18:42:25.000000000,2019-05-21 17:13:23.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 27679}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-08 19:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/beaca723e07731e579b0c1c7633edb19f89a5927', 'message': 'move zadara exceptions\n\nThis patch moves the zadara exceptions to the driver.\n\nChange-Id: Id1249b73a3e7f1c8424c220ffc15066e47b1e77e\n'}, {'number': 2, 'created': '2019-05-20 20:39:19.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_zadara.py', 'cinder/exception.py', 'cinder/volume/drivers/zadara.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a954f117d08059c0277cfe8e22afaa736da2c98', 'message': 'move zadara exceptions\n\nThis patch moves the zadara exceptions to the driver.\n\nChange-Id: Id1249b73a3e7f1c8424c220ffc15066e47b1e77e\n'}]",0,657874,8a954f117d08059c0277cfe8e22afaa736da2c98,88,38,2,5997,,,0,"move zadara exceptions

This patch moves the zadara exceptions to the driver.

Change-Id: Id1249b73a3e7f1c8424c220ffc15066e47b1e77e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/657874/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_zadara.py', 'cinder/exception.py', 'cinder/volume/drivers/zadara.py']",3,beaca723e07731e579b0c1c7633edb19f89a5927,driver_exceptions,"class ZadaraServerCreateFailure(exception.VolumeDriverException): message = _(""Unable to create server object for initiator %(name)s"") class ZadaraServerNotFound(exception.NotFound): message = _(""Unable to find server object for initiator %(name)s"") class ZadaraVPSANoActiveController(exception.VolumeDriverException): message = _(""Unable to find any active VPSA controller"") class ZadaraAttachmentsNotFound(exception.NotFound): message = _(""Failed to retrieve attachments for volume %(name)s"") class ZadaraInvalidAttachmentInfo(exception.Invalid): message = _(""Invalid attachment info for volume %(name)s: %(reason)s"") class ZadaraVolumeNotFound(exception.VolumeDriverException): message = ""%(reason)s"" raise ZadaraVolumeNotFound(reason=msg) raise ZadaraServerCreateFailure(name=initiator_name) raise ZadaraVPSANoActiveController() raise ZadaraAttachmentsNotFound(name=name) raise ZadaraInvalidAttachmentInfo( raise ZadaraServerNotFound(name=initiator_name)", raise exception.ZadaraVolumeNotFound(reason=msg) raise exception.ZadaraServerCreateFailure(name=initiator_name) raise exception.ZadaraVPSANoActiveController() raise exception.ZadaraAttachmentsNotFound(name=name) raise exception.ZadaraInvalidAttachmentInfo( raise exception.ZadaraServerNotFound(name=initiator_name),33,34
openstack%2Fcinder~stable%2Fqueens~I77ed6e3caa5553193c3d886d86c52d23eb87b429,openstack/cinder,stable/queens,I77ed6e3caa5553193c3d886d86c52d23eb87b429,Remove LOCI publishing from the post pipeline,MERGED,2019-05-07 16:28:29.000000000,2019-05-30 18:42:17.000000000,2019-05-08 15:57:12.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 6593}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-07 16:28:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1fc75e74d71b57981167016a0ae7eb192ef28278', 'message': 'Remove LOCI publishing from the post pipeline\n\nDue to transitive rights changes in Zuul, the LOCI job that was\npublishing Cinder containers after every build is now causing an error\nwhen building the post pipeline graph that causes all post jobs to be\nskipped. This removes the job for now until a better solution is found\nby the team.\n\nChange-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)\n'}]",0,657636,1fc75e74d71b57981167016a0ae7eb192ef28278,35,23,1,11904,,,0,"Remove LOCI publishing from the post pipeline

Due to transitive rights changes in Zuul, the LOCI job that was
publishing Cinder containers after every build is now causing an error
when building the post pipeline graph that causes all post jobs to be
skipped. This removes the job for now until a better solution is found
by the team.

Change-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/657636/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1fc75e74d71b57981167016a0ae7eb192ef28278,,, post: jobs: - publish-loci-cinder,0,3
openstack%2Fcinder~stable%2Fqueens~Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,openstack/cinder,stable/queens,Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,"Fix ""connector=None"" issue in Kaminario drivers",MERGED,2019-05-23 10:26:24.000000000,2019-05-30 18:42:09.000000000,2019-05-27 20:20:15.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 16258}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-23 10:26:24.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/kaminario-cinder-driver-bug-44c728f026394a85.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d7620b478e31510e5f1ec74eb8fb488d45a7873', 'message': 'Fix ""connector=None"" issue in Kaminario drivers\n\nCurrently, Kaminario Cinder FC and iSCSI volume drivers are not\nhandling ""connector=None"" in the terminate_connection. This causes\nthe failure of the following tempest test:\ntest_volumes_actions.VolumesActionsTest.test_force_detach_volume\n\nThis patch handles ""connector=None"" in the terminate_connection\nfor Kaminario Cinder FC and iSCSI volume drivers.\n\nChange-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a\nCloses-Bug: #1829398\nCo-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>\n(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)\n'}]",1,660969,8d7620b478e31510e5f1ec74eb8fb488d45a7873,28,20,1,16258,,,0,"Fix ""connector=None"" issue in Kaminario drivers

Currently, Kaminario Cinder FC and iSCSI volume drivers are not
handling ""connector=None"" in the terminate_connection. This causes
the failure of the following tempest test:
test_volumes_actions.VolumesActionsTest.test_force_detach_volume

This patch handles ""connector=None"" in the terminate_connection
for Kaminario Cinder FC and iSCSI volume drivers.

Change-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a
Closes-Bug: #1829398
Co-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>
(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/660969/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/kaminario-cinder-driver-bug-44c728f026394a85.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py']",4,8d7620b478e31510e5f1ec74eb8fb488d45a7873,bug/1829398-stable/stein-stable/rocky-stable/queens," def get_hostname_initiator_pwwn(self, volume): init_host = None init_host_name = """" init_pwwn = [] vol_map_rs = self.client.search(""mappings"", {""volume"": volume}) if hasattr(vol_map_rs, ""hits"") and vol_map_rs.total != 0: init_host = vol_map_rs.hits[0].host init_host_name = init_host.name if init_host is not None: host_fc_ports = self.client.search(""host_fc_ports"", host=init_host) if hasattr(host_fc_ports, ""hits"") and host_fc_ports.total != 0: for port in host_fc_ports.hits: if port.pwwn: init_pwwn.append((port.pwwn).replace(':', '')) return init_host_name, init_pwwn if connector is None: host_name, init_pwwn = self.get_hostname_initiator_pwwn(volume) else: host_name = self.get_initiator_host_name(connector) if connector is None: connector = {'wwpns': init_pwwn}", host_name = self.get_initiator_host_name(connector),47,4
openstack%2Fcinder~master~I054c5589a0b96849ad5ef745c1b3f30df26cfcc2,openstack/cinder,master,I054c5589a0b96849ad5ef745c1b3f30df26cfcc2,Move RBD driver exception to driver,MERGED,2019-05-17 23:03:15.000000000,2019-05-30 18:42:00.000000000,2019-05-20 20:34:46.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-17 23:03:15.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/17bf1d3875604fda10039749280152b5419a1369', 'message': ""Move RBD driver exception to driver\n\nThis patch moves the ceph driver's exception to it's driver file.\n\nChange-Id: I054c5589a0b96849ad5ef745c1b3f30df26cfcc2\n""}]",0,659891,17bf1d3875604fda10039749280152b5419a1369,50,37,1,5997,,,0,"Move RBD driver exception to driver

This patch moves the ceph driver's exception to it's driver file.

Change-Id: I054c5589a0b96849ad5ef745c1b3f30df26cfcc2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/659891/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/exception.py']",2,17bf1d3875604fda10039749280152b5419a1369,driver_exceptions,,"# RBD class RBDDriverException(VolumeDriverException): message = _(""RBD Cinder driver failure: %(reason)s"") ",7,7
openstack%2Fcinder~master~Idbd9f2f5befcf89e34f668a6620e7fe3e05a35da,openstack/cinder,master,Idbd9f2f5befcf89e34f668a6620e7fe3e05a35da,move zfssa exception,MERGED,2019-05-08 19:21:16.000000000,2019-05-30 18:41:55.000000000,2019-05-20 20:34:44.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-05-08 19:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6770b368447bf644d6bf9b6d4e2a88dc50dca99a', 'message': 'move zfssa exception\n\nThis patch moves the zfssa exception to the zfssa webdavclient\n\nChange-Id: Idbd9f2f5befcf89e34f668a6620e7fe3e05a35da\n'}, {'number': 2, 'created': '2019-05-14 16:21:54.000000000', 'files': ['cinder/exception.py', 'cinder/volume/drivers/zfssa/webdavclient.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a203f363d90ad4f7100bad1e7763a79a2b94da26', 'message': 'move zfssa exception\n\nThis patch moves the zfssa exception to the zfssa webdavclient\n\nChange-Id: Idbd9f2f5befcf89e34f668a6620e7fe3e05a35da\n'}]",0,657872,a203f363d90ad4f7100bad1e7763a79a2b94da26,95,37,2,5997,,,0,"move zfssa exception

This patch moves the zfssa exception to the zfssa webdavclient

Change-Id: Idbd9f2f5befcf89e34f668a6620e7fe3e05a35da
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/657872/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/exception.py', 'cinder/volume/drivers/zfssa/webdavclient.py']",2,6770b368447bf644d6bf9b6d4e2a88dc50dca99a,driver_exceptions,"class WebDAVClientError(exception.VolumeDriverException): message = _(""The WebDAV request failed. Reason: %(msg)s, "" ""Return code/reason: %(code)s, Source Volume: %(src)s, "" ""Destination Volume: %(dst)s, Method: %(method)s."") raise WebDAVClientError(msg=msg, code=err.code, src=src_file, dst=dst_file, method=method) raise WebDAVClientError(msg=msg, code=code, src=src_file, dst=dst_file, method=method) raise WebDAVClientError(msg=msg, code=reason, src=src_file, dst=dst_file, method=method)"," raise exception.WebDAVClientError(msg=msg, code=err.code, src=src_file, dst=dst_file, method=method) raise exception.WebDAVClientError(msg=msg, code=code, src=src_file, dst=dst_file, method=method) raise exception.WebDAVClientError(msg=msg, code=reason, src=src_file, dst=dst_file, method=method)",15,17
openstack%2Fcinder~stable%2Fstein~I5b1c285680f7c3256a707ea5973573f1176d4a26,openstack/cinder,stable/stein,I5b1c285680f7c3256a707ea5973573f1176d4a26,Make sure we install cinder requirements during the correct tox phase,MERGED,2019-05-10 08:27:41.000000000,2019-05-30 18:41:49.000000000,2019-05-13 12:58:56.000000000,"[{'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12898}, {'_account_id': 15670}, {'_account_id': 17685}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23509}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-05-10 08:27:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aecb6100e296aed7235635a5b18a0835fd2aca34', 'message': ""Make sure we install cinder requirements during the correct tox phase\n\nWhen runnign tests under tox the virtualenv is created in a number of\nphases (in brush strokes)\n0. virtualenv -p $python .tox/$dir\n1. pip install $deps\n2. pip install .\n\nStep 2 is run without any deps as they're all supposed to be installed\nin phase 2\n\nWe have constraints in 'deps' we need to install all of cinders\nrequirements during phase 2.  If we don't then we get unconstrained\nversions being installed during phase 2.\n\nThis shows up in a py27 run[1] as the absence of taskflow, and then in\n[2] with new dependancies being installed\n\n[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log\n[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log\n\nChange-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26\n(cherry picked from commit f12fda8ffbb42e71108701b38c09618997b836c3)\n""}]",0,658297,aecb6100e296aed7235635a5b18a0835fd2aca34,18,14,1,17685,,,0,"Make sure we install cinder requirements during the correct tox phase

When runnign tests under tox the virtualenv is created in a number of
phases (in brush strokes)
0. virtualenv -p $python .tox/$dir
1. pip install $deps
2. pip install .

Step 2 is run without any deps as they're all supposed to be installed
in phase 2

We have constraints in 'deps' we need to install all of cinders
requirements during phase 2.  If we don't then we get unconstrained
versions being installed during phase 2.

This shows up in a py27 run[1] as the absence of taskflow, and then in
[2] with new dependancies being installed

[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log
[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log

Change-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26
(cherry picked from commit f12fda8ffbb42e71108701b38c09618997b836c3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/658297/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,aecb6100e296aed7235635a5b18a0835fd2aca34,requirements-fix, -r{toxinidir}/requirements.txt,,1,0
openstack%2Fcinder~master~I82308dc1a6aaf039b675a17e19747f11be574209,openstack/cinder,master,I82308dc1a6aaf039b675a17e19747f11be574209,api-ref: mark migration_status parameter as optional,MERGED,2019-05-09 13:29:41.000000000,2019-05-30 18:41:47.000000000,2019-05-30 17:47:29.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27336}]","[{'number': 1, 'created': '2019-05-09 13:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c22aa4c9860c211260758e557298a9436e1e3dfa', 'message': ""api-ref: mark migration_status parameter as optional\n\nEverything that goes through the volumes view builder\ndetail() method has a strict is_admin check on returning\nthe migration_status parameter [1]. This means the\nmigration_status parameter in the API reference should\nbe optional since it's admin-only and not always shown.\n\nThis fixes the v2 and v3 API references for showing,\ncreating, updating, resetting the status of, and creating\nfrom a managed volume. As a result, the parameter for a\nrequired migration_status parameter is unused and removed.\n\n[1] https://opendev.org/openstack/cinder/src/tag/14.0.0/cinder/api/v2/views/volumes.py#L94\n\nChange-Id: I82308dc1a6aaf039b675a17e19747f11be574209\nCloses-Bug: #1828113\n""}, {'number': 2, 'created': '2019-05-09 13:31:52.000000000', 'files': ['api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/volume-manage.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c549325bd2d9df21af46c2703a55a0ff97f5bfcc', 'message': ""api-ref: mark migration_status parameter as optional\n\nEverything that goes through the volumes view builder\ndetail() method has a strict is_admin check on returning\nthe migration_status parameter [1]. This means the\nmigration_status parameter in the API reference should\nbe optional since it's admin-only and not always shown.\n\nThis fixes the v2 and v3 API references for showing,\ncreating, updating, resetting the status of, and creating\nfrom a managed volume. As a result, the parameter for a\nrequired migration_status parameter is unused and removed.\n\nNote that there is no strict policy check on the\nmigration_status request parameter when resetting a volume's\nstatus, but the action itself is admin-only by default\nusing the volume_extension:volume_admin_actions:reset_status\npolicy rule.\n\n[1] https://opendev.org/openstack/cinder/src/tag/14.0.0/cinder/api/v2/views/volumes.py#L94\n\nChange-Id: I82308dc1a6aaf039b675a17e19747f11be574209\nCloses-Bug: #1828113\n""}]",0,658077,c549325bd2d9df21af46c2703a55a0ff97f5bfcc,32,24,2,6873,,,0,"api-ref: mark migration_status parameter as optional

Everything that goes through the volumes view builder
detail() method has a strict is_admin check on returning
the migration_status parameter [1]. This means the
migration_status parameter in the API reference should
be optional since it's admin-only and not always shown.

This fixes the v2 and v3 API references for showing,
creating, updating, resetting the status of, and creating
from a managed volume. As a result, the parameter for a
required migration_status parameter is unused and removed.

Note that there is no strict policy check on the
migration_status request parameter when resetting a volume's
status, but the action itself is admin-only by default
using the volume_extension:volume_admin_actions:reset_status
policy rule.

[1] https://opendev.org/openstack/cinder/src/tag/14.0.0/cinder/api/v2/views/volumes.py#L94

Change-Id: I82308dc1a6aaf039b675a17e19747f11be574209
Closes-Bug: #1828113
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/658077/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/volume-manage.inc']",4,c22aa4c9860c211260758e557298a9436e1e3dfa,bug/1828113, - migration_status: migration_status, - migration_status: migration_status_req,6,18
openstack%2Fos-brick~master~I9d5aaad0e6213535afc1ce071f12190cc6aa02d0,openstack/os-brick,master,I9d5aaad0e6213535afc1ce071f12190cc6aa02d0,Provide setting to ignore lvm descriptor leak warnings,MERGED,2019-04-15 23:32:16.000000000,2019-05-30 18:41:44.000000000,2019-05-08 01:34:33.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-04-15 23:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1ee35ec9afdc5f7bc2c61953d705c73aa06899ad', 'message': ""Provide setting to ignore lvm descriptor leak warnings\n\nFor some reason the leaded descriptor warning message coming\nfrom LVM is causing Cinder to fail startup and it appears to be\nmasking out the vg response in vgs calls.\n\nWe typically don't hit this, but due to the nature of Kolla and\nI guess going through the different processes via the containers\nthis gets logged every time vgs is called.  Eric Harney rightly\npointed out that rather than use exception handling and such\nthat we should use the LVM env variable mechanism we already have\nin place in Cinder.\n\nThis was added to the LVM local_dev code in the openstack/cinder repo,\nbut was not also added to os-brick. The long term goal is to have all of\nthis handling in os-brick, so this replicates the changes from cinder\ndone in I85612fa49475beea58d30330c8fe8352a2f91123.\n\nChange-Id: I9d5aaad0e6213535afc1ce071f12190cc6aa02d0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2019-05-07 21:53:44.000000000', 'files': ['os_brick/local_dev/lvm.py', 'os_brick/tests/local_dev/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5dc5a55d33941bc30de247fb85b1c03f8b32006a', 'message': ""Provide setting to ignore lvm descriptor leak warnings\n\nFor some reason the leaked descriptor warning message coming\nfrom LVM is causing Cinder to fail startup and it appears to be\nmasking out the vg response in vgs calls.\n\nWe typically don't hit this, but due to the nature of Kolla and\nI guess going through the different processes via the containers\nthis gets logged every time vgs is called.  Eric Harney rightly\npointed out that rather than use exception handling and such\nthat we should use the LVM env variable mechanism we already have\nin place in Cinder.\n\nThis was added to the LVM local_dev code in the openstack/cinder repo,\nbut was not also added to os-brick. The long term goal is to have all of\nthis handling in os-brick, so this replicates the changes from cinder\ndone in I85612fa49475beea58d30330c8fe8352a2f91123.\n\nChange-Id: I9d5aaad0e6213535afc1ce071f12190cc6aa02d0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,652797,5dc5a55d33941bc30de247fb85b1c03f8b32006a,40,18,2,11904,,,0,"Provide setting to ignore lvm descriptor leak warnings

For some reason the leaked descriptor warning message coming
from LVM is causing Cinder to fail startup and it appears to be
masking out the vg response in vgs calls.

We typically don't hit this, but due to the nature of Kolla and
I guess going through the different processes via the containers
this gets logged every time vgs is called.  Eric Harney rightly
pointed out that rather than use exception handling and such
that we should use the LVM env variable mechanism we already have
in place in Cinder.

This was added to the LVM local_dev code in the openstack/cinder repo,
but was not also added to os-brick. The long term goal is to have all of
this handling in os-brick, so this replicates the changes from cinder
done in I85612fa49475beea58d30330c8fe8352a2f91123.

Change-Id: I9d5aaad0e6213535afc1ce071f12190cc6aa02d0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/97/652797/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/local_dev/lvm.py', 'os_brick/tests/local_dev/test_brick_lvm.py']",2,1ee35ec9afdc5f7bc2c61953d705c73aa06899ad,bug/1619701," if not hasattr(self, 'configuration'): self.configuration = mock.Mock() self.configuration.lvm_suppress_fd_warnings = False self.vg = brick.LVM( self.volume_group_name, 'sudo', create_vg=False, physical_volumes=None, lvm_type='default', executor=self.fake_execute, suppress_fd_warn=self.configuration.lvm_suppress_fd_warnings) if obj.configuration.lvm_suppress_fd_warnings: _lvm_prefix = 'env, LC_ALL=C, LVM_SUPPRESS_FD_WARNINGS=1, ' else: _lvm_prefix = 'env, LC_ALL=C, ' if (_lvm_prefix + 'vgs, --noheadings, --unit=g, -o, name' == elif (_lvm_prefix + 'vgs, --noheadings, -o, name, fake-vg' == elif _lvm_prefix + 'vgs, --version' in cmd_string: elif (_lvm_prefix + 'vgs, --noheadings, -o, uuid, fake-vg' in elif _lvm_prefix + 'vgs, --noheadings, --unit=g, ' \ '-o, name,size,free,lv_count,uuid, ' \ '--separator, :, --nosuffix' in cmd_string: elif (_lvm_prefix + 'lvs, --noheadings, ' elif (_lvm_prefix + 'lvs, --noheadings, ' elif (_lvm_prefix + 'lvs, --noheadings, ' elif (_lvm_prefix + 'lvdisplay, --noheading, -C, -o, Attr' in elif _lvm_prefix + 'pvs, --noheadings' in cmd_string: elif _lvm_prefix + 'lvs, --noheadings, --unit=g' \ ', -o, size,data_percent, --separator, :' in cmd_string: class BrickLvmTestCaseIgnoreFDWarnings(BrickLvmTestCase): def setUp(self): self.configuration = mock.Mock() self.configuration.lvm_suppress_fd_warnings = True super(BrickLvmTestCaseIgnoreFDWarnings, self).setUp()"," self.vg = brick.LVM(self.volume_group_name, 'sudo', create_vg=False, physical_volumes=None, lvm_type='default', executor=self.fake_execute) if ('env, LC_ALL=C, vgs, --noheadings, --unit=g, -o, name' == elif ('env, LC_ALL=C, vgs, --noheadings, -o, name, fake-vg' == elif 'env, LC_ALL=C, vgs, --version' in cmd_string: elif ('env, LC_ALL=C, vgs, --noheadings, -o, uuid, fake-vg' in elif 'env, LC_ALL=C, vgs, --noheadings, --unit=g, ' \ '-o, name,size,free,lv_count,uuid, ' \ '--separator, :, --nosuffix' in cmd_string: elif ('env, LC_ALL=C, lvs, --noheadings, ' elif ('env, LC_ALL=C, lvs, --noheadings, ' elif ('env, LC_ALL=C, lvs, --noheadings, ' elif ('env, LC_ALL=C, lvdisplay, --noheading, -C, -o, Attr' in elif 'env, LC_ALL=C, pvs, --noheadings' in cmd_string: elif 'env, LC_ALL=C, lvs, --noheadings, --unit=g' \ ', -o, size,data_percent, --separator, :' in cmd_string:",52,28
openstack%2Fcinder~stable%2Fpike~Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,openstack/cinder,stable/pike,Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,"Fix ""connector=None"" issue in Kaminario drivers",MERGED,2019-05-23 14:49:27.000000000,2019-05-30 18:41:29.000000000,2019-05-30 17:47:18.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 16258}, {'_account_id': 17685}, {'_account_id': 19933}, {'_account_id': 21767}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-05-23 14:49:27.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/kaminario-cinder-driver-bug-44c728f026394a85.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7dcd50a0bfc533221b52a2d5611ab4cc986311c9', 'message': 'Fix ""connector=None"" issue in Kaminario drivers\n\nCurrently, Kaminario Cinder FC and iSCSI volume drivers are not\nhandling ""connector=None"" in the terminate_connection. This causes\nthe failure of the following tempest test:\ntest_volumes_actions.VolumesActionsTest.test_force_detach_volume\n\nThis patch handles ""connector=None"" in the terminate_connection\nfor Kaminario Cinder FC and iSCSI volume drivers.\n\nChange-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a\nCloses-Bug: #1829398\nCo-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>\n(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)\n'}]",0,661020,7dcd50a0bfc533221b52a2d5611ab4cc986311c9,53,22,1,16258,,,0,"Fix ""connector=None"" issue in Kaminario drivers

Currently, Kaminario Cinder FC and iSCSI volume drivers are not
handling ""connector=None"" in the terminate_connection. This causes
the failure of the following tempest test:
test_volumes_actions.VolumesActionsTest.test_force_detach_volume

This patch handles ""connector=None"" in the terminate_connection
for Kaminario Cinder FC and iSCSI volume drivers.

Change-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a
Closes-Bug: #1829398
Co-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>
(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/661020/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/kaminario-cinder-driver-bug-44c728f026394a85.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py']",4,7dcd50a0bfc533221b52a2d5611ab4cc986311c9,bug/1829398-stable/stein-stable/rocky-stable/queens-stable/pike," def get_hostname_initiator_pwwn(self, volume): init_host = None init_host_name = """" init_pwwn = [] vol_map_rs = self.client.search(""mappings"", {""volume"": volume}) if hasattr(vol_map_rs, ""hits"") and vol_map_rs.total != 0: init_host = vol_map_rs.hits[0].host init_host_name = init_host.name if init_host is not None: host_fc_ports = self.client.search(""host_fc_ports"", host=init_host) if hasattr(host_fc_ports, ""hits"") and host_fc_ports.total != 0: for port in host_fc_ports.hits: if port.pwwn: init_pwwn.append((port.pwwn).replace(':', '')) return init_host_name, init_pwwn if connector is None: host_name, init_pwwn = self.get_hostname_initiator_pwwn(volume) else: host_name = self.get_initiator_host_name(connector) if connector is None: connector = {'wwpns': init_pwwn}", host_name = self.get_initiator_host_name(connector),47,4
openstack%2Fcinder~master~I5658b377eb79c663037c595515125a16bd9f369c,openstack/cinder,master,I5658b377eb79c663037c595515125a16bd9f369c,move dothill exceptions,MERGED,2019-05-08 18:43:19.000000000,2019-05-30 18:41:26.000000000,2019-05-29 01:22:50.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-08 18:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9e42da6c472a6c9756f45120801257b7b3386c9', 'message': 'move dothill exceptions\n\nThis patch moves the dothill exceptions to the dothill module\n\nChange-Id: I5658b377eb79c663037c595515125a16bd9f369c\n'}, {'number': 2, 'created': '2019-05-10 16:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83b27dc08c8ec55aacd50ea0e6177b8528bc3852', 'message': 'move dothill exceptions\n\nThis patch moves the dothill exceptions to the dothill module\n\nChange-Id: I5658b377eb79c663037c595515125a16bd9f369c\n'}, {'number': 3, 'created': '2019-05-20 22:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9fa696028ee62f2f91c8c8be324ed34cea7c82c', 'message': 'move dothill exceptions\n\nThis patch moves the dothill exceptions to the dothill module\n\nChange-Id: I5658b377eb79c663037c595515125a16bd9f369c\n'}, {'number': 4, 'created': '2019-05-22 14:55:03.000000000', 'files': ['cinder/volume/drivers/dothill/dothill_iscsi.py', 'cinder/tests/unit/volume/drivers/test_dothill.py', 'cinder/volume/drivers/dothill/dothill_fc.py', 'cinder/volume/drivers/dothill/exception.py', 'cinder/volume/drivers/dothill/dothill_client.py', 'cinder/exception.py', 'cinder/volume/drivers/dothill/dothill_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce7b86267cb4459e65033b6ed149f7316fff51e9', 'message': 'move dothill exceptions\n\nThis patch moves the dothill exceptions to the dothill module\n\nChange-Id: I5658b377eb79c663037c595515125a16bd9f369c\n'}]",1,657866,ce7b86267cb4459e65033b6ed149f7316fff51e9,208,41,4,5997,,,0,"move dothill exceptions

This patch moves the dothill exceptions to the dothill module

Change-Id: I5658b377eb79c663037c595515125a16bd9f369c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/657866/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_dothill.py', 'cinder/volume/drivers/dothill/dothill_fc.py', 'cinder/volume/drivers/dothill/dothill_iscsi.py', 'cinder/volume/drivers/dothill/exception.py', 'cinder/exception.py', 'cinder/volume/drivers/dothill/dothill_client.py', 'cinder/volume/drivers/dothill/dothill_common.py']",7,c9e42da6c472a6c9756f45120801257b7b3386c9,driver_exceptions,from cinder.volume.drivers.dothill import exception as dh_exception except dh_exception.DotHillConnectionError as ex: raise dh_exception.DotHillConnectionError(message=msg) except dh_exception.DotHillAuthenticationError: raise dh_exception.DotHillAuthenticationError(message=msg) raise dh_exception.DotHillInvalidBackend(backend=self.backend_name) except dh_exception.DotHillRequestError as ex: raise dh_exception.DotHillNotEnoughSpace(backend=self.backend_name) except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex: except dh_exception.DotHillRequestError as ex:, except exception.DotHillConnectionError as ex: raise exception.DotHillConnectionError(message=msg) except exception.DotHillAuthenticationError: raise exception.DotHillAuthenticationError(message=msg) raise exception.DotHillInvalidBackend(backend=self.backend_name) except exception.DotHillRequestError as ex: raise exception.DotHillNotEnoughSpace(backend=self.backend_name) except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex: except exception.DotHillRequestError as ex:,127,108
openstack%2Fcinder~stable%2Frocky~Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,openstack/cinder,stable/rocky,Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,"Fix ""connector=None"" issue in Kaminario drivers",MERGED,2019-05-22 00:45:02.000000000,2019-05-30 18:41:23.000000000,2019-05-24 20:05:58.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 16258}, {'_account_id': 19933}, {'_account_id': 21767}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-05-22 00:45:02.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/kaminario-cinder-driver-bug-44c728f026394a85.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4467c231b029e608104068d33780b8ad021c00d1', 'message': 'Fix ""connector=None"" issue in Kaminario drivers\n\nCurrently, Kaminario Cinder FC and iSCSI volume drivers are not\nhandling ""connector=None"" in the terminate_connection. This causes\nthe failure of the following tempest test:\ntest_volumes_actions.VolumesActionsTest.test_force_detach_volume\n\nThis patch handles ""connector=None"" in the terminate_connection\nfor Kaminario Cinder FC and iSCSI volume drivers.\n\nChange-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a\nCloses-Bug: #1829398\nCo-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>\n(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)\n'}]",0,660540,4467c231b029e608104068d33780b8ad021c00d1,23,19,1,16258,,,0,"Fix ""connector=None"" issue in Kaminario drivers

Currently, Kaminario Cinder FC and iSCSI volume drivers are not
handling ""connector=None"" in the terminate_connection. This causes
the failure of the following tempest test:
test_volumes_actions.VolumesActionsTest.test_force_detach_volume

This patch handles ""connector=None"" in the terminate_connection
for Kaminario Cinder FC and iSCSI volume drivers.

Change-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a
Closes-Bug: #1829398
Co-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>
(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/660540/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/kaminario-cinder-driver-bug-44c728f026394a85.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py']",4,4467c231b029e608104068d33780b8ad021c00d1,bug/1829398-stable/stein-stable/rocky," def get_hostname_initiator_pwwn(self, volume): init_host = None init_host_name = """" init_pwwn = [] vol_map_rs = self.client.search(""mappings"", {""volume"": volume}) if hasattr(vol_map_rs, ""hits"") and vol_map_rs.total != 0: init_host = vol_map_rs.hits[0].host init_host_name = init_host.name if init_host is not None: host_fc_ports = self.client.search(""host_fc_ports"", host=init_host) if hasattr(host_fc_ports, ""hits"") and host_fc_ports.total != 0: for port in host_fc_ports.hits: if port.pwwn: init_pwwn.append((port.pwwn).replace(':', '')) return init_host_name, init_pwwn if connector is None: host_name, init_pwwn = self.get_hostname_initiator_pwwn(volume) else: host_name = self.get_initiator_host_name(connector) if connector is None: connector = {'wwpns': init_pwwn}", host_name = self.get_initiator_host_name(connector),47,4
openstack%2Fcinder~master~I5bc8a1b2c4175dbfb249f7aa31ba50a4009dd9d7,openstack/cinder,master,I5bc8a1b2c4175dbfb249f7aa31ba50a4009dd9d7,move Hyperscale exceptions to driver,MERGED,2019-05-03 17:49:41.000000000,2019-05-30 18:41:20.000000000,2019-05-23 21:10:10.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30448}]","[{'number': 1, 'created': '2019-05-03 17:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1505f657162acc3bfba9436ce5876c6366ec0783', 'message': ""move Hyperscale exceptions to driver\n\nThis patch moves the Veritas Hyperscale specific exceptions to it's\nown exceptions file in the veritas directory.\n\nChange-Id: I5bc8a1b2c4175dbfb249f7aa31ba50a4009dd9d7\n""}, {'number': 2, 'created': '2019-05-06 14:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d266812276c43b32ff961a57dc058de2240055cb', 'message': ""move Hyperscale exceptions to driver\n\nThis patch moves the Veritas Hyperscale specific exceptions to it's\nown exceptions file in the veritas directory.\n\nChange-Id: I5bc8a1b2c4175dbfb249f7aa31ba50a4009dd9d7\n""}, {'number': 3, 'created': '2019-05-07 19:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb06b366568a2fb42c37867e683aef443ac11ea9', 'message': ""move Hyperscale exceptions to driver\n\nThis patch moves the Veritas Hyperscale specific exceptions to it's\nown exceptions file in the veritas directory.\n\nChange-Id: I5bc8a1b2c4175dbfb249f7aa31ba50a4009dd9d7\n""}, {'number': 4, 'created': '2019-05-21 19:02:43.000000000', 'files': ['cinder/volume/drivers/veritas/exception.py', 'cinder/volume/drivers/veritas/utils.py', 'cinder/tests/unit/volume/drivers/test_vrtshyperscale.py', 'cinder/exception.py', 'cinder/volume/drivers/veritas/vrtshyperscale.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3f6ccbe8d73c16847cc26c6364032b191fd028a', 'message': ""move Hyperscale exceptions to driver\n\nThis patch moves the Veritas Hyperscale specific exceptions to it's\nown exceptions file in the veritas directory.\n\nChange-Id: I5bc8a1b2c4175dbfb249f7aa31ba50a4009dd9d7\n""}]",4,656994,c3f6ccbe8d73c16847cc26c6364032b191fd028a,154,43,4,5997,,,0,"move Hyperscale exceptions to driver

This patch moves the Veritas Hyperscale specific exceptions to it's
own exceptions file in the veritas directory.

Change-Id: I5bc8a1b2c4175dbfb249f7aa31ba50a4009dd9d7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/656994/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/veritas/exception.py', 'cinder/volume/drivers/veritas/utils.py', 'cinder/tests/unit/volume/drivers/test_vrtshyperscale.py', 'cinder/exception.py', 'cinder/volume/drivers/veritas/vrtshyperscale.py']",5,1505f657162acc3bfba9436ce5876c6366ec0783,driver_exceptions,"from cinder import exceptionfrom cinder.volume.drivers.veritas import exception as v_exception except (v_exception.ErrorInHyperScaleVersion, v_exception.UnableToExecuteHyperScaleCmd): except (v_exception.UnableToProcessHyperScaleCmdOutput, v_exception.ErrorInFetchingConfiguration): except (v_exception.UnableToExecuteHyperScaleCmd, v_exception.UnableToProcessHyperScaleCmdOutput): except (v_exception.UnableToExecuteHyperScaleCmd, v_exception.UnableToProcessHyperScaleCmdOutput): v_exception.UnableToProcessHyperScaleCmdOutput, v_exception.ErrorInSendingMsg): except (v_exception.UnableToProcessHyperScaleCmdOutput, v_exception.ErrorInSendingMsg): except (v_exception.UnableToProcessHyperScaleCmdOutput, v_exception.ErrorInSendingMsg): v_exception.UnableToExecuteHyperScaleCmd, v_exception.UnableToProcessHyperScaleCmdOutput): v_exception.UnableToExecuteHyperScaleCmd, v_exception.UnableToProcessHyperScaleCmdOutput): except (v_exception.UnableToExecuteHyperScaleCmd, v_exception.UnableToProcessHyperScaleCmdOutput): except (v_exception.UnableToExecuteHyperScaleCmd, v_exception.UnableToProcessHyperScaleCmdOutput): except (v_exception.UnableToExecuteHyperScaleCmd, v_exception.UnableToProcessHyperScaleCmdOutput): except (v_exception.UnableToProcessHyperScaleCmdOutput, v_exception.ErrorInSendingMsg): except (v_exception.UnableToExecuteHyperScaleCmd, v_exception.UnableToProcessHyperScaleCmdOutput): except (v_exception.UnableToExecuteHyperScaleCmd, v_exception.UnableToProcessHyperScaleCmdOutput): except (v_exception.UnableToExecuteHyperScaleCmd, v_exception.UnableToProcessHyperScaleCmdOutput):","from cinder import exception except (exception.ErrorInHyperScaleVersion, exception.UnableToExecuteHyperScaleCmd): except (exception.UnableToProcessHyperScaleCmdOutput, exception.ErrorInFetchingConfiguration): except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): exception.UnableToProcessHyperScaleCmdOutput, exception.ErrorInSendingMsg): except (exception.UnableToProcessHyperScaleCmdOutput, exception.ErrorInSendingMsg): except (exception.UnableToProcessHyperScaleCmdOutput, exception.ErrorInSendingMsg): exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): except (exception.UnableToProcessHyperScaleCmdOutput, exception.ErrorInSendingMsg): except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput):",70,65
openstack%2Fcinder~master~I632e5f986f58d6790d722aaa7c0a9fef2a42d29c,openstack/cinder,master,I632e5f986f58d6790d722aaa7c0a9fef2a42d29c,move cisco zonemanager exception,MERGED,2019-05-09 18:04:05.000000000,2019-05-30 18:41:15.000000000,2019-05-24 02:38:02.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28543}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-09 18:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b5a3d8118375e6f81f618f63a231a22f87901c1', 'message': 'move cisco zonemanager exception\n\nThis patch moves the cisco zonemanager exception to the new\ncisco/exception.py file.\n\nChange-Id: I632e5f986f58d6790d722aaa7c0a9fef2a42d29c\n'}, {'number': 2, 'created': '2019-05-10 16:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7faf19f37b9a7e78560cead4eda074645d1af734', 'message': 'move cisco zonemanager exception\n\nThis patch moves the cisco zonemanager exception to the new\ncisco/exception.py file.\n\nChange-Id: I632e5f986f58d6790d722aaa7c0a9fef2a42d29c\n'}, {'number': 3, 'created': '2019-05-20 20:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6750c973006827173243eb0f3665e406d3d5e85a', 'message': 'move cisco zonemanager exception\n\nThis patch moves the cisco zonemanager exception to the new\ncisco/exception.py file.\n\nChange-Id: I632e5f986f58d6790d722aaa7c0a9fef2a42d29c\n'}, {'number': 4, 'created': '2019-05-20 22:27:11.000000000', 'files': ['cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/tests/unit/zonemanager/test_cisco_fc_zone_client_cli.py', 'cinder/exception.py', 'cinder/zonemanager/drivers/cisco/exception.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf49fc7a9039db6fcc9824dd46f05e26a3e6c3d6', 'message': 'move cisco zonemanager exception\n\nThis patch moves the cisco zonemanager exception to the new\ncisco/exception.py file.\n\nChange-Id: I632e5f986f58d6790d722aaa7c0a9fef2a42d29c\n'}]",0,658167,cf49fc7a9039db6fcc9824dd46f05e26a3e6c3d6,116,40,4,5997,,,0,"move cisco zonemanager exception

This patch moves the cisco zonemanager exception to the new
cisco/exception.py file.

Change-Id: I632e5f986f58d6790d722aaa7c0a9fef2a42d29c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/658167/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/tests/unit/zonemanager/test_cisco_fc_zone_client_cli.py', 'cinder/exception.py', 'cinder/zonemanager/drivers/cisco/exception.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py']",6,4b5a3d8118375e6f81f618f63a231a22f87901c1,driver_exceptions,from cinder.zonemanager.drivers.cisco import exception as c_exception except c_exception.CiscoZoningCliException as cisco_ex: except c_exception.CiscoZoningCliException:, except exception.CiscoZoningCliException as cisco_ex: except exception.CiscoZoningCliException:,35,17
openstack%2Fcinder~master~I78c7e0cb076405d37c9bd54576cec735986a0f38,openstack/cinder,master,I78c7e0cb076405d37c9bd54576cec735986a0f38,HPE 3PAR-Added support for multiattach feature in hpe3par cinder driver,MERGED,2019-05-16 06:05:23.000000000,2019-05-30 18:41:09.000000000,2019-05-20 20:07:21.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22664}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-16 06:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2675f6250307c007097c829642b840774526bd15', 'message': 'Added support for multiattach feature in hpe3par cinder driver\n\nThe 3PAR driver has long supported the ability to do\nmultiattach of volumes. This patch updates the\ncapability reporting to support multiattach.\n\nChange-Id: I78c7e0cb076405d37c9bd54576cec735986a0f38\n'}, {'number': 2, 'created': '2019-05-17 10:09:09.000000000', 'files': ['releasenotes/notes/hpe_3par_multiattach-bf98a9e5c2208902.yaml', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1926a035216ed156cdb28ea27774d4e1115eeee3', 'message': 'HPE 3PAR-Added support for multiattach feature in hpe3par cinder driver\n\nThe 3PAR driver has long supported the ability to do\nmultiattach of volumes. This patch updates the\ncapability reporting to support multiattach.\n\nChange-Id: I78c7e0cb076405d37c9bd54576cec735986a0f38\n'}]",1,659443,1926a035216ed156cdb28ea27774d4e1115eeee3,83,43,2,29502,,,0,"HPE 3PAR-Added support for multiattach feature in hpe3par cinder driver

The 3PAR driver has long supported the ability to do
multiattach of volumes. This patch updates the
capability reporting to support multiattach.

Change-Id: I78c7e0cb076405d37c9bd54576cec735986a0f38
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/659443/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hpe_3par_multiattach-bf98a9e5c2208902.yaml', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",2,2675f6250307c007097c829642b840774526bd15,3par_multiattach," 4.0.12 - Added multiattach support VERSION = ""4.0.12"" 'multiattach': True,"," VERSION = ""4.0.11"" 'multiattach': False,",6,2
openstack%2Fcinder~master~I74494d1fff366ca92ed470cdb722eb68d4fce057,openstack/cinder,master,I74494d1fff366ca92ed470cdb722eb68d4fce057,Cap sphinx for py2 to match global reqs,MERGED,2019-05-14 18:48:45.000000000,2019-05-30 18:40:58.000000000,2019-05-16 16:21:45.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28940}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-14 18:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/112e5ef0ddfd79fbf774e38064bfa0c30c64d5b4', 'message': 'Cap sphinx for py2 to match global reqs\n\nChange-Id: I74494d1fff366ca92ed470cdb722eb68d4fce057\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-05-14 19:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d59df04b7c7a55a5ab04291c1f29e3d3185084af', 'message': 'Cap sphinx for py2 to match global reqs\n\nChange-Id: I74494d1fff366ca92ed470cdb722eb68d4fce057\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2019-05-14 20:06:39.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7af13ef613b637f8c29dc96092b4bee7e483db1a', 'message': 'Cap sphinx for py2 to match global reqs\n\nChange-Id: I74494d1fff366ca92ed470cdb722eb68d4fce057\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,659138,7af13ef613b637f8c29dc96092b4bee7e483db1a,48,27,3,11904,,,0,"Cap sphinx for py2 to match global reqs

Change-Id: I74494d1fff366ca92ed470cdb722eb68d4fce057
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/659138/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,112e5ef0ddfd79fbf774e38064bfa0c30c64d5b4,requirements,"sphinx!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fcinder~master~I220c83b3d751410150cb75db48437d4afab97f63,openstack/cinder,master,I220c83b3d751410150cb75db48437d4afab97f63,move Nexenta exception,MERGED,2019-05-08 17:33:57.000000000,2019-05-30 18:40:50.000000000,2019-05-20 20:34:54.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-08 17:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/903cc6ce61db156e43c377fd0b5c2c3dbcff03d6', 'message': 'move Nexenta exception\n\nThis patch moves the nexenta specific exception to the nexenta\nutils.py file.\n\nChange-Id: I220c83b3d751410150cb75db48437d4afab97f63\n'}, {'number': 2, 'created': '2019-05-09 19:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2326b82c05febc23c31a1c9c6a1fd9bf9636f553', 'message': 'move Nexenta exception\n\nThis patch moves the nexenta specific exception to the nexenta\nutils.py file.\n\nChange-Id: I220c83b3d751410150cb75db48437d4afab97f63\n'}, {'number': 3, 'created': '2019-05-10 17:19:56.000000000', 'files': ['cinder/tests/unit/volume/drivers/nexenta/test_nexenta.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta_edge.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/nexenta/jsonrpc.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/exception.py', 'cinder/volume/drivers/nexenta/nexentaedge/iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c00ebbed0d18cc4a061ac1fbd7d1f7f3cddb4da', 'message': 'move Nexenta exception\n\nThis patch moves the nexenta specific exception to the nexenta\nutils.py file.\n\nChange-Id: I220c83b3d751410150cb75db48437d4afab97f63\n'}]",0,657855,9c00ebbed0d18cc4a061ac1fbd7d1f7f3cddb4da,83,36,3,5997,,,0,"move Nexenta exception

This patch moves the nexenta specific exception to the nexenta
utils.py file.

Change-Id: I220c83b3d751410150cb75db48437d4afab97f63
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/657855/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nexenta/test_nexenta.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta_edge.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/nexenta/jsonrpc.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/exception.py', 'cinder/volume/drivers/nexenta/nexentaedge/iscsi.py']",8,903cc6ce61db156e43c377fd0b5c2c3dbcff03d6,driver_exceptions," raise nexenta_utils.NexentaException( except nexenta_utils.NexentaException: except (nexenta_utils.NexentaException, exception.SnapshotIsBusy):"," raise exception.NexentaException( except exception.NexentaException: except (exception.NexentaException, exception.SnapshotIsBusy):",50,50
openstack%2Fcinder~master~I61cda4dab24e1f6065e9e78e5b956fbd953fd332,openstack/cinder,master,I61cda4dab24e1f6065e9e78e5b956fbd953fd332,move xtremio exceptions,MERGED,2019-05-08 19:10:03.000000000,2019-05-30 18:40:47.000000000,2019-05-14 01:02:37.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-08 19:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9035eb5716fde96634eab3365a615132f8629a17', 'message': 'move xtremio exceptions\n\nThis patch moves the xtremio exceptions to the driver.\n\nChange-Id: I61cda4dab24e1f6065e9e78e5b956fbd953fd332\n'}, {'number': 2, 'created': '2019-05-10 13:40:26.000000000', 'files': ['cinder/exception.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b986a241d01afc5d2f65aeaee8f4c05b45b50620', 'message': 'move xtremio exceptions\n\nThis patch moves the xtremio exceptions to the driver.\n\nChange-Id: I61cda4dab24e1f6065e9e78e5b956fbd953fd332\n'}]",1,657871,b986a241d01afc5d2f65aeaee8f4c05b45b50620,153,35,2,5997,,,0,"move xtremio exceptions

This patch moves the xtremio exceptions to the driver.

Change-Id: I61cda4dab24e1f6065e9e78e5b956fbd953fd332
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/657871/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/exception.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py']",3,9035eb5716fde96634eab3365a615132f8629a17,driver_exceptions," create_snap.side_effect = xtremio.XtremIOSnapshotsLimitExceeded() self.assertRaises(xtremio.XtremIOSnapshotsLimitExceeded, self.assertRaises(xtremio.XtremIOSnapshotsLimitExceeded,"," create_snap.side_effect = exception.XtremIOSnapshotsLimitExceeded() self.assertRaises(exception.XtremIOSnapshotsLimitExceeded, self.assertRaises(exception.XtremIOSnapshotsLimitExceeded,",23,23
openstack%2Fcinder~master~I5b1c285680f7c3256a707ea5973573f1176d4a26,openstack/cinder,master,I5b1c285680f7c3256a707ea5973573f1176d4a26,Make sure we install cinder requirements during the correct tox phase,MERGED,2019-05-08 20:12:04.000000000,2019-05-30 18:40:40.000000000,2019-05-08 22:49:18.000000000,"[{'_account_id': 5997}, {'_account_id': 6593}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-08 20:12:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f12fda8ffbb42e71108701b38c09618997b836c3', 'message': ""Make sure we install cinder requirements during the correct tox phase\n\nWhen runnign tests under tox the virtualenv is created in a number of\nphases (in brush strokes)\n0. virtualenv -p $python .tox/$dir\n1. pip install $deps\n2. pip install .\n\nStep 2 is run without any deps as they're all supposed to be installed\nin phase 2\n\nWe have constraints in 'deps' we need to install all of cinders\nrequirements during phase 2.  If we don't then we get unconstrained\nversions being installed during phase 2.\n\nThis shows up in a py27 run[1] as the absence of taskflow, and then in\n[2] with new dependancies being installed\n\n[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log\n[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log\n\nChange-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26\n""}]",0,657881,f12fda8ffbb42e71108701b38c09618997b836c3,31,25,1,12898,,,0,"Make sure we install cinder requirements during the correct tox phase

When runnign tests under tox the virtualenv is created in a number of
phases (in brush strokes)
0. virtualenv -p $python .tox/$dir
1. pip install $deps
2. pip install .

Step 2 is run without any deps as they're all supposed to be installed
in phase 2

We have constraints in 'deps' we need to install all of cinders
requirements during phase 2.  If we don't then we get unconstrained
versions being installed during phase 2.

This shows up in a py27 run[1] as the absence of taskflow, and then in
[2] with new dependancies being installed

[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log
[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log

Change-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/657881/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f12fda8ffbb42e71108701b38c09618997b836c3,requirements-fix, -r{toxinidir}/requirements.txt,,1,0
openstack%2Fcinder~stable%2Fqueens~I9ad8c610f0512bdcbf2eff210a02abf8f88c425a,openstack/cinder,stable/queens,I9ad8c610f0512bdcbf2eff210a02abf8f88c425a,Dell EMC: SC FC Driver wwns api response in lower,MERGED,2019-05-08 14:36:34.000000000,2019-05-30 18:40:38.000000000,2019-05-14 15:42:20.000000000,"[{'_account_id': 5997}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 28801}, {'_account_id': 28935}, {'_account_id': 29466}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-05-08 14:36:34.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e32ecf6cd6fd97f99b85e5c3472de918647447d7', 'message': 'Dell EMC: SC FC Driver wwns api response in lower\n\nFixed the SC api to return the wwns in lower case\nso os-brick rescan targets can return the right port\nnames.\n\nCloses Bug: #1775649\nCo-Authored-By: KC Bi <kecheng.bi@dell.com>\n\nChange-Id: I9ad8c610f0512bdcbf2eff210a02abf8f88c425a\n(cherry picked from commit 30182a55d5055e0885969d2bd3452217b30f5892)\n'}]",0,657826,e32ecf6cd6fd97f99b85e5c3472de918647447d7,72,26,1,29466,,,0,"Dell EMC: SC FC Driver wwns api response in lower

Fixed the SC api to return the wwns in lower case
so os-brick rescan targets can return the right port
names.

Closes Bug: #1775649
Co-Authored-By: KC Bi <kecheng.bi@dell.com>

Change-Id: I9ad8c610f0512bdcbf2eff210a02abf8f88c425a
(cherry picked from commit 30182a55d5055e0885969d2bd3452217b30f5892)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/657826/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py']",2,e32ecf6cd6fd97f99b85e5c3472de918647447d7,bug/1775649-stable/queens," # Return the response in lowercase wwns_lower = [w.lower() for w in wwns] itmap_lower = dict() for key in itmap.keys(): itmap_lower[key.lower()] = [v.lower() for v in itmap[key]] return lun, wwns_lower, itmap_lower"," return lun, wwns, itmap",50,43
openstack%2Fcinder~stable%2Focata~I77ed6e3caa5553193c3d886d86c52d23eb87b429,openstack/cinder,stable/ocata,I77ed6e3caa5553193c3d886d86c52d23eb87b429,Remove LOCI publishing from the post pipeline,MERGED,2019-05-07 16:31:47.000000000,2019-05-30 18:40:35.000000000,2019-05-08 21:03:05.000000000,"[{'_account_id': 5997}, {'_account_id': 6593}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-07 16:31:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/21c5bca7f2e674f959a0d452158e1261095755da', 'message': 'Remove LOCI publishing from the post pipeline\n\nDue to transitive rights changes in Zuul, the LOCI job that was\npublishing Cinder containers after every build is now causing an error\nwhen building the post pipeline graph that causes all post jobs to be\nskipped. This removes the job for now until a better solution is found\nby the team.\n\nChange-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)\n(cherry picked from commit bd707cbdd63969f5241ca9b3a6c0733c13a7dbfe)\n'}]",0,657639,21c5bca7f2e674f959a0d452158e1261095755da,43,19,1,11904,,,0,"Remove LOCI publishing from the post pipeline

Due to transitive rights changes in Zuul, the LOCI job that was
publishing Cinder containers after every build is now causing an error
when building the post pipeline graph that causes all post jobs to be
skipped. This removes the job for now until a better solution is found
by the team.

Change-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)
(cherry picked from commit bd707cbdd63969f5241ca9b3a6c0733c13a7dbfe)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/657639/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,21c5bca7f2e674f959a0d452158e1261095755da,,, post: jobs: - publish-loci-cinder,0,3
openstack%2Fcinder~master~I24a25e9f9d34ec078bdaff8f10c5a722e0204c09,openstack/cinder,master,I24a25e9f9d34ec078bdaff8f10c5a722e0204c09,Removes drbdmanage as a requirement for drbdmanage driver,MERGED,2019-05-07 15:39:20.000000000,2019-05-30 18:40:32.000000000,2019-05-09 11:36:25.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 28940}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-07 15:39:20.000000000', 'files': ['driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c72c38ee39e8e9f199e7a54729f283f40506e51', 'message': 'Removes drbdmanage as a requirement for drbdmanage driver\n\nThis helps with transitioning to pypi available driver\npackages.  The driver is also in the process of being\nreplaced by LINSTOR driver.\n\nChange-Id: I24a25e9f9d34ec078bdaff8f10c5a722e0204c09\n'}]",0,657630,1c72c38ee39e8e9f199e7a54729f283f40506e51,91,38,1,28940,,,0,"Removes drbdmanage as a requirement for drbdmanage driver

This helps with transitioning to pypi available driver
packages.  The driver is also in the process of being
replaced by LINSTOR driver.

Change-Id: I24a25e9f9d34ec078bdaff8f10c5a722e0204c09
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/657630/1 && git format-patch -1 --stdout FETCH_HEAD,['driver-requirements.txt'],1,1c72c38ee39e8e9f199e7a54729f283f40506e51,,,drbdmanage # GPLv3,0,1
openstack%2Fcinder~master~I285cc12a28f8648a9aecd47c82a7695f5f2e4f00,openstack/cinder,master,I285cc12a28f8648a9aecd47c82a7695f5f2e4f00,Add Upgrade Check for Drivers Removed in Stein,MERGED,2019-04-02 02:00:57.000000000,2019-05-30 18:39:59.000000000,2019-05-30 15:14:22.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27679}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-04-02 02:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aac328df267c247a5a259a5767c3586230ad6ad5', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\n'}, {'number': 2, 'created': '2019-04-02 02:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9b04b7d001e66f74d211004912fbdf29c09f553', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\n'}, {'number': 3, 'created': '2019-04-03 03:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ccb572347160e3742cba766376f90c2775145306', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\n'}, {'number': 4, 'created': '2019-04-04 13:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7fdd4213c6be6e9d1049fb40730522fede1d499', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\n'}, {'number': 5, 'created': '2019-04-04 17:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a102d2bed56a7fdd2fc85bc392d6e88ba0d5f88', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\n'}, {'number': 6, 'created': '2019-05-09 19:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/70e332bf68c6f6edc2f2c07a72ba74d7ee1c713d', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\n'}, {'number': 7, 'created': '2019-05-09 19:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c602755ba399c8760405589fc7680e2f685f8277', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\n'}, {'number': 8, 'created': '2019-05-21 18:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a64b48a87b66f9782cf7f97d399726783e25477b', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\nCo-authored-by: Brian Rosmaita <romaita.fossdev@gmail.com>\n'}, {'number': 9, 'created': '2019-05-22 20:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f995378e6a10e5f3a9aa457112c7a094f4aef96', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\nCo-authored-by: Brian Rosmaita <romaita.fossdev@gmail.com>\n'}, {'number': 10, 'created': '2019-05-23 16:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dacf7c7e4bf7661ea2464d0e9a3c9e098d029d79', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\nCo-authored-by: Brian Rosmaita <romaita.fossdev@gmail.com>\n'}, {'number': 11, 'created': '2019-05-23 16:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/37decd048d463138250e3c05966973360b8b37a1', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\nCo-authored-by: Brian Rosmaita <romaita.fossdev@gmail.com>\n'}, {'number': 12, 'created': '2019-05-23 17:43:37.000000000', 'files': ['releasenotes/notes/cinder-status-check-stein_removed_drivers-8184abe8ce82f373.yaml', 'cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e78e05c95dcb01336811a503c4292ac528959b8d', 'message': 'Add Upgrade Check for Drivers Removed in Stein\n\nThis patch adds a check for configuration of CoprHD,\nHGST and ITRI DISCO drivers which were all removed\nin the Stein release.  The upgrade check will fail if\nany of these drivers are configured in enabled_backends.\n\nChange-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00\nCo-authored-by: Brian Rosmaita <romaita.fossdev@gmail.com>\n'}]",26,649209,e78e05c95dcb01336811a503c4292ac528959b8d,270,44,12,7198,,,0,"Add Upgrade Check for Drivers Removed in Stein

This patch adds a check for configuration of CoprHD,
HGST and ITRI DISCO drivers which were all removed
in the Stein release.  The upgrade check will fail if
any of these drivers are configured in enabled_backends.

Change-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00
Co-authored-by: Brian Rosmaita <romaita.fossdev@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/649209/7 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-status-check-stein_removed_drivers-8184abe8ce82f373.yaml', 'cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst']",3,aac328df267c247a5a259a5767c3586230ad6ad5,stein_upgrade_checks, * Ensure that none of the volume drivers removed in Stein are configured. ,,36,1
openstack%2Fcinder~master~I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d,openstack/cinder,master,I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d,Add upgrade check for Windows iSCSI driver.,MERGED,2019-04-01 21:29:46.000000000,2019-05-30 18:39:56.000000000,2019-05-24 16:50:29.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27679}, {'_account_id': 28801}, {'_account_id': 28935}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-04-01 21:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a00fb8937e3d83912b2bfba786eafc7335a1a00e', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}, {'number': 2, 'created': '2019-04-02 13:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a318488da580ef34e227ad4f8712944207609f8f', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}, {'number': 3, 'created': '2019-04-03 03:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b35b222923caa97e3c24bb6a9772f86da7c64245', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}, {'number': 4, 'created': '2019-04-04 13:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b7eb180b3cd208b1ae8c91ed2d6dab3298912df', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}, {'number': 5, 'created': '2019-04-04 17:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f30f688c4e1742de981d84c9994a941f6d88c7e', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}, {'number': 6, 'created': '2019-05-07 20:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/73537dfdd0bc1d77c7556c4ced7b250b68d18748', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}, {'number': 7, 'created': '2019-05-09 18:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf008279191cd9f4e1f785f61408ac76ab3134ff', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}, {'number': 8, 'created': '2019-05-09 19:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3027132e258f0229bcc7667d3ffcdcb7321c9530', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}, {'number': 9, 'created': '2019-05-22 20:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/52141fc1396ce94fa141a7f91864b0dd998fcf52', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}, {'number': 10, 'created': '2019-05-22 20:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/01d56192bcf24f58b28aac58c4b9f47491b8ca9c', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}, {'number': 11, 'created': '2019-05-23 16:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a605ff81346ac8c0ef3edee06aa95c2657adb583', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}, {'number': 12, 'created': '2019-05-23 16:57:12.000000000', 'files': ['releasenotes/notes/cinder-status-check-windows_iscsi_driver-5f4e0b93c7b92f53.yaml', 'cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc18906f01b10ca21a68b0b760503436caa4f91a', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n'}]",11,649193,bc18906f01b10ca21a68b0b760503436caa4f91a,251,45,12,7198,,,0,"Add upgrade check for Windows iSCSI driver.

The WindowsDriver was renamed in the Queens release to
WindowsISCSIDriver to avoid confusion with the SMB driver.
The backwards compatibility for this has now been removed, so
any cinder.conf settings still using
cinder.volume.drivers.windows.windows.WindowsDriver
must now be updated to use
cinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.

The change includes the addtion of a function to get the
enabled_drivers for a system as it is likely that the
functionality will be useful for multiple update checks
in the future.

Change-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/649193/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'releasenotes/notes/cinder-status-check-windows_iscsi_driver-5f4e0b93c7b92f53.yaml', 'cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst']",4,a00fb8937e3d83912b2bfba786eafc7335a1a00e,stein_upgrade_checks, * Ensure that correct volume_driver path is used for Windows iSCSI driver., * Placeholder to be filled in with checks as they are added in Stein.,56,5
openstack%2Fcinder~master~I56fc03affc9c2c47cbc0e38a66aa8b86f56d1499,openstack/cinder,master,I56fc03affc9c2c47cbc0e38a66aa8b86f56d1499,Deprecate NestedDbQuotaDriver for nested quotas,MERGED,2019-05-07 01:34:30.000000000,2019-05-30 18:39:47.000000000,2019-05-23 14:09:11.000000000,"[{'_account_id': 782}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-07 01:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8929685cafd19a16b1208fcc8d1f892c16f235a', 'message': 'Deprecate NestedDbQuotaDriver for nested quotas\n\nThis driver does not appear to be used and all projects will be\nswitching over to the keystone supported unified limits quota mechanism.\nTo prepare for switching quota handling to this new code, we want to\ndeprecate the driver now so we can remove the code and not need to\nrefactor it into the new handling.\n\nChange-Id: I56fc03affc9c2c47cbc0e38a66aa8b86f56d1499\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-05-22 15:41:05.000000000', 'files': ['releasenotes/notes/deprecate-nested-quota-d1ad7e8f54492a87.yaml', 'cinder/tests/unit/cmd/test_status.py', 'doc/source/configuration/block-storage/nested-quota.rst', 'cinder/cmd/status.py', 'cinder/quota.py', 'doc/source/cli/cinder-status.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8fbfe923bd99760293117dea47040c77746bc2d5', 'message': 'Deprecate NestedDbQuotaDriver for nested quotas\n\nThis driver does not appear to be used and all projects will be\nswitching over to the keystone supported unified limits quota mechanism.\nTo prepare for switching quota handling to this new code, we want to\ndeprecate the driver now so we can remove the code and not need to\nrefactor it into the new handling.\n\nChange-Id: I56fc03affc9c2c47cbc0e38a66aa8b86f56d1499\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,657511,8fbfe923bd99760293117dea47040c77746bc2d5,83,43,2,11904,,,0,"Deprecate NestedDbQuotaDriver for nested quotas

This driver does not appear to be used and all projects will be
switching over to the keystone supported unified limits quota mechanism.
To prepare for switching quota handling to this new code, we want to
deprecate the driver now so we can remove the code and not need to
refactor it into the new handling.

Change-Id: I56fc03affc9c2c47cbc0e38a66aa8b86f56d1499
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/657511/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-nested-quota-d1ad7e8f54492a87.yaml', 'cinder/tests/unit/cmd/test_status.py', 'doc/source/configuration/block-storage/nested-quota.rst', 'cinder/cmd/status.py', 'cinder/quota.py', 'doc/source/cli/cinder-status.rst']",6,f8929685cafd19a16b1208fcc8d1f892c16f235a,nested-quota, **15.0.0 (Train)** * Added check for use of deprecated ``cinder.quota.NestedDbQuotaDriver``. ,,65,0
openstack%2Fcinder~stable%2Fstein~Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,openstack/cinder,stable/stein,Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,"Fix ""connector=None"" issue in Kaminario drivers",MERGED,2019-05-22 00:42:27.000000000,2019-05-30 18:39:39.000000000,2019-05-23 22:30:49.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 16258}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-22 00:42:27.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/kaminario-cinder-driver-bug-44c728f026394a85.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/520e6e06593393b845384fbf39b9b81f116c6a64', 'message': 'Fix ""connector=None"" issue in Kaminario drivers\n\nCurrently, Kaminario Cinder FC and iSCSI volume drivers are not\nhandling ""connector=None"" in the terminate_connection. This causes\nthe failure of the following tempest test:\ntest_volumes_actions.VolumesActionsTest.test_force_detach_volume\n\nThis patch handles ""connector=None"" in the terminate_connection\nfor Kaminario Cinder FC and iSCSI volume drivers.\n\nChange-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a\nCloses-Bug: #1829398\nCo-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>\n(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)\n'}]",0,660539,520e6e06593393b845384fbf39b9b81f116c6a64,24,16,1,16258,,,0,"Fix ""connector=None"" issue in Kaminario drivers

Currently, Kaminario Cinder FC and iSCSI volume drivers are not
handling ""connector=None"" in the terminate_connection. This causes
the failure of the following tempest test:
test_volumes_actions.VolumesActionsTest.test_force_detach_volume

This patch handles ""connector=None"" in the terminate_connection
for Kaminario Cinder FC and iSCSI volume drivers.

Change-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a
Closes-Bug: #1829398
Co-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>
(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/660539/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/kaminario-cinder-driver-bug-44c728f026394a85.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py']",4,520e6e06593393b845384fbf39b9b81f116c6a64,bug/1829398-stable/stein," def get_hostname_initiator_pwwn(self, volume): init_host = None init_host_name = """" init_pwwn = [] vol_map_rs = self.client.search(""mappings"", {""volume"": volume}) if hasattr(vol_map_rs, ""hits"") and vol_map_rs.total != 0: init_host = vol_map_rs.hits[0].host init_host_name = init_host.name if init_host is not None: host_fc_ports = self.client.search(""host_fc_ports"", host=init_host) if hasattr(host_fc_ports, ""hits"") and host_fc_ports.total != 0: for port in host_fc_ports.hits: if port.pwwn: init_pwwn.append((port.pwwn).replace(':', '')) return init_host_name, init_pwwn if connector is None: host_name, init_pwwn = self.get_hostname_initiator_pwwn(volume) else: host_name = self.get_initiator_host_name(connector) if connector is None: connector = {'wwpns': init_pwwn}", host_name = self.get_initiator_host_name(connector),47,4
openstack%2Fcinder~master~Ia60404f37d523671f9862f1aca3fe5732570a55f,openstack/cinder,master,Ia60404f37d523671f9862f1aca3fe5732570a55f,move purestorage driver exceptions,MERGED,2019-05-21 20:10:28.000000000,2019-05-30 18:39:36.000000000,2019-05-23 09:31:09.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-21 20:10:28.000000000', 'files': ['cinder/volume/drivers/pure.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2bbd7d87a745d06651960bcfdb27957d8faabe95', 'message': 'move purestorage driver exceptions\n\nThis patch moves the purestorage exceptions to the driver file.\n\nChange-Id: Ia60404f37d523671f9862f1aca3fe5732570a55f\n'}]",0,660506,2bbd7d87a745d06651960bcfdb27957d8faabe95,48,29,1,5997,,,0,"move purestorage driver exceptions

This patch moves the purestorage exceptions to the driver file.

Change-Id: Ia60404f37d523671f9862f1aca3fe5732570a55f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/660506/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_pure.py']",3,2bbd7d87a745d06651960bcfdb27957d8faabe95,driver_exceptions," mock_func.side_effect = [pure.PureDriverException( self.assertRaises(pure.PureDriverException, self.assertRaises(pure.PureDriverException, self.assertRaises(pure.PureDriverException, self.assertRaises(pure.PureDriverException, pure.PureDriverException, pure.PureDriverException, self.assertRaises(pure.PureDriverException, self.assertRaises(pure.PureDriverException, self.assertRaises(pure.PureDriverException, self.assertRaises(pure.PureDriverException, self.assertRaises(pure.PureDriverException, self.driver._connect, self.assertRaises(pure.PureDriverException, self.driver._connect, self.assertRaises(pure.PureRetryableException, self.assertRaises(pure.PureRetryableException, self.assertRaises(pure.PureRetryableException, pure.PureDriverException(reason='this should never be hit'), self.assertRaises(pure.PureDriverException, self.driver._connect, self.assertRaises(pure.PureRetryableException,"," mock_func.side_effect = [exception.PureDriverException( self.assertRaises(exception.PureDriverException, self.assertRaises(exception.PureDriverException, self.assertRaises(exception.PureDriverException, self.assertRaises(exception.PureDriverException, exception.PureDriverException, exception.PureDriverException, self.assertRaises(exception.PureDriverException, self.assertRaises(exception.PureDriverException, self.assertRaises(exception.PureDriverException, self.assertRaises(exception.PureDriverException, self.assertRaises(exception.PureDriverException, self.driver._connect, self.assertRaises(exception.PureDriverException, self.driver._connect, self.assertRaises(exception.PureRetryableException, self.assertRaises(exception.PureRetryableException, self.assertRaises(exception.PureRetryableException, exception.PureDriverException(reason='this should never be hit'), self.assertRaises(exception.PureDriverException, self.driver._connect, self.assertRaises(exception.PureRetryableException,",56,58
openstack%2Fcinder~master~Ifa04e1f8f9e09c83a6bed16daecda51863ea3bcb,openstack/cinder,master,Ifa04e1f8f9e09c83a6bed16daecda51863ea3bcb,move storpool exception,MERGED,2019-05-08 18:58:08.000000000,2019-05-30 18:39:34.000000000,2019-05-22 03:31:28.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23302}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-08 18:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b13aad0fc6cfe0541e205f492118266e66f6592', 'message': 'move storpool exception\n\nThis patch moves the storpool driver exception to the driver.\n\nChange-Id: Ifa04e1f8f9e09c83a6bed16daecda51863ea3bcb\n'}, {'number': 2, 'created': '2019-05-14 16:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78a0c3121f8a2d93a0a8269663959c653d3bda11', 'message': 'move storpool exception\n\nThis patch moves the storpool driver exception to the driver.\n\nChange-Id: Ifa04e1f8f9e09c83a6bed16daecda51863ea3bcb\n'}, {'number': 3, 'created': '2019-05-20 20:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c802fcb23aff996f00bc55a76d36f095688303f1', 'message': 'move storpool exception\n\nThis patch moves the storpool driver exception to the driver.\n\nChange-Id: Ifa04e1f8f9e09c83a6bed16daecda51863ea3bcb\n'}, {'number': 4, 'created': '2019-05-21 19:01:04.000000000', 'files': ['cinder/volume/drivers/storpool.py', 'cinder/tests/unit/volume/drivers/test_storpool.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d67105c7f478c00248422109757f3e361cf3a32b', 'message': 'move storpool exception\n\nThis patch moves the storpool driver exception to the driver.\n\nChange-Id: Ifa04e1f8f9e09c83a6bed16daecda51863ea3bcb\n'}]",0,657868,d67105c7f478c00248422109757f3e361cf3a32b,156,41,4,5997,,,0,"move storpool exception

This patch moves the storpool driver exception to the driver.

Change-Id: Ifa04e1f8f9e09c83a6bed16daecda51863ea3bcb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/657868/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/storpool.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_storpool.py']",3,9b13aad0fc6cfe0541e205f492118266e66f6592,driver_exceptions," ({'host': 'sbad'}, driver.StorPoolConfigurationInvalid), ({'host': 'sbad'}, driver.StorPoolConfigurationInvalid),"," ({'host': 'sbad'}, exception.StorPoolConfigurationInvalid), ({'host': 'sbad'}, exception.StorPoolConfigurationInvalid),",8,9
openstack%2Fcinder~master~Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,openstack/cinder,master,Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,"Fix ""connector=None"" issue in Kaminario drivers",MERGED,2019-05-20 09:28:31.000000000,2019-05-30 18:39:25.000000000,2019-05-21 23:08:18.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21767}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-20 09:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41c35a82238b1aa2a465a43bbdc0c4399ff117b3', 'message': 'Fix ""connector=None"" issue in Kaminario drivers\n\nCurrently, Kaminario Cinder FC and iSCSI volume drivers are not\nhandling ""connector=None"" in the terminate_connection. This causes\nthe failure of the following tempest test:\ntest_volumes_actions.VolumesActionsTest.test_force_detach_volume\n\nThis patch handles ""connector=None"" in the terminate_connection\nfor Kaminario Cinder FC and iSCSI volume drivers.\n\nChange-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a\nCloses-Bug: #1829398\nCo-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>\n'}, {'number': 2, 'created': '2019-05-20 14:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc6ac67b40741e74df4c0d8264d4e96ea45b9ea9', 'message': 'Fix ""connector=None"" issue in Kaminario drivers\n\nCurrently, Kaminario Cinder FC and iSCSI volume drivers are not\nhandling ""connector=None"" in the terminate_connection. This causes\nthe failure of the following tempest test:\ntest_volumes_actions.VolumesActionsTest.test_force_detach_volume\n\nThis patch handles ""connector=None"" in the terminate_connection\nfor Kaminario Cinder FC and iSCSI volume drivers.\n\nChange-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a\nCloses-Bug: #1829398\nCo-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>\n'}, {'number': 3, 'created': '2019-05-20 21:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71c83a39ccb49b1bbfd70397e5a7bd7c24367f08', 'message': 'Fix ""connector=None"" issue in Kaminario drivers\n\nCurrently, Kaminario Cinder FC and iSCSI volume drivers are not\nhandling ""connector=None"" in the terminate_connection. This causes\nthe failure of the following tempest test:\ntest_volumes_actions.VolumesActionsTest.test_force_detach_volume\n\nThis patch handles ""connector=None"" in the terminate_connection\nfor Kaminario Cinder FC and iSCSI volume drivers.\n\nChange-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a\nCloses-Bug: #1829398\nCo-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>\n'}, {'number': 4, 'created': '2019-05-21 00:55:59.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/kaminario-cinder-driver-bug-44c728f026394a85.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/49331b2bb6fc8154343fe2655a0c57e814cf4f7a', 'message': 'Fix ""connector=None"" issue in Kaminario drivers\n\nCurrently, Kaminario Cinder FC and iSCSI volume drivers are not\nhandling ""connector=None"" in the terminate_connection. This causes\nthe failure of the following tempest test:\ntest_volumes_actions.VolumesActionsTest.test_force_detach_volume\n\nThis patch handles ""connector=None"" in the terminate_connection\nfor Kaminario Cinder FC and iSCSI volume drivers.\n\nChange-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a\nCloses-Bug: #1829398\nCo-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>\n'}]",8,660062,49331b2bb6fc8154343fe2655a0c57e814cf4f7a,134,36,4,16258,,,0,"Fix ""connector=None"" issue in Kaminario drivers

Currently, Kaminario Cinder FC and iSCSI volume drivers are not
handling ""connector=None"" in the terminate_connection. This causes
the failure of the following tempest test:
test_volumes_actions.VolumesActionsTest.test_force_detach_volume

This patch handles ""connector=None"" in the terminate_connection
for Kaminario Cinder FC and iSCSI volume drivers.

Change-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a
Closes-Bug: #1829398
Co-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/660062/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/kaminario-cinder-driver-bug-44c728f026394a85.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py']",4,41c35a82238b1aa2a465a43bbdc0c4399ff117b3,bug/1829398," def get_hostname_initiator_pwwn(self, volume): init_host = None init_host_name = """" init_pwwn = [] vol_map_rs = self.client.search(""mappings"", {""volume"": volume}) if hasattr(vol_map_rs, ""hits"") and vol_map_rs.total != 0: init_host = vol_map_rs.hits[0].host init_host_name = init_host.name if init_host is not None: host_fc_ports = self.client.search(""host_fc_ports"", host=init_host) if hasattr(host_fc_ports, ""hits"") and host_fc_ports.total != 0: for port in host_fc_ports.hits: if port.pwwn: init_pwwn.append((port.pwwn).replace(':', '')) return init_host_name, init_pwwn if connector is None: host_name, init_pwwn = self.get_hostname_initiator_pwwn(volume) else: host_name = self.get_initiator_host_name(connector) if connector is None: connector = {'wwpns': init_pwwn}", host_name = self.get_initiator_host_name(connector),44,4
openstack%2Fcinder~master~Ia007916c46a7912f3ecb7791cc7c9fcc22d6d9d5,openstack/cinder,master,Ia007916c46a7912f3ecb7791cc7c9fcc22d6d9d5,move vzstorage exceptions,MERGED,2019-05-09 18:43:52.000000000,2019-05-30 18:39:23.000000000,2019-05-21 10:56:12.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-09 18:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d45733bfff66541127a365c728264fbaca5b914', 'message': 'move vzstorage exceptions\n\nThis patch moves the vzstorage driver specific exceptions to the driver.\n\nChange-Id: Ia007916c46a7912f3ecb7791cc7c9fcc22d6d9d5\n'}, {'number': 2, 'created': '2019-05-20 20:40:26.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_vzstorage.py', 'cinder/volume/drivers/vzstorage.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b97670549b933d614388679702c6029aad09dd02', 'message': 'move vzstorage exceptions\n\nThis patch moves the vzstorage driver specific exceptions to the driver.\n\nChange-Id: Ia007916c46a7912f3ecb7791cc7c9fcc22d6d9d5\n'}]",0,658180,b97670549b933d614388679702c6029aad09dd02,66,35,2,5997,,,0,"move vzstorage exceptions

This patch moves the vzstorage driver specific exceptions to the driver.

Change-Id: Ia007916c46a7912f3ecb7791cc7c9fcc22d6d9d5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/658180/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_vzstorage.py', 'cinder/volume/drivers/vzstorage.py', 'cinder/exception.py']",3,8d45733bfff66541127a365c728264fbaca5b914,driver_exceptions,,"# Virtuozzo Storage Driver class VzStorageException(RemoteFSException): message = _(""Unknown Virtuozzo Storage exception"") class VzStorageNoSharesMounted(RemoteFSNoSharesMounted): message = _(""No mounted Virtuozzo Storage shares found"") class VzStorageNoSuitableShareFound(RemoteFSNoSuitableShareFound): message = _(""There is no share which can host %(volume_size)sG"") ",28,30
openstack%2Fcinder~master~Id4f7de01416cac48df31c6181befd0cd8c626631,openstack/cinder,master,Id4f7de01416cac48df31c6181befd0cd8c626631,LOG _init_vendor_properites,MERGED,2019-05-17 19:30:49.000000000,2019-05-30 18:39:15.000000000,2019-05-22 03:31:59.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-17 19:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/009dd5a9a375bf6a006e140922a132fe0539a2b5', 'message': ""LOG _init_vendor_properites\n\nThis patch adds an info log in _init_vendor_properties that will get\ncalled when a driver doesn't directly implement the method.  It's\nnot currently required, but we want to highly encourage drivers\nto implement this method and expose the capabilites the driver\nsupports, so admins can discover what extra specs are available.\n\nChange-Id: Id4f7de01416cac48df31c6181befd0cd8c626631\n""}, {'number': 2, 'created': '2019-05-17 19:35:14.000000000', 'files': ['cinder/volume/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d35e8565f4da2fed52442bd7758298b527537d1f', 'message': ""LOG _init_vendor_properites\n\nThis patch adds an info log in _init_vendor_properties that will get\ncalled when a driver doesn't directly implement the method.  It's\nnot currently required, but we want to highly encourage drivers\nto implement this method and expose the capabilites the driver\nsupports, so admins can discover what extra specs are available.\n\nChange-Id: Id4f7de01416cac48df31c6181befd0cd8c626631\n""}]",0,659872,d35e8565f4da2fed52442bd7758298b527537d1f,58,33,2,5997,,,0,"LOG _init_vendor_properites

This patch adds an info log in _init_vendor_properties that will get
called when a driver doesn't directly implement the method.  It's
not currently required, but we want to highly encourage drivers
to implement this method and expose the capabilites the driver
supports, so admins can discover what extra specs are available.

Change-Id: Id4f7de01416cac48df31c6181befd0cd8c626631
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/659872/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/volume/driver.py', 'cinder/exception.py']",3,009dd5a9a375bf6a006e140922a132fe0539a2b5,init_vendor_properties,,"# RBD class RBDDriverException(VolumeDriverException): message = _(""RBD Cinder driver failure: %(reason)s"") ",8,7
openstack%2Fcinder~master~Ic813445cb5d55edb68ca8e756b9350ca7e8a1270,openstack/cinder,master,Ic813445cb5d55edb68ca8e756b9350ca7e8a1270,Pure Storage FlashArray iSCSI driver target CIDR support,MERGED,2019-05-14 22:18:44.000000000,2019-05-30 18:39:00.000000000,2019-05-26 03:21:24.000000000,"[{'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13425}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-14 22:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7cba85816e43d81cee308d04700de7f6fe20cdec', 'message': 'Pure Storage FlashArray iSCSI driver target CIDR support\n\nAdd new configuration parameter to allow user to specify\nthe CIDR of iSCSI targets on a FlashArray that can be\nconnected to.\nThis allows a FlashArray to have targets in multiple VLANs\nand Cinder not try to connect to inaccesible targets which\ncan cause serious timeouts when connecting Cinder volumes\nto hosts.\nDefault setting will be 0.0.0.0/0 which allow connection\nto any live iSCSI target.\n\nChange-Id: Ic813445cb5d55edb68ca8e756b9350ca7e8a1270\n'}, {'number': 2, 'created': '2019-05-14 22:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81951473039ed831565b7ccc18344bdf855146a2', 'message': 'Pure Storage FlashArray iSCSI driver target CIDR support\n\nAdd new configuration parameter to allow user to specify\nthe CIDR of iSCSI targets on a FlashArray that can be\nconnected to.\nThis allows a FlashArray to have targets in multiple VLANs\nand Cinder not try to connect to inaccesible targets which\ncan cause serious timeouts when connecting Cinder volumes\nto hosts.\nDefault setting will be 0.0.0.0/0 which allow connection\nto any live iSCSI target.\n\nChange-Id: Ic813445cb5d55edb68ca8e756b9350ca7e8a1270\n'}, {'number': 3, 'created': '2019-05-15 16:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd47989e840af95c7721be9fe67255ed30c58e77', 'message': 'Pure Storage FlashArray iSCSI driver target CIDR support\n\nAdd new configuration parameter to allow user to specify\nthe CIDR of iSCSI targets on a FlashArray that can be\nconnected to.\nThis allows a FlashArray to have targets in multiple VLANs\nand Cinder not try to connect to inaccesible targets which\ncan cause serious timeouts when connecting Cinder volumes\nto hosts.\nDefault setting will be 0.0.0.0/0 which allow connection\nto any live iSCSI target.\n\nChange-Id: Ic813445cb5d55edb68ca8e756b9350ca7e8a1270\n'}, {'number': 4, 'created': '2019-05-15 17:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06196a502ebbb65d9e9fff8d441d873608b839cc', 'message': 'Pure Storage FlashArray iSCSI driver target CIDR support\n\nAdd new configuration parameter to allow user to specify\nthe CIDR of iSCSI targets on a FlashArray that can be\nconnected to.\nThis allows a FlashArray to have targets in multiple VLANs\nand Cinder not try to connect to inaccesible targets which\ncan cause serious timeouts when connecting Cinder volumes\nto hosts.\nDefault setting will be 0.0.0.0/0 which allow connection\nto any live iSCSI target.\n\nChange-Id: Ic813445cb5d55edb68ca8e756b9350ca7e8a1270\n'}, {'number': 5, 'created': '2019-05-15 17:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d0f07d5829b899e0e8f411ad62a3b8944abd807', 'message': 'Pure Storage FlashArray iSCSI driver target CIDR support\n\nAdd new configuration parameter to allow user to specify\nthe CIDR of iSCSI targets on a FlashArray that can be\nconnected to.\nThis allows a FlashArray to have targets in multiple VLANs\nand Cinder not try to connect to inaccesible targets which\ncan cause serious timeouts when connecting Cinder volumes\nto hosts.\nDefault setting will be 0.0.0.0/0 which allow connection\nto any live iSCSI target.\n\nChange-Id: Ic813445cb5d55edb68ca8e756b9350ca7e8a1270\n'}, {'number': 6, 'created': '2019-05-15 18:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b672b770458a20b0a84df2466331685598cb1a9e', 'message': 'Pure Storage FlashArray iSCSI driver target CIDR support\n\nAdd new configuration parameter to allow user to specify\nthe CIDR of iSCSI targets on a FlashArray that can be\nconnected to.\nThis allows a FlashArray to have targets in multiple VLANs\nand Cinder not try to connect to inaccesible targets which\ncan cause serious timeouts when connecting Cinder volumes\nto hosts.\nDefault setting will be 0.0.0.0/0 which allow connection\nto any live iSCSI target.\n\nChange-Id: Ic813445cb5d55edb68ca8e756b9350ca7e8a1270\n'}, {'number': 7, 'created': '2019-05-16 04:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6e8a9e47c5f90e2d6016353fdf08932546e8a4d', 'message': 'Pure Storage FlashArray iSCSI driver target CIDR support\n\nAdd new configuration parameter to allow user to specify\nthe CIDR of iSCSI targets on a FlashArray that can be\nconnected to.\nThis allows a FlashArray to have targets in multiple VLANs\nand Cinder not try to connect to inaccesible targets which\ncan cause serious timeouts when connecting Cinder volumes\nto hosts.\nDefault setting will be 0.0.0.0/0 which allow connection\nto any live iSCSI target.\n\nChange-Id: Ic813445cb5d55edb68ca8e756b9350ca7e8a1270\n'}, {'number': 8, 'created': '2019-05-17 03:42:26.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-iscsi-cidr-cbc1afb3850a9217.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/23cfc6efab58b239b37c6bdd16852239810dbbac', 'message': 'Pure Storage FlashArray iSCSI driver target CIDR support\n\nAdd new configuration parameter to allow user to specify\nthe CIDR of iSCSI targets on a FlashArray that can be\nconnected to.\nThis allows a FlashArray to have targets in multiple VLANs\nand Cinder not try to connect to inaccesible targets which\ncan cause serious timeouts when connecting Cinder volumes\nto hosts.\nDefault setting will be 0.0.0.0/0 which allow connection\nto any live iSCSI target.\n\nChange-Id: Ic813445cb5d55edb68ca8e756b9350ca7e8a1270\n'}]",4,659178,23cfc6efab58b239b37c6bdd16852239810dbbac,151,38,8,13425,,,0,"Pure Storage FlashArray iSCSI driver target CIDR support

Add new configuration parameter to allow user to specify
the CIDR of iSCSI targets on a FlashArray that can be
connected to.
This allows a FlashArray to have targets in multiple VLANs
and Cinder not try to connect to inaccesible targets which
can cause serious timeouts when connecting Cinder volumes
to hosts.
Default setting will be 0.0.0.0/0 which allow connection
to any live iSCSI target.

Change-Id: Ic813445cb5d55edb68ca8e756b9350ca7e8a1270
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/659178/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-iscsi-cidr-cbc1afb3850a9217.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py']",3,7cba85816e43d81cee308d04700de7f6fe20cdec,pure_iscsi_cidr,"ISCSI_CIDR = ""0.0.0.0/0"" self.mock_config.pure_iscsi_cidr = ISCSI_CIDR",,26,5
openstack%2Fcinder~master~Ia3c09e662b3c13583bcaec51ceb2233b5597ffd7,openstack/cinder,master,Ia3c09e662b3c13583bcaec51ceb2233b5597ffd7,Removes python-linstor as a requirement for LINSTOR driver,MERGED,2019-05-08 17:41:19.000000000,2019-05-30 18:38:58.000000000,2019-05-16 21:28:14.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28940}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-08 17:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1e3efc4c69cbbed551fcd61ab8912723e4286c0', 'message': 'Removes python-linstor as a requirement for LINSTOR driver\n\nThis helps with Cinder transitioning to pypi\navailable driver packages.\n\nChange-Id: Ia3c09e662b3c13583bcaec51ceb2233b5597ffd7\n'}, {'number': 2, 'created': '2019-05-08 21:20:40.000000000', 'files': ['driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/846b6d388a6626aab9cd638f46cae8e8d29fda74', 'message': 'Removes python-linstor as a requirement for LINSTOR driver\n\nThis helps with Cinder transitioning to pypi\navailable driver packages.\n\nChange-Id: Ia3c09e662b3c13583bcaec51ceb2233b5597ffd7\n'}]",2,657856,846b6d388a6626aab9cd638f46cae8e8d29fda74,96,36,2,28940,,,0,"Removes python-linstor as a requirement for LINSTOR driver

This helps with Cinder transitioning to pypi
available driver packages.

Change-Id: Ia3c09e662b3c13583bcaec51ceb2233b5597ffd7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/657856/1 && git format-patch -1 --stdout FETCH_HEAD,['driver-requirements.txt'],1,e1e3efc4c69cbbed551fcd61ab8912723e4286c0,,,python-linstor>=0.6.2 # GPLv3,0,1
openstack%2Fcinder~master~I5a7ccd21cf83c068bddd62fc8e35cf60aa39d14f,openstack/cinder,master,I5a7ccd21cf83c068bddd62fc8e35cf60aa39d14f,Handle collections.abc deprecations,MERGED,2019-04-09 21:40:07.000000000,2019-05-30 18:38:52.000000000,2019-05-17 20:57:50.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-04-09 21:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba2f03bdc8adc4e9dd09445543f33e8859f784fc', 'message': ""Handle collections.abc deprecations\n\nThe use of ABC classes directly from collections has been deprecated in\n3.x versions of Python. The direction is to use the classes defined in\ncollections.abc. Python 2.7 does not have this, but Python 3.8 will be\ndropping the backwards compatibility to use the old location.\n\nSix also does not have support for this yet, so in the mean time to make\nsure we don't run into issues as folks try to move to 3.8, and to get\nrid of deprecation warnings in logs, this handles importing from the\npreferred location and falls back if it not available.\n\nChange-Id: I5a7ccd21cf83c068bddd62fc8e35cf60aa39d14f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2019-05-14 19:45:23.000000000', 'files': ['cinder/objects/base.py', 'cinder/objects/cleanable.py', 'cinder/cmd/manage.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_driver_interfaces.py', 'cinder/db/sqlalchemy/api.py', 'cinder/api/openstack/wsgi.py', 'cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/920a87866b3a9b41b2808142aece4705d9939266', 'message': ""Handle collections.abc deprecations\n\nThe use of ABC classes directly from collections has been deprecated in\n3.x versions of Python. The direction is to use the classes defined in\ncollections.abc. Python 2.7 does not have this, but Python 3.8 will be\ndropping the backwards compatibility to use the old location.\n\nSix also does not have support for this yet, so in the mean time to make\nsure we don't run into issues as folks try to move to 3.8, and to get\nrid of deprecation warnings in logs, this handles importing from the\npreferred location and falls back if it not available.\n\nChange-Id: I5a7ccd21cf83c068bddd62fc8e35cf60aa39d14f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",6,651391,920a87866b3a9b41b2808142aece4705d9939266,107,39,2,11904,,,0,"Handle collections.abc deprecations

The use of ABC classes directly from collections has been deprecated in
3.x versions of Python. The direction is to use the classes defined in
collections.abc. Python 2.7 does not have this, but Python 3.8 will be
dropping the backwards compatibility to use the old location.

Six also does not have support for this yet, so in the mean time to make
sure we don't run into issues as folks try to move to 3.8, and to get
rid of deprecation warnings in logs, this handles importing from the
preferred location and falls back if it not available.

Change-Id: I5a7ccd21cf83c068bddd62fc8e35cf60aa39d14f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/651391/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_driver_interfaces.py', 'cinder/db/sqlalchemy/api.py', 'cinder/api/openstack/wsgi.py', 'cinder/scheduler/host_manager.py']",5,ba2f03bdc8adc4e9dd09445543f33e8859f784fc,py3_deprecations,"""""""Manage backends in the current zone."""""" # TODO(smcginnis) update this once six has support for collections.abc # (https://github.com/benjaminp/six/pull/241) or clean up once we drop py2.7. try: from collections.abc import Mapping except ImportError: from collections import Mappingclass ReadOnlyDict(Mapping):",""""""" Manage backends in the current zone. """""" import collectionsclass ReadOnlyDict(collections.Mapping):",37,17
openstack%2Fcinder~stable%2Fqueens~I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e,openstack/cinder,stable/queens,I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e,Change the matching method of the backup driver,MERGED,2019-04-26 20:28:59.000000000,2019-05-30 18:38:49.000000000,2019-05-15 20:12:08.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-04-26 20:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bbc8ac37efb4a6e10c16ab1bf31f178883edc0cb', 'message': ""Change the matching method of the backup driver\n\nThe backup driver name is configured uniformly from the Stein version.\nFor example, support for\n'cinder.backup.drivers.service.ServiceBackupDriver' does not support\n'cinder.backup.drivers.service'.\n\nHowever, the above two backup drivers are supported in a stable version\nbefore Rocky (including Rocky).\n\nFor the same storage backend, if the backup driver used to create the\nbackup file is 'cinder.backup.drivers.service.ServiceBackupDriver',\nthe backup driver configured when restoring the backup is\n'cinder.backup.drivers.service'. The recovery of the backup file will\nfail because the drivers do not match.\n\nTherefore, the processing of this method needs to be compatible with the\nbackup driver for different configurations of the same backend.\n\nThe above 'service' is a proxy, it can be one of {'swift', 'nfs',\n'ceph', 'glusterfs', 'google', 'tsm', 'posix'}\n\nCloses-Bug: #1801316\nChange-Id: I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e\n(cherry picked from commit b90a13d07dcf230a509cc93a4c864a20494cf5e7)\n""}, {'number': 2, 'created': '2019-04-27 03:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e220aa06e8f6897a19f01c8aba140018421d7cd5', 'message': ""Change the matching method of the backup driver\n\nThe backup driver name is configured uniformly from the Stein version.\nFor example, support for\n'cinder.backup.drivers.service.ServiceBackupDriver' does not support\n'cinder.backup.drivers.service'.\n\nHowever, the above two backup drivers are supported in a stable version\nbefore Rocky (including Rocky).\n\nFor the same storage backend, if the backup driver used to create the\nbackup file is 'cinder.backup.drivers.service.ServiceBackupDriver',\nthe backup driver configured when restoring the backup is\n'cinder.backup.drivers.service'. The recovery of the backup file will\nfail because the drivers do not match.\n\nTherefore, the processing of this method needs to be compatible with the\nbackup driver for different configurations of the same backend.\n\nThe above 'service' is a proxy, it can be one of {'swift', 'nfs',\n'ceph', 'glusterfs', 'google', 'tsm', 'posix'}\n\nCloses-Bug: #1801316\nChange-Id: I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e\n(cherry picked from commit b90a13d07dcf230a509cc93a4c864a20494cf5e7)\n""}, {'number': 3, 'created': '2019-05-14 13:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9ebdfe8023cca899b31a361ec860f80567191f2', 'message': ""Change the matching method of the backup driver\n\nThe backup driver name is configured uniformly from the Stein version.\nFor example, support for\n'cinder.backup.drivers.service.ServiceBackupDriver' does not support\n'cinder.backup.drivers.service'.\n\nHowever, the above two backup drivers are supported in a stable version\nbefore Rocky (including Rocky).\n\nFor the same storage backend, if the backup driver used to create the\nbackup file is 'cinder.backup.drivers.service.ServiceBackupDriver',\nthe backup driver configured when restoring the backup is\n'cinder.backup.drivers.service'. The recovery of the backup file will\nfail because the drivers do not match.\n\nTherefore, the processing of this method needs to be compatible with the\nbackup driver for different configurations of the same backend.\n\nThe above 'service' is a proxy, it can be one of {'swift', 'nfs',\n'ceph', 'glusterfs', 'google', 'tsm', 'posix'}\n\nCloses-Bug: #1801316\nChange-Id: I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e\n(cherry picked from commit b90a13d07dcf230a509cc93a4c864a20494cf5e7)\n""}, {'number': 4, 'created': '2019-05-14 13:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4328f58663a9bd68ceec486846c5dd6b745e857b', 'message': ""Change the matching method of the backup driver\n\nThe backup driver name is configured uniformly from the Stein version.\nFor example, support for\n'cinder.backup.drivers.service.ServiceBackupDriver' does not support\n'cinder.backup.drivers.service'.\n\nHowever, the above two backup drivers are supported in a stable version\nbefore Rocky (including Rocky).\n\nFor the same storage backend, if the backup driver used to create the\nbackup file is 'cinder.backup.drivers.service.ServiceBackupDriver',\nthe backup driver configured when restoring the backup is\n'cinder.backup.drivers.service'. The recovery of the backup file will\nfail because the drivers do not match.\n\nTherefore, the processing of this method needs to be compatible with the\nbackup driver for different configurations of the same backend.\n\nThe above 'service' is a proxy, it can be one of {'swift', 'nfs',\n'ceph', 'glusterfs', 'google', 'tsm', 'posix'}\n\nCloses-Bug: #1801316\nPart of this backup comes from Change-Id:\nIf1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6\nChange-Id: I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e\n(cherry picked from commit b90a13d07dcf230a509cc93a4c864a20494cf5e7)\nConflicts:\n    cinder/backup/manager.py\n""}, {'number': 5, 'created': '2019-05-14 15:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6bc659ff13ff917d03de7ef4e42d083b3abee4ff', 'message': ""Change the matching method of the backup driver\n\nThe backup driver name is configured uniformly from the Stein version.\nFor example, support for\n'cinder.backup.drivers.service.ServiceBackupDriver' does not support\n'cinder.backup.drivers.service'.\n\nHowever, the above two backup drivers are supported in a stable version\nbefore Rocky (including Rocky).\n\nFor the same storage backend, if the backup driver used to create the\nbackup file is 'cinder.backup.drivers.service.ServiceBackupDriver',\nthe backup driver configured when restoring the backup is\n'cinder.backup.drivers.service'. The recovery of the backup file will\nfail because the drivers do not match.\n\nTherefore, the processing of this method needs to be compatible with the\nbackup driver for different configurations of the same backend.\n\nThe above 'service' is a proxy, it can be one of {'swift', 'nfs',\n'ceph', 'glusterfs', 'google', 'tsm', 'posix'}\n\nCloses-Bug: #1801316\nPart of this backup comes from Change-Id:\nIf1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6\nChange-Id: I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e\n(cherry picked from commit b90a13d07dcf230a509cc93a4c864a20494cf5e7)\nConflicts:\n    cinder/backup/manager.py\n""}, {'number': 6, 'created': '2019-05-14 15:19:00.000000000', 'files': ['cinder/backup/manager.py', 'cinder/tests/unit/backup/test_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/66133741602924c4a6509277bcb33a2f2aa042d1', 'message': ""Change the matching method of the backup driver\n\nThe backup driver name is configured uniformly from the Stein version.\nFor example, support for\n'cinder.backup.drivers.service.ServiceBackupDriver' does not support\n'cinder.backup.drivers.service'.\n\nHowever, the above two backup drivers are supported in a stable version\nbefore Rocky (including Rocky).\n\nFor the same storage backend, if the backup driver used to create the\nbackup file is 'cinder.backup.drivers.service.ServiceBackupDriver',\nthe backup driver configured when restoring the backup is\n'cinder.backup.drivers.service'. The recovery of the backup file will\nfail because the drivers do not match.\n\nTherefore, the processing of this method needs to be compatible with the\nbackup driver for different configurations of the same backend.\n\nThe above 'service' is a proxy, it can be one of {'swift', 'nfs',\n'ceph', 'glusterfs', 'google', 'tsm', 'posix'}\n\nCloses-Bug: #1801316\nPart of this backup comes from Change-Id:\nIf1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6\nChange-Id: I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e\n(cherry picked from commit b90a13d07dcf230a509cc93a4c864a20494cf5e7)\nConflicts:\n    cinder/backup/manager.py\n""}]",10,656010,66133741602924c4a6509277bcb33a2f2aa042d1,71,25,6,20813,,,0,"Change the matching method of the backup driver

The backup driver name is configured uniformly from the Stein version.
For example, support for
'cinder.backup.drivers.service.ServiceBackupDriver' does not support
'cinder.backup.drivers.service'.

However, the above two backup drivers are supported in a stable version
before Rocky (including Rocky).

For the same storage backend, if the backup driver used to create the
backup file is 'cinder.backup.drivers.service.ServiceBackupDriver',
the backup driver configured when restoring the backup is
'cinder.backup.drivers.service'. The recovery of the backup file will
fail because the drivers do not match.

Therefore, the processing of this method needs to be compatible with the
backup driver for different configurations of the same backend.

The above 'service' is a proxy, it can be one of {'swift', 'nfs',
'ceph', 'glusterfs', 'google', 'tsm', 'posix'}

Closes-Bug: #1801316
Part of this backup comes from Change-Id:
If1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6
Change-Id: I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e
(cherry picked from commit b90a13d07dcf230a509cc93a4c864a20494cf5e7)
Conflicts:
    cinder/backup/manager.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/656010/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/manager.py', 'cinder/tests/unit/backup/test_backup.py']",2,bbc8ac37efb4a6e10c16ab1bf31f178883edc0cb,bug/1801316," def test_driver_name_startswith_backup_service_name(self): service_name = 'cinder.tests.unit.backup.fake_service' driver_name = 'cinder.tests.unit.backup.fake_service.FakeBackupService' self.override_config('backup_driver', driver_name) vol_id = self._create_volume_db_entry(status='available', size=1) backup = self._create_backup_db_entry(status=fields.BackupStatus.ERROR, volume_id=vol_id, service=service_name) result = self.backup_mgr._is_our_backup(backup) self.assertTrue(result) def test_backup_service_name_startswith_driver_name(self): driver_name = 'cinder.tests.unit.backup.fake_service' service_name = ('cinder.tests.unit.backup.fake_service.' 'FakeBackupService') self.override_config('backup_driver', driver_name) vol_id = self._create_volume_db_entry(status='available', size=1) backup = self._create_backup_db_entry(status=fields.BackupStatus.ERROR, volume_id=vol_id, service=service_name) result = self.backup_mgr._is_our_backup(backup) self.assertTrue(result) ",,94,2
openstack%2Fcinder~stable%2Fpike~I5b1c285680f7c3256a707ea5973573f1176d4a26,openstack/cinder,stable/pike,I5b1c285680f7c3256a707ea5973573f1176d4a26,Make sure we install cinder requirements during the correct tox phase,MERGED,2019-05-13 20:35:25.000000000,2019-05-30 18:38:47.000000000,2019-05-30 17:47:32.000000000,"[{'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12898}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-13 20:35:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b2f7470c68cb25e1d28f9f8fbbca66f6142ff0f', 'message': ""Make sure we install cinder requirements during the correct tox phase\n\nWhen runnign tests under tox the virtualenv is created in a number of\nphases (in brush strokes)\n0. virtualenv -p $python .tox/$dir\n1. pip install $deps\n2. pip install .\n\nStep 2 is run without any deps as they're all supposed to be installed\nin phase 2\n\nWe have constraints in 'deps' we need to install all of cinders\nrequirements during phase 2.  If we don't then we get unconstrained\nversions being installed during phase 2.\n\nThis shows up in a py27 run[1] as the absence of taskflow, and then in\n[2] with new dependancies being installed\n\n[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log\n[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log\n\nChange-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26\n(cherry picked from commit f12fda8ffbb42e71108701b38c09618997b836c3)\n(cherry picked from commit aecb6100e296aed7235635a5b18a0835fd2aca34)\n(cherry picked from commit 81bf9537018486b9c4ef7985daaec901fbdc2a1b)\n(cherry picked from commit ad8e3dc8aba932793ad2c1c9711cd310c5e5e0f3)\n""}]",0,658916,6b2f7470c68cb25e1d28f9f8fbbca66f6142ff0f,19,15,1,6593,,,0,"Make sure we install cinder requirements during the correct tox phase

When runnign tests under tox the virtualenv is created in a number of
phases (in brush strokes)
0. virtualenv -p $python .tox/$dir
1. pip install $deps
2. pip install .

Step 2 is run without any deps as they're all supposed to be installed
in phase 2

We have constraints in 'deps' we need to install all of cinders
requirements during phase 2.  If we don't then we get unconstrained
versions being installed during phase 2.

This shows up in a py27 run[1] as the absence of taskflow, and then in
[2] with new dependancies being installed

[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log
[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log

Change-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26
(cherry picked from commit f12fda8ffbb42e71108701b38c09618997b836c3)
(cherry picked from commit aecb6100e296aed7235635a5b18a0835fd2aca34)
(cherry picked from commit 81bf9537018486b9c4ef7985daaec901fbdc2a1b)
(cherry picked from commit ad8e3dc8aba932793ad2c1c9711cd310c5e5e0f3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/658916/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6b2f7470c68cb25e1d28f9f8fbbca66f6142ff0f,,deps = -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt, deps = -r{toxinidir}/test-requirements.txt,3,2
openstack%2Fcinder~stable%2Frocky~I5b1c285680f7c3256a707ea5973573f1176d4a26,openstack/cinder,stable/rocky,I5b1c285680f7c3256a707ea5973573f1176d4a26,Make sure we install cinder requirements during the correct tox phase,MERGED,2019-05-13 20:21:54.000000000,2019-05-30 18:38:44.000000000,2019-05-14 01:33:54.000000000,"[{'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12898}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-13 20:21:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/81bf9537018486b9c4ef7985daaec901fbdc2a1b', 'message': ""Make sure we install cinder requirements during the correct tox phase\n\nWhen runnign tests under tox the virtualenv is created in a number of\nphases (in brush strokes)\n0. virtualenv -p $python .tox/$dir\n1. pip install $deps\n2. pip install .\n\nStep 2 is run without any deps as they're all supposed to be installed\nin phase 2\n\nWe have constraints in 'deps' we need to install all of cinders\nrequirements during phase 2.  If we don't then we get unconstrained\nversions being installed during phase 2.\n\nThis shows up in a py27 run[1] as the absence of taskflow, and then in\n[2] with new dependancies being installed\n\n[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log\n[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log\n\nChange-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26\n(cherry picked from commit f12fda8ffbb42e71108701b38c09618997b836c3)\n(cherry picked from commit aecb6100e296aed7235635a5b18a0835fd2aca34)\n""}]",0,658913,81bf9537018486b9c4ef7985daaec901fbdc2a1b,16,12,1,6593,,,0,"Make sure we install cinder requirements during the correct tox phase

When runnign tests under tox the virtualenv is created in a number of
phases (in brush strokes)
0. virtualenv -p $python .tox/$dir
1. pip install $deps
2. pip install .

Step 2 is run without any deps as they're all supposed to be installed
in phase 2

We have constraints in 'deps' we need to install all of cinders
requirements during phase 2.  If we don't then we get unconstrained
versions being installed during phase 2.

This shows up in a py27 run[1] as the absence of taskflow, and then in
[2] with new dependancies being installed

[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log
[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log

Change-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26
(cherry picked from commit f12fda8ffbb42e71108701b38c09618997b836c3)
(cherry picked from commit aecb6100e296aed7235635a5b18a0835fd2aca34)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/658913/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,81bf9537018486b9c4ef7985daaec901fbdc2a1b,,deps = -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt, deps = -r{toxinidir}/test-requirements.txt,3,2
openstack%2Fcinder~master~I02d1401314c9219f3f61c423dbc5b68044263105,openstack/cinder,master,I02d1401314c9219f3f61c423dbc5b68044263105,Correct typo in api-ref,MERGED,2019-05-10 19:19:27.000000000,2019-05-30 18:38:41.000000000,2019-05-10 23:13:06.000000000,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-10 19:19:27.000000000', 'files': ['api-ref/source/v3/volumes-v3-types.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7d92f456f5166d84d02a40d71db82f74c917dbd', 'message': ""Correct typo in api-ref\n\nThe 'os-' prefix is incorrectly written as 'is-' in one place (yes,\nI checked, doesn't seem to occur anywhere else).\n\nChange-Id: I02d1401314c9219f3f61c423dbc5b68044263105\n""}]",0,658457,c7d92f456f5166d84d02a40d71db82f74c917dbd,31,24,1,5314,,,0,"Correct typo in api-ref

The 'os-' prefix is incorrectly written as 'is-' in one place (yes,
I checked, doesn't seem to occur anywhere else).

Change-Id: I02d1401314c9219f3f61c423dbc5b68044263105
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/658457/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/volumes-v3-types.inc'],1,c7d92f456f5166d84d02a40d71db82f74c917dbd,fix-typo, - os-volume-type-access:is_public: is_public_volume_type_required, - is-volume-type-access:is_public: is_public_volume_type_required,1,1
openstack%2Fcinder~master~I4bed2917bdb7d9929c0fbfa2dcfe4067cb3d963f,openstack/cinder,master,I4bed2917bdb7d9929c0fbfa2dcfe4067cb3d963f,move netapp exception,MERGED,2019-05-08 21:22:26.000000000,2019-05-30 18:38:38.000000000,2019-05-20 21:05:31.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-08 21:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cee2b2eb1ce03f871ade04bca5b932543cdab2c3', 'message': 'move netapp exception\n\nThis patch moves the netapp exception to the netapp/utils.py\nfor common use among all the netapp drivers.\n\nChange-Id: I4bed2917bdb7d9929c0fbfa2dcfe4067cb3d963f\n'}, {'number': 2, 'created': '2019-05-09 12:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c695a6b774180e85f78b5579cdfa6e62d95fede0', 'message': 'move netapp exception\n\nThis patch moves the netapp exception to the netapp/utils.py\nfor common use among all the netapp drivers.\n\nChange-Id: I4bed2917bdb7d9929c0fbfa2dcfe4067cb3d963f\n'}, {'number': 3, 'created': '2019-05-10 17:26:01.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/utils.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_data_motion.py', 'cinder/volume/drivers/netapp/dataontap/utils/data_motion.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/exception.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b260260779f358f78359ab46842e5f6031dd93ac', 'message': 'move netapp exception\n\nThis patch moves the netapp exception to the netapp/utils.py\nfor common use among all the netapp drivers.\n\nChange-Id: I4bed2917bdb7d9929c0fbfa2dcfe4067cb3d963f\n'}]",1,657889,b260260779f358f78359ab46842e5f6031dd93ac,87,39,3,5997,,,0,"move netapp exception

This patch moves the netapp exception to the netapp/utils.py
for common use among all the netapp drivers.

Change-Id: I4bed2917bdb7d9929c0fbfa2dcfe4067cb3d963f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/657889/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/utils.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_data_motion.py', 'cinder/volume/drivers/netapp/dataontap/utils/data_motion.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/exception.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py']",13,cee2b2eb1ce03f871ade04bca5b932543cdab2c3,driver_exceptions," self.assertRaises(na_utils.NetAppDriverException,"," self.assertRaises(exception.NetAppDriverException,",43,44
openstack%2Fcinder~master~I18925ae7c8d10588b810a7ac5371b81c98227306,openstack/cinder,master,I18925ae7c8d10588b810a7ac5371b81c98227306,move NVMEOF exception to target file,MERGED,2019-05-03 16:05:16.000000000,2019-05-30 18:38:36.000000000,2019-05-21 10:56:16.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28543}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30386}]","[{'number': 1, 'created': '2019-05-03 16:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd2a988965a50e6a6a2ec265897720c473ef2773', 'message': 'move NVMEOF exception to target file\n\nThis patch moves the NVMEof specific exception from\ncinder/exception to the target driver file itself.\n\nChange-Id: I18925ae7c8d10588b810a7ac5371b81c98227306\n'}, {'number': 2, 'created': '2019-05-06 13:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07f098e387799acca8085c7154f58a6d6b8e7818', 'message': 'move NVMEOF exception to target file\n\nThis patch moves the NVMEof specific exception from\ncinder/exception to the target driver file itself.\n\nChange-Id: I18925ae7c8d10588b810a7ac5371b81c98227306\n'}, {'number': 3, 'created': '2019-05-10 16:57:17.000000000', 'files': ['cinder/tests/unit/targets/test_nvmeof_driver.py', 'cinder/exception.py', 'cinder/volume/targets/nvmeof.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1538251464826034613ce6b711761689308442c2', 'message': 'move NVMEOF exception to target file\n\nThis patch moves the NVMEof specific exception from\ncinder/exception to the target driver file itself.\n\nChange-Id: I18925ae7c8d10588b810a7ac5371b81c98227306\n'}]",2,656976,1538251464826034613ce6b711761689308442c2,96,40,3,5997,,,0,"move NVMEOF exception to target file

This patch moves the NVMEof specific exception from
cinder/exception to the target driver file itself.

Change-Id: I18925ae7c8d10588b810a7ac5371b81c98227306
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/656976/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/targets/test_nvmeof_driver.py', 'cinder/exception.py', 'cinder/volume/targets/nvmeof.py']",3,bd2a988965a50e6a6a2ec265897720c473ef2773,driver_exceptions,"from cinder.i18n import _class UnsupportedNVMETProtocol(exception.Invalid): message = _(""An invalid 'target_protocol' "" ""value was provided: %(protocol)s"") raise UnsupportedNVMETProtocol(", raise exception.UnsupportedNVMETProtocol(,8,7
openstack%2Fcinder~master~I5c7aeb6cc663d7157d7bb14442fc4f8df5e60754,openstack/cinder,master,I5c7aeb6cc663d7157d7bb14442fc4f8df5e60754,move 3par exception,MERGED,2019-05-09 19:10:49.000000000,2019-05-30 18:38:33.000000000,2019-05-13 06:38:13.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23294}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30388}]","[{'number': 1, 'created': '2019-05-09 19:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c21b4817e653fa789d10405239d7b3022e915bdf', 'message': 'move 3par exception\n\nThis patch moves the 3par driver exception to the hpe_3par_common file.\n\nChange-Id: I5c7aeb6cc663d7157d7bb14442fc4f8df5e60754\n'}, {'number': 2, 'created': '2019-05-10 15:57:59.000000000', 'files': ['cinder/exception.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/73adbf564c862c67285121a86a10afb2353485bb', 'message': 'move 3par exception\n\nThis patch moves the 3par driver exception to the hpe_3par_common file.\n\nChange-Id: I5c7aeb6cc663d7157d7bb14442fc4f8df5e60754\n'}]",0,658189,73adbf564c862c67285121a86a10afb2353485bb,74,36,2,5997,,,0,"move 3par exception

This patch moves the 3par driver exception to the hpe_3par_common file.

Change-Id: I5c7aeb6cc663d7157d7bb14442fc4f8df5e60754
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/658189/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/exception.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,c21b4817e653fa789d10405239d7b3022e915bdf,driver_exceptions,"class Invalid3PARDomain(exception.VolumeDriverException): message = _(""Invalid 3PAR Domain: %(err)s"") raise Invalid3PARDomain(err=e.get_description()) raise Invalid3PARDomain(reason) raise Invalid3PARDomain(reason)", raise exception.Invalid3PARDomain(err=e.get_description()) raise exception.Invalid3PARDomain(reason) raise exception.Invalid3PARDomain(reason),10,11
openstack%2Fcinder~master~I4993878b0b86e3b25ee6a7d86b7a406023f20118,openstack/cinder,master,I4993878b0b86e3b25ee6a7d86b7a406023f20118,Update doc for missed quotation marks,MERGED,2019-05-10 10:01:24.000000000,2019-05-30 18:38:30.000000000,2019-05-10 13:46:58.000000000,"[{'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-05-10 10:01:24.000000000', 'files': ['doc/source/contributor/replication.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a30fd0276babf566d25aeb4272342ae8e096a472', 'message': 'Update doc for missed quotation marks\n\nUpdate doc for missed quotation marks\n\nChange-Id: I4993878b0b86e3b25ee6a7d86b7a406023f20118\n'}]",0,658320,a30fd0276babf566d25aeb4272342ae8e096a472,27,21,1,8037,,,0,"Update doc for missed quotation marks

Update doc for missed quotation marks

Change-Id: I4993878b0b86e3b25ee6a7d86b7a406023f20118
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/658320/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/replication.rst'],1,a30fd0276babf566d25aeb4272342ae8e096a472,doc_fix,``self.configuration.safe_get('replication_device')`` within the driver is theTrue'`` and also specifying it for all non replicated volume types,``self.configuration.safe_get('replication_device)`` within the driver is theTrue``` and also specifying it for all non replicated volume types,2,2
openstack%2Fcinder~master~I925d4261214c9845e859dfc3c211ef1215ceadf3,openstack/cinder,master,I925d4261214c9845e859dfc3c211ef1215ceadf3,Remove driver requirements of removed drivers,MERGED,2019-05-08 11:06:01.000000000,2019-05-30 18:38:27.000000000,2019-05-29 20:59:58.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30388}]","[{'number': 1, 'created': '2019-05-08 11:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1348254d46cf072ef4a3f6cc5c27cc4be1690818', 'message': 'Remove Violin driver requirements\n\nAs of I935990d09f1374a8789b2a0dad8e8a334aa39abc Violin drivers\nwere removed but their dependent requirements still exist.\nThis patch removes the same.\n\nChange-Id: I925d4261214c9845e859dfc3c211ef1215ceadf3\n'}, {'number': 2, 'created': '2019-05-10 06:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c6e7f50439b95315c891c4aadd1b913c66accf2', 'message': 'Remove Violin driver requirements\n\nAs of I935990d09f1374a8789b2a0dad8e8a334aa39abc Violin drivers\nwere removed but their dependent requirements still exist.\nThis patch removes the same.\n\nChange-Id: I925d4261214c9845e859dfc3c211ef1215ceadf3\n'}, {'number': 3, 'created': '2019-05-10 06:34:06.000000000', 'files': ['driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b4ca85883f643a08cd084668ce595c75da4da7c', 'message': 'Remove driver requirements of removed drivers\n\nAs of I935990d09f1374a8789b2a0dad8e8a334aa39abc  and \ne15a21e72b818da9623c210344d4414c59bf99be Violin and DataCore\ndrivers were removed but their dependent requirements still exist.\nThis patch removes the same.\n\nChange-Id: I925d4261214c9845e859dfc3c211ef1215ceadf3\n'}]",2,657777,8b4ca85883f643a08cd084668ce595c75da4da7c,69,38,3,27615,,,0,"Remove driver requirements of removed drivers

As of I935990d09f1374a8789b2a0dad8e8a334aa39abc  and 
e15a21e72b818da9623c210344d4414c59bf99be Violin and DataCore
drivers were removed but their dependent requirements still exist.
This patch removes the same.

Change-Id: I925d4261214c9845e859dfc3c211ef1215ceadf3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/657777/1 && git format-patch -1 --stdout FETCH_HEAD,['driver-requirements.txt'],1,1348254d46cf072ef4a3f6cc5c27cc4be1690818,,,# Violin vmemclient>=1.1.8 # Apache-2.0 ,0,3
openstack%2Fcinder~master~I2eaac05c1ac1872d184c29ef25bca5d59edb50cb,openstack/cinder,master,I2eaac05c1ac1872d184c29ef25bca5d59edb50cb,move solidfire driver exceptions,MERGED,2019-05-09 19:45:26.000000000,2019-05-30 18:38:22.000000000,2019-05-10 13:46:55.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-09 19:45:26.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b86192584eaf009c30ec9d8bd18c4870a57382b', 'message': 'move solidfire driver exceptions\n\nThis patch moves the solidfire driver exceptions to the driver.\n\nChange-Id: I2eaac05c1ac1872d184c29ef25bca5d59edb50cb\n'}]",0,658198,1b86192584eaf009c30ec9d8bd18c4870a57382b,30,23,1,5997,,,0,"move solidfire driver exceptions

This patch moves the solidfire driver exceptions to the driver.

Change-Id: I2eaac05c1ac1872d184c29ef25bca5d59edb50cb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/658198/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",3,1b86192584eaf009c30ec9d8bd18c4870a57382b,driver_exceptions," raise solidfire.SolidFireAPIException(message=msg) self.assertRaises(solidfire.SolidFireAPIException, self.assertRaises(solidfire.SolidFireAPIException, self.assertRaises(solidfire.SolidFireDriverException, self.assertRaises(solidfire.SolidFireAPIException, self.assertRaises(solidfire.SolidFireAPIException, raise solidfire.SolidFireAPIException raise solidfire.SolidFireAPIException(message=msg) raise solidfire.SolidFireAPIException(message=msg) raise solidfire.SolidFireAPIException(message=msg) raise solidfire.SolidFireAPIException(message=msg) raise solidfire.SolidFireAPIException(message=msg) raise solidfire.SolidFireAPIException(message=msg) raise solidfire.SolidFireAPIException(message=msg) raise solidfire.SolidFireAPIException(message=msg) raise solidfire.SolidFireAPIException(message=msg) self.assertRaises(solidfire.SolidFireAPIException, self.assertRaises(solidfire.SolidFireDriverException, self.assertRaises(solidfire.SolidFireDriverException, self.assertRaises(solidfire.SolidFireDriverException, raise solidfire.SolidFireAPIException self.assertRaises(solidfire.SolidFireAPIException,"," raise exception.SolidFireAPIException(message=msg) self.assertRaises(exception.SolidFireAPIException, self.assertRaises(exception.SolidFireAPIException, self.assertRaises(exception.SolidFireDriverException, self.assertRaises(exception.SolidFireAPIException, self.assertRaises(exception.SolidFireAPIException, raise exception.SolidFireAPIException raise exception.SolidFireAPIException(message=msg) raise exception.SolidFireAPIException(message=msg) raise exception.SolidFireAPIException(message=msg) raise exception.SolidFireAPIException(message=msg) raise exception.SolidFireAPIException(message=msg) raise exception.SolidFireAPIException(message=msg) raise exception.SolidFireAPIException(message=msg) raise exception.SolidFireAPIException(message=msg) raise exception.SolidFireAPIException(message=msg) self.assertRaises(exception.SolidFireAPIException, self.assertRaises(exception.SolidFireDriverException, self.assertRaises(exception.SolidFireDriverException, self.assertRaises(exception.SolidFireDriverException, raise exception.SolidFireAPIException self.assertRaises(exception.SolidFireAPIException,",81,82
openstack%2Fcinder~master~I00d95069786eab263c788457c35c31ee1d2d1912,openstack/cinder,master,I00d95069786eab263c788457c35c31ee1d2d1912,Add python37 job,MERGED,2019-04-25 04:52:23.000000000,2019-05-30 18:38:16.000000000,2019-05-13 13:10:25.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-04-25 04:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e25117c1f7fa74bc93cff86fe0f0547c1352fbc', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I00d95069786eab263c788457c35c31ee1d2d1912\n""}, {'number': 2, 'created': '2019-04-25 04:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f93d54f105972827658a4c6aa721107b7eb2e72f', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I00d95069786eab263c788457c35c31ee1d2d1912\n""}, {'number': 3, 'created': '2019-04-25 05:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/09188eae6469911df94e3a30453d7cf7c15605c7', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I00d95069786eab263c788457c35c31ee1d2d1912\n""}, {'number': 4, 'created': '2019-04-25 05:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d91e0297e57355bd7530c6c4bb95bd937064b38e', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I00d95069786eab263c788457c35c31ee1d2d1912\n""}, {'number': 5, 'created': '2019-04-25 14:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0fe30cad884d80d9774a161c5199f3469678f076', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I00d95069786eab263c788457c35c31ee1d2d1912\n""}, {'number': 6, 'created': '2019-05-09 06:40:52.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a944b91f2db6126372462c66092a241e18f8886', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I00d95069786eab263c788457c35c31ee1d2d1912\n""}]",9,655612,7a944b91f2db6126372462c66092a241e18f8886,138,40,6,27615,,,0,"Add python37 job

Since we've entered Train and the runtime proposed include py37[1],
we need to include it in gate as well as local env.
This patch adds the support for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I00d95069786eab263c788457c35c31ee1d2d1912
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/655612/6 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,5e25117c1f7fa74bc93cff86fe0f0547c1352fbc,,"envlist = py37,py36,py27,compliance,pep8[testenv:functional-py37] setenv = {[testenv:functional]setenv} ","envlist = py36,py27,compliance,pep8",19,1
openstack%2Fcinder~master~I70a9e11e76c9bb79295913b7a63fa428a5f16178,openstack/cinder,master,I70a9e11e76c9bb79295913b7a63fa428a5f16178,remove unused exceptions,MERGED,2019-05-08 19:51:27.000000000,2019-05-30 18:38:13.000000000,2019-05-10 07:54:56.000000000,"[{'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-08 19:51:27.000000000', 'files': ['cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/44a7889025c418048ba3edcc4aabbd106072edf1', 'message': 'remove unused exceptions\n\nThis patch removes 2 unused EMC VNX exceptions.\n\nChange-Id: I70a9e11e76c9bb79295913b7a63fa428a5f16178\n'}]",0,657878,44a7889025c418048ba3edcc4aabbd106072edf1,46,31,1,5997,,,0,"remove unused exceptions

This patch removes 2 unused EMC VNX exceptions.

Change-Id: I70a9e11e76c9bb79295913b7a63fa428a5f16178
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/657878/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/exception.py'],1,44a7889025c418048ba3edcc4aabbd106072edf1,driver_exceptions,,"class EMCVnxCLICmdError(VolumeBackendAPIException): message = _(""EMC VNX Cinder Driver CLI exception: %(cmd)s "" ""(Return Code: %(rc)s) (Output: %(out)s)."") class EMCSPUnavailableException(EMCVnxCLICmdError): message = _(""EMC VNX Cinder Driver SPUnavailableException: %(cmd)s "" ""(Return Code: %(rc)s) (Output: %(out)s)."") ",0,10
openstack%2Fcinder~master~Ib1875c5ee99d6159ead7be620e75c5f2a8a5a164,openstack/cinder,master,Ib1875c5ee99d6159ead7be620e75c5f2a8a5a164,move sheepdog exception,MERGED,2019-05-08 17:53:29.000000000,2019-05-30 18:38:10.000000000,2019-05-20 21:33:33.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30448}]","[{'number': 1, 'created': '2019-05-08 17:53:29.000000000', 'files': ['cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_sheepdog.py', 'cinder/volume/drivers/sheepdog.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4454b7c4456ff13c2b0eee6e3c665621bbd4ad26', 'message': 'move sheepdog exception\n\nThis patch moves the sheepdog exception to the sheepdog driver\n\nChange-Id: Ib1875c5ee99d6159ead7be620e75c5f2a8a5a164\n'}]",0,657859,4454b7c4456ff13c2b0eee6e3c665621bbd4ad26,51,36,1,5997,,,0,"move sheepdog exception

This patch moves the sheepdog exception to the sheepdog driver

Change-Id: Ib1875c5ee99d6159ead7be620e75c5f2a8a5a164
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/657859/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_sheepdog.py', 'cinder/volume/drivers/sheepdog.py']",3,4454b7c4456ff13c2b0eee6e3c665621bbd4ad26,driver_exceptions,"class SheepdogError(exception.VolumeBackendAPIException): message = _(""An error has occurred in SheepdogDriver. "" ""(Reason: %(reason)s)"") class SheepdogCmdError(SheepdogError): message = _(""(Command: %(cmd)s) "" ""(Return Code: %(exit_code)s) "" ""(Stdout: %(stdout)s) "" ""(Stderr: %(stderr)s)"") raise SheepdogError(reason=reason) raise SheepdogError(reason=reason) raise SheepdogCmdError( raise SheepdogError(reason=reason) raise SheepdogCmdError( except SheepdogCmdError as e: raise SheepdogError(reason=reason) except SheepdogCmdError as e: except SheepdogCmdError as e: except SheepdogCmdError as e: except SheepdogCmdError as e: except SheepdogCmdError as e: except SheepdogCmdError as e: except SheepdogCmdError as e: except SheepdogCmdError as e: except SheepdogCmdError as e:", raise exception.SheepdogError(reason=reason) raise exception.SheepdogError(reason=reason) raise exception.SheepdogCmdError( raise exception.SheepdogError(reason=reason) raise exception.SheepdogCmdError( except exception.SheepdogCmdError as e: raise exception.SheepdogError(reason=reason) except exception.SheepdogCmdError as e: except exception.SheepdogCmdError as e: except exception.SheepdogCmdError as e: except exception.SheepdogCmdError as e: except exception.SheepdogCmdError as e: except exception.SheepdogCmdError as e: except exception.SheepdogCmdError as e: except exception.SheepdogCmdError as e: except exception.SheepdogCmdError as e:,78,79
openstack%2Fcinder~master~I5612e9cddfcf6728a73239fffda5c3c489f1271d,openstack/cinder,master,I5612e9cddfcf6728a73239fffda5c3c489f1271d,Use assertNotIn to check dict item,MERGED,2019-05-08 08:55:41.000000000,2019-05-30 18:38:08.000000000,2019-05-16 06:42:14.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20190}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-08 08:55:41.000000000', 'files': ['cinder/tests/unit/api/v3/test_groups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/466f08b679ddcfb7841b3b1cb1baf002625cdfab', 'message': 'Use assertNotIn to check dict item\n\nAs I634dca85b378ea42bd2e49aeb12aadea59a929fd shows, we should\nuse assertNotIn to check dict item, instead of assertIsNone of\ndict.get()\n\nChange-Id: I5612e9cddfcf6728a73239fffda5c3c489f1271d\n'}]",0,657759,466f08b679ddcfb7841b3b1cb1baf002625cdfab,54,33,1,20190,,,0,"Use assertNotIn to check dict item

As I634dca85b378ea42bd2e49aeb12aadea59a929fd shows, we should
use assertNotIn to check dict item, instead of assertIsNone of
dict.get()

Change-Id: I5612e9cddfcf6728a73239fffda5c3c489f1271d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/657759/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/api/v3/test_groups.py'],1,466f08b679ddcfb7841b3b1cb1baf002625cdfab,dict_get," self.assertNotIn('volumes', res_dict['groups'][0]) self.assertNotIn('volumes', res_dict['groups'][0]) self.assertNotIn('volumes', res_dict['group']) self.assertNotIn('volumes', res_dict['group']) self.assertNotIn('project_id', res_dict['group'])"," self.assertIsNone(res_dict['groups'][0].get('volumes', None)) self.assertIsNone(res_dict['groups'][0].get('volumes', None)) self.assertIsNone(res_dict['group'].get('volumes', None)) self.assertIsNone(res_dict['group'].get('volumes', None)) self.assertIsNone(res_dict['group'].get('project_id', None))",5,5
openstack%2Fcinder~master~I9f881f88a1574b6b392e71ddf2f68d4aa7313793,openstack/cinder,master,I9f881f88a1574b6b392e71ddf2f68d4aa7313793,move Google backup exceptions,MERGED,2019-05-07 20:40:19.000000000,2019-05-30 18:38:05.000000000,2019-05-09 22:02:09.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30388}, {'_account_id': 30398}]","[{'number': 1, 'created': '2019-05-07 20:40:19.000000000', 'files': ['cinder/backup/drivers/gcs.py', 'cinder/exception.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe32529d5dab460fdfcf47b93ab92b0758828e59', 'message': 'move Google backup exceptions\n\nThis patch moves the Google backup driver exceptions\nto the gcs.py file\n\nChange-Id: I9f881f88a1574b6b392e71ddf2f68d4aa7313793\n'}]",0,657684,fe32529d5dab460fdfcf47b93ab92b0758828e59,61,36,1,5997,,,0,"move Google backup exceptions

This patch moves the Google backup driver exceptions
to the gcs.py file

Change-Id: I9f881f88a1574b6b392e71ddf2f68d4aa7313793
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/657684/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/drivers/gcs.py', 'cinder/exception.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py']",3,fe32529d5dab460fdfcf47b93ab92b0758828e59,driver_exceptions," self.assertRaises(google_dr.GCSApiFailure, self.assertRaises(google_dr.GCSOAuth2Failure, self.assertRaises(google_dr.GCSConnectionFailure,"," self.assertRaises(exception.GCSApiFailure, self.assertRaises(exception.GCSOAuth2Failure, self.assertRaises(exception.GCSConnectionFailure,",19,19
openstack%2Fcinder~stable%2Fpike~I77ed6e3caa5553193c3d886d86c52d23eb87b429,openstack/cinder,stable/pike,I77ed6e3caa5553193c3d886d86c52d23eb87b429,Remove LOCI publishing from the post pipeline,MERGED,2019-05-07 16:28:39.000000000,2019-05-30 18:38:02.000000000,2019-05-08 15:41:42.000000000,"[{'_account_id': 5997}, {'_account_id': 6593}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23253}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-07 16:28:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd707cbdd63969f5241ca9b3a6c0733c13a7dbfe', 'message': 'Remove LOCI publishing from the post pipeline\n\nDue to transitive rights changes in Zuul, the LOCI job that was\npublishing Cinder containers after every build is now causing an error\nwhen building the post pipeline graph that causes all post jobs to be\nskipped. This removes the job for now until a better solution is found\nby the team.\n\nChange-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)\n'}]",0,657637,bd707cbdd63969f5241ca9b3a6c0733c13a7dbfe,27,23,1,11904,,,0,"Remove LOCI publishing from the post pipeline

Due to transitive rights changes in Zuul, the LOCI job that was
publishing Cinder containers after every build is now causing an error
when building the post pipeline graph that causes all post jobs to be
skipped. This removes the job for now until a better solution is found
by the team.

Change-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/657637/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bd707cbdd63969f5241ca9b3a6c0733c13a7dbfe,,, post: jobs: - publish-loci-cinder,0,3
openstack%2Fcinder~stable%2Frocky~I77ed6e3caa5553193c3d886d86c52d23eb87b429,openstack/cinder,stable/rocky,I77ed6e3caa5553193c3d886d86c52d23eb87b429,Remove LOCI publishing from the post pipeline,MERGED,2019-05-07 16:28:07.000000000,2019-05-30 18:38:00.000000000,2019-05-08 05:48:39.000000000,"[{'_account_id': 5314}, {'_account_id': 6593}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-07 16:28:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/33742fff108d40bebb4ef313f60ffc8e829f8a04', 'message': 'Remove LOCI publishing from the post pipeline\n\nDue to transitive rights changes in Zuul, the LOCI job that was\npublishing Cinder containers after every build is now causing an error\nwhen building the post pipeline graph that causes all post jobs to be\nskipped. This removes the job for now until a better solution is found\nby the team.\n\nChange-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)\n'}]",0,657635,33742fff108d40bebb4ef313f60ffc8e829f8a04,58,22,1,11904,,,0,"Remove LOCI publishing from the post pipeline

Due to transitive rights changes in Zuul, the LOCI job that was
publishing Cinder containers after every build is now causing an error
when building the post pipeline graph that causes all post jobs to be
skipped. This removes the job for now until a better solution is found
by the team.

Change-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/657635/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,33742fff108d40bebb4ef313f60ffc8e829f8a04,,, post: jobs: - publish-loci-cinder,0,3
openstack%2Fcinder~master~I56fa1811dbfc0423db569c233118e99bbb76d553,openstack/cinder,master,I56fa1811dbfc0423db569c233118e99bbb76d553,Remove unused exception,MERGED,2019-05-06 19:09:00.000000000,2019-05-30 18:37:57.000000000,2019-05-07 15:26:45.000000000,"[{'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-06 19:09:00.000000000', 'files': ['cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/779979789c12d66686fd1fe163bf963c00502136', 'message': 'Remove unused exception\n\nThis patch removes an unused exception InvalidAttachment\n\nChange-Id: I56fa1811dbfc0423db569c233118e99bbb76d553\n'}]",0,657437,779979789c12d66686fd1fe163bf963c00502136,61,37,1,5997,,,0,"Remove unused exception

This patch removes an unused exception InvalidAttachment

Change-Id: I56fa1811dbfc0423db569c233118e99bbb76d553
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/657437/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/exception.py'],1,779979789c12d66686fd1fe163bf963c00502136,driver_exceptions,,"class InvalidAttachment(Invalid): message = _(""Invalid attachment: %(reason)s"") ",0,4
openstack%2Fcinder~master~Ie75babd057d71e31b442485d64eba8b2dc0b1809,openstack/cinder,master,Ie75babd057d71e31b442485d64eba8b2dc0b1809,Move NVMET driver exceptions to driver file,MERGED,2019-05-03 15:13:57.000000000,2019-05-30 18:37:54.000000000,2019-05-09 21:37:45.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-03 15:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f784278b15896772b04b46de1de2ba6c6b684985', 'message': 'Move driver exceptions to drivers\n\nThis patch migrates all of the driver specific exceptions from\nthe cinder/exception.py file to the respective driver files.\n\nChange-Id: Ie75babd057d71e31b442485d64eba8b2dc0b1809\n'}, {'number': 2, 'created': '2019-05-03 15:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57b193472a2fc7d8292e5321adfdfb9598b7fb5d', 'message': 'Move NVMET driver exceptions to driver file\n\nThis patch migrates the NVMET driver specific exceptions from\nthe cinder/exception.py file to the respective driver.\n\nChange-Id: Ie75babd057d71e31b442485d64eba8b2dc0b1809\n'}, {'number': 3, 'created': '2019-05-06 13:48:42.000000000', 'files': ['cinder/tests/unit/targets/test_nvmet_driver.py', 'cinder/exception.py', 'cinder/volume/targets/nvmet.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4dfca46ce807598d801e54473dff69f7dbcaf6b3', 'message': 'Move NVMET driver exceptions to driver file\n\nThis patch migrates the NVMET driver specific exceptions from\nthe cinder/exception.py file to the respective driver.\n\nChange-Id: Ie75babd057d71e31b442485d64eba8b2dc0b1809\n'}]",2,656957,4dfca46ce807598d801e54473dff69f7dbcaf6b3,66,39,3,5997,,,0,"Move NVMET driver exceptions to driver file

This patch migrates the NVMET driver specific exceptions from
the cinder/exception.py file to the respective driver.

Change-Id: Ie75babd057d71e31b442485d64eba8b2dc0b1809
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/656957/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/targets/test_nvmet_driver.py', 'cinder/exception.py', 'cinder/volume/targets/nvmet.py']",3,f784278b15896772b04b46de1de2ba6c6b684985,driver_exceptions,"class NVMETTargetAddError(exception.CinderException): message = ""Failed to add subsystem: %(subsystem)s"" class NVMETTargetDeleteError(exception.CinderException): message = ""Failed to delete subsystem: %(subsystem)s"" raise NVMETTargetAddError(subsystem=subsystem_name) raise NVMETTargetDeleteError(subsystem=subsystem_name)", raise exception.NVMETTargetAddError(subsystem=subsystem_name) raise exception.NVMETTargetDeleteError( subsystem=subsystem_name),12,14
openstack%2Fcinder~master~I3fea5d24692be8b8575379aff7b75a5479f314ef,openstack/cinder,master,I3fea5d24692be8b8575379aff7b75a5479f314ef,[Trivial fix]Remove unnecessary slash,MERGED,2019-05-05 09:33:32.000000000,2019-05-30 18:37:51.000000000,2019-05-30 15:59:29.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20190}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-05 09:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9dad6f36b38e67e48d23ee2c9d2c41c32405cb6', 'message': ""[Trivial fix]Remove unnecessary slash\n\nThis is to remove the unncessary slash when the line doesn't\nexceed the length of 79, to make the code more readable.\n\nChange-Id: I3fea5d24692be8b8575379aff7b75a5479f314ef\n""}, {'number': 2, 'created': '2019-05-06 02:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2bb40c9fdaf8cd073ddd573ab6191eab84d222e', 'message': ""[Trivial fix]Remove unnecessary slash\n\nThis is to remove the unncessary slash when the line doesn't\nexceed the length of 79, to make the code more readable.\n\nChange-Id: I3fea5d24692be8b8575379aff7b75a5479f314ef\n""}, {'number': 3, 'created': '2019-05-06 05:59:32.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/api/v2/router.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/prophetstor/dpl_iscsi.py', 'cinder/api/v3/router.py', 'cinder/volume/targets/lio.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/27afe7147681d7d7798de03ffdf710d20217513b', 'message': ""[Trivial fix]Remove unnecessary slash\n\nThis is to remove the unncessary slash when the line doesn't\nexceed the length of 79, to make the code more readable.\n\nChange-Id: I3fea5d24692be8b8575379aff7b75a5479f314ef\n""}]",4,657219,27afe7147681d7d7798de03ffdf710d20217513b,106,37,3,20190,,,0,"[Trivial fix]Remove unnecessary slash

This is to remove the unncessary slash when the line doesn't
exceed the length of 79, to make the code more readable.

Change-Id: I3fea5d24692be8b8575379aff7b75a5479f314ef
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/657219/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/api/v2/router.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/prophetstor/dpl_iscsi.py', 'cinder/api/v3/router.py', 'cinder/volume/targets/lio.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/drivers/lvm.py']",9,f9dad6f36b38e67e48d23ee2c9d2c41c32405cb6,slash, vg_dict = next(vg for vg in vg_list if vg['name'] == self.vg.vg_name), vg_dict = \ next(vg for vg in vg_list if vg['name'] == self.vg.vg_name),11,22
openstack%2Fcinder~stable%2Fqueens~If6b5ad23c899032dbf7535ed91251cbfe54a223a,openstack/cinder,stable/queens,If6b5ad23c899032dbf7535ed91251cbfe54a223a,NetApp: Return all iSCSI targets-portals,MERGED,2019-04-09 10:13:07.000000000,2019-05-30 18:37:43.000000000,2019-05-17 14:39:55.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-04-09 10:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ef3525fafa6d86467d88b80484c15858e63d915', 'message': ""NetApp: Return all iSCSI targets-portals\n\nNetApp iSCSI drivers use discovery mode for multipathing, which means\nthat we'll fail to attach a volume if the IP provided for the discovery\nis not accessible from the host.\n\nSomething similar would happen when using singlepath, as we are only\ntrying to connect to one target/portal.\n\nThis patch changes NetApp drivers so the return target_iqns,\ntarget_portals, and target_luns parameters whenever there are more than\none option.\n\nCloses-Bug: #1806398\nChange-Id: If6b5ad23c899032dbf7535ed91251cbfe54a223a\n(cherry picked from commit c65869626594522231709d9c90a30524a1f0d18c)\n""}, {'number': 2, 'created': '2019-05-14 18:13:50.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/eseries/test_driver.py', 'cinder/volume/drivers/netapp/eseries/library.py', 'cinder/volume/drivers/netapp/utils.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'releasenotes/notes/netapp-non-discovery-19af4e10f7b190ea.yaml', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7cc7322a0fb5a9c7f965bdf80de4c0cf71fdfe37', 'message': ""NetApp: Return all iSCSI targets-portals\n\nNetApp iSCSI drivers use discovery mode for multipathing, which means\nthat we'll fail to attach a volume if the IP provided for the discovery\nis not accessible from the host.\n\nSomething similar would happen when using singlepath, as we are only\ntrying to connect to one target/portal.\n\nThis patch changes NetApp drivers so the return target_iqns,\ntarget_portals, and target_luns parameters whenever there are more than\none option.\n\nChanges to be committed:\nmodified:   cinder/volume/drivers/netapp/eseries/library.py\nAs part eseries driver  code is still in the tree.  Need to propose\nan additional patch to the stable branch, notice that patch\nwould not be in master, even though both have the same issue.\n\nCloses-Bug: #1806398\nChange-Id: If6b5ad23c899032dbf7535ed91251cbfe54a223a\n(cherry picked from commit c65869626594522231709d9c90a30524a1f0d18c)\n(cherry picked from commit dee7292b0849e3d6e28941c8d203dfd39692f0c6)\n(cherry picked from commit 8be2bb6d2a31b157a5247de9068806fd11ac4075)\n""}]",1,651184,7cc7322a0fb5a9c7f965bdf80de4c0cf71fdfe37,35,19,2,21570,,,0,"NetApp: Return all iSCSI targets-portals

NetApp iSCSI drivers use discovery mode for multipathing, which means
that we'll fail to attach a volume if the IP provided for the discovery
is not accessible from the host.

Something similar would happen when using singlepath, as we are only
trying to connect to one target/portal.

This patch changes NetApp drivers so the return target_iqns,
target_portals, and target_luns parameters whenever there are more than
one option.

Changes to be committed:
modified:   cinder/volume/drivers/netapp/eseries/library.py
As part eseries driver  code is still in the tree.  Need to propose
an additional patch to the stable branch, notice that patch
would not be in master, even though both have the same issue.

Closes-Bug: #1806398
Change-Id: If6b5ad23c899032dbf7535ed91251cbfe54a223a
(cherry picked from commit c65869626594522231709d9c90a30524a1f0d18c)
(cherry picked from commit dee7292b0849e3d6e28941c8d203dfd39692f0c6)
(cherry picked from commit 8be2bb6d2a31b157a5247de9068806fd11ac4075)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/651184/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/volume/drivers/netapp/utils.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'releasenotes/notes/netapp-non-discovery-19af4e10f7b190ea.yaml', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py']",8,2ef3525fafa6d86467d88b80484c15858e63d915,bug/1806398," [fake.ISCSI_FAKE_IQN, fake.ISCSI_FAKE_IQN2], [fake.ISCSI_FAKE_ADDRESS_IPV4, fake.ISCSI_FAKE_ADDRESS2_IPV4], [fake.ISCSI_FAKE_PORT, fake.ISCSI_FAKE_PORT]) fake.ISCSI_MP_TARGET_INFO_DICT) def test_iscsi_connection_properties_single_iqn(self): actual_properties = na_utils.get_iscsi_connection_properties( fake.ISCSI_FAKE_LUN_ID, fake.ISCSI_FAKE_VOLUME, fake.ISCSI_FAKE_IQN, [fake.ISCSI_FAKE_ADDRESS_IPV4, fake.ISCSI_FAKE_ADDRESS2_IPV4], [fake.ISCSI_FAKE_PORT, fake.ISCSI_FAKE_PORT]) actual_properties_mapped = actual_properties['data'] expected = fake.ISCSI_MP_TARGET_INFO_DICT.copy() expected['target_iqns'][1] = expected['target_iqns'][0] self.assertDictEqual(actual_properties_mapped, fake.ISCSI_MP_TARGET_INFO_DICT) [fake.ISCSI_FAKE_ADDRESS_IPV4], [fake.ISCSI_FAKE_PORT]) self.assertDictEqual(actual_properties_mapped, fake.FC_ISCSI_TARGET_INFO_DICT) fake.ISCSI_FAKE_IQN, [fake.ISCSI_FAKE_ADDRESS_IPV4], [fake.ISCSI_FAKE_PORT]) [fake.ISCSI_FAKE_ADDRESS_IPV6], [fake.ISCSI_FAKE_PORT])"," fake.ISCSI_FAKE_IQN, fake.ISCSI_FAKE_ADDRESS_IPV4, fake.ISCSI_FAKE_PORT) fake.FC_ISCSI_TARGET_INFO_DICT) fake.ISCSI_FAKE_ADDRESS_IPV4, fake.ISCSI_FAKE_PORT) fake.ISCSI_FAKE_IQN, fake.ISCSI_FAKE_ADDRESS_IPV4, fake.ISCSI_FAKE_PORT) fake.ISCSI_FAKE_ADDRESS_IPV6, fake.ISCSI_FAKE_PORT)",100,97
openstack%2Fcinder~master~Id03022b2871cbb13a9c80521dff21f52b06d5b69,openstack/cinder,master,Id03022b2871cbb13a9c80521dff21f52b06d5b69,move smbfs exceptions,MERGED,2019-05-09 18:54:06.000000000,2019-05-30 18:37:40.000000000,2019-05-20 20:34:49.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-09 18:54:06.000000000', 'files': ['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e038bc2e94ce65aa3a004632dcc867b4aee59ae', 'message': 'move smbfs exceptions\n\nThis patch moves the smbfs driver exceptions to the driver.\n\nChange-Id: Id03022b2871cbb13a9c80521dff21f52b06d5b69\n'}]",0,658185,7e038bc2e94ce65aa3a004632dcc867b4aee59ae,44,32,1,5997,,,0,"move smbfs exceptions

This patch moves the smbfs driver exceptions to the driver.

Change-Id: Id03022b2871cbb13a9c80521dff21f52b06d5b69
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/658185/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'cinder/exception.py']",3,7e038bc2e94ce65aa3a004632dcc867b4aee59ae,driver_exceptions,,"# Smbfs driver class SmbfsException(RemoteFSException): message = _(""Unknown SMBFS exception."") class SmbfsNoSharesMounted(RemoteFSNoSharesMounted): message = _(""No mounted SMBFS shares found."") class SmbfsNoSuitableShareFound(RemoteFSNoSuitableShareFound): message = _(""There is no share which can host %(volume_size)sG."") ",23,24
openstack%2Fcinder~master~I2a36a4b501fbeba07ef5adaa80171337066d58ce,openstack/cinder,master,I2a36a4b501fbeba07ef5adaa80171337066d58ce,move synology driver exceptions,MERGED,2019-05-06 20:02:21.000000000,2019-05-30 18:37:37.000000000,2019-05-09 12:18:44.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-06 20:02:21.000000000', 'files': ['cinder/volume/drivers/synology/synology_iscsi.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_iscsi.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/467b0441d0ee8b1e1c69870b2adec579be120aec', 'message': 'move synology driver exceptions\n\nThis patch moves the synology driver exceptions to the\nsynology_common.py file.\n\nChange-Id: I2a36a4b501fbeba07ef5adaa80171337066d58ce\n'}]",0,657446,467b0441d0ee8b1e1c69870b2adec579be120aec,42,35,1,5997,,,0,"move synology driver exceptions

This patch moves the synology driver exceptions to the
synology_common.py file.

Change-Id: I2a36a4b501fbeba07ef5adaa80171337066d58ce
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/657446/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/synology/synology_iscsi.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_iscsi.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_common.py']",5,467b0441d0ee8b1e1c69870b2adec579be120aec,driver_exceptions," self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoLUNNotExist(message='dont care')])) self.assertRaises(common.SynoLUNNotExist, common.SynoLUNNotExist(message='dont care')])) self.assertRaises(common.SynoLUNNotExist, (common.SynoLUNNotExist)) common.SynoAuthError(message='dont care'))) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care'))) self.assertRaises(common.SynoAuthError, common.SynoLUNNotExist(message='dont care')))) self.assertRaises(common.SynoLUNNotExist, self.assertRaises(common.SynoAPIHTTPError, common.SynoAuthError(message='dont care'), self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, common.SynoLUNNotExist(message='dont care'), common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError, mock.Mock(side_effect=common.SynoAuthError(reason='dont care'))) self.assertRaises(common.SynoAuthError, common.SynoAuthError(message='dont care')])) self.assertRaises(common.SynoAuthError,"," self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoLUNNotExist(message='dont care')])) self.assertRaises(exception.SynoLUNNotExist, exception.SynoLUNNotExist(message='dont care')])) self.assertRaises(exception.SynoLUNNotExist, (exception.SynoLUNNotExist)) exception.SynoAuthError(message='dont care'))) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care'))) self.assertRaises(exception.SynoAuthError, exception.SynoLUNNotExist(message='dont care')))) self.assertRaises(exception.SynoLUNNotExist, self.assertRaises(exception.SynoAPIHTTPError, exception.SynoAuthError(message='dont care'), self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, exception.SynoLUNNotExist(message='dont care'), exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError, mock.Mock(side_effect=exception.SynoAuthError(reason='dont care'))) self.assertRaises(exception.SynoAuthError, exception.SynoAuthError(message='dont care')])) self.assertRaises(exception.SynoAuthError,",66,68
openstack%2Fpuppet-tripleo~master~Iab5f11c3065ff34a3543621554e7f05161d069f2,openstack/puppet-tripleo,master,Iab5f11c3065ff34a3543621554e7f05161d069f2,Fix tripleo::haproxy::stats to be more correct and flexible,MERGED,2019-05-18 19:22:33.000000000,2019-05-30 18:36:20.000000000,2019-05-30 16:48:14.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-18 19:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bfafeac43fd98d374b3ae43b231e91d13ab560b2', 'message': ""WIP Fix haproxy stats binding\n\nTodo:\n- need to test binding to another network and verify it all works correctly\n- also, ideally, we'd still let the ctlplane vip be a bind address,\n  maybe with a param?\n\nDepends-On: If2ee15f1e0fcf6d077cba524fad75dec7e1144b6\nChange-Id: Iab5f11c3065ff34a3543621554e7f05161d069f2\n""}, {'number': 2, 'created': '2019-05-19 06:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/00fa6ba6adb70b3e5548430a22a5115591f33e62', 'message': ""WIP Fix haproxy stats binding\n\nTodo:\n- need to test binding to another network and verify it all works correctly\n- also, ideally, we'd still let the ctlplane vip be a bind address,\n  maybe with a param?\n\nDepends-On: If2ee15f1e0fcf6d077cba524fad75dec7e1144b6\nChange-Id: Iab5f11c3065ff34a3543621554e7f05161d069f2\n""}, {'number': 3, 'created': '2019-05-24 12:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8dd1949d3c51803c4466130c8de0e4b3af022b0e', 'message': ""Fix tripleo::haproxy::stats to be more correct and flexible\n\nIn this change we do three things:\n1) We make the class parameter 'ip' also be a list so that multiple\n   bind addresses are possible\n2) We remove the hard coded 1993 and move it to a parameter\n3) Instead of passing only the controller_virtual_ip as the only bind\n   address on all controllers which makes no sense (see linked LP)\n   we also bind to the IP specified in the hiera key\n   'tripleo::haproxy::haproxy_stats_bind_address'.\n\nTested this change with the accompanying THT patch and correctly\ngot the haproxy stats on a custom network (internal_api and the\ncontroller vip):\n\nlisten haproxy.stats\n  bind fd00:fd00:fd00:2000::16:1993 transparent\n  bind 192.168.24.15:1993 transparent\n  mode http\n  stats enable\n  stats uri /\n  stats auth admin:password\n\nI did not remove the controller_virtual_ip binding as that might be\na breaking change for operators. We could think about deprecating it\nand removing it eventually.\n\nRelated-Bug: #1830334\nChange-Id: Iab5f11c3065ff34a3543621554e7f05161d069f2\n""}, {'number': 4, 'created': '2019-05-28 06:58:05.000000000', 'files': ['manifests/haproxy.pp', 'manifests/haproxy/stats.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e76519d2c8324e71db1871e2a9219eb66d0ce5c4', 'message': ""Fix tripleo::haproxy::stats to be more correct and flexible\n\nIn this change we do three things:\n1) We make the class parameter 'ip' also be a list so that multiple\n   bind addresses are possible\n2) We remove the hard coded 1993 and move it to a parameter\n3) Instead of passing only the controller_virtual_ip as the only bind\n   address on all controllers which makes no sense (see linked LP)\n   we also bind to the IP specified in the hiera key\n   'tripleo::haproxy::haproxy_stats_bind_address'.\n\nTested this change with the accompanying THT patch and correctly\ngot the haproxy stats on a custom network (internal_api and the\ncontroller vip):\n\nlisten haproxy.stats\n  bind fd00:fd00:fd00:2000::16:1993 transparent\n  bind 192.168.24.15:1993 transparent\n  mode http\n  stats enable\n  stats uri /\n  stats auth admin:password\n\nI did not remove the controller_virtual_ip binding as that might be\na breaking change for operators. We could think about deprecating it\nand removing it eventually.\n\nRelated-Bug: #1830334\nChange-Id: Iab5f11c3065ff34a3543621554e7f05161d069f2\n""}]",0,659926,e76519d2c8324e71db1871e2a9219eb66d0ce5c4,26,5,4,20172,,,0,"Fix tripleo::haproxy::stats to be more correct and flexible

In this change we do three things:
1) We make the class parameter 'ip' also be a list so that multiple
   bind addresses are possible
2) We remove the hard coded 1993 and move it to a parameter
3) Instead of passing only the controller_virtual_ip as the only bind
   address on all controllers which makes no sense (see linked LP)
   we also bind to the IP specified in the hiera key
   'tripleo::haproxy::haproxy_stats_bind_address'.

Tested this change with the accompanying THT patch and correctly
got the haproxy stats on a custom network (internal_api and the
controller vip):

listen haproxy.stats
  bind fd00:fd00:fd00:2000::16:1993 transparent
  bind 192.168.24.15:1993 transparent
  mode http
  stats enable
  stats uri /
  stats auth admin:password

I did not remove the controller_virtual_ip binding as that might be
a breaking change for operators. We could think about deprecating it
and removing it eventually.

Related-Bug: #1830334
Change-Id: Iab5f11c3065ff34a3543621554e7f05161d069f2
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/26/659926/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,bfafeac43fd98d374b3ae43b231e91d13ab560b2,haproxy_stats_fix," ip => hiera('tripleo::haproxy::stats::bind_address', $controller_virtual_ip),"," ip => $controller_virtual_ip,",1,1
openstack%2Fproject-config~master~I6a69ee28b4d2770c755e20ad7e720f1771905c56,openstack/project-config,master,I6a69ee28b4d2770c755e20ad7e720f1771905c56,Publish infra-specs on docs.opendev.org,MERGED,2019-05-30 16:47:42.000000000,2019-05-30 18:34:14.000000000,2019-05-30 18:34:14.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 16:47:42.000000000', 'files': ['specs/specs.yaml', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2013b9dc4952d7e3a4c10d34cb3ac03ea951f785', 'message': 'Publish infra-specs on docs.opendev.org\n\nUse the opendev tox-docs and publish job to publish the content on\ndocs.opendev.org.\n\nRemove infra-specs from specs.openstack.org.\n\nChange-Id: I6a69ee28b4d2770c755e20ad7e720f1771905c56\n'}]",0,662263,2013b9dc4952d7e3a4c10d34cb3ac03ea951f785,7,3,1,6547,,,0,"Publish infra-specs on docs.opendev.org

Use the opendev tox-docs and publish job to publish the content on
docs.opendev.org.

Remove infra-specs from specs.openstack.org.

Change-Id: I6a69ee28b4d2770c755e20ad7e720f1771905c56
",git fetch https://review.opendev.org/openstack/project-config refs/changes/63/662263/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/specs.yaml', 'zuul.d/projects.yaml']",2,2013b9dc4952d7e3a4c10d34cb3ac03ea951f785,infra-specs, check: jobs: - opendev-tox-docs gate: jobs: - opendev-tox-docs promote: jobs: - opendev-promote-docs, templates: - openstack-specs-jobs,9,4
openstack%2Fnova~stable%2Fqueens~I9d6478f492351b58aa87b8f56e907ee633d6d1c6,openstack/nova,stable/queens,I9d6478f492351b58aa87b8f56e907ee633d6d1c6,Add functional confirm_migration_error test,MERGED,2019-05-09 15:36:54.000000000,2019-05-30 18:33:51.000000000,2019-05-30 18:33:50.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9373}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14567}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 27679}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-09 15:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9f71c33a4c8e7385381f67ac261a8b061eaeeb9', 'message': '[DEBUG] Add functional confirm_migration_error test\n\nThis test checks if allocations have been\nsuccessfully cleaned up upon the driver failing\nduring ""confirm_migration"".\n\nChange-Id: I9d6478f492351b58aa87b8f56e907ee633d6d1c6\n'}, {'number': 2, 'created': '2019-05-10 20:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2e282ebc9774f41f62dc072ca82cbdab1c89fcc', 'message': '[DEBUG] Add functional confirm_migration_error test\n\nThis test checks if allocations have been\nsuccessfully cleaned up upon the driver failing\nduring ""confirm_migration"".\n\nChange-Id: I9d6478f492351b58aa87b8f56e907ee633d6d1c6\n'}, {'number': 3, 'created': '2019-05-13 11:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ac97672b05c90c9c1cf1f69410297b9a8d3e1d5', 'message': '[DEBUG] Add functional confirm_migration_error test\n\nThis test checks if allocations have been\nsuccessfully cleaned up upon the driver failing\nduring ""confirm_migration"".\n\nChange-Id: I9d6478f492351b58aa87b8f56e907ee633d6d1c6\n'}, {'number': 4, 'created': '2019-05-24 16:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5389a4b41c0d361fec86fd0e42accb8b6279eb2', 'message': 'Add functional confirm_migration_error test\n\nThis test checks if allocations have been\nsuccessfully cleaned up upon the driver failing\nduring ""confirm_migration"".\n\nThis backport is not clean due to change\nIf6aa37d9b6b48791e070799ab026c816fda4441c, which\nrefactored the testing framework. Within the refactor,\nnew assertion methods were added and method\n""assertFlavorMatchesAllocation"" was modified.\nThis backport needed to be adapted in order to\nbe compatible with the testing framework prior to\nIf6aa37d9b6b48791e070799ab026c816fda4441c.\n\nChange-Id: I9d6478f492351b58aa87b8f56e907ee633d6d1c6\nRelated-bug: #1821594\n(cherry picked from commit 873ac499c50125adc2fb49728d936922f9acf4a9)\n(cherry picked from commit d7d7f115430c7ffeb88ec9dcd155ac69b29d7513)\n(cherry picked from commit 01bfb7863c80c43538632952ec9f1728f0b412d6)\n'}, {'number': 5, 'created': '2019-05-24 19:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6735419d55e10ff7f5eb349665968dddaef00f49', 'message': 'Add functional confirm_migration_error test\n\nThis test checks if allocations have been\nsuccessfully cleaned up upon the driver failing\nduring ""confirm_migration"".\n\nNOTE(mriedem): The _wait_until_deleted helper method\nis modified here to include the changes from patch\nI4ced19bd9259f0b5a50b89dd5908abe35ca73894 in Rocky\notherwise the test fails.\n\nChange-Id: I9d6478f492351b58aa87b8f56e907ee633d6d1c6\nRelated-bug: #1821594\n(cherry picked from commit 873ac499c50125adc2fb49728d936922f9acf4a9)\n(cherry picked from commit d7d7f115430c7ffeb88ec9dcd155ac69b29d7513)\n(cherry picked from commit 01bfb7863c80c43538632952ec9f1728f0b412d6)\n'}, {'number': 6, 'created': '2019-05-29 00:54:39.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/944b24f462f8785a5c039efb74eec5310ef7729e', 'message': 'Add functional confirm_migration_error test\n\nThis test checks if allocations have been\nsuccessfully cleaned up upon the driver failing\nduring ""confirm_migration"".\n\nNOTE(mriedem): The _wait_until_deleted helper method\nis modified here to include the changes from patch\nI4ced19bd9259f0b5a50b89dd5908abe35ca73894 in Rocky\notherwise the test fails.\n\nChange-Id: I9d6478f492351b58aa87b8f56e907ee633d6d1c6\nRelated-bug: #1821594\n(cherry picked from commit 873ac499c50125adc2fb49728d936922f9acf4a9)\n(cherry picked from commit d7d7f115430c7ffeb88ec9dcd155ac69b29d7513)\n(cherry picked from commit 01bfb7863c80c43538632952ec9f1728f0b412d6)\n'}]",0,658136,944b24f462f8785a5c039efb74eec5310ef7729e,40,11,6,14567,,,0,"Add functional confirm_migration_error test

This test checks if allocations have been
successfully cleaned up upon the driver failing
during ""confirm_migration"".

NOTE(mriedem): The _wait_until_deleted helper method
is modified here to include the changes from patch
I4ced19bd9259f0b5a50b89dd5908abe35ca73894 in Rocky
otherwise the test fails.

Change-Id: I9d6478f492351b58aa87b8f56e907ee633d6d1c6
Related-bug: #1821594
(cherry picked from commit 873ac499c50125adc2fb49728d936922f9acf4a9)
(cherry picked from commit d7d7f115430c7ffeb88ec9dcd155ac69b29d7513)
(cherry picked from commit 01bfb7863c80c43538632952ec9f1728f0b412d6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/658136/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,c9f71c33a4c8e7385381f67ac261a8b061eaeeb9,bug/1821594," def test_migration_confirm_resize_error(self): self.failed_hostname = None source_hostname = self.compute1.host dest_hostname = self.compute2.host source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) server = self._boot_and_check_allocations(self.flavor1, source_hostname) self._move_and_check_allocations( server, request={'migrate': None}, old_flavor=self.flavor1, new_flavor=self.flavor1, source_rp_uuid=source_rp_uuid, dest_rp_uuid=dest_rp_uuid) # Mock failure def fake_confirm_migration(context, migration, instance, network_info): self.failed_hostname = source_hostname raise exception.MigrationPreCheckError( reason='test_migration_confirm_resize_error') with mock.patch('nova.virt.fake.FakeDriver.' 'confirm_migration', side_effect=fake_confirm_migration): # Confirm the migration/resize and check the usages post = {'confirmResize': None} self.api.post_server_action( server['id'], post, check_response_status=[204]) server = self._wait_for_state_change(self.api, server, 'ERROR') # After confirming and error, we should have an allocation only on the # destination host self.assertFlavorMatchesUsage(dest_rp_uuid, self.flavor1) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self._run_periodics() # Check we're still accurate after running the periodics self.assertFlavorMatchesUsage(dest_rp_uuid, self.flavor1) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self._delete_and_check_allocations(server) ",,55,0
openstack%2Fnova~master~Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba,openstack/nova,master,Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba,Remove mox in unit/network/test_neutronv2.py (12),MERGED,2018-06-18 02:09:23.000000000,2019-05-30 18:33:40.000000000,2019-05-30 18:33:40.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-18 02:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcc29bdb16f2fa90a4607f2f1e2a2a48f2e87bbf', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal\n'}, {'number': 2, 'created': '2018-06-26 04:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec81698e1d3165a49b3599e7f84bc62444dda8ea', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal\n'}, {'number': 3, 'created': '2018-06-27 23:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f116df2685ac3afeb6ee0e79fe360be8fba4cb5', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal\n'}, {'number': 4, 'created': '2018-07-06 06:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ceff08bf718d1b2129bd9003377a70561e140cc', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal\n'}, {'number': 5, 'created': '2018-07-12 07:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13eb85ddc8eaa00632dbd98da9c4c0e7969ed1cd', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal\n'}, {'number': 6, 'created': '2018-07-20 01:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ca87ccad86e3015077f08300f3cb434baf25bd3', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal\n'}, {'number': 7, 'created': '2018-07-23 03:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f1deaa923b88ba81ed7e81d7eacb17b78ee3a11', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal\n'}, {'number': 8, 'created': '2018-07-29 23:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59f11f73be9ca2786cbf02267ba8bbec56e3aa81', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal\n'}, {'number': 9, 'created': '2018-08-16 23:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00dec168b27209b69c60da2895083f7c93060f56', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 10, 'created': '2018-08-28 23:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc2f17e48fd844067b072a9443f1fe0e67689e80', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 11, 'created': '2018-09-17 23:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef2982ccda1c05f0806092510742bc582b032358', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 12, 'created': '2018-10-09 00:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f35f424c5add3c17a85704676dcd00344aee048c', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 13, 'created': '2018-10-22 00:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7af5cb62372c604b312c399ce54458ef67084bf2', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 14, 'created': '2018-11-26 05:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eead76ac20af242420be314ba712e2a1ade9e489', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 15, 'created': '2018-12-11 01:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65fc3450a82064c6d98cac1c331c42d94c9eed25', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 16, 'created': '2018-12-20 04:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c375951b2c750323248e632c5bec678e6939260', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 17, 'created': '2019-01-04 02:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6399874f09b1a9d2270be6284f268157e5d4a336', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 18, 'created': '2019-01-17 02:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30a3835fd27bc89c245e820a38b08699c244ffbc', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 19, 'created': '2019-01-25 02:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55f61773e4b73e076d91ba6958b845006c47179e', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 20, 'created': '2019-01-31 00:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17e791fcb6f77b804c7355fbb70afb010e095274', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 21, 'created': '2019-02-07 02:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffed6cdf2e064ad86130cb336f3c322e73de50e7', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 22, 'created': '2019-02-15 07:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36b38ecc06a324c2c644c8e8fcb5ac5d3c9212a9', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 23, 'created': '2019-03-01 03:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aef6d65220de4a58d677d67fffce1129618b226', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 24, 'created': '2019-03-04 01:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32fb8a6cfae6991b45f1d0a08edb824bdd449eea', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 25, 'created': '2019-03-11 01:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1a095ea3aa94a1d731ec4510d6a547fe9ddcf26', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-stein\n'}, {'number': 26, 'created': '2019-03-25 05:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d7c677c2eea8f6f065a1a84cb1b4695dde23f5a', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-train\n'}, {'number': 27, 'created': '2019-03-25 05:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f5f6ad3ee3d0f914aadf8fd3e73222fb22d9c7e', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-train\n'}, {'number': 28, 'created': '2019-04-01 07:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf04f2f87d8ad9a639c6e592b498a0bf272f880b', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-train\n'}, {'number': 29, 'created': '2019-04-12 00:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8296f5c15bd9bc956c4470e5d7ad8c3b718bbb2d', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-train\n'}, {'number': 30, 'created': '2019-04-22 07:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba39b5861a25745406feb2efec79a72beb660cde', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-train\n'}, {'number': 31, 'created': '2019-05-04 21:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f395f1407bb7e43f56d8f6ec6f69d19ccd04fa96', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-train\n'}, {'number': 32, 'created': '2019-05-13 04:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d584c649b3155de62c982ecb89d4904df4ae1f33', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-train\n'}, {'number': 33, 'created': '2019-05-27 22:04:44.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a6c50bf7e0ea909553b0f30316e9df4ed0745e66', 'message': 'Remove mox in unit/network/test_neutronv2.py (12)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_port_no_subnet_id\n* test_validate_networks_no_subnet_id\n* test_validate_networks_ports_in_same_network_enable\n* test_validate_networks_ports_not_in_same_network\n* test_validate_networks_no_quota\n\nChange-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba\nImplements: blueprint mox-removal-train\n'}]",0,576019,a6c50bf7e0ea909553b0f30316e9df4ed0745e66,296,12,33,7634,,,0,"Remove mox in unit/network/test_neutronv2.py (12)

Replace mox with mock in the following methods
in the TestNeutronv2 class
in nova/tests/unit/network/test_neutronv2.py.
Then moves the methods to the TestNeutronv2WithMock class.

* test_validate_networks_port_no_subnet_id
* test_validate_networks_no_subnet_id
* test_validate_networks_ports_in_same_network_enable
* test_validate_networks_ports_not_in_same_network
* test_validate_networks_no_quota

Change-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba
Implements: blueprint mox-removal-train
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/576019/33 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/network/test_neutronv2.py'],1,bcc29bdb16f2fa90a4607f2f1e2a2a48f2e87bbf,bp/mox-removal-train," @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_port_no_subnet_id(self, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client port_a = self.port_data3[0] port_a['device_id'] = None port_a['device_owner'] = None requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(port_id=port_a['id'])]) mocked_client.show_port.return_value = {'port': port_a} self.assertRaises(exception.PortRequiresFixedIP, self.api.validate_networks, self.context, requested_networks, 1) mock_get_client.assert_called_once_with(self.context) mocked_client.show_port.assert_called_once_with(port_a['id']) @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_no_subnet_id(self, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id='his_netid4')]) ids = ['his_netid4'] mocked_client.list_networks.return_value = {'networks': self.nets4} self.assertRaises(exception.NetworkRequiresSubnet, self.api.validate_networks, self.context, requested_networks, 1) mock_get_client.assert_called_once_with(self.context) mocked_client.list_networks.assert_called_once_with(id=ids) @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_ports_in_same_network_enable(self, mock_get_client): # Verify that duplicateNetworks exception is not thrown when ports # on same duplicate network are passed to validate_networks. mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client port_a = self.port_data3[0] port_a['fixed_ips'] = {'ip_address': '10.0.0.2', 'subnet_id': 'subnet_id'} port_b = self.port_data1[0] self.assertEqual(port_a['network_id'], port_b['network_id']) for port in [port_a, port_b]: port['device_id'] = None port['device_owner'] = None requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(port_id=port_a['id']), objects.NetworkRequest(port_id=port_b['id'])]) mocked_client.show_port.side_effect = [{'port': port_a}, {'port': port_b}] self.api.validate_networks(self.context, requested_networks, 1) mock_get_client.assert_called_once_with(self.context) mocked_client.show_port.assert_has_calls([mock.call(port_a['id']), mock.call(port_b['id'])]) self.assertEqual(2, mocked_client.show_port.call_count) @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_ports_not_in_same_network(self, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client port_a = self.port_data3[0] port_a['fixed_ips'] = {'ip_address': '10.0.0.2', 'subnet_id': 'subnet_id'} port_b = self.port_data2[1] self.assertNotEqual(port_a['network_id'], port_b['network_id']) for port in [port_a, port_b]: port['device_id'] = None port['device_owner'] = None requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(port_id=port_a['id']), objects.NetworkRequest(port_id=port_b['id'])]) mocked_client.show_port.side_effect = [{'port': port_a}, {'port': port_b}] self.api.validate_networks(self.context, requested_networks, 1) mock_get_client.assert_called_once_with(self.context) mocked_client.show_port.assert_has_calls([mock.call(port_a['id']), mock.call(port_b['id'])]) self.assertEqual(2, mocked_client.show_port.call_count) @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_no_quota(self, mock_get_client): # Test validation for a request for one instance needing # two ports, where the quota is 2 and 2 ports are in use # => instances which can be created = 0 mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id=uuids.my_netid1), objects.NetworkRequest(network_id=uuids.my_netid2)]) ids = [uuids.my_netid1, uuids.my_netid2] mocked_client.list_networks.return_value = {'networks': self.nets2} mocked_client.show_quota.return_value = {'quota': {'port': 2}} mocked_client.list_ports.return_value = {'ports': self.port_data2} max_count = self.api.validate_networks(self.context, requested_networks, 1) self.assertEqual(0, max_count) mock_get_client.assert_called_once_with(self.context) mocked_client.list_networks.assert_called_once_with(id=ids) mocked_client.show_quota.assert_called_once_with(uuids.my_tenant) mocked_client.list_ports.assert_called_once_with( tenant_id=uuids.my_tenant, fields=['id']) "," def test_validate_networks_port_no_subnet_id(self): port_a = self.port_data3[0] port_a['device_id'] = None port_a['device_owner'] = None requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(port_id=port_a['id'])]) neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.show_port(port_a['id']).AndReturn({'port': port_a}) self.mox.ReplayAll() api = neutronapi.API() self.assertRaises(exception.PortRequiresFixedIP, api.validate_networks, self.context, requested_networks, 1) def test_validate_networks_no_subnet_id(self): requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id='his_netid4')]) ids = ['his_netid4'] neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.list_networks( id=mox.SameElementsAs(ids)).AndReturn( {'networks': self.nets4}) self.mox.ReplayAll() api = neutronapi.API() self.assertRaises(exception.NetworkRequiresSubnet, api.validate_networks, self.context, requested_networks, 1) def test_validate_networks_ports_in_same_network_enable(self): # Verify that duplicateNetworks exception is not thrown when ports # on same duplicate network are passed to validate_networks. port_a = self.port_data3[0] port_a['fixed_ips'] = {'ip_address': '10.0.0.2', 'subnet_id': 'subnet_id'} port_b = self.port_data1[0] self.assertEqual(port_a['network_id'], port_b['network_id']) for port in [port_a, port_b]: port['device_id'] = None port['device_owner'] = None requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(port_id=port_a['id']), objects.NetworkRequest(port_id=port_b['id'])]) neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.show_port(port_a['id']).AndReturn( {'port': port_a}) self.moxed_client.show_port(port_b['id']).AndReturn( {'port': port_b}) self.mox.ReplayAll() api = neutronapi.API() api.validate_networks(self.context, requested_networks, 1) def test_validate_networks_ports_not_in_same_network(self): port_a = self.port_data3[0] port_a['fixed_ips'] = {'ip_address': '10.0.0.2', 'subnet_id': 'subnet_id'} port_b = self.port_data2[1] self.assertNotEqual(port_a['network_id'], port_b['network_id']) for port in [port_a, port_b]: port['device_id'] = None port['device_owner'] = None requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(port_id=port_a['id']), objects.NetworkRequest(port_id=port_b['id'])]) neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.show_port(port_a['id']).AndReturn({'port': port_a}) self.moxed_client.show_port(port_b['id']).AndReturn({'port': port_b}) self.mox.ReplayAll() api = neutronapi.API() api.validate_networks(self.context, requested_networks, 1) def test_validate_networks_no_quota(self): # Test validation for a request for one instance needing # two ports, where the quota is 2 and 2 ports are in use # => instances which can be created = 0 requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id=uuids.my_netid1), objects.NetworkRequest(network_id=uuids.my_netid2)]) ids = [uuids.my_netid1, uuids.my_netid2] neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.list_networks( id=mox.SameElementsAs(ids)).AndReturn( {'networks': self.nets2}) self.moxed_client.show_quota( uuids.my_tenant).AndReturn( {'quota': {'port': 2}}) self.moxed_client.list_ports( tenant_id=uuids.my_tenant, fields=['id']).AndReturn( {'ports': self.port_data2}) self.mox.ReplayAll() api = neutronapi.API() max_count = api.validate_networks(self.context, requested_networks, 1) self.assertEqual(0, max_count) ",112,102
openstack%2Fnova~master~Ifeac24ea65065575c2aaf7946835f70cdb763012,openstack/nova,master,Ifeac24ea65065575c2aaf7946835f70cdb763012,Remove mox in unit/network/test_neutronv2.py (11),MERGED,2018-06-18 02:00:30.000000000,2019-05-30 18:33:28.000000000,2019-05-30 18:33:27.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-18 02:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8505e9e90e1b0ef69ab7a5497cee3a7c91827136', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal\n""}, {'number': 2, 'created': '2018-06-26 04:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fdb7da18514a3ab6e63ae8aa43ad7c3296de3dd', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal\n""}, {'number': 3, 'created': '2018-06-27 23:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/299374db30caf923dfd97e3b79a8cdbfe6ea4046', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal\n""}, {'number': 4, 'created': '2018-07-06 06:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7d27d07016d31d7bb2523af48bd3124d792eb10', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal\n""}, {'number': 5, 'created': '2018-07-12 07:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/351aece803815f0706d7e94a6ffe07f0df4407c3', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal\n""}, {'number': 6, 'created': '2018-07-20 00:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2e00188f9b165d1573148e38650cfd149d4a716', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal\n""}, {'number': 7, 'created': '2018-07-23 03:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e681ee7b420f001ed40cb2b4fec7bfd2f68d1e3e', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal\n""}, {'number': 8, 'created': '2018-07-29 23:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e216e9850a3fffb2b362de848cc72ca5c8ede96', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal\n""}, {'number': 9, 'created': '2018-08-16 23:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/393db8e02b945f75031d21e8235abd867c7f845d', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 10, 'created': '2018-08-28 23:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc47aced0b61ebc0dd79c01ce6d4b6b5cb184a8e', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 11, 'created': '2018-09-17 22:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3a7a551a82d0d19dcc5d0c4949d565b2073ba14', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 12, 'created': '2018-10-09 00:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0122ba59ba3eb94fd9ece27feea48dc09a4164c', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 13, 'created': '2018-10-22 00:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acfc3cfbd47f7b2ac256236858e4ad38038739b0', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 14, 'created': '2018-11-26 05:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de743135f11212a7362a53dcc8e889797afe233a', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 15, 'created': '2018-12-11 01:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e68e7c9d5ff4ed7d33405a8f1fcb27843cf2e839', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 16, 'created': '2018-12-20 04:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9f5871fb0651f4c947b11c5396a633c1c59eea3', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 17, 'created': '2019-01-04 01:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68bdd82e43cc7f587ba53ccb4061a8503fe32871', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 18, 'created': '2019-01-17 01:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77ca543347b2ec385e4c123871a884c314ab7d0e', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 19, 'created': '2019-01-25 01:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8643ed46705f5b9d49e1169fa5226df7f7af3b5b', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 20, 'created': '2019-01-31 00:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/971c4d57f90074feeb985a3a431c44cfa9ef5980', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 21, 'created': '2019-02-07 02:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/664fd939dfa15f3cf6217f351d7934764c93966d', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 22, 'created': '2019-02-15 07:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91b13010dd6cd3bfb612891faa43567f6fb944da', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 23, 'created': '2019-03-01 03:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95d234d01b3c517223448ab6ee08b6f16f2f699c', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 24, 'created': '2019-03-04 01:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e621abe12912b773a49229deedd99935c2a2132', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 25, 'created': '2019-03-11 01:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ba705439a08a674025ab4e137b1e50abd8ec0c5', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-stein\n""}, {'number': 26, 'created': '2019-03-25 05:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0aa7e85720a2f6ae41c2bd0b7be754020001101f', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-train\n""}, {'number': 27, 'created': '2019-03-25 05:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af7e33e89d9b34fdc77c685ce192e314d74b66a2', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-train\n""}, {'number': 28, 'created': '2019-04-01 07:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b343135dc5994ce3211e41afd1f47ab62577ba09', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-train\n""}, {'number': 29, 'created': '2019-04-12 00:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7e4b21bb26a78664ebd8b4b65c1e08f544971a6', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-train\n""}, {'number': 30, 'created': '2019-04-22 07:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/794ea9ec29c17de87f23829649b5b5bbef6e01e8', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-train\n""}, {'number': 31, 'created': '2019-05-04 21:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43ed0721e32977397ba6291b7bf57ff55ce567d8', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-train\n""}, {'number': 32, 'created': '2019-05-13 04:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed870f1ad495522a842134d03a575a2c96ef9f99', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-train\n""}, {'number': 33, 'created': '2019-05-27 22:04:23.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/04223519dd1051a10ba5e77889d8e13cd9a67dcb', 'message': ""Remove mox in unit/network/test_neutronv2.py (11)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_validate_networks_ex_1\n* test_validate_networks_ex_2\n* test_validate_networks_duplicate_enable\n* test_validate_networks_not_specified\n* test_validate_networks_port_not_found\n* test_validate_networks_port_show_raises_non404\n* test_validate_networks_port_in_use\n\nThe 'test_validate_networks_ex_1' test case was broken.\nThe expected behavior of the 'validate_networks' method is raising\nthe NetworkNotFound exception, but the exception was not raised.\nso fix it.\n\nChange-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012\nImplements: blueprint mox-removal-train\n""}]",0,576018,04223519dd1051a10ba5e77889d8e13cd9a67dcb,282,12,33,7634,,,0,"Remove mox in unit/network/test_neutronv2.py (11)

Replace mox with mock in the following methods
in the TestNeutronv2 class
in nova/tests/unit/network/test_neutronv2.py.
Then moves the methods to the TestNeutronv2WithMock class.

* test_validate_networks_ex_1
* test_validate_networks_ex_2
* test_validate_networks_duplicate_enable
* test_validate_networks_not_specified
* test_validate_networks_port_not_found
* test_validate_networks_port_show_raises_non404
* test_validate_networks_port_in_use

The 'test_validate_networks_ex_1' test case was broken.
The expected behavior of the 'validate_networks' method is raising
the NetworkNotFound exception, but the exception was not raised.
so fix it.

Change-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012
Implements: blueprint mox-removal-train
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/576018/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/network/test_neutronv2.py'],1,8505e9e90e1b0ef69ab7a5497cee3a7c91827136,bp/mox-removal-train," @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_ex_1(self, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client requested_networks = [(uuids.my_netid1, None, None, None)] mocked_client.list_networks.return_value = {'networks': []} ex = self.assertRaises(exception.NetworkNotFound, self.api.validate_networks, self.context, requested_networks, 1) self.assertIn(uuids.my_netid1, six.text_type(ex)) mock_get_client.assert_called_once_with(self.context) mocked_client.list_networks.assert_called_once_with( id=[uuids.my_netid1]) @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_ex_2(self, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client requested_networks = [(uuids.my_netid1, None, None, None), (uuids.my_netid2, None, None, None), (uuids.my_netid3, None, None, None)] ids = [uuids.my_netid1, uuids.my_netid2, uuids.my_netid3] mocked_client.list_networks.return_value = {'networks': self.nets1} ex = self.assertRaises(exception.NetworkNotFound, self.api.validate_networks, self.context, requested_networks, 1) self.assertIn(uuids.my_netid2, six.text_type(ex)) self.assertIn(uuids.my_netid3, six.text_type(ex)) mock_get_client.assert_called_once_with(self.context) mocked_client.list_networks.assert_called_once_with(id=ids) @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_duplicate_enable(self, mock_get_client): # Verify that no duplicateNetworks exception is thrown when duplicate # network ids are passed to validate_networks. mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id=uuids.my_netid1), objects.NetworkRequest(network_id=uuids.my_netid1)]) ids = [uuids.my_netid1, uuids.my_netid1] mocked_client.list_networks.return_value = {'networks': self.nets1} mocked_client.show_quota.return_value = {'quota': {'port': 50}} mocked_client.list_ports.return_value = {'ports': []} self.api.validate_networks(self.context, requested_networks, 1) mock_get_client.assert_called_once_with(self.context) mocked_client.list_networks.assert_called_once_with(id=ids) mocked_client.show_quota.assert_called_once_with(uuids.my_tenant) mocked_client.list_ports.assert_called_once_with( tenant_id=uuids.my_tenant, fields=['id']) @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_not_specified(self, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client requested_networks = objects.NetworkRequestList(objects=[]) mocked_client.list_networks.side_effect = [ {'networks': self.nets1}, {'networks': self.nets2}] self.assertRaises(exception.NetworkAmbiguous, self.api.validate_networks, self.context, requested_networks, 1) mock_get_client.assert_called_once_with(self.context) mocked_client.list_networks.assert_has_calls([ mock.call(tenant_id=self.context.project_id, shared=False), mock.call(shared=True)]) self.assertEqual(2, mocked_client.list_networks.call_count) @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_port_not_found(self, mock_get_client): # Verify that the correct exception is thrown when a non existent # port is passed to validate_networks. mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest( network_id=uuids.my_netid1, port_id=uuids.portid_1)]) mocked_client.show_port.side_effect = exceptions.PortNotFoundClient self.assertRaises(exception.PortNotFound, self.api.validate_networks, self.context, requested_networks, 1) mock_get_client.assert_called_once_with(self.context) mocked_client.show_port.assert_called_once_with( requested_networks[0].port_id) @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_port_show_raises_non404(self, mock_get_client): # Verify that the correct exception is thrown when a non existent # port is passed to validate_networks. mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client fake_port_id = uuids.portid_1 requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest( network_id=uuids.my_netid1, port_id=fake_port_id)]) mocked_client.show_port.side_effect = ( exceptions.NeutronClientException(status_code=0)) exc = self.assertRaises(exception.NovaException, self.api.validate_networks, self.context, requested_networks, 1) expected_exception_message = ('Failed to access port %(port_id)s: ' 'An unknown exception occurred.' % {'port_id': fake_port_id}) self.assertEqual(expected_exception_message, str(exc)) mock_get_client.assert_called_once_with(self.context) mocked_client.show_port.assert_called_once_with( requested_networks[0].port_id) @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_port_in_use(self, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(port_id=self.port_data3[0]['id'])]) mocked_client.show_port.return_value = {'port': self.port_data3[0]} self.assertRaises(exception.PortInUse, self.api.validate_networks, self.context, requested_networks, 1) mock_get_client.assert_called_once_with(self.context) mocked_client.show_port.assert_called_once_with( self.port_data3[0]['id']) "," def test_validate_networks_ex_1(self): requested_networks = [(uuids.my_netid1, None, None, None)] neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.list_networks( id=mox.SameElementsAs([uuids.my_netid1])).AndReturn( {'networks': self.nets1}) self.moxed_client.show_quota( uuids.my_tenant).AndReturn( {'quota': {'port': 50}}) self.moxed_client.list_ports( tenant_id=uuids.my_tenant, fields=['id']).AndReturn( {'ports': []}) self.mox.ReplayAll() api = neutronapi.API() try: api.validate_networks(self.context, requested_networks, 1) except exception.NetworkNotFound as ex: self.assertIn(""my_netid2"", six.text_type(ex)) def test_validate_networks_ex_2(self): requested_networks = [(uuids.my_netid1, None, None, None), (uuids.my_netid2, None, None, None), (uuids.my_netid3, None, None, None)] ids = [uuids.my_netid1, uuids.my_netid2, uuids.my_netid3] neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.list_networks( id=mox.SameElementsAs(ids)).AndReturn( {'networks': self.nets1}) self.mox.ReplayAll() api = neutronapi.API() try: api.validate_networks(self.context, requested_networks, 1) except exception.NetworkNotFound as ex: self.assertIn(uuids.my_netid2, six.text_type(ex)) self.assertIn(uuids.my_netid3, six.text_type(ex)) def test_validate_networks_duplicate_enable(self): # Verify that no duplicateNetworks exception is thrown when duplicate # network ids are passed to validate_networks. requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id=uuids.my_netid1), objects.NetworkRequest(network_id=uuids.my_netid1)]) ids = [uuids.my_netid1, uuids.my_netid1] neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.list_networks( id=mox.SameElementsAs(ids)).AndReturn( {'networks': self.nets1}) self.moxed_client.show_quota( uuids.my_tenant).AndReturn( {'quota': {'port': 50}}) self.moxed_client.list_ports( tenant_id=uuids.my_tenant, fields=['id']).AndReturn( {'ports': []}) self.mox.ReplayAll() api = neutronapi.API() api.validate_networks(self.context, requested_networks, 1) def test_validate_networks_not_specified(self): requested_networks = objects.NetworkRequestList(objects=[]) neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.list_networks( tenant_id=self.context.project_id, shared=False).AndReturn( {'networks': self.nets1}) self.moxed_client.list_networks( shared=True).AndReturn( {'networks': self.nets2}) self.mox.ReplayAll() api = neutronapi.API() self.assertRaises(exception.NetworkAmbiguous, api.validate_networks, self.context, requested_networks, 1) def test_validate_networks_port_not_found(self): # Verify that the correct exception is thrown when a non existent # port is passed to validate_networks. requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest( network_id=uuids.my_netid1, port_id=uuids.portid_1)]) PortNotFound = exceptions.PortNotFoundClient() neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.show_port(requested_networks[0].port_id).AndRaise( PortNotFound) self.mox.ReplayAll() api = neutronapi.API() self.assertRaises(exception.PortNotFound, api.validate_networks, self.context, requested_networks, 1) def test_validate_networks_port_show_raises_non404(self): # Verify that the correct exception is thrown when a non existent # port is passed to validate_networks. fake_port_id = uuids.portid_1 requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest( network_id=uuids.my_netid1, port_id=fake_port_id)]) NeutronNotFound = exceptions.NeutronClientException(status_code=0) neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.show_port(requested_networks[0].port_id).AndRaise( NeutronNotFound) self.mox.ReplayAll() api = neutronapi.API() exc = self.assertRaises(exception.NovaException, api.validate_networks, self.context, requested_networks, 1) expected_exception_message = ('Failed to access port %(port_id)s: ' 'An unknown exception occurred.' % {'port_id': fake_port_id}) self.assertEqual(expected_exception_message, str(exc)) def test_validate_networks_port_in_use(self): requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(port_id=self.port_data3[0]['id'])]) neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.show_port(self.port_data3[0]['id']).\ AndReturn({'port': self.port_data3[0]}) self.mox.ReplayAll() api = neutronapi.API() self.assertRaises(exception.PortInUse, api.validate_networks, self.context, requested_networks, 1) ",134,130
openstack%2Fnova~master~I68eb932c9db150c66f25d82ecdbeec277dbcaed6,openstack/nova,master,I68eb932c9db150c66f25d82ecdbeec277dbcaed6,Remove mox in unit/network/test_neutronv2.py (10),MERGED,2018-06-18 01:47:45.000000000,2019-05-30 18:33:16.000000000,2019-05-30 18:33:16.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-06-18 01:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84d737be028a5d2c0f20f72253df595386e433e6', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal\n'}, {'number': 2, 'created': '2018-06-26 04:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1edcf84525b52e1c8c16b9fec423e236613811dd', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal\n'}, {'number': 3, 'created': '2018-06-27 23:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/802f8d8a484f0c530a67c667e0d6dc17ff020845', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal\n'}, {'number': 4, 'created': '2018-07-06 03:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca85268d0aff44a9ab97e5d26cfd4b1bc35bb37e', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal\n'}, {'number': 5, 'created': '2018-07-12 02:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0443971196c9d0828ef8703ea7cd90dc6c262770', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal\n'}, {'number': 6, 'created': '2018-07-20 00:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c42e775d3f4455860438777be572c9f24bca573', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal\n'}, {'number': 7, 'created': '2018-07-23 02:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cb2e4f8cbdc6a3c8671211dfb083f5719e7098a', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal\n'}, {'number': 8, 'created': '2018-07-29 23:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcc0c6a525f0f1d912c5c8b6c7b2ad846ad2e842', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal\n'}, {'number': 9, 'created': '2018-08-16 23:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2568483193412f8746f9bb88cf3ea33edc61a05', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 10, 'created': '2018-08-28 23:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e3d3c82597d09be39903998b67073ca857223ee', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 11, 'created': '2018-09-17 22:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5dc5a8a31a0767e9f0d97c9251dcd87ef8db2b0', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 12, 'created': '2018-10-09 00:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/717feeeef15f98620966b223e85f60edd976179c', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 13, 'created': '2018-10-22 00:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92543b775a5eac5a3c7ee2e6341459c9244c64d3', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 14, 'created': '2018-11-26 05:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c46a6ea786b6202fda3a69639a9311403684660a', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 15, 'created': '2018-12-11 01:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a7f00f8763d4939f1be41689c1c3bfe7cc14134', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 16, 'created': '2018-12-20 02:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/402a004bffaf83cbed2af004d275f7957ebd31da', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 17, 'created': '2019-01-04 01:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b094078c74baf1ae7ecf00fa9f36040c17c615c', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 18, 'created': '2019-01-17 01:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4247d0425225881ecfe9d87f77bd0d04d60c41b7', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 19, 'created': '2019-01-25 01:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c6f7b63adecbf86017ab6a02c344623278ca9c1', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 20, 'created': '2019-01-31 00:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5113e6bdbd2dde21763349416e01b5cd9df8a6b9', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 21, 'created': '2019-02-07 02:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1635201e289602dfce30c7f8b7ef33abcf1439f', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 22, 'created': '2019-02-15 07:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/364e226ff1993605bea80c6a0023e92222e21406', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 23, 'created': '2019-03-01 03:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f911f974faf5fcac8ec156d9e6256420d7e10b5e', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 24, 'created': '2019-03-04 01:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/caeb973f56067c1c23e95b00c90a9ba54a96e11e', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 25, 'created': '2019-03-11 01:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/458596bef969de49a0e58e31e495ee1722116a56', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-stein\n'}, {'number': 26, 'created': '2019-03-25 05:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6dc7554d84a45ad51f5bf679912887a5d3860d6b', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-train\n'}, {'number': 27, 'created': '2019-03-25 05:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc928dcff1fdaceb5df09f82f7e96490111443ab', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-train\n'}, {'number': 28, 'created': '2019-04-01 07:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b793455d6752b011a11418991625f6aa2d1621b3', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-train\n'}, {'number': 29, 'created': '2019-04-12 00:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac7fde3384048aa2dfa921347b83aa75f85b63f3', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-train\n'}, {'number': 30, 'created': '2019-04-22 07:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c71914462b5fd0873ae26e5ce758f3598ee4576', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-train\n'}, {'number': 31, 'created': '2019-05-04 21:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e23c1ecfaf95f583e8d0a40949b6fd9e3da536b', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-train\n'}, {'number': 32, 'created': '2019-05-13 04:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fa8ba933667a05defab4023c5f3d22e300ce6e5', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-train\n'}, {'number': 33, 'created': '2019-05-27 22:03:55.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/067cfcd45f4bbf9e099b50e389d441be68fb91f2', 'message': 'Remove mox in unit/network/test_neutronv2.py (10)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _test_deallocate_port_for_instance\n* test_deallocate_port_for_instance_1\n* test_deallocate_port_for_instance_2\n* test_list_ports\n* test_show_port\n* test_validate_networks\n* test_validate_networks_without_port_quota_on_network_side\n\nChange-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6\nImplements: blueprint mox-removal-train\n'}]",0,576017,067cfcd45f4bbf9e099b50e389d441be68fb91f2,294,13,33,7634,,,0,"Remove mox in unit/network/test_neutronv2.py (10)

Replace mox with mock in the following methods
in the TestNeutronv2 class
in nova/tests/unit/network/test_neutronv2.py.
Then moves the methods to the TestNeutronv2WithMock class.

* _test_deallocate_port_for_instance
* test_deallocate_port_for_instance_1
* test_deallocate_port_for_instance_2
* test_list_ports
* test_show_port
* test_validate_networks
* test_validate_networks_without_port_quota_on_network_side

Change-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6
Implements: blueprint mox-removal-train
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/576017/23 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/network/test_neutronv2.py'],1,84d737be028a5d2c0f20f72253df595386e433e6,bp/mox-removal-train," @mock.patch.object(db_api, 'instance_info_cache_get') @mock.patch.object(neutronapi, 'get_client') def _test_deallocate_port_for_instance(self, number, mock_get_client, mock_cache_get): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client port_data = number == 1 and self.port_data1 or self.port_data2 nets = number == 1 and self.nets1 or self.nets2 net_info_cache = [] for port in port_data: net_info_cache.append({""network"": {""id"": port['network_id']}, ""id"": port['id']}) self.instance['info_cache'] = self._fake_instance_info_cache( net_info_cache, self.instance['uuid']) mocked_client.list_ports.return_value = {'ports': port_data[1:]} net_ids = [port['network_id'] for port in port_data] mocked_client.list_networks.return_value = {'networks': nets} list_floatingips_values = [] expected_list_floatingips_calls = [] float_data = number == 1 and self.float_data1 or self.float_data2 for data in port_data[1:]: for ip in data['fixed_ips']: list_floatingips_values.append({'floatingips': float_data[1:]}) expected_list_floatingips_calls.append( mock.call(fixed_ip_address=ip['ip_address'], port_id=data['id'])) mocked_client.list_floatingips.side_effect = list_floatingips_values mocked_client.list_subnets.return_value = {} expected_list_subnets_calls = [] for port in port_data[1:]: expected_list_subnets_calls.append(mock.call(id=['my_subid2'])) mock_cache_get.return_value = self.instance['info_cache'] instance = self._fake_instance_object_with_info_cache(self.instance) nwinfo = self.api.deallocate_port_for_instance(self.context, instance, port_data[0]['id']) self.assertEqual(len(port_data[1:]), len(nwinfo)) if len(port_data) > 1: self.assertEqual(uuids.my_netid2, nwinfo[0]['network']['id']) mocked_client.delete_port.assert_called_once_with(port_data[0]['id']) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)], any_order=True) mocked_client.list_ports.assert_called_once_with( tenant_id=self.instance['project_id'], device_id=self.instance['uuid']) mocked_client.list_networks.assert_called_once_with(id=net_ids) mocked_client.list_floatingips.assert_has_calls( expected_list_floatingips_calls) self.assertEqual(len(expected_list_floatingips_calls), mocked_client.list_floatingips.call_count) mock_cache_get.assert_called_once_with(mock.ANY, self.instance['uuid']) mocked_client.list_subnets.assert_has_calls( expected_list_subnets_calls) self.assertEqual(len(expected_list_subnets_calls), mocked_client.list_subnets.call_count) def test_deallocate_port_for_instance_1(self): # Test to deallocate the first and only port self._test_deallocate_port_for_instance(1) def test_deallocate_port_for_instance_2(self): # Test to deallocate the first port of two self._test_deallocate_port_for_instance(2) @mock.patch.object(neutronapi, 'get_client') def test_list_ports(self, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client search_opts = {'parm': 'value'} self.api.list_ports(self.context, **search_opts) mock_get_client.assert_called_once_with(self.context) mocked_client.list_ports.assert_called_once_with(**search_opts) @mock.patch.object(neutronapi, 'get_client') def test_show_port(self, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client mocked_client.show_port.return_value = {'port': self.port_data1[0]} self.api.show_port(self.context, 'foo') mock_get_client.assert_called_once_with(self.context) mocked_client.show_port.assert_called_once_with('foo') @mock.patch.object(neutronapi, 'get_client') def test_validate_networks(self, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client requested_networks = [(uuids.my_netid1, None, None, None), (uuids.my_netid2, None, None, None)] ids = [uuids.my_netid1, uuids.my_netid2] mocked_client.list_networks.return_value = {'networks': self.nets2} mocked_client.show_quota.return_value = {'quota': {'port': 50}} mocked_client.list_ports.return_value = {'ports': []} self.api.validate_networks(self.context, requested_networks, 1) mock_get_client.assert_called_once_with(self.context) mocked_client.list_networks.assert_called_once_with(id=ids) mocked_client.show_quota.assert_called_once_with(uuids.my_tenant) mocked_client.list_ports.assert_called_once_with( tenant_id=uuids.my_tenant, fields=['id']) @mock.patch.object(neutronapi, 'get_client') def test_validate_networks_without_port_quota_on_network_side( self, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client requested_networks = [(uuids.my_netid1, None, None, None), (uuids.my_netid2, None, None, None)] ids = [uuids.my_netid1, uuids.my_netid2] mocked_client.list_networks.return_value = {'networks': self.nets2} mocked_client.show_quota.return_value = {'quota': {}} self.api.validate_networks(self.context, requested_networks, 1) mock_get_client.assert_called_once_with(self.context) mocked_client.list_networks.assert_called_once_with(id=ids) mocked_client.show_quota.assert_called_once_with(uuids.my_tenant) "," def _test_deallocate_port_for_instance(self, number): port_data = number == 1 and self.port_data1 or self.port_data2 nets = number == 1 and self.nets1 or self.nets2 self.moxed_client.delete_port(port_data[0]['id']) net_info_cache = [] for port in port_data: net_info_cache.append({""network"": {""id"": port['network_id']}, ""id"": port['id']}) self.instance['info_cache'] = self._fake_instance_info_cache( net_info_cache, self.instance['uuid']) api = neutronapi.API() neutronapi.get_client(mox.IgnoreArg()).AndReturn( self.moxed_client) self.moxed_client.list_ports( tenant_id=self.instance['project_id'], device_id=self.instance['uuid']).AndReturn( {'ports': port_data[1:]}) net_ids = [port['network_id'] for port in port_data] neutronapi.get_client(mox.IgnoreArg(), admin=True).AndReturn( self.moxed_client) self.moxed_client.list_networks(id=net_ids).AndReturn( {'networks': nets}) float_data = number == 1 and self.float_data1 or self.float_data2 for data in port_data[1:]: for ip in data['fixed_ips']: self.moxed_client.list_floatingips( fixed_ip_address=ip['ip_address'], port_id=data['id']).AndReturn( {'floatingips': float_data[1:]}) for port in port_data[1:]: self.moxed_client.list_subnets(id=['my_subid2']).AndReturn({}) self.mox.StubOutWithMock(api.db, 'instance_info_cache_get') api.db.instance_info_cache_get(mox.IgnoreArg(), self.instance['uuid']).AndReturn( self.instance['info_cache']) self.mox.ReplayAll() instance = self._fake_instance_object_with_info_cache(self.instance) nwinfo = api.deallocate_port_for_instance(self.context, instance, port_data[0]['id']) self.assertEqual(len(port_data[1:]), len(nwinfo)) if len(port_data) > 1: self.assertEqual(uuids.my_netid2, nwinfo[0]['network']['id']) def test_deallocate_port_for_instance_1(self): # Test to deallocate the first and only port self._test_deallocate_port_for_instance(1) def test_deallocate_port_for_instance_2(self): # Test to deallocate the first port of two self._test_deallocate_port_for_instance(2) def test_list_ports(self): search_opts = {'parm': 'value'} neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.list_ports(**search_opts) self.mox.ReplayAll() neutronapi.API().list_ports(self.context, **search_opts) def test_show_port(self): neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.show_port('foo').AndReturn( {'port': self.port_data1[0]}) self.mox.ReplayAll() neutronapi.API().show_port(self.context, 'foo') def test_validate_networks(self): requested_networks = [(uuids.my_netid1, None, None, None), (uuids.my_netid2, None, None, None)] ids = [uuids.my_netid1, uuids.my_netid2] neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.list_networks( id=mox.SameElementsAs(ids)).AndReturn( {'networks': self.nets2}) self.moxed_client.show_quota( uuids.my_tenant).AndReturn( {'quota': {'port': 50}}) self.moxed_client.list_ports( tenant_id=uuids.my_tenant, fields=['id']).AndReturn( {'ports': []}) self.mox.ReplayAll() api = neutronapi.API() api.validate_networks(self.context, requested_networks, 1) def test_validate_networks_without_port_quota_on_network_side(self): requested_networks = [(uuids.my_netid1, None, None, None), (uuids.my_netid2, None, None, None)] ids = [uuids.my_netid1, uuids.my_netid2] neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.list_networks( id=mox.SameElementsAs(ids)).AndReturn( {'networks': self.nets2}) self.moxed_client.show_quota( uuids.my_tenant).AndReturn( {'quota': {}}) self.mox.ReplayAll() api = neutronapi.API() api.validate_networks(self.context, requested_networks, 1) ",129,102
openstack%2Fnova~master~I87aff2df5b4d8d899782446e2739e6b9fb679a84,openstack/nova,master,I87aff2df5b4d8d899782446e2739e6b9fb679a84,Remove mox in unit/network/test_neutronv2.py (9),MERGED,2018-06-15 01:16:12.000000000,2019-05-30 18:33:05.000000000,2019-05-30 18:33:05.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-15 01:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a4bc58b3b500aac5620e5e1b1cb580921951610', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal\n""}, {'number': 2, 'created': '2018-06-15 07:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a6889941929a2f5ff131eb62397b7f74d204654', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal\n""}, {'number': 3, 'created': '2018-06-17 21:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b31321549a8036d6fb81d7b4b4676d2a5036de88', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal\n""}, {'number': 4, 'created': '2018-06-26 02:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebcd05676ebf97aa0478fa626e032a5dd3edb8ed', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal\n""}, {'number': 5, 'created': '2018-06-27 23:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e53d76a8a50c9489661f3510c100f0bf217ee7d', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal\n""}, {'number': 6, 'created': '2018-07-06 03:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec5d7a817a5a7d8a77ecaa216a95b29320492e1a', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal\n""}, {'number': 7, 'created': '2018-07-12 02:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ffb8d40dc224326b60b2de6ef9703856c5683c0', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal\n""}, {'number': 8, 'created': '2018-07-20 00:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd7366a6e962cef13b03be3d2af8cb414a8187a7', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal\n""}, {'number': 9, 'created': '2018-07-23 02:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a717dd11e14657f58756eb6573a1d66872c3b2b1', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal\n""}, {'number': 10, 'created': '2018-07-29 23:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4d710f0e1561dcead728aa6c633ce585321ef2f', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal\n""}, {'number': 11, 'created': '2018-08-16 23:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d65ce1ff7abf33c78c45fb35110a0dabd43b0bd2', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 12, 'created': '2018-08-28 23:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e52421f26d90bac559c43315b49cda652afb875', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 13, 'created': '2018-09-17 22:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/833f4fcc27c5befcd9f74914fef82a77d160073b', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 14, 'created': '2018-10-09 00:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f9896365f3804a9223dfff9efaf59b5eaed8739', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 15, 'created': '2018-10-22 00:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b33e20f7c2f0a9651a160c9b9d9da42ee2dc18f8', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 16, 'created': '2018-11-26 05:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/041fbf65e71fcf8b698b1327606eddea47fdaa03', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 17, 'created': '2018-12-11 01:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db4efa48a18acad52c82b44b97a1d0d3d775c54d', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 18, 'created': '2018-12-20 02:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2787694d14ae28705ddff7554948692bee6fa50a', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 19, 'created': '2019-01-04 01:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32340d24694a1df7769aeafdf334edb653f207b9', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 20, 'created': '2019-01-17 01:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cba21f3e48615633310710bca90b9e226fb34370', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 21, 'created': '2019-01-25 01:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f30bc39eed00581c0891547743e072ba9e647645', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 22, 'created': '2019-01-31 00:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93deb0f98fe773471f147b15fb939ba1cfc2a304', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 23, 'created': '2019-02-07 02:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1802ed282f5bedcf6b3566bdfc14e3adedd30f1', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 24, 'created': '2019-02-15 07:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1eb2ef8168e46927f8a9e9b54568d71d1c819e21', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 25, 'created': '2019-03-01 03:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ec0b26ba32947e9373839ac588a8ce34b1a6ca1', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 26, 'created': '2019-03-04 01:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d061c79dcab057a0e3a5b6abeac099b80544b70d', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 27, 'created': '2019-03-11 01:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51f24c89f433ca9348b6cdfc10acf0651a3ead3d', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 28, 'created': '2019-03-25 02:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fe700157e387b8e44b8d5ec8e05dabe0bbb3659', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-stein\n""}, {'number': 29, 'created': '2019-03-25 05:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae5e40195984ee086a2a60c1e01a6ccb00aedcd5', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-train\n""}, {'number': 30, 'created': '2019-03-25 05:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24be6db1b9474d737bad866d38353151e2af8b31', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-train\n""}, {'number': 31, 'created': '2019-03-25 05:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b646ae538906d1fbd696c5ca7b4cc9f02d05c52', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-train\n""}, {'number': 32, 'created': '2019-04-01 01:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99bd37eb6dca210bf6ac2ae7c21deba28d5d08e0', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-train\n""}, {'number': 33, 'created': '2019-04-12 00:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f94330d76d708b188c0b6bc77a859a11609781a', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-train\n""}, {'number': 34, 'created': '2019-04-22 07:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a855961ff32069a62d93a4cd6fdd5af50b6ffe8', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-train\n""}, {'number': 35, 'created': '2019-05-04 21:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab7bd903275d2b0b890476ba85ae50ca93ca3fbb', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-train\n""}, {'number': 36, 'created': '2019-05-13 04:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60797fc23fe7702af6bfb532a7aab0aa61d9c00b', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-train\n""}, {'number': 37, 'created': '2019-05-27 22:03:38.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b1b0234e2e8d2df1de1d2ad2dbf4d4d568e5908', 'message': ""Remove mox in unit/network/test_neutronv2.py (9)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* _deallocate_for_instance\n* test_deallocate_for_instance_1_with_requested\n* test_deallocate_for_instance_2_with_requested\n* test_deallocate_for_instance_1\n* test_deallocate_for_instance_2\n* test_deallocate_for_instance_port_not_found\n\nThe '_deallocate_for_instance' method is renamed to\n'_test_deallocate_for_instance'.\n\nChange-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84\nImplements: blueprint mox-removal-train\n""}]",1,575581,8b1b0234e2e8d2df1de1d2ad2dbf4d4d568e5908,325,12,37,7634,,,0,"Remove mox in unit/network/test_neutronv2.py (9)

Replace mox with mock in the following methods
in the TestNeutronv2 class
in nova/tests/unit/network/test_neutronv2.py.
Then moves the methods to the TestNeutronv2WithMock class.

* _deallocate_for_instance
* test_deallocate_for_instance_1_with_requested
* test_deallocate_for_instance_2_with_requested
* test_deallocate_for_instance_1
* test_deallocate_for_instance_2
* test_deallocate_for_instance_port_not_found

The '_deallocate_for_instance' method is renamed to
'_test_deallocate_for_instance'.

Change-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84
Implements: blueprint mox-removal-train
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/575581/32 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/network/test_neutronv2.py'],1,6a4bc58b3b500aac5620e5e1b1cb580921951610,bp/mox-removal-train," @mock.patch.object(db_api, 'instance_info_cache_update', return_value=fake_info_cache) @mock.patch.object(neutronapi, 'get_client') def _test_deallocate_for_instance(self, number, mock_get_client, mock_cache_update, requested_networks=None): # TODO(mriedem): Remove this conversion when all neutronv2 APIs are # converted to handling instance objects. self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client port_data = number == 1 and self.port_data1 or self.port_data2 ports = {port['id'] for port in port_data} ret_data = copy.deepcopy(port_data) if requested_networks: if isinstance(requested_networks, objects.NetworkRequestList): # NOTE(danms): Temporary and transitional with mock.patch('nova.utils.is_neutron', return_value=True): requested_networks = requested_networks.as_tuples() for net, fip, port, request_id in requested_networks: ret_data.append({'network_id': net, 'device_id': self.instance.uuid, 'device_owner': 'compute:nova', 'id': port, 'status': 'DOWN', 'admin_state_up': True, 'fixed_ips': [], 'mac_address': 'fake_mac', }) mocked_client.list_ports.return_value = {'ports': ret_data} show_port_values = [] expected_show_port_calls = [] expected_update_port_calls = [] if requested_networks: for net, fip, port, request_id in requested_networks: expected_show_port_calls.append(mock.call( port, fields='binding:profile')) show_port_values.append({'port': ret_data[0]}) expected_update_port_calls.append(mock.call( port, {'port': { 'device_owner': '', 'device_id': '', 'binding:host_id': None, 'binding:profile': {}}})) mocked_client.show_port.side_effect = show_port_values expected_delete_port_calls = [] for port in ports: expected_delete_port_calls.append(mock.call(port)) self.api.deallocate_for_instance(self.context, self.instance, requested_networks=requested_networks) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)], any_order=True) mocked_client.list_ports.assert_called_once_with( device_id=self.instance.uuid) mocked_client.show_port.assert_has_calls(expected_show_port_calls) self.assertEqual(len(expected_show_port_calls), mocked_client.show_port.call_count) mocked_client.update_port.assert_has_calls(expected_update_port_calls) self.assertEqual(len(expected_update_port_calls), mocked_client.update_port.call_count) mocked_client.delete_port.assert_has_calls(expected_delete_port_calls) self.assertEqual(len(expected_delete_port_calls), mocked_client.delete_port.call_count) mock_cache_update.assert_called_once_with( self.context, self.instance.uuid, {'network_info': '[]'}) @mock.patch('nova.network.neutronv2.api.API._get_preexisting_port_ids') def test_deallocate_for_instance_1_with_requested(self, mock_preexisting): mock_preexisting.return_value = [] requested = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id='fake-net', address='1.2.3.4', port_id=uuids.portid_5)]) # Test to deallocate in one port env. self._test_deallocate_for_instance(1, requested_networks=requested) mock_preexisting.assert_called_once_with(self.instance) @mock.patch('nova.network.neutronv2.api.API._get_preexisting_port_ids') def test_deallocate_for_instance_2_with_requested(self, mock_preexisting): mock_preexisting.return_value = [] requested = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id='fake-net', address='1.2.3.4', port_id=uuids.portid_6)]) # Test to deallocate in one port env. self._test_deallocate_for_instance(2, requested_networks=requested) mock_preexisting.assert_called_once_with(self.instance) @mock.patch('nova.network.neutronv2.api.API._get_preexisting_port_ids') def test_deallocate_for_instance_1(self, mock_preexisting): mock_preexisting.return_value = [] # Test to deallocate in one port env. self._test_deallocate_for_instance(1) mock_preexisting.assert_called_once_with(self.instance) @mock.patch('nova.network.neutronv2.api.API._get_preexisting_port_ids') def test_deallocate_for_instance_2(self, mock_preexisting): mock_preexisting.return_value = [] # Test to deallocate in two ports env. self._test_deallocate_for_instance(2) mock_preexisting.assert_called_once_with(self.instance) @mock.patch.object(neutronapi, 'get_client') @mock.patch('nova.network.neutronv2.api.API._get_preexisting_port_ids') def test_deallocate_for_instance_port_not_found(self, mock_preexisting, mock_get_client): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client # TODO(mriedem): Remove this conversion when all neutronv2 APIs are # converted to handling instance objects. self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) mock_preexisting.return_value = [] port_data = self.port_data1 mocked_client.list_ports.return_value = {'ports': port_data} NeutronNotFound = exceptions.NeutronClientException(status_code=404) delete_port_values = [] expected_delete_port_calls = [] for port in reversed(port_data): delete_port_values.append(NeutronNotFound) expected_delete_port_calls.append(mock.call(port['id'])) mocked_client.delete_port.side_effect = expected_delete_port_calls self.api.deallocate_for_instance(self.context, self.instance) mock_preexisting.assert_called_once_with(self.instance) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)], any_order=True) mocked_client.list_ports.assert_called_once_with( device_id=self.instance.uuid) mocked_client.delete_port.assert_has_calls(expected_delete_port_calls) self.assertEqual(len(expected_delete_port_calls), mocked_client.delete_port.call_count) "," def _deallocate_for_instance(self, number, requested_networks=None): # TODO(mriedem): Remove this conversion when all neutronv2 APIs are # converted to handling instance objects. self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) api = neutronapi.API() port_data = number == 1 and self.port_data1 or self.port_data2 ports = {port['id'] for port in port_data} ret_data = copy.deepcopy(port_data) if requested_networks: if isinstance(requested_networks, objects.NetworkRequestList): # NOTE(danms): Temporary and transitional with mock.patch('nova.utils.is_neutron', return_value=True): requested_networks = requested_networks.as_tuples() for net, fip, port, request_id in requested_networks: ret_data.append({'network_id': net, 'device_id': self.instance.uuid, 'device_owner': 'compute:nova', 'id': port, 'status': 'DOWN', 'admin_state_up': True, 'fixed_ips': [], 'mac_address': 'fake_mac', }) neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.list_ports( device_id=self.instance.uuid).AndReturn( {'ports': ret_data}) neutronapi.get_client( mox.IgnoreArg(), admin=True).AndReturn( self.moxed_client) if requested_networks: for net, fip, port, request_id in requested_networks: self.moxed_client.show_port(port, fields='binding:profile' ).AndReturn({'port': ret_data[0]}) self.moxed_client.update_port(port) for port in ports: self.moxed_client.delete_port(port).InAnyOrder(""delete_port_group"") self.mox.StubOutWithMock(api.db, 'instance_info_cache_update') api.db.instance_info_cache_update(self.context, self.instance.uuid, {'network_info': '[]'}).AndReturn( fake_info_cache) self.mox.ReplayAll() api = neutronapi.API() api.deallocate_for_instance(self.context, self.instance, requested_networks=requested_networks) @mock.patch('nova.network.neutronv2.api.API._get_preexisting_port_ids') def test_deallocate_for_instance_1_with_requested(self, mock_preexisting): mock_preexisting.return_value = [] requested = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id='fake-net', address='1.2.3.4', port_id=uuids.portid_5)]) # Test to deallocate in one port env. self._deallocate_for_instance(1, requested_networks=requested) @mock.patch('nova.network.neutronv2.api.API._get_preexisting_port_ids') def test_deallocate_for_instance_2_with_requested(self, mock_preexisting): mock_preexisting.return_value = [] requested = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id='fake-net', address='1.2.3.4', port_id=uuids.portid_6)]) # Test to deallocate in one port env. self._deallocate_for_instance(2, requested_networks=requested) @mock.patch('nova.network.neutronv2.api.API._get_preexisting_port_ids') def test_deallocate_for_instance_1(self, mock_preexisting): mock_preexisting.return_value = [] # Test to deallocate in one port env. self._deallocate_for_instance(1) @mock.patch('nova.network.neutronv2.api.API._get_preexisting_port_ids') def test_deallocate_for_instance_2(self, mock_preexisting): mock_preexisting.return_value = [] # Test to deallocate in two ports env. self._deallocate_for_instance(2) @mock.patch('nova.network.neutronv2.api.API._get_preexisting_port_ids') def test_deallocate_for_instance_port_not_found(self, mock_preexisting): # TODO(mriedem): Remove this conversion when all neutronv2 APIs are # converted to handling instance objects. self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) mock_preexisting.return_value = [] port_data = self.port_data1 neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) neutronapi.get_client(mox.IgnoreArg(), admin=True).AndReturn( self.moxed_client) self.moxed_client.list_ports( device_id=self.instance.uuid).AndReturn( {'ports': port_data}) NeutronNotFound = exceptions.NeutronClientException(status_code=404) for port in reversed(port_data): self.moxed_client.delete_port(port['id']).AndRaise( NeutronNotFound) self.mox.ReplayAll() api = neutronapi.API() api.deallocate_for_instance(self.context, self.instance) ",143,107
openstack%2Fnova~master~Ic19074165422d85430211b44fc685d0c2cb6f216,openstack/nova,master,Ic19074165422d85430211b44fc685d0c2cb6f216,Remove mox in unit/network/test_neutronv2.py (8),MERGED,2018-06-14 02:34:12.000000000,2019-05-30 18:32:53.000000000,2019-05-30 18:32:53.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-14 02:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e88febf4d99b6bd8ccf2db0dc2e9c7e1642d0286', 'message': 'Subject: Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal\n'}, {'number': 2, 'created': '2018-06-14 02:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/286a29cebbb459ff0f7765eee366d477fcfd2c80', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal\n'}, {'number': 3, 'created': '2018-06-17 21:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f11a2b7449245a78f7242281d3a073c680acf4a', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal\n'}, {'number': 4, 'created': '2018-06-26 02:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/028bf8e178c7409f9a5ea54e9d0f37cc09e6ea54', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal\n'}, {'number': 5, 'created': '2018-06-27 23:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4eb171d85c53166a070b3c9727c017902e9675a0', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal\n'}, {'number': 6, 'created': '2018-07-06 02:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4aeba0fe706cffb183b20d0cc29fa8e66da72c96', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal\n'}, {'number': 7, 'created': '2018-07-12 02:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34d77bddbc5c65b228b46deced6d0f34b9adaabf', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal\n'}, {'number': 8, 'created': '2018-07-19 23:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/240275dcf5ec1fe2af742012c828df6d4f74bcad', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal\n'}, {'number': 9, 'created': '2018-07-23 02:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/267a93632c4df3e5b7453e53fa3d7c57148bda7d', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal\n'}, {'number': 10, 'created': '2018-07-29 23:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dd1defb0431641b6de8cd8f3b6af660bcc719cb', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal\n'}, {'number': 11, 'created': '2018-08-16 23:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b08d050b41fc15e8d1bab8e639a69e4ece4c041', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 12, 'created': '2018-08-28 23:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/315b69b9a26e7709e8271985845e1cf38c11642c', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 13, 'created': '2018-09-17 22:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cf6b65eb88bec7418814d8a08ec0815e3237721', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 14, 'created': '2018-10-09 00:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c09345d115033207d5ea60738505e3e0ec6fdeb2', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 15, 'created': '2018-10-21 22:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e4095b53450cc7986af35ec49e24c2f0cb3d002', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 16, 'created': '2018-11-09 07:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39f0c604e4e03033ad37da3339e31554de7635e7', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 17, 'created': '2018-11-26 05:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5d62bdf36bd767fb63ca10e1cb968b2cc7721fc', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 18, 'created': '2018-12-11 00:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2ab7cedf71c0414e4c48d835857699245d26754', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 19, 'created': '2018-12-20 02:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfc97150c0e032c7a8f3d9761e4788f2d5e69dc6', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 20, 'created': '2019-01-03 23:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82a484f7c758681706dae9f0f63150ccd8b7c5bc', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 21, 'created': '2019-01-17 00:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b82df1078ad3eaf91ac280dbfa0f1f53c3dc1c10', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 22, 'created': '2019-01-24 23:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2462c506c6c4a168f2e3429e3ce0ddb5362b74dc', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 23, 'created': '2019-01-31 00:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5126eafb8c4230ca9e55d40f448de786d324e15', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 24, 'created': '2019-02-07 02:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bd7c409aacd53d37fda25d0f7033e23e0ca53a2', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 25, 'created': '2019-02-15 06:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/561c233f6515074c909ed2cccfef48ac210269b7', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 26, 'created': '2019-03-01 03:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cda71fd83b98d8f63c5d8e4f249dab2b4d91ad7', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 27, 'created': '2019-03-04 01:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/542308ae97875f81a913000843cbf9cb87463988', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 28, 'created': '2019-03-11 01:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac5076b2ce21db9fdd0c63e198199a5df4252227', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 29, 'created': '2019-03-25 02:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2445e14d77ff5bef91ee935beea797b8adf59c9', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-stein\n'}, {'number': 30, 'created': '2019-03-25 05:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e376f1516acd58b8a3bdfb2c57dcd1e4e492bb5e', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-train\n'}, {'number': 31, 'created': '2019-03-25 05:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c84ab6d7e57fb99627a85212b9f520c70c52329', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-train\n'}, {'number': 32, 'created': '2019-04-01 01:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23b583bd25a84d5865a758bb9683c4091940b077', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-train\n'}, {'number': 33, 'created': '2019-04-12 00:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d98754664f172765c28e802296a3a698a36b0ee6', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-train\n'}, {'number': 34, 'created': '2019-04-22 07:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32f872086711c4591feeeacccad4bca78a08577e', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-train\n'}, {'number': 35, 'created': '2019-04-22 07:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29ad3138fb0f47bd11c166a8ca3bdcb5f8a0d313', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-train\n'}, {'number': 36, 'created': '2019-05-04 21:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5136b0a53876ecee8f74d8d2d23d1ada51c70584', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-train\n'}, {'number': 37, 'created': '2019-05-13 04:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38649dc508f579dc7f012dddebafd2ccbd5a7bea', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-train\n'}, {'number': 38, 'created': '2019-05-27 22:03:19.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f3aedfe720f369efb64cdc01effedc5b95b1bf3', 'message': 'Remove mox in unit/network/test_neutronv2.py (8)\n\nReplace mox with mock in the following methods\nin the TestNeutronv2 class\nin nova/tests/unit/network/test_neutronv2.py.\nThen moves the methods to the TestNeutronv2WithMock class.\n\n* test_allocate_for_instance_ex2\n* test_allocate_for_instance_no_port_or_network\n* test_allocate_for_instance_with_externalnet_forbidden\n* test_allocate_for_instance_with_externalnet_multiple\n\nChange-Id: Ic19074165422d85430211b44fc685d0c2cb6f216\nImplements: blueprint mox-removal-train\n'}]",2,575311,7f3aedfe720f369efb64cdc01effedc5b95b1bf3,311,12,38,7634,,,0,"Remove mox in unit/network/test_neutronv2.py (8)

Replace mox with mock in the following methods
in the TestNeutronv2 class
in nova/tests/unit/network/test_neutronv2.py.
Then moves the methods to the TestNeutronv2WithMock class.

* test_allocate_for_instance_ex2
* test_allocate_for_instance_no_port_or_network
* test_allocate_for_instance_with_externalnet_forbidden
* test_allocate_for_instance_with_externalnet_multiple

Change-Id: Ic19074165422d85430211b44fc685d0c2cb6f216
Implements: blueprint mox-removal-train
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/575311/34 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/network/test_neutronv2.py'],1,e88febf4d99b6bd8ccf2db0dc2e9c7e1642d0286,bp/mox-removal-train," @mock.patch.object(neutronapi, 'get_client') def test_allocate_for_instance_ex2(self, mock_get_client): """"""verify we have no port to delete if we fail to allocate the first net resource. Mox to raise exception when creating the first port. In this case, the code should not delete any ports. """""" mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id=net['id']) for net in (self.nets2[0], self.nets2[1])]) mocked_client.list_networks.return_value = {'networks': self.nets2} port_req_body = { 'port': { 'network_id': self.nets2[0]['id'], 'admin_state_up': True, 'device_id': self.instance.uuid, 'tenant_id': self.instance.project_id, }, } mocked_client.create_port.side_effect = Exception( ""fail to create port"") self.assertRaises(NEUTRON_CLIENT_EXCEPTION, self.api.allocate_for_instance, self.context, self.instance, False, requested_networks=requested_networks) mock_get_client.assert_called_once_with(self.context) mocked_client.list_networks.assert_called_once_with( id=[uuids.my_netid1, uuids.my_netid2]) mocked_client.create_port.assert_called_once_with(port_req_body) @mock.patch.object(neutronapi.API, '_get_available_networks') @mock.patch.object(neutronapi, 'get_client') def test_allocate_for_instance_no_port_or_network( self, mock_get_client, mock_get_available): mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) # Make sure we get an empty list and then bail out of the rest # of the function mock_get_available.side_effect = test.TestingException requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest()]) self.assertRaises(test.TestingException, self.api.allocate_for_instance, self.context, self.instance, False, requested_networks) mock_get_client.assert_called_once_with(self.context) mock_get_available.assert_called_once_with( self.context, self.instance.project_id, [], neutron=mocked_client, auto_allocate=False) @mock.patch.object(neutronapi, 'get_client') def test_allocate_for_instance_with_externalnet_forbidden( self, mock_get_client): """"""Only one network is available, it's external, and the client is unauthorized to use it. """""" mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) mocked_client.list_networks.side_effect = [ # no networks in the tenant {'networks': model.NetworkInfo([])}, # external network is shared {'networks': self.nets8}] self.assertRaises(exception.ExternalNetworkAttachForbidden, self.api.allocate_for_instance, self.context, self.instance, False, None) mock_get_client.assert_called_once_with(self.context) mocked_client.list_networks.assert_has_calls([ mock.call(tenant_id=self.instance.project_id, shared=False), mock.call(shared=True)]) self.assertEqual(2, mocked_client.list_networks.call_count) @mock.patch.object(neutronapi, 'get_client') def test_allocate_for_instance_with_externalnet_multiple( self, mock_get_client): """"""Multiple networks are available, one the client is authorized to use, and an external one the client is unauthorized to use. """""" mocked_client = mock.create_autospec(client.Client) mock_get_client.return_value = mocked_client self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) mocked_client.list_networks.side_effect = [ # network found in the tenant {'networks': self.nets1}, # external network is shared {'networks': self.nets8}] self.assertRaises( exception.NetworkAmbiguous, self.api.allocate_for_instance, self.context, self.instance, False, None) mock_get_client.assert_called_once_with(self.context) mocked_client.list_networks.assert_has_calls([ mock.call(tenant_id=self.instance.project_id, shared=False), mock.call(shared=True)]) self.assertEqual(2, mocked_client.list_networks.call_count) "," def test_allocate_for_instance_ex2(self): """"""verify we have no port to delete if we fail to allocate the first net resource. Mox to raise exception when creating the first port. In this case, the code should not delete any ports. """""" self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) api = neutronapi.API() requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id=net['id']) for net in (self.nets2[0], self.nets2[1])]) neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.moxed_client.list_networks( id=[uuids.my_netid1, uuids.my_netid2]).AndReturn( {'networks': self.nets2}) port_req_body = { 'port': { 'network_id': self.nets2[0]['id'], 'admin_state_up': True, 'device_id': self.instance.uuid, 'tenant_id': self.instance.project_id, }, } self.moxed_client.create_port( MyComparator(port_req_body)).AndRaise( Exception(""fail to create port"")) self.mox.ReplayAll() self.assertRaises(NEUTRON_CLIENT_EXCEPTION, api.allocate_for_instance, self.context, self.instance, False, requested_networks=requested_networks) def test_allocate_for_instance_no_port_or_network(self): class BailOutEarly(Exception): pass self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) api = neutronapi.API() neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) self.mox.StubOutWithMock(api, '_get_available_networks') # Make sure we get an empty list and then bail out of the rest # of the function api._get_available_networks(self.context, self.instance.project_id, [], neutron=self.moxed_client, auto_allocate=False).\ AndRaise(BailOutEarly) self.mox.ReplayAll() requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest()]) self.assertRaises(BailOutEarly, api.allocate_for_instance, self.context, self.instance, False, requested_networks) def test_allocate_for_instance_with_externalnet_forbidden(self): """"""Only one network is available, it's external, and the client is unauthorized to use it. """""" self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) # no networks in the tenant self.moxed_client.list_networks( tenant_id=self.instance.project_id, shared=False).AndReturn( {'networks': model.NetworkInfo([])}) # external network is shared self.moxed_client.list_networks(shared=True).AndReturn( {'networks': self.nets8}) self.mox.ReplayAll() api = neutronapi.API() self.assertRaises(exception.ExternalNetworkAttachForbidden, api.allocate_for_instance, self.context, self.instance, False, None) def test_allocate_for_instance_with_externalnet_multiple(self): """"""Multiple networks are available, one the client is authorized to use, and an external one the client is unauthorized to use. """""" self.instance = fake_instance.fake_instance_obj(self.context, **self.instance) neutronapi.get_client(mox.IgnoreArg()).AndReturn(self.moxed_client) # network found in the tenant self.moxed_client.list_networks( tenant_id=self.instance.project_id, shared=False).AndReturn( {'networks': self.nets1}) # external network is shared self.moxed_client.list_networks(shared=True).AndReturn( {'networks': self.nets8}) self.mox.ReplayAll() api = neutronapi.API() self.assertRaises( exception.NetworkAmbiguous, api.allocate_for_instance, self.context, self.instance, False, None) ",105,98
openstack%2Fnova~master~I3847567601a5bd38e9774f75914b6dda50c9dd40,openstack/nova,master,I3847567601a5bd38e9774f75914b6dda50c9dd40,Add BFV wrinkle to TestNovaManagePlacementHealAllocations,MERGED,2019-04-12 00:45:27.000000000,2019-05-30 18:32:45.000000000,2019-05-30 18:32:45.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-12 00:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62d29b31feee8381f427cf64ad44a2d2986a885f', 'message': ""Add BFV wrinkle to TestNovaManagePlacementHealAllocations\n\nThe heal_allocations command is using the\nnova.scheduler.utils.resources_from_flavor method to build\nthe dictionary of resource allocations to PUT to placement\nand that method has a volume-backed instance check in it to\navoid creating DISK_GB allocations for volume-backed servers.\nWe weren't testing any volume-backed servers in the\nheal_allocations functional tests though so this adds a\nwrinkle to add that coverage.\n\nChange-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40\n""}, {'number': 2, 'created': '2019-04-12 00:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/263bc5554ec7f7ad0882606383d60d03d0d6ba2e', 'message': ""Add BFV wrinkle to TestNovaManagePlacementHealAllocations\n\nThe heal_allocations command is using the\nnova.scheduler.utils.resources_from_flavor method to build\nthe dictionary of resource allocations to PUT to placement\nand that method has a volume-backed instance check in it to\navoid creating DISK_GB allocations for volume-backed servers.\nWe weren't testing any volume-backed servers in the\nheal_allocations functional tests though so this adds a\nwrinkle for that coverage.\n\nChange-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40\n""}, {'number': 3, 'created': '2019-04-15 14:35:09.000000000', 'files': ['nova/tests/functional/test_nova_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c00912db51f6af42c8560b0c0981940a41100d63', 'message': ""Add BFV wrinkle to TestNovaManagePlacementHealAllocations\n\nThe heal_allocations command is using the\nnova.scheduler.utils.resources_from_flavor method to build\nthe dictionary of resource allocations to PUT to placement\nand that method has a volume-backed instance check in it to\navoid creating DISK_GB allocations for volume-backed servers.\nWe weren't testing any volume-backed servers in the\nheal_allocations functional tests though so this adds a\nwrinkle for that coverage.\n\nChange-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40\n""}]",0,651948,c00912db51f6af42c8560b0c0981940a41100d63,23,12,3,6873,,,0,"Add BFV wrinkle to TestNovaManagePlacementHealAllocations

The heal_allocations command is using the
nova.scheduler.utils.resources_from_flavor method to build
the dictionary of resource allocations to PUT to placement
and that method has a volume-backed instance check in it to
avoid creating DISK_GB allocations for volume-backed servers.
We weren't testing any volume-backed servers in the
heal_allocations functional tests though so this adds a
wrinkle for that coverage.

Change-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/651948/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_nova_manage.py'],1,62d29b31feee8381f427cf64ad44a2d2986a885f,heal_allocations_dry_run,"from nova.tests import fixtures as nova_fixtures self.useFixture(nova_fixtures.CinderFixtureNewAttachFlow(self)) def _boot_and_assert_no_allocations(self, flavor, hostname, volume_backed=False): :param volume_backed: True if the server should be volume-backed and as a result not have any DISK_GB allocation if volume_backed: vol_id = nova_fixtures.CinderFixtureNewAttachFlow.IMAGE_BACKED_VOL server_req['block_device_mapping_v2'] = [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': vol_id }] server_req['imageRef'] = '' server, rp_uuid = self._boot_and_assert_no_allocations( self.flavor, 'cell1', volume_backed=True) # Make sure there is no DISK_GB allocation for the volume-backed # instance. allocs = self._get_allocations_by_server_uuid( server['id'])[rp_uuid]['resources'] self.assertNotIn('DISK_GB', allocs)"," def _boot_and_assert_no_allocations(self, flavor, hostname): server, _ = self._boot_and_assert_no_allocations( self.flavor, 'cell1')",22,3
openstack%2Fnova-specs~master~I085adb4ba8f84b60a5c712693cb79ffb87ac7434,openstack/nova-specs,master,I085adb4ba8f84b60a5c712693cb79ffb87ac7434,Resource Management Daemon - Last Level Cache,ABANDONED,2019-04-09 13:19:52.000000000,2019-05-30 18:24:23.000000000,,"[{'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 29334}, {'_account_id': 30001}]","[{'number': 1, 'created': '2019-04-09 13:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/07a3822300b2e4f39543fc74cc5763fb2fdfd015', 'message': 'Nova LLC allocation - RMD plugin for RDT CAT\n\nWe propose changes required in Nova Compute to leverage RMD and Nova\nCompute integration to enable support for LLC allocation to cores\nassigned to a VM.\n\nChange-Id: I085adb4ba8f84b60a5c712693cb79ffb87ac7434\nImplements: blueprint nova-llc-allocation-rmd-plugin-for-rdt-cat\nSigned-off-by: Dakshina Ilangovan <dakshina.ilangovan@intel.com>\n'}, {'number': 2, 'created': '2019-04-09 22:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/362ea2237bf67a047ba77853ecb98675572e3696', 'message': 'Nova LLC allocation - RMD plugin for RDT CAT\n\nWe propose changes required in Nova Compute to leverage RMD and Nova\nCompute integration to enable support for LLC allocation to cores\nassigned to a VM.\n\nChange-Id: I085adb4ba8f84b60a5c712693cb79ffb87ac7434\nImplements: blueprint nova-llc-allocation-rmd-plugin-for-rdt-cat\nSigned-off-by: Dakshina Ilangovan <dakshina.ilangovan@intel.com>\n'}, {'number': 3, 'created': '2019-04-10 17:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5b47899a3f9e6cd41f047ac3b8731b46097c0569', 'message': 'Nova LLC allocation - RMD plugin for RDT CAT\n\nWe propose changes required in Nova Compute to leverage RMD and Nova\nCompute integration to enable support for LLC allocation to cores\nassigned to a VM.\n\nChange-Id: I085adb4ba8f84b60a5c712693cb79ffb87ac7434\nImplements: blueprint nova-llc-allocation-rmd-plugin-for-rdt-cat\nSigned-off-by: dakshinai <dakshina.ilangovan@intel.com>\n'}, {'number': 4, 'created': '2019-04-10 19:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2d957fa97e528d31aef9fd44e2f4cf9b254f5029', 'message': 'Resource Management Daemon - Last Level Cache\n\nWe propose changes required in Nova Compute to leverage RMD and Nova\nCompute integration to enable support for LLC allocation to cores\nassigned to a VM.\n\nChange-Id: I085adb4ba8f84b60a5c712693cb79ffb87ac7434\nImplements: blueprint rmd-llc\nSigned-off-by: dakshinai <dakshina.ilangovan@intel.com>\n'}, {'number': 5, 'created': '2019-04-16 21:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/92e077f922a5a9751a8f3c3cb2c3390b88230d41', 'message': 'Resource Management Daemon - Last Level Cache\n\nWe propose changes required in Nova Compute to leverage RMD and Nova\nCompute integration to enable support for LLC allocation to cores\nassigned to a VM.\n\nChange-Id: I085adb4ba8f84b60a5c712693cb79ffb87ac7434\nImplements: blueprint rmd-llc\nSigned-off-by: dakshinai <dakshina.ilangovan@intel.com>\n'}, {'number': 6, 'created': '2019-04-16 21:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/98e03b7df4ba96c24185cf2f16c2a89f7f5e1b7c', 'message': 'Resource Management Daemon - Last Level Cache\n\nWe propose changes required in Nova Compute to leverage RMD and Nova\nCompute integration to enable support for LLC allocation to cores\nassigned to a VM.\n\nChange-Id: I085adb4ba8f84b60a5c712693cb79ffb87ac7434\nImplements: blueprint rmd-llc\nSigned-off-by: dakshinai <dakshina.ilangovan@intel.com>\n'}, {'number': 7, 'created': '2019-04-16 21:24:56.000000000', 'files': ['specs/train/approved/rmd-llc.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c0e0637e8b76631ecb4fc69b28adc89b5f3e4574', 'message': 'Resource Management Daemon - Last Level Cache\n\nWe propose changes required in Nova Compute to leverage RMD and Nova\nCompute integration to enable support for LLC allocation to cores\nassigned to a VM.\n\nChange-Id: I085adb4ba8f84b60a5c712693cb79ffb87ac7434\nImplements: blueprint rmd-llc\nSigned-off-by: dakshinai <dakshina.ilangovan@intel.com>\n'}]",1,651233,c0e0637e8b76631ecb4fc69b28adc89b5f3e4574,17,8,7,29334,,,0,"Resource Management Daemon - Last Level Cache

We propose changes required in Nova Compute to leverage RMD and Nova
Compute integration to enable support for LLC allocation to cores
assigned to a VM.

Change-Id: I085adb4ba8f84b60a5c712693cb79ffb87ac7434
Implements: blueprint rmd-llc
Signed-off-by: dakshinai <dakshina.ilangovan@intel.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/33/651233/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/nova-llc-allocation-rmd-plugin-for-rdt-cat.rst'],1,07a3822300b2e4f39543fc74cc5763fb2fdfd015,bp/rmd-llc,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Nova LLC allocation - RMD plugin for RDT CAT ============================================ https://blueprints.launchpad.net/nova/+spec/nova-llc-allocation-rmd-plugin-for-rdt-cat This document describes the changes required to Nova Compute to support LLC allocation using RMD [2]_ and RMD plugin for RDT CAT. Intel RDT (Resource Director Technology) framework includes Cache Allocation Technology (CAT) and Memory Bandwidth Allocation (MBA) among others. These functions deliver visibility and control over how shared resources such as last-level cache and memory bandwidth are used by applications, virtual machines (VMs) and containers. LLC is CPU bound resource that can also be associated to a NUMA topology. On current generation systems there is one LLC per socket but we could have multiple separate LLC. With CAT, each LLC is measured in cache ways and a size of cache way is determined by total size of LLC in MB and number of cache ways available. The cache ways are logically partitioned using Class of Service (CLOS). Number of such available CLOS is platform dependent. Using the feature of CLOS, we can associate a segment of LLC for sole use by set of processes described using PIDs and set of cores using core IDs. The segment mapping also allows to dedicate LLC way in shared or overlapped manner between processes or cores. The benefit of such a feature is the high priority process need not contend for cache ways with low priority processes. We can also isolate noisy neighbors to their own segment of LLC or oversubscribe cache ways on the platform to set of processes that require best-effort performance by providing cache ways in shared manner or with overlap to each other. LLC being a resource that is continuously sensitive to changing workloads requirements can now be fine-tuned during run-time of the workload. Currently the allocation of LLC ways to processes or cores with CLOS can be controlled using Linux resctrl file system starting kernel version 4.10 or with backward compatibility on kernel version less than 4.10 using intel-cat-cmt library that uses MSR registers. We can derive two requirements for this feature that is fulfilled using RMD and RMD plugin for RDT CAT 1. QoS based static configuration of LLC ways to workloads described as set of process IDs or core IDs. LLC ways can be allocated in a dedicated or shared manner. LLC ways can also be reserved for system process like OS and infrastructure process like OVS, vRouter for NFV based deployments. 2. Policy based monitoring and fine-tuning of LLC ways assigned to workloads in a closed-loop manner. Problem description =================== We can derive two requirements from Intel RDT CAT that is fulfilled using RMD and RMD plugin for RDT CAT 1. QoS based static configuration of LLC ways to workloads described as set of process IDs or core IDs. LLC ways can be allocated in a dedicated or shared manner. LLC ways can also be reserved for system process like OS and infrastructure process like OVS, vRouter for NFV based deployments. 2. Policy based monitoring and fine-tuning of LLC ways assigned to workloads in a closed-loop manner. We propose changes required in Nova Compute to leverage RMD and Nova Compute integration as described in spec [1]_ to enable support for LLC allocation to cores assigned to a VM. Use Cases --------- **Functional Goals** * As a Sys-Admin I want to be able to setup the initial state of the LLC segments on the platform. Sys-admin expects to reserve LLC ways for critical system processes like OS or overlap LLC ways used by infrastructure processes with remaining available LLC ways for workloads for fast access and performance. RMD plugin should provide the hardware interface to support this goal. * As a tenant (VNF-M) I want the platform resource manager. RMD to apply the initial LLC allocation values along with QoS such as dedicated or shared for cores pinned to the VNF as described in the VNF policy once after the workload is successfully started. RMD plugin should provide the hardware interface to support this goal. **Under-cloud Orchestration Goals** * As a Sys-Admin performing an under-cloud deployment and node configuration I want to be able to deliver a policy artefact (Node policy) to define the default segmentation of LLC per set of cores. **OpenStack Orchestration Goals** * As a tenant (VNF-M) I want to be able to spin up a VM on a host providing the feature RDT-CAT in the platform by advertising the feature as part of EPA. The tenant is able to request VM that will use specific CPU Cores and specific number of LLC ways declared in the VNF policy by declaring the need of a RDT-CAT enabled node on the cloud and the orchestrator shall know how to interpret this request correctly. * As a tenant (VNF-M) I want the workload to be pinned to a group of CPU cores capable of providing the requested number of LLC ways declared in the VNF policy. * As a tenant (VNF-M) I want to be able to deliver to RMD the location of the policy describing the LLC way allocation per VNF to the platform. The orchestrator shall be able to understand the parameter in the flavor definition and deliver it to the right component in the platform - RMD. * As a tenant (VNF-M) I want to be able to manage the rejection of a workload scheduling if the CPU cores available cannot be allocated the requested number of LLC ways. If the VM creation process fails at any stage, the tenant should receive a clear notification of the failure to be able to handle the situation. **RMD Dependent Goals** * As the platform resource manager RMD (software component) I want to be able to match the base platform policy definitions with the workload (VNF) policy definitions and compute the applicability of the VNF's demands. * As a Workload (VNF) I want the LLC ways allocated to the cores assigned to the VNF to be fine-tuned to the workload demands as defined by the VNF's policy delivered by the tenant (VNF-M). This is out of scope for T release until RMD's closed loop automation feature is upstream. Proposed change =============== Through the introduction of the RMD-Plugin for RDT-CAT in Resource Management Daemon (RMD), Nova can interact with the exposed RMD APIs to allow tenants to manage specific hardware features on a compute node during runtime without the need of decommission and reconfiguration offline of the node, in this specific case, to modify the LLC allocation for cores assigned to the workload, to increase the throughput of a workload during a high demand peaks. The behavior of the plugin is defined via a policy artifact that is handled by RMD. The policy shall be delivered to RMD through the interpretation of a flavor ""extra_specs"". Nova RMD integration details in outlined in the spec described at [1]_ Nova compute changes in the virt-driver specific to enable LLC allocation per VM cores using RMD is outlined below: * Query RMD to get the inventory of resources it manages by polling The virt-driver will query resource inventory information from RMD's REST interface GET /cache/l3 as part of its update_resource_provider_tree() method. * Update the resource inventory information, obtained from RMD, to the Placement API The virt-driver should update resource inventory information reported by RMD about its corresponding compute node to the Placement API. The placement information is be reflected using nested resource providers with the compute node at the root followed by child resource provider to describe resources per socket - namely CPU cores and LLC. LLC is quantified using the unit MB (MegaByte). Each LLC is logically partitioned into LLC pools - Guaranteed and Shared. ""Guaranteed"" LLC pool allows dedicated and isolated assignment of a segment of LLC ways for each workload and ""Shared"" LLC pool allows shared assignment of a single segment of LLC to workloads. ""Guaranteed"" Resource Class in Placement is reported using the fields 1. ""total"" - size of Guaranteed LLC pool in MB 2. ""step_size"" - size of 1 LLC way in MB 3. Reserved cache ways for processes like OS can be reported using the field ""reserved"" - size of OS LLC pool in MB ""Shared"" Resource Class in Placement is reported using the fields 1. ""total"" – size of Shared LLC pool in MB 2. ""min_size"" – size of Shared LLC pool in MB 3. ""max_size"" – size of Shared LLC pool in MB 4. ""allocation_ratio"" – number of workloads allowed to share LLC ways in the Shared LLC pool. This implies, the Shared LLC pool is oversubscribed. E.g. If size of shared LLC pool = 3 and if RMD is configured to allow upto 10 workloads, we report to Openstack that shared LLC pool of size 3 is oversubscribed to reflect capacity of 30 (so that 30/3 = 10 workloads can exist). * Formulate resource allocation request to RMD from new Extra Specs in Openstack flavor that comprehend RMD managed resources The administrator is expected to configure Extra Specs in Openstack flavor to let users request for resources reported and managed by RMD. The flavor extra_specs holds a. the number of vCPUs required b. the number of LLC ways to assign to the selected vCPUs c. the type of LLC allocation – dedicated or shared Since LLC is a NUMA bound resource and we need to translate user requirements for CPU cores and LLC ways, the LLC ways must belong to the same NUMA as the requested CPU cores. Hence, we simplify this requirement to co-locate allocation of LLC and vCPUs to a single NUMA using granular resource requests. :: resources1: VCPU=4 resources1: CUSTOM_GUARANTEED_LLC=5 Alternatives ------------ The alternative to this approach is to decommission the node and establish a different LLC segment based configuration. This defeats the purpose of the hardware feature as the cores will be setup to specific LLC allocation value and workloads may under or over-utilize the LLC, leading to impact the performance of the running workload as well as other workloads contending for LLC. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- The northbound interface provided by RMD needs to verify access to the resource feature and hence RMD access is authenticated. The configuration required to talk to RMD could be held as part of the Nova local configuration via certificates for mutual authentication. Optional mechanisms imply the extension of the RMD API to implement keystone components. Notifications impact -------------------- The failure to spawn a VM due errors from RMD. This may require Openstack to expose the RMD return message logs. Other end user impact --------------------- For each workload requiring a different RMD LLC allocation policy, the tenant will be required to create a flavor with different values. Performance Impact ------------------ When creating a VM requiring specific CPU cores and LLC allocation values, the nova virt driver will perform an extra step to communicate with RMD and deliver the policy parameters for LLC allocation. This will introduce a locking period to wait for the verification of the RMD's workload policy and then for the reconfiguration of the hardware. The performance impact will depend on the complexity of the policy and the specific LLC reconfiguration time. Other deployer impact --------------------- The deployer should ensure that RMD core components and the RMD plugin for RDT-CAT is installed. This shall be handled by the sys-admin as part of the under-cloud configuration process. Developer impact ---------------- Nova virt driver requires changes to interact with RMD when the configuration ""rmd_enabled=true"" is present in the section [compute]. Nova virt-driver also requires changes to extract details from the flavor extra_specs to create the RMD workload policy and deliver it to respect RMD REST APIs. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: Dakshina Ilangovan Ivens Zambrano Joseph Gasparakis Work Items ---------- **Under-cloud and configuration steps** 1. The compute node CPU SKU should support Intel RDT – CAT technology. 2. The under-cloud deployment tool installs the kernel version supporting RDT resctrl fs, Operating System and the RMD software component. 3. The under-cloud deployment tool delivers the RMD's ""node policy"" as defined by the under-cloud sysadmin. The node policy will hold definitions for multiple RMD plugins (not just for ""RMD-Plugin for RDT-CAT""). Node policy contains configuration items to reserve LLC ways to system processes like OS and infrastructure processes if needed for NFV based deployments and configure RMD cache pool layouts. 4. The plugins defined by the policy are loaded for RMD from the object store holding them 5. RMD gets started and it reads RMD's ""node policy"" and performs the initial configuration for every resource as described by the policy. 6. Initialization outcome: a. The initialization of resources could fail and the under-cloud deployment process will report as failed on the compromised node. b. The initialization of resources succeeds and the enablement of the node continues. 7. The under-cloud deployment tool continues with the compute node configuration by installing the nova components. 8. To indicate the existence of RMD a line is added to the nova.conf section [compute] rmd_enable=true. In the event RMD is unavailable though nova.conf.rmd=true, resource inventory is not updated and resource feature is unavailable. 9. From now on, any request to create a VM requiring specific LLC ways through the flavor extra_specs, will perform a call to RMD's API to setup the right resources configuration. 10. The CPU capabilities and features are queried from RMD by nova as part of the update_provider_tree to get CPU/LLC numa topology information and CPU RDT flags. This information is translated to the right provider tree and inventory structure and synced back to placement API a. RMD errors during update resource provider tree calls renders resource unavailable. b. The resources in this case will need to be represented using a fine grain mechanisms like nested resource providers. **VM deployment steps** 1. RMD's ""workload policy"" artefact is added to a well know location accessible from the RMD process running on the node. 2. A new flavor is created by the tenant and the flavor extra_specs holds: a. The number of vCPUs required i. Note that while it is possible to associate LLC ways to PIDs (process IDs), in the case of floating CPU's over multiple sockets, with one LLC per socket, hardware requires to provide minimum LLC way allocation on each LLC. This presents a conflict between replicating requested LLC ways per LLC and evenly distributing among all LLC. Both options will present inconsistencies to tracking in placement allocation table after allocation. If vCPUs belong to multiple NUMA, we must replicate the requested LLC way allocation on all the NUMA the vCPUs belong to. Hence, we simplify the requirements to associate LLC ways to vCPUs and co-locate allocation of LLC and vCPUs to a single NUMA. ii. We also need to report LLC as a per NUMA resource in placement. Each compute node resource provider in placement can report resources co-located to a socket as a child resource provider. LLC and CPU cores co-located to a socket are described in their corresponding child resource provider. b. The number of LLC ways to assign to the selected vCPUs i. LLC will be quantified with MB (MegaByte) as the unit since the value of one LLC way in MB varies from each compute node and it is hard for VNF-M to estimate the actual MB value of an LLC that is expressed in LLC ways. ii. In order to avoid conversion approximation while converting MB to LLC way units, we expect the user to request LLC MB values as multiples of size of one LLC way in MB * E.g. If 1 LLC way = 2 MB, for the workload to land on such a compute node, the user must request LLC in multiples of 2 MB, so that 2 MB translates to 1 LLC way, 4 MB to 2 LLC way and so on. * Each compute node will report inventory along with size of 1 LLC way in the field ""step_size"". * The Sys-admin is expected to create multiple flavor types for LLC based on ""step_size"" for VNF-M to choose from. c. The type of LLC allocation – dedicated or shared i. LLC is subdivided into LLC cache pools, namely 1. ""Guaranteed"" that allows dedicated and isolated assignment of a segment of LLC ways for each workload. 2. ""Shared"" that allows shared assignment of a single segment of LLC to workloads. E.g. Total = 11 LLC ways. Node policy can configure RMD ""Guaranteed"" cache pool size = 8 and ""Shared"" cache pool size = 3"". ii. We will report a ""Guaranteed"" Resource Class in Placement using fields 1. ""total"" - size of Guaranteed LLC pool in MB 2. ""step_size"" - size of 1 LLC way in MB 3. Reserved cache ways for processes like OS can be reported using the field ""reserved"" - size of OS LLC pool in MB iii. We will report a ""Shared"" Resource Class using fields 1. ""total"" – size of Shared LLC pool in MB 2. ""min_size"" – size of Shared LLC pool in MB 3. ""max_size"" – size of Shared LLC pool in MB 4. ""allocation_ratio"" – number of workloads allowed to share LLC ways in the Shared LLC pool. This implies, the Shared LLC pool is oversubscribed. E.g. If size of shared LLC pool = 3 and if RMD is configured to allow upto 10 workloads, we report to Openstack that shared LLC pool of size 3 is oversubscribed to reflect capacity of 30 (so that 30/3 = 10 workloads can exist). 3. A new VM is requested of that specific flavor. 4. Scheduler queries the resource provider tree to identify the cores with the characteristics required by the flavor that are available. 5. The virt-driver queries RMD for additional information pertaining to LLC topology and RMD cache pool layout. 6. The scheduler sends the placement request to the node, the nodes send the metadata to RMD a. The CPU pinning requirements are verified by nova virt driver if specified as part of the flavor extra-specs. 7. The virt-driver passes down RMD's ""workload policy"" to RMD using RMD's REST API and waits for RMD's response a. RMD pulls the policy from the location. b. RMD validates the compatibility of the policy. c. RMD checks the configuration required for the VM is applicable on the node. d. The failure of this step will revert the node placement as usual. We can expect late spawn failure due to LLC fragmentation. In the future, we expect ""defragmentation solutions"" to optimize the node under the covers. e. RMD asks the corresponding plugin to apply the required configuration. f. The plugin executes the change in the resource. g. RMD reports back to the nova virt-driver. 8. The virt-driver reports back to the scheduler with the operation result. 9. Placement API gets updated with the resources used and the new state of the node and consumed resources. Dependencies ============ In order to efficiently enable RMD plugin for RDT-CAT and thereby support LLC allocation as a feature from RMD for Openstack, the following dependencies must be met. 1. System dependency – The compute node should deploy CPU SKU that support Intel Resource Directory Technology – Cache Allocation Technology. 2. Platform dependency – resctrl fs should be enabled on the compute node with kernel version >=4.10. For backward compatibility we could use legacy RMD plugin for RDT-CAT that use intel-cat-cmt library for MSR register based control. 3. RMD dependency a. Plugin for RDT-CAT to support allocation per core-ids to co-locate core pinned VMs and LLC based on NUMA. b. RMD node and VNF policy definition for LLC. c. RMD API interface for node level and VNF level policies. 4. CI process need to be in place for the verification and functional validation of the RMD LLC functionality and added to the OpenStack CI verification loop. Testing ======= Refer details from parent spec [1]_ Documentation Impact ==================== Refer details from parent spec [1]_ References ========== .. [1] nova-local-resource-management-that-uses-rmd - https://review.openstack.org/#/c/651130/ .. [2] Resource Management Daemon (RMD) - https://github.com/intel/rmd History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,517,0
openstack%2Fcinder~master~I6be1ca51ba29513fd9b1abe2791a7bb5815e20a3,openstack/cinder,master,I6be1ca51ba29513fd9b1abe2791a7bb5815e20a3,Automate generation of volume transfer api-ref samples,MERGED,2019-03-20 10:35:25.000000000,2019-05-30 18:20:18.000000000,2019-05-30 17:47:24.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20721}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-03-20 10:35:25.000000000', 'files': ['api-ref/source/v3/samples/volume-transfer-show-response.json', 'api-ref/source/v3/samples/volume_transfer/volume-transfer-create-request.json', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfer-accept-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volume_manage_extensions/volume-manage-response.json.tpl', 'api-ref/source/v3/samples/volume_manage_extensions/volume-manage-response.json', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfer-accept-response.json.tpl', 'api-ref/source/v3/samples/volume-transfers-list-response.json', 'api-ref/source/v3/samples/volume_transfer/volume-transfers-list-detailed-response.json', 'api-ref/source/v3/samples/volume_transfer/volume-transfer-accept-response.json', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfers-list-detailed-response.json.tpl', 'api-ref/source/v3/vol-transfer-v3.inc', 'api-ref/source/v3/samples/volume-transfers-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfers-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfer-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_manage_extensions/snapshot-manage-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfer-create-response.json.tpl', 'api-ref/source/v3/os-vol-transfer-v3.inc', 'api-ref/source/v3/samples/volume-transfer-create-request.json', 'api-ref/source/v3/samples/volume_transfer/volume-transfer-show-response.json', 'cinder/tests/functional/api_sample_tests/fakes.py', 'cinder/tests/functional/api_sample_tests/samples/snapshot_manage_extensions/snapshot-manage-request.json.tpl', 'api-ref/source/v3/samples/volume-transfer-create-response.json', 'cinder/tests/functional/api_samples_test_base.py', 'api-ref/source/v3/samples/volume-transfer-accept-response.json', 'api-ref/source/v3/samples/volume_transfer/volume-transfer-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfer-create-request.json.tpl', 'api-ref/source/v3/samples/volume_transfer/volume-transfer-accept-request.json', 'cinder/tests/functional/api_sample_tests/test_volume_transfer.py', 'api-ref/source/v3/samples/volume_transfer/volume-transfers-list-response.json', 'cinder/tests/functional/api_sample_tests/test_snapshot_manage_extensions.py', 'api-ref/source/v3/samples/snapshot_manage_extensions/snapshot-manage-response.json', 'api-ref/source/v3/snapshot-manage.inc', 'api-ref/source/v3/samples/snapshot_manage_extensions/snapshot-manage-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e8ed9d5c0a5dc8d2b8f95cb5af1754a494fb360', 'message': 'Automate generation of volume transfer api-ref samples\n\nThis patch adds the following tests:\n1) Volume transfer\n2) Snapshot manage extensions\n\nChange-Id: I6be1ca51ba29513fd9b1abe2791a7bb5815e20a3\nPartially-Implements: blueprint generating-sample-files\n'}]",2,644818,4e8ed9d5c0a5dc8d2b8f95cb5af1754a494fb360,36,28,1,27615,,,0,"Automate generation of volume transfer api-ref samples

This patch adds the following tests:
1) Volume transfer
2) Snapshot manage extensions

Change-Id: I6be1ca51ba29513fd9b1abe2791a7bb5815e20a3
Partially-Implements: blueprint generating-sample-files
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/644818/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/volume-transfer-show-response.json', 'api-ref/source/v3/samples/volume_transfer/volume-transfer-create-request.json', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfer-accept-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volume_manage_extensions/volume-manage-response.json.tpl', 'api-ref/source/v3/samples/volume_manage_extensions/volume-manage-response.json', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfer-accept-response.json.tpl', 'api-ref/source/v3/samples/volume-transfers-list-response.json', 'api-ref/source/v3/samples/volume_transfer/volume-transfers-list-detailed-response.json', 'api-ref/source/v3/samples/volume_transfer/volume-transfer-accept-response.json', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfers-list-detailed-response.json.tpl', 'api-ref/source/v3/vol-transfer-v3.inc', 'api-ref/source/v3/samples/volume-transfers-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfers-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfer-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_manage_extensions/snapshot-manage-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfer-create-response.json.tpl', 'api-ref/source/v3/os-vol-transfer-v3.inc', 'api-ref/source/v3/samples/volume-transfer-create-request.json', 'api-ref/source/v3/samples/volume_transfer/volume-transfer-show-response.json', 'cinder/tests/functional/api_sample_tests/fakes.py', 'cinder/tests/functional/api_sample_tests/samples/snapshot_manage_extensions/snapshot-manage-request.json.tpl', 'api-ref/source/v3/samples/volume-transfer-create-response.json', 'cinder/tests/functional/api_samples_test_base.py', 'api-ref/source/v3/samples/volume-transfer-accept-response.json', 'api-ref/source/v3/samples/volume_transfer/volume-transfer-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/volume_transfer/volume-transfer-create-request.json.tpl', 'api-ref/source/v3/samples/volume_transfer/volume-transfer-accept-request.json', 'cinder/tests/functional/api_sample_tests/test_volume_transfer.py', 'api-ref/source/v3/samples/volume_transfer/volume-transfers-list-response.json', 'cinder/tests/functional/api_sample_tests/test_snapshot_manage_extensions.py', 'api-ref/source/v3/samples/snapshot_manage_extensions/snapshot-manage-response.json', 'api-ref/source/v3/snapshot-manage.inc', 'api-ref/source/v3/samples/snapshot_manage_extensions/snapshot-manage-request.json']",33,4e8ed9d5c0a5dc8d2b8f95cb5af1754a494fb360,bp/generating-sample-files," ""volume_id"": ""1df34919-aba7-4a1b-a614-3b409d71ac03"""," ""volume_id"": ""7c064b34-1e4b-40bd-93ca-4ac5a973661b""",478,205
openstack%2Ftripleo-puppet-elements~master~I0552c7b9f40567a7c55ce502995f5166aa92c092,openstack/tripleo-puppet-elements,master,I0552c7b9f40567a7c55ce502995f5166aa92c092,Add openldap-clients package to overcloud-controller image,ABANDONED,2019-05-30 15:53:27.000000000,2019-05-30 18:00:26.000000000,,"[{'_account_id': 3153}, {'_account_id': 8866}, {'_account_id': 9098}, {'_account_id': 14985}]","[{'number': 1, 'created': '2019-05-30 15:53:27.000000000', 'files': ['elements/overcloud-controller/pkg-map', 'elements/overcloud-controller/install.d/package-installs-overcloud-controller'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/00110bc5f8b0198f00e1c53cdd1f34eb3ef827e2', 'message': 'Add openldap-clients package to overcloud-controller image\n\nThe openldap-clients package is needed in the overcloud-controller\nimage for use by keystone.  This package is used when keystone is\nconfigured to use an LDAP backend for an identity store.\n\nChange-Id: I0552c7b9f40567a7c55ce502995f5166aa92c092\n'}]",0,662252,00110bc5f8b0198f00e1c53cdd1f34eb3ef827e2,5,4,1,9098,,,0,"Add openldap-clients package to overcloud-controller image

The openldap-clients package is needed in the overcloud-controller
image for use by keystone.  This package is used when keystone is
configured to use an LDAP backend for an identity store.

Change-Id: I0552c7b9f40567a7c55ce502995f5166aa92c092
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/52/662252/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-controller/pkg-map', 'elements/overcloud-controller/install.d/package-installs-overcloud-controller']",2,00110bc5f8b0198f00e1c53cdd1f34eb3ef827e2,openldap-clients-package,openldap_clients_package,,2,0
openstack%2Fnetworking-ovn~stable%2Fstein~Ia17ad3476e61a729136622b4356ce59234ab023a,openstack/networking-ovn,stable/stein,Ia17ad3476e61a729136622b4356ce59234ab023a,metadata: Resync agent when misconfiguration is detected,MERGED,2019-05-23 12:47:04.000000000,2019-05-30 17:54:28.000000000,2019-05-30 17:54:27.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-23 12:47:04.000000000', 'files': ['networking_ovn/agent/metadata/agent.py', 'networking_ovn/tests/functional/test_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3ecd9618d3da1e99064924997ee090e9d6dbff7d', 'message': ""metadata: Resync agent when misconfiguration is detected\n\nIn case of migration, the metadata agent is kept running with old\nbr-migration bridge cached in agent's attribute.  Everything else is\nconfigured correctly but agent still uses old value.  This patch adds a\nresync mechanism that's triggered by PortBindingChassisEvent in case\nagent fails to use currently cached bridge and the bridge doesn't exist\non the system.\n\nCloses-bug: #1824984\nChange-Id: Ia17ad3476e61a729136622b4356ce59234ab023a\n(cherry picked from commit 2037bfe5626c8d451786feae879cfb7aa80c8123)\n""}]",0,660986,3ecd9618d3da1e99064924997ee090e9d6dbff7d,16,8,1,8655,,,0,"metadata: Resync agent when misconfiguration is detected

In case of migration, the metadata agent is kept running with old
br-migration bridge cached in agent's attribute.  Everything else is
configured correctly but agent still uses old value.  This patch adds a
resync mechanism that's triggered by PortBindingChassisEvent in case
agent fails to use currently cached bridge and the bridge doesn't exist
on the system.

Closes-bug: #1824984
Change-Id: Ia17ad3476e61a729136622b4356ce59234ab023a
(cherry picked from commit 2037bfe5626c8d451786feae879cfb7aa80c8123)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/86/660986/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata/agent.py', 'networking_ovn/tests/functional/test_metadata_agent.py']",2,3ecd9618d3da1e99064924997ee090e9d6dbff7d,bug/1824984-stable/stein,"from neutron.common import utils as n_utilsfrom oslo_utils import uuidutils OVN_BRIDGE = 'br-int' # We only have OVN NB and OVN SB running for functional tests mock.patch.object(ovsdb, 'MetadataAgentOvsIdl').start() self._mock_get_ovn_br = mock.patch.object( agent.MetadataAgent, '_get_ovn_bridge', return_value=self.OVN_BRIDGE).start() self.agent = self._start_metadata_agent() '_get_own_chassis_name') as mock_get_ch_name: return agt def _create_metadata_port(self, txn, lswitch_name): mdt_port_name = 'ovn-mdt-' + uuidutils.generate_uuid() txn.add( self.nb_api.lsp_add( lswitch_name, mdt_port_name, type='localport', addresses='AA:AA:AA:AA:AA:AA 192.168.122.123', external_ids={ ovn_const.OVN_CIDRS_EXT_ID_KEY: '192.168.122.123/24'})) def test_agent_resync_on_non_existing_bridge(self): BR_NEW = 'br-new' self._mock_get_ovn_br.return_value = BR_NEW self.agent.ovs_idl.list_br.return_value.execute.return_value = [BR_NEW] # The agent has initialized with br-int and above list_br doesn't # return it, hence the agent should trigger reconfiguration and store # new br-new value to its attribute. self.assertEqual(self.OVN_BRIDGE, self.agent.ovn_bridge) lswitch_name = 'ovn-' + uuidutils.generate_uuid() lswitchport_name = 'ovn-port-' + uuidutils.generate_uuid() with self.nb_api.transaction(check_error=True) as txn: txn.add( self.nb_api.ls_add(lswitch_name, True)) txn.add( self.nb_api.create_lswitch_port( lswitchport_name, lswitch_name, True)) self._create_metadata_port(txn, lswitch_name) # Trigger PortBindingChassisEvent self.sb_api.lsp_bind(lswitchport_name, self.chassis_name).execute() exc = Exception(""Agent bridge hasn't changed from %s to %s "" ""in 10 seconds after Port_Binding event"" % (self.agent.ovn_bridge, BR_NEW)) n_utils.wait_until_true( lambda: BR_NEW == self.agent.ovn_bridge, timeout=10, exception=exc)"," self._start_metadata_agent() # We only have OVN NB and OVN SB running for functional tests p = mock.patch.object(ovsdb, 'MetadataAgentOvsIdl') p.start() self.addCleanup(p.stop) '_get_own_chassis_name') as mock_get_ch_name,\ mock.patch.object(agent.MetadataAgent, '_get_ovn_bridge') as mock_get_ovn_br: mock_get_ovn_br.return_value = 'br-int'",95,32
openstack%2Freleases~master~I84931cebe62d413f77ba0159a415db0ec04a2e7f,openstack/releases,master,I84931cebe62d413f77ba0159a415db0ec04a2e7f,Release 0.12.0 of os-traits,MERGED,2019-04-12 14:04:39.000000000,2019-05-30 17:54:13.000000000,2019-04-12 21:11:45.000000000,"[{'_account_id': 1063}, {'_account_id': 2472}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-12 14:04:39.000000000', 'files': ['deliverables/_independent/os-traits.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a3051461784ef36342b8dbb01ff4ba1b8fb5a910', 'message': ""Release 0.12.0 of os-traits\n\nos-traits is a library of trait symbols used by the placement\nservice and clients of that service to represent qualitative\naspects of resource providers.\n\nThis change releases a 0.12.0 of the package, under the independent\ndeliverable style, switching from cycle related, because that's\nwhat the team prefers. Being independent is considered low risk\nbecause the library is made up of a list of strings which can only\nbe extended.\n\nIt also updates the team to be 'placement' and uses storyboard\ninstead of launchpad.\n\nChange-Id: I84931cebe62d413f77ba0159a415db0ec04a2e7f\n""}]",10,652079,a3051461784ef36342b8dbb01ff4ba1b8fb5a910,19,9,1,11564,,,0,"Release 0.12.0 of os-traits

os-traits is a library of trait symbols used by the placement
service and clients of that service to represent qualitative
aspects of resource providers.

This change releases a 0.12.0 of the package, under the independent
deliverable style, switching from cycle related, because that's
what the team prefers. Being independent is considered low risk
because the library is made up of a list of strings which can only
be extended.

It also updates the team to be 'placement' and uses storyboard
instead of launchpad.

Change-Id: I84931cebe62d413f77ba0159a415db0ec04a2e7f
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/652079/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-traits.yaml'],1,a3051461784ef36342b8dbb01ff4ba1b8fb5a910,os_traits_0_12_0,storyboard: openstack/os-traits team: placementinclude-pypi-link: yes - version: 0.12.0 projects: - repo: openstack/os-traits hash: 1b14058122aa62439fb23de6efb10cce4a3f0c84,launchpad: nova team: nova,7,2
openstack%2Fproject-config~master~Ia921f0e191c0526be9a102629304034b68054d98,openstack/project-config,master,Ia921f0e191c0526be9a102629304034b68054d98,Update promote pipeline precedence,MERGED,2019-05-30 17:17:18.000000000,2019-05-30 17:47:44.000000000,2019-05-30 17:47:43.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 17:17:18.000000000', 'files': ['zuul.d/pipelines.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9f18fc8846ffcc4c0c11abac99f7e0207c70a8cd', 'message': 'Update promote pipeline precedence\n\nChange I45cb34c29d86ca67e75604f6ac3b8af6758f6242 updated the priorities\nof pipelines so that they become progressively higher, this change\nis not reflected in promote pipeline. Promote pipeline\nshould have the same priority as the post pipeline, thus update it and\nchange promote to high precedence.\n\nChange-Id: Ia921f0e191c0526be9a102629304034b68054d98\n'}]",0,662268,9f18fc8846ffcc4c0c11abac99f7e0207c70a8cd,7,3,1,6547,,,0,"Update promote pipeline precedence

Change I45cb34c29d86ca67e75604f6ac3b8af6758f6242 updated the priorities
of pipelines so that they become progressively higher, this change
is not reflected in promote pipeline. Promote pipeline
should have the same priority as the post pipeline, thus update it and
change promote to high precedence.

Change-Id: Ia921f0e191c0526be9a102629304034b68054d98
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/662268/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/pipelines.yaml'],1,9f18fc8846ffcc4c0c11abac99f7e0207c70a8cd,promote, precedence: high, precedence: low,1,1
openstack%2Fopenstack-helm-infra~master~I7c75cd19d62f3dbc3fa4708642119f1781e58677,openstack/openstack-helm-infra,master,I7c75cd19d62f3dbc3fa4708642119f1781e58677,Fluentd: Use OSH Fluentd image with systemd plugin,MERGED,2019-05-28 17:33:31.000000000,2019-05-30 17:47:41.000000000,2019-05-30 17:47:41.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-28 17:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8e302cc8a5b2f5781667dbe086850b5645b35023', 'message': 'Fluentd: Use OSH Fluentd image with systemd plugin\n\nThis updates the default fluentd image to use the fluentd image\nbuilt with the systemd input plugin from the openstack-helm-images\nrepository\n\nChange-Id: I7c75cd19d62f3dbc3fa4708642119f1781e58677\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-05-30 15:28:37.000000000', 'files': ['fluentd/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b5cb4bea286c1bcead40a9d7623fc5486c71f69', 'message': 'Fluentd: Use OSH Fluentd image with systemd plugin\n\nThis updates the default fluentd image to use the fluentd image\nbuilt with the systemd input plugin from the openstack-helm-images\nrepository\n\nChange-Id: I7c75cd19d62f3dbc3fa4708642119f1781e58677\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,661819,1b5cb4bea286c1bcead40a9d7623fc5486c71f69,13,5,2,17591,,,0,"Fluentd: Use OSH Fluentd image with systemd plugin

This updates the default fluentd image to use the fluentd image
built with the systemd input plugin from the openstack-helm-images
repository

Change-Id: I7c75cd19d62f3dbc3fa4708642119f1781e58677
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/19/661819/2 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/values.yaml'],1,8e302cc8a5b2f5781667dbe086850b5645b35023,use-osh-fluentd-image, fluentd: docker.io/openstackhelm/fluentd:latest-debian, fluentd: docker.io/fluent/fluentd-kubernetes-daemonset:v1.2-debian-elasticsearch,1,1
openstack%2Fopenstack-helm-infra~master~I9c720df9677215bdd2bf18be77959bd5f671c0ca,openstack/openstack-helm-infra,master,I9c720df9677215bdd2bf18be77959bd5f671c0ca,"Elasticsearch: Add job history to Curator, update schedule key",MERGED,2019-05-21 18:11:36.000000000,2019-05-30 17:47:40.000000000,2019-05-30 17:47:39.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23294}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-21 18:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4182879c55eec5afe6e53040b1fc0b6ad8add888', 'message': 'Elasticsearch: Add job history to Curator, update schedule key\n\nThis updates the Elastic Curator cron job to include configuration\nfor successful and failed job history limits, similar to the other\ncron jobs we deploy. This also moves the key for configuring the\ncron schedule from under .Values.conf.curator to a new top level\njobs key to maintain consistency\n\nChange-Id: I9c720df9677215bdd2bf18be77959bd5f671c0ca\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-05-21 19:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dfbda77cdb284e3a95d112d020d89320443686d5', 'message': 'Elasticsearch: Add job history to Curator, update schedule key\n\nThis updates the Elastic Curator cron job to include configuration\nfor successful and failed job history limits, similar to the other\ncron jobs we deploy. This also moves the key for configuring the\ncron schedule from under .Values.conf.curator to a new top level\njobs key to maintain consistency\n\nChange-Id: I9c720df9677215bdd2bf18be77959bd5f671c0ca\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-05-24 11:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2261c67c9e1e5f8aeb9808a1f982fe8513e4a8cc', 'message': 'Elasticsearch: Add job history to Curator, update schedule key\n\nThis updates the Elastic Curator cron job to include configuration\nfor successful and failed job history limits, similar to the other\ncron jobs we deploy. This also moves the key for configuring the\ncron schedule from under .Values.conf.curator to a new top level\njobs key to maintain consistency\n\nThis also fixes an indentation issue with the deployment overrides\nfor Curator as well as adds the overrides for the Armada job\n\nChange-Id: I9c720df9677215bdd2bf18be77959bd5f671c0ca\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-05-28 16:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d98473da71c4d1e98d2ba8ef8a6576049f00ec0', 'message': 'Elasticsearch: Add job history to Curator, update schedule key\n\nThis updates the Elastic Curator cron job to include configuration\nfor successful and failed job history limits, similar to the other\ncron jobs we deploy. This also moves the key for configuring the\ncron schedule from under .Values.conf.curator to a new top level\njobs key to maintain consistency\n\nThis also fixes an indentation issue with the deployment overrides\nfor Curator as well as adds the overrides for the Armada job\n\nChange-Id: I9c720df9677215bdd2bf18be77959bd5f671c0ca\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-05-30 15:28:30.000000000', 'files': ['tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'tools/deployment/multinode/120-elasticsearch.sh', 'elasticsearch/values.yaml', 'elasticsearch/templates/cron-job-curator.yaml', 'tools/deployment/armada/manifests/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a8b710083b576e6158cb071210ea73cab0c12e6', 'message': 'Elasticsearch: Add job history to Curator, update schedule key\n\nThis updates the Elastic Curator cron job to include configuration\nfor successful and failed job history limits, similar to the other\ncron jobs we deploy. This also moves the key for configuring the\ncron schedule from under .Values.conf.curator to a new top level\njobs key to maintain consistency\n\nThis also fixes an indentation issue with the deployment overrides\nfor Curator as well as adds the overrides for the Armada job\n\nChange-Id: I9c720df9677215bdd2bf18be77959bd5f671c0ca\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,660486,0a8b710083b576e6158cb071210ea73cab0c12e6,24,8,5,17591,,,0,"Elasticsearch: Add job history to Curator, update schedule key

This updates the Elastic Curator cron job to include configuration
for successful and failed job history limits, similar to the other
cron jobs we deploy. This also moves the key for configuring the
cron schedule from under .Values.conf.curator to a new top level
jobs key to maintain consistency

This also fixes an indentation issue with the deployment overrides
for Curator as well as adds the overrides for the Armada job

Change-Id: I9c720df9677215bdd2bf18be77959bd5f671c0ca
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/86/660486/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'tools/deployment/multinode/120-elasticsearch.sh', 'elasticsearch/values.yaml', 'elasticsearch/templates/cron-job-curator.yaml']",4,4182879c55eec5afe6e53040b1fc0b6ad8add888,curator-job-history, schedule: {{ .Values.jobs.curator.cron | quote }} successfulJobsHistoryLimit: {{ .Values.jobs.curator.history.success }} failedJobsHistoryLimit: {{ .Values.jobs.curator.history.failed }} concurrencyPolicy: Forbid, schedule: {{ .Values.conf.curator.schedule | quote }},11,5
openstack%2Fneutron~master~I794e737c30f597519fba873e36f26b82b6f2c799,openstack/neutron,master,I794e737c30f597519fba873e36f26b82b6f2c799,Add debug information to AutoScheduler and BaseScheduler,MERGED,2019-05-22 16:50:21.000000000,2019-05-30 17:46:56.000000000,2019-05-30 17:46:56.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-22 16:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e25cb9b0531114c89e3686d38286a3f13315501b', 'message': 'Add debug information to AutoScheduler and BaseScheduler\n\nThese new debug lines can be helpful to resolve, in case of hitting\nagain the same problem, the mentioned bug.\n\nChange-Id: I794e737c30f597519fba873e36f26b82b6f2c799\nRelated-Bug: #1799555\n'}, {'number': 2, 'created': '2019-05-23 08:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d5085df9a8e5259ff55eadf1471e5796601adcc', 'message': 'Add debug information to AutoScheduler and BaseScheduler\n\nThese new debug lines can be helpful to resolve, in case of hitting\nagain the same problem, the mentioned bug.\n\nChange-Id: I794e737c30f597519fba873e36f26b82b6f2c799\nRelated-Bug: #1799555\n'}, {'number': 3, 'created': '2019-05-23 16:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c437e10b4a422b8c2747acf5e66ce0de2b2f1f95', 'message': 'Add debug information to AutoScheduler and BaseScheduler\n\nThese new debug lines can be helpful to resolve, in case of hitting\nagain the same problem, the mentioned bug.\n\nChange-Id: I794e737c30f597519fba873e36f26b82b6f2c799\nRelated-Bug: #1799555\n'}, {'number': 4, 'created': '2019-05-28 10:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb29737c6dd2a49b222d9ee7410d1b32ac811795', 'message': 'Add debug information to AutoScheduler and BaseScheduler\n\nThese new debug lines can be helpful to resolve the mentioned bug.\nSometimes the DHCP agent does not reschedule and the log does not\ncontain enough information to debug the problem.\n\nSpotted error during fullstack tests:\nTraceback (most recent call last):\nFile ""/opt/stack/new/neutron/neutron/tests/base.py"", line 151, in func\n  return f(self, *args, **kwargs)\nFile ""/opt/stack/new/neutron/neutron/tests/fullstack/test_dhcp_agent.py"",\n  line 168, in test_reschedule_network_on_new_agent\n  self._wait_until_network_rescheduled(network_dhcp_agents[0])\'\nFile ""/opt/stack/new/neutron/neutron/tests/fullstack/test_dhcp_agent.py"",\n  line 137, in _wait_until_network_rescheduled\n  common_utils.wait_until_true(_agent_rescheduled)\nFile ""/opt/stack/new/neutron/neutron/common/utils.py"", line 646,\n  in wait_until_true\n  raise WaitTimeout(_(""Timed out after %d seconds"") % timeout)\n  neutron.common.utils.WaitTimeout: Timed out after 60 seconds\n\nChange-Id: I794e737c30f597519fba873e36f26b82b6f2c799\nRelated-Bug: #1799555\n'}, {'number': 5, 'created': '2019-05-30 09:58:11.000000000', 'files': ['neutron/scheduler/base_scheduler.py', 'neutron/scheduler/dhcp_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3404d900ef142637869e6e8999d29d712185e95', 'message': 'Add debug information to AutoScheduler and BaseScheduler\n\nThese new debug lines can be helpful to resolve the mentioned bug.\nSometimes the DHCP agent does not reschedule and the log does not\ncontain enough information to debug the problem.\n\nSpotted error during fullstack tests:\nTraceback (most recent call last):\nFile ""/opt/stack/new/neutron/neutron/tests/base.py"", line 151, in func\n  return f(self, *args, **kwargs)\nFile ""/opt/stack/new/neutron/neutron/tests/fullstack/test_dhcp_agent.py"",\n  line 168, in test_reschedule_network_on_new_agent\n  self._wait_until_network_rescheduled(network_dhcp_agents[0])\'\nFile ""/opt/stack/new/neutron/neutron/tests/fullstack/test_dhcp_agent.py"",\n  line 137, in _wait_until_network_rescheduled\n  common_utils.wait_until_true(_agent_rescheduled)\nFile ""/opt/stack/new/neutron/neutron/common/utils.py"", line 646,\n  in wait_until_true\n  raise WaitTimeout(_(""Timed out after %d seconds"") % timeout)\n  neutron.common.utils.WaitTimeout: Timed out after 60 seconds\n\nChange-Id: I794e737c30f597519fba873e36f26b82b6f2c799\nRelated-Bug: #1799555\n'}]",7,660785,b3404d900ef142637869e6e8999d29d712185e95,53,10,5,16688,,,0,"Add debug information to AutoScheduler and BaseScheduler

These new debug lines can be helpful to resolve the mentioned bug.
Sometimes the DHCP agent does not reschedule and the log does not
contain enough information to debug the problem.

Spotted error during fullstack tests:
Traceback (most recent call last):
File ""/opt/stack/new/neutron/neutron/tests/base.py"", line 151, in func
  return f(self, *args, **kwargs)
File ""/opt/stack/new/neutron/neutron/tests/fullstack/test_dhcp_agent.py"",
  line 168, in test_reschedule_network_on_new_agent
  self._wait_until_network_rescheduled(network_dhcp_agents[0])'
File ""/opt/stack/new/neutron/neutron/tests/fullstack/test_dhcp_agent.py"",
  line 137, in _wait_until_network_rescheduled
  common_utils.wait_until_true(_agent_rescheduled)
File ""/opt/stack/new/neutron/neutron/common/utils.py"", line 646,
  in wait_until_true
  raise WaitTimeout(_(""Timed out after %d seconds"") % timeout)
  neutron.common.utils.WaitTimeout: Timed out after 60 seconds

Change-Id: I794e737c30f597519fba873e36f26b82b6f2c799
Related-Bug: #1799555
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/660785/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/scheduler/base_scheduler.py', 'neutron/scheduler/dhcp_agent_scheduler.py']",2,e25cb9b0531114c89e3686d38286a3f13315501b,bug/1799555," debug_data = [] debug_data.append('(%s, %s, %s)' % (agent['agent_type'], agent['id'], net_id)) LOG.debug('Resources bound and agents (agent type, agent id, resource ' 'id): %s', ', '.join(debug_data))",,13,0
openstack%2Fopenstack-ansible~stable%2Fstein~I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,openstack/openstack-ansible,stable/stein,I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,Move hosts file management toggle to all group vars,MERGED,2019-05-30 13:19:28.000000000,2019-05-30 17:42:00.000000000,2019-05-30 17:42:00.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-30 13:19:28.000000000', 'files': ['inventory/group_vars/all/all.yml', 'inventory/group_vars/hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ec9baa4458695fe9df0033902c1e2e033a7c28f8', 'message': ""Move hosts file management toggle to all group vars\n\nIn Queens, the hosts file management began occurring on all hosts\nand containers because openstack_hosts role now runs on all inventory\nitems (prior to Queens, it only ran on 'hosts'). The flag for managing\nthe /etc/hosts management should now be moved to the 'all' group\nvars.\n\nChange-Id: I0a9e8e86cd1eb40f55d40eb291f49563a433fd82\n(cherry picked from commit c06e6b5885b4edf074c118f1be8362926e5a6e0c)\n""}]",0,662211,ec9baa4458695fe9df0033902c1e2e033a7c28f8,7,3,1,17799,,,0,"Move hosts file management toggle to all group vars

In Queens, the hosts file management began occurring on all hosts
and containers because openstack_hosts role now runs on all inventory
items (prior to Queens, it only ran on 'hosts'). The flag for managing
the /etc/hosts management should now be moved to the 'all' group
vars.

Change-Id: I0a9e8e86cd1eb40f55d40eb291f49563a433fd82
(cherry picked from commit c06e6b5885b4edf074c118f1be8362926e5a6e0c)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/662211/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/all/all.yml', 'inventory/group_vars/hosts.yml']",2,ec9baa4458695fe9df0033902c1e2e033a7c28f8,,,"# Disable /etc/hosts management if unbound DNS resolution containers exist openstack_host_manage_hosts_file: ""{{ groups['unbound'] is not defined or groups['unbound'] | length < 1 }}"" ",3,3
openstack%2Fnova-specs~master~I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d,openstack/nova-specs,master,I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d,Spec for API inconsistency cleanup,MERGED,2018-09-20 04:16:51.000000000,2019-05-30 17:20:06.000000000,2019-05-30 17:20:06.000000000,"[{'_account_id': 2}, {'_account_id': 1063}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15888}, {'_account_id': 22348}, {'_account_id': 23509}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-09-20 04:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2795ac0953afe6535b7073ea61cdb49d6a102cef', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 2, 'created': '2018-09-20 04:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a9e90e7933cce723a585a5847e07409333a647e8', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 3, 'created': '2018-09-20 10:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0330af5504f1131c16baf5cd8a708e48ae1cec2e', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 4, 'created': '2018-11-28 09:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f650377e69d2db59226eeca386bd17bd7958cc4f', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 5, 'created': '2018-11-28 09:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e3d229923395b4d076ec0b6e56ce469083acbe88', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 6, 'created': '2019-04-04 02:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1a45b7032c33fbe7a24084261f9e51fdbd1198de', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 7, 'created': '2019-04-08 21:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ae6a7f091c357f5f9eb3ece00e0202edb72ccd01', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 8, 'created': '2019-04-09 04:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/38206779b8ee8c48eb358ba3577084f651b59d21', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 9, 'created': '2019-04-09 04:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9dd8ad5a805a1f6a26f7ef608fe89f56ab755bc4', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 10, 'created': '2019-04-09 17:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/77808d683c10561fb3d81d4c70cfa15114492db8', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 11, 'created': '2019-04-09 20:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5f9b0353c05e9a306daa6442ad34fc076b30f945', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 12, 'created': '2019-04-17 02:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c7732cc6a3dc77cd924cf8f4c17a1b0dae36d66d', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 13, 'created': '2019-04-17 19:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d432b43bae417f3d0e1d86318e39a50bc4f7b5d5', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 14, 'created': '2019-04-18 14:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f7f300463c959233f9d0ad0334529a17be4d61f8', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 15, 'created': '2019-04-18 16:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f1a0d7e65b493589b9c102d17cfe7ed23bc13d30', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 16, 'created': '2019-05-27 09:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/529ec9c298d0f7738f272cdfad08e9b7153ed187', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}, {'number': 17, 'created': '2019-05-30 16:40:11.000000000', 'files': ['specs/train/approved/api-consistency-cleanup.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f81524d40e7bc71bef86d5f1f860a7d1c6a9df7d', 'message': 'Spec for API inconsistency cleanup\n\nAPIImpact\n\nChange-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d\n'}]",140,603969,f81524d40e7bc71bef86d5f1f860a7d1c6a9df7d,79,16,17,8556,,,0,"Spec for API inconsistency cleanup

APIImpact

Change-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/69/603969/16 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/api-consistency-cleanup.rst'],1,2795ac0953afe6535b7073ea61cdb49d6a102cef,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================= API Consistency Cleanup ======================= https://blueprints.launchpad.net/nova/+spec/api-consistency-cleanup This blueprint proposes some of the cleanups in API for consistency and better usage. Problem description =================== Currently, there are lot of inconsistency and loose validation in APIs. Those inconsistency are because of v2 API compatibility. Because of loose validation for request body and query param, APIs ignore the unknown and invalid inputs silently. This gives the impressions to user that, requested unknown or invalid inputs are valid and taken care by Nova. But Nova ignore all unknown or invalid inputs at API layer itself without any warning to users. There are many fields which are being added with extensions mechanism and so does prefix-ed with OS-EXT-* for example ""OS-EXT-AZ:availability_zone"" in GET /servers. Now extensions mechanism is gone and having few response field as OS-EXT* is not easy to understand and they are very much inconsistent from other fields. This is painpoint for API consumer to find the specific response field because those are hidden with OS-EXT* prefix. These are 2 examples of API inconsistency and there might be more such example which are described in Proposed section. Use Cases --------- As a API consumer, I would like to use Nova API in more consistent way and with strong validation for better usage. As a Developer, I would like to provide and maintain better/clean/conssitant APIs. Maintaince can be easy only if we are able to bump the minimum microversion at some point otherwise there is no maintenance benefit from this change. Proposed change =============== Add a new microversion to the APIs to cleanup multiple issues and inconsistency. Proposal is to do all the mentioned cleanup in single microverison. Cleanup List: # 400 for unknown param for query param and for request body. Currently unknown param in server query param or in many other APIs request body are ignored silently. This leads to lot of inconsistency, one good example of this is --deleted and DELETED query for nova --list. Details discussion here - http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2018-07-10.log.html#t2018-07-10T14:14:18 We can fix that by making 'additionalProperties': False for query param and request body of all the APIs where 'additionalProperties' is True For Example: https://github.com/openstack/nova/blob/c5a80f4843d1f1a5289e0a3f8dbb4921b6fa44bb/nova/api/openstack/compute/schemas/servers.py#L602 https://github.com/openstack/nova/blob/c6218428e9b29a2c52808ec7d27b4b21aadc0299/nova/api/openstack/compute/schemas/agents.py#L93 APIs need modification: TODO: list down the exact list of APIs which needs modification in this cleanup. # Remove OS-EXT* prefix from response field. There are many fields which are being added with extensions mechanism and so does prefix-ed with OS-EXT-* for example ""OS-EXT-AZ:availability_zone"" in GET /servers. Now extensions mechanism is gone and having few response field as OS-EXT* is not easy to understand and they are very much inconsistent from other fields. APIs need modification: TODO: list down the exact list of APIs which needs modification in this cleanup. # Making server representation always consistence among all APIs returning the complete server representation. GET, PUT, REBUILD /servers APIs return the complete server representation (with all server attributes) But PUT and REBUILD /servers response does not match with GET /servers API. There are many field which are only returned in GET API but not in PUT or REBUILD. Response difference which is attributes added as extensions * ""OS-EXT-AZ:availability_zone"" * ""OS-EXT-SRV-ATTR:host"" * ""OS-EXT-SRV-ATTR:hostname"" * ""OS-EXT-SRV-ATTR:hypervisor_hostname"" * ""OS-EXT-SRV-ATTR:instance_name"" * ""OS-EXT-SRV-ATTR:kernel_id"" * ""OS-EXT-SRV-ATTR:launch_index"" * ""OS-EXT-SRV-ATTR:ramdisk_id"" * ""OS-EXT-SRV-ATTR:reservation_id"" * ""OS-EXT-SRV-ATTR:root_device_name"" * ""OS-EXT-SRV-ATTR:user_data"" * ""OS-EXT-STS:power_state"" * ""OS-EXT-STS:task_state"" * ""OS-EXT-STS:vm_state"" * ""OS-SRV-USG:launched_at"" * ""OS-SRV-USG:terminated_at"" * ""os-extended-volumes:volumes_attached"" APIs need modification: * PUT /servers * POST /servers/{server_id}/action {rebuild} Alternatives ------------ We leave APIs as it is and use it in same way they are currently. Data model impact ----------------- None REST API impact --------------- TODO: list down the exact list of APIs and their change which needs modification in these cleanups. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- The python novaclient will be updated. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Ghanshyam Mann Work Items ---------- * Songle microversion change on Nova API * Add tests for changes * python client change Dependencies ============ None Testing ======= * Add related unit test. * Add related functional tests. Documentation Impact ==================== Modify the api-ref to reflect the API change. References ========== * https://etherpad.openstack.org/p/nova-ptg-stein Stein PTG etherpad, L1048 with title: ""Nova API cleanup in single microversion (gmann/mriedem/alex_xu)"". * https://etherpad.openstack.org/p/nova-api-cleanup Nova API cleanup list Etherpad History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Stein - Introduced ",,202,0
openstack%2Fneutron~master~I564857aad930c4d595dd5de7b36b74dbcd9d049b,openstack/neutron,master,I564857aad930c4d595dd5de7b36b74dbcd9d049b,[WIP] recored ml2 driver bindigns in vif_details,ABANDONED,2019-02-06 01:25:58.000000000,2019-05-30 17:19:50.000000000,,"[{'_account_id': 11604}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-02-06 01:25:58.000000000', 'files': ['neutron/plugins/ml2/driver_context.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a400cfeaf0f23eb435984df460dbb247ea57a22', 'message': '[WIP] recored ml2 driver bindigns in vif_details\n\n- This change intoduces a new _record_binding_driver_names function\n  in the ml2 port_context object. This function enumerate the\n  the drivers that bound the port and records them in the\n  vif_details so they can be consumed by nova.\n- Note _record_binding_driver_names will only update the\n  vif_details if the port_context binding_levels list is\n  not empty.\n- This change extends the set_binding function in the ml2\n  port_context to invoke _record_binding_driver_names each\n  time the bindings are set.\n\nChange-Id: I564857aad930c4d595dd5de7b36b74dbcd9d049b\nRelated-Bug: #1734320\n'}]",6,635083,2a400cfeaf0f23eb435984df460dbb247ea57a22,7,4,1,11604,,,0,"[WIP] recored ml2 driver bindigns in vif_details

- This change intoduces a new _record_binding_driver_names function
  in the ml2 port_context object. This function enumerate the
  the drivers that bound the port and records them in the
  vif_details so they can be consumed by nova.
- Note _record_binding_driver_names will only update the
  vif_details if the port_context binding_levels list is
  not empty.
- This change extends the set_binding function in the ml2
  port_context to invoke _record_binding_driver_names each
  time the bindings are set.

Change-Id: I564857aad930c4d595dd5de7b36b74dbcd9d049b
Related-Bug: #1734320
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/635083/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/driver_context.py'],1,2a400cfeaf0f23eb435984df460dbb247ea57a22,bug/1734320,"BOUND_DRIVERS = ""bound_drivers"" def _record_binding_driver_names(self, vif_details): binding_drivers = {} for level, binding in enumerate(self.binding_levels or []): binding_drivers[level] = binding[api.BOUND_DRIVER] if binding_drivers: result = dict(vif_details) result[BOUND_DRIVERS] = binding_drivers return result else: return vif_details details = self._record_binding_driver_names(vif_details) self._binding.vif_details = jsonutils.dumps(details)", self._binding.vif_details = jsonutils.dumps(vif_details),14,2
openstack%2Fos-vif~stable%2Frocky~I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc,openstack/os-vif,stable/rocky,I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc,add isolate_vif config option,ABANDONED,2018-11-07 19:57:10.000000000,2019-05-30 17:13:20.000000000,,"[{'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-07 19:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a201f4962182fb1b7ecad2cb7fad03e59c3451e2', 'message': 'add isolate_vif config option\n\n- This change add a new isolate_vif config\n  option to the OVS plugin.\n\n- The isolate_vif option defaults to False\n  for backwards compatiblity with sdn based\n  deployments.\n\n- This change is a partial mitigation of bug\n  1734320, when isolate_vif is set to True\n  os-vif will assign VIFs to the neutron\n  l2 agent dead VLAN 4095. This should only\n  be set when using the ml2/ovs neutron\n  backend.\n\nConflicts:\n\tvif_plug_ovs/ovs.py\n\tvif_plug_ovs/ovsdb/ovsdb_lib.py\n\tvif_plug_ovs/tests/unit/test_plugin.py\n\nChange-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc\nPartial-Bug: #1734320\n'}, {'number': 2, 'created': '2018-11-14 09:31:42.000000000', 'files': ['vif_plug_ovs/constants.py', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'releasenotes/notes/always-plug-vifs-for-ovs-1d033fc49a9c6c4e.yaml', 'vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/47c617ebb969a6c813841e13ce376a5d7939bf28', 'message': 'add isolate_vif config option\n\n- This change add a new isolate_vif config\n  option to the OVS plugin.\n\n- The isolate_vif option defaults to False\n  for backwards compatiblity with sdn based\n  deployments.\n\n- This change is a partial mitigation of bug\n  1734320, when isolate_vif is set to True\n  os-vif will assign VIFs to the neutron\n  l2 agent dead VLAN 4095. This should only\n  be set when using the ml2/ovs neutron\n  backend.\n\nConflicts:\n    vif_plug_ovs/ovs.py\n    vif_plug_ovs/ovsdb/ovsdb_lib.py\n    vif_plug_ovs/tests/unit/test_plugin.py\n\nChange-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc\nPartial-Bug: #1734320\n'}]",2,616285,47c617ebb969a6c813841e13ce376a5d7939bf28,9,3,2,11604,,,0,"add isolate_vif config option

- This change add a new isolate_vif config
  option to the OVS plugin.

- The isolate_vif option defaults to False
  for backwards compatiblity with sdn based
  deployments.

- This change is a partial mitigation of bug
  1734320, when isolate_vif is set to True
  os-vif will assign VIFs to the neutron
  l2 agent dead VLAN 4095. This should only
  be set when using the ml2/ovs neutron
  backend.

Conflicts:
    vif_plug_ovs/ovs.py
    vif_plug_ovs/ovsdb/ovsdb_lib.py
    vif_plug_ovs/tests/unit/test_plugin.py

Change-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc
Partial-Bug: #1734320
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/85/616285/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/constants.py', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'releasenotes/notes/always-plug-vifs-for-ovs-1d033fc49a9c6c4e.yaml']",4,a201f4962182fb1b7ecad2cb7fad03e59c3451e2,bug/1801072," .. _bug 1734320: https://bugs.launchpad.net/neutron/+bug/1734320 - | A new config option was introduced for the OVS VIF plugin. The ``isolate_vif`` option was added as a partial mitigation of `bug 1734320`_. The ``isolate_vif`` option defaults to ``False`` for backwards compatibility with SDN controller based OpenStack deployments. For all deployments using the reference implementation of ML2/OVS with the neutron L2 agents, ``isolate_vif`` should be set to ``True``. This option instructs the OVS plugin to assign the VIF to the Neutron dead VLAN (4095) when attaching the interface to OVS. By setting the VIF's VLAN to this dead VLAN number, we eliminate the small attack vector that exists for other tenants to read packets during the VIF's bring up. ", .. _bug 1734320: https://bugs.launchpad.net/neutron/+bug/1734320,70,4
openstack%2Fos-vif~stable%2Frocky~Iaf15fa7a678ec2624f7c12f634269c465fbad930,openstack/os-vif,stable/rocky,Iaf15fa7a678ec2624f7c12f634269c465fbad930,always create ovs port during plug,ABANDONED,2018-10-11 23:09:30.000000000,2019-05-30 17:13:07.000000000,,"[{'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 26892}]","[{'number': 1, 'created': '2018-10-11 23:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/1106303db84bc09b0faa016df2dea3456c8b9a90', 'message': 'add support for generic tap device plug\n\n- This change modifies the ovs plugin to support\n  plugging generic tap devices to ovs.\n- This change fixes incorrect mocks.\n- This change will reduce the live migration\n  time for kernel ovs ports with hybrid plug false\n  by creating the ovs port as part of plug.\n\nConflicts:\n\tvif_plug_ovs/linux_net.py\n\tvif_plug_ovs/ovs.py\n\tvif_plug_ovs/tests/unit/test_plugin.py\n\nCloses-Bug: #1734320\nChange-Id: Iaf15fa7a678ec2624f7c12f634269c465fbad930\n'}, {'number': 2, 'created': '2018-11-06 22:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/0c5951b6ac841ab70cb7f97970eb97600f565832', 'message': 'always create ovs port during plug\n\n- This change modifies the ovs plugin to always\n  pre plugging the vm interface to the ovs bridge\n  by creating an ovs port.\n- This change enables the neutron l2 agent to wire up\n  the interface before the vm is started.\n- This change will reduce the live migration\n  time for kernel ovs ports with hybrid plug false\n  by creating the ovs port as part of plug before\n  the migration starts.\n- This change adds the privsep decorator\n  to delete_net_dev to account for it new usage\n  via _unplug_vif_generic and address bug #1801072\n\nConflicts:\n    vif_plug_ovs/linux_net.py\n    vif_plug_ovs/ovs.py\n    vif_plug_ovs/tests/unit/test_plugin.py\n\nChange-Id: Iaf15fa7a678ec2624f7c12f634269c465fbad930\nPartial-Bug: #1734320\nCloses-Bug: #1801072\n'}, {'number': 3, 'created': '2018-11-07 19:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/4a4514396314db9d731647a6d2a4ab02be702370', 'message': 'always create ovs port during plug\n\n- This change modifies the ovs plugin to always\n  pre plugging the vm interface to the ovs bridge\n  by creating an ovs port.\n- This change enables the neutron l2 agent to wire up\n  the interface before the vm is started.\n- This change will reduce the live migration\n  time for kernel ovs ports with hybrid plug false\n  by creating the ovs port as part of plug before\n  the migration starts.\n- This change adds the privsep decorator\n  to delete_net_dev to account for it new usage\n  via _unplug_vif_generic and address bug #1801072\n\nConflicts:\n    vif_plug_ovs/linux_net.py\n    vif_plug_ovs/ovs.py\n    vif_plug_ovs/tests/unit/test_plugin.py\n\nChange-Id: Iaf15fa7a678ec2624f7c12f634269c465fbad930\nPartial-Bug: #1734320\nCloses-Bug: #1801072\n'}, {'number': 4, 'created': '2018-11-14 09:02:00.000000000', 'files': ['vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'releasenotes/notes/always-plug-vifs-for-ovs-1d033fc49a9c6c4e.yaml', 'vif_plug_ovs/linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/cb77da8ffa29da9cf3049e520a7d8ef95fcc3911', 'message': 'always create ovs port during plug\n\n- This change modifies the ovs plugin to always\n  create the ovs interface in the ovs db.\n- This change enables the neutron l2 agent to configure\n  the ovs interface by assigning a vlan tag and installing\n  openflow rules as appropriate.\n- This change will reduce the live migration\n  time for kernel ovs ports with hybrid plug false\n  by creating the ovs port as part of plug before\n  the migration starts.\n- This change adds the privsep decorator\n  to delete_net_dev to account for it new usage\n  via _unplug_vif_generic and address bug #1801072\n\nConflicts:\n    vif_plug_ovs/linux_net.py\n    vif_plug_ovs/ovs.py\n    vif_plug_ovs/tests/unit/test_plugin.py\n\nChange-Id: Iaf15fa7a678ec2624f7c12f634269c465fbad930\nPartial-Bug: #1734320\nCloses-Bug: #1801072\n'}]",1,609850,cb77da8ffa29da9cf3049e520a7d8ef95fcc3911,16,4,4,11604,,,0,"always create ovs port during plug

- This change modifies the ovs plugin to always
  create the ovs interface in the ovs db.
- This change enables the neutron l2 agent to configure
  the ovs interface by assigning a vlan tag and installing
  openflow rules as appropriate.
- This change will reduce the live migration
  time for kernel ovs ports with hybrid plug false
  by creating the ovs port as part of plug before
  the migration starts.
- This change adds the privsep decorator
  to delete_net_dev to account for it new usage
  via _unplug_vif_generic and address bug #1801072

Conflicts:
    vif_plug_ovs/linux_net.py
    vif_plug_ovs/ovs.py
    vif_plug_ovs/tests/unit/test_plugin.py

Change-Id: Iaf15fa7a678ec2624f7c12f634269c465fbad930
Partial-Bug: #1734320
Closes-Bug: #1801072
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/50/609850/4 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'releasenotes/notes/always-plug-vifs-for-ovs-1d033fc49a9c6c4e.yaml', 'vif_plug_ovs/linux_net.py']",4,1106303db84bc09b0faa016df2dea3456c8b9a90,bug/1801072," if ip_lib.exists(dev): ip_lib.set(dev, mtu=mtu, check_exit_code=[0, 2, 254])"," ip_lib.set(dev, mtu=mtu, check_exit_code=[0, 2, 254])",60,17
openstack%2Fos-vif~stable%2Fqueens~Iaf15fa7a678ec2624f7c12f634269c465fbad930,openstack/os-vif,stable/queens,Iaf15fa7a678ec2624f7c12f634269c465fbad930,always create ovs port during plug,ABANDONED,2018-10-11 23:12:09.000000000,2019-05-30 17:12:45.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 26892}]","[{'number': 1, 'created': '2018-10-11 23:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a2ae47a4cfbd699c85baa8ded6102212953faed9', 'message': 'add support for generic tap device plug\n\n- This change modifies the ovs plugin to support\n  plugging generic tap devices to ovs.\n- This change fixes incorrect mocks.\n- This change will reduce the live migration\n  time for kernel ovs ports with hybrid plug false\n  by creating the ovs port as part of plug.\n\nConflicts:\n\tvif_plug_ovs/linux_net.py\n\tvif_plug_ovs/ovs.py\n\tvif_plug_ovs/tests/unit/test_plugin.py\n\nCloses-Bug: #1734320\nChange-Id: Iaf15fa7a678ec2624f7c12f634269c465fbad930\n'}, {'number': 3, 'created': '2018-11-07 20:00:40.000000000', 'files': ['vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'releasenotes/notes/always-plug-vifs-for-ovs-1d033fc49a9c6c4e.yaml', 'vif_plug_ovs/linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/dda5039b0889fa8951349f4348b825cd003305a9', 'message': 'always create ovs port during plug\n\n- This change modifies the ovs plugin to always\n  pre plugging the vm interface to the ovs bridge\n  by creating an ovs port.\n- This change enables the neutron l2 agent to wire up\n  the interface before the vm is started.\n- This change will reduce the live migration\n  time for kernel ovs ports with hybrid plug false\n  by creating the ovs port as part of plug before\n  the migration starts.\n- This change adds the privsep decorator\n  to delete_net_dev to account for it new usage\n  via _unplug_vif_generic and address bug #1801072\n\nConflicts:\n    vif_plug_ovs/linux_net.py\n    vif_plug_ovs/ovs.py\n    vif_plug_ovs/tests/unit/test_plugin.py\n\nChange-Id: Iaf15fa7a678ec2624f7c12f634269c465fbad930\nPartial-Bug: #1734320\nCloses-Bug: #1801072\n'}]",2,609851,dda5039b0889fa8951349f4348b825cd003305a9,11,3,2,11604,,,0,"always create ovs port during plug

- This change modifies the ovs plugin to always
  pre plugging the vm interface to the ovs bridge
  by creating an ovs port.
- This change enables the neutron l2 agent to wire up
  the interface before the vm is started.
- This change will reduce the live migration
  time for kernel ovs ports with hybrid plug false
  by creating the ovs port as part of plug before
  the migration starts.
- This change adds the privsep decorator
  to delete_net_dev to account for it new usage
  via _unplug_vif_generic and address bug #1801072

Conflicts:
    vif_plug_ovs/linux_net.py
    vif_plug_ovs/ovs.py
    vif_plug_ovs/tests/unit/test_plugin.py

Change-Id: Iaf15fa7a678ec2624f7c12f634269c465fbad930
Partial-Bug: #1734320
Closes-Bug: #1801072
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/51/609851/3 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'releasenotes/notes/always-plug-vifs-for-ovs-1d033fc49a9c6c4e.yaml', 'vif_plug_ovs/linux_net.py']",4,a2ae47a4cfbd699c85baa8ded6102212953faed9,bug/1734320-stable/queens," if ip_lib.exists(dev): ip_lib.set(dev, mtu=mtu, check_exit_code=[0, 2, 254])"," ip_lib.set(dev, mtu=mtu, check_exit_code=[0, 2, 254])",60,17
openstack%2Fcinder~master~Ib9c67a4893f34ef96caf1b808617a0a6b4cb8d5e,openstack/cinder,master,Ib9c67a4893f34ef96caf1b808617a0a6b4cb8d5e,Allow reset-state to detach volume as per policy,MERGED,2019-04-04 18:39:50.000000000,2019-05-30 17:09:59.000000000,2019-05-30 16:28:57.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-04-04 18:39:50.000000000', 'files': ['cinder/api/contrib/admin_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ec5c76c8cd5b8ce98fdcb30f47bc5bc8aac1e0f', 'message': 'Allow reset-state to detach volume as per policy\n\nIf the policy for os-reset_state is modified to RULE_ADMIN_OR_OWNER,\nthe owner(non-admin) is still not able to reset the volume\nattach-status to detached because the db changes require admin context.\nAs seen in other cases (attachment_delete), the context is elevated\nto allow it.\nThis patch adds the same support in-case of reset state.\n\nChange-Id: Ib9c67a4893f34ef96caf1b808617a0a6b4cb8d5e\nCloses-Bug: #1808113\n'}]",0,650094,4ec5c76c8cd5b8ce98fdcb30f47bc5bc8aac1e0f,34,31,1,27615,,,0,"Allow reset-state to detach volume as per policy

If the policy for os-reset_state is modified to RULE_ADMIN_OR_OWNER,
the owner(non-admin) is still not able to reset the volume
attach-status to detached because the db changes require admin context.
As seen in other cases (attachment_delete), the context is elevated
to allow it.
This patch adds the same support in-case of reset state.

Change-Id: Ib9c67a4893f34ef96caf1b808617a0a6b4cb8d5e
Closes-Bug: #1808113
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/650094/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/admin_actions.py'],1,4ec5c76c8cd5b8ce98fdcb30f47bc5bc8aac1e0f,bug/1808113," db.volume_detached(context.elevated(), id, attachment.id) db.volume_admin_metadata_delete(context.elevated(), id,"," db.volume_detached(context, id, attachment.id) db.volume_admin_metadata_delete(context, id,",2,2
openstack%2Fnova-specs~master~I6e40b81939e76e9a9a8a8d007c7225302ff570a6,openstack/nova-specs,master,I6e40b81939e76e9a9a8a8d007c7225302ff570a6,Updates to image-metadata-prefiltering spec,MERGED,2019-04-12 15:53:56.000000000,2019-05-30 17:00:51.000000000,2019-05-30 17:00:51.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-12 15:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2efe7be705331f21d1826e0d62b3ebae477f2398', 'message': 'Updates to image-metadata-prefiltering spec\n\nAdds reference links to glance metadata definitions and the companion\nos-traits StoryBoard story.\n\nAlso fixes some typos and spruces up the formatting in a couple of\nplaces.\n\nChange-Id: I6e40b81939e76e9a9a8a8d007c7225302ff570a6\nBlueprint: image-metadata-prefiltering\n'}, {'number': 2, 'created': '2019-04-12 15:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a2ab088ef68e778694213e74b2f53bd8c9ca39e1', 'message': 'Updates to image-metadata-prefiltering spec\n\nAdds reference links to glance metadata definitions and the companion\nos-traits StoryBoard story.\n\nAlso fixes some typos and spruces up the formatting in a couple of\nplaces.\n\nChange-Id: I6e40b81939e76e9a9a8a8d007c7225302ff570a6\nBlueprint: image-metadata-prefiltering\n'}, {'number': 3, 'created': '2019-04-12 16:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/660c544e194d996033e09cb8f89593dece8ca39b', 'message': 'Updates to image-metadata-prefiltering spec\n\nAdds reference links to glance metadata definitions and the companion\nos-traits StoryBoard story.\n\nAlso fixes some typos and spruces up the formatting in a couple of\nplaces.\n\nChange-Id: I6e40b81939e76e9a9a8a8d007c7225302ff570a6\nBlueprint: image-metadata-prefiltering\n'}, {'number': 4, 'created': '2019-04-12 16:37:09.000000000', 'files': ['specs/train/approved/image-metadata-prefiltering.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2fbe267e2680e9302d181d3370c440ec168026fd', 'message': 'Updates to image-metadata-prefiltering spec\n\nAdds reference links to glance metadata definitions and the companion\nos-traits StoryBoard story.\n\nAlso fixes some typos and spruces up the formatting in a couple of\nplaces.\n\nChange-Id: I6e40b81939e76e9a9a8a8d007c7225302ff570a6\nBlueprint: image-metadata-prefiltering\n'}]",1,652101,2fbe267e2680e9302d181d3370c440ec168026fd,20,9,4,14070,,,0,"Updates to image-metadata-prefiltering spec

Adds reference links to glance metadata definitions and the companion
os-traits StoryBoard story.

Also fixes some typos and spruces up the formatting in a couple of
places.

Change-Id: I6e40b81939e76e9a9a8a8d007c7225302ff570a6
Blueprint: image-metadata-prefiltering
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/01/652101/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/image-metadata-prefiltering.rst'],1,2efe7be705331f21d1826e0d62b3ebae477f2398,bp/image-metadata-prefiltering,"frequently results in a ``NoValidHost`` error.Well-defined `image metadata properties`_ that have a finite set of valuesNote ``hw_cdrom_bus`` supports the same values as ``hw_disk_bus`` but is not documented. ``hw_cdrom_bus`` will also be supported by this spec. Other image properties that may also be worth considering are:properties the same pattern could be applied to ``hypervisor_type`` and ``vm_mode``. Creation of the standard traits will be tracked in a `placement/os-traits StoryBoard story <os-traits story_>`_. Discussion of how these traits will be named/namespaced will happen there rather than in this spec. Step 2: Reporting Of Capabilities By Virt Drivers -------------------------------------------------qemu version, and Nova config such as ``CONF.virt_type``.table in a prefilter that adds additional traits to the request spec byunnumbered request group. This will not require changes to images to use the feature.Operators can continue to use image property filters.would be sufficient to consume the new traits. However, that would requirethe required traits. E.g. ``hw_vif_model=e1000, traits:COMPUTE_NET_MODEL_E1000=required``.replacement for an image metadata property. If we chose this option we could deprecate the image metadata data values (e.g. ``hw_vif_model``) in train e.g. ``traits:COMPUTE_NET_MODEL_E1000=required``. While this may seem nicer in some respects it is more typing than the selected option and has the disadvantage of requiring all images to be updated to includeOperators can also achieve the goals of this spec by manually creating nova hostIsolatedHostsFilter or an aggregate ``member_of`` placement request.A `new set of standard traits will be added to os-traits <os-traits story_>`_. No other data model change should be required.Initially this will default to disabled but that can be changed in a future release based on feedback on the performance impact.No action is required on upgrade. However just as with new deployments- Add config option`Additions in os-traits <os-traits story_>`_multinode gate job with different hypervisors tempest willfor the prefilter will be provided. As there is no end user impact* `Glance Metadata Definitions Catalog namespaces <image metadata properties_>`_ * `Additions in os-traits <os-traits story_>`_ .. _`image metadata properties`: https://github.com/openstack/glance/tree/master/etc/metadefs .. _`os-traits story`: https://storyboard.openstack.org/#!/story/2005447","frequently results in a ``No valid host`` error.Well-defined image metadata properties that have a finite set of valuesNote hw_cdrom_bus supports the same values as hw_disk_bus but is not documented. hw_cdrom_bus will also be supported by this spec. Other image properties that may also be worth considering are:properties the same pattern could be applied to hypervisor_type and vm_mode. Creation of the standard traits will be tracked using placement/os-traits storyboard now that it is extracted from Nova so discussion of how these traits will be named/namespaced will happen outside this spec. Step 2: Reporting Of Capablities By Virt Drivers ------------------------------------------------qemu version, and Nova config such as CONF.virt_type.table in a prefilter that added additional traits to the request spec byrequest. This will not require changes to images to use the feature.Operators can continue to use image property filterswould be sufficient to consume the new traits, however, that would requirethe required traits. e.g. hw_vif_model=e1000 traits:compute_net_model_e1000=requiredreplacement for an image metadata property. If we chose this option we can deprecate the image metadata data values in train e.g. hw_vif_modele.g. traits:compute_net_model_e1000=required. While this may seem nicer in some respects its more typing then the selected option and has the disadvantage of requiring all image to be updated to includeOperators can also achive the goals of this spec by manually creating nova hostIsolatedHostsFilter or a aggregate member_of placement request.A new set of standard traits will be added to os-traits. no other data model change should be required.Initally this will default to disabled but that can be change in future release after feedback on the performance impact.No action is required on upgrade however just as with new deploymentsNonemultinode gate job with different hyperviors tempest willfor the prefilter will be provided. As there is no enduser impact None",40,35
openstack%2Fnetworking-ovn~stable%2Frocky~Ia17ad3476e61a729136622b4356ce59234ab023a,openstack/networking-ovn,stable/rocky,Ia17ad3476e61a729136622b4356ce59234ab023a,metadata: Resync agent when misconfiguration is detected,MERGED,2019-05-23 12:50:04.000000000,2019-05-30 16:56:13.000000000,2019-05-30 16:56:13.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-05-23 12:50:04.000000000', 'files': ['networking_ovn/agent/metadata/agent.py', 'networking_ovn/tests/functional/test_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/09ab1ff1f0c2811ab0b12ceb73492b5f81015ef0', 'message': ""metadata: Resync agent when misconfiguration is detected\n\nIn case of migration, the metadata agent is kept running with old\nbr-migration bridge cached in agent's attribute.  Everything else is\nconfigured correctly but agent still uses old value.  This patch adds a\nresync mechanism that's triggered by PortBindingChassisEvent in case\nagent fails to use currently cached bridge and the bridge doesn't exist\non the system.\n\nCloses-bug: #1824984\nChange-Id: Ia17ad3476e61a729136622b4356ce59234ab023a\n(cherry picked from commit 2037bfe5626c8d451786feae879cfb7aa80c8123)\n(cherry picked from commit 3ecd9618d3da1e99064924997ee090e9d6dbff7d)\n""}]",0,660987,09ab1ff1f0c2811ab0b12ceb73492b5f81015ef0,16,7,1,8655,,,0,"metadata: Resync agent when misconfiguration is detected

In case of migration, the metadata agent is kept running with old
br-migration bridge cached in agent's attribute.  Everything else is
configured correctly but agent still uses old value.  This patch adds a
resync mechanism that's triggered by PortBindingChassisEvent in case
agent fails to use currently cached bridge and the bridge doesn't exist
on the system.

Closes-bug: #1824984
Change-Id: Ia17ad3476e61a729136622b4356ce59234ab023a
(cherry picked from commit 2037bfe5626c8d451786feae879cfb7aa80c8123)
(cherry picked from commit 3ecd9618d3da1e99064924997ee090e9d6dbff7d)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/87/660987/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata/agent.py', 'networking_ovn/tests/functional/test_metadata_agent.py']",2,09ab1ff1f0c2811ab0b12ceb73492b5f81015ef0,bug/1824984-stable/stein-stable/rocky,"from neutron.common import utils as n_utilsfrom oslo_utils import uuidutils OVN_BRIDGE = 'br-int' # We only have OVN NB and OVN SB running for functional tests mock.patch.object(ovsdb, 'MetadataAgentOvsIdl').start() self._mock_get_ovn_br = mock.patch.object( agent.MetadataAgent, '_get_ovn_bridge', return_value=self.OVN_BRIDGE).start() self.agent = self._start_metadata_agent() '_get_own_chassis_name') as mock_get_ch_name: return agt def _create_metadata_port(self, txn, lswitch_name): mdt_port_name = 'ovn-mdt-' + uuidutils.generate_uuid() txn.add( self.nb_api.lsp_add( lswitch_name, mdt_port_name, type='localport', addresses='AA:AA:AA:AA:AA:AA 192.168.122.123', external_ids={ ovn_const.OVN_CIDRS_EXT_ID_KEY: '192.168.122.123/24'})) def test_agent_resync_on_non_existing_bridge(self): BR_NEW = 'br-new' self._mock_get_ovn_br.return_value = BR_NEW self.agent.ovs_idl.list_br.return_value.execute.return_value = [BR_NEW] # The agent has initialized with br-int and above list_br doesn't # return it, hence the agent should trigger reconfiguration and store # new br-new value to its attribute. self.assertEqual(self.OVN_BRIDGE, self.agent.ovn_bridge) lswitch_name = 'ovn-' + uuidutils.generate_uuid() lswitchport_name = 'ovn-port-' + uuidutils.generate_uuid() with self.nb_api.transaction(check_error=True) as txn: txn.add( self.nb_api.ls_add(lswitch_name, True)) txn.add( self.nb_api.create_lswitch_port( lswitchport_name, lswitch_name, True)) self._create_metadata_port(txn, lswitch_name) # Trigger PortBindingChassisEvent self.sb_api.lsp_bind(lswitchport_name, self.chassis_name).execute() exc = Exception(""Agent bridge hasn't changed from %s to %s "" ""in 10 seconds after Port_Binding event"" % (self.agent.ovn_bridge, BR_NEW)) n_utils.wait_until_true( lambda: BR_NEW == self.agent.ovn_bridge, timeout=10, exception=exc)"," self._start_metadata_agent() # We only have OVN NB and OVN SB running for functional tests p = mock.patch.object(ovsdb, 'MetadataAgentOvsIdl') p.start() self.addCleanup(p.stop) '_get_own_chassis_name') as mock_get_ch_name,\ mock.patch.object(agent.MetadataAgent, '_get_ovn_bridge') as mock_get_ovn_br: mock_get_ovn_br.return_value = 'br-int'",95,32
openstack%2Fplacement~master~I7b9e6197037f483ab9d0ee2983e02979a265824c,openstack/placement,master,I7b9e6197037f483ab9d0ee2983e02979a265824c,Kill RequestGroup @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:53:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-11 16:47:56.000000000', 'files': ['placement/tests/unit/test_util.py', 'placement/objects/request_group.py', 'placement/handlers/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/dcb4f3d24a3060bc812923e33539e7e6982ef185', 'message': 'Kill RequestGroup @{static|class}methodZ\n\nThis moves RequestGroup.dict_from_request, which was formerly a\n@classmethod, and all the RequestGroup @staticmethod helpers to the\nmodule level.\n\nThis was the last remaining use of @classmethod in the placement\nproject.\n\nChange-Id: I7b9e6197037f483ab9d0ee2983e02979a265824c\n'}]",0,651876,dcb4f3d24a3060bc812923e33539e7e6982ef185,3,1,1,14070,,,0,"Kill RequestGroup @{static|class}methodZ

This moves RequestGroup.dict_from_request, which was formerly a
@classmethod, and all the RequestGroup @staticmethod helpers to the
module level.

This was the last remaining use of @classmethod in the placement
project.

Change-Id: I7b9e6197037f483ab9d0ee2983e02979a265824c
",git fetch https://review.opendev.org/openstack/placement refs/changes/76/651876/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/unit/test_util.py', 'placement/objects/request_group.py', 'placement/handlers/allocation_candidate.py']",3,dcb4f3d24a3060bc812923e33539e7e6982ef185,refactor-classmethod-diaf, requests = request_group.dict_from_request(req), requests = request_group.RequestGroup.dict_from_request(req),174,174
openstack%2Fplacement~master~Icd21d275494c9934a26a2c5953e1f38c14464e15,openstack/placement,master,Icd21d275494c9934a26a2c5953e1f38c14464e15,Rename placement.lib to objects.request_group,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:53:09.000000000,,"[{'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-11 16:47:56.000000000', 'files': ['placement/tests/unit/test_util.py', 'placement/objects/request_group.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/handlers/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/a2095a7ed3a4915f41c4b9e3963326bbe54f2abe', 'message': 'Rename placement.lib to objects.request_group\n\nplacement.lib contained only RequestGroup. In keeping with creating\nobjects.some_thing to hold class SomeThing and its related methods, this\nrenames placement.lib to placement.objects.request_group.\n\nThis is really so a subsequent patch can refactor away all the\n@{class|static}methodZ therein to gel with the design pattern in the\nrest of the placement project.\n\nChange-Id: Icd21d275494c9934a26a2c5953e1f38c14464e15\n'}]",0,651875,a2095a7ed3a4915f41c4b9e3963326bbe54f2abe,4,2,1,14070,,,0,"Rename placement.lib to objects.request_group

placement.lib contained only RequestGroup. In keeping with creating
objects.some_thing to hold class SomeThing and its related methods, this
renames placement.lib to placement.objects.request_group.

This is really so a subsequent patch can refactor away all the
@{class|static}methodZ therein to gel with the design pattern in the
rest of the placement project.

Change-Id: Icd21d275494c9934a26a2c5953e1f38c14464e15
",git fetch https://review.opendev.org/openstack/placement refs/changes/75/651875/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/unit/test_util.py', 'placement/objects/request_group.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/handlers/allocation_candidate.py']",4,a2095a7ed3a4915f41c4b9e3963326bbe54f2abe,refactor-classmethod-diaf,from placement.objects import request_group requests = request_group.RequestGroup.dict_from_request(req),from placement import lib requests = lib.RequestGroup.dict_from_request(req),64,64
openstack%2Fplacement~master~I6513915a8df65bd7ca856239250d42aed5b96bd0,openstack/placement,master,I6513915a8df65bd7ca856239250d42aed5b96bd0,Kill User @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:52:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-11 16:47:56.000000000', 'files': ['placement/tests/functional/db/test_user.py', 'placement/objects/user.py', 'placement/tests/unit/handlers/test_util.py', 'placement/handlers/util.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/a24061725aa57fecb35cb20201e4ff7eaba00fae', 'message': ""Kill User @{static|class}methodZ\n\nThis moves User.get_by_external_id, formerly a @classmethod, and all\nof the formerly-@staticmethod helpers, to the module level. Except for\nfrom_db_object, which is refactored to be a proper instance method.\n\nIt also renames internal helper _get_user_by_external_id to remove the\n(redundant) user_ bit, since we're already in the .user module.\n\nChange-Id: I6513915a8df65bd7ca856239250d42aed5b96bd0\n""}]",0,651874,a24061725aa57fecb35cb20201e4ff7eaba00fae,3,1,1,14070,,,0,"Kill User @{static|class}methodZ

This moves User.get_by_external_id, formerly a @classmethod, and all
of the formerly-@staticmethod helpers, to the module level. Except for
from_db_object, which is refactored to be a proper instance method.

It also renames internal helper _get_user_by_external_id to remove the
(redundant) user_ bit, since we're already in the .user module.

Change-Id: I6513915a8df65bd7ca856239250d42aed5b96bd0
",git fetch https://review.opendev.org/openstack/placement refs/changes/74/651874/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_user.py', 'placement/objects/user.py', 'placement/tests/unit/handlers/test_util.py', 'placement/handlers/util.py']",4,a24061725aa57fecb35cb20201e4ff7eaba00fae,refactor-classmethod-diaf," user = user_obj.get_by_external_id(ctx, user_id) user = user_obj.get_by_external_id(ctx, user_id)"," user = user_obj.User.get_by_external_id(ctx, user_id) user = user_obj.User.get_by_external_id(ctx, user_id)",22,27
openstack%2Fplacement~master~I5bb25f616e6c1cbc06d55177230b012d54de6856,openstack/placement,master,I5bb25f616e6c1cbc06d55177230b012d54de6856,Kill Trait @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:52:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-11 16:47:56.000000000', 'files': ['placement/handlers/trait.py', 'placement/tests/functional/db/test_base.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/trait.py', 'placement/tests/functional/db/test_trait.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/2cf69e7093be1ad53698fb07d43080114f97117b', 'message': 'Kill Trait @{static|class}methodZ\n\nThis moves Trait.get_by_name, formerly a @classmethod, and all\nof the formerly-@staticmethod helpers, to the module level. Except for\nfrom_db_object, which is refactored to be a proper instance method.\n\nChange-Id: I5bb25f616e6c1cbc06d55177230b012d54de6856\n'}]",0,651873,2cf69e7093be1ad53698fb07d43080114f97117b,3,1,1,14070,,,0,"Kill Trait @{static|class}methodZ

This moves Trait.get_by_name, formerly a @classmethod, and all
of the formerly-@staticmethod helpers, to the module level. Except for
from_db_object, which is refactored to be a proper instance method.

Change-Id: I5bb25f616e6c1cbc06d55177230b012d54de6856
",git fetch https://review.opendev.org/openstack/placement refs/changes/73/651873/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/handlers/trait.py', 'placement/tests/functional/db/test_base.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/trait.py', 'placement/tests/functional/db/test_trait.py']",6,2cf69e7093be1ad53698fb07d43080114f97117b,refactor-classmethod-diaf," tmp_trait = trait_obj.get_by_name(self.ctx, 'CUSTOM_TRAIT_A') t = trait_obj.get_by_name(self.ctx, 'CUSTOM_TRAIT_A') trait_obj.get_by_name, self.ctx, 'CUSTOM_TRAIT_A') trait_obj.get_by_name(self.ctx, 'CUSTOM_GOLD') trait_obj.get_by_name(self.ctx, os_traits.HW_CPU_X86_AVX2) t = trait_obj.get_by_name(self.ctx, 'CUSTOM_TRAIT_A') self.assertRaises(exception.TraitNotFound, trait_obj.get_by_name,"," tmp_trait = trait_obj.Trait.get_by_name(self.ctx, 'CUSTOM_TRAIT_A') t = trait_obj.Trait.get_by_name(self.ctx, 'CUSTOM_TRAIT_A') trait_obj.Trait.get_by_name, self.ctx, 'CUSTOM_TRAIT_A') trait_obj.Trait.get_by_name(self.ctx, 'CUSTOM_GOLD') trait_obj.Trait.get_by_name(self.ctx, os_traits.HW_CPU_X86_AVX2) t = trait_obj.Trait.get_by_name(self.ctx, 'CUSTOM_TRAIT_A') self.assertRaises(exception.TraitNotFound, trait_obj.Trait.get_by_name,",65,72
openstack%2Fplacement~master~I9eb72fb2f345bb24446ef890eb76812797580132,openstack/placement,master,I9eb72fb2f345bb24446ef890eb76812797580132,Kill ResourceClass @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:52:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-11 16:47:56.000000000', 'files': ['placement/objects/resource_class.py', 'placement/handlers/resource_class.py', 'placement/tests/functional/db/test_resource_class.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/32ea4325ba228ddb5ad585fcf26d0b2718c3ddca', 'message': 'Kill ResourceClass @{static|class}methodZ\n\nThis moves ResourceClass.get_by_name, formerly a @classmethod, and all\nof the formerly-@staticmethod helpers, to the module level. Except for\nfrom_db_object, which is refactored to be a proper instance method.\n\nChange-Id: I9eb72fb2f345bb24446ef890eb76812797580132\n'}]",0,651872,32ea4325ba228ddb5ad585fcf26d0b2718c3ddca,3,1,1,14070,,,0,"Kill ResourceClass @{static|class}methodZ

This moves ResourceClass.get_by_name, formerly a @classmethod, and all
of the formerly-@staticmethod helpers, to the module level. Except for
from_db_object, which is refactored to be a proper instance method.

Change-Id: I9eb72fb2f345bb24446ef890eb76812797580132
",git fetch https://review.opendev.org/openstack/placement refs/changes/72/651872/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/resource_class.py', 'placement/handlers/resource_class.py', 'placement/tests/functional/db/test_resource_class.py']",3,32ea4325ba228ddb5ad585fcf26d0b2718c3ddca,refactor-classmethod-diaf," rc = rc_obj.get_by_name(self.ctx, orc.VCPU) rc_obj.get_by_name, get_rc = rc_obj.get_by_name(self.ctx, 'CUSTOM_IRON_NFV') @mock.patch.object(placement.objects.resource_class, ""_get_next_id"") @mock.patch.object(placement.objects.resource_class, ""_get_next_id"") rc = rc_obj.get_by_name(self.ctx, 'VCPU') rc = rc_obj.get_by_name(self.ctx, 'CUSTOM_IRON_NFV') rc_obj.get_by_name, rc = rc_obj.get_by_name(self.ctx, 'VCPU') rc = rc_obj.get_by_name(self.ctx, 'CUSTOM_IRON_NFV') rc_obj.get_by_name,"," rc = rc_obj.ResourceClass.get_by_name( self.ctx, orc.VCPU ) rc_obj.ResourceClass.get_by_name, get_rc = rc_obj.ResourceClass.get_by_name( self.ctx, 'CUSTOM_IRON_NFV', ) @mock.patch.object(placement.objects.resource_class.ResourceClass, ""_get_next_id"") @mock.patch.object(placement.objects.resource_class.ResourceClass, ""_get_next_id"") rc = rc_obj.ResourceClass.get_by_name( self.ctx, 'VCPU', ) rc = rc_obj.ResourceClass.get_by_name( self.ctx, 'CUSTOM_IRON_NFV', ) rc_obj.ResourceClass.get_by_name, rc = rc_obj.ResourceClass.get_by_name( self.ctx, 'VCPU', ) rc = rc_obj.ResourceClass.get_by_name( self.ctx, 'CUSTOM_IRON_NFV', ) rc_obj.ResourceClass.get_by_name,",86,109
openstack%2Fplacement~master~I6bbc7cfadac5f432a985364041ae7d7d57260673,openstack/placement,master,I6bbc7cfadac5f432a985364041ae7d7d57260673,Kill Project @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:52:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-11 16:47:56.000000000', 'files': ['placement/objects/project.py', 'placement/tests/functional/db/test_project.py', 'placement/tests/unit/handlers/test_util.py', 'placement/handlers/util.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/7e1dc1cdfa5f388d8f119089f92409c8f444a3d5', 'message': 'Kill Project @{static|class}methodZ\n\nThis moves Project.get_by_external_id to the module level and\nde-@staticmethod-ifies Project.from_db_object.\n\nChange-Id: I6bbc7cfadac5f432a985364041ae7d7d57260673\n'}]",0,651871,7e1dc1cdfa5f388d8f119089f92409c8f444a3d5,3,1,1,14070,,,0,"Kill Project @{static|class}methodZ

This moves Project.get_by_external_id to the module level and
de-@staticmethod-ifies Project.from_db_object.

Change-Id: I6bbc7cfadac5f432a985364041ae7d7d57260673
",git fetch https://review.opendev.org/openstack/placement refs/changes/71/651871/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/project.py', 'placement/tests/functional/db/test_project.py', 'placement/tests/unit/handlers/test_util.py', 'placement/handlers/util.py']",4,7e1dc1cdfa5f388d8f119089f92409c8f444a3d5,refactor-classmethod-diaf," proj = project_obj.get_by_external_id(ctx, project_id) proj = project_obj.get_by_external_id(ctx, project_id)"," proj = project_obj.Project.get_by_external_id(ctx, project_id) proj = project_obj.Project.get_by_external_id(ctx, project_id)",19,20
openstack%2Fplacement~master~Id0ec7766c8fa476d3e1b3d4b2a004ec437513a06,openstack/placement,master,Id0ec7766c8fa476d3e1b3d4b2a004ec437513a06,Kill Consumer @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:52:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-11 16:47:56.000000000', 'files': ['placement/tests/functional/db/test_base.py', 'placement/tests/functional/db/test_consumer.py', 'placement/objects/consumer.py', 'placement/tests/unit/handlers/test_util.py', 'placement/handlers/util.py', 'placement/tests/functional/db/test_reshape.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/ac9c62dad8ec21e3a03b8dd37650463213b8b1e6', 'message': 'Kill Consumer @{static|class}methodZ\n\nThis moves Consumer.get_by_uuid to the module level and\nde-@staticmethod-ifies Consumer.from_db_object.\n\nChange-Id: Id0ec7766c8fa476d3e1b3d4b2a004ec437513a06\n'}]",0,651870,ac9c62dad8ec21e3a03b8dd37650463213b8b1e6,3,1,1,14070,,,0,"Kill Consumer @{static|class}methodZ

This moves Consumer.get_by_uuid to the module level and
de-@staticmethod-ifies Consumer.from_db_object.

Change-Id: Id0ec7766c8fa476d3e1b3d4b2a004ec437513a06
",git fetch https://review.opendev.org/openstack/placement refs/changes/70/651870/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_base.py', 'placement/tests/functional/db/test_consumer.py', 'placement/objects/consumer.py', 'placement/tests/unit/handlers/test_util.py', 'placement/handlers/util.py', 'placement/tests/functional/db/test_reshape.py']",6,ac9c62dad8ec21e3a03b8dd37650463213b8b1e6,refactor-classmethod-diaf," i1_consumer = consumer_obj.get_by_uuid(self.ctx, i1_uuid) i2_consumer = consumer_obj.get_by_uuid(self.ctx, i2_uuid) i1_consumer = consumer_obj.get_by_uuid(self.ctx, i1_uuid)"," i1_consumer = consumer_obj.Consumer.get_by_uuid(self.ctx, i1_uuid) i2_consumer = consumer_obj.Consumer.get_by_uuid(self.ctx, i2_uuid) i1_consumer = consumer_obj.Consumer.get_by_uuid(self.ctx, i1_uuid)",32,34
openstack%2Fplacement~master~I46c086b48cc29d99a9f04c04b7446cc3a6646b92,openstack/placement,master,I46c086b48cc29d99a9f04c04b7446cc3a6646b92,Move AllocationCandidates @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:51:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-11 16:47:56.000000000', 'files': ['placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/unit/objects/test_allocation_candidate.py', 'placement/handlers/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/0593fba242f5d5ba96a91d79a65080796f53183f', 'message': 'Move AllocationCandidates @{static|class}methodZ\n\nThis moves all cases of @staticmethod and @classmethod out of\nthe AllocationCandidates class and to the module level of\nobjects.allocation_candidate.\n\nChange-Id: I46c086b48cc29d99a9f04c04b7446cc3a6646b92\n'}]",0,651869,0593fba242f5d5ba96a91d79a65080796f53183f,3,1,1,14070,,,0,"Move AllocationCandidates @{static|class}methodZ

This moves all cases of @staticmethod and @classmethod out of
the AllocationCandidates class and to the module level of
objects.allocation_candidate.

Change-Id: I46c086b48cc29d99a9f04c04b7446cc3a6646b92
",git fetch https://review.opendev.org/openstack/placement refs/changes/69/651869/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/unit/objects/test_allocation_candidate.py', 'placement/handlers/allocation_candidate.py']",4,0593fba242f5d5ba96a91d79a65080796f53183f,refactor-classmethod-diaf, cands = ac_obj.get_by_requests(, cands = ac_obj.AllocationCandidates.get_by_requests(,192,195
openstack%2Fplacement~master~I542689e9fd0eae2ecb1947d2cd4576c3cd156edc,openstack/placement,master,I542689e9fd0eae2ecb1947d2cd4576c3cd156edc,ResourceProvider.get_by_uuid @classmethod=>module,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:51:33.000000000,,"[{'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-11 16:47:56.000000000', 'files': ['placement/handlers/allocation.py', 'placement/handlers/aggregate.py', 'placement/handlers/usage.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py', 'placement/tests/functional/db/test_reshape.py', 'placement/handlers/trait.py', 'placement/objects/allocation.py', 'placement/handlers/reshaper.py', 'placement/handlers/inventory.py', 'placement/handlers/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/5bc5c1e03ae24444d6e068bb1635f0f4cc926667', 'message': 'ResourceProvider.get_by_uuid @classmethod=>module\n\nIt is the consensus of the placement team that we should have\nfoo_module.do_a_thing rather than @classmethod\nfoo_module.FooObject.do_a_thing.\n\nTo that end, this commit moves\nobjects.resource_provider.ResourceProvider.get_by_uuid to\nobjects.resource_provider.get_by_uuid.\n\nChange-Id: I542689e9fd0eae2ecb1947d2cd4576c3cd156edc\n'}]",0,651868,5bc5c1e03ae24444d6e068bb1635f0f4cc926667,4,2,1,14070,,,0,"ResourceProvider.get_by_uuid @classmethod=>module

It is the consensus of the placement team that we should have
foo_module.do_a_thing rather than @classmethod
foo_module.FooObject.do_a_thing.

To that end, this commit moves
objects.resource_provider.ResourceProvider.get_by_uuid to
objects.resource_provider.get_by_uuid.

Change-Id: I542689e9fd0eae2ecb1947d2cd4576c3cd156edc
",git fetch https://review.opendev.org/openstack/placement refs/changes/68/651868/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/handlers/allocation.py', 'placement/handlers/aggregate.py', 'placement/handlers/usage.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py', 'placement/tests/functional/db/test_reshape.py', 'placement/handlers/trait.py', 'placement/objects/allocation.py', 'placement/handlers/reshaper.py', 'placement/handlers/inventory.py', 'placement/handlers/resource_provider.py']",13,5bc5c1e03ae24444d6e068bb1635f0f4cc926667,refactor-classmethod-diaf," resource_provider = rp_obj.get_by_uuid(context, uuid) resource_provider = rp_obj.get_by_uuid(context, uuid) resource_provider = rp_obj.get_by_uuid(context, uuid)"," resource_provider = rp_obj.ResourceProvider.get_by_uuid( context, uuid) resource_provider = rp_obj.ResourceProvider.get_by_uuid( context, uuid) resource_provider = rp_obj.ResourceProvider.get_by_uuid( context, uuid)",56,79
openstack%2Ftripleo-heat-templates~master~If4f32d2d591018c71b2dee9c5898a10d78e47c5e,openstack/tripleo-heat-templates,master,If4f32d2d591018c71b2dee9c5898a10d78e47c5e,Switch to use $NETWORK_uri for memcached,MERGED,2019-05-22 14:54:43.000000000,2019-05-30 16:48:13.000000000,2019-05-30 16:48:13.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-05-22 14:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/accf39105a9dff9031c125178f45b305f4c424f4', 'message': '[WiP]\xa0Use $NETWORK_uri for memcached::listen_ip\n\nChange-Id: If4f32d2d591018c71b2dee9c5898a10d78e47c5e\n'}, {'number': 2, 'created': '2019-05-23 12:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ba575b03b2ad77e29f048c0ce54e9b733834b54', 'message': '[WiP]\xa0Use $NETWORK_uri for memcached::listen_ip\n\nChange-Id: If4f32d2d591018c71b2dee9c5898a10d78e47c5e\n'}, {'number': 3, 'created': '2019-05-24 16:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d913fb02ddf1c8978938121a727d76e975a718f', 'message': 'Switch to use $NETWORK_uri for memcached\n\nWhen passing connection string for memcached the\naddress must be in brackets if IP version 6 is\nused. The $NETWORK_uri provides the ip address\nwith/whithout brackets depending on ip version.\n\nRelated-Bug: #1830406\nDepends-On: https://review.opendev.org/661221\nDepends-On: https://review.opendev.org/661229\nDepends-On: https://review.opendev.org/661220\nDepends-On: https://review.opendev.org/661299\nDepends-On: https://review.opendev.org/661136\nChange-Id: If4f32d2d591018c71b2dee9c5898a10d78e47c5e\n'}, {'number': 4, 'created': '2019-05-24 18:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bacadfca6ace24057ad13af9e5368fd29e89695', 'message': 'Switch to use $NETWORK_uri for memcached\n\nWhen passing connection string for memcached the\naddress must be in brackets if IP version 6 is\nused. The $NETWORK_uri provides the ip address\nwith/whithout brackets depending on ip version.\n\nRelated-Bug: #1830406\nDepends-On: https://review.opendev.org/661221\nDepends-On: https://review.opendev.org/661229\nDepends-On: https://review.opendev.org/661220\nDepends-On: https://review.opendev.org/661299\nDepends-On: https://review.opendev.org/661136\nChange-Id: If4f32d2d591018c71b2dee9c5898a10d78e47c5e\n'}, {'number': 5, 'created': '2019-05-29 19:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38546e9a24db7f81e5e67ce9387ad92c8c7bc477', 'message': 'Switch to use $NETWORK_uri for memcached\n\nWhen passing connection string for memcached the\naddress must be in brackets if IP version 6 is\nused. The $NETWORK_uri provides the ip address\nwith/whithout brackets depending on ip version.\n\nRelated-Bug: #1830406\nDepends-On: https://review.opendev.org/661221\nDepends-On: https://review.opendev.org/661220\nDepends-On: https://review.opendev.org/661299\nDepends-On: https://review.opendev.org/661136\nChange-Id: If4f32d2d591018c71b2dee9c5898a10d78e47c5e\n'}, {'number': 6, 'created': '2019-05-29 19:17:25.000000000', 'files': ['environments/undercloud.yaml', 'deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30708633dcd87f278142bfad06da6c8d761ba9fa', 'message': 'Switch to use $NETWORK_uri for memcached\n\nWhen passing connection string for memcached the\naddress must be in brackets if IP version 6 is\nused. The $NETWORK_uri provides the ip address\nwith/whithout brackets depending on ip version.\n\nRelated-Bug: #1830406\nDepends-On: https://review.opendev.org/661221\nDepends-On: https://review.opendev.org/661220\nDepends-On: https://review.opendev.org/661299\nDepends-On: https://review.opendev.org/661136\nChange-Id: If4f32d2d591018c71b2dee9c5898a10d78e47c5e\n'}]",0,660745,30708633dcd87f278142bfad06da6c8d761ba9fa,27,5,6,24245,,,0,"Switch to use $NETWORK_uri for memcached

When passing connection string for memcached the
address must be in brackets if IP version 6 is
used. The $NETWORK_uri provides the ip address
with/whithout brackets depending on ip version.

Related-Bug: #1830406
Depends-On: https://review.opendev.org/661221
Depends-On: https://review.opendev.org/661220
Depends-On: https://review.opendev.org/661299
Depends-On: https://review.opendev.org/661136
Change-Id: If4f32d2d591018c71b2dee9c5898a10d78e47c5e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/660745/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,accf39105a9dff9031c125178f45b305f4c424f4,bug/1830406," ""%{hiera('$NETWORK_uri')}"""," ""%{hiera('$NETWORK')}""",1,1
openstack%2Fproject-config~master~I75a263de5c696a3edf821cb078a0defd99230919,openstack/project-config,master,I75a263de5c696a3edf821cb078a0defd99230919,Update infra-specs URL,ABANDONED,2019-05-30 14:54:31.000000000,2019-05-30 16:47:55.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 14:54:31.000000000', 'files': ['specs/specs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/adc9ee1632c5d74a72bbbfbd7e4adda64a88a935', 'message': 'Update infra-specs URL\n\ninfra-specs are now in opendev/infra-specs, the next change\nmerged will published them on specs.openstack.org/opendev/infra-specs.\n\nUpdate main index page for this.\n\nChange-Id: I75a263de5c696a3edf821cb078a0defd99230919\n'}]",0,662239,adc9ee1632c5d74a72bbbfbd7e4adda64a88a935,4,2,1,6547,,,0,"Update infra-specs URL

infra-specs are now in opendev/infra-specs, the next change
merged will published them on specs.openstack.org/opendev/infra-specs.

Update main index page for this.

Change-Id: I75a263de5c696a3edf821cb078a0defd99230919
",git fetch https://review.opendev.org/openstack/project-config refs/changes/39/662239/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/specs.yaml'],1,adc9ee1632c5d74a72bbbfbd7e4adda64a88a935,infra-specs, repo: opendev/infra-specs, repo: openstack-infra/infra-specs,1,1
openstack%2Fpython-tripleoclient~master~If4a82977e2351fd3a9e0241eee60cb3719ef43c0,openstack/python-tripleoclient,master,If4a82977e2351fd3a9e0241eee60cb3719ef43c0,Add a user confirmation to node delete,MERGED,2019-05-20 16:34:17.000000000,2019-05-30 16:46:38.000000000,2019-05-30 16:32:46.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-20 16:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/35352c1d20636cfa0b85d43f090a1113334a1b6d', 'message': 'Add a user confirmation to node delete\n\nNode delete is a destructive action and we should prompt a user to\nconfirm they want to do this action. We also added a --yes parameter to\nskip this confirmation prompt.\n\nChange-Id: If4a82977e2351fd3a9e0241eee60cb3719ef43c0\n'}, {'number': 2, 'created': '2019-05-20 20:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/10a7fe8bff0ee62921bb77ee8ebc522be34b76ab', 'message': 'Add a user confirmation to node delete\n\nNode delete is a destructive action and we should prompt a user to\nconfirm they want to do this action. We also added a --yes parameter to\nskip this confirmation prompt.\n\nChange-Id: If4a82977e2351fd3a9e0241eee60cb3719ef43c0\n'}, {'number': 3, 'created': '2019-05-28 15:07:42.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'releasenotes/notes/add-user-confirmation-to-node-delete-ca8c240bfd71c0ba.yaml', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2b3b7f1e1f4b7875ff62a6dca8862678f4589c89', 'message': 'Add a user confirmation to node delete\n\nNode delete is a destructive action and we should prompt a user to\nconfirm they want to do this action. We also added a --yes parameter to\nskip this confirmation prompt.\n\nChange-Id: If4a82977e2351fd3a9e0241eee60cb3719ef43c0\n'}]",3,660169,2b3b7f1e1f4b7875ff62a6dca8862678f4589c89,24,6,3,14985,,,0,"Add a user confirmation to node delete

Node delete is a destructive action and we should prompt a user to
confirm they want to do this action. We also added a --yes parameter to
skip this confirmation prompt.

Change-Id: If4a82977e2351fd3a9e0241eee60cb3719ef43c0
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/69/660169/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'releasenotes/notes/add-user-confirmation-to-node-delete-ca8c240bfd71c0ba.yaml', 'tripleoclient/v1/overcloud_node.py']",3,35352c1d20636cfa0b85d43f090a1113334a1b6d,node-delete-confirm,"from osc_lib import exceptions as oscexc parser.add_argument('-y', '--yes', help=_('Skip yes/no prompt (assume yes).'), default=False, action=""store_true"") if not parsed_args.yes: confirm = oooutils.prompt_user_for_confirmation( message=_(""Are you sure you want to delete these overcloud "" ""nodes [y/N]? ""), logger=self.log) if not confirm: raise oscexc.CommandError(""Action not confirmed, exiting."") ",,42,4
openstack%2Fkayobe~master~Ie16354cd01ea7dd83cd3d4058dd8451b8387600b,openstack/kayobe,master,Ie16354cd01ea7dd83cd3d4058dd8451b8387600b,Add commands for database backup and recovery,MERGED,2019-03-22 16:33:16.000000000,2019-05-30 16:40:07.000000000,2019-05-30 16:40:07.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-03-22 16:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2d42e4a1a0e271d4039a9c46ccb525a1ce25d7b7', 'message': 'Add commands for database backup and recovery\n\nUses the support [1] for database backups added to Kolla Ansible in the\nStein release.\n\nAdds the following new commands:\n\nkayobe overcloud database backup [--incremental]\nkayobe overcloud database recover [--force-recovery-host <host>]\n\nThe recovery command is for recovering a clustered database that has\nlost quorum.\n\n[1] https://docs.openstack.org/kolla-ansible/latest/admin/mariadb-backup-and-restore.html\n\nChange-Id: Ie16354cd01ea7dd83cd3d4058dd8451b8387600b\nStory: 2005015\nTask: 29493\n'}, {'number': 2, 'created': '2019-05-23 09:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/98277ea7168911f9eef7124fc31b1e792946f633', 'message': 'Add commands for database backup and recovery\n\nUses the support [1] for database backups added to Kolla Ansible in the\nStein release.\n\nAdds the following new commands:\n\nkayobe overcloud database backup [--incremental]\nkayobe overcloud database recover [--force-recovery-host <host>]\n\nThe recovery command is for recovering a clustered database that has\nlost quorum.\n\n[1] https://docs.openstack.org/kolla-ansible/latest/admin/mariadb-backup-and-restore.html\n\nChange-Id: Ie16354cd01ea7dd83cd3d4058dd8451b8387600b\nStory: 2005015\nTask: 29493\n'}, {'number': 3, 'created': '2019-05-23 09:48:11.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'ansible/group_vars/all/kolla', 'ansible/roles/kolla-openstack/templates/backup.my.cnf.j2', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'releasenotes/notes/db-backup-recovery-d4f1ced2ebd7dac4.yaml', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/kolla-openstack.yml', 'ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'kayobe/cli/commands.py', 'doc/source/administration/overcloud.rst', 'setup.cfg', 'ansible/roles/kolla-ansible/vars/main.yml', 'ansible/roles/kolla-openstack/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e96179921f572d0f31248dad5c6585de2494e40b', 'message': 'Add commands for database backup and recovery\n\nUses the support [1] for database backups added to Kolla Ansible in the\nStein release.\n\nAdds the following new commands:\n\nkayobe overcloud database backup [--incremental]\nkayobe overcloud database recover [--force-recovery-host <host>]\n\nThe recovery command is for recovering a clustered database that has\nlost quorum.\n\n[1] https://docs.openstack.org/kolla-ansible/latest/admin/mariadb-backup-and-restore.html\n\nChange-Id: Ie16354cd01ea7dd83cd3d4058dd8451b8387600b\nStory: 2005015\nTask: 29493\n'}]",3,645652,e96179921f572d0f31248dad5c6585de2494e40b,24,4,3,14826,,,0,"Add commands for database backup and recovery

Uses the support [1] for database backups added to Kolla Ansible in the
Stein release.

Adds the following new commands:

kayobe overcloud database backup [--incremental]
kayobe overcloud database recover [--force-recovery-host <host>]

The recovery command is for recovering a clustered database that has
lost quorum.

[1] https://docs.openstack.org/kolla-ansible/latest/admin/mariadb-backup-and-restore.html

Change-Id: Ie16354cd01ea7dd83cd3d4058dd8451b8387600b
Story: 2005015
Task: 29493
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/52/645652/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'ansible/group_vars/all/kolla', 'ansible/roles/kolla-openstack/templates/backup.my.cnf.j2', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'releasenotes/notes/db-backup-recovery-d4f1ced2ebd7dac4.yaml', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/kolla-openstack.yml', 'ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'kayobe/cli/commands.py', 'doc/source/administration/overcloud.rst', 'setup.cfg', 'ansible/roles/kolla-ansible/vars/main.yml', 'ansible/roles/kolla-openstack/defaults/main.yml']",14,2d42e4a1a0e271d4039a9c46ccb525a1ce25d7b7,story/2005015,# Xtrabackup configuration. # Whether to enable Xtrabackup. kolla_enable_xtrabackup: # Free form extra configuration to append to backup.my.cnf. kolla_extra_xtrabackup: ###############################################################################,,193,0
openstack%2Fcinder~master~I8e59039da78ecc9fb5415a10ff2a7c26ee689171,openstack/cinder,master,I8e59039da78ecc9fb5415a10ff2a7c26ee689171,VNX: add option vnx_async_migrate,MERGED,2019-02-26 09:25:29.000000000,2019-05-30 16:39:13.000000000,2019-05-30 16:12:17.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18742}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26114}, {'_account_id': 26537}, {'_account_id': 27406}, {'_account_id': 27615}, {'_account_id': 27740}, {'_account_id': 28801}, {'_account_id': 29291}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-02-26 09:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db424d40d27b2d0b4119fd2f29e2a9d925f89e08', 'message': ""VNX: add option vnx_async_migrate\n\nBefore this fix, customers can disable async migration only by passing\n`--metadata async_migrate=False` in volumes metadata. This fix adds an\noption named `vnx_async_migrate` which could help set the default value\nof async migration for whole backend. If customers don't pass in the\n`async_migrate` in metadata, the value of this opption will be used.\n\nChange-Id: I8e59039da78ecc9fb5415a10ff2a7c26ee689171\nCloses-bug: #1796825\n""}, {'number': 2, 'created': '2019-02-26 09:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1e3bfec1b22d4ee521abeba9f4c4b09aa5094ed', 'message': ""VNX: add option vnx_async_migrate\n\nBefore this fix, customers can disable async migration only by passing\n`--metadata async_migrate=False` in volumes metadata. This fix adds an\noption named `vnx_async_migrate` which could help set the default value\nof async migration for whole backend. If customers don't pass in the\n`async_migrate` in metadata, the value of this option will be used.\n\nChange-Id: I8e59039da78ecc9fb5415a10ff2a7c26ee689171\nCloses-bug: #1796825\n""}, {'number': 3, 'created': '2019-03-01 02:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6fca9c6584dd3ab0e7d33ad2ad513a9e719853c0', 'message': ""VNX: add option vnx_async_migrate\n\nBefore this fix, customers can disable async migration only by passing\n`--metadata async_migrate=False` in volumes metadata. This fix adds an\noption named `vnx_async_migrate` which could help set the default value\nof async migration for whole backend. If customers don't pass in the\n`async_migrate` in metadata, the value of this option will be used.\n\nChange-Id: I8e59039da78ecc9fb5415a10ff2a7c26ee689171\nCloses-bug: #1796825\n""}, {'number': 4, 'created': '2019-03-21 02:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d1df8a87c56b2320cf0758069c0cb279e71d23c8', 'message': ""VNX: add option vnx_async_migrate\n\nBefore this fix, customers can disable async migration only by passing\n`--metadata async_migrate=False` in volumes metadata. This fix adds an\noption named `vnx_async_migrate` which could help set the default value\nof async migration for whole backend. If customers don't pass in the\n`async_migrate` in metadata, the value of this option will be used.\n\nChange-Id: I8e59039da78ecc9fb5415a10ff2a7c26ee689171\nCloses-bug: #1796825\n""}, {'number': 5, 'created': '2019-04-02 02:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3cdb52b2183febe81a2ae8671afb0b08d5c80e13', 'message': ""VNX: add option vnx_async_migrate\n\nBefore this fix, customers can disable async migration only by passing\n`--metadata async_migrate=False` in volumes metadata. This fix adds an\noption named `vnx_async_migrate` which could help set the default value\nof async migration for whole backend. If customers don't pass in the\n`async_migrate` in metadata, the value of this option will be used.\n\nChange-Id: I8e59039da78ecc9fb5415a10ff2a7c26ee689171\nCloses-bug: #1796825\n""}, {'number': 6, 'created': '2019-04-10 02:07:01.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/test_utils.py', 'releasenotes/notes/vnx-add-async-migrate-option-0734164feeaecadc.yaml', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'doc/source/configuration/block-storage/drivers/dell-emc-vnx-driver.rst', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/common.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ecdc2bfc827c5ae8003f877bd95ca8c1385c596', 'message': ""VNX: add option vnx_async_migrate\n\nBefore this fix, customers can disable async migration only by passing\n`--metadata async_migrate=False` in volumes metadata. This fix adds an\noption named `vnx_async_migrate` which could help set the default value\nof async migration for whole backend. If customers don't pass in the\n`async_migrate` in metadata, the value of this option will be used.\n\nChange-Id: I8e59039da78ecc9fb5415a10ff2a7c26ee689171\nCloses-bug: #1796825\n""}]",12,639277,3ecdc2bfc827c5ae8003f877bd95ca8c1385c596,178,50,6,18742,,,0,"VNX: add option vnx_async_migrate

Before this fix, customers can disable async migration only by passing
`--metadata async_migrate=False` in volumes metadata. This fix adds an
option named `vnx_async_migrate` which could help set the default value
of async migration for whole backend. If customers don't pass in the
`async_migrate` in metadata, the value of this option will be used.

Change-Id: I8e59039da78ecc9fb5415a10ff2a7c26ee689171
Closes-bug: #1796825
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/639277/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/test_utils.py', 'releasenotes/notes/vnx-add-async-migrate-option-0734164feeaecadc.yaml', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'doc/source/configuration/block-storage/drivers/dell-emc-vnx-driver.rst', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/common.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py']",8,db424d40d27b2d0b4119fd2f29e2a9d925f89e08,bug/1796825," 13.0.0 - Fix bug 1796825, add an option to set default value for `async_migrate`. VERSION = '13.00.00'", VERSION = '12.01.01',64,12
openstack%2Fcharm-ceph-proxy~master~If9e79b22a919997961a23929435450af0883b882,openstack/charm-ceph-proxy,master,If9e79b22a919997961a23929435450af0883b882,Migrate charm-ceph-proxy testing to Zaza,MERGED,2019-05-16 12:37:33.000000000,2019-05-30 16:35:47.000000000,2019-05-30 16:35:47.000000000,"[{'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26040}, {'_account_id': 27842}]","[{'number': 1, 'created': '2019-05-16 12:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/55963cdd978953ec46e14564fc8c5b0b6951a7d1', 'message': 'Migrate charm-ceph-radosgw testing to Zaza\n\nChange-Id: If9e79b22a919997961a23929435450af0883b882\nCloses-Bug: #1828424\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/5\n'}, {'number': 2, 'created': '2019-05-16 12:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/6e5d39c17b0e564045996c4045b95ddcbc568bf5', 'message': 'Migrate charm-ceph-proxy testing to Zaza\n\nChange-Id: If9e79b22a919997961a23929435450af0883b882\nCloses-Bug: #1828424\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/5\n'}, {'number': 3, 'created': '2019-05-28 13:42:50.000000000', 'files': ['tests/gate-basic-xenial-pike', 'test-requirements.txt', 'tests/gate-basic-trusty-mitaka', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/trusty-icehouse.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/gate-basic-xenial-mitaka', 'tests/bundles/bionic-queens.yaml', 'tests/dev-basic-disco-stein', 'tests/bundles/xenial-newton.yaml', 'tests/gate-basic-bionic-stein', 'tests/bundles/trusty-juno.yaml', 'tests/bundles/trusty-liberty.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/gate-basic-xenial-ocata', 'tests/bundles/trusty-kilo.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/basic_deployment.py', 'tests/dev-basic-cosmic-rocky', 'tests/gate-basic-bionic-queens', 'tests/gate-basic-xenial-queens', 'tests/gate-basic-bionic-rocky', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/8e08a9c22a41b8df5ddfdb662a2dc9d0965bcfaf', 'message': 'Migrate charm-ceph-proxy testing to Zaza\n\nChange-Id: If9e79b22a919997961a23929435450af0883b882\nCloses-Bug: #1828424\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/5\n'}]",0,659548,8e08a9c22a41b8df5ddfdb662a2dc9d0965bcfaf,24,6,3,27842,,,0,"Migrate charm-ceph-proxy testing to Zaza

Change-Id: If9e79b22a919997961a23929435450af0883b882
Closes-Bug: #1828424
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/5
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/48/659548/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/gate-basic-xenial-pike', 'test-requirements.txt', 'tests/gate-basic-trusty-mitaka', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/trusty-icehouse.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/gate-basic-xenial-mitaka', 'tests/bundles/bionic-queens.yaml', 'tests/dev-basic-disco-stein', 'tests/bundles/xenial-newton.yaml', 'tests/gate-basic-bionic-stein', 'tests/bundles/trusty-juno.yaml', 'tests/bundles/trusty-liberty.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/gate-basic-xenial-ocata', 'tests/bundles/trusty-kilo.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/basic_deployment.py', 'tests/dev-basic-cosmic-rocky', 'tests/gate-basic-bionic-queens', 'tests/gate-basic-xenial-queens', 'tests/gate-basic-bionic-rocky', 'tox.ini']",27,55963cdd978953ec46e14564fc8c5b0b6951a7d1,bug/1828424,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:func] basepython = python3 commands = functest-run-suite --keep-model [testenv:func-smoke] basepython = python3 commands = functest-run-suite --keep-model --smoke [testenv:func-dev] basepython = python3 commands = functest-run-suite --keep-model --dev,"[testenv:func27-noop] # DRY RUN - For Debug basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""gate-*"" -n --no-destroy [testenv:func27] # Charm Functional Test # Run all gate tests which are +x (expected to always pass) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""gate-*"" --no-destroy [testenv:func27-smoke] # Charm Functional Test # Run a specific test as an Amulet smoke test (expected to always pass) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-queens --no-destroy [testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev] # Charm Functional Test # Run all development test targets which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dev-*"" --no-destroy ",429,336
openstack%2Fopenstackdocstheme~master~I6cece00bfbbb9b024a5bd93dcc7f0be291c25ac9,openstack/openstackdocstheme,master,I6cece00bfbbb9b024a5bd93dcc7f0be291c25ac9,Add reno for recent CSS cleanups,MERGED,2019-05-30 11:06:14.000000000,2019-05-30 16:31:58.000000000,2019-05-30 16:31:58.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 11:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/0cf47510b8ff85de0452204fa511590c5b9d962d', 'message': 'Add reno for recent CSS cleanups\n\nChange-Id: I6cece00bfbbb9b024a5bd93dcc7f0be291c25ac9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-05-30 12:01:54.000000000', 'files': ['releasenotes/notes/css-cleanup-7fb30a2d1208bb4d.yaml'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/e988c786b1ba8f58078e470e222725169199325a', 'message': 'Add reno for recent CSS cleanups\n\nChange-Id: I6cece00bfbbb9b024a5bd93dcc7f0be291c25ac9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",3,662186,e988c786b1ba8f58078e470e222725169199325a,16,4,2,15334,,,0,"Add reno for recent CSS cleanups

Change-Id: I6cece00bfbbb9b024a5bd93dcc7f0be291c25ac9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/86/662186/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/css-cleanup-7fb30a2d1208bb4d.yaml'],1,0cf47510b8ff85de0452204fa511590c5b9d962d,update-bootstrap,"--- other: - | CSS coverage has been improved, resulting in the removal of a large number of unused CSS rules. ",,5,0
openstack%2Fpython-cinderclient~master~I355982de70c214bd4929c061507076c98b8ad8d2,openstack/python-cinderclient,master,I355982de70c214bd4929c061507076c98b8ad8d2,Drop use of git.openstack.org,MERGED,2019-04-17 08:41:07.000000000,2019-05-30 16:27:49.000000000,2019-05-30 16:27:49.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-17 08:41:07.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8ff86a1706d4d9d283ab0e674018b2a10e0b5418', 'message': ""Drop use of git.openstack.org\n\nOur cgit instance will be going away and opendev.org is the new\npreferred URL for browsing our git repos. Redirects will exist for the\nforeseeable future, but it's more efficient to just go directly to the\nnew locations.\n\nCinder patch : https://review.openstack.org/#/c/652774/\n\nChange-Id: I355982de70c214bd4929c061507076c98b8ad8d2\n""}]",0,653355,8ff86a1706d4d9d283ab0e674018b2a10e0b5418,6,2,1,27615,,,0,"Drop use of git.openstack.org

Our cgit instance will be going away and opendev.org is the new
preferred URL for browsing our git repos. Redirects will exist for the
foreseeable future, but it's more efficient to just go directly to the
new locations.

Cinder patch : https://review.openstack.org/#/c/652774/

Change-Id: I355982de70c214bd4929c061507076c98b8ad8d2
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/55/653355/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,8ff86a1706d4d9d283ab0e674018b2a10e0b5418,,.. _OpenStack: https://opendev.org/openstack/python-cinderclient.. _Source: https://opendev.org/openstack/python-cinderclient,.. _OpenStack: https://git.openstack.org/cgit/openstack/python-cinderclient.. _Source: https://git.openstack.org/cgit/openstack/python-cinderclient,2,2
openstack%2Fcinder~master~I99a5860e2d62f99468b90888beae8eed4ccd9927,openstack/cinder,master,I99a5860e2d62f99468b90888beae8eed4ccd9927,Do not use 'self' in classmethod,MERGED,2019-05-05 03:17:16.000000000,2019-05-30 16:26:40.000000000,2019-05-30 15:59:31.000000000,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-05 03:17:16.000000000', 'files': ['cinder/tests/unit/backup/fake_swift_client.py', 'cinder/tests/unit/backup/fake_swift_client2.py', 'cinder/tests/unit/backup/fake_google_client2.py', 'cinder/tests/unit/backup/fake_google_client.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4a42a5b977de4600eef28a2ed544acfeae9f09bf', 'message': ""Do not use 'self' in classmethod\n\n'cls' should be used in classmethd, instead of 'self'.\nThis patch corrects this in the following places:\n    - cinder/tests/unit/backup/drivers/test_backup_google.py\n    - cinder/tests/unit/backup/fake_google_client.py\n    - cinder/tests/unit/backup/fake_google_client2.py\n    - cinder/tests/unit/backup/fake_swift_client.py\n    - cinder/tests/unit/backup/fake_swift_client2.py\n\nChange-Id: I99a5860e2d62f99468b90888beae8eed4ccd9927\n""}]",0,657190,4a42a5b977de4600eef28a2ed544acfeae9f09bf,29,24,1,20190,,,0,"Do not use 'self' in classmethod

'cls' should be used in classmethd, instead of 'self'.
This patch corrects this in the following places:
    - cinder/tests/unit/backup/drivers/test_backup_google.py
    - cinder/tests/unit/backup/fake_google_client.py
    - cinder/tests/unit/backup/fake_google_client2.py
    - cinder/tests/unit/backup/fake_swift_client.py
    - cinder/tests/unit/backup/fake_swift_client2.py

Change-Id: I99a5860e2d62f99468b90888beae8eed4ccd9927
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/657190/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/fake_swift_client.py', 'cinder/tests/unit/backup/fake_swift_client2.py', 'cinder/tests/unit/backup/fake_google_client2.py', 'cinder/tests/unit/backup/fake_google_client.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py']",5,4a42a5b977de4600eef28a2ed544acfeae9f09bf,self_cls," def digest(cls): def hexdigest(cls): def _fake_generate_object_name_prefix(cls, backup):"," def digest(self): def hexdigest(self): def _fake_generate_object_name_prefix(self, backup):",9,9
openstack%2Ftooz~master~Idb5428d883efa776f0782a543cb7423ae9d4e4b4,openstack/tooz,master,Idb5428d883efa776f0782a543cb7423ae9d4e4b4,Referencing testenv deps now works,MERGED,2019-04-09 02:29:03.000000000,2019-05-30 16:20:18.000000000,2019-05-30 16:20:18.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26505}]","[{'number': 1, 'created': '2019-04-09 02:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/4d194cbf4b3d4fa12850ec4723f88f73cdf596b6', 'message': 'Referencing testenv deps now works.\nThe bug `https://github.com/tox-dev/tox/issues/706` mentioned in the\ncomments has been resolved since tox version 3.1.0.\n\nChange-Id: Idb5428d883efa776f0782a543cb7423ae9d4e4b4\n'}, {'number': 2, 'created': '2019-05-22 02:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/98b9f1699208a3ea510ef437b5e5745323fae37f', 'message': 'Referencing testenv deps now works.\nThe bug `https://github.com/tox-dev/tox/issues/706` mentioned in the\ncomments has been resolved since tox version 3.1.0.\n\nChange-Id: Idb5428d883efa776f0782a543cb7423ae9d4e4b4\n'}, {'number': 3, 'created': '2019-05-23 16:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/9d574abc477c2ad1291b724ac29eaa6bdd37fd82', 'message': 'Referencing testenv deps now works\n\nThe bug `https://github.com/tox-dev/tox/issues/706` mentioned in the\ncomments has been resolved since tox version 3.1.0.\n\nChange-Id: Idb5428d883efa776f0782a543cb7423ae9d4e4b4\n'}, {'number': 4, 'created': '2019-05-24 02:03:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tooz/commit/42672e32884af5ccbf713a34b08328a501793d97', 'message': 'Referencing testenv deps now works\n\nThe bug `https://github.com/tox-dev/tox/issues/706` mentioned in the\ncomments has been resolved since tox version 3.1.0.\n\nChange-Id: Idb5428d883efa776f0782a543cb7423ae9d4e4b4\n'}]",0,651057,42672e32884af5ccbf713a34b08328a501793d97,37,4,4,26505,,,0,"Referencing testenv deps now works

The bug `https://github.com/tox-dev/tox/issues/706` mentioned in the
comments has been resolved since tox version 3.1.0.

Change-Id: Idb5428d883efa776f0782a543cb7423ae9d4e4b4
",git fetch https://review.opendev.org/openstack/tooz refs/changes/57/651057/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4d194cbf4b3d4fa12850ec4723f88f73cdf596b6,tox,minversion = 3.1.0deps = {[testenv]deps},"minversion = 1.8# NOTE(bnemec): Unfortunately, referencing testenv deps doesn't work here, so # we have to duplicate the entire list. # See https://github.com/tox-dev/tox/issues/706 deps = .[test,zake,ipc,memcached,mysql,etcd,etcd3,etcd3gw]",2,5
openstack%2Ftripleo-heat-templates~stable%2Frocky~If99ea62b6cefb140a9c918b8f6a774658c52d54b,openstack/tripleo-heat-templates,stable/rocky,If99ea62b6cefb140a9c918b8f6a774658c52d54b,[Rocky/Queens Only] Remove pre-upgrade validation tasks in cont services.,MERGED,2019-05-21 12:50:46.000000000,2019-05-30 16:12:46.000000000,2019-05-30 16:12:46.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-05-21 12:50:46.000000000', 'files': ['docker/services/metrics/collectd.yaml', 'docker/services/gnocchi-metricd.yaml', 'docker/services/horizon.yaml', 'docker/services/octavia-api.yaml', 'docker/services/aodh-api.yaml', 'docker/services/barbican-api.yaml', 'docker/services/ironic-inspector.yaml', 'docker/services/database/mongodb.yaml', 'docker/services/nova-api.yaml', 'docker/services/memcached.yaml', 'docker/services/octavia-housekeeping.yaml', 'docker/services/nova-libvirt.yaml', 'docker/services/heat-api.yaml', 'docker/services/ironic-conductor.yaml', 'docker/services/ovn-metadata.yaml', 'docker/services/mistral-api.yaml', 'docker/services/ec2-api.yaml', 'docker/services/cinder-scheduler.yaml', 'docker/services/tacker.yaml', 'docker/services/iscsid.yaml', 'docker/services/cinder-volume.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/ovn-dbs.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/sensu-client.yaml', 'docker/services/ovn-controller.yaml', 'docker/services/sahara-api.yaml', 'docker/services/database/mysql.yaml', 'docker/services/nova-placement.yaml', 'docker/services/congress.yaml', 'docker/services/heat-engine.yaml', 'docker/services/manila-share.yaml', 'docker/services/manila-scheduler.yaml', 'docker/services/neutron-sriov-agent.yaml', 'docker/services/cinder-api.yaml', 'docker/services/etcd.yaml', 'docker/services/octavia-health-manager.yaml', 'docker/services/haproxy.yaml', 'docker/services/swift-storage.yaml', 'docker/services/nova-ironic.yaml', 'docker/services/messaging/rpc-rabbitmq.yaml', 'docker/services/opendaylight-api.yaml', 'docker/services/gnocchi-statsd.yaml', 'docker/services/ceilometer-agent-central.yaml', 'docker/services/tripleo-ui.yaml', 'docker/services/nova-consoleauth.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/mistral-event-engine.yaml', 'docker/services/database/redis.yaml', 'docker/services/neutron-l3.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/xinetd.yaml', 'docker/services/manila-api.yaml', 'docker/services/nova-vnc-proxy.yaml', 'docker/services/multipathd.yaml', 'docker/services/ceilometer-agent-compute.yaml', 'docker/services/mistral-executor.yaml', 'docker/services/aodh-listener.yaml', 'docker/services/neutron-api.yaml', 'docker/services/neutron-ovs-agent.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/cinder-backup.yaml', 'docker/services/ironic-neutron-agent.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/ironic-api.yaml', 'docker/services/keystone.yaml', 'docker/services/messaging/notify-rabbitmq.yaml', 'docker/services/zaqar.yaml', 'docker/services/aodh-evaluator.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'docker/services/keepalived.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/neutron-metadata.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/swift-proxy.yaml', 'docker/services/glance-api.yaml', 'docker/services/mistral-engine.yaml', 'docker/services/rabbitmq.yaml', 'docker/services/ceilometer-agent-notification.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e0a4d0e5282e5e3bcced9368c724ffd6042643f', 'message': ""[Rocky/Queens Only] Remove pre-upgrade validation tasks in cont services.\n\nThe pre-upgrade validation tasks in the containerized services made\nsense when upgrading from non-containerized to containerized overcloud\n(ocata to pike), however we kept them for queens and rocky\nrelease thinking about using them during the undercloud upgrade from\nnon-containerized to containerized (queens to rocky) but they\nwere skipped there too [0]. It's beeing observed in the current\nupgrades taken place by operators, that these validations are\ncausing more issues than it was thought, so let's get rid of\nthem from all the containerized services in Queens and Rocky.\n\nCloses-Bug: #1829858\n\n[0] - https://github.com/openstack/python-tripleoclient/blob/stable/rocky/tripleoclient/v1/tripleo_deploy.py#L833\n\nChange-Id: If99ea62b6cefb140a9c918b8f6a774658c52d54b\n""}]",0,660377,7e0a4d0e5282e5e3bcced9368c724ffd6042643f,13,11,1,26343,,,0,"[Rocky/Queens Only] Remove pre-upgrade validation tasks in cont services.

The pre-upgrade validation tasks in the containerized services made
sense when upgrading from non-containerized to containerized overcloud
(ocata to pike), however we kept them for queens and rocky
release thinking about using them during the undercloud upgrade from
non-containerized to containerized (queens to rocky) but they
were skipped there too [0]. It's beeing observed in the current
upgrades taken place by operators, that these validations are
causing more issues than it was thought, so let's get rid of
them from all the containerized services in Queens and Rocky.

Closes-Bug: #1829858

[0] - https://github.com/openstack/python-tripleoclient/blob/stable/rocky/tripleoclient/v1/tripleo_deploy.py#L833

Change-Id: If99ea62b6cefb140a9c918b8f6a774658c52d54b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/660377/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/metrics/collectd.yaml', 'docker/services/gnocchi-metricd.yaml', 'docker/services/horizon.yaml', 'docker/services/octavia-api.yaml', 'docker/services/aodh-api.yaml', 'docker/services/barbican-api.yaml', 'docker/services/ironic-inspector.yaml', 'docker/services/database/mongodb.yaml', 'docker/services/nova-api.yaml', 'docker/services/memcached.yaml', 'docker/services/octavia-housekeeping.yaml', 'docker/services/nova-libvirt.yaml', 'docker/services/heat-api.yaml', 'docker/services/ironic-conductor.yaml', 'docker/services/ovn-metadata.yaml', 'docker/services/mistral-api.yaml', 'docker/services/ec2-api.yaml', 'docker/services/cinder-scheduler.yaml', 'docker/services/tacker.yaml', 'docker/services/iscsid.yaml', 'docker/services/cinder-volume.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/ovn-dbs.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/sensu-client.yaml', 'docker/services/ovn-controller.yaml', 'docker/services/sahara-api.yaml', 'docker/services/database/mysql.yaml', 'docker/services/nova-placement.yaml', 'docker/services/congress.yaml', 'docker/services/heat-engine.yaml', 'docker/services/manila-share.yaml', 'docker/services/manila-scheduler.yaml', 'docker/services/neutron-sriov-agent.yaml', 'docker/services/cinder-api.yaml', 'docker/services/etcd.yaml', 'docker/services/octavia-health-manager.yaml', 'docker/services/haproxy.yaml', 'docker/services/swift-storage.yaml', 'docker/services/nova-ironic.yaml', 'docker/services/messaging/rpc-rabbitmq.yaml', 'docker/services/opendaylight-api.yaml', 'docker/services/gnocchi-statsd.yaml', 'docker/services/ceilometer-agent-central.yaml', 'docker/services/tripleo-ui.yaml', 'docker/services/nova-consoleauth.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/mistral-event-engine.yaml', 'docker/services/database/redis.yaml', 'docker/services/neutron-l3.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/xinetd.yaml', 'docker/services/manila-api.yaml', 'docker/services/nova-vnc-proxy.yaml', 'docker/services/multipathd.yaml', 'docker/services/ceilometer-agent-compute.yaml', 'docker/services/mistral-executor.yaml', 'docker/services/aodh-listener.yaml', 'docker/services/neutron-api.yaml', 'docker/services/neutron-ovs-agent.yaml', 'docker/services/octavia-worker.yaml', 'docker/services/cinder-backup.yaml', 'docker/services/ironic-neutron-agent.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/ironic-api.yaml', 'docker/services/keystone.yaml', 'docker/services/messaging/notify-rabbitmq.yaml', 'docker/services/zaqar.yaml', 'docker/services/aodh-evaluator.yaml', 'docker/services/ceilometer-agent-ipmi.yaml', 'docker/services/keepalived.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/neutron-metadata.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/swift-proxy.yaml', 'docker/services/glance-api.yaml', 'docker/services/mistral-engine.yaml', 'docker/services/rabbitmq.yaml', 'docker/services/ceilometer-agent-notification.yaml', 'docker/services/nova-compute.yaml']",80,7e0a4d0e5282e5e3bcced9368c724ffd6042643f,bug/1829858,," - name: ""PreUpgrade step0,validation: Check service openstack-nova-compute is running"" command: systemctl is-active --quiet openstack-nova-compute tags: validation when: nova_compute_enabled|bool",0,396
openstack%2Foslo.cache~stable%2Fstein~I0f6ca974dc3055aad28638ef4b087a19935b4c29,openstack/oslo.cache,stable/stein,I0f6ca974dc3055aad28638ef4b087a19935b4c29,Fix lower-constraints,MERGED,2019-05-22 14:14:00.000000000,2019-05-30 16:12:43.000000000,2019-05-30 16:12:43.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-22 14:14:00.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/84909155ba66d36acd6fbb4a32dfbe05f8c65503', 'message': ""Fix lower-constraints\n\nWe require six >= 1.11.0 due to our oslo.log dependency. Fix this. We\nwon't actually see this fix until we remove the use of 'tox_install.sh'\nin I48f31084d595c44114391e046e5fe418c1fb787a.\n\nChange-Id: I0f6ca974dc3055aad28638ef4b087a19935b4c29\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit c8625175022068a71ae7eefd3dbcfcd4eaa1b7b2)\n""}]",0,660731,84909155ba66d36acd6fbb4a32dfbe05f8c65503,12,6,1,29222,,,0,"Fix lower-constraints

We require six >= 1.11.0 due to our oslo.log dependency. Fix this. We
won't actually see this fix until we remove the use of 'tox_install.sh'
in I48f31084d595c44114391e046e5fe418c1fb787a.

Change-Id: I0f6ca974dc3055aad28638ef4b087a19935b4c29
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit c8625175022068a71ae7eefd3dbcfcd4eaa1b7b2)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/31/660731/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,84909155ba66d36acd6fbb4a32dfbe05f8c65503,stein,six==1.11.0,six==1.10.0,2,2
openstack%2Fopenstack-zuul-jobs~master~I58a82d7e58ee1d2d8c653e4e92cab8cfc8d834b4,openstack/openstack-zuul-jobs,master,I58a82d7e58ee1d2d8c653e4e92cab8cfc8d834b4,Update puppet jobs to default to puppet 4,MERGED,2019-05-29 21:58:20.000000000,2019-05-30 15:59:40.000000000,2019-05-30 15:59:40.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 21:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/833e2f7c36ba38b386e418f2dfb05845d9e35983', 'message': ""Remove more puppet-3 jobs\n\nRemove old puppet-3 puppet-apply jobs. Also change the default puppet\nversion to '4' for the puppet-apply and beaker jobs. This change leaves\nthe unversioned base puppet jobs and the puppet-4 child jobs even though\nthey are now redundant for the sake of clarity of the job ancestry.\n\nChange-Id: I58a82d7e58ee1d2d8c653e4e92cab8cfc8d834b4\n""}, {'number': 2, 'created': '2019-05-30 14:39:30.000000000', 'files': ['playbooks/infra-puppet-beaker-rspec/run.yaml', 'zuul.d/project-templates.yaml', 'playbooks/infra-puppet-apply/run.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a0697b63b681c0d215d940c5c9566c6ce8445096', 'message': ""Update puppet jobs to default to puppet 4\n\nThis change removes the last of the puppet-3 puppet-apply jobs and\nchanges the default puppet version to '4' for the puppet-apply and\nbeaker jobs. This change leaves the unversioned base puppet jobs and the\npuppet-4 child jobs even though they are now redundant for the sake of\nclarity of the job ancestry.\n\nChange-Id: I58a82d7e58ee1d2d8c653e4e92cab8cfc8d834b4\n""}]",2,662100,a0697b63b681c0d215d940c5c9566c6ce8445096,13,4,2,8482,,,0,"Update puppet jobs to default to puppet 4

This change removes the last of the puppet-3 puppet-apply jobs and
changes the default puppet version to '4' for the puppet-apply and
beaker jobs. This change leaves the unversioned base puppet jobs and the
puppet-4 child jobs even though they are now redundant for the sake of
clarity of the job ancestry.

Change-Id: I58a82d7e58ee1d2d8c653e4e92cab8cfc8d834b4
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/00/662100/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/infra-puppet-beaker-rspec/run.yaml', 'zuul.d/project-templates.yaml', 'playbooks/infra-puppet-apply/run.yaml', 'zuul.d/jobs.yaml']",4,833e2f7c36ba38b386e418f2dfb05845d9e35983,puppet-4,, name: infra-puppet-apply-3-ubuntu-xenial parent: infra-puppet-apply-base nodeset: ubuntu-xenial - job: name: infra-puppet-apply-3-ubuntu-trusty parent: infra-puppet-apply-base nodeset: ubuntu-trusty branches: master - job:,2,15
openstack%2Fpython-cinderclient~master~I798f826c1da97b20ccf9decd177754a7a0b055fa,openstack/python-cinderclient,master,I798f826c1da97b20ccf9decd177754a7a0b055fa,Update sphinx dependency,MERGED,2019-05-22 06:16:32.000000000,2019-05-30 15:56:10.000000000,2019-05-30 15:56:10.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 27615}]","[{'number': 1, 'created': '2019-05-22 06:16:32.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/94d8e773257d33c53d8b78e385f550eeeb7de69d', 'message': 'Update sphinx dependency\n\nChange-Id: I798f826c1da97b20ccf9decd177754a7a0b055fa\n'}]",0,660568,94d8e773257d33c53d8b78e385f550eeeb7de69d,6,13,1,27822,,,0,"Update sphinx dependency

Change-Id: I798f826c1da97b20ccf9decd177754a7a0b055fa
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/68/660568/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,94d8e773257d33c53d8b78e385f550eeeb7de69d,Bug#sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fplacement~master~I61fb232ededaec2ba0d65b5879ff91a76e8b9887,openstack/placement,master,I61fb232ededaec2ba0d65b5879ff91a76e8b9887,Start unit tests for PlacementFixture,ABANDONED,2019-03-21 17:22:40.000000000,2019-05-30 15:52:22.000000000,,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-21 17:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/209bbe6592842f92b4bc64088c57937ea0cdcbe9', 'message': 'Start unit tests for PlacementFixture\n\nTesting PlacementFixture is hard. The most effective tests are from\nthings (like nova) trying to use the fixture. But a certain amount of\nunit testing is still possible and desirable.\n\nThis commit introduces placement.tests.unit.test_fixtures with a\nPlacementFixtureTest which initially exercises the register_opts kwarg\nadded in [1].\n\n[1] I360a306b5d05ada75274733038b73ec2f2bdc4d4\n\nChange-Id: I61fb232ededaec2ba0d65b5879ff91a76e8b9887\n'}, {'number': 2, 'created': '2019-03-21 18:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/43598595f517ed70bf2d0143300b48eed9e05ec3', 'message': 'Start unit tests for PlacementFixture\n\nTesting PlacementFixture is hard. The most effective tests are from\nthings (like nova) trying to use the fixture. But a certain amount of\nunit testing is still possible and desirable.\n\nThis commit introduces placement.tests.unit.test_fixtures with a\nPlacementFixtureTest which initially exercises the register_opts kwarg\nadded in [1].\n\n[1] I360a306b5d05ada75274733038b73ec2f2bdc4d4\n\nChange-Id: I61fb232ededaec2ba0d65b5879ff91a76e8b9887\n'}, {'number': 3, 'created': '2019-03-21 21:35:59.000000000', 'files': ['placement/tests/unit/test_fixtures.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/bd57e8061acd2223b12a80c6ab99b9efe249e154', 'message': 'Start unit tests for PlacementFixture\n\nTesting PlacementFixture is hard. The most effective tests are from\nthings (like nova) trying to use the fixture. But a certain amount of\nunit testing is still possible and desirable.\n\nThis commit introduces placement.tests.unit.test_fixtures with a\nPlacementFixtureTest which initially exercises the register_opts kwarg\nadded in [1].\n\n[1] I360a306b5d05ada75274733038b73ec2f2bdc4d4\n\nChange-Id: I61fb232ededaec2ba0d65b5879ff91a76e8b9887\n'}]",11,645255,bd57e8061acd2223b12a80c6ab99b9efe249e154,13,4,3,14070,,,0,"Start unit tests for PlacementFixture

Testing PlacementFixture is hard. The most effective tests are from
things (like nova) trying to use the fixture. But a certain amount of
unit testing is still possible and desirable.

This commit introduces placement.tests.unit.test_fixtures with a
PlacementFixtureTest which initially exercises the register_opts kwarg
added in [1].

[1] I360a306b5d05ada75274733038b73ec2f2bdc4d4

Change-Id: I61fb232ededaec2ba0d65b5879ff91a76e8b9887
",git fetch https://review.opendev.org/openstack/placement refs/changes/55/645255/2 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/unit/test_fixtures.py'],1,209bbe6592842f92b4bc64088c57937ea0cdcbe9,test-PlacementFixture,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import testtools from oslo_config import cfg from oslo_config import fixture as config_fixture from placement import conf from placement.tests.functional.fixtures import placement class PlacementFixtureTest(testtools.TestCase): def test_no_kwargs(self): pf = placement.PlacementFixture() pf.setUp() self.assertIn('debug', pf.conf_fixture.conf) # TODO(efried): Test more things about the fixture def test_register_opts_fail(self): pf = placement.PlacementFixture(register_opts=False) # NOTE(efried): We should assertRaises(oslo_config.cfg.NoSuchOptError, # but don't want to drag in a req on oslo.config. exc = self.assertRaises(Exception, pf.setUp) self.assertEqual('NoSuchOptError', exc.args[0][0].__name__) def test_register_opts_already_registered(self): conf_fixture = self.useFixture(config_fixture.Config(cfg.ConfigOpts())) conf.register_opts(conf_fixture.conf) self.assertIn('debug', conf_fixture.conf) pf = placement.PlacementFixture( conf_fixture=conf_fixture, register_opts=False) pf.setUp() self.assertIn('debug', conf_fixture.conf) ",,41,0
openstack%2Fmonasca-api~master~I8803e28fe8c2c11e819be44db4ef93cb19b47a1d,openstack/monasca-api,master,I8803e28fe8c2c11e819be44db4ef93cb19b47a1d,Support cassandra connection timeout option,MERGED,2019-04-12 07:36:29.000000000,2019-05-30 15:49:56.000000000,2019-05-30 15:49:56.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-12 07:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/68e108d5a0881c91811cf9b3b5a2e65860bb9853', 'message': 'Support cassandra connection timeout option\n\nCreating a cassandra connection can be limited by connection_timeout option.\n\nChange-Id: I8803e28fe8c2c11e819be44db4ef93cb19b47a1d\n'}, {'number': 2, 'created': '2019-04-13 01:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/29eba3b514b0e682aa203da2e3b5b1dcdf0c18f8', 'message': 'Support cassandra connection timeout option\n\nCreating a cassandra connection can be limited by connection_timeout option.\n\nStory: 2005450\nTask: 30502\n\nChange-Id: I8803e28fe8c2c11e819be44db4ef93cb19b47a1d\n'}, {'number': 3, 'created': '2019-05-30 11:34:15.000000000', 'files': ['monasca_api/conf/cassandra.py', 'monasca_api/common/repositories/cassandra/metrics_repository.py', 'releasenotes/notes/cassandra-connectiontimeout-option-13bc68e2fcd56580.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/dbe1ea8b5096068696a571ef670c23460dee346d', 'message': 'Support cassandra connection timeout option\n\nCreating a cassandra connection can be limited by connection_timeout option.\n\nStory: 2005450\nTask: 30502\n\nChange-Id: I8803e28fe8c2c11e819be44db4ef93cb19b47a1d\n'}]",0,651993,dbe1ea8b5096068696a571ef670c23460dee346d,30,3,3,29970,,,0,"Support cassandra connection timeout option

Creating a cassandra connection can be limited by connection_timeout option.

Story: 2005450
Task: 30502

Change-Id: I8803e28fe8c2c11e819be44db4ef93cb19b47a1d
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/93/651993/2 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_api/conf/cassandra.py', 'monasca_api/common/repositories/cassandra/metrics_repository.py']",2,68e108d5a0881c91811cf9b3b5a2e65860bb9853,cassandra-connection-timeout-support," connect_timeout=self.conf.cassandra.connection_timeout,",,5,0
openstack%2Fopenstack-helm-infra~master~I44aa0fda59f0d6b7d22600a0d1672a127c2a274d,openstack/openstack-helm-infra,master,I44aa0fda59f0d6b7d22600a0d1672a127c2a274d,Update docker.io version,ABANDONED,2019-05-30 15:14:15.000000000,2019-05-30 15:45:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-30 15:14:15.000000000', 'files': ['roles/deploy-docker/tasks/main.yaml', 'tools/deployment/common/005-deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92f08798a01005b558a74ab3f1b9f7f4a80e06b0', 'message': 'Update docker.io version\n\nThis updates the docker.io version that is currently in the upstream\nUbuntu 16.04 repository.\n\nChange-Id: I44aa0fda59f0d6b7d22600a0d1672a127c2a274d\n'}]",0,662243,92f08798a01005b558a74ab3f1b9f7f4a80e06b0,3,1,1,22477,,,0,"Update docker.io version

This updates the docker.io version that is currently in the upstream
Ubuntu 16.04 repository.

Change-Id: I44aa0fda59f0d6b7d22600a0d1672a127c2a274d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/43/662243/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/deploy-docker/tasks/main.yaml', 'tools/deployment/common/005-deploy-k8s.sh']",2,92f08798a01005b558a74ab3f1b9f7f4a80e06b0,update-docker-io, docker.io=18.09.5-0ubuntu1~16.04.2 \, docker.io=18.06.1-0ubuntu1.2~18.04.1 \,2,2
openstack%2Fcharm-ceph-mon~master~Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767,openstack/charm-ceph-mon,master,Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767,Add set require-osd-release command to osd hook.,MERGED,2019-05-20 21:04:51.000000000,2019-05-30 15:43:16.000000000,2019-05-30 15:43:15.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30218}]","[{'number': 1, 'created': '2019-05-20 21:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/428410297ebd1b3d3d3b76a99790f5dd8ce7f980', 'message': 'Add set require-osd-release command to osd hook.\n\n To access all ceph features for a new release,\n require-osd-release must be set to the current\n release. Else, features will not be available\n and ceph health gives a warning on luminous.\n Here, we check to see if an osd has notified mon\n of its upgrade. If so, we run the post-upgrade\n actions. The one (and only) action is to set\n require-osd-release if and only if all osds (and\n mons) have been upgraded to the same version.\n\nGet osd release information from new_ceph_release\nkey in relation dict.\n\nAdd call to set require-osd-release to current release.\n\nAdd check for upgrades function in osd-relations hook.\n\nAdd logic for determinig whether to run set\nrequire-osd-release command.\n\nAdd logic for checking if all osds and mons have\nconverged to same release.\n\nChange-Id: Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767\nCloses-Bug: #1828630\n'}, {'number': 2, 'created': '2019-05-23 14:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/fc0d6de9559f573e94d4fc3361182ad904962d06', 'message': 'Add set require-osd-release command to osd hook.\n\n To access all ceph features for a new release,\n require-osd-release must be set to the current\n release. Else, features will not be available\n and ceph health gives a warning on luminous.\n Here, we check to see if an osd has upgraded its\n release and notified mon. If so, we run the\n post-upgrade actions when all osds have reached\n the new release. The one (and only) action\n is to set require-osd-release if and only if\n all osds (and mons) have been upgraded to the\n same version.\n\nGet osd release information from ceph_release key in\nrelation dict.\n\nAdd call to set require-osd-release to current release.\n\nAdd execute post-upgrade actions func in osd-relations hook.\n\nAdd logic for determinig whether to run set\nrequire-osd-release command.\n\nAdd logic for checking if all osds and mons have\nconverged to same release.\n\nCreate func to grab all unique osd releases on each unit.\n\nChange-Id: Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767\nCloses-Bug: #1828630\n'}, {'number': 3, 'created': '2019-05-24 14:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/b04675e589c44e2d0d29413184077a6d5113eee8', 'message': 'Add set require-osd-release command to osd hook.\n\n To access all ceph features for a new release,\n require-osd-release must be set to the current\n release. Else, features will not be available\n and ceph health gives a warning on luminous.\n Here, we check to see if an osd has upgraded its\n release and notified mon. If so, we run the\n post-upgrade actions when all osds have reached\n the new release. The one (and only) action\n is to set require-osd-release if and only if\n all osds (and mons) have been upgraded to the\n same version.\n\nGet osd release information from ceph_release key in\nrelation dict.\n\nAdd call to set require-osd-release to current release.\n\nAdd execute post-upgrade actions func in osd-relations hook.\n\nAdd logic for determinig whether to run set\nrequire-osd-release command.\n\nAdd logic for checking if all osds and mons have\nconverged to same release.\n\nCreate func to grab all unique osd releases on each unit.\n\nChange-Id: Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767\nCloses-Bug: #1828630\n'}, {'number': 4, 'created': '2019-05-24 19:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/fb5dad61253faeacc7bd3e1ce92b72b13087edcc', 'message': 'Add set require-osd-release command to osd hook.\n\n To access all ceph features for a new release,\n require-osd-release must be set to the current\n release. Else, features will not be available\n and ceph health gives a warning on luminous.\n Here, we check to see if an osd has upgraded its\n release and notified mon. If so, we run the\n post-upgrade steps when all osds have reached\n the new release. The one (and only) step\n is to set require-osd-release if and only if\n all osds (and mons) have been upgraded to the\n same version.\n\nGet osd release information from ceph_release key in\nrelation dict.\n\nAdd call to set require-osd-release to current release.\n\nAdd execute post-upgrade steps func in osd-relations hook.\n\nAdd logic for determinig whether to run set\nrequire-osd-release command.\n\nAdd logic for checking if all osds and mons have\nconverged to same release.\n\nCreate func to grab all unique osd releases on each unit.\n\nChange-Id: Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767\nCloses-Bug: #1828630\n'}, {'number': 5, 'created': '2019-05-28 23:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/acc949a0bf28bdcee5232ee1cccbebe3b6f72a16', 'message': 'Add set require-osd-release command to osd hook.\n\n To access all ceph features for a new release,\n require-osd-release must be set to the current\n release. Else, features will not be available\n and ceph health gives a warning on luminous.\n Here, we check to see if an osd has upgraded its\n release and notified mon. If so, we run the\n post-upgrade steps when all osds have reached\n the new release. The one (and only) step\n is to set require-osd-release if and only if\n all osds (and mons) have been upgraded to the\n same version.\n\nGet osd release information from ceph_release key in\nrelation dict.\n\nAdd call to set require-osd-release to current release.\n\nAdd execute post-upgrade steps func in osd-relations hook.\n\nAdd logic for determinig whether to run set\nrequire-osd-release command.\n\nAdd logic for checking if all osds and mons have\nconverged to same release.\n\nCreate func to grab all unique osd releases on each unit.\n\nChange-Id: Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767\nCloses-Bug: #1828630\n'}, {'number': 6, 'created': '2019-05-29 18:51:00.000000000', 'files': ['hooks/utils.py', 'hooks/ceph_hooks.py', 'unit_tests/test_ceph_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/63b38bf5ce7080c0c1f7b815efaf41e3c862c309', 'message': 'Add set require-osd-release command to osd hook.\n\n To access all ceph features for a new release,\n require-osd-release must be set to the current\n release. Else, features will not be available\n and ceph health gives a warning on luminous.\n Here, we check to see if an osd has upgraded its\n release and notified mon. If so, we run the\n post-upgrade steps when all osds have reached\n the new release. The one (and only) step\n is to set require-osd-release if and only if\n all osds (and mons) have been upgraded to the\n same version.\n\nGet osd release information from ceph_release key in\nrelation dict.\n\nAdd call to set require-osd-release to current release.\n\nAdd execute post-upgrade steps func in osd-relations hook.\n\nAdd logic for determinig whether to run set\nrequire-osd-release command.\n\nAdd logic for checking if all osds and mons have\nconverged to same release.\n\nCreate func to grab all unique osd releases on each unit.\n\nChange-Id: Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767\nCloses-Bug: #1828630\n'}]",15,660210,63b38bf5ce7080c0c1f7b815efaf41e3c862c309,33,6,6,30218,,,0,"Add set require-osd-release command to osd hook.

 To access all ceph features for a new release,
 require-osd-release must be set to the current
 release. Else, features will not be available
 and ceph health gives a warning on luminous.
 Here, we check to see if an osd has upgraded its
 release and notified mon. If so, we run the
 post-upgrade steps when all osds have reached
 the new release. The one (and only) step
 is to set require-osd-release if and only if
 all osds (and mons) have been upgraded to the
 same version.

Get osd release information from ceph_release key in
relation dict.

Add call to set require-osd-release to current release.

Add execute post-upgrade steps func in osd-relations hook.

Add logic for determinig whether to run set
require-osd-release command.

Add logic for checking if all osds and mons have
converged to same release.

Create func to grab all unique osd releases on each unit.

Change-Id: Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767
Closes-Bug: #1828630
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/10/660210/5 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,428410297ebd1b3d3d3b76a99790f5dd8ce7f980,bug/1828630," @patch.object(ceph_hooks, 'relation_get') @patch.object(ceph_hooks, 'is_leader') @patch.object(ceph_hooks, 'log') @patch.object(ceph_hooks, '_execute_post_osd_upgrade_actions') @patch.object(ceph_hooks, 'relation_set') def test_check_for_osd_upgrades_execute_actions( self, relation_set, _execute_post_osd_upgrade_actions, log, is_leader, relation_get): release = 'luminous' relation_id = '1' relation_get.return_value = release is_leader.return_value = True ceph_hooks.check_for_osd_upgrades(relation_id) relation_get.assert_called_once_with('new_ceph_release', rid=relation_id) _execute_post_osd_upgrade_actions.assert_called_once_with(release) relation_set.assert_called_once_with( relation_id=relation_id, relation_settings=dict(new_ceph_release=None)) @patch.object(ceph_hooks, 'relation_get') @patch.object(ceph_hooks, '_execute_post_osd_upgrade_actions') def test_check_for_osd_upgrades_actions_not_run( self, _execute_post_osd_upgrade_actions, relation_get): release = None relation_id = '1' relation_get.return_value = release ceph_hooks.check_for_osd_upgrades(relation_id) relation_get.assert_called_once_with('new_ceph_release', rid=relation_id) _execute_post_osd_upgrade_actions.assert_not_called() @patch.object(ceph_hooks, '_should_set_require_osd_release') @patch.object(ceph_hooks, '_set_require_osd_release') @patch.object(ceph_hooks, 'log') def test_execute_post_osd_upgrade_actions_executes( self, log, _set_require_osd_release, _should_set_require_osd_release): release = 'luminous' _should_set_require_osd_release.return_value = True ceph_hooks._execute_post_osd_upgrade_actions(release) _set_require_osd_release.assert_called_once_with(release) @patch.object(ceph_hooks, '_is_current_version_gte_luminous') @patch.object(ceph_hooks, '_all_ceph_versions_same') def test_should_set_require_osd_release_meets_criteria( self, _all_ceph_versions_same, _is_current_version_gte_luminous): _is_current_version_gte_luminous.return_value = True _all_ceph_versions_same.return_value = True return_bool = ceph_hooks._should_set_require_osd_release() self.assertTrue(return_bool) @patch.object(ceph_hooks, '_is_current_version_gte_luminous') @patch.object(ceph_hooks, '_all_ceph_versions_same') def test_should_set_require_osd_release_fails_criteria( self, _all_ceph_versions_same, _is_current_version_gte_luminous): _is_current_version_gte_luminous.return_value = False _all_ceph_versions_same.return_value = True return_bool = ceph_hooks._should_set_require_osd_release() self.assertFalse(return_bool) @patch.object(ceph_hooks.ceph, 'get_version') def test_is_current_version_gte_luminous_returns_true(self, get_version): get_version.return_value = 13.0 return_bool = ceph_hooks._is_current_version_gte_luminous() self.assertTrue(return_bool) @patch.object(ceph_hooks.ceph, 'get_version') def test_is_current_version_gte_luminous_returns_false(self, get_version): get_version.return_value = 11.0 return_bool = ceph_hooks._is_current_version_gte_luminous() self.assertFalse(return_bool) @patch.object(ceph_hooks.subprocess, 'check_output') @patch.object(ceph_hooks.json, 'loads') @patch.object(ceph_hooks, 'log') def test_all_ceph_versions_same_one_overall_one_osd_true( self, log, json_loads, subprocess_check_output): mock_versions_dict = dict( osd=dict(version_1=1), overall=dict(version_1=2) ) json_loads.return_value = mock_versions_dict return_bool = ceph_hooks._all_ceph_versions_same() self.assertTrue( return_bool, msg='all_ceph_versions_same returned False but should be True') log.assert_not_called() @patch.object(ceph_hooks.subprocess, 'check_output') @patch.object(ceph_hooks.json, 'loads') @patch.object(ceph_hooks, 'log') def test_all_ceph_versions_same_two_overall_returns_false( self, log, json_loads, subprocess_check_output): mock_versions_dict = dict( osd=dict(version_1=1), overall=dict(version_1=1, version_2=2) ) json_loads.return_value = mock_versions_dict return_bool = ceph_hooks._all_ceph_versions_same() self.assertFalse( return_bool, msg='all_ceph_versions_same returned True but should be False') log.assert_called_once() @patch.object(ceph_hooks.subprocess, 'check_output') @patch.object(ceph_hooks.json, 'loads') @patch.object(ceph_hooks, 'log') def test_all_ceph_versions_same_one_overall_no_osd_returns_false( self, log, json_loads, subprocess_check_output): mock_versions_dict = dict( osd=dict(), overall=dict(version_1=1) ) json_loads.return_value = mock_versions_dict return_bool = ceph_hooks._all_ceph_versions_same() self.assertFalse( return_bool, msg='all_ceph_versions_same returned True but should be False') log.assert_called_once() @patch.object(ceph_hooks.subprocess, 'check_call') @patch.object(ceph_hooks, 'log') def test_set_require_osd_release_success(self, log, check_call): release = 'luminous' ceph_hooks._set_require_osd_release(release) expected_call = call(['ceph', 'osd', 'require-osd-release', release]) check_call.has_calls(expected_call) @patch.object(ceph_hooks.subprocess, 'check_call') @patch.object(ceph_hooks, 'log') def test_set_require_osd_release_raise_call_error(self, log, check_call): release = 'luminous' check_call.side_effect = ceph_hooks.subprocess.CalledProcessError( 0, MagicMock() ) expected_call = call(['ceph', 'osd', 'require-osd-release', release]) ceph_hooks._set_require_osd_release(release) check_call.has_calls(expected_call) log.assert_called_once() ",,228,0
openstack%2Fnova~master~Ie99d9197331fadfe2dbc6e7700014bb14d01ed88,openstack/nova,master,Ie99d9197331fadfe2dbc6e7700014bb14d01ed88,Preserve images_type of instance during live migration,ABANDONED,2018-05-25 07:34:07.000000000,2019-05-30 15:42:39.000000000,,"[{'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26515}, {'_account_id': 28332}]","[{'number': 1, 'created': '2018-05-25 07:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/367d0808156780acca2437568974f888124e66dc', 'message': 'Preserve images_type of instance during live migration\n\nWhen a target host is prepraring live-migration, it creates disk\naccording nova.conf setting CONF.libvirt.images_type\nand not from image type disk of source instance.\nThis change propose to keep original disk type of instance.\n\nCloses-Bug: #1773318\n\nChange-Id: Ie99d9197331fadfe2dbc6e7700014bb14d01ed88\n'}, {'number': 2, 'created': '2018-06-11 11:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/908d4d9ccbf0822c5f519c564f38ba49bdfb8ffe', 'message': 'Preserve images_type of instance during live migration\n\nWhen a target host is prepraring live-migration, it creates disk\naccording nova.conf setting CONF.libvirt.images_type\nand not from image type disk of source instance.\nThis change propose to keep original disk type of instance.\n\nCloses-Bug: #1773318\n\nChange-Id: Ie99d9197331fadfe2dbc6e7700014bb14d01ed88\n'}, {'number': 3, 'created': '2018-06-12 15:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d013c7c6de455468ff2f8f13db2cc1fe5be5cb93', 'message': 'Preserve images_type of instance during live migration\n\nWhen a target host is prepraring live-migration, it creates disk\naccording nova.conf setting CONF.libvirt.images_type\nand not from image type disk of source instance.\nThis change propose to keep original disk type of instance.\n\nCloses-Bug: #1773318\n\nChange-Id: Ie99d9197331fadfe2dbc6e7700014bb14d01ed88\n'}, {'number': 4, 'created': '2018-06-14 09:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c735cfe0f2275178b52fdee309786169b6715ce9', 'message': 'Preserve images_type of instance during live migration\n\nWhen a target host is prepraring live-migration, it creates disk\naccording nova.conf setting CONF.libvirt.images_type\nand not from image type disk of source instance.\nThis change propose to keep original disk type of instance,\nin order to use corresponding imagebackend driver during live-migraton\nand hard reboot(when re-fetch image cache) even on host with\na different images_type\n\nCloses-Bug: #1773318\n\nChange-Id: Ie99d9197331fadfe2dbc6e7700014bb14d01ed88\n'}, {'number': 5, 'created': '2018-06-14 12:00:40.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/keep-imagestype-livemigration-173d02664c0a79e6.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c2767b9f1bf5623c9102cad20cd26c06762dcf0d', 'message': ""Preserve images_type of instance during live migration\n\nWhen a target host is prepraring live-migration, it creates disk\naccording nova.conf setting CONF.libvirt.images_type\nand not from image type disk of source instance.\nThis change propose to keep original disk type of instance,\nin order to use corresponding imagebackend driver during live-migraton\nand hard reboot(when re-fetch image cache) even on host with\na different images_type.\nThis make works live migration of qcow2 instances to host with\nCONF.libvirt.images_type= 'raw'\n\nCloses-Bug: #1773318\n\nChange-Id: Ie99d9197331fadfe2dbc6e7700014bb14d01ed88\n""}]",13,570528,c2767b9f1bf5623c9102cad20cd26c06762dcf0d,81,17,5,28332,,,0,"Preserve images_type of instance during live migration

When a target host is prepraring live-migration, it creates disk
according nova.conf setting CONF.libvirt.images_type
and not from image type disk of source instance.
This change propose to keep original disk type of instance,
in order to use corresponding imagebackend driver during live-migraton
and hard reboot(when re-fetch image cache) even on host with
a different images_type.
This make works live migration of qcow2 instances to host with
CONF.libvirt.images_type= 'raw'

Closes-Bug: #1773318

Change-Id: Ie99d9197331fadfe2dbc6e7700014bb14d01ed88
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/570528/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,367d0808156780acca2437568974f888124e66dc,bug/1773318, info['type']), CONF.libvirt.images_type),1,1
openstack%2Fnova~stable%2Fstein~I28fc8fa00a8402d0cbc738729fb43758524aeb80,openstack/nova,stable/stein,I28fc8fa00a8402d0cbc738729fb43758524aeb80,[stable-only] Improve the reno for consoleauth upgrade check,MERGED,2019-05-23 21:37:07.000000000,2019-05-30 15:39:03.000000000,2019-05-28 12:33:24.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23561}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-23 21:37:07.000000000', 'files': ['releasenotes/notes/nova-status-check-consoleauths-618acb3a67f97418.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ea71592d7a10e453e648744f290feb593a50114a', 'message': '[stable-only] Improve the reno for consoleauth upgrade check\n\nThis adds more information to the release note to make it clear that\nthe nova-consoleauth service is deprecated and should not be deployed,\nexcept in cases of a live/rolling upgrade.\n\nChange-Id: I28fc8fa00a8402d0cbc738729fb43758524aeb80\n'}]",0,661123,ea71592d7a10e453e648744f290feb593a50114a,12,6,1,4690,,,0,"[stable-only] Improve the reno for consoleauth upgrade check

This adds more information to the release note to make it clear that
the nova-consoleauth service is deprecated and should not be deployed,
except in cases of a live/rolling upgrade.

Change-Id: I28fc8fa00a8402d0cbc738729fb43758524aeb80
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/661123/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/nova-status-check-consoleauths-618acb3a67f97418.yaml'],1,ea71592d7a10e453e648744f290feb593a50114a,consoleauth-statuscheck-reno," The ``nova-consoleauth`` service is deprecated and should no longer be deployed, however, if there is a requirement to maintain support for existing console sessions through a live/rolling upgrade, operators should set ``[workarounds]enable_consoleauth = True`` in their configuration and continue running ``nova-consoleauth`` for the duration of the live/rolling upgrade. A new check has been added to the ``nova-status upgrade check`` CLI to help with this and it will emit a warning and provide additional", A new check is added to the ``nova-status upgrade check`` CLI to check for use of the ``nova-consoleauth`` service to warn and provide additional,8,2
openstack%2Fnova~master~I3e3a1e646a00d4967cd1535775d9fb980086ffb9,openstack/nova,master,I3e3a1e646a00d4967cd1535775d9fb980086ffb9,Improved the judgment of the service status in memcache,ABANDONED,2017-01-22 06:13:20.000000000,2019-05-30 15:37:59.000000000,,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 22077}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-01-22 06:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e32a1166017113b232430bc5bcc7a1fee3671cb', 'message': 'Improved-the-judgment-of-the-service-status-in-memcache\n\nImproved the judgment of the service status(up or down) in memcache.\nIn servicegroup/drivers/mc.py, if the key(topic:host) is existed\nin memcache,service status is judged as up.This judgment is\nnot reasonableit.It is more reasonable that the service status\nshould be based on the CONF.service_down_time :if the period\nof the service status reported is more than CONF.service_down_time,\ncan be considered as down.\n\nChange-Id: I3e3a1e646a00d4967cd1535775d9fb980086ffb9\nImplements: blueprint improved-the-judgment-of-the-service-status-in-memcache\n'}, {'number': 2, 'created': '2017-01-22 08:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a22d60354a8842df87e85ed2f8da2292a2a671a4', 'message': 'Improved-the-judgment-of-the-service-status-in-memcache\n\nImproved the judgment of the service status(up or down) in memcache.\nIn servicegroup/drivers/mc.py, if the key(topic:host) is existed\nin memcache,service status is judged as up.This judgment is\nnot reasonableit.It is more reasonable that the service status\nshould be based on the CONF.service_down_time :if the period\nof the service status reported is more than CONF.service_down_time,\ncan be considered as down.\n\nChange-Id: I3e3a1e646a00d4967cd1535775d9fb980086ffb9\nImplements: blueprint improved-the-judgment-of-the-service-status-in-memcache\n'}, {'number': 3, 'created': '2017-01-23 08:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abd75b07ac36ef9ad8f580e1f50a2f5d623c2052', 'message': 'Improved-the-judgment-of-the-service-status-in-memcache\n\nImproved the judgment of the service status(up or down) in memcache.\nIn servicegroup/drivers/mc.py, if the key(topic:host) is existed\nin memcache,service status is judged as up.This judgment is\nnot reasonableit.It is more reasonable that the service status\nshould be based on the CONF.service_down_time :if the period\nof the service status reported is more than CONF.service_down_time,\ncan be considered as down.\n\nChange-Id: I3e3a1e646a00d4967cd1535775d9fb980086ffb9\nImplements: blueprint improved-the-judgment-of-the-service-status-in-memcache\n'}, {'number': 4, 'created': '2017-01-23 09:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3068a30750c6677436349093059ca5e81de07cfc', 'message': 'Improved-the-judgment-of-the-service-status-in-memcache\n\nImproved the judgment of the service status(up or down) in memcache.\nIn servicegroup/drivers/mc.py, if the key(topic:host) is existed\nin memcache,service status is judged as up.This judgment is\nnot reasonableit.It is more reasonable that the service status\nshould be based on the CONF.service_down_time :if the period\nof the service status reported is more than CONF.service_down_time,\ncan be considered as down.\n\nChange-Id: I3e3a1e646a00d4967cd1535775d9fb980086ffb9\nImplements: blueprint improved-the-judgment-of-the-service-status-in-memcache\n'}, {'number': 5, 'created': '2017-01-24 03:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6dcabcd4f9d4fdb66afc0ded1175f2dd435c77f1', 'message': 'Improved-the-judgment-of-the-service-status-in-memcache\n\nImproved the judgment of the service status(up or down) in memcache.\nIn servicegroup/drivers/mc.py, if the key(topic:host) is existed\nin memcache,service status is judged as up.This judgment is\nnot reasonableit.It is more reasonable that the service status\nshould be based on the CONF.service_down_time :if the period\nof the service status reported is more than CONF.service_down_time,\ncan be considered as down.\n\nChange-Id: I3e3a1e646a00d4967cd1535775d9fb980086ffb9\nImplements: blueprint improved-the-judgment-of-the-service-status-in-memcache\n'}, {'number': 6, 'created': '2017-01-24 06:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b458fec5f316fa690ac9b3a531b2530c35fee1af', 'message': 'Improved-the-judgment-of-the-service-status-in-memcache\n\nImproved the judgment of the service status(up or down) in memcache.\nIn servicegroup/drivers/mc.py, if the key(topic:host) is existed\nin memcache,service status is judged as up.This judgment is\nnot reasonableit.It is more reasonable that the service status\nshould be based on the CONF.service_down_time :if the period\nof the service status reported is more than CONF.service_down_time,\ncan be considered as down.\n\nChange-Id: I3e3a1e646a00d4967cd1535775d9fb980086ffb9\nImplements: blueprint improved-the-judgment-of-the-service-status-in-memcache\n'}, {'number': 7, 'created': '2017-11-07 01:06:52.000000000', 'files': ['nova/tests/unit/servicegroup/test_mc_servicegroup.py', 'nova/servicegroup/drivers/mc.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa887a174d388fb5f980550da8266303664ad22e', 'message': 'Improved the judgment of the service status in memcache\n\nImproved the judgment of the service status(up or down) in memcache.\nIn servicegroup/drivers/mc.py, if the key(topic:host) is existed\nin memcache,service status is judged as up.This judgment is\nnot reasonableit.It is more reasonable that the service status\nshould be based on the CONF.service_down_time :if the period\nof the service status reported is more than CONF.service_down_time,\ncan be considered as down.\n\nChange-Id: I3e3a1e646a00d4967cd1535775d9fb980086ffb9\n'}]",1,423754,aa887a174d388fb5f980550da8266303664ad22e,88,23,7,22484,,,0,"Improved the judgment of the service status in memcache

Improved the judgment of the service status(up or down) in memcache.
In servicegroup/drivers/mc.py, if the key(topic:host) is existed
in memcache,service status is judged as up.This judgment is
not reasonableit.It is more reasonable that the service status
should be based on the CONF.service_down_time :if the period
of the service status reported is more than CONF.service_down_time,
can be considered as down.

Change-Id: I3e3a1e646a00d4967cd1535775d9fb980086ffb9
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/423754/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/servicegroup/drivers/mc.py'],1,7e32a1166017113b232430bc5bcc7a1fee3671cb,," last_heartbeat = self.mc.get(str(key)) is_up = False if last_heartbeat : elapsed = timeutils.delta_seconds(last_heartbeat, timeutils.utcnow()) is_up = abs(elapsed) <= CONF.service_down_time if not is_up: LOG.debug('Seems service %(binary)s on host %(host)s is down. ' 'Last heartbeat was %(lhb)s. Elapsed time is %(el)s', {'binary': service_ref.get('binary'), 'host': service_ref.get('host'), 'lhb': str(last_heartbeat), 'el': str(elapsed)})"," is_up = self.mc.get(str(key)) is not None if not is_up: LOG.debug('Seems service %s is down', key) ",10,3
openstack%2Fnova~master~I08898cad2925a4765d467381c8ec711103464bc2,openstack/nova,master,I08898cad2925a4765d467381c8ec711103464bc2,Use safer ast.literal_eval instead of eval,ABANDONED,2017-11-13 09:04:12.000000000,2019-05-30 15:36:52.000000000,,"[{'_account_id': 6125}, {'_account_id': 16128}, {'_account_id': 20722}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-13 09:04:12.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/test_server_password.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/91e681b69e9f506db7c44b177e4a261369ddf018', 'message': 'Use safer ast.literal_eval instead of eval\n\nDue to https://docs.openstack.org/bandit/latest/blacklists/blacklist_calls.html#b307-eval,\nwe shoud use safer ast.literal_eval instead of eval.\n\nCloses-Bug: #1731850\nChange-Id: I08898cad2925a4765d467381c8ec711103464bc2\n'}]",1,519268,91e681b69e9f506db7c44b177e4a261369ddf018,12,7,1,22056,,,0,"Use safer ast.literal_eval instead of eval

Due to https://docs.openstack.org/bandit/latest/blacklists/blacklist_calls.html#b307-eval,
we shoud use safer ast.literal_eval instead of eval.

Closes-Bug: #1731850
Change-Id: I08898cad2925a4765d467381c8ec711103464bc2
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/519268/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/test_server_password.py']",3,91e681b69e9f506db7c44b177e4a261369ddf018,bug/1731850,"import ast ast.literal_eval(self.delete_call)(self.fake_req, 'fake') self.assertEqual(ast.literal_eval(self.delete_call).wsgi_code, 204)"," eval(self.delete_call)(self.fake_req, 'fake') self.assertEqual(eval(self.delete_call).wsgi_code, 204)",99,54
openstack%2Fopenstack-helm-infra~master~I6e2d10e5ba8c00cea1271ef3f0d5b7af01d5d3ba,openstack/openstack-helm-infra,master,I6e2d10e5ba8c00cea1271ef3f0d5b7af01d5d3ba,WIP: Elasticsearch service updates,ABANDONED,2018-12-03 13:34:00.000000000,2019-05-30 15:30:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-03 13:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a4ebe7d76f994a2fa1576d5f893074c8928cdb46', 'message': ""Elasticsearch: Update helm test dependencies\n\nThis expands the dependencies for Elasticsearch's helm test pod to\ninclude the data and discovery services to ensure all components\nhave registered endpoints before executing tests.\n\nChange-Id: I6e2d10e5ba8c00cea1271ef3f0d5b7af01d5d3ba\n""}, {'number': 2, 'created': '2018-12-03 14:52:24.000000000', 'files': ['elasticsearch/templates/service-data.yaml', 'elasticsearch/templates/service-discovery.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fafc0bf0e9eb8f28349d42f71465656a3df789c0', 'message': 'WIP: Elasticsearch service updates\n\nThis updates the data and discovery services to headless services\nto align with best practices\n\nChange-Id: I6e2d10e5ba8c00cea1271ef3f0d5b7af01d5d3ba\n'}]",0,621571,fafc0bf0e9eb8f28349d42f71465656a3df789c0,4,1,2,17591,,,0,"WIP: Elasticsearch service updates

This updates the data and discovery services to headless services
to align with best practices

Change-Id: I6e2d10e5ba8c00cea1271ef3f0d5b7af01d5d3ba
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/71/621571/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/values.yaml'],1,a4ebe7d76f994a2fa1576d5f893074c8928cdb46,elasticsearch/test_deps, - endpoint: data service: elasticsearch - endpoint: discovery service: elasticsearch,,4,0
openstack%2Fopenstack-helm~master~I4140f9ef6fa648075b04ea006616a5934cf3cbd9,openstack/openstack-helm,master,I4140f9ef6fa648075b04ea006616a5934cf3cbd9,WIP/DNM: Update single node gate releases,ABANDONED,2018-12-04 18:25:37.000000000,2019-05-30 15:30:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-12-04 18:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2c1f90700fd90ed3778f210627e8197da0f65fb7', 'message': 'WIP/DNM: Update single node gate releases\n\nChange-Id: I4140f9ef6fa648075b04ea006616a5934cf3cbd9\n'}, {'number': 2, 'created': '2018-12-04 18:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3d3a6f90872dfb9a618306d005ffb0304353c1f8', 'message': 'WIP/DNM: Update single node gate releases\n\nChange-Id: I4140f9ef6fa648075b04ea006616a5934cf3cbd9\n'}, {'number': 3, 'created': '2018-12-04 20:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/174699041390d054c0da40af874b3dff30003dc8', 'message': 'WIP/DNM: Update single node gate releases\n\nChange-Id: I4140f9ef6fa648075b04ea006616a5934cf3cbd9\n'}, {'number': 4, 'created': '2018-12-05 14:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f95ca605ff807e56735b7a607a09b59e175740a0', 'message': 'WIP/DNM: Update single node gate releases\n\nChange-Id: I4140f9ef6fa648075b04ea006616a5934cf3cbd9\n'}, {'number': 5, 'created': '2018-12-05 14:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/21dddc4e45920d5294502e8b04c1cd632b1e4d1a', 'message': 'WIP/DNM: Update single node gate releases\n\nChange-Id: I4140f9ef6fa648075b04ea006616a5934cf3cbd9\n'}, {'number': 6, 'created': '2018-12-05 14:27:13.000000000', 'files': ['tools/gate/playbooks/osh-gate-runner.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/718daea4adb62071a271f170ad196fba586d41ad', 'message': 'WIP/DNM: Update single node gate releases\n\nChange-Id: I4140f9ef6fa648075b04ea006616a5934cf3cbd9\n'}]",4,622531,718daea4adb62071a271f170ad196fba586d41ad,13,2,6,17591,,,0,"WIP/DNM: Update single node gate releases

Change-Id: I4140f9ef6fa648075b04ea006616a5934cf3cbd9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/31/622531/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/osh-gate-runner.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",3,2c1f90700fd90ed3778f210627e8197da0f65fb7,gates/releases, name: openstack-helm-glance-newton parent: openstack-helm-chart-deploy run: tools/gate/playbooks/osh-gate-runner.yaml vars: osh_openstack_release: newton zuul_osh_extra_helm_args_relative_path: ./tools/overrides/releases/newton/loci.yaml gate_scripts: - ./tools/deployment/common/install-packages.sh - ./tools/deployment/common/deploy-k8s.sh - ./tools/deployment/common/setup-client.sh - ./tools/deployment/component/common/ingress.sh - ./tools/deployment/component/common/mariadb.sh - ./tools/deployment/component/common/memcached.sh - ./tools/deployment/component/common/rabbitmq.sh - ./tools/deployment/component/nfs-provisioner/nfs-provisioner.sh - ./tools/deployment/component/keystone/keystone.sh - ./tools/deployment/component/glance/glance.sh - job: name: openstack-helm-glance-ocata, name: openstack-helm-glance,34,5
openstack%2Fopenstack-helm-infra~master~Ic0442357f9bf0bf937c54b5d95e008cdceda4867,openstack/openstack-helm-infra,master,Ic0442357f9bf0bf937c54b5d95e008cdceda4867,Fluentd: Add retry_timeout to buffer output configuration,ABANDONED,2019-03-08 17:38:13.000000000,2019-05-30 15:29:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-08 17:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f124848bf21bf1e0e71277c291d3638e231b8de', 'message': ""Fluentd: Add retry_timeout to buffer output configuration\n\nThis adds a default retry_timeout of 60 seconds to Fluentds buffer\noutput configurations. Fluentd's default for this value is 72\nhours, which is extremely high.\n\nChange-Id: Ic0442357f9bf0bf937c54b5d95e008cdceda4867\n""}, {'number': 2, 'created': '2019-03-13 13:30:40.000000000', 'files': ['fluent-logging/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e40dffd15f7159d9f5ab8a0e8bfb567e7d0da371', 'message': ""Fluentd: Add retry_timeout to buffer output configuration\n\nThis adds a default retry_timeout of 60 seconds to Fluentds buffer\noutput configurations. Fluentd's default for this value is 72\nhours, which is extremely high.\n\nChange-Id: Ic0442357f9bf0bf937c54b5d95e008cdceda4867\n""}]",0,642088,e40dffd15f7159d9f5ab8a0e8bfb567e7d0da371,5,1,2,17591,,,0,"Fluentd: Add retry_timeout to buffer output configuration

This adds a default retry_timeout of 60 seconds to Fluentds buffer
output configurations. Fluentd's default for this value is 72
hours, which is extremely high.

Change-Id: Ic0442357f9bf0bf937c54b5d95e008cdceda4867
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/88/642088/2 && git format-patch -1 --stdout FETCH_HEAD,['fluent-logging/values.yaml'],1,8f124848bf21bf1e0e71277c291d3638e231b8de,update-fluentd-config, retry_timeout: 60 retry_timeout: 60 retry_timeout: 60 retry_timeout: 60,,4,0
openstack%2Fopenstack-helm-infra~master~I59b1d6723daabc2648154f9aa3123af1d44ff8b3,openstack/openstack-helm-infra,master,I59b1d6723daabc2648154f9aa3123af1d44ff8b3,Remove stable helm repository from single node deployment,ABANDONED,2019-04-09 13:58:51.000000000,2019-05-30 15:29:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-09 13:58:51.000000000', 'files': ['tools/deployment/common/005-deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03f2520b45e2475e998142b86959234b1708c9d2', 'message': ""Remove stable helm repository from single node deployment\n\nThis removes the stable helm repository from the single node\nkubernetes deployment step as it's unnecessary\n\nChange-Id: I59b1d6723daabc2648154f9aa3123af1d44ff8b3\n""}]",0,651246,03f2520b45e2475e998142b86959234b1708c9d2,3,1,1,17591,,,0,"Remove stable helm repository from single node deployment

This removes the stable helm repository from the single node
kubernetes deployment step as it's unnecessary

Change-Id: I59b1d6723daabc2648154f9aa3123af1d44ff8b3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/46/651246/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/005-deploy-k8s.sh'],1,03f2520b45e2475e998142b86959234b1708c9d2,aio-update, # Remove stable helm repo helm repo remove stable # Update helm repositories,,5,0
openstack%2Fopenstack-helm-infra~master~Ia5138fa4d542a0b02c63ec8c7906d15f4fe47a5e,openstack/openstack-helm-infra,master,Ia5138fa4d542a0b02c63ec8c7906d15f4fe47a5e,Fluentd: Prevent Elasticsearch connection reload,ABANDONED,2019-05-06 20:01:55.000000000,2019-05-30 15:29:19.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 20:01:55.000000000', 'files': ['tools/deployment/armada/manifests/armada-lma.yaml', 'fluent-logging/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2111aa96c0b82ceb107deed26bcd8d2ae93e8143', 'message': 'Fluentd: Prevent Elasticsearch connection reload\n\nThis adds the required configuration to prevent the elasticsearch\noutput plugin from reloading connections from fluentd to\nelasticsearch after 10,000 requests. This functionality is enabled\nby default in the elasticsearch-ruby gem. These settings are\nrecommended for use when using fluentd and elasticsearch together\nin a kubernetes environment.\n\nChange-Id: Ia5138fa4d542a0b02c63ec8c7906d15f4fe47a5e\nSee: https://github.com/uken/fluent-plugin-elasticsearch\n'}]",0,657445,2111aa96c0b82ceb107deed26bcd8d2ae93e8143,5,2,1,17591,,,0,"Fluentd: Prevent Elasticsearch connection reload

This adds the required configuration to prevent the elasticsearch
output plugin from reloading connections from fluentd to
elasticsearch after 10,000 requests. This functionality is enabled
by default in the elasticsearch-ruby gem. These settings are
recommended for use when using fluentd and elasticsearch together
in a kubernetes environment.

Change-Id: Ia5138fa4d542a0b02c63ec8c7906d15f4fe47a5e
See: https://github.com/uken/fluent-plugin-elasticsearch
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/45/657445/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/armada/manifests/armada-lma.yaml', 'fluent-logging/values.yaml']",2,2111aa96c0b82ceb107deed26bcd8d2ae93e8143,fluentd-output-reload, reload_connection: false reconnect_on_error: true reload_on_failure: true reload_connection: false reconnect_on_error: true reload_on_failure: true reload_connection: false reconnect_on_error: true reload_on_failure: true reload_connection: false reconnect_on_error: true reload_on_failure: true reload_connection: false reconnect_on_error: true reload_on_failure: true,,30,0
openstack%2Fopenstack-helm-infra~master~I30ac93e4a948fa8112105e06fae4610e598e54a8,openstack/openstack-helm-infra,master,I30ac93e4a948fa8112105e06fae4610e598e54a8,Fluentd: Update image reference with newer Fluentd version,ABANDONED,2019-05-10 16:20:14.000000000,2019-05-30 15:29:12.000000000,,"[{'_account_id': 8749}, {'_account_id': 12281}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 16:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e806b0d37a90902e2d1db24e27b24731f825787', 'message': 'Fluentd: Update image reference with newer Fluentd version\n\nThis updates the Fluentd image reference to an image with Fluentd\nversion v1.4.2\n\nChange-Id: I30ac93e4a948fa8112105e06fae4610e598e54a8\n'}, {'number': 2, 'created': '2019-05-20 12:22:47.000000000', 'files': ['fluent-logging/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a65d3a949b51fa8cf307b1e65af12ac4d2b89424', 'message': 'Fluentd: Update image reference with newer Fluentd version\n\nThis updates the Fluentd image reference to an image with Fluentd\nversion v1.4.2\n\nChange-Id: I30ac93e4a948fa8112105e06fae4610e598e54a8\n'}]",0,658412,a65d3a949b51fa8cf307b1e65af12ac4d2b89424,7,3,2,17591,,,0,"Fluentd: Update image reference with newer Fluentd version

This updates the Fluentd image reference to an image with Fluentd
version v1.4.2

Change-Id: I30ac93e4a948fa8112105e06fae4610e598e54a8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/12/658412/2 && git format-patch -1 --stdout FETCH_HEAD,['fluent-logging/values.yaml'],1,0e806b0d37a90902e2d1db24e27b24731f825787,update-fluentd-image, fluentd: docker.io/fluent/fluentd-kubernetes-daemonset:v1.4.2-debian-elasticsearch-1.0, fluentd: docker.io/fluent/fluentd-kubernetes-daemonset:v1.2-debian-elasticsearch,1,1
openstack%2Fcinder~master~Ia46e843ad245cf8263b97b773fac9bc6c6fe6647,openstack/cinder,master,Ia46e843ad245cf8263b97b773fac9bc6c6fe6647,Add upgrade check for presence of policy.json file,MERGED,2019-03-26 22:11:12.000000000,2019-05-30 15:27:09.000000000,2019-04-09 21:20:44.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-03-26 22:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da24b1a1c6418752108b18166161e22d6d1a3695', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-03-27 11:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77af2d51d38b12dcc996e71cbdf6d395df8d3b6c', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2019-03-27 14:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1c10fb2b6c9da499eadbd3e7a661d9c6535ebfd', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2019-03-27 14:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b4b4192a8e2342546bbc107597a9285ed0ccda6', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 5, 'created': '2019-03-27 14:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c4d8b0cf23cba2f30d9a411145805efc7e8ce7c', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 6, 'created': '2019-03-28 18:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e158e249f1ca8b8218fa08a93708dcb67197092', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nAlso checks for the policy_file being overridden in config, and if so,\nwarns if the specified file does not exist.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 7, 'created': '2019-03-28 19:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8e20c35fc70c9b3dc11509f13c4147d5a73c4aa', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nAlso checks for the policy_file being overridden in config, and if so,\nwarns if the specified file does not exist.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 8, 'created': '2019-04-01 22:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28f5ec77ed2c90e2049bfd22155967592b4302ee', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nAlso checks for the policy_file being overridden in config, and if so,\nwarns if the specified file does not exist.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 9, 'created': '2019-04-02 20:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99e29245f98be2fc44809c5758c22b6874c020c8', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nAlso checks for the policy_file being overridden in config, and if so,\nwarns if the specified file does not exist.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 10, 'created': '2019-04-04 12:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94cc286e5d64d8415c06f35b4dc0517db3182aba', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nAlso checks for the policy_file being overridden in config, and if so,\nwarns if the specified file does not exist.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 11, 'created': '2019-04-04 16:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08700265f08cafa5f6e55400ef9a385996ae1afe', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nAlso checks for the policy_file being overridden in config, and if so,\nwarns if the specified file does not exist.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 12, 'created': '2019-04-04 19:00:00.000000000', 'files': ['cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst', 'releasenotes/notes/cinder-status-check-policyjson-ef61826eab95372b.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c6355f3ccb64cb949a8280b6cd98a37e13bfaa7', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nAlso checks for the policy_file being overridden in config, and if so,\nwarns if the specified file does not exist.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",19,647937,8c6355f3ccb64cb949a8280b6cd98a37e13bfaa7,220,40,12,11904,,,0,"Add upgrade check for presence of policy.json file

Correct file is policy.yaml and only needed if overriding defaults. This
only warns if the file is present in case it was left by a previous
version and not actually needed or used.

Also checks for the policy_file being overridden in config, and if so,
warns if the specified file does not exist.

Change-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/647937/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst', 'releasenotes/notes/cinder-status-check-policyjson-ef61826eab95372b.yaml']",3,da24b1a1c6418752108b18166161e22d6d1a3695,upgradecheck,--- upgrade: - | A warning has been added to the ``cinder-status upgrade check`` CLI if a ``policy.json`` file is present. Documentation has been updated to correct the file as ``policy.yaml`` if any policies need to be changed from their defaults. ,,28,0
openstack%2Fneutron~master~I034cad8d5290b416e55acdaeea69c5a130308afe,openstack/neutron,master,I034cad8d5290b416e55acdaeea69c5a130308afe,Switch to new engine facade for QoS,MERGED,2019-05-28 08:13:07.000000000,2019-05-30 15:14:13.000000000,2019-05-30 15:14:13.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-28 08:13:07.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/core_extensions/qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/51dd91df5bd59d9a0041ca5becdb8ec5d8328658', 'message': 'Switch to new engine facade for QoS\n\n* QosCoreResourceExtension\n* QoSPlugin\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I034cad8d5290b416e55acdaeea69c5a130308afe\n'}]",0,661695,51dd91df5bd59d9a0041ca5becdb8ec5d8328658,29,8,1,16688,,,0,"Switch to new engine facade for QoS

* QosCoreResourceExtension
* QoSPlugin

Partially-Implements blueprint: enginefacade-switch

Change-Id: I034cad8d5290b416e55acdaeea69c5a130308afe
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/661695/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/core_extensions/qos.py']",2,51dd91df5bd59d9a0041ca5becdb8ec5d8328658,bp/enginefacade-switch, with db_api.CONTEXT_WRITER.using(context):, with db_api.autonested_transaction(context.session):,6,6
openstack%2Fmonasca-persister~master~I4443a2b205199d81ab8d05d17e65a47485de8f2f,openstack/monasca-persister,master,I4443a2b205199d81ab8d05d17e65a47485de8f2f,Add tests for repositories/persister.py,MERGED,2019-04-12 12:08:51.000000000,2019-05-30 15:09:03.000000000,2019-05-30 15:09:03.000000000,"[{'_account_id': 10311}, {'_account_id': 17669}, {'_account_id': 20147}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 30221}]","[{'number': 1, 'created': '2019-04-12 12:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/5b431bbc14775d84a0fc55014c50fbff994343f3', 'message': 'Add tests for repositories/persister.py\n\nChange-Id: I4443a2b205199d81ab8d05d17e65a47485de8f2f\n'}, {'number': 2, 'created': '2019-04-18 08:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/65f106f06fddfa25fd47f6c7416fb625e6f519fd', 'message': 'Add tests for repositories/persister.py\n\nChange-Id: I4443a2b205199d81ab8d05d17e65a47485de8f2f\n'}, {'number': 3, 'created': '2019-04-25 06:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/5073b7003b5591b9c9d381d4c69dd3f5bdcb94c1', 'message': 'Add tests for repositories/persister.py\n\nChange-Id: I4443a2b205199d81ab8d05d17e65a47485de8f2f\n'}, {'number': 4, 'created': '2019-04-29 09:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/4fd77c422ff86f72b3b3661edd474b545616f91c', 'message': 'Add tests for repositories/persister.py\n\nChange-Id: I4443a2b205199d81ab8d05d17e65a47485de8f2f\n'}, {'number': 5, 'created': '2019-05-07 14:18:06.000000000', 'files': ['monasca_persister/tests/test_persister_repo.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/7f2da27a3a0fa56672f25ee3ecd0ef90f0914e45', 'message': 'Add tests for repositories/persister.py\n\nChange-Id: I4443a2b205199d81ab8d05d17e65a47485de8f2f\n'}]",8,652053,7f2da27a3a0fa56672f25ee3ecd0ef90f0914e45,31,6,5,30221,,,0,"Add tests for repositories/persister.py

Change-Id: I4443a2b205199d81ab8d05d17e65a47485de8f2f
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/53/652053/4 && git format-patch -1 --stdout FETCH_HEAD,['monasca_persister/tests/test_persister_repo.py'],1,5b431bbc14775d84a0fc55014c50fbff994343f3,test_persister_repo,"# (C) Copyright 2016 Hewlett Packard Enterprise Development Company LP # (C) Copyright 2017 SUSE LLC # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import os from oslotest import base from monasca_persister.repositories.persister import Persister from monasca_persister.repositories.persister import LOG from mock import patch from mock import Mock from monasca_common.kafka import consumer from oslo_config import cfg class FakeException(Exception): pass class TestPersisterRepo(base.BaseTestCase): def setUp(self): super(TestPersisterRepo, self).setUp() self._set_patchers() self._set_mocks() self.persister = Persister(self.mock_kafka, self.mock_zookeeper, Mock()) def _set_mocks(self): self.mock_kafka = Mock() self.mock_kafka.topic = 'topic' self.mock_kafka.batch_size = 1 self.mock_kafka.zookeeper_path = '' self.mock_kafka.group_id = 0 self.mock_kafka.max_wait_time_seconds = 0 self.mock_zookeeper = Mock(uri='') self.mock_consumer_init = self.patch_kafka_init.start() self.mock_client_init = self.patch_kafka_client_init.start() self.mock_consumer_commit = self.patch_kafka_commit.start() self.mock_consumer_iter = self.patch_kafka_iter.start() self.mock_log_warning = self.patch_log_warning.start() self.mock_log_exception = self.patch_log_exception.start() def _set_patchers(self): self.patch_kafka_init = patch.object(consumer.KafkaConsumer, '__init__', return_value=None) self.patch_kafka_commit = patch.object(consumer.KafkaConsumer, 'commit', return_value=True) self.patch_kafka_iter = patch.object(consumer.KafkaConsumer, '__iter__') self.patch_kafka_client_init = patch.object(consumer.kafka_client.KafkaClient, '__init__', return_value=None) self.patch_log_warning = patch.object(LOG, 'warning') self.patch_log_exception = patch.object(LOG, 'exception') def tearDown(self): super(TestPersisterRepo, self).tearDown() self.mock_consumer_init.reset_mock() self.mock_client_init.reset_mock() self.mock_consumer_commit.reset_mock() self.mock_consumer_iter.reset_mock() self.mock_log_warning.reset_mock() self.mock_log_exception.reset_mock() self.patch_kafka_init.stop() self.patch_kafka_commit.stop() self.patch_kafka_iter.stop() self.patch_kafka_client_init.stop() self.patch_log_warning.stop() self.patch_log_exception.stop() def test_flush_returns_if_data_points_is_none(self): self.persister._data_points = None self.assertIsNone(self.persister._flush()) def test_flush_calls_commit_once(self): self.persister._data_points = ['some'] self.persister._flush() self.mock_consumer_commit.assert_called_once_with() def test_run_exits_if_consumer_is_faulty(self): with patch.object(os, '_exit', return_value=None) as mock_exit: self.persister._data_points = () self.persister._consumer = Mock(side_effect=FakeException) self.persister.run() mock_exit.assert_called_once_with(1) def test_run_logs_exception_from_consumer(self): with patch.object(self.persister.repository, 'process_message', side_effect=FakeException): self.persister._data_points = () self.persister._consumer = ['aa'] self.persister.run() self.mock_log_exception.assert_called() def test_flush_is_called_from_run_if_consumer_is_ok(self): with patch.object(self.persister.repository, 'process_message', return_value='message'): with patch.object(self.persister, '_flush', return_value=None) as mock_flush: self.persister._consumer = ['aa'] self.persister._data_points = [] self.persister.run() mock_flush.assert_called_once_with() def test_flush_logs_warning_and_exception(self): exception = FakeException() exception_msgs = ['partial write: points beyond retention policy dropped', 'unable to parse points'] with(patch.object(LOG, 'info', side_effect=exception)): with(patch.object(cfg.CONF.repositories, 'ignore_parse_point_error', return_value=True)): for elem in exception_msgs: exception.message = elem self.persister._data_points = ['some'] self.persister._flush() self.mock_log_warning.assert_called() def test_flush_logs_exception(self): exception = FakeException() with(patch.object(LOG, 'info', side_effect=exception)): with(patch.object(cfg.CONF.repositories, 'ignore_parse_point_error', return_value=False)): exception.message = 'some msg' self.persister._data_points = ['some'] self.assertRaises(FakeException, self.persister._flush) self.mock_log_exception.assert_called() ",,137,0
openstack%2Fnova~master~I1027e4d296a7cdc68b37169dbec556ea666a81a9,openstack/nova,master,I1027e4d296a7cdc68b37169dbec556ea666a81a9,Fixes exception during a swap to no swap resize,ABANDONED,2016-04-01 18:56:54.000000000,2019-05-30 15:06:13.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6873}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17973}, {'_account_id': 21109}, {'_account_id': 28083}]","[{'number': 1, 'created': '2016-04-01 18:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/602989114f4e4ddc72fd3933427a6809dd612161', 'message': ""Fixes exception during a resize of a flavor with swap to one with no\nswap. The root cause of this failure was that the swap record for an\ninstance in  the block_device_mapping table in db is being used by\nget_disk_mapping() to create the swap disk mapping EVEN if the (new)\nflavor has 0 swap. This would subsequently cause the exception as the\ndisk.swap file didn't exist.\n\nTo fix said error, a check is being added to get_disk_mapping() to\nensure that flavor has swap > 0 before accessing db record. The original\nswap mapping will stay in the block_device_mapping table in the database\nafter resizing to flavor with swap = 0 (or another flavor with a\ndifferent swap size), but libvirt xml and associated swap disk will now\nbe based on a new flavor.\n\nAdditionally, this commit has to partially revert Matt Riedemann's\n<mriedem@us.ibm.com> lazy-loading optimization in the unit test (Bug:\nif neccesary (and not in all cases) and then checks for this in the\nUT to ensure flavour information is only retrieved once. However as\nper our change we will always need to retrieve the swap information\nfrom within the instance flavor in order to protect against an\ninvalid resizing.\n\nCo-authored-by: Gerry Kopec <gerry.kopec@windriver.com>\n\nChange-Id: I1027e4d296a7cdc68b37169dbec556ea666a81a9\nCloses-Bug: #1552777\nSigned-off-by: Kam Nasim <kam.nasim@windriver.com>\n""}, {'number': 2, 'created': '2016-04-12 20:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/773d85294414f3d17dcf7c0a021e8670bb21ac0f', 'message': ""Fixes exception during a swap to no swap resize\n\nThe root cause of this failure was that the swap record for an instance\nin  the block_device_mapping table in db is being used by\nget_disk-mapping() to create the swap disk mapping EVEN if the (new)\nflavor has 0 swap. This would subsequently cause the exception as the\ndisk.swap file didn't exist.\n\nTo fix said error, a check is being added to get_disk_mapping() to\nensure that flavor has swap > 0 before accessing db record. The original\nswap mapping will stay in the block_device_mapping table in the database\nafter resizing to flavor with swap = 0 (or another flavor with a\ndifferent swap size), but libvirt xml and associated swap disk will now\nbe based on a new flavor.\n\nAdditionally, this commit has to partially revert Matt Riedemann's\n<mriedem@us.ibm.com> lazy-loading optimization in the unit test (Bug:\nin the UT to ensure flavor info is only retrieved once. However as per\nour change we will always need to retrieve the swap information from\nwithin the instance flavor.\n\nCo-authored-by: Gerry Kopec <gerry.kopec@windriver.com>\n\nChange-Id: I1027e4d296a7cdc68b37169dbec556ea666a81a9\nCloses-Bug: #1552777\nSigned-off-by: Kam Nasim <kam.nasim@windriver.com>\n""}, {'number': 3, 'created': '2016-06-10 16:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b7df57e87bd4daf2216cfe3e4fcfb3746597795', 'message': ""Fixes exception during a swap to no swap resize\n\nThe root cause of this failure was that the swap record for an instance\nin  the block_device_mapping table in db is being used by\nget_disk-mapping() to create the swap disk mapping EVEN if the (new)\nflavor has 0 swap. This would subsequently cause the exception as the\ndisk.swap file didn't exist.\n\nTo fix said error, a check is being added to get_disk_mapping() to\nensure that flavor has swap > 0 before accessing db record. The original\nswap mapping will stay in the block_device_mapping table in the database\nafter resizing to flavor with swap = 0 (or another flavor with a\ndifferent swap size), but libvirt xml and associated swap disk will now\nbe based on a new flavor.\n\nAdditionally, this commit has to partially revert Matt Riedemann's\n<mriedem@us.ibm.com> lazy-loading optimization in the unit test (Bug:\n1530952) in the UT to ensure flavor info is only retrieved once. However\nas per our change we will always need to retrieve the swap information\nfrom within the instance flavor.\n\nCo-authored-by: Gerry Kopec <gerry.kopec@windriver.com>\n\nChange-Id: I1027e4d296a7cdc68b37169dbec556ea666a81a9\nCloses-Bug: #1552777\nSigned-off-by: Kam Nasim <kam.nasim@windriver.com>\n""}, {'number': 4, 'created': '2016-06-27 18:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ee4af9455d3988c6fb2bfe4bb21129ad6622b29', 'message': ""Fixes exception during a swap to no swap resize\n\nThe root cause of this failure was that the swap record for an instance\nin  the block_device_mapping table in db is being used by\nget_disk-mapping() to create the swap disk mapping EVEN if the (new)\nflavor has 0 swap. This would subsequently cause the exception as the\ndisk.swap file didn't exist.\n\nTo fix said error, a check is being added to get_disk_mapping() to\nensure that flavor has swap > 0 before accessing db record. The original\nswap mapping will stay in the block_device_mapping table in the database\nafter resizing to flavor with swap = 0 (or another flavor with a\ndifferent swap size), but libvirt xml and associated swap disk will now\nbe based on a new flavor.\n\nAdditionally, this commit has to partially revert Matt Riedemann's\n<mriedem@us.ibm.com> lazy-loading optimization in the unit test (Bug:\n1530952) in the UT to ensure flavor info is only retrieved once. However\nas per our change we will always need to retrieve the swap information\nfrom within the instance flavor.\n\nCo-authored-by: Gerry Kopec <gerry.kopec@windriver.com>\n\nChange-Id: I1027e4d296a7cdc68b37169dbec556ea666a81a9\nCloses-Bug: #1552777\nSigned-off-by: Kam Nasim <kam.nasim@windriver.com>\n""}, {'number': 5, 'created': '2016-09-28 16:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e74759ba380c4368b9871f279494f29f3719dbe', 'message': ""Fixes exception during a swap to no swap resize\n\nThe root cause of this failure was that the swap record for an instance\nin  the block_device_mapping table in db is being used by\nget_disk-mapping() to create the swap disk mapping EVEN if the (new)\nflavor has 0 swap. This would subsequently cause the exception as the\ndisk.swap file didn't exist.\n\nTo fix said error, a check is being added to get_disk_mapping() to\nensure that flavor has swap > 0 before accessing db record. The original\nswap mapping will stay in the block_device_mapping table in the database\nafter resizing to flavor with swap = 0 (or another flavor with a\ndifferent swap size), but libvirt xml and associated swap disk will now\nbe based on a new flavor.\n\nAdditionally, this commit has to partially revert Matt Riedemann's\n<mriedem@us.ibm.com> lazy-loading optimization in the unit test (Bug:\n1530952) in the UT to ensure flavor info is only retrieved once. However\nas per our change we will always need to retrieve the swap information\nfrom within the instance flavor.\n\nCo-authored-by: Gerry Kopec <gerry.kopec@windriver.com>\n\nChange-Id: I1027e4d296a7cdc68b37169dbec556ea666a81a9\nCloses-Bug: #1552777\nSigned-off-by: Kam Nasim <kam.nasim@windriver.com>\n""}, {'number': 6, 'created': '2016-11-02 20:32:06.000000000', 'files': ['nova/virt/libvirt/blockinfo.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f5548e7e2416e40d30e5da2e281b00a1a774dbbc', 'message': ""Fixes exception during a swap to no swap resize\n\nThe root cause of this failure was that the swap record for an instance\nin  the block_device_mapping table in db is being used by\nget_disk-mapping() to create the swap disk mapping EVEN if the (new)\nflavor has 0 swap. This would subsequently cause the exception as the\ndisk.swap file didn't exist.\n\nTo fix said error, a check is being added to get_disk_mapping() to\nensure that flavor has swap > 0 before accessing db record. The original\nswap mapping will stay in the block_device_mapping table in the database\nafter resizing to flavor with swap = 0 (or another flavor with a\ndifferent swap size), but libvirt xml and associated swap disk will now\nbe based on a new flavor.\n\nAdditionally, this commit has to partially revert Matt Riedemann's\n<mriedem@us.ibm.com> lazy-loading optimization in the unit test (Bug:\n1530952) in the UT to ensure flavor info is only retrieved once. However\nas per our change we will always need to retrieve the swap information\nfrom within the instance flavor.\n\nCo-authored-by: Gerry Kopec <gerry.kopec@windriver.com>\n\nChange-Id: I1027e4d296a7cdc68b37169dbec556ea666a81a9\nCloses-Bug: #1552777\nSigned-off-by: Kam Nasim <kam.nasim@windriver.com>\n""}]",13,300616,f5548e7e2416e40d30e5da2e281b00a1a774dbbc,126,25,6,21109,,,0,"Fixes exception during a swap to no swap resize

The root cause of this failure was that the swap record for an instance
in  the block_device_mapping table in db is being used by
get_disk-mapping() to create the swap disk mapping EVEN if the (new)
flavor has 0 swap. This would subsequently cause the exception as the
disk.swap file didn't exist.

To fix said error, a check is being added to get_disk_mapping() to
ensure that flavor has swap > 0 before accessing db record. The original
swap mapping will stay in the block_device_mapping table in the database
after resizing to flavor with swap = 0 (or another flavor with a
different swap size), but libvirt xml and associated swap disk will now
be based on a new flavor.

Additionally, this commit has to partially revert Matt Riedemann's
<mriedem@us.ibm.com> lazy-loading optimization in the unit test (Bug:
1530952) in the UT to ensure flavor info is only retrieved once. However
as per our change we will always need to retrieve the swap information
from within the instance flavor.

Co-authored-by: Gerry Kopec <gerry.kopec@windriver.com>

Change-Id: I1027e4d296a7cdc68b37169dbec556ea666a81a9
Closes-Bug: #1552777
Signed-off-by: Kam Nasim <kam.nasim@windriver.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/300616/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/blockinfo.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,602989114f4e4ddc72fd3933427a6809dd612161,bug/1530952, # NOTE (knasim-wrs): Set minimal default swap size # in instance flavor instance_ref['flavor']['swap'] = 1 # NOTE (knasim-wrs): ensure that the swap size is also # set in the instance flavor as this will now be checked instance['flavor']['swap'] = 512 ,,42,27
openstack%2Fneutron-lib~master~Ib42bed3c5b293c207a8a81f24bd5016f168706fe,openstack/neutron-lib,master,Ib42bed3c5b293c207a8a81f24bd5016f168706fe,[api-ref] Update info about internal_ip_address in FIP port forwarding,MERGED,2019-05-30 13:09:44.000000000,2019-05-30 15:04:52.000000000,2019-05-30 15:04:52.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 13:09:44.000000000', 'files': ['api-ref/source/v2/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c9773782c36a1d8fd19bd400d22c42e96fb63a61', 'message': '[api-ref] Update info about internal_ip_address in FIP port forwarding\n\nParameter ""internal_ip_address"" used in floating IP port forwarding\nwas wrongly marked as optional as in api definition it is required.\nThis patch updates api-ref description to be matched with current\ndefinition in the code.\n\nChange-Id: Ib42bed3c5b293c207a8a81f24bd5016f168706fe\nCloses-Bug: #1830554\n'}]",0,662207,c9773782c36a1d8fd19bd400d22c42e96fb63a61,7,3,1,11975,,,0,"[api-ref] Update info about internal_ip_address in FIP port forwarding

Parameter ""internal_ip_address"" used in floating IP port forwarding
was wrongly marked as optional as in api definition it is required.
This patch updates api-ref description to be matched with current
definition in the code.

Change-Id: Ib42bed3c5b293c207a8a81f24bd5016f168706fe
Closes-Bug: #1830554
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/07/662207/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/parameters.yaml'],1,c9773782c36a1d8fd19bd400d22c42e96fb63a61,bug/1830554, port forwarding. required: true," port forwarding. If it is not specified, the first IPv4 address found by the port forwardings plug-in will be used. required: false",2,3
openstack%2Fopenstack-ansible~stable%2Fstein~I125ef9beed1b5c4d959453d20587c8d4c78bbf4d,openstack/openstack-ansible,stable/stein,I125ef9beed1b5c4d959453d20587c8d4c78bbf4d,Bump os_neutron SHA to pull in fixed Calico,MERGED,2019-05-22 16:54:39.000000000,2019-05-30 15:01:53.000000000,2019-05-30 15:01:53.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-22 16:54:39.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d094ebbbc661aa8d80cfa17abb53cc4b16f8e518', 'message': 'Bump os_neutron SHA to pull in fixed Calico\n\nChange-Id: I125ef9beed1b5c4d959453d20587c8d4c78bbf4d\n'}]",0,660786,d094ebbbc661aa8d80cfa17abb53cc4b16f8e518,7,3,1,17799,,,0,"Bump os_neutron SHA to pull in fixed Calico

Change-Id: I125ef9beed1b5c4d959453d20587c8d4c78bbf4d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/86/660786/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,d094ebbbc661aa8d80cfa17abb53cc4b16f8e518,calico3, version: 07888d8a29e89872a7e559ca7bddacacac254bdc, version: 2889aeb04957a109b9d7607ef21a83da4ae91eff,1,1
openstack%2Fnova~master~Ia6944ec86a0990ca3e6798dad819ad26d76b64f4,openstack/nova,master,Ia6944ec86a0990ca3e6798dad819ad26d76b64f4,Smaller disk flavor check,ABANDONED,2017-08-01 06:04:52.000000000,2019-05-30 14:52:47.000000000,,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 25632}, {'_account_id': 26458}, {'_account_id': 26490}]","[{'number': 1, 'created': '2017-08-01 06:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c3efd335417d90f67f3b882fbd8abb0634d507b', 'message': 'Smaller disk flavor check\n\nCheck for smaller disk flavor and show error message on dashboard.\nCloses-Bug:1707830\n\nChange-Id: Ia6944ec86a0990ca3e6798dad819ad26d76b64f4\n'}, {'number': 2, 'created': '2017-08-01 06:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df580d6bd1366302fc26a3be0fc965a848305ef7', 'message': 'Smaller disk flavor check\n\nCheck for smaller disk flavor and show error message on dashboard.\nCloses-Bug:1707830\n\nChange-Id: Ia6944ec86a0990ca3e6798dad819ad26d76b64f4\n'}, {'number': 3, 'created': '2017-08-01 09:28:40.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c46aca8164d95825175db76395ed1ad7ef6a5a19', 'message': 'Smaller disk flavor check\n\nCheck for smaller disk flavor and show error message on dashboard.\nCloses-Bug:1707830\n\nChange-Id: Ia6944ec86a0990ca3e6798dad819ad26d76b64f4\n'}]",7,489484,c46aca8164d95825175db76395ed1ad7ef6a5a19,39,21,3,25632,,,0,"Smaller disk flavor check

Check for smaller disk flavor and show error message on dashboard.
Closes-Bug:1707830

Change-Id: Ia6944ec86a0990ca3e6798dad819ad26d76b64f4
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/489484/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,3c3efd335417d90f67f3b882fbd8abb0634d507b,bug/1707830, if (current_instance_type.get('root_gb') != 0 and if new_instance_type.get('root_gb') == 0: reason = _('Resize to zero disk flavor is not allowed.') else: reason = _('Resize to smaller disk flavor is not allowed.'), if (new_instance_type.get('root_gb') == 0 and current_instance_type.get('root_gb') != 0 and reason = _('Resize to zero disk flavor is not allowed.'),5,3
openstack%2Fopenstack-helm-infra~master~I5964b5517b3099fbfe8d574b2ca869d366c9bb17,openstack/openstack-helm-infra,master,I5964b5517b3099fbfe8d574b2ca869d366c9bb17,Elasticsearch: Fix typos in cluster wait script,MERGED,2019-05-29 14:59:23.000000000,2019-05-30 14:51:18.000000000,2019-05-30 14:51:18.000000000,"[{'_account_id': 8898}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 14:59:23.000000000', 'files': ['elasticsearch/templates/bin/_es-cluster-wait.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8cb4051fc89f08ad0947933547de9a321a825474', 'message': 'Elasticsearch: Fix typos in cluster wait script\n\nThis fixes typos in the cluster wait script to ensure the messages\nreflect the types of nodes being checked\n\nChange-Id: I5964b5517b3099fbfe8d574b2ca869d366c9bb17\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,662012,8cb4051fc89f08ad0947933547de9a321a825474,8,4,1,17591,,,0,"Elasticsearch: Fix typos in cluster wait script

This fixes typos in the cluster wait script to ensure the messages
reflect the types of nodes being checked

Change-Id: I5964b5517b3099fbfe8d574b2ca869d366c9bb17
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/12/662012/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/templates/bin/_es-cluster-wait.sh.tpl'],1,8cb4051fc89f08ad0947933547de9a321a825474,fix_typos," echo ""No Elasticsearch master nodes accounted for: 0/${expectedMasterNodes}"" echo ""Not all Elasticsearch master nodes accounted for and ready: (${numMasterNodes} / ${expectedMasterNodes})"" echo ""No Elasticsearch client nodes accounted for: 0/${expectedClientNodes}"" echo ""Not all Elasticsearch client nodes accounted for and ready: (${numClientNodes} / ${expectedClientNodes})"""," echo ""No Elasticsearch data nodes account for: 0/${expectedMasterNodes}"" echo ""Not all Elasticsearch data nodes accounted for and ready: (${numMasterNodes} / ${expectedMasterNodes})"" echo ""No Elasticsearch data nodes account for: 0/${expectedClientNodes}"" echo ""Not all Elasticsearch data nodes accounted for and ready: (${numClientNodes} / ${expectedClientNodes})""",4,4
openstack%2Fnova~master~I10ab55dd833049b26bc387fee68164d55328bcc1,openstack/nova,master,I10ab55dd833049b26bc387fee68164d55328bcc1,PCI: Update MAC address for NICs PF passthrough devices,ABANDONED,2016-08-26 19:43:59.000000000,2019-05-30 14:48:41.000000000,,"[{'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12171}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17838}, {'_account_id': 17973}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29034}]","[{'number': 1, 'created': '2016-08-26 19:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dcec259cf3503c7b2254df678f284f635d3e6c7', 'message': ""PCI: Update MAC address for NICs PF passthrough devices\n\nBooting a guest with a 'direct-physical' port will allocate and attach a PCI\ndevice to the it.  The neutron port will get updated with the MAC address of\nthe PF device.\n\nOn a resize operation (or a migration), nova will allocate a new PCI device\nfor the guest.  Therefore the MAC address in the guest will changed.  However\nthe MAC address is not updated on the neutron port causing DHCP request to\nfail.\n\nThis patch fix this issue by updating the MAC address of the neutron port\nbased on the PF MAC address.\n\nChange-Id: I10ab55dd833049b26bc387fee68164d55328bcc1\nCloses-bug: #1617429\n""}, {'number': 2, 'created': '2016-08-27 14:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95f98885b7d353c26dec4145524175705ee7705b', 'message': ""PCI: Update MAC address for NICs PF passthrough devices\n\nBooting a guest with a 'direct-physical' port will allocate and attach a PCI\ndevice to the it.  The neutron port will get updated with the MAC address of\nthe PF device.\n\nOn a resize operation (or a migration), nova will allocate a new PCI device\nfor the guest.  Therefore the MAC address in the guest will changed.  However\nthe MAC address is not updated on the neutron port causing DHCP request to\nfail.\n\nThis patch fix this issue by updating the MAC address of the neutron port\nbased on the PF MAC address.\n\nChange-Id: I10ab55dd833049b26bc387fee68164d55328bcc1\nCloses-bug: #1617429\n""}, {'number': 3, 'created': '2016-08-30 17:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3fc4e6a5bc79b4dab6ba4adadb0aad07c4be3bd', 'message': ""PCI: Update MAC address for NICs PF passthrough devices\n\nBooting a guest with a 'direct-physical' port will allocate and attach a PCI\ndevice to the it.  The neutron port will get updated with the MAC address of\nthe PF device.\n\nOn a resize operation (or a migration), nova will allocate a new PCI device\nfor the guest.  Therefore the MAC address in the guest will changed.  However\nthe MAC address is not updated on the neutron port causing DHCP request to\nfail.\n\nThis patch fix this issue by updating the MAC address of the neutron port\nbased on the PF MAC address.\n\nChange-Id: I10ab55dd833049b26bc387fee68164d55328bcc1\nCloses-bug: #1617429\n""}, {'number': 4, 'created': '2016-09-02 20:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f90b984f099d5199c6f1378bf9b97beaa2a654f6', 'message': ""PCI: Update MAC address for NICs PF passthrough devices\n\nBooting a guest with a 'direct-physical' port will allocate and attach a PCI\ndevice to the it.  The neutron port will get updated with the MAC address of\nthe PF device.\n\nOn a resize operation (or a migration), nova will allocate a new PCI device\nfor the guest.  Therefore the MAC address in the guest will changed.  However\nthe MAC address is not updated on the neutron port causing DHCP request to\nfail.\n\nThis patch fix this issue by updating the MAC address of the neutron port\nbased on the PF MAC address.\n\nChange-Id: I10ab55dd833049b26bc387fee68164d55328bcc1\nCloses-bug: #1617429\n""}, {'number': 5, 'created': '2016-09-03 12:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ff13c530a1b3c4b19345f1b16fb760b6ed65ecd', 'message': ""PCI: Update MAC address for NICs PF passthrough devices\n\nBooting a guest with a 'direct-physical' port will allocate and attach a PCI\ndevice to the it.  The neutron port will get updated with the MAC address of\nthe PF device.\n\nOn a resize operation (or a migration), nova will allocate a new PCI device\nfor the guest.  Therefore the MAC address in the guest will changed.  However\nthe MAC address is not updated on the neutron port causing DHCP request to\nfail.\n\nThis patch fix this issue by updating the MAC address of the neutron port\nbased on the PF MAC address.\n\nChange-Id: I10ab55dd833049b26bc387fee68164d55328bcc1\nDepends-On: I179a0fad8d53a324fdbf23fb8bb90acc472b3cee\nCloses-bug: #1617429\n""}, {'number': 6, 'created': '2016-11-16 21:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b05ce238acb53baecf5ee1083ea595c591dcd43e', 'message': ""PCI: Update MAC address for NICs PF passthrough devices\n\nBooting a guest with a 'direct-physical' port will allocate and attach a PCI\ndevice to the it.  The neutron port will get updated with the MAC address of\nthe PF device.\n\nOn a resize operation (or a migration), nova will allocate a new PCI device\nfor the guest.  Therefore the MAC address in the guest will changed.  However\nthe MAC address is not updated on the neutron port causing DHCP request to\nfail.\n\nThis patch fix this issue by updating the MAC address of the neutron port\nbased on the PF MAC address.\n\nChange-Id: I10ab55dd833049b26bc387fee68164d55328bcc1\nDepends-On: I179a0fad8d53a324fdbf23fb8bb90acc472b3cee\nCloses-bug: #1617429\n""}, {'number': 7, 'created': '2016-12-22 17:20:54.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9a5099473de8dbaaf4d2c36524ac10b8c88d5050', 'message': ""PCI: Update MAC address for NICs PF passthrough devices\n\nBooting a guest with a 'direct-physical' port will allocate and attach a PCI\ndevice to the it.  The neutron port will get updated with the MAC address of\nthe PF device.\n\nOn a resize operation (or a migration), nova will allocate a new PCI device\nfor the guest.  Therefore the MAC address in the guest will changed.  However\nthe MAC address is not updated on the neutron port causing DHCP request to\nfail.\n\nThis patch fix this issue by updating the MAC address of the neutron port\nbased on the PF MAC address.\n\nChange-Id: I10ab55dd833049b26bc387fee68164d55328bcc1\nDepends-On: I179a0fad8d53a324fdbf23fb8bb90acc472b3cee\nCloses-bug: #1617429\n""}]",2,361438,9a5099473de8dbaaf4d2c36524ac10b8c88d5050,130,25,7,17973,,,0,"PCI: Update MAC address for NICs PF passthrough devices

Booting a guest with a 'direct-physical' port will allocate and attach a PCI
device to the it.  The neutron port will get updated with the MAC address of
the PF device.

On a resize operation (or a migration), nova will allocate a new PCI device
for the guest.  Therefore the MAC address in the guest will changed.  However
the MAC address is not updated on the neutron port causing DHCP request to
fail.

This patch fix this issue by updating the MAC address of the neutron port
based on the PF MAC address.

Change-Id: I10ab55dd833049b26bc387fee68164d55328bcc1
Depends-On: I179a0fad8d53a324fdbf23fb8bb90acc472b3cee
Closes-bug: #1617429
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/361438/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,3dcec259cf3503c7b2254df678f284f635d3e6c7,bug/1617429," @mock.patch.object(pci_utils, 'get_mac_by_pci_address', return_value='aa:bb:cc:dd:ee:ff') @mock.patch.object(pci_whitelist, 'get_pci_device_devspec') @mock.patch.object(neutronapi, 'get_client', return_value=mock.Mock()) def test_update_port_bindings_for_instance_with_pci_pf(self, get_client_mock, get_pci_device_devspec_mock, get_mac_mock): self.api._has_port_binding_extension = mock.Mock(return_value=True) devspec = mock.Mock() devspec.get_tags.return_value = {'physical_network': 'physnet1'} get_pci_device_devspec_mock.return_value = devspec instance = fake_instance.fake_instance_obj(self.context) instance.migration_context = objects.MigrationContext() instance.migration_context.old_pci_devices = objects.PciDeviceList( objects=[objects.PciDevice(vendor_id='1377', product_id='0047', address='0000:0a:00.1', compute_node_id=1, request_id='1234567890')]) instance.migration_context.new_pci_devices = objects.PciDeviceList( objects=[objects.PciDevice(vendor_id='1377', product_id='0047', address='0000:0b:00.1', compute_node_id=2, request_id='1234567890')]) instance.pci_devices = instance.migration_context.old_pci_devices # Validate that non-direct port aren't updated (fake-port-2). fake_ports = {'ports': [ {'id': 'fake-port-1', 'binding:vnic_type': 'direct-physical', 'binding:host_id': 'fake-host-old', 'binding:profile': {'pci_slot': '0000:0a:00.1', 'physical_network': 'old_phys_net', 'pci_vendor_info': 'old_pci_vendor_info'}}, {'id': 'fake-port-2', 'binding:host_id': instance.host}]} list_ports_mock = mock.Mock(return_value=fake_ports) get_client_mock.return_value.list_ports = list_ports_mock update_port_mock = mock.Mock() get_client_mock.return_value.update_port = update_port_mock self.api._update_port_binding_for_instance(self.context, instance, instance.host) # Assert that update_port is called with the binding:profile # corresponding to the PCI device specified. update_port_mock.assert_called_once_with( 'fake-port-1', {'port': {'binding:host_id': 'fake-host', 'binding:profile': {'pci_slot': '0000:0b:00.1', 'physical_network': 'physnet1', 'pci_vendor_info': '1377:0047'}, 'mac_address': 'aa:bb:cc:dd:ee:ff'}}) ",,73,0
openstack%2Fopenstack-ansible-os_tempest~master~Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f,openstack/openstack-ansible-os_tempest,master,Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f,Add support for aarch64 images,MERGED,2018-11-26 12:29:45.000000000,2019-05-30 14:40:50.000000000,2019-05-30 14:40:49.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29574}]","[{'number': 1, 'created': '2018-11-26 12:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/533b64e8042c847e2eb0d452e8f2dc988aa1a254', 'message': 'Add support for aarch64 images\n\nThis patch introduces a map which allows tempest images to be specified\nper CPU architecture. Appropriate images will be uploaded for x86_64 and\naarch64, alternatively tempest_images can be overridden by the deployer.\n\nThis change is primarily designed to enable tempest testing via AIO/CI\non architectures other than x86_64.\n\nDepends-On: https://review.openstack.org/620018\nChange-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f\n'}, {'number': 2, 'created': '2018-11-26 16:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ca81f0e2ec2ee0697334b5a588ac4a6ffabc5d87', 'message': 'Add support for aarch64 images\n\nThis patch introduces a map which allows tempest images to be specified\nper CPU architecture. Appropriate images will be uploaded for x86_64 and\naarch64, alternatively tempest_images can be overridden by the deployer.\n\nThis change is primarily designed to enable tempest testing via AIO/CI\non architectures other than x86_64.\n\nFor aarch64 we must use a cirros 0.4.0 image, as there is no earlier\nversion available for this architecture.\n\nDepends-On: https://review.openstack.org/620018\nChange-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f\n'}, {'number': 3, 'created': '2018-11-27 16:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c2171ae49cf607b5eb5204017fa74c10e8990ee1', 'message': 'Add support for aarch64 images\n\nThis patch introduces a map which allows tempest images to be specified\nper CPU architecture. Appropriate images will be uploaded for x86_64 and\naarch64, alternatively tempest_images can be overridden by the deployer.\n\nThis change is primarily designed to enable tempest testing via AIO/CI\non architectures other than x86_64.\n\nFor aarch64 we must use a cirros 0.4.0 image, as there is no earlier\nversion available for this architecture.\n\nDepends-On: https://review.openstack.org/620018\nChange-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f\n'}, {'number': 4, 'created': '2018-12-21 15:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/543bedee186a1a63e9e47138437062d26c2d9c2f', 'message': ""Add support for aarch64 images\n\nJonathan Rosser <jonathan.rosser@rd.bbc.co.uk>:\n\nThis patch introduces a map which allows tempest images to be specified\nper CPU architecture. Appropriate images will be uploaded for x86_64 and\naarch64, alternatively tempest_images can be overridden by the deployer.\n\nThis change is primarily designed to enable tempest testing via AIO/CI\non architectures other than x86_64.\n\nFor aarch64 we must use a cirros 0.4.0 image, as there is no earlier\nversion available for this architecture.\n\n==\n\nPaul Martin <paul.martin@codethink.co.uk>:\n\nReplace cirros image with one with updated kernel and grub-uefi.\n\nThe upstream Cirros 0.4.0 image contains a combination of kernel and\ngrub-uefi that doesn't parse the QEMU/KVM device tree information\ncorrectly, leading to an image that fails to have a serial console or an\ninterrupt controller, so crashes silently at kernel initialization.\n\nDepends-On: https://review.openstack.org/620018\nChange-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f\n""}, {'number': 5, 'created': '2019-05-17 10:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2437e4f39650f587bf3398ac1ee1525f742af702', 'message': ""Add support for aarch64 images\n\nJonathan Rosser <jonathan.rosser@rd.bbc.co.uk>:\n\nThis patch introduces a map which allows tempest images to be specified\nper CPU architecture. Appropriate images will be uploaded for x86_64 and\naarch64, alternatively tempest_images can be overridden by the deployer.\n\nThis change is primarily designed to enable tempest testing via AIO/CI\non architectures other than x86_64.\n\nFor aarch64 we must use a cirros 0.4.0 image, as there is no earlier\nversion available for this architecture.\n\n==\n\nPaul Martin <paul.martin@codethink.co.uk>:\n\nReplace cirros image with one with many updates, including kernel and\ngrub-uefi.\n\nThe Cirros 0.4.0 image contains a combination of kernel and grub-uefi\nthat doesn't parse the QEMU/KVM device tree information correctly,\nleading to an image that fails to have a serial console or an interrupt\ncontroller, so crashes silently at kernel initialization.\n\nDepends-On: https://review.openstack.org/620018\nChange-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f\n""}, {'number': 6, 'created': '2019-05-17 10:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/05968da8991756e244dd5b978c21c3525cf18f84', 'message': ""Add support for aarch64 images\n\nJonathan Rosser <jonathan.rosser@rd.bbc.co.uk>:\n\nThis patch introduces a map which allows tempest images to be specified\nper CPU architecture. Appropriate images will be uploaded for x86_64 and\naarch64, alternatively tempest_images can be overridden by the deployer.\n\nThis change is primarily designed to enable tempest testing via AIO/CI\non architectures other than x86_64.\n\nFor aarch64 we must use a cirros 0.4.0 image, as there is no earlier\nversion available for this architecture.\n\n==\n\nPaul Martin <paul.martin@codethink.co.uk>:\n\nReplace cirros image with one with many updates, including kernel and\ngrub-uefi.\n\nThe Cirros 0.4.0 image contains a combination of kernel and grub-uefi\nthat doesn't parse the QEMU/KVM device tree information correctly,\nleading to an image that fails to have a serial console or an interrupt\ncontroller, so crashes silently at kernel initialization.\n\nDepends-On: https://review.openstack.org/620018\nChange-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f\n""}, {'number': 7, 'created': '2019-05-20 09:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/bd19ceccca34c6a96b64441e778f13fbe2d13f48', 'message': ""Add support for aarch64 images\n\nJonathan Rosser <jonathan.rosser@rd.bbc.co.uk>:\n\nThis patch introduces a map which allows tempest images to be specified\nper CPU architecture. Appropriate images will be uploaded for x86_64 and\naarch64, alternatively tempest_images can be overridden by the deployer.\n\nThis change is primarily designed to enable tempest testing via AIO/CI\non architectures other than x86_64.\n\nFor aarch64 we must use a cirros 0.4.0 image, as there is no earlier\nversion available for this architecture.\n\n==\n\nPaul Martin <paul.martin@codethink.co.uk>:\n\nReplace cirros image with one with many updates, including kernel and\ngrub-uefi.\n\nThe Cirros 0.4.0 image contains a combination of kernel and grub-uefi\nthat doesn't parse the QEMU/KVM device tree information correctly,\nleading to an image that fails to have a serial console or an interrupt\ncontroller, so crashes silently at kernel initialization.\n\nDepends-On: https://review.openstack.org/620018\nChange-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f\n""}, {'number': 8, 'created': '2019-05-24 09:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d4c2076e3f0c781df6020eac2155981332ac205b', 'message': ""Add support for aarch64 images\n\nJonathan Rosser <jonathan.rosser@rd.bbc.co.uk>:\n\nThis patch introduces a map which allows tempest images to be specified\nper CPU architecture. Appropriate images will be uploaded for x86_64 and\naarch64, alternatively tempest_images can be overridden by the deployer.\n\nThis change is primarily designed to enable tempest testing via AIO/CI\non architectures other than x86_64.\n\nFor aarch64 we must use a cirros 0.4.0 image, as there is no earlier\nversion available for this architecture.\n\n==\n\nPaul Martin <paul.martin@codethink.co.uk>:\n\nReplace cirros image with one with many updates, including kernel and\ngrub-uefi.\n\nThe Cirros 0.4.0 image contains a combination of kernel and grub-uefi\nthat doesn't parse the QEMU/KVM device tree information correctly,\nleading to an image that fails to have a serial console or an interrupt\ncontroller, so crashes silently at kernel initialization.\n\nDepends-On: https://review.openstack.org/620018\nChange-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f\n""}, {'number': 9, 'created': '2019-05-28 11:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/4ea337bdb5cd4fea3108e8502aaf5dba9365736c', 'message': ""Add support for aarch64 images\n\nJonathan Rosser <jonathan.rosser@rd.bbc.co.uk>:\n\nThis patch introduces a map which allows tempest images to be specified\nper CPU architecture. Appropriate images will be uploaded for x86_64 and\naarch64, alternatively tempest_images can be overridden by the deployer.\n\nThis change is primarily designed to enable tempest testing via AIO/CI\non architectures other than x86_64.\n\nFor aarch64 we must use a cirros 0.4.0 image, as there is no earlier\nversion available for this architecture.\n\n==\n\nPaul Martin <paul.martin@codethink.co.uk>:\n\nReplace cirros image with one with many updates, including kernel and\ngrub-uefi.\n\nThe Cirros 0.4.0 image contains a combination of kernel and grub-uefi\nthat doesn't parse the QEMU/KVM device tree information correctly,\nleading to an image that fails to have a serial console or an interrupt\ncontroller, so crashes silently at kernel initialization.\n\nDepends-On: https://review.openstack.org/620018\nChange-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f\n""}, {'number': 10, 'created': '2019-05-30 09:42:38.000000000', 'files': ['defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/0ad0c29d7a456c2d7b8f6f0f94bc2982aa99fd60', 'message': ""Add support for aarch64 images\n\nJonathan Rosser <jonathan.rosser@rd.bbc.co.uk>:\n\nThis patch introduces a map which allows tempest images to be specified\nper CPU architecture. Appropriate images will be uploaded for x86_64 and\naarch64, alternatively tempest_images can be overridden by the deployer.\n\nThis change is primarily designed to enable tempest testing via AIO/CI\non architectures other than x86_64.\n\nFor aarch64 we must use a cirros 0.4.0 image, as there is no earlier\nversion available for this architecture.\n\n==\n\nPaul Martin <paul.martin@codethink.co.uk>:\n\nReplace cirros image with one with many updates, including kernel and\ngrub-uefi.\n\nThe Cirros 0.4.0 image contains a combination of kernel and grub-uefi\nthat doesn't parse the QEMU/KVM device tree information correctly,\nleading to an image that fails to have a serial console or an interrupt\ncontroller, so crashes silently at kernel initialization.\n\nDepends-On: https://review.openstack.org/620018\nChange-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f\n""}]",2,620032,0ad0c29d7a456c2d7b8f6f0f94bc2982aa99fd60,39,10,10,25023,,,0,"Add support for aarch64 images

Jonathan Rosser <jonathan.rosser@rd.bbc.co.uk>:

This patch introduces a map which allows tempest images to be specified
per CPU architecture. Appropriate images will be uploaded for x86_64 and
aarch64, alternatively tempest_images can be overridden by the deployer.

This change is primarily designed to enable tempest testing via AIO/CI
on architectures other than x86_64.

For aarch64 we must use a cirros 0.4.0 image, as there is no earlier
version available for this architecture.

==

Paul Martin <paul.martin@codethink.co.uk>:

Replace cirros image with one with many updates, including kernel and
grub-uefi.

The Cirros 0.4.0 image contains a combination of kernel and grub-uefi
that doesn't parse the QEMU/KVM device tree information correctly,
leading to an image that fails to have a serial console or an interrupt
controller, so crashes silently at kernel initialization.

Depends-On: https://review.openstack.org/620018
Change-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/32/620032/5 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,533b64e8042c847e2eb0d452e8f2dc988aa1a254,arm64,"# The list of images for tempest to download for the current architecture. tempest_images: ""{{ tempest_images_map[ansible_architecture] }}"" # The list of images for tempest to download for different architecturestempest_images_map: x86_64: - url: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"" checksum: ""sha256:a8dd75ecffd4cdd96072d60c2237b448e0c8b2bc94d57f10fdbc8c481d9005b8"" format: ""qcow2"" name: ""cirros"" - url: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"" checksum: ""sha256:a8dd75ecffd4cdd96072d60c2237b448e0c8b2bc94d57f10fdbc8c481d9005b8"" format: ""qcow2"" name: ""cirros"" aarch64: - url: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-aarch64-disk.img"" checksum: ""sha256:d5f72b390689142d27346342a7e39728759c0213d890f9c3c46810f9a210e813"" format: ""qcow2"" name: ""cirros"" properties: hw_firmware_type: uefi - url: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-aarch64-disk.img"" checksum: ""sha256:d5f72b390689142d27346342a7e39728759c0213d890f9c3c46810f9a210e813"" format: ""qcow2"" name: ""cirros"" properties: hw_firmware_type: uefi","# The list of images for tempest to download.tempest_images: - url: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"" checksum: ""sha256:a8dd75ecffd4cdd96072d60c2237b448e0c8b2bc94d57f10fdbc8c481d9005b8"" format: ""qcow2"" name: ""cirros"" - url: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"" checksum: ""sha256:a8dd75ecffd4cdd96072d60c2237b448e0c8b2bc94d57f10fdbc8c481d9005b8"" format: ""qcow2"" name: ""cirros""",27,10
openstack%2Fopenstackdocstheme~master~Icbcbdc647d872956d150f09c37e931944d56ec2c,openstack/openstackdocstheme,master,Icbcbdc647d872956d150f09c37e931944d56ec2c,Remove a heap of dead CSS rules,MERGED,2019-05-29 14:47:39.000000000,2019-05-30 14:33:28.000000000,2019-05-30 14:33:28.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 14:47:39.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/static/css/combined.css'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/8a82425e6c4419ec7ce0373b505633cf525c93e0', 'message': 'Remove a heap of dead CSS rules\n\n(Pronounced ""hay-p"" in Wesht Clare fashion).\n\nThese were discovered by searching for (and not finding) the relevant\nclass/id attributes in the HTML templates:\n\n  ag -w --ignore bootstrap.min.css --ignore bootstrap.min.js \\\n    --ignore jquery-3.2.1.js --ignore jquery-3.2.1.min.js \\\n    --ignore font-awesome.min.css $term\n\nMost of them exist from the original creation of this theme [1] and are\nwere either used in the past or are used in places other than the Sphinx\ntheme (e.g. the OpenStack website [2]). They can be removed from here.\n\n[1] https://opendev.org/openstack/openstackdocstheme/commit/cf9c89fa9\n[2] https://opendev.org/osf/openstackweb\n\nChange-Id: Icbcbdc647d872956d150f09c37e931944d56ec2c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,662007,8a82425e6c4419ec7ce0373b505633cf525c93e0,16,4,1,15334,,,0,"Remove a heap of dead CSS rules

(Pronounced ""hay-p"" in Wesht Clare fashion).

These were discovered by searching for (and not finding) the relevant
class/id attributes in the HTML templates:

  ag -w --ignore bootstrap.min.css --ignore bootstrap.min.js \
    --ignore jquery-3.2.1.js --ignore jquery-3.2.1.min.js \
    --ignore font-awesome.min.css $term

Most of them exist from the original creation of this theme [1] and are
were either used in the past or are used in places other than the Sphinx
theme (e.g. the OpenStack website [2]). They can be removed from here.

[1] https://opendev.org/openstack/openstackdocstheme/commit/cf9c89fa9
[2] https://opendev.org/osf/openstackweb

Change-Id: Icbcbdc647d872956d150f09c37e931944d56ec2c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/07/662007/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/openstackdocs/static/css/combined.css'],1,8a82425e6c4419ec7ce0373b505633cf525c93e0,update-bootstrap," /* @group note *//* end */ /* TODO(stephenfin): I think this can go too */.navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus {.navbar-nav > li > .dropdown-menu:after, .navbar-nav > li > .dropdown-menu:before { .navbar-nav > li > .dropdown-menu:after, .navbar-nav > li > .dropdown-menu:before {.show { display: block; } .show { display: none; } }/*Docs Version Dropdown*/.docs-book-wrapper {.btn-group .btn + .btn, .btn-group .btn + .btn-group, .btn-group .btn-group + .btn, .btn-group .btn-group + .btn-group {.docs-sidebar-section ol.active li, .docs-sidebar-section ol.active li.active > ul, .docs-sidebar-section ol.active li.active, .docs-sidebar-section ol.active li.active ul, .docs-sidebar-section ol.active li.active ul li {/* TODO(stephenfin): '.docs-has-sub' is referenced from docs.js, so we need to * clean that up before we can remove it here *//* TODO(stephenfin): I think this can be removed unless Bootstrap is doing funky * stuff *//* TODO(stephenfin): '.gloss' is referenced from docs.js, so we need to * clean that up before we can remove it here *//* TODO(stephenfin): Did this change in Sphinx 2.0? */ /*Pagination Overrides*//*End Pagination Overrides*/ /* TODO(stephenfin): Group this */","/* @group Navigation */ #navigation { display: block; background: url('../images/header-line.gif') repeat-x 0 bottom; padding-bottom: 1px; } #navigation * { padding: 0; margin: 0; } #navigation ul { display: block; margin: 0 auto; } #navigation li { display: block; float: left; margin-right: 20px; } #navigation li a { display: block; font-weight: normal; text-decoration: none; background-position: 50% 0; padding: 20px 0 5px; color: #353535; font-size: 14px; } #navigation li a.current, #navigation li a.section { border-bottom: 3px solid #cf2f19; color: #cf2f19; } /* @group Auto-clearing */ #navigation:after, #navigation ul:after, #header:after { content: "".""; display: block; height: 0; clear: both; visibility: hidden; } #navigation, #navigation ul, #header:after { display: inline-block; } /* Hides from IE-mac \*/ * html #navigation, * html #navigation ul { height: 1%; } #navigation, #navigation ul, #header:after { display: block; } /* End hide from IE-mac */ /* @end */ #logo a { display: block; margin-top: 8px; text-indent: -1000em; background: url('../images/open-stack-cloud-computing-logo-2.png') no-repeat left center; height: 54px; width: 177px; margin-left: -10px; } #header { margin-bottom: 0px; margin-top: 20px; } /* @end */ /* @group Tabs */ .tabContentHidden { display: none; } .tabTops { border: 1px solid black; border-bottom: none; } #subnav li { list-style-type: none; margin-bottom: 5px; padding: 0; } #subnav ul { padding-left: 0px; margin-right: 0px; } #subnav ul.overviewNav li a { display: block; padding: 10px 20px 10px 42px; text-decoration: none; color: black; background-color: #e9e9e9; background-image: none; text-align: right; margin-right: 40px; } #subnav ul.overviewNav li a:hover { background-color: #d6d6d6; -webkit-transition: background-color 1s ease-out; } ul.subsectionNav li.current a { background-color: #c4e0e9; -webkit-transition: background-color 1s ease-out; } .subsectionNav a[href*=""/essex/""] { background-color: #E9E9E9 !important; } .subsectionNav a[href*=""/start/""] { background-color: #D5EFD4 !important; margin-top: 30px; } .subsectionNav a[href*=""/marketplace/training/""] { margin-top: 30px; } .overviewNav li.active, .subsectionNav li.active { background: url('../images/pointer-arrow.gif') no-repeat right center; } #subnav ul li { text-align: right; } ul.subsectionNav li a { display: block; padding: 10px 20px 10px 42px; text-decoration: none; color: black; background: #e2ecef none no-repeat 5px center; margin-right: 40px; } ul.subsectionNav li a:hover { background-color: #c4e0e9; -webkit-transition: background-color 1s ease-out; } ul.tabs { padding: 0 2px 0 0; white-space: nowrap; list-style-type: none; display: block; zoom: 1; margin-right: 0px; clear: both; border-bottom: 1px solid #d8d8d8; background-color: #ececec; } .tabSet { margin: auto; background-color: #f5f5f5; -webkit-border-radius: 3px; border: 1px solid #d8d8d8; border-top: 1px solid #bcbcbc; } #home .tabSet { margin-top: 45px; } .featureHeader { margin-left: 20px; margin-top: 20px; } .tabs li { cursor: pointer; display: inline; margin-right: -3px; padding: 0px; } .tabs li a { margin: 0px; display: inline-block; text-align: left; color: #41728d; font-size: 13px; font-family: 'PT Sans', serif; padding: 6px 14px; text-shadow: #fff 0px 1px 1px; border-right: 1px solid #d8d8d8; width: 160px; text-align: center; } .tabs li a:hover { background-color: #eee; text-decoration: none; } .tabs li.active a { cursor: default; text-decoration: none; position: relative; color: black; background-color: #f5f5f5; border-bottom: 1px solid #f5f5f5; margin-bottom: -1px; border-top: 1px white solid; font-weight: bold; } .tabs li#showcode a { background: #6b90da; padding-bottom: 6px; font-weight: bold; color: #fff; } /* @end *//* @group Rounded Buttons */ .roundedButton, input.action { font-family: 'PT Sans', serif; border: 1px solid #e2e2e2; padding: 4px 15px; color: black !important; text-decoration: none !important; font-size: 12.5px; line-height: 3em; background: #FFFFFF; /* old browsers */ /* firefox */ background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #FFFFFF), color-stop(50%, #F3F3F3), color-stop(100%, #EBEBEB)); /* webkit */ filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#FFFFFF', endColorstr='#EBEBEB',GradientType=0 ); /* ie */ box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.5); -webkit-box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.2); -moz-box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.2); text-shadow: #fff 0px 1px 1px; border-radius: 3px; -moz-border-radius: 3px; -webkit-border-radius: 3px; border-bottom-color: #a0a0a0; border-right-color: #bababa; border-left-color: #bababa; } .roundedButton:hover, input.action:hover { color: black; -webkit-transition: color 1s ease-out; cursor: pointer; } a.roundedButton:active, input.action:active { background: #ababab; box-shadow: none; -webkit-box-shadow: none; -moz-box-shadow: none; border-color: #ababab; border-top-color: #636363; background: -webkit-gradient(linear, left top, left bottom, from(#bebebe), to(#dddddd)); -webkit-transition: none; padding: 4px 15px; } input.action { line-height: 1.2em !important; } /* @end */ .subhead { color: #cf2f19; font-size: 16px; border-bottom: 1px dotted; padding-bottom: 5px; border-color: #c5e2ea; margin-bottom: 20px; } /* @group projects page */ .projectsPage h1, .communityPage h1, #blog h1 { color: #264d69; font-size: 24px; } .projectsPage h2 { color: #264d69; font-size: 17px; } #subnav { padding-top: 38px; } /* BB: Removed because it looks ugly .note p { margin-left: 8px; padding: 10px; margin-bottom: 0px; border-bottom: 1px solid #b5c8a8; } */ a#CitrixVideo { display: block; padding-top: 93px; background: url('../images/citrix-video-thumbnail.jpg') no-repeat; color: #aeaeae; text-decoration: none; margin-top: 3px; } h3.videoHeader { color: #939393; font-size: 14px; } a.downloadLink { text-decoration: none; color: white; font-family: helvetica, arial; font-weight: bold; display: block; width: 250px; text-align: center; position: relative; padding: 3px; margin-bottom: 5px; margin-top: 5px; /* BORDER RADIUS */ border-radius: 5px; background-color: #989996; border: 2px solid white; } /* @end */ #footer { margin-top: 30px; } /* @group compute */ .projectVitals { border-top: 1px solid #c5e2ea; padding-top: 10px; } .projectVitals h3 { font-size: 16px; color: #264d69; } #availability { line-height: 1.4em; padding: 12px; color: #747474; background-color: #f6f8f8; border: 1px solid #d4d5d5; margin-bottom: 10px; height: 9em; } .projectVitals h4 { font-size: 14px; color: #797979; margin-bottom: 4px; } #availability p { margin: 0px; } #parallax { background: #2f3134; position: relative; overflow: hidden; width: 60em; height: 300px; margin: 1.5em 0; } /* @group FAQ */ .faqs .span-5 { font-size: 14px; color: #707070; font-weight: bold; } .faqs hr { padding: 0px; } .faqs div { margin-bottom: 20px; } /* @end */ /* @end */ /* @group community page */ .communityBox { height: 213px; background: #f8f8f8 url('../images/community-box-headers.png') no-repeat 0 0; } #userResources { background-position: -200px 0; } #devCenter { background-position: -400px 0; } .communityBox p, .communityBox h2 { margin: 15px; } .communityBox, .communityBox a, .communityBox a.visited { color: #6b6b6b; } .communityBox a { text-decoration: underline; } .communityBox h2 { color: black; font-size: 17px; margin-top: 60px; } .participants h2, .communityResources h2 { font-size: 16px; color: #264d69; margin-top: 30px; padding-top: 10px; border-top: 1px dotted #c5e2ea; } #designSummit h2 { text-indent: -1000px; height: 222px; margin-top: -9px; margin-bottom: 10px; background: url('../images/openstack-design-summit-community.jpg') no-repeat 0 0; } #designSummit { color: #6b6b6b; } #designSummit strong { color: black; font-weight: normal; } /* @end */ /* @group blog */ #blog h2 { color: #5189a0; font-size: 15px; margin-bottom: 0px; } #blog h2 a { background-color: #eaeaea; text-align: center; padding: 1px; padding-left: 7px; padding-right: 7px; -moz-border-radius: 3px; -webkit-border-radius: 3px; color: #757575; font-size: 0.7em; text-decoration: none; } div.byline { border-bottom: 1px dotted #c5e2ea; border-top: 1px dotted #c5e2ea; margin-bottom: 10px; padding: 2px 0; } div.byline p { margin: 0px; } div.byline .postDate { text-align: right; } div.byline p.name a, div.byline p.name a:visited { color: #cf2f19; text-decoration: none; } div.socialMedia { background-color: #eef3f5; margin-bottom: 20px; } div.socialMedia div { padding: 10px; } div.socialMedia h4 { margin-bottom: 2px; } div.socialMedia p { margin-bottom: 0px; } div.socialMedia div.twitter { border-bottom: 1px dotted #c5e2ea; } #blog h3 { margin-bottom: 5px; font-size: 12px; } /* @end */ /* @group Brand */ div.termsBox { border: 1px solid #c6e2ea; padding: 10px; height: 300px; overflow: scroll; margin-bottom: 10px; } .termsBox h3, #openstack-trademark-policy h3 { font-size: 100%; font-weight: bold; } .termsBox a { color: inherit; text-decoration: underline; } /* @end */ /* @group quotes */ ul#quotes { margin-left: 0px; padding-left: 0px; margin-top: 10px; } ul#quotes li { list-style-type: none; } ul#quotes li p { line-height: 1.4em; } ul#quotes p { font-size: 16px; font-family: 'PT Sans', serif; margin-bottom: 0px; color: black; line-height: 1.2em; padding: 10px; padding-bottom: 0px; } ul#quotes p.name { margin-top: 10px; font-size: 14px; text-transform: uppercase; color: #9b9b9b; text-indent: 0px; } ul#quotes p.name strong { font-weight: normal; color: #494949; } /* @end */a.Datasheet { padding-top: 110px; display: block; background: url('../images/openstack-product-pdf.jpg') no-repeat center top; margin-left: 20px; margin-top: 30px; } a.Datasheet:hover { text-decoration: none; color: #bc1518; } a#DemoVideo { display: block; padding-top: 103px; margin-left: 18px; background: url('../images/demo-video-thumbnail.jpg') no-repeat; text-decoration: none; margin-top: 50px; } /* @group Tables */ .tabContent table { margin: 20px; width: 670px; } .tabContent table td { border-bottom: 1px solid #d8d8d8; vertical-align: top; padding: 10px 10px 20px 0; } .tabContent table td p { margin: 0px; } .tabContent table tr:last-child td { border-bottom: none; } .tabContent table th { font-family: 'PT Sans', serif; font-style: normal; font-weight: normal; font-size: 18px; letter-spacing: -0.076em; line-height: 1em; color: #264d69; padding-left: 0px; } .tabContent table a:active, .tabContent table a:visited, .tabContent table a { color: inherit; text-decoration: underline; } p.fnote { margin-left: 20px; } /* @end */ h2.user-story-quote { line-height: 1.5em; color: grey !important; } .user-story-quote-author { text-transform: uppercase; } ul.user-project-list { margin: 0px; padding: 0px; overflow: hidden; margin-bottom: 20px; } ul.user-project-list li { display: block; margin-right: 5px; background-color: #e2f1f5; border: 1px solid #89c6d6; -webkit-border-radius: 3px; padding: 2px 8px; margin-bottom: 5px; color: #1a4b6b; font-size: 95%; width: 170px; float: left; } #footer ul { margin: 10px 0px 20px; padding: 0px; list-style: none; } #footer a, #footer a:visited, #footer a:active { color: black; } #footer h3 { color: #de0000; font: 130% 'PT Sans', serif; } #footer textarea { width: 260px; height: 60px; background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #EBEBEB), color-stop(5%, #FFFFFF)); /* webkit */ } #footer form { margin-top: 8px; margin-bottom: 20px; } .user-links li { padding-left: 20px; background: url('../images/link.png') no-repeat left center; margin-left: -20px; list-style: none; } .user-objectives { background-color: #ecedec; padding: 20px; margin-bottom: 15px; } .user-objectives p { margin-bottom: 0px; } .user-name { padding-top: 10px; } .user-photo img { border: 5px solid white; -webkit-box-shadow: 3px 2px 2px rgba(0, 0, 0, 0.3); } .siteMessage { -webkit-border-radius: 4px; border: 1px solid; margin-bottom: 10px; margin-top: 20px; } .siteMessage p { margin: 8px; } #InfoMessage { color: black; background-color: #DBEAEE; border-color: #B5D8E2; font-size: 120%; padding: 10px; } #SuccessMessage { color: #3E933A; background-color: #E2F7D8; border-color: #9FDE9C; } #ErrorMessage { color: #DA1D1D; background-color: #FFDFDF; border-color: #FFBBBB; } p.message.bad { color: #DA1D1D; background-color: #FFDFDF; border-color: #FFBBBB; padding: 15px; border: 1px solid #DA1D1D; } .topMessage { background: #E4EEF1; border-bottom: 1px solid white; padding: 5px; font-size: 1.3em; color: #255E6E; font-family: 'PT Sans', serif; text-shadow: #fff 0px 1px 1px; box-shadow: 1px 1px 1px 1px #ccc; } .topMessage p { margin-bottom: 0px; } #header { margin-top: 40px; } span.message { font-weight: bold; color: #CE332C; } .roundedButton-margin { margin-left: 5px; } .navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus {.navbar-nav > li > .dropdown-menu:after, .navbar-nav > li > .dropdown-menu:before { .navbar-nav > li > .dropdown-menu:after, .navbar-nav > li > .dropdown-menu:before {.show { display: block; } .show { display: none; } } /*Hero*/ .intro-header { padding-top: 0px; padding-bottom: 0; text-align: center; color: #f8f8f8; background: url('../images/hero-bkgd1.jpg') no-repeat center center; background-size: cover; position: relative; } .intro-header h1 { color: #f8f8f8; } .intro-message { position: relative; padding-top: 110px; padding-bottom: 110px; } @media (max-width: 1199px) { .intro-message { padding-bottom: 50px; } } .intro-message > h1 { margin: 0; font-size: 3em; font-weight: 300; text-align: center; width: 100%; } @media (max-width: 767px) { .intro-message > h1 { font-size: 3em; } } .intro-divider { width: 400px; border-top: 1px solid #f8f8f8; border-bottom: 1px solid rgba(0, 0, 0, 0.2); } .intro-message > h3 { text-shadow: none; text-align: left; font-weight: 300; font-size: 24px; margin-top: 10px; } .hero-credit { position: absolute; bottom: 30px; right: 30px; color: #fff; opacity: 0.5; } .hero-credit:hover { opacity: 1; } /*Hero Promo, add .featured to .intro-header*/ .intro-header.featured { text-align: center; background: url('../images/summit-promo-bkgd1.jpg') no-repeat center center; min-height: 420px; background-size: cover; position: relative; } .intro-header.featured .intro-message { padding-bottom: 50px; } a.promo-btn { color: #fff; font-size: 24px; font-weight: 300; background: transparent; border: 2px solid #fff; border-radius: 4px; padding: 20px 35px; margin: 0 auto; text-align: center; min-width: 370px; display: inline-block; } a.promo-btn:hover { text-decoration: none; background: rgba(255, 255, 255, 0.2); } a.promo-btn i.fa-chevron-right { background: transparent; border: 2px solid #fff; border-radius: 100px; padding: 0; font-size: 14px; margin-left: 10px; width: 30px; height: 30px; line-height: 2.1; } p.promo-dates { display: inline-block; margin-top: 10px; font-weight: 400; } /*End Hero*/ /*Overview Section*/ .overview-section { padding: 80px 0; } @media (max-width: 767px) { .overview-section { padding-top: 40px; } } .overview-section h2 { color: #2A4E68; font-size: 34px; font-weight: 300; margin-bottom: 25px; } .overview-section p { color: #888; font-size: 16px; font-weight: 300px; line-height: 1.4; } .overview-section a { color: #30739C; text-decoration: underline; } .btn-wrapper { float: left; width: 100%; text-align: center; } @media (max-width: 980px) { .overview-left { margin-bottom: 50px; } } a.overview-btn { float: left; background: #30739C; color: #fff; text-transform: uppercase; border-radius: 4px; padding: 15px 25px; text-decoration: none; margin-top: 5px; margin-bottom: 5px; } a.overview-btn:hover { background: #2A4E68; } a.overview-btn.left-btn { border-top-right-radius: 0; border-bottom-right-radius: 0; border-right: 1px solid #3387C9; margin-right: 0; } a.overview-btn.left-btn:hover { border-right-color: #1B486B; } a.overview-btn.right-btn { border-top-left-radius: 0; border-bottom-left-radius: 0; border-left: 1px solid #1B486B; margin-left: 0; } .release-text { display: block; text-align: left; color: #636568; font-size: 13px; } .overview-section .img-responsive { max-width: 550px; } .overview-right { text-align: center; } .control-cloud-graphic { max-width: 600px; margin: 0 auto 15px; } a.demo-link { font-size: 13px; font-weight: 400; text-decoration: none; color: #34789A; background: #F0F9FE; padding: 10px 25px; border-radius: 4px; } a.demo-link:hover { color: #34789A; background: #CDD9E2; } a.demo-link i { margin-left: 5px; font-size: 14px; } /*When Featured, Add Class .featured to .overview-section*/ .overview-section.featured .overview-right { background: #E8EEF5; border-radius: 4px; text-align: center; padding: 20px; margin-top: 50px; } @media (max-width: 1200px) { .overview-section.featured .overview-right { margin-top: 50px; } } .overview-section.featured .overview-right h3 { color: #30739C; text-align: center; } .overview-section.featured .overview-right p { color: #333; font-size: 13px; } .overview-section.featured .overview-right img.promo-graphic { max-width: 350px; margin: 20px auto; } /*End Overview Section*/ /*Customers Section*/ .customers-row { padding: 80px 0; text-align: center; background: #edf2f7; } .customers-row h2 { text-transform: capitalize; margin-bottom: 0; text-align: center; } .customer-logos-wrapper { margin: 35px 0 25px; } .customer-logos-wrapper ul { padding: 0; } li.customer-logos { position: relative; padding: 20px 1%; width: 16%; list-style: none; display: inline-block; } @media (max-width: 767px) { li.customer-logos { position: relative; padding: 20px 0; width: 80%; margin: 0 auto; display: block; } } li.customer-logos img { max-width: 100%; } .logo-hover { background: #dee2e8; border-radius: 3px; } .logo-hover:after { content: ' '; height: 0; position: absolute; width: 0; border: 10px solid transparent; border-top-color: #dee2e8; top: 100%; left: 50%; margin-left: -10px; } .customers-description { margin: 40px 0; color: #2A4E68; text-align: center; } .customers-description p { padding: 20px 50px; border-top: 1px solid #dee2e8; border-bottom: 1px solid #dee2e8; display: inline; } @media (max-width: 767px) { .customers-description p { display: block; } } .customers-action { margin-top: 40px; text-align: center; } a.customer-btn { background: #2A4E68; color: #fff; text-transform: uppercase; border-radius: 4px; padding: 15px 25px; text-decoration: none; border-style: none; } a.customer-btn:hover { background: #173D5B; color: #fff; } /*When Featured, Add Class .featured to .customers-row*/ .customers-row.featured .customer-logos-wrapper { width: 50%; max-width: 1000px; margin: 40px 25% 0; border-top: 1px solid #DDE3E8; padding-top: 20px; } .customers-row.featured .customer-logos-wrapper hr { color: #333; } .customers-row.featured .customer-logos img { width: 90%; max-width: 100px; } .customers-row.featured .customer-logos:hover { background: none; } .customers-row.featured .customer-logos:hover:after { display: none; } .customers-row.featured .customers-action { margin-top: 0; } .customers-row.featured button.customer-btn { background: none; border-radius: 0; padding: 0; text-decoration: underline; color: #2A4E68; text-transform: capitalize; } .featured-description { width: 85%; margin: 40px auto; }/*End Customers Section*/ /*Community Section*/ .community-section { padding: 75px 0; background: url('../images/community-bkgd.jpg') no-repeat center center; background-size: cover; min-height: 350px; } .community-section.featured { background: url('../images/community-bkgd2.jpg') no-repeat center center; background-size: cover; } .community-graphic { max-width: 650px; margin: 0 auto; } @media (max-width: 1200px) { .community-graphic { margin-bottom: 20px; } } .community-section h2 { color: #fff; } .community-section p { color: #fff; } @media (max-width: 1200px) { .community-section h2 { text-align: center; } .community-section p { text-align: center; } } a.community-btn { font-size: 16px; font-weight: 400; background: transparent; border: 1px solid #fff; border-radius: 3px; margin-top: 10px; padding: 8px 30px 8px 40px; color: white; float: left; } a.community-btn i { margin-left: 10px; } a.community-btn:hover { text-decoration: none; background: rgba(255, 255, 255, 0.2); } /*When Featured, add .featured to .community-section*/ .community-section.featured h3 { color: #fff; } @media (max-width: 1200px) { .community-section.featured h3 { text-align: center; } } .designate-logo { max-width: 302px; margin: 50px 0 20px; } @media (max-width: 1200px) { .designate-logo { margin: 50px auto 20px; } } .default-community { background-color: rgba(5, 54, 86, 0.7); border-radius: 4px; padding: 30px; text-align: center; } @media (max-width: 1200px) { .default-community { margin-top: 50px; } } .default-community h2 { margin-top: 0; } .community-graphic.small { max-width: 450px; margin: 20px auto; } a.featured-link { display: block; background: #DA422F; padding: 10px 20px; border-radius: 2px; width: 80%; text-decoration: none; margin: 10px auto 0; color: #fff; font-weight: 600; } a.featured-link:hover { text-decoration: none; background: #831917; } /*End Community Section*/ /*News and Events Section*/ .news-section { padding: 70px 0; } .news-section h2 a { font-size: 14px; color: #30739C; font-weight: 400; margin-left: 30px; } .news-section h2 a:hover { color: #28709a; text-decoration: none; } .event-ad, .news-ad { width: 100%; max-width: 560px; margin-bottom: 20px; } .event-ad-lrg { width: 100%; height: 113px; max-height: 113px; max-width: 1140px; margin-bottom: 20px; background-image: url('../images/paris-summit-lrg.jpg'); background-repeat: no-repeat; background-size: 100% auto; background-position: center center; } @media (max-width: 767px) { .event-ad-lrg { max-width: 766px; background-image: url('../images/paris-summit-sm.jpg'); background-repeat: no-repeat; background-size: 100% auto; background-position: center center; } } .news-section .news-wrapper ul { margin: 30px 0; padding-start: 0; -webkit-padding-start: 0; } .news-section .news-wrapper ul li { list-style: none; } .single-event { float: left; width: 100%; padding: 15px 10px; border-bottom: 1px solid #ebeff4; } .single-event:hover { background: #edf2f7; } .single-event.last { border-bottom: none; } .left-event { float: left; width: 25%; } @media (min-width: 768px) and (max-width: 981px) { .left-event { width: 25%; } } @media (max-width: 767px) { .left-event { width: 25%; } } .event-details { float: left; margin-left: 3%; width: 62%; } @media (min-width: 768px) and (max-width: 981px) { .event-details { width: 72%; } } .right-event { float: right; width: 10%; } @media (min-width: 768px) and (max-width: 981px) { .right-event { display: none; } } .date, .news-type, .planet-type { background: #fff; border: 2px solid #DA422F; border-radius: 4px; padding: 5px 15px; color: #DA422F; font-size: 10px; width: 100%; text-align: center; float: left; margin-top: 5px; } .event-name, .news-title { display: block; font-size: 14px; font-weight: 600; color: #333; width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; } .location, .news-date { display: block; float: left; font-style: italic; color: #333; font-weight: 300; } .right-arrow { float: right; background: #d9dfe5; border-radius: 100px; width: 30px; height: 30px; padding: 6px 10px; color: #fff; margin-right: 10px; margin-top: 5px; display: none; } .single-event:hover .right-arrow { display: block; } .news-type { border: 2px solid #2A4E68; color: #2A4E68; } .planet-type { border: 2px solid #68C8C3; color: #68C8C3; } .see-more-bottom { width: 100%; float: left; text-align: center; margin-top: 40px; } .see-more-bottom a { color: #2A4E68; text-decoration: none; padding: 5px 15px; border-radius: 4px; font-size: 12px; font-weight: 400; border: 2px solid #2A4E68; } .see-more-bottom a i { margin-left: 10px; font-size: 11px; } /*End News and Events Section*/ /*Photo Row*/ .photo-row-wrapper { width: 100%; color: #eee; max-height: 240px; margin-bottom: 10px; overflow: hidden; margin-top: 60px; } @media (max-width: 765px) { .photo-row-wrapper { display: none; } } .photo-container { width: 4000px; max-height: 240px; margin-left: -30px; } .photo-container img { margin: 0 10px 0 0; max-width: 22%; max-height: 240px; } /*End Photo Row*/.newsletter-form { margin: 10px 0 30px; width: 100%; } .newsletter-form label { color: #aaa; font-size: 12px; font-weight: 300; display: block; } .newsletter-input { display: inline-block; background: transparent; border: 2px solid #888; border-radius: 4px; color: #888; font-size: 12px; font-weight: 400; padding: 10px 15px; width: 70%; } @media (max-width: 767px) { .newsletter-input { width: 70%; } } .newsletter-input::-webkit-input-placeholder { color: #888; font-size: 12px; font-weight: 400; text-transform: uppercase; } .newsletter-input:-moz-placeholder { /* Firefox 18- */ color: #888; font-size: 12px; font-weight: 400; text-transform: uppercase; } .newsletter-input::-moz-placeholder { /* Firefox 19+ */ color: #888; font-size: 12px; font-weight: 400; text-transform: uppercase; } .newsletter-input:-ms-input-placeholder { color: #888; font-size: 12px; font-weight: 400; text-transform: uppercase; } .newsletter-input:focus { outline: none; border: 2px solid #666; } .newsletter-btn { margin-left: 1%; display: inline-block; background: transparent; border: 2px solid #30739C; border-radius: 4px; color: #30739C; font-size: 12px; font-weight: 400; padding: 10px 15px; text-transform: uppercase; width: 27%; } @media (max-width: 767px) { .newsletter-btn { width: 18%; margin-left: 2%; padding: 10px; } } .newsletter-btn:hover { border: 2px solid #888; color: #999; } .footer-bottom { background: #222; padding: 15px 0; text-align: center; width: 100%; } .feedback-input { display: inline-block; background: #222; border: 2px solid #444; border-radius: 4px; color: #777; font-size: 12px; font-weight: 400; padding: 10px 20px; width: 310px; } @media (max-width: 767px) { .feedback-input { width: 70%; } } .feedback-input::-webkit-input-placeholder { color: #555; font-size: 12px; font-weight: 400; } .feedback-input:-moz-placeholder { /* Firefox 18- */ color: #555; font-size: 12px; font-weight: 400; } .feedback-input::-moz-placeholder { /* Firefox 19+ */ color: #555; font-size: 12px; font-weight: 400; } .feedback-input:-ms-input-placeholder { color: #555; font-size: 12px; font-weight: 400; } .feedback-input:focus { outline: none; border: 2px solid #666; } .feedback-btn { margin-left: 11px; display: inline-block; background: #222; border: 2px solid #666; border-radius: 4px; color: #777; font-size: 12px; font-weight: 400; padding: 10px 30px; } @media (max-width: 767px) { .feedback-btn { width: 18%; margin-left: 2%; padding: 10px; } } .feedback-btn:hover { border: 2px solid #888; color: #999; } /* Line below navigation */#home.navbar-default { border-bottom: none; } /*End General Inner Page Styles*/ /*Events Page*/ .eventsBanner { height: 150px; padding: 20px; } .eventsPhotoCaption { background: rgba(0, 0, 0, 0.3); border-radius: 4px; padding: 10px; color: white; } .news-section.full { padding: 20px 0; } .eventTitleArea { text-align: center; margin: 40px 0; } .eventTitleArea h1 { font-weight: 300; } .postEvent { float: left; width: 100%; height: 130px; padding: 30px 5%; background: #F4F5F8; margin: 20px 0 10px; text-align: center; } .postEvent p { margin-bottom: 20px; } .postEvent a { background: #2A4E68; padding: 10px 25px; border-radius: 4px; color: #fff; } .eventBlock { float: left; width: 100%; } .eventBlock.summit .date { border-color: #2A4E68; color: #2A4E68; } .eventBlock.past h2 { margin-top: 50px; } .eventBlock.past .date { border-color: #68C8C3; color: #68C8C3; } /*End Events Page*/ /*Community Page*/ .communityBoxes { margin: 30px 0 10px; font-size: 13px; } .communityBoxes h2 { font-size: 20px; font-weight: 400; margin-bottom: 15px; } .communityBoxes h2 a { color: #DA422F; } .developersRow { border-top: 1px solid #eee; border-bottom: 1px solid #eee; padding: 20px 30px; margin-bottom: 30px; } .devLabel { float: left; margin-right: 30px; font-weight: 700; } ul#developerActivity { float: left; padding-left: 0; margin: 0; } ul#developerActivity li { list-style: none; display: inline-block; } ul#developerActivity li a { font-weight: 700; color: #222; } ul#developerActivity li span { background: #E8EEF5; padding: 5px 10px; border-radius: 4px; margin-right: 5px; color: #2A4E68; font-size: 11px; font-weight: 400; } /*End Community Page*/ /*Software Page*/ .software { margin-top: 30px; } .software-top { text-align: center; } .software-top h1 { margin: 5px 0 10px; } p.icon { text-align: center; margin: 40px 0 0; } p.software-description { text-transform: uppercase; font-size: 13px; color: #777; } .openstack-diagram { margin-bottom: 3em; } div.screenshots { padding: 30px 0 20px; margin: 30px 0; border-top: 1px solid #edf2f7; border-bottom: 1px solid #edf2f7; width: 100%; } .screenshots ul { padding: 0; margin: 0; text-align: center; } .screenshots ul li { list-style: none; display: inline-block; } @media (max-width: 767px) { .screenshots ul li { margin-bottom: 30px; } } .screenshots ul li a img { width: 100%; border: 4px solid #edf2f7; } .screenshots ul li a img:hover { border-color: #30739C; } .screenshots ul li p { margin: 10px 0 0; font-size: 12px; color: #30739C; text-align: center; } .newSubNav li#start a.current, .newSubNav li#start a.current:hover { color: #488613; background-color: #DDFFE2; } ul.slides h3 { text-align: center; margin: 0 0 30px; } .tabSet { background: #edf2f7; border: 1px solid #30739C; margin: 30px 0; padding-top: 20px; padding-bottom: 20px; } .tabContent table { width: 100%; margin: 0; table-layout: fixed; word-wrap: break-word; } .get-started-wrapper h3 { text-align: center; margin: 40px 0; } a.start-btn { background: #30739C; color: #fff; text-transform: capitalize; font-size: 12px; border-radius: 2px; padding: 10px 15px; text-decoration: none; border-style: none; display: inline-block; } img.deploy-powered { margin-top: 40px; } @media (max-width: 767px) { img.deploy-powered { margin: 10px 0 30px; } } img.deploy-compatible { margin-top: 30px; } @media (max-width: 767px) { img.deploy-compatible { margin: 10px 0 30px; } } img.icehouse-video { max-width: 100%; } .documentation { margin-top: 50px; text-align: center; background: #edf2f7; border-radius: 4px; padding: 30px 0; } .documentation a { padding: 7px 20px; background: #30739C; color: #edf2f7; margin: 0 8px; border-radius: 4px; } .documentation a:hover { text-decoration: none; background: #2A4E68; } @media (max-width: 767px) { .documentation a { padding: 5px 10px; margin: 0 5px; font-size: 12px; } } /*End Sofware Page*/ /*Marketplace Page*/ h2.marketplace-header { border-left: 3px solid #DA422F; line-height: 1.2em; margin: 30px 20px; padding-left: 15px; font-size: 1.5em; } .build-use-box { background: #edf2f7; border-radius: 4px; margin-bottom: 30px; min-height: 25em; padding: 20px; } .build-use-box h3 { margin-bottom: 20px; } .build-use-box ul { padding-left: 20px; } .marketplace-description { margin-top: 50px; } .video { width: 100%; } .video iframe { width: 100%; height: 225px; } .program-logos { border-top: 1px solid #eee; margin-top: 60px; padding-top: 60px; } .ecosystem-wrapper { padding-left: 30px; border-left: 1px solid #eee; } .marketplace-top-wrapper { padding: 20px 0 0; } .marketplace-brand { margin-top: 20px; padding-left: 30px; } h2.marketplace { margin-bottom: -7px; margin-top: 0; font-size: 18px; font-style: normal; letter-spacing: -0.076em; line-height: 1em; } h2.marketplace a, h2.marketplace a:hover { color: #5B83A0; text-decoration: none; } h1.marketplace { font-size: 24pt; margin-top: 5px; text-align: left; } h1.marketplace:hover { text-decoration: none; } h1.marketplace a, h1.marketplace a.visited { color: #264D69; font-style: normal; letter-spacing: -0.076em; line-height: 1em; } .grey-bar { background-color: #edf2f7; margin-bottom: 40px; margin-top: 0; padding-bottom: 10px; padding-top: 10px; } ul.marketplace-nav { padding: 0; margin: 0; } ul.marketplace-nav li { border-right: 1px solid #e8e8e8; display: inline-block; padding-left: 0.5em; padding-right: 0.5em; text-transform: uppercase; width: 130px; height: 96px; vertical-align: top; text-align: center; } ul.marketplace-nav li:last-child { border-right: none; } @media (min-width: 680px) and (max-width: 1000px) { ul.marketplace-nav li { width: 100px; height: 110px; } ul.marketplace-nav li a { font-size: 10px; } } @media (max-width: 680px) { ul.marketplace-nav li { display: block; float: left; border-right: none; text-align: left; border-bottom: 1px solid #e8e8e8; width: 100%; height: auto; padding: 5px 10px; vertical-align: middle; } } ul.marketplace-nav li a { color: #848575; text-decoration: none; font-size: 12px; vertical-align: middle; width: 115px; text-align: center; } @media (max-width: 680px) { ul.marketplace-nav li a { padding: 0; vertical-align: middle; float: left; width: 100%; text-align: left; } } ul.marketplace-nav a:hover { color: #DA422F; } ul.marketplace-nav a span { background: url(""https://openstack.org/marketplace/code/ui/frontend/images/marketplace-icons.png"") no-repeat scroll 0 0 rgba(0, 0, 0, 0); display: block; height: 50px; margin: auto; width: 40px; text-align: center; } @media (max-width: 680px) { ul.marketplace-nav a span { display: table-cell; vertical-align: middle; float: left; } } ul.marketplace-nav #training a span { background-position: 0 0; } ul.marketplace-nav #distros a span { background-position: -50px 0; } ul.marketplace-nav #public-clouds a span { background-position: -150px 0; } ul.marketplace-nav #private-clouds a span { background-position: -250px 0; } ul.marketplace-nav #consulting a span { background-position: -100px 0; } ul.marketplace-nav #drivers a span { background-position: -200px 0; } ul.marketplace-nav .current a { color: #DA422F; } /*End Marketplace Page*/ /*Marketplace Listing Page*/ .product-box { border: 1px solid #E8E8E8; margin-bottom: 30px; padding: 30px 20px; border-radius: 4px; min-height: 200px; border-left: 3px solid #DA422F; } .logo-area { padding-top: 20%; padding-left: 10px; } @media (max-width: 767px) { .logo-area { padding-top: 0; padding-left: 0; } } .company-details-area h4 { text-transform: uppercase; font-weight: 300; } .details-button { background: url(""https://openstack.org/marketplace/code/ui/frontend/images/register-arrow.png"") no-repeat scroll 85% center #000000; color: #FFFFFF !important; display: inline-block; margin-right: -10px; padding: 10px 2%; text-align: left; text-transform: uppercase; width: 100px; font-size: 12px; border-radius: 4px; } .filter-label { background: url(""/images/images/marketplace-search-icon.png"") no-repeat scroll left 7px rgba(0, 0, 0, 0); color: #30739C; float: left; margin-bottom: 0; margin-top: 5px; padding-left: 25px; padding-right: 20px; padding-top: 8px; text-transform: uppercase; font-size: 12px; } input#name-term { height: 40px; width: 250px; font-size: 12px; padding: 5px 10px; border: 1px solid #e8e8e8; color: #30739C; border-radius: 4px; } input#name-term::-webkit-input-placeholder { color: #30739C; font-size: 12px; } select#service-term { height: 40px; width: 200px; padding: 5px 10px; position: relative; border-radius: 4px; color: #30739C; background: #fff; border: 1px solid #e8e8e8; -moz-box-sizing: border-box; box-sizing: border-box; -webkit-appearance: none; -moz-appearance: none; appearance: none; display: inline-block; cursor: pointer; font-size: 12px; font-weight: 400; } label#service-label { position: relative; } label#service-label:after { content: '>'; color: #30739C; -webkit-transform: rotate(90deg); -ms-transform: rotate(90deg); transform: rotate(90deg); right: 14px; top: 6px; padding: 0 0 6px; border-bottom: 1px solid #e8e8e8; position: absolute; pointer-events: none; font-size: 14px; font-weight: 400; } label#service-label:before { content: ''; right: 6px; top: 0px; width: 20px; height: 20px; background: #f8f8f8; position: absolute; pointer-events: none; display: block; } @media (max-width: 767px) { .filter-label { width: 100%; margin-bottom: 10px; } input#name-term { display: block; width: 100%; margin-bottom: 10px; } select#service-term { min-width: 400px; } } ul.resource-links { padding: 0; margin: 0 0 30px; } ul.resource-links li { list-style: none; display: block; } ul.resource-links li a { background-image: url('../images/resource-link-icon.png'); background-repeat: no-repeat; background-position: 93% 50%; background-color: #edf2f7; padding: 15px 15px; margin: 0 0 5px; display: block; border-radius: 4px; } ul.resource-links li a:hover { text-decoration: none; background-color: #DAE1EB; } .add-your-course { border-radius: 4px; border: 1px solid #30739C; background: #fff; padding: 20px; font-size: 13px; } /*404 Page*/ .four-o-four-wrapper { text-align: center; margin: 50px auto; } .four-o-four-wrapper img { width: 100%; max-width: 650px; margin: 50px 0 70px; } .four-o-four-wrapper p { color: #8a959e; } .four-o-four-wrapper a { color: #30739C; text-decoration: none; } .four-o-four-links { margin-top: 50px; } .four-o-four-links a { color: #30739C; padding: 0 10px; text-decoration: none; } @media (max-width: 767px) { .four-o-four-links a { padding: 0 5px; } } /*End 404 Page*/ /*Blog Page*/ .blog-title { width: 100%; background: url(/images/images/summit-promo-bkgd1.jpg) no-repeat center center; background-size: cover; padding: 50px 0; text-align: center; } .blog-o { max-width: 80px; opacity: 0.9; } .blog-title h1 { color: white; font-weight: 400; font-size: 45px; margin: 10px 0; } .blog-title h1 span { font-size: 16px; display: block; padding-top: 10px; color: white; font-weight: 300; } .container.blog { margin-top: 30px; } .post { margin-bottom: 60px; } .post-byline { border-bottom: 1px dotted #c5e2ea; border-top: 1px dotted #c5e2ea; margin-bottom: 15px; padding: 12px 0; font-size: 12px; } .post-byline p { margin-bottom: 0; } .post-byline .name a { color: #DA422F; } .post-byline .postDate { text-align: right; color: #2A4E68; } .entry h1 { font-size: 24px; } .entry h2 { font-size: 20px; } .entry h3 { font-size: 18px; } .entry h3 a { text-decoration: underline; } #sidebar { background: #edf2f7; padding: 15px; border-radius: 4px; margin-top: 0; } #sidebar ul { margin: 0; } #sidebar ul li { font-size: 12px; } .creative-commons { text-align: center; margin-top: 40px; font-size: 12px; } .creative-commons img { margin-bottom: 10px; } .navigation a { background: #30739C; padding: 5px 10px; border-radius: 4px; color: white; } /*End Blog Page*/ /*Vancouver Summit Landing Page*/ .summit-landing-wrapper { position: relative; width: 100%; height: 100%; text-align: center; padding: 70px 0; background: url('../images/summit-vancouver-bkgd.jpg') no-repeat 0 0; background-size: cover; } img.summit-landing-logo { max-width: 200px; margin-bottom: 40px; } .save-the-date { color: white; margin-bottom: 0px; font-size: 16px; font-weight: 400; text-transform: capitalize; } .summit-landing-wrapper h1 { color: white; font-weight: 300; font-size: 20px; margin: 8px 0 10px; text-transform: uppercase; } .summit-landing-wrapper p { color: white; } .summit-landing-wrapper .summit-location { display: block; font-weight: 400; font-size: 60px; color: white; text-align: center; text-transform: uppercase; position: relative; display: inline-block; -webkit-margin-before: 0; -webkit-margin-after: 0; } .summit-landing-wrapper .summit-location::before { content: """"; border-top: 1px solid #edf2f7; width: 150px; height: 5px; position: absolute; margin-right: 15px; top: 50%; right: 100%; } .summit-landing-wrapper .summit-location::after { content: """"; border-top: 1px solid #edf2f7; width: 150px; height: 5px; position: absolute; margin-left: 15px; top: 50%; left: 100%; } @media (max-width: 767px) { .summit-landing-wrapper h1 { font-size: 15px; } .summit-landing-wrapper .summit-location { font-size: 40px; } .summit-landing-wrapper .summit-location::before { width: 75px; } .summit-landing-wrapper .summit-location::after { width: 75px; } } .summit-date { background: none; font-size: 25px; margin-top: 30px; color: white; } .summit-date span { display: block; margin-top: 20px; font-size: 12px; font-weight: 300; text-transform: uppercase; } .landing-social { margin-top: 40px; } .landing-social .social-icons { width: 25px; min-height: 25px; display: inline-block; margin: 0 10px; } .landing-twitter { background: url('../images/landing-twitter.png') no-repeat; opacity: 0.8; } .landing-twitter:hover { opacity: 1; } .landing-facebook { background: url('../images/landing-facebook.png') no-repeat; opacity: 0.8; } .landing-facebook:hover { opacity: 1; } .landing-linkedin { background: url('../images/landing-linkedin.png') no-repeat; opacity: 0.8; } .landing-linkedin:hover { opacity: 1; } .summit-landing-bottom { position: absolute; bottom: 0; left: 50%; } .summit-landing-bottom p { color: white; } .landing-footer { position: relative; left: -50%; } .landing-footer a { width: 150px; padding: 5px 0 0; display: inline-block; background: #DA422F; text-align: center; color: white; border-top-left-radius: 2px; border-top-right-radius: 2px; } .landing-footer a:hover { background: #BD2723; } .landing-footer a img { position: relative; margin: 0; padding: 0; max-width: 100px; } .summit-landing-wrapper a i { color: #edf2f7; } .summit-landing-wrapper a i:hover { color: white; } /*End Vancouver Summit Landing Page*/ /* site banner */ .top-site-banner { background-color: #F0F9FE; color: #4D96C7; padding-top: 10px; } .top-site-banner-button { border-radius: 5px; border: 1px solid #C6E5FC; font-size: 90%; padding: 0px 10px; background-color: white; display: inline-block; color: #4D96C7; text-transform: uppercase; } .top-site-banner-button:hover { text-decoration: none; background-color: #F0F9FE; } /* end of site banner */ /*News page*/ .grey-bar.news { margin-bottom: 0; padding: 20px; text-align: right; } .grey-bar.news a { font-size: 12px; text-transform: uppercase; color: #30739C; } .grey-bar.news a:hover { color: #2A4E68; text-decoration: none; } .grey-bar.news a i { margin-right: 5px; } .grey-bar.news a.manage-news-link { color: #889E2F; margin-right: 20px; } .grey-bar.news a.manage-news-link:hover { color: #5A6E1D; } .carousel { height: 350px; } .carousel-inner { height: 350px; } .carousel-inner img { min-height: 350px; height: 100%; min-width: 100%; max-width: none; width: auto; opacity: 0.6; } .carousel-inner > .item > img, .carousel-inner > .item > a > img { min-width: 100%; max-width: none; width: 100%; } @media (max-width: 767px) { .carousel-inner > .item > img, .carousel-inner > .item > a > img { width: auto; } } .carousel-inner .item { height: 350px; background: #2A4E68; } .carousel-control { text-shadow: none; } .carousel-control i { position: absolute; top: 50%; z-index: 5; display: inline-block; } .carousel-control.right i { right: 50%; margin-top: -15px; margin-right: -15px; } .carousel-control.left i { left: 50%; margin-top: -15px; margin-left: -15px; } .carousel-caption { text-shadow: none; bottom: 60px; } .carousel-caption h3 { color: white; } .carousel-caption a.more-btn { display: block; color: white; background: #DA422F; border-radius: 4px; padding: 5px 10px; margin: 0 auto 20px; max-width: 150px; text-transform: uppercase; font-size: 12px; } .carousel-caption a.more-btn:hover { text-decoration: none; background: #B92623; } .newsFeatured { margin: 40px 0 60px; float: left; text-align: left; padding-bottom: 10px; border-bottom: 1px solid #edf2f7; } .featuredImage { position: relative; width: 100%; height: 180px; overflow: hidden; margin-bottom: 10px; background: #30739C; } .featuredImage img { width: 100%; /* width: auto;*/ } .featuredHeadline { position: absolute; bottom: 0; right: 0; left: 0; background: rgba(0, 0, 0, 0.6); padding: 15px 10px; font-weight: 400; color: white; } .featuredHeadline .more { display: none; text-align: center; margin: 30px auto 20px; text-transform: uppercase; font-weight: 600; background: white; border-radius: 2px; padding: 10px; width: 150px; color: #333; } .featuredHeadline .more i { margin-left: 8px; } .featuredHeadline .more:hover { background: #eee; } .featuredImage:hover .featuredHeadline, .open .featuredHeadline { top: 0; } .featuredImage:hover .more, .open .more { display: block; } .featuredImage:hover .featuredDate { display: none; } .featuredDate { font-size: 12px; position: absolute; top: 5px; left: 10px; color: white; } .featuredSummary { font-size: 12px; color: #555; } ul.featured { padding: 0; margin: 0; } ul.featured li { list-style: none; margin-bottom: 30px; border-radius: 4px; } @media (max-width: 767px) { ul.featured li { margin-bottom: 20px; } } .recentBox { margin-bottom: 30px; } .itemTimeStamp { font-size: 12px; color: #999; margin-left: 10px; padding-left: 10px; border-left: 1px solid #aaa; } .news-sidebar { background: #edf2f7; padding: 15px; border-radius: 4px; margin-top: 0; } .see-all-events { float: right; } .see-all-events a { font-size: 12px; } .eventBlock { padding-left: 15px; font-size: 12px; } .eventBlock h3 { margin-bottom: 15px; } .eventBlock .event { margin-bottom: 20px; } .eventBlock .event.top { margin-top: 20px; } /*End News page*/ /*Single News Page*/ .newsHome { margin: 20px 0 30px; } .newsHome a { text-transform: uppercase; font-size: 12px; } .newsHome i { margin-right: 10px; } .news-single h1 { margin-bottom: 60px; } .news-summary { background: #edf2f7; color: #30739C; padding: 30px; text-align: center; width: 80%; margin: -10px 10% 60px; border-radius: 4px; } .news-byline { border-bottom: 1px dotted #c5e2ea; border-top: 1px dotted #c5e2ea; margin: 40px 0 15px; padding: 18px 0 10px; font-size: 12px; } .news-byline a.link { color: #DA422F; } .news-byline p.postDate { color: #2A4E68; text-align: right; } /*End Single News Page*/ /*Videos Home Page*/ .main-video-wrapper { width: 100%; background: #222; height: auto; margin: 0 0 30px; text-align: center; -moz-box-sizing: border-box; box-sizing: border-box; } a.main-video { position: relative; display: block; max-width: 617px; margin: 0 auto; border-left: 1px solid #eee; border-right: 1px solid #eee; } a.main-video .video-description-wrapper { position: absolute; display: block; background: rgba(0, 0, 0, 0.7); bottom: 0; left: 0; right: 0; top: 230px; text-align: left; z-index: 1000; padding: 20px; } @media (max-width: 767px) { a.main-video .video-description-wrapper { top: 60%; } } @media (max-width: 480px) { a.main-video .video-description-wrapper { top: 50%; } } a.main-video .video-description-wrapper .video-description { width: 80%; float: left; } a.main-video .video-description-wrapper .video-description h3 { color: white; font-size: 22px; font-weight: 600; width: 100%; height: 25px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; } a.main-video .video-description-wrapper .video-description p { color: white; font-size: 13px; line-height: 1.2; font-weight: 400; padding: 0; display: block; width: 100%; height: 15px; margin: 0 auto; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; } a.main-video:hover .video-description-wrapper { top: 0; } a.main-video:hover .video-description-wrapper .video-description h3 { height: 10%; white-space: normal; } a.main-video:hover .video-description-wrapper .video-description p { height: 90%; white-space: normal; } @media (max-width: 480px) { a.main-video:hover .video-description-wrapper { top: 50%; } a.main-video:hover .video-description-wrapper .video-description h3 { height: 25px; white-space: nowrap; } a.main-video:hover .video-description-wrapper .video-description p { height: 15px; white-space: nowrap; } } .main-video img { margin: 0 auto; width: 100%; max-width: 615px; max-height: 100%; display: block; position: relative; z-index: 1; } .play-btn { float: right; color: white; font-size: 40px; width: 20%; margin-top: 5px; text-align: center; } .play-btn img#play { max-width: 70px; max-height: 70px; } .featured-row { width: 100%; background: #2A4E68; padding: 0; position: relative; display: block; margin-bottom: 50px; } .featured-row h2 { color: white; font-weight: 400; font-size: 24px; } .featured-row h2 span { font-weight: 400; font-size: 12px; color: #edf2f7; margin-left: 20px; } .featured-row:after { top: 100%; left: 10%; border: solid transparent; content: "" ""; height: 0; width: 0; position: absolute; pointer-events: none; border-color: rgba(42, 78, 104, 0); border-top-color: #2A4E68; border-width: 15px; margin-left: -15px; } .daily-recap-wrapper .video-thumb-title { text-align: center; } .video-thumb { /*background: $lightblue;*/ text-align: center; width: 100%; height: 0; position: relative; display: table; overflow: hidden; margin-bottom: 20px; -moz-box-sizing: border-box; box-sizing: border-box; } .thumb-play { display: none; background-image: url(""//www.openstack.org/themes/openstack/images/landing-pages/auto/play-button.png""); background-repeat: no-repeat; background-position: center center; background-color: rgba(0, 0, 0, 0.3); position: absolute; top: 0; left: 0; right: 0; bottom: 0; } .video-thumb:hover .thumb-play { display: block; } @media (max-width: 767px) { .video-thumb .thumb-play { display: block; background-color: transparent; } } .video-thumb img.video-thumb-img { max-width: 100%; width: 100%; } .video-thumb p { color: #C6CDD6; font-size: 14px; font-weight: 700; display: table-cell; vertical-align: middle; } .sort-row { background: #edf2f7; width: 100%; min-height: 50px; padding: 25px 0; position: relative; display: block; margin: 50px 0; color: #2A4E68; } .sort-left { float: left; } .sort-left i { color: #b4c5d6; line-height: 1; margin-right: 10px; } .sort-left i:hover { color: #2A4E68; cursor: pointer; } .sort-left i.active { color: #2A4E68; } .sort-right { float: right; font-size: 12px; text-transform: uppercase; font-weight: 600; } .sort-right i { margin-left: 10px; font-weight: 700; font-size: 14px; } .video-thumb-title { margin: -10px 0 0; color: #2A4E68; font-size: 12px; font-weight: 400; width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; } .video-thumb-speaker { color: #2A4E68; font-size: 12px; font-weight: 600; margin-bottom: 40px; width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; } @media (max-width: 767px) { .daily-recap-wrapper .video-thumb-title { margin-bottom: 40px; } .video-thumb-title, .video-thumb-speaker { text-align: center; } } .video-thumb-description { display: none; } .video-dropdown > .dropdown-menu { margin: 20px -20px 0; padding: 10px 0; min-width: 230px; border-top-left-radius: 4px; border-top-right-radius: 4px; left: -99%; right: 100%; background-color: #edf2f7; background-clip: padding-box; border: 1px solid rgba(0, 0, 0, 0); box-shadow: none; } /*.video-dropdown>.dropdown-menu:after, .video-dropdown>.dropdown-menu:before { bottom: 100%; right: 25%; border: solid transparent; content: "" ""; height: 0; width: 0; position: absolute; pointer-events: none; } .video-dropdown>.dropdown-menu:after { border-color: rgba(255, 255, 255, 0); border-bottom-color: #fff; border-width: 15px; margin-left: -15px; } .video-dropdown>.dropdown-menu:before { border-color: rgba(170, 170, 170, 0); border-bottom-color: #aaaaaa; border-width: 15px; margin-left: -16px; }*/ .video-dropdown > .dropdown-menu li a { text-transform: uppercase; padding: 13px 20px; font-size: 12px; color: #2A4E68; } .video-dropdown > .dropdown-menu li a:hover { color: white; background: #2A4E68; } .video-dropdown > .dropdown-menu li a:focus { outline: none; } /*End Videos Home Page*/ /* Change Video Gallery View */ @media (min-width: 768px) { .video-list .col-lg-3, .video-list .col-md-3, .video-list .col-sm-3 { width: 100%; } .video-list .video-thumb { max-width: 270px; width: 24%; float: left; margin-right: 1%; } .video-list .video-details { margin: 10px 0 0 1%; float: left; width: 74%; } } .video-list .video-thumb-speaker { margin-bottom: 20px; } .video-list .video-details, .video-list .video-thumb-title, .video-list .video-thumb-speaker { text-align: left; } .video-list .video-thumb-title { font-size: 14px; font-weight: 600; } .video-list .video-thumb-description { color: #2A4E68; font-size: 12px; display: block; overflow: hidden; } @media (min-width: 1180px) { .video-list .video-thumb-description { max-height: 130px; } } @media (min-width: 991px) and (max-width: 1179px) { .video-list .video-thumb-description { max-height: 100px; } } @media (min-width: 768px) and (max-width: 990px) { .video-list .video-thumb-description { max-height: 70px; } } /* End Change Video Gallery View */ /*Video Inner Page*/ .single-video-details { margin: 60px auto; } .single-video-details h3 { text-align: left; } .single-video-details strong { color: #2A4E68; } .video-share { text-align: right; float: right; } .video-share a i { font-size: 22px; margin-left: 20px; vertical-align: middle; color: #759bb7; } .video-share a i:hover { color: #2A4E68; } @media (max-width: 767px) { .video-share { float: none; text-align: center; margin: -20px 0 20px; padding-top: 20px; padding-bottom: 20px; border-top: 1px solid #eee; border-bottom: 1px solid #eee; } .video-share a i { margin: 0 10px; } } .video-share a i.fa-twitter { font-size: 24px; margin-bottom: -1px; } p.single-video-description { margin: 10px 0 40px; } .video-categories a { margin-left: 10px; text-decoration: underline; } .video-tags { margin-top: 15px; } .video-tags a { background: #edf2f7; font-size: 10px; font-weight: 600; border-radius: 3px; margin-left: 10px; padding: 5px 10px; } .video-speakers { margin-top: 15px; display: block; } .video-speakers p a { margin-left: 0; text-decoration: underline; } .video-speakers .twitter-follow-button { margin-left: 10px; } .video-media-title { margin: 0 0 10px; display: block; } @media (max-width: 767px) { .video-media-wrapper { margin-top: 30px; } } .media-btn-wrapper { float: left; margin-top: 10px; } a.media-btn { background: #2A4E68; color: white; padding: 10px 20px; border-radius: 4px; border: 0; } a.media-btn:hover { text-decoration: none; background: #16283A; } a.media-btn i { margin-right: 10px; } a.media-btn.right { border-top-left-radius: 0px; border-bottom-left-radius: 0px; margin-left: -2px; border-left: 1px solid #3E71A4; } a.media-btn.left { border-top-right-radius: 0px; border-bottom-right-radius: 0px; margin-right: -2px; border-right: 1px solid #122231; } /*End Video Inner Page*/ /*Docs Main*/ .top-docs-wrapper { width: 100%; background: #edf2f7; padding: 60px 0; } .top-docs-wrapper h1 { text-align: left; } .top-docs-wrapper p { color: #2A4E68; } .top-docs-wrapper hr { border-color: #b1c9da; margin: 40px 0; } a.overview-btn.docs-btn { border-radius: 2px; text-transform: capitalize; margin-right: 2%; width: 31.33333%; text-align: center; line-height: 50px; height: 50px; padding: 0 10px; } a.overview-btn.docs-btn i { font-size: 25px; display: inline-block; color: white; margin-left: 5px; height: 50px; line-height: 50px; vertical-align: middle; } .docs-main-search-form { width: 98%; margin-top: -20px; float: left; position: relative; } i.docs-search-icon { position: absolute; top: 17px; left: 15px; color: #C0CDDB; } .docs-main-search { border: 2px solid #D5DDE7 !important; border-radius: 2px; height: 37px !important; margin: 7px 0 0 0; padding-left: 35px; background: #fff !important; width: 100%; -webkit-transition: width 4s; transition: width 4s; -webkit-border-horizontal-spacing: 0 !important; -webkit-border-vertical-spacing: 0 !important; } .docs-main-search:focus { outline: none; } input.docs-main-search::-webkit-input-placeholder { color: #C0CDDB; font-size: 12px; font-weight: 400; } input.docs-main-search:-moz-placeholder { /* Firefox 18- */ color: #C0CDDB; font-size: 12px; font-weight: 400; } input.docs-main-search::-moz-placeholder { /* Firefox 19+ */ color: #C0CDDB; font-size: 12px; font-weight: 400; } input.docs-main-search:-ms-input-placeholder { color: #C0CDDB; font-size: 12px; text-transform: lowercase; font-weight: 400; } .superuser-wrapper { text-align: center; } @media (max-width: 767px) { .superuser-wrapper { display: none; } } .superuser-wrapper p { margin-top: 10px; font-size: 14px; font-weight: 300; } .superuser-wrapper p strong { display: block; font-size: 12px; font-weight: 600; } .mid-docs-wrapper { background: white; padding: 30px 0 25px; border-top: 1px solid #edf2f7; border-bottom: 1px solid #edf2f7; } .mid-docs-wrapper h2 { color: #2A4E68; margin: 0 0 5px; } .mid-docs-wrapper p { color: #30739C; font-weight: 300; } .docs-dropdown > a { background: #2A4E68; padding: 20px 5px; text-align: center; font-size: 13px; color: white; } .docs-dropdown a { width: 100%; display: block; border-radius: 4px; } @media (max-width: 767px) { .docs-dropdown { margin: 30px 0 10px; } } .docs-dropdown > a:hover, .docs-dropdown > a:focus { text-decoration: none; color: white; background: #30739C; } .docs-dropdown i { margin-left: 10px; font-size: 18px; } .docs-dropdown .dropdown-menu { width: 100%; margin-top: 10px; } .docs-dropdown > .dropdown-menu:after, .docs-dropdown > .dropdown-menu:before, .docs-sidebar-dropdown:before, .docs-sidebar-dropdown:after { bottom: 100%; left: 50%; border: solid transparent; content: "" ""; height: 0; width: 0; position: absolute; pointer-events: none; } .docs-dropdown > .dropdown-menu:after, .docs-sidebar-dropdown:after { border-color: rgba(255, 255, 255, 0); border-bottom-color: #ffffff; border-width: 15px; margin-left: -15px; } .docs-dropdown > .dropdown-menu:before, .docs-sidebar-dropdown:before { border-color: rgba(170, 170, 170, 0); border-bottom-color: #aaaaaa; border-width: 16px; margin-left: -16px; } .docs-dropdown > .dropdown-menu > li.dropdown-header, .docs-sidebar-dropdown > li.dropdown-header { text-align: left; padding: 10px 20px; margin: 10px 0; border-bottom: 1px solid #edf2f7; text-transform: uppercase; color: #333; font-weight: 400; } .docs-dropdown > .dropdown-menu > li.dropdown-header:first-child { margin-top: 0; } .docs-dropdown > .dropdown-menu > li > a, .docs-sidebar-dropdown > li > a { padding: 10px 25px; text-align: left; font-size: 13px; color: #2A4E68; } .docs-toc { background: white; padding-top: 80px; padding-bottom: 20px; } .docs-toc h3 i { font-size: 25px; margin-right: 10px; } .docs-toc a { font-size: 1.1em; line-height: 1.3; font-weight: 400; color: #4c97c3; display: inline-block; padding: 10px; } .docs-toc a:hover { background: #edf2f7; text-decoration: none; } .docs-link-sections { margin: 0 0 10px; } .docs-contribute-wrapper { padding-bottom: 10px; text-align: center; } a.overview-btn.contribute-btn { background: #DA422F; color: white; padding: 10px 0; display: block; float: none; text-transform: capitalize; width: 250px; margin: 20px auto; } a.overview-btn.contribute-btn:hover { background: #B52522; } a.overview-btn.contribute-btn i { margin-left: 10px; } /*------------------------------------*\ Docs Version Dropdown \*------------------------------------*//*End Docs Main*/.docs-book-wrapper, .docs-search-wrapper {.docs-sidebar-search { display: block; } .btn-group .btn + .btn, .btn-group .btn + .btn-group, .btn-group .btn-group + .btn, .btn-group .btn-group + .btn-group {.docs-sidebar-section ol.active li, .docs-sidebar-section ol.active li.active > ul, .docs-sidebar-section ol.active li.active, .docs-sidebar-section ol.active li.active ul, .docs-sidebar-section ol.active li.active ul li {.docs-header { position: relative; } .docs-browse { float: right; font-size: 14px; color: #6f91a6; text-transform: uppercase; } .docs-versioned { float: right; padding: 5px; } a.docs-edit { float: right; color: #9eb5c3; } a.docs-edit:hover { color: #2A4E68; text-decoration: none; } a.docs-edit i { margin-right: 5px; } pre .cl { display: block; clear: both; } .popover { color: #2A4E68; } .docs-tags { width: 100%; margin-bottom: 30px; } a.docs-tag { background: #edf2f7; padding: 3px 6px; border-radius: 4px; display: inline-block; margin: 0 5px 0 0; font-size: 12px; color: #30739C; } /*Docs Search View*/ .docs-search-wrapper h2 { text-align: center; } .docs-search-count { text-align: right; font-size: 11px; font-weight: 600; color: #2A4E68; border-bottom: 1px solid #edf2f7; margin: 20px 0; padding-bottom: 15px; } .docs-result { margin: 20px 0; padding: 20px 0; border-bottom: 1px solid #edf2f7; } .docs-result h3 a { font-size: 16px; font-weight: 600; text-decoration: underline; color: #30739C; } .docs-result h3 a:hover { color: #2A4E68; } .docs-result p { font-size: 14px; } .docs-result p span { font-style: italic; } .docs-result p span:after { content: ""...""; margin-left: 5px; margin-right: 5px; } .docs-result .docs-search-link { font-size: 12px; color: #666; text-decoration: none; } .docs-result .docs-search-link:hover { color: #333; } .docs-pagination { text-align: center; } /*End Docs Search View*/.newSubNav { width: 85%; } .newSubNav ul { padding: 0px; margin-top: 30px; margin-left: -10px; } .newSubNav ul:nth-child(2) { border-top: 1px solid #E8E8E8; padding-top: 30px; } .newSubNav li { list-style: none; } .newSubNav a { color: #8A959E; text-transform: uppercase; font-size: 12px; padding: 15px 20px; display: block; } .newSubNav a.current, .newSubNav a.current:hover { background-color: #EDF2F7; font-weight: bold; color: #2D709B; } .newSubNav a:hover { text-decoration: none; color: black; } .newSubNav .fa-chevron-right { float: right; margin-top: 2px; color: #C6D8E4; } li#start a { color: #75C320; } li#openstack-shared-services { padding-bottom: 20px; border-bottom: 1px solid #E8E8E8; } li#start { margin-top: 20px; } /*img.align-left {*/ /* display: table;*/ /* margin-left: 0;*/ /* margin-right: auto;*/ /*}*/ /**/ /*img.align-center {*/ /* display: table;*/ /* margin: auto;*/ /*}*/ /**/ /*img.align-right {*/ /* display: table;*/ /* margin-left: auto;*/ /* margin-right: 0;*/ /*}*/",38,3407
openstack%2Fpuppet-tripleo~stable%2Fqueens~I1325171ef60d7a7e3b57373082fcdb5487be939b,openstack/puppet-tripleo,stable/queens,I1325171ef60d7a7e3b57373082fcdb5487be939b,Fix horizon firewall rules in composable roles,MERGED,2019-05-30 06:31:06.000000000,2019-05-30 14:30:25.000000000,2019-05-30 14:30:25.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-30 06:31:06.000000000', 'files': ['manifests/haproxy.pp', 'manifests/haproxy/horizon_endpoint.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ec4b1b6fc4c950958ca976f8c0cadb07cd83439c', 'message': ""Fix horizon firewall rules in composable roles\n\nAtm horizon haproxy firewall rules obfuscate any other rule defined via\nthe tripleo.haproxy.firewall_rules key.\n\nThings broke with https://review.opendev.org/#/c/625600/.  The reason\nthat was pushed is that in composable roles, when splitting off horizon\naway from where haproxy runs, we would not have the proper iptables rules\non the haproxy role. This was due to the fact that we had\nthe following code:\n      service_config_settings:\n        haproxy:\n          tripleo.horizon.firewall_rules:\n            '127 horizon':\n              dport:\n                - 80\n                - 443\n\nThe above code never worked as explained in\n3f8ce6fd96bc4f28a052b4c87a19b4b152734091 and so we fixed it by setting\nthe proper tripleo.haproxy.firewall_rules key. The issue is that rules\nfor haproxy should just never have been set at all via\nservice_config_settings keys in the first place. As demonstrated with\nthis bug, the merging of hiera dictionaries will mess us up and we'll\nend up overwriting other keys. Haproxy stats access has this:\noutputs:\n  role_data:\n    description: Role data for the HAproxy role.\n    value:\n      service_name: haproxy\n      monitoring_subscription: {get_param: MonitoringSubscriptionHaproxy}\n      config_settings:\n        map_merge:\n          - tripleo.haproxy.firewall_rules:\n              '107 haproxy stats':\n                dport: 1993\n\nAnd since hiera will return the horizon settings for\ntripleo.haproxy.firewall_rules which won't be deep merged with the\nfirewall rules from haproxy stats and so rule '107 haproxy stats' will\nnever be present.\n\nRules for haproxy need to happen in puppet-tripleo/manifests/haproxy*.\nNormally they do, the exception is horizon which uses a specialized\nhorizon_endpoint.pp manifest which does not trigger these rules.\n\nLet's create the firewall rules in haproxy/horizon_endpoint.pp like we\ndo for all other endpoints.\n\nTested and correctly got:\n[root@controller-0 ~]# iptables -nvL |grep hor\n    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 80 state NEW /* 100 horizon_haproxy ipv4 */\n    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 443 state NEW /* 100 horizon_haproxy_ssl ipv4 */\n    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 80,443 state NEW /* 126 horizon ipv4 */\n\nChange-Id: I1325171ef60d7a7e3b57373082fcdb5487be939b\nRelated-Bug: #1829338\n(cherry picked from commit 6c2e164adaa0bf0bbc38a3d69e16db105a5519aa)\n(cherry picked from commit f58d8af343c24a709fdfb735534e2dc6b4209338)\n(cherry picked from commit b34f02c7fe3acf3fcd33b0284a765268f403a142)\n""}]",0,662137,ec4b1b6fc4c950958ca976f8c0cadb07cd83439c,7,3,1,20172,,,0,"Fix horizon firewall rules in composable roles

Atm horizon haproxy firewall rules obfuscate any other rule defined via
the tripleo.haproxy.firewall_rules key.

Things broke with https://review.opendev.org/#/c/625600/.  The reason
that was pushed is that in composable roles, when splitting off horizon
away from where haproxy runs, we would not have the proper iptables rules
on the haproxy role. This was due to the fact that we had
the following code:
      service_config_settings:
        haproxy:
          tripleo.horizon.firewall_rules:
            '127 horizon':
              dport:
                - 80
                - 443

The above code never worked as explained in
3f8ce6fd96bc4f28a052b4c87a19b4b152734091 and so we fixed it by setting
the proper tripleo.haproxy.firewall_rules key. The issue is that rules
for haproxy should just never have been set at all via
service_config_settings keys in the first place. As demonstrated with
this bug, the merging of hiera dictionaries will mess us up and we'll
end up overwriting other keys. Haproxy stats access has this:
outputs:
  role_data:
    description: Role data for the HAproxy role.
    value:
      service_name: haproxy
      monitoring_subscription: {get_param: MonitoringSubscriptionHaproxy}
      config_settings:
        map_merge:
          - tripleo.haproxy.firewall_rules:
              '107 haproxy stats':
                dport: 1993

And since hiera will return the horizon settings for
tripleo.haproxy.firewall_rules which won't be deep merged with the
firewall rules from haproxy stats and so rule '107 haproxy stats' will
never be present.

Rules for haproxy need to happen in puppet-tripleo/manifests/haproxy*.
Normally they do, the exception is horizon which uses a specialized
horizon_endpoint.pp manifest which does not trigger these rules.

Let's create the firewall rules in haproxy/horizon_endpoint.pp like we
do for all other endpoints.

Tested and correctly got:
[root@controller-0 ~]# iptables -nvL |grep hor
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 80 state NEW /* 100 horizon_haproxy ipv4 */
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 443 state NEW /* 100 horizon_haproxy_ssl ipv4 */
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 80,443 state NEW /* 126 horizon ipv4 */

Change-Id: I1325171ef60d7a7e3b57373082fcdb5487be939b
Related-Bug: #1829338
(cherry picked from commit 6c2e164adaa0bf0bbc38a3d69e16db105a5519aa)
(cherry picked from commit f58d8af343c24a709fdfb735534e2dc6b4209338)
(cherry picked from commit b34f02c7fe3acf3fcd33b0284a765268f403a142)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/662137/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/haproxy/horizon_endpoint.pp']",2,ec4b1b6fc4c950958ca976f8c0cadb07cd83439c,bug/1829338-stable/queens,"# [*manage_firewall*] # (optional) Enable or disable firewall settings for ports exposed by HAProxy # (false means disabled, and true means enabled) # Defaults to hiera('tripleo::firewall::manage_firewall', true) # $manage_firewall = hiera('tripleo::firewall::manage_firewall', true), if $manage_firewall { include ::tripleo::firewall $haproxy_horizon_firewall_rules = { '100 horizon_haproxy' => { 'dport' => 80, }, } if $public_certificate { $haproxy_horizon_ssl_firewall_rules = { '100 horizon_haproxy_ssl' => { 'dport' => 443, }, } } else { $haproxy_horizon_ssl_firewall_rules = {} } $horizon_firewall_rules = merge($haproxy_horizon_firewall_rules, $haproxy_horizon_ssl_firewall_rules) if !empty($horizon_firewall_rules) { create_resources('tripleo::firewall::rule', $horizon_firewall_rules) } }",,28,0
openstack%2Fopenstack-ansible~master~I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2,openstack/openstack-ansible,master,I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2,Add OpenStack Zun support to OSA,ABANDONED,2018-05-31 07:48:04.000000000,2019-05-30 14:14:32.000000000,,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-05-31 07:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/61cfbd53360e496e7aa4589f1fbbc7af988f501a', 'message': '[WIP] Add OpenStack Zun support to OSA\n\nZun provides for application container compute resources. This change\npulls in a new role and creates a new playbook to implement Zun in an\nOSA cloud. The new service follows much of the same pattern as before\nrunning nova compute and has many of the same building blocks. If a\ndeployer wanted to mix both Zun and Nova on the same host they could\nwithout fear of conflict.\n\nThe Zun role will install everything needed for Zun to operate. This\nincludes ""kuryr"" and ""docker"".\n\nDocumentation has been added covering basic operational tasks and image\nmanagement with Zun.\n\nTests have been added ensuring that Zun is compatible with the rest of\nthe stack when testing most ""full"" scenarios.\n\nChange-Id: I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-06-01 22:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6a65921061f384a6fc88dfaa96b3d1e5c9b90ad7', 'message': '[WIP] Add OpenStack Zun support to OSA\n\nZun provides for application container compute resources. This change\npulls in a new role and creates a new playbook to implement Zun in an\nOSA cloud. The new service follows much of the same pattern as before\nrunning nova compute and has many of the same building blocks. If a\ndeployer wanted to mix both Zun and Nova on the same host they could\nwithout fear of conflict.\n\nThe Zun role will install everything needed for Zun to operate. This\nincludes ""kuryr"" and ""docker"".\n\nDocumentation has been added covering basic operational tasks and image\nmanagement with Zun.\n\nTests have been added ensuring that Zun is compatible with the rest of\nthe stack when testing most ""full"" scenarios.\n\nChange-Id: I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-06-08 14:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4f4b27029beba16f53622a2a5447910d4f10bab0', 'message': '[WIP] Add OpenStack Zun support to OSA\n\nZun provides for application container compute resources. This change\npulls in a new role and creates a new playbook to implement Zun in an\nOSA cloud. The new service follows much of the same pattern as before\nrunning nova compute and has many of the same building blocks. If a\ndeployer wanted to mix both Zun and Nova on the same host they could\nwithout fear of conflict.\n\nThe Zun role will install everything needed for Zun to operate. This\nincludes ""kuryr"" and ""docker"".\n\nDocumentation has been added covering basic operational tasks and image\nmanagement with Zun.\n\nTests have been added ensuring that Zun is compatible with the rest of\nthe stack when testing most ""full"" scenarios.\n\nChange-Id: I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-06-08 14:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4e014e786d8d13e99d89df7a21b677c14bc5c308', 'message': 'Add OpenStack Zun support to OSA\n\nZun provides for application container compute resources. This change\npulls in a new role and creates a new playbook to implement Zun in an\nOSA cloud. The new service follows much of the same pattern as before\nrunning nova compute and has many of the same building blocks. If a\ndeployer wanted to mix both Zun and Nova on the same host they could\nwithout fear of conflict.\n\nThe Zun role will install everything needed for Zun to operate. This\nincludes ""kuryr"" and ""docker"".\n\nDocumentation has been added covering basic operational tasks and image\nmanagement with Zun.\n\nTests have been added ensuring that Zun is compatible with the rest of\nthe stack when testing most ""full"" scenarios.\n\nChange-Id: I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-06-08 14:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/70c00ce51e5daad767fd58e9ca0f114a318275c0', 'message': 'Add OpenStack Zun support to OSA\n\nZun provides for application container compute resources. This change\npulls in a new role and creates a new playbook to implement Zun in an\nOSA cloud. The new service follows much of the same pattern as before\nrunning nova compute and has many of the same building blocks. If a\ndeployer wanted to mix both Zun and Nova on the same host they could\nwithout fear of conflict.\n\nThe Zun role will install everything needed for Zun to operate. This\nincludes ""kuryr"" and ""docker"".\n\nDocumentation has been added covering basic operational tasks and image\nmanagement with Zun.\n\nTests have been added ensuring that Zun is compatible with the rest of\nthe stack when testing most ""full"" scenarios.\n\nChange-Id: I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-06-11 06:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9c03b77680c00193cacdadb0733f61b1c37a9934', 'message': 'Add OpenStack Zun support to OSA\n\nZun provides for application container compute resources. This change\npulls in a new role and creates a new playbook to implement Zun in an\nOSA cloud. The new service follows much of the same pattern as before\nrunning nova compute and has many of the same building blocks. If a\ndeployer wanted to mix both Zun and Nova on the same host they could\nwithout fear of conflict.\n\nThe Zun role will install everything needed for Zun to operate. This\nincludes ""kuryr"" and ""docker"".\n\nDocumentation has been added covering basic operational tasks and image\nmanagement with Zun.\n\nTests have been added ensuring that Zun is compatible with the rest of\nthe stack when testing most ""full"" scenarios.\n\nDepends-On: https://review.openstack.org/#/c/574139/\nChange-Id: I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2019-02-23 17:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0409d44596e644e3dc022b4a00c9606d1df6aaeb', 'message': 'Add OpenStack Zun support to OSA\n\nZun provides for application container compute resources. This change\npulls in a new role and creates a new playbook to implement Zun in an\nOSA cloud. The new service follows much of the same pattern as before\nrunning nova compute and has many of the same building blocks. If a\ndeployer wanted to mix both Zun and Nova on the same host they could\nwithout fear of conflict.\n\nThe Zun role will install everything needed for Zun to operate. This\nincludes ""kuryr"" and ""docker"".\n\nDocumentation has been added covering basic operational tasks and image\nmanagement with Zun.\n\nTests have been added ensuring that Zun is compatible with the rest of\nthe stack when testing most ""full"" scenarios.\n\nDepends-On: https://review.openstack.org/#/c/574139/\nChange-Id: I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2019-02-25 22:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/be87b98503385d88012b4fe5fefce20578ac983a', 'message': 'Add OpenStack Zun support to OSA\n\nZun provides for application container compute resources. This change\npulls in a new role and creates a new playbook to implement Zun in an\nOSA cloud. The new service follows much of the same pattern as before\nrunning nova compute and has many of the same building blocks. If a\ndeployer wanted to mix both Zun and Nova on the same host they could\nwithout fear of conflict.\n\nThe Zun role will install everything needed for Zun to operate. This\nincludes ""kuryr"" and ""docker"".\n\nDocumentation has been added covering basic operational tasks and image\nmanagement with Zun.\n\nTests have been added ensuring that Zun is compatible with the rest of\nthe stack when testing most ""full"" scenarios.\n\nDepends-On: https://review.openstack.org/#/c/574139/\nChange-Id: I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2019-03-18 22:25:56.000000000', 'files': ['deploy-guide/source/configure.rst', 'inventory/env.d/zun.yml', 'etc/openstack_deploy/conf.d/zun.yml.aio', 'playbooks/os-zun-install.yml', 'etc/openstack_deploy/user_secrets.yml', 'doc/source/admin/scale-environment.rst', 'doc/source/admin/openstack-operations/managing-images.rst', 'inventory/group_vars/zun_all.yml', 'zuul.d/jobs.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/98084e49fe09308cf384a7a3ffc90d4f3504e660', 'message': 'Add OpenStack Zun support to OSA\n\nZun provides for application container compute resources. This change\npulls in a new role and creates a new playbook to implement Zun in an\nOSA cloud. The new service follows much of the same pattern as before\nrunning nova compute and has many of the same building blocks. If a\ndeployer wanted to mix both Zun and Nova on the same host they could\nwithout fear of conflict.\n\nThe Zun role will install everything needed for Zun to operate. This\nincludes ""kuryr"" and ""docker"".\n\nDocumentation has been added covering basic operational tasks and image\nmanagement with Zun.\n\nTests have been added ensuring that Zun is compatible with the rest of\nthe stack when testing most ""full"" scenarios.\n\nDepends-On: https://review.openstack.org/#/c/574139/\nChange-Id: I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",8,571400,98084e49fe09308cf384a7a3ffc90d4f3504e660,36,6,9,7353,,,0,"Add OpenStack Zun support to OSA

Zun provides for application container compute resources. This change
pulls in a new role and creates a new playbook to implement Zun in an
OSA cloud. The new service follows much of the same pattern as before
running nova compute and has many of the same building blocks. If a
deployer wanted to mix both Zun and Nova on the same host they could
without fear of conflict.

The Zun role will install everything needed for Zun to operate. This
includes ""kuryr"" and ""docker"".

Documentation has been added covering basic operational tasks and image
management with Zun.

Tests have been added ensuring that Zun is compatible with the rest of
the stack when testing most ""full"" scenarios.

Depends-On: https://review.openstack.org/#/c/574139/
Change-Id: I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/571400/8 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/configure.rst', 'inventory/env.d/zun.yml', 'etc/openstack_deploy/conf.d/zun.yml.aio', 'playbooks/os-zun-install.yml', 'etc/openstack_deploy/user_secrets.yml', 'doc/source/admin/scale-environment.rst', 'tests/vars/bootstrap-aio-vars.yml', 'doc/source/admin/openstack-operations/managing-images.rst', 'inventory/group_vars/zun_all.yml', 'ansible-role-requirements.yml']",10,61cfbd53360e496e7aa4589f1fbbc7af988f501a,ad-zun-support, # NOTE(cloudnull): Holding place until os_zun is imported into the OS namespace - name: os_zun scm: git src: https://github.com/os-cloud/os_zun version: master,,286,1
openstack%2Fopenstack-helm~master~I9b98874ba943f5afb3de5d5bed779daa92e22b4f,openstack/openstack-helm,master,I9b98874ba943f5afb3de5d5bed779daa92e22b4f,Set the execution flag for 085-horizon.sh script,MERGED,2019-05-29 12:39:34.000000000,2019-05-30 14:13:40.000000000,2019-05-30 14:13:40.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 12:39:34.000000000', 'files': ['tools/deployment/multinode/085-horizon.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5add8df53255a364fcc3c6f6ff0c641010efb08e', 'message': 'Set the execution flag for 085-horizon.sh script\n\nChange-Id: I9b98874ba943f5afb3de5d5bed779daa92e22b4f\n'}]",0,661965,5add8df53255a364fcc3c6f6ff0c641010efb08e,9,5,1,9963,,,0,"Set the execution flag for 085-horizon.sh script

Change-Id: I9b98874ba943f5afb3de5d5bed779daa92e22b4f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/65/661965/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/085-horizon.sh'],1,5add8df53255a364fcc3c6f6ff0c641010efb08e,horizon-executable,,,0,0
openstack%2Fopenstackdocstheme~master~Ie52a2a035edc64f97854e3b2df54e10b56f8e46d,openstack/openstackdocstheme,master,Ie52a2a035edc64f97854e3b2df54e10b56f8e46d,Removed 'combined.css' for 'starlingxdocs' theme,MERGED,2019-05-29 14:47:39.000000000,2019-05-30 14:05:30.000000000,2019-05-30 14:05:30.000000000,"[{'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 14:47:39.000000000', 'files': ['openstackdocstheme/theme/starlingxdocs/static/css/combined.css'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/4d5e438556bf614dbb65317c264e50347c3e2825', 'message': ""Removed 'combined.css' for 'starlingxdocs' theme\n\nThe 'starlingxdocs' theme gets this for free on account of it inheriting\nfrom the 'openstackdocs' theme (in 'theme.conf'). There's no need for\nthis.\n\nChange-Id: Ie52a2a035edc64f97854e3b2df54e10b56f8e46d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,662006,4d5e438556bf614dbb65317c264e50347c3e2825,15,3,1,15334,,,0,"Removed 'combined.css' for 'starlingxdocs' theme

The 'starlingxdocs' theme gets this for free on account of it inheriting
from the 'openstackdocs' theme (in 'theme.conf'). There's no need for
this.

Change-Id: Ie52a2a035edc64f97854e3b2df54e10b56f8e46d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/06/662006/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/starlingxdocs/static/css/combined.css'],1,4d5e438556bf614dbb65317c264e50347c3e2825,update-bootstrap,../../../openstackdocs/static/css/combined.css,,1,0
openstack%2Fosc-placement~stable%2Fqueens~I6dfcd4e327ea535fdee3ce740c9b817ed790de7e,openstack/osc-placement,stable/queens,I6dfcd4e327ea535fdee3ce740c9b817ed790de7e,Migrate legacy-osc-placement-dsvm-functional job in-tree,MERGED,2018-03-26 20:05:08.000000000,2019-05-30 14:05:05.000000000,2019-05-29 20:10:11.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-26 20:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/3d3c59ddc8d8b342eb1faeff0a2602b43783a6b5', 'message': 'Migrate legacy-osc-placement-dsvm-functional job in-tree\n\nThis migrates the legacy-osc-placement-dsvm-functional job\nfrom openstack-zuul-jobs and renames it to drop the legacy part\nand branch override stuff.\n\nChange-Id: I6dfcd4e327ea535fdee3ce740c9b817ed790de7e\n(cherry picked from commit 2e8b471759ab51c03e00d81c1cd37d2f8a4d7309)\n'}, {'number': 2, 'created': '2018-03-26 22:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/7f763c537ab35ae76648b14dd8c12c928c740968', 'message': 'Migrate legacy-osc-placement-dsvm-functional job in-tree\n\nThis migrates the legacy-osc-placement-dsvm-functional job\nfrom openstack-zuul-jobs and renames it to drop the legacy part\nand branch override stuff.\n\nChange-Id: I6dfcd4e327ea535fdee3ce740c9b817ed790de7e\n(cherry picked from commit 2e8b471759ab51c03e00d81c1cd37d2f8a4d7309)\n'}, {'number': 3, 'created': '2018-10-25 19:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/858fe7ff985d6a54a08c01b7be8da2d9c34696e6', 'message': 'Migrate legacy-osc-placement-dsvm-functional job in-tree\n\nThis migrates the legacy-osc-placement-dsvm-functional job\nfrom openstack-zuul-jobs and renames it to drop the legacy part\nand branch override stuff.\n\nChange-Id: I6dfcd4e327ea535fdee3ce740c9b817ed790de7e\n(cherry picked from commit 2e8b471759ab51c03e00d81c1cd37d2f8a4d7309)\n'}, {'number': 4, 'created': '2019-04-26 20:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/8a73169304fabfdf9195a61e09bdb502c584f456', 'message': 'Migrate legacy-osc-placement-dsvm-functional job in-tree\n\nThis migrates the legacy-osc-placement-dsvm-functional job\nfrom openstack-zuul-jobs and renames it to drop the legacy part\nand branch override stuff.\n\nChange-Id: I6dfcd4e327ea535fdee3ce740c9b817ed790de7e\n(cherry picked from commit 2e8b471759ab51c03e00d81c1cd37d2f8a4d7309)\n'}, {'number': 5, 'created': '2019-05-15 18:27:54.000000000', 'files': ['playbooks/legacy/osc-placement-dsvm-functional/run.yaml', '.zuul.yaml', 'playbooks/legacy/osc-placement-dsvm-functional/post.yaml'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/32f5199e4039f71ff20b7f178f2d527433eabf94', 'message': 'Migrate legacy-osc-placement-dsvm-functional job in-tree\n\nThis migrates the legacy-osc-placement-dsvm-functional job\nfrom openstack-zuul-jobs and renames it to drop the legacy part\nand branch override stuff.\n\nNote that this has to account for the opendev namespace migration\n(see b0af0d98cc81314e73f358de7f2c3d20a56ea043 in stable/rocky).\n\nChange-Id: I6dfcd4e327ea535fdee3ce740c9b817ed790de7e\n(cherry picked from commit 2e8b471759ab51c03e00d81c1cd37d2f8a4d7309)\n'}]",6,556635,32f5199e4039f71ff20b7f178f2d527433eabf94,24,6,5,6873,,,0,"Migrate legacy-osc-placement-dsvm-functional job in-tree

This migrates the legacy-osc-placement-dsvm-functional job
from openstack-zuul-jobs and renames it to drop the legacy part
and branch override stuff.

Note that this has to account for the opendev namespace migration
(see b0af0d98cc81314e73f358de7f2c3d20a56ea043 in stable/rocky).

Change-Id: I6dfcd4e327ea535fdee3ce740c9b817ed790de7e
(cherry picked from commit 2e8b471759ab51c03e00d81c1cd37d2f8a4d7309)
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/35/556635/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/osc-placement-dsvm-functional/run.yaml', '.zuul.yaml', 'playbooks/legacy/osc-placement-dsvm-functional/post.yaml']",3,3d3c59ddc8d8b342eb1faeff0a2602b43783a6b5,py35-stable/queens,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,140,0
openstack%2Fopenstackdocstheme~master~Id84f1e59665026b32f07b230ff2e6be483398521,openstack/openstackdocstheme,master,Id84f1e59665026b32f07b230ff2e6be483398521,css: Add symlinks for openstack logos,MERGED,2019-05-29 14:47:39.000000000,2019-05-30 14:04:47.000000000,2019-05-30 14:04:47.000000000,"[{'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 14:47:39.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/static/css/combined.css', 'openstackdocstheme/theme/openstackdocs/static/images/logo-vert.svg', 'openstackdocstheme/theme/openstackdocs/static/images/logo-full.svg'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/b71661833ffd3576e735117ab0b42f4507714bc1', 'message': ""css: Add symlinks for openstack logos\n\nThis helps us eliminate the diff of the 'combined.css' file in the\nstarlingxdocs and openstackdocs themes.\n\nChange-Id: Id84f1e59665026b32f07b230ff2e6be483398521\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,662005,b71661833ffd3576e735117ab0b42f4507714bc1,15,3,1,15334,,,0,"css: Add symlinks for openstack logos

This helps us eliminate the diff of the 'combined.css' file in the
starlingxdocs and openstackdocs themes.

Change-Id: Id84f1e59665026b32f07b230ff2e6be483398521
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/05/662005/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackdocstheme/theme/openstackdocs/static/css/combined.css', 'openstackdocstheme/theme/openstackdocs/static/images/logo-vert.svg', 'openstackdocstheme/theme/openstackdocs/static/images/logo-full.svg']",3,b71661833ffd3576e735117ab0b42f4507714bc1,update-bootstrap,openstack-logo-full.svg,,4,2
openstack%2Fnetworking-bgpvpn~master~I537cdb447953e538302fa9107fa56b1461bfe1c6,openstack/networking-bgpvpn,master,I537cdb447953e538302fa9107fa56b1461bfe1c6,Dropping the py35 testing,MERGED,2019-04-15 02:09:30.000000000,2019-05-30 13:59:04.000000000,2019-05-30 13:59:03.000000000,"[{'_account_id': 5367}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 02:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/7daba44d039189fbedaf57bee41476d30623facb', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I537cdb447953e538302fa9107fa56b1461bfe1c6\n'}, {'number': 2, 'created': '2019-04-15 18:31:16.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/cbe0a20e016e685df1a93e806b919bad173d82fb', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I537cdb447953e538302fa9107fa56b1461bfe1c6\n'}]",0,652488,cbe0a20e016e685df1a93e806b919bad173d82fb,11,3,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I537cdb447953e538302fa9107fa56b1461bfe1c6
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/88/652488/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,7daba44d039189fbedaf57bee41476d30623facb,dropping-py35-testing,"envlist = py27,pypy,pep8","envlist = py35,py27,pypy,pep8",2,11
openstack%2Fnova~master~I1b4efe8afb302d94c810389e124c5370cbe72ddf,openstack/nova,master,I1b4efe8afb302d94c810389e124c5370cbe72ddf,"Fix the server group ""policy"" field type in api-ref",MERGED,2019-05-29 01:19:53.000000000,2019-05-30 13:55:36.000000000,2019-05-29 21:44:49.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26233}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-29 01:19:53.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/961435453552569754cb7801c1e5c366dd9d16a8', 'message': 'Fix the server group ""policy"" field type in api-ref\n\nThe server group policy field added in v2.64 is a string but\nthe API reference says the parameter is an object.\n\nThis patch changes it from ""object"" to ""string"".\n\nChange-Id: I1b4efe8afb302d94c810389e124c5370cbe72ddf\nCloses-bug: #1830800\n'}]",0,661869,961435453552569754cb7801c1e5c366dd9d16a8,16,12,1,20722,,,0,"Fix the server group ""policy"" field type in api-ref

The server group policy field added in v2.64 is a string but
the API reference says the parameter is an object.

This patch changes it from ""object"" to ""string"".

Change-Id: I1b4efe8afb302d94c810389e124c5370cbe72ddf
Closes-bug: #1830800
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/661869/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,961435453552569754cb7801c1e5c366dd9d16a8,bug/1830800, type: string, type: object,1,1
openstack%2Ffreezer-tempest-plugin~master~I9b06824371c17efee0095a1d329f7d9da6c06903,openstack/freezer-tempest-plugin,master,I9b06824371c17efee0095a1d329f7d9da6c06903,Change jobs to no-voting,MERGED,2019-05-30 08:36:45.000000000,2019-05-30 13:49:59.000000000,2019-05-30 13:49:59.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 08:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/99861bfa15a086f3d38ce6416f9a1b1fc18c8a10', 'message': 'Change jobs to no-voting\n\nFalcon 2.0.0 has an issue [0] with parsing request query parameters that\nis causing several blocking tempest jobs  failures for the freezer project.\n\n[0] https://github.com/falconry/falcon/issues/1547\n\nChange-Id: I9b06824371c17efee0095a1d329f7d9da6c06903\n'}, {'number': 2, 'created': '2019-05-30 08:44:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/b27219b4b998b8cf6cbd2fb8ccf278dd1e8bee02', 'message': 'Change jobs to no-voting\n\nFalcon 2.0.0 has an issue [0] with parsing request query parameters that\nis causing several blocking tempest jobs  failures for the freezer project.\n\n[0] https://github.com/falconry/falcon/issues/1547\n\nChange-Id: I9b06824371c17efee0095a1d329f7d9da6c06903\n'}]",1,662162,b27219b4b998b8cf6cbd2fb8ccf278dd1e8bee02,12,2,2,21069,,,0,"Change jobs to no-voting

Falcon 2.0.0 has an issue [0] with parsing request query parameters that
is causing several blocking tempest jobs  failures for the freezer project.

[0] https://github.com/falconry/falcon/issues/1547

Change-Id: I9b06824371c17efee0095a1d329f7d9da6c06903
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/62/662162/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,99861bfa15a086f3d38ce6416f9a1b1fc18c8a10,, - freezer-tempest-basic: voting:false - freezer-tempest-client: voting:false - freezer-tempest-basic-sql: voting:false - freezer-tempest-basic: voting:false - freezer-tempest-client: voting:false - freezer-tempest-basic-sql: voting:false , - freezer-tempest-basic - freezer-tempest-client - freezer-tempest-basic-sql - freezer-tempest-basic - freezer-tempest-client - freezer-tempest-basic-sql,13,6
openstack%2Fnova-specs~master~Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8,openstack/nova-specs,master,Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8,Server move operations with ports having resource request,MERGED,2019-04-15 09:47:26.000000000,2019-05-30 13:35:42.000000000,2019-05-30 13:35:42.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 12408}, {'_account_id': 14070}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 09:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2f80f2a487341b8b2c9ebc5ed2ea11a63077c1ef', 'message': 'Server move operations with ports having resource request\n\nSince `microversion 2.72`_ nova supports creating servers with neutron\nports having resource request. However moving such servers are not\npossible due to missing resource handling implementation in nova.\n\nChange-Id: Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8\nBlueprint: support-server-move-operations-with-ports-having-resource-request\n'}, {'number': 2, 'created': '2019-04-15 10:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e156b0d374a98e58fcdc52ce374bd85fb6220d34', 'message': 'Server move operations with ports having resource request\n\nSince `microversion 2.72`_ nova supports creating servers with neutron\nports having resource request. However moving such servers are not\npossible due to missing resource handling implementation in nova.\n\nChange-Id: Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8\nBlueprint: support-server-move-operations-with-ports-having-resource-request\n'}, {'number': 3, 'created': '2019-04-15 12:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/30df5b8830c7859cb6f80027f51d5f245f7cbae2', 'message': 'Server move operations with ports having resource request\n\nSince `microversion 2.72`_ nova supports creating servers with neutron\nports having resource request. However moving such servers are not\npossible due to missing resource handling implementation in nova.\n\nChange-Id: Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8\nBlueprint: support-server-move-operations-with-ports-having-resource-request\n'}, {'number': 4, 'created': '2019-04-15 15:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/65e7f7b97e5c481659c4f217313346008e08c431', 'message': 'Server move operations with ports having resource request\n\nSince microversion 2.72 nova supports creating servers with neutron\nports having resource request. However moving such servers are not\npossible due to missing resource handling implementation in nova.\n\nChange-Id: Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8\nBlueprint: support-server-move-operations-with-ports-having-resource-request\n'}, {'number': 5, 'created': '2019-04-25 13:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/14b3b2cf621f96b2617cfe1c31dc9812e30f59a5', 'message': 'Server move operations with ports having resource request\n\nSince microversion 2.72 nova supports creating servers with neutron\nports having resource request. However moving such servers are not\npossible due to missing resource handling implementation in nova.\n\nChange-Id: Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8\nBlueprint: support-server-move-operations-with-ports-having-resource-request\n'}, {'number': 6, 'created': '2019-05-05 12:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f82ac1d8f8e07ec43697a4021e8fbce1bfb8e506', 'message': 'Server move operations with ports having resource request\n\nSince microversion 2.72 nova supports creating servers with neutron\nports having resource request. However moving such servers are not\npossible due to missing resource handling implementation in nova.\n\nChange-Id: Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8\nBlueprint: support-server-move-operations-with-ports-having-resource-request\n'}, {'number': 7, 'created': '2019-05-10 11:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7db08e9c48764cfdda454569ceee5a6f721df045', 'message': 'Server move operations with ports having resource request\n\nSince microversion 2.72 nova supports creating servers with neutron\nports having resource request. However moving such servers are not\npossible due to missing resource handling implementation in nova.\n\nChange-Id: Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8\nBlueprint: support-move-ops-with-qos-ports\n'}, {'number': 8, 'created': '2019-05-28 16:23:46.000000000', 'files': ['specs/train/approved/support-move-ops-with-qos-ports.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7bd0dfc8ce0281d925283e40b62ae6f0af3a0aee', 'message': 'Server move operations with ports having resource request\n\nSince microversion 2.72 nova supports creating servers with neutron\nports having resource request. However moving such servers are not\npossible due to missing resource handling implementation in nova.\n\nChange-Id: Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8\nBlueprint: support-move-ops-with-qos-ports\n'}]",120,652608,7bd0dfc8ce0281d925283e40b62ae6f0af3a0aee,48,10,8,9708,,,0,"Server move operations with ports having resource request

Since microversion 2.72 nova supports creating servers with neutron
ports having resource request. However moving such servers are not
possible due to missing resource handling implementation in nova.

Change-Id: Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8
Blueprint: support-move-ops-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/08/652608/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/server-move-operations-with-ports-having-resource-request.rst'],1,2f80f2a487341b8b2c9ebc5ed2ea11a63077c1ef,bp/support-move-ops-with-qos-ports,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================= Server move operations with ports having resource request ========================================================= https://blueprints.launchpad.net/nova/+spec/support-server-move-operations-with-ports-having-resource-request Problem description =================== Since `microversion 2.72`_ nova supports creating servers with neutron ports having resource request. However moving such servers are not possible due to missing resource handling implementation in nova. Use Cases --------- The owner or the admin needs to be able to resize, migrate, live-migrate, evacuate and unshelve after shelve offload servers having ports with resource request. Proposed change =============== The implementation of the `bandwidth resource provider spec`_ introduced the ``requested_resources`` field in the ``RequestSpec`` versioned object. During server create this field is populated based on the resource request of the neutron ports. The nova scheduler generates the allocation candidate query including the request groups from the ``requested_resources`` field as well. However this field is not persisted to the database intentionally as the port resource request are owned and persisted by neutron. So during any operation that creates a new allocation of an existing server the port resource request needs to be queried from neutron and the ``requested_resources`` needs to be populated in the ``RequestSpec`` before the new allocation candidate query is sent to placement. After the new allocation is created in placement the ``allocation`` key in the ``binding:profile`` of the neutron ports needs to be update to point to the new resource providers providing the resources for the port. To figure out which resource provider fulfills which port's resource request in a given allocation the already introduced mapping code can be reused. These operations are the following: * resize * migrate * live-migrate * evacuate * unshelve after the server is shelve offloaded Currently these operations are rejected by nova if the server has ports attached with resource request. After the above proposed change is implemented these operations will be allowed. The way we will signal that nova is capable of supporting these operations is described in the `REST API impact`_ section. Alternatives ------------ For alternatives of the REST API change see the `REST API impact`_ section. Data model impact ----------------- None REST API impact --------------- There are two different approaches to signal that nova can handle the move operations for these servers: * Introduce a new microversion. If the move operations are requested with an older microversion for these servers then the request is rejected in the same way as today. If the move operation is requested with the new (or newer) microversion the the operation is accepted and handled properly. * Consider the missing support for these operations as bugs. Implement the above proposed changes as bugfixes without any new microversion. After the implementation is done requesting such move operations with older than `microversion 2.72`_ is still rejected (as well as creating servers) but requesting a move operation with bigger than `microversion 2.72`_ is accepted and handled properly. For background about these options see the `ML thread`_ Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ During move operations the conductor needs to query neutron to get the resource request of the ports that are attached to the server. Also, after the scheduling the request group - resource provider mapping needs to be recalculated and the binding:profile of the ports needs to be updated in neutron. Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- The support for move operations make it possible to heal missing or inconsistent port allocation as during the move the requested resources are re-calculated and the new allocation created accordingly in placement. Implementation ============== Assignee(s) ----------- Primary assignee: balazs-gibizer Other contributors: None Work Items ---------- Handle each move operation as a separate task. Dependencies ============ None Testing ======= Each move operation will have a functional test asserting that the proper allocation exists after the move. Documentation Impact ==================== The API guide `Using ports with resource request`_ will be updated accordingly. References ========== * The `bandwidth resource provider spec`_ describing the support for creating such servers. * The documentation of `microversion 2.72`_ introducing the support for creating such servers. * The nova API guide for the existing feature: `Using ports with resource request`_ * The neutron admin guide for this feature `Quality of Service Guaranteed Minimum Bandwidth`_ * `ML thread`_ about the possible options for the API impact. .. _`bandwidth resource provider spec`: https://specs.openstack.org/openstack/nova-specs/specs/stein/implemented/bandwidth-resource-provider.html .. _`microversion 2.72`: https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#maximum-in-stein .. _`Using ports with resource request`: https://docs.openstack.org/nova/latest/admin/port_with_resource_request.html .. _`Quality of Service Guaranteed Minimum Bandwidth`: https://docs.openstack.org/neutron/latest/admin/config-qos-min-bw.html .. _`ML thread`: http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001881.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,197,0
openstack%2Fpuppet-ovn~master~I7e098075580721dfb7d3fb4b696ca8d33743ef84,openstack/puppet-ovn,master,I7e098075580721dfb7d3fb4b696ca8d33743ef84,Add DPDK support for OVN,MERGED,2019-03-19 11:06:53.000000000,2019-05-30 13:31:46.000000000,2019-04-02 15:20:23.000000000,"[{'_account_id': 3153}, {'_account_id': 10237}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-03-19 11:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/7b242b9f87d294fc2f3fd17fc5a13bdd81f5c554', 'message': 'WIP: Add DPDK support for OVN\n\nChange-Id: I7e098075580721dfb7d3fb4b696ca8d33743ef84\n'}, {'number': 2, 'created': '2019-03-26 13:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/256eb1112b13894565a90db2569d11f2a5721be8', 'message': 'Add DPDK support for OVN\n\nOvS-DPDK on host requires the datapath type to be set\nas netdev and then invoking vswitch::dpdk to apply the\nDPDK specific parameters. Exposing those parameters\nto be used by the deployer.\n\nChange-Id: I7e098075580721dfb7d3fb4b696ca8d33743ef84\n'}, {'number': 3, 'created': '2019-03-27 07:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/09b76002aed83502f90556bbf9620961dc9007cf', 'message': 'Add DPDK support for OVN\n\nOvS-DPDK on host requires the datapath type to be set\nas netdev and then invoking vswitch::dpdk to apply the\nDPDK specific parameters. Exposing those parameters\nto be used by the deployer.\n\nChange-Id: I7e098075580721dfb7d3fb4b696ca8d33743ef84\n'}, {'number': 4, 'created': '2019-03-27 07:30:32.000000000', 'files': ['metadata.json', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/97132fbf778b3cc0e0957f03cce08d4319de3a9c', 'message': 'Add DPDK support for OVN\n\nOvS-DPDK on host requires the datapath type to be set\nas netdev and then invoking vswitch::dpdk to apply the\nDPDK specific parameters. Exposing those parameters\nto be used by the deployer.\n\nChange-Id: I7e098075580721dfb7d3fb4b696ca8d33743ef84\n'}]",0,644542,97132fbf778b3cc0e0957f03cce08d4319de3a9c,19,7,4,18575,,,0,"Add DPDK support for OVN

OvS-DPDK on host requires the datapath type to be set
as netdev and then invoking vswitch::dpdk to apply the
DPDK specific parameters. Exposing those parameters
to be used by the deployer.

Change-Id: I7e098075580721dfb7d3fb4b696ca8d33743ef84
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/42/644542/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/controller.pp'],1,7b242b9f87d294fc2f3fd17fc5a13bdd81f5c554,ovn_dpdk,"# # [*datapath_type*] # (optional) Datapath type for ovs bridges # Defaults to $::os_service_default # # [*enable_dpdk*] # (optional) Enable or not DPDK with OVS # Defaults to false. # $datapath_type = $::os_service_default, $enable_dpdk = false, if $enable_dpdk and is_service_default($datapath_type) { fail('Datapath type for ovs agent must be set when DPDK is enabled') } if $enable_dpdk { require ::vswitch::dpdk } else { require ::vswitch::ovs } if ! is_service_default($datapath_type) { $datapath_config = { 'external_ids:ovn-bridge-datapath-type' => { 'value' => $datapath_type } } } else { $datapath_config = {} } create_resources('vs_config', merge($config_items, $bridge_items, $hw_offload, $datapath_config))"," include ::vswitch::ovs create_resources('vs_config', merge($config_items, $bridge_items, $hw_offload))",29,3
openstack%2Fpuppet-neutron~master~Idf81990d4075f4332d99326170ed733452a85cab,openstack/puppet-neutron,master,Idf81990d4075f4332d99326170ed733452a85cab,Add DPDK support for OVN,MERGED,2019-03-19 11:12:48.000000000,2019-05-30 13:31:24.000000000,2019-04-02 18:05:27.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-03-19 11:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/54554463a96aa6fe4b8de53d8473840d284d2268', 'message': 'WIP: Add DPDK support for OVN\n\nChange-Id: Idf81990d4075f4332d99326170ed733452a85cab\n'}, {'number': 2, 'created': '2019-03-26 13:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/13564f3b8eb0a5477177bd42dc532361502382de', 'message': 'Add DPDK support for OVN\n\nOvS-DPDK requres the vhostuser socked directory to be\nspecific directory, which need to be shared between OvS\nand qemu. Deployer will create a director with required\naccess permissions. OVN should use the provided directory\nto create the vhostuser sockets.\n\nChange-Id: Idf81990d4075f4332d99326170ed733452a85cab\n'}, {'number': 3, 'created': '2019-03-26 13:24:19.000000000', 'files': ['spec/classes/neutron_plugins_ml2_ovn_spec.rb', 'manifests/plugins/ml2/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c24b1dd86d54a939ed0a044e1d09eb1afc5dc4c1', 'message': 'Add DPDK support for OVN\n\nOvS-DPDK requires the vhostuser socket directory to be\nspecific directory, which need to be shared between OvS\nand qemu. Deployer will create a directory with required\naccess permissions. OVN should use the provided directory\nto create the vhostuser sockets.\n\nChange-Id: Idf81990d4075f4332d99326170ed733452a85cab\n'}]",0,644544,c24b1dd86d54a939ed0a044e1d09eb1afc5dc4c1,26,7,3,18575,,,0,"Add DPDK support for OVN

OvS-DPDK requires the vhostuser socket directory to be
specific directory, which need to be shared between OvS
and qemu. Deployer will create a directory with required
access permissions. OVN should use the provided directory
to create the vhostuser sockets.

Change-Id: Idf81990d4075f4332d99326170ed733452a85cab
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/44/644544/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/plugins/ml2/ovn.pp'],1,54554463a96aa6fe4b8de53d8473840d284d2268,ovn_dpdk,"# # [*vhostuser_socket_dir*] # (optional) The vhost-user socket directory for OVS # Type: String # Defaults to $::os_service_default $vhostuser_socket_dir = $::os_service_default, 'ovn/vhostuser_socket_dir' : value => $vhostuser_socket_dir;",,7,0
openstack%2Fopenstack-helm~master~I398596fa65b15cae35e5df5a23bafd8e8db077a2,openstack/openstack-helm,master,I398596fa65b15cae35e5df5a23bafd8e8db077a2,fix wrong mount key for scheduler and consoleauth,MERGED,2019-05-17 07:35:08.000000000,2019-05-30 13:28:41.000000000,2019-05-30 13:28:41.000000000,"[{'_account_id': 1523}, {'_account_id': 8181}, {'_account_id': 8749}, {'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-17 07:35:08.000000000', 'files': ['nova/templates/deployment-consoleauth.yaml', 'nova/templates/deployment-scheduler.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8157acc618278f96191108410f81ddc0d11b1ce4', 'message': 'fix wrong mount key for scheduler and consoleauth\n\nnova-scheduler and consoleauth define wrong\nname for value of volume mount.\n\nChange-Id: I398596fa65b15cae35e5df5a23bafd8e8db077a2\n'}]",0,659732,8157acc618278f96191108410f81ddc0d11b1ce4,14,6,1,1523,,,0,"fix wrong mount key for scheduler and consoleauth

nova-scheduler and consoleauth define wrong
name for value of volume mount.

Change-Id: I398596fa65b15cae35e5df5a23bafd8e8db077a2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/659732/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/deployment-consoleauth.yaml', 'nova/templates/deployment-scheduler.yaml']",2,8157acc618278f96191108410f81ddc0d11b1ce4,fix-nova-volume-mounts,{{- $mounts_nova_scheduler := .Values.pod.mounts.nova_scheduler.nova_scheduler }},{{- $mounts_nova_scheduler := .Values.pod.mounts.nova_scheduler.nova_conductor }},2,2
openstack%2Ftripleo-heat-templates~master~Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1,openstack/tripleo-heat-templates,master,Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1,Reintroduce upgrade tasks for stopping pacemaker cluster,MERGED,2019-05-30 07:35:54.000000000,2019-05-30 13:24:55.000000000,2019-05-30 13:24:55.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-05-30 07:35:54.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8ca0d41add4254401654c89f146d8c38a3d9ac3', 'message': ""Reintroduce upgrade tasks for stopping pacemaker cluster\n\nIt is likely that change I50a1289a864f804d02a2e2bc0ca8738a186beff0\nbroke upgrade CI, even though the job somehow passed on it. MariaDB\nupgrade tasks now cannot remove the container image, because it's\nbeing used by a running container. Let's keep all tasks for stopping\nPacemaker cluster for now, both untagged ones and the ones tagged for\nsystem_upgrade_prepare step.\n\nChange-Id: Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1\nCloses-Bug: #1831022\n""}]",5,662150,f8ca0d41add4254401654c89f146d8c38a3d9ac3,11,5,1,8042,,,0,"Reintroduce upgrade tasks for stopping pacemaker cluster

It is likely that change I50a1289a864f804d02a2e2bc0ca8738a186beff0
broke upgrade CI, even though the job somehow passed on it. MariaDB
upgrade tasks now cannot remove the container image, because it's
being used by a running container. Let's keep all tasks for stopping
Pacemaker cluster for now, both untagged ones and the ones tagged for
system_upgrade_prepare step.

Change-Id: Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1
Closes-Bug: #1831022
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/662150/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,f8ca0d41add4254401654c89f146d8c38a3d9ac3,leapp, - name: system_upgrade_prepare step 2 tags: - never - system_upgrade_prepare when: step|int == 2 block: - name: Stop pacemaker cluster pacemaker_cluster: state=offline, tags: - never - system_upgrade_prepare,8,3
openstack%2Fopenstack-ansible~master~I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,openstack/openstack-ansible,master,I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,Move hosts file management toggle to all group vars,MERGED,2019-05-29 17:25:25.000000000,2019-05-30 13:19:49.000000000,2019-05-30 09:04:02.000000000,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-29 17:25:25.000000000', 'files': ['inventory/group_vars/all/all.yml', 'inventory/group_vars/hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c06e6b5885b4edf074c118f1be8362926e5a6e0c', 'message': ""Move hosts file management toggle to all group vars\n\nIn Queens, the hosts file management began occurring on all hosts\nand containers because openstack_hosts role now runs on all inventory\nitems (prior to Queens, it only ran on 'hosts'). The flag for managing\nthe /etc/hosts management should now be moved to the 'all' group\nvars.\n\nChange-Id: I0a9e8e86cd1eb40f55d40eb291f49563a433fd82\n""}]",0,662050,c06e6b5885b4edf074c118f1be8362926e5a6e0c,12,4,1,17799,,,0,"Move hosts file management toggle to all group vars

In Queens, the hosts file management began occurring on all hosts
and containers because openstack_hosts role now runs on all inventory
items (prior to Queens, it only ran on 'hosts'). The flag for managing
the /etc/hosts management should now be moved to the 'all' group
vars.

Change-Id: I0a9e8e86cd1eb40f55d40eb291f49563a433fd82
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/662050/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/all/all.yml', 'inventory/group_vars/hosts.yml']",2,c06e6b5885b4edf074c118f1be8362926e5a6e0c,,,"# Disable /etc/hosts management if unbound DNS resolution containers exist openstack_host_manage_hosts_file: ""{{ groups['unbound'] is not defined or groups['unbound'] | length < 1 }}"" ",3,3
openstack%2Fmonasca-agent~master~Icbf305435d1bacdeabd1654af5e14b58a3248282,openstack/monasca-agent,master,Icbf305435d1bacdeabd1654af5e14b58a3248282,Add information about Prometheus plugin to README,MERGED,2019-05-24 11:14:54.000000000,2019-05-30 13:15:49.000000000,2019-05-30 13:15:49.000000000,"[{'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-05-24 11:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/b80d46dffe01b47aae32527711350f5db3380a5a', 'message': 'Add information about Prometheus plugin to README\n\nPrometheus plugin support is empesized in README.rst. Also formating of\nthe first page is updated to improve readability. Promethes section in\nPlugins.md is fixed to be correctly referenced from table of content.\n\nStory: 2005625\nTask: 30878\nChange-Id: Icbf305435d1bacdeabd1654af5e14b58a3248282\n'}, {'number': 2, 'created': '2019-05-27 07:36:33.000000000', 'files': ['README.rst', 'docs/Plugins.md'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/9854fbc93f1b5d6ec708e4a860d407c25e6878ca', 'message': 'Add information about Prometheus plugin to README\n\nPrometheus plugin support is emphasized in README.rst. Also formating of\nthe first page is updated to improve readability. Promethes section in\nPlugins.md is fixed to be correctly referenced from table of content.\n\nStory: 2005625\nTask: 30878\nChange-Id: Icbf305435d1bacdeabd1654af5e14b58a3248282\n'}]",2,661256,9854fbc93f1b5d6ec708e4a860d407c25e6878ca,13,5,2,16222,,,0,"Add information about Prometheus plugin to README

Prometheus plugin support is emphasized in README.rst. Also formating of
the first page is updated to improve readability. Promethes section in
Plugins.md is fixed to be correctly referenced from table of content.

Story: 2005625
Task: 30878
Change-Id: Icbf305435d1bacdeabd1654af5e14b58a3248282
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/56/661256/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'docs/Plugins.md']",2,b80d46dffe01b47aae32527711350f5db3380a5a,,## Prometheus,## Prometheus Client,31,20
openstack%2Fopenstackdocstheme~master~I819b4c398a0910468688115e68a0c4b9c2f74369,openstack/openstackdocstheme,master,I819b4c398a0910468688115e68a0c4b9c2f74369,css: Move bootstrap modifications to 'combined.css' (StarlingX),MERGED,2019-05-29 14:47:39.000000000,2019-05-30 13:12:43.000000000,2019-05-30 13:12:42.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 14:47:39.000000000', 'files': ['openstackdocstheme/theme/starlingxdocs/static/css/combined.css'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/8aaeb7aaba1db4db4e4e4e0d5d66f76c8886f3a7', 'message': ""css: Move bootstrap modifications to 'combined.css' (StarlingX)\n\nThis was done for the 'openstackdocs' theme in change\nIa4732abfc9ad84e92ccc2beafa37c1a35bc10ef1 but was missed for the\n'starlingxdocs' theme. Correct this.\n\nChange-Id: I819b4c398a0910468688115e68a0c4b9c2f74369\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,662004,8aaeb7aaba1db4db4e4e4e0d5d66f76c8886f3a7,11,3,1,15334,,,0,"css: Move bootstrap modifications to 'combined.css' (StarlingX)

This was done for the 'openstackdocs' theme in change
Ia4732abfc9ad84e92ccc2beafa37c1a35bc10ef1 but was missed for the
'starlingxdocs' theme. Correct this.

Change-Id: I819b4c398a0910468688115e68a0c4b9c2f74369
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/04/662004/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/starlingxdocs/static/css/combined.css'],1,8aaeb7aaba1db4db4e4e4e0d5d66f76c8886f3a7,update-bootstrap,code { padding: 0; font-size: 100%; font-weight: bold; color: #000; background-color: transparent; border-radius: 0; } ,,9,0
openstack%2Fopenstackdocstheme~master~If132c8edbc49dfb930e2ae49f7bdb1b864bd8692,openstack/openstackdocstheme,master,If132c8edbc49dfb930e2ae49f7bdb1b864bd8692,css: Use ellipsis for long titles in sidebar (StarlingX),MERGED,2019-05-29 14:47:39.000000000,2019-05-30 13:12:42.000000000,2019-05-30 13:12:42.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 14:47:39.000000000', 'files': ['openstackdocstheme/theme/starlingxdocs/static/css/combined.css'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/e2393e85ef1a4fe2c4d64ee3fd07efba0f6d83a9', 'message': ""css: Use ellipsis for long titles in sidebar (StarlingX)\n\nThis was done for the 'openstackdocs' theme in change\nI23bc2f4414b69c1ee4b9552f554423e457571554 but was missed for the\n'starlingxdocs' theme. Correct this.\n\nChange-Id: If132c8edbc49dfb930e2ae49f7bdb1b864bd8692\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,662003,e2393e85ef1a4fe2c4d64ee3fd07efba0f6d83a9,11,3,1,15334,,,0,"css: Use ellipsis for long titles in sidebar (StarlingX)

This was done for the 'openstackdocs' theme in change
I23bc2f4414b69c1ee4b9552f554423e457571554 but was missed for the
'starlingxdocs' theme. Correct this.

Change-Id: If132c8edbc49dfb930e2ae49f7bdb1b864bd8692
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/03/662003/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/starlingxdocs/static/css/combined.css'],1,e2393e85ef1a4fe2c4d64ee3fd07efba0f6d83a9,update-bootstrap, white-space: nowrap; overflow: hidden; text-overflow: ellipsis; } padding-right: 0px; margin-right: 20px;, word-wrap: break-word; },5,1
openstack%2Fopenstackdocstheme~master~Iedc07651ed7a22391a08a517d7d06b339c1a2f74,openstack/openstackdocstheme,master,Iedc07651ed7a22391a08a517d7d06b339c1a2f74,css: Use https links (StarlingX),MERGED,2019-05-29 14:47:39.000000000,2019-05-30 13:12:41.000000000,2019-05-30 13:12:41.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 14:47:39.000000000', 'files': ['openstackdocstheme/theme/starlingxdocs/static/css/combined.css'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/ab95ba719e5ea27017652fd81861eb3e07504133', 'message': ""css: Use https links (StarlingX)\n\nThis was done for the 'openstackdocs' theme in change\nIec7c7e1d99306c19032377c809bc1772ca036a15 but was missed for the\n'starlingxdocs' theme.\n\nChange-Id: Iedc07651ed7a22391a08a517d7d06b339c1a2f74\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,662002,ab95ba719e5ea27017652fd81861eb3e07504133,13,5,1,15334,,,0,"css: Use https links (StarlingX)

This was done for the 'openstackdocs' theme in change
Iec7c7e1d99306c19032377c809bc1772ca036a15 but was missed for the
'starlingxdocs' theme.

Change-Id: Iedc07651ed7a22391a08a517d7d06b339c1a2f74
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/02/662002/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/starlingxdocs/static/css/combined.css'],1,ab95ba719e5ea27017652fd81861eb3e07504133,update-bootstrap," background: url(""https://openstack.org/marketplace/code/ui/frontend/images/marketplace-icons.png"") no-repeat scroll 0 0 rgba(0, 0, 0, 0); background: url(""https://openstack.org/marketplace/code/ui/frontend/images/register-arrow.png"") no-repeat scroll 85% center #000000;"," background: url(""http://openstack.org/marketplace/code/ui/frontend/images/marketplace-icons.png"") no-repeat scroll 0 0 rgba(0, 0, 0, 0); background: url(""http://openstack.org/marketplace/code/ui/frontend/images/register-arrow.png"") no-repeat scroll 85% center #000000;",2,2
openstack%2Fnova~stable%2Frocky~I01c63e685113bf30e687ccb14a4d18e344b306f6,openstack/nova,stable/rocky,I01c63e685113bf30e687ccb14a4d18e344b306f6,Fix retry of instance_update_and_get_original,MERGED,2019-05-15 15:31:36.000000000,2019-05-30 13:12:25.000000000,2019-05-30 13:12:24.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-15 15:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bec0601263e147666bfff1ff09d25b1368eed6ce', 'message': ""Fix retry of instance_update_and_get_original\n\n_instance_update modifies its 'values' argument. Consequently if it is\nretried due to an update conflict, the second invocation has the wrong\narguments.\n\nA specific issue this causes is that if we called it with\nexpected_task_state a concurrent modification to task_state will cause\nus to fail and retry. However, expected_task_state will have been popped\nfrom values on the first invocation and will not be present for the\nsecond. Consequently the second invocation will fail to perform the\ntask_state check and therefore succeed, resulting in a race.\n\nWe rewrite the old race unit test which wasn't testing the correct\nthing for 2 reasons:\n\n1. Due to the bug fixed in this patch, although we were calling\n   update_on_match() twice, the second call didn't check the task state.\n2. side_effect=iterable returns function items without executing them,\n   but we weren't hitting this due to the bug fixed in this patch.\n\nCloses-Bug: #1821373\nChange-Id: I01c63e685113bf30e687ccb14a4d18e344b306f6\n(cherry picked from commit aae5c7aa3819ad9161fd2effed3872d540099230)\n""}, {'number': 2, 'created': '2019-05-20 10:57:18.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4540cd6ef9731837cf4ed1e56850bcfa3512ae1c', 'message': ""Fix retry of instance_update_and_get_original\n\n_instance_update modifies its 'values' argument. Consequently if it is\nretried due to an update conflict, the second invocation has the wrong\narguments.\n\nA specific issue this causes is that if we called it with\nexpected_task_state a concurrent modification to task_state will cause\nus to fail and retry. However, expected_task_state will have been popped\nfrom values on the first invocation and will not be present for the\nsecond. Consequently the second invocation will fail to perform the\ntask_state check and therefore succeed, resulting in a race.\n\nWe rewrite the old race unit test which wasn't testing the correct\nthing for 2 reasons:\n\n1. Due to the bug fixed in this patch, although we were calling\n   update_on_match() twice, the second call didn't check the task state.\n2. side_effect=iterable returns function items without executing them,\n   but we weren't hitting this due to the bug fixed in this patch.\n\nCloses-Bug: #1821373\nChange-Id: I01c63e685113bf30e687ccb14a4d18e344b306f6\n(cherry picked from commit aae5c7aa3819ad9161fd2effed3872d540099230)\n(cherry picked from commit 61fef49b1555c6509398fc47c21319c1b5e50505)\n""}]",0,659318,4540cd6ef9731837cf4ed1e56850bcfa3512ae1c,20,8,2,9555,,,0,"Fix retry of instance_update_and_get_original

_instance_update modifies its 'values' argument. Consequently if it is
retried due to an update conflict, the second invocation has the wrong
arguments.

A specific issue this causes is that if we called it with
expected_task_state a concurrent modification to task_state will cause
us to fail and retry. However, expected_task_state will have been popped
from values on the first invocation and will not be present for the
second. Consequently the second invocation will fail to perform the
task_state check and therefore succeed, resulting in a race.

We rewrite the old race unit test which wasn't testing the correct
thing for 2 reasons:

1. Due to the bug fixed in this patch, although we were calling
   update_on_match() twice, the second call didn't check the task state.
2. side_effect=iterable returns function items without executing them,
   but we weren't hitting this due to the bug fixed in this patch.

Closes-Bug: #1821373
Change-Id: I01c63e685113bf30e687ccb14a4d18e344b306f6
(cherry picked from commit aae5c7aa3819ad9161fd2effed3872d540099230)
(cherry picked from commit 61fef49b1555c6509398fc47c21319c1b5e50505)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/659318/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,bec0601263e147666bfff1ff09d25b1368eed6ce,bug1821373," # NOTE(mdbooth): We pop values from this dict below, so we copy it here to # ensure there are no side effects for the caller or if we retry the # function due to a db conflict. updates = copy.copy(values) if expected_field in updates: value = updates.pop(expected_field, None) metadata = updates.pop('metadata', None) system_metadata = updates.pop('system_metadata', None) _handle_objects_related_type_conversions(updates) if 'hostname' in updates: _validate_unique_server_name(context, updates['hostname']) update_on_match(compare, 'uuid', updates)"," if expected_field in values: value = values.pop(expected_field, None) metadata = values.pop('metadata', None) system_metadata = values.pop('system_metadata', None) _handle_objects_related_type_conversions(values) if 'hostname' in values: _validate_unique_server_name(context, values['hostname']) update_on_match(compare, 'uuid', values)",56,21
openstack%2Fironic~master~Ibffa324ac97395b40a82cee8041d88cd2bef4bc2,openstack/ironic,master,Ibffa324ac97395b40a82cee8041d88cd2bef4bc2,"Revert ""Drop most of the tests to fix CI""",ABANDONED,2019-04-23 16:51:27.000000000,2019-05-30 12:59:55.000000000,,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-04-23 16:51:27.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b171908af9eb9212d0bdb05aaabed73417851ef3', 'message': 'Revert ""Drop most of the tests to fix CI""\n\nReverts temporary testing changes.\n\nThis reverts commit 9329b88a1e361e9a70b871c8cb61390395a855f6.\n\nChange-Id: Ibffa324ac97395b40a82cee8041d88cd2bef4bc2\n'}]",0,655196,b171908af9eb9212d0bdb05aaabed73417851ef3,5,3,1,11655,,,0,"Revert ""Drop most of the tests to fix CI""

Reverts temporary testing changes.

This reverts commit 9329b88a1e361e9a70b871c8cb61390395a855f6.

Change-Id: Ibffa324ac97395b40a82cee8041d88cd2bef4bc2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/655196/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b171908af9eb9212d0bdb05aaabed73417851ef3,, - ironic-tempest-functional-python2 - ironic-tempest-functional-python3 - ironic-grenade-dsvm - ironic-grenade-dsvm-multinode-multitenant: voting: false - ironic-tempest-ipa-partition-pxe_ipmitool-tinyipa-python3 - ironic-tempest-ipa-partition-redfish-tinyipa - ironic-tempest-ipa-partition-uefi-pxe_ipmitool-tinyipa - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa-indirect - ironic-tempest-ipa-partition-bios-agent_ipmitool-tinyipa-indirect - ironic-tempest-bfv - ironic-tempest-functional-python2 - ironic-tempest-functional-python3 - ironic-grenade-dsvm # - ironic-grenade-dsvm-multinode-multitenant - ironic-tempest-ipa-partition-pxe_ipmitool-tinyipa-python3 - ironic-tempest-ipa-partition-redfish-tinyipa - ironic-tempest-ipa-partition-uefi-pxe_ipmitool-tinyipa - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa-indirect - ironic-tempest-ipa-partition-bios-agent_ipmitool-tinyipa-indirect - ironic-tempest-bfv, # - ironic-tempest-functional-python2 # - ironic-tempest-functional-python3 # - ironic-grenade-dsvm # - ironic-grenade-dsvm-multinode-multitenant: # voting: false # - ironic-tempest-ipa-partition-pxe_ipmitool-tinyipa-python3 # - ironic-tempest-ipa-partition-redfish-tinyipa # - ironic-tempest-ipa-partition-uefi-pxe_ipmitool-tinyipa # - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa-indirect # - ironic-tempest-ipa-partition-bios-agent_ipmitool-tinyipa-indirect # - ironic-tempest-bfv # - ironic-tempest-functional-python2 # - ironic-tempest-functional-python3 # - ironic-grenade-dsvm ## - ironic-grenade-dsvm-multinode-multitenant # - ironic-tempest-ipa-partition-pxe_ipmitool-tinyipa-python3 # - ironic-tempest-ipa-partition-redfish-tinyipa # - ironic-tempest-ipa-partition-uefi-pxe_ipmitool-tinyipa # - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa-indirect # - ironic-tempest-ipa-partition-bios-agent_ipmitool-tinyipa-indirect # - ironic-tempest-bfv,25,25
openstack%2Fproject-config~master~I06dcb09a4825a8e39d2dc000e7425649aea7e6a8,openstack/project-config,master,I06dcb09a4825a8e39d2dc000e7425649aea7e6a8,Fix mirror hostnames after opendev migration test,MERGED,2019-05-30 12:48:24.000000000,2019-05-30 12:52:30.000000000,2019-05-30 12:52:30.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2019-05-30 12:48:24.000000000', 'files': ['zuul/site-variables.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9023462978134993e2ac7c08cc78b4637f08d6a0', 'message': 'Fix mirror hostnames after opendev migration test\n\nBrown bag fix for errors in\nI631e3e3592a9be5c7da642cf34eec6d9758bf161 which are causing job\nfailures.\n\nChange-Id: I06dcb09a4825a8e39d2dc000e7425649aea7e6a8\n'}]",0,662201,9023462978134993e2ac7c08cc78b4637f08d6a0,5,3,1,5263,,,0,"Fix mirror hostnames after opendev migration test

Brown bag fix for errors in
I631e3e3592a9be5c7da642cf34eec6d9758bf161 which are causing job
failures.

Change-Id: I06dcb09a4825a8e39d2dc000e7425649aea7e6a8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/01/662201/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/site-variables.yaml'],1,9023462978134993e2ac7c08cc78b4637f08d6a0,letsencrypt," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""DFW.rax"" ] -%} mirror.{{ nodepool.region | lower }}.{{ nodepool.cloud | lower }}.opendev.org mirror.{{ nodepool.region | lower }}.{{ nodepool.cloud | lower }}.openstack.org"," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""dfw.rax"" ] -%} {{ nodepool.region }}.{{ nodepool.cloud }}.opendev.org {{ nodepool.region }}.{{ nodepool.cloud }}.openstack.org",3,3
openstack%2Fpaunch~master~Ia0e278bf5731aa5d09739d54f4db64dbaf85d037,openstack/paunch,master,Ia0e278bf5731aa5d09739d54f4db64dbaf85d037,Introduce the systemctl module to provide simple systemctl commands wrap,MERGED,2019-05-22 17:56:50.000000000,2019-05-30 12:41:28.000000000,2019-05-28 18:17:06.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-05-22 17:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/36de67ac4e0a1c8367838c47e42d61ae53954014', 'message': 'Introduce the systemctl module to provide simple systemctl commands wrap\n\nCentralize all the subprocess dedicated to call systemctl in a dedicated\nwrapper to ensure straightforward usage and dedicated unit test less\nin a functional approach.\n\nThis module can continue to evolve to reflect the real systemctl command\nsignatures and dedicated parameters and related checks if needed.\n\nChange-Id: Ia0e278bf5731aa5d09739d54f4db64dbaf85d037\n'}, {'number': 2, 'created': '2019-05-22 17:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/e3afe634371f673a9eb122a66fe41e95fca9601c', 'message': 'Introduce the systemctl module to provide simple systemctl commands wrap\n\nCentralize all the subprocess dedicated to call systemctl in a dedicated\nwrapper to ensure straightforward usage and dedicated unit test less\nin a functional approach.\n\nAlso this module try to reduce a little bit the technical debt to\ncentralize things in a dedicated module.\n\nThis module can continue to evolve to reflect the real systemctl command\nsignatures and dedicated parameters and related checks if needed.\n\nChange-Id: Ia0e278bf5731aa5d09739d54f4db64dbaf85d037\n'}, {'number': 3, 'created': '2019-05-23 07:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/08a09e2cbbd8d6820f8460d8d2df408d9a4ca618', 'message': 'Introduce the systemctl module to provide simple systemctl commands wrap\n\nCentralize all the subprocess dedicated to call systemctl in a dedicated\nwrapper to ensure straightforward usage and dedicated unit test less\nin a functional approach and also reduce the technical debt.\n\nThis module can continue to evolve to reflect the real systemctl command\nsignatures and dedicated parameters and related checks if needed.\n\nChange-Id: Ia0e278bf5731aa5d09739d54f4db64dbaf85d037\n'}, {'number': 4, 'created': '2019-05-23 09:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/6ac07ba6f77700d4496c0b9552c39e11c4879be5', 'message': 'Introduce the systemctl module to provide simple systemctl commands wrap\n\nCentralize all the subprocess dedicated to call systemctl in a dedicated\nwrapper to ensure straightforward usage and dedicated unit test less\nin a functional approach and also reduce the technical debt.\n\nThis module can continue to evolve to reflect the real systemctl command\nsignatures and dedicated parameters and related checks if needed.\n\nChange-Id: Ia0e278bf5731aa5d09739d54f4db64dbaf85d037\n'}, {'number': 5, 'created': '2019-05-23 13:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/a4c4e149501b6e80737d6a6f29c6f46d7522cbc3', 'message': 'Introduce the systemctl module to provide simple systemctl commands wrap\n\nCentralize all the subprocess dedicated to call systemctl in a dedicated\nwrapper to ensure straightforward usage and dedicated unit test less\nin a functional approach and also reduce the technical debt.\n\nThis module can continue to evolve to reflect the real systemctl command\nsignatures and dedicated parameters and related checks if needed.\n\nChange-Id: Ia0e278bf5731aa5d09739d54f4db64dbaf85d037\n'}, {'number': 6, 'created': '2019-05-23 15:46:18.000000000', 'files': ['paunch/utils/systemctl.py', 'paunch/tests/test_utils_systemctl.py', 'paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/2567495f158903a9adb6ee1be2fda383103c9416', 'message': 'Introduce the systemctl module to provide simple systemctl commands wrap\n\nCentralize all the subprocess dedicated to call systemctl in a dedicated\nwrapper to ensure straightforward usage and dedicated unit test less\nin a functional approach and also reduce the technical debt.\n\nThis module can continue to evolve to reflect the real systemctl command\nsignatures and dedicated parameters and related checks if needed.\n\nChange-Id: Ia0e278bf5731aa5d09739d54f4db64dbaf85d037\n'}]",0,660794,2567495f158903a9adb6ee1be2fda383103c9416,21,5,6,28522,,,0,"Introduce the systemctl module to provide simple systemctl commands wrap

Centralize all the subprocess dedicated to call systemctl in a dedicated
wrapper to ensure straightforward usage and dedicated unit test less
in a functional approach and also reduce the technical debt.

This module can continue to evolve to reflect the real systemctl command
signatures and dedicated parameters and related checks if needed.

Change-Id: Ia0e278bf5731aa5d09739d54f4db64dbaf85d037
",git fetch https://review.opendev.org/openstack/paunch refs/changes/94/660794/4 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/utils/systemctl.py', 'paunch/tests/test_utils_systemctl.py', 'paunch/utils/systemd.py']",3,36de67ac4e0a1c8367838c47e42d61ae53954014,,"from paunch.utils import systemctl systemctl.daemon_reload() systemctl.enable(service, now=True) except systemctl.SystemctlException: systemctl.stop(sysd_unit) systemctl.disable(sysd_unit) except systemctl.SystemctlException: systemctl.daemon_reload() except systemctl.SystemctlException: systemctl.enable(healthcheck_timer, now=True) systemctl.add_requires(service + '.service', healthcheck_timer) systemctl.daemon_reload() except systemctl.SystemctlException:","import subprocess subprocess.check_call(['systemctl', 'daemon-reload']) subprocess.check_call(['systemctl', 'enable', '--now', service]) except subprocess.CalledProcessError: subprocess.check_call(['systemctl', 'stop', sysd_unit]) subprocess.check_call(['systemctl', 'disable', sysd_unit]) except subprocess.CalledProcessError: subprocess.check_call(['systemctl', 'daemon-reload']) except subprocess.CalledProcessError: subprocess.check_call(['systemctl', 'enable', '--now', healthcheck_timer]) subprocess.check_call(['systemctl', 'add-requires', service + '.service', healthcheck_timer]) subprocess.check_call(['systemctl', 'daemon-reload']) except subprocess.CalledProcessError:",163,15
openstack%2Fnetworking-ovn~master~I4d402f3057490622d368683e8689850d12426430,openstack/networking-ovn,master,I4d402f3057490622d368683e8689850d12426430,Modify Member operations and Pool status changes,MERGED,2019-02-13 10:52:33.000000000,2019-05-30 12:15:53.000000000,2019-05-30 12:15:53.000000000,"[{'_account_id': 5756}, {'_account_id': 6469}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 11600}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 23858}]","[{'number': 1, 'created': '2019-02-13 10:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/abf91fc7d87769a406e1a370a7fc0a561e2237cd', 'message': 'Minor changes in OVN Driver for Health Monitors\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 2, 'created': '2019-02-14 07:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/12632155bc6b88a28f0572fd142fc8ff52dfa477', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are generally OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 3, 'created': '2019-02-14 07:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/748d5f6ab0815e421131ff40e9628beb76d1233d', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are generally OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 4, 'created': '2019-02-15 11:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8b56214e8218fd67a7961523fe791bf158f1db25', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are generally OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 5, 'created': '2019-02-15 17:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f1da22fde3da26f5355f17f44053cdf7376b51ae', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 6, 'created': '2019-02-16 08:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6c93a3d304285c45afa0248a6718223352b49b76', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 7, 'created': '2019-02-17 15:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/58d84216622df8b597bbd74b6b10510bba97c280', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 8, 'created': '2019-02-21 10:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6d0cb1a54ddb6feae6305a3c70d2b585d827dd86', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 9, 'created': '2019-02-25 09:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c6a8d5cdf51c1eded13b917bba69c76ba3b92c6e', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 10, 'created': '2019-02-26 01:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/09e650e63d40e12056507617057b78df8b1c0e1a', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 11, 'created': '2019-02-26 01:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/814d6ecacdc562d450d020ed8ed37de713bd2009', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 12, 'created': '2019-03-12 07:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/35614d465fb77e82741d64c534a59de93b921e3b', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 13, 'created': '2019-03-20 12:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/325c8ad15af60e8e019265ca595889074bdc5d4f', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 14, 'created': '2019-03-26 09:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b019e4c2229de5d577d7f09d843724db82d86985', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are OFFLINE till a member is not added to it since\nthe observed status of the pool is inoperatable till it has members\nassociated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 15, 'created': '2019-03-28 14:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0a9447a615966bef2765a6bed38728f1dfc43772', 'message': 'Update Pool and Member handling\n\nSince HealthMonitors are a not a part of OVN Octavia LB Driver,\nthere are some changes with which Pool and Members behave. Also\nPools are OFFLINE till a member to it since the observed status\nof the pool is inoperatable till it has members associated to it.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 16, 'created': '2019-04-02 02:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b42c8eea1d63d2cf8e96ae979e124b18a92b26c1', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 17, 'created': '2019-04-02 02:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2e24372ecc092b18079b3038ed672498367a373d', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 18, 'created': '2019-04-02 06:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/226cc03502ead4e3f89db7403bfef43bbff68d3d', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 19, 'created': '2019-04-02 17:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/13c6d6e08319b0f50d0381cb3fbfa373f97cd948', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 20, 'created': '2019-04-03 00:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/75dab6d8872839047e0bf01ae3953416bfa0c5a1', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 21, 'created': '2019-04-03 05:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c03f5ef58967cdb12b09f73f06c8fa8e0c466b7f', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 22, 'created': '2019-04-05 07:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/55b4db1d1fa5556ff0838631c0fbb01b15a71263', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 23, 'created': '2019-04-16 00:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3d94c83903f52a929ac5abadc1b7d4d4a0da1829', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 24, 'created': '2019-04-17 15:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3b1b2bf3bedf2050de81150ac84b5fc1e4c31567', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 25, 'created': '2019-04-19 06:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ae818177d1015ef0052ffa4f1598093b0c802cae', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 26, 'created': '2019-04-25 14:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6a0c58b89eec8adcf625150faeeb6383850bd8af', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 27, 'created': '2019-04-26 12:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4cd72c50bcb1794453982d7f9114c305d35fa9a2', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 28, 'created': '2019-05-10 09:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/58bf11f43cd4014592a475f628666eb3802afd16', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 29, 'created': '2019-05-15 07:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d55d3726d13f6e0b0f56775267be4d988aadfec0', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}, {'number': 30, 'created': '2019-05-29 11:52:20.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c0b2e0bc0071d183c79ad3196a7b54aae70e1719', 'message': 'Modify Member operations and Pool status changes\n\nThe patch handles the following changes:\n\n- Since HealthMonitors are a not a part of OVN Octavia LB Driver,\nhandle the changes for Member operations.\n- Pools should be OFFLINE till a member to it.\n- Change the behavior of the Member Update functionality.\n\nChange-Id: I4d402f3057490622d368683e8689850d12426430\n'}]",31,636589,c0b2e0bc0071d183c79ad3196a7b54aae70e1719,94,9,30,17776,,,0,"Modify Member operations and Pool status changes

The patch handles the following changes:

- Since HealthMonitors are a not a part of OVN Octavia LB Driver,
handle the changes for Member operations.
- Pools should be OFFLINE till a member to it.
- Change the behavior of the Member Update functionality.

Change-Id: I4d402f3057490622d368683e8689850d12426430
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/89/636589/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,abf91fc7d87769a406e1a370a7fc0a561e2237cd,bug/1794260," # Pool status is Offline, till a member is not added to it. operating_status = constants.OFFLINE pool_opr_status = None pool_opr_status = constants.ONLINE return pool_opr_status pool_opr_status = self._add_member(member, ovn_lb, pool_key) pool = {""id"": member['pool_id'], ""provisioning_status"": constants.ACTIVE} if pool_opr_status: pool['operating_status'] = pool_opr_status status = { 'pools': [pool], if member.monitor_address or member.monitor_port: msg = _('OVN provider does not support monitor options') raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) if new_member.monitor_address or new_member.monitor_port: msg = _('OVN provider does not support monitor options') raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)"," operating_status = constants.ONLINE if not pool.get('admin_state_up', True): operating_status = constants.OFFLINE if member_info in existing_members.split(','): # member already present. No need to do anything. return status = { 'pools': [{""id"": member['pool_id'], ""provisioning_status"": constants.ACTIVE}], status['members'][0]['operating_status'] = \ constants.ONLINE status['members'][0]['operating_status'] = \ constants.OFFLINE",21,12
openstack%2Fnetworking-bgpvpn~master~I728f38a4e43416cb2951d6ae7ca032f769d3666b,openstack/networking-bgpvpn,master,I728f38a4e43416cb2951d6ae7ca032f769d3666b,Fix sphinx requirements,ABANDONED,2019-05-23 20:29:09.000000000,2019-05-30 12:09:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-23 20:29:09.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9f706da9607387e0512776f0d003f56844d3f6b2', 'message': 'Fix sphinx requirements\n\nFix sphinx requirements for python 3 so that tests work again, this is\nneeded to fix networking-l2gw-tempest-dummy for\nhttps://review.opendev.org/659960.\n\nThis commit includes the following unrelated changes\nto pass the gate.\n----------------------------------------\nUpdate psycopg2 to fix lower constraint issue\n\nThis is a copy and paste from:\n    https://review.opendev.org/#/c/645299/\n\nCloses-Bug: #1821676\nChange-Id: I728f38a4e43416cb2951d6ae7ca032f769d3666b\n----------------------------------------\n'}]",0,661112,9f706da9607387e0512776f0d003f56844d3f6b2,3,1,1,5367,,,0,"Fix sphinx requirements

Fix sphinx requirements for python 3 so that tests work again, this is
needed to fix networking-l2gw-tempest-dummy for
https://review.opendev.org/659960.

This commit includes the following unrelated changes
to pass the gate.
----------------------------------------
Update psycopg2 to fix lower constraint issue

This is a copy and paste from:
    https://review.opendev.org/#/c/645299/

Closes-Bug: #1821676
Change-Id: I728f38a4e43416cb2951d6ae7ca032f769d3666b
----------------------------------------
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/12/661112/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,9f706da9607387e0512776f0d003f56844d3f6b2,bug/1821676,"sphinx>=1.6.5,!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.5,!=1.6.6,!=1.6.7;python_version>='3.4' # BSD psycopg2>=2.7.5 # LGPL/ZPL","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",4,2
openstack%2Fmonasca-notification~stable%2Fstein~Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da,openstack/monasca-notification,stable/stein,Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da,Fix loading of notification plugins,MERGED,2019-05-02 11:13:28.000000000,2019-05-30 11:47:56.000000000,2019-05-30 11:47:56.000000000,"[{'_account_id': 11904}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-02 11:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/5e81dc182992a5919aae3074ca98a9b3817b8d77', 'message': 'Fix loading of notification plugins\n\nInconsistent naming of plugins can cause an import error. This\ncommit standardises the naming so that all imports are parsed\ncorrectly.\n\nStory: 2005545\nTask: 30689\n\nChange-Id: Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da\n'}, {'number': 2, 'created': '2019-05-24 09:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/7d1e11e4cc561c9ffe364f6a2baf17cb9b57195b', 'message': 'Fix loading of notification plugins\n\nInconsistent naming of plugins can cause an import error. This\ncommit standardises the naming so that all imports are parsed\ncorrectly.\n\nStory: 2005545\nTask: 30689\n\nChange-Id: Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da\n(cherry picked from commit 36bf8595c4c718c6250a1b79d4837d83f16cc53a)\n'}, {'number': 3, 'created': '2019-05-30 08:45:27.000000000', 'files': ['monasca_notification/conf/__init__.py', 'monasca_notification/conf/notifiers.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/8e36cd14f353aaae69fa4faba7e800100197e241', 'message': 'Fix loading of notification plugins\n\nInconsistent naming of plugins can cause an import error. This\ncommit standardises the naming so that all imports are parsed\ncorrectly.\n\nStory: 2005545\nTask: 30689\n\nChange-Id: Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da\n(cherry picked from commit 36bf8595c4c718c6250a1b79d4837d83f16cc53a)\n'}]",1,656763,8e36cd14f353aaae69fa4faba7e800100197e241,16,5,3,17669,,,0,"Fix loading of notification plugins

Inconsistent naming of plugins can cause an import error. This
commit standardises the naming so that all imports are parsed
correctly.

Story: 2005545
Task: 30689

Change-Id: Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da
(cherry picked from commit 36bf8595c4c718c6250a1b79d4837d83f16cc53a)
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/63/656763/3 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_notification/conf/__init__.py', 'monasca_notification/conf/notifiers.py']",2,5e81dc182992a5919aae3074ca98a9b3817b8d77,," 'hipchat': 'monasca_notification.plugins.hipchat_notifier:HipChatNotifier', 'slack': 'monasca_notification.plugins.slack_notifier:SlackNotifier', 'jira': 'monasca_notification.plugins.jira_notifier:JiraNotifier'"," 'hipchat': 'monasca_notification.plugins.hipchat_notifier.HipChatNotifier', 'slack': 'monasca_notification.plugins.slack_notifier.SlackNotifier', 'jira': 'monasca_notification.plugins.jira_notifier.JiraNotifier'",4,4
openstack%2Fnova~master~I4bc81b482380c5778781659c4d167a712316dab4,openstack/nova,master,I4bc81b482380c5778781659c4d167a712316dab4,cleanup evacuated instances not on hypervisor,MERGED,2017-10-17 13:46:09.000000000,2019-05-30 11:23:13.000000000,2019-05-29 22:41:46.000000000,"[{'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17685}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26311}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-17 13:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a33f0b0954cfbce0c531e04c4aab54ef3ae3a1d', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestorys instances that were evacuated from the host while it was down.\nHowever these code path only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 2, 'created': '2017-10-17 15:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de3a6a14d841da2635ecbb73ca648e81e01a42a3', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestorys instances that were evacuated from the host while it was down.\nHowever these code path only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 3, 'created': '2018-01-29 16:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd5eef9514001574c567c44718e786ed910f454c', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code path only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 4, 'created': '2018-01-30 08:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13aef8d7a2ae8b73a875d7b9e327c0b6dcbd2894', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code path only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 5, 'created': '2018-03-07 14:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ef865ec47cefdc06710861f15c9dd413b52a145', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code path only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 6, 'created': '2018-03-08 11:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/698fdbdc0699e89a627c64c3906b7dd366f357d7', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code path only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 7, 'created': '2018-04-25 13:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81e1314c996c5245650c17be92fefba743b40c42', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code path only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 8, 'created': '2018-04-26 08:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d28afd84ac39e9b5aca43059e03448c1f181bed4', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code path only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 9, 'created': '2018-07-03 12:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5211ac2190409b1200be6c4c4de159648d5e97ec', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code path only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 10, 'created': '2018-07-16 13:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af9aebe6b03487907dfcf7b80f3c58dad0dc3ebb', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code path only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 11, 'created': '2018-07-30 11:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce09314403b0eccdef12c95d604bfccaa372d382', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code path only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 12, 'created': '2019-05-01 23:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c3063e44a16dcb5c11be01e313fdb5f78954eb7', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code paths only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 13, 'created': '2019-05-23 10:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93e36137b99f43c1f05e997b706ee35b6d260dab', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code paths only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 14, 'created': '2019-05-23 10:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dfb9a3ef44fbab7ff04d3b1e85a87403485fac4', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code paths only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}, {'number': 15, 'created': '2019-05-28 16:01:15.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9cacaad14e8c18e99e85d9dc04308fee91303f8f', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code paths only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nNote that the functional test coverage will be added on top as it needs\nsome refactoring that would make the bugfix non backportable.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n""}]",16,512623,9cacaad14e8c18e99e85d9dc04308fee91303f8f,233,26,15,9708,,,0,"cleanup evacuated instances not on hypervisor

When the compute host recovers from a failure the compute manager
destroys instances that were evacuated from the host while it was down.
However these code paths only consider evacuated instances that are
still reported by the hypervisor. This means that if the compute
host is recovered in a way that the hypervisor lost the definition
of the instances (for example the compute host was redeployed) then
the allocation of these instances will not be deleted.

This patch makes sure that the instance allocation is cleaned up
even if the driver doesn't return that instance as exists on the
hypervisor.

Note that the functional test coverage will be added on top as it needs
some refactoring that would make the bugfix non backportable.

Change-Id: I4bc81b482380c5778781659c4d167a712316dab4
Closes-Bug: #1724172
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/512623/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py']",3,7a33f0b0954cfbce0c531e04c4aab54ef3ae3a1d,bug/1724172," self._test_evacuate(clean_hypervisor=True) def _test_evacuate_forced_host(self, clean_hypervisor): self.compute1 = self.restart_compute_service( self.compute1, keep_hypervisor_state=not clean_hypervisor) def test_evacuate_forced_host_instance_kept_on_the_hypervisor(self): self._test_evacuate_forced_host(clean_hypervisor=False) def test_evacuate_forced_host_clean_hypervisor(self): self._test_evacuate_forced_host(clean_hypervisor=True) def _test_evacuate_claim_on_dest_fails(self, clean_hypervisor): self.compute1 = self.restart_compute_service( self.compute1, keep_hypervisor_state=not clean_hypervisor) def test_evacuate_claim_on_dest_fails_instance_kept_on_the_hypervisor( self): self._test_evacuate_claim_on_dest_fails(clean_hypervisor=False) def test_evacuate_claim_on_dest_fails_clean_hypervisor(self): self._test_evacuate_claim_on_dest_fails(clean_hypervisor=True) def _test_evacuate_rebuild_on_dest_fails(self, clean_hypervisor): self.compute1 = self.restart_compute_service( self.compute1, keep_hypervisor_state=not clean_hypervisor) def test_evacuate_rebuild_on_dest_fails_instance_kept_on_the_hypervisor( self): self._test_evacuate_rebuild_on_dest_fails(clean_hypervisor=False) def test_evacuate_rebuild_on_dest_fails_clean_hypervisor(self): self._test_evacuate_rebuild_on_dest_fails(clean_hypervisor=True) "," # The _test_evacuate call is inlined here to reproduce bug 1724172. # After that bug is solved this whole function body should be replaced # with a simple call: # self._test_evacuate(clean_hypervisor=True) source_hostname = self.compute1.host dest_hostname = self.compute2.host server = self._boot_and_check_allocations( self.flavor1, source_hostname) source_compute_id = self.admin_api.get_services( host=source_hostname, binary='nova-compute')[0]['id'] self.compute1.stop() # force it down to avoid waiting for the service group to time out self.admin_api.put_service( source_compute_id, {'forced_down': 'true'}) # evacuate the server post = {'evacuate': {}} self.api.post_server_action( server['id'], post) expected_params = {'OS-EXT-SRV-ATTR:host': dest_hostname, 'status': 'ACTIVE'} server = self._wait_for_server_parameter(self.api, server, expected_params) # Expect to have allocation and usages on both computes as the # source compute is still down source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) # restart the source compute self.compute1 = self.restart_compute_service( self.compute1, keep_hypervisor_state=False) self.admin_api.put_service( source_compute_id, {'forced_down': 'false'}) source_usages = self._get_provider_usages(source_rp_uuid) # This is bug 1724172 as the allocation is not removed from the source # host during the startup of the compute service. self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) # This is bug 1724172 self.assertEqual(2, len(allocations)) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) # This is bug 1724172 source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) self._delete_and_check_allocations( server, source_rp_uuid, dest_rp_uuid) def test_evacuate_forced_host(self): self.compute1 = self.restart_compute_service(self.compute1) def test_evacuate_claim_on_dest_fails(self): self.compute1 = self.restart_compute_service(self.compute1) def test_evacuate_rebuild_on_dest_fails(self): self.compute1 = self.restart_compute_service(self.compute1)",151,92
openstack%2Fopenstackdocstheme~master~I83f72ee18c0700aa11ae50287335fdc3ddeb560e,openstack/openstackdocstheme,master,I83f72ee18c0700aa11ae50287335fdc3ddeb560e,css: Don't use bold text in titles (StarlingX),MERGED,2019-05-29 14:47:39.000000000,2019-05-30 11:13:51.000000000,2019-05-30 11:13:51.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 14:47:39.000000000', 'files': ['openstackdocstheme/theme/starlingxdocs/static/css/combined.css'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/65e993935dd54b0aa8f79ee848e97cf0e8f68c9b', 'message': ""css: Don't use bold text in titles (StarlingX)\n\nThis was already done for the 'openstackdocs' theme in change\nI43d6f4f58e385e189c4f377ba02a6f9294862fe4 but was missed for the\n'starlingxdocs' theme. Correct this.\n\nChange-Id: I83f72ee18c0700aa11ae50287335fdc3ddeb560e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-Bug: #1818840\n""}]",0,662001,65e993935dd54b0aa8f79ee848e97cf0e8f68c9b,7,3,1,15334,,,0,"css: Don't use bold text in titles (StarlingX)

This was already done for the 'openstackdocs' theme in change
I43d6f4f58e385e189c4f377ba02a6f9294862fe4 but was missed for the
'starlingxdocs' theme. Correct this.

Change-Id: I83f72ee18c0700aa11ae50287335fdc3ddeb560e
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Related-Bug: #1818840
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/01/662001/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/starlingxdocs/static/css/combined.css'],1,65e993935dd54b0aa8f79ee848e97cf0e8f68c9b,update-bootstrap,"div.docs-body h1 code.literal, div.docs-body h2 code.literal, div.docs-body h3 code.literal, div.docs-body h4 code.literal, div.docs-body h5 code.literal, div.docs-body h6 code.literal { color: inherit; font-weight: inherit; } div.docs-body p code.literal {",div.docs-body code.literal {,11,1
openstack%2Ftripleo-upgrade~stable%2Fstein~If50109753d4845357c869986c256186e8e22006d,openstack/tripleo-upgrade,stable/stein,If50109753d4845357c869986c256186e8e22006d,Add support for network-data-file.,MERGED,2019-05-29 12:55:16.000000000,2019-05-30 10:49:46.000000000,2019-05-30 10:49:46.000000000,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-29 12:55:16.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/common/auxilary-facts.yaml', 'templates/overcloud_update_converge.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/44810b2a10a712eee64de119a90b02b13360be19', 'message': 'Add support for network-data-file.\n\nTripleO offers a default network topology when deploying\nwith network isolation enabled, and this is reflected in\nthe network_data.yaml file in tripleo-heat-templates.\nIf this is the case it has to be handled during update/upgrade.\n\nChange-Id: If50109753d4845357c869986c256186e8e22006d\n(cherry picked from commit 663d380f6fe0e21d58de3aa55cce3cdf9c849ef1)\n'}]",0,661972,44810b2a10a712eee64de119a90b02b13360be19,7,4,1,21537,,,0,"Add support for network-data-file.

TripleO offers a default network topology when deploying
with network isolation enabled, and this is reflected in
the network_data.yaml file in tripleo-heat-templates.
If this is the case it has to be handled during update/upgrade.

Change-Id: If50109753d4845357c869986c256186e8e22006d
(cherry picked from commit 663d380f6fe0e21d58de3aa55cce3cdf9c849ef1)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/72/661972/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_prepare.sh.j2', 'tasks/common/auxilary-facts.yaml', 'templates/overcloud_update_converge.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2']",5,44810b2a10a712eee64de119a90b02b13360be19,network-data-file-stable/stein, {% if network_data_file|length >0 -%} -n {{ network_data_file }} \ {% endif -%},,21,0
openstack%2Fcharm-glance~stable%2F19.04~I6e77bba1d66ea08671d45c464d4e76796a4e6ab9,openstack/charm-glance,stable/19.04,I6e77bba1d66ea08671d45c464d4e76796a4e6ab9,Sync in CephContext fix,MERGED,2019-05-29 15:06:47.000000000,2019-05-30 10:30:45.000000000,2019-05-30 10:30:45.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-05-29 15:06:47.000000000', 'files': ['charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/5297ec1a07d728b689471d561aed18a094e962ec', 'message': 'Sync in CephContext fix\n\nChange-Id: I6e77bba1d66ea08671d45c464d4e76796a4e6ab9\n'}]",0,662015,5297ec1a07d728b689471d561aed18a094e962ec,11,5,1,20634,,,0,"Sync in CephContext fix

Change-Id: I6e77bba1d66ea08671d45c464d4e76796a4e6ab9
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/15/662015/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/context.py'],1,5297ec1a07d728b689471d561aed18a094e962ec,," def context_complete(self, ctxt): """"""Overridden here to ensure the context is actually complete. We set `key` and `auth` to None here, by default, to ensure that the context will always evaluate to incomplete until the Ceph relation has actually sent these details; otherwise, there is a potential race condition between the relation appearing and the first unit actually setting this data on the relation. :param ctxt: The current context members :type ctxt: Dict[str, ANY] :returns: True if the context is complete :rtype: bool """""" if 'auth' not in ctxt or 'key' not in ctxt: return False return super(CephContext, self).context_complete(ctxt) ",,19,0
openstack%2Fpython-novaclient~master~Ia9a706e7d27f352e50d3c0037fed020fede7d915,openstack/python-novaclient,master,Ia9a706e7d27f352e50d3c0037fed020fede7d915,pypy is not checked at gate,ABANDONED,2018-03-21 16:27:54.000000000,2019-05-30 10:21:35.000000000,,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 16:27:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6a3876fbc0641f64ece980e1d006d3ea7e26c2b4', 'message': 'pypy is not checked at gate\n\nChange-Id: Ia9a706e7d27f352e50d3c0037fed020fede7d915\n'}]",0,554983,6a3876fbc0641f64ece980e1d006d3ea7e26c2b4,5,3,1,25983,,,0,"pypy is not checked at gate

Change-Id: Ia9a706e7d27f352e50d3c0037fed020fede7d915
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/83/554983/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6a3876fbc0641f64ece980e1d006d3ea7e26c2b4,,"envlist = py35,py27,pep8,docs","envlist = py35,py27,pypy,pep8,docs",1,1
openstack%2Fnova~stable%2Fqueens~I29c5f491ec20a71283190a1599e7732541de736f,openstack/nova,stable/queens,I29c5f491ec20a71283190a1599e7732541de736f,Delete allocations even if _confirm_resize raises,MERGED,2019-04-12 21:10:39.000000000,2019-05-30 10:13:19.000000000,2019-05-30 10:13:19.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14567}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28001}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-04-12 21:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f370a7b3588cd9d09775126bd0da8f39a81d202c', 'message': 'Delete allocations even if _confirm_resize raises\n\nWhen we are confirming a resize, the guest is on the dest\nhost and the instance host/node values in the database\nare pointing at the dest host, so the _confirm_resize method\non the source is really best effort. If something fails, we\nshould not leak allocations in placement for the source compute\nnode resource provider since the instance is not actually\nconsuming the source node provider resources.\n\nThis change refactors the error handling around the _confirm_resize\ncall so the big nesting for _error_out_instance_on_exception is\nmoved to confirm_resize and then a try/finally is added around\n_confirm_resize so we can be sure to try and cleanup the allocations\neven if _confirm_resize fails in some obscure way. If _confirm_resize\ndoes fail, the error gets re-raised along with logging a traceback\nand hint about how to correct the instance state in the DB by hard\nrebooting the server on the dest host.\n\nChange-Id: I29c5f491ec20a71283190a1599e7732541de736f\nCloses-Bug: #1821594\n(cherry picked from commit 03a6d26691c1f182224d59190b79f48df278099e)\n(cherry picked from commit 5f515060f6c79f113f7b8107596e41056445c79f)\n(cherry picked from commit a6949a58de904ae423718d05e2700a16307a583b)\n'}, {'number': 2, 'created': '2019-05-24 16:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c86d6cfa6767c6f3851833bf8e085ec097d75872', 'message': 'Delete allocations even if _confirm_resize raises\n\nWhen we are confirming a resize, the guest is on the dest\nhost and the instance host/node values in the database\nare pointing at the dest host, so the _confirm_resize method\non the source is really best effort. If something fails, we\nshould not leak allocations in placement for the source compute\nnode resource provider since the instance is not actually\nconsuming the source node provider resources.\n\nThis change refactors the error handling around the _confirm_resize\ncall so the big nesting for _error_out_instance_on_exception is\nmoved to confirm_resize and then a try/finally is added around\n_confirm_resize so we can be sure to try and cleanup the allocations\neven if _confirm_resize fails in some obscure way. If _confirm_resize\ndoes fail, the error gets re-raised along with logging a traceback\nand hint about how to correct the instance state in the DB by hard\nrebooting the server on the dest host.\n\nChange-Id: I29c5f491ec20a71283190a1599e7732541de736f\nCloses-Bug: #1821594\n(cherry picked from commit 03a6d26691c1f182224d59190b79f48df278099e)\n(cherry picked from commit 5f515060f6c79f113f7b8107596e41056445c79f)\n(cherry picked from commit a6949a58de904ae423718d05e2700a16307a583b)\n'}, {'number': 3, 'created': '2019-05-29 00:50:57.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b8435d6001c30e67ac277e414b11708d4d660555', 'message': 'Delete allocations even if _confirm_resize raises\n\nWhen we are confirming a resize, the guest is on the dest\nhost and the instance host/node values in the database\nare pointing at the dest host, so the _confirm_resize method\non the source is really best effort. If something fails, we\nshould not leak allocations in placement for the source compute\nnode resource provider since the instance is not actually\nconsuming the source node provider resources.\n\nThis change refactors the error handling around the _confirm_resize\ncall so the big nesting for _error_out_instance_on_exception is\nmoved to confirm_resize and then a try/finally is added around\n_confirm_resize so we can be sure to try and cleanup the allocations\neven if _confirm_resize fails in some obscure way. If _confirm_resize\ndoes fail, the error gets re-raised along with logging a traceback\nand hint about how to correct the instance state in the DB by hard\nrebooting the server on the dest host.\n\nChange-Id: I29c5f491ec20a71283190a1599e7732541de736f\nCloses-Bug: #1821594\n(cherry picked from commit 03a6d26691c1f182224d59190b79f48df278099e)\n(cherry picked from commit 5f515060f6c79f113f7b8107596e41056445c79f)\n(cherry picked from commit 37ac54a42ec91821d62864d63c486c002608491b)\n'}]",0,652153,b8435d6001c30e67ac277e414b11708d4d660555,31,14,3,6873,,,0,"Delete allocations even if _confirm_resize raises

When we are confirming a resize, the guest is on the dest
host and the instance host/node values in the database
are pointing at the dest host, so the _confirm_resize method
on the source is really best effort. If something fails, we
should not leak allocations in placement for the source compute
node resource provider since the instance is not actually
consuming the source node provider resources.

This change refactors the error handling around the _confirm_resize
call so the big nesting for _error_out_instance_on_exception is
moved to confirm_resize and then a try/finally is added around
_confirm_resize so we can be sure to try and cleanup the allocations
even if _confirm_resize fails in some obscure way. If _confirm_resize
does fail, the error gets re-raised along with logging a traceback
and hint about how to correct the instance state in the DB by hard
rebooting the server on the dest host.

Change-Id: I29c5f491ec20a71283190a1599e7732541de736f
Closes-Bug: #1821594
(cherry picked from commit 03a6d26691c1f182224d59190b79f48df278099e)
(cherry picked from commit 5f515060f6c79f113f7b8107596e41056445c79f)
(cherry picked from commit 37ac54a42ec91821d62864d63c486c002608491b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/652153/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,f370a7b3588cd9d09775126bd0da8f39a81d202c,bug/1821594," with self._error_out_instance_on_exception(context, instance): old_instance_type = instance.old_flavor try: self._confirm_resize( context, instance, migration=migration) except Exception: # Something failed when cleaning up the source host so # log a traceback and leave a hint about hard rebooting # the server to correct its state in the DB. with excutils.save_and_reraise_exception(logger=LOG): LOG.exception( 'Confirm resize failed on source host %s. ' 'Resource allocations in the placement service ' 'will be removed regardless because the instance ' 'is now on the destination host %s. You can try ' 'hard rebooting the instance to correct its ' 'state.', self.host, migration.dest_compute, instance=instance) finally: # Whether an error occurred or not, at this point the # instance is on the dest host so to avoid leaking # allocations in placement, delete them here. self._delete_allocation_after_move( context, instance, migration, old_instance_type, migration.source_node) # NOTE(danms): delete stashed migration information old_instance_type = instance.old_flavor instance.old_flavor = None instance.new_flavor = None instance.system_metadata.pop('old_vm_state', None) instance.save() # NOTE(tr3buchet): tear down networks on source host self.network_api.setup_networks_on_host(context, instance, migration.source_compute, teardown=True) network_info = self.network_api.get_instance_nw_info(context, instance) # TODO(mriedem): Get BDMs here and pass them to the driver. self.driver.confirm_migration(context, migration, instance, network_info) migration.status = 'confirmed' with migration.obj_as_admin(): migration.save() rt = self._get_resource_tracker() rt.drop_move_claim(context, instance, migration.source_node, old_instance_type, prefix='old_') instance.drop_migration_context() # NOTE(mriedem): The old_vm_state could be STOPPED but the user # might have manually powered up the instance to confirm the # resize/migrate, so we need to check the current power state # on the instance and set the vm_state appropriately. We default # to ACTIVE because if the power state is not SHUTDOWN, we # assume _sync_instance_power_state will clean it up. p_state = instance.power_state vm_state = None if p_state == power_state.SHUTDOWN: vm_state = vm_states.STOPPED LOG.debug(""Resized/migrated instance is powered off. "" ""Setting vm_state to '%s'."", vm_state, instance=instance) else: vm_state = vm_states.ACTIVE instance.vm_state = vm_state instance.task_state = None instance.save(expected_task_state=[None, task_states.DELETING, task_states.SOFT_DELETING]) self._notify_about_instance_usage( context, instance, ""resize.confirm.end"", network_info=network_info) compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.RESIZE_CONFIRM, phase=fields.NotificationPhase.END)"," self._confirm_resize(context, instance, migration=migration) with self._error_out_instance_on_exception(context, instance): # NOTE(danms): delete stashed migration information old_instance_type = instance.old_flavor instance.old_flavor = None instance.new_flavor = None instance.system_metadata.pop('old_vm_state', None) instance.save() # NOTE(tr3buchet): tear down networks on source host self.network_api.setup_networks_on_host(context, instance, migration.source_compute, teardown=True) network_info = self.network_api.get_instance_nw_info(context, instance) # TODO(mriedem): Get BDMs here and pass them to the driver. self.driver.confirm_migration(context, migration, instance, network_info) migration.status = 'confirmed' with migration.obj_as_admin(): migration.save() rt = self._get_resource_tracker() rt.drop_move_claim(context, instance, migration.source_node, old_instance_type, prefix='old_') self._delete_allocation_after_move(context, instance, migration, old_instance_type, migration.source_node) instance.drop_migration_context() # NOTE(mriedem): The old_vm_state could be STOPPED but the user # might have manually powered up the instance to confirm the # resize/migrate, so we need to check the current power state # on the instance and set the vm_state appropriately. We default # to ACTIVE because if the power state is not SHUTDOWN, we # assume _sync_instance_power_state will clean it up. p_state = instance.power_state vm_state = None if p_state == power_state.SHUTDOWN: vm_state = vm_states.STOPPED LOG.debug(""Resized/migrated instance is powered off. "" ""Setting vm_state to '%s'."", vm_state, instance=instance) else: vm_state = vm_states.ACTIVE instance.vm_state = vm_state instance.task_state = None instance.save(expected_task_state=[None, task_states.DELETING, task_states.SOFT_DELETING]) self._notify_about_instance_usage( context, instance, ""resize.confirm.end"", network_info=network_info) compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.RESIZE_CONFIRM, phase=fields.NotificationPhase.END)",88,56
