id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron~master~I7ad81d4a9028d88251c9dcfe07969dd2dd398592,openstack/neutron,master,I7ad81d4a9028d88251c9dcfe07969dd2dd398592,[Doc] packet rate limit user workflow and notes,MERGED,2022-02-10 07:47:17.000000000,2022-05-02 11:14:11.000000000,2022-05-02 11:12:22.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32029}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-02-10 07:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc16dddf7734a9b4aaf5d86a6d5992d39d152653', 'message': '[Doc] packet rete limit user workflow and notes\n\nAdds some notes and CLI examples for users to use the\npacket rate limit to a port.\n\nChange-Id: I7ad81d4a9028d88251c9dcfe07969dd2dd398592\n'}, {'number': 2, 'created': '2022-02-11 02:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bed1f95a993ec4e96f1b14bada4e9a517fad7203', 'message': '[Doc] packet rete limit user workflow and notes\n\nAdds some notes and CLI examples for users to use the\npacket rate limit to a port.\n\nChange-Id: I7ad81d4a9028d88251c9dcfe07969dd2dd398592\n'}, {'number': 3, 'created': '2022-02-23 01:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88f29c1b5da7b5452f29ed12c6d77c1aa06e9f91', 'message': '[Doc] packet rete limit user workflow and notes\n\nAdds some notes and CLI examples for users to use the\npacket rate limit to a port.\n\nChange-Id: I7ad81d4a9028d88251c9dcfe07969dd2dd398592\n'}, {'number': 4, 'created': '2022-02-28 02:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d304e53c595d394bda2fe900a46fc27751fa3402', 'message': '[Doc] packet rete limit user workflow and notes\n\nAdds some notes and CLI examples for users to use the\npacket rate limit to a port.\n\nChange-Id: I7ad81d4a9028d88251c9dcfe07969dd2dd398592\n'}, {'number': 5, 'created': '2022-03-15 02:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2092ebd7f2942931a5c6b03dac2778ccc41a2248', 'message': '[Doc] packet rete limit user workflow and notes\n\nAdds some notes and CLI examples for users to use the\npacket rate limit to a port.\n\nChange-Id: I7ad81d4a9028d88251c9dcfe07969dd2dd398592\n'}, {'number': 6, 'created': '2022-03-17 01:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7abbdfae903684cada7c7af03afb78f4042781f9', 'message': '[Doc] packet rete limit user workflow and notes\n\nAdds some notes and CLI examples for users to use the\npacket rate limit to a port.\n\nChange-Id: I7ad81d4a9028d88251c9dcfe07969dd2dd398592\n'}, {'number': 7, 'created': '2022-04-08 00:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ae8ed4008c67b69d4f828b06a08b31e2e76865e', 'message': '[Doc] packet rate limit user workflow and notes\n\nAdds some notes and CLI examples for users to use the\npacket rate limit to a port.\n\nChange-Id: I7ad81d4a9028d88251c9dcfe07969dd2dd398592\n'}, {'number': 8, 'created': '2022-04-29 21:05:12.000000000', 'files': ['doc/source/admin/config-qos.rst', 'devstack/ovn-local.conf.sample'], 'web_link': 'https://opendev.org/openstack/neutron/commit/76d0839db82d8e9470a7e047961718798f4709e7', 'message': '[Doc] packet rate limit user workflow and notes\n\nAdds some notes and CLI examples for users to use the\npacket rate limit to a port.\n\nChange-Id: I7ad81d4a9028d88251c9dcfe07969dd2dd398592\n'}]",24,828673,76d0839db82d8e9470a7e047961718798f4709e7,42,8,8,9531,,,0,"[Doc] packet rate limit user workflow and notes

Adds some notes and CLI examples for users to use the
packet rate limit to a port.

Change-Id: I7ad81d4a9028d88251c9dcfe07969dd2dd398592
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/828673/8 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-qos.rst'],1,dc16dddf7734a9b4aaf5d86a6d5992d39d152653,packet_rate_limit,* packet_rate_limit: Packet rate limitations on certain types of traffic. Packet rate limit Egress \\ Ingress - - -Create qos policy with packet rate limit rules: .. code-block:: console $ openstack network qos policy create pps-limiter +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | description | | | id | 97f0ac37-7dd6-4579-8359-3bef0751a505 | | is_default | False | | name | pps-limiter | | project_id | 1d70739f831b421fb38a27adb368fc17 | | rules | [] | | shared | False | | tags | [] | +-------------+--------------------------------------+ $ openstack network qos rule create --max-kpps 1000 --max-burst-kpps 100 --ingress --type packet-rate-limit pps-limiter +----------------+--------------------------------------+ | Field | Value | +----------------+--------------------------------------+ | direction | ingress | | id | 4a1cb166-9661-48d7-bddb-00b7d75846cd | | max_burst_kpps | 100 | | max_kpps | 1000 | | name | None | | project_id | | +----------------+--------------------------------------+ $ openstack network qos rule create --max-kpps 1000 --max-burst-kpps 100 --egress --type packet-rate-limit pps-limiter +----------------+--------------------------------------+ | Field | Value | +----------------+--------------------------------------+ | direction | egress | | id | 6abd67f7-0bde-4ad3-ac54-b0a6103b0449 | | max_burst_kpps | 100 | | max_kpps | 1000 | | name | None | | project_id | | +----------------+--------------------------------------+ .. note:: The unit for the rate and burst is kilo (1000) packets per second. Now apply the packet rete limit QoS policy to a Port: .. code-block:: console $ openstack port set --qos-policy pps-limiter 251948bd-08e4-4569-a47f-ecbc1fd4af4d .. note:: Packet rate limit is only supported on ml2 ovs driver. Ant it leverages the meter actions of ovs kernel datapath or userspace ovs dpdk datapah. The meter action is only supoorted when datapath is in user mode (with ovs >= 2.7) or ovs kernel datapath with kernerl version >= 4.15 (and ovs >= 2.10).,,58,0
openstack%2Ftripleo-common~stable%2Fwallaby~I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b,openstack/tripleo-common,stable/wallaby,I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b,Remove tripleo-build-containers-jobs template from zuul layout,MERGED,2022-04-27 11:53:09.000000000,2022-05-02 11:14:06.000000000,2022-05-02 11:09:38.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-04-27 11:53:09.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d14d6fe7e0a032e372739ba1afb5a6607e84c7e3', 'message': 'Remove tripleo-build-containers-jobs template from zuul layout\n\nThis removes tripleo-build-containers-jobs as this only contains\ncentos-7 jobs [1] and they are being removed with [2].\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127\n[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e\n\nChange-Id: I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b\n'}]",1,839531,d14d6fe7e0a032e372739ba1afb5a6607e84c7e3,10,4,1,8449,,,0,"Remove tripleo-build-containers-jobs template from zuul layout

This removes tripleo-build-containers-jobs as this only contains
centos-7 jobs [1] and they are being removed with [2].

[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127
[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e

Change-Id: I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/31/839531/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d14d6fe7e0a032e372739ba1afb5a6607e84c7e3,ooo_c7_teardown,, - tripleo-build-containers-jobs,0,1
openstack%2Ftripleo-common~stable%2Ftrain~I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b,openstack/tripleo-common,stable/train,I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b,Remove tripleo-build-containers-jobs template from zuul layout,MERGED,2022-04-27 11:56:10.000000000,2022-05-02 11:13:34.000000000,2022-05-02 11:09:35.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-04-27 11:56:10.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7fcd60cd9c5185bed03324d23817145b93d1eb54', 'message': 'Remove tripleo-build-containers-jobs template from zuul layout\n\nThis removes tripleo-build-containers-jobs as this only contains\ncentos-7 jobs [1] and they are being removed with [2].\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127\n[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e\n\nChange-Id: I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b\n'}]",1,839533,7fcd60cd9c5185bed03324d23817145b93d1eb54,10,4,1,8449,,,0,"Remove tripleo-build-containers-jobs template from zuul layout

This removes tripleo-build-containers-jobs as this only contains
centos-7 jobs [1] and they are being removed with [2].

[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127
[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e

Change-Id: I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/33/839533/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,7fcd60cd9c5185bed03324d23817145b93d1eb54,ooo_c7_teardown,, - tripleo-build-containers-jobs,0,1
openstack%2Fmonasca-ui~master~I0f7a59d28f8611ccaf66143ea6cdf0a89cedf80f,openstack/monasca-ui,master,I0f7a59d28f8611ccaf66143ea6cdf0a89cedf80f,Address RemovedInDjango40Warning,MERGED,2022-04-29 12:01:28.000000000,2022-05-02 11:00:27.000000000,2022-05-02 11:00:27.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-04-29 12:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/9282d3a59dd2713f3515a7850fd5c182d4f4a8b8', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I0f7a59d28f8611ccaf66143ea6cdf0a89cedf80f\n'}, {'number': 2, 'created': '2022-04-29 16:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/66c5797ad11c32b9763a3a46a73c8d6d72050098', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I0f7a59d28f8611ccaf66143ea6cdf0a89cedf80f\n'}, {'number': 3, 'created': '2022-04-29 16:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/8ee37d6c14611e893906b972b35cbbddecfcf617', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I0f7a59d28f8611ccaf66143ea6cdf0a89cedf80f\n'}, {'number': 4, 'created': '2022-04-29 17:11:43.000000000', 'files': ['monitoring/alarmdefs/urls.py', 'monitoring/overview/urls.py', 'monitoring/alarms/urls.py', 'monitoring/notifications/urls.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/6289954907a54724befcbbafea9b7aeeb6d9738a', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I0f7a59d28f8611ccaf66143ea6cdf0a89cedf80f\n'}]",24,839934,6289954907a54724befcbbafea9b7aeeb6d9738a,12,2,4,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: I0f7a59d28f8611ccaf66143ea6cdf0a89cedf80f
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/34/839934/4 && git format-patch -1 --stdout FETCH_HEAD,"['monitoring/alarmdefs/urls.py', 'monitoring/overview/urls.py', 'monitoring/alarms/urls.py', 'monitoring/notifications/urls.py']",4,9282d3a59dd2713f3515a7850fd5c182d4f4a8b8,,"from django.urls import re_path re_path(r'^$', views.IndexView.as_view(), name='index'), re_path(r'^notification_create$', views.NotificationCreateView.as_view(), name='notification_create'), re_path(r'^notification_edit/(?P<id>[^/]+)$', views.NotificationEditView.as_view(), name='notification_edit')","from django.conf.urls import url # noqa url(r'^$', views.IndexView.as_view(), name='index'), url(r'^notification_create$', views.NotificationCreateView.as_view(), name='notification_create'), url(r'^notification_edit/(?P<id>[^/]+)$', views.NotificationEditView.as_view(), name='notification_edit')",40,40
openstack%2Fkolla-ansible~master~Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a,openstack/kolla-ansible,master,Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a,Multiple DHCP ranges for Ironic Inspector,MERGED,2021-11-08 20:12:27.000000000,2022-05-02 10:51:56.000000000,2022-05-02 10:50:39.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-08 20:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/43dbf653709b08e3ccf6fd5a4f9fac8e3394ca5b', 'message': ""Multiple DHCP Subnets for Ironic Inspector\n\nAdd the new parameter 'ironic_dnsmasq_dhcp_subnets' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple subnets. Assigning\nadditional subnets allows dnsmasq to serve DHCP requests that came in\nvia DHCP relay/helper.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for an only subnet will be\ndeprecated in the future. For now, the old configuration method still\ncan be used for backward compatibility, but the new is preferred.\n\nThis cnange implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso this change contains Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix adds the default small enough value for the lease time wich allow\nto use small pools of IPs for inspection.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 2, 'created': '2022-01-13 14:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed6426b433332f1d4fd6a1e313089ad9df4e3f02', 'message': ""Multiple DHCP Subnets for Ironic Inspector\n\nAdd the new parameter 'ironic_dnsmasq_dhcp_subnets' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple subnets. Assigning\nadditional subnets allows dnsmasq to serve DHCP requests that came in\nvia DHCP relay/helper.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for an only subnet are now\ndeprecated.\n\nThis cnange implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso this change contains Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix adds the default small enough value for the lease time wich allow\nto use small pools of IPs for inspection. The default value can be\nchanged globbaly or per subnet.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 3, 'created': '2022-01-13 14:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b429704a3527572f9ccf3ef3781981a5ac2d2f01', 'message': ""Multiple DHCP Subnets for Ironic Inspector\n\nAdd the new parameter 'ironic_dnsmasq_dhcp_subnets' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple subnets. Assigning\nadditional subnets allows dnsmasq to serve DHCP requests that came in\nvia DHCP relay/helper.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for an only subnet are now\ndeprecated.\n\nThis cnange implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso this change contains Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix adds the default small enough value for the lease time wich allow\nto use small pools of IPs for inspection. The default value can be\nchanged globbaly or per subnet.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 4, 'created': '2022-02-09 14:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42729df2d84e9c781661474f9cff76ea84ee28e8', 'message': ""Multiple DHCP Subnets for Ironic Inspector\n\nAdd the new parameter 'ironic_dnsmasq_dhcp_subnets' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple subnets. Assigning\nadditional subnets allows dnsmasq to serve DHCP requests that came in\nvia DHCP relay/helper.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for an only subnet are now\nremoved.\n\nThis cnange implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso this change contains Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix adds the default small enough value for the lease time wich allow\nto use small pools of IPs for inspection. The default value can be\nchanged globbaly or per subnet.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 5, 'created': '2022-03-18 12:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfc3ca34ddfaed5b0c15f86b17982566c551b9d7', 'message': ""Multiple DHCP Subnets for Ironic Inspector\n\nAdd the new parameter 'ironic_dnsmasq_dhcp_subnets' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple subnets. Assigning\nadditional subnets allows dnsmasq to serve DHCP requests that came in\nvia DHCP relay/helper.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for an only subnet are now\nremoved.\n\nThis cnange implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso this change contains Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix adds the default small enough value for the lease time wich allow\nto use small pools of IPs for inspection. The default value can be\nchanged globbaly or per subnet.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 6, 'created': '2022-03-18 15:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/90ec32ceb8ff06791add462c9950842cd6d1853d', 'message': ""Multiple DHCP Subnets for Ironic Inspector\n\nAdd the new parameter 'ironic_dnsmasq_dhcp_subnets' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple subnets. Assigning\nadditional subnets allows dnsmasq to serve DHCP requests that came in\nvia DHCP relay/helper.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for an only subnet are now\nremoved.\n\nThis cnange implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso this change contains Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix adds the default small enough value for the lease time wich allow\nto use small pools of IPs for inspection. The default value can be\nchanged globbaly or per subnet.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 7, 'created': '2022-03-18 16:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dabed869334b576ef30e7bf5e2e17734fe84e774', 'message': ""Multiple DHCP Subnets for Ironic Inspector\n\nAdd the new parameter 'ironic_dnsmasq_dhcp_subnets' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple subnets. Assigning\nadditional subnets allows dnsmasq to serve DHCP requests that came in\nvia DHCP relay/helper.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for an only subnet are now\nremoved.\n\nThis cnange implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso this change contains Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix adds the default small enough value for the lease time wich allow\nto use small pools of IPs for inspection. The default value can be\nchanged globbaly or per subnet.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 8, 'created': '2022-03-19 18:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a37d5c177bc145daaead78cc2ae4ce3f568004c', 'message': ""Multiple DHCP Subnets for Ironic Inspector\n\nAdd the new parameter 'ironic_dnsmasq_dhcp_subnets' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple subnets. Assigning\nadditional subnets allows dnsmasq to serve DHCP requests that came in\nvia DHCP relay/helper.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for an only subnet are now\nremoved.\n\nThis cnange implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso this change contains Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix adds the default small enough value for the lease time wich allow\nto use small pools of IPs for inspection. The default value can be\nchanged globbaly or per subnet.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 9, 'created': '2022-04-07 21:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ada47def6f1471c6f2ddcdc8d63a25707554bc54', 'message': ""Multiple DHCP Subnets for Ironic Inspector\n\nAdd the new parameter 'ironic_dnsmasq_dhcp_subnets' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple subnets. Assigning\nadditional subnets allows dnsmasq to serve DHCP requests that came in\nvia DHCP relay/helper.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for an only subnet are now\nremoved.\n\nThis cnange implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso this change contains Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix adds the default small enough value for the lease time wich allow\nto use small pools of IPs for inspection. The default value can be\nchanged globbaly or per subnet.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 10, 'created': '2022-04-13 18:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3b7acbb43a0daf477ae04a6086f64e76c162efb8', 'message': ""Multiple DHCP ranges for Ironic Inspector\n\nAdd a new parameter 'ironic_dnsmasq_dhcp_ranges' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple ranges.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for the only range are now\nremoved.\n\nThis change implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso, this change contains: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix for lease time.\nThe value can be changed globally or per range.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 11, 'created': '2022-04-13 18:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b829f9460765b04713df9ba786bd22a41acfadd', 'message': ""Multiple DHCP ranges for Ironic Inspector\n\nAdd a new parameter 'ironic_dnsmasq_dhcp_ranges' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple ranges.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for the only range are now\nremoved.\n\nThis change implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso, this change contains: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix for lease time.\nThe value can be changed globally or per range.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 12, 'created': '2022-04-13 19:26:31.000000000', 'files': ['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'releasenotes/notes/ironic-inspector-multiple-ranges-b7c734d38b90c331.yaml', 'tests/templates/globals-default.j2', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/ironic/tasks/precheck.yml', 'etc/kolla/globals.yml', 'doc/source/reference/bare-metal/ironic-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/762aecbfae0719a7d2fa15fd23ddd40c471be113', 'message': ""Multiple DHCP ranges for Ironic Inspector\n\nAdd a new parameter 'ironic_dnsmasq_dhcp_ranges' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple ranges.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for the only range are now\nremoved.\n\nThis change implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso, this change contains: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix for lease time.\nThe value can be changed globally or per range.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}]",113,817076,762aecbfae0719a7d2fa15fd23ddd40c471be113,87,6,12,14200,,,0,"Multiple DHCP ranges for Ironic Inspector

Add a new parameter 'ironic_dnsmasq_dhcp_ranges' and enable the
configuration of the corresponding 'dhcp-range' and 'dhcp-option'
blocks in Ironic Inspector dnsmasq for multiple ranges.

The old parameters 'ironic_dnsmasq_dhcp_range' and
'ironic_dnsmasq_default_gateway' used for the only range are now
removed.

This change implements the same solution used in the TripleO several
years ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d

Also, this change contains: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649
fix for lease time.
The value can be changed globally or per range.

Change-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/817076/7 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'releasenotes/notes/ironic-inspector-routed-networks-b7c734d38b90c331.yaml', 'ansible/roles/ironic/defaults/main.yml', 'tests/templates/globals-default.j2', 'ansible/roles/ironic/tasks/precheck.yml', 'etc/kolla/globals.yml', 'doc/source/reference/bare-metal/ironic-guide.rst']",7,43dbf653709b08e3ccf6fd5a4f9fac8e3394ca5b,ironic-inspector-routed-networks,"define a network to be used for the Ironic cleaning network:Finally, define at least one DHCP/BOOTP subnet with IP range for Ironic inspector: ironic_dnsmasq_dhcp_subnet: - ip_range: ""192.168.5.100,192.168.5.110"" Defining additional subnets allow dnsmasq used by Ironic inspector to serve DHCP requests that came in via DHCP relay/helper. In such case each tagged subnet should provide the netmask and gateway: .. code-block:: yaml ironic_dnsmasq_dhcp_subnet: - tag: ""subnet1"" ip_range: ""192.168.5.100,192.168.5.110"" netmask: ""255.255.255.0"" gateway: ""192.168.5.1"" - tag: ""subnet2"" ip_range: ""192.168.6.100,192.168.6.110"" netmask: ""255.255.255.0"" gateway: ""192.168.6.1""","a range of IP addresses that will be available for use by Ironic inspector. The optional netmask of the network should be provided in case when DHCP-relay is used. Finally, define a network to be used for the Ironic cleaning network: ironic_dnsmasq_dhcp_range: ""192.168.5.100,192.168.5.110,255.255.255.0""In the same file, optionally a default gateway to be used for the Ironic Inspector inspection network: ironic_dnsmasq_default_gateway: 192.168.5.1",111,14
openstack%2Fkolla-ansible~stable%2Fyoga~If4bc1fe1dcd61622c8ea48b00771d5115a63c9e0,openstack/kolla-ansible,stable/yoga,If4bc1fe1dcd61622c8ea48b00771d5115a63c9e0,Skip /etc/kolla/globals.d on host cleanup,MERGED,2022-04-29 16:22:56.000000000,2022-05-02 10:47:26.000000000,2022-05-02 10:46:16.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-29 16:22:56.000000000', 'files': ['tools/cleanup-host'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8371d979b6c07ec64eb56b5948c999672a67c6d5', 'message': 'Skip /etc/kolla/globals.d on host cleanup\n\nCloses-Bug: #1931042\nChange-Id: If4bc1fe1dcd61622c8ea48b00771d5115a63c9e0\n(cherry picked from commit ae89632faa12be498b127c97e313405d841cb0e7)\n'}]",1,839917,8371d979b6c07ec64eb56b5948c999672a67c6d5,10,3,1,13671,,,0,"Skip /etc/kolla/globals.d on host cleanup

Closes-Bug: #1931042
Change-Id: If4bc1fe1dcd61622c8ea48b00771d5115a63c9e0
(cherry picked from commit ae89632faa12be498b127c97e313405d841cb0e7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/839917/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/cleanup-host'],1,8371d979b6c07ec64eb56b5948c999672a67c6d5,bug/1931042-stable/yoga," [ ""$dir"" == ""$FOLDER_PATH/globals.d"" ] || \",,1,0
openstack%2Ftripleo-common~master~I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b,openstack/tripleo-common,master,I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b,Remove tripleo-build-containers-jobs template from zuul layout,MERGED,2022-04-27 11:52:49.000000000,2022-05-02 10:44:52.000000000,2022-05-02 10:42:30.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29775}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-04-27 11:52:49.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/852a2d8ed01b2d6da56d56c59fe53e724aa46f78', 'message': 'Remove tripleo-build-containers-jobs template from zuul layout\n\nThis removes tripleo-build-containers-jobs as this only contains\ncentos-7 jobs [1] and they are being removed with [2].\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127\n[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e\n\nChange-Id: I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b\n'}]",1,839515,852a2d8ed01b2d6da56d56c59fe53e724aa46f78,13,7,1,8449,,,0,"Remove tripleo-build-containers-jobs template from zuul layout

This removes tripleo-build-containers-jobs as this only contains
centos-7 jobs [1] and they are being removed with [2].

[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127
[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e

Change-Id: I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/15/839515/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,852a2d8ed01b2d6da56d56c59fe53e724aa46f78,ooo_c7_teardown,, - tripleo-build-containers-jobs,0,1
openstack%2Fmonasca-persister~master~I710eec1feec922c6b5532dc754ab0fe3e90d3ff8,openstack/monasca-persister,master,I710eec1feec922c6b5532dc754ab0fe3e90d3ff8,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:25:06.000000000,2022-05-02 10:16:55.000000000,2022-05-02 10:14:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-01 01:25:06.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/1ea4e21eb231e4fe193e62f1b03b957c9d4281c8', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I710eec1feec922c6b5532dc754ab0fe3e90d3ff8\n'}]",0,840082,1ea4e21eb231e4fe193e62f1b03b957c9d4281c8,7,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I710eec1feec922c6b5532dc754ab0fe3e90d3ff8
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/82/840082/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,1ea4e21eb231e4fe193e62f1b03b957c9d4281c8,drop-l-c,,"[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt .[influxdb,cassandra,elasticsearch] -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ",4,71
openstack%2Fdesignate-dashboard~master~Iac61d4d5c990fbcc3535f9e4d5eab765a3d88aee,openstack/designate-dashboard,master,Iac61d4d5c990fbcc3535f9e4d5eab765a3d88aee,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 20:58:23.000000000,2022-05-02 10:03:09.000000000,2022-05-02 10:00:53.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-04-30 20:58:23.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/08a5e392f17e8b2546cd1cd77b34d51e632929fb', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Iac61d4d5c990fbcc3535f9e4d5eab765a3d88aee\n'}]",2,840041,08a5e392f17e8b2546cd1cd77b34d51e632929fb,11,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Iac61d4d5c990fbcc3535f9e4d5eab765a3d88aee
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/41/840041/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,08a5e392f17e8b2546cd1cd77b34d51e632929fb,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,138
openstack%2Fpython-blazarclient~master~If4f5b6aff58241c16da70fcf61e5d00324a64af0,openstack/python-blazarclient,master,If4f5b6aff58241c16da70fcf61e5d00324a64af0,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 20:58:08.000000000,2022-05-02 10:01:56.000000000,2022-05-02 09:59:37.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-30 20:58:08.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/d2f6c39f5c7f377f6a35f40d9d1924e61df7da16', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: If4f5b6aff58241c16da70fcf61e5d00324a64af0\n'}]",1,840036,d2f6c39f5c7f377f6a35f40d9d1924e61df7da16,9,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: If4f5b6aff58241c16da70fcf61e5d00324a64af0
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/36/840036/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,d2f6c39f5c7f377f6a35f40d9d1924e61df7da16,drop-l-c,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,5,53
openstack%2Fpython-monascaclient~master~I4c4ec3ef3f6016206cab1ae697985eaef8e95293,openstack/python-monascaclient,master,I4c4ec3ef3f6016206cab1ae697985eaef8e95293,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:30:49.000000000,2022-05-02 09:53:38.000000000,2022-05-02 09:51:18.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-01 01:30:49.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/bb7d4b67cb1435eb2ac9c4161ad27b072c920d57', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I4c4ec3ef3f6016206cab1ae697985eaef8e95293\n'}]",0,840104,bb7d4b67cb1435eb2ac9c4161ad27b072c920d57,7,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I4c4ec3ef3f6016206cab1ae697985eaef8e95293
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/04/840104/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,bb7d4b67cb1435eb2ac9c4161ad27b072c920d57,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,79
openstack%2Fmonasca-statsd~master~Ic3dfafb8fc15caf650f9ffcb5307b8d124b9c405,openstack/monasca-statsd,master,Ic3dfafb8fc15caf650f9ffcb5307b8d124b9c405,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:30:42.000000000,2022-05-02 09:37:00.000000000,2022-05-02 09:37:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-01 01:30:42.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/ca8dfbd871a8f8004a3a91e55cbb5f68920c2306', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ic3dfafb8fc15caf650f9ffcb5307b8d124b9c405\n'}]",0,840101,ca8dfbd871a8f8004a3a91e55cbb5f68920c2306,6,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ic3dfafb8fc15caf650f9ffcb5307b8d124b9c405
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/01/840101/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,ca8dfbd871a8f8004a3a91e55cbb5f68920c2306,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,51
openstack%2Fmonasca-ui~master~Id1033264dea1d8b72ee49e33cc776d5dac6193b9,openstack/monasca-ui,master,Id1033264dea1d8b72ee49e33cc776d5dac6193b9,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:25:11.000000000,2022-05-02 09:35:57.000000000,2022-05-02 09:35:57.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-01 01:25:11.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/d791f72d3fe5abea7c318fceee6453d842165552', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Id1033264dea1d8b72ee49e33cc776d5dac6193b9\n'}]",0,840083,d791f72d3fe5abea7c318fceee6453d842165552,6,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Id1033264dea1d8b72ee49e33cc776d5dac6193b9
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/83/840083/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,d791f72d3fe5abea7c318fceee6453d842165552,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,152
openstack%2Fkolla~stable%2Fyoga~I14af40078508b06e46866b77ab200228ec827a0d,openstack/kolla,stable/yoga,I14af40078508b06e46866b77ab200228ec827a0d,Add multipath to cinder-volume,MERGED,2022-04-29 16:24:09.000000000,2022-05-02 09:35:21.000000000,2022-05-02 09:34:07.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-29 16:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fedc492b52a4a0ea9b602007c08639becef55662', 'message': 'Add multipath to cinder-volume\n\nCinder-volume container can operate on multipath devices but\nfails to do so due to absent multipath package for several images.\nThis fix explicitely adds multipath to the image.\n\nCloses-Bug: #1970541\nChange-Id: I14af40078508b06e46866b77ab200228ec827a0d\n(cherry picked from commit b9aa91381391c8aaabc7c76de39e5ee258562f4c)\n'}, {'number': 2, 'created': '2022-04-29 16:25:55.000000000', 'files': ['docker/cinder/cinder-volume/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4343f56e423b9427aeda15609cf28b5717430fbe', 'message': 'Add multipath to cinder-volume\n\nCinder-volume container can operate on multipath devices but\nfails to do so due to absent multipath package for several images.\nThis fix explicitely adds multipath to the image.\n\nCloses-Bug: #1970541\nChange-Id: I14af40078508b06e46866b77ab200228ec827a0d\n(cherry picked from commit b9aa91381391c8aaabc7c76de39e5ee258562f4c)\n'}]",0,839918,4343f56e423b9427aeda15609cf28b5717430fbe,12,4,2,13671,,,0,"Add multipath to cinder-volume

Cinder-volume container can operate on multipath devices but
fails to do so due to absent multipath package for several images.
This fix explicitely adds multipath to the image.

Closes-Bug: #1970541
Change-Id: I14af40078508b06e46866b77ab200228ec827a0d
(cherry picked from commit b9aa91381391c8aaabc7c76de39e5ee258562f4c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/18/839918/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/cinder/cinder-volume/Dockerfile.j2'],1,fedc492b52a4a0ea9b602007c08639becef55662,bug/1970541-stable/yoga,"<<<<<<< HEAD (1912c5 [release] Use yoga branch for neutron-vpnaas and monasca-api)======= 'device-mapper-multipath', 'nfs-utils', 'nvmetcli', 'sysfsutils', 'targetcli' >>>>>>> CHANGE (b9aa91 Add multipath to cinder-volume)<<<<<<< HEAD (1912c5 [release] Use yoga branch for neutron-vpnaas and monasca-api)======= 'lsscsi', 'multipath-tools', 'nfs-common', 'nvme-cli', 'sysfsutils', 'targetcli-fb', 'thin-provisioning-tools', 'tgt' >>>>>>> CHANGE (b9aa91 Add multipath to cinder-volume)",,19,0
openstack%2Fmonasca-api~master~Ibd8664001aa3960f3994340cfd31683d8514a280,openstack/monasca-api,master,Ibd8664001aa3960f3994340cfd31683d8514a280,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:24:56.000000000,2022-05-02 09:17:37.000000000,2022-05-02 09:15:34.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-01 01:24:56.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/658c68b593a4d83f59143dc6c7df81860d3f57cb', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ibd8664001aa3960f3994340cfd31683d8514a280\n'}]",0,840080,658c68b593a4d83f59143dc6c7df81860d3f57cb,7,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ibd8664001aa3960f3994340cfd31683d8514a280
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/80/840080/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,658c68b593a4d83f59143dc6c7df81860d3f57cb,drop-l-c,," [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt .[influxdb,cassandra]",4,126
openstack%2Ftripleo-ci~master~I253fba78bad7751954382294184e22c0f9a21359,openstack/tripleo-ci,master,I253fba78bad7751954382294184e22c0f9a21359,Remove molecule from irrelevant files,ABANDONED,2022-04-29 10:49:54.000000000,2022-05-02 09:05:07.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-04-29 10:49:54.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5e3096bb96319cb0647b374f4065176031c239a7', 'message': 'Remove molecule from irrelevant files\n\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685/2#message-b1b5f4893cd9650454b0b4c055984dea961ca1ba\n```\nUnable to freeze job graph: Job tripleo-ci-centos-9-undercloud-upgrade depends on tripleo-ci-centos-9-content-provider which was not run.\n```\n\ntripleo-ci-centos-9-content-provider reuses the irrelevant files\nfrom tripleo-ci-centos-8-standalone.\n\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685/\nis a unique change where only molecule files are modified. In gate\njob, cs-9 content provider is getting skipped due to irrelevant\nfiles. It leads to Zuul job freeze issue.\n\nRemoving molecule from there fixes the issue.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I253fba78bad7751954382294184e22c0f9a21359\n'}]",9,839898,5e3096bb96319cb0647b374f4065176031c239a7,11,7,1,12393,,,0,"Remove molecule from irrelevant files

https://review.opendev.org/c/openstack/tripleo-ansible/+/839685/2#message-b1b5f4893cd9650454b0b4c055984dea961ca1ba
```
Unable to freeze job graph: Job tripleo-ci-centos-9-undercloud-upgrade depends on tripleo-ci-centos-9-content-provider which was not run.
```

tripleo-ci-centos-9-content-provider reuses the irrelevant files
from tripleo-ci-centos-8-standalone.

https://review.opendev.org/c/openstack/tripleo-ansible/+/839685/
is a unique change where only molecule files are modified. In gate
job, cs-9 content provider is getting skipped due to irrelevant
files. It leads to Zuul job freeze issue.

Removing molecule from there fixes the issue.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I253fba78bad7751954382294184e22c0f9a21359
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/98/839898/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,5e3096bb96319cb0647b374f4065176031c239a7,job_freeze,, - .*molecule.*,0,1
openstack%2Fansible-collections-openstack~master~I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626,openstack/ansible-collections-openstack,master,I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626,DNM - Testing new sdk job,ABANDONED,2022-03-14 10:40:15.000000000,2022-05-02 09:01:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-14 10:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/59b0fbd73a6179d7750d56f85b2bac157301abdb', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}, {'number': 2, 'created': '2022-03-14 12:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bdc72c2e092c81bb7f70dd10fdc578e6fbec56bd', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}, {'number': 3, 'created': '2022-03-14 15:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2d2493aee60960641ff0ca8f4a8bbb70d77a312f', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}, {'number': 4, 'created': '2022-03-15 08:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/853c63ff9ce7f735d1586e9734bf893564bd8cea', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}, {'number': 5, 'created': '2022-03-15 15:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5f4b433652767573074bf07022cfa8e0ec6593fe', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}, {'number': 6, 'created': '2022-03-15 16:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3297917aa648ec9bb99ff1eb3dbde39183fcc07f', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}, {'number': 7, 'created': '2022-03-15 17:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ef6aec4457d18a639df4579eae4313731da249aa', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}, {'number': 8, 'created': '2022-03-16 09:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/12e4f6aead2a3feb259e4ab2019e94d338e40871', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}, {'number': 9, 'created': '2022-03-16 10:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c834bb4670e75694a6dd7da71391a0b6efcee5d6', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}, {'number': 10, 'created': '2022-03-16 12:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/94096a58b2cba51b85c36128ef646f6833ba1e2e', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}, {'number': 11, 'created': '2022-03-16 13:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f1487d80459edd0ed24a5d4ad1e2e1cd0a0ebb1f', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}, {'number': 12, 'created': '2022-03-16 15:08:45.000000000', 'files': ['plugins/modules/stack.py', 'plugins/modules/server_info.py', 'plugins/modules/server.py', 'ci/roles/network/tasks/main.yml', 'ci/roles/floating_ip/tasks/main.yml', 'plugins/modules/routers_info.py', 'plugins/modules/network.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/82d6e52b6e9b118a8d305366538b363c7c0f3854', 'message': 'DNM - Testing new sdk job\n\nChange-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626\n'}]",4,833605,82d6e52b6e9b118a8d305366538b363c7c0f3854,23,2,12,8367,,,0,"DNM - Testing new sdk job

Change-Id: I9ca6b1ef3a1ef86c25132997b3f75cdf071e3626
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/05/833605/12 && git format-patch -1 --stdout FETCH_HEAD,['ci/roles/network/tasks/main.yml'],1,59b0fbd73a6179d7750d56f85b2bac157301abdb,fix-new-sdk-job," when: sdk_version is version('0.61', '<=')",,1,0
openstack%2Ftripleo-ansible~master~I36c42feb5fb5929715dc6f502fc41cf061d7da62,openstack/tripleo-ansible,master,I36c42feb5fb5929715dc6f502fc41cf061d7da62,Use default molecule config for roles having delegated driver,MERGED,2022-04-28 06:29:27.000000000,2022-05-02 08:56:36.000000000,2022-05-02 08:54:49.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30002}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-28 06:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89c2419f2fbfc0319d2f4f44a1c58f84099c27db', 'message': 'Use default molecule config for roles having delegated driver\n\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/829122\nadded default molecule config [1].\n\nWe can reuse the same config in another roles for molecule testing\nwhich depends on delegated driver.\nIt avoid the duplication and keep the remaining config in\nrole specific molecule.yml\n\n[1]. https://molecule.readthedocs.io/en/latest/configuration.html#prerun\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I36c42feb5fb5929715dc6f502fc41cf061d7da62\n'}, {'number': 2, 'created': '2022-04-28 09:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a1b2b6bf6aa130695c696eff822295fb6253ac5', 'message': 'Use default molecule config for roles having delegated driver\n\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/829122\nadded default molecule config [1].\n\nWe can reuse the same config in another roles for molecule testing\nwhich depends on delegated driver.\nIt avoid the duplication and keep the remaining config in\nrole specific molecule.yml\n\n[1]. https://molecule.readthedocs.io/en/latest/configuration.html#prerun\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I36c42feb5fb5929715dc6f502fc41cf061d7da62\n'}, {'number': 3, 'created': '2022-04-29 11:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a588ff4ed8761ad646fbe1f05f69a3573b6d03d0', 'message': 'Use default molecule config for roles having delegated driver\n\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/829122\nadded default molecule config [1].\n\nWe can reuse the same config in another roles for molecule testing\nwhich depends on delegated driver.\nIt avoid the duplication and keep the remaining config in\nrole specific molecule.yml\n\n[1]. https://molecule.readthedocs.io/en/latest/configuration.html#prerun\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I36c42feb5fb5929715dc6f502fc41cf061d7da62\n'}, {'number': 4, 'created': '2022-04-29 11:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e0f87f694bdba9a91d628eda8a396c0c03e6a6cb', 'message': 'Use default molecule config for roles having delegated driver\n\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/829122\nadded default molecule config [1].\n\nWe can reuse the same config in another roles for molecule testing\nwhich depends on delegated driver.\nIt avoid the duplication and keep the remaining config in\nrole specific molecule.yml\n\nAdd irrelevant-files in gate pipeline to avoid Zuul job freeze issue.\n\n[1]. https://molecule.readthedocs.io/en/latest/configuration.html#prerun\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I36c42feb5fb5929715dc6f502fc41cf061d7da62\n'}, {'number': 5, 'created': '2022-04-29 11:33:50.000000000', 'files': ['tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tuned/molecule/isolated/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_os_net_config/molecule.yml', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/molecule.yml', 'zuul.d/layout.yaml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tuned/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-masquerade/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_provision_mcelog/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be7becf39eb54f3ceb63465697d0e7ef889949fe', 'message': 'Use default molecule config for roles having delegated driver\n\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/829122\nadded default molecule config [1].\n\nWe can reuse the same config in another roles for molecule testing\nwhich depends on delegated driver.\nIt avoid the duplication and keep the remaining config in\nrole specific molecule.yml\n\nAdd irrelevant-files in gate pipeline to avoid Zuul job freeze issue.\n\n[1]. https://molecule.readthedocs.io/en/latest/configuration.html#prerun\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I36c42feb5fb5929715dc6f502fc41cf061d7da62\n'}]",6,839685,be7becf39eb54f3ceb63465697d0e7ef889949fe,26,10,5,12393,,,0,"Use default molecule config for roles having delegated driver

https://review.opendev.org/c/openstack/tripleo-ansible/+/829122
added default molecule config [1].

We can reuse the same config in another roles for molecule testing
which depends on delegated driver.
It avoid the duplication and keep the remaining config in
role specific molecule.yml

Add irrelevant-files in gate pipeline to avoid Zuul job freeze issue.

[1]. https://molecule.readthedocs.io/en/latest/configuration.html#prerun

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I36c42feb5fb5929715dc6f502fc41cf061d7da62
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/839685/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tuned/molecule/isolated/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_os_net_config/molecule.yml', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tuned/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-masquerade/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_provision_mcelog/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/molecule.yml']",32,89c2419f2fbfc0319d2f4f44a1c58f84099c27db,unified_mol_config,,driver: name: delegated options: managed: false login_cmd_template: >- ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o Compression=no -o TCPKeepAlive=yes -o VerifyHostKeyDNS=no -o ForwardX11=no -o ForwardAgent=no {instance} ansible_connection_options: ansible_connection: ssh log: true platforms: - name: instance ,2,698
openstack%2Fpuppet-swift~stable%2Fvictoria~I2651ceab18439dbd1116ff61eef19c19562d7b5c,openstack/puppet-swift,stable/victoria,I2651ceab18439dbd1116ff61eef19c19562d7b5c,Correct version of final stable/victoria release,MERGED,2022-05-02 08:39:54.000000000,2022-05-02 08:46:47.000000000,2022-05-02 08:46:47.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 08:39:54.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4ebe394d62b597bcafde312f6e28e11bb9806e02', 'message': 'Correct version of final stable/victoria release\n\nThis is follow-up of 1e7e1de853a09a645b6591ed9c5b77d82a71a438 and\nbumps minor version because a few new features have been added since\nthe last release.\n\nChange-Id: I2651ceab18439dbd1116ff61eef19c19562d7b5c\n'}]",0,840161,4ebe394d62b597bcafde312f6e28e11bb9806e02,7,2,1,9816,,,0,"Correct version of final stable/victoria release

This is follow-up of 1e7e1de853a09a645b6591ed9c5b77d82a71a438 and
bumps minor version because a few new features have been added since
the last release.

Change-Id: I2651ceab18439dbd1116ff61eef19c19562d7b5c
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/61/840161/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4ebe394d62b597bcafde312f6e28e11bb9806e02,puppet-victoria-em," ""version"": ""17.5.0"""," ""version"": ""17.4.2""",1,1
openstack%2Fcinder~master~I7adc1d1208fb36a9a0cc670d41f779486b137802,openstack/cinder,master,I7adc1d1208fb36a9a0cc670d41f779486b137802,Remove unneeded volume_types.get_all_types_by_group method,MERGED,2022-03-30 15:40:56.000000000,2022-05-02 07:35:11.000000000,2022-05-02 07:33:38.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-03-30 15:40:56.000000000', 'files': ['cinder/objects/volume_type.py', 'cinder/volume/volume_types.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c4e0d4f8fe68d7668f665afeaf95e2ce7b17fd8', 'message': 'Remove unneeded volume_types.get_all_types_by_group method\n\nThis is only used by the VolumeType object -- other users\nin Cinder should just call via the object instead of this\nmethod.\n\nChange-Id: I7adc1d1208fb36a9a0cc670d41f779486b137802\n'}]",1,835871,2c4e0d4f8fe68d7668f665afeaf95e2ce7b17fd8,37,4,1,4523,,,0,"Remove unneeded volume_types.get_all_types_by_group method

This is only used by the VolumeType object -- other users
in Cinder should just call via the object instead of this
method.

Change-Id: I7adc1d1208fb36a9a0cc670d41f779486b137802
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/835871/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/volume_type.py', 'cinder/volume/volume_types.py']",2,2c4e0d4f8fe68d7668f665afeaf95e2ce7b17fd8,,,"def get_all_types_by_group(context, group_id): """"""Get all volume_types in a group."""""" vol_types = db.volume_type_get_all_by_group(context, group_id) return vol_types ",1,7
openstack%2Ftripleo-common~master~I9b757a47f73ccf1bc9234a606c4f546d0f31542e,openstack/tripleo-common,master,I9b757a47f73ccf1bc9234a606c4f546d0f31542e,Drop undercloud_heat_plugins,MERGED,2022-04-27 09:34:49.000000000,2022-05-02 07:28:48.000000000,2022-05-02 07:27:42.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-27 09:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5bc38ecbe5332203eda980a80869af7d23ea8150', 'message': ""Drop udercloud_heat_plugins\n\nWe don't support undercloud installed heat anymore.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839498\nDepends-On: https://review.rdoproject.org/r/c/openstack/tripleo-common-distgit/+/42300\nChange-Id: I9b757a47f73ccf1bc9234a606c4f546d0f31542e\n""}, {'number': 2, 'created': '2022-04-28 07:37:28.000000000', 'files': ['undercloud_heat_plugins/server_update_allowed.py', 'undercloud_heat_plugins/config.py', 'undercloud_heat_plugins/__init__.py', 'setup.cfg', 'undercloud_heat_plugins/immutable_resources.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/11d0164ed7910024c1446b921095def01e72eb3b', 'message': ""Drop undercloud_heat_plugins\n\nWe don't support installed heat in undercloud anymore.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839498\nDepends-On: https://review.rdoproject.org/r/c/openstack/tripleo-common-distgit/+/42300\nChange-Id: I9b757a47f73ccf1bc9234a606c4f546d0f31542e\n""}]",4,839500,11d0164ed7910024c1446b921095def01e72eb3b,21,7,2,8833,,,0,"Drop undercloud_heat_plugins

We don't support installed heat in undercloud anymore.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839498
Depends-On: https://review.rdoproject.org/r/c/openstack/tripleo-common-distgit/+/42300
Change-Id: I9b757a47f73ccf1bc9234a606c4f546d0f31542e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/839500/2 && git format-patch -1 --stdout FETCH_HEAD,"['undercloud_heat_plugins/server_update_allowed.py', 'undercloud_heat_plugins/config.py', 'undercloud_heat_plugins/__init__.py', 'setup.cfg', 'undercloud_heat_plugins/immutable_resources.py']",5,5bc38ecbe5332203eda980a80869af7d23ea8150,,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy from heat.engine.resources.openstack.neutron import net from heat.engine.resources.openstack.neutron import port from heat.engine.resources.openstack.neutron import subnet def _copy_schema_immutable(schema): new_schema = copy.deepcopy(schema) if not schema.update_allowed: new_schema.immutable = True return new_schema class ImmutableNet(net.Net): '''Ensure an existing net doesn't change.''' properties_schema = { k: _copy_schema_immutable(v) for k, v in net.Net.properties_schema.items() } class ImmutablePort(port.Port): '''Ensure an existing port doesn't change.''' properties_schema = { k: _copy_schema_immutable(v) for k, v in port.Port.properties_schema.items() } class ImmutableSubnet(subnet.Subnet): '''Ensure an existing subnet doesn't change.''' properties_schema = { k: _copy_schema_immutable(v) for k, v in subnet.Subnet.properties_schema.items() } def resource_mapping(): return { 'OS::Neutron::Net': ImmutableNet, 'OS::Neutron::Port': ImmutablePort, 'OS::Neutron::Subnet': ImmutableSubnet, } ",0,128
openstack%2Fcinder~master~Id35df3a167c8f3063992403d36f2e89cb6380d19,openstack/cinder,master,Id35df3a167c8f3063992403d36f2e89cb6380d19,Tests: Reduce time waiting in Hitachi HBSD tests,MERGED,2022-03-21 20:04:30.000000000,2022-05-02 07:24:11.000000000,2022-05-02 07:21:40.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-03-21 20:04:30.000000000', 'files': ['cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/087ed3808d91cdbbdb027968774383f70b7a3132', 'message': 'Tests: Reduce time waiting in Hitachi HBSD tests\n\nThis reduces runtime for\nHBSDRESTFCDriverTest.test_delete_volume_busy_timeout\nfrom 30s to <1s.\n\nChange-Id: Id35df3a167c8f3063992403d36f2e89cb6380d19\n'}]",2,834541,087ed3808d91cdbbdb027968774383f70b7a3132,32,4,1,4523,,,0,"Tests: Reduce time waiting in Hitachi HBSD tests

This reduces runtime for
HBSDRESTFCDriverTest.test_delete_volume_busy_timeout
from 30s to <1s.

Change-Id: Id35df3a167c8f3063992403d36f2e89cb6380d19
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/834541/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py'],1,087ed3808d91cdbbdb027968774383f70b7a3132,,"from cinder.tests.unit import utils as test_utils @mock.patch('oslo_service.loopingcall.FixedIntervalLoopingCall', new=test_utils.ZeroIntervalLoopingCall)",,3,0
openstack%2Ftripleo-heat-templates~master~I25e1578bb270fba7b8d790dbf46f93f0af4e931a,openstack/tripleo-heat-templates,master,I25e1578bb270fba7b8d790dbf46f93f0af4e931a,Drop all installed heat related parameters,MERGED,2022-04-27 09:17:38.000000000,2022-05-02 07:21:30.000000000,2022-05-02 07:21:30.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-27 09:17:38.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32e1511b1fdc2615c4cdf4b0f0b23e80512c85d9', 'message': ""Drop all installed heat related parameters\n\nNow that we're dropping installed heat from the undercloud,\ndrop all the parameters.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/837769\nChange-Id: I25e1578bb270fba7b8d790dbf46f93f0af4e931a\n""}]",0,839498,32e1511b1fdc2615c4cdf4b0f0b23e80512c85d9,8,4,1,8833,,,0,"Drop all installed heat related parameters

Now that we're dropping installed heat from the undercloud,
drop all the parameters.

Depends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/837769
Change-Id: I25e1578bb270fba7b8d790dbf46f93f0af4e931a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/839498/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,32e1511b1fdc2615c4cdf4b0f0b23e80512c85d9,,," HeatConvergenceEngine: true HeatCorsAllowedOrigin: '*' HeatMaxNestedStackDepth: 7 HeatMaxResourcesPerStack: -1 HeatMaxJsonBodySize: 4194304 HeatReauthenticationAuthMethod: 'trusts' HeatYaqlLimitIterators: 10000 HeatYaqlMemoryQuota: 200000 # Disable non-lifecycle stack actions like # snapshot, resume, cancel update and stack check. HeatApiPolicies: heat-deny-action: key: 'actions:action' value: 'rule:deny_everybody' HeatEngineOptVolumes: - /usr/lib/heat:/usr/lib/heat:ro",0,16
openstack%2Fcinder~master~Ie63dcbe5ffa3ad260b129bb59b4e4cbfc280817e,openstack/cinder,master,Ie63dcbe5ffa3ad260b129bb59b4e4cbfc280817e,cmd/manage: Correct db_sync() return,MERGED,2022-04-06 15:56:46.000000000,2022-05-02 07:07:30.000000000,2022-05-02 07:06:14.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}, {'_account_id': 33431}]","[{'number': 1, 'created': '2022-04-06 15:56:46.000000000', 'files': ['cinder/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/01010152bc20bb2f63f28e6f27b34a61a5c4bdfd', 'message': ""cmd/manage: Correct db_sync() return\n\nThis method only returns None, don't save its result.\n\nChange-Id: Ie63dcbe5ffa3ad260b129bb59b4e4cbfc280817e\n""}]",5,836850,01010152bc20bb2f63f28e6f27b34a61a5c4bdfd,44,6,1,4523,,,0,"cmd/manage: Correct db_sync() return

This method only returns None, don't save its result.

Change-Id: Ie63dcbe5ffa3ad260b129bb59b4e4cbfc280817e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/836850/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/manage.py'],1,01010152bc20bb2f63f28e6f27b34a61a5c4bdfd,, db_migration.db_sync(version), result = db_migration.db_sync(version) return result ,1,3
openstack%2Fpython-tripleoclient~master~I39150aa6771a32318ad2cbcd50b6dddcd97b4663,openstack/python-tripleoclient,master,I39150aa6771a32318ad2cbcd50b6dddcd97b4663,Remove --heat-type=installed support,MERGED,2022-04-13 21:23:50.000000000,2022-05-02 06:26:51.000000000,2022-05-02 06:25:39.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-13 21:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9e57e8a0043390f67aae0afa9919291c8dbbc130', 'message': 'Remove --heat-type=installed support\n\nRemove support for using an undercloud installed Heat, as it no longer\nneeds to be supported.\n\nChange-Id: I39150aa6771a32318ad2cbcd50b6dddcd97b4663\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-04-18 20:28:36.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/remove-heat-type-installed-6c7a90af45f57231.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/60d17b2fa180ac4fc4c88af00d34f12c93a2ae92', 'message': 'Remove --heat-type=installed support\n\nRemove support for using an undercloud installed Heat, as it no longer\nneeds to be supported.\n\nChange-Id: I39150aa6771a32318ad2cbcd50b6dddcd97b4663\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",5,837769,60d17b2fa180ac4fc4c88af00d34f12c93a2ae92,21,4,2,7144,,,0,"Remove --heat-type=installed support

Remove support for using an undercloud installed Heat, as it no longer
needs to be supported.

Change-Id: I39150aa6771a32318ad2cbcd50b6dddcd97b4663
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/69/837769/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/remove-heat-type-installed-6c7a90af45f57231.yaml', 'tripleoclient/v1/overcloud_deploy.py']",3,9e57e8a0043390f67aae0afa9919291c8dbbc130,," heat = None utils.check_neutron_resources(env) choices=['pod', 'container', 'native'], 'container (Experimental): Use an ephemeral Heat ' 'container.\n' 'native (Experimental): Use an ephemeral Heat process.') self.setup_ephemeral_heat(parsed_args) if self.heat_launcher: if parsed_args.config_download: self.log.info(""Stopping ephemeral heat."") utils.kill_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher, backup_db=True)"," if args.heat_type != 'installed': heat = None else: heat = self.orchestration_client if parsed_args.heat_type != 'installed': utils.check_neutron_resources(env) choices=['installed', 'pod', 'container', 'native'], 'installed: Use the system installed Heat.\n' 'container: Use an ephemeral Heat container.\n' 'native: Use an ephemeral Heat process.') stack_create = None if parsed_args.heat_type == 'installed': stack = utils.get_stack(self.orchestration_client, parsed_args.stack) stack_create = stack is None if stack_create: self.log.info(""No stack found, "" ""will be doing a stack create"") else: self.log.info(""Stack found, "" ""will be doing a stack update"") if parsed_args.heat_type != 'installed': ephemeral_heat = True else: ephemeral_heat = False self.log.warning( (""DEPRECATED: Using --heat-type=installed is deprecated "" ""and will be removed in a future release."")) if ephemeral_heat: self.setup_ephemeral_heat(parsed_args) if parsed_args.heat_type != 'installed' and self.heat_launcher: if (parsed_args.heat_type != 'installed' and parsed_args.config_download): if parsed_args.heat_type != 'installed': self.log.info(""Stopping ephemeral heat."") utils.kill_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher, backup_db=True)",21,68
openstack%2Fcinder~master~I6544e5d68714c439cc667f1e20e70841eaa0a88b,openstack/cinder,master,I6544e5d68714c439cc667f1e20e70841eaa0a88b,releasenotes: correct formatting error,MERGED,2022-04-26 12:03:04.000000000,2022-05-02 06:04:04.000000000,2022-05-02 06:02:40.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 26693}, {'_account_id': 27615}, {'_account_id': 32029}, {'_account_id': 33431}]","[{'number': 1, 'created': '2022-04-26 12:03:04.000000000', 'files': ['releasenotes/notes/netapp-ontap-fix-qos-min-support-svm-scoped-account-a8458445d459023c.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/228d1c5e6de97fbb5f4afd274acdb359c4cb793d', 'message': 'releasenotes: correct formatting error\n\nFix error from change I216f84ed379d that prevents a hyperlink\nfrom being rendered correctly in HTML.\n\nChange-Id: I6544e5d68714c439cc667f1e20e70841eaa0a88b\n'}]",4,839368,228d1c5e6de97fbb5f4afd274acdb359c4cb793d,35,6,1,5314,,,0,"releasenotes: correct formatting error

Fix error from change I216f84ed379d that prevents a hyperlink
from being rendered correctly in HTML.

Change-Id: I6544e5d68714c439cc667f1e20e70841eaa0a88b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/839368/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/netapp-ontap-fix-qos-min-support-svm-scoped-account-a8458445d459023c.yaml'],1,228d1c5e6de97fbb5f4afd274acdb359c4cb793d,rn-fmt-err, See: `Bug #1924798 <https://bugs.launchpad.net/cinder/+bug/1924798>`_., See: `Bug #1924798 <https://bugs.launchpad.net/cinder/+bug/1924798>`.,1,1
openstack%2Fproject-config~master~Ie4be6ad9fa261a4ca7c6a0966ddbd66e413002fd,openstack/project-config,master,Ie4be6ad9fa261a4ca7c6a0966ddbd66e413002fd,Temporarly disable linaro-us,MERGED,2022-05-02 04:06:24.000000000,2022-05-02 06:02:33.000000000,2022-05-02 05:08:03.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 04:06:24.000000000', 'files': ['nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/590bdfb230fa71a03b76fae6274da558a3820976', 'message': 'Temporarly disable linaro-us\n\nNothing seems to be building/booting in linaro-us at the moment.  Due\nto holidays it make take a little time to get this working on the\nremote side.  Set this to 0 for now to stop trying to use nodes here.\n\nChange-Id: Ie4be6ad9fa261a4ca7c6a0966ddbd66e413002fd\n'}]",1,840150,590bdfb230fa71a03b76fae6274da558a3820976,7,2,1,7118,,,0,"Temporarly disable linaro-us

Nothing seems to be building/booting in linaro-us at the moment.  Due
to holidays it make take a little time to get this working on the
remote side.  Set this to 0 for now to stop trying to use nodes here.

Change-Id: Ie4be6ad9fa261a4ca7c6a0966ddbd66e413002fd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/840150/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.opendev.org.yaml'],1,590bdfb230fa71a03b76fae6274da558a3820976,linaro-us-temp-disable, max-servers: 0, max-servers: 40,1,1
openstack%2Fcinder~master~I4d3e198ebf3d2ac94de0bb53e131e47b37e41cc7,openstack/cinder,master,I4d3e198ebf3d2ac94de0bb53e131e47b37e41cc7,"db: Migrate ""quota class"" APIs to enginefacade",MERGED,2022-02-20 19:04:44.000000000,2022-05-02 05:28:39.000000000,2022-04-27 12:07:04.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-20 19:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5227923231c728cdbea2d893eb82800aca2143e', 'message': 'db: Migrate ""quota class"" APIs to enginefacade\n\nMigrate quota class-related APIs from the legacy enginefacade to the\nmodern context-based enginefacade.\n\nChange-Id: I4d3e198ebf3d2ac94de0bb53e131e47b37e41cc7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-03-08 10:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/238812bcc09adde5dc01142d46a58dcc00f5afcd', 'message': 'db: Migrate ""quota class"" APIs to enginefacade\n\nMigrate quota class-related APIs from the legacy enginefacade to the\nmodern context-based enginefacade.\n\nChange-Id: I4d3e198ebf3d2ac94de0bb53e131e47b37e41cc7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-03-08 16:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0cf9917bbfc50f3570beda381cdf49d23a90e70b', 'message': 'db: Migrate ""quota class"" APIs to enginefacade\n\nMigrate quota class-related APIs from the legacy enginefacade to the\nmodern context-based enginefacade.\n\nChange-Id: I4d3e198ebf3d2ac94de0bb53e131e47b37e41cc7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/test_quota.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c3f9b0b1970edf9a93ebaeae1aaece68401563d', 'message': 'db: Migrate ""quota class"" APIs to enginefacade\n\nMigrate quota class-related APIs from the legacy enginefacade to the\nmodern context-based enginefacade.\n\nChange-Id: I4d3e198ebf3d2ac94de0bb53e131e47b37e41cc7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",6,830093,7c3f9b0b1970edf9a93ebaeae1aaece68401563d,89,5,4,15334,,,0,"db: Migrate ""quota class"" APIs to enginefacade

Migrate quota class-related APIs from the legacy enginefacade to the
modern context-based enginefacade.

Change-Id: I4d3e198ebf3d2ac94de0bb53e131e47b37e41cc7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/830093/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/test_quota.py']",2,f5227923231c728cdbea2d893eb82800aca2143e,remove-legacyfacade," ctxt = context.RequestContext('admin', 'admin', is_admin=True) result = self.driver.get_class_quotas( ctxt, quota.QUOTAS.resources, 'test_class') ctxt = context.RequestContext('admin', 'admin', is_admin=True) result = self.driver.get_class_quotas( ctxt, quota.QUOTAS.resources, 'test_class', False)"," result = self.driver.get_class_quotas(None, quota.QUOTAS.resources, 'test_class') result = self.driver.get_class_quotas(None, quota.QUOTAS.resources, 'test_class', False)",57,54
openstack%2Fcinder~master~I3e5fedcda77602f8a97cecf015ebfecf7f5f7fcc,openstack/cinder,master,I3e5fedcda77602f8a97cecf015ebfecf7f5f7fcc,"db: Migrate ""quota"" APIs to enginefacade",MERGED,2022-02-20 19:04:44.000000000,2022-05-02 05:08:13.000000000,2022-04-27 09:57:25.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-02-20 19:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7be160c2f330eeed44620c1c582c8354010f2ab7', 'message': 'db: Migrate ""quota"" APIs to enginefacade\n\nMigrate quota-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nWe remove the \'require_context\' decorator from inner functions since\nit\'s not needed. These aren\'t ""public"" APIs.\n\nChange-Id: I3e5fedcda77602f8a97cecf015ebfecf7f5f7fcc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-03-08 10:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e8b4565c6bcdcb271cbfbba9903b42706e60880d', 'message': 'db: Migrate ""quota"" APIs to enginefacade\n\nMigrate quota-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nWe remove the \'require_context\' decorator from inner functions since\nit\'s not needed. These aren\'t ""public"" APIs.\n\nChange-Id: I3e5fedcda77602f8a97cecf015ebfecf7f5f7fcc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-03-08 16:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d7703f08a5c18bc47515a7546ff17221b4b2c45', 'message': 'db: Migrate ""quota"" APIs to enginefacade\n\nMigrate quota-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nWe remove the \'require_context\' decorator from inner functions since\nit\'s not needed. These aren\'t ""public"" APIs.\n\nChange-Id: I3e5fedcda77602f8a97cecf015ebfecf7f5f7fcc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/29a43abd589ca8415f26b6890c9e88b4b88a7ae6', 'message': 'db: Migrate ""quota"" APIs to enginefacade\n\nMigrate quota-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nWe remove the \'require_context\' decorator from inner functions since\nit\'s not needed. These aren\'t ""public"" APIs.\n\nChange-Id: I3e5fedcda77602f8a97cecf015ebfecf7f5f7fcc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",5,830092,29a43abd589ca8415f26b6890c9e88b4b88a7ae6,82,3,4,15334,,,0,"db: Migrate ""quota"" APIs to enginefacade

Migrate quota-related APIs from the legacy enginefacade to the modern
context-based enginefacade.

We remove the 'require_context' decorator from inner functions since
it's not needed. These aren't ""public"" APIs.

Change-Id: I3e5fedcda77602f8a97cecf015ebfecf7f5f7fcc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/830092/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,7be160c2f330eeed44620c1c582c8354010f2ab7,remove-legacyfacade,"def _quota_get(context, project_id, resource): result = ( model_query(context, models.Quota, read_deleted=""no"") .filter_by(project_id=project_id) .filter_by(resource=resource) .first() )@main_context_manager.reader@main_context_manager.reader def quota_get_all_by_project(context, project_id): rows = ( model_query(context, models.Quota, read_deleted=""no"") .filter_by(project_id=project_id) .all() )@main_context_manager.writer quota_ref.save(context.session) return quota_ref@main_context_manager.writer def quota_update(context, project_id, resource, limit): quota_ref = _quota_get(context, project_id, resource) quota_ref.hard_limit = limit quota_ref.save(context.session) return quota_ref@main_context_manager.writer def quota_update_resource(context, old_res, new_res): quotas = ( model_query(context, models.Quota, read_deleted='no') .filter_by(resource=old_res) .all() ) for quota in quotas: quota.resource = new_res quota.save(context.session) return quota@main_context_manager.writer def quota_destroy(context, project_id, resource): quota_ref = _quota_get(context, project_id, resource) return quota_ref.delete(context.session)","@require_context def _quota_get(context, project_id, resource, session=None): result = model_query(context, models.Quota, session=session, read_deleted=""no"").\ filter_by(project_id=project_id).\ filter_by(resource=resource).\ first()def quota_get_all_by_project(context, project_id): rows = model_query(context, models.Quota, read_deleted=""no"").\ filter_by(project_id=project_id).\ all()def _quota_get_all_by_resource(context, resource, session=None): rows = model_query(context, models.Quota, session=session, read_deleted='no').filter_by( resource=resource).all() return rows @require_context session = get_session() with session.begin(): quota_ref.save(session) return quota_refdef quota_update(context, project_id, resource, limit): session = get_session() with session.begin(): quota_ref = _quota_get(context, project_id, resource, session=session) quota_ref.hard_limit = limit return quota_refdef quota_update_resource(context, old_res, new_res): session = get_session() with session.begin(): quotas = _quota_get_all_by_resource(context, old_res, session=session) for quota in quotas: quota.resource = new_resdef quota_destroy(context, project_id, resource): session = get_session() with session.begin(): quota_ref = _quota_get(context, project_id, resource, session=session) return quota_ref.delete(session=session)",35,39
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I911f9ea00d9a64af3fd4f5f0c581a5c157df104f,openstack/python-tripleoclient,stable/wallaby,I911f9ea00d9a64af3fd4f5f0c581a5c157df104f,Remove unused method _format_endpoint_name,MERGED,2022-04-22 13:07:58.000000000,2022-05-02 04:54:23.000000000,2022-05-02 04:53:20.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-22 13:07:58.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2978db857815dfa229274566a9219047c996b84c', 'message': 'Remove unused method _format_endpoint_name\n\nChange-Id: I911f9ea00d9a64af3fd4f5f0c581a5c157df104f\n(cherry picked from commit 059dff4d3db7b27345567c5bc93744a2a4623f4a)\n'}]",2,839059,2978db857815dfa229274566a9219047c996b84c,18,5,1,7144,,,0,"Remove unused method _format_endpoint_name

Change-Id: I911f9ea00d9a64af3fd4f5f0c581a5c157df104f
(cherry picked from commit 059dff4d3db7b27345567c5bc93744a2a4623f4a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/59/839059/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,2978db857815dfa229274566a9219047c996b84c,,,"import re def _format_endpoint_name(self, service, interface): return re.sub('v[0-9]+', '', service.capitalize() + interface.capitalize()) ",0,5
openstack%2Fcinder~master~I89c339c3892ad6af436f48252844ffa03e6e854d,openstack/cinder,master,I89c339c3892ad6af436f48252844ffa03e6e854d,"db: Migrate ""cluster"" APIs to enginefacade",MERGED,2022-02-20 19:04:44.000000000,2022-05-02 04:47:54.000000000,2022-04-27 09:56:28.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-02-20 19:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ea9dfb88ed3b63b4a4f887669e033d10a29aaea', 'message': 'db: Migrate ""cluster"" APIs to enginefacade\n\nMigrate cluster-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nChange-Id: I89c339c3892ad6af436f48252844ffa03e6e854d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-03-08 10:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bded200586a91c618376baa129afb952e1ce3eef', 'message': 'db: Migrate ""cluster"" APIs to enginefacade\n\nMigrate cluster-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nChange-Id: I89c339c3892ad6af436f48252844ffa03e6e854d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-03-08 16:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d4a9a2762d81a58031beb2b6495b8aebf716792', 'message': 'db: Migrate ""cluster"" APIs to enginefacade\n\nMigrate cluster-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nChange-Id: I89c339c3892ad6af436f48252844ffa03e6e854d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb2e0023d121d2c7075b28788b089d3358ea322e', 'message': 'db: Migrate ""cluster"" APIs to enginefacade\n\nMigrate cluster-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nChange-Id: I89c339c3892ad6af436f48252844ffa03e6e854d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,830091,bb2e0023d121d2c7075b28788b089d3358ea322e,88,6,4,15334,,,0,"db: Migrate ""cluster"" APIs to enginefacade

Migrate cluster-related APIs from the legacy enginefacade to the modern
context-based enginefacade.

Change-Id: I89c339c3892ad6af436f48252844ffa03e6e854d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/830091/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,2ea9dfb88ed3b63b4a4f887669e033d10a29aaea,remove-legacyfacade,"@main_context_manager.reader query = context.session.query(sql.exists().where(and_(*conditions)))def _cluster_query( context, is_up=None, get_services=False, services_summary=False, read_deleted='no', name_match_level=None, name=None, **filters, ): query = model_query(context, models.Cluster, read_deleted=read_deleted) query = query.filter( _filter_host(models.Cluster.name, name, name_match_level) ) filter_ = and_( models.Cluster.last_heartbeat.isnot(None), models.Cluster.last_heartbeat >= date_limit, )@main_context_manager.reader def cluster_get( context, id=None, is_up=None, get_services=False, services_summary=False, read_deleted='no', name_match_level=None, **filters, ): query = _cluster_query( context, is_up, get_services, services_summary, read_deleted, name_match_level, id=id, **filters, )@main_context_manager.reader def cluster_get_all( context, is_up=None, get_services=False, services_summary=False, read_deleted='no', name_match_level=None, **filters, ): num_down_hosts fields. ""no"". defined in _filter_host method) query = _cluster_query( context, is_up, get_services, services_summary, read_deleted, name_match_level, **filters, )@main_context_manager.writer try: cluster_ref.save(context.session) # We mark that newly created cluster has no hosts to prevent # problems at the OVO level cluster_ref.last_heartbeat = None return cluster_ref@main_context_manager.writer@main_context_manager.writer result = query.update( models.Cluster.delete_values(), synchronize_session=False )"," query = get_session().query(sql.exists().where(and_(*conditions)))def _cluster_query(context, is_up=None, get_services=False, services_summary=False, read_deleted='no', name_match_level=None, name=None, session=None, **filters): query = model_query(context, models.Cluster, session=session, read_deleted=read_deleted) query = query.filter(_filter_host(models.Cluster.name, name, name_match_level)) filter_ = and_(models.Cluster.last_heartbeat.isnot(None), models.Cluster.last_heartbeat >= date_limit)def cluster_get(context, id=None, is_up=None, get_services=False, services_summary=False, read_deleted='no', name_match_level=None, **filters): query = _cluster_query(context, is_up, get_services, services_summary, read_deleted, name_match_level, id=id, **filters)def cluster_get_all(context, is_up=None, get_services=False, services_summary=False, read_deleted='no', name_match_level=None, **filters): num_down_hosts fields. ""no"". defined in _filter_host method) query = _cluster_query(context, is_up, get_services, services_summary, read_deleted, name_match_level, **filters) session = get_session() try: with session.begin(): cluster_ref.save(session) # We mark that newly created cluster has no hosts to prevent # problems at the OVO level cluster_ref.last_heartbeat = None return cluster_ref result = query.update(models.Cluster.delete_values(), synchronize_session=False)",74,32
openstack%2Fopenstack-zuul-jobs~master~If4f02cfe91c7567b99e76298d8e9bf7d6f02468d,openstack/openstack-zuul-jobs,master,If4f02cfe91c7567b99e76298d8e9bf7d6f02468d,openafs: there is not centos-9 arm64 build (yet),MERGED,2022-05-02 04:14:06.000000000,2022-05-02 04:46:25.000000000,2022-05-02 04:44:36.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 04:14:06.000000000', 'files': ['playbooks/openafs-rpm-package-build/publish.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c309a7a4010c5146b95c592937ed8fd511372da6', 'message': ""openafs: there is not centos-9 arm64 build (yet)\n\nDon't try and copy this, it doesn't exist yet.\n\nChange-Id: If4f02cfe91c7567b99e76298d8e9bf7d6f02468d\n""}]",1,840151,c309a7a4010c5146b95c592937ed8fd511372da6,7,2,1,7118,,,0,"openafs: there is not centos-9 arm64 build (yet)

Don't try and copy this, it doesn't exist yet.

Change-Id: If4f02cfe91c7567b99e76298d8e9bf7d6f02468d
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/51/840151/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/openafs-rpm-package-build/publish.yaml'],1,c309a7a4010c5146b95c592937ed8fd511372da6,openafs-centos9,," - name: Download centos 9 arm64 artifact include_role: name: download-artifact vars: download_artifact_api: ""https://zuul.opendev.org/api/tenant/{{ zuul.tenant }}"" download_artifact_type: rpm.tar.gz download_artifact_pipeline: gate download_artifact_job: openafs-rpm-package-build-centos-9-stream-arm64 download_artifact_directory: '{{ zuul.executor.work_root }}' - name: Extract centos 9 arm64 unarchive: src: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' # Keep this old path for backward compat dest: '{{ zuul.executor.work_root }}/artifacts/openafs/centos9' - name: Extract centos 9 arm64 stream unarchive: src: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' dest: '{{ zuul.executor.work_root }}/artifacts/openafs/centos9-stream' - name: Remove artifact file: state: absent path: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz'",0,25
openstack%2Fcinder~master~I919b4ba11e5a960d05623cb44912d3e5efe25c0b,openstack/cinder,master,I919b4ba11e5a960d05623cb44912d3e5efe25c0b,"db: Migrate ""service"" APIs to enginefacade",MERGED,2022-02-20 19:04:44.000000000,2022-05-02 04:27:54.000000000,2022-04-27 09:53:58.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-02-20 19:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5fbadc8761d4395699f92d9ccf1dfb68e1f6d83e', 'message': 'db: Migrate ""service"" APIs to enginefacade\n\nMigrate service-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nChange-Id: I919b4ba11e5a960d05623cb44912d3e5efe25c0b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-03-08 10:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c77db653e2a0d02b8dddb6d1fb7bd44d4fc77e6', 'message': 'db: Migrate ""service"" APIs to enginefacade\n\nMigrate service-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nChange-Id: I919b4ba11e5a960d05623cb44912d3e5efe25c0b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-03-08 16:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e49aa3550e9b73dda029dd597c21783ce97049b', 'message': 'db: Migrate ""service"" APIs to enginefacade\n\nMigrate service-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nChange-Id: I919b4ba11e5a960d05623cb44912d3e5efe25c0b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8bf3d8593b2e37664f031c53f36c33b7197a013f', 'message': 'db: Migrate ""service"" APIs to enginefacade\n\nMigrate service-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nChange-Id: I919b4ba11e5a960d05623cb44912d3e5efe25c0b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",12,830089,8bf3d8593b2e37664f031c53f36c33b7197a013f,80,5,4,15334,,,0,"db: Migrate ""service"" APIs to enginefacade

Migrate service-related APIs from the legacy enginefacade to the modern
context-based enginefacade.

Change-Id: I919b4ba11e5a960d05623cb44912d3e5efe25c0b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/830089/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,5fbadc8761d4395699f92d9ccf1dfb68e1f6d83e,remove-legacyfacade," :param context: A request context to query under :param model: Model to query. Must be a subclass of ModelBase. :param args: Arguments to query. If None - model is used. query to match the context's project_id. session = kwargs.get('session') if hasattr(context, 'session') and context.session: session = context.session if not session: session = get_session() msg = _(""Unrecognized read_deleted value '%s'"") raise Exception(msg % read_deleted) query = query.filter( models.Volume.project_id == context.project_id )def _service_query( context, read_deleted='no', host=None, cluster_name=None, is_up=None, host_or_cluster=None, backend_match_level=None, disabled=None, frozen=None, **filters, ): query = model_query(context, models.Service, read_deleted=read_deleted) query = query.filter( _filter_host(models.Service.host, host, backend_match_level) ) if cluster_name: query = query.filter( _filter_host( models.Service.cluster_name, cluster_name, backend_match_level ) ) if host_or_cluster: query = query.filter( or_( _filter_host( models.Service.host, host_or_cluster, backend_match_level ), _filter_host( models.Service.cluster_name, host_or_cluster, backend_match_level, ), ) ) and_(svc.updated_at.isnot(None), svc.updated_at >= date_limit), )@main_context_manager.writer@main_context_manager.reader cluster filters (as defined in _filter_host method) query = _service_query( context, backend_match_level=backend_match_level, id=service_id, **filters, ) raise exception.ServiceNotFound( service_id=serv_id, host=filters.get('host') )@main_context_manager.reader cluster filters (as defined in _filter_host method) query = _service_query( context, backend_match_level=backend_match_level, **filters )@main_context_manager.reader@main_context_manager.writer service_ref.save(context.session) return service_ref@main_context_manager.writer"," :param context: context to query under :param model: Model to query. Must be a subclass of ModelBase. :param args: Arguments to query. If None - model is used. query to match the context's project_id. session = kwargs.get('session') or get_session() raise Exception( _(""Unrecognized read_deleted value '%s'"") % read_deleted) query = query.filter(models.Volume.project_id == context.project_id)def _service_query(context, session=None, read_deleted='no', host=None, cluster_name=None, is_up=None, host_or_cluster=None, backend_match_level=None, disabled=None, frozen=None, **filters): query = model_query(context, models.Service, session=session, read_deleted=read_deleted) query = query.filter(_filter_host(models.Service.host, host, backend_match_level)) if cluster_name: query = query.filter(_filter_host(models.Service.cluster_name, cluster_name, backend_match_level)) if host_or_cluster: query = query.filter(or_( _filter_host(models.Service.host, host_or_cluster, backend_match_level), _filter_host(models.Service.cluster_name, host_or_cluster, backend_match_level), )) and_(svc.updated_at.isnot(None), svc.updated_at >= date_limit)) cluster filters (as defined in _filter_host method) query = _service_query(context, backend_match_level=backend_match_level, id=service_id, **filters) raise exception.ServiceNotFound(service_id=serv_id, host=filters.get('host')) cluster filters (as defined in _filter_host method) query = _service_query(context, backend_match_level=backend_match_level, **filters) session = get_session() with session.begin(): service_ref.save(session) return service_ref",74,40
openstack%2Fcinder~master~Idc145655363c99364b182bb5d8e8a204060d19a4,openstack/cinder,master,Idc145655363c99364b182bb5d8e8a204060d19a4,db: Indicate functions that should not be converted yet,MERGED,2022-02-20 19:04:44.000000000,2022-05-02 04:08:13.000000000,2022-04-19 12:32:39.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-02-20 19:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a0e4312101b8e3629ea710ef3b76170c71e04e3', 'message': 'db: Indicate functions that should not be converted yet\n\nThere are a lot of functions to be converted. Add some TODOs to remind\nus that not all of them should be converted immediately.\n\nChange-Id: Idc145655363c99364b182bb5d8e8a204060d19a4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-03-08 10:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/595ed2758021a83febf28b30a77a88507989b7d4', 'message': 'db: Indicate functions that should not be converted yet\n\nThere are a lot of functions to be converted. Add some TODOs to remind\nus that not all of them should be converted immediately.\n\nChange-Id: Idc145655363c99364b182bb5d8e8a204060d19a4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-03-08 16:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9daef59b06b684dc9040aa8cb12bca9a5eecab27', 'message': 'db: Indicate functions that should not be converted yet\n\nThere are a lot of functions to be converted. Add some TODOs to remind\nus that not all of them should be converted immediately.\n\nChange-Id: Idc145655363c99364b182bb5d8e8a204060d19a4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a805804774c17ae551edc9559d99d119b47ff0e7', 'message': 'db: Indicate functions that should not be converted yet\n\nThere are a lot of functions to be converted. Add some TODOs to remind\nus that not all of them should be converted immediately.\n\nChange-Id: Idc145655363c99364b182bb5d8e8a204060d19a4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,830088,a805804774c17ae551edc9559d99d119b47ff0e7,83,3,4,15334,,,0,"db: Indicate functions that should not be converted yet

There are a lot of functions to be converted. Add some TODOs to remind
us that not all of them should be converted immediately.

Change-Id: Idc145655363c99364b182bb5d8e8a204060d19a4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/830088/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,8a0e4312101b8e3629ea710ef3b76170c71e04e3,remove-legacyfacade,# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted# TODO: Remove 'session' argument when all of the '_get' helpers are converted# TODO: Remove 'session' argument when all of the '_get' helpers are converted# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted# TODO: Remove 'session' argument when all of the '_get' helpers are converted# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted# TODO: Remove 'session' argument when all of the '_get' helpers are converted# TODO: Remove 'session' argument when all of the '_get' helpers are converted# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted# TODO: Remove 'session' argument when all of the '_get' helpers are converted# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted# TODO: Remove 'session' argument when all of the '_get' helpers are converted# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted# TODO: Remove 'session' argument when all of the '_get' helpers are converted# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted# TODO: Remove 'session' argument when all of the '_get' helpers are converted# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted# TODO: Remove 'session' argument when all of the '_get' helpers are converted# TODO: Remove 'session' argument when all of the '_get' helpers are converted# TODO: Remove 'session' argument when all of the '_get_query' helpers are # converted,,35,0
openstack%2Fopenstack-zuul-jobs~master~I5a4491f4ffc65e37f353ca66139d015eb097e5a6,openstack/openstack-zuul-jobs,master,I5a4491f4ffc65e37f353ca66139d015eb097e5a6,openafs: fix 9-stream dir typo,MERGED,2022-05-02 02:37:40.000000000,2022-05-02 04:08:00.000000000,2022-05-02 04:06:24.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 02:37:40.000000000', 'files': ['playbooks/openafs-rpm-package-build/publish.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/34300b6526eb8ab13c30e0dc8d5bf746551ad7f2', 'message': 'openafs: fix 9-stream dir typo\n\nChange-Id: I5a4491f4ffc65e37f353ca66139d015eb097e5a6\n'}]",1,840147,34300b6526eb8ab13c30e0dc8d5bf746551ad7f2,7,2,1,7118,,,0,"openafs: fix 9-stream dir typo

Change-Id: I5a4491f4ffc65e37f353ca66139d015eb097e5a6
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/47/840147/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/openafs-rpm-package-build/publish.yaml'],1,34300b6526eb8ab13c30e0dc8d5bf746551ad7f2,openafs-centos9, - 'artifacts/openafs/centos9-stream', - 'artifacts/openafs/centos9',1,1
openstack%2Fcinder~master~Ie78d6e7612d84c712c8dc6fb5effc2b8bd5b4b22,openstack/cinder,master,Ie78d6e7612d84c712c8dc6fb5effc2b8bd5b4b22,db: Drop support for MySQL 5.5,MERGED,2022-02-20 19:04:44.000000000,2022-05-02 03:48:28.000000000,2022-04-19 12:31:06.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-20 19:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d98449fccea366223acc4eb64c5e7be884f6e01', 'message': ""db: Drop support for MySQL 5.5\n\nThis went EOL in December 2018. We don't need this logic. A release note\nis included, even though this isn't really needed (we don't formalize\nour support for different MySQL versions anywhere, and are mostly\ndependent on what SQLAlchemy/oslo.db support)\n\nChange-Id: Ie78d6e7612d84c712c8dc6fb5effc2b8bd5b4b22\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-03-08 10:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95c50a414bf22e98018e95e153510c8456816734', 'message': ""db: Drop support for MySQL 5.5\n\nThis went EOL in December 2018. We don't need this logic. A release note\nis included, even though this isn't really needed (we don't formalize\nour support for different MySQL versions anywhere, and are mostly\ndependent on what SQLAlchemy/oslo.db support)\n\nChange-Id: Ie78d6e7612d84c712c8dc6fb5effc2b8bd5b4b22\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2022-03-08 16:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ef1e421df28f397e60bb88d4cd429bb73932ea1', 'message': ""db: Drop support for MySQL 5.5\n\nThis went EOL in December 2018. We don't need this logic. A release note\nis included, even though this isn't really needed (we don't formalize\nour support for different MySQL versions anywhere, and are mostly\ndependent on what SQLAlchemy/oslo.db support)\n\nChange-Id: Ie78d6e7612d84c712c8dc6fb5effc2b8bd5b4b22\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/manager.py', 'releasenotes/notes/drop-mysql-5-5-support-fe3ececc3c9b9915.yaml', 'cinder/tests/unit/test_db_worker_api.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/test_cleanable_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/36c530676f760573a0fb6dffe45c61da93388e00', 'message': ""db: Drop support for MySQL 5.5\n\nThis went EOL in December 2018. We don't need this logic. A release note\nis included, even though this isn't really needed (we don't formalize\nour support for different MySQL versions anywhere, and are mostly\ndependent on what SQLAlchemy/oslo.db support)\n\nChange-Id: Ie78d6e7612d84c712c8dc6fb5effc2b8bd5b4b22\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,830087,36c530676f760573a0fb6dffe45c61da93388e00,91,4,4,15334,,,0,"db: Drop support for MySQL 5.5

This went EOL in December 2018. We don't need this logic. A release note
is included, even though this isn't really needed (we don't formalize
our support for different MySQL versions anywhere, and are mostly
dependent on what SQLAlchemy/oslo.db support)

Change-Id: Ie78d6e7612d84c712c8dc6fb5effc2b8bd5b4b22
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/830087/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/manager.py', 'releasenotes/notes/drop-mysql-5-5-support-fe3ececc3c9b9915.yaml', 'cinder/tests/unit/test_db_worker_api.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/test_cleanable_manager.py']",6,1d98449fccea366223acc4eb64c5e7be884f6e01,remove-legacyfacade," def test_init_host_with_service(self, mock_cleanup):"," @mock.patch('cinder.db.workers_init', autospec=True) def test_init_host_with_service(self, mock_cleanup, mock_workers_init): mock_workers_init.assert_called_once_with()",8,91
openstack%2Fopenstack-zuul-jobs~master~I142786153efb37b19e9994c49f16636bd26c4376,openstack/openstack-zuul-jobs,master,I142786153efb37b19e9994c49f16636bd26c4376,openafs: fix extraction,MERGED,2022-05-02 01:31:18.000000000,2022-05-02 02:16:42.000000000,2022-05-02 02:11:47.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 01:31:18.000000000', 'files': ['playbooks/openafs-rpm-package-build/publish.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1d7825865e8e0785c70835026f980c1ce99e6b8c', 'message': 'openafs: fix extraction\n\nThe promote job is failing with ""... openafs/centos8-stream\' must be\nan existing dir"".  We probably don\'t need both 8 and 8-stream now, but\nlet\'s just get this working first.\n\nChange-Id: I142786153efb37b19e9994c49f16636bd26c4376\n'}]",1,840143,1d7825865e8e0785c70835026f980c1ce99e6b8c,7,2,1,7118,,,0,"openafs: fix extraction

The promote job is failing with ""... openafs/centos8-stream' must be
an existing dir"".  We probably don't need both 8 and 8-stream now, but
let's just get this working first.

Change-Id: I142786153efb37b19e9994c49f16636bd26c4376
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/43/840143/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/openafs-rpm-package-build/publish.yaml'],1,1d7825865e8e0785c70835026f980c1ce99e6b8c,openafs-centos9, - 'artifacts/openafs/centos8-stream',,1,0
openstack%2Fswift~master~Idacc0d80ec1a73bad56696056463deeb075c2171,openstack/swift,master,Idacc0d80ec1a73bad56696056463deeb075c2171,container-updater: no incoming syncs no account update,NEW,2021-09-30 03:53:02.000000000,2022-05-02 02:11:26.000000000,,"[{'_account_id': 597}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 03:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/673b0479c42b1002cc37706a32f80eca8e335a5a', 'message': 'container-updater: demonstrate account stat blockage with probe test\n\nWe have seen account stats become distorted: in worst case an account with\nonly one container drops to reporting zero bytes and zero object count\ndespite the container having objects.\nAnd can remain stuck until another object is PUT or DELETEd into the\ncontainer.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1, so the handoff db has zero\n     object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more updates to account\n  6. container replication leaves primary put timestamp unchanged because\n     handoff put time is older than primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes used until an\nobject is put or deleted at which point a primary will update the account\nstats.\n\nThis patch rolls all this up in a probe test so we have something to\nfix.\n\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 2, 'created': '2021-10-01 07:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d83303bd88f24965d903af552ea61314dd139452', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db that git a replica after a rebalance, in this\n     case the other ""old"" replicas have yet talked with it so\n     again it doesn\'t have a good enough view of the world yet.\n     But after 1 replication sync it\'s defintely got a much\n     better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 3, 'created': '2021-10-03 22:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5b53a1d494d45ac02dbfe8d998a4b1ad2c40cef5', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db that git a replica after a rebalance, in this\n     case the other ""old"" replicas have yet talked with it so\n     again it doesn\'t have a good enough view of the world yet.\n     But after 1 replication sync it\'s defintely got a much\n     better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 4, 'created': '2021-10-04 00:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f09cbb097fa746d0ff2de7f8974a1064991cbbd9', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db that git a replica after a rebalance, in this\n     case the other ""old"" replicas have yet talked with it so\n     again it doesn\'t have a good enough view of the world yet.\n     But after 1 replication sync it\'s defintely got a much\n     better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 5, 'created': '2021-10-04 05:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e112cf809584d3336d188daa8afbe446a6c0694b', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db that git a replica after a rebalance, in this\n     case the other ""old"" replicas have yet talked with it so\n     again it doesn\'t have a good enough view of the world yet.\n     But after 1 replication sync it\'s defintely got a much\n     better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 6, 'created': '2021-10-05 08:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6241759637f1f852efd0820937cb800abbee3b74', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db that git a replica after a rebalance, in this\n     case the other ""old"" replicas have yet talked with it so\n     again it doesn\'t have a good enough view of the world yet.\n     But after 1 replication sync it\'s defintely got a much\n     better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nTo make things a little more complicated, in order to support single\nreplica container rings we need the ability to all containers to be\nable to undate (single replica will have no incoming_syncs). So a new\noption now existing in the container updater, all_update.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 7, 'created': '2021-10-06 01:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/08faa1c5b0766262dbabaa68325987ac92b43192', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db that git a replica after a rebalance, in this\n     case the other ""old"" replicas have yet talked with it so\n     again it doesn\'t have a good enough view of the world yet.\n     But after 1 replication sync it\'s defintely got a much\n     better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nTo make things a little more complicated, in order to support single\nreplica container rings we need the ability to all containers to be\nable to undate (single replica will have no incoming_syncs). So a new\noption now existing in the container updater, all_update.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 8, 'created': '2021-10-13 08:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9bc4d675c1cc794c7a17a552b256440fa4b61b87', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db that git a replica after a rebalance, in this\n     case the other ""old"" replicas have yet talked with it so\n     again it doesn\'t have a good enough view of the world yet.\n     But after 1 replication sync it\'s defintely got a much\n     better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nTo make things a little more complicated, in order to support single\nreplica container rings we need the ability to all containers to be\nable to undate (single replica will have no incoming_syncs).\nTo solve this the container-updater now loads the raw container ring\nmetadata (only) to grab the number of replicas. If it\'s only a single\nreplica ring then the old behaviour stands, that is any container will\nupdate the account.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 9, 'created': '2021-10-13 22:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5f144a4aa4c8a568c5c56e6a8d447b6bf8c4945f', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db that git a replica after a rebalance, in this\n     case the other ""old"" replicas have yet talked with it so\n     again it doesn\'t have a good enough view of the world yet.\n     But after 1 replication sync it\'s defintely got a much\n     better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nTo make things a little more complicated, in order to support single\nreplica container rings we need the ability to all containers to be\nable to undate (single replica will have no incoming_syncs).\nTo solve this the container-updater now loads the raw container ring\nmetadata (only) to grab the number of replicas. If it\'s only a single\nreplica ring then the old behaviour stands, that is any container will\nupdate the account.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 10, 'created': '2022-01-31 06:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/21282c3df961f3fd13667bb97a86578c76546618', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db that git a replica after a rebalance, in this\n     case the other ""old"" replicas have yet talked with it so\n     again it doesn\'t have a good enough view of the world yet.\n     But after 1 replication sync it\'s defintely got a much\n     better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nTo make things a little more complicated, in order to support single\nreplica container rings we need the ability to all containers to be\nable to undate (single replica will have no incoming_syncs).\nTo solve this the container-updater now loads the raw container ring\nmetadata (only) to grab the number of replicas. If it\'s only a single\nreplica ring then the old behaviour stands, that is any container will\nupdate the account.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 11, 'created': '2022-02-01 02:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/59c2c1fd967c6a83bdf39854e09402d08e26f478', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db that git a replica after a rebalance, in this\n     case the other ""old"" replicas have yet talked with it so\n     again it doesn\'t have a good enough view of the world yet.\n     But after 1 replication sync it\'s defintely got a much\n     better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nTo make things a little more complicated, in order to support single\nreplica container rings we need the ability to all containers to be\nable to undate (single replica will have no incoming_syncs).\nTo solve this the container-updater now loads the raw container ring\nmetadata (only) to grab the number of replicas. If it\'s only a single\nreplica ring then the old behaviour stands, that is any container will\nupdate the account.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 12, 'created': '2022-02-02 06:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4ba904d5253b6dc8d47a56be674884eda1bd5ad1', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db on a replica after a rebalance, in this\n     case the other ""old"" replicas haven\'t yet talked with it so\n     again it doesn\'t have a good enough view of the world... yet.\n     But after 1 replication sync it\'s got a much better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nTo make things a little more complicated, in order to support single\nreplica container rings we need the ability to all containers to be\nable to undate (single replica will have no incoming_syncs).\nTo solve this the container-updater now loads container ring\nmetadata (only) to grab the number of replicas. If it\'s only a single\nreplica ring then the old behaviour stands, that is any container will\nupdate the account.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}, {'number': 13, 'created': '2022-02-07 05:10:03.000000000', 'files': ['test/probe/common.py', 'test/probe/test_orphan_container.py', 'test/probe/test_container_updater.py', 'test/unit/common/ring/test_ring.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'test/unit/container/test_updater.py', 'swift/container/updater.py', 'test/probe/test_account_reaper.py', 'swift/common/db_replicator.py', 'swift/common/ring/ring.py', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/48b3fa1dd7c9e17b2dcda7eb1248354290b1cc2e', 'message': 'container-updater: no incoming syncs no account update\n\nWe have seen account stats become distorted: in worst case\nan account with only one container drops to reporting zero\nbytes and zero object count despite the container having\nobjects. And can remain stuck until another object is PUT\nor DELETEd into the container.\n\nIn general the edgecase goes:\n  1. a container PUT lands on a handoff at t1,\n     so the handoff db has zero object count.\n  2. subsequent PUTs land on primaries, say at t2\n  3. primaries update account with valid obj count and bytes\n  4. handoff update account with zero obj count and bytes\n  5. no more objects are PUT so primaries make no more\n     updates to account\n  6. container replication leaves primary put timestamp\n     unchanged because handoff put time is older than\n     primary -> no primary updates to account\n\nThen the account remains stuck with zero obj count and bytes\nused until an object is put or deleted at which point a\nprimary will update the account stats.\n\nTo solve this problem this patch adds an additional check\nto the container-updater. If the broker has no incoming-syncs\nthen don\'t update. Missing incoming syncs could mean 3 things:\n\n  1. It could be a handoff database, a primary wont replicate\n     with it.\n     - If this is the case then it doesn\'t have a good view of\n       the stats to update the account. So we don\'t want to\n       report.\n  2. Its a new db on a replica after a rebalance, in this\n     case the other ""old"" replicas haven\'t yet talked with it so\n     again it doesn\'t have a good enough view of the world... yet.\n     But after 1 replication sync it\'s got a much better one.\n  3. Its a brand new container, after the initial PUT but before\n     the replicators have had a chance to run. In this case we\n     loose nothing in waiting until one replica has replicated\n     with the others.\n\nTo make things a little more complicated, in order to support single\nreplica container rings we need the ability to all containers to be\nable to undate (single replica will have no incoming_syncs).\nTo solve this the container-updater now loads container ring\nmetadata (only) to grab the number of replicas. If it\'s only a single\nreplica ring then the old behaviour stands, that is any container will\nupdate the account.\n\nCloses-Bug: #1945595\nChange-Id: Idacc0d80ec1a73bad56696056463deeb075c2171\n'}]",45,811833,48b3fa1dd7c9e17b2dcda7eb1248354290b1cc2e,64,3,13,7233,,,0,"container-updater: no incoming syncs no account update

We have seen account stats become distorted: in worst case
an account with only one container drops to reporting zero
bytes and zero object count despite the container having
objects. And can remain stuck until another object is PUT
or DELETEd into the container.

In general the edgecase goes:
  1. a container PUT lands on a handoff at t1,
     so the handoff db has zero object count.
  2. subsequent PUTs land on primaries, say at t2
  3. primaries update account with valid obj count and bytes
  4. handoff update account with zero obj count and bytes
  5. no more objects are PUT so primaries make no more
     updates to account
  6. container replication leaves primary put timestamp
     unchanged because handoff put time is older than
     primary -> no primary updates to account

Then the account remains stuck with zero obj count and bytes
used until an object is put or deleted at which point a
primary will update the account stats.

To solve this problem this patch adds an additional check
to the container-updater. If the broker has no incoming-syncs
then don't update. Missing incoming syncs could mean 3 things:

  1. It could be a handoff database, a primary wont replicate
     with it.
     - If this is the case then it doesn't have a good view of
       the stats to update the account. So we don't want to
       report.
  2. Its a new db on a replica after a rebalance, in this
     case the other ""old"" replicas haven't yet talked with it so
     again it doesn't have a good enough view of the world... yet.
     But after 1 replication sync it's got a much better one.
  3. Its a brand new container, after the initial PUT but before
     the replicators have had a chance to run. In this case we
     loose nothing in waiting until one replica has replicated
     with the others.

To make things a little more complicated, in order to support single
replica container rings we need the ability to all containers to be
able to undate (single replica will have no incoming_syncs).
To solve this the container-updater now loads container ring
metadata (only) to grab the number of replicas. If it's only a single
replica ring then the old behaviour stands, that is any container will
update the account.

Closes-Bug: #1945595
Change-Id: Idacc0d80ec1a73bad56696056463deeb075c2171
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/811833/2 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_container_updater.py'],1,673b0479c42b1002cc37706a32f80eca8e335a5a,account_stats_blocked_probetest_1,"# Copyright (c) 2021 Nvidia # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import os from uuid import uuid4 from test.probe.common import ReplProbeTest, get_server_number from test.probe.brain import BrainSplitter from swift.common import utils from swift.common import ring from swift.container.backend import ContainerBroker from swift.account.backend import AccountBroker from swiftclient import client class TestContainerUpdater(ReplProbeTest): DELIM = '-' def setUp(self): super(TestContainerUpdater, self).setUp() self.account_ring = ring.Ring('/etc/swift/account.ring.gz') self.account_part, self.account_nodes = \ self.account_ring.get_nodes(self.account) self.container_name = 'container%s%s' % (self.DELIM, uuid4()) self.brain = BrainSplitter( self.url, self.token, self.container_name, None, 'container') def _make_object_names(self, number, start=0): return ['obj%s%04d' % (self.DELIM, x) for x in range(start, start + number)] def get_storage_dir(self, part, node, account=None, container=None): account = account or self.brain.account server_type, config_number = get_server_number( (node['ip'], node['port']), self.ipport2server) if container is None: assert server_type == 'account' else: assert server_type == 'container' repl_server = '%s-replicator' % server_type conf = utils.readconf(self.configs[repl_server][config_number], section_name=repl_server) datadir = os.path.join( conf['devices'], node['device'], 'containers' if server_type == 'container' else 'accounts') hash = utils.hash_path(account, container) return (utils.storage_directory(datadir, part, hash), hash) def get_db_file(self, part, node, account=None, container=None): container_dir, container_hash = self.get_storage_dir( part, node, account=account, container=container) for f in os.listdir(container_dir): path = os.path.join(container_dir, f) if path.endswith('.db'): return path def get_broker(self, part, node, account=None, container=None): if container is None: return AccountBroker( self.get_db_file(part, node, account, container)) else: return ContainerBroker( self.get_db_file(part, node, account, container)) def put_objects(self, obj_names, contents=None): conn = client.Connection(preauthurl=self.url, preauthtoken=self.token) results = [] for obj in obj_names: rdict = {} conn.put_object(self.container_name, obj, contents=contents, response_dict=rdict) results.append((obj, rdict['headers'].get('x-object-version-id'))) return results def assert_account_object_count(self, count): account_broker = self.get_broker( self.account_part, self.account_nodes[0], self.account) acct_info = account_broker.get_info() self.assertEqual(count, acct_info['object_count']) def test_handoff_zero_account_stats(self): # first let's put the container, but place it on a handoff node. self.brain.stop_primary_half() self.brain.put_container(policy_index=int(self.policy)) self.brain.start_primary_half() # now place some objects obj_names = self._make_object_names(10) self.put_objects(obj_names) # run the replicators and updaters only on the server number with # primaries for x in self.brain.node_numbers: self.updaters.once(number=x) self.replicators.once(number=x) # sanity check self.assert_account_object_count(10) # run the updaters and see what happens self.updaters.once() self.assert_account_object_count(0) # And it's stuck, even if we run replicators and updaters again self.replicators.once() self.updaters.once() self.assert_account_object_count(0) # until we put another object self.put_objects(self._make_object_names(1, 10)) self.updaters.once() self.assert_account_object_count(11) ",,130,0
openstack%2Fpython-vitrageclient~master~I649b222bef9d4ac3ab505ec483194f7043b40044,openstack/python-vitrageclient,master,I649b222bef9d4ac3ab505ec483194f7043b40044,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 18:03:19.000000000,2022-05-02 01:53:51.000000000,2022-05-02 01:52:50.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-01 18:03:19.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/e26a7d2b15d59728d2a8eb05fab453350594ef35', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I649b222bef9d4ac3ab505ec483194f7043b40044\n'}]",0,840114,e26a7d2b15d59728d2a8eb05fab453350594ef35,7,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I649b222bef9d4ac3ab505ec483194f7043b40044
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/14/840114/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,e26a7d2b15d59728d2a8eb05fab453350594ef35,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,54
openstack%2Fopenstack-zuul-jobs~master~I26c727caba12e544dd483dc3e8f04fd7d6bf7daa,openstack/openstack-zuul-jobs,master,I26c727caba12e544dd483dc3e8f04fd7d6bf7daa,Build CentOS 9 RPM packages,MERGED,2022-04-28 06:45:35.000000000,2022-05-02 00:15:19.000000000,2022-05-02 00:13:37.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 06:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6c15ff253cc2dc8c454df95cbabf61e5d3f06548', 'message': 'Build CentOS 9 RPM packages\n\nThis builds and publishes openafs packages for CentOS 9\n\nChange-Id: I26c727caba12e544dd483dc3e8f04fd7d6bf7daa\n'}, {'number': 2, 'created': '2022-04-28 06:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e8080968423a03a360c2b74ccb08e09e10c19eff', 'message': 'Build CentOS 9 RPM packages\n\nThis builds and publishes openafs packages for CentOS 9\n\nChange-Id: I26c727caba12e544dd483dc3e8f04fd7d6bf7daa\n'}, {'number': 3, 'created': '2022-04-28 07:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b9a9552ea782a8e02271aacccb3523bc0a362b08', 'message': 'Build CentOS 9 RPM packages\n\nThis builds and publishes openafs packages for CentOS 9\n\nChange-Id: I26c727caba12e544dd483dc3e8f04fd7d6bf7daa\n'}, {'number': 4, 'created': '2022-04-29 07:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/291aaed90ff56c3a75f6d9f09500cd75f117fdcd', 'message': 'Build CentOS 9 RPM packages\n\nThis builds and publishes openafs packages for CentOS 9\n\nChange-Id: I26c727caba12e544dd483dc3e8f04fd7d6bf7daa\n'}, {'number': 5, 'created': '2022-04-29 11:21:44.000000000', 'files': ['roles/openafs-rpm-package-build/tasks/main.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'playbooks/openafs-rpm-package-build/publish.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6a6f4ecf70b8108ad676f64458c2c37385aa99cf', 'message': 'Build CentOS 9 RPM packages\n\nThis builds and publishes openafs packages for CentOS 9\n\nChange-Id: I26c727caba12e544dd483dc3e8f04fd7d6bf7daa\n'}]",13,839689,6a6f4ecf70b8108ad676f64458c2c37385aa99cf,22,3,5,7118,,,0,"Build CentOS 9 RPM packages

This builds and publishes openafs packages for CentOS 9

Change-Id: I26c727caba12e544dd483dc3e8f04fd7d6bf7daa
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/89/839689/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/openafs-rpm-package-build/tasks/main.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'playbooks/openafs-rpm-package-build/publish.yaml']",4,6c15ff253cc2dc8c454df95cbabf61e5d3f06548,openafs-centos9," - 'artifacts/openafs/centos9' # # CentOS 7 # # # CentOS 8 # # # CentOS 9 # - name: Download centos 9 x86 artifact include_role: name: download-artifact vars: download_artifact_api: ""https://zuul.opendev.org/api/tenant/{{ zuul.tenant }}"" download_artifact_type: rpm.tar.gz download_artifact_pipeline: gate download_artifact_job: openafs-rpm-package-build-centos-9-stream-x86 download_artifact_directory: '{{ zuul.executor.work_root }}' - name: Extract centos 9 x86 unarchive: src: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' # Keep this old path for backward compat dest: '{{ zuul.executor.work_root }}/artifacts/openafs/centos9' - name: Extract centos 9 x86 stream unarchive: src: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' dest: '{{ zuul.executor.work_root }}/artifacts/openafs/centos9-stream' - name: Remove artifact file: state: absent path: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' - name: Download centos 9 arm64 artifact include_role: name: download-artifact vars: download_artifact_api: ""https://zuul.opendev.org/api/tenant/{{ zuul.tenant }}"" download_artifact_type: rpm.tar.gz download_artifact_pipeline: gate download_artifact_job: openafs-rpm-package-build-centos-9-stream-arm64 download_artifact_directory: '{{ zuul.executor.work_root }}' - name: Extract centos 9 arm64 unarchive: src: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' # Keep this old path for backward compat dest: '{{ zuul.executor.work_root }}/artifacts/openafs/centos9' - name: Extract centos 9 arm64 stream unarchive: src: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' dest: '{{ zuul.executor.work_root }}/artifacts/openafs/centos9-stream' - name: Remove artifact file: state: absent path: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz'",,80,1
openstack%2Fcinder~master~I6aa753818ed35dccd47c22d05fa2ce80473edfb8,openstack/cinder,master,I6aa753818ed35dccd47c22d05fa2ce80473edfb8,Bump mypy version to 0.942,MERGED,2022-03-28 18:10:45.000000000,2022-05-01 23:52:39.000000000,2022-04-28 11:49:27.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9236}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-28 18:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1df271117cf782bba1b6fb338a823091f8918aee', 'message': 'Bump mypy version to 0.931\n\nSync with the max version specified by\nopenstack dependency constraints.\n\nThis brings in a handful of fixes and features\nover 0.910.\n\nChange-Id: I6aa753818ed35dccd47c22d05fa2ce80473edfb8\n'}, {'number': 2, 'created': '2022-04-11 14:36:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/18d833dc88edd3816e4aadd27eb46973916a49b9', 'message': 'Bump mypy version to 0.942\n\nSync with the max version specified by\nopenstack dependency constraints.\n\nThis brings in a handful of fixes and features\nover 0.910.\n\nChange-Id: I6aa753818ed35dccd47c22d05fa2ce80473edfb8\n'}]",1,835483,18d833dc88edd3816e4aadd27eb46973916a49b9,62,4,2,4523,,,0,"Bump mypy version to 0.942

Sync with the max version specified by
openstack dependency constraints.

This brings in a handful of fixes and features
over 0.910.

Change-Id: I6aa753818ed35dccd47c22d05fa2ce80473edfb8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/835483/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1df271117cf782bba1b6fb338a823091f8918aee,,mypy>=0.931 # MIT,mypy>=0.910 # MIT,1,1
openstack%2Fdesignate~master~I118cc92e3950540d725f433dfe5d9590cbdab616,openstack/designate,master,I118cc92e3950540d725f433dfe5d9590cbdab616,Add a grenade job for bind9,MERGED,2022-04-26 22:04:59.000000000,2022-05-01 21:34:20.000000000,2022-05-01 21:32:33.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-04-26 22:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f5934fcb5c6bfed71beabb0412b90c230e38a9ff', 'message': 'Add a grenade job for bind9\n\nThe current grenade job tests only with pdns4, but it would be valuable\nto also test with bind9 to discern upgrade issues when bind9 is in use.\n\nChange-Id: I118cc92e3950540d725f433dfe5d9590cbdab616\n'}, {'number': 2, 'created': '2022-04-27 22:33:47.000000000', 'files': ['.zuul.yaml', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/278b39c2fc4fbe4afda88bc174f383d029b073d9', 'message': 'Add a grenade job for bind9\n\nThe current grenade job tests only with pdns4, but it would be valuable\nto also test with bind9 to discern upgrade issues when bind9 is in use.\n\nChange-Id: I118cc92e3950540d725f433dfe5d9590cbdab616\n'}]",3,839444,278b39c2fc4fbe4afda88bc174f383d029b073d9,16,3,2,13995,,,0,"Add a grenade job for bind9

The current grenade job tests only with pdns4, but it would be valuable
to also test with bind9 to discern upgrade issues when bind9 is in use.

Change-Id: I118cc92e3950540d725f433dfe5d9590cbdab616
",git fetch https://review.opendev.org/openstack/designate refs/changes/44/839444/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f5934fcb5c6bfed71beabb0412b90c230e38a9ff,, name: designate-grenade-common name: designate-grenade-pdns4 parent: designate-grenade-common post-run: playbooks/designate-pdns4/post.yaml vars: grenade_devstack_localrc: shared: DESIGNATE_BACKEND_DRIVER: pdns4 DESIGNATE_SERVICE_PORT_DNS: 5322 - job: name: designate-grenade-bind9 parent: designate-grenade-common post-run: playbooks/designate-bind9/post.yaml voting: false - job: - designate-grenade-bind9, name: designate-grenade-pdns4 post-run: playbooks/designate-pdns4/post.yaml grenade_devstack_localrc: shared: DESIGNATE_BACKEND_DRIVER: pdns4 DESIGNATE_SERVICE_PORT_DNS: 5322,18,6
openstack%2Frequirements~master~I6b2e38060f8a919b03436b0053c17988b3ce9a2a,openstack/requirements,master,I6b2e38060f8a919b03436b0053c17988b3ce9a2a,Updated from generate-constraints,MERGED,2022-04-24 02:45:53.000000000,2022-05-01 20:07:00.000000000,2022-05-01 20:05:58.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-24 02:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/271c158a4faf59fa27a8689292a46ec34d068729', 'message': 'Updated from generate-constraints\n\nChange-Id: I6b2e38060f8a919b03436b0053c17988b3ce9a2a\n'}, {'number': 2, 'created': '2022-04-25 02:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/cb90aabe715a1b6787b59960093a6bba94ddbef8', 'message': 'Updated from generate-constraints\n\nChange-Id: I6b2e38060f8a919b03436b0053c17988b3ce9a2a\n'}, {'number': 3, 'created': '2022-04-26 03:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/54a093b461caa5958578cc8364cb770271aec8a9', 'message': 'Updated from generate-constraints\n\nChange-Id: I6b2e38060f8a919b03436b0053c17988b3ce9a2a\n'}, {'number': 4, 'created': '2022-04-27 02:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ba038abfa262dddad3767aab98bd17b1b45b3d82', 'message': 'Updated from generate-constraints\n\nChange-Id: I6b2e38060f8a919b03436b0053c17988b3ce9a2a\n'}, {'number': 5, 'created': '2022-04-28 02:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2a94d13c6d16e50cafc8fc5d69079d85986c8be8', 'message': 'Updated from generate-constraints\n\nChange-Id: I6b2e38060f8a919b03436b0053c17988b3ce9a2a\n'}, {'number': 6, 'created': '2022-04-29 02:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bac03e5403ed55f3d4b3cb5fb8e73cc0fa24ce2c', 'message': 'Updated from generate-constraints\n\nChange-Id: I6b2e38060f8a919b03436b0053c17988b3ce9a2a\n'}, {'number': 7, 'created': '2022-04-29 19:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2c3aff53ddb79d810091ee3a34da61deb8fbc1ac', 'message': 'Updated from generate-constraints\n\nChange-Id: I6b2e38060f8a919b03436b0053c17988b3ce9a2a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 8, 'created': '2022-04-29 23:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/11e50d05171bec00f48419e099dc5a729c8da286', 'message': 'Updated from generate-constraints\n\nChange-Id: I6b2e38060f8a919b03436b0053c17988b3ce9a2a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 9, 'created': '2022-04-30 04:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fbe202a5c5663bc834a187606c9fa89115febb97', 'message': 'Updated from generate-constraints\n\nChange-Id: I6b2e38060f8a919b03436b0053c17988b3ce9a2a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 10, 'created': '2022-04-30 20:21:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/69c83cd05315c6f258efc15bd2b012e618e33856', 'message': 'Updated from generate-constraints\n\nheld back fixtures===4.0.0 and cryptography===37.0.1\n\nChange-Id: I6b2e38060f8a919b03436b0053c17988b3ce9a2a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,839123,69c83cd05315c6f258efc15bd2b012e618e33856,58,2,10,11131,,,0,"Updated from generate-constraints

held back fixtures===4.0.0 and cryptography===37.0.1

Change-Id: I6b2e38060f8a919b03436b0053c17988b3ce9a2a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/839123/10 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,271c158a4faf59fa27a8689292a46ec34d068729,openstack/requirements/constraints/noclob,pytest===7.1.2;python_version=='3.8'Pint===0.19.2;python_version=='3.8'rcssmin===1.1.0pyScss===1.4.0XStatic-Angular===1.8.2.1pyghmi===1.5.39google-auth===2.6.6paramiko===2.10.3pkg_resources===0.0.0django-compressor===4.0boto3===1.21.46protobuf===3.20.1;python_version=='3.8'botocore===1.24.46rjsmin===1.2.0,pytest===7.1.1;python_version=='3.8'Pint===0.19.1;python_version=='3.8'rcssmin===1.0.6pyScss===1.3.7XStatic-Angular===1.5.8.0pyghmi===1.5.38google-auth===2.6.5paramiko===2.8.1django-compressor===2.4.1boto3===1.21.44protobuf===3.20.0;python_version=='3.8'botocore===1.24.44rjsmin===1.1.0setuptools===59.6.0;python_version=='3.6' setuptools===62.1.0;python_version=='3.8',14,15
openstack%2Fsahara~master~Iee781f8f12e8ecb0fc6744f91b26442bb0d256f6,openstack/sahara,master,Iee781f8f12e8ecb0fc6744f91b26442bb0d256f6,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:06:23.000000000,2022-05-01 19:23:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:06:23.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/eb5c44478391ba7b90a2e74ffe131514727df71d', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Iee781f8f12e8ecb0fc6744f91b26442bb0d256f6\n'}]",0,840130,eb5c44478391ba7b90a2e74ffe131514727df71d,2,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Iee781f8f12e8ecb0fc6744f91b26442bb0d256f6
",git fetch https://review.opendev.org/openstack/sahara refs/changes/30/840130/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,eb5c44478391ba7b90a2e74ffe131514727df71d,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,160
openstack%2Fswift~master~I25ce3bbaa107ddf51dfd2b69b3ab5423b3d24377,openstack/swift,master,I25ce3bbaa107ddf51dfd2b69b3ab5423b3d24377,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:13:17.000000000,2022-05-01 19:21:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:13:17.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/92d8f31a3160e4f1e248253d138fcadea2a4e034', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I25ce3bbaa107ddf51dfd2b69b3ab5423b3d24377\n'}]",0,840135,92d8f31a3160e4f1e248253d138fcadea2a4e034,3,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I25ce3bbaa107ddf51dfd2b69b3ab5423b3d24377
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/840135/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,92d8f31a3160e4f1e248253d138fcadea2a4e034,drop-l-c,,[testenv:lower-constraints] # FIXME(dhellmann): We'll want to uncomment this # when the full test suite works with python 3. # basepython = python3 basepython = python2.7 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,4,104
openstack%2Fpython-saharaclient~master~I44be66c63a85973c95f242497056b89bb508c47a,openstack/python-saharaclient,master,I44be66c63a85973c95f242497056b89bb508c47a,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:06:36.000000000,2022-05-01 19:07:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:06:36.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/7b77279a572dfd96ab85e42c48eaf03109f23992', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I44be66c63a85973c95f242497056b89bb508c47a\n'}]",0,840131,7b77279a572dfd96ab85e42c48eaf03109f23992,2,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I44be66c63a85973c95f242497056b89bb508c47a
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/31/840131/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,7b77279a572dfd96ab85e42c48eaf03109f23992,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,78
openstack%2Fpython-watcherclient~master~Ic52bf5b4e455b385ee69c53c271935ae3abf8f5c,openstack/python-watcherclient,master,Ic52bf5b4e455b385ee69c53c271935ae3abf8f5c,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:03:20.000000000,2022-05-01 18:50:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:03:20.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/f2e6a49305069052fdeae5f05a0e226300a3ea48', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ic52bf5b4e455b385ee69c53c271935ae3abf8f5c\n'}]",0,840115,f2e6a49305069052fdeae5f05a0e226300a3ea48,2,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ic52bf5b4e455b385ee69c53c271935ae3abf8f5c
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/15/840115/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,f2e6a49305069052fdeae5f05a0e226300a3ea48,drop-l-c,,alabaster==0.7.10 appdirs==1.4.3 asn1crypto==0.23.0 certifi==2018.1.18 cffi==1.14.0 chardet==3.0.4 cliff==2.11.0 cmd2==0.8.2 coverage==4.0 cryptography==2.7 debtcollector==1.19.0 decorator==4.2.1 deprecation==2.0 docutils==0.11 dogpile.cache==0.6.5 dulwich==0.15.0 extras==1.0.0 fasteners==0.7.0 fixtures==3.0.0 flake8==2.5.5 hacking==0.12.0 idna==2.6 imagesize==0.7.1 iso8601==0.1.12 Jinja2==2.10 jmespath==0.9.3 jsonpatch==1.21 jsonpointer==2.0 jsonschema==2.6.0 keystoneauth1==3.4.0 linecache2==1.0.0 MarkupSafe==1.0 mccabe==0.2.1 monotonic==1.4 msgpack-python==0.4.0 munch==2.2.0 netaddr==0.7.19 netifaces==0.10.6 openstacksdk==0.12.0 os-client-config==1.29.0 os-service-types==1.2.0 os-testr==1.0.0 osc-lib==1.10.0 oslo.concurrency==3.25.0 oslo.config==5.2.0 oslo.context==2.19.2 oslo.i18n==3.20.0 oslo.log==3.36.0 oslo.serialization==2.18.0 oslo.utils==3.36.0 oslotest==3.2.0 packaging==17.1 paramiko==2.0.0 pbr==3.1.1 pep8==1.5.7 pyasn1==0.1.8 pycparser==2.18 pyflakes==0.8.1 Pygments==2.2.0 pyinotify==0.9.6 pyparsing==2.2.0 pyperclip==1.6.0 python-dateutil==2.5.3 python-mimeparse==1.6.0 python-subunit==1.0.0 pytz==2018.3 PyYAML==3.13 requests==2.18.4 requestsexceptions==1.4.0 rfc3986==0.3.1 simplejson==3.13.2 six==1.11.0 snowballstemmer==1.2.1 stestr==2.0.0 stevedore==1.28.0 tempest==17.1.0 testscenarios==0.4 testtools==2.2.0 traceback2==1.4.0 unittest2==1.1.0 urllib3==1.22 wrapt==1.10.11 ,4,82
openstack%2Fpython-zaqarclient~master~I4fae039962f5974f7ab9c77d2a734257dc065615,openstack/python-zaqarclient,master,I4fae039962f5974f7ab9c77d2a734257dc065615,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:03:32.000000000,2022-05-01 18:44:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:03:32.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/77aa681f7586f79700be8b94dfd5c52d0c1b1817', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I4fae039962f5974f7ab9c77d2a734257dc065615\n'}]",0,840116,77aa681f7586f79700be8b94dfd5c52d0c1b1817,2,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I4fae039962f5974f7ab9c77d2a734257dc065615
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/16/840116/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,77aa681f7586f79700be8b94dfd5c52d0c1b1817,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,79
openstack%2Fsahara-plugin-vanilla~master~I185bc9da391da71028a49e4203fdc6b78405d40f,openstack/sahara-plugin-vanilla,master,I185bc9da391da71028a49e4203fdc6b78405d40f,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:05:33.000000000,2022-05-01 18:25:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:05:33.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/8dc9eadbf1190b9f3939e656b0d89cd2439f24ec', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I185bc9da391da71028a49e4203fdc6b78405d40f\n'}]",0,840128,8dc9eadbf1190b9f3939e656b0d89cd2439f24ec,2,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I185bc9da391da71028a49e4203fdc6b78405d40f
",git fetch https://review.opendev.org/openstack/sahara-plugin-vanilla refs/changes/28/840128/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,8dc9eadbf1190b9f3939e656b0d89cd2439f24ec,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,4,160
openstack%2Fsahara-plugin-mapr~master~Ia5f772b3f6c0c5643cce44aef21dce9bdb4ec6db,openstack/sahara-plugin-mapr,master,Ia5f772b3f6c0c5643cce44aef21dce9bdb4ec6db,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:05:29.000000000,2022-05-01 18:24:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:05:29.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/18e91a548550d48746fd40bbb70e99f048049922', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ia5f772b3f6c0c5643cce44aef21dce9bdb4ec6db\n'}]",0,840126,18e91a548550d48746fd40bbb70e99f048049922,2,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ia5f772b3f6c0c5643cce44aef21dce9bdb4ec6db
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/26/840126/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,18e91a548550d48746fd40bbb70e99f048049922,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,4,159
openstack%2Fsahara-plugin-cdh~master~I38c6140decdba5c02e605265eeffaf89def762a2,openstack/sahara-plugin-cdh,master,I38c6140decdba5c02e605265eeffaf89def762a2,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:03:57.000000000,2022-05-01 18:22:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:03:57.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/bbc0f7e4e75ec1a421f048806c1e6f66db1730f4', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I38c6140decdba5c02e605265eeffaf89def762a2\n'}]",0,840120,bbc0f7e4e75ec1a421f048806c1e6f66db1730f4,2,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I38c6140decdba5c02e605265eeffaf89def762a2
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/20/840120/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,bbc0f7e4e75ec1a421f048806c1e6f66db1730f4,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,4,159
openstack%2Fsahara-plugin-ambari~master~I1e1528fa3048df262e7ebebcf470a614acb19346,openstack/sahara-plugin-ambari,master,I1e1528fa3048df262e7ebebcf470a614acb19346,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:04:32.000000000,2022-05-01 18:19:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:04:32.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/1c05d2c0ce8a7b7025510562c2be46a16f0fc0bf', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I1e1528fa3048df262e7ebebcf470a614acb19346\n'}]",0,840123,1c05d2c0ce8a7b7025510562c2be46a16f0fc0bf,2,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I1e1528fa3048df262e7ebebcf470a614acb19346
",git fetch https://review.opendev.org/openstack/sahara-plugin-ambari refs/changes/23/840123/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,1c05d2c0ce8a7b7025510562c2be46a16f0fc0bf,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,4,159
openstack%2Fpython-troveclient~master~Ide3f33bac132c1c4d560e77c9af82b1353cdd165,openstack/python-troveclient,master,Ide3f33bac132c1c4d560e77c9af82b1353cdd165,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:03:39.000000000,2022-05-01 18:15:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:03:39.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/14bd9c8ab0da7144a322135ef311a652ea34a4d4', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ide3f33bac132c1c4d560e77c9af82b1353cdd165\n'}]",0,840119,14bd9c8ab0da7144a322135ef311a652ea34a4d4,2,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ide3f33bac132c1c4d560e77c9af82b1353cdd165
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/19/840119/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,14bd9c8ab0da7144a322135ef311a652ea34a4d4,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,84
openstack%2Fsahara-plugin-storm~master~I44082a85a6ec6be210aa34e512a1e148261d2494,openstack/sahara-plugin-storm,master,I44082a85a6ec6be210aa34e512a1e148261d2494,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:05:34.000000000,2022-05-01 18:15:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:05:34.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-storm/commit/795054c71c3d9116d8432fdeecbaf7dcd301d689', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I44082a85a6ec6be210aa34e512a1e148261d2494\n'}]",0,840129,795054c71c3d9116d8432fdeecbaf7dcd301d689,2,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I44082a85a6ec6be210aa34e512a1e148261d2494
",git fetch https://review.opendev.org/openstack/sahara-plugin-storm refs/changes/29/840129/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,795054c71c3d9116d8432fdeecbaf7dcd301d689,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,4,159
openstack%2Fsahara-plugin-spark~master~Id61a0aa24e0f9c2638504608ed9872ebbb83f0b8,openstack/sahara-plugin-spark,master,Id61a0aa24e0f9c2638504608ed9872ebbb83f0b8,Drop lower-constraints.txt and its testing,NEW,2022-05-01 18:05:31.000000000,2022-05-01 18:13:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 18:05:31.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/86ddd6967a11cccf824702e2ce329cc45b663c29', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Id61a0aa24e0f9c2638504608ed9872ebbb83f0b8\n'}]",0,840127,86ddd6967a11cccf824702e2ce329cc45b663c29,2,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Id61a0aa24e0f9c2638504608ed9872ebbb83f0b8
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/27/840127/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,86ddd6967a11cccf824702e2ce329cc45b663c29,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,4,160
openstack%2Ffreezer~master~I786d705f05e631bbc9e68fdadadb4be1a00ab044,openstack/freezer,master,I786d705f05e631bbc9e68fdadadb4be1a00ab044,Drop lower-constraints.txt and its testing,NEW,2022-04-30 20:58:34.000000000,2022-05-01 17:44:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-30 20:58:34.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer/commit/a142a82970bcfcaf96bb1875120859df178ae0bf', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I786d705f05e631bbc9e68fdadadb4be1a00ab044\n'}]",1,840044,a142a82970bcfcaf96bb1875120859df178ae0bf,4,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I786d705f05e631bbc9e68fdadadb4be1a00ab044
",git fetch https://review.opendev.org/openstack/freezer refs/changes/44/840044/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,a142a82970bcfcaf96bb1875120859df178ae0bf,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,122
openstack%2Fpython-mistralclient~master~I40ffde841e3187c2b42d54bdee06328341b5c648,openstack/python-mistralclient,master,I40ffde841e3187c2b42d54bdee06328341b5c648,Drop lower-constraints.txt and its testing,NEW,2022-05-01 01:19:06.000000000,2022-05-01 17:43:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 01:19:06.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/7285a8426d7d5e352326d9fadaaab91fdf764272', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I40ffde841e3187c2b42d54bdee06328341b5c648\n'}]",1,840056,7285a8426d7d5e352326d9fadaaab91fdf764272,4,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I40ffde841e3187c2b42d54bdee06328341b5c648
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/56/840056/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,7285a8426d7d5e352326d9fadaaab91fdf764272,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,114
openstack%2Fmonasca-events-api~master~If7846e8c4dea51287ec85cc66d4157f2aedbcb0c,openstack/monasca-events-api,master,If7846e8c4dea51287ec85cc66d4157f2aedbcb0c,Drop lower-constraints.txt and its testing,NEW,2022-05-01 01:30:45.000000000,2022-05-01 17:23:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-01 01:30:45.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/d6f95798e9cb03b781341e3135d8d157fdf8867b', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: If7846e8c4dea51287ec85cc66d4157f2aedbcb0c\n'}]",1,840103,d6f95798e9cb03b781341e3135d8d157fdf8867b,4,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: If7846e8c4dea51287ec85cc66d4157f2aedbcb0c
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/03/840103/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,d6f95798e9cb03b781341e3135d8d157fdf8867b,drop-l-c,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,4,35
openstack%2Ffreezer-dr~master~Iaa7604ff58df26ef804e3a6044e6e2cd42370d42,openstack/freezer-dr,master,Iaa7604ff58df26ef804e3a6044e6e2cd42370d42,Drop lower-constraints.txt and its testing,NEW,2022-04-30 20:58:42.000000000,2022-05-01 17:03:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-30 20:58:42.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/69af43b00806492f6079b2a7c99fad4a72dc2a11', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Iaa7604ff58df26ef804e3a6044e6e2cd42370d42\n'}]",1,840046,69af43b00806492f6079b2a7c99fad4a72dc2a11,4,1,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Iaa7604ff58df26ef804e3a6044e6e2cd42370d42
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/46/840046/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,69af43b00806492f6079b2a7c99fad4a72dc2a11,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,123
openstack%2Ftacker~master~I6030582c9929e321058ec3f6307d7b76d99b600a,openstack/tacker,master,I6030582c9929e321058ec3f6307d7b76d99b600a,Update doc for deploying CNF,MERGED,2022-04-12 06:54:05.000000000,2022-05-01 15:35:28.000000000,2022-05-01 15:34:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31730}, {'_account_id': 31857}, {'_account_id': 33292}, {'_account_id': 33455}]","[{'number': 1, 'created': '2022-04-12 06:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/11aee2396190764e69d0dcd2f72637314640ca7c', 'message': 'Update doc for deploying CNF\n\nUpdate usage guide on how to specify the target namespace in\nInstantiateVnfRequest to deploy CNF on Kubernetes VIM.\n\nChange-Id: I6030582c9929e321058ec3f6307d7b76d99b600a\n'}, {'number': 2, 'created': '2022-04-20 06:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0955a6aefa660c490fe39537f8140147a801e896', 'message': 'Update doc for deploying CNF\n\nUpdate usage guide on the priority of namespaces used by tacker\nwhen deploying CNF and how to specify the target namespace in\nInstantiateVnfRequest to deploy CNF on Kubernetes VIM.\n\nImplements: blueprint k8s-namespace\nChange-Id: I6030582c9929e321058ec3f6307d7b76d99b600a\n'}, {'number': 3, 'created': '2022-04-25 03:06:08.000000000', 'files': ['doc/source/user/etsi_containerized_vnf_usage_guide.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/045c5d3ec7d393bc3e26febcabed16f235b1d094', 'message': 'Update doc for deploying CNF\n\nUpdate usage guide on the priority of namespaces used by tacker\nwhen deploying CNF and how to specify the target namespace in\nInstantiateVnfRequest to deploy CNF on Kubernetes VIM.\n\nImplements: blueprint k8s-namespace\nChange-Id: I6030582c9929e321058ec3f6307d7b76d99b600a\n'}]",33,837461,045c5d3ec7d393bc3e26febcabed16f235b1d094,24,6,3,33492,,,0,"Update doc for deploying CNF

Update usage guide on the priority of namespaces used by tacker
when deploying CNF and how to specify the target namespace in
InstantiateVnfRequest to deploy CNF on Kubernetes VIM.

Implements: blueprint k8s-namespace
Change-Id: I6030582c9929e321058ec3f6307d7b76d99b600a
",git fetch https://review.opendev.org/openstack/tacker refs/changes/61/837461/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/etsi_containerized_vnf_usage_guide.rst'],1,11aee2396190764e69d0dcd2f72637314640ca7c,bp/k8s-namespace,"notice that `lcm-kubernetes-def-files` should be a list. The user can also specify the `namespace` where the resource needs to be deployed. .. note:: The `namespace` at the time of instantiate is determined by the following priority. 1. If the `namespace` is specified in the additionalParams of the instantiate request, the specified `namespace` is used. 2. If `namespace` is not specified by the method described in 1, use the `namespace` under metadata defined in :ref:`Create a Kubernetes Object File` 3. If namespace is not specified by the method described in 2, use `default`. .. warning:: If the multiple namespaces are specified in the manifest by the method described in 2, instantiate will fail. ], ""namespace"": ""default""If we want to check whether the resource is deployed in the default namespace, we can append `-A` to the command line. .. code-block:: console $ kubectl get deploy -A NAMESPACE NAME READY UP-TO-DATE AVAILABLE AGE default curry-probe-test001 1/1 1 1 8m43s kube-system calico-kube-controllers 1/1 1 1 5d18h .. note:: If a value other than `default` is specified for the namespace during instantiate, the deployed resources will be instantiated in the corresponding namespace. ",notice that `lcm-kubernetes-def-files` should be a list. ],39,2
openstack%2Fec2-api~master~Id32dd2ffe030ce58c9f0861310b5f08f7a02eb94,openstack/ec2-api,master,Id32dd2ffe030ce58c9f0861310b5f08f7a02eb94,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 20:58:31.000000000,2022-05-01 08:17:20.000000000,2022-05-01 08:15:07.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-30 20:58:31.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a4a603a8cab9152fbc77d6741f043807f29e815a', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Id32dd2ffe030ce58c9f0861310b5f08f7a02eb94\n'}]",1,840042,a4a603a8cab9152fbc77d6741f043807f29e815a,9,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Id32dd2ffe030ce58c9f0861310b5f08f7a02eb94
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/42/840042/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,a4a603a8cab9152fbc77d6741f043807f29e815a,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/doc/requirements.txt,4,121
openstack%2Frequirements~master~I421cc2fd4404a75edd8b51521f84170cdf302b39,openstack/requirements,master,I421cc2fd4404a75edd8b51521f84170cdf302b39,Updated from generate-constraints,ABANDONED,2022-05-01 02:39:31.000000000,2022-05-01 03:32:20.000000000,,[],"[{'number': 1, 'created': '2022-05-01 02:39:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ddbb076168e246534174ed3cdf1b4f3887d231c4', 'message': 'Updated from generate-constraints\n\nChange-Id: I421cc2fd4404a75edd8b51521f84170cdf302b39\n'}]",0,840109,ddbb076168e246534174ed3cdf1b4f3887d231c4,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I421cc2fd4404a75edd8b51521f84170cdf302b39
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/840109/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ddbb076168e246534174ed3cdf1b4f3887d231c4,openstack/requirements/constraints,netmiko===4.1.0pytest===7.1.2;python_version=='3.8' python-slugify===6.1.2Pint===0.19.2;python_version=='3.8'rcssmin===1.1.0fixtures===4.0.0pyScss===1.4.0moto===3.1.7XStatic-Angular===1.8.2.1types-paramiko===2.8.21pyghmi===1.5.39SQLAlchemy===1.4.36google-auth===2.6.6pyspnego===0.5.2paramiko===2.10.4ovs===2.17.1 cryptography===37.0.1pkg_resources===0.0.0django-compressor===4.0Pygments===2.12.0Jinja2===3.1.2;python_version=='3.8'funcparserlib===1.0.0a2;python_version=='3.8'google-api-python-client===2.46.0mypy===0.950boto3===1.22.4exabgp===4.2.18elementpath===2.5.1;python_version=='3.8'asgiref===3.5.1;python_version=='3.8'protobuf===3.20.1;python_version=='3.8'pika===1.2.1botocore===1.25.4click===8.1.3;python_version=='3.8'types-cryptography===3.3.21Werkzeug===2.1.2;python_version=='3.8'rjsmin===1.2.0Flask===2.1.2;python_version=='3.8',netmiko===4.0.0pytest===7.1.1;python_version=='3.8' python-slugify===6.1.1Pint===0.19.1;python_version=='3.8'rcssmin===1.0.6fixtures===3.0.0pyScss===1.3.7moto===3.1.5XStatic-Angular===1.5.8.0types-paramiko===2.8.19pyghmi===1.5.38SQLAlchemy===1.4.35google-auth===2.6.5pyspnego===0.5.1paramiko===2.8.1ovs===2.16.0 cryptography===36.0.2django-compressor===2.4.1Pygments===2.11.2Jinja2===3.1.1;python_version=='3.8'funcparserlib===1.0.0a1;python_version=='3.8'google-api-python-client===2.45.0mypy===0.942boto3===1.21.44exabgp===4.2.17elementpath===2.5.0;python_version=='3.8'asgiref===3.5.0;python_version=='3.8'protobuf===3.20.0;python_version=='3.8'pika===1.2.0botocore===1.24.44click===8.1.2;python_version=='3.8'types-cryptography===3.3.20Werkzeug===2.1.1;python_version=='3.8'rjsmin===1.1.0Flask===2.1.1;python_version=='3.8'setuptools===59.6.0;python_version=='3.6' setuptools===62.1.0;python_version=='3.8',36,37
openstack%2Fopenstack-helm-images~master~Ice391a36e17cdbe6783f42aa1d34d7dfe5fb6282,openstack/openstack-helm-images,master,Ice391a36e17cdbe6783f42aa1d34d7dfe5fb6282,Remove usage of ubuntu xenial,MERGED,2022-04-27 17:49:44.000000000,2022-04-30 18:14:38.000000000,2022-04-30 18:11:01.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-04-27 17:49:44.000000000', 'files': ['libvirt/build.sh', 'Makefile', 'nova-ssh/build.sh', 'tempest/Dockerfile.ubuntu_xenial', 'tempest/build.sh', 'README_MAKEFILE', 'openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d3bf8b7f95918e75784d06b50c2e4c678c01a06b', 'message': 'Remove usage of ubuntu xenial\n\nThis change removes or updates any usage of ubuntu xenial either\nto a newer version or removes any building of xenial images in\nfavor of using newer ones.\n\nChange-Id: Ice391a36e17cdbe6783f42aa1d34d7dfe5fb6282\n'}]",2,839618,d3bf8b7f95918e75784d06b50c2e4c678c01a06b,13,3,1,21420,,,0,"Remove usage of ubuntu xenial

This change removes or updates any usage of ubuntu xenial either
to a newer version or removes any building of xenial images in
favor of using newer ones.

Change-Id: Ice391a36e17cdbe6783f42aa1d34d7dfe5fb6282
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/18/839618/1 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/build.sh', 'Makefile', 'nova-ssh/build.sh', 'tempest/Dockerfile.ubuntu_xenial', 'tempest/build.sh', 'README_MAKEFILE', 'openstack/loci/build.sh']",7,d3bf8b7f95918e75784d06b50c2e4c678c01a06b,remove-xenial,"DISTRO=${DISTRO:-""ubuntu_focal""}","DISTRO=${DISTRO:-""ubuntu_xenial""}",5,37
openstack%2Fskyline-apiserver~master~Ia6bfa83cb721655c25952e0fd7c0c12020bdf9ff,openstack/skyline-apiserver,master,Ia6bfa83cb721655c25952e0fd7c0c12020bdf9ff,fix: Fix trove policy,MERGED,2022-04-29 08:53:10.000000000,2022-04-30 03:20:49.000000000,2022-04-30 03:20:49.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-04-29 08:53:10.000000000', 'files': ['libs/skyline-policy-manager/skyline_policy_manager/constants.py', 'libs/skyline-policy-manager/skyline_policy_manager/policies/trove.py', 'libs/skyline-policy-manager/skyline_policy_manager/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/988185cbdff9875eacbabbbba6bfa7b3de41b333', 'message': 'fix: Fix trove policy\n\n1. add trove into SUPPORTED_SERVICE_EPS\n2. add PREFIX_MAPPINGS\n3. change manage to remove/add prefix auto\n\nChange-Id: Ia6bfa83cb721655c25952e0fd7c0c12020bdf9ff\n'}]",1,839878,988185cbdff9875eacbabbbba6bfa7b3de41b333,10,2,1,28706,,,0,"fix: Fix trove policy

1. add trove into SUPPORTED_SERVICE_EPS
2. add PREFIX_MAPPINGS
3. change manage to remove/add prefix auto

Change-Id: Ia6bfa83cb721655c25952e0fd7c0c12020bdf9ff
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/78/839878/1 && git format-patch -1 --stdout FETCH_HEAD,"['libs/skyline-policy-manager/skyline_policy_manager/constants.py', 'libs/skyline-policy-manager/skyline_policy_manager/policies/trove.py', 'libs/skyline-policy-manager/skyline_policy_manager/cmd/manage.py']",3,988185cbdff9875eacbabbbba6bfa7b3de41b333,," rule_yaml = rule.format_into_yaml() if service in constants.PREFIX_MAPPINGS: rule_yaml = rule_yaml.replace(constants.PREFIX_MAPPINGS[service], """") f.writelines(rule_yaml) name=json.dumps(constants.PREFIX_MAPPINGS.get(entry_point, """") + r.name),"," f.writelines(rule.format_into_yaml()) name=json.dumps(r.name),",17,19
openstack%2Frequirements~master~Ibda008c39449b0be6915775b6f030af3179cbf66,openstack/requirements,master,Ibda008c39449b0be6915775b6f030af3179cbf66,Updated from generate-constraints,ABANDONED,2022-04-30 02:44:22.000000000,2022-04-30 02:53:21.000000000,,[],"[{'number': 1, 'created': '2022-04-30 02:44:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/13739906d7bb05cfac4ec661eba7e1ca6bb46be2', 'message': 'Updated from generate-constraints\n\nChange-Id: Ibda008c39449b0be6915775b6f030af3179cbf66\n'}]",0,840024,13739906d7bb05cfac4ec661eba7e1ca6bb46be2,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: Ibda008c39449b0be6915775b6f030af3179cbf66
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/840024/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,13739906d7bb05cfac4ec661eba7e1ca6bb46be2,openstack/requirements/constraints,netmiko===4.1.0pytest===7.1.2;python_version=='3.8' python-slugify===6.1.2Pint===0.19.2;python_version=='3.8'rcssmin===1.1.0fixtures===4.0.0pyScss===1.4.0moto===3.1.6XStatic-Angular===1.8.2.1types-paramiko===2.8.20pyghmi===1.5.39SQLAlchemy===1.4.36google-auth===2.6.6pyspnego===0.5.2paramiko===2.10.4ovs===2.17.1 cryptography===37.0.1pkg_resources===0.0.0django-compressor===4.0Pygments===2.12.0Jinja2===3.1.2;python_version=='3.8'funcparserlib===1.0.0a2;python_version=='3.8'google-api-python-client===2.46.0mypy===0.950boto3===1.22.4exabgp===4.2.18elementpath===2.5.1;python_version=='3.8'protobuf===3.20.1;python_version=='3.8'pika===1.2.1botocore===1.25.4click===8.1.3;python_version=='3.8'types-cryptography===3.3.21Werkzeug===2.1.2;python_version=='3.8'rjsmin===1.2.0Flask===2.1.2;python_version=='3.8',netmiko===4.0.0pytest===7.1.1;python_version=='3.8' python-slugify===6.1.1Pint===0.19.1;python_version=='3.8'rcssmin===1.0.6fixtures===3.0.0pyScss===1.3.7moto===3.1.5XStatic-Angular===1.5.8.0types-paramiko===2.8.19pyghmi===1.5.38SQLAlchemy===1.4.35google-auth===2.6.5pyspnego===0.5.1paramiko===2.8.1ovs===2.16.0 cryptography===36.0.2django-compressor===2.4.1Pygments===2.11.2Jinja2===3.1.1;python_version=='3.8'funcparserlib===1.0.0a1;python_version=='3.8'google-api-python-client===2.45.0mypy===0.942boto3===1.21.44exabgp===4.2.17elementpath===2.5.0;python_version=='3.8'protobuf===3.20.0;python_version=='3.8'pika===1.2.0botocore===1.24.44click===8.1.2;python_version=='3.8'types-cryptography===3.3.20Werkzeug===2.1.1;python_version=='3.8'rjsmin===1.1.0Flask===2.1.1;python_version=='3.8'setuptools===59.6.0;python_version=='3.6' setuptools===62.1.0;python_version=='3.8',35,36
openstack%2Fnova~stable%2Fxena~Iba87cef50238c5b02ab313f2311b826081d5b4ab,openstack/nova,stable/xena,Iba87cef50238c5b02ab313f2311b826081d5b4ab,Ignore plug_vifs on the ironic driver,MERGED,2021-12-10 01:19:33.000000000,2022-04-30 02:50:18.000000000,2022-04-30 02:47:36.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 11655}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-12-10 01:19:33.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-compute-restart-port-attachments-3282e9ea051561d4.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/eb6d70f02daa14920a2522e5c734a3775ea2ea7c', 'message': ""Ignore plug_vifs on the ironic driver\n\nWhen the nova-compute service starts, by default it attempts to\nstartup instance configuration states for aspects such as networking.\nThis is fine in most cases, and makes a lot of sense if the\nnova-compute service is just managing virtual machines on a hypervisor.\n\nThis is done, one instance at a time.\n\nHowever, when the compute driver is ironic, the networking is managed\nas part of the physical machine lifecycle potentially all the way into\ncommitted switch configurations. As such, there is no need to attempt\nto call ``plug_vifs`` on every single instance managed by the\nnova-compute process which is backed by Ironic.\n\nAdditionally, using ironic tends to manage far more physical machines\nper nova-compute service instance then when when operating co-installed\nwith a hypervisor. Often this means a cluster of a thousand machines,\nwith three controllers, will see thousands of un-needed API calls upon\nservice start, which elongates the entire process and negatively\nimpacts operations.\n\nIn essence, nova.virt.ironic's plug_vifs call now does nothing,\nand merely issues a debug LOG entry when called.\n\nCloses-Bug: #1777608\nChange-Id: Iba87cef50238c5b02ab313f2311b826081d5b4ab\n(cherry picked from commit 7f81cf28bf21ad2afa98accfde3087c83b8e269b)\n""}]",8,821348,eb6d70f02daa14920a2522e5c734a3775ea2ea7c,25,7,1,4690,,,0,"Ignore plug_vifs on the ironic driver

When the nova-compute service starts, by default it attempts to
startup instance configuration states for aspects such as networking.
This is fine in most cases, and makes a lot of sense if the
nova-compute service is just managing virtual machines on a hypervisor.

This is done, one instance at a time.

However, when the compute driver is ironic, the networking is managed
as part of the physical machine lifecycle potentially all the way into
committed switch configurations. As such, there is no need to attempt
to call ``plug_vifs`` on every single instance managed by the
nova-compute process which is backed by Ironic.

Additionally, using ironic tends to manage far more physical machines
per nova-compute service instance then when when operating co-installed
with a hypervisor. Often this means a cluster of a thousand machines,
with three controllers, will see thousands of un-needed API calls upon
service start, which elongates the entire process and negatively
impacts operations.

In essence, nova.virt.ironic's plug_vifs call now does nothing,
and merely issues a debug LOG entry when called.

Closes-Bug: #1777608
Change-Id: Iba87cef50238c5b02ab313f2311b826081d5b4ab
(cherry picked from commit 7f81cf28bf21ad2afa98accfde3087c83b8e269b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/821348/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-compute-restart-port-attachments-3282e9ea051561d4.yaml']",3,eb6d70f02daa14920a2522e5c734a3775ea2ea7c,bug/1777608,--- fixes: - | Fixes slow compute restart when using the ``nova.virt.ironic`` compute driver where the driver was previously attempting to attach VIFS on start-up via the ``plug_vifs`` driver method. This method has grown otherwise unused since the introduction of the ``attach_interface`` method of attaching VIFs. As Ironic manages the attachment of VIFs to baremetal nodes in order to align with the security requirements of a physical baremetal node's lifecycle. The ironic driver now ignores calls to the ``plug_vifs`` method. ,,47,18
openstack%2Fcharm-guide~master~Ife115dd22d3209d500dcff5845a5022b597f94e7,openstack/charm-guide,master,Ife115dd22d3209d500dcff5845a5022b597f94e7,Fix broken hyperlinks,MERGED,2022-04-22 15:53:46.000000000,2022-04-29 23:45:52.000000000,2022-04-29 23:44:20.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-22 15:53:46.000000000', 'files': ['doc/source/community/software-contrib/charm-readme-template.rst', 'doc/source/admin/ha.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7c932c7cbf585b770034d8d296ca0c40ff7a0173', 'message': 'Fix broken hyperlinks\n\nFix a broken hyperlink and edit one link that is broken\nnow but will no longer be in a few days.\n\nChange-Id: Ife115dd22d3209d500dcff5845a5022b597f94e7\n'}]",0,839082,7c932c7cbf585b770034d8d296ca0c40ff7a0173,7,2,1,30561,,,0,"Fix broken hyperlinks

Fix a broken hyperlink and edit one link that is broken
now but will no longer be in a few days.

Change-Id: Ife115dd22d3209d500dcff5845a5022b597f94e7
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/82/839082/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/community/software-contrib/charm-readme-template.rst', 'doc/source/admin/ha.rst']",2,7c932c7cbf585b770034d8d296ca0c40ff7a0173,fix-broken-links,cloud nodes. See `How to deploy to a specific machine`_ and `Bundle reference`_ in the Juju documentation... _How to deploy to a specific machine: https://juju.is/docs/olm/deploy-to-a-specific-machine,cloud nodes. See `Deploying to specific machines`_ and `Bundle reference`_ in the Juju documentation... _Deploying to specific machines: https://juju.is/docs/olm/advanced-application-deployment#heading--deploying-to-specific-machines,5,5
openstack%2Fcharm-deployment-guide~master~I7ea4eae65cc55c3a7081a505dd9bad34852dc8c3,openstack/charm-deployment-guide,master,I7ea4eae65cc55c3a7081a505dd9bad34852dc8c3,Accomodate Charmhub channels in upgrade pages,MERGED,2022-02-22 15:14:56.000000000,2022-04-29 23:45:12.000000000,2022-04-29 23:42:58.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-22 15:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e065e0ba8110ee7f7f9a17d3d2c60708ba580770', 'message': 'Accomodate Charmhub with text changes\n\nAccomodate Charmhub charm stream with text changes.\n\nIntroduced term ""charm stream"" (legacy vs\nCharmhub/channels).\n\nRemoved the method for determining charm revision\nupdate candidate as there is no reasonable way to\ndo this with the legacy charm stream.\n\nDepends-On: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\nChange-Id: I7ea4eae65cc55c3a7081a505dd9bad34852dc8c3\n'}, {'number': 2, 'created': '2022-02-22 19:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f0952e348d276e047d76f0f0d5a9e6d502d6b946', 'message': 'Accomodate Charmhub with text changes\n\nAccomodate Charmhub charm stream with text changes.\n\nIntroduced term ""charm stream"" (legacy vs channels).\n\nRemoved the method for determining charm revision\nupdate candidate as there is no reasonable way to\ndo this with the legacy charm stream.\n\nDepends-On: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\nChange-Id: I7ea4eae65cc55c3a7081a505dd9bad34852dc8c3\n'}, {'number': 3, 'created': '2022-02-25 18:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c34107d186a91679ffb5b38b79b1427f506366a6', 'message': 'Accomodate Charmhub channels in upgrade pages\n\nIntroduce changes across all upgrade pages to\naccomodate for charm channels.\n\nRemoved the method for determining charm revision\nupdate candidate as there is no reasonable way to\ndo this with the legacy charm stream.\n\nDrive-by: Remove unused file (enable-merge)\n\nDepends-On: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\nChange-Id: I7ea4eae65cc55c3a7081a505dd9bad34852dc8c3\n'}, {'number': 4, 'created': '2022-04-06 15:42:12.000000000', 'files': ['deploy-guide/source/enable-merge', 'deploy-guide/source/upgrade-overview.rst', 'deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-charms.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9e0529cbebe698f707f9efb7168817f21140e157', 'message': 'Accomodate Charmhub channels in upgrade pages\n\nIntroduce changes across all upgrade pages to\naccomodate for charm channels.\n\nRemoved the method for determining charm revision\nupdate candidate as there is no reasonable way to\ndo this with the legacy charm stream.\n\nDrive-by: Remove unused file (enable-merge)\n\nDepends-On: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\nChange-Id: I7ea4eae65cc55c3a7081a505dd9bad34852dc8c3\n'}]",1,830439,9e0529cbebe698f707f9efb7168817f21140e157,15,2,4,30561,,,0,"Accomodate Charmhub channels in upgrade pages

Introduce changes across all upgrade pages to
accomodate for charm channels.

Removed the method for determining charm revision
update candidate as there is no reasonable way to
do this with the legacy charm stream.

Drive-by: Remove unused file (enable-merge)

Depends-On: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7
Change-Id: I7ea4eae65cc55c3a7081a505dd9bad34852dc8c3
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/39/830439/4 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/upgrade-overview.rst', 'deploy-guide/source/upgrade-charms.rst']",2,e065e0ba8110ee7f7f9a17d3d2c60708ba580770,accomodate-charmhub,,"The latest available stable revision of a charm can be obtained by querying the Charm Store with the :command:`charm` snap: .. code-block:: none sudo snap install charm --classic charm pull ceph-mon Sample output: .. code-block:: console cs:ceph-mon-48 Based on the above, the ceph-mon charm does not require an upgrade. ",42,26
openstack%2Fcharm-deployment-guide~master~Ia425ff2e3eb0227d4b942c8a9e1ae2b88fe32787,openstack/charm-deployment-guide,master,Ia425ff2e3eb0227d4b942c8a9e1ae2b88fe32787,Add special charm procedure re Charmhub migration,MERGED,2022-02-22 22:08:25.000000000,2022-04-29 23:44:10.000000000,2022-04-29 23:42:52.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-22 22:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a1ef90b699773c9ded8137fb960a9cc6b01aadce', 'message': 'Add special charm operation re channel migration\n\nDeliberately retained the `upgrade-charm` command for\nthe migration. Payload upgrade documnetation uses the\n`refresh` command.\n\nChange-Id: Ia425ff2e3eb0227d4b942c8a9e1ae2b88fe32787\n'}, {'number': 2, 'created': '2022-02-23 17:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/85e844fadde2b0c88b861c4756e78d9b7bb9a103', 'message': 'Add special charm operation re Charmhub migration\n\nChange-Id: Ia425ff2e3eb0227d4b942c8a9e1ae2b88fe32787\n'}, {'number': 3, 'created': '2022-02-23 19:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c2dfb9bad9ef6776925ce8ed2a57c8e2a018f57c', 'message': 'Add special charm operation re Charmhub migration\n\nChange-Id: Ia425ff2e3eb0227d4b942c8a9e1ae2b88fe32787\n'}, {'number': 4, 'created': '2022-02-23 19:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/11e1a8333ce4e6bab1e08abde19e2dd5d498a38f', 'message': 'Add special charm operation re Charmhub migration\n\nAdd a special charm operation that outlines how to\nmigrate non-channel charms to channel charms.\n\nDepends-On: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\nChange-Id: Ia425ff2e3eb0227d4b942c8a9e1ae2b88fe32787\n'}, {'number': 5, 'created': '2022-02-24 23:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/21d968cb37c0306060d4f5b4271c5e0e5bde961f', 'message': 'Add special charm procedure re Charmhub migration\n\nAdd a special charm procedure that outlines how to\nmigrate non-channel charms to channel charms.\n\nDepends-On: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\nChange-Id: Ia425ff2e3eb0227d4b942c8a9e1ae2b88fe32787\n'}, {'number': 6, 'created': '2022-04-29 16:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/2e68d71dcecb5223219965c22a9a3fa971a0821c', 'message': 'Add special charm procedure re Charmhub migration\n\nAdd a special charm procedure that outlines how to\nmigrate non-channel charms to channel charms.\n\nDepends-On: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\nChange-Id: Ia425ff2e3eb0227d4b942c8a9e1ae2b88fe32787\n'}, {'number': 7, 'created': '2022-04-29 23:26:03.000000000', 'files': ['deploy-guide/source/charmhub-migration.rst', 'deploy-guide/source/upgrade-special.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ad948063d824654b7c0f2a915e89a3ca21fe0d76', 'message': 'Add special charm procedure re Charmhub migration\n\nAdd a special charm procedure that outlines how to\nmigrate non-channel charms to channel charms.\n\nDepends-On: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\nChange-Id: Ia425ff2e3eb0227d4b942c8a9e1ae2b88fe32787\n'}]",5,830523,ad948063d824654b7c0f2a915e89a3ca21fe0d76,21,2,7,30561,,,0,"Add special charm procedure re Charmhub migration

Add a special charm procedure that outlines how to
migrate non-channel charms to channel charms.

Depends-On: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7
Change-Id: Ia425ff2e3eb0227d4b942c8a9e1ae2b88fe32787
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/23/830523/4 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/channels-migration.rst'],1,a1ef90b699773c9ded8137fb960a9cc6b01aadce,add-special-charm-operation-channels,":orphan: ================================= All charms: migration to channels ================================= All Charmed OpenStack deployments must migrate from the legacy non-channel charms to charms that use an explicitly-named channel (i.e. not ``latest/stable``). Upgrade Juju ------------ Upgrade every Juju component of the given deployment to Juju ``2.9``. This includes the Juju client, the controller model, and the workload model. See the `Juju documentation`_ for guidance. Crossgrade charms ----------------- This is achieved in one step by crossgrading charms to equivalent charms by means of the explicit ``xena/stable`` channel. , which is the equivalent to the OpenStack charms versions published with the 21.10 stable release (and the 21.06 stable release of the Trilio Charms). .. code-block:: none juju upgrade-charm --switch ch:<charm> --channel=latest/stable <application> For example, to migrate the vault charm: .. code-block:: none juju upgrade-charm --switch ch:vault --channel=latest/stable vault Change in operator behaviour ---------------------------- Select the correct channel ~~~~~~~~~~~~~~~~~~~~~~~~~~ Cease using ``cs:`` ~~~~~~~~~~~~~~~~~~~ Once all of a deployment's charms have been migrated to the channels stream it is important to stop using the ``cs:`` prefix when referencing charms, whether in bundles or on the command-line. .. LINKS .. _Juju documentation: https://juju.is/docs/olm/upgrading ",,53,0
openstack%2Fcharm-guide~master~Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7,openstack/charm-guide,master,Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7,Add new charm delivery page - Charmhub,MERGED,2022-02-14 23:44:32.000000000,2022-04-29 23:11:33.000000000,2022-04-29 23:10:16.000000000,"[{'_account_id': 8992}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 23:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/087048bfc2da8f046c1ac641301b86ebc90d9035', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 2, 'created': '2022-02-14 23:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/32ade8cd23d83b93a48628e1fa57963208a4a1f0', 'message': ""Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user's perspective. A developer-centric page may\nbe included at a later time.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n""}, {'number': 3, 'created': '2022-02-15 18:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/70767b460e661ddf776d0ee396d42fd6d39f98ec', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages will eventually be moved into it.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 4, 'created': '2022-02-15 20:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/989a900542f5a6d29294a98a541bb9a3e5022908', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 5, 'created': '2022-02-15 23:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/6acbf74b4dbcbc05dace7798c1d8e9badf78354a', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 6, 'created': '2022-02-16 20:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c7e89a9baf25c91d99b7e20ba2c1bfecc66fcafb', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 7, 'created': '2022-02-17 01:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/a51cb161c00942477861aba70c48c11ce448483c', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 8, 'created': '2022-02-17 01:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/4f31dabec327027e7555d925906491d42c94542b', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nSome track values (in the tables) remain to be confirmed.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 9, 'created': '2022-02-17 05:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7175d57cb27f8abd545bb7015763234697214255', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nSome track values (in the tables) remain to be confirmed.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 10, 'created': '2022-02-17 21:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/39548d3451cb43add4ffbd6bff08e356f9a27cfc', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nSome track values (in the tables) remain to be confirmed.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 11, 'created': '2022-02-18 18:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/de4f2790d4a99901cf1ec5e99e4358ece40949d5', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nSome track values (in the tables) remain to be confirmed.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 12, 'created': '2022-02-18 19:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b291221632d886a981f7d84e554d3111b91a7285', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent risk level.\n\nSome track values (in the tables) remain to be confirmed.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 13, 'created': '2022-02-21 23:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/cf700ed965c20da26877b54f33f93c8b5983d54b', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 14, 'created': '2022-02-22 23:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/894811cb7ad1056a7ccb05f3a90ae910111999ec', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nThere is a reference to ""special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 15, 'created': '2022-02-22 23:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d8f75f245d243f62905f1f41d107520377fa5490', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 16, 'created': '2022-02-22 23:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e98101b451065089ab181fd3dbcc2184b1c17005', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 17, 'created': '2022-02-24 18:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/187853f2a28a3a1ea9bf253e8f97154751dbdd42', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 18, 'created': '2022-02-24 20:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2ae0b4b2903e816e81c99a4026e07d1de73bc258', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 19, 'created': '2022-02-24 22:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9fcf365b03764df52f28fc141a5006ae288ac33f', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 20, 'created': '2022-03-10 16:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ecf231bdb9d171e95157525eaf354bde1123a87f', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 21, 'created': '2022-04-06 16:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ab1ae42dff4e28ad26a65bab912d837e69a2fd44', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 22, 'created': '2022-04-11 21:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/320edcf394ed3f2a8b5b732521cfda427abba83b', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 23, 'created': '2022-04-25 14:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/eb45278258e73b3335f27dfeed0762f2bdf8a21a', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 24, 'created': '2022-04-26 17:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d017d142acb30e1bcb54e88161b836328aa14eb3', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nSome track values (in the tables) remain to be confirmed.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 25, 'created': '2022-04-29 19:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b7acfaa04022b83988902f5a3d9a7005e7f43d87', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}, {'number': 26, 'created': '2022-04-29 22:45:37.000000000', 'files': ['doc/source/project/charm-delivery.rst', 'doc/source/index.rst', 'requirements.txt', 'doc/source/conf.py', 'doc/source/project/index.rst', 'doc/source/release-notes/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5a99f4a403756d4322f912df7da44545f3f89ddb', 'message': 'Add new charm delivery page - Charmhub\n\nThis is a new project page. It gives a high level overview of\nhow the OpenStack charms will be delivered using the Charmhub\nfrom the end-user\'s perspective. A developer-centric page may\nbe included at a later time.\n\nThe scafolding for the \'About the project\' needed to be added\nas this is the first page under this category. Most current\n""reference"" pages are mis-categorised and will eventually be\nmoved into it.\n\nThe tabs feature was added to Sphinx in order to provide a\nreasonable display of the charm channel information.\n\nThe `latest` track was greatly de-emphasised due to its\ninherent hazardous nature.\n\nThere is a reference to ""a special charm operation"" that is\ncurrently unpublished, but that is where details on migration\nwill be stored (currently in the CDG).\n\nChange-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7\n'}]",55,829142,5a99f4a403756d4322f912df7da44545f3f89ddb,66,3,26,30561,,,0,"Add new charm delivery page - Charmhub

This is a new project page. It gives a high level overview of
how the OpenStack charms will be delivered using the Charmhub
from the end-user's perspective. A developer-centric page may
be included at a later time.

The scafolding for the 'About the project' needed to be added
as this is the first page under this category. Most current
""reference"" pages are mis-categorised and will eventually be
moved into it.

The tabs feature was added to Sphinx in order to provide a
reasonable display of the charm channel information.

The `latest` track was greatly de-emphasised due to its
inherent hazardous nature.

There is a reference to ""a special charm operation"" that is
currently unpublished, but that is where details on migration
will be stored (currently in the CDG).

Change-Id: Ia3ebfad4a6aa43620cad188b07ec6fc7a29b71a7
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/42/829142/26 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project/charm-delivery.rst'],1,087048bfc2da8f046c1ac641301b86ebc90d9035,charmhub-overview,"============== Charm delivery ============== Background ========== Currently, OpenStack Charms are delivered in two charmstore namespaces - ``openstack-charmers`` and ``openstack-charmers-next``. The use of two namespaces predates the existence of channels within the jaas.ai charm store. These namespaces are equivalent to the stable and edge channels respectively. The git repositories hosting the source code for the OpenStack charms generally live on opendev.org git servers. The repositories contain branches of each stable charm release and an unstable development branch (master). A post-merge job in the CI system publishes an updated version of the charm to the jaas.ai charm store after any change is merged. Changes landing in the master development branch are published in the openstack-charmers-next namespace and changes landing in the most recent stable branch are published in the openstack-charmers namespace. One of the challenges with the current approach is that the two branches must focus on the lowest common denominator for dependencies; meaning that most python libraries leveraged and included in the charms must be limited to versions that support older python releases that are still included on older OpenStack releases. As the world of Python library development moves on, support for older python versions are being deprecated and removed causing a variety of maintenance headaches for the current charms. Another challenge with this approach is that each new feature introduced adds potential risk to older install bases. In order to mitigate this, the gate testing of the OpenStack Charms runs a broad sampling of tests across a multitude of OpenStack and base distro releases. New contributors are often running into challenges with the CI system and needing to debug older releases even when their patches are not relevant to these older versions. One of the positive sides to this arrangement is that development primarily only needs to consider 2 branches at a time - the master development branch and the most recent stable branch. All patches are primarily targeted at the master development branch and relevant bug fixes are backported to a single release. Proposed Solution and Implementation Details ============================================ OpenStack charms will adopt a model of release and delivery which takes advantage of the various delivery channels offered by charmhub which closely matches channels in the `Snap store`_. Note, that not all charms will support all releases/versions of a specific service and charms will only adopt branches and tracks for those releases which are relevant to the service itself. Tracks ------ Tracks will be set up to track git branches in the upstream repositories and will result in a track per release of the charm payload (e.g. the software service it delivers). When the primary software payload of the charm uses well-known release names, the release name will be used in lieu of version numbers for the track name. When the primary software payload of the charm does not use well-known release names, the version of the software will be used. For example, the nova-compute charm delivers nova hypervisor services and the charm tracks will correspond to the OpenStack release of the nova services installed (e.g. ussuri, victoria, etc.). As another example, the OVN Central charm delivers OVN as the payload and OVN uses release names/versions of YY.MM. In this scenario, the OVN charm Central charm will provide a track corresponding to the YY.MM naming schema (e.g. 21.03, 21.09, etc). Risk Levels ----------- The charmhub store also has the ability to allow the developers and users to provide and consume different risk levels. This feature was also available in the legacy charmstore, however it was not leveraged by the release process until very recently. There are 4 risk levels available within any track: edge, beta, candidate, and stable. The CI system will automatically publish a new charm for any change which lands in the corresponding git branch to the edge risk level. Charms will be promoted through the edge -> beta -> candidate -> stable risk levels by a human actor, not through an automated machine. Tooling may be developed to assist in this process, but automatic promotion is out of scope at this time. Future enhancements may include triggering a promotion of a build upon the introduction of git tags, but that is considered out of scope for this work. Branches -------- The charmhub store also provides for a further subdivision of tracks and risk levels into branches, which are meant to provide temporary, short-lived, releases for bug fixing purposes. There are various possibilities to consider regarding how branch flows should be worked into the development flow of OpenStack charms. For the purposes of this work, branches are explicitly out of scope and should be considered separately. Git Branches ------------ Git branches will need to be created for the various tracks that are delivered in Charmhub. The relationship between git branches and charmhub tracks are one-to-many, meaning that a change landing in one branch may result in a charm being published into multiple tracks. This is useful when the tracks provide logically different targets, while the branch serves the same functionality. For example, the latest master branch of development will logically point to the latest OpenStack release as well as the latest/edge release. Additionally, the charms in each of the git branches and tracks are intended to support the targeted release N and the previous release N-1 for upgrade purposes. OpenStack Charms ---------------- For those charms specifically delivering OpenStack services a new git branch will be created for each OpenStack release the charm supports. This branch will be named in the form of ``stable/<openstack-release>`` for all stable versions of OpenStack. Branches will only be created back to the Queens release of OpenStack. Each of these branches will be created from the tip of the current stable charms release (stable/21.10) as a base. These branches will differ from each other regarding the primary version of software that they are targeting as well as the default configuration values for the track they are deployed from. +-----------------+---------------------+ | Git Branch | Charmhub Track(s) | +=================+=====================+ | stable/queens | queens | +-----------------+---------------------+ | stable/rocky | rocky | +-----------------+---------------------+ | stable/stein | stein | +-----------------+---------------------+ | stable/train | train | +-----------------+---------------------+ | stable/ussuri | ussuri | +-----------------+---------------------+ | stable/victoria | victoria | +-----------------+---------------------+ | stable/wallaby | wallaby | +-----------------+---------------------+ | stable/xena | xena, latest/stable | +-----------------+---------------------+ | master | yoga, latest/edge | +-----------------+---------------------+ Ceph Charms ----------- Currently, Ceph updates are delivered through the Ubuntu Cloud Archive which ties the ceph charms to OpenStack versions, causing some challenges in defining tracks per Ceph release. In scenarios where services are co-located (e.g. nova-compute and ceph-osd), updating the source repository for the ceph-osd charm will have unintended consequences on the nova-compute services and their versions. Rather than introduce complex pinning or a new package archive, the charms used to deliver Ceph will track the OpenStack release names in addition to the Ceph release names, up to the Octopus release. This is expected to make the migration easier for users. The development git branches will be created corresponding to the appropriate Ceph version where the product was delivered. In order to make it easier for users to migrate, Ceph charms may have a single branch delivered to multiple Charmhub tracks. +-----------------+-------------------------+ | Git Branch | Charmhub Track(s) | +=================+=========================+ | stable/luminous | luminous, queens, rocky | +-----------------+-------------------------+ | stable/mimic | mimic, stein | +-----------------+-------------------------+ | stable/nautilus | nautilus, train | +-----------------+-------------------------+ | stable/octopus | octopus | +-----------------+-------------------------+ | stable/pacific | pacific, latest/stable | +-----------------+-------------------------+ | master | quincy, latest/edge | +-----------------+-------------------------+ On the newer branches, a mapping can be made to safely convert a Ceph release name into a cloud-archive pocket in a way that doesn’t unintentionally upgrade either one, with the assumption that a valid mapping between OpenStack and Ceph versions is clearly documented. What that mapping should look like: +-------------------+---------------------------------------------+ | Ceph Release | OpenStack Release | +===================+=============================================+ | Luminous | Queens | +-------------------+---------------------------------------------+ | Mimic | Stein | +-------------------+---------------------------------------------+ | Nautilus | Train | +-------------------+---------------------------------------------+ | Octopus | Ussuri | +-------------------+---------------------------------------------+ | Pacific | Wallaby (mid-cycle Openstack, more support) | +-------------------+---------------------------------------------+ | Unstable / Quincy | Yoga | +-------------------+---------------------------------------------+ The above works because we can include distro (bionic-queens) with Rocky safely, and we can include Pacific’s focal-wallaby with Xena safely, as the Xena packages have higher versions. The Ceph charms include the following charms: * ceph-fs * ceph-iscsi * ceph-mon * ceph-osd * ceph-proxy * ceph-radosgw * ceph-rbd-mirror * ceph-dashboard Provider-specific Subordinate Charms ------------------------------------ Some services such as Cinder and Neutron allow for provider specific subordinate charms to be used in order to allow for a specific SDN, storage plugin, etc. These provider-specific subordinate charms are considered supporting charms rather than OpenStack specific charms, however they are often enabling specific functionality for a specific storage backend. As such, they will follow the OpenStack Charms track schema. These charms will include the following subordinate charms, and as of this writing include: * cinder-ceph * cinder-lvm * cinder-netapp * cinder-purestorage * neutron-openvswitch * neutron-api-plugin-arista * neutron-api-plugin-ovn * keystone-saml-mellon OVN Charms ---------- OVN is a networking SDN which is used as the primary SDN for Charmed OpenStack deployments. OVN has been provided through the Ubuntu Cloud Archive as well as the Ubuntu archives. The OVN charms are a bit of a mix when it comes to providing source versions. Standalone charms such as OVN Dedicated Chassis and OVN Central have source options which allow for configuring the archive to use for package installation. As a subordinate charm, OVN Chassis will adopt the version that is installed alongside the principal charm. As OVN is a general SDN and not implemented specifically for OpenStack, the tracks in charmhub should closely follow the versions of the software delivered rather than the OpenStack release. This may be a bit confusing at first for users migrating, but this should be addressed with clear documentation as well as tooling to help the end-users select the appropriate track to upgrade their charms to. Additionally, tracks will be put in place labelled openstack-{release-name} to ease the migration burden. OVN charms will have the following sets of branches and tracks: +--------------+----------------------------+ | Branch | Track(s) | +==============+============================+ | stable/20.03 | 20.03, ussuri, victoria | +--------------+----------------------------+ | stable/20.12 | 20.12, wallaby | +--------------+----------------------------+ | stable/21.09 | 21.09, xena, latest/stable | +--------------+----------------------------+ | master | 22.03, latest/edge | +--------------+----------------------------+ Supporting Charms ----------------- In the OpenStack ecosystem, there are other core services which are required to produce an OpenStack cloud. These services include messaging, database, and certificate management services. While they are critical to the functionality of an OpenStack cloud, they are not tied to specific releases of OpenStack and these charms should result in tracks which are appropriate for their specific behavior. These charms consist of the following services, and will result in tracks that are based on the versions of software provided. These services are generally delivered from the Ubuntu archives (not the Ubuntu Cloud Archive) and will track the versions of their versions in Ubuntu. +----------------------+---------------+-------------------------+ | Charm | Branch | Track(s) | +======================+===============+=========================+ | hacluster | stable/bionic | 1.1.x | +----------------------+---------------+-------------------------+ | hacluster | stable/focal | 2.0.3, latest/stable | +----------------------+---------------+-------------------------+ | hacluster | master | 2.0.5, latest/edge | +----------------------+---------------+-------------------------+ | pacemaker-remote | stable/bionic | 1.1.x | +----------------------+---------------+-------------------------+ | pacemaker-remote | stable/focal | 2.0.3, latest/stable | +----------------------+---------------+-------------------------+ | pacemaker-remote | master | 2.0.5, latest/edge | +----------------------+---------------+-------------------------+ | rabbitmq-server | stable/bionic | 3.6 | +----------------------+---------------+-------------------------+ | rabbitmq-server | stable/focal | 3.8, latest/stable | +----------------------+---------------+-------------------------+ | rabbitmq-server | master | 3.9, latest/edge | +----------------------+---------------+-------------------------+ | vault | stable/1.5 | 1.5 | +----------------------+---------------+-------------------------+ | vault | stable/1.6 | 1.6 | +----------------------+---------------+-------------------------+ | vault | stable/1.7 | 1.7 | +----------------------+---------------+-------------------------+ | vault | master | latest/edge | +----------------------+---------------+-------------------------+ | percona-cluster | stable/bionic | 5.7, latest/stable | +----------------------+---------------+-------------------------+ | percona-cluster | master | latest/edge | +----------------------+---------------+-------------------------+ | mysql-innodb-cluster | stable/focal | 8.0, latest/stable | +----------------------+---------------+-------------------------+ | mysql-innodb-cluster | master | latest/edge | +----------------------+---------------+-------------------------+ Trilio Charms ------------- Trilio Charms will also need to be migrated to the charmhub delivery mechanism. While implemented for OpenStack, the Trilio software is versioned separately from the OpenStack releases and should use Trilio specific tracks. +-----------------------+------------+----------------------+ | trilio-data-mover | stable/4.0 | 4.0 | +=======================+============+======================+ | trilio-data-mover | stable/4.1 | 4.1, latest/stable | +-----------------------+------------+----------------------+ | trilio-data-mover | master | 4.2 (?), latest/edge | +-----------------------+------------+----------------------+ | trilio-dm-api | stable/4.0 | 4.0 | +-----------------------+------------+----------------------+ | trilio-dm-api | stable/4.1 | 4.1, latest/stable | +-----------------------+------------+----------------------+ | trilio-dm-api | master | 4.2 (?), latest/edge | +-----------------------+------------+----------------------+ | trilio-horizon-plugin | stable/4.0 | 4.0 | +-----------------------+------------+----------------------+ | trilio-horizon-plugin | stable/4.1 | 4.1, latest/stable | +-----------------------+------------+----------------------+ | trilio-horizon-plugin | master | 4.2 (?), latest/edge | +-----------------------+------------+----------------------+ | trilio-wlm | stable/4.0 | 4.0 | +-----------------------+------------+----------------------+ | trilio-wlm | stable/4.1 | 4.1, latest/stable | +-----------------------+------------+----------------------+ | trilio-wlm | master | 4.2 (?), latest/edge | +-----------------------+------------+----------------------+ Installation Sources -------------------- Most charms in the OpenStack charm collection provide a config option that allows the user to set the archive or repository that debian packages/snaps are installed from. This is generally provided via either the ``openstack-origin`` or ``source`` charm config option, which defaults to install using the local installations default distribution repositories. In order to ensure that the tracks are installing the appropriate versions of packages, the default value for this config option will be set to the appropriate installation source for the track. If a track spans multiple distro releases (e.g. the cloud-archive at the LTS release crossover), the charm will need to be able to determine whether this should be sourced from the cloud-archive or the distribution, whichever is appropriate. Primarily, this will affect the tracks that use the Ussuri Ubuntu Cloud Archive and the Yoga Ubuntu Cloud Archive as an installation source. Latest Track ------------ The ‘latest’ track in charmhub is its own track, and like other tracks - charms can be pushed to the track and the various risk levels within the track. While it is a full blown track, to end users it is logically a means to get the ""latest"" version of a piece of software. However, the risk levels must be taken into consideration for which version should be installed. Edge ~~~~ For each charm, the latest/edge channel will always map the current master development branch. Beta ~~~~ The beta risk level will be used for milestone releases during the charm development cycle. Candidate ~~~~~~~~~ The ``latest/candidate`` channel will be used to track the next software release as it enters the final weeks of development and stabilizes in preparation for a release. Stable ~~~~~~ The ``latest/stable`` channel will always be used to track the most recent stable release of the payload software delivered by the charm. For example, at the beginning of the OpenStack Yoga release cycle, the most recent stable version of Nova is the Xena version. As such, the ``latest/stable`` channel for the nova-compute charm will contain the stable/xena version. Technology Preview Charms ------------------------- Charms are initially released in the ""Technology Preview"" state. Charms which are in the technology preview state should not be promoted into the stable channel until it is determined it is stable for the corresponding payload release. Once it has graduated, all releases which have qualified as graduated from technology preview will then be promoted to the stable channel. It is possible that not all tracks of a charm will have a stable risk level. Charms which are still in technology preview will only promote those charms to the beta channel until it is determined that the charm has reached maturity, at which point it can be promoted to the candidate and/or stable channels as appropriate. For example, a charm such as ovn-chassis may be delivered as technology preview in the Stein release track but may not reach maturity until the Train release track. The Train release track of the charm will be promoted to the stable channel but the Stein release track will only have the charm in the beta channel. Special consideration is needed for those charms considered Technology Preview at the time of this transition. Technology Preview charms are not promulgated in the charm store and are available under the ``openstack-charmers`` namespace. Charmhub does not have namespaces in the same way and these charms exist but are prefixed with the ‘openstack-charmers’ name, e.g. openstack-charmers-ironic-api. These charms will be created in charmhub and promoted to the beta channel. Continuous Integration ---------------------- Charmhub will deliver charms that are built for specific architectures. OpenStack charms to date, are built using python modules on amd64 architectures and distributed as such. This is generally acceptable as they are primarily source charms which have deliveries, but can pose some interesting challenges for non-amd64 architectures with native extensions. The OpenStack CI system is currently composed of a Zuul-CI system which is used to trigger a variety of pep8 (pycodestyle), unit and functional tests for each patch proposed to a charm. Post-merge hooks are registered which trigger a Jenkins task to publish the charm to the legacy charm store. Publishing Charms ----------------- For newer charms, delivered through charmhub, they are expected to have platform specific charms so that native extensions or tooling required by the charm can be built for the appropriate target architecture. Launchpad now offers charm recipes, which can be used to build and publish charms in a similar manner to snap recipes. Changes merged into a repository will trigger a build of the charm on all supported architectures and publish the resulting charm to Charmhub. Leveraging this service removes a step from the OpenStack Charmers maintained CI system for publishing charms to the charm store and results in completely eliminating the need for jenkins in the CI infrastructure. The Launchpad charm recipes require that the git trees are known and stored in Launchpad itself. In order to continue to use the upstream OpenStack gerrit review system, which is standard for OpenStack services and has been standard for the charms for years, each charm project in Launchpad will be configured to mirror the source from the upstream opendev git system. A charm recipe will be created for each branch of each charm such that upon a patch being merged in the upstream gerrit repository, the Launchpad service will update the mirrored (a.k.a. imported) repository, detect that new changes are present, initiate a charm build and publish these results to the appropriate channel(s) in charmhub. Note that charm recipes in Launchpad will only build by default once per hour. While there is normally a slight delay in publishing charms to the charm store, there is one publish per change to the charm. In the Launchpad build model, multiple changes can be queued up and included in a single build unless builds are explicitly requested within the hour time window. This is considered acceptable for charm development and publishing purposes. Testing Charms -------------- With the introduction of branches and tracks per OpenStack release, the need to test a multitude of OpenStack releases for each change is no longer required. Instead, targeted tests for the branch will be run. For example, a change proposed to the Keystone charm in the stable/xena branch will run only tests relevant to the Xena release of OpenStack. Reducing the releases that are running in the gate allows for the charm to be focused on the specific payload release and need not worry about spurious failures on older releases. The branches may also include tests that exercise the N-1 version of the release software, in order to validate that the upgrade of N-1 to N are functioning properly. Charmcraft ---------- In order to leverage the charm recipes in Launchpad, all of the charms will need to be built using the charmcraft tool. Charmcraft, however, was designed to build and publish operator framework charms, which excludes the majority of the charms in the OpenStack charms collection. Charmcraft has recently grown parity with the snapcraft toolset, which allows a variety of plugins to be used instead of the default charm plugin. The ‘dump’ plugin is appropriate to use for classic charms, however it is unsuitable for reactive charms. In the long term, a new plugin should be created for building reactive charms using charmcraft. In the short term, the various steps for producing a charm can be overridden using the ‘override-build’, ‘override-stage’, and ‘override-prime’ steps which will use the existing tox infrastructure to build, stage, and prime the reactive charm. Documentation ------------- Documentation for the OpenStack Charms and Ceph Charms are generally available as a solution level, with charm README files serving as the primary source of documentation within the Charm store and the published OpenStack Charm Guide, OpenStack Charms Deployment Guide and Ubuntu Ceph Documentation providing solution level documentation. The release notes need to clearly identify the change to use and leverage Charmhub as well as referencing migration documentation. Migration documentation needs to be clearly outlined to make it simple for users to migrate from using the Charm Store to Charmhub. Developer documentation should also be provided in the OpenStack Charm Guide to provide details for developers wishing to contribute new features, bug fixes, etc. Links ----- * `Charmhub unofficial docs <https://github.com/canonical/charmhub-unofficial-docs>`__ * `Snapcraft channels <https://snapcraft.io/docs/channels>`__ * `Mirroring repositories from other sites <https://help.launchpad.net/Code/Git#Mirroring_repositories_from_other_sites>`__ .. LINKS .. _`Snap store`: https://snapcraft.io/docs/channels ",,555,0
openstack%2Fopenstack-ansible~master~Ie0dd31e453a378e305cf6d1ec6f3786b3eb56aa5,openstack/openstack-ansible,master,Ie0dd31e453a378e305cf6d1ec6f3786b3eb56aa5,Do not encrypt SSL for CentOS distro path,MERGED,2022-04-12 14:03:48.000000000,2022-04-29 22:52:12.000000000,2022-04-29 22:50:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-12 14:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/775d496fc3bb22b0c5fb6e9bafda9caf452aedd1', 'message': 'Do not encrypt SSL for CentOS distro path\n\nCentOS does ship quite old PyMySQL (0.10.1) which doesn\'t have options\nwe rely on when enabling encryption. At same time RDO treats this\n""as designed"" and suggested workaround doesn\'t worth effort.\nSo we simply disabling SSL usage for CentOS distro path.\n\nChange-Id: Ie0dd31e453a378e305cf6d1ec6f3786b3eb56aa5\n'}, {'number': 2, 'created': '2022-04-14 07:37:59.000000000', 'files': ['inventory/group_vars/all/infra.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2490dbc55dfa155c96ca16fbb8cb23a4a816600a', 'message': 'Do not encrypt SSL for CentOS distro path\n\nCentOS does ship quite old PyMySQL (0.10.1) which doesn\'t have options\nwe rely on when enabling encryption. At same time RDO treats this\n""as designed"" and suggested workaround doesn\'t worth effort.\nSo we simply disabling SSL usage for CentOS distro path.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/803475\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/837576\nChange-Id: Ie0dd31e453a378e305cf6d1ec6f3786b3eb56aa5\n'}]",7,837571,2490dbc55dfa155c96ca16fbb8cb23a4a816600a,28,3,2,28619,,,0,"Do not encrypt SSL for CentOS distro path

CentOS does ship quite old PyMySQL (0.10.1) which doesn't have options
we rely on when enabling encryption. At same time RDO treats this
""as designed"" and suggested workaround doesn't worth effort.
So we simply disabling SSL usage for CentOS distro path.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/803475
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/837576
Change-Id: Ie0dd31e453a378e305cf6d1ec6f3786b3eb56aa5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/71/837571/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/infra.yml'],1,775d496fc3bb22b0c5fb6e9bafda9caf452aedd1,osa/centos_distro," # Disable SSL for CentOS distro path due to https://bugzilla.redhat.com/show_bug.cgi?id=2074555 galera_use_ssl: ""{{ not (ansible_facts['os_family'] | lower == 'redhat' and install_method == 'distro') }}""",galera_use_ssl: True,3,1
openstack%2Fswift~master~I5e4a270add2a625e6d5cb0ae9468313ddc88a81b,openstack/swift,master,I5e4a270add2a625e6d5cb0ae9468313ddc88a81b,Clarify that rsync_io_timeout is also used for contimeout,MERGED,2022-04-28 17:07:56.000000000,2022-04-29 22:31:41.000000000,2022-04-29 22:29:53.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 17:07:56.000000000', 'files': ['etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/043e0163edea35f75ddc2263feb59c32a8e8eaa6', 'message': 'Clarify that rsync_io_timeout is also used for contimeout\n\nChange-Id: I5e4a270add2a625e6d5cb0ae9468313ddc88a81b\n'}]",3,839797,043e0163edea35f75ddc2263feb59c32a8e8eaa6,17,2,1,15343,,,0,"Clarify that rsync_io_timeout is also used for contimeout

Change-Id: I5e4a270add2a625e6d5cb0ae9468313ddc88a81b
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/839797/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/object-server.conf-sample'],1,043e0163edea35f75ddc2263feb59c32a8e8eaa6,,# passed to rsync for both io op timeout and connection timeout,# passed to rsync for io op timeout,1,1
openstack%2Fnetworking-generic-switch~stable%2Fyoga~Ia8550c124f2ef1cce620a4fb28c35700d34aa027,openstack/networking-generic-switch,stable/yoga,Ia8550c124f2ef1cce620a4fb28c35700d34aa027,CI: Fix Multinode ssh key/hostname for unit tests,MERGED,2022-04-29 19:33:34.000000000,2022-04-29 22:20:14.000000000,2022-04-29 22:18:54.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 19:33:34.000000000', 'files': ['networking_generic_switch/tests/unit/netmiko/test_netmiko_base.py', 'devstack/plugin.sh', 'networking_generic_switch/devices/netmiko_devices/__init__.py', 'networking_generic_switch/devices/utils.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/2e7b8c4dc96314510bb95252d4ce13ca9f7ed187', 'message': ""CI: Fix Multinode ssh key/hostname for unit tests\n\nIn multinode, the devstack plugin for networking-generic-switch can't\nreally work as intended. But, the authorized keys is copied on all\nnodes, and zuul puts a consistent key in place, so it doesn't\nreally need to do what it is doing, but we need to use the stack\nuser's pre-existing keys to access the remote host.\n\nThis will allow Ironic's multinode grenade job to work without\nerrors about accessing the key file, which is a red herring for\nwhen the connection fails.\n\nAdditionally, the underlying ngs code is suseptible to a race on\nconfiguration loading as configuration is loaded separately.\n\nWe can't really force it to load the option. We also can't\nexplicitly add it, so the best thing to do is to wrap it and\nrely upon a mock to facilitate the unit test.\n\nChange-Id: Ia8550c124f2ef1cce620a4fb28c35700d34aa027\n(cherry picked from commit c6c10a12a83c894eb9c6a26658a010d37432afe7)\n""}]",1,839919,2e7b8c4dc96314510bb95252d4ce13ca9f7ed187,7,2,1,11655,,,0,"CI: Fix Multinode ssh key/hostname for unit tests

In multinode, the devstack plugin for networking-generic-switch can't
really work as intended. But, the authorized keys is copied on all
nodes, and zuul puts a consistent key in place, so it doesn't
really need to do what it is doing, but we need to use the stack
user's pre-existing keys to access the remote host.

This will allow Ironic's multinode grenade job to work without
errors about accessing the key file, which is a red herring for
when the connection fails.

Additionally, the underlying ngs code is suseptible to a race on
configuration loading as configuration is loaded separately.

We can't really force it to load the option. We also can't
explicitly add it, so the best thing to do is to wrap it and
rely upon a mock to facilitate the unit test.

Change-Id: Ia8550c124f2ef1cce620a4fb28c35700d34aa027
(cherry picked from commit c6c10a12a83c894eb9c6a26658a010d37432afe7)
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/19/839919/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_generic_switch/tests/unit/netmiko/test_netmiko_base.py', 'devstack/plugin.sh', 'networking_generic_switch/devices/netmiko_devices/__init__.py', 'networking_generic_switch/devices/utils.py']",4,2e7b8c4dc96314510bb95252d4ce13ca9f7ed187,,"from oslo_config import cfg CONF = cfg.CONF def get_hostname(): """"""Helper to allow isolation of CONF.host and plugin loading."""""" return CONF.host",,23,4
openstack%2Fneutron~stable%2Fussuri~I9f914e721201072e43a8c6c266ed97ca85fcc13d,openstack/neutron,stable/ussuri,I9f914e721201072e43a8c6c266ed97ca85fcc13d,[OVN] Correctly set dns_server in dhcpv4/v6 options,MERGED,2022-04-22 06:27:30.000000000,2022-04-29 22:19:34.000000000,2022-04-29 22:17:31.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-22 06:27:30.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'releasenotes/notes/ovn-default-dns-servers-ipv6-subnets-f2d525abc70b01b3.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a5aa9b83c367c27cb4ea09e6c1fd211eed76001', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of IPv6 dns nameservers,\nit was getting added to IPv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an IPv6 address)\nis set in the instances.\n\nThis patch filters IPv4/IPv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for IPv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with the IPv4 subnets. Updated\nget_system_dns_resolvers to pick both IPv4/IPv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for IPv4[1].\n\nAdditionally fix some unit tests which were setting IPv4 dns\nnameservers on the IPv6 subnets, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\nConflicts:\n  lower-constraints.txt\n  requirements.txt\n\n[Stable Only] Since Neutron stable policy do not allow bumping\nof minimum version of a requirement in stable releases, so doing\na partial backport by not backporting requirements.txt changes and\nupdated get_system_dns_resolvers to work with older version of\noslo.utils.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/826647\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n(cherry picked from commit 4a06685098cc2e9b69c1b961eecef957314faf85)\n(cherry picked from commit 4b89ad64038eb2301730494c31255174e2da5597)\n""}]",1,838879,6a5aa9b83c367c27cb4ea09e6c1fd211eed76001,13,4,1,16688,,,0,"[OVN] Correctly set dns_server in dhcpv4/v6 options

When ovn/dns_servers consist of IPv6 dns nameservers,
it was getting added to IPv4 dhcp options also, and due to
this an invalid nameserver(last 4 octets of an IPv6 address)
is set in the instances.

This patch filters IPv4/IPv6 dns nameservers and set
dhcpv4/dhcpv6 options accordingly.

Also when dns_nameservers are not set for IPv6 subnets,
get those from ovn/dns_servers config or system nameservers
just like it's done with the IPv4 subnets. Updated
get_system_dns_resolvers to pick both IPv4/IPv6 valid
ips, this also requires bump of oslo.utils minimum version
to 4.8.0 to use strict option for IPv4[1].

Additionally fix some unit tests which were setting IPv4 dns
nameservers on the IPv6 subnets, this is not allowed with api.

[1] https://github.com/openstack/oslo.utils/commit/3288539

Conflicts:
  lower-constraints.txt
  requirements.txt

[Stable Only] Since Neutron stable policy do not allow bumping
of minimum version of a requirement in stable releases, so doing
a partial backport by not backporting requirements.txt changes and
updated get_system_dns_resolvers to work with older version of
oslo.utils.

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/826647
Closes-Bug: #1951816
Change-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d
(cherry picked from commit 4a06685098cc2e9b69c1b961eecef957314faf85)
(cherry picked from commit 4b89ad64038eb2301730494c31255174e2da5597)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/838879/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'releasenotes/notes/ovn-default-dns-servers-ipv6-subnets-f2d525abc70b01b3.yaml']",4,6a5aa9b83c367c27cb4ea09e6c1fd211eed76001,bug/1951816-stable/wallaby-stable/ussuri,"--- fixes: - | For IPv4 subnets when dns_nameservers is not set in the subnet, servers defined in 'ovn/dns_servers' config option or system's resolv.conf are used, but for IPv6 subnets these are not used. The same will now be used for IPv6 subnets too. Additionally dns servers added in 'ovn/dns_servers' config option or system's resolv.conf will be filtered as per the subnet's IP version. For more info see the bug report `1951816 <https://bugs.launchpad.net/neutron/+bug/1951816>`_. ",,91,14
openstack%2Fneutron-tempest-plugin~master~Iba591ca9d6e4d55f6152648a3adb1176a841581d,openstack/neutron-tempest-plugin,master,Iba591ca9d6e4d55f6152648a3adb1176a841581d,Collect ovn/ovs logs and ovn dbs,MERGED,2022-04-28 13:27:08.000000000,2022-04-29 22:15:36.000000000,2022-04-29 22:15:36.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 13:27:08.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ee00742befa537472154286cf48aef43f8e1375d', 'message': ""Collect ovn/ovs logs and ovn dbs\n\nThe jobs running with ovs/ovn distro packages\nnot having logs collected, adding these to\nzuul_copy_output so these get's collected.\nThese will be helpful in troubleshooting\nissues faced in the jobs related to ovs or ovn.\n\nRelated-Bug: #1970679\nChange-Id: Iba591ca9d6e4d55f6152648a3adb1176a841581d\n""}]",0,839763,ee00742befa537472154286cf48aef43f8e1375d,7,6,1,13861,,,0,"Collect ovn/ovs logs and ovn dbs

The jobs running with ovs/ovn distro packages
not having logs collected, adding these to
zuul_copy_output so these get's collected.
These will be helpful in troubleshooting
issues faced in the jobs related to ovs or ovn.

Related-Bug: #1970679
Change-Id: Iba591ca9d6e4d55f6152648a3adb1176a841581d
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/63/839763/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,ee00742befa537472154286cf48aef43f8e1375d,bug/1970679, zuul_copy_output: '/var/log/ovn': 'logs' '/var/log/openvswitch': 'logs' '/var/lib/ovn': 'logs',,4,0
openstack%2Fneutron-tempest-plugin~master~I0b481bc6b66fbe7f5e4dab92e9f60812bbaeaead,openstack/neutron-tempest-plugin,master,I0b481bc6b66fbe7f5e4dab92e9f60812bbaeaead,Exclude test test_floatingip_port_details from the Linuxbridge job,MERGED,2022-04-13 07:49:26.000000000,2022-04-29 22:15:34.000000000,2022-04-29 22:15:34.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 07:49:26.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3fe3a90f13656bfd8f04aa04871bcd02f967f336', 'message': 'Exclude test test_floatingip_port_details from the Linuxbridge job\n\nDuring the last PTG [1] we decided that due to lack of maintainers for\nthe Linuxbridge backend we will probably mark it as ""unsupported"" (or\nsomething like that, nameing isn\'t decided yet) thus we will not\nguarantee that all tests with such backend will always run properly and\nall will be in good shape.\nAs a first ""victim"" of that decision, lets skip test\nneutron_tempest_plugin.scenario.test_floatingip.FloatingIPPortDetailsTest.\\\ntest_floatingip_port_details\nwhich is failing from time to time in the linuxbridge scenario job.\n\nRelated-bug: #1799790\n\n[1] https://etherpad.opendev.org/p/neutron-zed-ptg#L171\n\nChange-Id: I0b481bc6b66fbe7f5e4dab92e9f60812bbaeaead\n'}]",2,837693,3fe3a90f13656bfd8f04aa04871bcd02f967f336,10,5,1,11975,,,0,"Exclude test test_floatingip_port_details from the Linuxbridge job

During the last PTG [1] we decided that due to lack of maintainers for
the Linuxbridge backend we will probably mark it as ""unsupported"" (or
something like that, nameing isn't decided yet) thus we will not
guarantee that all tests with such backend will always run properly and
all will be in good shape.
As a first ""victim"" of that decision, lets skip test
neutron_tempest_plugin.scenario.test_floatingip.FloatingIPPortDetailsTest.\
test_floatingip_port_details
which is failing from time to time in the linuxbridge scenario job.

Related-bug: #1799790

[1] https://etherpad.opendev.org/p/neutron-zed-ptg#L171

Change-Id: I0b481bc6b66fbe7f5e4dab92e9f60812bbaeaead
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/93/837693/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,3fe3a90f13656bfd8f04aa04871bcd02f967f336,bug/1799790," # TODO(slaweq) remove test_floatingip_port_details from the exclude # regex when bug https://bugs.launchpad.net/neutron/+bug/1799790 will be # fixed (^neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_established_tcp_session_after_re_attachinging_sg)|\ (^neutron_tempest_plugin.scenario.test_floatingip.FloatingIPPortDetailsTest.test_floatingip_port_details)"""," (^neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_established_tcp_session_after_re_attachinging_sg)""",5,1
openstack%2Fneutron-tempest-plugin~master~I74e3e69d9e7ca866840f7a9f1e1990d88a138da0,openstack/neutron-tempest-plugin,master,I74e3e69d9e7ca866840f7a9f1e1990d88a138da0,Fix wrong exceptions import from test_metadata,MERGED,2022-04-25 11:07:54.000000000,2022-04-29 22:15:32.000000000,2022-04-29 22:15:32.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 29088}, {'_account_id': 29350}]","[{'number': 1, 'created': '2022-04-25 11:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/604c6af36bdcd7e609e7f256c48dce7fd59aebc3', 'message': 'Fix wrong exceptions import from test_metadata\n\nSSHExecCommandFailed should be imported from tempest.lib.exceptions, not\nfrom neutron_tempest_plugin.exceptions\n\nChange-Id: I74e3e69d9e7ca866840f7a9f1e1990d88a138da0\n'}, {'number': 2, 'created': '2022-04-28 16:23:59.000000000', 'files': ['neutron_tempest_plugin/scenario/test_metadata.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f10618eac3a12d35a35044443b63d144b71e0c6b', 'message': 'Fix wrong exceptions import from test_metadata\n\nSSHExecCommandFailed should be imported from tempest.lib.exceptions, not\nfrom neutron_tempest_plugin.exceptions\n\nChange-Id: I74e3e69d9e7ca866840f7a9f1e1990d88a138da0\n'}]",1,839192,f10618eac3a12d35a35044443b63d144b71e0c6b,12,8,2,31291,,,0,"Fix wrong exceptions import from test_metadata

SSHExecCommandFailed should be imported from tempest.lib.exceptions, not
from neutron_tempest_plugin.exceptions

Change-Id: I74e3e69d9e7ca866840f7a9f1e1990d88a138da0
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/92/839192/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_metadata.py'],1,604c6af36bdcd7e609e7f256c48dce7fd59aebc3,fix_exceptions_test_metadata,from tempest.lib import exceptions,from neutron_tempest_plugin import exceptions,1,1
openstack%2Fglance-specs~master~I4d78c2cbae2610e22b5b246c3e9fcb7defca4a12,openstack/glance-specs,master,I4d78c2cbae2610e22b5b246c3e9fcb7defca4a12,Unified Limits Integration with Glance,ABANDONED,2020-05-19 09:37:51.000000000,2022-04-29 22:01:43.000000000,,"[{'_account_id': 136}, {'_account_id': 2033}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-19 09:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/847b3887fd268064b840ad6991ed3d06c6670fb1', 'message': 'Unified Limits Integration with Glance\n\nGlance quota system is currently based on static value in config file,\nso commmon for all tenant and cannot be consulted or edited without a\nconfiguration change. There was many attempt to enhance this quota\nsystem with a DB-based quota mecanism like we can found in Nova or\nCinder, but it was finally never implemented.\n\nThe goal here is to rely on the Keystone unified limit system[1], in\norder to store the quota for each tenant in Keystone. This way, only\nthe enforcing of the quota will be done Glance side, using the\noslo.limit[2] library.\n\n[1] https://docs.openstack.org/keystone/latest/admin/unified-limits.html\n[2] https://docs.openstack.org/oslo.limit/latest/user/usage.html\n\nChange-Id: I4d78c2cbae2610e22b5b246c3e9fcb7defca4a12\nImplements: blueprint implement-unified-limits\n'}, {'number': 2, 'created': '2020-05-19 09:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/7ebf36e29238cb99ec210474ed8e9e7d08859c3b', 'message': 'Unified Limits Integration with Glance\n\nGlance quota system is currently based on static value in config file,\nso commmon for all tenant and cannot be consulted or edited without a\nconfiguration change. There was many attempt to enhance this quota\nsystem with a DB-based quota mecanism like we can found in Nova or\nCinder, but it was finally never implemented.\n\nThe goal here is to rely on the Keystone unified limit system[1], in\norder to store the quota for each tenant in Keystone. This way, only\nthe enforcing of the quota will be done Glance side, using the\noslo.limit[2] library.\n\n[1] https://docs.openstack.org/keystone/latest/admin/unified-limits.html\n[2] https://docs.openstack.org/oslo.limit/latest/user/usage.html\n\nChange-Id: I4d78c2cbae2610e22b5b246c3e9fcb7defca4a12\nImplements: blueprint implement-unified-limits\n'}, {'number': 3, 'created': '2020-06-02 17:38:39.000000000', 'files': ['specs/victoria/approved/glance/implement-unified-limits.rst', 'specs/victoria/approved/index.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/573f1b18573e76beda48540f341f70fe53a12d7e', 'message': 'Unified Limits Integration with Glance\n\nGlance quota system is currently based on static value in config file,\nso commmon for all tenant and cannot be consulted or edited without a\nconfiguration change. There was many attempt to enhance this quota\nsystem with a DB-based quota mecanism like we can found in Nova or\nCinder, but it was finally never implemented.\n\nThe goal here is to rely on the Keystone unified limit system[1], in\norder to store the quota for each tenant in Keystone. This way, only\nthe enforcing of the quota will be done Glance side, using the\noslo.limit[2] library.\n\n[1] https://docs.openstack.org/keystone/latest/admin/unified-limits.html\n[2] https://docs.openstack.org/oslo.limit/latest/user/usage.html\n\nChange-Id: I4d78c2cbae2610e22b5b246c3e9fcb7defca4a12\nImplements: blueprint implement-unified-limits\n'}]",3,729187,573f1b18573e76beda48540f341f70fe53a12d7e,10,6,3,28595,,,0,"Unified Limits Integration with Glance

Glance quota system is currently based on static value in config file,
so commmon for all tenant and cannot be consulted or edited without a
configuration change. There was many attempt to enhance this quota
system with a DB-based quota mecanism like we can found in Nova or
Cinder, but it was finally never implemented.

The goal here is to rely on the Keystone unified limit system[1], in
order to store the quota for each tenant in Keystone. This way, only
the enforcing of the quota will be done Glance side, using the
oslo.limit[2] library.

[1] https://docs.openstack.org/keystone/latest/admin/unified-limits.html
[2] https://docs.openstack.org/oslo.limit/latest/user/usage.html

Change-Id: I4d78c2cbae2610e22b5b246c3e9fcb7defca4a12
Implements: blueprint implement-unified-limits
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/87/729187/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/victoria/approved/glance/implement-unified-limits.rst', 'specs/victoria/approved/index.rst']",2,847b3887fd268064b840ad6991ed3d06c6670fb1,bp/implement-unified-limits,Victoria approved specs for Glance: .. toctree:: :glob: :maxdepth: 1 glance/*,TODO: fill this in until a new approved space is added. ,351,1
openstack%2Fglance-specs~master~I4f6fea81c77545ebd7ca3db32f323d9c4c0ec23e,openstack/glance-specs,master,I4f6fea81c77545ebd7ca3db32f323d9c4c0ec23e,Add xena directory for specs,ABANDONED,2021-04-05 02:20:59.000000000,2022-04-29 21:59:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-05 02:20:59.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/a2532875aaa7871ce72209646a9e3aba4aa73337', 'message': 'Add xena directory for specs\n\nChange-Id: I4f6fea81c77545ebd7ca3db32f323d9c4c0ec23e\n'}]",0,784718,a2532875aaa7871ce72209646a9e3aba4aa73337,3,1,1,30384,,,0,"Add xena directory for specs

Change-Id: I4f6fea81c77545ebd7ca3db32f323d9c4c0ec23e
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/18/784718/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,a2532875aaa7871ce72209646a9e3aba4aa73337,, specs/xena/*,,1,0
openstack%2Ftripleo-heat-templates~master~Idb6f097f5354ee712bb9346c1e9312406f1a1018,openstack/tripleo-heat-templates,master,Idb6f097f5354ee712bb9346c1e9312406f1a1018,Set ownership of files in external_post_deploy_tasks,MERGED,2022-04-26 09:22:36.000000000,2022-04-29 21:57:33.000000000,2022-04-29 21:57:33.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-04-26 09:22:36.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e94814f4a2a96c4a4a58e1e1d924aa8769bd30cb', 'message': 'Set ownership of files in external_post_deploy_tasks\n\nOctavia creates a bunch of files with elevated privileges.\nWithout setting the owners they would be owned by root and\ncan create issues.\n\nChange-Id: Idb6f097f5354ee712bb9346c1e9312406f1a1018\n'}]",1,839324,e94814f4a2a96c4a4a58e1e1d924aa8769bd30cb,12,7,1,8833,,,0,"Set ownership of files in external_post_deploy_tasks

Octavia creates a bunch of files with elevated privileges.
Without setting the owners they would be owned by root and
can create issues.

Change-Id: Idb6f097f5354ee712bb9346c1e9312406f1a1018
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/839324/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,e94814f4a2a96c4a4a58e1e1d924aa8769bd30cb,," owner: ""{{ ansible_user }}"" owner: ""{{ ansible_user }}""",,2,0
openstack%2Fglance-specs~master~Ia709200ab344598177eb2efd9838677154b6d984,openstack/glance-specs,master,Ia709200ab344598177eb2efd9838677154b6d984,Fix pygments style,ABANDONED,2020-05-20 02:39:15.000000000,2022-04-29 21:54:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-20 02:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/371778b974bf1d3342ce519410b9ba0b21a4fb8c', 'message': 'Fix pygments style\n\nChange-Id: Ia709200ab344598177eb2efd9838677154b6d984\n'}, {'number': 2, 'created': '2020-05-20 07:19:32.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/735b7e09686a11e6571e4175c7bb021ef98520bf', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: Ia709200ab344598177eb2efd9838677154b6d984\n'}]",0,729493,735b7e09686a11e6571e4175c7bb021ef98520bf,6,1,2,31446,,,0,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: Ia709200ab344598177eb2efd9838677154b6d984
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/93/729493/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,371778b974bf1d3342ce519410b9ba0b21a4fb8c,,pygments_style = 'native',pygments_style = 'sphinx',1,1
openstack%2Fglance-specs~master~I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8,openstack/glance-specs,master,I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8,Specify image size to avoid glance backend resize,ABANDONED,2018-10-06 07:04:19.000000000,2022-04-29 21:53:09.000000000,,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 9373}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-06 07:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/0b511a5b21682f8cba99e7ac16b32228ec28cfea', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. This spec aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nChange-Id: I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8\nImplements: blueprint specify-image-size-to-avoid-backend-resize\nRelated-bugs: #1792710\n""}, {'number': 2, 'created': '2018-10-06 07:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/132b5c3ab6fe5c9615bcc5f4c898da4afbdf67c0', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. This spec aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nChange-Id: I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8\nImplements: blueprint specify-image-size-to-avoid-backend-resize\nRelated-bugs: #1792710\n""}, {'number': 3, 'created': '2018-10-06 09:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/37640891e57ca66cfc00c646e14bf55ff9bc9578', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. This spec aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nChange-Id: I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8\nImplements: blueprint specify-image-size-to-avoid-backend-resize\nRelated-bugs: #1792710\n""}, {'number': 4, 'created': '2018-10-06 09:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/8d6e29f7fd91635e4bdf3bd9fde9579efc398eac', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. This spec aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nChange-Id: I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8\nImplements: blueprint specify-image-size-to-avoid-backend-resize\nRelated-Bug:: #1792710\n""}, {'number': 5, 'created': '2018-10-06 09:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/868bd31dedf44c7b0c6f8e45ebbd53fd87b26912', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. This spec aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nChange-Id: I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8\nImplements: blueprint specify-image-size-to-avoid-backend-resize\nRelated-Bug: #1792710\n""}, {'number': 6, 'created': '2018-12-02 07:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/4f43ad4896faa98a37c51e37f729e46d6ac5f58a', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. This spec aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nChange-Id: I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8\nImplements: blueprint specify-image-size-to-avoid-backend-resize\nRelated-Bug: #1792710\n""}, {'number': 7, 'created': '2019-04-04 09:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/336de28f778b5738985b16e921a17baa7a48da34', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't know\nthe image size, so the backend storage server(such as ceph) need to resize\nthe image every time it received new chunk of data(by default 64K). So there\nwill be huge times of resize operations that will terribly impact the\nperformance.\n\nThis spec aims to tell the image size to glance server at the initial phase\nof uploading, so that glance backend such as ceph can allocate an image with\nexact size, and don't need to resize the image again and again.\n\nChange-Id: I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8\nImplements: blueprint specify-image-size-to-avoid-backend-resize\nRelated-Bug: #1792710\n""}, {'number': 8, 'created': '2019-04-12 15:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/62d54523ef096dcb9213cd953a2a2e8b0fa40b2f', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't know\nthe image size, so the backend storage server(such as ceph) need to resize\nthe image every time it received new chunk of data(by default 64K). So there\nwill be huge times of resize operations that will terribly impact the\nperformance.\n\nThis spec aims to tell the image size to glance server at the initial phase\nof uploading, so that glance backend such as ceph can allocate an image with\nexact size, and don't need to resize the image again and again.\n\nChange-Id: I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8\nImplements: blueprint specify-image-size-to-avoid-backend-resize\nRelated-Bug: #1792710\n""}, {'number': 9, 'created': '2019-04-12 15:50:38.000000000', 'files': ['specs/train/approved/index.rst', 'specs/train/approved/glance/specify-image-size-to-avoid-backend-resize.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/7247e009abf75dcca9b0ea8b718baafd25ebb7c5', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance.\n\nThis spec aims to tell the image size to glance server at the initial\nphase of uploading, so that glance backend such as ceph can allocate an\nimage with exact size, and don't need to resize the image again and\nagain.\n\nChange-Id: I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8\nImplements: blueprint specify-image-size-to-avoid-backend-resize\nRelated-Bug: #1792710\n""}]",0,608400,7247e009abf75dcca9b0ea8b718baafd25ebb7c5,22,4,9,28948,,,0,"Specify image size to avoid glance backend resize

When uploading a volume to glance as an image, the glance server don't
know the image size, so the backend storage server(such as ceph) need to
resize the image every time it received new chunk of data(by default
64K). So there will be huge times of resize operations that will
terribly impact the performance.

This spec aims to tell the image size to glance server at the initial
phase of uploading, so that glance backend such as ceph can allocate an
image with exact size, and don't need to resize the image again and
again.

Change-Id: I69f9ee376d4eb5e1075f3cccd72c75eb142c11d8
Implements: blueprint specify-image-size-to-avoid-backend-resize
Related-Bug: #1792710
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/00/608400/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/glance/specify-image-size-to-avoid-backend-resize.rst'],1,0b511a5b21682f8cba99e7ac16b32228ec28cfea,bug/1792710,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== specify-image-size-to-avoid-backend-resize ========================================== https://blueprints.launchpad.net/glance/+spec/specify-image-size-to-avoid- backend-resize This spec try to specify the image size when uploading volume to glance as an image so that glance backend don't need to resize the image tons of times. Problem description =================== When uploading a volume to glance as an image, the glance server don't know the image size, so the backend storage server (such as ceph) need to resize the image every time it received new chunk of data (by default 64K). So there will be huge times of resize operations that will terribly impact the performace. Proposed change =============== The proposed change is to tell the image size to glance server at the initial phase of uploading, so that glance backend such as ceph can allocate an image with exact size, and don't need to resize the image again and again. In order to specify size, three parts need to change: 1. cinder, try to get the image size before trying to call upload. Specifically, in cinder/image/glance.py: def update(self, context, image_id, image_meta, data=None, purge_props=True): ... if data: try: file_types = (file, io.IOBase) except NameError: file_types = (io.IOBase,) size = 0 if isinstance(data, file_types): old_fp = data.tell() data.seek(0, os.SEEK_END) size = data.tell() data.seek(old_fp, os.SEEK_SET) else: size = len(data) # fill the size here self._client.call(context, 'upload', image_id, data, size) 2. glanceclient, convey the image size via http header, just like x-image-meta-store did. Specifically, in glanceclient/v2/images.py: def upload(self, image_id, image_data, image_size=None, u_url=None, backend=None): ... hdrs = { 'Content-Type': 'application/octet-stream', 'x-image-meta-size': str(image_size) # convey image size here } if backend is not None: hdrs['x-image-meta-store'] = backend 3. glance, deserializer the image size from http request. Specifically, in glance/api/v2/image_data.py: class RequestDeserializer(wsgi.JSONRequestDeserializer): def _extract_image_size(self, request): try: image_size = request.content_length or None if image_size is None or image_size == 0: # extract the image size here image_size = request.headers.get('x-image-meta-size', 0) ... return image_size def upload(self, request): ... # get the image size and transfer to subsequent calls image_size = self._extract_image_size(request) Alternatives ------------ One alternative way to solve this issue is to update image with the actual size after creating image and before uploading data. Then glance can try to retrieve the image size at the beginning of uploading. In this way we need to update image size which is read only. There will be a trade off if image size can be written or not. We may can allow size update only when the size is zero which means upload not started yet. Another alternative way is to set the image size at the time of creating image. But this way cannot work well because the image size cannot be calculated exactly at this time of creating, it depends on the image format. Data model impact ----------------- None REST API impact --------------- Image size is included in the HTTP request header. No impact to existing code. If this size is ignored by some network intermediate, the result behavior is just the same as now. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Glace backend don't need to resize the image anymore after it get the exact size, so this spec will have significant benefit to the performance. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Liang Fang (liang.a.fang@intel.com) Work Items ---------- * Get image size in cinder * Add image size in HTTP request header in glanceclient * Extract the image size from HTTP request in glance * Add related unit tests Dependencies ============ None Testing ======= * Add unit tests to cover this change. Documentation Impact ==================== None References ========== .. [0] https://review.openstack.org/#/c/602571/ .. [1] https://review.openstack.org/#/c/602577/ .. [2] https://review.openstack.org/#/c/602580/ ",,185,0
openstack%2Fglance-specs~master~Id16b1c8095f9d909a9949b154229caf9b852b7b5,openstack/glance-specs,master,Id16b1c8095f9d909a9949b154229caf9b852b7b5,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-05 08:58:29.000000000,2022-04-29 21:49:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-05 08:58:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/fc1a277eeed5e66001e723a955c0dda348c4a531', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id16b1c8095f9d909a9949b154229caf9b852b7b5\n""}]",0,789756,fc1a277eeed5e66001e723a955c0dda348c4a531,3,1,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id16b1c8095f9d909a9949b154229caf9b852b7b5
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/56/789756/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fc1a277eeed5e66001e723a955c0dda348c4a531,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://specs.openstack.org/openstack/glance-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://specs.openstack.org/openstack/glance-specs/,3,3
openstack%2Fglance-specs~master~Ic64a6cccdf3974eef7e8e5cffa73f04af626c7a2,openstack/glance-specs,master,Ic64a6cccdf3974eef7e8e5cffa73f04af626c7a2,Fix author-email in setup.cfg,ABANDONED,2019-01-22 09:08:52.000000000,2022-04-29 21:48:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-22 09:08:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/4f24df49fafc4a624b5caf37bf18d7fd191524a9', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: Ic64a6cccdf3974eef7e8e5cffa73f04af626c7a2\n'}]",0,632334,4f24df49fafc4a624b5caf37bf18d7fd191524a9,4,2,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: Ic64a6cccdf3974eef7e8e5cffa73f04af626c7a2
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/34/632334/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4f24df49fafc4a624b5caf37bf18d7fd191524a9,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fglance-specs~master~I5d63f982efd9d010847349e7bb19142f20889125,openstack/glance-specs,master,I5d63f982efd9d010847349e7bb19142f20889125,Update tox minversion to 2.0,ABANDONED,2018-10-25 11:44:46.000000000,2022-04-29 21:41:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-25 11:44:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/37de193a7a064cb1e2fbd52c50fd1aa53401e1b2', 'message': 'Update tox minversion to 2.0\n\nThe commands used by constraints need at least tox 2.0. Update to reflect reality, which should help with local running of constraints targets\n\nChange-Id: I5d63f982efd9d010847349e7bb19142f20889125\n'}]",0,613284,37de193a7a064cb1e2fbd52c50fd1aa53401e1b2,3,1,1,26775,,,0,"Update tox minversion to 2.0

The commands used by constraints need at least tox 2.0. Update to reflect reality, which should help with local running of constraints targets

Change-Id: I5d63f982efd9d010847349e7bb19142f20889125
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/84/613284/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,37de193a7a064cb1e2fbd52c50fd1aa53401e1b2,,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fglance-specs~master~I5c5a07eec650b2417c7e4ea12f8dab5768398771,openstack/glance-specs,master,I5c5a07eec650b2417c7e4ea12f8dab5768398771,Optimize the link address in docs,ABANDONED,2018-07-03 08:23:13.000000000,2022-04-29 21:39:44.000000000,,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 08:23:13.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/bed8fdc8a1ef6b14a91adc7dcfffc9539daec3ae', 'message': 'Optimize the link address in docs\n\nChange-Id: I5c5a07eec650b2417c7e4ea12f8dab5768398771\n'}]",0,579804,bed8fdc8a1ef6b14a91adc7dcfffc9539daec3ae,5,3,1,26435,,,0,"Optimize the link address in docs

Change-Id: I5c5a07eec650b2417c7e4ea12f8dab5768398771
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/04/579804/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,bed8fdc8a1ef6b14a91adc7dcfffc9539daec3ae,, https://blueprints.launchpad.net/glance https://docs.openstack.org/infra/manual/developers.html#development-workflow, http://blueprints.launchpad.net/glance http://docs.openstack.org/infra/manual/developers.html#development-workflow,2,2
openstack%2Fansible-role-redhat-subscription~master~Id19209ca0a939bd669b25f9aad7dd5b011e34922,openstack/ansible-role-redhat-subscription,master,Id19209ca0a939bd669b25f9aad7dd5b011e34922,Fix Ansible Lint,MERGED,2022-04-29 19:00:36.000000000,2022-04-29 21:22:32.000000000,2022-04-29 21:22:32.000000000,"[{'_account_id': 7130}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 19:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/28ec6717c7fcadb0cd8dc3cc910b373680191f3d', 'message': 'Fix Ansible Lint\n\nAnsible lint is currently broken for this role. This change updates to\nAnsible Core for the dependencies and then adjusts the role files to\nensure that the role can pass lint checks.\n\nChange-Id: Id19209ca0a939bd669b25f9aad7dd5b011e34922\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2022-04-29 19:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/b69d03de85774a1cf789a3c4542a4c6557fbec75', 'message': 'Fix Ansible Lint\n\nAnsible lint is currently broken for this role. This change updates to\nAnsible Core for the dependencies and then adjusts the role files to\nensure that the role can pass lint checks.\n\nChange-Id: Id19209ca0a939bd669b25f9aad7dd5b011e34922\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2022-04-29 19:12:42.000000000', 'files': ['tests/vars/portal.yml', 'tasks/register.yml', 'tasks/satellite-6.yml', 'setup.py', 'tests/vagrant.yml', 'library/rhsm_repository_conf.py', 'defaults/main.yml', '.ansible-lint', 'README.md', 'tasks/satellite-5.yml', 'tasks/satellite.yml', 'ansible-requirements.txt', 'tasks/portal.yml', 'tox.ini', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/da50e0e267297d5d0e1e7269038cf360af5cd96e', 'message': 'Fix Ansible Lint\n\nAnsible lint is currently broken for this role. This change updates to\nAnsible Core for the dependencies and then adjusts the role files to\nensure that the role can pass lint checks.\n\nChange-Id: Id19209ca0a939bd669b25f9aad7dd5b011e34922\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",1,839993,da50e0e267297d5d0e1e7269038cf360af5cd96e,10,3,3,7353,,,0,"Fix Ansible Lint

Ansible lint is currently broken for this role. This change updates to
Ansible Core for the dependencies and then adjusts the role files to
ensure that the role can pass lint checks.

Change-Id: Id19209ca0a939bd669b25f9aad7dd5b011e34922
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/93/839993/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/vars/portal.yml', 'tasks/register.yml', 'tasks/satellite-6.yml', 'tests/vagrant.yml', 'library/rhsm_repository_conf.py', 'defaults/main.yml', '.ansible-lint', 'README.md', 'tasks/satellite-5.yml', 'tasks/satellite.yml', 'ansible-requirements.txt', 'tasks/portal.yml', 'tox.ini', 'meta/main.yml']",14,28ec6717c7fcadb0cd8dc3cc910b373680191f3d,, platforms: - name: EL versions: - 6 - 7 - 8, platforms: - name: EL versions: - 6 - 7 - 8 ,33,37
openstack%2Fopenstack-ansible-lxc_hosts~master~I23632f9c145be334b1d19067352f8b82114a1209,openstack/openstack-ansible-lxc_hosts,master,I23632f9c145be334b1d19067352f8b82114a1209,Replace systemd-mount template with role,MERGED,2022-03-17 15:24:57.000000000,2022-04-29 20:58:24.000000000,2022-04-29 20:56:48.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-03-17 15:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c11d4867c0acf56c314ff143626cdcba54265015', 'message': 'Replace systemd-mount template with role\n\nTo reduce role complexity we replace separatelly maintained template\nwith systemd_mount role that is widely used across OSA.\n\nChange-Id: I23632f9c145be334b1d19067352f8b82114a1209\n'}, {'number': 2, 'created': '2022-04-07 11:40:09.000000000', 'files': ['files/var-lib-machines.mount', 'handlers/main.yml', 'tasks/lxc_cache_rootfs.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/337ddf87802c7597b7c51a071eb9829a4b87defa', 'message': 'Replace systemd-mount template with role\n\nTo reduce role complexity we replace separatelly maintained template\nwith systemd_mount role that is widely used across OSA.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/836945\nChange-Id: I23632f9c145be334b1d19067352f8b82114a1209\n'}]",11,834183,337ddf87802c7597b7c51a071eb9829a4b87defa,40,4,2,28619,,,0,"Replace systemd-mount template with role

To reduce role complexity we replace separatelly maintained template
with systemd_mount role that is widely used across OSA.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/836945
Change-Id: I23632f9c145be334b1d19067352f8b82114a1209
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/83/834183/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/var-lib-machines.mount', 'handlers/main.yml', 'tasks/lxc_cache_rootfs.yml']",3,c11d4867c0acf56c314ff143626cdcba54265015,,- name: Create systemd mount import_role: name: systemd_mount vars: systemd_mounts: - what: '/var/lib/machines.raw' where: '/var/lib/machines' type: 'ext4' options: 'loop' unit: ConditionPathExists: - '/var/lib/machines.raw' state: 'started' enabled: true,"- name: Create machines mount point file: path: ""/var/lib/machines"" state: ""directory"" recurse: true - name: Move machines mount into place copy: src: var-lib-machines.mount dest: /lib/systemd/system/var-lib-machines.mount register: mount_unit - name: Reload the System daemon systemd: daemon_reload: yes when: mount_unit is changed - name: Mount all shell: ""mount | grep '/var/lib/machines' || (systemctl start var-lib-machines.mount && exit 3)"" register: mount_machines changed_when: mount_machines.rc == 3 failed_when: mount_machines.rc not in [0, 3] tags: - skip_ansible_lint",14,64
openstack%2Fmanila-ui~stable%2Fyoga~If21408291fcb4ccd778b24145effcb253227df55,openstack/manila-ui,stable/yoga,If21408291fcb4ccd778b24145effcb253227df55,Fix share replica creation,MERGED,2022-04-27 18:46:45.000000000,2022-04-29 20:52:20.000000000,2022-04-29 20:50:46.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-27 18:46:45.000000000', 'files': ['releasenotes/notes/bug-1968925-fix-replica-creation-190321bf9fefe179.yaml', 'manila_ui/api/manila.py', 'manila_ui/tests/api/test_manila.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/45888a902e57fb4d78df0c5d6b0c6a690b33d60c', 'message': 'Fix share replica creation\n\nThe manilaclient SDK not accept a ""share_network""\nargument anymore with the share_replicas.create()\nmethod.\n\nChange-Id: If21408291fcb4ccd778b24145effcb253227df55\nCloses-Bug: #1968925\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 3ba70dc3e600897761e7183f464ca13bdd2b52f9)\n'}]",1,839547,45888a902e57fb4d78df0c5d6b0c6a690b33d60c,11,3,1,16643,,,0,"Fix share replica creation

The manilaclient SDK not accept a ""share_network""
argument anymore with the share_replicas.create()
method.

Change-Id: If21408291fcb4ccd778b24145effcb253227df55
Closes-Bug: #1968925
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 3ba70dc3e600897761e7183f464ca13bdd2b52f9)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/47/839547/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1968925-fix-replica-creation-190321bf9fefe179.yaml', 'manila_ui/api/manila.py', 'manila_ui/tests/api/test_manila.py']",3,45888a902e57fb4d78df0c5d6b0c6a690b33d60c,bug/1968925," def test_share_replica_create(self): self.request, share, availability_zone) availability_zone=availability_zone"," @ddt.data(None, ""foo_share_network"") def test_share_replica_create(self, share_network): self.request, share, availability_zone, share_network) availability_zone=availability_zone, share_network=share_network,",10,9
openstack%2Fswift~master~I34f98fe897ee2d15fc360216c88c1f67aecd8081,openstack/swift,master,I34f98fe897ee2d15fc360216c88c1f67aecd8081,probe: Increase job timeout,ABANDONED,2022-04-28 23:19:28.000000000,2022-04-29 20:41:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 23:19:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/ee3370ef05e886d01893c58c4b387f7db09d9af7', 'message': ""probe: Increase job timeout\n\nThe last couple days, we've seen a very large increase in probe test\ntimeouts. Bump it up, see if they'll eventually pass.\n\nChange-Id: I34f98fe897ee2d15fc360216c88c1f67aecd8081\n""}]",0,839831,ee3370ef05e886d01893c58c4b387f7db09d9af7,4,1,1,15343,,,0,"probe: Increase job timeout

The last couple days, we've seen a very large increase in probe test
timeouts. Bump it up, see if they'll eventually pass.

Change-Id: I34f98fe897ee2d15fc360216c88c1f67aecd8081
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/839831/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ee3370ef05e886d01893c58c4b387f7db09d9af7,, timeout: 10800, timeout: 7200,1,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fwallaby~I4ca394314b1fa9c5f3ac5918e98a497ca5b55471,openstack/openstack-ansible-lxc_container_create,stable/wallaby,I4ca394314b1fa9c5f3ac5918e98a497ca5b55471,Wait for 2s after restarting systemd-networkd,MERGED,2022-04-28 09:37:03.000000000,2022-04-29 20:36:52.000000000,2022-04-29 20:35:22.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-04-28 09:37:03.000000000', 'files': ['files/lxc-veth-wiring.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/dc2db26be5ae6c263adcea831fc71220a6edcfcc', 'message': 'Wait for 2s after restarting systemd-networkd\n\nSystemd has a limit of 5 service restart in 10 seconds. If a service is\nrestarted more often it fails. The lxc-vet-wiring.sh script can trigger\nthis if more than 5 interfaces are configured in a container. To avoid\nthis failure wait for 2s after each service restart.\n\nChange-Id: I4ca394314b1fa9c5f3ac5918e98a497ca5b55471\n(cherry picked from commit 9a0dbf05f3e54295b7d80b3cb1551d53ed3d612b)\n'}]",1,839731,dc2db26be5ae6c263adcea831fc71220a6edcfcc,10,3,1,11290,,,0,"Wait for 2s after restarting systemd-networkd

Systemd has a limit of 5 service restart in 10 seconds. If a service is
restarted more often it fails. The lxc-vet-wiring.sh script can trigger
this if more than 5 interfaces are configured in a container. To avoid
this failure wait for 2s after each service restart.

Change-Id: I4ca394314b1fa9c5f3ac5918e98a497ca5b55471
(cherry picked from commit 9a0dbf05f3e54295b7d80b3cb1551d53ed3d612b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/31/839731/1 && git format-patch -1 --stdout FETCH_HEAD,['files/lxc-veth-wiring.sh'],1,dc2db26be5ae6c263adcea831fc71220a6edcfcc,fix-networkd-service-restart-stable/xena-stable/wallaby,# Sleep for 2s to avoid more than 5 restarts of systemd-networkd in # 10s. Otherwise the systemd service restart limit will be reached # and the service will fail to restart. sleep 2 ,,5,0
openstack%2Fopenstack-ansible-lxc_container_create~master~Ic03b5559d5baf79690acf5a79306ddda5befe79d,openstack/openstack-ansible-lxc_container_create,master,Ic03b5559d5baf79690acf5a79306ddda5befe79d,Updated from OpenStack Ansible Tests,MERGED,2022-03-29 17:17:22.000000000,2022-04-29 20:36:39.000000000,2022-04-29 20:35:20.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-03-29 17:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/b45f4066a85018079ae45d7af17ede8b5a798597', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic03b5559d5baf79690acf5a79306ddda5befe79d\n'}, {'number': 2, 'created': '2022-04-29 12:00:45.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/9860dd7316fce96930afd0d60cecae216cd92676', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic03b5559d5baf79690acf5a79306ddda5befe79d\n'}]",6,835691,9860dd7316fce96930afd0d60cecae216cd92676,22,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic03b5559d5baf79690acf5a79306ddda5befe79d
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/91/835691/2 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,b45f4066a85018079ae45d7af17ede8b5a798597,openstack/openstack-ansible-tests/sync-tests," centos|rhel|fedora|rocky) pkg_mgr_cmd=""dnf install -y"" ;;"," centos|rhel|fedora) pkg_mgr_cmd=""dnf install -y"" ;;",1,1
openstack%2Fcinder~master~I1af1ea6b1dab2bc2e5420076ffe7977f11a4aa75,openstack/cinder,master,I1af1ea6b1dab2bc2e5420076ffe7977f11a4aa75,Add review best practices section,MERGED,2022-03-21 10:30:05.000000000,2022-04-29 20:31:14.000000000,2022-04-29 20:27:40.000000000,"[{'_account_id': 597}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-21 10:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ea5ef3c64ce5e1eb8ce8bc52955a14aca54147b', 'message': 'WIP: Add review best practices\n\nChange-Id: I1af1ea6b1dab2bc2e5420076ffe7977f11a4aa75\n'}, {'number': 2, 'created': '2022-04-04 05:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/337ad829439cd82d523ef7d1e2c5be75767a855a', 'message': 'WIP: Add review best practices\n\nChange-Id: I1af1ea6b1dab2bc2e5420076ffe7977f11a4aa75\n'}, {'number': 3, 'created': '2022-04-05 10:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d9b65d7ed3e345d8de038ba7b19e4add7079af3', 'message': 'WIP: Add review best practices\n\nChange-Id: I1af1ea6b1dab2bc2e5420076ffe7977f11a4aa75\n'}, {'number': 4, 'created': '2022-04-22 11:27:36.000000000', 'files': ['doc/source/contributor/gerrit.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf6e53b2ee3cd7dea29ad780b7a7e7358045f852', 'message': 'Add review best practices section\n\nThis doc change aims at creating a checklist of points which would\nhelp reviewers provide useful feedback while reviewing patches.\n\nChange-Id: I1af1ea6b1dab2bc2e5420076ffe7977f11a4aa75\n'}]",31,834448,cf6e53b2ee3cd7dea29ad780b7a7e7358045f852,88,6,4,27615,,,0,"Add review best practices section

This doc change aims at creating a checklist of points which would
help reviewers provide useful feedback while reviewing patches.

Change-Id: I1af1ea6b1dab2bc2e5420076ffe7977f11a4aa75
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/834448/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/gerrit.rst'],1,4ea5ef3c64ce5e1eb8ce8bc52955a14aca54147b,834448," Efficient Review Guidelines --------------------------- This section will guide you through the best practices you can follow to do quality code reviews: * Failing Gate: You can check for jobs like pep8, py36, py38, functional etc that are generic to all the patches and look for possible failures in linting, unit test, functional test etc and provide feedback on fixing it. There are also jobs specific to particular area of code (for example, ``cinder-plugin-ceph-tempest`` for the RBD volume driver, ``devstack-plugin-nfs-tempest-full`` for the generic NFS driver etc) and look for issues in the jobs if they are related to the code changes proposed. * Documentation Rendering: We do have a job for checking failures related to document changes proposed (openstack-tox-docs) but we need to be aware that even if a document change passes all the syntactical rules, it still might not be logically correct i.e. after rendering it could be possible that the bullet points are not under the desired section or the spacing and indentation is not as desired. It is always good to check the final document after rendering in the docs job which might yield possible logical errors. * Ways of reviewing: There are various ways you can go about reviewing a patch, following are some of the standard ways you can follow to provide valuable feedback on the patch: 1) Testing it in local environment: The easiet way to check the correctness of a code change proposed is to reproduce the issue (steps should be in launchpad bug) and try the same steps after applying the patch to your environment and see if the provided code changes fix the issue. You can also go a little further to think of possible corner cases where an end user might possibly face issues again and provide the same feedback to cover those cases in the original change proposed. 2) Optimization: If you're not aware about the code path the patch is fixing, you can still go ahead and provide valuable feedback about the python code if that can be optimized to improve performance or reduce lines of code. Example: Following are two code snippets that perform the same task but one is more optimized. i) Non-optimized .. code:: python odd_numbers = [] for i in range(1, 101): if i % 2 != 0: odd_numbers.append(i) ii) Optimized (List comprehension reduces lines of code) .. code:: python odd_numbers = [i for i in range(1, 101) if i % 2 != 0] 3) Perform Dry Run: Sometimes the code changes are on code paths that we don't have or can't create environment for (like vendor driver changes or optional service changes like cinder-backup) so we can read through the code or use some example values to perform a dry run of the code and see if it fails in that scenario.",,60,0
openstack%2Fpython-manilaclient~master~I2ee7921875bd8834100659ff458d0fee9da7d50d,openstack/python-manilaclient,master,I2ee7921875bd8834100659ff458d0fee9da7d50d,Add --wait flag to the share access rule,MERGED,2021-10-22 21:28:09.000000000,2022-04-29 19:56:17.000000000,2022-04-29 19:54:53.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2021-10-22 21:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/aeecd9c1403411ab68b9fdda9437084b0aa37fc6', 'message': 'Add --wait flag to the share access/deny rule\n\nThis patch set adds the --wait flag to the share access/\ndeny rule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 2, 'created': '2021-10-22 21:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/af2b362e4597779cde1ff7d0621b32fbfeda2e6d', 'message': 'Add --wait flag to the share access/deny rule\n\nThis patch set adds the --wait flag to the share access/\ndeny rule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 3, 'created': '2021-11-01 14:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/13b6d62f69f4b62d94f0b0ebc3f3bfa56f041a9d', 'message': 'Add --wait flag to the share access/deny rule\n\nThis patch set adds the --wait flag to the share access/\ndeny rule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 4, 'created': '2021-11-02 08:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/60d5bd7b30d1293d9a3d7815b1244febde1bd958', 'message': 'Add --wait flag to the share access/deny rule\n\nThis patch set adds the --wait flag to the share access/\ndeny rule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 5, 'created': '2021-11-04 03:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d4e6f6952a890fe85fbc42d8c8594a57d0fb0ec1', 'message': 'Add --wait flag to the share access/deny rule\n\nThis patch set adds the --wait flag to the share access/\ndeny rule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 6, 'created': '2021-11-04 03:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c5fafc40a5f23469473f88b285a3a29d8aa7c357', 'message': 'Add --wait flag to the share access/deny rule\n\nThis patch set adds the --wait flag to the share access/\ndeny rule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 7, 'created': '2021-11-04 07:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1681bcdd659a2fc8c418a0430283ed9478eea5d0', 'message': 'Add --wait flag to the share access/deny rule\n\nThis patch set adds the --wait flag to the share access/\ndeny rule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 8, 'created': '2021-11-04 07:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/614b9dee2a82584ebad12058e03c53cff9ca6357', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 9, 'created': '2021-11-04 07:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d1d8326e12f926105d6c63e905a39297bbc709a4', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 10, 'created': '2021-11-10 07:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/25275d13bd1ef7d5fc2375571e307eaaa46a78e2', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 11, 'created': '2021-11-11 15:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/939a91f298c5c3e87a344d960ffd8356485c9278', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 12, 'created': '2021-11-11 16:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/590a4615f4466667fc8392dfa38179fe8d3c415e', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 13, 'created': '2021-11-12 16:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a45d48ecd5e13c45357fcddc3ecbb60d8d45fe22', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 14, 'created': '2022-04-01 13:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5806d4f0c82fed649e393f9fdc9721e81909a121', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 15, 'created': '2022-04-07 06:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e96a3567f24acf1f945cb7c92f6affdbcc3dc27d', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 16, 'created': '2022-04-07 10:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9d66749f00cea847ee1f69700aecfa29bdfc252d', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 17, 'created': '2022-04-07 11:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/fae4e5f24a6549b63f09cdc901b18fac31d22c9d', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 18, 'created': '2022-04-07 13:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0f11cd180e39ac8939fabe5f69cb08ae8496b559', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 19, 'created': '2022-04-08 08:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0683a214d378225f734f9bb27feddecc7ac2bda3', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 20, 'created': '2022-04-11 05:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e76d4ea5792bab0dfe6689a72d10ceee9126e73c', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 21, 'created': '2022-04-11 08:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d22368635e26799f8db2bcdaf8e99265db4f4d38', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 22, 'created': '2022-04-19 08:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a13c4db0f8f1e6569d3e1cccd16a57791c867a96', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}, {'number': 23, 'created': '2022-04-21 12:29:02.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2075cba0a9c1c1e798653d53b4a9351f0abcc089', 'message': 'Add --wait flag to the share access rule\n\nThis patch-set adds the --wait flag to the share access\nrule operation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nCloses-Bug: #1898311\nChange-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d\n'}]",66,815157,2075cba0a9c1c1e798653d53b4a9351f0abcc089,75,4,23,34123,,,0,"Add --wait flag to the share access rule

This patch-set adds the --wait flag to the share access
rule operation. This will make the CLI to wait for the
operation to be completed before returning to the prompt.

Closes-Bug: #1898311
Change-Id: I2ee7921875bd8834100659ff458d0fee9da7d50d
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/57/815157/21 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/v2/shell.py'],1,aeecd9c1403411ab68b9fdda9437084b0aa37fc6,bug/1898311,"@cliutils.arg( '--wait', action='store_true', help='Wait for share access to become active') if args.wait: try: _wait_for_resource_status( cs, resource_type='share', expected_status='active') except exceptions.CommandError as e: print(e, file=sys.stderr)@cliutils.arg( '--wait', action='store_true', help='Wait for share access to become inactive') if args.wait: try: _wait_for_resource_status( cs, resource_type='share', expected_status='active') except exceptions.CommandError as e: print(e, file=sys.stderr)",,22,0
openstack%2Fneutron~stable%2Fwallaby~I0c4d492887216cad7a8155dceb738389f2886376,openstack/neutron,stable/wallaby,I0c4d492887216cad7a8155dceb738389f2886376,[OVN][port-forwarding] Add lb also to logical_switches,MERGED,2022-04-25 12:58:25.000000000,2022-04-29 19:53:25.000000000,2022-04-29 19:50:10.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 12:58:25.000000000', 'files': ['neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/87200a271851b55d3992c8ae98e702f5323a61dd', 'message': ""[OVN][port-forwarding] Add lb also to logical_switches\n\nCurrently we are adding lbs to logical_routers, but\nto get the lbs accessible from the vms we need to\nadd lbs also to all the logical_switches connected\nto the logical router as suggested in the Related\nBug rhbz#2043543.\nIf in future ovn automatically handles addition of\nlbs to logical_switches if they exist on associated\nlogical_router, then we can remove this handling\nfrom port-forwarding service plugin.\n\nAlso subscribed to router_interface's after create\nand delete events to handle the case when logical\nswitches are added/removed from router after intial\nport forwarding create.\n\nRelated-Bug: #1957185\nRelated-Bug: rhbz#2043543\nChange-Id: I0c4d492887216cad7a8155dceb738389f2886376\n(cherry picked from commit 2492cf2e0703dbe6fcfe26e199505b7b43a65f50)\nConflicts: neutron/services/portforwarding/drivers/ovn/driver.py\n""}]",3,839183,87200a271851b55d3992c8ae98e702f5323a61dd,24,5,1,13861,,,0,"[OVN][port-forwarding] Add lb also to logical_switches

Currently we are adding lbs to logical_routers, but
to get the lbs accessible from the vms we need to
add lbs also to all the logical_switches connected
to the logical router as suggested in the Related
Bug rhbz#2043543.
If in future ovn automatically handles addition of
lbs to logical_switches if they exist on associated
logical_router, then we can remove this handling
from port-forwarding service plugin.

Also subscribed to router_interface's after create
and delete events to handle the case when logical
switches are added/removed from router after intial
port forwarding create.

Related-Bug: #1957185
Related-Bug: rhbz#2043543
Change-Id: I0c4d492887216cad7a8155dceb738389f2886376
(cherry picked from commit 2492cf2e0703dbe6fcfe26e199505b7b43a65f50)
Conflicts: neutron/services/portforwarding/drivers/ovn/driver.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/839183/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py']",2,87200a271851b55d3992c8ae98e702f5323a61dd,bug/1957185-stable/xena-stable/wallaby,"from neutron_lib.callbacks import resources resources.ROUTER_INTERFACE, events.AFTER_CREATE), mock.call.mock_subscribe(mock.ANY, events.AFTER_DELETE), mock.call.mock_subscribe(mock.ANY, resources.ROUTER_INTERFACE,",,75,0
openstack%2Fcinder~master~Ib23debd0a2ec09c588ad122277f97a04ddb70bff,openstack/cinder,master,Ib23debd0a2ec09c588ad122277f97a04ddb70bff,Warn on driver detach errors,MERGED,2022-03-31 18:04:04.000000000,2022-04-29 19:52:33.000000000,2022-04-29 19:50:14.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 26693}]","[{'number': 1, 'created': '2022-03-31 18:04:04.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6474afc3dacf726c96dcc98810b2fcc0ec7831e3', 'message': 'Warn on driver detach errors\n\nThere are cases on the detach process where an error is not considered a\nfailure, so the exception is ignored.\n\nThe problem is that we currently may not leave any trace in the logs\nthat an error actually happened.\n\nThis patch adds a simple warning log message to ensure that at least\nthere is some kind of notification about it.\n\nChange-Id: Ib23debd0a2ec09c588ad122277f97a04ddb70bff\n'}]",4,836066,6474afc3dacf726c96dcc98810b2fcc0ec7831e3,41,4,1,9535,,,0,"Warn on driver detach errors

There are cases on the detach process where an error is not considered a
failure, so the exception is ignored.

The problem is that we currently may not leave any trace in the logs
that an error actually happened.

This patch adds a simple warning log message to ensure that at least
there is some kind of notification about it.

Change-Id: Ib23debd0a2ec09c588ad122277f97a04ddb70bff
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/836066/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,6474afc3dacf726c96dcc98810b2fcc0ec7831e3,warn-detach-errors," except Exception as exc: LOG.warning('Failed to detach volume on the backend, ignoring ' 'failure %s', exc)", except Exception: pass,3,2
openstack%2Fcinder~master~I52efd41b7288925c23d57a6a198abf112a0eaf68,openstack/cinder,master,I52efd41b7288925c23d57a6a198abf112a0eaf68,Make extension manager parameter optional,MERGED,2021-09-06 08:26:57.000000000,2022-04-29 19:47:40.000000000,2022-04-29 19:45:46.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 10459}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33986}]","[{'number': 1, 'created': '2021-09-06 08:26:57.000000000', 'files': ['cinder/api/v3/volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8dc2be084c197b6f62444187c2c8bb2e05f7e76', 'message': ""Make extension manager parameter optional\n\nWe initially used extension manager in v1 code[1] and the same\nwas copied while creating the v2 API[2] but it wasn't used anymore.\n\nThis patch makes it an optional argument, however we should remove\nit in the long run from volumes, snapshots and similar APIs since\nit has no functional value.\n\n[1] https://github.com/openstack/cinder/blob/newton-eol/cinder/api/v1/volumes.py#L267\n[2] https://github.com/openstack/cinder/commit/75ca60f619c953df1d95ff2eab7de78f7d5aebe8#diff-843a1b9428330f2cb02b172d33d82a345b2807ce4e539f719ef480e280e38f12R210\n\nChange-Id: I52efd41b7288925c23d57a6a198abf112a0eaf68\n""}]",5,807541,a8dc2be084c197b6f62444187c2c8bb2e05f7e76,40,8,1,27615,,,0,"Make extension manager parameter optional

We initially used extension manager in v1 code[1] and the same
was copied while creating the v2 API[2] but it wasn't used anymore.

This patch makes it an optional argument, however we should remove
it in the long run from volumes, snapshots and similar APIs since
it has no functional value.

[1] https://github.com/openstack/cinder/blob/newton-eol/cinder/api/v1/volumes.py#L267
[2] https://github.com/openstack/cinder/commit/75ca60f619c953df1d95ff2eab7de78f7d5aebe8#diff-843a1b9428330f2cb02b172d33d82a345b2807ce4e539f719ef480e280e38f12R210

Change-Id: I52efd41b7288925c23d57a6a198abf112a0eaf68
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/807541/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/v3/volumes.py'],1,a8dc2be084c197b6f62444187c2c8bb2e05f7e76,," def __init__(self, ext_mgr=None):"," def __init__(self, ext_mgr):",1,1
openstack%2Fneutron~stable%2Fussuri~Ic8f6472fe708d12f8fc129729465367083e1095a,openstack/neutron,stable/ussuri,Ic8f6472fe708d12f8fc129729465367083e1095a,Docs build: Add requirements.txt to deps,MERGED,2022-04-29 14:24:10.000000000,2022-04-29 19:47:39.000000000,2022-04-29 19:45:41.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 14:24:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0315d1e522d7bc9405e3b51023369fdc7003fa77', 'message': ""Docs build: Add requirements.txt to deps\n\nSince we use usedevelop=True, as a result neutron\ninstallation happens at 'develop-inst' phase and it installs\nrequirements from requirements.txt without considering\ntox constraints, This can lead to issue where broken\nrequirements are installed in docs job and as a result\nit will fail.\n\nIn order to get constraints be considered for this case, add\nrequirements.txt to deps for docs env.\n\nAlso squashed below commit:-\n\nDocs build: Add NOTE to not remove requirements.txt\n\nTo avoid unintentionally remove requirements.txt\nfrom deps list from docs env, add a NOTE.\n\nChange-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a\n(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)\n\nChange-Id: Ic8f6472fe708d12f8fc129729465367083e1095a\n(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)\n(cherry picked from commit 83a3c19eb71de0f3137d52932a7940d4547f44dd)\n""}]",0,839914,0315d1e522d7bc9405e3b51023369fdc7003fa77,8,3,1,13861,,,0,"Docs build: Add requirements.txt to deps

Since we use usedevelop=True, as a result neutron
installation happens at 'develop-inst' phase and it installs
requirements from requirements.txt without considering
tox constraints, This can lead to issue where broken
requirements are installed in docs job and as a result
it will fail.

In order to get constraints be considered for this case, add
requirements.txt to deps for docs env.

Also squashed below commit:-

Docs build: Add NOTE to not remove requirements.txt

To avoid unintentionally remove requirements.txt
from deps list from docs env, add a NOTE.

Change-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a
(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)

Change-Id: Ic8f6472fe708d12f8fc129729465367083e1095a
(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)
(cherry picked from commit 83a3c19eb71de0f3137d52932a7940d4547f44dd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/839914/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0315d1e522d7bc9405e3b51023369fdc7003fa77,fix-docs-use-uc-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,# Do not remove requirements.txt from deps list as without it # upper constraints will not be used for deps listed in requirements.txt # and may cause issues,,3,0
openstack%2Fneutron~stable%2Fvictoria~Ic8f6472fe708d12f8fc129729465367083e1095a,openstack/neutron,stable/victoria,Ic8f6472fe708d12f8fc129729465367083e1095a,Docs build: Add requirements.txt to deps,MERGED,2022-04-29 14:23:32.000000000,2022-04-29 19:47:36.000000000,2022-04-29 19:45:36.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 14:23:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/26dc2e785da6ceb1e0613f83ef44026fd75309f6', 'message': ""Docs build: Add requirements.txt to deps\n\nSince we use usedevelop=True, as a result neutron\ninstallation happens at 'develop-inst' phase and it installs\nrequirements from requirements.txt without considering\ntox constraints, This can lead to issue where broken\nrequirements are installed in docs job and as a result\nit will fail.\n\nIn order to get constraints be considered for this case, add\nrequirements.txt to deps for docs env.\n\nAlso squashed below commit:-\n\nDocs build: Add NOTE to not remove requirements.txt\n\nTo avoid unintentionally remove requirements.txt\nfrom deps list from docs env, add a NOTE.\n\nChange-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a\n(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)\n\nChange-Id: Ic8f6472fe708d12f8fc129729465367083e1095a\n(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)\n(cherry picked from commit 83a3c19eb71de0f3137d52932a7940d4547f44dd)\n""}]",0,839913,26dc2e785da6ceb1e0613f83ef44026fd75309f6,9,3,1,13861,,,0,"Docs build: Add requirements.txt to deps

Since we use usedevelop=True, as a result neutron
installation happens at 'develop-inst' phase and it installs
requirements from requirements.txt without considering
tox constraints, This can lead to issue where broken
requirements are installed in docs job and as a result
it will fail.

In order to get constraints be considered for this case, add
requirements.txt to deps for docs env.

Also squashed below commit:-

Docs build: Add NOTE to not remove requirements.txt

To avoid unintentionally remove requirements.txt
from deps list from docs env, add a NOTE.

Change-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a
(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)

Change-Id: Ic8f6472fe708d12f8fc129729465367083e1095a
(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)
(cherry picked from commit 83a3c19eb71de0f3137d52932a7940d4547f44dd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/839913/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,26dc2e785da6ceb1e0613f83ef44026fd75309f6,fix-docs-use-uc-stable/xena-stable/wallaby-stable/victoria,# Do not remove requirements.txt from deps list as without it # upper constraints will not be used for deps listed in requirements.txt # and may cause issues -r{toxinidir}/requirements.txt,,4,0
openstack%2Fansible-role-redhat-subscription~master~I9b43fe9b7bc2f25f333d99c96d979d59e7a232f4,openstack/ansible-role-redhat-subscription,master,I9b43fe9b7bc2f25f333d99c96d979d59e7a232f4,Fix setuptools autodiscovery,ABANDONED,2022-04-29 00:58:08.000000000,2022-04-29 19:29:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 00:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/fbe740778deef5e586a0bc1ba115efbe47857da6', 'message': 'Fix setuptools autodiscovery\n\nFix setuptools autodiscovery as starting with setuptool 61.1, it looks\nlike we need to set py_modules to not none in order to avoid weird\nautodiscovery failures.\n\nChange-Id: I9b43fe9b7bc2f25f333d99c96d979d59e7a232f4\n'}, {'number': 2, 'created': '2022-04-29 14:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/8cb50e23a405a48ecd56b07f76573ef3271e441a', 'message': 'Fix setuptools autodiscovery\n\nFix setuptools autodiscovery as starting with setuptool 61.1, it looks\nlike we need to set py_modules to not none in order to avoid weird\nautodiscovery failures.\n\nChange-Id: I9b43fe9b7bc2f25f333d99c96d979d59e7a232f4\n'}, {'number': 3, 'created': '2022-04-29 19:02:36.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/82586757eae06f7f433d9b206a8e1aa10d7857bf', 'message': 'Fix setuptools autodiscovery\n\nFix setuptools autodiscovery as starting with setuptool 61.1, it looks\nlike we need to set py_modules to not none in order to avoid weird\nautodiscovery failures.\n\nChange-Id: I9b43fe9b7bc2f25f333d99c96d979d59e7a232f4\nDepends-on: https://review.opendev.org/c/openstack/ansible-role-redhat-subscription/+/839993\n'}]",0,839835,82586757eae06f7f433d9b206a8e1aa10d7857bf,7,1,3,7130,,,0,"Fix setuptools autodiscovery

Fix setuptools autodiscovery as starting with setuptool 61.1, it looks
like we need to set py_modules to not none in order to avoid weird
autodiscovery failures.

Change-Id: I9b43fe9b7bc2f25f333d99c96d979d59e7a232f4
Depends-on: https://review.opendev.org/c/openstack/ansible-role-redhat-subscription/+/839993
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/35/839835/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,fbe740778deef5e586a0bc1ba115efbe47857da6,setuptools_fix, py_modules=[],,1,0
openstack%2Frequirements~master~I59a7f4414c8fac21d957275f324edd3515891986,openstack/requirements,master,I59a7f4414c8fac21d957275f324edd3515891986,Decreasing setuptools upper release to 60.9.3,ABANDONED,2022-04-29 00:31:14.000000000,2022-04-29 19:29:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 00:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/26119b73e8fc314a755fbcc26522251ed41e342b', 'message': 'Decreasing setuptools upper release to 62.0.0\n\nDecreasing setuptools upper release to 62.0.0 as it looks like higher\nthan that makes ansible linters fail.   This will need to be fixed\nwhen we update to 62.1.0 ...\n\nChange-Id: I59a7f4414c8fac21d957275f324edd3515891986\n'}, {'number': 2, 'created': '2022-04-29 00:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2e4ece05c0603962930d3b2626a22ef441f90c4f', 'message': 'Decreasing setuptools upper release to 62.0.0\n\nDecreasing setuptools upper release to 62.0.0 as it looks like higher\nthan that makes ansible linters fail.   This will need to be fixed\nwhen we update to 62.1.0 ...\n\nChange-Id: I59a7f4414c8fac21d957275f324edd3515891986\n'}, {'number': 3, 'created': '2022-04-29 00:41:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/98bab80e6923661df9563adada2db54e1fd1b084', 'message': 'Decreasing setuptools upper release to 60.9.3\n\nDecreasing setuptools upper release to 60.9.3 as it looks like higher\nthan that makes ansible linters fail. This will need to be fixed\nwhen we update to 62.1.0 ...\n\nChange-Id: I59a7f4414c8fac21d957275f324edd3515891986\n'}]",1,839834,98bab80e6923661df9563adada2db54e1fd1b084,7,1,3,7130,,,0,"Decreasing setuptools upper release to 60.9.3

Decreasing setuptools upper release to 60.9.3 as it looks like higher
than that makes ansible linters fail. This will need to be fixed
when we update to 62.1.0 ...

Change-Id: I59a7f4414c8fac21d957275f324edd3515891986
",git fetch https://review.opendev.org/openstack/requirements refs/changes/34/839834/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,26119b73e8fc314a755fbcc26522251ed41e342b,ansible_linters,setuptools===62.0.0;python_version=='3.8',setuptools===62.1.0;python_version=='3.8',1,1
openstack%2Fswift~master~I31efa3fef673a5541505e4855e52bfd0c9668ffd,openstack/swift,master,I31efa3fef673a5541505e4855e52bfd0c9668ffd,Drop arm64 probe test job,MERGED,2022-04-28 16:02:57.000000000,2022-04-29 19:06:15.000000000,2022-04-29 19:02:26.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 16:02:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/0708edecdf6286d4a8295d91e0d2b4cd95e66211', 'message': ""Drop arm64 probe test job\n\nMost of the time, we're so resource constrained that we trip the\nthree-hour (!!) job timeout, while the x86_64 job can typically complete\nwithin an hour. When the arm64 probe tests *do* fail, they've often\nfailed due to eventual-consistency problems; things like object-updaters\npopping 10s timeouts and not getting asyncs off disk.\n\nThe job last passed back in January.\n\nChange-Id: I31efa3fef673a5541505e4855e52bfd0c9668ffd\n""}]",2,839785,0708edecdf6286d4a8295d91e0d2b4cd95e66211,13,2,1,15343,,,0,"Drop arm64 probe test job

Most of the time, we're so resource constrained that we trip the
three-hour (!!) job timeout, while the x86_64 job can typically complete
within an hour. When the arm64 probe tests *do* fail, they've often
failed due to eventual-consistency problems; things like object-updaters
popping 10s timeouts and not getting asyncs off disk.

The job last passed back in January.

Change-Id: I31efa3fef673a5541505e4855e52bfd0c9668ffd
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/839785/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0708edecdf6286d4a8295d91e0d2b4cd95e66211,,, - swift-probetests-centos-8-stream-arm64,0,1
openstack%2Frequirements~master~Ibe67ee439b3a5b5191b9495423cbc40b7de89cdc,openstack/requirements,master,Ibe67ee439b3a5b5191b9495423cbc40b7de89cdc,update constraint for oslo.privsep to new release 2.8.0,MERGED,2022-04-27 15:37:15.000000000,2022-04-29 19:05:42.000000000,2022-04-29 19:02:22.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 15:37:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/358097f01b997723abf8c9ed55803d0e85510068', 'message': 'update constraint for oslo.privsep to new release 2.8.0\n\nmeta: version: 2.8.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ibe67ee439b3a5b5191b9495423cbc40b7de89cdc\n'}]",0,839582,358097f01b997723abf8c9ed55803d0e85510068,29,2,1,11131,,,0,"update constraint for oslo.privsep to new release 2.8.0

meta: version: 2.8.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ibe67ee439b3a5b5191b9495423cbc40b7de89cdc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/839582/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,358097f01b997723abf8c9ed55803d0e85510068,new-release,oslo.privsep===2.8.0,oslo.privsep===2.7.0,1,1
openstack%2Fcinder~master~I61efecdec5d13fda7b1d518eb471c5dae35f0402,openstack/cinder,master,I61efecdec5d13fda7b1d518eb471c5dae35f0402,Removes inconsistency from docs,ABANDONED,2021-04-05 21:54:31.000000000,2022-04-29 18:31:57.000000000,,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33390}]","[{'number': 1, 'created': '2021-04-05 21:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f5ad2f950f6d2627c63f8b91c6b6307a327a6fc', 'message': 'Removes inconsistency from docs\n\nCloses-Bug: 1918307\nChange-Id: I61efecdec5d13fda7b1d518eb471c5dae35f0402\n'}, {'number': 2, 'created': '2021-04-06 13:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/14beea49ce10539af190b11f2f32e8830a430d3f', 'message': ""Removes inconsistency from docs\n\nA handful of API calls in the api-ref documentation indicate that they may return a 403 error.\nAny API call in Cinder can actually return a 403, depending on how policy is configured etc., so it doesn't make sense to list this for a handful of calls but not others.\n\nCloses-Bug: 1918307\nChange-Id: I61efecdec5d13fda7b1d518eb471c5dae35f0402\n""}, {'number': 3, 'created': '2021-04-06 13:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61214446bc648ef66babe6d25b6d52d0555667c6', 'message': ""Removes inconsistency from docs\n\nA handful of API calls in the api-ref documentation indicate that they\nmay return a 403 error.\nAny API call in Cinder can actually return a 403, depending on how\npolicy is configured etc., so it doesn't make sense to list this for a\nhandful of calls but not others.\n\nCloses-Bug: 1918307\nChange-Id: I61efecdec5d13fda7b1d518eb471c5dae35f0402\n""}, {'number': 4, 'created': '2021-04-06 18:22:11.000000000', 'files': ['api-ref/source/v2/hosts.inc', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'api-ref/source/v3/os-services.inc', 'api-ref/source/v3/quota-classes.inc', 'api-ref/source/v2/qos-specs-v2-qos-specs.inc', 'api-ref/source/v3/api-versions.inc', 'api-ref/source/v3/limits.inc', 'api-ref/source/v3/group-type-specs.inc', 'api-ref/source/v2/limits.inc', 'api-ref/source/v3/hosts.inc', 'api-ref/source/v3/volumes-v3-versions.inc', 'api-ref/source/v3/qos-specs-v3-qos-specs.inc', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'api-ref/source/v2/quota-classes.inc', 'api-ref/source/v2/api-versions.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bdf036f7c3bdc34ec89fa588c967fd79dcadda2a', 'message': ""Removes inconsistency from docs\n\nA handful of API calls in the api-ref documentation indicate that they\nmay return a 403 error.\nAny API call in Cinder can actually return a 403, depending on how\npolicy is configured etc., so it doesn't make sense to list this for a\nhandful of calls but not others.\n\nCloses-Bug: 1918307\nChange-Id: I61efecdec5d13fda7b1d518eb471c5dae35f0402\n""}]",3,784833,bdf036f7c3bdc34ec89fa588c967fd79dcadda2a,52,5,4,33338,,,0,"Removes inconsistency from docs

A handful of API calls in the api-ref documentation indicate that they
may return a 403 error.
Any API call in Cinder can actually return a 403, depending on how
policy is configured etc., so it doesn't make sense to list this for a
handful of calls but not others.

Closes-Bug: 1918307
Change-Id: I61efecdec5d13fda7b1d518eb471c5dae35f0402
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/784833/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/hosts.inc', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'api-ref/source/v3/os-services.inc', 'api-ref/source/v3/quota-classes.inc', 'api-ref/source/v2/qos-specs-v2-qos-specs.inc', 'api-ref/source/v3/api-versions.inc', 'api-ref/source/v3/limits.inc', 'api-ref/source/v3/group-type-specs.inc', 'api-ref/source/v2/limits.inc', 'api-ref/source/v3/hosts.inc', 'api-ref/source/v3/volumes-v3-versions.inc', 'api-ref/source/v3/qos-specs-v3-qos-specs.inc', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'api-ref/source/v2/quota-classes.inc', 'api-ref/source/v2/api-versions.inc']",15,0f5ad2f950f6d2627c63f8b91c6b6307a327a6fc,bug/1918307,, - 403,0,41
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I15e341769b5c4cf1d3c98d985c39a52bce3a0f12,openstack/tripleo-heat-templates,stable/victoria,I15e341769b5c4cf1d3c98d985c39a52bce3a0f12,Don't add conntrack entries for vxlan,MERGED,2022-03-03 12:01:52.000000000,2022-04-29 18:16:36.000000000,2022-04-29 18:16:36.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-03-03 12:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf5b1200b24deb68f9c1a020ded316a058b0aaed', 'message': ""Don't add conntrack entries for vxlan\n\nAs vxlan UDP traffic is allowed, there's no reason to create\nconntrack entries as it may result in a performance hit.\n\nThis patch is preventing vxlan traffic to be sent to conntrack.\n\nSimilar change was done some time ago for Geneve tunnels in\nthe ML2/OVN case with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/738419\n\nCloses-Bug: #1962616\nChange-Id: I15e341769b5c4cf1d3c98d985c39a52bce3a0f12\n(cherry picked from commit 1d77d9af27cf7b45738ab7af0fe3fa5cdf9d3c37)\n""}, {'number': 2, 'created': '2022-03-31 08:31:04.000000000', 'files': ['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/437766609b954952d3515de04451af83a6b9494c', 'message': ""Don't add conntrack entries for vxlan\n\nAs vxlan UDP traffic is allowed, there's no reason to create\nconntrack entries as it may result in a performance hit.\n\nThis patch is preventing vxlan traffic to be sent to conntrack.\n\nSimilar change was done some time ago for Geneve tunnels in\nthe ML2/OVN case with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/738419\n\nCloses-Bug: #1962616\nChange-Id: I15e341769b5c4cf1d3c98d985c39a52bce3a0f12\n(cherry picked from commit 1d77d9af27cf7b45738ab7af0fe3fa5cdf9d3c37)\n""}]",5,831750,437766609b954952d3515de04451af83a6b9494c,19,3,2,11975,,,0,"Don't add conntrack entries for vxlan

As vxlan UDP traffic is allowed, there's no reason to create
conntrack entries as it may result in a performance hit.

This patch is preventing vxlan traffic to be sent to conntrack.

Similar change was done some time ago for Geneve tunnels in
the ML2/OVN case with [1].

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/738419

Closes-Bug: #1962616
Change-Id: I15e341769b5c4cf1d3c98d985c39a52bce3a0f12
(cherry picked from commit 1d77d9af27cf7b45738ab7af0fe3fa5cdf9d3c37)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/831750/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'],1,cf5b1200b24deb68f9c1a020ded316a058b0aaed,bug/1962616-stable/wallaby-stable/victoria, '120 neutron vxlan networks no conntrack': proto: 'udp' dport: 4789 table: 'raw' chain: 'OUTPUT' jump: 'NOTRACK' action: 'append' state: [] '121 neutron vxlan networks no conntrack': proto: 'udp' dport: 4789 table: 'raw' chain: 'PREROUTING' jump: 'NOTRACK' action: 'append' state: [],,16,0
openstack%2Fos-brick~master~Ic8325a20562033204584235909df0295e77723bd,openstack/os-brick,master,Ic8325a20562033204584235909df0295e77723bd,Update python testing classifier,MERGED,2021-12-21 08:44:25.000000000,2022-04-29 18:11:06.000000000,2022-04-28 14:41:06.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-12-21 08:44:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/dcddb0b75877ff608ed1010d21df218841f66bab', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ic8325a20562033204584235909df0295e77723bd\n'}]",7,822402,dcddb0b75877ff608ed1010d21df218841f66bab,38,8,1,31827,,,0,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ic8325a20562033204584235909df0295e77723bd
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/02/822402/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,dcddb0b75877ff608ed1010d21df218841f66bab,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fkayobe~stable%2Fxena~Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000,openstack/kayobe,stable/xena,Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000,Fix Bifrost inspection through DHCP-relay,MERGED,2022-04-29 09:34:01.000000000,2022-04-29 18:05:50.000000000,2022-04-29 18:04:09.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 09:34:01.000000000', 'files': ['ansible/kolla-bifrost.yml', 'ansible/roles/kolla-bifrost/defaults/main.yml', 'releasenotes/notes/bifrost-dhcp-range-netmask-fd40642967042267.yaml', 'ansible/roles/kolla-bifrost/templates/kolla/config/bifrost/bifrost.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fe07bd3c6542fbf27350b950f3e6604bb3d76034', 'message': 'Fix Bifrost inspection through DHCP-relay\n\nThis is continue of the changes to support Ironic/Bifrost provision\nthrough DHCP-relay same as I9488a72db588e31289907668f1997596a8ccdec6\n\nDepends-On: I74af38dc555b7edee8331e31dfd1a2fbfe4f1151\nChange-Id: Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit d271e705b94f0f82a14dead99c6fe660ea077de8)\n'}]",1,839884,fe07bd3c6542fbf27350b950f3e6604bb3d76034,12,3,1,14200,,,0,"Fix Bifrost inspection through DHCP-relay

This is continue of the changes to support Ironic/Bifrost provision
through DHCP-relay same as I9488a72db588e31289907668f1997596a8ccdec6

Depends-On: I74af38dc555b7edee8331e31dfd1a2fbfe4f1151
Change-Id: Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit d271e705b94f0f82a14dead99c6fe660ea077de8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/84/839884/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/kolla-bifrost.yml', 'ansible/roles/kolla-bifrost/defaults/main.yml', 'releasenotes/notes/bifrost-dhcp-range-netmask-fd40642967042267.yaml', 'ansible/roles/kolla-bifrost/templates/kolla/config/bifrost/bifrost.yml']",4,fe07bd3c6542fbf27350b950f3e6604bb3d76034,bifrost-dhcp-range-netmask,"dhcp_pool_mask: ""{{ kolla_bifrost_dhcp_pool_mask }}""",,8,0
openstack%2Fcinder-tempest-plugin~master~I1d2e4c367b36500df589acb5193dfd9dafdb2f8f,openstack/cinder-tempest-plugin,master,I1d2e4c367b36500df589acb5193dfd9dafdb2f8f,Followup: Delete multiple resources simultaneously,NEW,2022-04-29 07:55:18.000000000,2022-04-29 18:05:16.000000000,,"[{'_account_id': 4523}, {'_account_id': 10459}, {'_account_id': 21187}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 07:55:18.000000000', 'files': ['cinder_tempest_plugin/api/volume/test_multiple_volume_from_resource.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/dcf3af45dfade486a22bdb235e8612995d87ed18', 'message': 'Followup: Delete multiple resources simultaneously\n\nThis is a followup on change[1] which does a stress test on\nvolume creation from multiple resources. This patch is an extension\nto it to do the same testing for deleting the resources (volumes)\nsimultaneously.\n\n[1] https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/795753\n\nChange-Id: I1d2e4c367b36500df589acb5193dfd9dafdb2f8f\n'}]",3,839871,dcf3af45dfade486a22bdb235e8612995d87ed18,6,4,1,27615,,,0,"Followup: Delete multiple resources simultaneously

This is a followup on change[1] which does a stress test on
volume creation from multiple resources. This patch is an extension
to it to do the same testing for deleting the resources (volumes)
simultaneously.

[1] https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/795753

Change-Id: I1d2e4c367b36500df589acb5193dfd9dafdb2f8f
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/71/839871/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/api/volume/test_multiple_volume_from_resource.py'],1,dcf3af45dfade486a22bdb235e8612995d87ed18,795753," def _delete_multiple_resource(self, callback, resources, client): for r in resources: callback(client, r) self._delete_multiple_resource(self.delete_volume, res, self.volumes_client) self._delete_multiple_resource(self.delete_volume, res, self.volumes_client) self._delete_multiple_resource(self.delete_volume, res, self.volumes_client) self._delete_multiple_resource(self.delete_volume, res, self.volumes_client)",,12,0
openstack%2Fcinder~master~Ifd64ba39a46cdbf7d75bc17baa2862790a7a39c1,openstack/cinder,master,Ifd64ba39a46cdbf7d75bc17baa2862790a7a39c1,"Change key ""cluster"" to ""cluster_name""",MERGED,2022-04-25 19:17:49.000000000,2022-04-29 18:04:29.000000000,2022-04-29 18:00:01.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 33431}]","[{'number': 1, 'created': '2022-04-25 19:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b95af6810449ff85a4bf6068442030d3b47d315', 'message': 'Change key ""cluster"" to ""cluster_name""\n\nAccording to the request documentation above this example,\nthe key ""cluster"" should be ""cluster_name"".\n\nCloses-Bug: #1970135\nSigned-off-by: James Palmer <jpalmer7698@gmail.com>\nChange-Id: Ifd64ba39a46cdbf7d75bc17baa2862790a7a39c1\n'}, {'number': 2, 'created': '2022-04-25 19:18:45.000000000', 'files': ['api-ref/source/v3/samples/worker-cleanup-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e6ba483477daf19908e704fe8daf2d60977a158', 'message': 'Change key ""cluster"" to ""cluster_name""\n\nAccording to the request documentation above this sample,\nthe key ""cluster"" should be ""cluster_name"".\n\nCloses-Bug: #1970135\nSigned-off-by: James Palmer <jpalmer7698@gmail.com>\nChange-Id: Ifd64ba39a46cdbf7d75bc17baa2862790a7a39c1\n'}]",4,839256,0e6ba483477daf19908e704fe8daf2d60977a158,34,5,2,33036,,,0,"Change key ""cluster"" to ""cluster_name""

According to the request documentation above this sample,
the key ""cluster"" should be ""cluster_name"".

Closes-Bug: #1970135
Signed-off-by: James Palmer <jpalmer7698@gmail.com>
Change-Id: Ifd64ba39a46cdbf7d75bc17baa2862790a7a39c1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/839256/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/samples/worker-cleanup-request.json'],1,8b95af6810449ff85a4bf6068442030d3b47d315,bug/1970135," ""cluster_name"": ""test"","," ""cluster"": ""test"",",1,1
openstack%2Fkeystone~master~I68595e4e2c37279585f0434a173596e43e047004,openstack/keystone,master,I68595e4e2c37279585f0434a173596e43e047004,Log the traceback in _handle_keystone_exception,MERGED,2022-03-17 15:00:48.000000000,2022-04-29 18:02:54.000000000,2022-04-29 17:59:48.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-17 15:00:48.000000000', 'files': ['keystone/server/flask/application.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3f628a9ae4857e3c48b7228ad77ea980ec824ef9', 'message': 'Log the traceback in _handle_keystone_exception\n\nSome errors were logged without a traceback because they were\nlogged as a warning instead.\n\nChange-Id: I68595e4e2c37279585f0434a173596e43e047004\nRelated-Bug: #1965316\n'}]",2,834181,3f628a9ae4857e3c48b7228ad77ea980ec824ef9,14,4,1,14250,,,0,"Log the traceback in _handle_keystone_exception

Some errors were logged without a traceback because they were
logged as a warning instead.

Change-Id: I68595e4e2c37279585f0434a173596e43e047004
Related-Bug: #1965316
",git fetch https://review.opendev.org/openstack/keystone refs/changes/81/834181/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/server/flask/application.py'],1,3f628a9ae4857e3c48b7228ad77ea980ec824ef9,, else: LOG.exception(str(error))," elif isinstance(error, exception.UnexpectedError): LOG.exception(str(error)) else: LOG.warning(str(error))",1,3
openstack%2Fcinder~master~I1262c3ab355dfeabfa57184b6496d7fddd1e8055,openstack/cinder,master,I1262c3ab355dfeabfa57184b6496d7fddd1e8055,Stop removing .pyc files for unit test runs,MERGED,2022-03-21 20:29:47.000000000,2022-04-29 17:59:56.000000000,2022-04-29 17:59:56.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-03-21 20:29:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d54e6cc6b388c1cf3c214bb3cf9db67cf4cd0c18', 'message': 'Stop removing .pyc files for unit test runs\n\nWe no longer need to do this.  If you run\n""tox -e py38"", ""tox -e py39"", and ""tox -e py310"",\nyou will see:\n\n$ ls -l cinder/__pycache__/context*\n cinder/__pycache__/context.cpython-310.pyc\n cinder/__pycache__/context.cpython-38.pyc\n cinder/__pycache__/context.cpython-39.pyc\n\nSee PEP-3147 for details on this.\n\nThis is different from the older behavior, which\nwould generate cinder/context.pyc and collide between\ndifferent versions of Python.  In the versions of\nPython that we support, no such collisions happen.\n\nChange-Id: I1262c3ab355dfeabfa57184b6496d7fddd1e8055\n'}]",6,834545,d54e6cc6b388c1cf3c214bb3cf9db67cf4cd0c18,30,5,1,4523,,,0,"Stop removing .pyc files for unit test runs

We no longer need to do this.  If you run
""tox -e py38"", ""tox -e py39"", and ""tox -e py310"",
you will see:

$ ls -l cinder/__pycache__/context*
 cinder/__pycache__/context.cpython-310.pyc
 cinder/__pycache__/context.cpython-38.pyc
 cinder/__pycache__/context.cpython-39.pyc

See PEP-3147 for details on this.

This is different from the older behavior, which
would generate cinder/context.pyc and collide between
different versions of Python.  In the versions of
Python that we support, no such collisions happen.

Change-Id: I1262c3ab355dfeabfa57184b6496d7fddd1e8055
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/834545/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d54e6cc6b388c1cf3c214bb3cf9db67cf4cd0c18,,," find . -ignore_readdir_race -type f -name ""*.pyc"" -delete",0,1
openstack%2Fkeystoneauth~master~I8d3560a299a364f0c417d7fb41f4aaddb2a48418,openstack/keystoneauth,master,I8d3560a299a364f0c417d7fb41f4aaddb2a48418,Adds gssapi plugin to allow deprecation of kerberos plugin extra plugin.,NEW,2020-12-01 11:01:44.000000000,2022-04-29 17:52:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-01 11:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/8c0139e45588e33e16c0cbbb8f288d7194481379', 'message': 'Adds gssapi plugin to allow deprecation of kerberos plugin extra plugin.\n\nChange-Id: I8d3560a299a364f0c417d7fb41f4aaddb2a48418\nCloses-Bug: #1905743\n'}, {'number': 2, 'created': '2020-12-01 12:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/c4f99feda7f96355c095e8284627e233b6dff53c', 'message': 'Adds gssapi plugin to allow deprecation of kerberos plugin extra plugin.\n\nChange-Id: I8d3560a299a364f0c417d7fb41f4aaddb2a48418\nCloses-Bug: #1905743\n'}, {'number': 3, 'created': '2022-04-29 15:56:10.000000000', 'files': ['keystoneauth1/tests/unit/extras/gssapi/test_v3.py', 'test-requirements.txt', 'keystoneauth1/extras/gssapi/_loading.py', 'releasenotes/notes/add-gssapi-extra-ce595715591d967b.yaml', 'lower-constraints.txt', 'keystoneauth1/tests/unit/extras/gssapi/base.py', 'keystoneauth1/tests/unit/extras/gssapi/test_mapped.py', 'keystoneauth1/tests/unit/extras/gssapi/test_gssapi_loading.py', 'keystoneauth1/tests/unit/extras/gssapi/utils.py', 'keystoneauth1/extras/gssapi/__init__.py', 'keystoneauth1/tests/unit/extras/gssapi/__init__.py', 'setup.cfg', 'keystoneauth1/tests/unit/extras/gssapi/test_fedgssapi_loading.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/58b8310121cdc0e384852abf09ec848be57beadf', 'message': 'Adds gssapi plugin to allow deprecation of kerberos plugin extra plugin.\n\nChange-Id: I8d3560a299a364f0c417d7fb41f4aaddb2a48418\nCloses-Bug: #1905743\n'}]",0,764928,58b8310121cdc0e384852abf09ec848be57beadf,6,1,3,5575,,,0,"Adds gssapi plugin to allow deprecation of kerberos plugin extra plugin.

Change-Id: I8d3560a299a364f0c417d7fb41f4aaddb2a48418
Closes-Bug: #1905743
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/28/764928/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/tests/unit/extras/gssapi/test_v3.py', 'test-requirements.txt', 'keystoneauth1/extras/gssapi/_loading.py', 'releasenotes/notes/add-gssapi-extra-ce595715591d967b.yaml', 'keystoneauth1/tests/unit/extras/gssapi/base.py', 'keystoneauth1/tests/unit/extras/gssapi/test_mapped.py', 'keystoneauth1/tests/unit/extras/gssapi/test_gssapi_loading.py', 'keystoneauth1/tests/unit/extras/gssapi/utils.py', 'keystoneauth1/extras/gssapi/__init__.py', 'keystoneauth1/tests/unit/extras/gssapi/__init__.py', 'setup.cfg', 'keystoneauth1/tests/unit/extras/gssapi/test_fedgssapi_loading.py']",12,8c0139e45588e33e16c0cbbb8f288d7194481379,gssapi,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from keystoneauth1 import exceptions from keystoneauth1 import loading from keystoneauth1.tests.unit import utils as test_utils class FedGSSAPILoadingTests(test_utils.TestCase): def test_options(self): opts = [o.name for o in loading.get_plugin_loader('v3fedgssapi').get_options()] allowed_opts = ['system-scope', 'domain-id', 'domain-name', 'identity-provider', 'project-id', 'project-name', 'project-domain-id', 'project-domain-name', 'protocol', 'trust-id', 'auth-url', 'mutual-auth', ] self.assertCountEqual(allowed_opts, opts) def create(self, **kwargs): loader = loading.get_plugin_loader('v3fedgssapi') return loader.load_from_options(**kwargs) def test_load_none(self): self.assertRaises(exceptions.MissingRequiredOptions, self.create) def test_load(self): self.create(auth_url='auth_url', identity_provider='idp', protocol='protocol') ",,601,0
openstack%2Fopenstack-ansible-os_tempest~stable%2Fvictoria~Iaa85f011d97ef4a26f95498d6434febbdf15bc53,openstack/openstack-ansible-os_tempest,stable/victoria,Iaa85f011d97ef4a26f95498d6434febbdf15bc53,Ussuri tear down as EOL,MERGED,2022-04-04 08:48:18.000000000,2022-04-29 17:31:45.000000000,2022-04-29 17:28:47.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 31075}]","[{'number': 1, 'created': '2022-04-04 08:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/253047bf49702c93eda2041ef9888833df8fb180', 'message': 'Ussuri tear down as EOL\n\nChange-Id: Iaa85f011d97ef4a26f95498d6434febbdf15bc53\n'}, {'number': 2, 'created': '2022-04-29 10:44:37.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c4b7ff8ba4309bdc8e239830a9723d45e2bf9b09', 'message': 'Ussuri tear down as EOL\n\nChange-Id: Iaa85f011d97ef4a26f95498d6434febbdf15bc53\n'}]",11,836276,c4b7ff8ba4309bdc8e239830a9723d45e2bf9b09,27,8,2,31075,,,0,"Ussuri tear down as EOL

Change-Id: Iaa85f011d97ef4a26f95498d6434febbdf15bc53
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/76/836276/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,253047bf49702c93eda2041ef9888833df8fb180,tripleo_ussuri_teardown,, - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-content-provider-ussuri,0,2
openstack%2Fgovernance~master~Id14083a00014ac6632f16f6700e24d0d54a0d903,openstack/governance,master,Id14083a00014ac6632f16f6700e24d0d54a0d903,Resolution to drop the lower constraints maintenance,MERGED,2022-04-14 19:11:23.000000000,2022-04-29 17:25:16.000000000,2022-04-29 17:22:30.000000000,"[{'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11292}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-04-14 19:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/942a03284a2f4345b01b94b4cf3d2510233df8a0', 'message': 'Resoltuion to drop the lower constraints maintenance\n\nIn zed PTG, TC agreed to drop the lower constraints\nand their testing\n- https://etherpad.opendev.org/p/tc-zed-ptg#L326\n\nChange-Id: Id14083a00014ac6632f16f6700e24d0d54a0d903\n'}, {'number': 2, 'created': '2022-04-14 19:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/0ab67051ac3fda3e9bca632ca32a6652d05c02bd', 'message': 'Resoltuion to drop the lower constraints maintenance\n\nIn zed PTG, TC agreed to drop the lower constraints\nand their testing\n- https://etherpad.opendev.org/p/tc-zed-ptg#L326\n\nChange-Id: Id14083a00014ac6632f16f6700e24d0d54a0d903\n'}, {'number': 3, 'created': '2022-04-14 19:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/230eb6c92f13be2a32e34db09450f1148d235ec4', 'message': 'Resolution to drop the lower constraints maintenance\n\nIn zed PTG, TC agreed to drop the lower constraints\nand their testing\n- https://etherpad.opendev.org/p/tc-zed-ptg#L326\n\nChange-Id: Id14083a00014ac6632f16f6700e24d0d54a0d903\n'}, {'number': 4, 'created': '2022-04-21 01:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/62e564ae3a071d51c05173f7732551b6acfb8513', 'message': 'Resolution to drop the lower constraints maintenance\n\nIn zed PTG, TC agreed to drop the lower constraints\nand their testing\n- https://etherpad.opendev.org/p/tc-zed-ptg#L326\n\nChange-Id: Id14083a00014ac6632f16f6700e24d0d54a0d903\n'}, {'number': 5, 'created': '2022-04-21 18:56:41.000000000', 'files': ['resolutions/20220414-drop-lower-constraints.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/70f7b89e5874a7eb9f65444e213eb5057d405f7d', 'message': 'Resolution to drop the lower constraints maintenance\n\nIn zed PTG, TC agreed to drop the lower constraints\nand their testing\n- https://etherpad.opendev.org/p/tc-zed-ptg#L326\n\nChange-Id: Id14083a00014ac6632f16f6700e24d0d54a0d903\n'}]",46,838004,70f7b89e5874a7eb9f65444e213eb5057d405f7d,28,11,5,8556,,,0,"Resolution to drop the lower constraints maintenance

In zed PTG, TC agreed to drop the lower constraints
and their testing
- https://etherpad.opendev.org/p/tc-zed-ptg#L326

Change-Id: Id14083a00014ac6632f16f6700e24d0d54a0d903
",git fetch https://review.opendev.org/openstack/governance refs/changes/04/838004/1 && git format-patch -1 --stdout FETCH_HEAD,"['resolutions/.20211224-tags-framework-removal.rst.swp', 'resolutions/20220414-drop-lower-constraints.rst']",2,942a03284a2f4345b01b94b4cf3d2510233df8a0,formal-vote,"============================================= 2022-04-14 Drop Lower Constraints Maintenance ============================================= History ------- OpenStack has tried to maintain the lower bounds of dependency in lower-constraints.txt file and also testing them in unit test jobs on every project's repository. This was the best effort to tell that these are the minimum version of dependencies you should have in your environment for a particular OpenStack release. Lower bounds of dependencies are present in lower-constraints.txt as well as in requirements.txt file. The former one is used in lower constraints unit testing job but later one is not tested at all. Challenges ---------- #. Lower constraints are not easy to test and they need more maintenance to keep them correct. In every distro upgrade in our testing, we spend most of the time fixing the lower constraints testing. In the Yoga cycle, it was broken by pip's latest resolver feature [1]_. From there discussion started on whether it is worth to maintain and test these lower constraints [2]_ [3]_ [4]_. #. We do not test them completely. The lower constraints are tested only in unit tests and we are not even sure that lower constraints maintained by the one project are compatible with lower constraints maintained by the other dependent/related project. We can only manage the OpenStack direct dependencies lower bound as indirect dependencies which are maintained outside of OpenStack does not maintain the compatible lower bounds. #. We do not test them correctly. With the older pip version, our testing was installing the different versions and with pip's coherent dependency solver version, it gave us more clarity that this is not something we wanted to test it or at least can say that OpenStack lower constraints are 100% tested correctly [5]_. #. In the current situation, when we migrated the testing of lower constraints to min python version supported (python 3.8 on ubuntu focal) then it was failing on stable branches. This kind of python version migration requires separate job to maintain for stable branch and master lower constraints testing. #. To check lower constraints testing worthiness, TC did heck about who uses the lower constraints and it seems only Debian package maintainers use them as a reference and rest of the distro/packagers use upper constraints [6]_. Based on that, TC agreed to explicitly clarify thet the testing of lower-constraints is optional and up to projects to keep or drop it [7]_. And many projects like oslo have dropped it entirely. In summary, lower constraints and their testing is half baked and maintaining them without correct and complete testing does not make sense. Distro can always test their packages versions with OpenStack master code. Proposal -------- In Zed cycle PTG [8]_, after discussing all the challenges mentioned above, TC agreed on the below points: * Keep the lower bounds in requirements.txt file with some statements at the top of this file saying that these are not confirmed or tested lower bounds and we try our best to keep them updated. * Drop the lower-constraints.txt file, its env, and testing from master as well as from stable branches. .. [1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019521.html .. [2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html .. [3] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html .. [4] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html .. [5] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019921.html .. [6] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020619.html .. [7] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html .. [8] https://etherpad.opendev.org/p/tc-zed-ptg#L326 ",,78,0
openstack%2Fpython-keystoneclient~master~I218a29502912376b116d3b42f571df1b384e2ba6,openstack/python-keystoneclient,master,I218a29502912376b116d3b42f571df1b384e2ba6,trivial: Drop os-testr,MERGED,2020-09-08 03:52:36.000000000,2022-04-29 17:24:49.000000000,2022-04-29 17:21:42.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-08 03:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/e670e58acc3ae02e0aeed140949b363c991faf6f', 'message': 'trivial: Drop os-testr\n\nos-testr is dead. Long live stestr\n\nChange-Id: I218a29502912376b116d3b42f571df1b384e2ba6\n'}, {'number': 2, 'created': '2022-04-22 15:47:04.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/77cd7fa6386f8dd438bc5de59ae0695d007ca41e', 'message': 'trivial: Drop os-testr\n\nos-testr is dead. Long live stestr\n\nChange-Id: I218a29502912376b116d3b42f571df1b384e2ba6\n'}]",0,750270,77cd7fa6386f8dd438bc5de59ae0695d007ca41e,12,5,2,32238,,,0,"trivial: Drop os-testr

os-testr is dead. Long live stestr

Change-Id: I218a29502912376b116d3b42f571df1b384e2ba6
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/70/750270/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,e670e58acc3ae02e0aeed140949b363c991faf6f,drop-os-testr,,os-testr==1.0.0,0,1
openstack%2Fgovernance~master~Id6d8333c35d27d42c4ac3661971f6c5396b0aa1f,openstack/governance,master,Id6d8333c35d27d42c4ac3661971f6c5396b0aa1f,Retire openstack-helm-docs,MERGED,2022-04-22 20:55:47.000000000,2022-04-29 17:23:54.000000000,2022-04-29 17:22:28.000000000,"[{'_account_id': 6547}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-22 20:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/9d1b72fd93481c8dbf893d9079056f863e33a19d', 'message': ""Retire openstack-helm-docs\n\nAs of our discussions from the last PTG, as well as several\nprior, one of the goals for the openstack-helm project is to\nretire any of the unused repositories under the openstack-helm\nprojects umbrella.\n\nThis change seeks to retire the openstack-helm-docs repo since\nit hasn't been maintained and all the documentation lives within\nthe openstack-helm repo itself.\n\nStep 1 - Retire Repository\n\nChange-Id: Id6d8333c35d27d42c4ac3661971f6c5396b0aa1f\n""}, {'number': 2, 'created': '2022-04-27 13:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8a1ecd78c0ef9fd945753a51e2ac938290c18280', 'message': ""Retire openstack-helm-docs\n\nAs of our discussions from the last PTG, as well as several\nprior, one of the goals for the openstack-helm project is to\nretire any of the unused repositories under the openstack-helm\nprojects umbrella.\n\nThis change seeks to retire the openstack-helm-docs repo since\nit hasn't been maintained and all the documentation lives within\nthe openstack-helm repo itself.\n\nStep 1 - Retire Repository\n\nChange-Id: Id6d8333c35d27d42c4ac3661971f6c5396b0aa1f\n""}, {'number': 3, 'created': '2022-04-27 13:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/83cf1dddfe8a89ce149eea487d31f11418d437c8', 'message': ""Retire openstack-helm-docs\n\nAs of our discussions from the last PTG, as well as several\nprior, one of the goals for the openstack-helm project is to\nretire any of the unused repositories under the openstack-helm\nprojects umbrella.\n\nThis change seeks to retire the openstack-helm-docs repo since\nit hasn't been maintained and all the documentation lives within\nthe openstack-helm repo itself.\n\nStep 1 - Retire Repository\n\nChange-Id: Id6d8333c35d27d42c4ac3661971f6c5396b0aa1f\n""}, {'number': 4, 'created': '2022-04-28 17:16:08.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/8af30dfc0693a3acbd167129dbd9a080433fc45e', 'message': ""Retire openstack-helm-docs\n\nAs of our discussions from the last PTG, as well as several\nprior, one of the goals for the openstack-helm project is to\nretire any of the unused repositories under the openstack-helm\nprojects umbrella.\n\nThis change seeks to retire the openstack-helm-docs repo since\nit hasn't been maintained and all the documentation lives within\nthe openstack-helm repo itself.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-docs/+/839429\n\nChange-Id: Id6d8333c35d27d42c4ac3661971f6c5396b0aa1f\n""}]",10,839100,8af30dfc0693a3acbd167129dbd9a080433fc45e,27,6,4,21420,,,0,"Retire openstack-helm-docs

As of our discussions from the last PTG, as well as several
prior, one of the goals for the openstack-helm project is to
retire any of the unused repositories under the openstack-helm
projects umbrella.

This change seeks to retire the openstack-helm-docs repo since
it hasn't been maintained and all the documentation lives within
the openstack-helm repo itself.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-docs/+/839429

Change-Id: Id6d8333c35d27d42c4ac3661971f6c5396b0aa1f
",git fetch https://review.opendev.org/openstack/governance refs/changes/00/839100/4 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,9d1b72fd93481c8dbf893d9079056f863e33a19d,project-update,, openstack-helm-docs: release-management: external repos: - openstack/openstack-helm-docs,0,4
openstack%2Fpython-keystoneclient~master~Ia89044ff1876eeb2793cd08ed9095ce2ffe89e09,openstack/python-keystoneclient,master,Ia89044ff1876eeb2793cd08ed9095ce2ffe89e09,use importlib.metadata to get keyring version,MERGED,2020-07-05 18:11:53.000000000,2022-04-29 17:23:20.000000000,2022-04-29 17:21:37.000000000,"[{'_account_id': 2}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-07-05 18:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/c1dff740d8930b2bdc1d74c6761f0de8417fbf85', 'message': ""use importlib.metadata to get keyring version\n\nImporting pkg_resources has a side-effect of scanning the metadata of\nall of the installed python modules to build an in-memory cache. That\ncache isn't used anywhere in keystoneclient, and it can be expensive\nto build.\n\nThe importlib.metadata module in the 3.8 standard library (and the\nimportlib_metadata library for earlier versions) provides the same\nversion lookup service using a more efficient scanning\nimplementation. Switching from pkg_resources to importlib.metadata\nwill help application startup time, which is especially important for\ncommand line programs such as python-openstackclient.\n\nChange-Id: Ia89044ff1876eeb2793cd08ed9095ce2ffe89e09\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2020-07-05 19:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/2710372c4068a0774799a3d467409859996a8b3c', 'message': ""use importlib.metadata to get keyring version\n\nImporting pkg_resources has a side-effect of scanning the metadata of\nall of the installed python modules to build an in-memory cache. That\ncache isn't used anywhere in keystoneclient, and it can be expensive\nto build.\n\nThe importlib.metadata module in the 3.8 standard library (and the\nimportlib_metadata library for earlier versions) provides the same\nversion lookup service using a more efficient scanning\nimplementation. Switching from pkg_resources to importlib.metadata\nwill help application startup time, which is especially important for\ncommand line programs such as python-openstackclient.\n\nChange-Id: Ia89044ff1876eeb2793cd08ed9095ce2ffe89e09\nDepends-On: Ic6db7af34c87a636bfe55bacae03c42154f4b9c7\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 3, 'created': '2022-04-22 15:48:44.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'keystoneclient/httpclient.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/6940b4ff0a2823228fab834bfaca6b851c60d8d3', 'message': ""use importlib.metadata to get keyring version\n\nImporting pkg_resources has a side-effect of scanning the metadata of\nall of the installed python modules to build an in-memory cache. That\ncache isn't used anywhere in keystoneclient, and it can be expensive\nto build.\n\nThe importlib.metadata module in the 3.8 standard library (and the\nimportlib_metadata library for earlier versions) provides the same\nversion lookup service using a more efficient scanning\nimplementation. Switching from pkg_resources to importlib.metadata\nwill help application startup time, which is especially important for\ncommand line programs such as python-openstackclient.\n\nChange-Id: Ia89044ff1876eeb2793cd08ed9095ce2ffe89e09\nDepends-On: Ic6db7af34c87a636bfe55bacae03c42154f4b9c7\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,739369,6940b4ff0a2823228fab834bfaca6b851c60d8d3,16,7,3,2472,,,0,"use importlib.metadata to get keyring version

Importing pkg_resources has a side-effect of scanning the metadata of
all of the installed python modules to build an in-memory cache. That
cache isn't used anywhere in keystoneclient, and it can be expensive
to build.

The importlib.metadata module in the 3.8 standard library (and the
importlib_metadata library for earlier versions) provides the same
version lookup service using a more efficient scanning
implementation. Switching from pkg_resources to importlib.metadata
will help application startup time, which is especially important for
command line programs such as python-openstackclient.

Change-Id: Ia89044ff1876eeb2793cd08ed9095ce2ffe89e09
Depends-On: Ic6db7af34c87a636bfe55bacae03c42154f4b9c7
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/69/739369/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'keystoneclient/httpclient.py']",3,c1dff740d8930b2bdc1d74c6761f0de8417fbf85,osc-performance,"try: # For Python 3.8 and later import importlib.metadata as importlib_metadata except ImportError: # For everyone else import importlib_metadata import packaging.version keyring_v = packaging.version.Version( importlib_metadata.version('keyring') ) keyring_min = packaging.version.Version('5.5.1')except (ImportError, importlib_metadata.PackageNotFoundError):","import pkg_resources keyring_v = pkg_resources.parse_version( pkg_resources.get_distribution(""keyring"").version) keyring_min = pkg_resources.parse_version('5.5.1')except (ImportError, pkg_resources.DistributionNotFound):",17,5
openstack%2Fpython-keystoneclient~master~I0de45b0ced44fc0b4110b42912ab7682f243aaa2,openstack/python-keystoneclient,master,I0de45b0ced44fc0b4110b42912ab7682f243aaa2,Remove translation sections from setup.cfg,MERGED,2020-06-15 16:32:03.000000000,2022-04-29 17:21:39.000000000,2022-04-29 17:21:39.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 32029}, {'_account_id': 32231}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-06-15 16:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/3cc887a0a878e7ce88058f127fb0d2dbf54cc16e', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nRemove babel.cfg as well, this is the default role and not needed\nanymore.\n\nalso remove Babel from requirements[1]\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: I0de45b0ced44fc0b4110b42912ab7682f243aaa2\n'}, {'number': 2, 'created': '2022-04-22 15:46:38.000000000', 'files': ['babel.cfg', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/ca66b728ce85c77c114d71d9a3d993db613fa1ce', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nRemove babel.cfg as well, this is the default role and not needed\nanymore.\n\nalso remove Babel from requirements[1]\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: I0de45b0ced44fc0b4110b42912ab7682f243aaa2\n'}]",0,735635,ca66b728ce85c77c114d71d9a3d993db613fa1ce,12,6,2,26285,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Remove babel.cfg as well, this is the default role and not needed
anymore.

also remove Babel from requirements[1]
[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: I0de45b0ced44fc0b4110b42912ab7682f243aaa2
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/35/735635/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'lower-constraints.txt', 'setup.cfg']",3,3cc887a0a878e7ce88058f127fb0d2dbf54cc16e,remove-babel,,[compile_catalog] directory = keystoneclient/locale domain = keystoneclient [update_catalog] domain = keystoneclient output_dir = keystoneclient/locale input_file = keystoneclient/locale/keystoneclient.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = keystoneclient/locale/keystoneclient.pot,0,15
openstack%2Fgovernance~master~Ie01acc49e3a3882b7f9b0f1ebb2dd157ece8f1c3,openstack/governance,master,Ie01acc49e3a3882b7f9b0f1ebb2dd157ece8f1c3,Fix keystone PTL model documentation,MERGED,2022-04-21 19:03:07.000000000,2022-04-29 17:20:06.000000000,2022-04-29 17:18:09.000000000,"[{'_account_id': 7198}, {'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 11292}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 19:03:07.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/ffadd88eddc5c8a432c85cd109479540305fee10', 'message': 'Fix keystone PTL model documentation\n\nKeystone is already moved to PTL model and we do not\nneed the DPL model Liaisons now. This commit removes\nthose.\n\nChange-Id: Ie01acc49e3a3882b7f9b0f1ebb2dd157ece8f1c3\n'}]",2,838940,ffadd88eddc5c8a432c85cd109479540305fee10,14,8,1,8556,,,0,"Fix keystone PTL model documentation

Keystone is already moved to PTL model and we do not
need the DPL model Liaisons now. This commit removes
those.

Change-Id: Ie01acc49e3a3882b7f9b0f1ebb2dd157ece8f1c3
",git fetch https://review.opendev.org/openstack/governance refs/changes/40/838940/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,ffadd88eddc5c8a432c85cd109479540305fee10,project-update,, liaisons: release: - name: Gage Hugo irc: gagehugo email: gagehugo@gmail.com - name: Kristi Nikolla irc: knikolla email: knikolla@bu.edu - name: Lance Bragstad irc: lbragstad email: lbragstad@redhat.com tact-sig: - name: Kristi Nikolla irc: knikolla email: knikolla@bu.edu security: - name: Gage Hugo irc: gagehugo email: gagehugo@gmail.com,0,19
openstack%2Fpython-keystoneclient~master~I0173b210e343ccf6b00c3b66959c001fdb1d699b,openstack/python-keystoneclient,master,I0173b210e343ccf6b00c3b66959c001fdb1d699b,Stop to use the __future__ module.,MERGED,2020-06-02 18:49:04.000000000,2022-04-29 17:16:58.000000000,2022-04-29 17:15:15.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-06-02 18:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/6acf397d5cf3582c120d23124114182efdeb0f11', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I0173b210e343ccf6b00c3b66959c001fdb1d699b\n""}, {'number': 2, 'created': '2022-03-04 16:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/0ae85e0311ffb85d99be91980f5ba563a6e98e49', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I0173b210e343ccf6b00c3b66959c001fdb1d699b\n""}, {'number': 3, 'created': '2022-04-22 15:40:13.000000000', 'files': ['keystoneclient/tests/unit/v3/client_fixtures.py', 'keystoneclient/tests/unit/v2_0/client_fixtures.py', 'keystoneclient/v3/contrib/oauth1/access_tokens.py', 'keystoneclient/tests/unit/test_ec2utils.py', 'keystoneclient/v3/contrib/oauth1/request_tokens.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/32996f268c2b2b8127135046ded7b483dd10190b', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I0173b210e343ccf6b00c3b66959c001fdb1d699b\n""}]",1,732923,32996f268c2b2b8127135046ded7b483dd10190b,19,8,3,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I0173b210e343ccf6b00c3b66959c001fdb1d699b
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/23/732923/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/unit/v3/client_fixtures.py', 'keystoneclient/tests/unit/v2_0/client_fixtures.py', 'keystoneclient/v3/contrib/oauth1/access_tokens.py', 'keystoneclient/tests/unit/test_ec2utils.py', 'keystoneclient/v3/contrib/oauth1/request_tokens.py']",5,6acf397d5cf3582c120d23124114182efdeb0f11,drop_future_imports,,from __future__ import unicode_literals ,0,10
openstack%2Fgovernance~master~I08702b015245df35d40e08fa08a3269cc6bb1cac,openstack/governance,master,I08702b015245df35d40e08fa08a3269cc6bb1cac,Remove TC Liaisons framework,MERGED,2022-04-14 15:22:32.000000000,2022-04-29 17:15:13.000000000,2022-04-29 17:13:34.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 11292}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 15:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/59fa74ef96e5647e33c76cc6a328cee54f8a5820', 'message': 'Remove TC Liaisons framework\n\nTC is more connected with project teams with the\nweekly meeting and PTG TC+Leadership interaction sessions.\n\nAlso, TC liaisons did not work the way we expected it. In Zed\nPTG, we decided to remove it.\n\n- https://etherpad.opendev.org/p/tc-zed-ptg\n\nChange-Id: I08702b015245df35d40e08fa08a3269cc6bb1cac\n'}, {'number': 2, 'created': '2022-04-21 01:38:45.000000000', 'files': ['reference/projects.yaml', 'reference/index.rst', 'reference/tc-liaisons.rst', 'CHAIR.rst', 'doc/source/_exts/tc_liaisons.py', 'tools/assign_liaisons.py', 'reference/tc-guide.rst', 'doc/source/conf.py', 'doc/source/_exts/teams.py', 'openstack_governance/tests/test_governance.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/76b54e92840d7253784e99be434eadedd2e950cb', 'message': 'Remove TC Liaisons framework\n\nTC is more connected with project teams with the\nweekly meeting and PTG TC+Leadership interaction sessions.\n\nAlso, TC liaisons did not work the way we expected it. In Zed\nPTG, we decided to remove it.\n\n- https://etherpad.opendev.org/p/tc-zed-ptg\n\nChange-Id: I08702b015245df35d40e08fa08a3269cc6bb1cac\n'}]",24,837891,76b54e92840d7253784e99be434eadedd2e950cb,26,8,2,8556,,,0,"Remove TC Liaisons framework

TC is more connected with project teams with the
weekly meeting and PTG TC+Leadership interaction sessions.

Also, TC liaisons did not work the way we expected it. In Zed
PTG, we decided to remove it.

- https://etherpad.opendev.org/p/tc-zed-ptg

Change-Id: I08702b015245df35d40e08fa08a3269cc6bb1cac
",git fetch https://review.opendev.org/openstack/governance refs/changes/91/837891/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/projects.yaml', 'reference/index.rst', 'doc/source/_exts/tc_liaisons.py', 'reference/tc-liaisons.rst', 'tools/assign_liaisons.py', 'reference/tc-guide.rst', 'doc/source/conf.py', 'doc/source/_exts/teams.py', 'openstack_governance/tests/test_governance.py']",9,59fa74ef96e5647e33c76cc6a328cee54f8a5820,formal-vote,, tc_members: - zaneb - ttx,0,396
openstack%2Fopenstack-ansible-lxc_hosts~master~I2cb97a25237a0495ea8d9001d80d06b134b8e500,openstack/openstack-ansible-lxc_hosts,master,I2cb97a25237a0495ea8d9001d80d06b134b8e500,Unify debian and ubuntu cache prep scripts,MERGED,2022-04-21 07:46:14.000000000,2022-04-29 17:07:01.000000000,2022-04-29 17:05:26.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-21 07:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2e588719f9addfb979ef30e3a047ff48da08984f', 'message': 'Unify debian and ubuntu cache prep scripts\n\nThese should be able to be common, with a dictionary added to select\nthe right libpython version to install based on the OS release.\n\nChange-Id: I2cb97a25237a0495ea8d9001d80d06b134b8e500\n'}, {'number': 2, 'created': '2022-04-21 12:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/8347e23738d42a3d9b09ef1a39f06d97cef7b60d', 'message': 'Unify debian and ubuntu cache prep scripts\n\nThese should be able to be common, with a dictionary added to select\nthe right libpython version to install based on the OS release.\n\nChange-Id: I2cb97a25237a0495ea8d9001d80d06b134b8e500\n'}, {'number': 3, 'created': '2022-04-21 12:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f254f2e4c90f5ef8b14c3ebc26484218d57dce31', 'message': 'Unify debian and ubuntu cache prep scripts\n\nThese should be able to be common, with a dictionary added to select\nthe right libpython version to install based on the OS release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762\nChange-Id: I2cb97a25237a0495ea8d9001d80d06b134b8e500\n'}, {'number': 4, 'created': '2022-04-21 14:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/d987dc32da38385f0ae8e8130235ae95ff6f5b47', 'message': 'Unify debian and ubuntu cache prep scripts\n\nThese should be able to be common, with a dictionary added to select\nthe right libpython version to install based on the OS release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762\nChange-Id: I2cb97a25237a0495ea8d9001d80d06b134b8e500\n'}, {'number': 5, 'created': '2022-04-21 16:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/99e3e2f2276e55b811b9f0e33433fd402b090fd3', 'message': 'Unify debian and ubuntu cache prep scripts\n\nThese should be able to be common, with a dictionary added to select\nthe right libpython version to install based on the OS release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762\nChange-Id: I2cb97a25237a0495ea8d9001d80d06b134b8e500\n'}, {'number': 6, 'created': '2022-04-21 17:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9761f6ee01db18fdec9cbcf3beb191a235fd6829', 'message': 'Unify debian and ubuntu cache prep scripts\n\nThese should be able to be common, with a dictionary added to select\nthe right libpython version to install based on the OS release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762\nChange-Id: I2cb97a25237a0495ea8d9001d80d06b134b8e500\n'}, {'number': 7, 'created': '2022-04-21 17:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f1019543b5cfa238f5fb44defab20a927973ae10', 'message': 'Unify debian and ubuntu cache prep scripts\n\nThese should be able to be common, with a dictionary added to select\nthe right libpython version to install based on the OS release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762\nChange-Id: I2cb97a25237a0495ea8d9001d80d06b134b8e500\n'}, {'number': 8, 'created': '2022-04-21 18:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/5c055e14dbb44b8a73d476d431a4d325e10225d8', 'message': 'Unify debian and ubuntu cache prep scripts\n\nThese should be able to be common, with a dictionary added to select\nthe right libpython version to install based on the OS release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762\nChange-Id: I2cb97a25237a0495ea8d9001d80d06b134b8e500\n'}, {'number': 9, 'created': '2022-04-25 10:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/d6a2795821ccdfc13ac7d4d311ab07e65a1d60cc', 'message': 'Unify debian and ubuntu cache prep scripts\n\nThese should be able to be common, with a dictionary added to select\nthe right libpython version to install based on the OS release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/839167\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762\nChange-Id: I2cb97a25237a0495ea8d9001d80d06b134b8e500\n'}, {'number': 10, 'created': '2022-04-27 08:35:00.000000000', 'files': ['templates/prep-scripts/debian_prep.sh.j2', 'vars/debian-host.yml', 'vars/ubuntu-20.04.yml', 'templates/prep-scripts/ubuntu_20_prep.sh.j2', 'vars/debian.yml', 'vars/ubuntu-20.04-host.yml', 'templates/prep-scripts/_container_sys_setup.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/d72ed7e469a908dfe7feb36c4f2d2e8a73759f28', 'message': 'Unify debian and ubuntu cache prep scripts\n\nThese should be able to be common, with a dictionary added to select\nthe right libpython version to install based on the OS release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/839167\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762\nChange-Id: I2cb97a25237a0495ea8d9001d80d06b134b8e500\n'}]",7,838836,d72ed7e469a908dfe7feb36c4f2d2e8a73759f28,28,4,10,25023,,,0,"Unify debian and ubuntu cache prep scripts

These should be able to be common, with a dictionary added to select
the right libpython version to install based on the OS release.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/839167
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762
Change-Id: I2cb97a25237a0495ea8d9001d80d06b134b8e500
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/36/838836/7 && git format-patch -1 --stdout FETCH_HEAD,"['templates/prep-scripts/debian_prep.sh.j2', 'vars/debian-host.yml', 'vars/ubuntu-20.04.yml', 'templates/prep-scripts/ubuntu_20_prep.sh.j2', 'vars/debian.yml', 'vars/ubuntu-20.04-host.yml', 'templates/prep-scripts/_container_sys_setup.sh.j2']",7,2e588719f9addfb979ef30e3a047ff48da08984f,osa-jammy,"[ ! -e /dev/null ] && mknod /dev/null c 1 3 [ ! -e /dev/random ] && mknod /dev/random c 1 8 [ ! -e /dev/urandom ] && mknod /dev/urandom c 1 9 [ ! -e ""/dev/pts/$i"" ] && mknod ""/dev/pts/$i"" c 136 $i[ ! -e /dev/ptmx ] && mknod /dev/ptmx c 5 2 || true [ ! -e /dev/pts/ptmx ] && mknod /dev/pts/ptmx c 5 2","[ ! -e /dev/null ] && mknod -m 0666 /dev/null c 1 3 [ ! -e /dev/random ] && mknod -m 0666 /dev/random c 1 8 [ ! -e /dev/urandom ] && mknod -m 0666 /dev/urandom c 1 9 [ ! -e ""/dev/pts/$i"" ] && mknod -m 0666 ""/dev/pts/$i"" c 136 $i[ ! -e /dev/ptmx ] && mknod -m 0666 /dev/ptmx c 5 2 || true [ ! -e /dev/pts/ptmx ] && mknod -m 0000 /dev/pts/ptmx c 5 2",24,177
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If3569c08edb4e820a4db11ac755f23de71059a10,openstack/tripleo-heat-templates,stable/wallaby,If3569c08edb4e820a4db11ac755f23de71059a10,Fix Redis config generation when fd limit changes,MERGED,2022-03-02 17:00:38.000000000,2022-04-29 16:54:56.000000000,2022-04-29 16:54:56.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-02 17:00:38.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/redis-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d5eaa17c83045a04faf43f5955348bbbefad3d1', 'message': 'Fix Redis config generation when fd limit changes\n\npuppet-redis supports [1,2] changing PAM limits for the\nfile descriptors consumed by Redis. However puppet fails\nto run systemd reload inside container-puppet-redis.\n\nWe have to keep Exec resources (for old pcs setup and for\nmanipulating the Redis config file), so silent the Exec\nresource in that call systemd reload.\n\nCloses-Bug: #1960134\n\n[1] https://github.com/voxpupuli/puppet-redis/issues/130\n[2] https://github.com/voxpupuli/puppet-redis/pull/192\n\nChange-Id: If3569c08edb4e820a4db11ac755f23de71059a10\n(cherry picked from commit 85ccef292398641c33f5133442829cb62fa26812)\n'}]",18,831570,7d5eaa17c83045a04faf43f5955348bbbefad3d1,63,3,1,20778,,,0,"Fix Redis config generation when fd limit changes

puppet-redis supports [1,2] changing PAM limits for the
file descriptors consumed by Redis. However puppet fails
to run systemd reload inside container-puppet-redis.

We have to keep Exec resources (for old pcs setup and for
manipulating the Redis config file), so silent the Exec
resource in that call systemd reload.

Closes-Bug: #1960134

[1] https://github.com/voxpupuli/puppet-redis/issues/130
[2] https://github.com/voxpupuli/puppet-redis/pull/192

Change-Id: If3569c08edb4e820a4db11ac755f23de71059a10
(cherry picked from commit 85ccef292398641c33f5133442829cb62fa26812)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/831570/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/redis-container-puppet.yaml']",2,7d5eaa17c83045a04faf43f5955348bbbefad3d1,bug/1960134-stable/wallaby, - - Exec <| title == 'systemd-reload-redis' |> { unless => 'true' } - include tripleo::profile::base::database::redis, - - include tripleo::profile::base::database::redis,3,1
openstack%2Fkeystone~master~I98d1cfcbd229f2939d900861f453efa996466c32,openstack/keystone,master,I98d1cfcbd229f2939d900861f453efa996466c32,Add service_type config info for access rules,MERGED,2022-04-04 10:15:44.000000000,2022-04-29 16:53:34.000000000,2022-04-29 16:51:42.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16137}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-04 10:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/87dade9cecd2d31749d5a00717f6266b795b5de5', 'message': 'Add service_type config info for access rules\n\nThe service_type config param is crucial to successfully use\napplication credentials with access rules.\n\nCloses-Bug: #1950464\nChange-Id: I98d1cfcbd229f2939d900861f453efa996466c32\n'}, {'number': 2, 'created': '2022-04-04 11:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4ed3d5c2aeccab6617427a67a5395626ee06d2ad', 'message': 'Add service_type config info for access rules\n\nThe service_type config param is crucial to successfully use\napplication credentials with access rules.\n\nCloses-Bug: #1950464\nChange-Id: I98d1cfcbd229f2939d900861f453efa996466c32\n'}, {'number': 3, 'created': '2022-04-25 08:13:19.000000000', 'files': ['doc/source/user/application_credentials.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3856cbf10d4d19b9d7797d600ef096b0c04aaedb', 'message': 'Add service_type config info for access rules\n\nThe service_type config param is crucial to successfully use\napplication credentials with access rules.\n\nCloses-Bug: #1950464\nChange-Id: I98d1cfcbd229f2939d900861f453efa996466c32\n'}]",17,836309,3856cbf10d4d19b9d7797d600ef096b0c04aaedb,21,6,3,30534,,,0,"Add service_type config info for access rules

The service_type config param is crucial to successfully use
application credentials with access rules.

Closes-Bug: #1950464
Change-Id: I98d1cfcbd229f2939d900861f453efa996466c32
",git fetch https://review.opendev.org/openstack/keystone refs/changes/09/836309/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/application_credentials.rst'],1,87dade9cecd2d31749d5a00717f6266b795b5de5,bug/1950464,"may also delegate more fine-grained access control by using access rules. .. note:: Application credentials with access rules require additional configuration of each service that will use it. See below for details. If application credentials with access rules are required, an openstack service using keystonemiddleware to authenticate with keystone, needs to define ``service_type`` in it's config file. Following is an example for the cinder V3 service: .. code-block:: ini [keystone_authtoken] service_type = volumev3 For other OpenStack sevices, their types can be obtianed using the cli client. For example: .. code-block:: console $ openstack service list -c Name -c Type +-----------+-----------+ | Name | Type | +-----------+-----------+ | glance | image | | cinderv3 | volumev3 | | cinderv2 | volumev2 | | keystone | identity | | nova | compute | | neutron | network | | placement | placement | +-----------+-----------+ .. note:: Updates to the config files of a service require restart of the appropriate systemd services for the changes to take effect. In order to create an example application credential that is constricted to creating","may also delegate more fine-grained access control by using access rules. For example, to create an application credential that is constricted to creating",41,2
openstack%2Fglance~master~I065036cff6e107b3438007db40981459400ccb6b,openstack/glance,master,I065036cff6e107b3438007db40981459400ccb6b,Internal server error if shared member tries to stage data to image,MERGED,2022-03-22 15:22:32.000000000,2022-04-29 16:53:27.000000000,2022-04-29 16:51:38.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-22 15:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/098cfb6dc1445f5799d0cac8c1db706c33961249', 'message': 'Internal server error if shared member tries to stage data to image\n\nGlance API throws an Internal Server Exception when a non active\nimage is shared with another project and any member from that\nproject tries to stage data for the same.\n\nWith this patch, Glance API will throw the Forbidden Error for\nthe same.\n\nCloses-Bug: #1939922\nChange-Id: I065036cff6e107b3438007db40981459400ccb6b\n'}, {'number': 2, 'created': '2022-03-23 04:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4c7697ec6c1fd85bd9bbc24715eb024e9647cc51', 'message': 'Internal server error if shared member tries to stage data\nto image\n\nGlance API throws an Internal Server Exception when a non\nactive image is shared with another project and any member\nfrom that project tries to stage data for the same.\n\nWith this patch, Glance API will throw the Forbidden Error\nfor the same.\n\nCloses-Bug: #1939922\nChange-Id: I065036cff6e107b3438007db40981459400ccb6b\n'}, {'number': 3, 'created': '2022-03-23 05:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/32355611e5036a6dcbc89b37e1ee05479bc837dd', 'message': 'Internal server error if shared member tries to stage data\nto image\n\nGlance API throws an Internal Server Exception when a non\nactive image is shared with another project and any member\nfrom that project tries to stage data for the same.\n\nWith this patch, Glance API will throw the Forbidden Error\nfor the same.\n\nCloses-Bug: #1939922\nChange-Id: I065036cff6e107b3438007db40981459400ccb6b\n'}, {'number': 4, 'created': '2022-03-31 15:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/808f5798b5dde27c19b3621c43dcb74cd6edff6e', 'message': 'Internal server error if shared member tries to stage data\nto image\n\nGlance API throws an Internal Server Exception when a non\nactive image is shared with another project and any member\nfrom that project tries to stage data for the same.\n\nWith this patch, Glance API will throw the Forbidden Error\nfor the same.\n\nCloses-Bug: #1939922\nChange-Id: I065036cff6e107b3438007db40981459400ccb6b\n'}, {'number': 5, 'created': '2022-04-22 08:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0dcb97ab41b33a042edb935f6d28982193b7cc0f', 'message': 'Internal server error if shared member tries to stage data\nto image\n\nGlance API throws an Internal Server Exception when a non\nactive image is shared with another project and any member\nfrom that project tries to stage data for the same.\n\nWith this patch, Glance API will throw the Forbidden Error\nfor the same.\n\nCloses-Bug: #1939922\nChange-Id: I065036cff6e107b3438007db40981459400ccb6b\n'}, {'number': 6, 'created': '2022-04-27 16:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6d0c74f2392c6fe339777ecb18a8b48efae2f5be', 'message': 'Internal server error if shared member tries to stage data\nto image\n\nGlance API throws an Internal Server Exception when a non\nactive image is shared with another project and any member\nfrom that project tries to stage data for the same.\n\nWith this patch, Glance API will throw the Forbidden Error\nfor the same.\n\nCloses-Bug: #1939922\nChange-Id: I065036cff6e107b3438007db40981459400ccb6b\n'}, {'number': 7, 'created': '2022-04-28 16:35:46.000000000', 'files': ['glance/tests/functional/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/cb65cc8e44523cd04ecace02296061a6ddc3982d', 'message': 'Internal server error if shared member tries to stage data\nto image\n\nGlance API throws an Internal Server Exception when a non\nactive image is shared with another project and any member\nfrom that project tries to stage data for the same.\n\nThis patch will cover the Functional Test Case for the same\n\nCloses-Bug: #1939922\nChange-Id: I065036cff6e107b3438007db40981459400ccb6b\n'}]",39,834701,cb65cc8e44523cd04ecace02296061a6ddc3982d,58,4,7,24744,,,0,"Internal server error if shared member tries to stage data
to image

Glance API throws an Internal Server Exception when a non
active image is shared with another project and any member
from that project tries to stage data for the same.

This patch will cover the Functional Test Case for the same

Closes-Bug: #1939922
Change-Id: I065036cff6e107b3438007db40981459400ccb6b
",git fetch https://review.opendev.org/openstack/glance refs/changes/01/834701/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/tests/unit/v2/test_image_data_resource.py']",2,098cfb6dc1445f5799d0cac8c1db706c33961249,," def test_image_stage_raises_forbidden_error(self): image_id = str(uuid.uuid4()) request = unit_test_utils.get_fake_request() self.image_repo.result = exception.ForbiddenError() self.assertRaises(webob.exc.HTTPForbidden, self.controller.stage, request, image_id, 'YYYYYYY', 7) ",,13,0
openstack%2Fcinder~master~Id903012774df596e9a8b200abd39947b99325157,openstack/cinder,master,Id903012774df596e9a8b200abd39947b99325157,[doc] update releasecycle tasks,MERGED,2022-04-22 12:57:28.000000000,2022-04-29 16:53:26.000000000,2022-04-29 16:47:39.000000000,"[{'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-22 12:57:28.000000000', 'files': ['doc/source/contributor/releasecycle.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ddc0d39b38c8ffc53982254bf518a5be708ce07d', 'message': '[doc] update releasecycle tasks\n\nAdd reminder to update meeting info at meetings.opendev.org\n\nChange-Id: Id903012774df596e9a8b200abd39947b99325157\n'}]",3,839058,ddc0d39b38c8ffc53982254bf518a5be708ce07d,31,5,1,5314,,,0,"[doc] update releasecycle tasks

Add reminder to update meeting info at meetings.opendev.org

Change-Id: Id903012774df596e9a8b200abd39947b99325157
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/839058/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/releasecycle.rst'],1,ddc0d39b38c8ffc53982254bf518a5be708ce07d,releasecycle-tasks,Between PTG and Milestone-1 ===========================#. Review information about standing Cinder meetings posted at https://meetings.opendev.org/ in case any changes were discussed at the PTG. You make changes by proposing a patch to https://opendev.org/opendev/irc-meetings Example patch: https://review.opendev.org/c/opendev/irc-meetings/+/695339 ,Between Summit and Milestone-1 ==============================,9,2
openstack%2Fnova~master~I7b432d7a32aeb1ab765d1f731691c7841a8f1440,openstack/nova,master,I7b432d7a32aeb1ab765d1f731691c7841a8f1440,Simulate bug 1969496,MERGED,2022-04-19 16:27:13.000000000,2022-04-29 16:52:54.000000000,2022-04-29 16:46:56.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 16:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22977c8da4b39a2804e170c7cbd99b94311d6ab7', 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n""}, {'number': 2, 'created': '2022-04-20 09:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87bdb0454a50e75dda8dddfc5275e461b8f24d05', 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n""}, {'number': 3, 'created': '2022-04-25 14:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d85abcb9ffc4388e7274dad836a1efe2403a9b50', 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n""}, {'number': 4, 'created': '2022-04-28 10:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/567eee3f5707b19c13beb85340d036b4a2863abd', 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n""}, {'number': 5, 'created': '2022-04-28 14:02:43.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47', 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n""}]",4,838554,9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47,41,3,5,9708,,,0,"Simulate bug 1969496

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail to
when try to mark the dependent VFs unavailable.

This patch adds a test case that shows the error.

Related-Bug: #1969496

Change-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/838554/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,22977c8da4b39a2804e170c7cbd99b94311d6ab7,bug/1969496," def test_claim_available_pf_while_child_vf_is_unavailable(self): # NOTE(gibi): this is bug 1969496. The state created here is # inconsistent and should not happen. But it did happen in some cases # where we were not able to track down the way how it happened. # We start with a PF parent and a VF child. The PF is available and # the VF is unavailable. pf = copy.deepcopy(fake_db_dev_3) vf = copy.deepcopy(fake_db_dev_4) vf['status'] = fields.PciDeviceStatus.UNAVAILABLE self._create_tracker([pf, vf]) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_PF}] } ], instance_uuid=uuidsentinel.instance1, ) # now try to claim and allocate the PF. It should work as it is # available # This is bug 1969496 as the claim fails with exception from nova import exception ex = self.assertRaises( exception.PciDevicePoolEmpty, self.tracker.claim_instance, mock.sentinel.context, pci_requests_obj, None ) self.assertIn( 'Attempt to consume PCI device 1:0000:00:02.1 from empty pool', str(ex) ) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) # This should work when the bug is fixed # self.tracker.claim_instance( # mock.sentinel.context, pci_requests_obj, None) # self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) # pf_dev = self._get_device_by_address(pf['address']) # self.assertEqual('allocated', pf_dev.status) # vf_dev = self._get_device_by_address(vf['address']) # self.assertEqual('unavailable', vf_dev.status) ",,57,0
openstack%2Ftripleo-heat-templates~master~I64fbe6cc83b6d691812d5a92fb5c3f5f0a89938d,openstack/tripleo-heat-templates,master,I64fbe6cc83b6d691812d5a92fb5c3f5f0a89938d,Designate: unbound resolver port information available to service configuration,ABANDONED,2022-03-30 14:10:33.000000000,2022-04-29 16:52:03.000000000,,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-30 14:10:33.000000000', 'files': ['deployment/unbound/unbound-container-ansible.yaml', 'overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cef238ada7a81ed48bc24d3970b3e43da201fbf3', 'message': ""Designate: unbound resolver port information available to service configuration\n\nThis patch adds the capability to generate hiera from the unbound resolver\nport information so neutron can be configured to use it for DNS integration.\nThis will only be done if the deployer doesn't specify DNS servers with\nOVNDnsServers of NeutronDhcpAgentDnsmasqDnsServers.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/835742\nChange-Id: I64fbe6cc83b6d691812d5a92fb5c3f5f0a89938d\n""}]",4,835833,cef238ada7a81ed48bc24d3970b3e43da201fbf3,15,3,1,6681,,,0,"Designate: unbound resolver port information available to service configuration

This patch adds the capability to generate hiera from the unbound resolver
port information so neutron can be configured to use it for DNS integration.
This will only be done if the deployer doesn't specify DNS servers with
OVNDnsServers of NeutronDhcpAgentDnsmasqDnsServers.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/835742
Change-Id: I64fbe6cc83b6d691812d5a92fb5c3f5f0a89938d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/835833/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/unbound/unbound-container-ansible.yaml', 'overcloud.j2.yaml']",2,cef238ada7a81ed48bc24d3970b3e43da201fbf3,neutron-resolver-integration, # Variables created for designate integration - unbound_integration,,119,6
openstack%2Fcinder~stable%2Fyoga~Iaaac11faf545db15e0b3161331a863068d50d199,openstack/cinder,stable/yoga,Iaaac11faf545db15e0b3161331a863068d50d199,Fix PowerFlex connector HTTPS certificate validation,MERGED,2022-04-11 22:33:16.000000000,2022-04-29 16:51:33.000000000,2022-04-29 16:47:45.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 34290}]","[{'number': 1, 'created': '2022-04-11 22:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69c632723f9cb9d1a3a600454ef4d1b6fca3eeb2', 'message': 'Fix PowerFlex connector HTTPS certificate validation\n\nCloses-Bug: #1929223\n\nChange-Id: Iaaac11faf545db15e0b3161331a863068d50d199\n'}, {'number': 2, 'created': '2022-04-11 22:49:25.000000000', 'files': ['cinder/volume/drivers/dell_emc/powerflex/driver.py', 'releasenotes/notes/bug-1929223-powerflex-connector-certificate-validation-707b4f9f2077d4bc.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/17e6de9cb719cbc34b3278009bcd2b5422a3d4ac', 'message': 'Fix PowerFlex connector HTTPS certificate validation\n\nCloses-Bug: #1929223\n\nChange-Id: Iaaac11faf545db15e0b3161331a863068d50d199\n(cherry picked from commit daf77efad90f200d7a93d10029a192cb85b5ba48)\n'}]",2,837432,17e6de9cb719cbc34b3278009bcd2b5422a3d4ac,25,5,2,33502,,,0,"Fix PowerFlex connector HTTPS certificate validation

Closes-Bug: #1929223

Change-Id: Iaaac11faf545db15e0b3161331a863068d50d199
(cherry picked from commit daf77efad90f200d7a93d10029a192cb85b5ba48)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/837432/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powerflex/driver.py', 'releasenotes/notes/bug-1929223-powerflex-connector-certificate-validation-707b4f9f2077d4bc.yaml']",2,69c632723f9cb9d1a3a600454ef4d1b6fca3eeb2,bug/1929223,fixes: - | `Bug #1929223 <https://bugs.launchpad.net/os-brick/+bug/1929223>`_: Fixed HTTPS certificate validation was disabled in PowerFlex connector. ,,16,0
openstack%2Fneutron~stable%2Fwallaby~I2416fba50fc495da4d59a3f335f33d831ca6e91d,openstack/neutron,stable/wallaby,I2416fba50fc495da4d59a3f335f33d831ca6e91d,ovn migration: Fix check for stack name,MERGED,2022-04-25 04:49:18.000000000,2022-04-29 16:51:32.000000000,2022-04-29 16:47:23.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 04:49:18.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/435c869f1a4826a76ed344418d4d303c186161a9', 'message': ""ovn migration: Fix check for stack name\n\n[1] Updated the migration script to check for config-download\ndirectory instead of stack, but missed update the Error\nmessage.\n\ncheck_stack function is renamed to check_source_inventory\nas now it only checks for source inventory instead of heat\nstack.\nIf source inventory file doesn't exist the script\nwill report Error message and exit.\n\nThis is follow up of [1].\n\n[1] https://review.opendev.org/c/openstack/neutron/+/834925\n\nRelated-Bug: #1966099\nChange-Id: I2416fba50fc495da4d59a3f335f33d831ca6e91d\n(cherry picked from commit ccf8e71efa3f91433a3db0e369ef5bb099503150)\n""}]",1,838889,435c869f1a4826a76ed344418d4d303c186161a9,16,5,1,13861,,,0,"ovn migration: Fix check for stack name

[1] Updated the migration script to check for config-download
directory instead of stack, but missed update the Error
message.

check_stack function is renamed to check_source_inventory
as now it only checks for source inventory instead of heat
stack.
If source inventory file doesn't exist the script
will report Error message and exit.

This is follow up of [1].

[1] https://review.opendev.org/c/openstack/neutron/+/834925

Related-Bug: #1966099
Change-Id: I2416fba50fc495da4d59a3f335f33d831ca6e91d
(cherry picked from commit ccf8e71efa3f91433a3db0e369ef5bb099503150)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/838889/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,435c869f1a4826a76ed344418d4d303c186161a9,bug/1966099-stable/yoga-stable/xena-stable/wallaby,"# It uses tripleo-ansible-inventory.yaml which was used during deployment as source inventory# Check if source inventory exists function check_source_inventory { local inventory_file=""$OOO_WORKDIR/$STACK_NAME/config-download/$STACK_NAME/tripleo-ansible-inventory.yaml"" if [ ! -f $inventory_file ]; then echo ""ERROR: Source Inventory File ${inventory_file} does not exist. Please provide the Stack Name and TripleO Workdir"" echo "" via STACK_NAME and OOO_WORKDIR environment variables."" check_source_inventory","# Check if the stack exists function check_stack { if [ ! -d $OOO_WORKDIR/$STACK_NAME/config-download/$STACK_NAME ]; then echo ""ERROR: STACK_NAME=${STACK_NAME} does not exist. Please provide the stack name or its ID "" echo "" via STACK_NAME environment variable."" check_stack",8,6
openstack%2Fcinder~master~I233d706d49c795e67f4cdb32ff7ef3e9cdd36b00,openstack/cinder,master,I233d706d49c795e67f4cdb32ff7ef3e9cdd36b00,Fix wrong attribute to find remote address,MERGED,2022-04-03 15:13:45.000000000,2022-04-29 16:51:30.000000000,2022-04-29 16:47:04.000000000,"[{'_account_id': 7198}, {'_account_id': 10234}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-03 15:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/be13967f748d5533dafe1c26403adc6a34e94eee', 'message': 'Fix wrong attribute to find remote address\n\nThe webob.Request class does not have the remote_address attribute but\nthe remote_addr attribute. This change fixes the wrong attribute\naccordingly.\n\nCloses-Bug: #1967683\nChange-Id: I233d706d49c795e67f4cdb32ff7ef3e9cdd36b00\n'}, {'number': 2, 'created': '2022-04-03 15:22:25.000000000', 'files': ['cinder/api/middleware/auth.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/90abed0a44bbf2c0c14169b670954a8f66831598', 'message': 'Fix wrong attribute to find remote address\n\nThe webob.Request class does not have the remote_address attribute but\nthe remote_addr attribute. This change fixes usage of the non-existing\nattribute accordingly.\n\nCloses-Bug: #1967683\nChange-Id: I233d706d49c795e67f4cdb32ff7ef3e9cdd36b00\n'}]",3,836247,90abed0a44bbf2c0c14169b670954a8f66831598,38,6,2,9816,,,0,"Fix wrong attribute to find remote address

The webob.Request class does not have the remote_address attribute but
the remote_addr attribute. This change fixes usage of the non-existing
attribute accordingly.

Closes-Bug: #1967683
Change-Id: I233d706d49c795e67f4cdb32ff7ef3e9cdd36b00
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/836247/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/middleware/auth.py'],1,be13967f748d5533dafe1c26403adc6a34e94eee,bug/1967683," remote_address = getattr(req, 'remote_addr', '127.0.0.1')"," remote_address = getattr(req, 'remote_address', '127.0.0.1')",1,1
openstack%2Fopenstacksdk~feature%2Fr1~I7d4801f05ee317955cb5d85eb456e6e358315ba4,openstack/openstacksdk,feature/r1,I7d4801f05ee317955cb5d85eb456e6e358315ba4,Merge remote-tracking branch 'origin/master' into master2r1,MERGED,2022-04-29 13:12:37.000000000,2022-04-29 16:51:20.000000000,2022-04-29 16:47:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-04-29 13:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/709a2a5356610f405385cc5c3e66d589bfff6e95', 'message': ""Merge remote-tracking branch 'origin/master' into master2r1\n\nChange-Id: I7d4801f05ee317955cb5d85eb456e6e358315ba4\n""}, {'number': 2, 'created': '2022-04-29 13:13:56.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6998a8b1eb40404ba690bad2bf4f854f076e7d8e', 'message': ""Merge remote-tracking branch 'origin/master' into master2r1\n\nChange-Id: I7d4801f05ee317955cb5d85eb456e6e358315ba4\n""}]",1,839947,6998a8b1eb40404ba690bad2bf4f854f076e7d8e,8,2,2,27900,,,0,"Merge remote-tracking branch 'origin/master' into master2r1

Change-Id: I7d4801f05ee317955cb5d85eb456e6e358315ba4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/47/839947/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,709a2a5356610f405385cc5c3e66d589bfff6e95,master2r1,,,0,0
openstack%2Fnova~master~If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,openstack/nova,master,If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,Remove unavailable but not reported PCI devices at startup,MERGED,2022-04-19 16:27:13.000000000,2022-04-29 16:51:19.000000000,2022-04-29 16:46:48.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 16:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7a8ee8bb68b6805240bcd46912425aa5d46bdb9', 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\n\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n'}, {'number': 2, 'created': '2022-04-20 09:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc8d259ce6ec2399efb1621a30832385390c2671', 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\n\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n'}, {'number': 3, 'created': '2022-04-28 10:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3444c5c95f07fe3827d98b25fb117ba438118f60', 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n'}, {'number': 4, 'created': '2022-04-28 14:02:43.000000000', 'files': ['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/284ea72e96604bdf16d1c5c4db47247334841b2f', 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n'}]",21,838553,284ea72e96604bdf16d1c5c4db47247334841b2f,44,3,4,9708,,,0,"Remove unavailable but not reported PCI devices at startup

We saw in the field that the pci_devices table can end up in
inconsistent state after a compute node HW failure and re-deployment.
There could be dependent devices where the parent PF is in available
state while the children VFs are in unavailable state. (Before the HW
fault the PF was allocated hence the VFs was marked unavailable).

In this state this PF is still schedulable but during the
PCI claim the handling of dependent devices in the PCI tracker fill fail
with the error: ""Attempt to consume PCI device XXX from empty pool"".

The reason of the failure is that when the PF is claimed, all the
children VFs are marked unavailable. But if the VF is already
unavailable such step fails.

One way the deployer might try to recover from this state is to remove
the VFs from the hypervisor and restart the compute agent. The compute
startup already has a logic to delete PCI devices that are unused and
not reported by the hypervisor. However this logic only removed devices
in 'available' state and ignored devices in 'unavailable' state.

If a device is unused and the hypervisor is not reporting the device any
more then it is safe to delete that device from the PCI tracker. So this
patch extends the logic to allow deleting 'unavailable' devices. There
is a small window when dependent PCI device is in 'unclaimable' state.
From cleanup perspective this is an analogous state. So it is also
added to the cleanup logic.

Related-Bug: #1969496
Change-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/838553/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/pci/test_manager.py']",3,b7a8ee8bb68b6805240bcd46912425aa5d46bdb9,bug/1969496," def _get_device_by_address(self, address): devs = [dev for dev in self.tracker.pci_devs if dev.address == address] if len(devs) == 1: return devs[0] if devs: raise ValueError('ambiguous address', devs) else: raise ValueError('device not found', address) def test_set_hvdevs_unavailable_vf_removed(self): # We start with a PF parent and two VF children self._create_tracker([fake_db_dev_3, fake_db_dev_4, fake_db_dev_5]) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_PF}] } ], instance_uuid=uuidsentinel.instance1, ) # then claim and allocate the PF that makes the VFs unavailable self.tracker.claim_instance( mock.sentinel.context, pci_requests_obj, None) self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('allocated', dev3_pf.status) self.assertEqual(uuidsentinel.instance1, dev3_pf.instance_uuid) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('unavailable', dev4_vf.status) dev5_vf = self._get_device_by_address(fake_db_dev_5['address']) self.assertEqual('unavailable', dev5_vf.status) # now simulate that one VF (dev_5) is removed from the hypervisor and # the compute is restarted. As the VF is not claimed or allocated we # are free to remove it from the tracker. self.tracker._set_hvdevs([fake_db_dev_3, fake_db_dev_4]) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('allocated', dev3_pf.status) self.assertEqual(uuidsentinel.instance1, dev3_pf.instance_uuid) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('unavailable', dev4_vf.status) dev5_vf = self._get_device_by_address(fake_db_dev_5['address']) self.assertEqual('removed', dev5_vf.status) def test_set_hvdevs_unavailable_pf_removed(self): # We start with one PF parent and one child VF self._create_tracker([fake_db_dev_3, fake_db_dev_4]) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_VF}] } ], instance_uuid=uuidsentinel.instance1, ) # Then we claim and allocate the VF that makes the PF unavailable self.tracker.claim_instance( mock.sentinel.context, pci_requests_obj, None) self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('unavailable', dev3_pf.status) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('allocated', dev4_vf.status) self.assertEqual(uuidsentinel.instance1, dev4_vf.instance_uuid) # now simulate that the parent PF is removed from the hypervisor and # the compute is restarted. As the PF is not claimed or allocated we # are free to remove it from the tracker. self.tracker._set_hvdevs([fake_db_dev_4]) dev3_pf = self._get_device_by_address(fake_db_dev_3['address']) self.assertEqual('removed', dev3_pf.status) dev4_vf = self._get_device_by_address(fake_db_dev_4['address']) self.assertEqual('allocated', dev4_vf.status) self.assertEqual(uuidsentinel.instance1, dev4_vf.instance_uuid) ",,101,6
openstack%2Fkayobe~stable%2Fvictoria~I3f499d63d19ba7f7372b401bd2da23ce627f18e5,openstack/kayobe,stable/victoria,I3f499d63d19ba7f7372b401bd2da23ce627f18e5,kolla_passwords: add no_log for password overrides,MERGED,2022-04-29 10:01:59.000000000,2022-04-29 16:51:13.000000000,2022-04-29 16:46:37.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 10:01:59.000000000', 'files': ['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bf73ca1cf5705a9283ee238c1f9e931f02462587', 'message': 'kolla_passwords: add no_log for password overrides\n\nThe kolla_passwords module overrides parameter may contain sensitive\ndata, including passwords and SSH keys. It should be protected via\nno_log. Without this, the parameter value may be exposed in Ansible\nlogs, or if level 3 verbosity is used, Ansible output.\n\nThis change adds no_log to the parameter.\n\nChange-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5\n(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)\n'}]",0,839747,bf73ca1cf5705a9283ee238c1f9e931f02462587,8,3,1,15197,,,0,"kolla_passwords: add no_log for password overrides

The kolla_passwords module overrides parameter may contain sensitive
data, including passwords and SSH keys. It should be protected via
no_log. Without this, the parameter value may be exposed in Ansible
logs, or if level 3 verbosity is used, Ansible output.

This change adds no_log to the parameter.

Change-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5
(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/47/839747/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml']",2,bf73ca1cf5705a9283ee238c1f9e931f02462587,,"--- security: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. fixes: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. ",,12,1
openstack%2Fkayobe~stable%2Fwallaby~I3f499d63d19ba7f7372b401bd2da23ce627f18e5,openstack/kayobe,stable/wallaby,I3f499d63d19ba7f7372b401bd2da23ce627f18e5,kolla_passwords: add no_log for password overrides,MERGED,2022-04-29 10:01:52.000000000,2022-04-29 16:51:13.000000000,2022-04-29 16:46:34.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 10:01:52.000000000', 'files': ['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3beff4ca461728043e7660cda63cdd14c60543d3', 'message': 'kolla_passwords: add no_log for password overrides\n\nThe kolla_passwords module overrides parameter may contain sensitive\ndata, including passwords and SSH keys. It should be protected via\nno_log. Without this, the parameter value may be exposed in Ansible\nlogs, or if level 3 verbosity is used, Ansible output.\n\nThis change adds no_log to the parameter.\n\nChange-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5\n(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)\n'}]",0,839746,3beff4ca461728043e7660cda63cdd14c60543d3,8,3,1,15197,,,0,"kolla_passwords: add no_log for password overrides

The kolla_passwords module overrides parameter may contain sensitive
data, including passwords and SSH keys. It should be protected via
no_log. Without this, the parameter value may be exposed in Ansible
logs, or if level 3 verbosity is used, Ansible output.

This change adds no_log to the parameter.

Change-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5
(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/46/839746/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml']",2,3beff4ca461728043e7660cda63cdd14c60543d3,,"--- security: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. fixes: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. ",,12,1
openstack%2Fkayobe~stable%2Fyoga~I3f499d63d19ba7f7372b401bd2da23ce627f18e5,openstack/kayobe,stable/yoga,I3f499d63d19ba7f7372b401bd2da23ce627f18e5,kolla_passwords: add no_log for password overrides,MERGED,2022-04-29 10:01:36.000000000,2022-04-29 16:51:12.000000000,2022-04-29 16:46:27.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 10:01:36.000000000', 'files': ['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/55f2aed3f251d67f84b4615f3ae58b693cec7468', 'message': 'kolla_passwords: add no_log for password overrides\n\nThe kolla_passwords module overrides parameter may contain sensitive\ndata, including passwords and SSH keys. It should be protected via\nno_log. Without this, the parameter value may be exposed in Ansible\nlogs, or if level 3 verbosity is used, Ansible output.\n\nThis change adds no_log to the parameter.\n\nChange-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5\n(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)\n'}]",0,839744,55f2aed3f251d67f84b4615f3ae58b693cec7468,8,3,1,15197,,,0,"kolla_passwords: add no_log for password overrides

The kolla_passwords module overrides parameter may contain sensitive
data, including passwords and SSH keys. It should be protected via
no_log. Without this, the parameter value may be exposed in Ansible
logs, or if level 3 verbosity is used, Ansible output.

This change adds no_log to the parameter.

Change-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5
(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/839744/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml']",2,55f2aed3f251d67f84b4615f3ae58b693cec7468,,"--- security: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. fixes: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. ",,12,1
openstack%2Fkayobe~stable%2Fxena~I3f499d63d19ba7f7372b401bd2da23ce627f18e5,openstack/kayobe,stable/xena,I3f499d63d19ba7f7372b401bd2da23ce627f18e5,kolla_passwords: add no_log for password overrides,MERGED,2022-04-29 10:01:44.000000000,2022-04-29 16:50:55.000000000,2022-04-29 16:46:30.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 10:01:44.000000000', 'files': ['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d5fe785215877f8051fc409394c42f0bc15eabe8', 'message': 'kolla_passwords: add no_log for password overrides\n\nThe kolla_passwords module overrides parameter may contain sensitive\ndata, including passwords and SSH keys. It should be protected via\nno_log. Without this, the parameter value may be exposed in Ansible\nlogs, or if level 3 verbosity is used, Ansible output.\n\nThis change adds no_log to the parameter.\n\nChange-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5\n(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)\n'}]",0,839745,d5fe785215877f8051fc409394c42f0bc15eabe8,8,3,1,15197,,,0,"kolla_passwords: add no_log for password overrides

The kolla_passwords module overrides parameter may contain sensitive
data, including passwords and SSH keys. It should be protected via
no_log. Without this, the parameter value may be exposed in Ansible
logs, or if level 3 verbosity is used, Ansible output.

This change adds no_log to the parameter.

Change-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5
(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/45/839745/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml']",2,d5fe785215877f8051fc409394c42f0bc15eabe8,,"--- security: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. fixes: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. ",,12,1
openstack%2Fcinder~master~I60e06b1b42974ce7ef4d790f050d706dc1a8a7a3,openstack/cinder,master,I60e06b1b42974ce7ef4d790f050d706dc1a8a7a3,Rename Dell EMC to Dell,MERGED,2022-04-25 14:02:10.000000000,2022-04-29 16:47:33.000000000,2022-04-29 16:47:33.000000000,"[{'_account_id': 7198}, {'_account_id': 13671}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-25 14:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ebb626de21a1cc2c69a11bf04e82351255ac868', 'message': 'Rename Dell EMC to Dell\n\ncinder/docs directory has a references to the Dell EMC company name.\nRename all Dell EMC references to Dell, except for those references where there are paths.\nWhen the user will read the documentation he will see the new company name.\nThese changes are due to the company’s rebranding.\n\nCloses-Bug: #1970208\nChange-Id: I60e06b1b42974ce7ef4d790f050d706dc1a8a7a3\n'}, {'number': 2, 'created': '2022-04-25 14:29:07.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'doc/source/configuration/block-storage/drivers/dell-emc-powerflex-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-powervault-me.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst', 'doc/source/contributor/drivers_locking_examples.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-vnx-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-storagecenter-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-xtremio-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5cb4e21d938bc37ac706a9070a6e42e5df4ba349', 'message': 'Rename Dell EMC to Dell\n\ncinder/docs directory has a references to the Dell EMC company name.\nRename all Dell EMC references to Dell, except for those references where there are paths.\nWhen the user will read the documentation he will see the new company name.\nThese changes are due to the company’s rebranding.\n\nCloses-Bug: #1970208\nChange-Id: I60e06b1b42974ce7ef4d790f050d706dc1a8a7a3\n'}]",3,839223,5cb4e21d938bc37ac706a9070a6e42e5df4ba349,41,5,2,34290,,,0,"Rename Dell EMC to Dell

cinder/docs directory has a references to the Dell EMC company name.
Rename all Dell EMC references to Dell, except for those references where there are paths.
When the user will read the documentation he will see the new company name.
These changes are due to the company’s rebranding.

Closes-Bug: #1970208
Change-Id: I60e06b1b42974ce7ef4d790f050d706dc1a8a7a3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/839223/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'doc/source/configuration/block-storage/drivers/dell-emc-powerflex-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-powervault-me.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst', 'doc/source/contributor/drivers_locking_examples.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-vnx-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-storagecenter-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-xtremio-driver.rst']",10,6ebb626de21a1cc2c69a11bf04e82351255ac868,bug/1970208,Dell XtremIO Block Storage driver,Dell EMC XtremIO Block Storage driver,6667,6667
openstack%2Fcinder~master~I8963dbd9e7890804ad50315e8295ae007590b939,openstack/cinder,master,I8963dbd9e7890804ad50315e8295ae007590b939,[docs] Update cinder-stable-maint description,MERGED,2022-04-01 20:47:00.000000000,2022-04-29 16:47:16.000000000,2022-04-29 16:47:16.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-01 20:47:00.000000000', 'files': ['doc/source/contributor/cinder-groups.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/61fa40b2ba68551f00c26a3bcc12c1673c89fd25', 'message': '[docs] Update cinder-stable-maint description\n\nThe OpenStack stable-maint-core team has changed from having approval\nover project stable core teams to having a consulting role by this\nresolution:\nhttps://governance.openstack.org/tc/resolutions/20210923-stable-core-team.html\n\nChange-Id: I8963dbd9e7890804ad50315e8295ae007590b939\n'}]",1,836211,61fa40b2ba68551f00c26a3bcc12c1673c89fd25,30,3,1,5314,,,0,"[docs] Update cinder-stable-maint description

The OpenStack stable-maint-core team has changed from having approval
over project stable core teams to having a consulting role by this
resolution:
https://governance.openstack.org/tc/resolutions/20210923-stable-core-team.html

Change-Id: I8963dbd9e7890804ad50315e8295ae007590b939
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/836211/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/cinder-groups.rst'],1,61fa40b2ba68551f00c26a3bcc12c1673c89fd25,update-stable-desc, - subset of cinder-core (selected in consultation with stable-maint-core) plus the stable-maint-core team, - subset of cinder-core (subject to approval by stable-maint-core) plus the stable-maint-core team,2,2
openstack%2Fcinder~master~Icb4c0b5cbba02c42e9e2ee381dc9152f1c1de22c,openstack/cinder,master,Icb4c0b5cbba02c42e9e2ee381dc9152f1c1de22c,Tests: Add alembic to pylint ignores,MERGED,2022-04-06 15:49:32.000000000,2022-04-29 16:47:11.000000000,2022-04-29 16:47:11.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 15:49:32.000000000', 'files': ['.pylintrc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1ed75aa48e180ef0c919e5c26dbc3321720edd6', 'message': ""Tests: Add alembic to pylint ignores\n\nAdd alembic.context and alembic.op to pylint ignore\nlist.  These are dynamic modules that pylint can't\nprocess, generating many false positive pylint errors.\n\nChange-Id: Icb4c0b5cbba02c42e9e2ee381dc9152f1c1de22c\n""}]",3,836848,b1ed75aa48e180ef0c919e5c26dbc3321720edd6,39,4,1,4523,,,0,"Tests: Add alembic to pylint ignores

Add alembic.context and alembic.op to pylint ignore
list.  These are dynamic modules that pylint can't
process, generating many false positive pylint errors.

Change-Id: Icb4c0b5cbba02c42e9e2ee381dc9152f1c1de22c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/836848/1 && git format-patch -1 --stdout FETCH_HEAD,['.pylintrc'],1,b1ed75aa48e180ef0c919e5c26dbc3321720edd6,,"ignored-modules=six.moves,_MovedItems,alembic.context,alembic.op","ignored-modules=six.moves,_MovedItems",1,1
openstack%2Fneutron~master~I94f0832d09d263837262ada109a567e864915a1a,openstack/neutron,master,I94f0832d09d263837262ada109a567e864915a1a,[OVN][Migration] More robust checks on stop-agents,MERGED,2022-04-26 14:19:19.000000000,2022-04-29 16:42:20.000000000,2022-04-29 16:38:20.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 29350}, {'_account_id': 32761}, {'_account_id': 34118}]","[{'number': 1, 'created': '2022-04-26 14:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04a9e7cb8ce4f7f628e2fa24a80b862b1ddeab58', 'message': '[OVN][Migration] More robust checks on stop-agents\n\nOn OSP17 there are some ml2 ovs services that are not\npresent on some computes eventhought is defined on the\nansible service facts.\n\nThis patch will ensure that only those services that are\nactually running will be stopped.\n\nChange-Id: I94f0832d09d263837262ada109a567e864915a1a\n'}, {'number': 2, 'created': '2022-04-27 08:27:33.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2869d008e2e417e43f3fbf942225a9edc5868e37', 'message': '[OVN][Migration] More robust checks on stop-agents\n\nOn OSP17 there are some ml2 ovs services that are not\npresent on some computes eventhought is defined on the\nansible service facts.\n\nThis patch will ensure that only those services that are\nactually running will be stopped.\n\nChange-Id: I94f0832d09d263837262ada109a567e864915a1a\n'}]",6,839392,2869d008e2e417e43f3fbf942225a9edc5868e37,19,7,2,34118,,,0,"[OVN][Migration] More robust checks on stop-agents

On OSP17 there are some ml2 ovs services that are not
present on some computes eventhought is defined on the
ansible service facts.

This patch will ensure that only those services that are
actually running will be stopped.

Change-Id: I94f0832d09d263837262ada109a567e864915a1a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/839392/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml'],1,04a9e7cb8ce4f7f628e2fa24a80b862b1ddeab58,," when: - ansible_facts.services[item] is defined - ansible_facts.services[item][""state""] == running# If file is already deleted this won't fail",,4,0
openstack%2Fneutron~stable%2Fyoga~I973f8896248c8222031c53343bb53ce48254da74,openstack/neutron,stable/yoga,I973f8896248c8222031c53343bb53ce48254da74,Handle properly InvalidScope exceptions to not return error 500,MERGED,2022-04-20 14:51:05.000000000,2022-04-29 16:40:56.000000000,2022-04-29 16:38:25.000000000,"[{'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-20 14:51:05.000000000', 'files': ['neutron/api/v2/base.py', 'neutron/tests/unit/test_policy.py', 'neutron/pecan_wsgi/hooks/policy_enforcement.py', 'neutron/policy.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcb35466484d9c66c6ea912c6c68802b89847404', 'message': ""Handle properly InvalidScope exceptions to not return error 500\n\nWhen new default policy rules and scope enforcement are enabled, Neutron\nneeds to handle properly not only PolicyNotAuthorized exception from\noslo_policy module but also InvalidScope exception.\nThis patch adds handling of that exception to the neutron policy\nmodules.\n\nIn the check() method from the neutron.policy module we are calling\nENFORCER.enforce() method with do_raise=False which means that\nPolicyNotAuthorized isn't rasised. Unfortunately it seems that there is\nbug in oslo.policy module and InvalidScope is raised even with\ndo_raise=False.\nFor now, lets workaround it in Neutron by properly handling InvalidScope\nexception in the check() method.\nThis workaround can be cleaned when bug [1] will be fixed in\noslo.policy.\n\n[1] https://bugs.launchpad.net/oslo.policy/+bug/1965315\n\nPartial-Bug: #1959333\nChange-Id: I973f8896248c8222031c53343bb53ce48254da74\n(cherry picked from commit 51d1899bacb1e5d625f201380035db634da2e27c)\n""}]",1,838697,dcb35466484d9c66c6ea912c6c68802b89847404,13,6,1,11975,,,0,"Handle properly InvalidScope exceptions to not return error 500

When new default policy rules and scope enforcement are enabled, Neutron
needs to handle properly not only PolicyNotAuthorized exception from
oslo_policy module but also InvalidScope exception.
This patch adds handling of that exception to the neutron policy
modules.

In the check() method from the neutron.policy module we are calling
ENFORCER.enforce() method with do_raise=False which means that
PolicyNotAuthorized isn't rasised. Unfortunately it seems that there is
bug in oslo.policy module and InvalidScope is raised even with
do_raise=False.
For now, lets workaround it in Neutron by properly handling InvalidScope
exception in the check() method.
This workaround can be cleaned when bug [1] will be fixed in
oslo.policy.

[1] https://bugs.launchpad.net/oslo.policy/+bug/1965315

Partial-Bug: #1959333
Change-Id: I973f8896248c8222031c53343bb53ce48254da74
(cherry picked from commit 51d1899bacb1e5d625f201380035db634da2e27c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/838697/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/v2/base.py', 'neutron/tests/unit/test_policy.py', 'neutron/pecan_wsgi/hooks/policy_enforcement.py', 'neutron/policy.py']",4,dcb35466484d9c66c6ea912c6c68802b89847404,bug/1959333-stable/yoga," # TODO(slaweq): this try..except.. block can be removed when bug # https://bugs.launchpad.net/oslo.policy/+bug/1965315 will be fixed in # oslo.policy try: result = _ENFORCER.enforce(match_rule, target, credentials, pluralized=pluralized) except policy.InvalidScope: log_rule_list(match_rule) LOG.debug(""Failed policy check for '%s'"", action) result = False except (policy.PolicyNotAuthorized, policy.InvalidScope): LOG.debug(""Failed policy enforce for '%s'"", action)"," result = _ENFORCER.enforce(match_rule, target, credentials, pluralized=pluralized) except policy.PolicyNotAuthorized: LOG.debug(""Failed policy check for '%s'"", action)",73,14
openstack%2Fkuryr-kubernetes~master~I5e54d2ba08325935e4ee1da95372b34e0e40e0f0,openstack/kuryr-kubernetes,master,I5e54d2ba08325935e4ee1da95372b34e0e40e0f0,Take care about OS resources which was not found on CRD.,MERGED,2022-03-29 11:23:54.000000000,2022-04-29 16:40:47.000000000,2022-04-29 16:38:33.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-03-29 11:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1c22c5c4ad33adbd106c898c7413b5cad3545545', 'message': ""Take care about OS resources which was not found on CRD.\n\nNeutron networks and subnets might be omitted during removing resources\non deletion of KuryrNetwork CRD. This might happen, when there is event\nfor resources creation, and some other calls might make Kuryr Controller\nto crash, resulting in not tagged and/or missing netId field in KN.\nAlthough resources are created while we don't have updated CRD, with the\nnaming convention which ensure its uniqueness we may now get the\npotential leftovers to clean it properly.\n\nChange-Id: I5e54d2ba08325935e4ee1da95372b34e0e40e0f0\n""}, {'number': 2, 'created': '2022-04-06 08:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e6859d08ea6b589e955623ccb62c93888fe0d871', 'message': ""Take care about OS resources which was not found on CRD.\n\nNeutron networks and subnets might be omitted during removing resources\non deletion of KuryrNetwork CRD. This might happen, when there is event\nfor resources creation, and some other calls might make Kuryr Controller\nto crash, resulting in not tagged and/or missing netId field in KN.\nAlthough resources are created while we don't have updated CRD, with the\nnaming convention which ensure its uniqueness we may now get the\npotential leftovers to clean it properly.\n\nChange-Id: I5e54d2ba08325935e4ee1da95372b34e0e40e0f0\n""}, {'number': 3, 'created': '2022-04-06 11:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/810faf6a3d4ffeffd879185aa9245c8ed86f2d90', 'message': ""Take care about OS resources which was not found on CRD.\n\nNeutron networks and subnets might be omitted during removing resources\non deletion of KuryrNetwork CRD. This might happen, when there is event\nfor resources creation, and some other calls might make Kuryr Controller\nto crash, resulting in not tagged and/or missing netId field in KN.\nAlthough resources are created while we don't have updated CRD, with the\nnaming convention which ensure its uniqueness we may now get the\npotential leftovers to clean it properly.\n\nChange-Id: I5e54d2ba08325935e4ee1da95372b34e0e40e0f0\n""}, {'number': 4, 'created': '2022-04-07 13:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ccbd97e2134ce4f6bc834240e8eb1b492e4d2c07', 'message': ""Take care about OS resources which was not found on CRD.\n\nNeutron networks and subnets might be omitted during removing resources\non deletion of KuryrNetwork CRD. This might happen, when there is event\nfor resources creation, and some other calls might make Kuryr Controller\nto crash, resulting in not tagged and/or missing netId field in KN.\nAlthough resources are created while we don't have updated CRD, with the\nnaming convention which ensure its uniqueness we may now get the\npotential leftovers to clean it properly.\n\nChange-Id: I5e54d2ba08325935e4ee1da95372b34e0e40e0f0\n""}, {'number': 5, 'created': '2022-04-11 10:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cb2e6635eaa771726ac5c75beb405c4e590e618d', 'message': ""Take care about OS resources which was not found on CRD.\n\nNeutron networks and subnets might be omitted during removing resources\non deletion of KuryrNetwork CRD. This might happen, when there is event\nfor resources creation, and some other calls might make Kuryr Controller\nto crash, resulting in not tagged and/or missing netId field in KN.\nAlthough resources are created while we don't have updated CRD, with the\nnaming convention which ensure its uniqueness we may now get the\npotential leftovers to clean it properly.\n\nChange-Id: I5e54d2ba08325935e4ee1da95372b34e0e40e0f0\n""}, {'number': 6, 'created': '2022-04-29 12:32:33.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d49add94dfb0422cb3347cb7a14dc784256fa153', 'message': ""Take care about OS resources which was not found on CRD.\n\nNeutron networks and subnets might be omitted during removing resources\non deletion of KuryrNetwork CRD. This might happen, when there is event\nfor resources creation, and some other calls might make Kuryr Controller\nto crash, resulting in not tagged and/or missing netId field in KN.\nAlthough resources are created while we don't have updated CRD, with the\nnaming convention which ensure its uniqueness we may now get the\npotential leftovers to clean it properly.\n\nChange-Id: I5e54d2ba08325935e4ee1da95372b34e0e40e0f0\n""}]",19,835612,d49add94dfb0422cb3347cb7a14dc784256fa153,33,3,6,13692,,,0,"Take care about OS resources which was not found on CRD.

Neutron networks and subnets might be omitted during removing resources
on deletion of KuryrNetwork CRD. This might happen, when there is event
for resources creation, and some other calls might make Kuryr Controller
to crash, resulting in not tagged and/or missing netId field in KN.
Although resources are created while we don't have updated CRD, with the
naming convention which ensure its uniqueness we may now get the
potential leftovers to clean it properly.

Change-Id: I5e54d2ba08325935e4ee1da95372b34e0e40e0f0
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/12/835612/5 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py']",2,1c22c5c4ad33adbd106c898c7413b5cad3545545,leftovers,"import munch @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_on_finalize_no_network(self, m_get_svc, m_get_net_client): net_mock = mock.MagicMock() net_mock.return_value = [] m_get_net_client.return_value = net_mock self._handler.k8s.get.return_value = ( {'metadata': {'name': 'test-namespace', 'uid': 'e237acaf-ea5f-4d96-b604-292268a938a1'}}) @mock.patch('kuryr_kubernetes.clients.get_network_client') @mock.patch.object(driver_utils, 'get_services') def test_on_finalize_no_network_in_kn(self, m_get_svc, m_get_net_client): crd_selector = mock.sentinel.crd_selector self._delete_ns_sg_rules.return_value = [crd_selector] m_get_svc.return_value = [] net_mock = mock.MagicMock() net_id = '1612ffb1-ff7d-4590-bd9c-95aeb043705a' net_mock.networks.return_value = [munch.Munch({'id': net_id})] m_get_net_client.return_value = net_mock self._handler.k8s.get.return_value = ( {'metadata': {'name': 'test-namespace', 'uid': net_id}}) kuryrnetwork.KuryrNetworkHandler.on_finalize(self._handler, self._kuryrnet_crd) self._delete_network_pools.assert_called_once() self._delete_namespace_subnet.assert_called_once_with( {'status': {'netId': net_id}}) self._delete_ns_sg_rules.assert_called_once() m_get_svc.assert_called_once() self._handler._update_services.assert_called_once() self._handler.k8s.remove_finalizer.assert_called_once() self._handler.k8s.add_event.assert_not_called() @mock.patch('kuryr_kubernetes.clients.get_network_client') @mock.patch.object(driver_utils, 'get_services') def test_on_finalize_no_network_in_kn_with_subnet(self, m_get_svc, m_get_net_client): crd_selector = mock.sentinel.crd_selector self._delete_ns_sg_rules.return_value = [crd_selector] m_get_svc.return_value = [] net_id = 'db0b2c83-dae3-47ff-b4b0-9a19b7c15589' subnet_id = 'a595fc4b-6885-48ff-b90c-d3f7aefd6d1a' net_mock = mock.MagicMock() net_mock.networks.return_value = [munch.Munch({'id': net_id})] net_mock.subnets.return_value = [munch.Munch({'id': subnet_id})] m_get_net_client.return_value = net_mock self._handler.k8s.get.return_value = ( {'metadata': {'name': 'test-namespace', 'uid': net_id}}) kuryrnetwork.KuryrNetworkHandler.on_finalize(self._handler, self._kuryrnet_crd) self._delete_network_pools.assert_called_once() self._delete_namespace_subnet.assert_called_once_with( {'status': {'netId': net_id, 'subnetId': subnet_id}}) self._delete_ns_sg_rules.assert_called_once() m_get_svc.assert_called_once() self._handler._update_services.assert_called_once() self._handler.k8s.remove_finalizer.assert_called_once() self._handler.k8s.add_event.assert_not_called() "," def test_on_finalize_no_network(self, m_get_svc):",92,1
openstack%2Fneutron~master~Ic2dbb1c91220f84cdcb73c9e3559728d54c21a25,openstack/neutron,master,Ic2dbb1c91220f84cdcb73c9e3559728d54c21a25,Change 'DHCP' option group name to 'dhcp',MERGED,2022-04-28 19:18:48.000000000,2022-04-29 16:40:38.000000000,2022-04-29 16:38:15.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 19:18:48.000000000', 'files': ['neutron/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8635b60f241c78f277dcf84ca272d30908fed933', 'message': ""Change 'DHCP' option group name to 'dhcp'\n\nOnly 'DEFAULT' is an allowable all-caps option group name,\nelse a warning is generated:\n\nWARNING:oslo_config.generator:normalizing group name 'DHCP' to 'dhcp'\n\nCan see this in the 'tox -e docs' job.\n\nTrivialfix\n\nChange-Id: Ic2dbb1c91220f84cdcb73c9e3559728d54c21a25\n""}]",2,839818,8635b60f241c78f277dcf84ca272d30908fed933,18,5,1,1131,,,0,"Change 'DHCP' option group name to 'dhcp'

Only 'DEFAULT' is an allowable all-caps option group name,
else a warning is generated:

WARNING:oslo_config.generator:normalizing group name 'DHCP' to 'dhcp'

Can see this in the 'tox -e docs' job.

Trivialfix

Change-Id: Ic2dbb1c91220f84cdcb73c9e3559728d54c21a25
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/839818/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/opts.py'],1,8635b60f241c78f277dcf84ca272d30908fed933,trivial-DHCP-optname," ('dhcp',"," ('DHCP',",1,1
openstack%2Frequirements~master~I03767ec8e9e682ffc54e58780515e36c1db23811,openstack/requirements,master,I03767ec8e9e682ffc54e58780515e36c1db23811,update constraint for oslo.policy to new release 3.12.1,MERGED,2022-04-29 09:24:43.000000000,2022-04-29 16:40:23.000000000,2022-04-29 16:38:29.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-29 09:24:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0ba7493ce35c83a4543eeabd2b3680961ac4bd68', 'message': 'update constraint for oslo.policy to new release 3.12.1\n\nmeta: version: 3.12.1\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I13db2a6b5d7ea4026a17de543d425d1b4431c8ee\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Code-Review+1: Ghanshyam <gmann@ghanshyammann.com>\nmeta: release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta: release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>\nmeta: release:Code-Review+1: Balazs Gibizer <gibizer@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I03767ec8e9e682ffc54e58780515e36c1db23811\n'}]",1,839882,0ba7493ce35c83a4543eeabd2b3680961ac4bd68,12,3,1,11131,,,0,"update constraint for oslo.policy to new release 3.12.1

meta: version: 3.12.1
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I13db2a6b5d7ea4026a17de543d425d1b4431c8ee
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Code-Review+1: Ghanshyam <gmann@ghanshyammann.com>
meta: release:Code-Review+1: yatin <ykarel@redhat.com>
meta: release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>
meta: release:Code-Review+1: Balazs Gibizer <gibizer@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I03767ec8e9e682ffc54e58780515e36c1db23811
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/839882/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0ba7493ce35c83a4543eeabd2b3680961ac4bd68,new-release,oslo.policy===3.12.1,oslo.policy===3.11.0,1,1
openstack%2Fneutron~master~Idd7382bd38d70383107d2997205ff880bede8d96,openstack/neutron,master,Idd7382bd38d70383107d2997205ff880bede8d96,doc: point to relevant nova config in routed networks guide,MERGED,2022-04-25 11:12:11.000000000,2022-04-29 16:38:23.000000000,2022-04-29 16:34:14.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 11:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26a4382153707bafdcfab949b59e02f377e6808e', 'message': ""doc: point to relevant nova config in routed networks guide\n\nWhilst the focus of the routed provider networks documentation\nis on the Neutron side of things, this document provides a useful\nlocation to point at relevant Nova configuration.\n\nThis reference relates to the Nova scheduler and ensuring that\ninstance move operations don't result in instances being scheduled\nto hosts which do not have access to the required network(s).\n\nChange-Id: Idd7382bd38d70383107d2997205ff880bede8d96\n""}, {'number': 2, 'created': '2022-04-27 09:40:02.000000000', 'files': ['doc/source/admin/config-routed-networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b4dec3a16ce9aa8e23b4995632cf1ef0a0a5a25', 'message': ""doc: point to relevant nova config in routed networks guide\n\nWhile the focus of the routed provider networks documentation\nis on the Neutron side of things, this document provides a useful\nlocation to point at relevant Nova configuration.\n\nThis reference relates to the Nova scheduler and ensuring that\ninstance move operations don't result in instances being scheduled\nto hosts which do not have access to the required network(s).\n\nChange-Id: Idd7382bd38d70383107d2997205ff880bede8d96\n""}]",6,839194,9b4dec3a16ce9aa8e23b4995632cf1ef0a0a5a25,15,4,2,31542,,,0,"doc: point to relevant nova config in routed networks guide

While the focus of the routed provider networks documentation
is on the Neutron side of things, this document provides a useful
location to point at relevant Nova configuration.

This reference relates to the Nova scheduler and ensuring that
instance move operations don't result in instances being scheduled
to hosts which do not have access to the required network(s).

Change-Id: Idd7382bd38d70383107d2997205ff880bede8d96
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/839194/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-routed-networks.rst'],1,26a4382153707bafdcfab949b59e02f377e6808e,,#. (Optional) Configure the Nova scheduler to filter based upon routed network host aggregates. See the `Nova configuration reference <https://docs.openstack.org/nova/latest/configuration/config.html#scheduler.query_placement_for_routed_network_aggregates>`_ for more information. ,,5,0
openstack%2Fnova~master~I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,openstack/nova,master,I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,Isolate PCI tracker unit tests,MERGED,2022-04-28 13:56:00.000000000,2022-04-29 16:38:21.000000000,2022-04-29 16:34:01.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 13:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07bbcc92f494f90d70dedad609b1d8079984ac49', 'message': 'Isolate PCI tracker unit tests\n\nDuring the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed\nthat the unit test cases of PciTracker._set_hvdev are changing and\nleaking global state leading to unstable tests.\n\nTo reproduce on master, duplicate the\ntest_set_hvdev_remove_tree_maintained_with_allocations test case and run\nPciDevTrackerTestCase serially. The duplicated test case will fail with\n\n  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object\n  setattr(pci_device, key, db_dev[key])\n  KeyError: \'id\'\n\nThis is caused by the fact that the test data is defined on module\nlevel, both _create_tracker and _set_hvdevs modifies the devices\npassed to them, and some test mixes passing db dicts to _set_hvdevs\nthat expects pci dicts from the hypervisor.\n\nThis patch fixes multiple related issues:\n* always deepcopy what _create_tracker takes as that list is later\n  returned to the PciTracker via a mock and the tracker might modify\n  what it got\n\n* ensure that _create_tracker takes db dicts (with id field) while\n  _set_hvdevs takes pci dicts in the hypervisor format (without id\n  field)\n\n* always deepcopy what is passed to _set_hvdevs as the PciTracker modify\n  what it gets.\n\n* normalize when the deepcopy happens to give a safe patter for future\n  test cases\n\nChange-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318\n'}, {'number': 2, 'created': '2022-04-28 14:02:43.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c58376db75917444831934963fa75b4b57f08818', 'message': 'Isolate PCI tracker unit tests\n\nDuring the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed\nthat the unit test cases of PciTracker._set_hvdev are changing and\nleaking global state leading to unstable tests.\n\nTo reproduce on master, duplicate the\ntest_set_hvdev_remove_tree_maintained_with_allocations test case and run\nPciDevTrackerTestCase serially. The duplicated test case will fail with\n\n  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object\n  setattr(pci_device, key, db_dev[key])\n  KeyError: \'id\'\n\nThis is caused by the fact that the test data is defined on module\nlevel, both _create_tracker and _set_hvdevs modifies the devices\npassed to them, and some test mixes passing db dicts to _set_hvdevs\nthat expects pci dicts from the hypervisor.\n\nThis patch fixes multiple related issues:\n* always deepcopy what _create_tracker takes as that list is later\n  returned to the PciTracker via a mock and the tracker might modify\n  what it got\n\n* ensure that _create_tracker takes db dicts (with id field) while\n  _set_hvdevs takes pci dicts in the hypervisor format (without id\n  field)\n\n* always deepcopy what is passed to _set_hvdevs as the PciTracker modify\n  what it gets.\n\n* normalize when the deepcopy happens to give a safe patter for future\n  test cases\n\nChange-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318\n'}]",5,839766,c58376db75917444831934963fa75b4b57f08818,21,3,2,9708,,,0,"Isolate PCI tracker unit tests

During the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed
that the unit test cases of PciTracker._set_hvdev are changing and
leaking global state leading to unstable tests.

To reproduce on master, duplicate the
test_set_hvdev_remove_tree_maintained_with_allocations test case and run
PciDevTrackerTestCase serially. The duplicated test case will fail with

  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object
  setattr(pci_device, key, db_dev[key])
  KeyError: 'id'

This is caused by the fact that the test data is defined on module
level, both _create_tracker and _set_hvdevs modifies the devices
passed to them, and some test mixes passing db dicts to _set_hvdevs
that expects pci dicts from the hypervisor.

This patch fixes multiple related issues:
* always deepcopy what _create_tracker takes as that list is later
  returned to the PciTracker via a mock and the tracker might modify
  what it got

* ensure that _create_tracker takes db dicts (with id field) while
  _set_hvdevs takes pci dicts in the hypervisor format (without id
  field)

* always deepcopy what is passed to _set_hvdevs as the PciTracker modify
  what it gets.

* normalize when the deepcopy happens to give a safe patter for future
  test cases

Change-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/839766/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,07bbcc92f494f90d70dedad609b1d8079984ac49,bug/1969496,"fake_pci_devs = [fake_pci, fake_pci_1, fake_pci_2] fake_pci_devs_tree = [fake_pci_3, fake_pci_4, fake_pci_5] self.fake_devs = copy.deepcopy(fake_devs) self.fake_devs = copy.deepcopy(fake_db_devs) self._create_tracker(fake_db_devs) fake_pci_devs = [fake_pci, fake_pci_1, fake_pci_2, fake_pci_3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci_3, fake_pci_4, fake_pci_5, fake_new_device] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_v2] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) self.tracker._set_hvdevs(copy.deepcopy([fake_pci])) fake_pci_devs = [fake_pci_3, fake_pci_4] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) def test_aaa(self): self.test_set_hvdev_remove_tree_maintained_with_allocations() all_db_devs = fake_db_devs_tree all_pci_devs = fake_pci_devs_tree self._create_tracker(all_db_devs) self.tracker._set_hvdevs(copy.deepcopy(all_pci_devs)) fake_pci_devs = [dev for dev in all_pci_devs self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs)) fake_pci_3 = dict(fake_pci_1, address='0000:00:00.4') fake_devs_numa = copy.deepcopy(fake_pci_devs) fake_devs_numa.append(fake_pci_3) self.tracker._set_hvdevs(copy.deepcopy(fake_devs_numa)) fake_pci_devs = [fake_pci, fake_pci_2, fake_pci_v3] self.tracker._set_hvdevs(copy.deepcopy(fake_pci_devs))"," self.fake_devs = fake_devs self.fake_devs = fake_db_devs[:] self._create_tracker(fake_db_devs[:]) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_1), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_3)] self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci_3), copy.deepcopy(fake_pci_4), copy.deepcopy(fake_pci_5), copy.deepcopy(fake_new_device)] self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_v2)] self.tracker._set_hvdevs(fake_pci_devs) self.tracker._set_hvdevs([fake_pci]) fake_pci_devs = [copy.deepcopy(fake_pci_3), copy.deepcopy(fake_pci_4)] self.tracker._set_hvdevs(fake_pci_devs) all_devs = fake_db_devs_tree[:] self._create_tracker(all_devs) self.tracker._set_hvdevs(all_devs) fake_pci_devs = [dev for dev in all_devs self.tracker._set_hvdevs(fake_pci_devs) self.tracker._set_hvdevs(fake_pci_devs) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_3)] self.tracker._set_hvdevs(fake_pci_devs) fake_db_dev_3 = dict(fake_db_dev_1, id=4, address='0000:00:00.4') fake_devs_numa = copy.deepcopy(fake_db_devs) fake_devs_numa.append(fake_db_dev_3) self.tracker._set_hvdevs(fake_devs_numa) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2), copy.deepcopy(fake_pci_v3)] self.tracker._set_hvdevs(fake_pci_devs)",33,33
openstack%2Fmetalsmith~stable%2Fyoga~I9f939d115e0c6d167ab437c4420e06b4b211c66b,openstack/metalsmith,stable/yoga,I9f939d115e0c6d167ab437c4420e06b4b211c66b,Add a workaround to fix the CI,MERGED,2022-04-29 11:12:35.000000000,2022-04-29 16:36:44.000000000,2022-04-29 16:35:05.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 11:12:35.000000000', 'files': ['playbooks/integration/initial-setup.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/6b8005a4e1eb0647a11960cd3acdaa69ff56519d', 'message': 'Add a workaround to fix the CI\n\nChange-Id: I9f939d115e0c6d167ab437c4420e06b4b211c66b\n(cherry picked from commit 018a19c1e89d91d0468ca9a59ca4cf011a90a2ab)\n'}]",0,839910,6b8005a4e1eb0647a11960cd3acdaa69ff56519d,7,2,1,24245,,,0,"Add a workaround to fix the CI

Change-Id: I9f939d115e0c6d167ab437c4420e06b4b211c66b
(cherry picked from commit 018a19c1e89d91d0468ca9a59ca4cf011a90a2ab)
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/10/839910/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/integration/initial-setup.yaml'],1,6b8005a4e1eb0647a11960cd3acdaa69ff56519d,gate-stable/yoga," # https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9 - name: Mark the metalsmith as safe for git command: git config --global --add safe.directory ""{{ metalsmith_src_dir }}/metalsmith"" become: true ",,5,0
openstack%2Fneutron~master~Id0ca10e959f47c857e673ec621a18e56835e3440,openstack/neutron,master,Id0ca10e959f47c857e673ec621a18e56835e3440,Update bug triage documentation,MERGED,2022-04-29 07:44:32.000000000,2022-04-29 16:36:43.000000000,2022-04-29 16:34:07.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 07:44:32.000000000', 'files': ['doc/source/contributor/policies/bugs.rst', 'doc/source/contributor/policies/gate-failure-triage.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9b8253db464dd7eee2fb594e5ca69bd169ad8c9', 'message': 'Update bug triage documentation\n\nlogstash.openstack.org is deprecated\nOn os discuss was anounced new service - OpenSearch [1]\n\n1)\nhttp://lists.openstack.org/pipermail/openstack-discuss/2022-April/028346.html\n\nChange-Id: Id0ca10e959f47c857e673ec621a18e56835e3440\n'}]",0,839869,a9b8253db464dd7eee2fb594e5ca69bd169ad8c9,9,3,1,32667,,,0,"Update bug triage documentation

logstash.openstack.org is deprecated
On os discuss was anounced new service - OpenSearch [1]

1)
http://lists.openstack.org/pipermail/openstack-discuss/2022-April/028346.html

Change-Id: Id0ca10e959f47c857e673ec621a18e56835e3440
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/839869/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/policies/bugs.rst', 'doc/source/contributor/policies/gate-failure-triage.rst']",2,a9b8253db464dd7eee2fb594e5ca69bd169ad8c9,doc_update,"* `OpenSearch <https://opensearch.logs.openstack.org/_dashboards/app/discover?security_tenant=global>`_ For checking gate failures with opensearch please see `documentation <https://docs.openstack.org/project-team-guide/testing.html#checking-status-of-other-job-results>`_. The following query will return failures for a specific job: opensearch. 4. On opensearch, search for occurrences of this error message, and try to identify the root cause for the failure","* `logstash <http://logstash.openstack.org/>`_ For checking gate failures with logstash the following query will return failures for a specific job: logstash. 4. On logstash, search for occurrences of this error message, and try to identify the root cause for the failure",8,6
openstack%2Fnova~master~I2a3ddf95b7fe07630855b06e732f8764efb13e91,openstack/nova,master,I2a3ddf95b7fe07630855b06e732f8764efb13e91,VMware: StableMoRefProxy for moref recovery,MERGED,2022-03-05 14:03:31.000000000,2022-04-29 16:36:41.000000000,2022-04-29 16:33:54.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26250}, {'_account_id': 32966}]","[{'number': 1, 'created': '2022-03-05 14:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c56bfbfccb8d18b2dd7e0735a100edca28d55c47', 'message': ""VMware: StableMoRefProxy for moref recovery\n\nThe vmwareapi driver uses Managed-Object references throughout the code\nwith the assumption that they are stable. It is however a database id,\nwhich may change during the runtime of the compute node. e.g. If an\ninstance is unregistered and re-registerd in the vcenter, the moref will\nchange. By wrapping a moref in a proxy object, with an additional method\nto resolve the openstack object to a moref, we can hide those changes\nfrom a caller.\nMoRef implementation with closure - should ease the transition to stable\nmo-refs One simply has to pass the search function as a closure to the\nMoRef intstance, and the very same method will be called when an exception\nis raised for the stored reference.\nStable Volume refs - The connection_info['data'] contains the managed-object\nreference (moref) as well as the uuid of the volume. When the moref become\ninvalid for some reason, we can recover it by searching for the volume-uuid\nas the `config.instanceUuid` attribute of the shadow-vm.\n\nPartial-Bug: #1962771\n\nDepends-On: I4094b6031872bd3b5c871b9a82c7e01280a3352d\nChange-Id: I2a3ddf95b7fe07630855b06e732f8764efb13e91\n""}, {'number': 2, 'created': '2022-03-05 14:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afa05c378caee4b92ab3764f7db602837a6bcb2f', 'message': ""VMware: StableMoRefProxy for moref recovery\n\nThe vmwareapi driver uses Managed-Object references throughout the code\nwith the assumption that they are stable. It is however a database id,\nwhich may change during the runtime of the compute node. e.g. If an\ninstance is unregistered and re-registerd in the vcenter, the moref will\nchange. By wrapping a moref in a proxy object, with an additional method\nto resolve the openstack object to a moref, we can hide those changes\nfrom a caller.\nMoRef implementation with closure - should ease the transition to stable\nmo-refs One simply has to pass the search function as a closure to the\nMoRef intstance, and the very same method will be called when an\nexception is raised for the stored reference.\nStable Volume refs - The connection_info['data'] contains the\nmanaged-object reference (moref) as well as the uuid of the volume.\nWhen the moref become invalid for some reason, we can recover it by\nsearching for the volume-uuid as the `config.instanceUuid` attribute\nof the shadow-vm.\n\nPartial-Bug: #1962771\n\nDepends-On: I4094b6031872bd3b5c871b9a82c7e01280a3352d\nChange-Id: I2a3ddf95b7fe07630855b06e732f8764efb13e91\n""}, {'number': 3, 'created': '2022-03-05 14:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2f09b14a193bf52fb016b540645eb8fc698f826', 'message': ""VMware: StableMoRefProxy for moref recovery\n\nThe vmwareapi driver uses Managed-Object references throughout the code\nwith the assumption that they are stable. It is however a database id,\nwhich may change during the runtime of the compute node. e.g. If an\ninstance is unregistered and re-registerd in the vcenter, the moref will\nchange. By wrapping a moref in a proxy object, with an additional method\nto resolve the openstack object to a moref, we can hide those changes\nfrom a caller.\nMoRef implementation with closure - should ease the transition to stable\nmo-refs One simply has to pass the search function as a closure to the\nMoRef intstance, and the very same method will be called when an\nexception is raised for the stored reference.\nStable Volume refs - The connection_info['data'] contains the\nmanaged-object reference (moref) as well as the uuid of the volume.\nWhen the moref become invalid for some reason, we can recover it by\nsearching for the volume-uuid as the `config.instanceUuid` attribute\nof the shadow-vm.\n\nPartial-Bug: #1962771\n\nDepends-On: I4094b6031872bd3b5c871b9a82c7e01280a3352d\nChange-Id: I2a3ddf95b7fe07630855b06e732f8764efb13e91\n""}, {'number': 4, 'created': '2022-03-07 09:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1d26f1d4f2a1180e4780767591a63479743577a', 'message': ""VMware: StableMoRefProxy for moref recovery\n\nThe vmwareapi driver uses Managed-Object references throughout the code\nwith the assumption that they are stable. It is however a database id,\nwhich may change during the runtime of the compute node. e.g. If an\ninstance is unregistered and re-registerd in the vcenter, the moref will\nchange. By wrapping a moref in a proxy object, with an additional method\nto resolve the openstack object to a moref, we can hide those changes\nfrom a caller.\nMoRef implementation with closure - should ease the transition to stable\nmo-refs One simply has to pass the search function as a closure to the\nMoRef intstance, and the very same method will be called when an\nexception is raised for the stored reference.\nStable Volume refs - The connection_info['data'] contains the\nmanaged-object reference (moref) as well as the uuid of the volume.\nWhen the moref become invalid for some reason, we can recover it by\nsearching for the volume-uuid as the `config.instanceUuid` attribute\nof the shadow-vm.\n\nPartial-Bug: #1962771\n\nDepends-On: I4094b6031872bd3b5c871b9a82c7e01280a3352d\nChange-Id: I2a3ddf95b7fe07630855b06e732f8764efb13e91\n""}, {'number': 5, 'created': '2022-03-10 10:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5baec8e5084222c5f82aece346ddb667af19495', 'message': ""VMware: StableMoRefProxy for moref recovery\n\nThe vmwareapi driver uses Managed-Object references throughout the code\nwith the assumption that they are stable. It is however a database id,\nwhich may change during the runtime of the compute node. e.g. If an\ninstance is unregistered and re-registerd in the vcenter, the moref will\nchange. By wrapping a moref in a proxy object, with an additional method\nto resolve the openstack object to a moref, we can hide those changes\nfrom a caller.\n\nMoRef implementation with closure - should ease the transition to stable\nmo-refs One simply has to pass the search function as a closure to the\nMoRef intstance, and the very same method will be called when an\nexception is raised for the stored reference.\n\nStable Volume refs - The connection_info['data'] contains the\nmanaged-object reference (moref) as well as the uuid of the volume.\nWhen the moref become invalid for some reason, we can recover it by\nsearching for the volume-uuid as the `config.instanceUuid` attribute\nof the shadow-vm.\n\nStable VM Ref - By encapsulating all the parameters for searching for\nthe vm-ref again, we can move the retry logic to the session object,\nwhere we can try to recover the vm-ref should it result in a\nManagedObjectNotFound exception.\n\nUse refs as index for fakedb -  It was previously using the object-id\nto lookup an object, meaning that you couldn't pass a newly created\nManaged-object-reference like you could over the vmware-api. Now the\nlookup happens over the ref-id string, and in turn some functions\nwere refactored to take that into account.\n\nPartial-Bug: #1962771\n\nDepends-On: I4094b6031872bd3b5c871b9a82c7e01280a3352d\nChange-Id: I2a3ddf95b7fe07630855b06e732f8764efb13e91\n""}, {'number': 6, 'created': '2022-03-15 13:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7eb5a5e8a6d5e945099aa3f375d3bc17b0034272', 'message': ""VMware: StableMoRefProxy for moref recovery\n\nThe vmwareapi driver uses Managed-Object references throughout the code\nwith the assumption that they are stable. It is however a database id,\nwhich may change during the runtime of the compute node. e.g. If an\ninstance is unregistered and re-registerd in the vcenter, the moref will\nchange. By wrapping a moref in a proxy object, with an additional method\nto resolve the openstack object to a moref, we can hide those changes\nfrom a caller.\n\nMoRef implementation with closure - should ease the transition to stable\nmo-refs One simply has to pass the search function as a closure to the\nMoRef intstance, and the very same method will be called when an\nexception is raised for the stored reference.\n\nStable Volume refs - The connection_info['data'] contains the\nmanaged-object reference (moref) as well as the uuid of the volume.\nWhen the moref become invalid for some reason, we can recover it by\nsearching for the volume-uuid as the `config.instanceUuid` attribute\nof the shadow-vm.\n\nStable VM Ref - By encapsulating all the parameters for searching for\nthe vm-ref again, we can move the retry logic to the session object,\nwhere we can try to recover the vm-ref should it result in a\nManagedObjectNotFound exception.\n\nUse refs as index for fakedb -  It was previously using the object-id\nto lookup an object, meaning that you couldn't pass a newly created\nManaged-object-reference like you could over the vmware-api. Now the\nlookup happens over the ref-id string, and in turn some functions\nwere refactored to take that into account.\n\nPartial-Bug: #1962771\n\nDepends-On: I4094b6031872bd3b5c871b9a82c7e01280a3352d\nChange-Id: I2a3ddf95b7fe07630855b06e732f8764efb13e91\n""}, {'number': 7, 'created': '2022-03-15 13:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5486d2cb904234c56698e0f003854100273172ad', 'message': ""VMware: StableMoRefProxy for moref recovery\n\nThe vmwareapi driver uses Managed-Object references throughout the code\nwith the assumption that they are stable. It is however a database id,\nwhich may change during the runtime of the compute node. e.g. If an\ninstance is unregistered and re-registerd in the vcenter, the moref will\nchange. By wrapping a moref in a proxy object, with an additional method\nto resolve the openstack object to a moref, we can hide those changes\nfrom a caller.\n\nMoRef implementation with closure - should ease the transition to stable\nmo-refs One simply has to pass the search function as a closure to the\nMoRef intstance, and the very same method will be called when an\nexception is raised for the stored reference.\n\nStable Volume refs - The connection_info['data'] contains the\nmanaged-object reference (moref) as well as the uuid of the volume.\nWhen the moref become invalid for some reason, we can recover it by\nsearching for the volume-uuid as the `config.instanceUuid` attribute\nof the shadow-vm.\n\nStable VM Ref - By encapsulating all the parameters for searching for\nthe vm-ref again, we can move the retry logic to the session object,\nwhere we can try to recover the vm-ref should it result in a\nManagedObjectNotFound exception.\n\nUse refs as index for fakedb -  It was previously using the object-id\nto lookup an object, meaning that you couldn't pass a newly created\nManaged-object-reference like you could over the vmware-api. Now the\nlookup happens over the ref-id string, and in turn some functions\nwere refactored to take that into account.\n\nPartial-Bug: #1962771\n\nDepends-On: I4094b6031872bd3b5c871b9a82c7e01280a3352d\nChange-Id: I2a3ddf95b7fe07630855b06e732f8764efb13e91\n""}, {'number': 8, 'created': '2022-04-06 11:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bca9196a686af020b9a93cb4b7f980fb4572c20', 'message': ""VMware: StableMoRefProxy for moref recovery\n\nThe vmwareapi driver uses Managed-Object references throughout the code\nwith the assumption that they are stable. It is however a database id,\nwhich may change during the runtime of the compute node. e.g. If an\ninstance is unregistered and re-registerd in the vcenter, the moref will\nchange. By wrapping a moref in a proxy object, with an additional method\nto resolve the openstack object to a moref, we can hide those changes\nfrom a caller.\n\nMoRef implementation with closure - should ease the transition to stable\nmo-refs One simply has to pass the search function as a closure to the\nMoRef intstance, and the very same method will be called when an\nexception is raised for the stored reference.\n\nStable Volume refs - The connection_info['data'] contains the\nmanaged-object reference (moref) as well as the uuid of the volume.\nWhen the moref become invalid for some reason, we can recover it by\nsearching for the volume-uuid as the `config.instanceUuid` attribute\nof the shadow-vm.\n\nStable VM Ref - By encapsulating all the parameters for searching for\nthe vm-ref again, we can move the retry logic to the session object,\nwhere we can try to recover the vm-ref should it result in a\nManagedObjectNotFound exception.\n\nUse refs as index for fakedb -  It was previously using the object-id\nto lookup an object, meaning that you couldn't pass a newly created\nManaged-object-reference like you could over the vmware-api. Now the\nlookup happens over the ref-id string, and in turn some functions\nwere refactored to take that into account.\n\nPartial-Bug: #1962771\n\nDepends-On: I4094b6031872bd3b5c871b9a82c7e01280a3352d\nChange-Id: I2a3ddf95b7fe07630855b06e732f8764efb13e91\n""}, {'number': 9, 'created': '2022-04-23 13:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d69c4db6f53585004a3ab9fd3726ee87abf95988', 'message': ""VMware: StableMoRefProxy for moref recovery\n\nThe vmwareapi driver uses Managed-Object references throughout the code\nwith the assumption that they are stable. It is however a database id,\nwhich may change during the runtime of the compute node. e.g. If an\ninstance is unregistered and re-registerd in the vcenter, the moref will\nchange. By wrapping a moref in a proxy object, with an additional method\nto resolve the openstack object to a moref, we can hide those changes\nfrom a caller.\n\nMoRef implementation with closure - should ease the transition to stable\nmo-refs One simply has to pass the search function as a closure to the\nMoRef intstance, and the very same method will be called when an\nexception is raised for the stored reference.\n\nStable Volume refs - The connection_info['data'] contains the\nmanaged-object reference (moref) as well as the uuid of the volume.\nWhen the moref become invalid for some reason, we can recover it by\nsearching for the volume-uuid as the `config.instanceUuid` attribute\nof the shadow-vm.\n\nStable VM Ref - By encapsulating all the parameters for searching for\nthe vm-ref again, we can move the retry logic to the session object,\nwhere we can try to recover the vm-ref should it result in a\nManagedObjectNotFound exception.\n\nUse refs as index for fakedb -  It was previously using the object-id\nto lookup an object, meaning that you couldn't pass a newly created\nManaged-object-reference like you could over the vmware-api. Now the\nlookup happens over the ref-id string, and in turn some functions\nwere refactored to take that into account.\n\nPartial-Bug: #1962771\n\nDepends-On: I4094b6031872bd3b5c871b9a82c7e01280a3352d\nChange-Id: I2a3ddf95b7fe07630855b06e732f8764efb13e91\n""}, {'number': 10, 'created': '2022-04-29 08:14:53.000000000', 'files': ['nova/virt/vmwareapi/session.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_vim_util.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_session.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/56055ede03fff633020e0f34fa4da5c8457a89c6', 'message': ""VMware: StableMoRefProxy for moref recovery\n\nThe vmwareapi driver uses Managed-Object references throughout the code\nwith the assumption that they are stable. It is however a database id,\nwhich may change during the runtime of the compute node. e.g. If an\ninstance is unregistered and re-registerd in the vcenter, the moref will\nchange. By wrapping a moref in a proxy object, with an additional method\nto resolve the openstack object to a moref, we can hide those changes\nfrom a caller.\n\nMoRef implementation with closure - should ease the transition to stable\nmo-refs One simply has to pass the search function as a closure to the\nMoRef instance, and the very same method will be called when an\nexception is raised for the stored reference.\n\nStable Volume refs - The connection_info['data'] contains the\nmanaged-object reference (moref) as well as the uuid of the volume.\nWhen the moref become invalid for some reason, we can recover it by\nsearching for the volume-uuid as the `config.instanceUuid` attribute\nof the shadow-vm.\n\nStable VM Ref - By encapsulating all the parameters for searching for\nthe vm-ref again, we can move the retry logic to the session object,\nwhere we can try to recover the vm-ref should it result in a\nManagedObjectNotFound exception.\n\nUse refs as index for fakedb -  It was previously using the object-id\nto lookup an object, meaning that you couldn't pass a newly created\nManaged-object-reference like you could over the vmware-api. Now the\nlookup happens over the ref-id string, and in turn some functions\nwere refactored to take that into account.\n\nPartial-Bug: #1962771\n\nChange-Id: I2a3ddf95b7fe07630855b06e732f8764efb13e91\n""}]",42,832164,56055ede03fff633020e0f34fa4da5c8457a89c6,67,5,10,32919,,,0,"VMware: StableMoRefProxy for moref recovery

The vmwareapi driver uses Managed-Object references throughout the code
with the assumption that they are stable. It is however a database id,
which may change during the runtime of the compute node. e.g. If an
instance is unregistered and re-registerd in the vcenter, the moref will
change. By wrapping a moref in a proxy object, with an additional method
to resolve the openstack object to a moref, we can hide those changes
from a caller.

MoRef implementation with closure - should ease the transition to stable
mo-refs One simply has to pass the search function as a closure to the
MoRef instance, and the very same method will be called when an
exception is raised for the stored reference.

Stable Volume refs - The connection_info['data'] contains the
managed-object reference (moref) as well as the uuid of the volume.
When the moref become invalid for some reason, we can recover it by
searching for the volume-uuid as the `config.instanceUuid` attribute
of the shadow-vm.

Stable VM Ref - By encapsulating all the parameters for searching for
the vm-ref again, we can move the retry logic to the session object,
where we can try to recover the vm-ref should it result in a
ManagedObjectNotFound exception.

Use refs as index for fakedb -  It was previously using the object-id
to lookup an object, meaning that you couldn't pass a newly created
Managed-object-reference like you could over the vmware-api. Now the
lookup happens over the ref-id string, and in turn some functions
were refactored to take that into account.

Partial-Bug: #1962771

Change-Id: I2a3ddf95b7fe07630855b06e732f8764efb13e91
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/832164/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/session.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_session.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py']",5,c56bfbfccb8d18b2dd7e0735a100edca28d55c47,bug/1962771, get_volume_ref.assert_called_once_with(connection_info['data']) get_volume_ref.assert_called_once_with(connection_info['data']) get_volume_ref.assert_called_once_with(connection_info['data']) get_volume_ref.assert_called_once_with(connection_info['data']), get_volume_ref.assert_called_once_with( connection_info['data']['volume']) get_volume_ref.assert_called_once_with( connection_info['data']['volume']) get_volume_ref.assert_called_once_with( connection_info['data']['volume']) get_volume_ref.assert_called_once_with( connection_info['data']['volume']),256,19
openstack%2Frequirements~stable%2Fxena~Ie9eb2de0efed8576c49398cef5b1344859876219,openstack/requirements,stable/xena,Ie9eb2de0efed8576c49398cef5b1344859876219,update constraint for horizon to new release 20.1.2,MERGED,2022-04-29 11:49:19.000000000,2022-04-29 16:26:29.000000000,2022-04-29 16:26:29.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-29 11:49:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4b364534b1405ec4be76e79729ccb0eb5bc8f3e4', 'message': 'update constraint for horizon to new release 20.1.2\n\nmeta: version: 20.1.2\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Tobias Urdin <tobias.urdin@binero.se>\nmeta: release:Commit: Tobias Urdin <tobias.urdin@binero.se>\nmeta: release:Change-Id: Ibb821d6b2a44861ff15bff65bcbb91b0b0331565\nmeta: release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ie9eb2de0efed8576c49398cef5b1344859876219\n'}]",0,839908,4b364534b1405ec4be76e79729ccb0eb5bc8f3e4,8,3,1,11131,,,0,"update constraint for horizon to new release 20.1.2

meta: version: 20.1.2
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Tobias Urdin <tobias.urdin@binero.se>
meta: release:Commit: Tobias Urdin <tobias.urdin@binero.se>
meta: release:Change-Id: Ibb821d6b2a44861ff15bff65bcbb91b0b0331565
meta: release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ie9eb2de0efed8576c49398cef5b1344859876219
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/839908/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4b364534b1405ec4be76e79729ccb0eb5bc8f3e4,new-release,horizon===20.1.2,horizon===20.1.1,1,1
openstack%2Fcharm-guide~master~I9e0f47840d7e097e4d765be00a55945c904a2058,openstack/charm-guide,master,I9e0f47840d7e097e4d765be00a55945c904a2058,Add instructions for new cinder subordinate charm,MERGED,2021-11-11 08:30:32.000000000,2022-04-29 16:22:01.000000000,2022-04-29 16:20:21.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-11-11 08:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9dd917aaf3360feb3463030738769df693605290', 'message': 'Add new document about making a new Cinder storage subordinate\n\nChange-Id: I9e0f47840d7e097e4d765be00a55945c904a2058\n'}, {'number': 2, 'created': '2021-11-11 09:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b60e1542c11ceb18516842dfb33bc35edd05c208', 'message': 'Add new document about making a new Cinder storage subordinate\n\nChange-Id: I9e0f47840d7e097e4d765be00a55945c904a2058\n'}, {'number': 3, 'created': '2021-12-01 16:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/52f4ac36d06729040066df1795b6e272a9bbfdfb', 'message': 'Add new document about making a new Cinder storage subordinate\n\nChange-Id: I9e0f47840d7e097e4d765be00a55945c904a2058\n'}, {'number': 4, 'created': '2021-12-01 18:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5e3fb0b5a6edd77041234eff32cb3aa2bde6e0f4', 'message': 'Add new document about making a new Cinder storage subordinate\n\nChange-Id: I9e0f47840d7e097e4d765be00a55945c904a2058\n'}, {'number': 5, 'created': '2022-04-12 10:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/337b526ba50f4abc3317c65febb638a790d45d24', 'message': 'Add new document about making a new Cinder storage subordinate\n\nChange-Id: I9e0f47840d7e097e4d765be00a55945c904a2058\n'}, {'number': 6, 'created': '2022-04-12 22:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/69ba075aa0984846a0238a81ea3f04a5c1f3caca', 'message': 'Add instructions for new cinder subordinate charm\n\nAdd instructions for creating a new cinder subordinate charm. This is\nmeant to help users walk through the process of creating a new cinder\nsubordinate charm for enabling 3rd party storage.\n\nChange-Id: I9e0f47840d7e097e4d765be00a55945c904a2058\n'}, {'number': 7, 'created': '2022-04-12 22:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7401a8dbda643f92aac79d0a77472cf0207f1d37', 'message': 'Add instructions for new cinder subordinate charm\n\nAdd instructions for creating a new cinder subordinate charm. This is\nmeant to help users walk through the process of creating a new cinder\nsubordinate charm for enabling 3rd party storage.\n\nChange-Id: I9e0f47840d7e097e4d765be00a55945c904a2058\n'}, {'number': 8, 'created': '2022-04-13 02:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2d95e3d197b7e40a169dfffc5a53d67908d700c8', 'message': 'Add instructions for new cinder subordinate charm\n\nAdd instructions for creating a new cinder subordinate charm. This is\nmeant to help users walk through the process of creating a new cinder\nsubordinate charm for enabling 3rd party storage.\n\nChange-Id: I9e0f47840d7e097e4d765be00a55945c904a2058\n'}, {'number': 9, 'created': '2022-04-29 15:59:35.000000000', 'files': ['doc/source/community/software-contrib/index.rst', 'doc/source/community/software-contrib/new-cinder-driver-charm.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5134315da7b7448d6bfd3863f0a0b7255b12b9be', 'message': 'Add instructions for new cinder subordinate charm\n\nAdd instructions for creating a new cinder subordinate charm. This is\nmeant to help users walk through the process of creating a new cinder\nsubordinate charm for enabling 3rd party storage.\n\nChange-Id: I9e0f47840d7e097e4d765be00a55945c904a2058\n'}]",100,817520,5134315da7b7448d6bfd3863f0a0b7255b12b9be,36,3,9,20634,,,0,"Add instructions for new cinder subordinate charm

Add instructions for creating a new cinder subordinate charm. This is
meant to help users walk through the process of creating a new cinder
subordinate charm for enabling 3rd party storage.

Change-Id: I9e0f47840d7e097e4d765be00a55945c904a2058
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/20/817520/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/community/software-contrib.rst', 'doc/source/reference/new-cinder-driver-charm.rst']",2,9dd917aaf3360feb3463030738769df693605290,cinder-subordinate-guide,".. _new_cinder_driver_charm: =================================== Develop Cinder Storage Driver charm =================================== The example below will walk through the creation of a basic Cinder storage subordinate charm for the Openstack Cinder `NFS <https://docs.openstack.org/cinder/xena/configuration/block-storage/drivers/nfs-volume-driver.html>`__ backend. The charm will use existing `operator framework helpers <https://opendev.org/openstack/charm-ops-openstack>`__. Once the charm is written it will be composed using `charmcraft <https://github.com/canonical/charmcraft/>`__. Before writing a new charm the charm author needs to have a clear idea of what files and servicesthe charm is going to manage and what dependencies will be needed for it to perform it's designated task. The Cinder NFS driver requires an NFS host and export. Create the skeleton charm ========================= Prerequists ~~~~~~~~~~~ The charmcraft tool is needed to build and publish the new charm, and a virtualenv is used for charm creation. .. code:: bash sudo snap install charmcraft sudo apt install python3.9-venv tox venv/bin/pip3 install cookiecutter Create Charm ~~~~~~~~~~~~ The OpenStack Charms team has prepared a cookiecutter template to help create a new Cinder driver charm. Running the cookiecutter will prompt the user to answer some questions about the charm and does include defaults. .. code:: bash venv/bin/cookiecutter https://github.com/openstack-charmers/cinder-storage-backend-template driver_name [MyDriver]: NFS driver_name_lc [nfs]: release [queens]: xena additional_package_name []: Select driver_install_method: 1 - None 2 - PPA 3 - Juju Resource DEB Choose from 1, 2, 3 [1]: 1 Initialized empty Git repository in /home/chris/code/canonical/cinder-nfs/.git/ [main (root-commit) 88a54ad] Initial Cookiecutter Commit. 18 files changed, 573 insertions(+) create mode 100644 .gitignore create mode 100644 .stestr.conf create mode 100644 README.md create mode 100644 build-requirements.txt create mode 100644 config.yaml create mode 100644 metadata.yaml create mode 100755 pip.sh create mode 100644 requirements.txt create mode 100755 src/charm.py create mode 100644 src/test-requirements.txt create mode 100644 src/tox.ini create mode 100644 test-requirements.txt create mode 100644 tests/bundles/bionic-xena.yaml create mode 100644 tests/tests.yaml create mode 100644 tests/tests_cinder_nfs.py create mode 100644 tox.ini create mode 100644 unit_tests/__init__.py create mode 100644 unit_tests/test_cinder_nfs_charm.py It's important to verify that the versions match what you expect. For example, in the above output we can see that ``tests/bundles/bionic-xena.yaml`` was generated but we'd expect ``tests/bundles/focal-xena.yaml`` so we'll need to update that file name as well as it's content. .. code:: bash mv tests/bundles/bionic-xena.yaml tests/bundles/focal-xena.yaml sed -i 's/bionic/focal/g' tests/bundles/focal-xena.yaml .. _`build_storage_charm`: Build Storage Charm =================== The charm now needs to be built to pull down all the dependencies and rolled into the built charm which can be deployed. .. code:: bash cd ~/cinder-nfs tox -e build Deploy Charm ============ .. code:: bash juju deploy cs:cinder juju deploy ./cinder-nfs.charm juju add-relationcinder cinder-nfs ``juju status`` will now show both charms deployed. The ``cinder`` status will show some missing relations but that's not an issue for this demonstration. Updating cinder.conf ==================== During the initial install of this charm, the standard ops_openstack.core default installer will install the packages specified in the class CharmName.PACKAGES, but it will not do any other configuration. In order to update cinder.conf in the cinder principal charm, this NFS subordinate charm will need to access the ``storage-backend`` relation, which will allow it to send configuration information to the cinder principal charm for inclusion in cinder.conf on the co-located machine. In the generated charm, we can see that there's already the minimal code to send data over the storage-backend relation in **src/charm.py**: .. code:: python3 def _render_config(self, config, app_name): # Generate the JSON with the updated configuration. volume_driver = '' options = [ ('volume_driver', volume_driver), ] return json.dumps({ ""cinder"": { ""/etc/cinder/cinder.confg"": { ""sections"": {app_name: options} } } }) def _set_data(self, data, config, app_name): # Inform another charm of the backend name and our configuration. data['backend-name'] = config['volume-backend-name'] or app_name data['subordinate_configuration'] = self._render_config( config, app_name) def _on_config(self, event): config = dict(self.framework.model.config) rel = self.framework.model.relations.get('storage-backend')[0] app_name = self.framework.model.app.name for unit in self.framework.model.get_relation('storage-backend').units: self._set_data(rel.data[self.unit], config, app_name) self.unit.status = ActiveStatus('Unit is ready') def _on_storage_backend(self, event): self._set_data( event.relation.data[self.unit], self.framework.model.config, self.framework.model.app.name) What this is doing is sending some structured data over the relation that the Cinder charm knows how to convert into config in the cinder.conf. To support the NFS backend, we'll need to update the ``_render_config`` function a bit. .. code:: python3 def _render_config(self, config, app_name): # Generate the JSON with the updated configuration. volume_driver = 'cinder.volume.drivers.nfs.NfsDriver' options = [ ('volume_driver', volume_driver), ('nfs_shares_config','/etc/cinder/nfsshares'), ] return json.dumps({ ""cinder"": { ""/etc/cinder/cinder.confg"": { ""sections"": {app_name: options} } } }) This tells the charm to send that configuration to the principle where the **storage-backend** relation changes. Then repeat the `build_storage_charm`_ steps. Deploy Update ============= The freshly built charm which contains the update now needs to be deployed to the environment. .. code:: bash juju upgrade-charm --path ./cinder-nfs.charm Check Update ============ We can confirm that the update has been applied by checking for the driver in the cinder.conf file: .. code:: bash juju run --unit cinder/0 ""grep NfsDriver /etc/cinder/cinder.conf"" volume_driver = cinder.volume.drivers.nfs.NfsDriver ",,209,0
openstack%2Fneutron-lib~master~Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21,openstack/neutron-lib,master,Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21,"Refactor session ""is_active"" handling for sqlalchemy-20",MERGED,2022-02-10 16:18:39.000000000,2022-04-29 16:04:47.000000000,2022-04-29 16:02:51.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-02-10 16:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bc84a297464d62e0182236fc28973e7ed4995e57', 'message': '[DNM] Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\nTODO: set a LP/bug, Story or BP\nTopic: sqlalchemy-20\n'}, {'number': 2, 'created': '2022-02-15 11:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/005ff0e24124c88039742460d10b8a0972de2a8c', 'message': '[DNM] Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/828739\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\nTODO: set a LP/bug, Story or BP\nTopic: sqlalchemy-20\n'}, {'number': 3, 'created': '2022-02-17 18:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1c11da616e49bc0d06a5d5053fe4578a16cf170b', 'message': '[DNM] Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/828739\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\nTODO: set a LP/bug, Story or BP\nTopic: sqlalchemy-20\n'}, {'number': 4, 'created': '2022-02-23 17:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/42e3aa55209a4b6d1c34683aa924edf4da8fd2c3', 'message': '[DNM] Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/828739\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\nTODO: set a LP/bug, Story or BP\nTopic: sqlalchemy-20\n'}, {'number': 5, 'created': '2022-02-24 09:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/37bd7fb0ff6fff51f5c2c1fdf998e2e2da41f902', 'message': 'Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/828739\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 6, 'created': '2022-02-24 09:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f0cf6da9d283712b208de15f8cbaf97df6816b73', 'message': 'Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/828739\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 7, 'created': '2022-03-09 16:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f64e76d426df5415ac2b7ff8d8def1f6f49caaa5', 'message': '[WIP][DNM] Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/828739\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 8, 'created': '2022-03-10 11:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4ee2bc8370e6664896f02bcc7277dee0ec6c867e', 'message': '[WIP][DNM] Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/828739\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 9, 'created': '2022-03-10 14:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7a886b7f647ee2503ae09dc1866a32068dc8f696', 'message': '[WIP][DNM] Refactor session ""is_active"" handling for sqlalchemy-20\n\n---------------------------------------------------------------\n[1] TESTING WITHOUT SESSION ROLLBACK\n---------------------------------------------------------------\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/828739\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 10, 'created': '2022-03-25 17:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1ef981ac7e17600970d837bdcd6bda67cb1f6663', 'message': '[WIP][DNM] Refactor session ""is_active"" handling for sqlalchemy-20\n\n---------------------------------------------------------------\n[1] TESTING WITHOUT SESSION ROLLBACK\n---------------------------------------------------------------\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/833247\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 11, 'created': '2022-03-25 17:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8e1c8bc081cba35cd35d74bac79ab94b2b335d2f', 'message': '[WIP][DNM] Refactor session ""is_active"" handling for sqlalchemy-20\n\n---------------------------------------------------------------\n[1] TESTING WITHOUT SESSION ROLLBACK\n---------------------------------------------------------------\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/833247\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 12, 'created': '2022-04-08 14:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8fc5aceb1f75c028d06f6c8f45dca9277e7ea594', 'message': 'Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/833247\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 13, 'created': '2022-04-08 14:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/73a4d4bc6826d07fcd790034eb9e236119ad9c5b', 'message': 'Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/833247\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 14, 'created': '2022-04-08 16:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/be6a10945add8d2b807e52e505c864972f8dd256', 'message': 'Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/833247\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 15, 'created': '2022-04-08 16:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/48e2879d1f4ad8ff842966fe4be2797e2f7b5a02', 'message': 'Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/833247\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 16, 'created': '2022-04-11 16:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3cc4f36416e84cfa95b7e7add8fdea52866994f9', 'message': 'Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/833247\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 17, 'created': '2022-04-12 07:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/627d7d9569024fe25931e6f52b7eae1ef4a8dc92', 'message': 'Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/833247\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 18, 'created': '2022-04-12 13:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9bdc5198dc0a377ed9a1153697f7b2a505a9e189', 'message': 'Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/833247\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 19, 'created': '2022-04-12 16:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/851d0faae7464040208cdef5d6668cc3939fcb4f', 'message': 'Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/833247\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}, {'number': 20, 'created': '2022-04-13 09:35:13.000000000', 'files': ['releasenotes/notes/sqlalchemy-2.0-c794885886a62fa6.yaml', 'neutron_lib/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ef1e8abb89141db39e62eaa1cbdb73aca1ceb647', 'message': 'Refactor session ""is_active"" handling for sqlalchemy-20\n\nSince sqlalchemy 1.4, ""session.autocommit"" is False by default; in\nsqlalchemy 2.0 this will be the only value accepted.\n\nThe ``_orm.Session`` is considered active when [1]:\n- there is a transaction and this transaction is active\n- there is no transaction [2], the class ``_orm.Session`` will\n  autobegin when it is first used.\n\nThe second one breaks the way Neutron considers a session is active:\nonly when a transaction is in place, Neutron considers a session is\nactive.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/833247\n\n[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950\n[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932\n\nCloses-Bug: #1962153\nTopic: sqlalchemy-20\n\nChange-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21\n'}]",54,828738,ef1e8abb89141db39e62eaa1cbdb73aca1ceb647,106,7,20,16688,,,0,"Refactor session ""is_active"" handling for sqlalchemy-20

Since sqlalchemy 1.4, ""session.autocommit"" is False by default; in
sqlalchemy 2.0 this will be the only value accepted.

The ``_orm.Session`` is considered active when [1]:
- there is a transaction and this transaction is active
- there is no transaction [2], the class ``_orm.Session`` will
  autobegin when it is first used.

The second one breaks the way Neutron considers a session is active:
only when a transaction is in place, Neutron considers a session is
active.

Depends-On: https://review.opendev.org/c/openstack/neutron/+/833247

[1]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3918-L3950
[2]https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4/lib/sqlalchemy/orm/session.py#L3930-L3932

Closes-Bug: #1962153
Topic: sqlalchemy-20

Change-Id: Iabaee4e556afb3dc75a82d99dc4a597fe4d7dd21
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/38/828738/14 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/api.py'],1,bc84a297464d62e0182236fc28973e7ed4995e57,bug/1962153," _CTX_MANAGER.configure(sqlite_fk=True, flush_on_subtransaction=True, __autocommit=False) #_CTX_MANAGER.configure(sqlite_fk=True, flush_on_subtransaction=True) def is_session_active(session): return (session._transaction is not None and session._transaction.is_active) method = (f if (context.session and is_session_active(context.session))"," _CTX_MANAGER.configure(sqlite_fk=True, flush_on_subtransaction=True) method = (f if (context.session and context.session.is_active)",9,2
openstack%2Fkeystoneauth~master~I3c448bb1bbeac48503fc895f8cabb9bb6b599696,openstack/keystoneauth,master,I3c448bb1bbeac48503fc895f8cabb9bb6b599696,Switch to wallaby job template,ABANDONED,2020-09-21 18:13:22.000000000,2022-04-29 15:55:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-21 18:13:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b60c04e6910654aede50af0dc931f2e7763d4440', 'message': 'Switch to wallaby job template\n\nRun the expected wallaby jobs in gate.\n\nChange-Id: I3c448bb1bbeac48503fc895f8cabb9bb6b599696\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,753114,b60c04e6910654aede50af0dc931f2e7763d4440,5,1,1,11904,,,0,"Switch to wallaby job template

Run the expected wallaby jobs in gate.

Change-Id: I3c448bb1bbeac48503fc895f8cabb9bb6b599696
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/14/753114/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b60c04e6910654aede50af0dc931f2e7763d4440,wallaby, - openstack-python3-wallaby-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fswift~master~Ie6bae96eee8e32d5e336ef42ad76d7fae9e42a31,openstack/swift,master,Ie6bae96eee8e32d5e336ef42ad76d7fae9e42a31,daemon: Log pid when logging about SIGTERM,ABANDONED,2022-04-28 21:03:45.000000000,2022-04-29 15:49:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 21:03:45.000000000', 'files': ['swift/common/daemon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6c18cd6ebb27811d36f42249405967777afa81f9', 'message': 'daemon: Log pid when logging about SIGTERM\n\nChange-Id: Ie6bae96eee8e32d5e336ef42ad76d7fae9e42a31\n'}]",0,839823,6c18cd6ebb27811d36f42249405967777afa81f9,4,1,1,15343,,,0,"daemon: Log pid when logging about SIGTERM

Change-Id: Ie6bae96eee8e32d5e336ef42ad76d7fae9e42a31
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/839823/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/daemon.py'],1,6c18cd6ebb27811d36f42249405967777afa81f9,," self.logger.notice('SIGTERM received (%s)', os.getpid())", self.logger.notice('SIGTERM received'),1,1
openstack%2Ftripleo-heat-templates~master~I07ceab077f9a900f7e2e35af8acd3e7a337ed01a,openstack/tripleo-heat-templates,master,I07ceab077f9a900f7e2e35af8acd3e7a337ed01a,Define frontend firewall rules separately,MERGED,2022-03-02 15:49:50.000000000,2022-04-29 15:38:00.000000000,2022-04-29 15:38:00.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-02 15:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6b1be27323b5442d2cf04841c28760bfd02b2f0', 'message': 'WIP: Define frontend firewall rules separately\n\nTODO: Compose up frontend_firewall_rules and pass the data to global\n      varibles of ansible\nTODO: Think of a better way to detect whether public tls is enabled\n\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 2, 'created': '2022-03-05 15:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/722d50f3b6aeda1c85c4e186919f09933b6be896', 'message': 'WIP: Define frontend firewall rules separately\n\nTODO: Compose up the following two ansible vars and inject these to\nglobal ansible variables.\n  tripleo_firewall_fronetned_rules\n  tripleo_firewall_ssl_fronetned_rules\n\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 3, 'created': '2022-03-09 14:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd6cb3b705ebc161a3b4aa83d0d435445fabc6d1', 'message': 'WIP: Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\nAlso, firewall rule for ssl endpoints are removed from base firewall\nrules because these ports are used by haproxy and not used by api\nservices.\n\nTODO: Add firewall rules for Ceph services\n\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 4, 'created': '2022-03-10 04:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/389ced5acf1c9ebaafe62856eefbcf0be3a874ba', 'message': 'WIP: Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\nAlso, firewall rule for ssl endpoints are removed from base firewall\nrules because these ports are used by haproxy and not used by api\nservices.\n\nTODO: Add firewall rules for Ceph services\n\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 5, 'created': '2022-03-10 05:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0cce39defac37da728b257704d05d91affa9788', 'message': 'WIP: Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\nAlso, firewall rule for ssl endpoints are removed from base firewall\nrules because these ports are used by haproxy and not used by api\nservices.\n\nTODO: Add firewall rules for Ceph services\n\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 6, 'created': '2022-03-10 05:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d04940dc3505b40e9747498e4713a1f28ea73357', 'message': 'WIP: Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\nAlso, firewall rule for ssl endpoints are removed from base firewall\nrules because these ports are used by haproxy and not used by api\nservices.\n\nTODO: Add firewall rules for Ceph services\n\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 7, 'created': '2022-03-10 14:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ed567df5c972886c91659f9bac1aa300436c2aa', 'message': 'WIP: Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\nAlso, firewall rule for ssl endpoints are removed from base firewall\nrules because these ports are used by haproxy and not used by api\nservices.\n\nTODO: Add firewall rules for Ceph services\n\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 8, 'created': '2022-03-13 11:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afb150fd3134f757855839f9faf8bb15e12eecc1', 'message': 'WIP: Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\nAlso, firewall rule for ssl endpoints are removed from base firewall\nrules because these ports are used by haproxy and not used by api\nservices.\n\nAlso, the adhoc implementation to run firewall configurations first\nis refactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate properly.\n\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 9, 'created': '2022-03-16 14:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92adbd2a327606197dc4e2c1aef532adf333ce56', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 10, 'created': '2022-03-17 00:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cea19569a7e500d207c9a841e66e2ce1cc020e1d', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 11, 'created': '2022-03-17 00:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b192f0cd2579af73b78091879412c028096bd50b', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 12, 'created': '2022-03-17 04:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5537e91e96f6011b088f9f9b86f322dcdf152c6', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 13, 'created': '2022-03-21 23:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d63e95e12798e8dd7020c219f16b18d0dda5eea', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 14, 'created': '2022-04-13 15:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3d2f0e915d2b9315b14b0b3975e78ff46b4a715', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 15, 'created': '2022-04-13 16:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00c8a4bd32216bb839654009affe2ca9ee86a59b', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 16, 'created': '2022-04-14 01:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7f1fdf870efd82b042e9249c5e139a8767780a7', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 17, 'created': '2022-04-27 12:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/391c0909e230077ac47ef6d35df5524ca0743987', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 18, 'created': '2022-04-27 16:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/937af8f19cfbb1d2233734665cb8dee7a1e58bdf', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 19, 'created': '2022-04-27 17:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aecc5d9dc5e862d2d564d80d92dc8894989656ab', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 20, 'created': '2022-04-27 17:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5928f9d6e1e2b41c88304c94aae3b9b408a3745', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 21, 'created': '2022-04-27 17:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/611d18a905b54c591117dae5028886a863bd7e0c', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}, {'number': 22, 'created': '2022-04-28 04:23:41.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/image-serve/image-serve-baremetal-ansible.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'common/services/role.role.j2.yaml', 'tools/yaml-validate.py', 'deployment/cephadm/ceph-rgw.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/cephadm/ceph-mgr.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'overcloud.j2.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3dd02377394c6fab4a556f0c666a04755fa905c', 'message': 'Define frontend firewall rules separately\n\nThis change ensures that firewall rules for haproxy endpoints are\nenabled properly even when haproxy and api services are running in\ndifferent nodes.\n\nWith this change, firewall rule for ssl endpoints are removed from base\nfirewall rules because these ports are used by haproxy and not used by\napi services.\n\nAlso, the adhoc implementation to run firewall configurations first is\nrefactored by the new host_firewall_tasks key. This allows us to\nimplement tasks to configure firewall in the corresponding resource\ntemplate.\n\nCloses-Bug: #1961799\nDepends-on: https://review.opendev.org/831547\nChange-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a\n'}]",32,831549,a3dd02377394c6fab4a556f0c666a04755fa905c,85,7,22,9816,,,0,"Define frontend firewall rules separately

This change ensures that firewall rules for haproxy endpoints are
enabled properly even when haproxy and api services are running in
different nodes.

With this change, firewall rule for ssl endpoints are removed from base
firewall rules because these ports are used by haproxy and not used by
api services.

Also, the adhoc implementation to run firewall configurations first is
refactored by the new host_firewall_tasks key. This allows us to
implement tasks to configure firewall in the corresponding resource
template.

Closes-Bug: #1961799
Depends-on: https://review.opendev.org/831547
Change-Id: I07ceab077f9a900f7e2e35af8acd3e7a337ed01a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/831549/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/aodh/aodh-api-container-puppet.yaml'],1,d6b1be27323b5442d2cf04841c28760bfd02b2f0,bug/1961799," SSLCertificate: default: '' description: > The content of the SSL certificate (without Key) in PEM format. type: string PublicSSLCertificateAutogenerated: default: false description: > Whether the public SSL certificate was autogenerated or not. type: boolean EnablePublicTLS: default: true description: > Whether to enable TLS on the public interface or not. type: booleanconditions: public_tls_enabled: and: - {get_param: EnablePublicTLS} - or: - not: equals: - {get_param: SSLCertificate} - """" - {get_param: PublicSSLCertificateAutogenerated} frontend_firewall_rules: map_merge: - '100 aodh_api_haproxy_frontend': dport: - 8042 - if: - public_tls_enabled - '100 aodh_api_haproxy_frontend_ssl': dport: - 13042",,36,0
openstack%2Fpython-keystoneclient~master~Id5e53feface2836fe0d33651e26b51230773c766,openstack/python-keystoneclient,master,Id5e53feface2836fe0d33651e26b51230773c766,Update master for stable/wallaby,ABANDONED,2021-04-05 06:57:57.000000000,2022-04-29 15:35:40.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 06:57:57.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/95c116a2690e23621c7bf813ea0c0ae6af65a173', 'message': 'Update master for stable/wallaby\n\nChange-Id: Id5e53feface2836fe0d33651e26b51230773c766\n'}]",0,784743,95c116a2690e23621c7bf813ea0c0ae6af65a173,4,2,1,30384,,,0,"Update master for stable/wallaby

Change-Id: Id5e53feface2836fe0d33651e26b51230773c766
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/43/784743/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",3,95c116a2690e23621c7bf813ea0c0ae6af65a173,, wallaby victoria,,14,0
openstack%2Fpython-keystoneclient~master~Idb2fd36a7cf3a867404d86fe9e5dbeef8ef54d7b,openstack/python-keystoneclient,master,Idb2fd36a7cf3a867404d86fe9e5dbeef8ef54d7b,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 08:20:20.000000000,2022-04-29 15:29:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-20 08:20:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/59f055031606923971a4d97dfb968c94ec8d11cd', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Idb2fd36a7cf3a867404d86fe9e5dbeef8ef54d7b\n'}]",0,787151,59f055031606923971a4d97dfb968c94ec8d11cd,3,1,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Idb2fd36a7cf3a867404d86fe9e5dbeef8ef54d7b
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/51/787151/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,59f055031606923971a4d97dfb968c94ec8d11cd,,"envlist = py3,pep8,releasenotes","envlist = py38,pep8,releasenotes",1,1
openstack%2Fcharm-vault~stable%2F1.7~I7b77cd4f57e1770faf92860ee7846bf480efdb9e,openstack/charm-vault,stable/1.7,I7b77cd4f57e1770faf92860ee7846bf480efdb9e,Register previous vip set for deletion.,MERGED,2022-04-28 17:43:02.000000000,2022-04-29 15:18:02.000000000,2022-04-29 14:51:13.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 17:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/40132bbf3eb68cfffcc08eab2d5486e2fd326414', 'message': ""Register previous vip set for deletion.\n\nWhen the vip is changed the ones that are no longer present need to be\nregistered for deletion from pacemaker's configuration. This change\nrelies on hookenv.config.changed() to determine what vip(s) are no\nlonger present in the configuration ask hacluster to remove them.\n\nCloses-Bug: #1952363\nChange-Id: I7b77cd4f57e1770faf92860ee7846bf480efdb9e\n""}, {'number': 2, 'created': '2022-04-29 13:33:46.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'unit_tests/test_utils.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/110188fa22d55708ec692ff8f688266dd37f06cd', 'message': ""Register previous vip set for deletion.\n\nWhen the vip is changed the ones that are no longer present need to be\nregistered for deletion from pacemaker's configuration. This change\nrelies on hookenv.config.changed() to determine what vip(s) are no\nlonger present in the configuration ask hacluster to remove them.\n\nCloses-Bug: #1952363\nChange-Id: I7b77cd4f57e1770faf92860ee7846bf480efdb9e\n(cherry-picked from commit 2b115c8d488f3c634dc79bfa0af0e46c51f02022)\n""}]",1,839802,110188fa22d55708ec692ff8f688266dd37f06cd,12,3,2,20870,,,0,"Register previous vip set for deletion.

When the vip is changed the ones that are no longer present need to be
registered for deletion from pacemaker's configuration. This change
relies on hookenv.config.changed() to determine what vip(s) are no
longer present in the configuration ask hacluster to remove them.

Closes-Bug: #1952363
Change-Id: I7b77cd4f57e1770faf92860ee7846bf480efdb9e
(cherry-picked from commit 2b115c8d488f3c634dc79bfa0af0e46c51f02022)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/02/839802/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'unit_tests/test_utils.py', 'src/reactive/vault_handlers.py']",3,40132bbf3eb68cfffcc08eab2d5486e2fd326414,charm-release-2204," cfg = config() # the `vip` config option has changed and there was a value previously # set, the principle needs to ask hacluster to remove it from # pacemaker's configuration (LP: #1952363). if cfg.changed('vip') and cfg.previous('vip'): old_vips = cfg.previous('vip').split() vips_to_del = set(old_vips) - set(vips) for vip in vips_to_del: log(""Registering %s for deletion"" % vip) hacluster.remove_vip('vault', vip) ",,80,10
openstack%2Fcharm-vault~stable%2F1.7~I2f0093c0ae6949693f2ad1ea4729b690c932b4b1,openstack/charm-vault,stable/1.7,I2f0093c0ae6949693f2ad1ea4729b690c932b4b1,Report 'Missing CA' if certs relation exist but CA not configured,MERGED,2022-04-28 17:43:02.000000000,2022-04-29 15:17:33.000000000,2022-04-29 14:51:11.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 17:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c2e2a06dc6087c7f4fbcbad109c64c19611296cd', 'message': ""Report 'Missing CA' if certs relation exist but CA not configured\n\nIf vault/leader has certificate relationship with other apps but\nroot CA is either not configured or cleared by action 'disable-pki',\nthe status should be set to 'Blocked, Missing CA'\n\nAlso add unit test for checking 'missing-CA' status\n\nCloses-Bug: #1940451\nChange-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1\n""}, {'number': 2, 'created': '2022-04-29 13:33:46.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'test-requirements.txt', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/99623616b3a54a0ddd6e0dba1c32c77070f60293', 'message': ""Report 'Missing CA' if certs relation exist but CA not configured\n\nIf vault/leader has certificate relationship with other apps but\nroot CA is either not configured or cleared by action 'disable-pki',\nthe status should be set to 'Blocked, Missing CA'\n\nAlso add unit test for checking 'missing-CA' status\n\nCloses-Bug: #1940451\nChange-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1\n(cherry picked from commit 5151d01ee266646ceb579edf1092c994d2ecd42c)\n""}]",0,839801,99623616b3a54a0ddd6e0dba1c32c77070f60293,10,3,2,20870,,,0,"Report 'Missing CA' if certs relation exist but CA not configured

If vault/leader has certificate relationship with other apps but
root CA is either not configured or cleared by action 'disable-pki',
the status should be set to 'Blocked, Missing CA'

Also add unit test for checking 'missing-CA' status

Closes-Bug: #1940451
Change-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1
(cherry picked from commit 5151d01ee266646ceb579edf1092c994d2ecd42c)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/01/839801/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'test-requirements.txt', 'src/reactive/vault_handlers.py']",3,c2e2a06dc6087c7f4fbcbad109c64c19611296cd,charm-release-2204," has_certs_relation = is_flag_set('certificates.available') if is_leader and has_certs_relation and not has_ca: status_set('blocked', 'Missing CA cert') return ",,24,0
openstack%2Fcinder~master~I3e0ed4abe7fa83d9999d2f11a1525446a5b605b8,openstack/cinder,master,I3e0ed4abe7fa83d9999d2f11a1525446a5b605b8,Switch from unittest2 compat methods to Python 3.x methods,ABANDONED,2020-07-15 10:19:09.000000000,2022-04-29 15:16:55.000000000,,"[{'_account_id': 9008}, {'_account_id': 10459}, {'_account_id': 12032}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 29705}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-07-15 10:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/21a0eb354a28f33a1647a6eda8196b7f70ff128e', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I3e0ed4abe7fa83d9999d2f11a1525446a5b605b8\n'}, {'number': 2, 'created': '2020-11-30 09:17:53.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_capabilities.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_datastore.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_fc_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa0963c341451f15019812909b4c88c7b37a70b4', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I3e0ed4abe7fa83d9999d2f11a1525446a5b605b8\n'}]",4,741136,fa0963c341451f15019812909b4c88c7b37a70b4,33,10,2,6593,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I3e0ed4abe7fa83d9999d2f11a1525446a5b605b8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/741136/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_capabilities.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_datastore.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_fc_driver.py']",5,21a0eb354a28f33a1647a6eda8196b7f70ff128e,," self.assertCountEqual(term_data, term_ret)"," self.assertItemsEqual(term_data, term_ret)",9,9
openstack%2Fcharm-vault~stable%2F1.7~I13983ccbe14914178c163d4080231dcd98323c9a,openstack/charm-vault,stable/1.7,I13983ccbe14914178c163d4080231dcd98323c9a,Update build.lock for 22.04 cycle,MERGED,2022-04-28 17:43:02.000000000,2022-04-29 15:16:51.000000000,2022-04-29 14:51:19.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 17:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f6ce599858fe63445da5d6ffb2f9fec7885682f9', 'message': 'Update build.lock for 22.04 cycle\n\nChange-Id: I13983ccbe14914178c163d4080231dcd98323c9a\n'}, {'number': 2, 'created': '2022-04-29 10:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ef18666e600dcb0eeca0c258b55dce1cd2997e65', 'message': 'Update build.lock for 22.04 cycle\n\nChange-Id: I13983ccbe14914178c163d4080231dcd98323c9a\n'}, {'number': 3, 'created': '2022-04-29 13:33:46.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c2ccd9a10ee7b50881dabade1c872fe63afff415', 'message': 'Update build.lock for 22.04 cycle\n\nChange-Id: I13983ccbe14914178c163d4080231dcd98323c9a\n'}]",0,839805,c2ccd9a10ee7b50881dabade1c872fe63afff415,13,3,3,20870,,,0,"Update build.lock for 22.04 cycle

Change-Id: I13983ccbe14914178c163d4080231dcd98323c9a
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/05/839805/2 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,f6ce599858fe63445da5d6ffb2f9fec7885682f9,charm-release-2204," ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" ""commit"": ""c5e9b6acd1098e946353322b1468dec30e60c6f0"" ""branch"": ""refs/heads/stable/1.7"", ""commit"": ""refs/heads/stable/1.7"" ""url"": ""https://github.com/canonical/nrpe-external-master-interface"", ""commit"": ""95d744d1dbc4d86fb0462283c9371619bf5bbc24"" ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" ""commit"": ""2b714e90b1b8845ce7390bb1dad5a56a65437907"" ""package"": ""pbr"", ""version"": ""5.8.1"" ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""version"": ""22.0.4"" ""package"": ""marshmallow"", ""version"": ""3.15.0"" ""package"": ""packaging"", ""version"": ""21.3"" ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""95dea8db16210d292b2ebd781129ee9ac9d5dfbc"", ""vcs"": ""git"" ""package"": ""ops"", ""version"": ""1.4.0"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""package"": ""flit_core"", ""version"": ""3.7.1"" ""package"": ""MarkupSafe"", ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""certifi"", ""vcs"": null, ""version"": ""2021.10.8"" ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" ""package"": ""setuptools_scm"", ""version"": ""6.4.2"" ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""version"": ""1.26.9"""," ""commit"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"" ""commit"": ""d935a04074740e14feb0b73d485952b2546ae04c"" ""branch"": ""refs/heads/21.10-updates\nrefs/heads/master"", ""commit"": ""refs/heads/21.10-updates\nrefs/heads/master"" ""url"": ""https://github.com/cmars/nrpe-external-master-interface"", ""commit"": ""2e0e1fdea6d83b55078200aacb537d60013ec5bc"" ""commit"": ""06675c43c9f48ffa98b2abf2ddca137f8d18f31c"" ""commit"": ""8125a7baecccf9b0869e515b92300dde3a86f31b"" ""package"": ""marshmallow"", ""version"": ""3.13.0"" ""package"": ""Jinja2"", ""version"": ""2.10.1"" ""package"": ""ops"", ""version"": ""1.1.0"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.8.0"" ""package"": ""setuptools"", ""version"": ""41.6.0"" ""package"": ""pip"", ""vcs"": null, ""version"": ""18.1"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.6.0"" ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.2"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""version"": ""1.17.0"" ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""1.1.1"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""branch"": ""refs/heads/stable/21.10"", ""version"": ""10627ee5f991c268f174d6d100e218a0e1867af1"", ""package"": ""certifi"", ""version"": ""2021.10.8"" ""package"": ""charms.reactive"", ""version"": ""1.4.1"" ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/21.10"", ""version"": ""26efcd0da51d580f68ead2ca13c38f58766f8a14"", ""vcs"": ""git"" ""package"": ""wheel"", ""version"": ""0.33.6"" ""version"": ""1.26.7""",83,65
openstack%2Fcharm-vault~stable%2F1.7~I6d6a0eba53e197993b223ce6a736444d6c12d647,openstack/charm-vault,stable/1.7,I6d6a0eba53e197993b223ce6a736444d6c12d647,Improve root CA handling for action 'disable-pki',MERGED,2022-04-28 17:43:02.000000000,2022-04-29 15:15:06.000000000,2022-04-29 14:51:08.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 17:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/5827175ef857dc01f7404aefa4a2bdb7a175fa7c', 'message': ""Improve root CA handling for action 'disable-pki'\n\nClear old root CA stored in vault/leader when action 'disable-pki'\nis called\n\nCloses-Bug: #1948989\nChange-Id: I6d6a0eba53e197993b223ce6a736444d6c12d647\n""}, {'number': 2, 'created': '2022-04-29 13:33:46.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/6636ccb3c5f2da5bd54e66b0283c6cb5b4936864', 'message': ""Improve root CA handling for action 'disable-pki'\n\nClear old root CA stored in vault/leader when action 'disable-pki'\nis called\n\nCloses-Bug: #1948989\nChange-Id: I6d6a0eba53e197993b223ce6a736444d6c12d647\n(cherry picked from commit fbf6cc54949356fa633ffddafb4b546cfd54ca74)\n""}]",0,839799,6636ccb3c5f2da5bd54e66b0283c6cb5b4936864,10,3,2,20870,,,0,"Improve root CA handling for action 'disable-pki'

Clear old root CA stored in vault/leader when action 'disable-pki'
is called

Closes-Bug: #1948989
Change-Id: I6d6a0eba53e197993b223ce6a736444d6c12d647
(cherry picked from commit fbf6cc54949356fa633ffddafb4b546cfd54ca74)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/99/839799/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/actions/actions.py']",3,5827175ef857dc01f7404aefa4a2bdb7a175fa7c,charm-release-2204, hookenv.leader_set({'root-ca': None}),,3,0
openstack%2Fopenstack-ansible-lxc_container_create~master~Iee8ea4d3d513f0c8b7e7d67761f78238ceb90716,openstack/openstack-ansible-lxc_container_create,master,Iee8ea4d3d513f0c8b7e7d67761f78238ceb90716,fix focal relase for lxc,ABANDONED,2022-04-29 13:59:28.000000000,2022-04-29 15:13:05.000000000,,[],"[{'number': 1, 'created': '2022-04-29 13:59:28.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/d702dccaf6726e05cad88d075aef2b7655a35583', 'message': 'fix focal relase for lxc\n\nChange-Id: Iee8ea4d3d513f0c8b7e7d67761f78238ceb90716\n'}]",0,839951,d702dccaf6726e05cad88d075aef2b7655a35583,2,0,1,13095,,,0,"fix focal relase for lxc

Change-Id: Iee8ea4d3d513f0c8b7e7d67761f78238ceb90716
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/51/839951/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,d702dccaf6726e05cad88d075aef2b7655a35583,fix-focal," release: ""{{ hostvars[physical_host]['ansible_facts']['distribution_release'] }}"""," release: ""{{ hostvars[physical_host]['ansible_facts']['distribution_major_version'] }}""",1,1
openstack%2Fcharm-vault~stable%2F1.7~I1d7de2bd4d704ffc331fdeacea725e903890f296,openstack/charm-vault,stable/1.7,I1d7de2bd4d704ffc331fdeacea725e903890f296,Use unittest.mock instead of mock,MERGED,2022-04-28 17:43:02.000000000,2022-04-29 15:10:26.000000000,2022-04-29 14:51:15.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 17:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c9d74c21b0bca81f73e2228daea329984d5c72dc', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I1d7de2bd4d704ffc331fdeacea725e903890f296\n""}, {'number': 2, 'created': '2022-04-29 13:33:46.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_lib_charm_vault.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/946ae6b1d2fee6cfaa8f884e01f8e9795b654dd8', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I1d7de2bd4d704ffc331fdeacea725e903890f296\n(cherry picked from commit 1de27bc18f8879c4782476a8daacbdf0a1cb7077)\n""}]",0,839803,946ae6b1d2fee6cfaa8f884e01f8e9795b654dd8,10,3,2,20870,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I1d7de2bd4d704ffc331fdeacea725e903890f296
(cherry picked from commit 1de27bc18f8879c4782476a8daacbdf0a1cb7077)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/03/839803/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_lib_charm_vault.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_vault_pki.py']",7,c9d74c21b0bca81f73e2228daea329984d5c72dc,charm-release-2204,from unittest import mock,import mock,5,11
openstack%2Fcharm-vault~stable%2F1.7~I283f88069371d661535f675cc046b04aec2f3f99,openstack/charm-vault,stable/1.7,I283f88069371d661535f675cc046b04aec2f3f99,Surround IPv6 addresses with [],MERGED,2022-04-28 17:43:02.000000000,2022-04-29 15:07:56.000000000,2022-04-29 14:51:09.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 34187}]","[{'number': 1, 'created': '2022-04-28 17:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/35d066e60c779717df3abd46541a8b8dff70b344', 'message': 'Surround IPv6 addresses with []\n\nFix typo in tests (s/exmaple/example/g) and add IPv4 and\nIPv6 tests URLs.\n\nSigned-off-by: Simon Deziel <simon.deziel@canonical.com>\nChange-Id: I283f88069371d661535f675cc046b04aec2f3f99\n'}, {'number': 2, 'created': '2022-04-29 13:33:46.000000000', 'files': ['src/lib/charm/vault.py', 'unit_tests/test_lib_charm_vault.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e8f6c7682b886f0760570e172c624070d491c6cd', 'message': 'Surround IPv6 addresses with []\n\nFix typo in tests (s/exmaple/example/g) and add IPv4 and\nIPv6 tests URLs.\n\nSigned-off-by: Simon Deziel <simon.deziel@canonical.com>\nChange-Id: I283f88069371d661535f675cc046b04aec2f3f99\n(cherry picked from commit 3742fcbc323fbb0b0621c6f9677763f98eb38c86)\n'}]",0,839800,e8f6c7682b886f0760570e172c624070d491c6cd,11,4,2,20870,,,0,"Surround IPv6 addresses with []

Fix typo in tests (s/exmaple/example/g) and add IPv4 and
IPv6 tests URLs.

Signed-off-by: Simon Deziel <simon.deziel@canonical.com>
Change-Id: I283f88069371d661535f675cc046b04aec2f3f99
(cherry picked from commit 3742fcbc323fbb0b0621c6f9677763f98eb38c86)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/00/839800/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/vault.py', 'unit_tests/test_lib_charm_vault.py', 'unit_tests/test_lib_charm_vault_pki.py']",3,35d066e60c779717df3abd46541a8b8dff70b344,charm-release-2204," vault_pki.generate_certificate('server', 'example.com', [], vault_pki.generate_certificate('unknown', 'example.com', [], vault_pki.generate_certificate('server', 'example.com', [], allowed_domains='example.com', allowed_domains='example.com', vault_pki.upload_signed_csr('MYPEM', 'example.com') client_mock._post.assert_called_once_with( 'v1/charm-pki-local/intermediate/set-signed', json={'certificate': 'MYPEM'}) client_mock.write.assert_has_calls(write_calls) @patch.object(vault_pki.vault, 'get_access_address') @patch.object(vault_pki.vault, 'get_local_client') def test_upload_signed_csr_ipv4( self, get_local_client, get_access_address ): get_access_address.return_value = 'https://127.0.0.1:8200' client_mock = mock.MagicMock() get_local_client.return_value = client_mock local_url = 'https://127.0.0.1:8200/v1/charm-pki-local' write_calls = [ mock.call( 'charm-pki-local/config/urls', issuing_certificates='{}/ca'.format(local_url), crl_distribution_points='{}/crl'.format(local_url)), mock.call( 'charm-pki-local/roles/local', allowed_domains='example.com', allow_subdomains=True, enforce_hostnames=False, allow_any_name=True, max_ttl='87598h', server_flag=True, client_flag=True), mock.call( 'charm-pki-local/roles/local-client', allowed_domains='example.com', allow_subdomains=True, enforce_hostnames=False, allow_any_name=True, max_ttl='87598h', server_flag=False, client_flag=True), ] vault_pki.upload_signed_csr('MYPEM', 'example.com') client_mock._post.assert_called_once_with( 'v1/charm-pki-local/intermediate/set-signed', json={'certificate': 'MYPEM'}) client_mock.write.assert_has_calls(write_calls) @patch.object(vault_pki.vault, 'get_access_address') @patch.object(vault_pki.vault, 'get_local_client') def test_upload_signed_csr_ipv6( self, get_local_client, get_access_address ): get_access_address.return_value = 'https://[::1]:8200' client_mock = mock.MagicMock() get_local_client.return_value = client_mock local_url = 'https://[::1]:8200/v1/charm-pki-local' write_calls = [ mock.call( 'charm-pki-local/config/urls', issuing_certificates='{}/ca'.format(local_url), crl_distribution_points='{}/crl'.format(local_url)), mock.call( 'charm-pki-local/roles/local', allowed_domains='example.com', allow_subdomains=True, enforce_hostnames=False, allow_any_name=True, max_ttl='87598h', server_flag=True, client_flag=True), mock.call( 'charm-pki-local/roles/local-client', allowed_domains='example.com', allow_subdomains=True, enforce_hostnames=False, allow_any_name=True, max_ttl='87598h', server_flag=False, client_flag=True), ] vault_pki.upload_signed_csr('MYPEM', 'example.com') allowed_domains='example.com', allowed_domains='example.com', 'example.com',"," vault_pki.generate_certificate('server', 'exmaple.com', [], vault_pki.generate_certificate('unknown', 'exmaple.com', [], vault_pki.generate_certificate('server', 'exmaple.com', [], allowed_domains='exmaple.com', allowed_domains='exmaple.com', vault_pki.upload_signed_csr('MYPEM', 'exmaple.com') allowed_domains='exmaple.com', allowed_domains='exmaple.com', 'exmaple.com',",127,9
openstack%2Fkolla-ansible~master~I5815220f2193a492ae7e1f63443075790ae7aaef,openstack/kolla-ansible,master,I5815220f2193a492ae7e1f63443075790ae7aaef,[bifrost] add bifrost_deploy_verbosity parameter,MERGED,2022-04-24 15:44:15.000000000,2022-04-29 15:00:05.000000000,2022-04-29 14:57:55.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-24 15:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ecdecdd7371cfabea468a4df5fa385952a588e5', 'message': '[bifrost] add bifrost_deploy_verbosity parameter\n\nWith the parameter bifrost_deploy_verbosity it is possible\nto set the verbosity of the bootstrap of Bifrost.\n\nThis makes it possible to reduce verbosity when running\n/bifrost/playbooks/install.yaml if needed.\n\nChange-Id: I5815220f2193a492ae7e1f63443075790ae7aaef\n'}, {'number': 2, 'created': '2022-04-24 15:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0aed7c9ba0fe8a786a06af95a842ae96e142815c', 'message': '[bifrost] add bifrost_deploy_verbosity parameter\n\nWith the parameter bifrost_deploy_verbosity it is possible\nto set the verbosity of the bootstrap of Bifrost.\n\nThis makes it possible to reduce verbosity when running\n/bifrost/playbooks/install.yaml if needed.\n\nChange-Id: I5815220f2193a492ae7e1f63443075790ae7aaef\n'}, {'number': 3, 'created': '2022-04-24 16:07:37.000000000', 'files': ['ansible/roles/bifrost/tasks/deploy-servers.yml', 'releasenotes/notes/bifrost-deploy-verbosity-f6a90727649285b5.yaml', 'ansible/roles/bifrost/tasks/bootstrap.yml', 'ansible/roles/bifrost/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea5b4d7e26c0cb76a0dee3c16b957eb3898d4c43', 'message': '[bifrost] add bifrost_deploy_verbosity parameter\n\nWith the parameter bifrost_deploy_verbosity it is possible\nto set the verbosity of the bootstrap of Bifrost.\n\nThis makes it possible to reduce verbosity when running\n/bifrost/playbooks/install.yaml if needed.\n\nChange-Id: I5815220f2193a492ae7e1f63443075790ae7aaef\n'}]",0,839133,ea5b4d7e26c0cb76a0dee3c16b957eb3898d4c43,11,3,3,167,,,0,"[bifrost] add bifrost_deploy_verbosity parameter

With the parameter bifrost_deploy_verbosity it is possible
to set the verbosity of the bootstrap of Bifrost.

This makes it possible to reduce verbosity when running
/bifrost/playbooks/install.yaml if needed.

Change-Id: I5815220f2193a492ae7e1f63443075790ae7aaef
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/839133/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/bifrost/tasks/bootstrap.yml', 'ansible/roles/bifrost/defaults/main.yml']",2,9ecdecdd7371cfabea468a4df5fa385952a588e5,bifrost_deploy_verbosity," bifrost_deploy_verbosity: ""-vvvv""",,4,1
openstack%2Ftripleo-ansible~master~I2db1561a87b75bc09e81f4daab5e582a17f97ece,openstack/tripleo-ansible,master,I2db1561a87b75bc09e81f4daab5e582a17f97ece,Improve deployment UX by removing irrelevant warnings,MERGED,2022-04-01 14:13:40.000000000,2022-04-29 14:59:25.000000000,2022-04-29 14:57:18.000000000,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-01 14:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f45781ba5b49d50d596345567331cf54e334e9e', 'message': ""Improve deployment UX by removing irrelevant warnings\n\nThis change moves a very noisy warning message to debug so that we're\nnot spamming warnings on every deployment execution for every container.\n\nChange-Id: I2db1561a87b75bc09e81f4daab5e582a17f97ece\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2022-04-20 13:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/857f3f9c763bdeadeb86da31f57ab5ef40b0446a', 'message': ""Improve deployment UX by removing irrelevant warnings\n\nThis change moves a very noisy warning message to debug so that we're\nnot spamming warnings on every deployment execution for every container.\n\nChange-Id: I2db1561a87b75bc09e81f4daab5e582a17f97ece\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2022-04-20 17:00:19.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c78e30c4d1815aac45ed7eeb1f50a01d04d4411', 'message': ""Improve deployment UX by removing irrelevant warnings\n\nThis change moves a very noisy warning message to debug so that we're\nnot spamming warnings on every deployment execution for every container.\n\nChange-Id: I2db1561a87b75bc09e81f4daab5e582a17f97ece\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",3,836188,2c78e30c4d1815aac45ed7eeb1f50a01d04d4411,25,5,3,7353,,,0,"Improve deployment UX by removing irrelevant warnings

This change moves a very noisy warning message to debug so that we're
not spamming warnings on every deployment execution for every container.

Change-Id: I2db1561a87b75bc09e81f4daab5e582a17f97ece
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/836188/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'],1,1f45781ba5b49d50d596345567331cf54e334e9e,tripleo|UX,"from ansible.utils.display import DisplayDISPLAY = Display() DISPLAY.vvv( 'Config change detected for {}, new hash: {}'.format( cname, config_hash ) )"," self.module.warn('Config change detected for {}, new ' 'hash: {}'.format(cname, config_hash))",9,2
openstack%2Fneutron~stable%2Fvictoria~I9f914e721201072e43a8c6c266ed97ca85fcc13d,openstack/neutron,stable/victoria,I9f914e721201072e43a8c6c266ed97ca85fcc13d,[OVN] Correctly set dns_server in dhcpv4/v6 options,MERGED,2022-04-22 06:27:14.000000000,2022-04-29 14:59:09.000000000,2022-04-29 14:56:46.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-22 06:27:14.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'releasenotes/notes/ovn-default-dns-servers-ipv6-subnets-f2d525abc70b01b3.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6713cdaccd7db0743d17f070c515e994e157b6d8', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of IPv6 dns nameservers,\nit was getting added to IPv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an IPv6 address)\nis set in the instances.\n\nThis patch filters IPv4/IPv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for IPv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with the IPv4 subnets. Updated\nget_system_dns_resolvers to pick both IPv4/IPv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for IPv4[1].\n\nAdditionally fix some unit tests which were setting IPv4 dns\nnameservers on the IPv6 subnets, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\nConflicts:\n  lower-constraints.txt\n  requirements.txt\n\n[Stable Only] Since Neutron stable policy do not allow bumping\nof minimum version of a requirement in stable releases, so doing\na partial backport by not backporting requirements.txt changes and\nupdated get_system_dns_resolvers to work with older version of\noslo.utils.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/826647\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n(cherry picked from commit 4a06685098cc2e9b69c1b961eecef957314faf85)\n(cherry picked from commit 4b89ad64038eb2301730494c31255174e2da5597)\n""}]",2,838878,6713cdaccd7db0743d17f070c515e994e157b6d8,13,4,1,16688,,,0,"[OVN] Correctly set dns_server in dhcpv4/v6 options

When ovn/dns_servers consist of IPv6 dns nameservers,
it was getting added to IPv4 dhcp options also, and due to
this an invalid nameserver(last 4 octets of an IPv6 address)
is set in the instances.

This patch filters IPv4/IPv6 dns nameservers and set
dhcpv4/dhcpv6 options accordingly.

Also when dns_nameservers are not set for IPv6 subnets,
get those from ovn/dns_servers config or system nameservers
just like it's done with the IPv4 subnets. Updated
get_system_dns_resolvers to pick both IPv4/IPv6 valid
ips, this also requires bump of oslo.utils minimum version
to 4.8.0 to use strict option for IPv4[1].

Additionally fix some unit tests which were setting IPv4 dns
nameservers on the IPv6 subnets, this is not allowed with api.

[1] https://github.com/openstack/oslo.utils/commit/3288539

Conflicts:
  lower-constraints.txt
  requirements.txt

[Stable Only] Since Neutron stable policy do not allow bumping
of minimum version of a requirement in stable releases, so doing
a partial backport by not backporting requirements.txt changes and
updated get_system_dns_resolvers to work with older version of
oslo.utils.

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/826647
Closes-Bug: #1951816
Change-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d
(cherry picked from commit 4a06685098cc2e9b69c1b961eecef957314faf85)
(cherry picked from commit 4b89ad64038eb2301730494c31255174e2da5597)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/838878/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'releasenotes/notes/ovn-default-dns-servers-ipv6-subnets-f2d525abc70b01b3.yaml']",4,6713cdaccd7db0743d17f070c515e994e157b6d8,bug/1951816-stable/wallaby-stable/victoria,"--- fixes: - | For IPv4 subnets when dns_nameservers is not set in the subnet, servers defined in 'ovn/dns_servers' config option or system's resolv.conf are used, but for IPv6 subnets these are not used. The same will now be used for IPv6 subnets too. Additionally dns servers added in 'ovn/dns_servers' config option or system's resolv.conf will be filtered as per the subnet's IP version. For more info see the bug report `1951816 <https://bugs.launchpad.net/neutron/+bug/1951816>`_. ",,91,14
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I0bd4b4a0e33184e0f4d731899138bf4063f3cdac,openstack/python-tripleoclient,stable/wallaby,I0bd4b4a0e33184e0f4d731899138bf4063f3cdac,Remove Heat API dependency for overcloud export,MERGED,2022-04-21 14:53:18.000000000,2022-04-29 14:58:58.000000000,2022-04-29 14:57:11.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-21 14:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c94f3e66bce8bf97162cb01a152f5e72e4ca2555', 'message': 'Remove Heat API dependency for overcloud export\n\nUpdate the overcloud export command to work without a dependency on Heat\nAPI. The export data is updated to create the export data based solely\non saved stack output data and the config-download generated\novercloud.json so that Heat is not needed to generate the export at all.\n\nChange-Id: I0bd4b4a0e33184e0f4d731899138bf4063f3cdac\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit d7af2f54826b3086af4691753b00173dc7a95a70)\n'}, {'number': 2, 'created': '2022-04-22 11:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/afb1f585048e723311c66486f41e774d5ac5074b', 'message': 'Remove Heat API dependency for overcloud export\n\nUpdate the overcloud export command to work without a dependency on Heat\nAPI. The export data is updated to create the export data based solely\non saved stack output data and the config-download generated\novercloud.json so that Heat is not needed to generate the export at all.\n\nChange-Id: I0bd4b4a0e33184e0f4d731899138bf4063f3cdac\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit d7af2f54826b3086af4691753b00173dc7a95a70)\n'}, {'number': 3, 'created': '2022-04-22 13:07:58.000000000', 'files': ['tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/export.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/df4694b74369f3d6d860b5f432e3cac8344226c2', 'message': 'Remove Heat API dependency for overcloud export\n\nUpdate the overcloud export command to work without a dependency on Heat\nAPI. The export data is updated to create the export data based solely\non saved stack output data and the config-download generated\novercloud.json so that Heat is not needed to generate the export at all.\n\nChange-Id: I0bd4b4a0e33184e0f4d731899138bf4063f3cdac\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit d7af2f54826b3086af4691753b00173dc7a95a70)\n'}]",6,838912,df4694b74369f3d6d860b5f432e3cac8344226c2,24,4,3,7144,,,0,"Remove Heat API dependency for overcloud export

Update the overcloud export command to work without a dependency on Heat
API. The export data is updated to create the export data based solely
on saved stack output data and the config-download generated
overcloud.json so that Heat is not needed to generate the export at all.

Change-Id: I0bd4b4a0e33184e0f4d731899138bf4063f3cdac
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit d7af2f54826b3086af4691753b00173dc7a95a70)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/838912/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/export.py', 'tripleoclient/v1/overcloud_deploy.py']",5,c94f3e66bce8bf97162cb01a152f5e72e4ca2555,," self.working_dir,"," self.orchestration_client,",125,167
openstack%2Ftripleo-ansible~master~I7e8d0a2a1e4a00fcd6cb736919fe0da8f432023c,openstack/tripleo-ansible,master,I7e8d0a2a1e4a00fcd6cb736919fe0da8f432023c,Elevate privileges when deleting stack dir,MERGED,2022-04-26 09:22:57.000000000,2022-04-29 14:57:15.000000000,2022-04-29 14:57:15.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-04-26 09:22:57.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b219db1fae2c1ba6a7c25c5b5285a5f9bd9b836c', 'message': 'Elevate privileges when deleting stack dir\n\nOctavia creates a bunch of files/folders with elevated\nprivileges in external_post_deploy step. Though we should\nensure the ownership permissions appropriately, it does\nnot hurt to force delete those with elevated privileges.\n\nChange-Id: I7e8d0a2a1e4a00fcd6cb736919fe0da8f432023c\n'}]",2,839325,b219db1fae2c1ba6a7c25c5b5285a5f9bd9b836c,11,6,1,8833,,,0,"Elevate privileges when deleting stack dir

Octavia creates a bunch of files/folders with elevated
privileges in external_post_deploy step. Though we should
ensure the ownership permissions appropriately, it does
not hurt to force delete those with elevated privileges.

Change-Id: I7e8d0a2a1e4a00fcd6cb736919fe0da8f432023c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/839325/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-delete.yaml'],1,b219db1fae2c1ba6a7c25c5b5285a5f9bd9b836c,, become: true,,1,0
openstack%2Fkayobe~stable%2Fyoga~Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000,openstack/kayobe,stable/yoga,Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000,Fix Bifrost inspection through DHCP-relay,MERGED,2022-04-29 09:33:36.000000000,2022-04-29 14:56:14.000000000,2022-04-29 14:54:15.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 09:33:36.000000000', 'files': ['ansible/kolla-bifrost.yml', 'ansible/roles/kolla-bifrost/defaults/main.yml', 'releasenotes/notes/bifrost-dhcp-range-netmask-fd40642967042267.yaml', 'ansible/roles/kolla-bifrost/templates/kolla/config/bifrost/bifrost.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ac63fac1ba2c82aa8667caacb8b8ed18870cbb6e', 'message': 'Fix Bifrost inspection through DHCP-relay\n\nThis is continue of the changes to support Ironic/Bifrost provision\nthrough DHCP-relay same as I9488a72db588e31289907668f1997596a8ccdec6\n\nDepends-On: I74af38dc555b7edee8331e31dfd1a2fbfe4f1151\nChange-Id: Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit d271e705b94f0f82a14dead99c6fe660ea077de8)\n'}]",0,839883,ac63fac1ba2c82aa8667caacb8b8ed18870cbb6e,8,3,1,14200,,,0,"Fix Bifrost inspection through DHCP-relay

This is continue of the changes to support Ironic/Bifrost provision
through DHCP-relay same as I9488a72db588e31289907668f1997596a8ccdec6

Depends-On: I74af38dc555b7edee8331e31dfd1a2fbfe4f1151
Change-Id: Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit d271e705b94f0f82a14dead99c6fe660ea077de8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/83/839883/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/kolla-bifrost.yml', 'ansible/roles/kolla-bifrost/defaults/main.yml', 'releasenotes/notes/bifrost-dhcp-range-netmask-fd40642967042267.yaml', 'ansible/roles/kolla-bifrost/templates/kolla/config/bifrost/bifrost.yml']",4,ac63fac1ba2c82aa8667caacb8b8ed18870cbb6e,bifrost-dhcp-range-netmask,"dhcp_pool_mask: ""{{ kolla_bifrost_dhcp_pool_mask }}""",,8,0
openstack%2Fnetworking-generic-switch~master~Ia8550c124f2ef1cce620a4fb28c35700d34aa027,openstack/networking-generic-switch,master,Ia8550c124f2ef1cce620a4fb28c35700d34aa027,CI: Fix Multinode ssh key/hostname for unit tests,MERGED,2022-04-27 22:24:27.000000000,2022-04-29 14:55:48.000000000,2022-04-29 14:53:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-04-27 22:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/652e7153ab7ff14352b58b2ff2b3c77b81611435', 'message': ""CI: Fix Multinode ssh key file placement\n\nIn multinode, the devstack plugin for networking-generic-switch can't\nreally work as intended. But, the authorized keys is copied on all\nnodes, and zuul puts a consistent key in place, so it doesn't\nreally need to do what it is doing, but we need to use the stack\nuser's pre-existing keys to access the remote host.\n\nThis will allow Ironic's multinode grenade job to work without\nerrors about accessing the key file, which is a red herring for\nwhen the connection fails.\n\nChange-Id: Ia8550c124f2ef1cce620a4fb28c35700d34aa027\n""}, {'number': 2, 'created': '2022-04-28 16:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/403d2e48b4268d1efe7ba723ba5f7a3140cc8d99', 'message': ""CI: Fix Multinode ssh key file placement\n\nIn multinode, the devstack plugin for networking-generic-switch can't\nreally work as intended. But, the authorized keys is copied on all\nnodes, and zuul puts a consistent key in place, so it doesn't\nreally need to do what it is doing, but we need to use the stack\nuser's pre-existing keys to access the remote host.\n\nThis will allow Ironic's multinode grenade job to work without\nerrors about accessing the key file, which is a red herring for\nwhen the connection fails.\n\nChange-Id: Ia8550c124f2ef1cce620a4fb28c35700d34aa027\n""}, {'number': 3, 'created': '2022-04-28 17:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/62fa1543edc8fa1ef8dd27b0b2fb5a689cc91335', 'message': ""CI: Fix Multinode ssh key/hostname for unit tests\n\nIn multinode, the devstack plugin for networking-generic-switch can't\nreally work as intended. But, the authorized keys is copied on all\nnodes, and zuul puts a consistent key in place, so it doesn't\nreally need to do what it is doing, but we need to use the stack\nuser's pre-existing keys to access the remote host.\n\nThis will allow Ironic's multinode grenade job to work without\nerrors about accessing the key file, which is a red herring for\nwhen the connection fails.\n\nAdditionally, the underlying ngs code is suseptible to a race on\nconfiguration loading as configuration is loaded separately.\n\nWe can't really force it to load the option. We also can't\nexplicitly add it, so the best thing to do is to encourage it\nto load.\n\nChange-Id: Ia8550c124f2ef1cce620a4fb28c35700d34aa027\n""}, {'number': 4, 'created': '2022-04-28 18:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/d1545a7fe9f8d178df9840f30104d6bbe6e7d867', 'message': ""CI: Fix Multinode ssh key/hostname for unit tests\n\nIn multinode, the devstack plugin for networking-generic-switch can't\nreally work as intended. But, the authorized keys is copied on all\nnodes, and zuul puts a consistent key in place, so it doesn't\nreally need to do what it is doing, but we need to use the stack\nuser's pre-existing keys to access the remote host.\n\nThis will allow Ironic's multinode grenade job to work without\nerrors about accessing the key file, which is a red herring for\nwhen the connection fails.\n\nAdditionally, the underlying ngs code is suseptible to a race on\nconfiguration loading as configuration is loaded separately.\n\nWe can't really force it to load the option. We also can't\nexplicitly add it, so the best thing to do is to encourage it\nto load.\n\nChange-Id: Ia8550c124f2ef1cce620a4fb28c35700d34aa027\n""}, {'number': 5, 'created': '2022-04-28 18:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/c258e85764ef3cc184dc0a98f2159cb4cfd04797', 'message': ""CI: Fix Multinode ssh key/hostname for unit tests\n\nIn multinode, the devstack plugin for networking-generic-switch can't\nreally work as intended. But, the authorized keys is copied on all\nnodes, and zuul puts a consistent key in place, so it doesn't\nreally need to do what it is doing, but we need to use the stack\nuser's pre-existing keys to access the remote host.\n\nThis will allow Ironic's multinode grenade job to work without\nerrors about accessing the key file, which is a red herring for\nwhen the connection fails.\n\nAdditionally, the underlying ngs code is suseptible to a race on\nconfiguration loading as configuration is loaded separately.\n\nWe can't really force it to load the option. We also can't\nexplicitly add it, so the best thing to do is to encourage it\nto load.\n\nChange-Id: Ia8550c124f2ef1cce620a4fb28c35700d34aa027\n""}, {'number': 6, 'created': '2022-04-28 20:39:58.000000000', 'files': ['networking_generic_switch/tests/unit/netmiko/test_netmiko_base.py', 'devstack/plugin.sh', 'networking_generic_switch/devices/netmiko_devices/__init__.py', 'networking_generic_switch/devices/utils.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/c6c10a12a83c894eb9c6a26658a010d37432afe7', 'message': ""CI: Fix Multinode ssh key/hostname for unit tests\n\nIn multinode, the devstack plugin for networking-generic-switch can't\nreally work as intended. But, the authorized keys is copied on all\nnodes, and zuul puts a consistent key in place, so it doesn't\nreally need to do what it is doing, but we need to use the stack\nuser's pre-existing keys to access the remote host.\n\nThis will allow Ironic's multinode grenade job to work without\nerrors about accessing the key file, which is a red herring for\nwhen the connection fails.\n\nAdditionally, the underlying ngs code is suseptible to a race on\nconfiguration loading as configuration is loaded separately.\n\nWe can't really force it to load the option. We also can't\nexplicitly add it, so the best thing to do is to wrap it and\nrely upon a mock to facilitate the unit test.\n\nChange-Id: Ia8550c124f2ef1cce620a4fb28c35700d34aa027\n""}]",2,839645,c6c10a12a83c894eb9c6a26658a010d37432afe7,19,3,6,11655,,,0,"CI: Fix Multinode ssh key/hostname for unit tests

In multinode, the devstack plugin for networking-generic-switch can't
really work as intended. But, the authorized keys is copied on all
nodes, and zuul puts a consistent key in place, so it doesn't
really need to do what it is doing, but we need to use the stack
user's pre-existing keys to access the remote host.

This will allow Ironic's multinode grenade job to work without
errors about accessing the key file, which is a red herring for
when the connection fails.

Additionally, the underlying ngs code is suseptible to a race on
configuration loading as configuration is loaded separately.

We can't really force it to load the option. We also can't
explicitly add it, so the best thing to do is to wrap it and
rely upon a mock to facilitate the unit test.

Change-Id: Ia8550c124f2ef1cce620a4fb28c35700d34aa027
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/45/839645/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,652e7153ab7ff14352b58b2ff2b3c77b81611435,," # NOTE(TheJulia) We *also* need to use the local key which will have # access to the subnode instead of attemping to configure our own, # as the plugins execute separately. if [ -f /opt/stack/.ssh/id_rsa ]; then GENERIC_SWITCH_KEY_FILE=""/opt/stack/.ssh/id_rsa"" fi",,6,0
openstack%2Fcharm-vault~stable%2F1.7~Ia1a169623c81d6aede7dc52eabd2de94007fde80,openstack/charm-vault,stable/1.7,Ia1a169623c81d6aede7dc52eabd2de94007fde80,Add action to generate certificate against the PKI.,MERGED,2022-04-28 17:43:02.000000000,2022-04-29 14:51:17.000000000,2022-04-29 14:51:17.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 17:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f7ae2c4a8ae4a03047ef38293de94188e170f69b', 'message': 'Add action to generate certificate against the PKI.\n\nCreated action to utilize the existing\ngenerate_certificate function for on demand\ncertificates agains the existing vault PKI.\n\nCloses-Bug: #1948837\nChange-Id: Ia1a169623c81d6aede7dc52eabd2de94007fde80\n'}, {'number': 2, 'created': '2022-04-29 13:33:46.000000000', 'files': ['src/actions/generate-certificate', 'src/actions.yaml', 'unit_tests/test_actions.py', 'src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/98db36293439a59fcde82aa3e6999784c4b033e8', 'message': 'Add action to generate certificate against the PKI.\n\nCreated action to utilize the existing\ngenerate_certificate function for on demand\ncertificates agains the existing vault PKI.\n\nCloses-Bug: #1948837\nChange-Id: Ia1a169623c81d6aede7dc52eabd2de94007fde80\n(cherry picked from commit d8bfff76e4a907ac8825a95fb2a511f70ef8d868)\n'}]",0,839804,98db36293439a59fcde82aa3e6999784c4b033e8,10,3,2,20870,,,0,"Add action to generate certificate against the PKI.

Created action to utilize the existing
generate_certificate function for on demand
certificates agains the existing vault PKI.

Closes-Bug: #1948837
Change-Id: Ia1a169623c81d6aede7dc52eabd2de94007fde80
(cherry picked from commit d8bfff76e4a907ac8825a95fb2a511f70ef8d868)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/04/839804/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions/generate-certificate', 'src/actions.yaml', 'unit_tests/test_actions.py', 'src/actions/actions.py']",4,f7ae2c4a8ae4a03047ef38293de94188e170f69b,charm-release-2204,"def generate_cert(*args): """"""Generates a certificate and sets it in the action output. The certificate parameters are provided via the action parameters from the user. If the current unit is not the leader or the vault calls fail, this will result in a failed command. """""" if not hookenv.is_leader(): hookenv.action_fail('Please run action on lead unit') return action_config = hookenv.action_get() sans_list = action_config.get('sans') try: new_crt = vault_pki.generate_certificate( cert_type='server', common_name=action_config.get('common-name'), sans=list(sans_list.split()), ttl=action_config.get('ttl'), max_ttl=action_config.get('max-ttl')) hookenv.action_set({'output': new_crt}) except vault.VaultError as e: hookenv.action_fail(str(e)) ""reload"": reload, ""generate-certificate"": generate_cert"," ""reload"": reload",119,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fvictoria~I4ca394314b1fa9c5f3ac5918e98a497ca5b55471,openstack/openstack-ansible-lxc_container_create,stable/victoria,I4ca394314b1fa9c5f3ac5918e98a497ca5b55471,Wait for 2s after restarting systemd-networkd,MERGED,2022-04-28 09:37:26.000000000,2022-04-29 14:35:42.000000000,2022-04-29 14:34:01.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-28 09:37:26.000000000', 'files': ['files/lxc-veth-wiring.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/0b8820e8b91b8a9ad761b6c31a5381dc40d22634', 'message': 'Wait for 2s after restarting systemd-networkd\n\nSystemd has a limit of 5 service restart in 10 seconds. If a service is\nrestarted more often it fails. The lxc-vet-wiring.sh script can trigger\nthis if more than 5 interfaces are configured in a container. To avoid\nthis failure wait for 2s after each service restart.\n\nChange-Id: I4ca394314b1fa9c5f3ac5918e98a497ca5b55471\n(cherry picked from commit 9a0dbf05f3e54295b7d80b3cb1551d53ed3d612b)\n'}]",0,839732,0b8820e8b91b8a9ad761b6c31a5381dc40d22634,8,3,1,11290,,,0,"Wait for 2s after restarting systemd-networkd

Systemd has a limit of 5 service restart in 10 seconds. If a service is
restarted more often it fails. The lxc-vet-wiring.sh script can trigger
this if more than 5 interfaces are configured in a container. To avoid
this failure wait for 2s after each service restart.

Change-Id: I4ca394314b1fa9c5f3ac5918e98a497ca5b55471
(cherry picked from commit 9a0dbf05f3e54295b7d80b3cb1551d53ed3d612b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/32/839732/1 && git format-patch -1 --stdout FETCH_HEAD,['files/lxc-veth-wiring.sh'],1,0b8820e8b91b8a9ad761b6c31a5381dc40d22634,fix-networkd-service-restart-stable/xena-stable/wallaby-stable/victoria,# Sleep for 2s to avoid more than 5 restarts of systemd-networkd in # 10s. Otherwise the systemd service restart limit will be reached # and the service will fail to restart. sleep 2 ,,5,0
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fxena~I4ca394314b1fa9c5f3ac5918e98a497ca5b55471,openstack/openstack-ansible-lxc_container_create,stable/xena,I4ca394314b1fa9c5f3ac5918e98a497ca5b55471,Wait for 2s after restarting systemd-networkd,MERGED,2022-04-28 09:36:22.000000000,2022-04-29 14:35:38.000000000,2022-04-29 14:33:58.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-28 09:36:22.000000000', 'files': ['files/lxc-veth-wiring.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/22f337b1d6fe26d7832bc8c645a605b76f870689', 'message': 'Wait for 2s after restarting systemd-networkd\n\nSystemd has a limit of 5 service restart in 10 seconds. If a service is\nrestarted more often it fails. The lxc-vet-wiring.sh script can trigger\nthis if more than 5 interfaces are configured in a container. To avoid\nthis failure wait for 2s after each service restart.\n\nChange-Id: I4ca394314b1fa9c5f3ac5918e98a497ca5b55471\n(cherry picked from commit 9a0dbf05f3e54295b7d80b3cb1551d53ed3d612b)\n'}]",0,839730,22f337b1d6fe26d7832bc8c645a605b76f870689,8,3,1,11290,,,0,"Wait for 2s after restarting systemd-networkd

Systemd has a limit of 5 service restart in 10 seconds. If a service is
restarted more often it fails. The lxc-vet-wiring.sh script can trigger
this if more than 5 interfaces are configured in a container. To avoid
this failure wait for 2s after each service restart.

Change-Id: I4ca394314b1fa9c5f3ac5918e98a497ca5b55471
(cherry picked from commit 9a0dbf05f3e54295b7d80b3cb1551d53ed3d612b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/30/839730/1 && git format-patch -1 --stdout FETCH_HEAD,['files/lxc-veth-wiring.sh'],1,22f337b1d6fe26d7832bc8c645a605b76f870689,fix-networkd-service-restart-stable/xena,# Sleep for 2s to avoid more than 5 restarts of systemd-networkd in # 10s. Otherwise the systemd service restart limit will be reached # and the service will fail to restart. sleep 2 ,,5,0
openstack%2Fneutron~stable%2Fwallaby~Ic8f6472fe708d12f8fc129729465367083e1095a,openstack/neutron,stable/wallaby,Ic8f6472fe708d12f8fc129729465367083e1095a,Docs build: Add requirements.txt to deps,MERGED,2022-04-29 06:58:04.000000000,2022-04-29 14:21:02.000000000,2022-04-29 14:18:19.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 06:58:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/83a3c19eb71de0f3137d52932a7940d4547f44dd', 'message': ""Docs build: Add requirements.txt to deps\n\nSince we use usedevelop=True, as a result neutron\ninstallation happens at 'develop-inst' phase and it installs\nrequirements from requirements.txt without considering\ntox constraints, This can lead to issue where broken\nrequirements are installed in docs job and as a result\nit will fail.\n\nIn order to get constraints be considered for this case, add\nrequirements.txt to deps for docs env.\n\nAlso squashed below commit:-\n\nDocs build: Add NOTE to not remove requirements.txt\n\nTo avoid unintentionally remove requirements.txt\nfrom deps list from docs env, add a NOTE.\n\nChange-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a\n(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)\n\nChange-Id: Ic8f6472fe708d12f8fc129729465367083e1095a\n(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)\n""}]",2,839741,83a3c19eb71de0f3137d52932a7940d4547f44dd,18,4,1,13861,,,0,"Docs build: Add requirements.txt to deps

Since we use usedevelop=True, as a result neutron
installation happens at 'develop-inst' phase and it installs
requirements from requirements.txt without considering
tox constraints, This can lead to issue where broken
requirements are installed in docs job and as a result
it will fail.

In order to get constraints be considered for this case, add
requirements.txt to deps for docs env.

Also squashed below commit:-

Docs build: Add NOTE to not remove requirements.txt

To avoid unintentionally remove requirements.txt
from deps list from docs env, add a NOTE.

Change-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a
(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)

Change-Id: Ic8f6472fe708d12f8fc129729465367083e1095a
(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/839741/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,83a3c19eb71de0f3137d52932a7940d4547f44dd,fix-docs-use-uc-stable/xena-stable/wallaby,# Do not remove requirements.txt from deps list as without it # upper constraints will not be used for deps listed in requirements.txt # and may cause issues -r{toxinidir}/requirements.txt,,4,0
openstack%2Fneutron~stable%2Fyoga~I2416fba50fc495da4d59a3f335f33d831ca6e91d,openstack/neutron,stable/yoga,I2416fba50fc495da4d59a3f335f33d831ca6e91d,ovn migration: Fix check for stack name,MERGED,2022-04-25 04:48:49.000000000,2022-04-29 14:20:58.000000000,2022-04-29 14:18:14.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 04:48:49.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cda53225de2f4e9ba562780e1aa65e7467921845', 'message': ""ovn migration: Fix check for stack name\n\n[1] Updated the migration script to check for config-download\ndirectory instead of stack, but missed update the Error\nmessage.\n\ncheck_stack function is renamed to check_source_inventory\nas now it only checks for source inventory instead of heat\nstack.\nIf source inventory file doesn't exist the script\nwill report Error message and exit.\n\nThis is follow up of [1].\n\n[1] https://review.opendev.org/c/openstack/neutron/+/834925\n\nRelated-Bug: #1966099\nChange-Id: I2416fba50fc495da4d59a3f335f33d831ca6e91d\n(cherry picked from commit ccf8e71efa3f91433a3db0e369ef5bb099503150)\n""}]",2,838887,cda53225de2f4e9ba562780e1aa65e7467921845,14,5,1,13861,,,0,"ovn migration: Fix check for stack name

[1] Updated the migration script to check for config-download
directory instead of stack, but missed update the Error
message.

check_stack function is renamed to check_source_inventory
as now it only checks for source inventory instead of heat
stack.
If source inventory file doesn't exist the script
will report Error message and exit.

This is follow up of [1].

[1] https://review.opendev.org/c/openstack/neutron/+/834925

Related-Bug: #1966099
Change-Id: I2416fba50fc495da4d59a3f335f33d831ca6e91d
(cherry picked from commit ccf8e71efa3f91433a3db0e369ef5bb099503150)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/838887/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,cda53225de2f4e9ba562780e1aa65e7467921845,bug/1966099-stable/yoga,"# It uses tripleo-ansible-inventory.yaml which was used during deployment as source inventory# Check if source inventory exists function check_source_inventory { local inventory_file=""$OOO_WORKDIR/$STACK_NAME/config-download/$STACK_NAME/tripleo-ansible-inventory.yaml"" if [ ! -f $inventory_file ]; then echo ""ERROR: Source Inventory File ${inventory_file} does not exist. Please provide the Stack Name and TripleO Workdir"" echo "" via STACK_NAME and OOO_WORKDIR environment variables."" check_source_inventory","# Check if the stack exists function check_stack { if [ ! -d $OOO_WORKDIR/$STACK_NAME/config-download/$STACK_NAME ]; then echo ""ERROR: STACK_NAME=${STACK_NAME} does not exist. Please provide the stack name or its ID "" echo "" via STACK_NAME environment variable."" check_stack",8,6
openstack%2Fzun-ui~master~I738008187eb5ceae633f42eb0cedc774017ab79d,openstack/zun-ui,master,I738008187eb5ceae633f42eb0cedc774017ab79d,Address RemovedInDjango40Warning,MERGED,2022-04-29 12:01:26.000000000,2022-04-29 13:54:18.000000000,2022-04-29 13:52:49.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 12:01:26.000000000', 'files': ['zun_ui/content/container/containers/urls.py', 'zun_ui/content/container/hosts/urls.py', 'zun_ui/content/container/containers/admin_urls.py', 'zun_ui/content/container/capsules/urls.py', 'zun_ui/content/container/images/urls.py'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/bdc00ef34b700cb51c61d34035401ae6f1210c04', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I738008187eb5ceae633f42eb0cedc774017ab79d\n'}]",1,839931,bdc00ef34b700cb51c61d34035401ae6f1210c04,7,2,1,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: I738008187eb5ceae633f42eb0cedc774017ab79d
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/31/839931/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun_ui/content/container/containers/urls.py', 'zun_ui/content/container/hosts/urls.py', 'zun_ui/content/container/containers/admin_urls.py', 'zun_ui/content/container/capsules/urls.py', 'zun_ui/content/container/images/urls.py']",5,bdc00ef34b700cb51c61d34035401ae6f1210c04,,"from django.urls import re_path re_path('', views.AngularIndexView.as_view(title=title), name='index'),","from django.conf.urls import url url('', views.AngularIndexView.as_view(title=title), name='index'),",14,14
openstack%2Fneutron~stable%2Fxena~I0c4d492887216cad7a8155dceb738389f2886376,openstack/neutron,stable/xena,I0c4d492887216cad7a8155dceb738389f2886376,[OVN][port-forwarding] Add lb also to logical_switches,MERGED,2022-04-25 12:58:10.000000000,2022-04-29 13:51:06.000000000,2022-04-29 13:48:31.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 12:58:10.000000000', 'files': ['neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02fd530f9cb6128a65992a974ddf4f1c2667039e', 'message': ""[OVN][port-forwarding] Add lb also to logical_switches\n\nCurrently we are adding lbs to logical_routers, but\nto get the lbs accessible from the vms we need to\nadd lbs also to all the logical_switches connected\nto the logical router as suggested in the Related\nBug rhbz#2043543.\nIf in future ovn automatically handles addition of\nlbs to logical_switches if they exist on associated\nlogical_router, then we can remove this handling\nfrom port-forwarding service plugin.\n\nAlso subscribed to router_interface's after create\nand delete events to handle the case when logical\nswitches are added/removed from router after intial\nport forwarding create.\n\nRelated-Bug: #1957185\nRelated-Bug: rhbz#2043543\nChange-Id: I0c4d492887216cad7a8155dceb738389f2886376\n(cherry picked from commit 2492cf2e0703dbe6fcfe26e199505b7b43a65f50)\nConflicts: neutron/services/portforwarding/drivers/ovn/driver.py\n""}]",1,839182,02fd530f9cb6128a65992a974ddf4f1c2667039e,17,5,1,13861,,,0,"[OVN][port-forwarding] Add lb also to logical_switches

Currently we are adding lbs to logical_routers, but
to get the lbs accessible from the vms we need to
add lbs also to all the logical_switches connected
to the logical router as suggested in the Related
Bug rhbz#2043543.
If in future ovn automatically handles addition of
lbs to logical_switches if they exist on associated
logical_router, then we can remove this handling
from port-forwarding service plugin.

Also subscribed to router_interface's after create
and delete events to handle the case when logical
switches are added/removed from router after intial
port forwarding create.

Related-Bug: #1957185
Related-Bug: rhbz#2043543
Change-Id: I0c4d492887216cad7a8155dceb738389f2886376
(cherry picked from commit 2492cf2e0703dbe6fcfe26e199505b7b43a65f50)
Conflicts: neutron/services/portforwarding/drivers/ovn/driver.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/839182/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py']",2,02fd530f9cb6128a65992a974ddf4f1c2667039e,bug/1957185-stable/xena,"from neutron_lib.callbacks import resources resources.ROUTER_INTERFACE, events.AFTER_CREATE), mock.call.mock_subscribe(mock.ANY, events.AFTER_DELETE), mock.call.mock_subscribe(mock.ANY, resources.ROUTER_INTERFACE,",,75,0
openstack%2Fneutron~stable%2Fyoga~I0c4d492887216cad7a8155dceb738389f2886376,openstack/neutron,stable/yoga,I0c4d492887216cad7a8155dceb738389f2886376,[OVN][port-forwarding] Add lb also to logical_switches,MERGED,2022-04-25 12:55:56.000000000,2022-04-29 13:51:04.000000000,2022-04-29 13:48:26.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 12:55:56.000000000', 'files': ['neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/82671b55024ddff8b9593ca9a76898c67468fcea', 'message': ""[OVN][port-forwarding] Add lb also to logical_switches\n\nCurrently we are adding lbs to logical_routers, but\nto get the lbs accessible from the vms we need to\nadd lbs also to all the logical_switches connected\nto the logical router as suggested in the Related\nBug rhbz#2043543.\nIf in future ovn automatically handles addition of\nlbs to logical_switches if they exist on associated\nlogical_router, then we can remove this handling\nfrom port-forwarding service plugin.\n\nAlso subscribed to router_interface's after create\nand delete events to handle the case when logical\nswitches are added/removed from router after intial\nport forwarding create.\n\nRelated-Bug: #1957185\nRelated-Bug: rhbz#2043543\nChange-Id: I0c4d492887216cad7a8155dceb738389f2886376\n(cherry picked from commit 2492cf2e0703dbe6fcfe26e199505b7b43a65f50)\nConflicts: neutron/services/portforwarding/drivers/ovn/driver.py\n""}]",6,839201,82671b55024ddff8b9593ca9a76898c67468fcea,26,5,1,13861,,,0,"[OVN][port-forwarding] Add lb also to logical_switches

Currently we are adding lbs to logical_routers, but
to get the lbs accessible from the vms we need to
add lbs also to all the logical_switches connected
to the logical router as suggested in the Related
Bug rhbz#2043543.
If in future ovn automatically handles addition of
lbs to logical_switches if they exist on associated
logical_router, then we can remove this handling
from port-forwarding service plugin.

Also subscribed to router_interface's after create
and delete events to handle the case when logical
switches are added/removed from router after intial
port forwarding create.

Related-Bug: #1957185
Related-Bug: rhbz#2043543
Change-Id: I0c4d492887216cad7a8155dceb738389f2886376
(cherry picked from commit 2492cf2e0703dbe6fcfe26e199505b7b43a65f50)
Conflicts: neutron/services/portforwarding/drivers/ovn/driver.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/839201/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py']",2,82671b55024ddff8b9593ca9a76898c67468fcea,bug/1957185,"from neutron_lib.callbacks import resources resources.ROUTER_INTERFACE, events.AFTER_CREATE), mock.call.mock_subscribe(mock.ANY, events.AFTER_DELETE), mock.call.mock_subscribe(mock.ANY, resources.ROUTER_INTERFACE,",,75,0
openstack%2Fironic~master~I42e555a1a01eb4124e3152669578f3403db83801,openstack/ironic,master,I42e555a1a01eb4124e3152669578f3403db83801,Ensure enable_netboot_fallback writes out pxe config on adopt.,NEW,2021-09-30 15:33:32.000000000,2022-04-29 13:47:04.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 15:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/106004a47f2943cfb4f911e8a59f5caa7859d054', 'message': 'Ensure enable_netboot_fallback writes out pxe config on adopt.\n\nStory: #2009259\nTask: #43471\n\nChange-Id: I42e555a1a01eb4124e3152669578f3403db83801\n'}, {'number': 2, 'created': '2021-10-20 10:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/be432b374d36197597cc05d714fcf96529825a87', 'message': 'Ensure enable_netboot_fallback writes out pxe config on adopt.\n\nwithout the ipxe config adopted nodes that would have needed\nthe fallback ipxe config to boot from disk will fail (as they\ncontinuously attempt to network boot),\n\nStory: #2009259\nTask: #43471\n\nChange-Id: I42e555a1a01eb4124e3152669578f3403db83801\n'}, {'number': 3, 'created': '2022-01-31 09:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4fde9eaa0f55b810cb2b8fd40154cb2462d8dd17', 'message': 'Ensure enable_netboot_fallback writes out pxe config on adopt.\n\nwithout the ipxe config adopted nodes that would have needed\nthe fallback ipxe config to boot from disk will fail (as they\ncontinuously attempt to network boot),\n\nStory: #2009259\nTask: #43471\n\nChange-Id: I42e555a1a01eb4124e3152669578f3403db83801\n'}, {'number': 4, 'created': '2022-04-29 11:16:35.000000000', 'files': ['ironic/drivers/modules/pxe_base.py', 'ironic/drivers/modules/agent.py', 'releasenotes/notes/pxe-onadopt-7214eba4f5822e1a.yaml', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/643edb76fb5697356c0f1e99a283c3a589b8d3ff', 'message': 'Ensure enable_netboot_fallback writes out pxe config on adopt.\n\nwithout the ipxe config adopted nodes that would have needed\nthe fallback ipxe config to boot from disk will fail (as they\ncontinuously attempt to network boot),\n\nStory: #2009259\nTask: #43471\n\nChange-Id: I42e555a1a01eb4124e3152669578f3403db83801\n'}]",1,811989,643edb76fb5697356c0f1e99a283c3a589b8d3ff,21,2,4,1926,,,0,"Ensure enable_netboot_fallback writes out pxe config on adopt.

without the ipxe config adopted nodes that would have needed
the fallback ipxe config to boot from disk will fail (as they
continuously attempt to network boot),

Story: #2009259
Task: #43471

Change-Id: I42e555a1a01eb4124e3152669578f3403db83801
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/811989/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/drivers/modules/agent.py', 'releasenotes/notes/pxe-onadopt-7214eba4f5822e1a.yaml', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py']",5,106004a47f2943cfb4f911e8a59f5caa7859d054,,"@mock.patch.object(ipxe.iPXEBoot, '__init__', lambda self: None) class iPXEBuildServicePXEConfigTestCase(db_base.DbTestCase): def setUp(self): super(iPXEBuildServicePXEConfigTestCase, self).setUp() n = { 'driver': 'fake-hardware', 'boot_interface': 'ipxe', 'instance_info': INST_INFO_DICT, 'driver_info': DRV_INFO_DICT, 'driver_internal_info': DRV_INTERNAL_INFO_DICT, } self.config(enabled_boot_interfaces=['ipxe']) self.node = object_utils.create_test_node(self.context, **n) @mock.patch.object(utils, 'write_to_file', autospec=True) @mock.patch.object(deploy_utils, 'switch_pxe_config', autospec=True) def test_build_service_pxe_config_adopt(self, mock_switch, mock_write): self.node.provision_state = states.ADOPTING driver_internal_info = self.node.driver_internal_info driver_internal_info['is_whole_disk_image'] = True self.node.driver_internal_info = driver_internal_info self.node.save() image_info = {} with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: pxe_utils.build_service_pxe_config(task, image_info, 'id', is_whole_disk_image=True) mock_switch.assert_called() mock_write.assert_called() ",,46,4
openstack%2Ftripleo-ansible~master~I970fcdceeec0b52a52984751df8dcb3dda118821,openstack/tripleo-ansible,master,I970fcdceeec0b52a52984751df8dcb3dda118821,Add module for loading hieradata and facts,ABANDONED,2022-03-18 22:42:54.000000000,2022-04-29 13:41:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-18 22:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e6bef3a2c225a414f602c1e6b7a8cab64b4991b', 'message': 'Add module for loading hieradata and facts\n\nThis patch adds Ansible module for loading configurarion variables from hiera\nand environment variables from facter.\n\nChange-Id: I970fcdceeec0b52a52984751df8dcb3dda118821\n'}, {'number': 2, 'created': '2022-03-18 22:46:51.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_environment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/908a36b7aedaf04e529d1b2277139229d56b641a', 'message': 'Add module for loading hieradata and facts\n\nThis patch adds Ansible module for loading configurarion variables from hiera\nand environment variables from facter.\n\nChange-Id: I970fcdceeec0b52a52984751df8dcb3dda118821\n'}]",6,834361,908a36b7aedaf04e529d1b2277139229d56b641a,7,2,2,5241,,,0,"Add module for loading hieradata and facts

This patch adds Ansible module for loading configurarion variables from hiera
and environment variables from facter.

Change-Id: I970fcdceeec0b52a52984751df8dcb3dda118821
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/61/834361/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_environment.py'],1,8e6bef3a2c225a414f602c1e6b7a8cab64b4991b,tripleo_environment,,,0,0
openstack%2Fopenstack-ansible-os_octavia~master~I2bfe5fa57c7deb201f56f82d5699c91fcccb766d,openstack/openstack-ansible-os_octavia,master,I2bfe5fa57c7deb201f56f82d5699c91fcccb766d,Change octavia private key ciphers to type 'auto',MERGED,2022-04-04 12:49:17.000000000,2022-04-29 13:29:21.000000000,2022-04-29 13:27:52.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-04 12:49:17.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/4ba4409e463f96cd28b1ca915a25031d183863d9', 'message': ""Change octavia private key ciphers to type 'auto'\n\nModern ansible only supports the 'cryptography' backend for the\nopenssl_privatekey module. In this case, the 'cipher' module\nparameter must be set to 'auto'.\n\nChange-Id: I2bfe5fa57c7deb201f56f82d5699c91fcccb766d\n""}]",2,836325,4ba4409e463f96cd28b1ca915a25031d183863d9,11,4,1,25023,,,0,"Change octavia private key ciphers to type 'auto'

Modern ansible only supports the 'cryptography' backend for the
openssl_privatekey module. In this case, the 'cipher' module
parameter must be set to 'auto'.

Change-Id: I2bfe5fa57c7deb201f56f82d5699c91fcccb766d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/25/836325/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,4ba4409e463f96cd28b1ca915a25031d183863d9,,octavia_cert_cipher_server: 'auto' octavia_cert_cipher_client: 'auto',octavia_cert_cipher_server: 'aes256' octavia_cert_cipher_client: 'aes256',2,2
openstack%2Fkolla-ansible~master~Iec4d2bea37321efe655f8f499673cb593e85d5a6,openstack/kolla-ansible,master,Iec4d2bea37321efe655f8f499673cb593e85d5a6,fix missing lang env in curator crontab,ABANDONED,2021-03-17 15:30:53.000000000,2022-04-29 13:20:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32553}]","[{'number': 1, 'created': '2021-03-17 15:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce16a8b0dce93442f5470b535fe564427c16d840', 'message': 'fix missing lang env in curator crontab\n\nCloses-Bug: 1919328\nChange-Id: Iec4d2bea37321efe655f8f499673cb593e85d5a6\n'}, {'number': 2, 'created': '2022-03-22 18:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/02a986692829be3efc1d1efa6656d20d22bfc56b', 'message': 'fix missing lang env in curator crontab\n\nCloses-Bug: 1919328\nChange-Id: Iec4d2bea37321efe655f8f499673cb593e85d5a6\n'}, {'number': 3, 'created': '2022-03-23 09:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e082831d6df0297b5b0e560ef2ae9ea12608a83', 'message': 'fix missing lang env in curator crontab\n\nCloses-Bug: 1919328\nChange-Id: Iec4d2bea37321efe655f8f499673cb593e85d5a6\n'}, {'number': 4, 'created': '2022-03-23 13:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/81e473213e12978bb7981f1c54d6c768995f53ee', 'message': 'fix missing lang env in curator crontab\n\nCloses-Bug: 1919328\nChange-Id: Iec4d2bea37321efe655f8f499673cb593e85d5a6\n'}, {'number': 5, 'created': '2022-03-24 10:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/49e6eb0eb1128c74c614e78f157707a0fce41e7d', 'message': 'fix missing lang env in curator crontab\n\nCloses-Bug: 1919328\nChange-Id: Iec4d2bea37321efe655f8f499673cb593e85d5a6\n'}, {'number': 6, 'created': '2022-03-24 10:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07135cdf23bc69cd258c759a5508ac58e4b991ca', 'message': 'fix missing lang env in curator crontab\n\nCloses-Bug: 1919328\nChange-Id: Iec4d2bea37321efe655f8f499673cb593e85d5a6\n'}, {'number': 7, 'created': '2022-03-24 13:27:46.000000000', 'files': ['releasenotes/notes/bug-1919328-9a9550e73392436e.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.crontab.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d937a0662e432a094ae4041ff38d083fe28d94b0', 'message': 'fix missing lang env in curator crontab\n\nCloses-Bug: 1919328\nChange-Id: Iec4d2bea37321efe655f8f499673cb593e85d5a6\n'}]",25,781114,d937a0662e432a094ae4041ff38d083fe28d94b0,52,4,7,32553,,,0,"fix missing lang env in curator crontab

Closes-Bug: 1919328
Change-Id: Iec4d2bea37321efe655f8f499673cb593e85d5a6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/781114/7 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/elasticsearch/templates/elasticsearch-curator.crontab.j2'],1,ce16a8b0dce93442f5470b535fe564427c16d840,fix_curator_crontab_lang,LANG=en_US.UTF-8,,1,1
openstack%2Fnova~master~I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,openstack/nova,master,I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,Fix LM rollback w/o multi port bindings extension,MERGED,2022-04-25 14:50:25.000000000,2022-04-29 13:19:05.000000000,2022-04-29 13:17:21.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 14:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98c46ced9b9c313b99c4d2908d6a155267bd3d81', 'message': ""Fix LM rollback w/o multi port bindings extension\n\nPreviously, the libvirt driver's live migration rollback code would\nunconditionally refer to migrate_data.vifs. This field would only be\nset if the Neutron multiple port bindings extension was in use. When\nit is not in use, the reference would fail with a NotImplementedError.\nThis patch wraps the migrate_data.vifs reference in a conditional that\nchecks if the vifs field is actually set. This is the only way to do\nit, as in the libvirt driver we do not have access to the network\nAPI's has_port_binding_extension() helper.\n\nCloses-bug: 1969980\nChange-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9\n""}, {'number': 2, 'created': '2022-04-27 18:53:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1888395.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa1b0a7ccb1fcf3644784125bfff6950993e1697', 'message': ""Fix LM rollback w/o multi port bindings extension\n\nPreviously, the libvirt driver's live migration rollback code would\nunconditionally refer to migrate_data.vifs. This field would only be\nset if the Neutron multiple port bindings extension was in use. When\nit is not in use, the reference would fail with a NotImplementedError.\nThis patch wraps the migrate_data.vifs reference in a conditional that\nchecks if the vifs field is actually set. This is the only way to do\nit, as in the libvirt driver we do not have access to the network\nAPI's has_port_binding_extension() helper.\n\nCloses-bug: 1969980\nChange-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9\n""}]",4,839227,aa1b0a7ccb1fcf3644784125bfff6950993e1697,31,4,2,8864,,,0,"Fix LM rollback w/o multi port bindings extension

Previously, the libvirt driver's live migration rollback code would
unconditionally refer to migrate_data.vifs. This field would only be
set if the Neutron multiple port bindings extension was in use. When
it is not in use, the reference would fail with a NotImplementedError.
This patch wraps the migrate_data.vifs reference in a conditional that
checks if the vifs field is actually set. This is the only way to do
it, as in the libvirt driver we do not have access to the network
API's has_port_binding_extension() helper.

Closes-bug: 1969980
Change-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/839227/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1888395.py']",2,98c46ced9b9c313b99c4d2908d6a155267bd3d81,," # NOTE(artom) The live migration will still fail (we fail it in # _migrate_stub()), but the server should correctly rollback to ACTIVE. self._live_migrate(self.server, migration_expected_state='failed', server_expected_state='ACTIVE')"," # FIXME(artom) Until bug 1969980 is fixed, this will fail with a # NotImplementedError. self._live_migrate(self.server, migration_expected_state='error', server_expected_state='ERROR') server = self.api.get_server(self.server['id']) self.assertIn( ""NotImplementedError: Cannot load 'vifs' in the base class"", server['fault']['details'] )",11,13
openstack%2Fcharm-vault~master~I1770ea46c39f7f20f5d88d5aa65109d8b48740d2,openstack/charm-vault,master,I1770ea46c39f7f20f5d88d5aa65109d8b48740d2,"Revert ""Implement cert cache for vault units.""",MERGED,2022-04-29 08:19:02.000000000,2022-04-29 12:57:46.000000000,2022-04-29 12:57:46.000000000,"[{'_account_id': 935}, {'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 32288}]","[{'number': 1, 'created': '2022-04-29 08:19:02.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1956b5e6803a267353f5d1e902cdca2aa79cb26d', 'message': 'Revert ""Implement cert cache for vault units.""\n\nThis reverts commit 1159e547dd755af97d5eab578cdfe90abad93843.\n\nReason for revert: https://bugs.launchpad.net/vault-charm/+bug/1970888\n\nChange-Id: I1770ea46c39f7f20f5d88d5aa65109d8b48740d2\n'}]",2,839742,1956b5e6803a267353f5d1e902cdca2aa79cb26d,10,9,1,12549,,,0,"Revert ""Implement cert cache for vault units.""

This reverts commit 1159e547dd755af97d5eab578cdfe90abad93843.

Reason for revert: https://bugs.launchpad.net/vault-charm/+bug/1970888

Change-Id: I1770ea46c39f7f20f5d88d5aa65109d8b48740d2
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/42/839742/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py']",4,1956b5e6803a267353f5d1e902cdca2aa79cb26d,bug/1940549,from unittest.mock import patch,"from unittest.mock import call, patch, MagicMockimport json @patch.object(vault_pki.hookenv, 'leader_get') def test_get_pki_cache(self, leader_get): """"""Test retrieving PKI from cache."""""" expected_pki = { ""client_unit_0"": { vault_pki.TOP_LEVEL_CERT_KEY: { ""client_unit_0.server.cert"": ""cert_data"", ""client_unit_0.server.key"": ""key_data"", } } } leader_get.return_value = json.dumps(expected_pki) pki = vault_pki.get_pki_cache() self.assertEqual(pki, expected_pki) # test retrieval if the PKI is not set leader_get.return_value = None pki = vault_pki.get_pki_cache() self.assertEqual(pki, {}) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_no_ca(self, get_ca, get_chain, get_pki_cache): """"""Test getting cert from cache when CA is missing."""""" get_ca.return_value = None get_chain.return_value = None cert, key = vault_pki.find_cert_in_cache(MagicMock()) # assert that CA cert or chain was retrieved get_ca.assert_called_once_with() get_chain.assert_called_once_with() # assert that function does not proceed due to the missing CA get_pki_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_missing(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test use case when searched certificate is not in cache."""""" request = MagicMock() request.unit_name = ""client_unit_0"" request._is_top_level_server_cert = True get_ca.return_value = MagicMock() get_pki_cache.return_value = {} cert, key = vault_pki.find_cert_in_cache(request) # assert that verification of cert is not attempted when # cert is not found verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) # Same scenario, but with non-top-level certificate request._is_top_level_server_cert = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI cache content pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: expected_cert, key_name: expected_key } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_not_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching non-top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI cache content pki = { client_name: { publish_key: { common_name: { ""cert"": expected_cert, ""key"": expected_key, } } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request.common_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI structure initial_pki = {} expected_pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: cert_data, key_name: key_data } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_non_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing non-top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI structure initial_pki = {} expected_pki = { client_name: { publish_key: { common_name: { ""cert"": cert_data, ""key"": key_data, } } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_remove_unit_from_cache(self, leader_set, get_pki_cache): """"""Test removing unit certificates from cache."""""" remaining_unit = ""client/0"" removed_unit = ""client/1"" pki = { remaining_unit: ""Unit certificates"", removed_unit: ""Unit certificates"", } expected_pki = { remaining_unit: ""Unit certificates"" } get_pki_cache.return_value = pki vault_pki.remove_unit_from_cache(removed_unit) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'update_cert_cache') def test_populate_cert_cache(self, update_cert_cache): # Define data for top level certificate and key top_level_cert_name = ""server.crt"" top_level_key_name = ""server.key"" top_level_cert_data = ""top level cert"" top_level_key_data = ""top level key"" # Define data for non-top level certificate processed_request_cn = ""juju_unit_service.crt"" processed_request_publish_key = ""juju_unit_service.processed"" processed_cert_data = ""processed cert"" processed_key_data = ""processed key"" # Mock request for top level certificate top_level_request = MagicMock() top_level_request._is_top_level_server_cert = True top_level_request._server_cert_key = top_level_cert_name top_level_request._server_key_key = top_level_key_name top_level_request._unit.relation.to_publish_raw = { top_level_cert_name: top_level_cert_data, top_level_key_name: top_level_key_data, } # Mock request for non-top level certificate processed_request = MagicMock() processed_request._is_top_level_server_cert = False processed_request.common_name = processed_request_cn processed_request._publish_key = processed_request_publish_key processed_request._unit.relation.to_publish = { processed_request_publish_key: {processed_request_cn: { ""cert"": processed_cert_data, ""key"": processed_key_data }} } tls_endpoint = MagicMock() tls_endpoint.all_requests = [top_level_request, processed_request] vault_pki.populate_cert_cache(tls_endpoint) expected_update_calls = [ call(top_level_request, top_level_cert_data, top_level_key_data), call(processed_request, processed_cert_data, processed_key_data), ] update_cert_cache.assert_has_calls(expected_update_calls)",22,796
openstack%2Fglance~master~Id328be8711abda4d157241e672299d30d82a63ef,openstack/glance,master,Id328be8711abda4d157241e672299d30d82a63ef,Docs build: Add requirements.txt to deps,ABANDONED,2022-04-29 05:41:21.000000000,2022-04-29 12:48:37.000000000,,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-29 05:41:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/5463df79a045c89ed2d773b2dc0628f144057b6d', 'message': ""Docs build: Add requirements.txt to deps\n\nSince we use usedevelop=True, as a result glance\ninstallation happens at 'develop-inst' phase and it installs\nrequirements from requirements.txt without considering\ntox constraints, This can lead to issue where broken\nrequirements are installed in docs job and as a result\nit will fail.\n\nIn order to get constraints be considered for this case, add\nrequirements.txt to deps for docs env.\n\nChange-Id: Id328be8711abda4d157241e672299d30d82a63ef\n""}]",3,839846,5463df79a045c89ed2d773b2dc0628f144057b6d,7,7,1,13861,,,0,"Docs build: Add requirements.txt to deps

Since we use usedevelop=True, as a result glance
installation happens at 'develop-inst' phase and it installs
requirements from requirements.txt without considering
tox constraints, This can lead to issue where broken
requirements are installed in docs job and as a result
it will fail.

In order to get constraints be considered for this case, add
requirements.txt to deps for docs env.

Change-Id: Id328be8711abda4d157241e672299d30d82a63ef
",git fetch https://review.opendev.org/openstack/glance refs/changes/46/839846/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5463df79a045c89ed2d773b2dc0628f144057b6d,fix-docs-use-uc,# Do not remove requirements.txt from deps list as without it # upper constraints will not be used for projects listed in requirements.txt -r{toxinidir}/requirements.txt,,3,0
openstack%2Fnova~master~If83ec9455b4c7caf26d11b1b97905c82963dbca4,openstack/nova,master,If83ec9455b4c7caf26d11b1b97905c82963dbca4,Handle volume attachments,NEW,2022-03-11 09:21:05.000000000,2022-04-29 12:47:11.000000000,,"[{'_account_id': 15334}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-11 09:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e353053db192398f606f9966885c421aec4bf7e4', 'message': 'Handle volume attachments\n\nThis commit should prevent the deletion of an attachment when it\nis unclear if there are multiple attachments even though the\nmultiattach setting is turned off\n\nCloses Bug: #1964576\n\nChange-Id: If83ec9455b4c7caf26d11b1b97905c82963dbca4\n'}, {'number': 2, 'created': '2022-03-11 10:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b40f62026aa2a22f0fae916f9a41231f99b5b727', 'message': 'Handle volume attachments\n\nThis commit should prevent the deletion of an attachment when it\nis unclear if there are multiple attachments even though the\nmultiattach setting is turned off\n\nCloses Bug: #1964576\n\nChange-Id: If83ec9455b4c7caf26d11b1b97905c82963dbca4\n'}, {'number': 3, 'created': '2022-03-15 10:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d20f6b2056fdf8d01c515cde7e12fd52e3c206b3', 'message': 'Handle volume attachments\n\nThis commit should prevent the deletion of an attachment when it\nis unclear if there are multiple attachments even though the\nmultiattach setting is turned off\n\nCloses Bug: #1964576\n\nChange-Id: If83ec9455b4c7caf26d11b1b97905c82963dbca4\n'}, {'number': 4, 'created': '2022-03-15 15:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b319aa690dd4c3b5513d1c1f5db6b57878dab88d', 'message': 'Handle volume attachments\n\nThis commit should prevent the deletion of an attachment when it\nis unclear if there are multiple attachments even though the\nmultiattach setting is turned off\n\nCloses Bug: #1964576\n\nChange-Id: If83ec9455b4c7caf26d11b1b97905c82963dbca4\n'}, {'number': 5, 'created': '2022-04-05 13:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d69fb4bb711e0c57199fa06d33308e93fffabe5d', 'message': 'Handle volume attachments\n\nThis commit should prevent the deletion of an attachment when it\nis unclear if there are multiple attachments even though the\nmultiattach setting is turned off\n\nCloses-Bug: #1964576\n\nChange-Id: If83ec9455b4c7caf26d11b1b97905c82963dbca4\n'}, {'number': 6, 'created': '2022-04-05 14:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1013ea7e3bd4ebd98626202798ef1d8cb29bbfd', 'message': 'Handle volume attachments\n\nThis commit should prevent the deletion of an attachment when it\nis unclear if there are multiple attachments even though the\nmultiattach setting is turned off\n\nCloses-Bug: #1964576\n\nChange-Id: If83ec9455b4c7caf26d11b1b97905c82963dbca4\n'}, {'number': 7, 'created': '2022-04-06 06:19:37.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/exception.py', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ec015b201f1700af1bbf6d077190820deca997d9', 'message': 'Handle volume attachments\n\nThis commit should prevent the deletion of an attachment when it\nis unclear if there are multiple attachments even though the\nmultiattach setting is turned off\n\nCloses-Bug: #1964576\n\nChange-Id: If83ec9455b4c7caf26d11b1b97905c82963dbca4\n'}]",31,833234,ec015b201f1700af1bbf6d077190820deca997d9,60,3,7,33237,,,0,"Handle volume attachments

This commit should prevent the deletion of an attachment when it
is unclear if there are multiple attachments even though the
multiattach setting is turned off

Closes-Bug: #1964576

Change-Id: If83ec9455b4c7caf26d11b1b97905c82963dbca4
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/833234/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/volume/cinder.py'],1,e353053db192398f606f9966885c421aec4bf7e4,feature/multiple_attachments_handling," attachments = volume.get('attachments', {}) if volume['multiattach']: else: if len(attachments) == 0: return elif len(attachments) == 1: if attachments.get(instance_uuid) is not None: attachment_id = attachments[instance_uuid].\ get('attachment_id') else: raise ValueError(""Unexpected attachments found"") else: raise ValueError(""More than one attachment found"")"," if volume['multiattach']: attachments = volume.get('attachments', {})",12,1
openstack%2Fkolla-ansible~master~If4bc1fe1dcd61622c8ea48b00771d5115a63c9e0,openstack/kolla-ansible,master,If4bc1fe1dcd61622c8ea48b00771d5115a63c9e0,Skip /etc/kolla/globals.d on host cleanup,MERGED,2022-04-28 14:00:26.000000000,2022-04-29 12:44:46.000000000,2022-04-29 12:43:20.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-28 14:00:26.000000000', 'files': ['tools/cleanup-host'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae89632faa12be498b127c97e313405d841cb0e7', 'message': 'Skip /etc/kolla/globals.d on host cleanup\n\nCloses-Bug: #1931042\nChange-Id: If4bc1fe1dcd61622c8ea48b00771d5115a63c9e0\n'}]",1,839769,ae89632faa12be498b127c97e313405d841cb0e7,8,2,1,13671,,,0,"Skip /etc/kolla/globals.d on host cleanup

Closes-Bug: #1931042
Change-Id: If4bc1fe1dcd61622c8ea48b00771d5115a63c9e0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/839769/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/cleanup-host'],1,ae89632faa12be498b127c97e313405d841cb0e7,bug/1931042," [ ""$dir"" == ""$FOLDER_PATH/globals.d"" ] || \",,1,0
openstack%2Fkayobe~stable%2Fwallaby~I9c6e261dbac067ca3f9218e6ea81813ddc2f6520,openstack/kayobe,stable/wallaby,I9c6e261dbac067ca3f9218e6ea81813ddc2f6520,Bump stackhpc.drac role,MERGED,2022-04-28 08:01:40.000000000,2022-04-29 12:40:52.000000000,2022-04-29 12:39:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-28 08:01:40.000000000', 'files': ['releasenotes/notes/stackhpc-drac-check-mode-8097215f8eca9991.yaml', 'requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c0988335b1aa81cefd1368d1e6f6faa346de7bc6', 'message': 'Bump stackhpc.drac role\n\nThis new version fixes the evaluation of check_mode, which is causing\n`kayobe overcloud bios raid configure` to fail.\n\nChange-Id: I9c6e261dbac067ca3f9218e6ea81813ddc2f6520\n(cherry picked from commit 5d6b9714ff3d84afd02d7923ccd5145dd66b9774)\n'}]",0,839699,c0988335b1aa81cefd1368d1e6f6faa346de7bc6,8,3,1,15197,,,0,"Bump stackhpc.drac role

This new version fixes the evaluation of check_mode, which is causing
`kayobe overcloud bios raid configure` to fail.

Change-Id: I9c6e261dbac067ca3f9218e6ea81813ddc2f6520
(cherry picked from commit 5d6b9714ff3d84afd02d7923ccd5145dd66b9774)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/99/839699/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/stackhpc-drac-check-mode-8097215f8eca9991.yaml', 'requirements.yml']",2,c0988335b1aa81cefd1368d1e6f6faa346de7bc6,, version: 1.1.6, version: 1.1.5,6,1
openstack%2Fcinder~master~I5dc76bb850309936f039d91dee986f4f7de81e07,openstack/cinder,master,I5dc76bb850309936f039d91dee986f4f7de81e07,[doc] Update markups of options in capacity-based-qos,NEW,2022-04-26 05:59:07.000000000,2022-04-29 12:30:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-26 05:59:07.000000000', 'files': ['doc/source/admin/capacity-based-qos.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b618f3775f6f3cf6dd978c265431022f52242e90', 'message': '[doc] Update markups of options in capacity-based-qos\n\nThis commit updates markups of the options in the capacity-based-qos\ndocument. The original markup is ""`"" which is rendered as italic in our\ndocument but it\'s different from the others. It should be better to keep\nthe consistency to avoid confusion in our doc.\n\nChange-Id: I5dc76bb850309936f039d91dee986f4f7de81e07\n'}]",0,839297,b618f3775f6f3cf6dd978c265431022f52242e90,13,1,1,5689,,,0,"[doc] Update markups of options in capacity-based-qos

This commit updates markups of the options in the capacity-based-qos
document. The original markup is ""`"" which is rendered as italic in our
document but it's different from the others. It should be better to keep
the consistency to avoid confusion in our doc.

Change-Id: I5dc76bb850309936f039d91dee986f4f7de81e07
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/839297/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/capacity-based-qos.rst'],1,b618f3775f6f3cf6dd978c265431022f52242e90,docs,"* ``read_iops_sec_per_gb`` * ``write_iops_sec_per_gb`` * ``total_iops_sec_per_gb``* ``read_bytes_sec_per_gb`` * ``write_bytes_sec_per_gb`` * ``total_bytes_sec_per_gb``* ``read_iops_sec_per_gb_min`` * ``write_iops_sec_per_gb_min`` * ``total_iops_sec_per_gb_min``* ``read_bytes_sec_per_gb_min`` * ``write_bytes_sec_per_gb_min`` * ``total_bytes_sec_per_gb_min``like ``*_sec_max``, in order to set upper limits for volumes. This may be usefulthe ``qos-associate`` Cinder client command.with ``virsh dumpxml``.","* `read_iops_sec_per_gb` * `write_iops_sec_per_gb` * `total_iops_sec_per_gb`* `read_bytes_sec_per_gb` * `write_bytes_sec_per_gb` * `total_bytes_sec_per_gb`* `read_iops_sec_per_gb_min` * `write_iops_sec_per_gb_min` * `total_iops_sec_per_gb_min`* `read_bytes_sec_per_gb_min` * `write_bytes_sec_per_gb_min` * `total_bytes_sec_per_gb_min`like `*_sec_max`, in order to set upper limits for volumes. This may be usefulthe `qos-associate` Cinder client command.with `virsh dumpxml`.",15,15
openstack%2Fneutron~stable%2Fxena~I2416fba50fc495da4d59a3f335f33d831ca6e91d,openstack/neutron,stable/xena,I2416fba50fc495da4d59a3f335f33d831ca6e91d,ovn migration: Fix check for stack name,MERGED,2022-04-25 04:49:04.000000000,2022-04-29 12:27:57.000000000,2022-04-29 12:25:49.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 04:49:04.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cdfa1e4fb10dda9cb4912b8ff471679d1e9b1e1', 'message': ""ovn migration: Fix check for stack name\n\n[1] Updated the migration script to check for config-download\ndirectory instead of stack, but missed update the Error\nmessage.\n\ncheck_stack function is renamed to check_source_inventory\nas now it only checks for source inventory instead of heat\nstack.\nIf source inventory file doesn't exist the script\nwill report Error message and exit.\n\nThis is follow up of [1].\n\n[1] https://review.opendev.org/c/openstack/neutron/+/834925\n\nRelated-Bug: #1966099\nChange-Id: I2416fba50fc495da4d59a3f335f33d831ca6e91d\n(cherry picked from commit ccf8e71efa3f91433a3db0e369ef5bb099503150)\n""}]",1,838888,9cdfa1e4fb10dda9cb4912b8ff471679d1e9b1e1,16,5,1,13861,,,0,"ovn migration: Fix check for stack name

[1] Updated the migration script to check for config-download
directory instead of stack, but missed update the Error
message.

check_stack function is renamed to check_source_inventory
as now it only checks for source inventory instead of heat
stack.
If source inventory file doesn't exist the script
will report Error message and exit.

This is follow up of [1].

[1] https://review.opendev.org/c/openstack/neutron/+/834925

Related-Bug: #1966099
Change-Id: I2416fba50fc495da4d59a3f335f33d831ca6e91d
(cherry picked from commit ccf8e71efa3f91433a3db0e369ef5bb099503150)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/838888/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,9cdfa1e4fb10dda9cb4912b8ff471679d1e9b1e1,bug/1966099-stable/yoga-stable/xena,"# It uses tripleo-ansible-inventory.yaml which was used during deployment as source inventory# Check if source inventory exists function check_source_inventory { local inventory_file=""$OOO_WORKDIR/$STACK_NAME/config-download/$STACK_NAME/tripleo-ansible-inventory.yaml"" if [ ! -f $inventory_file ]; then echo ""ERROR: Source Inventory File ${inventory_file} does not exist. Please provide the Stack Name and TripleO Workdir"" echo "" via STACK_NAME and OOO_WORKDIR environment variables."" check_source_inventory","# Check if the stack exists function check_stack { if [ ! -d $OOO_WORKDIR/$STACK_NAME/config-download/$STACK_NAME ]; then echo ""ERROR: STACK_NAME=${STACK_NAME} does not exist. Please provide the stack name or its ID "" echo "" via STACK_NAME environment variable."" check_stack",8,6
openstack%2Fnova~master~I2ed738f87fed952f60849cc22bde7291ec52d286,openstack/nova,master,I2ed738f87fed952f60849cc22bde7291ec52d286,Store pf_mac_address and vf_num in extra_info,MERGED,2022-03-16 14:32:27.000000000,2022-04-29 12:27:51.000000000,2022-04-29 12:25:42.000000000,"[{'_account_id': 6062}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-16 14:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c308e7199e5fbe0633e2440a788801d2adcb3031', 'message': 'Store pf_mac_address and vf_num in extra_info\n\nRemote-managed port support relies on placing additional data into\nthe ""binding:profile"" attribute of a port: a mac address of a PF\nassociated with a VF and the VF number. This data is currently\nretrieved via sysfs at the time when it needs to be placed into\nbinding:profile initially or when it needs to be updated during\nmigration processes.\n\nTo avoid having extra sysfs dependencies in the manager and neutron\nmodules, those attributes are now stored in the extra-info of a given\nVF\'s PciDevice and persisted in the DB.\n\nThe PF mac is stored for each VF since PFs are not guaranteed to be\npresent in the whitelist and so may not be present in the database in\nthe first place. A by-product of that is that it is easier to access\nthis data by just looking at a given VF\'s extra-info dict.\n\nChange-Id: I2ed738f87fed952f60849cc22bde7291ec52d286\n'}, {'number': 2, 'created': '2022-04-14 12:59:09.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/virt/libvirt/host.py', 'nova/network/neutron.py', 'nova/tests/fixtures/libvirt_data.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2234b179b5202d4d609c1df2c9c999656ca12378', 'message': 'Store pf_mac_address and vf_num in extra_info\n\nRemote-managed port support relies on placing additional data into\nthe ""binding:profile"" attribute of a port: a mac address of a PF\nassociated with a VF and the VF number. This data is currently\nretrieved via sysfs at the time when it needs to be placed into\nbinding:profile initially or when it needs to be updated during\nmigration processes.\n\nTo avoid having extra sysfs dependencies in the manager and neutron\nmodules, those attributes are now stored in the extra-info of a given\nVF\'s PciDevice and persisted in the DB.\n\nThe PF mac is stored for each VF since PFs are not guaranteed to be\npresent in the whitelist and so may not be present in the database in\nthe first place. A by-product of that is that it is easier to access\nthis data by just looking at a given VF\'s extra-info dict.\n\nChange-Id: I2ed738f87fed952f60849cc22bde7291ec52d286\n'}]",14,834006,2234b179b5202d4d609c1df2c9c999656ca12378,28,4,2,24824,,,0,"Store pf_mac_address and vf_num in extra_info

Remote-managed port support relies on placing additional data into
the ""binding:profile"" attribute of a port: a mac address of a PF
associated with a VF and the VF number. This data is currently
retrieved via sysfs at the time when it needs to be placed into
binding:profile initially or when it needs to be updated during
migration processes.

To avoid having extra sysfs dependencies in the manager and neutron
modules, those attributes are now stored in the extra-info of a given
VF's PciDevice and persisted in the DB.

The PF mac is stored for each VF since PFs are not guaranteed to be
present in the whitelist and so may not be present in the database in
the first place. A by-product of that is that it is easier to access
this data by just looking at a given VF's extra-info dict.

Change-Id: I2ed738f87fed952f60849cc22bde7291ec52d286
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/834006/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'nova/virt/libvirt/host.py', 'nova/tests/fixtures/libvirt_data.py', 'nova/compute/manager.py']",8,c308e7199e5fbe0633e2440a788801d2adcb3031,2022-02-15-remote-managed-ports-func, profile['pf_mac_address'] = pci_dev.sriov_cap['pf_mac_address'] if profile.get('vf_num'): profile['vf_num'] = pci_dev.sriov_cap['vf_num'],from nova.pci import utils as pci_utils profile['pf_mac_address'] = pci_utils.get_mac_by_pci_address( pci_dev.parent_addr) if profile.get('vf_num'): profile['vf_num'] = pci_utils.get_vf_num_by_pci_address( pci_dev.address),98,110
openstack%2Fnova~master~Ieef773453ed9f3ced564c1a352fbefbcc6a653ec,openstack/nova,master,Ieef773453ed9f3ced564c1a352fbefbcc6a653ec,Reproduce live migration rollback w/o multi port bindings error,MERGED,2022-04-22 18:28:24.000000000,2022-04-29 12:26:34.000000000,2022-04-29 12:08:35.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-22 18:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38cc3c5b8b608ab1c885c3b56fa6ccadecd9468e', 'message': 'Reproduce live migration rollback w/o multi port bindings error\n\nWhen the libvirt driver does live migration rollback of an instance\nwith network interfaces, it undoncitionally refers to\nmigrate_data.vifs. These will only be set when Neutron has the\nmultiple port bindings extension. We don\'t handle the case of the\nextendion not being present, and currently the rollback will fail with\na ""NotImplementedError: Cannot load \'vifs\' in the base class"" error.\n\nRelated-bug: 1969980\nChange-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec\n'}, {'number': 2, 'created': '2022-04-22 21:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12640a4565c82bf0c375d328726ca6f359a90a6d', 'message': 'Reproduce live migration rollback w/o multi port bindings error\n\nWhen the libvirt driver does live migration rollback of an instance\nwith network interfaces, it undoncitionally refers to\nmigrate_data.vifs. These will only be set when Neutron has the\nmultiple port bindings extension. We don\'t handle the case of the\nextendion not being present, and currently the rollback will fail with\na ""NotImplementedError: Cannot load \'vifs\' in the base class"" error.\n\nRelated-bug: 1969980\nChange-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec\n'}, {'number': 3, 'created': '2022-04-23 13:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2719b2ce0a5b809ded196c54d9a03afe3da2c597', 'message': 'Reproduce live migration rollback w/o multi port bindings error\n\nWhen the libvirt driver does live migration rollback of an instance\nwith network interfaces, it undoncitionally refers to\nmigrate_data.vifs. These will only be set when Neutron has the\nmultiple port bindings extension. We don\'t handle the case of the\nextendion not being present, and currently the rollback will fail with\na ""NotImplementedError: Cannot load \'vifs\' in the base class"" error.\n\nRelated-bug: 1969980\nChange-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec\n'}, {'number': 4, 'created': '2022-04-25 14:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef22c1eeb310672d62159f6f8c78112b589b616b', 'message': 'Reproduce live migration rollback w/o multi port bindings error\n\nWhen the libvirt driver does live migration rollback of an instance\nwith network interfaces, it unconditionally refers to\nmigrate_data.vifs. These will only be set when Neutron has the\nmultiple port bindings extension. We don\'t handle the case of the\nextension not being present, and currently the rollback will fail with\na ""NotImplementedError: Cannot load \'vifs\' in the base class"" error.\n\nRelated-bug: 1969980\nChange-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec\n'}, {'number': 5, 'created': '2022-04-27 18:53:13.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1888395.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5181bae923bdae2b536affc87d39ddf2c5f7835d', 'message': 'Reproduce live migration rollback w/o multi port bindings error\n\nWhen the libvirt driver does live migration rollback of an instance\nwith network interfaces, it unconditionally refers to\nmigrate_data.vifs. These will only be set when Neutron has the\nmultiple port bindings extension. We don\'t handle the case of the\nextension not being present, and currently the rollback will fail with\na ""NotImplementedError: Cannot load \'vifs\' in the base class"" error.\n\nRelated-bug: 1969980\nChange-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec\n'}]",10,839091,5181bae923bdae2b536affc87d39ddf2c5f7835d,53,3,5,8864,,,0,"Reproduce live migration rollback w/o multi port bindings error

When the libvirt driver does live migration rollback of an instance
with network interfaces, it unconditionally refers to
migrate_data.vifs. These will only be set when Neutron has the
multiple port bindings extension. We don't handle the case of the
extension not being present, and currently the rollback will fail with
a ""NotImplementedError: Cannot load 'vifs' in the base class"" error.

Related-bug: 1969980
Change-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/839091/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1888395.py'],1,38cc3c5b8b608ab1c885c3b56fa6ccadecd9468e,," class TestLiveMigrationRollbackWithoutMultiplePortBindings( TestLiveMigrationWithoutMultiplePortBindings): def _migrate_stub(self, domain, destination, params, flags): source = self.computes['start_host'] conn = source.driver._host.get_connection() dom = conn.lookupByUUIDString(self.server['id']) dom.fail_job() def test_live_migration_rollback(self): self.server = self._create_server( host='start_host', networks=[{'port': self.neutron.port_1['id']}]) self.assertFalse( self.neutron_api.has_port_binding_extension(self.ctxt)) self._live_migrate(self.server)",,19,0
openstack%2Fnova~master~Ifbc45baf7a52fcf0ce564b55c556ca56ca9e0ee7,openstack/nova,master,Ifbc45baf7a52fcf0ce564b55c556ca56ca9e0ee7,List auth plugin parameters for [keystone] section,MERGED,2022-01-12 16:32:29.000000000,2022-04-29 12:10:48.000000000,2022-04-29 12:08:27.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 16:32:29.000000000', 'files': ['nova/conf/keystone.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8d021194753b03ee5cf58cdc88c8029419701928', 'message': 'List auth plugin parameters for [keystone] section\n\nThis change ensures parameters of auth plugins are included in\nthe config file generated by oslo-config-generator, so that users can\nmore easily understand the parameter they need to set.\n\nFollowing the existing implementation for the other services like\nneutron, the only password plugins are covered.\n\nChange-Id: Ifbc45baf7a52fcf0ce564b55c556ca56ca9e0ee7\n'}]",1,824458,8d021194753b03ee5cf58cdc88c8029419701928,18,3,1,9816,,,0,"List auth plugin parameters for [keystone] section

This change ensures parameters of auth plugins are included in
the config file generated by oslo-config-generator, so that users can
more easily understand the parameter they need to set.

Following the existing implementation for the other services like
neutron, the only password plugins are covered.

Change-Id: Ifbc45baf7a52fcf0ce564b55c556ca56ca9e0ee7
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/824458/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/keystone.py'],1,8d021194753b03ee5cf58cdc88c8029419701928,, ks_loading.get_auth_common_conf_options() + ks_loading.get_auth_plugin_conf_options('password') + ks_loading.get_auth_plugin_conf_options('v2password') + ks_loading.get_auth_plugin_conf_options('v3password') +,,4,0
openstack%2Ftripleo-heat-templates~master~I5e900354676a30ae8cf53d0a2f4db0201f05207d,openstack/tripleo-heat-templates,master,I5e900354676a30ae8cf53d0a2f4db0201f05207d,Designate: miniDNS and bind9 instances on the proper networks,MERGED,2022-01-18 18:00:56.000000000,2022-04-29 12:08:46.000000000,2022-02-04 16:29:50.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-18 18:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e3e3081432f7b0a1ee10d4d9a7cc37bc90dd112', 'message': 'Designate: restrict minidns listening address to internal api network\n\nThis changes the listen/bind address from ""all"" to the internal API network.\n\nChange-Id: I5e900354676a30ae8cf53d0a2f4db0201f05207d\n'}, {'number': 2, 'created': '2022-02-03 19:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/908a5267d72f05228d9403aea50732d9eb36fbc1', 'message': 'Designate: miniDNS and bind9 instances on the proper networks\n\nThis changes the listen/bind address for the designate\'s miniDNS\ninstances from ""all"" to the internal API network. It also properly\nconfigures the designate BIND backend to be on the external network.\n(Both will default to ctlplane if it is absent)\n\nChange-Id: I5e900354676a30ae8cf53d0a2f4db0201f05207d\n'}, {'number': 3, 'created': '2022-02-03 19:41:30.000000000', 'files': ['deployment/designate/designate-mdns-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acf032a098d47f13564e3fc5716fe69f3d4ff813', 'message': 'Designate: miniDNS and bind9 instances on the proper networks\n\nThis changes the listen/bind address for the designate\'s miniDNS\ninstances from ""all"" to the internal API network. It also properly\nconfigures the designate BIND backend to be on the external network.\n(Both will default to ctlplane if it is absent)\n\nChange-Id: I5e900354676a30ae8cf53d0a2f4db0201f05207d\n'}]",6,825154,acf032a098d47f13564e3fc5716fe69f3d4ff813,16,5,3,6681,,,0,"Designate: miniDNS and bind9 instances on the proper networks

This changes the listen/bind address for the designate's miniDNS
instances from ""all"" to the internal API network. It also properly
configures the designate BIND backend to be on the external network.
(Both will default to ctlplane if it is absent)

Change-Id: I5e900354676a30ae8cf53d0a2f4db0201f05207d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/825154/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/designate/designate-mdns-container-puppet.yaml'],1,5e3e3081432f7b0a1ee10d4d9a7cc37bc90dd112,designate-mdns-proxy," - designate::mdns::listen: str_replace: template: ""%{hiera('$NETWORK')}:5354"" params: $NETWORK: {get_param: [ServiceNetMap, DesignateApiNetwork]}", - designate::mdns::listen: - '0.0.0.0:5354' - '[::]:5354',6,3
openstack%2Fkayobe~stable%2Fvictoria~I9c6e261dbac067ca3f9218e6ea81813ddc2f6520,openstack/kayobe,stable/victoria,I9c6e261dbac067ca3f9218e6ea81813ddc2f6520,Bump stackhpc.drac role,MERGED,2022-04-28 08:02:20.000000000,2022-04-29 12:03:21.000000000,2022-04-29 12:01:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-28 08:02:20.000000000', 'files': ['releasenotes/notes/stackhpc-drac-check-mode-8097215f8eca9991.yaml', 'requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b4f131d50024b00a2b01de9922fc642afac26c9a', 'message': 'Bump stackhpc.drac role\n\nThis new version fixes the evaluation of check_mode, which is causing\n`kayobe overcloud bios raid configure` to fail.\n\nChange-Id: I9c6e261dbac067ca3f9218e6ea81813ddc2f6520\n(cherry picked from commit 5d6b9714ff3d84afd02d7923ccd5145dd66b9774)\n(cherry picked from commit c0988335b1aa81cefd1368d1e6f6faa346de7bc6)\n'}]",0,839700,b4f131d50024b00a2b01de9922fc642afac26c9a,8,3,1,15197,,,0,"Bump stackhpc.drac role

This new version fixes the evaluation of check_mode, which is causing
`kayobe overcloud bios raid configure` to fail.

Change-Id: I9c6e261dbac067ca3f9218e6ea81813ddc2f6520
(cherry picked from commit 5d6b9714ff3d84afd02d7923ccd5145dd66b9774)
(cherry picked from commit c0988335b1aa81cefd1368d1e6f6faa346de7bc6)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/00/839700/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/stackhpc-drac-check-mode-8097215f8eca9991.yaml', 'requirements.yml']",2,b4f131d50024b00a2b01de9922fc642afac26c9a,, version: 1.1.6, version: 1.1.5,6,1
openstack%2Fpython-novaclient~master~I3975e5a67e0a8614ac2d6568e294c32a14f789e9,openstack/python-novaclient,master,I3975e5a67e0a8614ac2d6568e294c32a14f789e9,Remove unnecessary packages in bindep.txt,MERGED,2022-04-15 17:57:20.000000000,2022-04-29 11:59:08.000000000,2022-04-29 11:57:17.000000000,"[{'_account_id': 679}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 17:57:20.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/13ab47e7869b94ed1cfc867d59ff019a6d883e11', 'message': 'Remove unnecessary packages in bindep.txt\n\nChange-Id: I3975e5a67e0a8614ac2d6568e294c32a14f789e9\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}]",1,838199,13ab47e7869b94ed1cfc867d59ff019a6d883e11,8,3,1,7634,,,0,"Remove unnecessary packages in bindep.txt

Change-Id: I3975e5a67e0a8614ac2d6568e294c32a14f789e9
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/99/838199/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,13ab47e7869b94ed1cfc867d59ff019a6d883e11,remove_packages_in_bindep,,python-dev [platform:dpkg] python-devel [platform:rpm]python3.4 [platform:ubuntu-trusty] python3.5 [platform:ubuntu-xenial] python34-devel [platform:centos],0,5
openstack%2Fnova~master~I6a018b57de5afe772c2478aff836b39227dce228,openstack/nova,master,I6a018b57de5afe772c2478aff836b39227dce228,Add nova-emulation to the experimental queue too,MERGED,2022-04-06 10:20:18.000000000,2022-04-29 11:58:57.000000000,2022-04-29 11:55:48.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-06 10:20:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/abfd6922859d2373eb10ea3898d4468c3cae1764', 'message': 'Add nova-emulation to the experimental queue too\n\nThis job was moved to periodic in the past to save CI resources. However\nsometimes it can be valuable to trigger it on a given review. To be able\nto do that easily this patch also adds the job to the experimental\nqueue.\n\nThen the following gerrit comment can be used to trigger it:\n        check experimental\n\nChange-Id: I6a018b57de5afe772c2478aff836b39227dce228\n'}]",2,836792,abfd6922859d2373eb10ea3898d4468c3cae1764,23,5,1,9708,,,0,"Add nova-emulation to the experimental queue too

This job was moved to periodic in the past to save CI resources. However
sometimes it can be valuable to trigger it on a given review. To be able
to do that easily this patch also adds the job to the experimental
queue.

Then the following gerrit comment can be used to trigger it:
        check experimental

Change-Id: I6a018b57de5afe772c2478aff836b39227dce228
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/836792/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,abfd6922859d2373eb10ea3898d4468c3cae1764,, - nova-emulation,,1,0
openstack%2Fcinder~master~I09fe872eca1b112f67bad7297de5893696f83373,openstack/cinder,master,I09fe872eca1b112f67bad7297de5893696f83373,lightos - bugfix compression stats should be True,MERGED,2022-02-23 00:20:04.000000000,2022-04-29 11:57:36.000000000,2022-03-10 21:53:20.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 34459}, {'_account_id': 34544}]","[{'number': 1, 'created': '2022-02-23 00:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4efe223bd09baf9ef6be857d390b146c22f99c1', 'message': 'lightos - bugfix compression stats should be True\n\nthe compression value in get_volume_stats should be ""True""\nand not dependent on the\nconfiguration: lightos_default_compression_enabled\nif the flag is false, we can not create volume type with\ncompression=True. the backend is filtered in the scheduler.\n\nSigned-off-by: Yuval Brave  <yuval@lightbitslabs.com>\nChange-Id: I09fe872eca1b112f67bad7297de5893696f83373\n'}, {'number': 2, 'created': '2022-02-23 08:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0056321941dd25dee8bef84a70ef5b5a98e77615', 'message': 'lightos - bugfix compression stats should be True\n\nthe compression value in get_volume_stats should be ""True""\nand not dependent on the\nconfiguration: lightos_default_compression_enabled\nif the flag is false, we can not create volume type with\ncompression=True. the backend is filtered in the scheduler.\n\nSigned-off-by: Yuval Brave  <yuval@lightbitslabs.com>\nChange-Id: I09fe872eca1b112f67bad7297de5893696f83373\n'}, {'number': 3, 'created': '2022-02-23 13:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/15b76863a256a59e3d6e86d13dffefbc07bc97de', 'message': 'lightos - bugfix compression stats should be True\n\nthe compression value in get_volume_stats should be ""True""\nand not dependent on the\nconfiguration: lightos_default_compression_enabled\nif the flag is false, we can not create volume type with\ncompression=True. the backend is filtered in the scheduler.\n\nSigned-off-by: Yuval Brave  <yuval@lightbitslabs.com>\nChange-Id: I09fe872eca1b112f67bad7297de5893696f83373\n'}, {'number': 4, 'created': '2022-02-23 18:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84a11a00af40ebf44b5410ddc02608f3bf330d22', 'message': 'lightos - bugfix compression stats should be True\n\nthe compression value in get_volume_stats should be ""True""\nand not dependent on the\nconfiguration: lightos_default_compression_enabled\nif the flag is false, we can not create volume type with\ncompression=True. the backend is filtered in the scheduler.\n\nSigned-off-by: Yuval Brave  <yuval@lightbitslabs.com>\nChange-Id: I09fe872eca1b112f67bad7297de5893696f83373\n'}, {'number': 5, 'created': '2022-02-24 21:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8cd8d9faa1c6b9d88c5d3c4d88da256e50b028d', 'message': 'lightos - bugfix compression stats should be True\n\nthe compression value in get_volume_stats should be ""True""\nand not dependent on the\nconfiguration: lightos_default_compression_enabled\nif the flag is false, we can not create volume type with\ncompression=True. the backend is filtered in the scheduler.\n\nbugfix: https://bugs.launchpad.net/cinder/+bug/1962221\n\nSigned-off-by: Yuval Brave  <yuval@lightbitslabs.com>\nChange-Id: I09fe872eca1b112f67bad7297de5893696f83373\n'}, {'number': 6, 'created': '2022-03-03 15:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc818ad4105cc234d5d86d7e147695bbc30c5cd5', 'message': 'lightos - bugfix compression stats should be True\n\nthe compression value in get_volume_stats should be ""True""\nand not dependent on the\nconfiguration: lightos_default_compression_enabled\nif the flag is false, we can not create volume type with\ncompression=True. the backend is filtered in the scheduler.\n\nCloses-Bug: #1962221\n\nSigned-off-by: Yuval Brave  <yuval@lightbitslabs.com>\nChange-Id: I09fe872eca1b112f67bad7297de5893696f83373\n'}, {'number': 7, 'created': '2022-03-06 13:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96f3246b7ecb02c82fb30115be206b7c08abccdb', 'message': 'lightos - bugfix compression stats should be True\n\nthe compression value in get_volume_stats should be ""True""\nand not dependent on the\nconfiguration: lightos_default_compression_enabled\nif the flag is false, we can not create volume type with\ncompression=True. the backend is filtered in the scheduler.\n\nCloses-Bug: #1962221\n\nSigned-off-by: Yuval Brave  <yuval@lightbitslabs.com>\nChange-Id: I09fe872eca1b112f67bad7297de5893696f83373\n'}, {'number': 8, 'created': '2022-03-10 16:38:17.000000000', 'files': ['cinder/tests/unit/volume/drivers/lightos/test_lightos_storage.py', 'cinder/volume/drivers/lightos.py', 'doc/source/configuration/block-storage/drivers/lightbits-lightos-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c04e2084f366e4728662ea73d9d6dc73b6e5b0e3', 'message': 'lightos - bugfix compression stats should be True\n\nthe compression value in get_volume_stats should be [""True"", ""False""]\nand not dependent on the\nconfiguration: ""lightos_default_compression_enabled""\nif the flag is false, we can not create volume type with\ncompression=True. the backend is filtered in the scheduler.\n\nCloses-Bug: #1962221\n\nSigned-off-by: Yuval Brave  <yuval@lightbitslabs.com>\nChange-Id: I09fe872eca1b112f67bad7297de5893696f83373\n'}]",51,830538,c04e2084f366e4728662ea73d9d6dc73b6e5b0e3,214,6,8,33612,,,0,"lightos - bugfix compression stats should be True

the compression value in get_volume_stats should be [""True"", ""False""]
and not dependent on the
configuration: ""lightos_default_compression_enabled""
if the flag is false, we can not create volume type with
compression=True. the backend is filtered in the scheduler.

Closes-Bug: #1962221

Signed-off-by: Yuval Brave  <yuval@lightbitslabs.com>
Change-Id: I09fe872eca1b112f67bad7297de5893696f83373
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/830538/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/lightos.py'],1,d4efe223bd09baf9ef6be857d390b146c22f99c1,bug/1962221," 'compression': True,"," compression = self.configuration.safe_get( 'lightos_default_compression_enabled') 'compression': compression,",1,3
openstack%2Fkolla-ansible~master~Iff0016addb486669057e4bca9f4ecbc640e9164c,openstack/kolla-ansible,master,Iff0016addb486669057e4bca9f4ecbc640e9164c,[WIP] Try hide host systemd and dbus from libvirt,ABANDONED,2021-06-02 16:04:32.000000000,2022-04-29 11:55:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-02 16:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ffc20d94a1b19a4c076b2dc2852397b1d3ec5b11', 'message': '[WIP] Try hide host systemd and dbus from libvirt\n\nsee bug #1930545\n\nChange-Id: Iff0016addb486669057e4bca9f4ecbc640e9164c\n'}, {'number': 2, 'created': '2021-06-02 19:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2582b25ac668f8a9ed1549d7d91f376766073137', 'message': '[WIP] Try hide host systemd and dbus from libvirt\n\nsee bug #1930545\n\nChange-Id: Iff0016addb486669057e4bca9f4ecbc640e9164c\n'}, {'number': 3, 'created': '2021-08-11 11:54:39.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/89be965cc3e698844bc3f9411e67254bb41598e3', 'message': '[WIP] Try hide host systemd and dbus from libvirt\n\nsee bug #1930545\n\nChange-Id: Iff0016addb486669057e4bca9f4ecbc640e9164c\n'}]",0,794262,89be965cc3e698844bc3f9411e67254bb41598e3,13,1,3,30491,,,0,"[WIP] Try hide host systemd and dbus from libvirt

see bug #1930545

Change-Id: Iff0016addb486669057e4bca9f4ecbc640e9164c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/794262/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'zuul.d/base.yaml']",2,ffc20d94a1b19a4c076b2dc2852397b1d3ec5b11,bug/1930545, hi: howyoudoin,,1,2
openstack%2Fkolla-ansible~master~Ibe5013ec2895d0097843c9edd1917ce83542abd2,openstack/kolla-ansible,master,Ibe5013ec2895d0097843c9edd1917ce83542abd2,[CI] Stop overriding default python,ABANDONED,2022-03-01 18:52:26.000000000,2022-04-29 11:54:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-01 18:52:26.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/037b5273987e755bd5e49461c47287f069208d85', 'message': '[CI] Stop overriding default python\n\nThis may hide a certain class of bugs. [1]\n\n[1] https://review.opendev.org/c/openstack/tenks/+/831434\n\nChange-Id: Ibe5013ec2895d0097843c9edd1917ce83542abd2\n'}]",1,831435,037b5273987e755bd5e49461c47287f069208d85,6,1,1,30491,,,0,"[CI] Stop overriding default python

This may hide a certain class of bugs. [1]

[1] https://review.opendev.org/c/openstack/tenks/+/831434

Change-Id: Ibe5013ec2895d0097843c9edd1917ce83542abd2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/831435/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,037b5273987e755bd5e49461c47287f069208d85,ci-stop-overriding-default-python,,{% if ansible_os_family == 'Debian' %} # Force the use of python3 on Debian and Ubuntu remote hosts. These distros # typically have an unversioned Python interpreter which links to python2.7. ansible_python_interpreter: /usr/bin/python3 {% endif %} ,0,6
openstack%2Fneutron-lib~master~Ia532e4aa6ba2ed9e5ba4db75a250293890d9019d,openstack/neutron-lib,master,Ia532e4aa6ba2ed9e5ba4db75a250293890d9019d,Remove unimplemented api-def: BFD monitors,MERGED,2022-04-20 12:33:35.000000000,2022-04-29 11:54:30.000000000,2022-04-29 11:52:35.000000000,"[{'_account_id': 5948}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-20 12:33:35.000000000', 'files': ['neutron_lib/api/definitions/bfd_monitor.py', 'neutron_lib/tests/unit/api/validators/test_validators.py', 'api-ref/source/v2/samples/routers/router-add-extraroutes-response.json', 'neutron_lib/api/validators/bfd.py', 'api-ref/source/v2/bfd_monitors.inc', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/samples/routers/router-update-request.json', 'neutron_lib/api/definitions/base.py', 'api-ref/source/v2/samples/routers/router-show-response.json', 'api-ref/source/v2/samples/bfd/bfd_monitor-update-response.json', 'api-ref/source/v2/samples/bfd/bfd_monitor-list-response.json', 'releasenotes/notes/bfd_monitor_api_extension-910f5842783e040a.yaml', 'neutron_lib/tests/unit/api/definitions/test_bfd_for_extraroutes.py', 'api-ref/source/v2/samples/bfd/bfd_monitor-create-request.json', 'api-ref/source/v2/samples/bfd/bfd_monitor-update-request.json', 'api-ref/source/v2/samples/routers/router-update-response.json', 'neutron_lib/api/definitions/bfd_for_extraroutes.py', 'neutron_lib/tests/unit/api/definitions/test_bfd.py', 'api-ref/source/v2/samples/bfd/bfd_monitor-show-response.json', 'api-ref/source/v2/samples/bfd/bfd_monitor_association-response.json', 'neutron_lib/exceptions/l3.py', 'api-ref/source/v2/samples/routers/routers-list-response.json', 'api-ref/source/v2/samples/bfd/bfd_monitor-create-response.json', 'releasenotes/notes/bfd_monitor_for_extraroutes-ea889414ec8de401.yaml', 'api-ref/source/v2/index.rst', 'neutron_lib/tests/unit/api/validators/test_bfd.py', 'api-ref/source/v2/samples/bfd/bfd_monitor_session_status-response.json', 'neutron_lib/api/validators/__init__.py', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/routers/router-add-extraroutes-request.json', 'api-ref/source/v2/routers.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2dfe3c3983c085827be9bd747d458529bbb824a4', 'message': 'Remove unimplemented api-def: BFD monitors\n\nAs discussed during the Zed PTG (see [1]) , due to changed product\ndevelopment priorities we expect the BFD related extensions not\nto get implemented. This patch reverts all relevant changes.\n\nRevert Exception for BFD: BfdMonitorInUse,\na3b564dabf3939ee619fc9c5f67c83e7061e6759\n\nRevert BFD validator, d126257982fb9b457493115b55905d688ae9a499\n\nRevert Fix hostroute validation with BFD,\n5ff14c63c86cd24720d41822d871a0a096aa821e\n\nRevert extension for adding bfd monitors to extraroutes,\neb2c8a3c977a561abbf64a18248fda5169feee51\n\nRevert BFD api def, f8c5b72cc84fb982d990f127d8957071e430e577\n\n[1]: https://etherpad.opendev.org/p/neutron-zed-ptg#L111\nRelated-Bug: #1907089\n\nChange-Id: Ia532e4aa6ba2ed9e5ba4db75a250293890d9019d\n'}]",1,838720,2dfe3c3983c085827be9bd747d458529bbb824a4,10,5,1,8313,,,0,"Remove unimplemented api-def: BFD monitors

As discussed during the Zed PTG (see [1]) , due to changed product
development priorities we expect the BFD related extensions not
to get implemented. This patch reverts all relevant changes.

Revert Exception for BFD: BfdMonitorInUse,
a3b564dabf3939ee619fc9c5f67c83e7061e6759

Revert BFD validator, d126257982fb9b457493115b55905d688ae9a499

Revert Fix hostroute validation with BFD,
5ff14c63c86cd24720d41822d871a0a096aa821e

Revert extension for adding bfd monitors to extraroutes,
eb2c8a3c977a561abbf64a18248fda5169feee51

Revert BFD api def, f8c5b72cc84fb982d990f127d8957071e430e577

[1]: https://etherpad.opendev.org/p/neutron-zed-ptg#L111
Related-Bug: #1907089

Change-Id: Ia532e4aa6ba2ed9e5ba4db75a250293890d9019d
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/20/838720/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/bfd_monitor.py', 'neutron_lib/tests/unit/api/validators/test_validators.py', 'api-ref/source/v2/samples/routers/router-add-extraroutes-response.json', 'neutron_lib/api/validators/bfd.py', 'api-ref/source/v2/bfd_monitors.inc', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/samples/routers/router-update-request.json', 'neutron_lib/api/definitions/base.py', 'api-ref/source/v2/samples/routers/router-show-response.json', 'api-ref/source/v2/samples/bfd/bfd_monitor-update-response.json', 'api-ref/source/v2/samples/bfd/bfd_monitor-list-response.json', 'releasenotes/notes/bfd_monitor_api_extension-910f5842783e040a.yaml', 'neutron_lib/tests/unit/api/definitions/test_bfd_for_extraroutes.py', 'api-ref/source/v2/samples/bfd/bfd_monitor-create-request.json', 'api-ref/source/v2/samples/bfd/bfd_monitor-update-request.json', 'api-ref/source/v2/samples/routers/router-update-response.json', 'neutron_lib/api/definitions/bfd_for_extraroutes.py', 'neutron_lib/tests/unit/api/definitions/test_bfd.py', 'api-ref/source/v2/samples/bfd/bfd_monitor-show-response.json', 'api-ref/source/v2/samples/bfd/bfd_monitor_association-response.json', 'neutron_lib/exceptions/l3.py', 'api-ref/source/v2/samples/routers/routers-list-response.json', 'api-ref/source/v2/samples/bfd/bfd_monitor-create-response.json', 'releasenotes/notes/bfd_monitor_for_extraroutes-ea889414ec8de401.yaml', 'api-ref/source/v2/index.rst', 'neutron_lib/tests/unit/api/validators/test_bfd.py', 'api-ref/source/v2/samples/bfd/bfd_monitor_session_status-response.json', 'neutron_lib/api/validators/__init__.py', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/routers/router-add-extraroutes-request.json', 'api-ref/source/v2/routers.inc']",31,2dfe3c3983c085827be9bd747d458529bbb824a4,bug/1907089,,BFD monitors for Extraroutes extension (``bfd-for-extraroutes``) ================================================================ BFD monitors for Extraroutes extension (``bfd-for-extraroutes``) adds ``bfd_monitor_id`` field to the extraroutes dictionary. .. warning:: This API extension was merged as experimental to enable parallel development of multiple backends. At the moment this API does not have a reference implementation and should not be considered final. The removal of this warning will mark when the reference implementation gets merged and the feauture is ready to be consumed. ,10,939
openstack%2Fskyline-console~master~I64f7eb665c85caddcd6cf8b3084e259504c9dee6,openstack/skyline-console,master,I64f7eb665c85caddcd6cf8b3084e259504c9dee6,fix: fix component definition of trove,MERGED,2022-04-29 08:28:39.000000000,2022-04-29 11:54:27.000000000,2022-04-29 11:54:27.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-04-29 08:28:39.000000000', 'files': ['src/pages/database/containers/Configurations/index.jsx', 'src/pages/database/containers/Instances/actions/Delete.jsx', 'src/pages/database/containers/Backups/actions/Create.jsx', 'src/pages/database/containers/Instances/Detail/Logs.jsx', 'src/pages/database/containers/Backups/Detail/BaseDetail.jsx', 'src/pages/database/containers/Instances/Detail/UserAction.jsx', 'src/pages/database/containers/Instances/Detail/Users.jsx', 'src/stores/trove/instanceBackups.js', 'src/pages/database/containers/Instances/Detail/BaseDetail.jsx', 'src/pages/database/containers/Backups/Detail/index.jsx', 'src/pages/database/containers/Instances/index.jsx', 'src/pages/database/containers/Instances/Detail/DatabaseDelete.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepAdvanced/index.jsx', 'src/stores/trove/instances.js', 'src/pages/database/containers/Instances/Detail/Defaults.jsx', 'src/pages/database/containers/Configurations/Detail/index.jsx', 'src/pages/database/containers/Configurations/Detail/Values.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/index.jsx', 'src/pages/database/containers/Instances/Detail/DatabaseAction.jsx', 'src/pages/database/containers/Configurations/Detail/BaseDetail.jsx', 'src/stores/trove/configurations.js', 'src/pages/database/containers/Configurations/Detail/Instances.jsx', 'src/pages/database/containers/Instances/Detail/UserDelete.jsx', 'src/pages/database/containers/Configurations/actions/index.jsx', 'src/stores/trove/instancesLogs.js', 'src/client/trove/index.js', 'src/pages/database/containers/Instances/Detail/Backups.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepNetworking/index.jsx', 'src/pages/database/containers/Backups/actions/index.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepInitializeDatabases/index.jsx', 'src/pages/database/containers/Instances/Detail/Databases.jsx', 'src/pages/database/containers/Instances/Detail/index.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepDetails/index.jsx', 'src/pages/database/containers/Backups/index.jsx', 'src/stores/trove/instances-user.js', 'src/pages/database/containers/Configurations/actions/Delete.jsx', 'src/pages/database/routes/index.jsx', 'src/pages/database/containers/Configurations/actions/Create.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c805074df05c6348226500ef31cf85bcd7ce20ae', 'message': 'fix: fix component definition of trove\n\n1. Change the component definition to get better extension functionality\n2. Add Copyright info to some components\n3. Format some codes by prettier plugin\n\nChange-Id: I64f7eb665c85caddcd6cf8b3084e259504c9dee6\n'}]",0,839874,c805074df05c6348226500ef31cf85bcd7ce20ae,6,2,1,33689,,,0,"fix: fix component definition of trove

1. Change the component definition to get better extension functionality
2. Add Copyright info to some components
3. Format some codes by prettier plugin

Change-Id: I64f7eb665c85caddcd6cf8b3084e259504c9dee6
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/74/839874/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/database/containers/Configurations/index.jsx', 'src/pages/database/containers/Instances/actions/Delete.jsx', 'src/pages/database/containers/Backups/actions/Create.jsx', 'src/pages/database/containers/Instances/Detail/Logs.jsx', 'src/pages/database/containers/Backups/Detail/BaseDetail.jsx', 'src/pages/database/containers/Instances/Detail/UserAction.jsx', 'src/pages/database/containers/Instances/Detail/Users.jsx', 'src/stores/trove/instanceBackups.js', 'src/pages/database/containers/Instances/Detail/BaseDetail.jsx', 'src/pages/database/containers/Backups/Detail/index.jsx', 'src/pages/database/containers/Instances/index.jsx', 'src/pages/database/containers/Instances/Detail/DatabaseDelete.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepAdvanced/index.jsx', 'src/stores/trove/instances.js', 'src/pages/database/containers/Instances/Detail/Defaults.jsx', 'src/pages/database/containers/Configurations/Detail/index.jsx', 'src/pages/database/containers/Configurations/Detail/Values.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/index.jsx', 'src/pages/database/containers/Instances/Detail/DatabaseAction.jsx', 'src/pages/database/containers/Configurations/Detail/BaseDetail.jsx', 'src/stores/trove/configurations.js', 'src/pages/database/containers/Configurations/Detail/Instances.jsx', 'src/pages/database/containers/Instances/Detail/UserDelete.jsx', 'src/pages/database/containers/Configurations/actions/index.jsx', 'src/stores/trove/instancesLogs.js', 'src/client/trove/index.js', 'src/pages/database/containers/Instances/Detail/Backups.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepNetworking/index.jsx', 'src/pages/database/containers/Backups/actions/index.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepInitializeDatabases/index.jsx', 'src/pages/database/containers/Instances/Detail/Databases.jsx', 'src/pages/database/containers/Instances/Detail/index.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/StepDetails/index.jsx', 'src/pages/database/containers/Backups/index.jsx', 'src/stores/trove/instances-user.js', 'src/pages/database/containers/Configurations/actions/Delete.jsx', 'src/pages/database/routes/index.jsx', 'src/pages/database/containers/Configurations/actions/Create.jsx']",38,c805074df05c6348226500ef31cf85bcd7ce20ae,open-132018,export class Create extends ModalAction { export default inject('rootStore')(observer(Create));,@inject('rootStore') @observer export default class Create extends ModalAction {,430,292
openstack%2Fkolla-ansible~master~I94fd6b0c794d6b94fca29ce30a88802947dd06e4,openstack/kolla-ansible,master,I94fd6b0c794d6b94fca29ce30a88802947dd06e4,Use rabbitmq rolling upgrade,ABANDONED,2021-06-01 18:57:14.000000000,2022-04-29 11:53:48.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-01 18:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f7857e07a655ac66fc8dc40320dfca1333c9aeb', 'message': '[WIP] Try out rabbitmq rolling upgrade\n\nTo fix bug #1930293\n\nChange-Id: I94fd6b0c794d6b94fca29ce30a88802947dd06e4\n'}, {'number': 2, 'created': '2021-06-04 17:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bdd6cac1ce7347ad13a6f8283519d1dac7cea796', 'message': 'Use rabbitmq rolling upgrade\n\nDue to a fix [1] to another rabbitmq restart-related issue [2],\nthe RabbitMQ upgrades started failing randomly due to wrong\norder of starts and stops.\nThanks to having RabbitMQ 3.8, we can use rolling upgrade. [3]\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137\n[2] https://bugs.launchpad.net/kolla-ansible/+bug/1904702\n[3] https://www.rabbitmq.com/upgrade.html#rolling-upgrades\n\nChange-Id: I94fd6b0c794d6b94fca29ce30a88802947dd06e4\nCloses-Bug: #1930293\n'}, {'number': 3, 'created': '2021-06-04 17:09:13.000000000', 'files': ['ansible/roles/rabbitmq/tasks/upgrade.yml', 'releasenotes/notes/bug-1930293-f8fe05645a95ad5e.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6ad0f8ce7ca95a6973c77d549bba7cad8a68427b', 'message': 'Use rabbitmq rolling upgrade\n\nDue to a fix [1] to another rabbitmq restart-related issue [2],\nthe RabbitMQ upgrades started failing randomly due to wrong\norder of starts and stops.\nThanks to having RabbitMQ 3.8, we can use rolling upgrade. [3]\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137\n[2] https://bugs.launchpad.net/kolla-ansible/+bug/1904702\n[3] https://www.rabbitmq.com/upgrade.html#rolling-upgrades\n\nChange-Id: I94fd6b0c794d6b94fca29ce30a88802947dd06e4\nCloses-Bug: #1930293\n'}]",2,794026,6ad0f8ce7ca95a6973c77d549bba7cad8a68427b,30,3,3,30491,,,0,"Use rabbitmq rolling upgrade

Due to a fix [1] to another rabbitmq restart-related issue [2],
the RabbitMQ upgrades started failing randomly due to wrong
order of starts and stops.
Thanks to having RabbitMQ 3.8, we can use rolling upgrade. [3]

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/763137
[2] https://bugs.launchpad.net/kolla-ansible/+bug/1904702
[3] https://www.rabbitmq.com/upgrade.html#rolling-upgrades

Change-Id: I94fd6b0c794d6b94fca29ce30a88802947dd06e4
Closes-Bug: #1930293
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/794026/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/tasks/upgrade.yml', 'zuul.d/base.yaml', 'zuul.d/project.yaml']",3,5f7857e07a655ac66fc8dc40320dfca1333c9aeb,bug/1930293,, templates: - check-requirements - openstack-cover-jobs - openstack-python3-xena-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8s-source - kolla-ansible-debian-source - kolla-ansible-ubuntu-source - kolla-ansible-centos8s-source-kvm - kolla-ansible-ubuntu-source-kvm - kolla-ansible-centos8s-source-multinode-ipv6 - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8s-source-bifrost - kolla-ansible-centos8s-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8s-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8s-source-scenario-nfv - kolla-ansible-centos8s-source-magnum - kolla-ansible-ubuntu-source-magnum - kolla-ansible-centos8s-source-octavia - kolla-ansible-ubuntu-source-octavia - kolla-ansible-centos8s-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8s-source-ironic - kolla-ansible-centos8s-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8s-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8s-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8s-source-cells - kolla-ansible-centos8s-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8s-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8s-source-ovn - kolla-ansible-ubuntu-source-ovn - kolla-ansible-centos8s-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk - kolla-ansible-centos8s-source-monasca - kolla-ansible-centos8s-source-cephadm - kolla-ansible-ubuntu-source-cephadm check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64 gate: queue: kolla jobs: - kolla-ansible-centos8s-source - kolla-ansible-centos8s-source-upgrade - kolla-ansible-ubuntu-source - kolla-ansible-ubuntu-source-upgrade,2,102
openstack%2Fkolla-ansible~master~I34648374aa5cce8bbdb3860461c7defd32029815,openstack/kolla-ansible,master,I34648374aa5cce8bbdb3860461c7defd32029815,[WIP] Fix mount leak with NFS and Quobyte,ABANDONED,2022-01-20 14:49:08.000000000,2022-04-29 11:53:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-20 14:49:08.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/templates/nova.conf.d/libvirt.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4378bc821b78292c4dd9001315e20a2470c84599', 'message': '[WIP] Fix mount leak with NFS and Quobyte\n\nCloses-Bug: #1783978\nChange-Id: I34648374aa5cce8bbdb3860461c7defd32029815\n'}]",0,825514,4378bc821b78292c4dd9001315e20a2470c84599,4,1,1,30491,,,0,"[WIP] Fix mount leak with NFS and Quobyte

Closes-Bug: #1783978
Change-Id: I34648374aa5cce8bbdb3860461c7defd32029815
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/825514/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/templates/nova.conf.d/libvirt.conf.j2']",2,4378bc821b78292c4dd9001315e20a2470c84599,bug/1783978,{% if enable_shared_var_lib_nova_mnt | bool and enable_cinder_backend_nfs | bool %} nfs_mount_point_base = /var/lib/nova-mnt {% endif %} {% if enable_shared_var_lib_nova_mnt | bool and enable_cinder_backend_quobyte | bool %} quobyte_mount_point_base = /var/lib/nova-mnt {% endif %},,9,3
openstack%2Fkolla-ansible~master~I86d1920767ed54c5874e4454252813a8349ca1fd,openstack/kolla-ansible,master,I86d1920767ed54c5874e4454252813a8349ca1fd,[DNM] Test Debian all,ABANDONED,2021-10-19 16:41:00.000000000,2022-04-29 11:53:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-19 16:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71e56c34fa0a15006fd265862bfad71cb60ce95d', 'message': '[DNM] Test Debian all\n\nChange-Id: I86d1920767ed54c5874e4454252813a8349ca1fd\n'}, {'number': 2, 'created': '2021-10-21 13:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3bf0af07922f4f359683789da3e87ca2c97bb5ca', 'message': '[DNM] Test Debian all\n\nChange-Id: I86d1920767ed54c5874e4454252813a8349ca1fd\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/814900\n'}, {'number': 3, 'created': '2021-10-21 13:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4a604c4689b37265597667a73048eac11027fbb8', 'message': '[DNM] Test Debian all\n\nChange-Id: I86d1920767ed54c5874e4454252813a8349ca1fd\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/814900\n'}, {'number': 4, 'created': '2021-10-22 14:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a11d6b560e35b589ea123b54c4ac491548334080', 'message': '[DNM] Test Debian all\n\nChange-Id: I86d1920767ed54c5874e4454252813a8349ca1fd\n'}, {'number': 5, 'created': '2021-10-22 14:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0950e40a1853c72bdac4d631e173138302ec35d9', 'message': '[DNM] Test Debian all\n\nChange-Id: I86d1920767ed54c5874e4454252813a8349ca1fd\n'}, {'number': 6, 'created': '2021-10-22 17:19:50.000000000', 'files': ['tests/test-hashicorp-vault-passwords.sh', 'tests/run-hashi-vault.yml', 'ansible/roles/neutron/defaults/main.yml', 'tests/run.yml', 'tests/setup_gate.sh', 'tests/templates/globals-default.j2', 'tests/test-ovn.sh', 'ansible/roles/hacluster/defaults/main.yml', 'zuul.d/jobs.yaml', 'ansible/roles/masakari/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32653a93ea40713cb2c41b4c238510182ec4eb84', 'message': '[DNM] Test Debian all\n\nChange-Id: I86d1920767ed54c5874e4454252813a8349ca1fd\n'}]",10,814610,32653a93ea40713cb2c41b4c238510182ec4eb84,25,1,6,30491,,,0,"[DNM] Test Debian all

Change-Id: I86d1920767ed54c5874e4454252813a8349ca1fd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/814610/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,71e56c34fa0a15006fd265862bfad71cb60ce95d,dnm-test-debian-all, base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian base_distro: debian, base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: centos base_distro: centos base_distro: ubuntu base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: ubuntu base_distro: centos base_distro: centos base_distro: centos base_distro: ubuntu base_distro: centos base_distro: centos base_distro: ubuntu base_distro: centos base_distro: ubuntu base_distro: centos,44,44
openstack%2Fneutron~master~I6ec150a8f31bf841f1c8829719a0f08df531e53a,openstack/neutron,master,I6ec150a8f31bf841f1c8829719a0f08df531e53a,Docs build: Add NOTE to not remove requirements.txt,MERGED,2022-04-29 06:46:42.000000000,2022-04-29 11:46:04.000000000,2022-04-29 11:43:20.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 06:46:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a8187124b104c32eea5d7730b187897b504f5b9', 'message': 'Docs build: Add NOTE to not remove requirements.txt\n\nTo avoid unintentionally remove requirements.txt\nfrom deps list from docs env, add a NOTE.\n\nChange-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a\n'}]",4,839859,2a8187124b104c32eea5d7730b187897b504f5b9,15,5,1,13861,,,0,"Docs build: Add NOTE to not remove requirements.txt

To avoid unintentionally remove requirements.txt
from deps list from docs env, add a NOTE.

Change-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/839859/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2a8187124b104c32eea5d7730b187897b504f5b9,fix-docs-use-uc,# Do not remove requirements.txt from deps list as without it # upper constraints will not be used for deps listed in requirements.txt # and may cause issues,,3,0
openstack%2Freleases~master~Ibb821d6b2a44861ff15bff65bcbb91b0b0331565,openstack/releases,master,Ibb821d6b2a44861ff15bff65bcbb91b0b0331565,[xena] Release Horizon 20.1.2,MERGED,2022-04-28 08:57:53.000000000,2022-04-29 11:34:31.000000000,2022-04-29 11:34:31.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-04-28 08:57:53.000000000', 'files': ['deliverables/xena/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a14114a452201b50b34c4efc2f629b86a13ecbd4', 'message': '[xena] Release Horizon 20.1.2\n\nThis includes fixes for the resize instance\nbeing broken.\n\nChange-Id: Ibb821d6b2a44861ff15bff65bcbb91b0b0331565\n'}]",3,839707,a14114a452201b50b34c4efc2f629b86a13ecbd4,11,5,1,16137,,,0,"[xena] Release Horizon 20.1.2

This includes fixes for the resize instance
being broken.

Change-Id: Ibb821d6b2a44861ff15bff65bcbb91b0b0331565
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/839707/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/horizon.yaml'],1,a14114a452201b50b34c4efc2f629b86a13ecbd4,, - version: 20.1.2 projects: - repo: openstack/horizon hash: 17f4cbab7a2bd732695bb60450213a5389cfcc9d,,4,0
openstack%2Ftrove~master~Ie1a4790762b80b8f60eda86b879b73b8a6005eba,openstack/trove,master,Ie1a4790762b80b8f60eda86b879b73b8a6005eba,Add python3.9 support,MERGED,2022-04-28 14:18:32.000000000,2022-04-29 11:32:07.000000000,2022-04-29 11:30:38.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}]","[{'number': 1, 'created': '2022-04-28 14:18:32.000000000', 'files': ['doc/source/contributor/testing.rst', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/2725612128a9159dcf30692c779950427d474180', 'message': 'Add python3.9 support\n\nAdd python3.9 support and set the default test env\nfrom py38 to py39\n\nChange-Id: Ie1a4790762b80b8f60eda86b879b73b8a6005eba\n'}]",2,839774,2725612128a9159dcf30692c779950427d474180,9,3,1,26285,,,0,"Add python3.9 support

Add python3.9 support and set the default test env
from py38 to py39

Change-Id: Ie1a4790762b80b8f60eda86b879b73b8a6005eba
",git fetch https://review.opendev.org/openstack/trove refs/changes/74/839774/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'setup.cfg', 'tox.ini']",3,2725612128a9159dcf30692c779950427d474180,,"envlist = py39,pep8,cover,api-ref,releasenotes,bandit,fakemodetests","envlist = py38,pep8,cover,api-ref,releasenotes,bandit,fakemodetests",5,4
openstack%2Fmurano~stable%2Fwallaby~I1d80bfc5f9c3fecc8551ffc8592e39f76b671485,openstack/murano,stable/wallaby,I1d80bfc5f9c3fecc8551ffc8592e39f76b671485,[CI] Install dependencies for docs target,NEW,2022-04-29 10:01:07.000000000,2022-04-29 11:14:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 10:01:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/0510f022958e232ae857f256861c506af38c1e41', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs murano\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nChanges:\n  tox.ini\n\nNOTE(elod.illes): branch specific upper constraints file link updated.\n\nChange-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485\n(cherry picked from commit 1f211823aa8766075d80694c1c3eb6f8c4a3dedf)\n(cherry picked from commit 3d447b05e0ccf538bb646d8a3e8b523f1d1f70d2)\n(cherry picked from commit 433ca35839dd6db7eeffa158bec4cf69ec48f415)\n""}]",0,839892,0510f022958e232ae857f256861c506af38c1e41,2,1,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs murano
(with its requirements) in 'develop-inst' phase. In the latter case
'deps' is not used so that the constraints defined in 'deps' are not
used. This could lead to failures on stable branches when new packages
are released that break the build. To avoid this, the simplest solution
is to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Changes:
  tox.ini

NOTE(elod.illes): branch specific upper constraints file link updated.

Change-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485
(cherry picked from commit 1f211823aa8766075d80694c1c3eb6f8c4a3dedf)
(cherry picked from commit 3d447b05e0ccf538bb646d8a3e8b523f1d1f70d2)
(cherry picked from commit 433ca35839dd6db7eeffa158bec4cf69ec48f415)
",git fetch https://review.opendev.org/openstack/murano refs/changes/92/839892/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0510f022958e232ae857f256861c506af38c1e41,fix-docs-use-uc,# NOTE(elod.illes): requirements.txt is needed because otherwise # dependencies are installed during 'develop-inst' tox phase without # constraints which could cause failures in stable branches. deps = -c{env:TOX_CONSTRAINTS_FILTOX_CONSTRAINTS_FILEE:https://releases.openstack.org/constraints/upper/wallaby} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,7,1
openstack%2Ftrove-dashboard~master~I44064057042652e27c03e20a991e9f99a5aa4882,openstack/trove-dashboard,master,I44064057042652e27c03e20a991e9f99a5aa4882,Add python3.9 support,MERGED,2022-04-28 14:02:19.000000000,2022-04-29 11:14:08.000000000,2022-04-29 11:12:22.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}]","[{'number': 1, 'created': '2022-04-28 14:02:19.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/a2d62eb141818b85de5c1b4d2a050f6dd19c7332', 'message': 'Add python3.9 support\n\nThis ps Add python39 support and replace dashes with underscores in setup.cfg\n\nChange-Id: I44064057042652e27c03e20a991e9f99a5aa4882\n'}]",3,839770,a2d62eb141818b85de5c1b4d2a050f6dd19c7332,10,3,1,26285,,,0,"Add python3.9 support

This ps Add python39 support and replace dashes with underscores in setup.cfg

Change-Id: I44064057042652e27c03e20a991e9f99a5aa4882
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/70/839770/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,a2d62eb141818b85de5c1b4d2a050f6dd19c7332,,"envlist = py39,pep8","envlist = py38,pep8",7,5
openstack%2Freleases~master~I7e08f3a62cbb77cdcdc4f5a309009362320b9bc3,openstack/releases,master,I7e08f3a62cbb77cdcdc4f5a309009362320b9bc3,Release barbican for stable/victoria,ABANDONED,2022-01-21 11:09:13.000000000,2022-04-29 11:12:07.000000000,,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 11:09:13.000000000', 'files': ['deliverables/victoria/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c9c18f28b3933990db7c34a46f404302515e3a7e', 'message': 'Release barbican for stable/victoria\n\nThis release picks up new commits to barbican since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 11.0.0..797f4c8e\n85b9feec Fix policy for Orders\n06b4b32d Fix consumer name length validator\n7cf500a9 Fix policy for adding a secret to a container\nef281473 Fix RBAC and ACL access for managing secret containers\n86d7d641 Fix secret metadata access rules\n841973ca Fix POST /v1/secret/{secret-id}/metadata response\n28b13bce Ignore network errors during C_Finalize\n4079fcc1 Run TripleO jobs on CentOS8 instead of CentOS7\nc06b1b25 Raise maximum allowed secret size\nb41ceaa3 Allow multiple token labels for PKCS#11 driver\n3d3e00a9 Fix PKCS#11 reinitialization after failure\n7a889cd2 Use system locks in pkcs11 library\ndf5fb602 Update hacking for Python3\n8fb59519 Use barbican.conf in barbican-manage\ne11a962b Use serial number or label for PKCS#11 tokens\n5cfce64b Update TOX_CONSTRAINTS_FILE for stable/victoria\nabb547eb Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I7e08f3a62cbb77cdcdc4f5a309009362320b9bc3\n'}]",0,825761,c9c18f28b3933990db7c34a46f404302515e3a7e,3,3,1,17685,,,0,"Release barbican for stable/victoria

This release picks up new commits to barbican since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 11.0.0..797f4c8e
85b9feec Fix policy for Orders
06b4b32d Fix consumer name length validator
7cf500a9 Fix policy for adding a secret to a container
ef281473 Fix RBAC and ACL access for managing secret containers
86d7d641 Fix secret metadata access rules
841973ca Fix POST /v1/secret/{secret-id}/metadata response
28b13bce Ignore network errors during C_Finalize
4079fcc1 Run TripleO jobs on CentOS8 instead of CentOS7
c06b1b25 Raise maximum allowed secret size
b41ceaa3 Allow multiple token labels for PKCS#11 driver
3d3e00a9 Fix PKCS#11 reinitialization after failure
7a889cd2 Use system locks in pkcs11 library
df5fb602 Update hacking for Python3
8fb59519 Use barbican.conf in barbican-manage
e11a962b Use serial number or label for PKCS#11 tokens
5cfce64b Update TOX_CONSTRAINTS_FILE for stable/victoria
abb547eb Update .gitreview for stable/victoria

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I7e08f3a62cbb77cdcdc4f5a309009362320b9bc3
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/825761/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/barbican.yaml'],1,c9c18f28b3933990db7c34a46f404302515e3a7e,victoria-stable, - version: 11.1.0 projects: - repo: openstack/barbican hash: 797f4c8e8ec0df20e9a4053cdcd0da92108197b4,,4,0
openstack%2Freleases~master~I1d8228e31cc884444dd765579cfe364d23f0a13b,openstack/releases,master,I1d8228e31cc884444dd765579cfe364d23f0a13b,Release ansible-role-lunasa-hsm for stable/victoria,ABANDONED,2022-01-21 11:00:50.000000000,2022-04-29 11:11:57.000000000,,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 11:00:50.000000000', 'files': ['deliverables/victoria/ansible-role-lunasa-hsm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a8beffd0e19453872da4b5f9af1afb12c5bf9bee', 'message': 'Release ansible-role-lunasa-hsm for stable/victoria\n\nThis release picks up new commits to ansible-role-lunasa-hsm since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 1.0.0..2cdda84\n2cdda84 Remove use of ansible_fqdn\n0973186 Add task to remove clients from HSM\n9183138 Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I1d8228e31cc884444dd765579cfe364d23f0a13b\n'}]",0,825758,a8beffd0e19453872da4b5f9af1afb12c5bf9bee,3,3,1,17685,,,0,"Release ansible-role-lunasa-hsm for stable/victoria

This release picks up new commits to ansible-role-lunasa-hsm since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 1.0.0..2cdda84
2cdda84 Remove use of ansible_fqdn
0973186 Add task to remove clients from HSM
9183138 Update .gitreview for stable/victoria

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I1d8228e31cc884444dd765579cfe364d23f0a13b
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/825758/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ansible-role-lunasa-hsm.yaml'],1,a8beffd0e19453872da4b5f9af1afb12c5bf9bee,victoria-stable, - version: 1.0.1 projects: - repo: openstack/ansible-role-lunasa-hsm hash: 2cdda8466c4bd4a347e7ad8253bf1cfdcacf328b,,4,0
openstack%2Freleases~master~Ia94ec08549bdb069d0665bcb20c9f59b2e455eef,openstack/releases,master,Ia94ec08549bdb069d0665bcb20c9f59b2e455eef,Release adjutant-ui for stable/victoria,ABANDONED,2022-01-21 10:58:25.000000000,2022-04-29 11:10:42.000000000,,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 10:58:25.000000000', 'files': ['deliverables/victoria/adjutant-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f8431772fb0d1e929f0aa39853fa81abd2ec7726', 'message': 'Release adjutant-ui for stable/victoria\n\nThis release picks up new commits to adjutant-ui since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 1.0.0..58504b5\n58504b5 Now checks for code 202 when checking for success for other operations.\n8d78170 Now checks for code 202 when checking for success\n3414b2f Comparison exception causes quota output to fail\ne7edd5a Update TOX_CONSTRAINTS_FILE for stable/victoria\n4266f65 Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia94ec08549bdb069d0665bcb20c9f59b2e455eef\n'}]",0,825756,f8431772fb0d1e929f0aa39853fa81abd2ec7726,3,2,1,17685,,,0,"Release adjutant-ui for stable/victoria

This release picks up new commits to adjutant-ui since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 1.0.0..58504b5
58504b5 Now checks for code 202 when checking for success for other operations.
8d78170 Now checks for code 202 when checking for success
3414b2f Comparison exception causes quota output to fail
e7edd5a Update TOX_CONSTRAINTS_FILE for stable/victoria
4266f65 Update .gitreview for stable/victoria

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ia94ec08549bdb069d0665bcb20c9f59b2e455eef
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/825756/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/adjutant-ui.yaml'],1,f8431772fb0d1e929f0aa39853fa81abd2ec7726,victoria-stable, - version: 1.0.1 projects: - repo: openstack/adjutant-ui hash: 58504b599f73194ab0b0f296ded526eb2394fc7d,,4,0
openstack%2Fmurano~stable%2Fxena~I1d80bfc5f9c3fecc8551ffc8592e39f76b671485,openstack/murano,stable/xena,I1d80bfc5f9c3fecc8551ffc8592e39f76b671485,[CI] Install dependencies for docs target,NEW,2022-04-29 09:59:57.000000000,2022-04-29 11:10:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 09:59:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/433ca35839dd6db7eeffa158bec4cf69ec48f415', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs murano\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nChanges:\n  tox.ini\n\nNOTE(elod.illes): branch specific upper constraints file link updated.\n\nChange-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485\n(cherry picked from commit 1f211823aa8766075d80694c1c3eb6f8c4a3dedf)\n(cherry picked from commit 3d447b05e0ccf538bb646d8a3e8b523f1d1f70d2)\n""}]",0,839891,433ca35839dd6db7eeffa158bec4cf69ec48f415,2,1,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs murano
(with its requirements) in 'develop-inst' phase. In the latter case
'deps' is not used so that the constraints defined in 'deps' are not
used. This could lead to failures on stable branches when new packages
are released that break the build. To avoid this, the simplest solution
is to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Changes:
  tox.ini

NOTE(elod.illes): branch specific upper constraints file link updated.

Change-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485
(cherry picked from commit 1f211823aa8766075d80694c1c3eb6f8c4a3dedf)
(cherry picked from commit 3d447b05e0ccf538bb646d8a3e8b523f1d1f70d2)
",git fetch https://review.opendev.org/openstack/murano refs/changes/91/839891/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,433ca35839dd6db7eeffa158bec4cf69ec48f415,fix-docs-use-uc,# NOTE(elod.illes): requirements.txt is needed because otherwise # dependencies are installed during 'develop-inst' tox phase without # constraints which could cause failures in stable branches. deps = -c{env:TOX_CONSTRAINTS_FILTOX_CONSTRAINTS_FILEE:https://releases.openstack.org/constraints/upper/xena} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,7,1
openstack%2Fpython-troveclient~master~I5245be419244c8bd93c7099b61ce0a382f7a5065,openstack/python-troveclient,master,I5245be419244c8bd93c7099b61ce0a382f7a5065,Add python3.9 support,MERGED,2022-04-28 14:14:07.000000000,2022-04-29 11:08:18.000000000,2022-04-29 11:06:49.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}]","[{'number': 1, 'created': '2022-04-28 14:14:07.000000000', 'files': ['.gitignore', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/00a54650d5330170735f2c54c4897866cf5c5582', 'message': 'Add python3.9 support\n\nThis ps adds py39 support and replaces dashes with underscores\n\nChange-Id: I5245be419244c8bd93c7099b61ce0a382f7a5065\n'}]",2,839773,00a54650d5330170735f2c54c4897866cf5c5582,9,3,1,26285,,,0,"Add python3.9 support

This ps adds py39 support and replaces dashes with underscores

Change-Id: I5245be419244c8bd93c7099b61ce0a382f7a5065
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/73/839773/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'setup.cfg', 'tox.ini']",3,00a54650d5330170735f2c54c4897866cf5c5582,,"envlist = py39,pep8","envlist = py38,pep8",9,5
openstack%2Fmurano~stable%2Fvictoria~I1d80bfc5f9c3fecc8551ffc8592e39f76b671485,openstack/murano,stable/victoria,I1d80bfc5f9c3fecc8551ffc8592e39f76b671485,[CI] Install dependencies for docs target,NEW,2022-04-29 10:02:13.000000000,2022-04-29 11:03:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 10:02:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/f9b46aae5de3863789e50b1f7c74e3834c857ca3', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs murano\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nChanges:\n  tox.ini\n\nNOTE(elod.illes): branch specific upper constraints file link updated.\n\nChange-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485\n(cherry picked from commit 1f211823aa8766075d80694c1c3eb6f8c4a3dedf)\n(cherry picked from commit 3d447b05e0ccf538bb646d8a3e8b523f1d1f70d2)\n(cherry picked from commit 433ca35839dd6db7eeffa158bec4cf69ec48f415)\n(cherry picked from commit 0510f022958e232ae857f256861c506af38c1e41)\n""}]",0,839893,f9b46aae5de3863789e50b1f7c74e3834c857ca3,2,1,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs murano
(with its requirements) in 'develop-inst' phase. In the latter case
'deps' is not used so that the constraints defined in 'deps' are not
used. This could lead to failures on stable branches when new packages
are released that break the build. To avoid this, the simplest solution
is to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Changes:
  tox.ini

NOTE(elod.illes): branch specific upper constraints file link updated.

Change-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485
(cherry picked from commit 1f211823aa8766075d80694c1c3eb6f8c4a3dedf)
(cherry picked from commit 3d447b05e0ccf538bb646d8a3e8b523f1d1f70d2)
(cherry picked from commit 433ca35839dd6db7eeffa158bec4cf69ec48f415)
(cherry picked from commit 0510f022958e232ae857f256861c506af38c1e41)
",git fetch https://review.opendev.org/openstack/murano refs/changes/93/839893/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f9b46aae5de3863789e50b1f7c74e3834c857ca3,fix-docs-use-uc,# NOTE(elod.illes): requirements.txt is needed because otherwise # dependencies are installed during 'develop-inst' tox phase without # constraints which could cause failures in stable branches. deps = -c{env:TOX_CONSTRAINTS_FILTOX_CONSTRAINTS_FILEE:https://releases.openstack.org/constraints/upper/victoria} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,7,1
openstack%2Fmurano~stable%2Fyoga~I1d80bfc5f9c3fecc8551ffc8592e39f76b671485,openstack/murano,stable/yoga,I1d80bfc5f9c3fecc8551ffc8592e39f76b671485,[CI] Install dependencies for docs target,NEW,2022-04-29 09:57:56.000000000,2022-04-29 11:00:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 09:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/44ebadb86947e285625c4472327a2f856a297586', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs murano\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nChanges:\n  tox.ini\n\nNOTE(elod.illes): branch specific upper constraints file link updated.\n\nChange-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485\n(cherry picked from commit 1f211823aa8766075d80694c1c3eb6f8c4a3dedf)\n""}, {'number': 2, 'created': '2022-04-29 09:58:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/3d447b05e0ccf538bb646d8a3e8b523f1d1f70d2', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs murano\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nChanges:\n  tox.ini\n\nNOTE(elod.illes): branch specific upper constraints file link updated.\n\nChange-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485\n(cherry picked from commit 1f211823aa8766075d80694c1c3eb6f8c4a3dedf)\n""}]",0,839890,3d447b05e0ccf538bb646d8a3e8b523f1d1f70d2,3,1,2,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs murano
(with its requirements) in 'develop-inst' phase. In the latter case
'deps' is not used so that the constraints defined in 'deps' are not
used. This could lead to failures on stable branches when new packages
are released that break the build. To avoid this, the simplest solution
is to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Changes:
  tox.ini

NOTE(elod.illes): branch specific upper constraints file link updated.

Change-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485
(cherry picked from commit 1f211823aa8766075d80694c1c3eb6f8c4a3dedf)
",git fetch https://review.opendev.org/openstack/murano refs/changes/90/839890/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,44ebadb86947e285625c4472327a2f856a297586,fix-docs-use-uc,# NOTE(elod.illes): requirements.txt is needed because otherwise # dependencies are installed during 'develop-inst' tox phase without # constraints which could cause failures in stable branches. deps = -c{env:TOX_CONSTRAINTS_FILTOX_CONSTRAINTS_FILEE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,7,1
openstack%2Fkayobe~stable%2Fwallaby~Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000,openstack/kayobe,stable/wallaby,Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000,Fix Bifrost inspection through DHCP-relay,ABANDONED,2022-04-29 09:34:24.000000000,2022-04-29 10:58:25.000000000,,[{'_account_id': 15197}],"[{'number': 1, 'created': '2022-04-29 09:34:24.000000000', 'files': ['ansible/kolla-bifrost.yml', 'ansible/roles/kolla-bifrost/defaults/main.yml', 'releasenotes/notes/bifrost-dhcp-range-netmask-fd40642967042267.yaml', 'ansible/roles/kolla-bifrost/templates/bifrost.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/09631d76eb1f56ea37b17e664b7cb61dcf62f90f', 'message': 'Fix Bifrost inspection through DHCP-relay\n\nThis is continue of the changes to support Ironic/Bifrost provision\nthrough DHCP-relay same as I9488a72db588e31289907668f1997596a8ccdec6\n\nDepends-On: I74af38dc555b7edee8331e31dfd1a2fbfe4f1151\nChange-Id: Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit d271e705b94f0f82a14dead99c6fe660ea077de8)\n'}]",2,839885,09631d76eb1f56ea37b17e664b7cb61dcf62f90f,4,1,1,14200,,,0,"Fix Bifrost inspection through DHCP-relay

This is continue of the changes to support Ironic/Bifrost provision
through DHCP-relay same as I9488a72db588e31289907668f1997596a8ccdec6

Depends-On: I74af38dc555b7edee8331e31dfd1a2fbfe4f1151
Change-Id: Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit d271e705b94f0f82a14dead99c6fe660ea077de8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/85/839885/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/kolla-bifrost.yml', 'ansible/roles/kolla-bifrost/defaults/main.yml', 'releasenotes/notes/bifrost-dhcp-range-netmask-fd40642967042267.yaml', 'ansible/roles/kolla-bifrost/templates/bifrost.yml.j2']",4,09631d76eb1f56ea37b17e664b7cb61dcf62f90f,bifrost-dhcp-range-netmask,"dhcp_pool_mask: ""{{ kolla_bifrost_dhcp_pool_mask }}""",,8,0
openstack%2Fneutron~stable%2Fxena~Ic8f6472fe708d12f8fc129729465367083e1095a,openstack/neutron,stable/xena,Ic8f6472fe708d12f8fc129729465367083e1095a,Docs build: Add requirements.txt to deps,MERGED,2022-04-29 06:57:43.000000000,2022-04-29 10:20:00.000000000,2022-04-29 10:18:07.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 06:57:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/15c078cad5f009ee21e9f78797965a9de1cab880', 'message': ""Docs build: Add requirements.txt to deps\n\nSince we use usedevelop=True, as a result neutron\ninstallation happens at 'develop-inst' phase and it installs\nrequirements from requirements.txt without considering\ntox constraints, This can lead to issue where broken\nrequirements are installed in docs job and as a result\nit will fail.\n\nIn order to get constraints be considered for this case, add\nrequirements.txt to deps for docs env.\n\nAlso squashed below commit:-\n\nDocs build: Add NOTE to not remove requirements.txt\n\nTo avoid unintentionally remove requirements.txt\nfrom deps list from docs env, add a NOTE.\n\nChange-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a\n(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)\n\nChange-Id: Ic8f6472fe708d12f8fc129729465367083e1095a\n(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)\n""}]",0,839740,15c078cad5f009ee21e9f78797965a9de1cab880,10,3,1,13861,,,0,"Docs build: Add requirements.txt to deps

Since we use usedevelop=True, as a result neutron
installation happens at 'develop-inst' phase and it installs
requirements from requirements.txt without considering
tox constraints, This can lead to issue where broken
requirements are installed in docs job and as a result
it will fail.

In order to get constraints be considered for this case, add
requirements.txt to deps for docs env.

Also squashed below commit:-

Docs build: Add NOTE to not remove requirements.txt

To avoid unintentionally remove requirements.txt
from deps list from docs env, add a NOTE.

Change-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a
(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)

Change-Id: Ic8f6472fe708d12f8fc129729465367083e1095a
(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/839740/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,15c078cad5f009ee21e9f78797965a9de1cab880,fix-docs-use-uc-stable/xena,# Do not remove requirements.txt from deps list as without it # upper constraints will not be used for deps listed in requirements.txt # and may cause issues -r{toxinidir}/requirements.txt,,4,0
openstack%2Fneutron~stable%2Fyoga~Ic8f6472fe708d12f8fc129729465367083e1095a,openstack/neutron,stable/yoga,Ic8f6472fe708d12f8fc129729465367083e1095a,Docs build: Add requirements.txt to deps,MERGED,2022-04-29 06:52:15.000000000,2022-04-29 10:19:58.000000000,2022-04-29 10:18:02.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 06:52:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7bf80231e56b2e01e4deb50705a197665c1f8380', 'message': ""Docs build: Add requirements.txt to deps\n\nSince we use usedevelop=True, as a result neutron\ninstallation happens at 'develop-inst' phase and it installs\nrequirements from requirements.txt without considering\ntox constraints, This can lead to issue where broken\nrequirements are installed in docs job and as a result\nit will fail.\n\nIn order to get constraints be considered for this case, add\nrequirements.txt to deps for docs env.\n\nAlso squashed below commit:-\n\nDocs build: Add NOTE to not remove requirements.txt\n\nTo avoid unintentionally remove requirements.txt\nfrom deps list from docs env, add a NOTE.\n\nChange-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a\n(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)\n\nChange-Id: Ic8f6472fe708d12f8fc129729465367083e1095a\n(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)\n""}]",2,839860,7bf80231e56b2e01e4deb50705a197665c1f8380,12,3,1,13861,,,0,"Docs build: Add requirements.txt to deps

Since we use usedevelop=True, as a result neutron
installation happens at 'develop-inst' phase and it installs
requirements from requirements.txt without considering
tox constraints, This can lead to issue where broken
requirements are installed in docs job and as a result
it will fail.

In order to get constraints be considered for this case, add
requirements.txt to deps for docs env.

Also squashed below commit:-

Docs build: Add NOTE to not remove requirements.txt

To avoid unintentionally remove requirements.txt
from deps list from docs env, add a NOTE.

Change-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a
(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)

Change-Id: Ic8f6472fe708d12f8fc129729465367083e1095a
(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/839860/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7bf80231e56b2e01e4deb50705a197665c1f8380,fix-docs-use-uc,# Do not remove requirements.txt from deps list as without it # upper constraints will not be used for deps listed in requirements.txt # and may cause issues -r{toxinidir}/requirements.txt,,4,0
openstack%2Fnova~master~I700bac2e452135ee8f99df937fb44e2f72d60517,openstack/nova,master,I700bac2e452135ee8f99df937fb44e2f72d60517,test_report_cpu_traits: Update stale comment,NEW,2022-04-15 15:28:21.000000000,2022-04-29 10:17:33.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 15:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d89acb617899d84d2861840ff24deff738b7e98', 'message': 'test_report_cpu_traits: Update stale comment\n\nChange-Id: I700bac2e452135ee8f99df937fb44e2f72d60517\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2022-04-19 08:56:30.000000000', 'files': ['nova/tests/functional/libvirt/test_report_cpu_traits.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c604eeecbd55b4192c6839a5f4d15d07fe3e4c82', 'message': 'test_report_cpu_traits: Update stale comment\n\nChange-Id: I700bac2e452135ee8f99df937fb44e2f72d60517\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",1,838195,c604eeecbd55b4192c6839a5f4d15d07fe3e4c82,14,3,2,6962,,,0,"test_report_cpu_traits: Update stale comment

Change-Id: I700bac2e452135ee8f99df937fb44e2f72d60517
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/838195/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_report_cpu_traits.py'],1,9d89acb617899d84d2861840ff24deff738b7e98,bp/cpu-selection-with-hypervisor-consideration, # trait values are coming from fakelibvirt's baselineHypervisorCPU # result. COMPUTE_NODE is always set on the compute node provider., # trait values are coming from fakelibvirt's baselineCPU result. # COMPUTE_NODE is always set on the compute node provider.,2,2
openstack%2Fkolla~master~I14af40078508b06e46866b77ab200228ec827a0d,openstack/kolla,master,I14af40078508b06e46866b77ab200228ec827a0d,Add multipath to cinder-volume,MERGED,2022-04-27 07:57:20.000000000,2022-04-29 10:11:00.000000000,2022-04-29 10:09:07.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32761}, {'_account_id': 34290}]","[{'number': 1, 'created': '2022-04-27 07:57:20.000000000', 'files': ['docker/cinder/cinder-volume/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b9aa91381391c8aaabc7c76de39e5ee258562f4c', 'message': 'Add multipath to cinder-volume\n\nCinder-volume container can operate on multipath devices but\nfails to do so due to absent multipath package for several images.\nThis fix explicitely adds multipath to the image.\n\nCloses-Bug: #1970541\nChange-Id: I14af40078508b06e46866b77ab200228ec827a0d\n'}]",0,839481,b9aa91381391c8aaabc7c76de39e5ee258562f4c,10,5,1,13671,,,0,"Add multipath to cinder-volume

Cinder-volume container can operate on multipath devices but
fails to do so due to absent multipath package for several images.
This fix explicitely adds multipath to the image.

Closes-Bug: #1970541
Change-Id: I14af40078508b06e46866b77ab200228ec827a0d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/839481/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/cinder/cinder-volume/Dockerfile.j2'],1,b9aa91381391c8aaabc7c76de39e5ee258562f4c,bug/1970541," 'device-mapper-multipath', 'multipath-tools',",,2,0
openstack%2Fcharm-vault~stable%2F1.7~Iac989b30948fa43fe23851995a8ed00b08126587,openstack/charm-vault,stable/1.7,Iac989b30948fa43fe23851995a8ed00b08126587,Implement cert cache for vault units.,ABANDONED,2022-04-27 20:19:00.000000000,2022-04-29 10:08:51.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 20:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b70bc26abef563f4dfc236e089c5931434d9d71c', 'message': 'Implement cert cache for vault units.\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nConflicts for not having commit\n1de27bc18f8879c4782476a8daacbdf0a1cb7077\nin the tree.\n\nConflicts:\n  unit_tests/test_lib_charm_vault_pki.py\n\nCloses-Bug: #1940549\nChange-Id: Iac989b30948fa43fe23851995a8ed00b08126587\n(cherry picked from commit 1159e547dd755af97d5eab578cdfe90abad93843)\n'}, {'number': 2, 'created': '2022-04-28 17:43:02.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/6e68ada92e3642e4e4865bc688c48f67c814b22f', 'message': 'Implement cert cache for vault units.\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nCloses-Bug: #1940549\nChange-Id: Iac989b30948fa43fe23851995a8ed00b08126587\n'}]",4,839637,6e68ada92e3642e4e4865bc688c48f67c814b22f,12,3,2,14567,,,0,"Implement cert cache for vault units.

This cache is used to store certificates and keys
issued by the leader unit. Non-leader units read
these certificates and keep data in their
""tls-certificates"" relations up to date.
This ensures that charm units that receive certs
from vault can read from relation data of any
vault unit and receive correct data.

Closes-Bug: #1940549
Change-Id: Iac989b30948fa43fe23851995a8ed00b08126587
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/37/839637/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py']",4,b70bc26abef563f4dfc236e089c5931434d9d71c,charm-release-2204,"from unittest.mock import call, patch, MagicMockimport json @patch.object(vault_pki.hookenv, 'leader_get') def test_get_pki_cache(self, leader_get): """"""Test retrieving PKI from cache."""""" expected_pki = { ""client_unit_0"": { vault_pki.TOP_LEVEL_CERT_KEY: { ""client_unit_0.server.cert"": ""cert_data"", ""client_unit_0.server.key"": ""key_data"", } } } leader_get.return_value = json.dumps(expected_pki) pki = vault_pki.get_pki_cache() self.assertEqual(pki, expected_pki) # test retrieval if the PKI is not set leader_get.return_value = None pki = vault_pki.get_pki_cache() self.assertEqual(pki, {}) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_no_ca(self, get_ca, get_chain, get_pki_cache): """"""Test getting cert from cache when CA is missing."""""" get_ca.return_value = None get_chain.return_value = None cert, key = vault_pki.find_cert_in_cache(MagicMock()) # assert that CA cert or chain was retrieved get_ca.assert_called_once_with() get_chain.assert_called_once_with() # assert that function does not proceed due to the missing CA get_pki_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_missing(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test use case when searched certificate is not in cache."""""" request = MagicMock() request.unit_name = ""client_unit_0"" request._is_top_level_server_cert = True get_ca.return_value = MagicMock() get_pki_cache.return_value = {} cert, key = vault_pki.find_cert_in_cache(request) # assert that verification of cert is not attempted when # cert is not found verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) # Same scenario, but with non-top-level certificate request._is_top_level_server_cert = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI cache content pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: expected_cert, key_name: expected_key } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_not_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching non-top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI cache content pki = { client_name: { publish_key: { common_name: { ""cert"": expected_cert, ""key"": expected_key, } } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request.common_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI structure initial_pki = {} expected_pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: cert_data, key_name: key_data } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_non_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing non-top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI structure initial_pki = {} expected_pki = { client_name: { publish_key: { common_name: { ""cert"": cert_data, ""key"": key_data, } } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_remove_unit_from_cache(self, leader_set, get_pki_cache): """"""Test removing unit certificates from cache."""""" remaining_unit = ""client/0"" removed_unit = ""client/1"" pki = { remaining_unit: ""Unit certificates"", removed_unit: ""Unit certificates"", } expected_pki = { remaining_unit: ""Unit certificates"" } get_pki_cache.return_value = pki vault_pki.remove_unit_from_cache(removed_unit) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'update_cert_cache') def test_populate_cert_cache(self, update_cert_cache): # Define data for top level certificate and key top_level_cert_name = ""server.crt"" top_level_key_name = ""server.key"" top_level_cert_data = ""top level cert"" top_level_key_data = ""top level key"" # Define data for non-top level certificate processed_request_cn = ""juju_unit_service.crt"" processed_request_publish_key = ""juju_unit_service.processed"" processed_cert_data = ""processed cert"" processed_key_data = ""processed key"" # Mock request for top level certificate top_level_request = MagicMock() top_level_request._is_top_level_server_cert = True top_level_request._server_cert_key = top_level_cert_name top_level_request._server_key_key = top_level_key_name top_level_request._unit.relation.to_publish_raw = { top_level_cert_name: top_level_cert_data, top_level_key_name: top_level_key_data, } # Mock request for non-top level certificate processed_request = MagicMock() processed_request._is_top_level_server_cert = False processed_request.common_name = processed_request_cn processed_request._publish_key = processed_request_publish_key processed_request._unit.relation.to_publish = { processed_request_publish_key: {processed_request_cn: { ""cert"": processed_cert_data, ""key"": processed_key_data }} } tls_endpoint = MagicMock() tls_endpoint.all_requests = [top_level_request, processed_request] vault_pki.populate_cert_cache(tls_endpoint) expected_update_calls = [ call(top_level_request, top_level_cert_data, top_level_key_data), call(processed_request, processed_cert_data, processed_key_data), ] update_cert_cache.assert_has_calls(expected_update_calls)",from unittest.mock import patch,796,22
openstack%2Fkayobe~master~I3f499d63d19ba7f7372b401bd2da23ce627f18e5,openstack/kayobe,master,I3f499d63d19ba7f7372b401bd2da23ce627f18e5,kolla_passwords: add no_log for password overrides,MERGED,2022-04-12 11:15:58.000000000,2022-04-29 10:02:00.000000000,2022-04-29 10:00:37.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-12 11:15:58.000000000', 'files': ['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/51a57394bee0aa98365d1fc9f441a505bdd72b27', 'message': 'kolla_passwords: add no_log for password overrides\n\nThe kolla_passwords module overrides parameter may contain sensitive\ndata, including passwords and SSH keys. It should be protected via\nno_log. Without this, the parameter value may be exposed in Ansible\nlogs, or if level 3 verbosity is used, Ansible output.\n\nThis change adds no_log to the parameter.\n\nChange-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5\n'}]",1,837553,51a57394bee0aa98365d1fc9f441a505bdd72b27,10,3,1,14826,,,0,"kolla_passwords: add no_log for password overrides

The kolla_passwords module overrides parameter may contain sensitive
data, including passwords and SSH keys. It should be protected via
no_log. Without this, the parameter value may be exposed in Ansible
logs, or if level 3 verbosity is used, Ansible output.

This change adds no_log to the parameter.

Change-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/837553/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml']",2,51a57394bee0aa98365d1fc9f441a505bdd72b27,,"--- security: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. fixes: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. ",,12,1
openstack%2Fkolla-ansible~stable%2Fussuri~I12c1928cf1f1fb9e28f1741e7fe4968004ea1816,openstack/kolla-ansible,stable/ussuri,I12c1928cf1f1fb9e28f1741e7fe4968004ea1816,nova: improve compute service registration failure handling,MERGED,2022-04-25 08:13:45.000000000,2022-04-29 10:01:01.000000000,2022-04-29 09:58:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-25 08:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8890b14d1d9523140bf9cab4cd8ce21f2e154abc', 'message': 'nova: improve compute service registration failure handling\n\nIf any nova compute service fails to register itself, Kolla Ansible will\nfail the host that queries the Nova API. This is the first compute host\nin the inventory, and fails in the task:\n\n    Waiting for nova-compute services to register themselves\n\nOther hosts continue, often leading to further errors later on. Clearly\nthis is not idea.\n\nThis change modifies the behaviour to query the compute service list\nuntil all expected hosts are present, but does not fail the querying\nhost if they are not. A new task is added that executes for all hosts,\nand fails only those hosts that have not registered successfully.\n\nAlternatively, to fail all hosts in a cell when any compute service\nfails to register, set nova_compute_registration_fatal to true.\n\nChange-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816\nCloses-Bug: #1940119\n(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)\n'}, {'number': 2, 'created': '2022-04-25 08:14:43.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'releasenotes/notes/nova-discover-hosts-0353e9274f22195c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d499f573a72fa339a276a012967feb2b94fca56b', 'message': 'nova: improve compute service registration failure handling\n\nIf any nova compute service fails to register itself, Kolla Ansible will\nfail the host that queries the Nova API. This is the first compute host\nin the inventory, and fails in the task:\n\n    Waiting for nova-compute services to register themselves\n\nOther hosts continue, often leading to further errors later on. Clearly\nthis is not idea.\n\nThis change modifies the behaviour to query the compute service list\nuntil all expected hosts are present, but does not fail the querying\nhost if they are not. A new task is added that executes for all hosts,\nand fails only those hosts that have not registered successfully.\n\nAlternatively, to fail all hosts in a cell when any compute service\nfails to register, set nova_compute_registration_fatal to true.\n\nChange-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816\nCloses-Bug: #1940119\n(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)\n'}]",0,839180,d499f573a72fa339a276a012967feb2b94fca56b,10,3,2,14826,,,0,"nova: improve compute service registration failure handling

If any nova compute service fails to register itself, Kolla Ansible will
fail the host that queries the Nova API. This is the first compute host
in the inventory, and fails in the task:

    Waiting for nova-compute services to register themselves

Other hosts continue, often leading to further errors later on. Clearly
this is not idea.

This change modifies the behaviour to query the compute service list
until all expected hosts are present, but does not fail the querying
host if they are not. A new task is added that executes for all hosts,
and fails only those hosts that have not registered successfully.

Alternatively, to fail all hosts in a cell when any compute service
fails to register, set nova_compute_registration_fatal to true.

Change-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816
Closes-Bug: #1940119
(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/839180/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'releasenotes/notes/nova-discover-hosts-0353e9274f22195c.yaml']",6,8890b14d1d9523140bf9cab4cd8ce21f2e154abc,disco-stable/wallaby-stable/victoria-stable/ussuri,"--- fixes: - | Fixes an issue where a failure of any Nova compute service to register itself would cause only the host querying the nova API to fail. Now, only hosts that fail to register will fail the Kolla Ansible run. Alternatively, to fail all hosts in a cell when any compute service fails to register, set ``nova_compute_registration_fatal`` to ``true``. `LP#1940119 <https://bugs.launchpad.net/kolla-ansible/+bug/1940119>`__ ",,137,39
openstack%2Fkolla-ansible~stable%2Fwallaby~I12c1928cf1f1fb9e28f1741e7fe4968004ea1816,openstack/kolla-ansible,stable/wallaby,I12c1928cf1f1fb9e28f1741e7fe4968004ea1816,nova: improve compute service registration failure handling,MERGED,2022-04-25 08:08:16.000000000,2022-04-29 10:00:56.000000000,2022-04-29 09:58:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-25 08:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84f1f31029db6df5047ed8e74a65d180e18796b2', 'message': 'nova: improve compute service registration failure handling\n\nIf any nova compute service fails to register itself, Kolla Ansible will\nfail the host that queries the Nova API. This is the first compute host\nin the inventory, and fails in the task:\n\n    Waiting for nova-compute services to register themselves\n\nOther hosts continue, often leading to further errors later on. Clearly\nthis is not idea.\n\nThis change modifies the behaviour to query the compute service list\nuntil all expected hosts are present, but does not fail the querying\nhost if they are not. A new task is added that executes for all hosts,\nand fails only those hosts that have not registered successfully.\n\nAlternatively, to fail all hosts in a cell when any compute service\nfails to register, set nova_compute_registration_fatal to true.\n\nChange-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816\nCloses-Bug: #1940119\n(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)\n'}, {'number': 2, 'created': '2022-04-25 08:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a17660a34cb90d221f020f7e0d5f053bfa77f6c6', 'message': 'nova: improve compute service registration failure handling\n\nIf any nova compute service fails to register itself, Kolla Ansible will\nfail the host that queries the Nova API. This is the first compute host\nin the inventory, and fails in the task:\n\n    Waiting for nova-compute services to register themselves\n\nOther hosts continue, often leading to further errors later on. Clearly\nthis is not idea.\n\nThis change modifies the behaviour to query the compute service list\nuntil all expected hosts are present, but does not fail the querying\nhost if they are not. A new task is added that executes for all hosts,\nand fails only those hosts that have not registered successfully.\n\nAlternatively, to fail all hosts in a cell when any compute service\nfails to register, set nova_compute_registration_fatal to true.\n\nChange-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816\nCloses-Bug: #1940119\n(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)\n'}, {'number': 3, 'created': '2022-04-25 08:13:15.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'releasenotes/notes/nova-discover-hosts-0353e9274f22195c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/219c39500960dd8c771d9085f8b61c2124ecec79', 'message': 'nova: improve compute service registration failure handling\n\nIf any nova compute service fails to register itself, Kolla Ansible will\nfail the host that queries the Nova API. This is the first compute host\nin the inventory, and fails in the task:\n\n    Waiting for nova-compute services to register themselves\n\nOther hosts continue, often leading to further errors later on. Clearly\nthis is not idea.\n\nThis change modifies the behaviour to query the compute service list\nuntil all expected hosts are present, but does not fail the querying\nhost if they are not. A new task is added that executes for all hosts,\nand fails only those hosts that have not registered successfully.\n\nAlternatively, to fail all hosts in a cell when any compute service\nfails to register, set nova_compute_registration_fatal to true.\n\nChange-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816\nCloses-Bug: #1940119\n(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)\n'}]",0,839178,219c39500960dd8c771d9085f8b61c2124ecec79,12,3,3,14826,,,0,"nova: improve compute service registration failure handling

If any nova compute service fails to register itself, Kolla Ansible will
fail the host that queries the Nova API. This is the first compute host
in the inventory, and fails in the task:

    Waiting for nova-compute services to register themselves

Other hosts continue, often leading to further errors later on. Clearly
this is not idea.

This change modifies the behaviour to query the compute service list
until all expected hosts are present, but does not fail the querying
host if they are not. A new task is added that executes for all hosts,
and fails only those hosts that have not registered successfully.

Alternatively, to fail all hosts in a cell when any compute service
fails to register, set nova_compute_registration_fatal to true.

Change-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816
Closes-Bug: #1940119
(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/839178/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'releasenotes/notes/nova-discover-hosts-0353e9274f22195c.yaml']",6,84f1f31029db6df5047ed8e74a65d180e18796b2,disco-stable/wallaby,"--- fixes: - | Fixes an issue where a failure of any Nova compute service to register itself would cause only the host querying the nova API to fail. Now, only hosts that fail to register will fail the Kolla Ansible run. Alternatively, to fail all hosts in a cell when any compute service fails to register, set ``nova_compute_registration_fatal`` to ``true``. `LP#1940119 <https://bugs.launchpad.net/kolla-ansible/+bug/1940119>`__ ",,148,39
openstack%2Fkolla-ansible~stable%2Fvictoria~I12c1928cf1f1fb9e28f1741e7fe4968004ea1816,openstack/kolla-ansible,stable/victoria,I12c1928cf1f1fb9e28f1741e7fe4968004ea1816,nova: improve compute service registration failure handling,MERGED,2022-04-25 08:12:48.000000000,2022-04-29 10:00:53.000000000,2022-04-29 09:58:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-25 08:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ccb3d639beb5aa20032fc3b27fc1217a8621dce', 'message': 'nova: improve compute service registration failure handling\n\nIf any nova compute service fails to register itself, Kolla Ansible will\nfail the host that queries the Nova API. This is the first compute host\nin the inventory, and fails in the task:\n\n    Waiting for nova-compute services to register themselves\n\nOther hosts continue, often leading to further errors later on. Clearly\nthis is not idea.\n\nThis change modifies the behaviour to query the compute service list\nuntil all expected hosts are present, but does not fail the querying\nhost if they are not. A new task is added that executes for all hosts,\nand fails only those hosts that have not registered successfully.\n\nAlternatively, to fail all hosts in a cell when any compute service\nfails to register, set nova_compute_registration_fatal to true.\n\nChange-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816\nCloses-Bug: #1940119\n(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)\n'}, {'number': 2, 'created': '2022-04-25 08:13:32.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'releasenotes/notes/nova-discover-hosts-0353e9274f22195c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/03d29f414af972019173f8bd4b684cb976c92bd5', 'message': 'nova: improve compute service registration failure handling\n\nIf any nova compute service fails to register itself, Kolla Ansible will\nfail the host that queries the Nova API. This is the first compute host\nin the inventory, and fails in the task:\n\n    Waiting for nova-compute services to register themselves\n\nOther hosts continue, often leading to further errors later on. Clearly\nthis is not idea.\n\nThis change modifies the behaviour to query the compute service list\nuntil all expected hosts are present, but does not fail the querying\nhost if they are not. A new task is added that executes for all hosts,\nand fails only those hosts that have not registered successfully.\n\nAlternatively, to fail all hosts in a cell when any compute service\nfails to register, set nova_compute_registration_fatal to true.\n\nChange-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816\nCloses-Bug: #1940119\n(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)\n'}]",0,839179,03d29f414af972019173f8bd4b684cb976c92bd5,10,3,2,14826,,,0,"nova: improve compute service registration failure handling

If any nova compute service fails to register itself, Kolla Ansible will
fail the host that queries the Nova API. This is the first compute host
in the inventory, and fails in the task:

    Waiting for nova-compute services to register themselves

Other hosts continue, often leading to further errors later on. Clearly
this is not idea.

This change modifies the behaviour to query the compute service list
until all expected hosts are present, but does not fail the querying
host if they are not. A new task is added that executes for all hosts,
and fails only those hosts that have not registered successfully.

Alternatively, to fail all hosts in a cell when any compute service
fails to register, set nova_compute_registration_fatal to true.

Change-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816
Closes-Bug: #1940119
(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/839179/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'releasenotes/notes/nova-discover-hosts-0353e9274f22195c.yaml']",6,9ccb3d639beb5aa20032fc3b27fc1217a8621dce,disco-stable/wallaby-stable/victoria,"--- fixes: - | Fixes an issue where a failure of any Nova compute service to register itself would cause only the host querying the nova API to fail. Now, only hosts that fail to register will fail the Kolla Ansible run. Alternatively, to fail all hosts in a cell when any compute service fails to register, set ``nova_compute_registration_fatal`` to ``true``. `LP#1940119 <https://bugs.launchpad.net/kolla-ansible/+bug/1940119>`__ ",,146,74
openstack%2Fkolla-ansible~stable%2Fxena~I12c1928cf1f1fb9e28f1741e7fe4968004ea1816,openstack/kolla-ansible,stable/xena,I12c1928cf1f1fb9e28f1741e7fe4968004ea1816,nova: improve compute service registration failure handling,MERGED,2022-04-26 08:37:55.000000000,2022-04-29 10:00:46.000000000,2022-04-29 09:58:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-26 08:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc4a4bcb872cb0e3863f51a3eaff6f340cd43d1c', 'message': 'nova: improve compute service registration failure handling\n\nIf any nova compute service fails to register itself, Kolla Ansible will\nfail the host that queries the Nova API. This is the first compute host\nin the inventory, and fails in the task:\n\n    Waiting for nova-compute services to register themselves\n\nOther hosts continue, often leading to further errors later on. Clearly\nthis is not idea.\n\nThis change modifies the behaviour to query the compute service list\nuntil all expected hosts are present, but does not fail the querying\nhost if they are not. A new task is added that executes for all hosts,\nand fails only those hosts that have not registered successfully.\n\nAlternatively, to fail all hosts in a cell when any compute service\nfails to register, set nova_compute_registration_fatal to true.\n\nChange-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816\nCloses-Bug: #1940119\n(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)\n'}, {'number': 2, 'created': '2022-04-26 08:38:18.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'releasenotes/notes/nova-discover-hosts-0353e9274f22195c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/14ce3053029965c3ba76af982eeeadb37f06ea2b', 'message': 'nova: improve compute service registration failure handling\n\nIf any nova compute service fails to register itself, Kolla Ansible will\nfail the host that queries the Nova API. This is the first compute host\nin the inventory, and fails in the task:\n\n    Waiting for nova-compute services to register themselves\n\nOther hosts continue, often leading to further errors later on. Clearly\nthis is not idea.\n\nThis change modifies the behaviour to query the compute service list\nuntil all expected hosts are present, but does not fail the querying\nhost if they are not. A new task is added that executes for all hosts,\nand fails only those hosts that have not registered successfully.\n\nAlternatively, to fail all hosts in a cell when any compute service\nfails to register, set nova_compute_registration_fatal to true.\n\nChange-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816\nCloses-Bug: #1940119\n(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)\n'}]",0,839331,14ce3053029965c3ba76af982eeeadb37f06ea2b,11,3,2,14826,,,0,"nova: improve compute service registration failure handling

If any nova compute service fails to register itself, Kolla Ansible will
fail the host that queries the Nova API. This is the first compute host
in the inventory, and fails in the task:

    Waiting for nova-compute services to register themselves

Other hosts continue, often leading to further errors later on. Clearly
this is not idea.

This change modifies the behaviour to query the compute service list
until all expected hosts are present, but does not fail the querying
host if they are not. A new task is added that executes for all hosts,
and fails only those hosts that have not registered successfully.

Alternatively, to fail all hosts in a cell when any compute service
fails to register, set nova_compute_registration_fatal to true.

Change-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816
Closes-Bug: #1940119
(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/839331/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'releasenotes/notes/nova-discover-hosts-0353e9274f22195c.yaml']",6,cc4a4bcb872cb0e3863f51a3eaff6f340cd43d1c,disco-stable/yoga-stable/xena,"--- fixes: - | Fixes an issue where a failure of any Nova compute service to register itself would cause only the host querying the nova API to fail. Now, only hosts that fail to register will fail the Kolla Ansible run. Alternatively, to fail all hosts in a cell when any compute service fails to register, set ``nova_compute_registration_fatal`` to ``true``. `LP#1940119 <https://bugs.launchpad.net/kolla-ansible/+bug/1940119>`__ ",,145,73
openstack%2Fkolla~master~I39ab4afa4b713ab1a573e2ad9922b4c847ad35ef,openstack/kolla,master,I39ab4afa4b713ab1a573e2ad9922b4c847ad35ef,Use rsync to update kayobe-config,MERGED,2022-04-27 09:05:44.000000000,2022-04-29 10:00:42.000000000,2022-04-29 09:58:56.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-27 09:05:44.000000000', 'files': ['doc/source/contributor/release-management.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a655df39fff9eb70d4d13aa310cd65619276f370', 'message': 'Use rsync to update kayobe-config\n\nUsing cp will leave removed files in kayobe-config.\n\nChange-Id: I39ab4afa4b713ab1a573e2ad9922b4c847ad35ef\n'}]",0,839496,a655df39fff9eb70d4d13aa310cd65619276f370,9,4,1,15197,,,0,"Use rsync to update kayobe-config

Using cp will leave removed files in kayobe-config.

Change-Id: I39ab4afa4b713ab1a573e2ad9922b4c847ad35ef
",git fetch https://review.opendev.org/openstack/kolla refs/changes/96/839496/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/release-management.rst'],1,a655df39fff9eb70d4d13aa310cd65619276f370,, rsync -a --delete kayobe/etc/kayobe/ kayobe-config/etc/kayobe, cp -aR kayobe/etc/kayobe/* kayobe-config/etc/kayobe,1,1
openstack%2Fkolla-ansible~stable%2Fyoga~I12c1928cf1f1fb9e28f1741e7fe4968004ea1816,openstack/kolla-ansible,stable/yoga,I12c1928cf1f1fb9e28f1741e7fe4968004ea1816,nova: improve compute service registration failure handling,MERGED,2022-04-25 08:07:10.000000000,2022-04-29 09:59:24.000000000,2022-04-29 09:56:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-25 08:07:10.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'releasenotes/notes/nova-discover-hosts-0353e9274f22195c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a899865655f8559e671cdf926455cfb35a0e69ca', 'message': 'nova: improve compute service registration failure handling\n\nIf any nova compute service fails to register itself, Kolla Ansible will\nfail the host that queries the Nova API. This is the first compute host\nin the inventory, and fails in the task:\n\n    Waiting for nova-compute services to register themselves\n\nOther hosts continue, often leading to further errors later on. Clearly\nthis is not idea.\n\nThis change modifies the behaviour to query the compute service list\nuntil all expected hosts are present, but does not fail the querying\nhost if they are not. A new task is added that executes for all hosts,\nand fails only those hosts that have not registered successfully.\n\nAlternatively, to fail all hosts in a cell when any compute service\nfails to register, set nova_compute_registration_fatal to true.\n\nChange-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816\nCloses-Bug: #1940119\n(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)\n'}]",0,839177,a899865655f8559e671cdf926455cfb35a0e69ca,9,3,1,14826,,,0,"nova: improve compute service registration failure handling

If any nova compute service fails to register itself, Kolla Ansible will
fail the host that queries the Nova API. This is the first compute host
in the inventory, and fails in the task:

    Waiting for nova-compute services to register themselves

Other hosts continue, often leading to further errors later on. Clearly
this is not idea.

This change modifies the behaviour to query the compute service list
until all expected hosts are present, but does not fail the querying
host if they are not. A new task is added that executes for all hosts,
and fails only those hosts that have not registered successfully.

Alternatively, to fail all hosts in a cell when any compute service
fails to register, set nova_compute_registration_fatal to true.

Change-Id: I12c1928cf1f1fb9e28f1741e7fe4968004ea1816
Closes-Bug: #1940119
(cherry picked from commit f1d3ff11d0e43b7e70fe9c36709975d96dfa86e8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/839177/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'releasenotes/notes/nova-discover-hosts-0353e9274f22195c.yaml']",6,a899865655f8559e671cdf926455cfb35a0e69ca,disco-stable/yoga,"--- fixes: - | Fixes an issue where a failure of any Nova compute service to register itself would cause only the host querying the nova API to fail. Now, only hosts that fail to register will fail the Kolla Ansible run. Alternatively, to fail all hosts in a cell when any compute service fails to register, set ``nova_compute_registration_fatal`` to ``true``. `LP#1940119 <https://bugs.launchpad.net/kolla-ansible/+bug/1940119>`__ ",,133,73
openstack%2Fkolla-ansible~stable%2Fyoga~I2a5871ccd4e8198171ef3239ce95f475f3e4b051,openstack/kolla-ansible,stable/yoga,I2a5871ccd4e8198171ef3239ce95f475f3e4b051,nova: use any_errors_fatal for once-per-cell tasks,MERGED,2022-04-25 08:03:40.000000000,2022-04-29 09:57:39.000000000,2022-04-29 09:56:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-25 08:03:40.000000000', 'files': ['ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/nova.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b141d82f043719f5b7a366e6e4fac08d3becb267', 'message': 'nova: use any_errors_fatal for once-per-cell tasks\n\nWe run some nova tasks once per cell, using a condition to match a\nsingle host in the cell. In other similar tasks, we use run_once, which\nwill fail all hosts if the task fails. Typically these tasks are\ncritical, and that is desirable. However, with the approach used in\nnova-cell to support multiple cells, if a once-per-cell task fails, then\nother hosts will continue to execute, which could lead to unexpected\nresults.\n\nThis change adds any_errors_fatal to the plays or blocks that run these\ntasks.\n\nCloses-Bug: #1948694\n\nChange-Id: I2a5871ccd4e8198171ef3239ce95f475f3e4b051\n(cherry picked from commit 832989d0a6ab9ba1380d559e0e532c17db82c2c6)\n'}]",0,839172,b141d82f043719f5b7a366e6e4fac08d3becb267,9,3,1,14826,,,0,"nova: use any_errors_fatal for once-per-cell tasks

We run some nova tasks once per cell, using a condition to match a
single host in the cell. In other similar tasks, we use run_once, which
will fail all hosts if the task fails. Typically these tasks are
critical, and that is desirable. However, with the approach used in
nova-cell to support multiple cells, if a once-per-cell task fails, then
other hosts will continue to execute, which could lead to unexpected
results.

This change adds any_errors_fatal to the plays or blocks that run these
tasks.

Closes-Bug: #1948694

Change-Id: I2a5871ccd4e8198171ef3239ce95f475f3e4b051
(cherry picked from commit 832989d0a6ab9ba1380d559e0e532c17db82c2c6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/839172/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/nova.yml']",2,b141d82f043719f5b7a366e6e4fac08d3becb267,disco-stable/yoga, # Fail all hosts if any of these once-per-cell tasks fails. any_errors_fatal: true # Fail all hosts if any of these once-per-cell tasks fails. any_errors_fatal: true,,6,0
openstack%2Fheat~master~Iee0104a741cc050047824d23b8ab5ee9871c4f28,openstack/heat,master,Iee0104a741cc050047824d23b8ab5ee9871c4f28,Allow multiple required_service_extension,MERGED,2022-04-13 04:22:53.000000000,2022-04-29 09:48:35.000000000,2022-04-29 09:46:59.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 04:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/902ef05e547a2755a85958e77b0eb906f5c88ba0', 'message': 'Allow multiple required_service_extension\n\nIn some cases, some resources may require more than\none service_extension. In this case, we should allow\nresources to define a list of required resources.\n\nChange-Id: Iee0104a741cc050047824d23b8ab5ee9871c4f28\n'}, {'number': 2, 'created': '2022-04-13 04:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/caf23d947199d252a0ca8f5b53bf29d50a1a21bd', 'message': 'Allow multiple required_service_extension\n\nIn some cases, some resources may require more than\none service_extension. In this case, we should allow\nresources to define a list of required resources.\n\nChange-Id: Iee0104a741cc050047824d23b8ab5ee9871c4f28\n'}, {'number': 3, 'created': '2022-04-13 22:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a99a440b02055b17d14dff6c99f372bcc85aacc1', 'message': 'Allow multiple required_service_extension\n\nIn some cases, some resources may require more than\none service_extension. In this case, we should allow\nresources to define a list of required resources.\n\nChange-Id: Iee0104a741cc050047824d23b8ab5ee9871c4f28\n'}, {'number': 4, 'created': '2022-04-21 02:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/be1edecce19002ddadbfa0e87fe5a98ada4fd83b', 'message': 'Allow multiple required_service_extension\n\nIn some cases, some resources may require more than\none service_extension. In this case, we should allow\nresources to define a list of required resources.\n\nChange-Id: Iee0104a741cc050047824d23b8ab5ee9871c4f28\n'}, {'number': 5, 'created': '2022-04-21 02:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2959a638c5b66c9450c1f5f2b37170f749c2573f', 'message': 'Allow multiple required_service_extension\n\nIn some cases, some resources may require more than\none service_extension. In this case, we should allow\nresources to define a list of required resources.\n\nChange-Id: Iee0104a741cc050047824d23b8ab5ee9871c4f28\n'}, {'number': 6, 'created': '2022-04-21 05:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b933f228752d23bb93f15890be2a3cd83c03681d', 'message': 'Allow multiple required_service_extension\n\nIn some cases, some resources may require more than\none service_extension. In this case, we should allow\nresources to define a list of required resources.\n\nChange-Id: Iee0104a741cc050047824d23b8ab5ee9871c4f28\n'}, {'number': 7, 'created': '2022-04-26 06:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/65300caef332292624f2c46c14da92a7a3f3ebec', 'message': 'Allow multiple required_service_extension\n\nIn some cases, some resources may require more than\none service_extension. In this case, we should allow\nresources to define a list of required resources.\n\nChange-Id: Iee0104a741cc050047824d23b8ab5ee9871c4f28\n'}, {'number': 8, 'created': '2022-04-26 06:37:17.000000000', 'files': ['releasenotes/notes/support-multiple-required-extensions-277560a90308e17c.yaml', 'heat/tests/generic_resource.py', 'heat/engine/resource.py', 'heat/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5e14163f9c153e70fc51c6da4405fb5f66c2ca93', 'message': 'Allow multiple required_service_extension\n\nIn some cases, some resources may require more than\none service_extension. In this case, we should allow\nresources to define a list of required resources.\n\nChange-Id: Iee0104a741cc050047824d23b8ab5ee9871c4f28\n'}]",11,837657,5e14163f9c153e70fc51c6da4405fb5f66c2ca93,34,3,8,30073,,,0,"Allow multiple required_service_extension

In some cases, some resources may require more than
one service_extension. In this case, we should allow
resources to define a list of required resources.

Change-Id: Iee0104a741cc050047824d23b8ab5ee9871c4f28
",git fetch https://review.opendev.org/openstack/heat refs/changes/57/837657/8 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resource.py'],1,902ef05e547a2755a85958e77b0eb906f5c88ba0,extention-list," req_extension = cls.required_service_extension if not req_extension: return(True, None) if type(req_extension) is str: req_extension = req_extension.split() for ext in req_extension: is_ext_available = ( client_plugin.has_extension(ext)) if not is_ext_available: reason = _('Required extension {0} in {1} service ' 'is not available.') reason = reason.format(req_extension, cls.default_client_name) else: return (True, None)"," req_extension = cls.required_service_extension is_ext_available = ( not req_extension or client_plugin.has_extension( req_extension)) if is_ext_available: return (True, None) else: reason = _('Required extension {0} in {1} service ' 'is not available.') reason = reason.format(req_extension, cls.default_client_name)",15,11
openstack%2Fkolla-ansible~stable%2Fxena~I2a5871ccd4e8198171ef3239ce95f475f3e4b051,openstack/kolla-ansible,stable/xena,I2a5871ccd4e8198171ef3239ce95f475f3e4b051,nova: use any_errors_fatal for once-per-cell tasks,MERGED,2022-04-25 08:03:49.000000000,2022-04-29 09:45:56.000000000,2022-04-29 09:44:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-25 08:03:49.000000000', 'files': ['ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/nova.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d1b7814c76e309791353ad4a69ae6dfd14c75723', 'message': 'nova: use any_errors_fatal for once-per-cell tasks\n\nWe run some nova tasks once per cell, using a condition to match a\nsingle host in the cell. In other similar tasks, we use run_once, which\nwill fail all hosts if the task fails. Typically these tasks are\ncritical, and that is desirable. However, with the approach used in\nnova-cell to support multiple cells, if a once-per-cell task fails, then\nother hosts will continue to execute, which could lead to unexpected\nresults.\n\nThis change adds any_errors_fatal to the plays or blocks that run these\ntasks.\n\nCloses-Bug: #1948694\n\nChange-Id: I2a5871ccd4e8198171ef3239ce95f475f3e4b051\n(cherry picked from commit 832989d0a6ab9ba1380d559e0e532c17db82c2c6)\n'}]",0,839173,d1b7814c76e309791353ad4a69ae6dfd14c75723,9,3,1,14826,,,0,"nova: use any_errors_fatal for once-per-cell tasks

We run some nova tasks once per cell, using a condition to match a
single host in the cell. In other similar tasks, we use run_once, which
will fail all hosts if the task fails. Typically these tasks are
critical, and that is desirable. However, with the approach used in
nova-cell to support multiple cells, if a once-per-cell task fails, then
other hosts will continue to execute, which could lead to unexpected
results.

This change adds any_errors_fatal to the plays or blocks that run these
tasks.

Closes-Bug: #1948694

Change-Id: I2a5871ccd4e8198171ef3239ce95f475f3e4b051
(cherry picked from commit 832989d0a6ab9ba1380d559e0e532c17db82c2c6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/839173/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/nova.yml']",2,d1b7814c76e309791353ad4a69ae6dfd14c75723,disco-stable/xena, # Fail all hosts if any of these once-per-cell tasks fails. any_errors_fatal: true # Fail all hosts if any of these once-per-cell tasks fails. any_errors_fatal: true,,6,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I2a5871ccd4e8198171ef3239ce95f475f3e4b051,openstack/kolla-ansible,stable/wallaby,I2a5871ccd4e8198171ef3239ce95f475f3e4b051,nova: use any_errors_fatal for once-per-cell tasks,MERGED,2022-04-25 08:04:08.000000000,2022-04-29 09:42:50.000000000,2022-04-29 09:41:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-25 08:04:08.000000000', 'files': ['ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/nova.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fdb52f71acb462a4ade2e82a642c4bddd0c6f1a8', 'message': 'nova: use any_errors_fatal for once-per-cell tasks\n\nWe run some nova tasks once per cell, using a condition to match a\nsingle host in the cell. In other similar tasks, we use run_once, which\nwill fail all hosts if the task fails. Typically these tasks are\ncritical, and that is desirable. However, with the approach used in\nnova-cell to support multiple cells, if a once-per-cell task fails, then\nother hosts will continue to execute, which could lead to unexpected\nresults.\n\nThis change adds any_errors_fatal to the plays or blocks that run these\ntasks.\n\nCloses-Bug: #1948694\n\nChange-Id: I2a5871ccd4e8198171ef3239ce95f475f3e4b051\n(cherry picked from commit 832989d0a6ab9ba1380d559e0e532c17db82c2c6)\n'}]",0,839174,fdb52f71acb462a4ade2e82a642c4bddd0c6f1a8,9,3,1,14826,,,0,"nova: use any_errors_fatal for once-per-cell tasks

We run some nova tasks once per cell, using a condition to match a
single host in the cell. In other similar tasks, we use run_once, which
will fail all hosts if the task fails. Typically these tasks are
critical, and that is desirable. However, with the approach used in
nova-cell to support multiple cells, if a once-per-cell task fails, then
other hosts will continue to execute, which could lead to unexpected
results.

This change adds any_errors_fatal to the plays or blocks that run these
tasks.

Closes-Bug: #1948694

Change-Id: I2a5871ccd4e8198171ef3239ce95f475f3e4b051
(cherry picked from commit 832989d0a6ab9ba1380d559e0e532c17db82c2c6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/74/839174/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/nova.yml']",2,fdb52f71acb462a4ade2e82a642c4bddd0c6f1a8,disco-stable/wallaby, # Fail all hosts if any of these once-per-cell tasks fails. any_errors_fatal: true # Fail all hosts if any of these once-per-cell tasks fails. any_errors_fatal: true,,6,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I2a5871ccd4e8198171ef3239ce95f475f3e4b051,openstack/kolla-ansible,stable/victoria,I2a5871ccd4e8198171ef3239ce95f475f3e4b051,nova: use any_errors_fatal for once-per-cell tasks,MERGED,2022-04-25 08:04:21.000000000,2022-04-29 09:42:23.000000000,2022-04-29 09:40:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-25 08:04:21.000000000', 'files': ['ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/nova.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c10ce0d8623d5e900154d18c12966618340b50a', 'message': 'nova: use any_errors_fatal for once-per-cell tasks\n\nWe run some nova tasks once per cell, using a condition to match a\nsingle host in the cell. In other similar tasks, we use run_once, which\nwill fail all hosts if the task fails. Typically these tasks are\ncritical, and that is desirable. However, with the approach used in\nnova-cell to support multiple cells, if a once-per-cell task fails, then\nother hosts will continue to execute, which could lead to unexpected\nresults.\n\nThis change adds any_errors_fatal to the plays or blocks that run these\ntasks.\n\nCloses-Bug: #1948694\n\nChange-Id: I2a5871ccd4e8198171ef3239ce95f475f3e4b051\n(cherry picked from commit 832989d0a6ab9ba1380d559e0e532c17db82c2c6)\n'}]",0,839175,3c10ce0d8623d5e900154d18c12966618340b50a,9,3,1,14826,,,0,"nova: use any_errors_fatal for once-per-cell tasks

We run some nova tasks once per cell, using a condition to match a
single host in the cell. In other similar tasks, we use run_once, which
will fail all hosts if the task fails. Typically these tasks are
critical, and that is desirable. However, with the approach used in
nova-cell to support multiple cells, if a once-per-cell task fails, then
other hosts will continue to execute, which could lead to unexpected
results.

This change adds any_errors_fatal to the plays or blocks that run these
tasks.

Closes-Bug: #1948694

Change-Id: I2a5871ccd4e8198171ef3239ce95f475f3e4b051
(cherry picked from commit 832989d0a6ab9ba1380d559e0e532c17db82c2c6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/839175/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/nova.yml']",2,3c10ce0d8623d5e900154d18c12966618340b50a,disco-stable/victoria, # Fail all hosts if any of these once-per-cell tasks fails. any_errors_fatal: true # Fail all hosts if any of these once-per-cell tasks fails. any_errors_fatal: true,,6,0
openstack%2Fkolla-ansible~stable%2Fussuri~I2a5871ccd4e8198171ef3239ce95f475f3e4b051,openstack/kolla-ansible,stable/ussuri,I2a5871ccd4e8198171ef3239ce95f475f3e4b051,nova: use any_errors_fatal for once-per-cell tasks,MERGED,2022-04-25 08:04:45.000000000,2022-04-29 09:42:21.000000000,2022-04-29 09:40:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-25 08:04:45.000000000', 'files': ['ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/nova.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52e36675169d095ce028129ecdf95e0669c1434c', 'message': 'nova: use any_errors_fatal for once-per-cell tasks\n\nWe run some nova tasks once per cell, using a condition to match a\nsingle host in the cell. In other similar tasks, we use run_once, which\nwill fail all hosts if the task fails. Typically these tasks are\ncritical, and that is desirable. However, with the approach used in\nnova-cell to support multiple cells, if a once-per-cell task fails, then\nother hosts will continue to execute, which could lead to unexpected\nresults.\n\nThis change adds any_errors_fatal to the plays or blocks that run these\ntasks.\n\nCloses-Bug: #1948694\n\nChange-Id: I2a5871ccd4e8198171ef3239ce95f475f3e4b051\n(cherry picked from commit 832989d0a6ab9ba1380d559e0e532c17db82c2c6)\n'}]",0,839176,52e36675169d095ce028129ecdf95e0669c1434c,9,3,1,14826,,,0,"nova: use any_errors_fatal for once-per-cell tasks

We run some nova tasks once per cell, using a condition to match a
single host in the cell. In other similar tasks, we use run_once, which
will fail all hosts if the task fails. Typically these tasks are
critical, and that is desirable. However, with the approach used in
nova-cell to support multiple cells, if a once-per-cell task fails, then
other hosts will continue to execute, which could lead to unexpected
results.

This change adds any_errors_fatal to the plays or blocks that run these
tasks.

Closes-Bug: #1948694

Change-Id: I2a5871ccd4e8198171ef3239ce95f475f3e4b051
(cherry picked from commit 832989d0a6ab9ba1380d559e0e532c17db82c2c6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/839176/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/nova.yml']",2,52e36675169d095ce028129ecdf95e0669c1434c,disco-stable/ussuri, # Fail all hosts if any of these once-per-cell tasks fails. any_errors_fatal: true # Fail all hosts if any of these once-per-cell tasks fails. any_errors_fatal: true,,6,0
openstack%2Fnova~master~I441655aad36be036b611455359def80cfd275f7f,openstack/nova,master,I441655aad36be036b611455359def80cfd275f7f,add network interface card e1000-82545em,NEW,2020-12-24 02:18:28.000000000,2022-04-29 09:37:28.000000000,,"[{'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30395}, {'_account_id': 31412}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-12-24 02:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6ea88f229abb43f70605e9a282b6adc63a6cb12', 'message': 'add network interface card e1000-82545em\n\nChange-Id: I441655aad36be036b611455359def80cfd275f7f\n'}, {'number': 2, 'created': '2020-12-24 02:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/022274096841b128f082004b3e2ed4b9c192a5d2', 'message': 'add network interface card e1000-82545em\n\nTo support the e1000-82545em interface in nova for OS\nwhich needs this interface.\n\nChange-Id: I441655aad36be036b611455359def80cfd275f7f\n'}, {'number': 3, 'created': '2020-12-25 02:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbb9da274c31dd3a5487bf5de05711ca53082f83', 'message': 'add network interface card e1000-82545em\n\nTo support the e1000-82545em interface in nova for OS\nwhich needs this interface.\n\nChange-Id: I441655aad36be036b611455359def80cfd275f7f\n'}, {'number': 4, 'created': '2020-12-25 06:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2002f7f2ccadc287db2d75108a19d87e79808f5', 'message': 'add network interface card e1000-82545em\n\nTo support the e1000-82545em interface in nova for OS\nwhich needs this interface.\n\nChange-Id: I441655aad36be036b611455359def80cfd275f7f\n'}, {'number': 5, 'created': '2020-12-25 06:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8c4b9a889b7c509f44136f233961b5d517233d6', 'message': 'add network interface card e1000-82545em\n\nTo support the e1000-82545em interface in nova for OS\nwhich needs this interface.\n\nChange-Id: I441655aad36be036b611455359def80cfd275f7f\n'}, {'number': 6, 'created': '2020-12-25 08:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea928af8e9169357de75bfd96f1c0352f604a7e4', 'message': 'add network interface card e1000-82545em\n\nTo support the e1000-82545em interface in nova for OS\nwhich needs this interface.\n\nChange-Id: I441655aad36be036b611455359def80cfd275f7f\n'}, {'number': 7, 'created': '2020-12-28 01:26:47.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/common_payloads/ImageMetaPropsPayload.json', 'nova/objects/fields.py', 'nova/notifications/objects/image.py', 'nova/tests/unit/objects/test_objects.py', 'nova/network/model.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/objects/image_meta.py', 'nova/virt/vmwareapi/vm_util.py', 'releasenotes/notes/add-e1000-82545em-5f41ce364c61fc96.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/93b9ab14d8ba8e2821cb5ee04fbb6aeef409ad1b', 'message': 'add network interface card e1000-82545em\n\nTo support the e1000-82545em interface in nova for OS\nwhich needs this interface.\n\nChange-Id: I441655aad36be036b611455359def80cfd275f7f\n'}]",7,768384,93b9ab14d8ba8e2821cb5ee04fbb6aeef409ad1b,33,7,7,31827,,,0,"add network interface card e1000-82545em

To support the e1000-82545em interface in nova for OS
which needs this interface.

Change-Id: I441655aad36be036b611455359def80cfd275f7f
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/768384/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/network/model.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/objects/fields.py', 'nova/virt/vmwareapi/vm_util.py']",6,d6ea88f229abb43f70605e9a282b6adc63a6cb12,add-e1000-82545em," 'VirtualE1000-82545em', 'VirtualPCNet32', 'VirtualSriovEthernetCard', if name == network_model.VIF_MODEL_E1000_82545EM: return 'VirtualE1000-82545em'"," 'VirtualPCNet32', 'VirtualSriovEthernetCard',",18,3
openstack%2Fkayobe~master~Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000,openstack/kayobe,master,Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000,Fix Bifrost inspection through DHCP-relay,MERGED,2022-03-17 17:42:57.000000000,2022-04-29 09:20:44.000000000,2022-04-29 09:17:17.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-03-17 17:42:57.000000000', 'files': ['ansible/kolla-bifrost.yml', 'ansible/roles/kolla-bifrost/defaults/main.yml', 'releasenotes/notes/bifrost-dhcp-range-netmask-fd40642967042267.yaml', 'ansible/roles/kolla-bifrost/templates/kolla/config/bifrost/bifrost.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d271e705b94f0f82a14dead99c6fe660ea077de8', 'message': 'Fix Bifrost inspection through DHCP-relay\n\nThis is continue of the changes to support Ironic/Bifrost provision\nthrough DHCP-relay same as I9488a72db588e31289907668f1997596a8ccdec6\n\nDepends-On: I74af38dc555b7edee8331e31dfd1a2fbfe4f1151\nChange-Id: Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,834204,d271e705b94f0f82a14dead99c6fe660ea077de8,8,4,1,14200,,,0,"Fix Bifrost inspection through DHCP-relay

This is continue of the changes to support Ironic/Bifrost provision
through DHCP-relay same as I9488a72db588e31289907668f1997596a8ccdec6

Depends-On: I74af38dc555b7edee8331e31dfd1a2fbfe4f1151
Change-Id: Ie1d5ecf32c637b77757e56fbe2fae1ff7c0bf000
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/04/834204/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/kolla-bifrost.yml', 'ansible/roles/kolla-bifrost/defaults/main.yml', 'releasenotes/notes/bifrost-dhcp-range-netmask-fd40642967042267.yaml', 'ansible/roles/kolla-bifrost/templates/kolla/config/bifrost/bifrost.yml']",4,d271e705b94f0f82a14dead99c6fe660ea077de8,bifrost-dhcp-range-netmask,"dhcp_pool_mask: ""{{ kolla_bifrost_dhcp_pool_mask }}""",,8,0
openstack%2Fkayobe~master~Id8febf9f29e3cd230b9e516ab59e0fe9935cf375,openstack/kayobe,master,Id8febf9f29e3cd230b9e516ab59e0fe9935cf375,Use rsync to update kayobe-config,MERGED,2022-04-27 07:59:30.000000000,2022-04-29 09:19:35.000000000,2022-04-29 09:17:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-27 07:59:30.000000000', 'files': ['doc/source/contributor/releases.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/62724fec7f391ebd6ec224ef2034f55527415fc6', 'message': 'Use rsync to update kayobe-config\n\nUsing cp will leave removed files in kayobe-config.\n\nChange-Id: Id8febf9f29e3cd230b9e516ab59e0fe9935cf375\n'}]",2,839482,62724fec7f391ebd6ec224ef2034f55527415fc6,10,3,1,15197,,,0,"Use rsync to update kayobe-config

Using cp will leave removed files in kayobe-config.

Change-Id: Id8febf9f29e3cd230b9e516ab59e0fe9935cf375
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/82/839482/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/releases.rst'],1,62724fec7f391ebd6ec224ef2034f55527415fc6,release-docs, rsync -a --delete kayobe/etc/kayobe/ kayobe-config/etc/kayobe, cp -aR kayobe/etc/kayobe/* kayobe-config/etc/kayobe,1,1
openstack%2Fkayobe~stable%2Fxena~I9c6e261dbac067ca3f9218e6ea81813ddc2f6520,openstack/kayobe,stable/xena,I9c6e261dbac067ca3f9218e6ea81813ddc2f6520,Bump stackhpc.drac role,MERGED,2022-04-27 21:44:29.000000000,2022-04-29 09:19:34.000000000,2022-04-29 09:17:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-27 21:44:29.000000000', 'files': ['releasenotes/notes/stackhpc-drac-check-mode-8097215f8eca9991.yaml', 'requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4e3c0405cde0dfc2259ddbb70a574050d1c7bdec', 'message': 'Bump stackhpc.drac role\n\nThis new version fixes the evaluation of check_mode, which is causing\n`kayobe overcloud bios raid configure` to fail.\n\nChange-Id: I9c6e261dbac067ca3f9218e6ea81813ddc2f6520\n(cherry picked from commit 5d6b9714ff3d84afd02d7923ccd5145dd66b9774)\n'}]",0,839652,4e3c0405cde0dfc2259ddbb70a574050d1c7bdec,8,3,1,15197,,,0,"Bump stackhpc.drac role

This new version fixes the evaluation of check_mode, which is causing
`kayobe overcloud bios raid configure` to fail.

Change-Id: I9c6e261dbac067ca3f9218e6ea81813ddc2f6520
(cherry picked from commit 5d6b9714ff3d84afd02d7923ccd5145dd66b9774)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/52/839652/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/stackhpc-drac-check-mode-8097215f8eca9991.yaml', 'requirements.yml']",2,4e3c0405cde0dfc2259ddbb70a574050d1c7bdec,stackhpc-drac-bump-stable/xena, version: 1.1.6, version: 1.1.5,6,1
openstack%2Fkayobe~stable%2Fvictoria~I5273edc8265f115519f499e85fe12f8d22306c4b,openstack/kayobe,stable/victoria,I5273edc8265f115519f499e85fe12f8d22306c4b,Cleanup old and deprecated Swift configuration,MERGED,2022-04-22 10:20:16.000000000,2022-04-29 09:19:26.000000000,2022-04-29 09:17:11.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-22 10:20:16.000000000', 'files': ['ansible/roles/kolla-openstack/templates/glance.conf.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e8173844a7079d0adc4be1ba1012a59521774351', 'message': 'Cleanup old and deprecated Swift configuration\n\nThis is old and deprecated configuration settings for Swift not needed\nanymore because kolla-ansible correctly configure glance-api.conf and\nglance-swift.conf since Idddbf2ce741e0486d60e1de88c77a7f0332a5a2b when\nkolla_enable_swift variable set to true. This change can be backported\nthrough all releases till the Train.\n\nChange-Id: I5273edc8265f115519f499e85fe12f8d22306c4b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 10b8c1ead01c5372df40d565ac44a18ea20edc5e)\n'}]",0,839039,e8173844a7079d0adc4be1ba1012a59521774351,8,4,1,14200,,,0,"Cleanup old and deprecated Swift configuration

This is old and deprecated configuration settings for Swift not needed
anymore because kolla-ansible correctly configure glance-api.conf and
glance-swift.conf since Idddbf2ce741e0486d60e1de88c77a7f0332a5a2b when
kolla_enable_swift variable set to true. This change can be backported
through all releases till the Train.

Change-Id: I5273edc8265f115519f499e85fe12f8d22306c4b
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 10b8c1ead01c5372df40d565ac44a18ea20edc5e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/39/839039/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-openstack/templates/glance.conf.j2'],1,e8173844a7079d0adc4be1ba1012a59521774351,cleanup-glance-conf-swift,,{% if kolla_enable_swift | bool %} [glance_store] default_store=swift stores=swift {% raw %} swift_store_user=service:{{ glance_keystone_user }} swift_store_key={{ glance_keystone_password }} swift_store_auth_version=2 swift_store_auth_address={{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }}/v2.0 {% endraw %} swift_store_endpoint_type=internalURL swift_store_create_container_on_put=True #swift_store_config_file=/etc/glance/glance-api.conf #default_swift_reference=swift_store_ref #[swift_store_ref] #{% raw %} #user=service:{{ glance_keystone_user }} #key={{ glance_keystone_password }} #auth_version=2 #auth_address={{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }}/v2.0 #user_domain_id=default #project_domain_id=default #{% endraw %} {% endif %} ,0,29
openstack%2Fkayobe~master~Ia63efdd8a904cac09237dde7d8ae283ed5ae6bea,openstack/kayobe,master,Ia63efdd8a904cac09237dde7d8ae283ed5ae6bea,CI: Add some more irrelevant files to zuul jobs,MERGED,2022-04-14 08:04:55.000000000,2022-04-29 09:17:15.000000000,2022-04-29 09:17:15.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-14 08:04:55.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fcf154266a733985d4b02c5e312ceda6e67e0cd5', 'message': 'CI: Add some more irrelevant files to zuul jobs\n\nChange-Id: Ia63efdd8a904cac09237dde7d8ae283ed5ae6bea\n'}]",0,837836,fcf154266a733985d4b02c5e312ceda6e67e0cd5,7,3,1,14826,,,0,"CI: Add some more irrelevant files to zuul jobs

Change-Id: Ia63efdd8a904cac09237dde7d8ae283ed5ae6bea
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/36/837836/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,fcf154266a733985d4b02c5e312ceda6e67e0cd5,, - ^kayobe/tests/ - ^LICENSE$ - ^kayobe/tests/ - ^LICENSE$ - ^kayobe/tests/ - ^LICENSE$ - ^test-requirements.txt - ^\..+ - ^kayobe/tests/ - ^LICENSE$,,10,0
openstack%2Freleases~master~I13db2a6b5d7ea4026a17de543d425d1b4431c8ee,openstack/releases,master,I13db2a6b5d7ea4026a17de543d425d1b4431c8ee,Release oslo.policy to fix gates,MERGED,2022-04-28 14:34:25.000000000,2022-04-29 09:15:44.000000000,2022-04-29 09:15:44.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 9708}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-28 14:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6fb74f1fbdd90d006c2b6f3dd0ee24aa751d5910', 'message': 'Release oslo.policy to fix gates\n\nChange-Id: I13db2a6b5d7ea4026a17de543d425d1b4431c8ee\n'}, {'number': 2, 'created': '2022-04-28 15:44:03.000000000', 'files': ['deliverables/zed/oslo.policy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/79a3b4481a352a452db4fd7439ccf92a75529654', 'message': 'Release oslo.policy to fix gates\n\nChange-Id: I13db2a6b5d7ea4026a17de543d425d1b4431c8ee\n'}]",5,839775,79a3b4481a352a452db4fd7439ccf92a75529654,20,10,2,28522,,,0,"Release oslo.policy to fix gates

Change-Id: I13db2a6b5d7ea4026a17de543d425d1b4431c8ee
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/839775/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/oslo.policy.yaml'],1,6fb74f1fbdd90d006c2b6f3dd0ee24aa751d5910,oslo-zed, - version: 3.13.0 projects: - repo: openstack/oslo.policy hash: 9673a74b600cd387aa3d13a6ff923c06c304c55a,,4,0
openstack%2Fmurano-dashboard~master~I83c5b5a35b63790df1919974cbb4236eefd05b5d,openstack/murano-dashboard,master,I83c5b5a35b63790df1919974cbb4236eefd05b5d,Fixed Unit test for murano-dashboard,MERGED,2022-03-30 06:42:09.000000000,2022-04-29 08:51:39.000000000,2022-04-01 08:19:53.000000000,"[{'_account_id': 6476}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-30 06:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/bca1eaf1d945b7cbb3c0885eba9e316f656a3202', 'message': 'Fixed Unit test for murano-dashboard\n\nAfter 7052b7f065 merged in openstack/horizon a new Unit\ntest class introduced in horizon i.e. RestAPITestCase.\nThis patch updates murano-dashboard to import RestAPITestCase\nclass instead of TestCase. For more info. see [1]\n\n[1] https://review.opendev.org/c/openstack/horizon/+/827097/2/openstack_dashboard/test/helpers.py#485\n\nChange-Id: I83c5b5a35b63790df1919974cbb4236eefd05b5d\n'}, {'number': 2, 'created': '2022-04-01 05:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/c9f4295aca40a39a58391525ab74d065163d1f31', 'message': 'Fixed Unit test for murano-dashboard\n\nAfter 7052b7f065 merged in openstack/horizon a new Unit\ntest class introduced in horizon i.e. RestAPITestCase.\nThis patch updates murano-dashboard to import RestAPITestCase\nclass instead of TestCase. For more info. see [1]\n\n[1] https://review.opendev.org/c/openstack/horizon/+/827097/2/openstack_dashboard/test/helpers.py#485\n\nChange-Id: I83c5b5a35b63790df1919974cbb4236eefd05b5d\n'}, {'number': 3, 'created': '2022-04-01 07:41:50.000000000', 'files': ['.zuul.yaml', 'muranodashboard/tests/unit/environments/test_rest_api.py', 'muranodashboard/tests/unit/images/test_views.py', 'muranodashboard/tests/unit/packages/test_views.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/7f29364734517e4a53be84a15771d8b10d7f4b20', 'message': 'Fixed Unit test for murano-dashboard\n\nAfter 7052b7f065 merged in openstack/horizon a new Unit\ntest class introduced in horizon i.e. RestAPITestCase.\nThis patch updates murano-dashboard to import RestAPITestCase\nclass instead of TestCase. For more info. see [1]\n\n[1] https://review.opendev.org/c/openstack/horizon/+/827097/2/openstack_dashboard/test/helpers.py#485\n\nChange-Id: I83c5b5a35b63790df1919974cbb4236eefd05b5d\n'}]",2,835781,7f29364734517e4a53be84a15771d8b10d7f4b20,13,3,3,29313,,,0,"Fixed Unit test for murano-dashboard

After 7052b7f065 merged in openstack/horizon a new Unit
test class introduced in horizon i.e. RestAPITestCase.
This patch updates murano-dashboard to import RestAPITestCase
class instead of TestCase. For more info. see [1]

[1] https://review.opendev.org/c/openstack/horizon/+/827097/2/openstack_dashboard/test/helpers.py#485

Change-Id: I83c5b5a35b63790df1919974cbb4236eefd05b5d
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/81/835781/3 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/tests/unit/environments/test_rest_api.py', 'muranodashboard/tests/unit/packages/test_views.py']",2,bca1eaf1d945b7cbb3c0885eba9e316f656a3202,,class TestModifyPackageView(helpers.RestAPITestCase):class TestImportBundleWizard(helpers.RestAPITestCase):,class TestModifyPackageView(helpers.APITestCase):class TestImportBundleWizard(helpers.APITestCase):,4,4
openstack%2Fcharm-vault~master~Iac989b30948fa43fe23851995a8ed00b08126587,openstack/charm-vault,master,Iac989b30948fa43fe23851995a8ed00b08126587,Implement cert cache for vault units.,MERGED,2022-02-11 14:20:11.000000000,2022-04-29 08:19:02.000000000,2022-04-25 15:55:46.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 14:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/66d9fbd2266749d1954b0aa58a2adca61f7a2dc1', 'message': 'Implement cert cache for vault units.\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nCloses-Bug: #1940549\nChange-Id: Iac989b30948fa43fe23851995a8ed00b08126587\n'}, {'number': 2, 'created': '2022-02-16 13:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/0fda9aeaa59db1865982d5bb376641ebc49a2210', 'message': 'Implement cert cache for vault units.\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nCloses-Bug: #1940549\nChange-Id: Iac989b30948fa43fe23851995a8ed00b08126587\n'}, {'number': 3, 'created': '2022-03-23 19:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/9a56bf67da06e51fbbb4020978944fef489802f6', 'message': 'Implement cert cache for vault units.\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nCloses-Bug: #1940549\nChange-Id: Iac989b30948fa43fe23851995a8ed00b08126587\n'}, {'number': 4, 'created': '2022-03-28 10:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/71b49ad52a4044861bb4ecad0a23799ec59b1440', 'message': 'Implement cert cache for vault units.\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nCloses-Bug: #1940549\nChange-Id: Iac989b30948fa43fe23851995a8ed00b08126587\n'}, {'number': 5, 'created': '2022-04-04 11:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/834483ef7db3059ba67d0190c5a89983753eab53', 'message': 'Implement cert cache for vault units.\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nCloses-Bug: #1940549\nChange-Id: Iac989b30948fa43fe23851995a8ed00b08126587\n'}, {'number': 6, 'created': '2022-04-08 13:05:58.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1159e547dd755af97d5eab578cdfe90abad93843', 'message': 'Implement cert cache for vault units.\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nCloses-Bug: #1940549\nChange-Id: Iac989b30948fa43fe23851995a8ed00b08126587\n'}]",40,828885,1159e547dd755af97d5eab578cdfe90abad93843,52,5,6,32288,,,0,"Implement cert cache for vault units.

This cache is used to store certificates and keys
issued by the leader unit. Non-leader units read
these certificates and keep data in their
""tls-certificates"" relations up to date.
This ensures that charm units that receive certs
from vault can read from relation data of any
vault unit and receive correct data.

Closes-Bug: #1940549
Change-Id: Iac989b30948fa43fe23851995a8ed00b08126587
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/85/828885/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py']",4,66d9fbd2266749d1954b0aa58a2adca61f7a2dc1,bug/1940549,"from unittest.mock import patch, MagicMockimport json @patch.object(vault_pki.hookenv, 'leader_get') def test_get_pki_cache(self, leader_get): """"""Test retrieving PKI from cache."""""" expected_pki = {""client_unit_0"": {vault_pki.TOP_LEVEL_CERT_KEY: { ""client_unit_0.server.cert"": ""cert_data"", ""client_unit_0.server.key"": ""key_data"", }}} leader_get.return_value = json.dumps(expected_pki) pki = vault_pki.get_pki_cache() self.assertEqual(pki, expected_pki) # test retrieval if the PKI is not set leader_get.return_value = None pki = vault_pki.get_pki_cache() self.assertEqual(pki, {}) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_no_ca(self, get_ca, get_chain, get_pki_cache): """"""Test getting cert from cache when CA is missing."""""" get_ca.return_value = None get_chain.return_value = None cert, key = vault_pki.find_cert_in_cache(MagicMock()) # assert that CA cert or chain was retrieved get_ca.assert_called_once_with() get_chain.assert_called_once_with() # assert that function does not proceed due to the missing CA get_pki_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_missing(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test use case when searched certificate is not in cache."""""" request = MagicMock() request.unit_name = ""client_unit_0"" request._is_top_level_server_cert = True get_ca.return_value = MagicMock() get_pki_cache.return_value = {} cert, key = vault_pki.find_cert_in_cache(request) # assert that verification of cert is not attempted when # cert is not found verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) ## Same scenario, but with non-top-level certificate request._is_top_level_server_cert = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key= key_name # PKI cache content pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: expected_cert, key_name: expected_key } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_not_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching non-top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI cache content pki = { client_name: { publish_key: { common_name: { ""cert"": expected_cert, ""key"": expected_key, } } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request.common_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key= key_name # PKI structure initial_pki = {} expected_pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: cert_data, key_name: key_data } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_non_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing non-top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI structure initial_pki = {} expected_pki = { client_name: { publish_key: { common_name: { ""cert"": cert_data, ""key"": key_data, } } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_remove_unit_from_cache(self, leader_set, get_pki_cache): """"""Test removing unit certificates from cache."""""" remaining_unit = ""client/0"" removed_unit = ""client/1"" pki = { remaining_unit: ""Unit certificates"", removed_unit: ""Unit certificates"", } expected_pki = { remaining_unit: ""Unit certificates"" } get_pki_cache.return_value = pki vault_pki.remove_unit_from_cache(removed_unit) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} )",from unittest.mock import patch,662,16
openstack%2Frequirements~stable%2Fyoga~I3bfa2bcf41ab5cd934c4ddaa84e8fded8cdb7a02,openstack/requirements,stable/yoga,I3bfa2bcf41ab5cd934c4ddaa84e8fded8cdb7a02,update constraint for oslo.utils to new release 4.12.3,MERGED,2022-04-28 13:53:46.000000000,2022-04-29 07:58:08.000000000,2022-04-29 07:58:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 13:53:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e86b83e479e7779da8e053a612c913d618ad560c', 'message': 'update constraint for oslo.utils to new release 4.12.3\n\nmeta: version: 4.12.3\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ib493c2bd32c1bcef28d971724442abc2a2690b66\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I3bfa2bcf41ab5cd934c4ddaa84e8fded8cdb7a02\n'}]",0,839764,e86b83e479e7779da8e053a612c913d618ad560c,17,2,1,11131,,,0,"update constraint for oslo.utils to new release 4.12.3

meta: version: 4.12.3
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ib493c2bd32c1bcef28d971724442abc2a2690b66
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I3bfa2bcf41ab5cd934c4ddaa84e8fded8cdb7a02
",git fetch https://review.opendev.org/openstack/requirements refs/changes/64/839764/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e86b83e479e7779da8e053a612c913d618ad560c,new-release,oslo.utils===4.12.3,oslo.utils===4.12.2,1,1
openstack%2Foctavia-tempest-plugin~master~Iffd698f8c510990ffd6ecc87d0eccf60116b5c2a,openstack/octavia-tempest-plugin,master,Iffd698f8c510990ffd6ecc87d0eccf60116b5c2a,Move to Python 3.8,ABANDONED,2022-04-29 06:59:12.000000000,2022-04-29 07:41:18.000000000,,[{'_account_id': 29244}],"[{'number': 1, 'created': '2022-04-29 06:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2f3fe35992dc3c8d932f1c97d8eefb3927e3c51b', 'message': 'Move to Python 3.8\n\nChange-Id: Iffd698f8c510990ffd6ecc87d0eccf60116b5c2a\n'}, {'number': 2, 'created': '2022-04-29 07:11:56.000000000', 'files': ['setup.cfg', 'zuul.d/jobs.yaml', 'releasenotes/notes/move-to-python-3.8-342c549a4a078402.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f1e45862c2b288712fec5816bcced50448e2c1f9', 'message': 'Move to Python 3.8\n\nChange-Id: Iffd698f8c510990ffd6ecc87d0eccf60116b5c2a\n'}]",1,839861,f1e45862c2b288712fec5816bcced50448e2c1f9,4,1,2,34429,,,0,"Move to Python 3.8

Change-Id: Iffd698f8c510990ffd6ecc87d0eccf60116b5c2a
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/61/839861/2 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'zuul.d/jobs.yaml']",2,2f3fe35992dc3c8d932f1c97d8eefb3927e3c51b,py38, name: octavia-v2-dsvm-noop-py38-api name: octavia-v2-dsvm-py38-scenario, name: octavia-v2-dsvm-noop-py35-api name: octavia-v2-dsvm-py35-scenario,5,5
openstack%2Fproject-config~master~Id3f1bd51d203758b5908903819b305decfa96a42,openstack/project-config,master,Id3f1bd51d203758b5908903819b305decfa96a42,Normalize projects.yaml,MERGED,2022-04-29 02:28:14.000000000,2022-04-29 06:57:13.000000000,2022-04-29 02:55:17.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 02:28:14.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a913973a2b376b8e77714174310a927596b456d0', 'message': 'Normalize projects.yaml\n\nChange-Id: Id3f1bd51d203758b5908903819b305decfa96a42\n'}]",0,839837,a913973a2b376b8e77714174310a927596b456d0,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Id3f1bd51d203758b5908903819b305decfa96a42
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/839837/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,a913973a2b376b8e77714174310a927596b456d0,project-yaml-normalization,, upstream: https://github.com/openstack-charmers/charm-cinder-three-par,0,1
openstack%2Ftripleo-quickstart~master~I73e0dcb86de532cb2a0454b1940cdf330ba276c0,openstack/tripleo-quickstart,master,I73e0dcb86de532cb2a0454b1940cdf330ba276c0,Enable neutron service for creating public network,MERGED,2022-04-28 11:55:20.000000000,2022-04-29 06:50:46.000000000,2022-04-29 06:49:16.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-28 11:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b7898c74e9ca3cf4354bb7eb750d1d59a282ad58', 'message': 'Enable neutron service for creating public network\n\nhttps://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nmodifies the os_tempest role to create only specific tempest\nresources.\n\nEarlier neutron public network id is setted when public\nnetwork exists but due to above patch, we need to make\nsure neutron service is enabled and tempest_public_net_create\nis set to true (default to true).\n\nIt fixes the same.\n\nCloses-Bug: #1970710\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I73e0dcb86de532cb2a0454b1940cdf330ba276c0\n'}, {'number': 2, 'created': '2022-04-28 12:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bb4179eb2acbd6ae28c031743f66c2ebd38494a2', 'message': 'Enable neutron service for creating public network\n\nhttps://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nmodifies the os_tempest role to create only specific tempest\nresources.\n\nEarlier neutron public network id is setted when public\nnetwork exists but due to above patch, we need to make\nsure neutron service is enabled and tempest_public_net_create\nis set to true (default to true).\n\nIt fixes the same.\n\nCloses-Bug: #1970710\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I73e0dcb86de532cb2a0454b1940cdf330ba276c0\n'}, {'number': 3, 'created': '2022-04-28 14:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9296384191f8bd13f554a33558d02bc6891c45f5', 'message': 'Enable neutron service for creating public network\n\nhttps://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nmodifies the os_tempest role to create only specific tempest\nresources.\n\nEarlier neutron public network id is setted when public\nnetwork exists but due to above patch, we need to make\nsure neutron service is enabled and tempest_public_net_create\nis set to true (default to true).\n\nIt fixes the same and also avoids creating private network on\nundercloud.\n\nCloses-Bug: #1970710\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I73e0dcb86de532cb2a0454b1940cdf330ba276c0\n'}, {'number': 4, 'created': '2022-04-28 18:52:22.000000000', 'files': ['config/general_config/featureset027.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a8c10578d2d7d9b94dc424bca3e7b5eab968543e', 'message': 'Enable neutron service for creating public network\n\nhttps://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nmodifies the os_tempest role to create only specific tempest\nresources.\n\nEarlier neutron public network id is setted when public\nnetwork exists but due to above patch, we need to make\nsure neutron service is enabled and tempest_public_net_create\nis set to true (default to true).\n\nIt fixes the same and also avoids creating private network on\nundercloud.\n\nCloses-Bug: #1970710\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I73e0dcb86de532cb2a0454b1940cdf330ba276c0\n'}]",2,839724,a8c10578d2d7d9b94dc424bca3e7b5eab968543e,26,5,4,12393,,,0,"Enable neutron service for creating public network

https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477
modifies the os_tempest role to create only specific tempest
resources.

Earlier neutron public network id is setted when public
network exists but due to above patch, we need to make
sure neutron service is enabled and tempest_public_net_create
is set to true (default to true).

It fixes the same and also avoids creating private network on
undercloud.

Closes-Bug: #1970710

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I73e0dcb86de532cb2a0454b1940cdf330ba276c0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/24/839724/4 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset027.yml'],1,b7898c74e9ca3cf4354bb7eb750d1d59a282ad58,lp/1970710,# Enable neutron service to create public network tempest_service_available_neutron: true ,,3,0
openstack%2Ftripleo-quickstart-extras~master~If7318f501c72ea5fb012e2935a316eb7c3d15e5e,openstack/tripleo-quickstart-extras,master,If7318f501c72ea5fb012e2935a316eb7c3d15e5e,"Add tempest_{private_net_create, router_create} vars in os_tempest",MERGED,2022-04-28 07:35:20.000000000,2022-04-29 06:49:19.000000000,2022-04-29 06:49:19.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-04-28 07:35:20.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bedde96ad9d276a7c4b3c8d3c0b8c124e3453ca4', 'message': ""Add tempest_{private_net_create, router_create} vars in os_tempest\n\nhttps://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nmodifies the os_tempest role to create only specific tempest\nresources.\n\nEarlier private network and routers were created when network\nrelated vars are set. Due to above patch, we are no longer creating\nthat.\n\nThat's why tempest_neutron_public_network_id is not getting\nset and leading to failure of tempestconf generation via os_tempest.\n\nSetting above vars fixes the issue.\n\nCloses-Bug: #1970710\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: If7318f501c72ea5fb012e2935a316eb7c3d15e5e\n""}]",3,839694,bedde96ad9d276a7c4b3c8d3c0b8c124e3453ca4,16,10,1,12393,,,0,"Add tempest_{private_net_create, router_create} vars in os_tempest

https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477
modifies the os_tempest role to create only specific tempest
resources.

Earlier private network and routers were created when network
related vars are set. Due to above patch, we are no longer creating
that.

That's why tempest_neutron_public_network_id is not getting
set and leading to failure of tempestconf generation via os_tempest.

Setting above vars fixes the issue.

Closes-Bug: #1970710

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: If7318f501c72ea5fb012e2935a316eb7c3d15e5e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/94/839694/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,bedde96ad9d276a7c4b3c8d3c0b8c124e3453ca4,lp/1970710, tempest_private_net_create: true tempest_router_create: true,,2,0
openstack%2Fneutron~master~Ic8f6472fe708d12f8fc129729465367083e1095a,openstack/neutron,master,Ic8f6472fe708d12f8fc129729465367083e1095a,Docs build: Add requirements.txt to deps,MERGED,2022-04-28 14:53:06.000000000,2022-04-29 06:49:06.000000000,2022-04-29 06:32:26.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 33543}]","[{'number': 1, 'created': '2022-04-28 14:53:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f15baf16dd18969efb94719798f5d4a731b0c4fd', 'message': ""Docs build: Add requirements.txt to deps\n\nSince we use usedevelop=True, as a result neutron\ninstallation happens at 'develop-inst' phase and it installs\nrequirements from requirements.txt without considering\ntox constraints, This can lead to issue where broken\nrequirements are installed in docs job and as a result\nit will fail.\n\nIn order to get constraints be considered for this case, add\nrequirements.txt to deps for docs env.\n\nChange-Id: Ic8f6472fe708d12f8fc129729465367083e1095a\n""}]",9,839777,f15baf16dd18969efb94719798f5d4a731b0c4fd,26,8,1,13861,,,0,"Docs build: Add requirements.txt to deps

Since we use usedevelop=True, as a result neutron
installation happens at 'develop-inst' phase and it installs
requirements from requirements.txt without considering
tox constraints, This can lead to issue where broken
requirements are installed in docs job and as a result
it will fail.

In order to get constraints be considered for this case, add
requirements.txt to deps for docs env.

Change-Id: Ic8f6472fe708d12f8fc129729465367083e1095a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/839777/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f15baf16dd18969efb94719798f5d4a731b0c4fd,fix-docs-use-uc, -r{toxinidir}/requirements.txt,,1,0
openstack%2Fwatcher-dashboard~stable%2Fyoga~Ie50b061ea9d04d2d886e66cc58f1398b41d0efb3,openstack/watcher-dashboard,stable/yoga,Ie50b061ea9d04d2d886e66cc58f1398b41d0efb3,Update TOX_CONSTRAINTS_FILE for stable/yoga,MERGED,2022-03-10 12:13:22.000000000,2022-04-29 05:34:06.000000000,2022-04-29 05:32:38.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-03-10 12:13:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/ee6dc9102ccbb842cbd23d2d1089fcb4e5373036', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/yoga\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/yoga branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie50b061ea9d04d2d886e66cc58f1398b41d0efb3\n'}]",1,833032,ee6dc9102ccbb842cbd23d2d1089fcb4e5373036,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/yoga

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/yoga branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie50b061ea9d04d2d886e66cc58f1398b41d0efb3
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/32/833032/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ee6dc9102ccbb842cbd23d2d1089fcb4e5373036,create-yoga,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} {opts} {packages},install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fwatcher-dashboard~master~I7be79d0641dc54f1698ee43c9cd27871371640c5,openstack/watcher-dashboard,master,I7be79d0641dc54f1698ee43c9cd27871371640c5,Add Python3 zed unit tests,MERGED,2022-03-10 12:13:25.000000000,2022-04-29 05:32:33.000000000,2022-04-29 05:29:06.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-03-10 12:13:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/b526383ebae37f3bdb6ef4be9245684967c46d65', 'message': 'Add Python3 zed unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for zed.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I7be79d0641dc54f1698ee43c9cd27871371640c5\n'}]",1,833034,b526383ebae37f3bdb6ef4be9245684967c46d65,7,2,1,22816,,,0,"Add Python3 zed unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for zed.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I7be79d0641dc54f1698ee43c9cd27871371640c5
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/34/833034/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b526383ebae37f3bdb6ef4be9245684967c46d65,add-zed-python-jobtemplates, - openstack-python3-zed-jobs-horizon, - openstack-python3-yoga-jobs-horizon,1,1
openstack%2Fwatcher-dashboard~master~I58a438faadd070ec8ec868c4eaee2ef7f17904bc,openstack/watcher-dashboard,master,I58a438faadd070ec8ec868c4eaee2ef7f17904bc,Update master for stable/yoga,MERGED,2022-03-10 12:13:23.000000000,2022-04-29 05:31:20.000000000,2022-04-29 05:29:02.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-03-10 12:13:23.000000000', 'files': ['releasenotes/source/yoga.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/cee9f071594f1a42f0a55cd09bb4553de3fd2928', 'message': 'Update master for stable/yoga\n\nAdd file to the reno documentation build to show release notes for\nstable/yoga.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/yoga.\n\nSem-Ver: feature\nChange-Id: I58a438faadd070ec8ec868c4eaee2ef7f17904bc\n'}]",3,833033,cee9f071594f1a42f0a55cd09bb4553de3fd2928,10,3,1,22816,,,0,"Update master for stable/yoga

Add file to the reno documentation build to show release notes for
stable/yoga.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/yoga.

Sem-Ver: feature
Change-Id: I58a438faadd070ec8ec868c4eaee2ef7f17904bc
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/33/833033/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/yoga.rst', 'releasenotes/source/index.rst']",2,cee9f071594f1a42f0a55cd09bb4553de3fd2928,reno-yoga, yoga,,7,0
openstack%2Fwatcher-dashboard~stable%2Fyoga~I6346b2d57a2483f1610dc4a30cc869f82f590181,openstack/watcher-dashboard,stable/yoga,I6346b2d57a2483f1610dc4a30cc869f82f590181,Update .gitreview for stable/yoga,MERGED,2022-03-10 12:13:20.000000000,2022-04-29 05:31:12.000000000,2022-04-29 05:29:04.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-03-10 12:13:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/c75b4eb2efa15ed72619111a6541b0490165d7e8', 'message': 'Update .gitreview for stable/yoga\n\nChange-Id: I6346b2d57a2483f1610dc4a30cc869f82f590181\n'}]",1,833031,c75b4eb2efa15ed72619111a6541b0490165d7e8,8,3,1,22816,,,0,"Update .gitreview for stable/yoga

Change-Id: I6346b2d57a2483f1610dc4a30cc869f82f590181
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/31/833031/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c75b4eb2efa15ed72619111a6541b0490165d7e8,create-yoga,defaultbranch=stable/yoga,,1,0
openstack%2Fnova~stable%2Fvictoria~I4471d4488d336d5af0c23028724c4ce79d6a2031,openstack/nova,stable/victoria,I4471d4488d336d5af0c23028724c4ce79d6a2031,[CI] Install dependencies for docs target,MERGED,2022-04-28 18:25:30.000000000,2022-04-29 05:27:40.000000000,2022-04-29 05:25:53.000000000,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 18:25:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc92f05a6d6647e709a23a9d78b49f916874ef85', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs nova (with\nits requirements) in 'develop-inst' phase. In the latter case 'deps' is\nnot used so that the constraints defined in 'deps' are not used.\nThis could lead to failures on stable branches when new packages are\nreleased that break the build. To avoid this, the simplest solution is\nto pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nConflicts:\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific upper constraints\nfile link.\n\nChange-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031\n(cherry picked from commit 494e8d7db6f8a3d1a952f657acab353787f57e04)\n(cherry picked from commit 1ac0d6984a43cddbb5a2f1a2f7bc115fd83517c9)\n(cherry picked from commit 64cc0848be9bf92d79e6fa7b424668d21321d593)\n(cherry picked from commit f66a570e946d980162a1313aa5a7e2ce5856a128)\n""}]",1,839812,bc92f05a6d6647e709a23a9d78b49f916874ef85,9,2,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs nova (with
its requirements) in 'develop-inst' phase. In the latter case 'deps' is
not used so that the constraints defined in 'deps' are not used.
This could lead to failures on stable branches when new packages are
released that break the build. To avoid this, the simplest solution is
to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Conflicts:
  tox.ini

NOTE(elod.illes): conflict is due to branch specific upper constraints
file link.

Change-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031
(cherry picked from commit 494e8d7db6f8a3d1a952f657acab353787f57e04)
(cherry picked from commit 1ac0d6984a43cddbb5a2f1a2f7bc115fd83517c9)
(cherry picked from commit 64cc0848be9bf92d79e6fa7b424668d21321d593)
(cherry picked from commit f66a570e946d980162a1313aa5a7e2ce5856a128)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/839812/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bc92f05a6d6647e709a23a9d78b49f916874ef85,fix-docs-use-uc, -r{toxinidir}/requirements.txt,,1,0
openstack%2Fnova~master~I63208c7bd5f9f4c3d5e4a40bd0f6253d0f042a37,openstack/nova,master,I63208c7bd5f9f4c3d5e4a40bd0f6253d0f042a37,db: Resolve additional SAWarning warnings,MERGED,2022-04-08 15:54:51.000000000,2022-04-29 05:27:18.000000000,2022-04-29 05:25:46.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-08 15:54:51.000000000', 'files': ['nova/db/main/api.py', 'nova/tests/fixtures/nova.py', 'nova/objects/cell_mapping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8142b9dc47b7096ab9d8180f0b5b1e52d513e2dc', 'message': 'db: Resolve additional SAWarning warnings\n\nResolving the following SAWarning warnings:\n\n  Coercing Subquery object into a select() for use in IN(); please pass\n  a select() construct explicitly\n\n  SELECT statement has a cartesian product between FROM element(s)\n  ""foo"" and FROM element ""bar"". Apply join condition(s) between each\n  element to resolve.\n\nWhile the first of these was a trivial fix, the second one is a little\nmore involved. It was caused by attempting to build a query across\ntables that had no relationship as part of our archive logic. For\nexample, consider the following queries, generated early in\n\'_get_fk_stmts\':\n\n  SELECT instances.uuid\n  FROM instances, security_group_instance_association\n  WHERE security_group_instance_association.instance_uuid = instances.uuid\n    AND instances.id IN (__[POSTCOMPILE_id_1])\n\n  SELECT security_groups.id\n  FROM security_groups, security_group_instance_association, instances\n  WHERE security_group_instance_association.security_group_id = security_groups.id\n    AND instances.id IN (__[POSTCOMPILE_id_1])\n\nWhile the first of these is fine, the second is clearly wrong: why are\nwe filtering on a field that is of no relevance to our join? These were\ngenerated because we were attempting to archive one or more instances\n(in this case, the instance with id=1) and needed to find related tables\nto archive at the same time. A related table is any table that\nreferences our ""source"" table - \'instances\' here - by way of a foreign\nkey. For each of *these* tables, we then lookup each foreign key and\njoin back to the source table, filtering by matching entries in the\nsource table. The issue here is that we\'re looking up every foreign key.\nWhat we actually want to do is lookup only the foreign keys that point\nback to our source table. This flaw is why we were generating the second\nSELECT above: the \'security_group_instance_association\' has two foreign\nkeys, one pointing to our \'instances\' table but also another pointing to\nthe \'security_groups\' table. We want the first but not the second.\n\nResolve this by checking if the table that each foreign key points to is\nactually the source table and simply skip if not. With this issue\nresolved, we can enable errors on SAWarning warnings in general without\nany filters.\n\nChange-Id: I63208c7bd5f9f4c3d5e4a40bd0f6253d0f042a37\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",5,837162,8142b9dc47b7096ab9d8180f0b5b1e52d513e2dc,28,4,1,15334,,,0,"db: Resolve additional SAWarning warnings

Resolving the following SAWarning warnings:

  Coercing Subquery object into a select() for use in IN(); please pass
  a select() construct explicitly

  SELECT statement has a cartesian product between FROM element(s)
  ""foo"" and FROM element ""bar"". Apply join condition(s) between each
  element to resolve.

While the first of these was a trivial fix, the second one is a little
more involved. It was caused by attempting to build a query across
tables that had no relationship as part of our archive logic. For
example, consider the following queries, generated early in
'_get_fk_stmts':

  SELECT instances.uuid
  FROM instances, security_group_instance_association
  WHERE security_group_instance_association.instance_uuid = instances.uuid
    AND instances.id IN (__[POSTCOMPILE_id_1])

  SELECT security_groups.id
  FROM security_groups, security_group_instance_association, instances
  WHERE security_group_instance_association.security_group_id = security_groups.id
    AND instances.id IN (__[POSTCOMPILE_id_1])

While the first of these is fine, the second is clearly wrong: why are
we filtering on a field that is of no relevance to our join? These were
generated because we were attempting to archive one or more instances
(in this case, the instance with id=1) and needed to find related tables
to archive at the same time. A related table is any table that
references our ""source"" table - 'instances' here - by way of a foreign
key. For each of *these* tables, we then lookup each foreign key and
join back to the source table, filtering by matching entries in the
source table. The issue here is that we're looking up every foreign key.
What we actually want to do is lookup only the foreign keys that point
back to our source table. This flaw is why we were generating the second
SELECT above: the 'security_group_instance_association' has two foreign
keys, one pointing to our 'instances' table but also another pointing to
the 'security_groups' table. We want the first but not the second.

Resolve this by checking if the table that each foreign key points to is
actually the source table and simply skip if not. With this issue
resolved, we can enable errors on SAWarning warnings in general without
any filters.

Change-Id: I63208c7bd5f9f4c3d5e4a40bd0f6253d0f042a37
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/837162/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/api.py', 'nova/tests/fixtures/nova.py', 'nova/objects/cell_mapping.py']",3,8142b9dc47b7096ab9d8180f0b5b1e52d513e2dc,sqlalchemy-20, api_db_models.InstanceMapping.cell_id ).filter_by( project_id=project_id ).distinct() return context.session.query( api_db_models.CellMapping).filter( api_db_models.CellMapping.id.in_(cell_ids) ).all(), api_db_models.InstanceMapping.cell_id).filter_by( project_id=project_id).distinct().subquery() return context.session.query(api_db_models.CellMapping).filter( api_db_models.CellMapping.id.in_(cell_ids)).all(),25,10
openstack%2Fnova~stable%2Fwallaby~I4471d4488d336d5af0c23028724c4ce79d6a2031,openstack/nova,stable/wallaby,I4471d4488d336d5af0c23028724c4ce79d6a2031,[CI] Install dependencies for docs target,MERGED,2022-04-28 18:23:41.000000000,2022-04-29 04:02:08.000000000,2022-04-29 04:00:09.000000000,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 18:23:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/f66a570e946d980162a1313aa5a7e2ce5856a128', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs nova (with\nits requirements) in 'develop-inst' phase. In the latter case 'deps' is\nnot used so that the constraints defined in 'deps' are not used.\nThis could lead to failures on stable branches when new packages are\nreleased that break the build. To avoid this, the simplest solution is\nto pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nConflicts:\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific upper constraints\nfile link.\n\nChange-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031\n(cherry picked from commit 494e8d7db6f8a3d1a952f657acab353787f57e04)\n(cherry picked from commit 1ac0d6984a43cddbb5a2f1a2f7bc115fd83517c9)\n(cherry picked from commit 64cc0848be9bf92d79e6fa7b424668d21321d593)\n""}]",1,839811,f66a570e946d980162a1313aa5a7e2ce5856a128,10,2,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs nova (with
its requirements) in 'develop-inst' phase. In the latter case 'deps' is
not used so that the constraints defined in 'deps' are not used.
This could lead to failures on stable branches when new packages are
released that break the build. To avoid this, the simplest solution is
to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Conflicts:
  tox.ini

NOTE(elod.illes): conflict is due to branch specific upper constraints
file link.

Change-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031
(cherry picked from commit 494e8d7db6f8a3d1a952f657acab353787f57e04)
(cherry picked from commit 1ac0d6984a43cddbb5a2f1a2f7bc115fd83517c9)
(cherry picked from commit 64cc0848be9bf92d79e6fa7b424668d21321d593)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/839811/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f66a570e946d980162a1313aa5a7e2ce5856a128,fix-docs-use-uc, -r{toxinidir}/requirements.txt,,1,0
openstack%2Fswift~master~If9403c2176f868158370b3f9e1195d2f7304583b,openstack/swift,master,If9403c2176f868158370b3f9e1195d2f7304583b,Ignore py36 deprecation warnings,MERGED,2022-04-28 22:48:37.000000000,2022-04-29 04:01:46.000000000,2022-04-29 04:00:03.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 22:48:37.000000000', 'files': ['swift/__init__.py', 'test/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7298038ed90fe5824c250975045a6f0a3eb39d04', 'message': 'Ignore py36 deprecation warnings\n\nChange-Id: If9403c2176f868158370b3f9e1195d2f7304583b\n'}]",2,839828,7298038ed90fe5824c250975045a6f0a3eb39d04,10,2,1,15343,,,0,"Ignore py36 deprecation warnings

Change-Id: If9403c2176f868158370b3f9e1195d2f7304583b
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/839828/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/__init__.py', 'test/__init__.py']",2,7298038ed90fe5824c250975045a6f0a3eb39d04,,"warnings.filterwarnings('ignore', message=( 'Python 3.6 is no longer supported by the Python core team. ' 'Therefore, support for it is deprecated in cryptography ' 'and will be removed in a future release.'))",,8,0
openstack%2Fswift~master~I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d,openstack/swift,master,I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d,Allow ring-builder CLI users to specify device ID,NEW,2021-09-11 01:05:55.000000000,2022-04-29 03:18:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-11 01:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/407933464c972a347eb6767247dcffb43ef66568', 'message': 'Allow ring-builder CLI users to specify device ID\n\nYou could already do this via the API, may as well let every-day users\ndo it, too.\n\nChange-Id: I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d\n'}, {'number': 2, 'created': '2021-09-14 22:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5ff121a4275077a9754fc69a1481e1ad637b3f52', 'message': 'Allow ring-builder CLI users to specify device ID\n\nYou could already do this via the API, may as well let every-day users\ndo it, too.\n\nChange-Id: I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d\n'}, {'number': 3, 'created': '2021-09-16 18:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ee4302154522f605476b4263ed6ea8acf170d7a0', 'message': 'Allow ring-builder CLI users to specify device ID\n\nYou could already do this via the API, may as well let every-day users\ndo it, too.\n\nChange-Id: I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d\n'}, {'number': 4, 'created': '2021-09-20 17:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ebda2873d81e7fa00becfbe8d59bc58ef5864da1', 'message': 'Allow ring-builder CLI users to specify device ID\n\nYou could already do this via the API, may as well let every-day users\ndo it, too.\n\nChange-Id: I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d\n'}, {'number': 5, 'created': '2021-09-21 20:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4b98a9412dbc2da798023c4b1ba1941dbccb4720', 'message': 'Allow ring-builder CLI users to specify device ID\n\nYou could already do this via the API, may as well let every-day users\ndo it, too.\n\nChange-Id: I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d\n'}, {'number': 6, 'created': '2021-09-23 19:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dce3e93fa6f3634bb32198f1f63ff482df60a3a3', 'message': 'Allow ring-builder CLI users to specify device ID\n\nYou could already do this via the API, may as well let every-day users\ndo it, too.\n\nChange-Id: I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d\n'}, {'number': 7, 'created': '2021-09-23 20:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6116cffa3a1fd7b609273d84f783f92248909b5b', 'message': 'Allow ring-builder CLI users to specify device ID\n\nYou could already do this via the API, may as well let every-day users\ndo it, too.\n\nChange-Id: I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d\n'}, {'number': 8, 'created': '2021-10-12 20:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/426971577371ad179ab78660e5b10ff4dab7d237', 'message': 'Allow ring-builder CLI users to specify device ID\n\nYou could already do this via the API, may as well let every-day users\ndo it, too.\n\nChange-Id: I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d\n'}, {'number': 9, 'created': '2021-10-13 00:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cd6abae200f9b245be72bfecd8988950d58822a4', 'message': 'Allow ring-builder CLI users to specify device ID\n\nYou could already do this via the API, may as well let every-day users\ndo it, too.\n\nChange-Id: I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d\n'}, {'number': 10, 'created': '2022-01-12 19:11:44.000000000', 'files': ['swift/common/ring/builder.py', 'test/unit/cli/test_ring_builder_analyzer.py', 'swift/common/ring/utils.py', 'swift/cli/ringbuilder.py', 'test/unit/cli/test_ringbuilder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f81e53642c31fad5838af5a5a0f57042b84c4694', 'message': 'Allow ring-builder CLI users to specify device ID\n\nYou could already do this via the API, may as well let every-day users\ndo it, too.\n\nChange-Id: I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d\n'}]",6,808532,f81e53642c31fad5838af5a5a0f57042b84c4694,34,1,10,15343,,,0,"Allow ring-builder CLI users to specify device ID

You could already do this via the API, may as well let every-day users
do it, too.

Change-Id: I0dc5396b0382282a3b4f6af4b5e7be8c4a007e4d
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/808532/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/ring/builder.py', 'test/unit/cli/test_ring_builder_analyzer.py', 'swift/common/ring/utils.py', 'swift/cli/ringbuilder.py']",4,407933464c972a347eb6767247dcffb43ef66568,ring-v2," try: dev_id = builder.add_dev(new_dev) except exceptions.DuplicateDeviceError: existing_dev = builder.devs[dev['id']] print('Device %d already exists: %s:%d/%s.' % (dev['id'], existing_dev['ip'], existing_dev['port'], existing_dev['device'])) print(""The on-disk ring builder is unchanged.\n"") exit(EXIT_ERROR) else: print('Device %s with %s weight got id %s' % (format_device(new_dev), new_dev['weight'], dev_id))"," dev_id = builder.add_dev(new_dev) print('Device %s with %s weight got id %s' % (format_device(new_dev), new_dev['weight'], dev_id))",39,18
openstack%2Fnova~stable%2Fxena~I4471d4488d336d5af0c23028724c4ce79d6a2031,openstack/nova,stable/xena,I4471d4488d336d5af0c23028724c4ce79d6a2031,[CI] Install dependencies for docs target,MERGED,2022-04-28 18:22:19.000000000,2022-04-29 03:11:55.000000000,2022-04-29 03:08:59.000000000,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 18:22:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/64cc0848be9bf92d79e6fa7b424668d21321d593', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs nova (with\nits requirements) in 'develop-inst' phase. In the latter case 'deps' is\nnot used so that the constraints defined in 'deps' are not used.\nThis could lead to failures on stable branches when new packages are\nreleased that break the build. To avoid this, the simplest solution is\nto pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nConflicts:\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific upper constraints\nfile link.\n\nChange-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031\n(cherry picked from commit 494e8d7db6f8a3d1a952f657acab353787f57e04)\n(cherry picked from commit 1ac0d6984a43cddbb5a2f1a2f7bc115fd83517c9)\n""}]",1,839810,64cc0848be9bf92d79e6fa7b424668d21321d593,10,2,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs nova (with
its requirements) in 'develop-inst' phase. In the latter case 'deps' is
not used so that the constraints defined in 'deps' are not used.
This could lead to failures on stable branches when new packages are
released that break the build. To avoid this, the simplest solution is
to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Conflicts:
  tox.ini

NOTE(elod.illes): conflict is due to branch specific upper constraints
file link.

Change-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031
(cherry picked from commit 494e8d7db6f8a3d1a952f657acab353787f57e04)
(cherry picked from commit 1ac0d6984a43cddbb5a2f1a2f7bc115fd83517c9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/839810/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,64cc0848be9bf92d79e6fa7b424668d21321d593,fix-docs-use-uc, -r{toxinidir}/requirements.txt,,1,0
openstack%2Fnova~stable%2Fyoga~I4471d4488d336d5af0c23028724c4ce79d6a2031,openstack/nova,stable/yoga,I4471d4488d336d5af0c23028724c4ce79d6a2031,[CI] Install dependencies for docs target,MERGED,2022-04-28 18:17:23.000000000,2022-04-29 02:35:10.000000000,2022-04-29 02:32:35.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 18:17:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ac0d6984a43cddbb5a2f1a2f7bc115fd83517c9', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs nova (with\nits requirements) in 'develop-inst' phase. In the latter case 'deps' is\nnot used so that the constraints defined in 'deps' are not used.\nThis could lead to failures on stable branches when new packages are\nreleased that break the build. To avoid this, the simplest solution is\nto pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nConflicts:\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific upper constraints\nfile link.\n\nChange-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031\n(cherry picked from commit 494e8d7db6f8a3d1a952f657acab353787f57e04)\n""}]",2,839809,1ac0d6984a43cddbb5a2f1a2f7bc115fd83517c9,17,3,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs nova (with
its requirements) in 'develop-inst' phase. In the latter case 'deps' is
not used so that the constraints defined in 'deps' are not used.
This could lead to failures on stable branches when new packages are
released that break the build. To avoid this, the simplest solution is
to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Conflicts:
  tox.ini

NOTE(elod.illes): conflict is due to branch specific upper constraints
file link.

Change-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031
(cherry picked from commit 494e8d7db6f8a3d1a952f657acab353787f57e04)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/839809/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1ac0d6984a43cddbb5a2f1a2f7bc115fd83517c9,fix-docs-use-uc, -r{toxinidir}/requirements.txt,,1,0
openstack%2Frequirements~stable%2Fyoga~I151cc048556911bc014d18f13fc3c69a616ec1c7,openstack/requirements,stable/yoga,I151cc048556911bc014d18f13fc3c69a616ec1c7,update constraint for castellan to new release 3.10.2,MERGED,2022-04-28 13:55:02.000000000,2022-04-29 01:28:16.000000000,2022-04-29 01:28:16.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 13:55:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/760bc51a174db84841cfbc2fd09f0ef1945b3a97', 'message': 'update constraint for castellan to new release 3.10.2\n\nmeta: version: 3.10.2\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ib493c2bd32c1bcef28d971724442abc2a2690b66\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I151cc048556911bc014d18f13fc3c69a616ec1c7\n'}]",0,839765,760bc51a174db84841cfbc2fd09f0ef1945b3a97,9,2,1,11131,,,0,"update constraint for castellan to new release 3.10.2

meta: version: 3.10.2
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ib493c2bd32c1bcef28d971724442abc2a2690b66
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I151cc048556911bc014d18f13fc3c69a616ec1c7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/65/839765/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,760bc51a174db84841cfbc2fd09f0ef1945b3a97,new-release,castellan===3.10.2,castellan===3.10.1,1,1
openstack%2Fswift~master~I48632c8d0490963870ce071a5fa253d248902529,openstack/swift,master,I48632c8d0490963870ce071a5fa253d248902529,WIP: Merge ring builder into ring v2,NEW,2022-04-21 07:06:19.000000000,2022-04-29 00:28:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-21 07:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/84cd92a7a43f742afc557d0aea3cac288da383d2', 'message': ""WIP: Merge ring builder into ring v2\n\nThis is very rough, but done enough that it actually seems to work!\nThe builder and ringdata objects could be unified better. For example\none side had part_power with a part_shift property, the other a\npart_shift with a part_power property. Some of the naming of things\naren't the same.\n\nOne annoyance is the dispersion graph because it uses tuples as keys\ncan't be json-ified. So will need to find a different way to serialize\nthat... please don't let it be pickle :P\n\nThis is still a WIP. Hacked enough to to make it work. But surprisingly\nseems to work. I can add devs, rebalance, run dispersion report etc.\nA ringdata load gives us just a rings POV. Builder load grabs everything and\nreturns it as a builder dict. So it has everything it needs.\nThese 2 load methods could probably be merged better seeing as they\nbasically do the same thing.\n\nChange-Id: I48632c8d0490963870ce071a5fa253d248902529\n""}, {'number': 2, 'created': '2022-04-21 07:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/933d0a0121c2e9ed23b693e18140031d085b0111', 'message': ""WIP: Merge ring builder into ring v2\n\nThis is very rough, but done enough that it actually seems to work!\nThe builder and ringdata objects could be unified better. For example\none side had part_power with a part_shift property, the other a\npart_shift with a part_power property. Some of the naming of things\naren't the same.\n\nOne annoyance is the dispersion graph because it uses tuples as keys\ncan't be json-ified. So will need to find a different way to serialize\nthat... please don't let it be pickle :P\n\nThis is still a WIP. Hacked enough to to make it work. But surprisingly\nseems to work. I can add devs, rebalance, run dispersion report etc.\nA ringdata load gives us just a rings POV. Builder load grabs everything and\nreturns it as a builder dict. So it has everything it needs.\nThese 2 load methods could probably be merged better seeing as they\nbasically do the same thing.\n\nChange-Id: I48632c8d0490963870ce071a5fa253d248902529\n""}, {'number': 3, 'created': '2022-04-28 00:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/46a19145e5c7e72d968e97aa83d9f4a2c481905a', 'message': ""WIP: Merge ring builder into ring v2\n\nThis is very rough, but done enough that it actually seems to work!\nThe builder and ringdata objects could be unified better. For example\none side had part_power with a part_shift property, the other a\npart_shift with a part_power property. Some of the naming of things\naren't the same.\n\nOne annoyance is the dispersion graph because it uses tuples as keys\ncan't be json-ified. So will need to find a different way to serialize\nthat... please don't let it be pickle :P\n\nThis is still a WIP. Hacked enough to to make it work. But surprisingly\nseems to work. I can add devs, rebalance, run dispersion report etc.\nA ringdata load gives us just a rings POV. Builder load grabs everything and\nreturns it as a builder dict. So it has everything it needs.\nThese 2 load methods could probably be merged better seeing as they\nbasically do the same thing.\n\nChange-Id: I48632c8d0490963870ce071a5fa253d248902529\n""}, {'number': 4, 'created': '2022-04-28 04:20:33.000000000', 'files': ['swift/common/ring/builder.py', 'swift/common/ring/composite_builder.py', 'test/unit/common/ring/test_builder.py', 'swift/common/ring/utils.py', 'swift/cli/ringbuilder.py', 'test/unit/common/ring/test_composite_builder.py', 'test/unit/cli/test_ringbuilder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bd27b04c3c9f6c23599d0640e85e53ce84449384', 'message': ""WIP: Merge ring builder into ring v2\n\nThis is very rough, but done enough that it actually seems to work!\nThe builder and ringdata objects could be unified better. For example\none side had part_power with a part_shift property, the other a\npart_shift with a part_power property. Some of the naming of things\naren't the same.\n\nOne annoyance is the dispersion graph because it uses tuples as keys\ncan't be json-ified. So will need to find a different way to serialize\nthat... please don't let it be pickle :P\n\nThis is still a WIP. Hacked enough to to make it work. But surprisingly\nseems to work. I can add devs, rebalance, run dispersion report etc.\nA ringdata load gives us just a rings POV. Builder load grabs everything and\nreturns it as a builder dict. So it has everything it needs.\nThese 2 load methods could probably be merged better seeing as they\nbasically do the same thing.\n\nChange-Id: I48632c8d0490963870ce071a5fa253d248902529\n""}]",36,838831,bd27b04c3c9f6c23599d0640e85e53ce84449384,15,1,4,7233,,,0,"WIP: Merge ring builder into ring v2

This is very rough, but done enough that it actually seems to work!
The builder and ringdata objects could be unified better. For example
one side had part_power with a part_shift property, the other a
part_shift with a part_power property. Some of the naming of things
aren't the same.

One annoyance is the dispersion graph because it uses tuples as keys
can't be json-ified. So will need to find a different way to serialize
that... please don't let it be pickle :P

This is still a WIP. Hacked enough to to make it work. But surprisingly
seems to work. I can add devs, rebalance, run dispersion report etc.
A ringdata load gives us just a rings POV. Builder load grabs everything and
returns it as a builder dict. So it has everything it needs.
These 2 load methods could probably be merged better seeing as they
basically do the same thing.

Change-Id: I48632c8d0490963870ce071a5fa253d248902529
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/838831/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/ring/builder.py', 'swift/common/ring/io.py', 'swift/common/ring/composite_builder.py', 'test/unit/common/ring/test_builder.py', 'swift/common/ring/utils.py', 'swift/cli/ringbuilder.py', 'test/unit/common/ring/test_composite_builder.py', 'test/unit/cli/test_ringbuilder.py']",8,84cd92a7a43f742afc557d0aea3cac288da383d2,," last_replica2part2dev = ring._replica2part2dev_id self.assertEqual(last_replica2part2dev, ring._replica2part2dev_id)"," last_replica2part2dev = ring._replica2part2dev self.assertEqual(last_replica2part2dev, ring._replica2part2dev)",278,122
openstack%2Frequirements~master~I8245e886783c0a17b742618ca3d8ec58ca73a063,openstack/requirements,master,I8245e886783c0a17b742618ca3d8ec58ca73a063,update constraint for castellan to new release 3.11.0,MERGED,2022-04-27 15:38:10.000000000,2022-04-29 00:26:48.000000000,2022-04-29 00:24:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 15:38:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/930785ca47f25ede936e64260e1ec33b56f9271f', 'message': 'update constraint for castellan to new release 3.11.0\n\nmeta: version: 3.11.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I8245e886783c0a17b742618ca3d8ec58ca73a063\n'}]",0,839583,930785ca47f25ede936e64260e1ec33b56f9271f,13,2,1,11131,,,0,"update constraint for castellan to new release 3.11.0

meta: version: 3.11.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I8245e886783c0a17b742618ca3d8ec58ca73a063
",git fetch https://review.opendev.org/openstack/requirements refs/changes/83/839583/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,930785ca47f25ede936e64260e1ec33b56f9271f,new-release,castellan===3.11.0,castellan===3.10.1,1,1
openstack%2Frequirements~master~I2c8248b09dbacd72ad619ed088895a988d9cb8eb,openstack/requirements,master,I2c8248b09dbacd72ad619ed088895a988d9cb8eb,update constraint for oslo.db to new release 11.3.0,MERGED,2022-04-27 15:37:14.000000000,2022-04-29 00:25:49.000000000,2022-04-29 00:24:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 15:37:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ca3128eaea5563f87164d7921ae248548e9f195f', 'message': 'update constraint for oslo.db to new release 11.3.0\n\nmeta: version: 11.3.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I2c8248b09dbacd72ad619ed088895a988d9cb8eb\n'}]",0,839581,ca3128eaea5563f87164d7921ae248548e9f195f,10,2,1,11131,,,0,"update constraint for oslo.db to new release 11.3.0

meta: version: 11.3.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I2c8248b09dbacd72ad619ed088895a988d9cb8eb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/81/839581/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ca3128eaea5563f87164d7921ae248548e9f195f,new-release,oslo.db===11.3.0,oslo.db===11.2.0,1,1
openstack%2Fcharm-guide~master~I45a83a40d1eab3f20ac9b85ad9df9e922139c159,openstack/charm-guide,master,I45a83a40d1eab3f20ac9b85ad9df9e922139c159,Add page for vGPU,MERGED,2022-04-27 21:29:27.000000000,2022-04-28 22:30:06.000000000,2022-04-28 22:28:49.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 21:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/aba2ceed1b3e337bba69bb55132c5535a72f09a1', 'message': 'Add page for vGPU\n\nChange-Id: I45a83a40d1eab3f20ac9b85ad9df9e922139c159\n'}, {'number': 2, 'created': '2022-04-28 14:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/52d2f27fcacdb62ab36f7230dc48c25d3264d5a9', 'message': 'Add page for vGPU\n\nChange-Id: I45a83a40d1eab3f20ac9b85ad9df9e922139c159\n'}, {'number': 3, 'created': '2022-04-28 15:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/95ec15a4b227e4bbde06c2730f1d2fb2831a069c', 'message': 'Add page for vGPU\n\nAdd a page for the new vGPU feature.\n\nChange-Id: I45a83a40d1eab3f20ac9b85ad9df9e922139c159\n'}, {'number': 4, 'created': '2022-04-28 16:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/22591260f2d0599991c5fe3d3d8c82bc2d881534', 'message': 'Add page for vGPU\n\nAdd a page for the new vGPU feature.\n\nChange-Id: I45a83a40d1eab3f20ac9b85ad9df9e922139c159\n'}, {'number': 5, 'created': '2022-04-28 16:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/408146f3583d09adf96f9972f96c8eb6678d615e', 'message': 'Add page for vGPU\n\nAdd a page for the new vGPU feature.\n\nChange-Id: I45a83a40d1eab3f20ac9b85ad9df9e922139c159\n'}, {'number': 6, 'created': '2022-04-28 16:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/92855ada416e0147d9c1628c82380018ff4e9f5a', 'message': 'Add page for vGPU\n\nAdd a page for the new vGPU feature.\n\nChange-Id: I45a83a40d1eab3f20ac9b85ad9df9e922139c159\n'}, {'number': 7, 'created': '2022-04-28 18:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/04fbd06f72481a6eb551a200d26bb23e97dc3761', 'message': 'Add page for vGPU\n\nAdd a page for the new vGPU feature.\n\nChange-Id: I45a83a40d1eab3f20ac9b85ad9df9e922139c159\n'}, {'number': 8, 'created': '2022-04-28 20:09:35.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/vgpu.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e158231d0be74074dc496a46c8d6504a1c8bed21', 'message': 'Add page for vGPU\n\nAdd a page for the new vGPU feature.\n\nChange-Id: I45a83a40d1eab3f20ac9b85ad9df9e922139c159\n'}]",1,839641,e158231d0be74074dc496a46c8d6504a1c8bed21,20,2,8,30561,,,0,"Add page for vGPU

Add a page for the new vGPU feature.

Change-Id: I45a83a40d1eab3f20ac9b85ad9df9e922139c159
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/41/839641/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/vgpu.rst']",2,aba2ceed1b3e337bba69bb55132c5535a72f09a1,add-page-for-vgpu,"================== Virtual GPU (vGPU) ================== Overview -------- Virtual GPU (vGPU) is a graphics virtualisation solution that provides virtual machines (VMs) simultaneous access to one physical GPU hosted on the associated hypervisor. The physical GPU must be specifically designed for this purpose. .. warning:: The enablement of the vGPU feature will require a reboot of all affected hypervisors. Pre-requisites -------------- The following requirements must be met in order to use the vGPU feature: * OpenStack Queens or newer * `Nvidia vGPU software`_ (Linux driver ``510.47.03`` or newer; Ubuntu package) * a `supported GPU device on Ubuntu`_ .. note:: The OpenStack charms do not have multiple vGPU support (multiple vGPUs assigned to a single VM). Deployment ---------- Deploy the nova-compute-nvidia-vgpu application and add a relation to nova-compute: .. code-block:: none juju deploy ch:nova-compute-nvidia-vgpu --channel=yoga/stable juju add-relation nova-compute-nvidia-vgpu:nova-vgpu nova-compute:nova-vgpu Attach the device drivers to the nova-compute-nvidia-vgpu charm: .. code-block:: none juju attach nova-compute-nvidia-vgpu \ nvidia-vgpu-software=./nvidia-vgpu-ubuntu-510_510.47.03_amd64.deb Once the model settles, reboot all affected Compute nodes: .. code-block:: none juju run -a nova-compute-nvidia-vgpu -- sudo reboot vGPU type definition -------------------- One or more physical GPUs can be installed on a Compute node. Each of these physical GPUs can be divided into one or more vGPUs types, where a type can support a specific number of VMs. vGPUs are made available to the cloud based on the selection of one or more vGPU types. A Compute node's physical GPUs (and associated vGPU types) can be listed by querying the corresponding nova-compute-nvidia-vgpu application unit: .. code-block:: none juju run-action --wait nova-compute-nvidia-vgpu/0 list-vgpu-types Sample output: .. code-block:: console nvidia-256, 0000:41:00.0, GRID RTX6000-1Q, num_heads=4, frl_config=60, framebuffer=1024M, max_resolution=5120x2880, max_instance=24 nvidia-257, 0000:41:00.0, GRID RTX6000-2Q, num_heads=4, frl_config=60, framebuffer=2048M, max_resolution=7680x4320, max_instance=12 nvidia-258, 0000:41:00.0, GRID RTX6000-3Q, num_heads=4, frl_config=60, framebuffer=3072M, max_resolution=7680x4320, max_instance=8 nvidia-259, 0000:41:00.0, GRID RTX6000-4Q, num_heads=4, frl_config=60, framebuffer=4096M, max_resolution=7680x4320, max_instance=6 nvidia-260, 0000:41:00.0, GRID RTX6000-6Q, num_heads=4, frl_config=60, framebuffer=6144M, max_resolution=7680x4320, max_instance=4 nvidia-261, 0000:41:00.0, GRID RTX6000-8Q, num_heads=4, frl_config=60, framebuffer=8192M, max_resolution=7680x4320, max_instance=3 nvidia-262, 0000:41:00.0, GRID RTX6000-12Q, num_heads=4, frl_config=60, framebuffer=12288M, max_resolution=7680x4320, max_instance=2 nvidia-263, 0000:41:00.0, GRID RTX6000-24Q, num_heads=4, frl_config=60, framebuffer=24576M, max_resolution=7680x4320, max_instance=1 nvidia-343, 0000:41:00.0, GRID RTX6000-4C, num_heads=1, frl_config=60, framebuffer=4096M, max_resolution=4096x2160, max_instance=6 nvidia-344, 0000:41:00.0, GRID RTX6000-6C, num_heads=1, frl_config=60, framebuffer=6144M, max_resolution=4096x2160, max_instance=4 nvidia-345, 0000:41:00.0, GRID RTX6000-8C, num_heads=1, frl_config=60, framebuffer=8192M, max_resolution=4096x2160, max_instance=3 nvidia-346, 0000:41:00.0, GRID RTX6000-12C, num_heads=1, frl_config=60, framebuffer=12288M, max_resolution=4096x2160, max_instance=2 nvidia-347, 0000:41:00.0, GRID RTX6000-24C, num_heads=1, frl_config=60, framebuffer=24576M, max_resolution=4096x2160, max_instance=1 nvidia-435, 0000:41:00.0, GRID RTX6000-1B, num_heads=4, frl_config=45, framebuffer=1024M, max_resolution=5120x2880, max_instance=24 nvidia-436, 0000:41:00.0, GRID RTX6000-2B, num_heads=4, frl_config=45, framebuffer=2048M, max_resolution=5120x2880, max_instance=12 nvidia-437, 0000:41:00.0, GRID RTX6000-1A, num_heads=1, frl_config=60, framebuffer=1024M, max_resolution=1280x1024, max_instance=24 nvidia-438, 0000:41:00.0, GRID RTX6000-2A, num_heads=1, frl_config=60, framebuffer=2048M, max_resolution=1280x1024, max_instance=12 nvidia-439, 0000:41:00.0, GRID RTX6000-3A, num_heads=1, frl_config=60, framebuffer=3072M, max_resolution=1280x1024, max_instance=8 nvidia-440, 0000:41:00.0, GRID RTX6000-4A, num_heads=1, frl_config=60, framebuffer=4096M, max_resolution=1280x1024, max_instance=6 nvidia-441, 0000:41:00.0, GRID RTX6000-6A, num_heads=1, frl_config=60, framebuffer=6144M, max_resolution=1280x1024, max_instance=4 nvidia-442, 0000:41:00.0, GRID RTX6000-8A, num_heads=1, frl_config=60, framebuffer=8192M, max_resolution=1280x1024, max_instance=3 nvidia-443, 0000:41:00.0, GRID RTX6000-12A, num_heads=1, frl_config=60, framebuffer=12288M, max_resolution=1280x1024, max_instance=2 nvidia-444, 0000:41:00.0, GRID RTX6000-24A, num_heads=1, frl_config=60, framebuffer=24576M, max_resolution=1280x1024, max_instance=1 nvidia-105, 0000:c1:00.0, GRID V100-1Q, num_heads=4, frl_config=60, framebuffer=1024M, max_resolution=5120x2880, max_instance=16 nvidia-106, 0000:c1:00.0, GRID V100-2Q, num_heads=4, frl_config=60, framebuffer=2048M, max_resolution=7680x4320, max_instance=8 nvidia-107, 0000:c1:00.0, GRID V100-4Q, num_heads=4, frl_config=60, framebuffer=4096M, max_resolution=7680x4320, max_instance=4 nvidia-108, 0000:c1:00.0, GRID V100-8Q, num_heads=4, frl_config=60, framebuffer=8192M, max_resolution=7680x4320, max_instance=2 nvidia-109, 0000:c1:00.0, GRID V100-16Q, num_heads=4, frl_config=60, framebuffer=16384M, max_resolution=7680x4320, max_instance=1 nvidia-110, 0000:c1:00.0, GRID V100-1A, num_heads=1, frl_config=60, framebuffer=1024M, max_resolution=1280x1024, max_instance=16 nvidia-111, 0000:c1:00.0, GRID V100-2A, num_heads=1, frl_config=60, framebuffer=2048M, max_resolution=1280x1024, max_instance=8 nvidia-112, 0000:c1:00.0, GRID V100-4A, num_heads=1, frl_config=60, framebuffer=4096M, max_resolution=1280x1024, max_instance=4 nvidia-113, 0000:c1:00.0, GRID V100-8A, num_heads=1, frl_config=60, framebuffer=8192M, max_resolution=1280x1024, max_instance=2 nvidia-114, 0000:c1:00.0, GRID V100-16A, num_heads=1, frl_config=60, framebuffer=16384M, max_resolution=1280x1024, max_instance=1 nvidia-115, 0000:c1:00.0, GRID V100-1B, num_heads=4, frl_config=45, framebuffer=1024M, max_resolution=5120x2880, max_instance=16 nvidia-163, 0000:c1:00.0, GRID V100-2B, num_heads=4, frl_config=45, framebuffer=2048M, max_resolution=5120x2880, max_instance=8 nvidia-217, 0000:c1:00.0, GRID V100-2B4, num_heads=4, frl_config=45, framebuffer=2048M, max_resolution=5120x2880, max_instance=8 nvidia-247, 0000:c1:00.0, GRID V100-1B4, num_heads=4, frl_config=45, framebuffer=1024M, max_resolution=5120x2880, max_instance=16 nvidia-299, 0000:c1:00.0, GRID V100-4C, num_heads=1, frl_config=60, framebuffer=4096M, max_resolution=4096x2160, max_instance=4 nvidia-300, 0000:c1:00.0, GRID V100-8C, num_heads=1, frl_config=60, framebuffer=8192M, max_resolution=4096x2160, max_instance=2 nvidia-301, 0000:c1:00.0, GRID V100-16C, num_heads=1, frl_config=60, framebuffer=16384M, max_resolution=4096x2160, max_instance=1 Here, 40 vGPU types are divided between two physical GPU devices: * ``0000:41:00.0`` * ``0000:c1:00.0`` When selecting vGPU types, many permutations of type to devices are possible as a type can be associated with multiple devices. Multiple types can also be selected (each with one or more devices). See upstream Nova documentation `Attaching virtual GPU devices to guests`_. A mapping should be selected based on the knowledge of all vGPU types and all physical GPUs across the cloud. .. note:: On OpenStack releases older than Stein, only one vGPU type can be selected per physical GPU device across the cloud. The simplest scenario is a mapping of one vGPU type to a single physical GPU. For example, to have two vGPUs become available (``max_instance=2``), vGPU type ``nvidia-108`` (on physical GPU ``0000:c1:00.0``) can be selected: .. code-block:: none juju config nova-compute-nvidia-vgpu vgpu-device-mappings=""{'nvidia-108': ['0000:c1:00.0']}"" Once the model has settled, the vGPUs can be listed via the OpenStack CLI (on OpenStack Stein and newer): nvidia-442, 0000:41:00.0, GRID RTX6000-8A, num_heads=1, frl_config=60, framebuffer=8192M, max_resolution=1280x1024, max_instance=3 juju config nova-compute-nvidia-vgpu vgpu-device-mappings=""{'nvidia-442': ['0000:41:00.0']}"" .. code-block:: none openstack resource provider list +--------------------------------------+-----------------------------------+------------+--------------------------------------+--------------------------------------+ | uuid | name | generation | root_provider_uuid | parent_provider_uuid | +--------------------------------------+-----------------------------------+------------+--------------------------------------+--------------------------------------+ | e0f99e40-a7a5-42bb-a222-387a540c3725 | node-sparky.maas | 3 | e0f99e40-a7a5-42bb-a222-387a540c3725 | None | | 807d28f4-4b30-4f85-a770-1bcebd1236d3 | node-sparky.maas_pci_0000_41_00_0 | 1 | e0f99e40-a7a5-42bb-a222-387a540c3725 | e0f99e40-a7a5-42bb-a222-387a540c3725 | +--------------------------------------+-----------------------------------+------------+--------------------------------------+--------------------------------------+ .. note:: The :command:`openstackclients` snap must be at least version ``xena/stable`` to get the last two columns above. .. code-block:: none openstack resource provider inventory list 807d28f4-4b30-4f85-a770-1bcebd1236d3 +----------------+------------------+----------+----------+----------+-----------+-------+ | resource_class | allocation_ratio | min_unit | max_unit | reserved | step_size | total | +----------------+------------------+----------+----------+----------+-----------+-------+ | VGPU | 1.0 | 1 | 3 | 0 | 1 | 3 | +----------------+------------------+----------+----------+----------+-----------+-------+ .. code-block:: none openstack --os-placement-api-version 1.6 trait create CUSTOM_NVIDIA_442 openstack --os-placement-api-version 1.6 resource provider trait set --trait CUSTOM_NVIDIA_442 807d28f4-4b30-4f85-a770-1bcebd1236d3 openstack flavor create --ram 1024 --disk 32 --vcpus 1 m1.small.vgpu.442 openstack flavor set m1.small.vgpu.442 --property resources:VGPU=1 --property trait:CUSTOM_NVIDIA_442=required openstack server create \ --image focal-amd64 --flavor m1.small.vgpu.442 --key-name admin-key --network int_net \ focal-vgpu-442 openstack resource provider inventory list 807d28f4-4b30-4f85-a770-1bcebd1236d3 +----------------+------------------+----------+----------+----------+-----------+-------+------+ | resource_class | allocation_ratio | min_unit | max_unit | reserved | step_size | total | used | +----------------+------------------+----------+----------+----------+-----------+-------+------+ | VGPU | 1.0 | 1 | 3 | 0 | 1 | 3 | 1 | +----------------+------------------+----------+----------+----------+-----------+-------+------+ OpenStack configuration ----------------------- TPM support is added to a VM by means of an OpenStack flavor. This will specify the TPM version and model for the vTPM device to emulate. There are two versions to choose from (1.2 and 2.0) as well as two model types (tpm-tis and tpm-crb). .. note:: The following example configures an existing flavor to use TPM 2.0 with the CRB model (optionally create a new flavor): .. code-block:: none The following example configures an existing image to use UEFI (optionally import a new image): .. code-block:: none openstack image set <image-name-or-uuid> --property hw_firmware_type=uefi .. LINKS .. _Nvidia vGPU software: https://docs.nvidia.com/grid/index.html .. _supported GPU device on Ubuntu: https://docs.nvidia.com/grid/14.0/grid-vgpu-release-notes-ubuntu/index.html#hardware-configuration .. _Attaching virtual GPU devices to guests: https://docs.openstack.org/nova/ussuri/admin/virtual-gpu.html ",,222,0
openstack%2Fvalidations-libs~master~I8c91369380d739acab464dcc1a473f84a78eefea,openstack/validations-libs,master,I8c91369380d739acab464dcc1a473f84a78eefea,Remove yaml check for inventory in run/cli,MERGED,2022-04-12 15:17:35.000000000,2022-04-28 21:52:01.000000000,2022-04-28 21:50:24.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-04-12 15:17:35.000000000', 'files': ['validations_libs/cli/run.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ad6693621227db88294379fefccb72433103f2a0', 'message': ""Remove yaml check for inventory in run/cli\n\nRemoving Yaml check for inventory since the ansible inventory\nis not always a Yaml format.\n\nExample here:\n[bootstrap]\n192.168.126.10\n\n[master]\n192.168.126.11\n\nresult to:\nhosts.yaml must be properly formatted YAML/JSON.Details: expected '<document start>'\n\nChange-Id: I8c91369380d739acab464dcc1a473f84a78eefea\n""}]",2,837586,ad6693621227db88294379fefccb72433103f2a0,13,7,1,16515,,,0,"Remove yaml check for inventory in run/cli

Removing Yaml check for inventory since the ansible inventory
is not always a Yaml format.

Example here:
[bootstrap]
192.168.126.10

[master]
192.168.126.11

result to:
hosts.yaml must be properly formatted YAML/JSON.Details: expected '<document start>'

Change-Id: I8c91369380d739acab464dcc1a473f84a78eefea
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/86/837586/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/cli/run.py'],1,ad6693621227db88294379fefccb72433103f2a0,inventory/cli,, else: common.read_cli_data_file(parsed_args.inventory),0,2
openstack%2Ftripleo-quickstart-extras~master~I9d1e8d0d6b50c0a5524bba8588c06af573cff780,openstack/tripleo-quickstart-extras,master,I9d1e8d0d6b50c0a5524bba8588c06af573cff780,Increase ironic conductor heartbeat times,MERGED,2022-04-27 13:20:40.000000000,2022-04-28 21:50:21.000000000,2022-04-28 21:50:21.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-04-27 13:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aad8b621d1ac34b2d8a86d2d847944f458522e5c', 'message': 'DNM - Increase ironic conductor heartbeat times\n\nDebugging issue reported at:\nhttps://bugs.launchpad.net/tripleo/+bug/1970484/\n\nChange-Id: I9d1e8d0d6b50c0a5524bba8588c06af573cff780\n'}, {'number': 2, 'created': '2022-04-28 11:34:33.000000000', 'files': ['roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/adb8f8a12fa8d782f1cee7851e1a05382fc15a69', 'message': 'Increase ironic conductor heartbeat times\n\nThis patch increases ironic conductor heartbeat times\nto avoid conductor being considered offline, on high load\nsystems. This patch is a workaround to avoid node provision\nfailures on OVB jobs.\n\nRelated-Bug: #1970484\n\nChange-Id: I9d1e8d0d6b50c0a5524bba8588c06af573cff780\n'}]",2,839526,adb8f8a12fa8d782f1cee7851e1a05382fc15a69,16,5,2,30002,,,0,"Increase ironic conductor heartbeat times

This patch increases ironic conductor heartbeat times
to avoid conductor being considered offline, on high load
systems. This patch is a workaround to avoid node provision
failures on OVB jobs.

Related-Bug: #1970484

Change-Id: I9d1e8d0d6b50c0a5524bba8588c06af573cff780
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/839526/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2'],1,aad8b621d1ac34b2d8a86d2d847944f458522e5c,conductor_heartbeat, conductor/heartbeat_interval: value: 20 conductor/heartbeat_timeout: value: 120,,6,0
openstack%2Fvalidations-libs~master~Ic56242fc20ef27e4b96b09319280e87db130e4cb,openstack/validations-libs,master,Ic56242fc20ef27e4b96b09319280e87db130e4cb,Removed explicit inheritance from object,MERGED,2021-01-22 15:09:05.000000000,2022-04-28 21:28:57.000000000,2022-04-28 21:27:32.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-01-22 15:09:05.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/validation_logs.py', 'validations_libs/ansible.py', 'validations_libs/group.py', 'validations_libs/validation.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a68b40af2dff93ed4ba1599872a021968cbbefe2', 'message': 'Removed explicit inheritance from object\n\nAll python classes already inherit from object implicitly.\nThere is no need to keep it there.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic56242fc20ef27e4b96b09319280e87db130e4cb\n'}]",0,771991,a68b40af2dff93ed4ba1599872a021968cbbefe2,11,5,1,32926,,,0,"Removed explicit inheritance from object

All python classes already inherit from object implicitly.
There is no need to keep it there.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic56242fc20ef27e4b96b09319280e87db130e4cb
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/91/771991/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/validation_logs.py', 'validations_libs/ansible.py', 'validations_libs/group.py', 'validations_libs/validation.py']",5,a68b40af2dff93ed4ba1599872a021968cbbefe2,style/explicitobjectinherit,class Validation:,class Validation(object):,5,5
openstack%2Fcharm-openstack-dashboard~master~I56a30b4b80ef2cb3ac96359a3932b53c735b5c01,openstack/charm-openstack-dashboard,master,I56a30b4b80ef2cb3ac96359a3932b53c735b5c01,Add CREATE_INSTNACE_FLAVOR_SORT option,MERGED,2022-04-26 06:40:34.000000000,2022-04-28 21:10:33.000000000,2022-04-28 21:10:33.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 06:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/12d69eef9d18b29feff205ad2c405e8fc37b9df7', 'message': 'Add CREATE_INSTNACE_FLAVOR_SORT option\n\nCloses-Bug: #1663191\nChange-Id: I56a30b4b80ef2cb3ac96359a3932b53c735b5c01\n'}, {'number': 2, 'created': '2022-04-26 07:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/336ea6e30bc039c5830f8a678b4459e65fcdc3dc', 'message': 'Add CREATE_INSTNACE_FLAVOR_SORT option\n\nCloses-Bug: #1663191\nChange-Id: I56a30b4b80ef2cb3ac96359a3932b53c735b5c01\n'}, {'number': 3, 'created': '2022-04-28 09:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/b12afa903b24ce81c49b2b23f43a6e7cd883603e', 'message': 'Add CREATE_INSTNACE_FLAVOR_SORT option\n\nCloses-Bug: #1663191\nChange-Id: I56a30b4b80ef2cb3ac96359a3932b53c735b5c01\n'}, {'number': 4, 'created': '2022-04-28 09:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/b20895c496f874ff100f3a008f0aa19734539483', 'message': 'Add CREATE_INSTNACE_FLAVOR_SORT option\n\nCloses-Bug: #1663191\nChange-Id: I56a30b4b80ef2cb3ac96359a3932b53c735b5c01\n'}, {'number': 5, 'created': '2022-04-28 10:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/9c329a5c483045034ae2ba35efaef8e87c98e608', 'message': 'Add CREATE_INSTNACE_FLAVOR_SORT option\n\nCloses-Bug: #1663191\nChange-Id: I56a30b4b80ef2cb3ac96359a3932b53c735b5c01\n'}, {'number': 6, 'created': '2022-04-28 12:06:42.000000000', 'files': ['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py', 'templates/stein/local_settings.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/b00c977b5276feae8037d52a639a04729bec497a', 'message': 'Add CREATE_INSTNACE_FLAVOR_SORT option\n\nCloses-Bug: #1663191\nChange-Id: I56a30b4b80ef2cb3ac96359a3932b53c735b5c01\n'}]",23,839299,b00c977b5276feae8037d52a639a04729bec497a,34,3,6,34720,,,0,"Add CREATE_INSTNACE_FLAVOR_SORT option

Closes-Bug: #1663191
Change-Id: I56a30b4b80ef2cb3ac96359a3932b53c735b5c01
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/99/839299/5 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py', 'templates/stein/local_settings.py', 'config.yaml']",4,12d69eef9d18b29feff205ad2c405e8fc37b9df7,bug/1663191, create-instance-flavor-sort: type: boolean default: create-instance-flavor-sort-key: type: string default: name create-instance-flavor-sort-reverse: type: boolean default: False,,124,0
openstack%2Frequirements~stable%2Fyoga~Id65c102e154e2e69f87285a1006858facb857bda,openstack/requirements,stable/yoga,Id65c102e154e2e69f87285a1006858facb857bda,update constraint for oslo.limit to new release 1.5.1,MERGED,2022-04-28 13:56:00.000000000,2022-04-28 19:54:08.000000000,2022-04-28 19:54:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 13:56:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/eee4f7aa24d24820850a1478d5c910ac50bc1d61', 'message': 'update constraint for oslo.limit to new release 1.5.1\n\nmeta: version: 1.5.1\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ib493c2bd32c1bcef28d971724442abc2a2690b66\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Id65c102e154e2e69f87285a1006858facb857bda\n'}]",0,839767,eee4f7aa24d24820850a1478d5c910ac50bc1d61,8,2,1,11131,,,0,"update constraint for oslo.limit to new release 1.5.1

meta: version: 1.5.1
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ib493c2bd32c1bcef28d971724442abc2a2690b66
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Id65c102e154e2e69f87285a1006858facb857bda
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/839767/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,eee4f7aa24d24820850a1478d5c910ac50bc1d61,new-release,oslo.limit===1.5.1,oslo.limit===1.5.0,1,1
openstack%2Fopenstack-helm-images~master~I825b7e613a797be84a6e5665045a257e2095278c,openstack/openstack-helm-images,master,I825b7e613a797be84a6e5665045a257e2095278c,Update horizon job to wallaby/focal,MERGED,2021-12-01 03:19:08.000000000,2022-04-28 19:53:23.000000000,2022-04-28 19:50:57.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2021-12-01 03:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/87c84a2104feb6df3d0edfc1db4ecb861e0f3c60', 'message': 'Update horizon job to wallaby/focal\n\nThis change updates the horizon images job to the latest supported\nrelease wallaby and ubuntu focal.\n\nDepends-on: <URL>\nChange-Id: I825b7e613a797be84a6e5665045a257e2095278c\n'}, {'number': 2, 'created': '2021-12-01 03:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/51542650d5a7283c17bc10b02757098663beec64', 'message': 'Update horizon job to wallaby/focal\n\nThis change updates the horizon images job to the latest supported\nrelease wallaby and ubuntu focal.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/819948\nChange-Id: I825b7e613a797be84a6e5665045a257e2095278c\n'}, {'number': 3, 'created': '2022-04-26 16:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2c9a8dbd7ec74076b0a5d2bd43cafb2fcc87f16d', 'message': 'Update horizon job to wallaby/focal\n\nThis change updates the horizon images job to the latest supported\nrelease wallaby and ubuntu focal.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/819948\nChange-Id: I825b7e613a797be84a6e5665045a257e2095278c\n'}, {'number': 4, 'created': '2022-04-26 16:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bd85e3e7c3c8083d2a533a692afb8d7c25e6d448', 'message': 'Update horizon job to wallaby/focal\n\nThis change updates the horizon images job to the latest supported\nrelease wallaby and ubuntu focal.\n\nChange-Id: I825b7e613a797be84a6e5665045a257e2095278c\n'}, {'number': 5, 'created': '2022-04-26 18:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d55235b1a99b9e7376854bfbb022367034960150', 'message': 'Update horizon job to wallaby/focal\n\nThis change updates the horizon images job to the latest supported\nrelease wallaby and ubuntu focal.\n\nChange-Id: I825b7e613a797be84a6e5665045a257e2095278c\n'}, {'number': 6, 'created': '2022-04-26 18:40:56.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/minikube-aio.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/51e7d1522d4f2a0c1655adeb6e9ae9dd531cfea9', 'message': 'Update horizon job to wallaby/focal\n\nThis change updates the horizon images job to the latest supported\nrelease wallaby and ubuntu focal.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/819948\n\nChange-Id: I825b7e613a797be84a6e5665045a257e2095278c\n'}]",3,819947,51e7d1522d4f2a0c1655adeb6e9ae9dd531cfea9,21,3,6,21420,,,0,"Update horizon job to wallaby/focal

This change updates the horizon images job to the latest supported
release wallaby and ubuntu focal.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/819948

Change-Id: I825b7e613a797be84a6e5665045a257e2095278c
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/47/819947/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/minikube-aio.yaml']",2,87c84a2104feb6df3d0edfc1db4ecb861e0f3c60,cleanup, - name: openstack-helm-images-horizon-wallaby-ubuntu_focal, - name: openstack-helm-images-horizon-train-ubuntu_bionic,6,6
openstack%2Fswift~master~Ied3c573ed3e7554c45fe16135ed0e684ab40d9f7,openstack/swift,master,Ied3c573ed3e7554c45fe16135ed0e684ab40d9f7,Add configurable rate limiting to storage servers,ABANDONED,2022-01-13 22:29:00.000000000,2022-04-28 19:23:17.000000000,,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 22:29:00.000000000', 'files': ['swift/common/base_storage_server.py', 'swift/container/server.py', 'etc/container-server.conf-sample', 'test/unit/container/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/852f16c8adc1df178a72f51862af9d227ed2fc52', 'message': 'Add configurable rate limiting to storage servers\n\nEnforce token based req_per_second on the storage servers.\n\nThis is useful when running separate replication servers and you want to\nprotect the responsiveness of your client facing services from excessive\nresource consumption during a thundering herd.\n\nChange-Id: Ied3c573ed3e7554c45fe16135ed0e684ab40d9f7\n'}]",18,824653,852f16c8adc1df178a72f51862af9d227ed2fc52,10,3,1,1179,,,0,"Add configurable rate limiting to storage servers

Enforce token based req_per_second on the storage servers.

This is useful when running separate replication servers and you want to
protect the responsiveness of your client facing services from excessive
resource consumption during a thundering herd.

Change-Id: Ied3c573ed3e7554c45fe16135ed0e684ab40d9f7
",git fetch https://review.opendev.org/openstack/swift refs/changes/53/824653/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/base_storage_server.py', 'swift/container/server.py', 'etc/container-server.conf-sample', 'test/unit/container/test_server.py']",4,852f16c8adc1df178a72f51862af9d227ed2fc52,ratelimit-storage," self.conf = {'devices': self.testdir, 'mount_check': 'false'} self.conf, logger=self.logger) def test_ratelimit_setup(self): now = time.time() conf = {} with mock.patch('time.time', return_value=now): app = container_server.ContainerController( conf, logger=self.logger) self.assertEqual(app.tokens, 1) self.assertEqual(app.req_per_second, 0.0) self.assertEqual(app.last_token_update, now) conf = { 'req_per_second': '1', } with mock.patch('time.time', return_value=now): app = container_server.ContainerController( conf, logger=self.logger) self.assertEqual(app.req_per_second, 1.0) self.assertEqual(app.tokens, 1.0) conf = { 'req_per_second': '25.6', } with mock.patch('time.time', return_value=now): app = container_server.ContainerController( conf, logger=self.logger) self.assertEqual(app.req_per_second, 25.6) self.assertEqual(app.tokens, 25.6) conf = { 'req_per_second': 10000, } with mock.patch('time.time', return_value=now): app = container_server.ContainerController( conf, logger=self.logger) self.assertEqual(app.req_per_second, 10000.0) self.assertEqual(app.tokens, 10000.0) def test_ratelimit_req(self): now = int(time.time()) * 1.0 with mock.patch('time.time', return_value=now): app = container_server.ContainerController( {'req_per_second': 1.0}, logger=self.logger) self.assertEqual(app.tokens, 1.0) # make a request resp = app.ratelimit_req(now) self.assertEqual(resp, None) # another comes in later now += 0.5 resp = app.ratelimit_req(now) self.assertEqual(resp, None) self.assertEqual(app.tokens, -0.5) # another comes in later now += 0.5 resp = app.ratelimit_req(now) self.assertEqual(resp.status_int, 503) self.assertEqual(app.tokens, 0.0) # another comes in later now += 0.2 resp = app.ratelimit_req(now) self.assertEqual(resp, None) self.assertAlmostEqual(app.tokens, -0.8) # another comes in later now += 0.6 resp = app.ratelimit_req(now) self.assertEqual(resp.status_int, 503) self.assertAlmostEqual(app.tokens, -0.2) # another comes much in later now += 10.4 resp = app.ratelimit_req(now) # so it goes through, of course self.assertEqual(resp, None) # but since we cap tokens and immediately decrement - there's no slack self.assertAlmostEqual(app.tokens, 0.0) def test_ratelimit(self): # create a container req = Request.blank( '/sda1/p/a/c', environ={'REQUEST_METHOD': 'PUT'}, headers={'X-Timestamp': '0'}) resp = req.get_response(self.controller) self.assertTrue(resp.status.startswith('201'), resp.status) req = Request.blank( '/sda1/p/a/c', environ={'REQUEST_METHOD': 'HEAD'}) resp = req.get_response(self.controller) self.assertTrue(resp.status.startswith('204'), resp.status) # apply a ratelimit self.conf['req_per_second'] = 0.1 self.controller = container_server.ContainerController( self.conf, logger=self.logger) start = time.time() success = 0 while time.time() < start + 0.1: resp = req.get_response(self.controller) if not resp.status.startswith('204'): break success += 1 self.assertTrue(resp.status.startswith('503'), resp.status) self.assertGreaterEqual(success, 1) # more requests self.conf['req_per_second'] = 10.0 self.controller = container_server.ContainerController( self.conf, logger=self.logger) start = time.time() success = 0 # we should be able to hit the ratelimit pretty quick while time.time() < start + 1.0: resp = req.get_response(self.controller) if not resp.status.startswith('204'): break success += 1 self.assertTrue(resp.status.startswith('503'), resp.status) self.assertGreaterEqual(success, 10) "," {'devices': self.testdir, 'mount_check': 'false'}, logger=self.logger)",157,4
openstack%2Fmurano~master~I1d80bfc5f9c3fecc8551ffc8592e39f76b671485,openstack/murano,master,I1d80bfc5f9c3fecc8551ffc8592e39f76b671485,[CI] Install dependencies for docs target,NEW,2022-04-28 17:54:24.000000000,2022-04-28 19:11:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 17:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/8e7a2ec0c9a4de6c7ac3853ca4a87c8202515e61', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs manila\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nChange-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485\n""}, {'number': 2, 'created': '2022-04-28 18:00:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/1f211823aa8766075d80694c1c3eb6f8c4a3dedf', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs murano\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nChange-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485\n""}]",0,839806,1f211823aa8766075d80694c1c3eb6f8c4a3dedf,3,1,2,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs murano
(with its requirements) in 'develop-inst' phase. In the latter case
'deps' is not used so that the constraints defined in 'deps' are not
used. This could lead to failures on stable branches when new packages
are released that break the build. To avoid this, the simplest solution
is to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Change-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485
",git fetch https://review.opendev.org/openstack/murano refs/changes/06/839806/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8e7a2ec0c9a4de6c7ac3853ca4a87c8202515e61,fix-docs-use-uc,# NOTE(elod.illes): requirements.txt is needed because otherwise # dependencies are installed during 'develop-inst' tox phase without # constraints which could cause failures in stable branches. deps = -c{env:TOX_CONSTRAINTS_FILTOX_CONSTRAINTS_FILEE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,7,1
openstack%2Fproject-team-guide~master~I525f3c7ec21ddf64922cf785c3fdc15bc93f9f49,openstack/project-team-guide,master,I525f3c7ec21ddf64922cf785c3fdc15bc93f9f49,Fix the dependency hierarchy in repo retirement process,MERGED,2022-04-14 00:42:45.000000000,2022-04-28 18:04:33.000000000,2022-04-28 12:55:09.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 00:42:45.000000000', 'files': ['doc/source/repository.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/35d84b09673bd3dc74eba65d7342153a567f0e7f', 'message': 'Fix the dependency hierarchy in repo retirement process\n\nIn repo retirement steps, governance patch needs to wait until\nrepo content is removed. Fixing that step in doc.\n\nChange-Id: I525f3c7ec21ddf64922cf785c3fdc15bc93f9f49\n'}]",3,837787,35d84b09673bd3dc74eba65d7342153a567f0e7f,11,3,1,8556,,,0,"Fix the dependency hierarchy in repo retirement process

In repo retirement steps, governance patch needs to wait until
repo content is removed. Fixing that step in doc.

Change-Id: I525f3c7ec21ddf64922cf785c3fdc15bc93f9f49
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/87/837787/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/repository.rst'],1,35d84b09673bd3dc74eba65d7342153a567f0e7f,,"This patch will not pass the zuul until repo content is removed in Steps 3-5. Once repo content removal patch is merged, 'recheck' the governance patch to trigger the test again. In step 1-2 of OpenDev Manual (1. Stop gating and 2. repo content removal) patch needs to merge without any depends-on but you need to use Needed-By ``governance`` patch submitted in Step 1. In step 3 of OpenDev Manual patches, use Depends-On on ``governance`` patch submitted in Step 1.","In all the patches, use Depends-On on ``governance`` patch submitted in Step 1.",10,1
openstack%2Fnetworking-ovn~stable%2Ftrain~If6e1c6e0fc772101bcd3427601800aaae84381dd,openstack/networking-ovn,stable/train,If6e1c6e0fc772101bcd3427601800aaae84381dd,Retry port_update in the OVN if revision mismatch during live-migration,MERGED,2022-04-13 10:17:18.000000000,2022-04-28 18:03:47.000000000,2022-04-28 18:02:15.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 10:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2db8b0d1882b2b5953e1dfa221e6f04f57a0997c', 'message': 'Retry port_update in the OVN if revision mismatch during live-migration\n\nThis is terrible hack but it seems that there is no other way to\nfix/workaround the race which may happen during live-migration between:\n- port update event comming from the OVN db (port DOWN on the src node),\n- API call from nova-compute to activate port binding on the destination\nnode.\n\nIf those 2 events will be executed in specific order by different\nworkers it may happen that port binding activation will not update\n""requested_chassis"" of the port in OVN northd due to revision mismatch\n(ovn_revision and neutron_revision will be already bumped by the worker\nwhich processes ""port update"" OVN event).\nIf ""requested_chassis"" will not be updated, OVN will not claim port on\nthe dest node thus connectivity to the vm will be broken.\n\nTo workaround that issue, port_update_postcommit method from the OVN\nmechanism driver will catch RevisionMismatch exception raised by the\novn_client and in case that this was port_update after live_migration,\nwill get port data from neutron db and try to update port in the OVN\nnorthd once again.\n\nConflicts:\n    networking_ovn/ml2/mech_driver.py\n    networking_ovn/tests/unit/ml2/test_mech_driver.py\n\nCloses-bug: #1967144\nChange-Id: If6e1c6e0fc772101bcd3427601800aaae84381dd\n(cherry picked from commit 4f75c6a616d3cb549153fcc496926358dfc9178a)\n(cherry picked from commit a91d0e5e4a262a29c77bac38cee91e64d5fa6d46)\n(cherry picked from commit ab88922bbbcb5b4f25923ed9f2c622a42915008a)\n'}, {'number': 2, 'created': '2022-04-13 10:27:31.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bc8db7be9d512015fd18fb58fc80b676590c8d1e', 'message': 'Retry port_update in the OVN if revision mismatch during live-migration\n\nThis is terrible hack but it seems that there is no other way to\nfix/workaround the race which may happen during live-migration between:\n- port update event comming from the OVN db (port DOWN on the src node),\n- API call from nova-compute to activate port binding on the destination\nnode.\n\nIf those 2 events will be executed in specific order by different\nworkers it may happen that port binding activation will not update\n""requested_chassis"" of the port in OVN northd due to revision mismatch\n(ovn_revision and neutron_revision will be already bumped by the worker\nwhich processes ""port update"" OVN event).\nIf ""requested_chassis"" will not be updated, OVN will not claim port on\nthe dest node thus connectivity to the vm will be broken.\n\nTo workaround that issue, port_update_postcommit method from the OVN\nmechanism driver will catch RevisionMismatch exception raised by the\novn_client and in case that this was port_update after live_migration,\nwill get port data from neutron db and try to update port in the OVN\nnorthd once again.\n\nConflicts:\n    networking_ovn/ml2/mech_driver.py\n    networking_ovn/tests/unit/ml2/test_mech_driver.py\n\nCloses-bug: #1967144\nChange-Id: If6e1c6e0fc772101bcd3427601800aaae84381dd\n(cherry picked from commit 4f75c6a616d3cb549153fcc496926358dfc9178a)\n(cherry picked from commit a91d0e5e4a262a29c77bac38cee91e64d5fa6d46)\n(cherry picked from commit ab88922bbbcb5b4f25923ed9f2c622a42915008a)\n'}]",5,837709,bc8db7be9d512015fd18fb58fc80b676590c8d1e,15,3,2,11975,,,0,"Retry port_update in the OVN if revision mismatch during live-migration

This is terrible hack but it seems that there is no other way to
fix/workaround the race which may happen during live-migration between:
- port update event comming from the OVN db (port DOWN on the src node),
- API call from nova-compute to activate port binding on the destination
node.

If those 2 events will be executed in specific order by different
workers it may happen that port binding activation will not update
""requested_chassis"" of the port in OVN northd due to revision mismatch
(ovn_revision and neutron_revision will be already bumped by the worker
which processes ""port update"" OVN event).
If ""requested_chassis"" will not be updated, OVN will not claim port on
the dest node thus connectivity to the vm will be broken.

To workaround that issue, port_update_postcommit method from the OVN
mechanism driver will catch RevisionMismatch exception raised by the
ovn_client and in case that this was port_update after live_migration,
will get port data from neutron db and try to update port in the OVN
northd once again.

Conflicts:
    networking_ovn/ml2/mech_driver.py
    networking_ovn/tests/unit/ml2/test_mech_driver.py

Closes-bug: #1967144
Change-Id: If6e1c6e0fc772101bcd3427601800aaae84381dd
(cherry picked from commit 4f75c6a616d3cb549153fcc496926358dfc9178a)
(cherry picked from commit a91d0e5e4a262a29c77bac38cee91e64d5fa6d46)
(cherry picked from commit ab88922bbbcb5b4f25923ed9f2c622a42915008a)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/09/837709/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ml2/mech_driver.py']",4,2db8b0d1882b2b5953e1dfa221e6f04f57a0997c,bug/1967144-stable/train,"from networking_ovn.common import exceptions as ovn_exceptions def _ovn_update_port(self, plugin_context, port, original_port, retry_on_revision_mismatch): try: self._ovn_client.update_port(plugin_context, port, port_object=original_port) except ovn_exceptions.RevisionConflict: if retry_on_revision_mismatch: # NOTE(slaweq): I know this is terrible hack but there is no # other way to workaround possible race between port update # event from the OVN (port down on the src node) and API # request from nova-compute to activate binding of the port on # the dest node. original_port_migrating_to = original_port.get( portbindings.PROFILE, {}).get('migrating_to') port_host_id = port.get(portbindings.HOST_ID) if (original_port_migrating_to is not None and original_port_migrating_to == port_host_id): LOG.debug(""Revision number of the port %s has changed "" ""probably during live migration. Retrying "" ""update port in OVN."", port) db_port = self._plugin.get_port(plugin_context, port['id']) port['revision_number'] = db_port['revision_number'] self._ovn_update_port(plugin_context, port, original_port, retry_on_revision_mismatch=False) self._ovn_update_port(context._plugin_context, port, original_port, retry_on_revision_mismatch=True)"," self._ovn_client.update_port(port, port_object=original_port)",145,2
openstack%2Fnova~master~I4471d4488d336d5af0c23028724c4ce79d6a2031,openstack/nova,master,I4471d4488d336d5af0c23028724c4ce79d6a2031,[CI] Install dependencies for docs target,MERGED,2022-04-28 15:21:07.000000000,2022-04-28 17:59:14.000000000,2022-04-28 17:57:23.000000000,"[{'_account_id': 4393}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 15:21:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/494e8d7db6f8a3d1a952f657acab353787f57e04', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs nova (with\nits requirements) in 'develop-inst' phase. In the latter case 'deps' is\nnot used so that the constraints defined in 'deps' are not used.\nThis could lead to failures on stable branches when new packages are\nreleased that break the build. To avoid this, the simplest solution is\nto pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nChange-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031\n""}]",3,839781,494e8d7db6f8a3d1a952f657acab353787f57e04,17,3,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs nova (with
its requirements) in 'develop-inst' phase. In the latter case 'deps' is
not used so that the constraints defined in 'deps' are not used.
This could lead to failures on stable branches when new packages are
released that break the build. To avoid this, the simplest solution is
to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Change-Id: I4471d4488d336d5af0c23028724c4ce79d6a2031
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/839781/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,494e8d7db6f8a3d1a952f657acab353787f57e04,fix-docs-use-uc, -r{toxinidir}/requirements.txt,,1,0
openstack%2Fopenstack-helm-docs~master~I0b6243b8b19a9868feeec55ac6fded602691ce88,openstack/openstack-helm-docs,master,I0b6243b8b19a9868feeec55ac6fded602691ce88,Retire openstack-helm-docs repository,MERGED,2022-04-26 19:05:39.000000000,2022-04-28 17:57:43.000000000,2022-04-28 17:57:43.000000000,"[{'_account_id': 8556}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-04-26 19:05:39.000000000', 'files': ['doc-ko_KR/source/_static', '.gitignore', 'README.rst', 'doc/source/_templates/.placeholder', 'setup.py', 'releasenotes/source/_templates/.placeholder', 'doc/source/contributor/contributing.rst', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'requirements.txt', 'doc-ko_KR/requirements.txt', 'releasenotes/source/_static/.placeholder', 'LICENSE', 'doc-ko_KR/source/index.rst', 'doc/source/conf.py', 'releasenotes/source/index.rst', 'doc-ko_KR/source/conf.py', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'doc/source/_static/.placeholder', 'tools/build-docs.sh', 'zuul.d/project.yaml', 'doc/requirements.txt', 'doc-ko_KR/source/_templates', 'setup.cfg', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-docs/commit/75aa2283afd2c79231d83db9e681f5edcc743c5b', 'message': 'Retire openstack-helm-docs repository\n\nThis change removes the context from the openstack-helm-docs\nrepository as part of the effort to retire the repo.\n\nChange-Id: I0b6243b8b19a9868feeec55ac6fded602691ce88\n'}]",2,839429,75aa2283afd2c79231d83db9e681f5edcc743c5b,10,4,1,21420,,,0,"Retire openstack-helm-docs repository

This change removes the context from the openstack-helm-docs
repository as part of the effort to retire the repo.

Change-Id: I0b6243b8b19a9868feeec55ac6fded602691ce88
",git fetch https://review.opendev.org/openstack/openstack-helm-docs refs/changes/29/839429/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc-ko_KR/source/_static', '.gitignore', 'README.rst', 'doc/source/_templates/.placeholder', 'setup.py', 'releasenotes/source/_templates/.placeholder', 'doc/source/contributor/contributing.rst', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'requirements.txt', 'doc-ko_KR/requirements.txt', 'releasenotes/source/_static/.placeholder', 'LICENSE', 'doc-ko_KR/source/index.rst', 'doc/source/conf.py', 'releasenotes/source/index.rst', 'doc-ko_KR/source/conf.py', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'doc/source/_static/.placeholder', 'tools/build-docs.sh', 'zuul.d/project.yaml', 'doc/requirements.txt', 'doc-ko_KR/source/_templates', 'setup.cfg', 'tox.ini', 'releasenotes/source/conf.py']",27,75aa2283afd2c79231d83db9e681f5edcc743c5b,retire-repo,,"# -*- coding: utf-8 -*- # # Configuration file for the Sphinx documentation builder. # # This file does only contain a selection of the most common options. For a # full list see the documentation: # http://www.sphinx-doc.org/en/master/config # -- Path setup -------------------------------------------------------------- # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # # import os # import sys # sys.path.insert(0, os.path.abspath('.')) # -- Project information ----------------------------------------------------- project = 'OpenStack Helm Docs Release Notes' copyright = '2018, OpenStack Developers' author = 'OpenStack Helm Docs Authors' # openstackdocstheme options openstackdocs_repo_name = 'openstack/openstack-helm-docs' openstackdocs_auto_name = False openstackdocs_use_storyboard = True # The short X.Y version version = '' # The full version, including alpha/beta/rc tags release = '' # -- General configuration --------------------------------------------------- # If your documentation needs a minimal Sphinx version, state it here. # # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix(es) of source filenames. # You can specify multiple suffix as a list of string: # # source_suffix = ['.rst', '.md'] source_suffix = '.rst' # The master toctree document. master_doc = 'index' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # # This is also used if you do content translation via gettext catalogs. # Usually you set ""language"" from the command line for these cases. language = None # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. # This pattern also affects html_static_path and html_extra_path. exclude_patterns = [] # The name of the Pygments (syntax highlighting) style to use. pygments_style = None # -- Options for HTML output ------------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. # html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # # html_theme_options = {} # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Custom sidebar templates, must be a dictionary that maps document names # to template names. # # The default sidebars (for documents that don't match any pattern) are # defined by theme itself. Builtin themes are using these templates by # default: ``['localtoc.html', 'relations.html', 'sourcelink.html', # 'searchbox.html']``. # # html_sidebars = {} # -- Options for HTMLHelp output --------------------------------------------- # Output file base name for HTML help builder. htmlhelp_basename = 'OpenStack-Helm-Docsdoc' # -- Options for LaTeX output ------------------------------------------------ latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # # 'preamble': '', # Latex figure (float) alignment # # 'figure_align': 'htbp', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ (master_doc, 'OpenStack-Helm-Docs.tex', 'OpenStack-Helm-Docs Documentation', 'openstack-helm-authors', 'manual'), ] # -- Options for manual page output ------------------------------------------ # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ (master_doc, 'openstack-helm-docs', 'OpenStack-Helm-Docs Documentation', [author], 1) ] # -- Options for Texinfo output ---------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ (master_doc, 'OpenStack-Helm-Docs', 'OpenStack-Helm-Docs Documentation', author, 'OpenStack-Helm-Docs', 'One line description of project.', 'Miscellaneous'), ] # -- Options for Epub output ------------------------------------------------- # Bibliographic Dublin Core info. epub_title = project # The unique identifier of the text. This can be a ISBN number # or the project homepage. # # epub_identifier = '' # A unique identification for the text. # # epub_uid = '' # A list of files that should not be packed into the epub file. epub_exclude_files = ['search.html'] ",9,682
openstack%2Fproject-config~master~Ic145858311f887be0eb336c6f27be591fbd07175,openstack/project-config,master,Ic145858311f887be0eb336c6f27be591fbd07175,End project gating for openstack-helm-docs,MERGED,2022-04-22 21:10:10.000000000,2022-04-28 17:39:23.000000000,2022-04-28 17:39:23.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-22 21:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d5a2ef72760b68b18aa054a35468acd60dcd705e', 'message': 'End project gating for openstack-helm-docs\n\nThis change is to end the project gating for the\nopenstack-helm-docs repo as step 3.1 of retiring the repo.\n\nChange-Id: Ic145858311f887be0eb336c6f27be591fbd07175\n'}, {'number': 2, 'created': '2022-04-26 19:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/51f6381ad3912a2e5d2c1ec1c0db9a17bcdcef36', 'message': 'End project gating for openstack-helm-docs\n\nThis change is to end the project gating for the\nopenstack-helm-docs repo as step 3.1 of retiring the repo.\n\nDepends-on: https://review.opendev.org/c/openstack/governance/+/839100\n\nChange-Id: Ic145858311f887be0eb336c6f27be591fbd07175\n'}, {'number': 3, 'created': '2022-04-28 17:15:14.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8fe0b9885676cac5568d056530ec5601e2e5c1eb', 'message': 'End project gating for openstack-helm-docs\n\nThis change is to end the project gating for the\nopenstack-helm-docs repo as step 3.1 of retiring the repo.\n\nChange-Id: Ic145858311f887be0eb336c6f27be591fbd07175\n'}]",7,839103,8fe0b9885676cac5568d056530ec5601e2e5c1eb,19,4,3,21420,,,0,"End project gating for openstack-helm-docs

This change is to end the project gating for the
openstack-helm-docs repo as step 3.1 of retiring the repo.

Change-Id: Ic145858311f887be0eb336c6f27be591fbd07175
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/839103/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,d5a2ef72760b68b18aa054a35468acd60dcd705e,osh-docs, - noop-jobs, - official-openstack-repo-jobs,1,1
openstack%2Fovn-octavia-provider~stable%2Fxena~Ifb1605c0c7c547c77e760a42de53432c5ca4152a,openstack/ovn-octavia-provider,stable/xena,Ifb1605c0c7c547c77e760a42de53432c5ca4152a,Use python3-devel in bindep for rpm distros,MERGED,2022-04-19 16:10:27.000000000,2022-04-28 17:01:55.000000000,2022-04-28 17:00:09.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-04-19 16:10:27.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4222dc12b131c0de8cfeb14cbd067722888bba9a', 'message': ""Use python3-devel in bindep for rpm distros\n\npython36-devel is not available in rpm distro's\nlike CentOS9-Stream or Fedora35.\n\nChange-Id: Ifb1605c0c7c547c77e760a42de53432c5ca4152a\n(cherry picked from commit b28b4bf840ead9f26ceca9985e112106bc281d4c)\n""}]",2,838528,4222dc12b131c0de8cfeb14cbd067722888bba9a,15,4,1,34451,,,0,"Use python3-devel in bindep for rpm distros

python36-devel is not available in rpm distro's
like CentOS9-Stream or Fedora35.

Change-Id: Ifb1605c0c7c547c77e760a42de53432c5ca4152a
(cherry picked from commit b28b4bf840ead9f26ceca9985e112106bc281d4c)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/28/838528/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,4222dc12b131c0de8cfeb14cbd067722888bba9a,,python3-devel [platform:rpm],python36-devel [platform:rpm],1,1
openstack%2Fnetworking-hyperv~master~I7a2ba44b873ae72d675512d03cd26b69acb9383e,openstack/networking-hyperv,master,I7a2ba44b873ae72d675512d03cd26b69acb9383e,Avoid mocking the same objects twice,MERGED,2022-04-28 13:04:56.000000000,2022-04-28 16:41:23.000000000,2022-04-28 16:41:23.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 13:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/3542e0908951d6613e5f81288926a6352ef0d9dd', 'message': ""Avoid mocking the same objects twice\n\nStarting with Python 3.10, the (now standard) mock library\nno longer allows mocking the same object twice.\n\nSome utils classes are currently mocked twice. We'll avoid this,\nyet ensuring that the autospec feature is properly used.\n\nChange-Id: I7a2ba44b873ae72d675512d03cd26b69acb9383e\n""}, {'number': 2, 'created': '2022-04-28 13:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/84a87dae95c096500e9cc727ecc956819b822e0c', 'message': ""Avoid mocking the same objects twice\n\nStarting with Python 3.10, the (now standard) mock library\nno longer allows mocking the same object twice.\n\nSome utils classes are currently mocked twice. We'll avoid this,\nyet ensuring that the autospec feature is properly used.\n\nCloses-Bug: #1954512\n\nChange-Id: I7a2ba44b873ae72d675512d03cd26b69acb9383e\n""}, {'number': 3, 'created': '2022-04-28 13:41:19.000000000', 'files': ['networking_hyperv/tests/base.py', 'networking_hyperv/tests/unit/neutron/agent/test_layer2.py', 'networking_hyperv/tests/unit/neutron/test_nvgre_ops.py', 'networking_hyperv/tests/unit/neutron/test_security_groups_driver.py', 'networking_hyperv/tests/unit/neutron/agent/test_hnv_neutron_agent.py', 'networking_hyperv/tests/unit/neutron/agent/test_hyperv_neutron_agent.py', 'networking_hyperv/tests/unit/neutron/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/305dcfafc8796a0aba66b73eeb2d00445d4127fb', 'message': ""Avoid mocking the same objects twice\n\nStarting with Python 3.10, the (now standard) mock library\nno longer allows mocking the same object twice.\n\nSome utils classes are currently mocked twice. We'll avoid this,\nyet ensuring that the autospec feature is properly used.\n\nCloses-Bug: #1954512\n\nChange-Id: I7a2ba44b873ae72d675512d03cd26b69acb9383e\n""}]",1,839755,305dcfafc8796a0aba66b73eeb2d00445d4127fb,9,2,3,8543,,,0,"Avoid mocking the same objects twice

Starting with Python 3.10, the (now standard) mock library
no longer allows mocking the same object twice.

Some utils classes are currently mocked twice. We'll avoid this,
yet ensuring that the autospec feature is properly used.

Closes-Bug: #1954512

Change-Id: I7a2ba44b873ae72d675512d03cd26b69acb9383e
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/55/839755/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_hyperv/tests/base.py', 'networking_hyperv/tests/unit/neutron/agent/test_layer2.py', 'networking_hyperv/tests/unit/neutron/test_nvgre_ops.py', 'networking_hyperv/tests/unit/neutron/test_security_groups_driver.py', 'networking_hyperv/tests/unit/neutron/agent/test_hnv_neutron_agent.py', 'networking_hyperv/tests/unit/neutron/agent/test_hyperv_neutron_agent.py', 'networking_hyperv/tests/unit/neutron/test_trunk_driver.py']",7,3542e0908951d6613e5f81288926a6352ef0d9dd,avoid_mocking_twice,, self.trunk_driver._utils = mock.MagicMock( autospec=self.trunk_driver._utils),33,24
openstack%2Fgovernance~master~I22754c80f22da2aeb8a0b0ae0c985316d851250b,openstack/governance,master,I22754c80f22da2aeb8a0b0ae0c985316d851250b,Remove oslo's TaCT SIG liaisons,MERGED,2022-04-26 08:22:05.000000000,2022-04-28 16:13:34.000000000,2022-04-28 16:10:20.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11292}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27380}]","[{'number': 1, 'created': '2022-04-26 08:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/77bfadf6ca23fcf360d6c9a4c945689c3d0859e9', 'message': ""Remove oslo's TaCT SIG liaisons\n\nBecause they aren't anymore active.\n\nChange-Id: I22754c80f22da2aeb8a0b0ae0c985316d851250b\n""}, {'number': 2, 'created': '2022-04-26 08:44:33.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/223888bf617e1bf979fd512b9b9c579536a0df6b', 'message': ""Remove oslo's TaCT SIG liaisons\n\nBecause they aren't anymore active.\n\nChange-Id: I22754c80f22da2aeb8a0b0ae0c985316d851250b\n""}]",3,839317,223888bf617e1bf979fd512b9b9c579536a0df6b,19,9,2,28522,,,0,"Remove oslo's TaCT SIG liaisons

Because they aren't anymore active.

Change-Id: I22754c80f22da2aeb8a0b0ae0c985316d851250b
",git fetch https://review.opendev.org/openstack/governance refs/changes/17/839317/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,77bfadf6ca23fcf360d6c9a4c945689c3d0859e9,project-update,, - name: Moisés Guimarães irc: moguimar email: moguimar@redhat.com - name: Sébastien Boyron irc: sboyron email: sboyron@redhat.com,0,6
openstack%2Fgovernance~master~I100805fae27c75fa13ed52892115bbdb1e12b0d6,openstack/governance,master,I100805fae27c75fa13ed52892115bbdb1e12b0d6,Update Dmitriy Rabotyagov email,MERGED,2022-04-27 06:19:44.000000000,2022-04-28 16:12:12.000000000,2022-04-28 16:10:18.000000000,"[{'_account_id': 2874}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11292}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 06:19:44.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/d73739ee4cdbdaa72d6a9ab34d51f9ed5cb9a74f', 'message': 'Update Dmitriy Rabotyagov email\n\nChange-Id: I100805fae27c75fa13ed52892115bbdb1e12b0d6\n'}]",2,839470,d73739ee4cdbdaa72d6a9ab34d51f9ed5cb9a74f,16,9,1,28619,,,0,"Update Dmitriy Rabotyagov email

Change-Id: I100805fae27c75fa13ed52892115bbdb1e12b0d6
",git fetch https://review.opendev.org/openstack/governance refs/changes/70/839470/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,d73739ee4cdbdaa72d6a9ab34d51f9ed5cb9a74f,documentation-change, email: noonedeadpunk@gmail.com, email: noonedeadpunk@ya.ru,1,1
openstack%2Fopenstack-helm~master~I0a14b854951ea0bca2060e534b5c882cb6f24863,openstack/openstack-helm,master,I0a14b854951ea0bca2060e534b5c882cb6f24863,Update ceph upgrade documentation,MERGED,2022-04-26 19:36:27.000000000,2022-04-28 15:48:06.000000000,2022-04-28 15:44:11.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2022-04-26 19:36:27.000000000', 'files': ['doc/source/testing/ceph-upgrade.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/70023e991d9a38718e33bc0eb579951b496ff906', 'message': 'Update ceph upgrade documentation\n\nThis change updates the ceph-upgrade docs to reference a newer\nversion of ubuntu. This is part of the movement to cleanup\nolder versions of distros/releases.\n\nChange-Id: I0a14b854951ea0bca2060e534b5c882cb6f24863\n'}]",0,839434,70023e991d9a38718e33bc0eb579951b496ff906,9,3,1,21420,,,0,"Update ceph upgrade documentation

This change updates the ceph-upgrade docs to reference a newer
version of ubuntu. This is part of the movement to cleanup
older versions of distros/releases.

Change-Id: I0a14b854951ea0bca2060e534b5c882cb6f24863
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/34/839434/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/testing/ceph-upgrade.rst'],1,70023e991d9a38718e33bc0eb579951b496ff906,update-docs, ceph_config_helper: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_focal' ceph_rbd_pool: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_focal' ceph_mon_check: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_focal' Image: docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_focal ceph_config_helper: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_focal' ceph_rbd_pool: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_focal' ceph_mon_check: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_focal' Image: docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_focal, ceph_config_helper: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_xenial' ceph_rbd_pool: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_xenial' ceph_mon_check: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_xenial' Image: docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_xenial ceph_config_helper: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_xenial' ceph_rbd_pool: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_xenial' ceph_mon_check: 'docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_xenial' Image: docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_xenial,8,8
openstack%2Fopenstack-helm~master~I966adc8ac4a54d3c2c06707ecd6c041fe4708c96,openstack/openstack-helm,master,I966adc8ac4a54d3c2c06707ecd6c041fe4708c96,Update horizon job to wallaby and ubuntu focal,MERGED,2021-12-01 03:21:06.000000000,2022-04-28 15:46:47.000000000,2022-04-28 15:43:58.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2021-12-01 03:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/edb3442c0cc87a56485e7432b7c564bcd6c1ed68', 'message': 'Update horizon job to wallaby and ubuntu focal\n\nThis change updates the horizon job to run under the wallaby\nrelease on ubuntu focal image.\n\nChange-Id: I966adc8ac4a54d3c2c06707ecd6c041fe4708c96\n'}, {'number': 2, 'created': '2022-04-26 16:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94a659570be5a611d3ac3abed672eee63fd62a63', 'message': 'Update horizon job to wallaby and ubuntu focal\n\nThis change updates the horizon job to run under the wallaby\nrelease on ubuntu focal image.\n\nChange-Id: I966adc8ac4a54d3c2c06707ecd6c041fe4708c96\n'}, {'number': 3, 'created': '2022-04-26 16:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bcfedd0d5c8b558acf8cec545909355d9ce26b6d', 'message': 'Update horizon job to wallaby and ubuntu focal\n\nThis change updates the horizon job to run under the wallaby\nrelease on ubuntu focal image.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-images/+/819947\n\nChange-Id: I966adc8ac4a54d3c2c06707ecd6c041fe4708c96\n'}, {'number': 4, 'created': '2022-04-26 18:37:17.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0a3ff67bfcc369fada9ed6d7790750da0a93d8c9', 'message': 'Update horizon job to wallaby and ubuntu focal\n\nThis change updates the horizon job to run under the wallaby\nrelease on ubuntu focal image. Due to the dependencies\nbetween the images repo and this one, we will need to create\na separate new job before moving over.\n\nChange-Id: I966adc8ac4a54d3c2c06707ecd6c041fe4708c96\n'}]",1,819948,0a3ff67bfcc369fada9ed6d7790750da0a93d8c9,15,3,4,21420,,,0,"Update horizon job to wallaby and ubuntu focal

This change updates the horizon job to run under the wallaby
release on ubuntu focal image. Due to the dependencies
between the images repo and this one, we will need to create
a separate new job before moving over.

Change-Id: I966adc8ac4a54d3c2c06707ecd6c041fe4708c96
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/48/819948/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,edb3442c0cc87a56485e7432b7c564bcd6c1ed68,horizon-job, name: openstack-helm-horizon-wallaby-ubuntu_focal openstack_release: wallaby container_distro_version: focal, name: openstack-helm-horizon-train-ubuntu_bionic openstack_release: train container_distro_version: bionic,4,4
openstack%2Fvalidations-libs~master~I887b6e0d1e561b965f1c6d5119c7cb54cf30f1d2,openstack/validations-libs,master,I887b6e0d1e561b965f1c6d5119c7cb54cf30f1d2,get_status property simplification and optimization,MERGED,2021-04-26 13:56:37.000000000,2022-04-28 15:46:11.000000000,2022-04-28 15:41:43.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-26 13:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/199ad6b1302e22136c78b6fe4a018b9d35340197', 'message': 'get_status property simplification\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I887b6e0d1e561b965f1c6d5119c7cb54cf30f1d2\n'}, {'number': 2, 'created': '2021-04-26 13:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/378f112b485a4e83dbbc812b342b5c528ca9e014', 'message': ""get_status property simplification and optimization\n\nProperty was simplified to be more readable\nand optimized so it doesn't loop over all stats\nif it doesn't need to.\n\nReference to unsupported return value was removed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I887b6e0d1e561b965f1c6d5119c7cb54cf30f1d2\n""}, {'number': 3, 'created': '2021-05-31 05:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/68fd1649653be75547fbd1e16d355510fd08e416', 'message': ""get_status property simplification and optimization\n\nProperty was simplified to be more readable\nand optimized so it doesn't loop over all stats\nif it doesn't need to.\n\nReference to unsupported return value was removed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I887b6e0d1e561b965f1c6d5119c7cb54cf30f1d2\n""}, {'number': 4, 'created': '2022-04-21 08:19:14.000000000', 'files': ['validations_libs/validation_logs.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5fd83d3ee93a4375a231fb376eb2584336f2b344', 'message': ""get_status property simplification and optimization\n\nProperty was simplified to be more readable\nand optimized so it doesn't loop over all stats\nif it doesn't need to.\n\nReference to unsupported return value was removed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I887b6e0d1e561b965f1c6d5119c7cb54cf30f1d2\n""}]",0,788001,5fd83d3ee93a4375a231fb376eb2584336f2b344,18,6,4,32926,,,0,"get_status property simplification and optimization

Property was simplified to be more readable
and optimized so it doesn't loop over all stats
if it doesn't need to.

Reference to unsupported return value was removed.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I887b6e0d1e561b965f1c6d5119c7cb54cf30f1d2
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/01/788001/2 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/validation_logs.py'],1,199ad6b1302e22136c78b6fe4a018b9d35340197,validatorlogs/propertysimplification," :return: 'FAILED' if there are any failed or unreachable validations, 'PASSED' if not. failure_states = ['failures', 'unreachable'] for v_stats in self.content['stats'].values(): if any([v_stats[failure] != 0 for failure in failure_states]): return 'FAILED' return 'PASSED'"," :return: 'FAILED' if there is failure(s), 'PASSED' if not. If no tasks have been executed, it returns 'NOT_RUN'. failed = 0 for h in self.content['stats'].keys(): if self.content['stats'][h].get('failures'): failed += 1 if self.content['stats'][h].get('unreachable'): failed += 1 return ('FAILED' if failed else 'PASSED')",8,9
openstack%2Fvalidations-libs~master~I20b0c9a4289c7c8885e5b1981c8bea81c1deab47,openstack/validations-libs,master,I20b0c9a4289c7c8885e5b1981c8bea81c1deab47,Tests verifying functionality ansible runtime infrastructure,MERGED,2022-04-21 14:21:15.000000000,2022-04-28 15:44:13.000000000,2022-04-28 15:41:41.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-04-21 14:21:15.000000000', 'files': ['validations_libs/tests/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1701904ca39575f49bb7e4a78de28d2f98a66fb9', 'message': 'Tests verifying functionality ansible runtime infrastructure\n\nNew tests verify callback order of precedence, white list\nhandling and environment variable setting under various conditions.\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I20b0c9a4289c7c8885e5b1981c8bea81c1deab47\n'}]",0,838903,1701904ca39575f49bb7e4a78de28d2f98a66fb9,8,4,1,32926,,,0,"Tests verifying functionality ansible runtime infrastructure

New tests verify callback order of precedence, white list
handling and environment variable setting under various conditions.

Closes-Bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I20b0c9a4289c7c8885e5b1981c8bea81c1deab47
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/03/838903/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/tests/test_ansible.py'],1,1701904ca39575f49bb7e4a78de28d2f98a66fb9,change-771438-22,"import os return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_specific_log_path(self, mock_path, mock_env, mock_env_var, 'ANSIBLE_STDOUT_CALLBACK': 'fake', @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch( 'ansible_runner.utils.dump_artifact', autospec=True, return_value=""/foo/inventory.yaml"") @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) @mock.patch('os.path.abspath', return_value='/tmp/foo/localhost') @mock.patch('os.environ.copy', return_value={}) def test_run_no_log_path(self, mock_env, mock_path, mock_env_var, mock_config, mock_dump_artifact, mock_run, mock_exists, mock_open): """""" Tests if leaving default (None) log_path appropriately sets 'ANSIBLE_CONFIG' and 'fact_cache' envvars, using constants.constants.VALIDATION_ANSIBLE_ARTIFACT_PATH. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp') opt = { 'artifact_dir': '/tmp', 'extravars': {}, 'ident': '', 'inventory': '/tmp/foo/localhost', 'playbook': 'existing.yaml', 'private_data_dir': '/tmp', 'quiet': False, 'rotate_artifacts': 256, 'verbosity': 0} if not backward_compat: opt.update({ 'envvars': { 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CONFIG': os.path.join( constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'ansible.cfg')}, 'project_dir': '/tmp', 'fact_cache': constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'fact_cache_type': 'jsonfile'}) mock_config.assert_called_once_with(**opt) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch( 'ansible_runner.utils.dump_artifact', autospec=True, return_value=""/foo/inventory.yaml"") @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) @mock.patch('os.path.abspath', return_value='/tmp/foo/localhost') @mock.patch('os.environ.copy', return_value={}) def test_run_tags(self, mock_env, mock_path, mock_env_var, mock_config, mock_dump_artifact, mock_run, mock_exists, mock_open): """""" Tests if specifying tags appropriately sets 'tags' envvar, passed as dict entry to RunnerConfig. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" tags = ','.join(['master', 'train', 'fake']) _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', tags=tags) opt = { 'artifact_dir': '/tmp', 'extravars': {}, 'ident': '', 'inventory': '/tmp/foo/localhost', 'playbook': 'existing.yaml', 'private_data_dir': '/tmp', 'quiet': False, 'rotate_artifacts': 256, 'verbosity': 0, 'tags': tags} if not backward_compat: opt.update({ 'envvars': { 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CONFIG': '/tmp/foo/artifacts/ansible.cfg', 'VALIDATIONS_LOG_DIR': '/tmp/foo'}, 'project_dir': '/tmp', 'fact_cache': '/tmp/foo/artifacts/', 'fact_cache_type': 'jsonfile'}) mock_config.assert_called_once_with(**opt) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._encode_envvars', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks', 'ANSIBLE_CONFIG': os.path.join( constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'ansible.cfg')}) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) @mock.patch('os.path.abspath', return_value='/tmp/foo/localhost') def test_run_ansible_playbook_dir(self, mock_path, mock_env, mock_encode_envvars, mock_config, mock_run, mock_exists, mock_open): """""" Tests if leaving default (None) log_path and setting playbook_dir appropriately sets 'project_dir' value in r_opts dict. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', playbook_dir='/tmp/fake_playbooks') opt = { 'artifact_dir': '/tmp', 'extravars': {}, 'ident': '', 'inventory': '/tmp/foo/localhost', 'playbook': 'existing.yaml', 'private_data_dir': '/tmp', 'quiet': False, 'rotate_artifacts': 256, 'verbosity': 0} if not backward_compat: opt.update({ 'envvars': { 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CONFIG': os.path.join( constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'ansible.cfg'), 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks' }, 'project_dir': '/tmp/fake_playbooks', 'fact_cache': constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'fact_cache_type': 'jsonfile'}) mock_config.assert_called_once_with(**opt) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'log_plays,mail,fake,validation_json,profile_tasks' }) @mock.patch('os.environ.copy', return_value={}) def test_run_callback_whitelist_extend(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open): """"""Tests if Ansible._callbacks method appropriately constructs callback_whitelist, when provided explicit whitelist and output_callback. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" _playbook, _rc, _status = self.run.run( ssh_user='root', playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback='fake', callback_whitelist='log_plays,mail') args = { 'output_callback': 'fake', 'ssh_user': 'root', 'workdir': '/tmp', 'connection': 'smart', 'gathering_policy': 'smart', 'module_path': None, 'key': None, 'extra_env_variables': None, 'ansible_timeout': 30, 'callback_whitelist': 'log_plays,mail,fake,profile_tasks,vf_validation_json', 'base_dir': '/usr/share/ansible', 'python_interpreter': None} #Specific form of Ansible.env_var neccessiates convoluted arg unpacking. mock_env_var.assert_called_once_with(*args.values(), validation_cfg_file=None) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks' }) @mock.patch('os.environ.copy', return_value={}) def test_run_callback_whitelist_none(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open): """"""Tests if Ansible._callbacks method appropriately constructs callback_whitelist, when provided default (None) whitelist and specific output_callback. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" _playbook, _rc, _status = self.run.run( ssh_user='root', playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback='fake') args = { 'output_callback': 'fake', 'ssh_user': 'root', 'workdir': '/tmp', 'connection': 'smart', 'gathering_policy': 'smart', 'module_path': None, 'key': None, 'extra_env_variables': None, 'ansible_timeout': 30, 'callback_whitelist': 'fake,profile_tasks,vf_validation_json', 'base_dir': '/usr/share/ansible', 'python_interpreter': None} #Specific form of Ansible.env_var neccessiates convoluted arg unpacking. mock_env_var.assert_called_once_with(*args.values(), validation_cfg_file=None) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'different_fake', 'ANSIBLE_CALLBACK_WHITELIST': 'different_fake,validation_json,profile_tasks' }) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'different_fake'}) def test_run_callback_precedence(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open): """"""Tests if Ansible._callbacks method reaches for output_callback if and only if env dict doesn't contain 'ANSIBLE_STDOUT_CALLBACK' key. Bulk of the mocks are only for purposes of convenience. Assertions: Presence of key: value pairs. """""" _playbook, _rc, _status = self.run.run( ssh_user='root', playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback='fake') args = { 'output_callback': 'different_fake', 'ssh_user': 'root', 'workdir': '/tmp', 'connection': 'smart', 'gathering_policy': 'smart', 'module_path': None, 'key': None, 'extra_env_variables': None, 'ansible_timeout': 30, 'callback_whitelist': 'different_fake,profile_tasks,vf_validation_json', 'base_dir': '/usr/share/ansible', 'python_interpreter': None} #Specific form of Ansible.env_var neccessiates convoluted arg unpacking. mock_env_var.assert_called_once_with(*args.values(), validation_cfg_file=None) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks' }) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_ansible_artifact_path_set(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open): """"""Tests if specified 'ansible_artifact_path' is passed in a valid and unchanged form to RunnerConfig as value of 'fact_cache' param. Additional assertion on number of calls is placed, to ensure that RunnerConfig is called only once. Otherwise followup assertions could fail. Assertions: Validity of specified path in filesystem: os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. Passing of specified value (ansible_artifact_path) to RunnerConfig. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback='fake', ansible_artifact_path='/tmp/artifact/path') mock_config.assert_called_once() """"""Is the path even valid in our filesystem? Index 1 stands for kwargs in py<=36. os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. """""" self.assertRaises(FileNotFoundError, os.lstat, mock_config.call_args[1]['fact_cache']) self.assertTrue('/tmp/artifact/path' in mock_config.call_args[1]['fact_cache']) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks' }) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_ansible_artifact_path_from_log_path(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open): """"""Tests if specified 'log_path' is passed in a valid and unchanged form to RunnerConfig as value of 'fact_cache' param, in absence of specified 'ansible_artifact_path'. Additional assertion on number of calls is placed, to ensure that RunnerConfig is called only once. Otherwise followup assertions could fail. Assertions: Validity of specified path in filesystem.: os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. Passing of specified value (log_path) to RunnerConfig. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback='fake') mock_config.assert_called_once() """"""Is the path even valid in our filesystem? Index 1 stands for kwargs in py<=36. os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. """""" self.assertRaises(FileNotFoundError, os.lstat, mock_config.call_args[1]['fact_cache']) self.assertTrue('/tmp/foo' in mock_config.call_args[1]['fact_cache']) @mock.patch.object( constants, 'VALIDATION_ANSIBLE_ARTIFACT_PATH', new='foo/bar') @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks', }) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_ansible_artifact_path_from_constants(self, mock_env, mock_env_var, mock_config, mock_run, mock_exists, mock_open): """"""Tests if 'constants.constants.VALIDATION_ANSIBLE_ARTIFACT_PATH' passed in a valid and unchanged form to RunnerConfig as value of 'fact_cache' param, in absence of specified 'ansible_artifact_path' or 'log_path'. Additional assertion on number of calls is placed, to ensure that RunnerConfig is called only once. Otherwise followup assertions could fail. Assertions: Validity of specified path in filesystem.: os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. Passing of specified value (log_path) to RunnerConfig. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp') mock_config.assert_called_once() """"""Is the path even valid in our filesystem? Index 1 stands for kwargs in py<=36. os.lstat raises FileNotFoundError only if specified path is valid, but does not exist in current filesystem. """""" self.assertRaises(FileNotFoundError, os.lstat, mock_config.call_args[1]['fact_cache']) self.assertTrue(constants.VALIDATION_ANSIBLE_ARTIFACT_PATH in mock_config.call_args[1]['fact_cache']) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._encode_envvars', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks', 'ANSIBLE_CONFIG': os.path.join( constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'ansible.cfg')}) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_ansible_envvars(self, mock_env, mock_encode_envvars, mock_config, mock_run, mock_exists, mock_open): """"""Tests if Ansible._ansible_env_var method, and following conditionals, correctly assemble the env dict. Assertions: Dictinary passed to Ansible._encode_envvars contains key: value pairs representing proper superset of key: value pairs required. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp') env = { 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_DISPLAY_FAILED_STDERR': True, 'ANSIBLE_FORKS': 36, 'ANSIBLE_TIMEOUT': 30, 'ANSIBLE_GATHER_TIMEOUT': 45, 'ANSIBLE_SSH_RETRIES': 3, 'ANSIBLE_PIPELINING': True, 'ANSIBLE_CALLBACK_WHITELIST': 'fake,profile_tasks,vf_validation_json', 'ANSIBLE_RETRY_FILES_ENABLED': False, 'ANSIBLE_HOST_KEY_CHECKING': False, 'ANSIBLE_TRANSPORT': 'smart', 'ANSIBLE_CACHE_PLUGIN_TIMEOUT': 7200, 'ANSIBLE_GATHERING': 'smart', 'ANSIBLE_CONFIG': os.path.join( constants.VALIDATION_ANSIBLE_ARTIFACT_PATH, 'ansible.cfg')} #Test will work properly only if the method was called once. mock_encode_envvars.assert_called_once() """"""True if, and only if, every item (key:value pair) in the env dict is also present in the kwargs dict. Index 1 stands for kwargs in py<=36 This test does not rely on order of items. """""" self.assertGreaterEqual( mock_encode_envvars.call_args[1]['env'].items(), env.items()) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch.object( Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch( 'validations_libs.ansible.Ansible._encode_envvars', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_CALLBACK_WHITELIST': 'fake,validation_json,profile_tasks', 'ANSIBLE_CONFIG': '/tmp/foo/artifacts/ansible.cfg'}) @mock.patch( 'os.environ.copy', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake'}) def test_run_ansible_envvars_logdir(self, mock_env, mock_encode_envvars, mock_config, mock_run, mock_exists, mock_open): """"""Tests if Ansible._ansible_env_var method, and following conditionals, correctly assemble the env dict. While using the specified `log_path` value in appropriate places. Assertions: Dictinary passed to Ansible._encode_envvars contains key: value pairs representing proper superset of key: value pairs required. """""" _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo') env = { 'ANSIBLE_STDOUT_CALLBACK': 'fake', 'ANSIBLE_DISPLAY_FAILED_STDERR': True, 'ANSIBLE_FORKS': 36, 'ANSIBLE_TIMEOUT': 30, 'ANSIBLE_GATHER_TIMEOUT': 45, 'ANSIBLE_SSH_RETRIES': 3, 'ANSIBLE_PIPELINING': True, 'ANSIBLE_CALLBACK_WHITELIST': 'fake,profile_tasks,vf_validation_json', 'ANSIBLE_RETRY_FILES_ENABLED': False, 'ANSIBLE_HOST_KEY_CHECKING': False, 'ANSIBLE_TRANSPORT': 'smart', 'ANSIBLE_CACHE_PLUGIN_TIMEOUT': 7200, 'ANSIBLE_GATHERING': 'smart', 'ANSIBLE_CONFIG': '/tmp/foo/artifacts/ansible.cfg', 'VALIDATIONS_LOG_DIR': '/tmp/foo'} #Test will work properly only if the method was called once. mock_encode_envvars.assert_called_once() """"""True if, and only if, every item (key:value pair) in the env dict is also present in the kwargs dict. Index 1 stands for kwargs in py<=36 This test does not rely on order of items. """""" self.assertGreaterEqual( mock_encode_envvars.call_args[1]['env'].items(), env.items())"," return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake.py'}) def test_run_specific_log_path(self, moch_path, mock_env, mock_env_var, 'ANSIBLE_STDOUT_CALLBACK': 'fake.py',",615,3
openstack%2Fopenstack-helm~master~Ia670e19ae44109cc5d270c32fb3ed81e7d2e5d15,openstack/openstack-helm,master,Ia670e19ae44109cc5d270c32fb3ed81e7d2e5d15,Update ovs-dpdk documentation release values,MERGED,2022-04-26 19:52:03.000000000,2022-04-28 15:44:08.000000000,2022-04-28 15:44:08.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2022-04-26 19:52:03.000000000', 'files': ['doc/source/install/developer/deploy-ovs-dpdk.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a910c1fb903eb8053ed79e37f0dd2a815b770d38', 'message': 'Update ovs-dpdk documentation release values\n\nThis change updates the references in the documentation to reference\nnewer openstack and ubuntu releases, as well as removes a section\nthat was outdated that referred to testing.\n\nChange-Id: Ia670e19ae44109cc5d270c32fb3ed81e7d2e5d15\n'}]",0,839439,a910c1fb903eb8053ed79e37f0dd2a815b770d38,8,3,1,21420,,,0,"Update ovs-dpdk documentation release values

This change updates the references in the documentation to reference
newer openstack and ubuntu releases, as well as removes a section
that was outdated that referred to testing.

Change-Id: Ia670e19ae44109cc5d270c32fb3ed81e7d2e5d15
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/39/839439/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/deploy-ovs-dpdk.rst'],1,a910c1fb903eb8053ed79e37f0dd2a815b770d38,update-docs, export OPENSTACK_RELEASE=wallaby export CONTAINER_DISTRO_VERSION=focal," export OPENSTACK_RELEASE=rocky export CONTAINER_DISTRO_VERSION=bionic Note that OVS-DPDK deployment has been tested with Openstack Rocky release and Ubuntu Bionic container distributions. If the above variables aren't set, the defaults (currently Openstack Ocata and Ubuntu Xenial) will be used.",2,6
openstack%2Fopenstack-helm~master~I485bc247c5d14176b6b4db36e2b5006a900238f9,openstack/openstack-helm,master,I485bc247c5d14176b6b4db36e2b5006a900238f9,Update ironic defaults to use Wallaby,MERGED,2022-04-26 19:39:56.000000000,2022-04-28 15:44:02.000000000,2022-04-28 15:44:02.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2022-04-26 19:39:56.000000000', 'files': ['releasenotes/notes/ironic.yaml', 'ironic/Chart.yaml', 'ironic/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7a5eadfda114fe034ddb91aa50aa9d147b87d421', 'message': 'Update ironic defaults to use Wallaby\n\nThis change updates the default image values for the ironic chart\nto use the wallaby release images.\n\nThis is part of the effort to remove older release references.\n\nChange-Id: I485bc247c5d14176b6b4db36e2b5006a900238f9\n'}]",0,839435,7a5eadfda114fe034ddb91aa50aa9d147b87d421,8,3,1,21420,,,0,"Update ironic defaults to use Wallaby

This change updates the default image values for the ironic chart
to use the wallaby release images.

This is part of the effort to remove older release references.

Change-Id: I485bc247c5d14176b6b4db36e2b5006a900238f9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/35/839435/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ironic.yaml', 'ironic/Chart.yaml', 'ironic/values.yaml']",3,7a5eadfda114fe034ddb91aa50aa9d147b87d421,update-ironic, ironic_manage_cleaning_network: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ironic_retrive_cleaning_network: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ironic_retrive_swift_config: docker.io/openstackhelm/heat:wallaby-ubuntu_focal bootstrap: docker.io/openstackhelm/heat:wallaby-ubuntu_focal db_drop: docker.io/openstackhelm/heat:wallaby-ubuntu_focal db_init: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ironic_db_sync: docker.io/openstackhelm/ironic:wallaby-ubuntu_focal ks_user: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_service: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_endpoints: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ironic_api: docker.io/openstackhelm/ironic:wallaby-ubuntu_focal ironic_conductor: docker.io/openstackhelm/ironic:wallaby-ubuntu_focal ironic_pxe: docker.io/openstackhelm/ironic:wallaby-ubuntu_focal ironic_pxe_init: docker.io/openstackhelm/ironic:wallaby-ubuntu_focal source: tinyipa-stable-wallaby.gz source: tinyipa-stable-wallaby.vmlinuz, ironic_manage_cleaning_network: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ironic_retrive_cleaning_network: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ironic_retrive_swift_config: docker.io/openstackhelm/heat:ocata-ubuntu_xenial bootstrap: docker.io/openstackhelm/heat:ocata-ubuntu_xenial db_drop: docker.io/openstackhelm/heat:ocata-ubuntu_xenial db_init: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ironic_db_sync: docker.io/openstackhelm/ironic:ocata-ubuntu_xenial ks_user: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ks_service: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ks_endpoints: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ironic_api: docker.io/openstackhelm/ironic:ocata-ubuntu_xenial ironic_conductor: docker.io/openstackhelm/ironic:ocata-ubuntu_xenial ironic_pxe: docker.io/openstackhelm/ironic:ocata-ubuntu_xenial ironic_pxe_init: docker.io/openstackhelm/ironic:ocata-ubuntu_xenial source: tinyipa-stable-ocata.gz source: tinyipa-stable-ocata.vmlinuz,18,17
openstack%2Fopenstack-helm~master~Id3dd045839147b9f6bb4f4ccb55b229abbadf774,openstack/openstack-helm,master,Id3dd045839147b9f6bb4f4ccb55b229abbadf774,Remove older values overrides - barbican,MERGED,2022-04-26 19:30:58.000000000,2022-04-28 15:44:00.000000000,2022-04-28 15:44:00.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2022-04-26 19:30:58.000000000', 'files': ['releasenotes/notes/barbican.yaml', 'barbican/values_overrides/ocata-ubuntu_xenial.yaml', 'barbican/values_overrides/rocky-opensuse_15.yaml', 'barbican/values_overrides/rocky.yaml', 'barbican/values.yaml', 'barbican/Chart.yaml', 'barbican/values_overrides/queens.yaml', 'barbican/values_overrides/pike.yaml', 'barbican/values_overrides/ocata.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a0318c23a4ef6d4d74c36c825bd2d91ecb210dd4', 'message': 'Remove older values overrides - barbican\n\nThis change removes several older values overrides for the barbican\nchart as well as bumps the default images used to ussuri.\n\nChange-Id: Id3dd045839147b9f6bb4f4ccb55b229abbadf774\n'}]",0,839433,a0318c23a4ef6d4d74c36c825bd2d91ecb210dd4,8,3,1,21420,,,0,"Remove older values overrides - barbican

This change removes several older values overrides for the barbican
chart as well as bumps the default images used to ussuri.

Change-Id: Id3dd045839147b9f6bb4f4ccb55b229abbadf774
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/33/839433/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/barbican.yaml', 'barbican/values_overrides/ocata-ubuntu_xenial.yaml', 'barbican/values_overrides/rocky-opensuse_15.yaml', 'barbican/values_overrides/rocky.yaml', 'barbican/values.yaml', 'barbican/Chart.yaml', 'barbican/values_overrides/queens.yaml', 'barbican/values_overrides/pike.yaml', 'barbican/values_overrides/ocata.yaml']",9,a0318c23a4ef6d4d74c36c825bd2d91ecb210dd4,update-barbican,,--- conf: policy: secret_project_match: project:%(target.secret.project_id)s secret_creator_user: user:%(target.secret.creator_id)s container_project_match: project:%(target.container.project_id)s container_creator_user: user:%(target.container.creator_id)s ... ,11,68
openstack%2Fvalidations-common~master~I7a12a883e8a72481bb2854d2d980d1e09670a3ae,openstack/validations-common,master,I7a12a883e8a72481bb2854d2d980d1e09670a3ae,Create security component for CI Validations component jobs,MERGED,2021-11-23 09:33:53.000000000,2022-04-28 15:41:47.000000000,2022-04-28 15:41:47.000000000,"[{'_account_id': 9914}, {'_account_id': 11491}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-11-23 09:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/61223067b3a8584a7b5d878c03bc6662b435b30d', 'message': 'Create security component for CI Validations component jobs\n\nChange-Id: I7a12a883e8a72481bb2854d2d980d1e09670a3ae\n'}, {'number': 2, 'created': '2021-12-02 07:24:18.000000000', 'files': ['roles/validations/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2f46fdf34577a67e686edda68f0bbeb0aa722f91', 'message': 'Create security component for CI Validations component jobs\n\nChange-Id: I7a12a883e8a72481bb2854d2d980d1e09670a3ae\n'}]",1,818872,2f46fdf34577a67e686edda68f0bbeb0aa722f91,10,7,2,16515,,,0,"Create security component for CI Validations component jobs

Change-Id: I7a12a883e8a72481bb2854d2d980d1e09670a3ae
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/72/818872/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/vars/main.yaml'],1,61223067b3a8584a7b5d878c03bc6662b435b30d,security/component/validations," security: - tls-everywhere-prep: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - tls-everywhere-pre-deployment: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}"" - tls-everywhere-post-deployment: extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}""",,10,0
openstack%2Fvalidations-common~master~Id22cd56416849da03d02ef98781b601f223355db,openstack/validations-common,master,Id22cd56416849da03d02ef98781b601f223355db,Setting default branch of devstack repositories for functional tests,MERGED,2022-03-22 14:59:26.000000000,2022-04-28 15:41:45.000000000,2022-04-28 15:41:45.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-03-22 14:59:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a679bb8015437d0d5cec65223549d8535291823f', 'message': ""Setting default branch of devstack repositories for functional tests\n\nThe functional test job didn't specify default branches\nfor repositories it depended on, leading to a graph freeze failure\non stable branches with irregular names.\n\nThis patch sets the devstack repos as a dependency and\nexplicitly specifies the branches to be used.\n\nCloses-Bug: #1965876\nCo-Authored-By: Jakob Meng <code@jakobmeng.de>\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id22cd56416849da03d02ef98781b601f223355db\n""}]",0,834695,a679bb8015437d0d5cec65223549d8535291823f,8,6,1,32926,,,0,"Setting default branch of devstack repositories for functional tests

The functional test job didn't specify default branches
for repositories it depended on, leading to a graph freeze failure
on stable branches with irregular names.

This patch sets the devstack repos as a dependency and
explicitly specifies the branches to be used.

Closes-Bug: #1965876
Co-Authored-By: Jakob Meng <code@jakobmeng.de>

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id22cd56416849da03d02ef98781b601f223355db
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/95/834695/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a679bb8015437d0d5cec65223549d8535291823f,devstack/override-branch, - name: openstack/openstacksdk override-checkout: master - name: opendev.org/openstack/devstack override-checkout: master,,4,0
openstack%2Fvalidations-common~master~I797f19835ef40341fdcdfc5f9aa5481192ebc2e4,openstack/validations-common,master,I797f19835ef40341fdcdfc5f9aa5481192ebc2e4,setup.cfg: Replace dashes by underscores,MERGED,2022-02-05 17:25:39.000000000,2022-04-28 15:41:39.000000000,2022-04-28 15:41:39.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-02-05 17:25:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f6542c3ee351731c5ce042c3d24bcc79235611d1', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I797f19835ef40341fdcdfc5f9aa5481192ebc2e4\n""}]",1,828011,f6542c3ee351731c5ce042c3d24bcc79235611d1,7,5,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I797f19835ef40341fdcdfc5f9aa5481192ebc2e4
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/11/828011/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f6542c3ee351731c5ce042c3d24bcc79235611d1,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/validations-common python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/validations-common python-requires = >=3.6,4,4
openstack%2Ftripleo-validations~stable%2Ftrain~I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa,openstack/tripleo-validations,stable/train,I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa,oslo-config-validator: container run task should never fail,MERGED,2022-02-07 16:41:17.000000000,2022-04-28 15:41:37.000000000,2022-04-28 15:41:37.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-02-07 16:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/26dced5f4d221daedcad09358ad9daefc539aa04', 'message': ""oslo-config-validator: container run task should never fail\n\nSince it's calling the collection, there's no rc to check against and if\nthere's no validation error, then it's not an issue.\n\nChange-Id: I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa\n(cherry picked from commit 3043ad836ba18dbf985c913814791741c61ae0e2)\n""}, {'number': 2, 'created': '2022-02-07 16:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c5f4680bcf3c8ebf0a67cd3b69b02428fe062bcb', 'message': ""oslo-config-validator: container run task should never fail\n\nSince it's calling the collection, there's no rc to check against and if\nthere's no validation error, then it's not an issue.\n\nConflict:\n  - train supports both docker and podman for FFU\n\nChange-Id: I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa\n(cherry picked from commit 3043ad836ba18dbf985c913814791741c61ae0e2)\n(cherry picked from commit a758a74ef3a0730a1de91b4890f93a75ddf089c7)\n""}, {'number': 3, 'created': '2022-02-10 16:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/df79be80bd7fb549213dfc62cf28d2d3651bdc9a', 'message': ""oslo-config-validator: container run task should never fail\n\nSince it's calling the collection, there's no rc to check against and if\nthere's no validation error, then it's not an issue.\n\nChange-Id: I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa\n(cherry picked from commit 3043ad836ba18dbf985c913814791741c61ae0e2)\n(cherry picked from commit a758a74ef3a0730a1de91b4890f93a75ddf089c7)\n(cherry picked from commit 4ce41cee7a5e81c1198caab447a62c14623300a3)\n(cherry picked from commit 14bdad0286b24f25d7cf756ebe4440314241168d)\n""}, {'number': 4, 'created': '2022-02-10 16:05:00.000000000', 'files': ['roles/oslo_config_validator/tasks/container_run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ff67eeb65d8471d04fe9af29d504912e5cfba721', 'message': ""oslo-config-validator: container run task should never fail\n\nSince it's calling the collection, there's no rc to check against and if\nthere's no validation error, then it's not an issue.\n\nChange-Id: I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa\n(cherry picked from commit 3043ad836ba18dbf985c913814791741c61ae0e2)\n(cherry picked from commit a758a74ef3a0730a1de91b4890f93a75ddf089c7)\n(cherry picked from commit 4ce41cee7a5e81c1198caab447a62c14623300a3)\n(cherry picked from commit 14bdad0286b24f25d7cf756ebe4440314241168d)\n""}]",3,828138,ff67eeb65d8471d04fe9af29d504912e5cfba721,26,5,4,27419,,,0,"oslo-config-validator: container run task should never fail

Since it's calling the collection, there's no rc to check against and if
there's no validation error, then it's not an issue.

Change-Id: I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa
(cherry picked from commit 3043ad836ba18dbf985c913814791741c61ae0e2)
(cherry picked from commit a758a74ef3a0730a1de91b4890f93a75ddf089c7)
(cherry picked from commit 4ce41cee7a5e81c1198caab447a62c14623300a3)
(cherry picked from commit 14bdad0286b24f25d7cf756ebe4440314241168d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/38/828138/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/oslo_config_validator/tasks/container_run.yml'],1,26dced5f4d221daedcad09358ad9daefc539aa04,,"<<<<<<< HEAD (d9afa0 oslo-config-validator: invalidating configs only when necess)======= - name: Run oslo-config container containers.podman.podman_container: name: ""{{ container_name }}"" image: ""{{ config_file.image }}"" state: started detach: false rm: true user: ""0"" mount: ""type=bind,source={{ oslo_config_validator_work_path }},destination=/oslo_config_validation"" network: none command: ""{{ oslo_command }}"" register: container_run failed_when: - false >>>>>>> CHANGE (a758a7 oslo-config-validator: container run task should never fail)",,17,0
openstack%2Fopenstack-helm~master~Iaed37bad01e621e95b9d1493eb8fcf2ec19a3526,openstack/openstack-helm,master,Iaed37bad01e621e95b9d1493eb8fcf2ec19a3526,Remove unused admin port in keystone override,MERGED,2022-03-31 21:42:47.000000000,2022-04-28 15:39:38.000000000,2022-04-28 15:37:13.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2022-03-31 21:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4b004dbe763aaf4c735351e67219192d4d0992a', 'message': 'Remove unused admin port in keystone override\n\nCurrently the netpol overrides in keystone have the old v2 admin\nport defined. This is no longer needed since keystone v2 has been\nlong removed.\n\nChange-Id: Iaed37bad01e621e95b9d1493eb8fcf2ec19a3526\n'}, {'number': 2, 'created': '2022-04-26 16:28:32.000000000', 'files': ['keystone/values_overrides/netpol.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/180076c899f9a30190217c93bed2ac5cead04738', 'message': 'Remove unused admin port in keystone override\n\nCurrently the netpol overrides in keystone have the old v2 admin\nport defined. This is no longer needed since keystone v2 has been\nlong removed.\n\nChange-Id: Iaed37bad01e621e95b9d1493eb8fcf2ec19a3526\n'}]",1,836095,180076c899f9a30190217c93bed2ac5cead04738,13,3,2,21420,,,0,"Remove unused admin port in keystone override

Currently the netpol overrides in keystone have the old v2 admin
port defined. This is no longer needed since keystone v2 has been
long removed.

Change-Id: Iaed37bad01e621e95b9d1493eb8fcf2ec19a3526
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/95/836095/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/values_overrides/netpol.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/Chart.yaml']",3,e4b004dbe763aaf4c735351e67219192d4d0992a,keystone-port,version: 0.2.21,version: 0.2.20,2,3
openstack%2Fopenstack-helm~master~I05167916a1191128e0455e88b8aa3f1e421c544a,openstack/openstack-helm,master,I05167916a1191128e0455e88b8aa3f1e421c544a,Change image default version to wallaby,MERGED,2022-04-20 19:22:49.000000000,2022-04-28 15:38:10.000000000,2022-04-28 15:36:21.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2022-04-20 19:22:49.000000000', 'files': ['glance/Chart.yaml', 'releasenotes/notes/glance.yaml', 'glance/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/60bba2eafd6d865a9a4350824b87a2f7eab8dfbc', 'message': 'Change image default version to wallaby\n\nThis change updates the default version of openstack to wallaby\nfor the glance chart.\n\nChange-Id: I05167916a1191128e0455e88b8aa3f1e421c544a\n'}]",0,838777,60bba2eafd6d865a9a4350824b87a2f7eab8dfbc,9,3,1,21420,,,0,"Change image default version to wallaby

This change updates the default version of openstack to wallaby
for the glance chart.

Change-Id: I05167916a1191128e0455e88b8aa3f1e421c544a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/77/838777/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/Chart.yaml', 'releasenotes/notes/glance.yaml', 'glance/values.yaml']",3,60bba2eafd6d865a9a4350824b87a2f7eab8dfbc,update-glance, glance_metadefs_load: docker.io/openstackhelm/glance:wallaby-ubuntu_focal db_init: docker.io/openstackhelm/heat:wallaby-ubuntu_focal glance_db_sync: docker.io/openstackhelm/glance:wallaby-ubuntu_focal db_drop: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_user: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_service: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_endpoints: docker.io/openstackhelm/heat:wallaby-ubuntu_focal glance_api: docker.io/openstackhelm/glance:wallaby-ubuntu_focal bootstrap: docker.io/openstackhelm/heat:wallaby-ubuntu_focal, glance_metadefs_load: docker.io/openstackhelm/glance:stein-ubuntu_bionic db_init: docker.io/openstackhelm/heat:stein-ubuntu_bionic glance_db_sync: docker.io/openstackhelm/glance:stein-ubuntu_bionic db_drop: docker.io/openstackhelm/heat:stein-ubuntu_bionic ks_user: docker.io/openstackhelm/heat:stein-ubuntu_bionic ks_service: docker.io/openstackhelm/heat:stein-ubuntu_bionic ks_endpoints: docker.io/openstackhelm/heat:stein-ubuntu_bionic glance_api: docker.io/openstackhelm/glance:stein-ubuntu_bionic bootstrap: docker.io/openstackhelm/heat:stein-ubuntu_bionic,11,10
openstack%2Fopenstack-helm~master~I8c5c4e1cd743236b9403293e695e1c4ac096f879,openstack/openstack-helm,master,I8c5c4e1cd743236b9403293e695e1c4ac096f879,Update nova default image values,MERGED,2022-04-27 15:21:19.000000000,2022-04-28 15:36:50.000000000,2022-04-28 15:35:13.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2022-04-27 15:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/47ebf2bbad1b698f99dee275b8e27aa234965b7c', 'message': 'Update nova default image values\n\nThis change updates the default image values for nova from ocata\nto ussuri to match the rest of the defaults.\n\nChange-Id: I8c5c4e1cd743236b9403293e695e1c4ac096f879\n'}, {'number': 2, 'created': '2022-04-27 17:52:44.000000000', 'files': ['nova/values.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8f1474d15b1a218f9572cec07c015de0af32f7b', 'message': 'Update nova default image values\n\nThis change updates the default image values for nova from ocata\nto ussuri to match the rest of the defaults.\n\nChange-Id: I8c5c4e1cd743236b9403293e695e1c4ac096f879\n'}]",0,839575,a8f1474d15b1a218f9572cec07c015de0af32f7b,11,3,2,21420,,,0,"Update nova default image values

This change updates the default image values for nova from ocata
to ussuri to match the rest of the defaults.

Change-Id: I8c5c4e1cd743236b9403293e695e1c4ac096f879
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/75/839575/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml']",3,47ebf2bbad1b698f99dee275b8e27aa234965b7c,update-nova,version: 0.2.38,version: 0.2.37,5,4
openstack%2Fironic~master~I6a8f38934b475f792433be6f0882540b82ca26c1,openstack/ironic,master,I6a8f38934b475f792433be6f0882540b82ca26c1,Exclude current conductor from offline_conductors,MERGED,2022-04-28 08:26:43.000000000,2022-04-28 15:34:57.000000000,2022-04-28 15:33:16.000000000,"[{'_account_id': 9976}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 08:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a0f457f5ecd0a64d9f8706409b9d8b709292cffe', 'message': 'Exclude current conductor from offline_conductors\n\nIn some cases the current conductor may have failed to updated\nthe heartbeat timestamp due to failure of resource starvation.\nWhen this occurs the dbapi get_offline_conductors method will\ninclude the current conductor in its return value.\n\nIn this scenario the conductor may end up forcefully remove\nnode reservations or allocations from itself, triggering takeover\nwhich fail on-going operations.\n\nThis change adds a wrapper to exclude the current conductor.\nThe wrapper will log a warning to raise the issue.\n\nRelated-Bug: #1970484\nStroy: 2010016\nTask: 45204\nChange-Id: I6a8f38934b475f792433be6f0882540b82ca26c1\n'}, {'number': 2, 'created': '2022-04-28 08:28:35.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'releasenotes/notes/exclude-current-conductor-from-offline-conductors-2e2ef401a8b7d7e8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4cf0147e86039e8fa2232c3de6d45f1405a515d0', 'message': 'Exclude current conductor from offline_conductors\n\nIn some cases the current conductor may have failed to updated\nthe heartbeat timestamp due to failure of resource starvation.\nWhen this occurs the dbapi get_offline_conductors method will\ninclude the current conductor in its return value.\n\nIn this scenario the conductor may end up forcefully remove\nnode reservations or allocations from itself, triggering takeover\nwhich fail on-going operations.\n\nThis change adds a wrapper to exclude the current conductor.\nThe wrapper will log a warning to raise the issue.\n\nRelated-Bug: #1970484\nStroy: 2010016\nTask: 45204\nChange-Id: I6a8f38934b475f792433be6f0882540b82ca26c1\n'}]",3,839704,4cf0147e86039e8fa2232c3de6d45f1405a515d0,15,4,2,24245,,,0,"Exclude current conductor from offline_conductors

In some cases the current conductor may have failed to updated
the heartbeat timestamp due to failure of resource starvation.
When this occurs the dbapi get_offline_conductors method will
include the current conductor in its return value.

In this scenario the conductor may end up forcefully remove
node reservations or allocations from itself, triggering takeover
which fail on-going operations.

This change adds a wrapper to exclude the current conductor.
The wrapper will log a warning to raise the issue.

Related-Bug: #1970484
Stroy: 2010016
Task: 45204
Change-Id: I6a8f38934b475f792433be6f0882540b82ca26c1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/839704/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'releasenotes/notes/exclude-current-conductor-from-offline-conductors-2e2ef401a8b7d7e8.yaml']",4,a0f457f5ecd0a64d9f8706409b9d8b709292cffe,story/2010016,"--- fixes: - | Fixes an issue where a conductor would attempt local takeover. In case of heartbeat failure due to resource starvation, the current conductor was detected as offline when querying the database. In this scenario the conductor would forcibly remove reservations of it's own and initiate takeover. Current conductor is now excluded from the list of offline conductors, so that local takeover does not occur for this case. A warning is logged to highlight the potential resource starvation issue. See bug: `2010016 <https://storyboard.openstack.org/#!/story/2010016>`_. ",,47,2
openstack%2Fopenstack-helm~master~I6a328628e8daf74ea42cd60f71a2cd93b2c3ebde,openstack/openstack-helm,master,I6a328628e8daf74ea42cd60f71a2cd93b2c3ebde,Update image defaults to Wallaby,MERGED,2022-04-26 19:44:50.000000000,2022-04-28 15:32:10.000000000,2022-04-28 15:30:27.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2022-04-26 19:44:50.000000000', 'files': ['senlin/Chart.yaml', 'releasenotes/notes/senlin.yaml', 'senlin/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/28745e6b17346a0b01674b50933f051c655d8db8', 'message': 'Update image defaults to Wallaby\n\nThis change updates the image defaults to wallaby in the senlin\nchart. This is part of the effort to update the image references\nin each chart.\n\nChange-Id: I6a328628e8daf74ea42cd60f71a2cd93b2c3ebde\n'}]",0,839436,28745e6b17346a0b01674b50933f051c655d8db8,9,3,1,21420,,,0,"Update image defaults to Wallaby

This change updates the image defaults to wallaby in the senlin
chart. This is part of the effort to update the image references
in each chart.

Change-Id: I6a328628e8daf74ea42cd60f71a2cd93b2c3ebde
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/36/839436/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/Chart.yaml', 'releasenotes/notes/senlin.yaml', 'senlin/values.yaml']",3,28745e6b17346a0b01674b50933f051c655d8db8,senlin, scripted_test: docker.io/openstackhelm/heat:wallaby-ubuntu_focal bootstrap: docker.io/openstackhelm/heat:wallaby-ubuntu_focal db_init: docker.io/openstackhelm/heat:wallaby-ubuntu_focal senlin_db_sync: docker.io/openstackhelm/senlin:wallaby-ubuntu_focal db_drop: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_user: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_service: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_endpoints: docker.io/openstackhelm/heat:wallaby-ubuntu_focal senlin_api: docker.io/openstackhelm/senlin:wallaby-ubuntu_focal senlin_conductor: docker.io/openstackhelm/senlin:wallaby-ubuntu_focal senlin_engine: docker.io/openstackhelm/senlin:wallaby-ubuntu_focal senlin_engine_cleaner: docker.io/openstackhelm/senlin:wallaby-ubuntu_focal senlin_health_manager: docker.io/openstackhelm/senlin:wallaby-ubuntu_focal, scripted_test: docker.io/openstackhelm/heat:ocata-ubuntu_xenial bootstrap: docker.io/openstackhelm/heat:ocata-ubuntu_xenial db_init: docker.io/openstackhelm/heat:ocata-ubuntu_xenial senlin_db_sync: docker.io/openstackhelm/senlin:ocata-ubuntu_xenial db_drop: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ks_user: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ks_service: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ks_endpoints: docker.io/openstackhelm/heat:ocata-ubuntu_xenial senlin_api: docker.io/openstackhelm/senlin:ocata-ubuntu_xenial senlin_conductor: docker.io/openstackhelm/senlin:ocata-ubuntu_xenial senlin_engine: docker.io/openstackhelm/senlin:ocata-ubuntu_xenial senlin_engine_cleaner: docker.io/openstackhelm/senlin:ocata-ubuntu_xenial senlin_health_manager: docker.io/openstackhelm/senlin:ocata-ubuntu_xenial,15,14
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Ifb1605c0c7c547c77e760a42de53432c5ca4152a,openstack/ovn-octavia-provider,stable/wallaby,Ifb1605c0c7c547c77e760a42de53432c5ca4152a,Use python3-devel in bindep for rpm distros,MERGED,2022-04-19 16:10:59.000000000,2022-04-28 15:31:55.000000000,2022-04-28 15:30:33.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-04-19 16:10:59.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9013681f1f52354175a99f4edaf60d74993208d1', 'message': ""Use python3-devel in bindep for rpm distros\n\npython36-devel is not available in rpm distro's\nlike CentOS9-Stream or Fedora35.\n\nChange-Id: Ifb1605c0c7c547c77e760a42de53432c5ca4152a\n(cherry picked from commit b28b4bf840ead9f26ceca9985e112106bc281d4c)\n""}]",0,838529,9013681f1f52354175a99f4edaf60d74993208d1,9,4,1,34451,,,0,"Use python3-devel in bindep for rpm distros

python36-devel is not available in rpm distro's
like CentOS9-Stream or Fedora35.

Change-Id: Ifb1605c0c7c547c77e760a42de53432c5ca4152a
(cherry picked from commit b28b4bf840ead9f26ceca9985e112106bc281d4c)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/29/838529/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,9013681f1f52354175a99f4edaf60d74993208d1,,python3-devel [platform:rpm],python36-devel [platform:rpm],1,1
openstack%2Ftripleo-validations~stable%2Fwallaby~I295924cac7d2d6df276af038a53acfb435fe06c7,openstack/tripleo-validations,stable/wallaby,I295924cac7d2d6df276af038a53acfb435fe06c7,Getting instance shutdown xml issue,MERGED,2022-03-15 05:05:47.000000000,2022-04-28 15:20:49.000000000,2022-04-28 15:20:49.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-03-15 05:05:47.000000000', 'files': ['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/check_nfv_instances.yml', 'roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/main.yml', 'roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/validate_instance.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/85e7b44f8cb8ec627cb2880c5e080240b06f5ed2', 'message': 'Getting instance shutdown xml issue\n\nFor shutdown instances, using instance name instead of instance\nid (vm id) is not permanent to get instance xml data.\n\nCloses-Bug: #1961550\nChange-Id: I295924cac7d2d6df276af038a53acfb435fe06c7\n(cherry picked from commit 24937261d46a7216ee4d553e61e90e669746efc0)\n'}]",0,833568,85e7b44f8cb8ec627cb2880c5e080240b06f5ed2,8,5,1,22865,,,0,"Getting instance shutdown xml issue

For shutdown instances, using instance name instead of instance
id (vm id) is not permanent to get instance xml data.

Closes-Bug: #1961550
Change-Id: I295924cac7d2d6df276af038a53acfb435fe06c7
(cherry picked from commit 24937261d46a7216ee4d553e61e90e669746efc0)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/68/833568/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/check_nfv_instances.yml', 'roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/main.yml', 'roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/validate_instance.yml']",3,85e7b44f8cb8ec627cb2880c5e080240b06f5ed2,shutdown_vm_issue-stable/wallaby," + instance_name + ': ' + emulatorpin.emulatorpin.cpuset] }}""- name: Set instance {{ instance_name }} hugepages details- name: Get {{ instance_name }} libvirt tx | rx queue sizes from xml string- name: Set instance {{ instance_name }} devices tx and rx queue size details"," + instance_id + ': ' + emulatorpin.emulatorpin.cpuset] }}""- name: Set instance {{ vm_id }} hugepages details- name: Get {{ vm_id }} libvirt tx | rx queue sizes from xml string- name: Set instance {{ vm_id }} devices tx and rx queue size details",13,13
openstack%2Fopenstack-helm-infra~master~Ia11d69bd8f0b4259f6ee68b167a7344ab86d0584,openstack/openstack-helm-infra,master,Ia11d69bd8f0b4259f6ee68b167a7344ab86d0584,Update default image values for ceph-rgw,MERGED,2022-04-27 16:35:20.000000000,2022-04-28 15:18:21.000000000,2022-04-28 15:16:50.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2022-04-27 16:35:20.000000000', 'files': ['ceph-rgw/Chart.yaml', 'ceph-rgw/values.yaml', 'releasenotes/notes/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4c077707fc065f2de37a843105d77ae57c8ae254', 'message': 'Update default image values for ceph-rgw\n\nThis change updates the default image values for several images\nin the ceph-rgw chart to newer openstack and ubuntu releases.\n\nChange-Id: Ia11d69bd8f0b4259f6ee68b167a7344ab86d0584\n'}]",1,839598,4c077707fc065f2de37a843105d77ae57c8ae254,11,3,1,21420,,,0,"Update default image values for ceph-rgw

This change updates the default image values for several images
in the ceph-rgw chart to newer openstack and ubuntu releases.

Change-Id: Ia11d69bd8f0b4259f6ee68b167a7344ab86d0584
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/98/839598/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/Chart.yaml', 'ceph-rgw/values.yaml', 'releasenotes/notes/ceph-rgw.yaml']",3,4c077707fc065f2de37a843105d77ae57c8ae254,update-ceph-rgw, - 0.1.22 Update default image values,,5,4
openstack%2Fneutron~stable%2Fxena~Icc270d13d01565a1b4da27c6665946a8c7afe5c4,openstack/neutron,stable/xena,Icc270d13d01565a1b4da27c6665946a8c7afe5c4,[DNM] Test docs in stable,ABANDONED,2022-04-28 14:12:23.000000000,2022-04-28 15:13:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 14:12:23.000000000', 'files': ['doc/source/index.rst', 'playbooks/pre.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba8ae6d154a1857974a2632d69def8b6bbe41d2f', 'message': '[DNM] Test docs in stable\n\nChange-Id: Icc270d13d01565a1b4da27c6665946a8c7afe5c4\n'}]",0,839772,ba8ae6d154a1857974a2632d69def8b6bbe41d2f,3,1,1,13861,,,0,"[DNM] Test docs in stable

Change-Id: Icc270d13d01565a1b4da27c6665946a8c7afe5c4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/839772/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'playbooks/pre.yaml', 'zuul.d/project.yaml']",3,ba8ae6d154a1857974a2632d69def8b6bbe41d2f,dnm, - openstack-tox-docs: pre-run: playbooks/pre.yaml, templates: - neutron-tempest-plugin-jobs-xena - openstack-cover-jobs - openstack-python3-xena-jobs - openstack-python3-xena-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-experimental-jobs - neutron-periodic-jobs - neutron-tox-override-jobs - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-rally-task - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-ovs-tempest-multinode-full - neutron-ovs-tempest-dvr-ha-multinode-full - neutron-ovn-tempest-ipv6-only # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false - neutron-ovn-rally-task: voting: false gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-tempest-multinode-full - neutron-ovs-grenade-multinode # TODO(slaweq): make that job gating when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed # - neutron-ovs-grenade-dvr-multinode - neutron-ovn-tempest-ipv6-only #- neutron-ovn-rally-task,9,43
openstack%2Fopenstacksdk~master~I04050988e97b834ce38b3ed1d67555d7df90b60d,openstack/openstacksdk,master,I04050988e97b834ce38b3ed1d67555d7df90b60d,Run nodepool job,MERGED,2022-01-26 23:02:28.000000000,2022-04-28 15:07:34.000000000,2022-04-28 15:04:20.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-01-26 23:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/356036cba04102da97cc24e512316ea90d4701a5', 'message': 'Revert ""Temporarily disable nodepool job""\n\nThis reverts commit ccc6478ccbb9a0f6e835663af2ef358ee4e981b9.\n\nThe recent changes have broken nodepool\'s use of openstacksdk.  This\njob brings up a cloud environment with devstack, then a nodepool\ninstance that talks to it.  It then builds an image with dib and\nattempts to have nodepool upload, boot and talk to the instance in the\ndevstack cloud.\n\nThe place to see the error in this test is from the nodepool-launcher\ncontainer, that is trying to talk to the devstack cloud.  This logfile\nis\n\nhttps://zuul.opendev.org/t/openstack/build/e60e7cd382834a679b22f419947a4c93/log/docker/nodepool_nodepool-launcher_1.txt#10470\n\nThe error is\n\n2022-01-25 21:37:18,590 WARNING openstack.resource: The option [maxPersonalitySize] has been deprecated. Please avoid using it.\n[e: cf61304adeff45358d97a1b30552125c] [node_request: 900-0000000000] Declining node request due to exception in NodeRequestHandler:\n  Traceback (most recent call last):\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 660, in run\n      self._runHandler()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 566, in _runHandler\n      elif not self.hasProviderQuota(self.request.node_types):\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/handler.py"", line 383, in hasProviderQuota\n      cloud_quota = self.manager.estimatedNodepoolQuota()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 315, in estimatedNodepoolQuota\n      nodepool_quota = self.getProviderLimits()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/provider.py"", line 102, in getProviderLimits\n      return QuotaInformation.construct_from_limits(limits)\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 219, in construct_from_limits\n      instances=bound_value(limits.max_total_instances),\n    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 641, in __getattribute__\n      raise e\n    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 630, in __getattribute__\n      return object.__getattribute__(self, name)\n  AttributeError: \'Limits\' object has no attribute \'max_total_instances\'\n\nSince nodepool just keeps trying to talk to the cloud and start an\ninstance that never appears, the job ends up timing out.\n\nWe have had some discussion over this @\n\n https://meetings.opendev.org/irclogs/%23opendev/%23opendev.2022-01-26.log.html#t2022-01-26T17:06:12\n\nTraditionally we\'ve co-gated these projects as nodepool has had a very\nclose relationship with shade and now openstacksdk.  For now nodepool\nis just testing against released openstacksdk; but the dependent\nchange reverts this and thus should exibit this issue.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/826541\nChange-Id: I04050988e97b834ce38b3ed1d67555d7df90b60d\n'}, {'number': 2, 'created': '2022-01-27 05:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cfdea1b88f86edf0cc48ad8f1f838f053fe64c56', 'message': 'Revert ""Temporarily disable nodepool job""\n\nThis reverts commit ccc6478ccbb9a0f6e835663af2ef358ee4e981b9.\n\nThe recent changes have broken nodepool\'s use of openstacksdk.  This\njob brings up a cloud environment with devstack, then a nodepool\ninstance that talks to it.  It then builds an image with dib and\nattempts to have nodepool upload, boot and talk to the instance in the\ndevstack cloud.\n\nThe place to see the error in this test is from the nodepool-launcher\ncontainer, that is trying to talk to the devstack cloud.  This logfile\nis\n\nhttps://zuul.opendev.org/t/openstack/build/e60e7cd382834a679b22f419947a4c93/log/docker/nodepool_nodepool-launcher_1.txt#10470\n\nThe error is\n\n2022-01-25 21:37:18,590 WARNING openstack.resource: The option [maxPersonalitySize] has been deprecated. Please avoid using it.\n[e: cf61304adeff45358d97a1b30552125c] [node_request: 900-0000000000] Declining node request due to exception in NodeRequestHandler:\n  Traceback (most recent call last):\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 660, in run\n      self._runHandler()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 566, in _runHandler\n      elif not self.hasProviderQuota(self.request.node_types):\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/handler.py"", line 383, in hasProviderQuota\n      cloud_quota = self.manager.estimatedNodepoolQuota()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 315, in estimatedNodepoolQuota\n      nodepool_quota = self.getProviderLimits()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/provider.py"", line 102, in getProviderLimits\n      return QuotaInformation.construct_from_limits(limits)\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 219, in construct_from_limits\n      instances=bound_value(limits.max_total_instances),\n    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 641, in __getattribute__\n      raise e\n    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 630, in __getattribute__\n      return object.__getattribute__(self, name)\n  AttributeError: \'Limits\' object has no attribute \'max_total_instances\'\n\nSince nodepool just keeps trying to talk to the cloud and start an\ninstance that never appears, the job ends up timing out.\n\nWe have had some discussion over this @\n\n https://meetings.opendev.org/irclogs/%23opendev/%23opendev.2022-01-26.log.html#t2022-01-26T17:06:12\n\nTraditionally we\'ve co-gated these projects as nodepool has had a very\nclose relationship with shade and now openstacksdk.  For now nodepool\nis just testing against released openstacksdk; but the dependent\nchange reverts this and thus should exibit this issue.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/826541\nChange-Id: I04050988e97b834ce38b3ed1d67555d7df90b60d\n'}, {'number': 3, 'created': '2022-01-28 17:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bf57362844ac3acebb4b2f9aceed48979db34819', 'message': 'The recent changes have broken nodepool\'s use of openstacksdk.  This\njob brings up a cloud environment with devstack, then a nodepool\ninstance that talks to it.  It then builds an image with dib and\nattempts to have nodepool upload, boot and talk to the instance in the\ndevstack cloud.\n\nThe place to see the error in this test is from the nodepool-launcher\ncontainer, that is trying to talk to the devstack cloud.  This logfile\nis\n\nhttps://zuul.opendev.org/t/openstack/build/e60e7cd382834a679b22f419947a4c93/log/docker/nodepool_nodepool-launcher_1.txt#10470\n\nThe error is\n\n2022-01-25 21:37:18,590 WARNING openstack.resource: The option [maxPersonalitySize] has been deprecated. Please avoid using it.\n[e: cf61304adeff45358d97a1b30552125c] [node_request: 900-0000000000] Declining node request due to exception in NodeRequestHandler:\n  Traceback (most recent call last):\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 660, in run\n      self._runHandler()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 566, in _runHandler\n      elif not self.hasProviderQuota(self.request.node_types):\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/handler.py"", line 383, in hasProviderQuota\n      cloud_quota = self.manager.estimatedNodepoolQuota()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 315, in estimatedNodepoolQuota\n      nodepool_quota = self.getProviderLimits()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/provider.py"", line 102, in getProviderLimits\n      return QuotaInformation.construct_from_limits(limits)\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 219, in construct_from_limits\n      instances=bound_value(limits.max_total_instances),\n    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 641, in __getattribute__\n      raise e\n    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 630, in __getattribute__\n      return object.__getattribute__(self, name)\n  AttributeError: \'Limits\' object has no attribute \'max_total_instances\'\n\nSince nodepool just keeps trying to talk to the cloud and start an\ninstance that never appears, the job ends up timing out.\n\nWe have had some discussion over this @\n\n https://meetings.opendev.org/irclogs/%23opendev/%23opendev.2022-01-26.log.html#t2022-01-26T17:06:12\n\nTraditionally we\'ve co-gated these projects as nodepool has had a very\nclose relationship with shade and now openstacksdk.  For now nodepool\nis just testing against released openstacksdk; but the dependent\nchange reverts this and thus should exibit this issue.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/826541\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826924\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826920\n\nChange-Id: I04050988e97b834ce38b3ed1d67555d7df90b60d\n'}, {'number': 4, 'created': '2022-03-04 21:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fbef65acd5e7ef2592cdfade810bfe1a206cb126', 'message': 'Run nudepool job\n\nThe recent changes have broken nodepool\'s use of openstacksdk.  This\njob brings up a cloud environment with devstack, then a nodepool\ninstance that talks to it.  It then builds an image with dib and\nattempts to have nodepool upload, boot and talk to the instance in the\ndevstack cloud.\n\nThe place to see the error in this test is from the nodepool-launcher\ncontainer, that is trying to talk to the devstack cloud.  This logfile\nis\n\nhttps://zuul.opendev.org/t/openstack/build/e60e7cd382834a679b22f419947a4c93/log/docker/nodepool_nodepool-launcher_1.txt#10470\n\nThe error is\n\n2022-01-25 21:37:18,590 WARNING openstack.resource: The option [maxPersonalitySize] has been deprecated. Please avoid using it.\n[e: cf61304adeff45358d97a1b30552125c] [node_request: 900-0000000000] Declining node request due to exception in NodeRequestHandler:\n  Traceback (most recent call last):\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 660, in run\n      self._runHandler()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 566, in _runHandler\n      elif not self.hasProviderQuota(self.request.node_types):\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/handler.py"", line 383, in hasProviderQuota\n      cloud_quota = self.manager.estimatedNodepoolQuota()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 315, in estimatedNodepoolQuota\n      nodepool_quota = self.getProviderLimits()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/provider.py"", line 102, in getProviderLimits\n      return QuotaInformation.construct_from_limits(limits)\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 219, in construct_from_limits\n      instances=bound_value(limits.max_total_instances),\n    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 641, in __getattribute__\n      raise e\n    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 630, in __getattribute__\n      return object.__getattribute__(self, name)\n  AttributeError: \'Limits\' object has no attribute \'max_total_instances\'\n\nSince nodepool just keeps trying to talk to the cloud and start an\ninstance that never appears, the job ends up timing out.\n\nWe have had some discussion over this @\n\n https://meetings.opendev.org/irclogs/%23opendev/%23opendev.2022-01-26.log.html#t2022-01-26T17:06:12\n\nTraditionally we\'ve co-gated these projects as nodepool has had a very\nclose relationship with shade and now openstacksdk.  For now nodepool\nis just testing against released openstacksdk; but the dependent\nchange reverts this and thus should exibit this issue.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/826541\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826924\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826920\n\nChange-Id: I04050988e97b834ce38b3ed1d67555d7df90b60d\n'}, {'number': 5, 'created': '2022-03-16 17:32:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/358ddcd3944f7d08aea10135ce793b7f1916b9a8', 'message': 'Run nodepool job\n\nThe recent changes have broken nodepool\'s use of openstacksdk.  This\njob brings up a cloud environment with devstack, then a nodepool\ninstance that talks to it.  It then builds an image with dib and\nattempts to have nodepool upload, boot and talk to the instance in the\ndevstack cloud.\n\nThe place to see the error in this test is from the nodepool-launcher\ncontainer, that is trying to talk to the devstack cloud.  This logfile\nis\n\nhttps://zuul.opendev.org/t/openstack/build/e60e7cd382834a679b22f419947a4c93/log/docker/nodepool_nodepool-launcher_1.txt#10470\n\nThe error is\n\n2022-01-25 21:37:18,590 WARNING openstack.resource: The option [maxPersonalitySize] has been deprecated. Please avoid using it.\n[e: cf61304adeff45358d97a1b30552125c] [node_request: 900-0000000000] Declining node request due to exception in NodeRequestHandler:\n  Traceback (most recent call last):\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 660, in run\n      self._runHandler()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 566, in _runHandler\n      elif not self.hasProviderQuota(self.request.node_types):\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/handler.py"", line 383, in hasProviderQuota\n      cloud_quota = self.manager.estimatedNodepoolQuota()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 315, in estimatedNodepoolQuota\n      nodepool_quota = self.getProviderLimits()\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/provider.py"", line 102, in getProviderLimits\n      return QuotaInformation.construct_from_limits(limits)\n    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 219, in construct_from_limits\n      instances=bound_value(limits.max_total_instances),\n    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 641, in __getattribute__\n      raise e\n    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 630, in __getattribute__\n      return object.__getattribute__(self, name)\n  AttributeError: \'Limits\' object has no attribute \'max_total_instances\'\n\nSince nodepool just keeps trying to talk to the cloud and start an\ninstance that never appears, the job ends up timing out.\n\nWe have had some discussion over this @\n\n https://meetings.opendev.org/irclogs/%23opendev/%23opendev.2022-01-26.log.html#t2022-01-26T17:06:12\n\nTraditionally we\'ve co-gated these projects as nodepool has had a very\nclose relationship with shade and now openstacksdk.  For now nodepool\nis just testing against released openstacksdk; but the dependent\nchange reverts this and thus should exibit this issue.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/826541\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826924\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826920\n\nChange-Id: I04050988e97b834ce38b3ed1d67555d7df90b60d\n'}]",11,826543,358ddcd3944f7d08aea10135ce793b7f1916b9a8,36,3,5,7118,,,0,"Run nodepool job

The recent changes have broken nodepool's use of openstacksdk.  This
job brings up a cloud environment with devstack, then a nodepool
instance that talks to it.  It then builds an image with dib and
attempts to have nodepool upload, boot and talk to the instance in the
devstack cloud.

The place to see the error in this test is from the nodepool-launcher
container, that is trying to talk to the devstack cloud.  This logfile
is

https://zuul.opendev.org/t/openstack/build/e60e7cd382834a679b22f419947a4c93/log/docker/nodepool_nodepool-launcher_1.txt#10470

The error is

2022-01-25 21:37:18,590 WARNING openstack.resource: The option [maxPersonalitySize] has been deprecated. Please avoid using it.
[e: cf61304adeff45358d97a1b30552125c] [node_request: 900-0000000000] Declining node request due to exception in NodeRequestHandler:
  Traceback (most recent call last):
    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 660, in run
      self._runHandler()
    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/__init__.py"", line 566, in _runHandler
      elif not self.hasProviderQuota(self.request.node_types):
    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/handler.py"", line 383, in hasProviderQuota
      cloud_quota = self.manager.estimatedNodepoolQuota()
    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 315, in estimatedNodepoolQuota
      nodepool_quota = self.getProviderLimits()
    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/openstack/provider.py"", line 102, in getProviderLimits
      return QuotaInformation.construct_from_limits(limits)
    File ""/usr/local/lib/python3.9/site-packages/nodepool/driver/utils.py"", line 219, in construct_from_limits
      instances=bound_value(limits.max_total_instances),
    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 641, in __getattribute__
      raise e
    File ""/usr/local/lib/python3.9/site-packages/openstack/resource.py"", line 630, in __getattribute__
      return object.__getattribute__(self, name)
  AttributeError: 'Limits' object has no attribute 'max_total_instances'

Since nodepool just keeps trying to talk to the cloud and start an
instance that never appears, the job ends up timing out.

We have had some discussion over this @

 https://meetings.opendev.org/irclogs/%23opendev/%23opendev.2022-01-26.log.html#t2022-01-26T17:06:12

Traditionally we've co-gated these projects as nodepool has had a very
close relationship with shade and now openstacksdk.  For now nodepool
is just testing against released openstacksdk; but the dependent
change reverts this and thus should exibit this issue.

Depends-On: https://review.opendev.org/c/zuul/nodepool/+/826541
Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826924
Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826920

Change-Id: I04050988e97b834ce38b3ed1d67555d7df90b60d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/43/826543/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,356036cba04102da97cc24e512316ea90d4701a5,nodepool-test, - dib-nodepool-functional-openstack-centos-8-stream-src - dib-nodepool-functional-openstack-centos-8-stream-src, # - dib-nodepool-functional-openstack-centos-8-stream-src # - dib-nodepool-functional-openstack-centos-8-stream-src,2,2
openstack%2Ftripleo-validations~stable%2Fvictoria~I295924cac7d2d6df276af038a53acfb435fe06c7,openstack/tripleo-validations,stable/victoria,I295924cac7d2d6df276af038a53acfb435fe06c7,Getting instance shutdown xml issue,MERGED,2022-03-15 05:06:06.000000000,2022-04-28 15:05:55.000000000,2022-04-28 15:05:55.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-03-15 05:06:06.000000000', 'files': ['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/check_nfv_instances.yml', 'roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/main.yml', 'roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/validate_instance.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/add37514b6569b17d51bbd9d1275cc9582c07ffa', 'message': 'Getting instance shutdown xml issue\n\nFor shutdown instances, using instance name instead of instance\nid (vm id) is not permanent to get instance xml data.\n\nCloses-Bug: #1961550\nChange-Id: I295924cac7d2d6df276af038a53acfb435fe06c7\n(cherry picked from commit 24937261d46a7216ee4d553e61e90e669746efc0)\n'}]",0,833569,add37514b6569b17d51bbd9d1275cc9582c07ffa,8,5,1,22865,,,0,"Getting instance shutdown xml issue

For shutdown instances, using instance name instead of instance
id (vm id) is not permanent to get instance xml data.

Closes-Bug: #1961550
Change-Id: I295924cac7d2d6df276af038a53acfb435fe06c7
(cherry picked from commit 24937261d46a7216ee4d553e61e90e669746efc0)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/69/833569/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/check_nfv_instances.yml', 'roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/main.yml', 'roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/validate_instance.yml']",3,add37514b6569b17d51bbd9d1275cc9582c07ffa,shutdown_vm_issue-stable/wallaby-stable/victoria," + instance_name + ': ' + emulatorpin.emulatorpin.cpuset] }}""- name: Set instance {{ instance_name }} hugepages details- name: Get {{ instance_name }} libvirt tx | rx queue sizes from xml string- name: Set instance {{ instance_name }} devices tx and rx queue size details"," + instance_id + ': ' + emulatorpin.emulatorpin.cpuset] }}""- name: Set instance {{ vm_id }} hugepages details- name: Get {{ vm_id }} libvirt tx | rx queue sizes from xml string- name: Set instance {{ vm_id }} devices tx and rx queue size details",13,13
openstack%2Fcharm-octavia~master~Ic6c8a46fb813709a11bc43c297e24fcd1985755f,openstack/charm-octavia,master,Ic6c8a46fb813709a11bc43c297e24fcd1985755f,add support for Amphora log offloading,NEW,2021-11-24 22:21:39.000000000,2022-04-28 14:52:57.000000000,,"[{'_account_id': 935}, {'_account_id': 8108}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 28899}, {'_account_id': 29452}, {'_account_id': 30110}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-11-24 22:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8278fabac64abd992074443ea3e90242f2d274f9', 'message': 'add support for Amphora log offloading\n\nLP: #1952148\nChange-Id: Ic6c8a46fb813709a11bc43c297e24fcd1985755f\n'}, {'number': 2, 'created': '2021-11-29 14:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9265e727927fef226fa067cf1d89268bc3821cf4', 'message': 'add support for Amphora log offloading\n\nProvides ability to setup external receiver\nof the Amphora instance logs, so called ""log offloading"".\nAdditionally enables ability to set user log format\nin the Amphora haproxy, which is usually related requirement.\nMore details here:\nhttps://docs.openstack.org/octavia/latest/admin/log-offloading.html\n\nCloses-Bug: 1952148\nChange-Id: Ic6c8a46fb813709a11bc43c297e24fcd1985755f\n'}, {'number': 3, 'created': '2021-11-29 19:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f39794cda30f92be2af012d715c1df5dda0d1937', 'message': 'add support for Amphora log offloading\n\nProvides ability to setup external receiver\nof the Amphora instance logs, so called ""log offloading"".\nAdditionally enables ability to set user log format\nin the Amphora haproxy, which is, usually, the related requirement.\nMore details here:\nhttps://docs.openstack.org/octavia/latest/admin/log-offloading.html\n\nCloses-Bug: 1952148\nChange-Id: Ic6c8a46fb813709a11bc43c297e24fcd1985755f\n'}, {'number': 4, 'created': '2021-12-01 03:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a18f38943fe44552ef392706afa33a8ffd021ab2', 'message': 'add support for Amphora log offloading\n\nProvides ability to setup external receiver\nof the Amphora instance logs, so called ""log offloading"".\nAdditionally enables ability to set user log format\nin the Amphora haproxy, which is, usually, the related requirement.\nMore details here:\nhttps://docs.openstack.org/octavia/latest/admin/log-offloading.html\n\nCloses-Bug: 1952148\nChange-Id: Ic6c8a46fb813709a11bc43c297e24fcd1985755f\n'}, {'number': 5, 'created': '2022-04-27 11:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/b577ef96e69497cbedf85160cafb98e751ca450a', 'message': 'add support for Amphora log offloading\n\nProvides ability to setup external receiver\nof the Amphora instance logs, so called ""log offloading"".\nAdditionally enables ability to set user log format\nin the Amphora haproxy, which is, usually, the related requirement.\nMore details here:\nhttps://docs.openstack.org/octavia/latest/admin/log-offloading.html\n\nCloses-Bug: 1952148\nChange-Id: Ic6c8a46fb813709a11bc43c297e24fcd1985755f\n'}, {'number': 6, 'created': '2022-04-27 11:54:34.000000000', 'files': ['src/config.yaml', 'src/templates/victoria/octavia.conf', 'src/templates/rocky/octavia.conf'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e25cb02759e8106e230a82c8a0ce081d4ba5f7ef', 'message': 'add support for Amphora log offloading\n\nProvides ability to setup external receiver\nof the Amphora instance logs, so called ""log offloading"".\nAdditionally enables ability to set user log format\nin the Amphora haproxy, which is, usually, the related requirement.\nMore details here:\nhttps://docs.openstack.org/octavia/latest/admin/log-offloading.html\n\nCloses-Bug: 1952148\nChange-Id: Ic6c8a46fb813709a11bc43c297e24fcd1985755f\n'}]",38,819193,e25cb02759e8106e230a82c8a0ce081d4ba5f7ef,42,9,6,32930,,,0,"add support for Amphora log offloading

Provides ability to setup external receiver
of the Amphora instance logs, so called ""log offloading"".
Additionally enables ability to set user log format
in the Amphora haproxy, which is, usually, the related requirement.
More details here:
https://docs.openstack.org/octavia/latest/admin/log-offloading.html

Closes-Bug: 1952148
Change-Id: Ic6c8a46fb813709a11bc43c297e24fcd1985755f
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/93/819193/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/victoria/octavia.conf', 'src/templates/rocky/octavia.conf']",3,8278fabac64abd992074443ea3e90242f2d274f9,change-819193,"{% if options.enable-amphora -%} [amphora_agent] # Set one or more log receiver endpoints to enable administrative log offloading. # More information: https://docs.openstack.org/octavia/latest/admin/log-offloading.html # The first host will be primary receiver, whil the second host will be backup {% if options.admin_log_targets %} admin_log_targets = {{ options.admin_log_targets }} {% endif -%} # Set the LOG_LOCAL[0-7] facility, by default 1 {% if options.administrative_log_facility %} administrative_log_facility = {{ options.administrative_log_facility }} {% endif -%} # Setup if you want to send all administrative logs from Amphora like kernel, system, security logs {% if options.forward_all_logs %} forward_all_logs = {{ options.forward_all_logs }} {% endif -%} {% endif -%}# This option gives ability to setup Custom Tenant Flow Log Format in Amphora haproxy # More information about the format http://cbonte.github.io/haproxy-dconv/1.9/configuration.html#8.2.4 # i.e. # user_log_format = '{{ project_id }} {{ lb_id }} %f %ci %cp %t %{+Q}r %ST %B %U %[ssl_c_verify] %{+Q}[ssl_c_s_dn] %b %s %Tt %tsc' {% if options.user_log_format -%} user_log_format = {{ options.user_log_format }} {% endif -%}",,78,0
openstack%2Foctavia~master~I433e074c2eac5f6875ee5dace8faf86969b24f66,openstack/octavia,master,I433e074c2eac5f6875ee5dace8faf86969b24f66,Fix potential race conditions on update requests in the v2 worker,MERGED,2022-04-09 11:23:36.000000000,2022-04-28 14:30:00.000000000,2022-04-28 14:27:59.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-09 11:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/19bdea67b48454fdaacd881525026d975364c33b', 'message': 'DNM Testing bug from story 2009887\n\nhttps://storyboard.openstack.org/#!/story/2009887\n\nChange-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66\n'}, {'number': 2, 'created': '2022-04-09 11:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f969d975b75a22b8d5d073a8d031b2933227dc77', 'message': 'DNM Testing bug from story 2009887\n\nhttps://storyboard.openstack.org/#!/story/2009887\n\nChange-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66\n'}, {'number': 3, 'created': '2022-04-11 05:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/340866a2deddbf79af56ccaf20e51a207a2ccefc', 'message': 'DNM Testing bugs from story 2009887 and HM status\n\nhttps://storyboard.openstack.org/#!/story/2009887\n\nChange-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66\n'}, {'number': 4, 'created': '2022-04-15 12:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/13bf184329e3aadf9a73341dae80d72f52672cd0', 'message': 'DNM Testing bugs from story 2009887 and HM status\n\nhttps://storyboard.openstack.org/#!/story/2009887\n\nChange-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66\n'}, {'number': 5, 'created': '2022-04-21 19:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/23b64b836594e8083fb26763da67511e9af47b8d', 'message': 'DNM Testing bugs from story 2009887 and HM status\n\nhttps://storyboard.openstack.org/#!/story/2009887\n\nChange-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66\n'}, {'number': 6, 'created': '2022-04-26 14:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e9756444a888e6fc4107e5afd031e34b20519019', 'message': 'DNM Testing bugs from story 2009887 and HM status\n\nhttps://storyboard.openstack.org/#!/story/2009887\n\nChange-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66\n'}, {'number': 7, 'created': '2022-04-27 06:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8e3f1a5a70fd15758d5386209861d34149281c69', 'message': 'WIP Testing bugs from story 2009887 and HM status\n\nFix potential race conditions on update requests in the v2 worker\n\nThe v2 worker was not waiting for a resource to be set to PENDING_UPDATE\nbefore updating it effectively. In some circumstances (loaded\nserver/slow DB for instance), the resources may have been updated with\nold data from the DB, resulting in a no-op update.\n\nStory 2009887\nTask 44645\nStory 2009985\nTask 45032\n\nChange-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66\n'}, {'number': 8, 'created': '2022-04-27 11:56:38.000000000', 'files': ['releasenotes/notes/fix-race-condiction-on-update-b5330c8fcf1800cd.yaml', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6042de759db557f421482d22185c5e5075511417', 'message': 'Fix potential race conditions on update requests in the v2 worker\n\nThe v2 worker was not waiting for a resource to be set to PENDING_UPDATE\nbefore updating it effectively. In some circumstances (loaded\nserver/slow DB for instance), the resources may have been updated with\nold data from the DB, resulting in a no-op update.\n\nThis wait for a PENDING_UPDATE state exists in amphorav1 but it was not\nmoved to v2 when we switched the logic from the DB-based objects to\ndict-based objects.\n\nStory 2009887\nTask 44645\nStory 2009985\nTask 45032\n\nChange-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66\n'}]",27,837195,6042de759db557f421482d22185c5e5075511417,72,4,8,29244,,,0,"Fix potential race conditions on update requests in the v2 worker

The v2 worker was not waiting for a resource to be set to PENDING_UPDATE
before updating it effectively. In some circumstances (loaded
server/slow DB for instance), the resources may have been updated with
old data from the DB, resulting in a no-op update.

This wait for a PENDING_UPDATE state exists in amphorav1 but it was not
moved to v2 when we switched the logic from the DB-based objects to
dict-based objects.

Story 2009887
Task 44645
Story 2009985
Task 45032

Change-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66
",git fetch https://review.opendev.org/openstack/octavia refs/changes/95/837195/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/network/drivers/neutron/allowed_address_pairs.py', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",3,19bdea67b48454fdaacd881525026d975364c33b,, - jobs: name: octavia-v2-dsvm-scenario1 parent: octavia-v2-dsvm-scenario vars: tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2.test_ipv6_traffic_ops.IPv6TrafficOperationsScenarioTest.test_ipv6_.*_allowed_cidrs - jobs: name: octavia-v2-dsvm-scenario2 parent: octavia-v2-dsvm-scenario1 - jobs: name: octavia-v2-dsvm-scenario3 parent: octavia-v2-dsvm-scenario1 - jobs: name: octavia-v2-dsvm-scenario4 parent: octavia-v2-dsvm-scenario1 - jobs: name: octavia-v2-dsvm-scenario5 parent: octavia-v2-dsvm-scenario1,,100,69
openstack%2Fcinder-specs~master~Ibb02b77967c956acef753a6041a57585352e4fe2,openstack/cinder-specs,master,Ibb02b77967c956acef753a6041a57585352e4fe2,Backend Capabilities (WIP),NEW,2019-04-26 16:20:22.000000000,2022-04-28 14:29:57.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 16:20:22.000000000', 'files': ['specs/train/backend_capabilities.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/96e45be6c705d1679979e0ab1e1cb5f63ea21700', 'message': 'Backend Capabilities (WIP)\n\nStill a draft, just want to get some ideas\ndown as a base for discussion.\n\nChange-Id: Ibb02b77967c956acef753a6041a57585352e4fe2\n'}]",5,655939,96e45be6c705d1679979e0ab1e1cb5f63ea21700,8,5,1,4523,,,0,"Backend Capabilities (WIP)

Still a draft, just want to get some ideas
down as a base for discussion.

Change-Id: Ibb02b77967c956acef753a6041a57585352e4fe2
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/39/655939/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/backend_capabilities.rst'],1,96e45be6c705d1679979e0ab1e1cb5f63ea21700,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Backend Capabilities API ========================================== https://blueprints.launchpad.net/cinder/+spec/backend-capabilities-api This spec proposes an API to retrieve information about capabilities for volume backends that are configured on a Cinder deployment. Problem description =================== Cinder supports a good deal of flexibility with how volumes are provisioned via volume types and extra specs. However, configuring volume types currently requires an admin to find specific extra spec key names that are relevant for the driver(s) in their deployment, so that they can write extra specs. Problem 1: We report ""standard"" capabilities when someone runs ""cinder get-capabilities"" that don't apply to the driver in use. Problem 2: Drivers need to report more capabilities. Problem 3: The capabilities API needs to provide _values_ present for capabilities rather than just a fact that ""a capability named compression does exist"". Lack of this makes it impossible to write an extra spec that searches for, e.g. ""compression=False"". Use Cases ========= An admin wishes to configure volume type extra specs on a deployment, and wants an efficient way to determine what fields could be added to these extra specs. Proposed change =============== The capabilities API will be changed to provide a list of capabilities/fields for each backend that can be used to write extra specs. Alternatives ------------ * Add this to $ cinder get-pools --detail ? * Have admins read docs for this info. (If it exists.) * Provide capabilities info for areas other than volume type specs. These may be nice as a follow-up but are out of scope for this cycle. * Is the cinder-backup service configured? Data model impact ----------------- REST API impact --------------- (Still WIP) * ``GET /v3.x/{project id}/capabilities/<host>`` .. code-block:: rest { ""properties"": [ { ""name"": ""thin_provisioning"", ""type"": ""boolean"", ""value"": ""true"" }, { ""name"": ""attach snapshot support"", ""type"": ""boolean"", ""value"" ""true"" }, { ""name"": ""deduplication"", ""type"": ""boolean"", ""value"": ""false"" } } Security impact --------------- Active/Active HA impact ----------------------- Notifications impact -------------------- Other end user impact --------------------- Performance Impact ------------------ Other deployer impact --------------------- Developer impact ---------------- Volume driver owners should report capabilities from their drivers. Implementation ============== Assignee(s) ----------- Primary assignee: eharney Work Items ---------- * many Dependencies ============ Testing ======= Documentation Impact ==================== * Document how to use this functionality to create volume types. References ========== - specs/newton/backend_capabilities.rst ",,153,0
openstack%2Fovn-octavia-provider~stable%2Fyoga~Ifb1605c0c7c547c77e760a42de53432c5ca4152a,openstack/ovn-octavia-provider,stable/yoga,Ifb1605c0c7c547c77e760a42de53432c5ca4152a,Use python3-devel in bindep for rpm distros,MERGED,2022-04-19 16:09:42.000000000,2022-04-28 14:16:59.000000000,2022-04-28 14:12:54.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-04-19 16:09:42.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a7d5827a7802669254701f0aab483e1bf7520004', 'message': ""Use python3-devel in bindep for rpm distros\n\npython36-devel is not available in rpm distro's\nlike CentOS9-Stream or Fedora35.\n\nChange-Id: Ifb1605c0c7c547c77e760a42de53432c5ca4152a\n(cherry picked from commit b28b4bf840ead9f26ceca9985e112106bc281d4c)\n""}]",0,838527,a7d5827a7802669254701f0aab483e1bf7520004,9,4,1,34451,,,0,"Use python3-devel in bindep for rpm distros

python36-devel is not available in rpm distro's
like CentOS9-Stream or Fedora35.

Change-Id: Ifb1605c0c7c547c77e760a42de53432c5ca4152a
(cherry picked from commit b28b4bf840ead9f26ceca9985e112106bc281d4c)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/27/838527/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a7d5827a7802669254701f0aab483e1bf7520004,,python3-devel [platform:rpm],python36-devel [platform:rpm],1,1
openstack%2Fansible-collections-openstack~stable%2F1.0.0~Ice42d0bdc12c24227a323ad9c5d3fd33870975c4,openstack/ansible-collections-openstack,stable/1.0.0,Ice42d0bdc12c24227a323ad9c5d3fd33870975c4,Temporarily run passing tests in our Zuul CI jobs only,MERGED,2022-04-28 13:46:06.000000000,2022-04-28 14:13:27.000000000,2022-04-28 14:13:27.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-28 13:46:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/708ed756ca2faa52b6ba3fd897ac986d396862ab', 'message': 'Temporarily run passing tests in our Zuul CI jobs only\n\nWith merging the code for 1.0.0 of OpenStack SDK into the master branch\nseveral of our modules and CI tests broke. To be able to merge patches\nwe had to set most of our jobs to non-voting, so atm we do not have a\ngood code coverage in Zuul CI.\n\nThis patch temporarily skips broken tests so that we can set our jobs\nback to voting and get some basic code coverage from CI. Follow up\npatches which fix modules are supposed to readd skipped tests on\noccasion.\n\nChange-Id: Ice42d0bdc12c24227a323ad9c5d3fd33870975c4\n(cherry picked from commit c10cc9dd8c8295533f8200171856279d7af005a8)\n'}]",0,839736,708ed756ca2faa52b6ba3fd897ac986d396862ab,6,2,1,32962,,,0,"Temporarily run passing tests in our Zuul CI jobs only

With merging the code for 1.0.0 of OpenStack SDK into the master branch
several of our modules and CI tests broke. To be able to merge patches
we had to set most of our jobs to non-voting, so atm we do not have a
good code coverage in Zuul CI.

This patch temporarily skips broken tests so that we can set our jobs
back to voting and get some basic code coverage from CI. Follow up
patches which fix modules are supposed to readd skipped tests on
occasion.

Change-Id: Ice42d0bdc12c24227a323ad9c5d3fd33870975c4
(cherry picked from commit c10cc9dd8c8295533f8200171856279d7af005a8)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/36/839736/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,708ed756ca2faa52b6ba3fd897ac986d396862ab,skip_broken_tests-stable/1.0.0, vars: # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: &skip_broken_ci_roles >- address_scope auth client_config dns dns_zone_info floating_ip_info group image keypair keystone_domain keystone_federation_protocol keystone_idp keystone_mapping keystone_role loadbalancer nova_flavor nova_services object object_container port project security_group subnet_pool user user_group user_role volume # failing tags # floating_ip # orchestrate # network # neutron_rbac # router # server # subnet vars: # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles vars: # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles,,52,0
openstack%2Ftap-as-a-service~stable%2Fstein~Ie0418c8c267ad8581110f9251dff97feaa98c471,openstack/tap-as-a-service,stable/stein,Ie0418c8c267ad8581110f9251dff97feaa98c471,"zuul,stable-only: Change taas to be in openstack namespace",MERGED,2022-04-08 07:58:06.000000000,2022-04-28 14:09:27.000000000,2022-04-28 14:09:27.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-08 07:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/4eeba45c3373c9235849b280742153a58b9cb5cd', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nAs an extra remove lower-constraints job and\ntap-as-a-service-tempest-dsvm and releated playbooks.\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n(cherry picked from commit e0418c8c267ad8581110f9251dff97feaa98c471)\n'}, {'number': 2, 'created': '2022-04-08 08:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/869207b6c7774cd96458aded1813062c4c158764', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nAs an extra remove lower-constraints job and\ntap-as-a-service-tempest-dsvm and releated playbooks.\n\nConflicts: .zuul.yaml\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n(cherry picked from commit Ie0418c8c267ad8581110f9251dff97feaa98c471)\n'}, {'number': 3, 'created': '2022-04-11 13:29:39.000000000', 'files': ['playbooks/legacy/tempest-dsvm-tap-as-a-service/post.yaml', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/951390c12655f296460a3210c221da47f9cb5a3b', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nAs an extra remove lower-constraints job and\ntap-as-a-service-tempest-dsvm and releated playbooks.\nRemove test-setup.sh as with zuul it is not necessary, and would like to\nuse mysqladmin which is not available on some nodesets.\n\nConflicts: .zuul.yaml\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n(cherry picked from commit Ie0418c8c267ad8581110f9251dff97feaa98c471)\n'}]",0,837054,951390c12655f296460a3210c221da47f9cb5a3b,12,3,3,8313,,,0,"zuul,stable-only: Change taas to be in openstack namespace

As an extra remove lower-constraints job and
tap-as-a-service-tempest-dsvm and releated playbooks.
Remove test-setup.sh as with zuul it is not necessary, and would like to
use mysqladmin which is not available on some nodesets.

Conflicts: .zuul.yaml

Change-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471
(cherry picked from commit Ie0418c8c267ad8581110f9251dff97feaa98c471)
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/54/837054/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tempest-dsvm-tap-as-a-service/post.yaml', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml']",3,4eeba45c3373c9235849b280742153a58b9cb5cd,zuul_cfg_errors, - openstack-cover-jobs-neutron - tap-as-a-service-tempest-plugin-jobs, - openstack-lower-constraints-jobs - tap-as-a-service-tempest-plugin-jobs check: jobs: - tap-as-a-service-tempest-dsvm gate: jobs: - tap-as-a-service-tempest-dsvm - job: name: tap-as-a-service-tempest-dsvm parent: legacy-dsvm-base run: playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml post-run: playbooks/legacy/tempest-dsvm-tap-as-a-service/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - x/tap-as-a-service - openstack/tempest irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron_taas/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$ ,2,103
openstack%2Ftap-as-a-service~stable%2Ftrain~Ie0418c8c267ad8581110f9251dff97feaa98c471,openstack/tap-as-a-service,stable/train,Ie0418c8c267ad8581110f9251dff97feaa98c471,"zuul,stable-only: Change taas to be in openstack namespace",MERGED,2022-04-07 14:01:44.000000000,2022-04-28 14:09:25.000000000,2022-04-28 14:09:25.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-07 14:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/991b5c754d95552042b96f33e3971d11f4be593d', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nAs an extra remove lower-constraints job\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n'}, {'number': 2, 'created': '2022-04-07 14:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/274c0b02b15c28fc7e5213a9f2416b9d69450fc3', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nAs an extra remove lower-constraints job\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n'}, {'number': 3, 'created': '2022-04-07 15:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/afd3192a9b9a5cc0c317d630ca2ef26fd00c8376', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nAs an extra remove lower-constraints job and\ntap-as-a-service-tempest-dsvm and releated playbooks.\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n'}, {'number': 4, 'created': '2022-04-08 08:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/83665cca5454bc074fe892143a7f26ee5b37b0c6', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nAs an extra remove lower-constraints job and\ntap-as-a-service-tempest-dsvm and releated playbooks.\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n(cherry picked from commit e0418c8c267ad8581110f9251dff97feaa98c471)\n'}, {'number': 5, 'created': '2022-04-08 08:50:55.000000000', 'files': ['playbooks/legacy/tempest-dsvm-tap-as-a-service/post.yaml', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/43769a11e1757402815e5753bc692b94328fa207', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nAs an extra remove lower-constraints job and\ntap-as-a-service-tempest-dsvm and releated playbooks.\n\nConflicts: .zuul.yaml\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n(cherry picked from commit Ie0418c8c267ad8581110f9251dff97feaa98c471)\n'}]",0,836789,43769a11e1757402815e5753bc692b94328fa207,15,3,5,8313,,,0,"zuul,stable-only: Change taas to be in openstack namespace

As an extra remove lower-constraints job and
tap-as-a-service-tempest-dsvm and releated playbooks.

Conflicts: .zuul.yaml

Change-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471
(cherry picked from commit Ie0418c8c267ad8581110f9251dff97feaa98c471)
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/89/836789/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,991b5c754d95552042b96f33e3971d11f4be593d,zuul_cfg_errors,"<<<<<<< HEAD (f2b027 Update TOX/UPPER_CONSTRAINTS_FILE for train)======= - openstack-cover-jobs-neutron - build-openstack-docs-pti - check-requirements - openstack-python3-ussuri-jobs-neutron >>>>>>> CHANGE (f22270 zuul,stable-only: Change taas to be in openstack namespace)<<<<<<< HEAD (f2b027 Update TOX/UPPER_CONSTRAINTS_FILE for train) ======= vars: TAAS_SERVICE_DRIVER: ""TAAS:TAAS:neutron_taas.services.taas.service_drivers.taas_rpc.TaasRpcDriver:default"" tox_envlist: all devstack_services: taas: true devstack_plugins: tap-as-a-service: https://opendev.org/openstack/tap-as-a-service tempest_plugins: - tap-as-a-service-tempest-plugin tempest_test_regex: (^tempest|^neutron_taas_tempest_plugin) >>>>>>> CHANGE (f22270 zuul,stable-only: Change taas to be in openstack namespace)<<<<<<< HEAD (f2b027 Update TOX/UPPER_CONSTRAINTS_FILE for train)======= - openstack/tap-as-a-service - x/tap-as-a-service-tempest-plugin >>>>>>> CHANGE (f22270 zuul,stable-only: Change taas to be in openstack namespace)",,25,0
openstack%2Ftap-as-a-service~stable%2Fvictoria~Ie0418c8c267ad8581110f9251dff97feaa98c471,openstack/tap-as-a-service,stable/victoria,Ie0418c8c267ad8581110f9251dff97feaa98c471,"zuul,stable-only: Change taas to be in openstack namespace",MERGED,2022-04-07 11:36:34.000000000,2022-04-28 14:09:23.000000000,2022-04-28 14:09:23.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-07 11:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/898f24d0b11bdf20ac1013b339d7d5b36e02fa35', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n'}, {'number': 2, 'created': '2022-04-07 11:57:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f2227096575bbe7bc8e6f6e6c17f6bf0a713173c', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nAs an extra remove lower-constraints job\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n'}]",0,836943,f2227096575bbe7bc8e6f6e6c17f6bf0a713173c,8,3,2,8313,,,0,"zuul,stable-only: Change taas to be in openstack namespace

As an extra remove lower-constraints job

Change-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/43/836943/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,898f24d0b11bdf20ac1013b339d7d5b36e02fa35,zuul_cfg_errors, tap-as-a-service: https://opendev.org/openstack/tap-as-a-service - openstack/tap-as-a-service, tap-as-a-service: https://opendev.org/x/tap-as-a-service - x/tap-as-a-service,2,2
openstack%2Foslo.policy~master~I95745b8d1cbdb6a7cf442d431a998b7e3ff600e4,openstack/oslo.policy,master,I95745b8d1cbdb6a7cf442d431a998b7e3ff600e4,Only pass exclude-deprecated when True,MERGED,2022-04-28 09:18:16.000000000,2022-04-28 13:51:45.000000000,2022-04-28 13:50:02.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-28 09:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/a7b7615f74d7b6844f3939e20efe28a08d9e3687', 'message': ""Only pass exclude-deprecated when True\n\nThe '--exclude-deprecated' parameter should only be passed to\noslo.config to parse when it is True.\nThe final generated sphinx syntax is[1] where [--exclude-deprecated]\ndoesn't require True/False value and only should be passed when True.\n\nThe change introducing this[2] causes parsing issue in oslo.config[3]\nwhile checking <bool>.startswith (we pass True/False value) and even\nafter that while calling argparse[4] with following error[5].\n\n[1] usage: sphinx-build [-h] [--config-dir DIR] [--config-file PATH] [--exclude-deprecated] [--format FORMAT] [--namespace NAMESPACE]\n                        [--noexclude-deprecated] [--output-file OUTPUT_FILE]\n[2] https://review.opendev.org/c/openstack/oslo.policy/+/830514\n[3] https://opendev.org/openstack/oslo.config/src/branch/master/oslo_config/cfg.py#L2937\n[4] https://opendev.org/openstack/oslo.config/src/branch/master/oslo_config/cfg.py#L2960\n[5] > /usr/lib/python3.8/argparse.py(1781)parse_args()\n-> if argv:\n(Pdb)\n> /usr/lib/python3.8/argparse.py(1782)parse_args()\n-> msg = _('unrecognized arguments: %s')\n(Pdb)\n> /usr/lib/python3.8/argparse.py(1783)parse_args()\n-> self.error(msg % ' '.join(argv))\n(Pdb)\nTypeError: sequence item 0: expected str instance, bool found\n> /usr/lib/python3.8/argparse.py(1783)parse_args()\n-> self.error(msg % ' '.join(argv))\nHandler <function generate_sample at 0x7fc0d6697d30> for event 'builder-inited' threw an exception (exception: sequence item 0: expected str instance, bool found)\n\nCloses-Bug: #1970725\nChange-Id: I95745b8d1cbdb6a7cf442d431a998b7e3ff600e4\n""}, {'number': 2, 'created': '2022-04-28 09:57:43.000000000', 'files': ['oslo_policy/tests/test_sphinxpolicygen.py', 'releasenotes/notes/fix-passing-exclude-deprecated-param-317745d23022e544.yaml', 'oslo_policy/sphinxpolicygen.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/9673a74b600cd387aa3d13a6ff923c06c304c55a', 'message': ""Only pass exclude-deprecated when True\n\nThe '--exclude-deprecated' parameter should only be passed to\noslo.config to parse when it is True.\nThe final generated sphinx syntax is[1] where [--exclude-deprecated]\ndoesn't require True/False value and only should be passed when True.\n\nThe change introducing this[2] causes parsing issue in oslo.config[3]\nwhile checking <bool>.startswith (we pass True/False value) and even\nafter that while calling argparse[4] with following error[5].\n\n[1] usage: sphinx-build [-h] [--config-dir DIR] [--config-file PATH] [--exclude-deprecated] [--format FORMAT] [--namespace NAMESPACE]\n                        [--noexclude-deprecated] [--output-file OUTPUT_FILE]\n[2] https://review.opendev.org/c/openstack/oslo.policy/+/830514\n[3] https://opendev.org/openstack/oslo.config/src/branch/master/oslo_config/cfg.py#L2937\n[4] https://opendev.org/openstack/oslo.config/src/branch/master/oslo_config/cfg.py#L2960\n[5] > /usr/lib/python3.8/argparse.py(1781)parse_args()\n-> if argv:\n(Pdb)\n> /usr/lib/python3.8/argparse.py(1782)parse_args()\n-> msg = _('unrecognized arguments: %s')\n(Pdb)\n> /usr/lib/python3.8/argparse.py(1783)parse_args()\n-> self.error(msg % ' '.join(argv))\n(Pdb)\nTypeError: sequence item 0: expected str instance, bool found\n> /usr/lib/python3.8/argparse.py(1783)parse_args()\n-> self.error(msg % ' '.join(argv))\nHandler <function generate_sample at 0x7fc0d6697d30> for event 'builder-inited' threw an exception (exception: sequence item 0: expected str instance, bool found)\n\nCloses-Bug: #1970725\nChange-Id: I95745b8d1cbdb6a7cf442d431a998b7e3ff600e4\n""}]",8,839711,9673a74b600cd387aa3d13a6ff923c06c304c55a,20,7,2,27615,,,0,"Only pass exclude-deprecated when True

The '--exclude-deprecated' parameter should only be passed to
oslo.config to parse when it is True.
The final generated sphinx syntax is[1] where [--exclude-deprecated]
doesn't require True/False value and only should be passed when True.

The change introducing this[2] causes parsing issue in oslo.config[3]
while checking <bool>.startswith (we pass True/False value) and even
after that while calling argparse[4] with following error[5].

[1] usage: sphinx-build [-h] [--config-dir DIR] [--config-file PATH] [--exclude-deprecated] [--format FORMAT] [--namespace NAMESPACE]
                        [--noexclude-deprecated] [--output-file OUTPUT_FILE]
[2] https://review.opendev.org/c/openstack/oslo.policy/+/830514
[3] https://opendev.org/openstack/oslo.config/src/branch/master/oslo_config/cfg.py#L2937
[4] https://opendev.org/openstack/oslo.config/src/branch/master/oslo_config/cfg.py#L2960
[5] > /usr/lib/python3.8/argparse.py(1781)parse_args()
-> if argv:
(Pdb)
> /usr/lib/python3.8/argparse.py(1782)parse_args()
-> msg = _('unrecognized arguments: %s')
(Pdb)
> /usr/lib/python3.8/argparse.py(1783)parse_args()
-> self.error(msg % ' '.join(argv))
(Pdb)
TypeError: sequence item 0: expected str instance, bool found
> /usr/lib/python3.8/argparse.py(1783)parse_args()
-> self.error(msg % ' '.join(argv))
Handler <function generate_sample at 0x7fc0d6697d30> for event 'builder-inited' threw an exception (exception: sequence item 0: expected str instance, bool found)

Closes-Bug: #1970725
Change-Id: I95745b8d1cbdb6a7cf442d431a998b7e3ff600e4
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/11/839711/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/sphinxpolicygen.py'],1,a7b7615f74d7b6844f3939e20efe28a08d9e3687,bug/1970725," arguments = ['--config-file', config_path, '--output-file', out_file] if exclude_deprecated: arguments += ['--exclude-deprecated'] args=arguments,"," args=['--config-file', config_path, '--output-file', out_file, '--exclude-deprecated', exclude_deprecated],",5,3
openstack%2Ftrove~master~I5acc467985d80fe4eb7d7a69055c9b178bcebbd1,openstack/trove,master,I5acc467985d80fe4eb7d7a69055c9b178bcebbd1,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:45:17.000000000,2022-04-28 13:50:38.000000000,2022-04-28 13:49:14.000000000,"[{'_account_id': 5572}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-11 09:45:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/trove/commit/5d6fa4fc72a1fb34a0d85108428a96f2cdf2ce87', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5acc467985d80fe4eb7d7a69055c9b178bcebbd1\n""}]",1,790639,5d6fa4fc72a1fb34a0d85108428a96f2cdf2ce87,8,3,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5acc467985d80fe4eb7d7a69055c9b178bcebbd1
",git fetch https://review.opendev.org/openstack/trove refs/changes/39/790639/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5d6fa4fc72a1fb34a0d85108428a96f2cdf2ce87,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/trove/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/trove/latest/,3,3
openstack%2Fansible-collections-openstack~master~Ice42d0bdc12c24227a323ad9c5d3fd33870975c4,openstack/ansible-collections-openstack,master,Ice42d0bdc12c24227a323ad9c5d3fd33870975c4,Temporarily run passing tests in our Zuul CI jobs only,MERGED,2022-04-26 13:05:30.000000000,2022-04-28 13:41:05.000000000,2022-04-28 13:41:05.000000000,"[{'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32458}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-04-26 13:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4d23ce9837cdf2e5ac45637ff0003b6c70d8e883', 'message': 'Temporarily run passing tests in our Zuul CI jobs only\n\nWith merging the code for 1.0.0 of OpenStack SDK into the master branch\nseveral of our modules and CI tests broke. To be able to merge patches\nwe had to set most of our jobs to non-voting, so atm we do not have a\ngood code coverage in Zuul CI.\n\nThis patch temporarily skips broken tests so that we can set our jobs\nback to voting and get some basic code coverage from CI. Follow up\npatches which fix modules are supposed to readd skipped tests on\noccasion.\n\nChange-Id: Ice42d0bdc12c24227a323ad9c5d3fd33870975c4\n'}, {'number': 2, 'created': '2022-04-27 12:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/57b97f27c4af6dd79d09716ce7e38f1f77b29069', 'message': 'Temporarily run passing tests in our Zuul CI jobs only\n\nWith merging the code for 1.0.0 of OpenStack SDK into the master branch\nseveral of our modules and CI tests broke. To be able to merge patches\nwe had to set most of our jobs to non-voting, so atm we do not have a\ngood code coverage in Zuul CI.\n\nThis patch temporarily skips broken tests so that we can set our jobs\nback to voting and get some basic code coverage from CI. Follow up\npatches which fix modules are supposed to readd skipped tests on\noccasion.\n\nChange-Id: Ice42d0bdc12c24227a323ad9c5d3fd33870975c4\n'}, {'number': 3, 'created': '2022-04-27 13:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bbda00b02c8c36df8c3f6718b33b9874b04379ce', 'message': 'Temporarily run passing tests in our Zuul CI jobs only\n\nWith merging the code for 1.0.0 of OpenStack SDK into the master branch\nseveral of our modules and CI tests broke. To be able to merge patches\nwe had to set most of our jobs to non-voting, so atm we do not have a\ngood code coverage in Zuul CI.\n\nThis patch temporarily skips broken tests so that we can set our jobs\nback to voting and get some basic code coverage from CI. Follow up\npatches which fix modules are supposed to readd skipped tests on\noccasion.\n\nChange-Id: Ice42d0bdc12c24227a323ad9c5d3fd33870975c4\n'}, {'number': 4, 'created': '2022-04-28 06:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4819ece33c96a28935fa4f9957525dae1d87cc3c', 'message': 'Temporarily run passing tests in our Zuul CI jobs only\n\nWith merging the code for 1.0.0 of OpenStack SDK into the master branch\nseveral of our modules and CI tests broke. To be able to merge patches\nwe had to set most of our jobs to non-voting, so atm we do not have a\ngood code coverage in Zuul CI.\n\nThis patch temporarily skips broken tests so that we can set our jobs\nback to voting and get some basic code coverage from CI. Follow up\npatches which fix modules are supposed to readd skipped tests on\noccasion.\n\nChange-Id: Ice42d0bdc12c24227a323ad9c5d3fd33870975c4\n'}, {'number': 5, 'created': '2022-04-28 11:19:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c10cc9dd8c8295533f8200171856279d7af005a8', 'message': 'Temporarily run passing tests in our Zuul CI jobs only\n\nWith merging the code for 1.0.0 of OpenStack SDK into the master branch\nseveral of our modules and CI tests broke. To be able to merge patches\nwe had to set most of our jobs to non-voting, so atm we do not have a\ngood code coverage in Zuul CI.\n\nThis patch temporarily skips broken tests so that we can set our jobs\nback to voting and get some basic code coverage from CI. Follow up\npatches which fix modules are supposed to readd skipped tests on\noccasion.\n\nChange-Id: Ice42d0bdc12c24227a323ad9c5d3fd33870975c4\n'}]",0,839374,c10cc9dd8c8295533f8200171856279d7af005a8,17,6,5,32962,,,0,"Temporarily run passing tests in our Zuul CI jobs only

With merging the code for 1.0.0 of OpenStack SDK into the master branch
several of our modules and CI tests broke. To be able to merge patches
we had to set most of our jobs to non-voting, so atm we do not have a
good code coverage in Zuul CI.

This patch temporarily skips broken tests so that we can set our jobs
back to voting and get some basic code coverage from CI. Follow up
patches which fix modules are supposed to readd skipped tests on
occasion.

Change-Id: Ice42d0bdc12c24227a323ad9c5d3fd33870975c4
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/74/839374/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4d23ce9837cdf2e5ac45637ff0003b6c70d8e883,skip_broken_tests, # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: >- address_scope auth client_config dns dns_zone_info floating_ip floating_ip_info group image keypair keystone_domain keystone_federation_protocol keystone_idp keystone_mapping keystone_role loadbalancer nova_flavor nova_services object object_container orchestrate port project security_group subnet_pool user user_group user_role volume # failing tags # network # neutron_rbac # router # server # subnet,,37,0
openstack%2Freleases~master~Ib493c2bd32c1bcef28d971724442abc2a2690b66,openstack/releases,master,Ib493c2bd32c1bcef28d971724442abc2a2690b66,Release Oslo's Yoga deliverables,MERGED,2022-04-27 12:09:39.000000000,2022-04-28 13:40:36.000000000,2022-04-28 13:40:36.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-27 12:09:39.000000000', 'files': ['deliverables/yoga/oslo.utils.yaml', 'deliverables/yoga/castellan.yaml', 'deliverables/yoga/oslo.limit.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0536bc530ccd8b873aed03fcb0f69982fc4e61d0', 'message': ""Release Oslo's Yoga deliverables\n\nChange-Id: Ib493c2bd32c1bcef28d971724442abc2a2690b66\n""}]",4,839517,0536bc530ccd8b873aed03fcb0f69982fc4e61d0,10,4,1,28522,,,0,"Release Oslo's Yoga deliverables

Change-Id: Ib493c2bd32c1bcef28d971724442abc2a2690b66
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/839517/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/oslo.utils.yaml', 'deliverables/yoga/castellan.yaml', 'deliverables/yoga/oslo.limit.yaml']",3,0536bc530ccd8b873aed03fcb0f69982fc4e61d0,oslo-yoga, - version: 1.5.1 projects: - repo: openstack/oslo.limit hash: 63536c6da62a8365ecc2b13ec40e4f0a92bc49da,,12,0
openstack%2Fvalidations-common~master~If3a9316f89717050da4991d3e0f6faf563142d88,openstack/validations-common,master,If3a9316f89717050da4991d3e0f6faf563142d88,Add CI functional tests for validations-common,ABANDONED,2020-06-29 12:27:41.000000000,2022-04-28 13:27:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-29 12:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e30abdffa52691373e4499430dd802fba1eac59d', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 2, 'created': '2020-06-29 12:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/10bd4a8d5c39f0ab8c3a01b3a6eb107c89151910', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 3, 'created': '2020-06-29 12:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2b9e30c757d1328106d88a2303b4c7e246d449df', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 4, 'created': '2020-06-29 12:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9ce90ed59435e34008a9492e87115ffd1e2d5290', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 5, 'created': '2020-06-29 12:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/81b30c705bbabfd760d5b83769f9764dc89a8cd0', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 6, 'created': '2020-06-29 12:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/afac369aaa511b21b816a7c7ccabce482d8d8c7e', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 7, 'created': '2020-06-29 13:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7c702b510096eee5ba14e6d744280368b0ff8a89', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 8, 'created': '2020-06-29 13:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/56365595589af9947516416fc2241205b27a8245', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 9, 'created': '2020-06-29 13:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/349f59b7648a0b502f40e4cc0ca5f3e6097518c0', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 10, 'created': '2020-06-29 13:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/dcdd55547ab7c00ff74b1eccc40c32162de47f32', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 11, 'created': '2020-06-29 13:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f1be97d9badd6d5023239cce76a11d285f89dca5', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 12, 'created': '2020-06-29 13:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/341eda22dae26a4600ae65214b9f9f0b1d4cc213', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}, {'number': 13, 'created': '2020-06-29 13:40:15.000000000', 'files': ['ci/playbooks/functional.yaml', 'ci/playbooks/pre.yml', 'ci/playbooks/post.yaml', 'zuul.d/zuul.yaml', 'ci/playbooks/run-local.yml', 'ci/playbooks/run.yml', 'ci/playbooks/setup.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml', 'ci/playbooks/validations.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bb600f1c08efc6a479569b037982ff37f20191c3', 'message': 'Add CI functional tests for validations-common\n\nChange-Id: If3a9316f89717050da4991d3e0f6faf563142d88\n'}]",33,738431,bb600f1c08efc6a479569b037982ff37f20191c3,24,1,13,16515,,,0,"Add CI functional tests for validations-common

Change-Id: If3a9316f89717050da4991d3e0f6faf563142d88
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/31/738431/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/playbooks/validations.yaml', 'zuul.d/playbooks/setup.yaml', 'zuul.d/playbooks/functional.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml', 'zuul.d/playbooks/post.yaml']",6,e30abdffa52691373e4499430dd802fba1eac59d,ci/functional/tests,,,136,17
openstack%2Fcharm-vault~stable%2F1.7~Ic54a8a4c1606f9df93bdc1ca095f9d4918405fc0,openstack/charm-vault,stable/1.7,Ic54a8a4c1606f9df93bdc1ca095f9d4918405fc0,Switch 1.7 charmcraft and support to focal/jammy for release,MERGED,2022-04-28 11:05:57.000000000,2022-04-28 13:23:04.000000000,2022-04-28 13:23:04.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 11:05:57.000000000', 'files': ['osci.yaml', 'src/tests/bundles/jammy-mysql8.yaml', 'src/tests/bundles/focal-mysql8.yaml', 'test-requirements.txt', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b4632c048933fc4f64d03395c54b94ade8ee7346', 'message': 'Switch 1.7 charmcraft and support to focal/jammy for release\n\nChange-Id: Ic54a8a4c1606f9df93bdc1ca095f9d4918405fc0\n'}]",1,839720,b4632c048933fc4f64d03395c54b94ade8ee7346,7,3,1,20870,,,0,"Switch 1.7 charmcraft and support to focal/jammy for release

Change-Id: Ic54a8a4c1606f9df93bdc1ca095f9d4918405fc0
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/20/839720/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/jammy-mysql8.yaml', 'src/tests/bundles/focal-mysql8.yaml', 'test-requirements.txt', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml']",9,b4632c048933fc4f64d03395c54b94ade8ee7346,charm-release-2204, dev_bundles: - jammy-mysql8 tests_options: force_deploy: - jammy-mysql8,dev_bundles: [] - focal-ha-mysql8,138,26
openstack%2Fvalidations-common~master~Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0,openstack/validations-common,master,Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0,False positive checks for component jobs,ABANDONED,2021-08-02 09:50:00.000000000,2022-04-28 13:21:29.000000000,,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-02 09:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/292e3a023629507e7cf8a391fc31045b5c30683a', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 2, 'created': '2021-08-02 10:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3e9499bd4e9f7f700f816209540f44176d4b263c', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 3, 'created': '2021-08-03 07:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/305c7d9440127139c6a20bd191873ccac633f1c6', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 4, 'created': '2021-08-05 12:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5839d31c6ce3bc506964c1e30e27a0fa966ba647', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 5, 'created': '2021-08-05 14:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3ec593086f6c0e3f3b9812c03f3627b57c2a5cc2', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 6, 'created': '2021-08-06 13:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c5192518fe967d0163c85c8c176966d5845b5f2c', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 7, 'created': '2021-08-10 12:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a70bb3bdedb7c813d2f02804e0d705a367b607de', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 8, 'created': '2021-08-10 14:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/24fe69cd7d7d91783e285b91b72e763801036c90', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 9, 'created': '2021-08-11 11:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/596f3f95acaa2062f5af8821e8f79c96d55d21f5', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 10, 'created': '2021-08-20 12:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/49f37a5829950aca4184e93d72f749e8d5ba47c1', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 11, 'created': '2021-09-22 11:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d7a4de53ca1bae5db9b40b2fdb7dd14b25bd4f19', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 12, 'created': '2021-10-20 10:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1f7b8059f01d1c90848bd76da422ce9d86a9ca2c', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}, {'number': 13, 'created': '2021-11-12 10:06:37.000000000', 'files': ['roles/validations/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a70fcc0842decc40c740e530700bde4987716599', 'message': 'False positive checks for component jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0\n'}]",2,803163,a70fcc0842decc40c740e530700bde4987716599,29,5,13,32926,,,0,"False positive checks for component jobs

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie774b00b1ad5d8f9bf09e5e7d2d7348696582ef0
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/63/803163/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/vars/main.yaml'],1,292e3a023629507e7cf8a391fc31045b5c30683a,negativeresults-comp," negative_results: extra_args: ""--extra-vars container_cli=fooo"" - undercloud-neutron-sanity-check: negative_results: extra_args: ""--extra-vars configs=/etc/proton/neutron.conf,/etc/proton/dhcp_agent.ini"" - undercloud-process-count: negative_results: extra_args: ""--extra-vars max_process_count=0""", - undercloud-neutron-sanity-check: - undercloud-process-count: ,8,2
openstack%2Fvalidations-libs~stable%2F1.6~Ia5f73877824cd738d0156e8b490bde005d210605,openstack/validations-libs,stable/1.6,Ia5f73877824cd738d0156e8b490bde005d210605,Update TOX_CONSTRAINTS_FILE for stable/1.6,ABANDONED,2022-02-22 11:43:54.000000000,2022-04-28 13:10:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-02-22 11:43:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c6dbcce33956dfbb0eb74d9f55269a009ebcb33a', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/1.6\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/1.6 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia5f73877824cd738d0156e8b490bde005d210605\n'}]",1,830389,c6dbcce33956dfbb0eb74d9f55269a009ebcb33a,5,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/1.6

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/1.6 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ia5f73877824cd738d0156e8b490bde005d210605
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/89/830389/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c6dbcce33956dfbb0eb74d9f55269a009ebcb33a,create-1.6, -c {env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/1.6} -c {env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/1.6}, -c {env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c {env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Ftripleo-validations~master~I326c0c388cd31803d3d5bdf703315c4e79c7fcee,openstack/tripleo-validations,master,I326c0c388cd31803d3d5bdf703315c4e79c7fcee,Adding FIPS validation - check if Paramiko is FIPS enabled,ABANDONED,2021-11-22 12:41:40.000000000,2022-04-28 13:07:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-11-22 12:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/10cb71ca5e4cdf6bede490a6963242e4a1226fda', 'message': 'Adding FIPS validation - check if Paramiko is FIPS enabled\n\nChange-Id: I326c0c388cd31803d3d5bdf703315c4e79c7fcee\n'}, {'number': 2, 'created': '2021-11-22 13:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/327819351597db7ac68661a46c586517b3da9d38', 'message': 'Adding FIPS validation - check if Paramiko is FIPS enabled\n\nChange-Id: I326c0c388cd31803d3d5bdf703315c4e79c7fcee\n'}, {'number': 3, 'created': '2021-12-08 15:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dc7f3dd1f615bbfdc168ef9315136ecbc7b6242b', 'message': 'Adding FIPS validation - check if Paramiko is FIPS enabled\n\nChange-Id: I326c0c388cd31803d3d5bdf703315c4e79c7fcee\n'}, {'number': 4, 'created': '2021-12-13 19:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/98159d1be27a9c28ee7bdb537bc9e2d805652d5b', 'message': 'Adding FIPS validation - check if Paramiko is FIPS enabled\n\nChange-Id: I326c0c388cd31803d3d5bdf703315c4e79c7fcee\n'}, {'number': 5, 'created': '2021-12-13 20:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/93263debdced4d9ea7fdf1ac41b64ee18fcaf466', 'message': 'Adding FIPS validation - check if Paramiko is FIPS enabled\n\nChange-Id: I326c0c388cd31803d3d5bdf703315c4e79c7fcee\n'}, {'number': 6, 'created': '2021-12-13 20:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/36a958fd9fcbcf430783db34c131334b9f35564d', 'message': 'Adding FIPS validation - check if Paramiko is FIPS enabled\n\nChange-Id: I326c0c388cd31803d3d5bdf703315c4e79c7fcee\n'}, {'number': 7, 'created': '2021-12-13 20:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/661120d3c4e22896b6eb35200e3d96df67c0c655', 'message': 'Adding FIPS validation - check if Paramiko is FIPS enabled\n\nChange-Id: I326c0c388cd31803d3d5bdf703315c4e79c7fcee\n'}, {'number': 8, 'created': '2021-12-14 07:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0a28e67b814357dbbe07fc1b06dc1735ef56dac3', 'message': 'Adding FIPS validation - check if Paramiko is FIPS enabled\n\nChange-Id: I326c0c388cd31803d3d5bdf703315c4e79c7fcee\n'}, {'number': 9, 'created': '2021-12-14 08:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8895e56b4e946bb4b91e7751c140a5c89225e804', 'message': 'Adding FIPS validation - check if Paramiko is FIPS enabled\n\nChange-Id: I326c0c388cd31803d3d5bdf703315c4e79c7fcee\n'}, {'number': 10, 'created': '2021-12-14 14:32:15.000000000', 'files': ['roles/tripleo_check_paramiko_fips_enabled/molecule/default/prepare.yml', 'roles/tripleo_check_paramiko_fips_enabled/molecule/default/converge.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_check_paramiko_fips_enabled/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo_check_paramiko_fips_enabled.rst', 'roles/tripleo_check_paramiko_fips_enabled/defaults/main.yml', 'playbooks/tripleo-check-paramiko-fips-enabled.yaml', 'roles/tripleo_check_paramiko_fips_enabled/tasks/main.yml', 'roles/tripleo_check_paramiko_fips_enabled/molecule/default/verify.yml', 'roles/tripleo_check_paramiko_fips_enabled/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/10eac502a3b9e617537029748283839c6c292c47', 'message': 'Adding FIPS validation - check if Paramiko is FIPS enabled\n\nChange-Id: I326c0c388cd31803d3d5bdf703315c4e79c7fcee\n'}]",14,818762,10eac502a3b9e617537029748283839c6c292c47,26,2,10,33774,,,0,"Adding FIPS validation - check if Paramiko is FIPS enabled

Change-Id: I326c0c388cd31803d3d5bdf703315c4e79c7fcee
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/62/818762/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_check_paramiko_fips_enabled/molecule/default/prepare.yml', 'roles/tripleo_check_paramiko_fips_enabled/molecule/default/converge.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_check_paramiko_fips_enabled/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo_check_paramiko_fips_enabled.rst', 'roles/tripleo_check_paramiko_fips_enabled/defaults/main.yml', 'playbooks/tripleo-check-paramiko-fips-enabled.yaml', 'roles/tripleo_check_paramiko_fips_enabled/tasks/main.yml', 'roles/tripleo_check_paramiko_fips_enabled/molecule/default/verify.yml', 'roles/tripleo_check_paramiko_fips_enabled/vars/main.yml']",10,10cb71ca5e4cdf6bede490a6963242e4a1226fda,fips-val-paramiko,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # While options found within the vars/ path can be overridden using extra # vars, items within this path are considered part of the role and not # intended to be modified. # All variables within this role should have a prefix of ""tripleo_check_paramiko_fips_enabled"" # !!!! IMPORTANT !!!! # Add a comment above every variables describing them. # This will be included in the sphinx role documentation # !!!! IMPORTANT !!!! # Path where paramiko is located tripleo_check_paramiko_fips_enabled_paramiko_path: ""/usr/lib/python3.*/paramiko""",,230,0
openstack%2Fskyline-console~master~Ia96f38c2155210007faedb99bcf3ff49ae291245,openstack/skyline-console,master,Ia96f38c2155210007faedb99bcf3ff49ae291245,feat: Support manila share group,MERGED,2022-04-28 08:02:54.000000000,2022-04-28 12:59:10.000000000,2022-04-28 12:59:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-04-28 08:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4a629a610eb1d3a7001cb51a8513ddbcc7cfc1f4', 'message': 'feat: Support manila share group\n\n1. Add manila share group page in console and administrator\n2. Add console create share group\n3. Add console edit share group\n4. Add delete share group in console and administrator\n5. Add share group detail page in console and administrator\n\nChange-Id: Ia96f38c2155210007faedb99bcf3ff49ae291245\n'}, {'number': 2, 'created': '2022-04-28 08:29:32.000000000', 'files': ['src/pages/share/containers/ShareGroup/index.jsx', 'src/resources/manila/share-group-type.jsx', 'src/stores/manila/share.js', 'src/pages/share/containers/ShareNetwork/index.jsx', 'src/client/manila/index.js', 'src/pages/share/containers/ShareInstance/Detail/index.jsx', 'src/pages/share/containers/ShareInstance/Detail/BaseDetail.jsx', 'src/resources/manila/share-type.js', 'src/resources/manila/share.js', 'src/locales/en.json', 'src/pages/share/routes/index.js', 'src/pages/share/containers/ShareGroup/actions/index.jsx', 'src/layouts/menu.jsx', 'src/stores/manila/share-group.js', 'src/pages/share/containers/ShareNetwork/actions/index.jsx', 'src/locales/zh.json', 'src/resources/manila/share-network.jsx', 'src/stores/manila/share-group-type.js', 'src/resources/share-type.js', 'src/utils/table.jsx', 'src/resources/manila/share-group.js', 'src/pages/share/containers/ShareType/index.jsx', 'src/pages/share/containers/ShareGroup/Detail/BaseDetail.jsx', 'src/pages/share/containers/ShareInstance/index.jsx', 'src/layouts/admin-menu.jsx', 'src/pages/share/containers/ShareGroup/Detail/index.jsx', 'src/pages/share/containers/ShareGroup/actions/Edit.jsx', 'src/pages/share/containers/ShareType/actions/Create.jsx', 'src/pages/share/containers/ShareGroup/actions/Delete.jsx', 'src/pages/share/containers/ShareGroup/actions/Create.jsx', 'src/pages/share/containers/ShareGroupType/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3e76cb2ffae5b3728ec8dd32a62a9fc5da904054', 'message': 'feat: Support manila share group\n\n1. Add manila share group page in console and administrator\n2. Add console create share group\n3. Add console edit share group\n4. Add delete share group in console and administrator\n5. Add share group detail page in console and administrator\n\nChange-Id: Ia96f38c2155210007faedb99bcf3ff49ae291245\n'}]",1,839701,3e76cb2ffae5b3728ec8dd32a62a9fc5da904054,10,3,2,30434,,,0,"feat: Support manila share group

1. Add manila share group page in console and administrator
2. Add console create share group
3. Add console edit share group
4. Add delete share group in console and administrator
5. Add share group detail page in console and administrator

Change-Id: Ia96f38c2155210007faedb99bcf3ff49ae291245
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/01/839701/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/share/containers/ShareGroup/index.jsx', 'src/resources/manila/share-group-type.jsx', 'src/stores/manila/share.js', 'src/pages/share/containers/ShareNetwork/index.jsx', 'src/client/manila/index.js', 'src/pages/share/containers/ShareInstance/Detail/index.jsx', 'src/pages/share/containers/ShareInstance/Detail/BaseDetail.jsx', 'src/resources/manila/share-type.js', 'src/resources/manila/share.js', 'src/locales/en.json', 'src/pages/share/routes/index.js', 'src/pages/share/containers/ShareGroup/actions/index.jsx', 'src/layouts/menu.jsx', 'src/stores/manila/share-group.js', 'src/locales/zh.json', 'src/resources/manila/share-network.jsx', 'src/stores/manila/share-group-type.js', 'src/resources/share-type.js', 'src/utils/table.jsx', 'src/resources/manila/share-group.js', 'src/pages/share/containers/ShareType/index.jsx', 'src/pages/share/containers/ShareGroup/Detail/BaseDetail.jsx', 'src/pages/share/containers/ShareInstance/index.jsx', 'src/layouts/admin-menu.jsx', 'src/pages/share/containers/ShareGroup/Detail/index.jsx', 'src/pages/share/containers/ShareGroup/actions/Edit.jsx', 'src/pages/share/containers/ShareType/actions/Create.jsx', 'src/pages/share/containers/ShareGroup/actions/Delete.jsx', 'src/pages/share/containers/ShareGroup/actions/Create.jsx', 'src/pages/share/containers/ShareGroupType/index.jsx']",30,4a629a610eb1d3a7001cb51a8513ddbcc7cfc1f4,master2,import { shareGroupTypeColumns } from 'src/resources/manila/share-group-type'; getColumns = () => shareGroupTypeColumns;,"import React from 'react'; getColumns = () => [ { title: t('ID/Name'), dataIndex: 'name', routeName: 'shareGroupTypeDetailAdmin', }, { title: t('Public'), dataIndex: 'is_public', valueRender: 'yesNo', }, { title: t('Share Types'), dataIndex: 'shareTypes', render: (value) => { return (value || []).map((it) => <div key={it.id}>{it.name}</div>); }, }, ];",1071,121
openstack%2Fvalidations-libs~master~I2e9f40d87c9f4300fb3e952da25f7ae37a15c00a,openstack/validations-libs,master,I2e9f40d87c9f4300fb3e952da25f7ae37a15c00a,Ignore if config path is a dir and remove useless condition,ABANDONED,2021-11-17 21:37:43.000000000,2022-04-28 12:49:59.000000000,,"[{'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-11-17 21:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e0f278efe647783c6a7bdc679f218ea8ce130140', 'message': 'Ignore if config path is a dir and remove useless condition\n\n* Ignore and log if the config path provided by the user is not\n  a file.\n* remove useless condition in set_argument_parser\n\nChange-Id: I2e9f40d87c9f4300fb3e952da25f7ae37a15c00a\n'}, {'number': 2, 'created': '2022-01-13 21:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/26d84c320ac85388c39b3802e65602f0a73770d6', 'message': 'Ignore if config path is a dir and remove useless condition\n\n* Ignore and log if the config path provided by the user is not\n  a file.\n* remove useless condition in set_argument_parser\n\nChange-Id: I2e9f40d87c9f4300fb3e952da25f7ae37a15c00a\n'}, {'number': 3, 'created': '2022-04-21 14:27:03.000000000', 'files': ['validations_libs/cli/base.py', 'validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d5969888864e42179697af51cc3b0c48d5a02265', 'message': 'Ignore if config path is a dir and remove useless condition\n\n* Ignore and log if the config path provided by the user is not\n  a file.\n* remove useless condition in set_argument_parser\n\nChange-Id: I2e9f40d87c9f4300fb3e952da25f7ae37a15c00a\n'}]",4,818294,d5969888864e42179697af51cc3b0c48d5a02265,12,4,3,16515,,,0,"Ignore if config path is a dir and remove useless condition

* Ignore and log if the config path provided by the user is not
  a file.
* remove useless condition in set_argument_parser

Change-Id: I2e9f40d87c9f4300fb3e952da25f7ae37a15c00a
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/94/818294/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/cli/base.py', 'validations_libs/utils.py']",2,e0f278efe647783c6a7bdc679f218ea8ce130140,config/file/cleanup, if not os.path.exists(config) or not os.path.isfile(config):, if not os.path.exists(config):,1,3
openstack%2Freleases~master~I7ae96e80344ddacbbfe136a0e0e3b667af3fba9a,openstack/releases,master,I7ae96e80344ddacbbfe136a0e0e3b667af3fba9a,[kolla] Transition Victoria to EM,MERGED,2022-04-14 16:51:36.000000000,2022-04-28 12:46:28.000000000,2022-04-28 12:46:28.000000000,"[{'_account_id': 308}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-14 16:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/83dcc106ea7733071bd37a4350e4336b76dd0306', 'message': '[kolla] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I7ae96e80344ddacbbfe136a0e0e3b667af3fba9a\n'}, {'number': 2, 'created': '2022-04-28 08:23:51.000000000', 'files': ['deliverables/victoria/kayobe.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bff7315729180820a3a30d17c1f09effe2a070c7', 'message': '[kolla] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I7ae96e80344ddacbbfe136a0e0e3b667af3fba9a\n'}]",5,837933,bff7315729180820a3a30d17c1f09effe2a070c7,16,6,2,17685,,,0,"[kolla] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I7ae96e80344ddacbbfe136a0e0e3b667af3fba9a
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/837933/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml']",2,83dcc106ea7733071bd37a4350e4336b76dd0306,victoria-em, - version: victoria-em projects: - repo: openstack/kolla hash: 1c455b5b6ee728d4892a697c191efb25e4fbbf67,,8,0
openstack%2Fneutron-fwaas~stable%2Fqueens~I84ab7db63a8b317e19f4dc6a7fcea881178e6f5b,openstack/neutron-fwaas,stable/queens,I84ab7db63a8b317e19f4dc6a7fcea881178e6f5b,"zuul,stable-only: Remove faulty or failing job configs",MERGED,2022-04-07 09:27:28.000000000,2022-04-28 12:26:16.000000000,2022-04-28 12:26:16.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-04-07 09:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/27bd440196f968a497719f42699118f5f23bbc29', 'message': 'zuul: Remove faulty job configs\n\nChange-Id: I84ab7db63a8b317e19f4dc6a7fcea881178e6f5b\n'}, {'number': 2, 'created': '2022-04-07 11:26:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/eb661c6330eb70da4ff12e432165ac748ef6c8f8', 'message': 'zuul,stable-only: Remove faulty or failing job configs\n\nChange-Id: I84ab7db63a8b317e19f4dc6a7fcea881178e6f5b\n'}]",3,836916,eb661c6330eb70da4ff12e432165ac748ef6c8f8,10,6,2,8313,,,0,"zuul,stable-only: Remove faulty or failing job configs

Change-Id: I84ab7db63a8b317e19f4dc6a7fcea881178e6f5b
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/16/836916/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,27bd440196f968a497719f42699118f5f23bbc29,zuul_cfg_errors,, - neutron-fwaas-networking-midonet-cross-py35: voting: false - job: name: neutron-fwaas-networking-midonet-cross-py35 parent: openstack-tox-py35 description: | Run Python 35 tests on networking-midonet repository. vars: zuul_work_dir: src/opendev.org/openstack/networking-midonet required-projects: - openstack/requirements - openstack/networking-midonet - openstack/neutron - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - x/tap-as-a-service,0,19
openstack%2Ftripleo-puppet-elements~master~I02d25fb4074503a19d6243a1a5b31246bfbf9de4,openstack/tripleo-puppet-elements,master,I02d25fb4074503a19d6243a1a5b31246bfbf9de4,Remove leftover of unused puppet modules,ABANDONED,2022-04-28 08:10:42.000000000,2022-04-28 12:12:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-28 08:10:42.000000000', 'files': ['elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/a47eb46fc7ad031d3eb144fa6eef62870fa90d88', 'message': 'Remove leftover of unused puppet modules\n\nThis change removes some unused puppet modules left by [1].\n\n[1] b3df2daabbf2d2a58dcafa6b2eabc01e95829200\n\nChange-Id: I02d25fb4074503a19d6243a1a5b31246bfbf9de4\n'}]",0,839702,a47eb46fc7ad031d3eb144fa6eef62870fa90d88,4,2,1,9816,,,0,"Remove leftover of unused puppet modules

This change removes some unused puppet modules left by [1].

[1] b3df2daabbf2d2a58dcafa6b2eabc01e95829200

Change-Id: I02d25fb4074503a19d6243a1a5b31246bfbf9de4
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/02/839702/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-modules/source-repository-puppet-modules'],1,a47eb46fc7ad031d3eb144fa6eef62870fa90d88,,,puppet-gluster git /opt/stack/puppet-modules/gluster https://github.com/purpleidea/puppet-gluster.gitpuppet-vlan git /opt/stack/puppet-modules/vlan https://github.com/derekhiggins/puppet-vlan.gitpuppet_aviator git /opt/stack/puppet-modules/aviator https://github.com/aimonb/puppet_aviator.git,0,3
openstack%2Freleases~master~I93d5fa5a42c6bae1051f7a0ee104e9ae0219606d,openstack/releases,master,I93d5fa5a42c6bae1051f7a0ee104e9ae0219606d,[adjutant] Transition Victoria to EM,MERGED,2022-04-14 17:11:53.000000000,2022-04-28 12:08:43.000000000,2022-04-28 12:08:43.000000000,"[{'_account_id': 10420}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 17:11:53.000000000', 'files': ['deliverables/victoria/python-adjutantclient.yaml', 'deliverables/victoria/adjutant.yaml', 'deliverables/victoria/adjutant-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1a578d2da343737ae3f9a2203267191cbb9e15b6', 'message': '[adjutant] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I93d5fa5a42c6bae1051f7a0ee104e9ae0219606d\n'}]",3,837985,1a578d2da343737ae3f9a2203267191cbb9e15b6,9,4,1,17685,,,0,"[adjutant] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I93d5fa5a42c6bae1051f7a0ee104e9ae0219606d
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/837985/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/python-adjutantclient.yaml', 'deliverables/victoria/adjutant.yaml', 'deliverables/victoria/adjutant-ui.yaml']",3,1a578d2da343737ae3f9a2203267191cbb9e15b6,victoria-em, - version: victoria-em projects: - repo: openstack/adjutant-ui hash: 92f8bdc649b96e437bec23dbf334cbdd9fc3ec7b,,12,0
openstack%2Freleases~master~Ib63a37c9c4497c93d48661d0687b8a9219e02f6b,openstack/releases,master,Ib63a37c9c4497c93d48661d0687b8a9219e02f6b,[barbican] Transition Victoria to EM,MERGED,2022-04-14 17:07:40.000000000,2022-04-28 12:08:41.000000000,2022-04-28 12:08:41.000000000,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 17:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d65f1e6edf60ac46a2dc0b901db2596420695dcb', 'message': '[barbican] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: Ib63a37c9c4497c93d48661d0687b8a9219e02f6b\n'}, {'number': 2, 'created': '2022-04-14 17:34:04.000000000', 'files': ['deliverables/victoria/python-barbicanclient.yaml', 'deliverables/victoria/barbican.yaml', 'deliverables/victoria/ansible-role-lunasa-hsm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4c3fbffd7de7dd7d8860fabe1b38521ddaa16d81', 'message': '[barbican] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: Ib63a37c9c4497c93d48661d0687b8a9219e02f6b\n'}]",3,837974,4c3fbffd7de7dd7d8860fabe1b38521ddaa16d81,11,5,2,17685,,,0,"[barbican] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: Ib63a37c9c4497c93d48661d0687b8a9219e02f6b
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/837974/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/python-barbicanclient.yaml', 'deliverables/victoria/barbican.yaml', 'deliverables/victoria/barbican-tempest-plugin.yaml', 'deliverables/victoria/ansible-role-lunasa-hsm.yaml']",4,d65f1e6edf60ac46a2dc0b901db2596420695dcb,victoria-em, - version: victoria-em projects: - repo: openstack/ansible-role-lunasa-hsm hash: 1f79d940a6c843ffe893725fa4f908cfc885b3c5,,16,0
openstack%2Freleases~master~If310d067220335b1cb82d719accc09fa1489d676,openstack/releases,master,If310d067220335b1cb82d719accc09fa1489d676,[sahara] Transition Victoria to EM,MERGED,2022-04-14 17:01:05.000000000,2022-04-28 12:08:38.000000000,2022-04-28 12:08:38.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30077}]","[{'number': 1, 'created': '2022-04-14 17:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4599f63534c8b4754154a02b035b5a58fa26538b', 'message': '[sahara] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: If310d067220335b1cb82d719accc09fa1489d676\n'}, {'number': 2, 'created': '2022-04-14 17:48:24.000000000', 'files': ['deliverables/victoria/sahara.yaml', 'deliverables/victoria/sahara-plugin-storm.yaml', 'deliverables/victoria/sahara-plugin-ambari.yaml', 'deliverables/victoria/sahara-plugin-cdh.yaml', 'deliverables/victoria/sahara-dashboard.yaml', 'deliverables/victoria/sahara-image-elements.yaml', 'deliverables/victoria/python-saharaclient.yaml', 'deliverables/victoria/sahara-extra.yaml', 'deliverables/victoria/sahara-plugin-spark.yaml', 'deliverables/victoria/sahara-plugin-mapr.yaml', 'deliverables/victoria/sahara-plugin-vanilla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0cd473fa5179d061cd883650b2680f3b604809e1', 'message': '[sahara] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: If310d067220335b1cb82d719accc09fa1489d676\n'}]",3,837949,0cd473fa5179d061cd883650b2680f3b604809e1,11,4,2,17685,,,0,"[sahara] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: If310d067220335b1cb82d719accc09fa1489d676
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/837949/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/sahara-dashboard.yaml', 'deliverables/victoria/python-saharaclient.yaml', 'deliverables/victoria/sahara-extra.yaml', 'deliverables/victoria/sahara-tests.yaml', 'deliverables/victoria/sahara-plugin-mapr.yaml', 'deliverables/victoria/sahara-plugin-vanilla.yaml', 'deliverables/victoria/sahara.yaml', 'deliverables/victoria/sahara-plugin-storm.yaml', 'deliverables/victoria/sahara-plugin-ambari.yaml', 'deliverables/victoria/sahara-plugin-cdh.yaml', 'deliverables/victoria/sahara-image-elements.yaml', 'deliverables/victoria/sahara-plugin-spark.yaml']",12,4599f63534c8b4754154a02b035b5a58fa26538b,victoria-em, - version: victoria-em projects: - repo: openstack/sahara-plugin-spark hash: 0300afc2c185318cd27611a45ae2cc1dccfbd1c1,,48,0
openstack%2Freleases~master~I319a53a43327e32fa0c0bed7e87a960562871112,openstack/releases,master,I319a53a43327e32fa0c0bed7e87a960562871112,[heat] Transition Victoria to EM,MERGED,2022-04-14 16:53:40.000000000,2022-04-28 12:08:35.000000000,2022-04-28 12:08:35.000000000,"[{'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 16:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d3765f31e03e258bd9e3e80f1e554af6330f9c0c', 'message': '[heat] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I319a53a43327e32fa0c0bed7e87a960562871112\n'}, {'number': 2, 'created': '2022-04-14 17:54:29.000000000', 'files': ['deliverables/victoria/heat-agents.yaml', 'deliverables/victoria/heat.yaml', 'deliverables/victoria/heat-dashboard.yaml', 'deliverables/victoria/python-heatclient.yaml', 'deliverables/victoria/tosca-parser.yaml', 'deliverables/victoria/heat-translator.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/821b87a489ddb76704d675320d9a9b4082699a3f', 'message': '[heat] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I319a53a43327e32fa0c0bed7e87a960562871112\n'}]",3,837940,821b87a489ddb76704d675320d9a9b4082699a3f,11,4,2,17685,,,0,"[heat] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I319a53a43327e32fa0c0bed7e87a960562871112
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/837940/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/heat-tempest-plugin.yaml', 'deliverables/victoria/heat-agents.yaml', 'deliverables/victoria/heat.yaml', 'deliverables/victoria/heat-dashboard.yaml', 'deliverables/victoria/python-heatclient.yaml', 'deliverables/victoria/tosca-parser.yaml', 'deliverables/victoria/heat-translator.yaml']",7,d3765f31e03e258bd9e3e80f1e554af6330f9c0c,victoria-em, - version: victoria-em projects: - repo: openstack/heat-translator hash: 92efac641321d548090eecaf0cff1c75bcd01068,,28,0
openstack%2Freleases~master~If83a419ed0e3f08a7a63683a5a14a2f9d0d009f6,openstack/releases,master,If83a419ed0e3f08a7a63683a5a14a2f9d0d009f6,[mistral] Transition Victoria to EM,MERGED,2022-04-14 16:58:07.000000000,2022-04-28 12:08:32.000000000,2022-04-28 12:08:32.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 16:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/196db98379d9f7ad957213c28be1a3f6bc5457fd', 'message': '[mistral] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: If83a419ed0e3f08a7a63683a5a14a2f9d0d009f6\n'}, {'number': 2, 'created': '2022-04-14 17:51:05.000000000', 'files': ['deliverables/victoria/mistral-dashboard.yaml', 'deliverables/victoria/mistral.yaml', 'deliverables/victoria/mistral-extra.yaml', 'deliverables/victoria/python-mistralclient.yaml', 'deliverables/victoria/mistral-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a51c6e9a461d75b7ba2dcbe3afb88fb2ac10ebfd', 'message': '[mistral] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: If83a419ed0e3f08a7a63683a5a14a2f9d0d009f6\n'}]",3,837945,a51c6e9a461d75b7ba2dcbe3afb88fb2ac10ebfd,13,5,2,17685,,,0,"[mistral] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: If83a419ed0e3f08a7a63683a5a14a2f9d0d009f6
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/837945/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/mistral-dashboard.yaml', 'deliverables/victoria/mistral.yaml', 'deliverables/victoria/mistral-extra.yaml', 'deliverables/victoria/python-mistralclient.yaml', 'deliverables/victoria/mistral-lib.yaml', 'deliverables/victoria/mistral-tempest-plugin.yaml']",6,196db98379d9f7ad957213c28be1a3f6bc5457fd,victoria-em, - version: victoria-em projects: - repo: openstack/mistral-tempest-plugin hash: 776b590bd6af2517238336a114a2b68332228fb2,,24,0
openstack%2Freleases~master~I611ec0861fa2d5f21e023e3a781ba4259aa89dbf,openstack/releases,master,I611ec0861fa2d5f21e023e3a781ba4259aa89dbf,[watcher] Transition Victoria to EM,MERGED,2022-04-14 17:02:42.000000000,2022-04-28 12:08:28.000000000,2022-04-28 12:08:28.000000000,"[{'_account_id': 17685}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28748}]","[{'number': 1, 'created': '2022-04-14 17:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f5b19ee7fa8d08837975105939a8916ee2186d3c', 'message': '[watcher] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I611ec0861fa2d5f21e023e3a781ba4259aa89dbf\n'}, {'number': 2, 'created': '2022-04-14 17:47:04.000000000', 'files': ['deliverables/victoria/watcher-dashboard.yaml', 'deliverables/victoria/watcher.yaml', 'deliverables/victoria/python-watcherclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6f576a3e3ed5ed8c7d16b98e02340240c6c6ae88', 'message': '[watcher] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I611ec0861fa2d5f21e023e3a781ba4259aa89dbf\n'}]",3,837955,6f576a3e3ed5ed8c7d16b98e02340240c6c6ae88,11,5,2,17685,,,0,"[watcher] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I611ec0861fa2d5f21e023e3a781ba4259aa89dbf
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/837955/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/watcher-dashboard.yaml', 'deliverables/victoria/watcher.yaml', 'deliverables/victoria/python-watcherclient.yaml', 'deliverables/victoria/watcher-tempest-plugin.yaml']",4,f5b19ee7fa8d08837975105939a8916ee2186d3c,victoria-em, - version: victoria-em projects: - repo: openstack/watcher-tempest-plugin hash: 7fbabcafa39e99b58aeb542214ebd44272bc54ab,,16,0
openstack%2Freleases~master~I6a271b977d2c105a6877a448b3749a2a2410f6b5,openstack/releases,master,I6a271b977d2c105a6877a448b3749a2a2410f6b5,[freezer] Transition Victoria to EM,MERGED,2022-04-14 17:08:30.000000000,2022-04-28 12:08:25.000000000,2022-04-28 12:08:25.000000000,"[{'_account_id': 13940}, {'_account_id': 17685}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 17:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b376027f54d12635dc236847610631078081a7fa', 'message': '[freezer] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I6a271b977d2c105a6877a448b3749a2a2410f6b5\n'}, {'number': 2, 'created': '2022-04-14 18:04:24.000000000', 'files': ['deliverables/victoria/python-freezerclient.yaml', 'deliverables/victoria/freezer.yaml', 'deliverables/victoria/freezer-web-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d77d24ec792524e5673305417dec88f3af43b85b', 'message': '[freezer] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I6a271b977d2c105a6877a448b3749a2a2410f6b5\n'}]",3,837977,d77d24ec792524e5673305417dec88f3af43b85b,11,5,2,17685,,,0,"[freezer] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I6a271b977d2c105a6877a448b3749a2a2410f6b5
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/837977/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/freezer-tempest-plugin.yaml', 'deliverables/victoria/python-freezerclient.yaml', 'deliverables/victoria/freezer-web-ui.yaml', 'deliverables/victoria/freezer.yaml']",4,b376027f54d12635dc236847610631078081a7fa,victoria-em, - version: victoria-em projects: - repo: openstack/freezer hash: 663737694ff9129fae222dd6fe0b7253c29490f3 - repo: openstack/freezer-api hash: db0c4dd3c717d2e2bf67ef7e50fa1e2fa7bef6d4 - repo: openstack/freezer-dr hash: 7d4c5ad01c780ea9874575464bae4f33877ebc23,,20,0
openstack%2Freleases~master~I6b00576181c370e185334b545e997bc0961a2f45,openstack/releases,master,I6b00576181c370e185334b545e997bc0961a2f45,[keystone] Transition Victoria to EM,MERGED,2022-04-14 16:52:38.000000000,2022-04-28 12:07:03.000000000,2022-04-28 12:07:03.000000000,"[{'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 16:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/39a96eb722ac5e4b2d18339de334955f80c1722f', 'message': '[keystone] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I6b00576181c370e185334b545e997bc0961a2f45\n'}, {'number': 2, 'created': '2022-04-14 18:02:50.000000000', 'files': ['deliverables/victoria/keystonemiddleware.yaml', 'deliverables/victoria/python-keystoneclient.yaml', 'deliverables/victoria/pycadf.yaml', 'deliverables/victoria/keystoneauth.yaml', 'deliverables/victoria/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/862108a697e1f7bcd18837fdb88a9a9fcae08d71', 'message': '[keystone] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I6b00576181c370e185334b545e997bc0961a2f45\n'}]",3,837935,862108a697e1f7bcd18837fdb88a9a9fcae08d71,11,5,2,17685,,,0,"[keystone] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I6b00576181c370e185334b545e997bc0961a2f45
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/837935/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/keystonemiddleware.yaml', 'deliverables/victoria/python-keystoneclient.yaml', 'deliverables/victoria/keystone-tempest-plugin.yaml', 'deliverables/victoria/pycadf.yaml', 'deliverables/victoria/keystoneauth.yaml', 'deliverables/victoria/keystone.yaml']",6,39a96eb722ac5e4b2d18339de334955f80c1722f,victoria-em, - version: victoria-em projects: - repo: openstack/keystone hash: 67584ec844ae337a146487154cb5cd57b46f201a,,24,0
openstack%2Fproject-config~master~I14c6bd857a09cab07546def009c654738b085c46,openstack/project-config,master,I14c6bd857a09cab07546def009c654738b085c46,Add the cinder-three-par to Openstack charms,MERGED,2022-04-13 23:30:57.000000000,2022-04-28 11:56:06.000000000,2022-04-28 11:38:16.000000000,"[{'_account_id': 2874}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 23:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/699b0cf6f55eac3e2dda0e83057a02f2a3c3b043', 'message': 'Add the cinder-three-par to Openstack charms\n\nThis charm implements a 3PAR backend for cinder, acting as\na subordinate charm.\n\nChange-Id: I14c6bd857a09cab07546def009c654738b085c46\nRequired-By: I16075836abd321d53089d123a711c586b7597a5c\n'}, {'number': 2, 'created': '2022-04-22 16:37:22.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2247dcf3586a623eba45c3269a42eef4ef401379', 'message': 'Add the cinder-three-par to Openstack charms\n\nThis charm implements a 3PAR backend for cinder, acting as\na subordinate charm.\n\nChange-Id: I14c6bd857a09cab07546def009c654738b085c46\nRequired-By: I16075836abd321d53089d123a711c586b7597a5c\n'}]",2,837782,2247dcf3586a623eba45c3269a42eef4ef401379,12,3,2,33717,,,0,"Add the cinder-three-par to Openstack charms

This charm implements a 3PAR backend for cinder, acting as
a subordinate charm.

Change-Id: I14c6bd857a09cab07546def009c654738b085c46
Required-By: I16075836abd321d53089d123a711c586b7597a5c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/837782/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,699b0cf6f55eac3e2dda0e83057a02f2a3c3b043,cinder-three-par, - openstack/charm-cinder-three-par,,6,0
openstack%2Ftempest~master~I15b44aff4ab633cf7ab39cbb4fc56a027d29544e,openstack/tempest,master,I15b44aff4ab633cf7ab39cbb4fc56a027d29544e,Fix the integrated-gate-compute job template,MERGED,2022-04-27 22:50:28.000000000,2022-04-28 11:52:33.000000000,2022-04-28 11:49:23.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-27 22:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/06259c6dea0b2b69f52d0842e6353646c33a76ab', 'message': 'Fix the integrated-gate-compute job template\n\nBelow commit changed the integrated-gate-compute job template\nbehaviour for stable branches. This template is used for master\nas well as the stable branches also and we should not change\nstable branches gate while adding the new jobs. centos-8-stream\njob is meant to be run from stable/wallaby to stable/yoga and\nfrom zed cycle onwards centos-9-stream should run,\n\n- https://review.opendev.org/c/openstack/tempest/+/839274/1/zuul.d/integrated-gate.yaml#369\n\nThis commit fixes the template for stable branches and make sure\nnew job centos9-stream is only run from zed onwards.\n\nChange-Id: I15b44aff4ab633cf7ab39cbb4fc56a027d29544e\n'}, {'number': 2, 'created': '2022-04-27 22:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/262ae473b211242ba83955e7d6709ed7c07c280c', 'message': 'Fix the integrated-gate-compute job template\n\nBelow commit changed the integrated-gate-compute job template\nbehaviour for stable branches. This template is used for master\nas well as the stable branches also and we should not change\nstable branches gate while adding the new jobs. centos-8-stream\njob is meant to be run from stable/wallaby to stable/yoga and\nfrom zed cycle onwards centos-9-stream should run,\n\n- https://review.opendev.org/c/openstack/tempest/+/839274/1/zuul.d/integrated-gate.yaml#369\n\nThis commit fixes the template for stable branches and make sure\nnew job centos9-stream is only run from zed onwards.\n\nChange-Id: I15b44aff4ab633cf7ab39cbb4fc56a027d29544e\n'}, {'number': 3, 'created': '2022-04-27 22:55:40.000000000', 'files': ['zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9625f0d364c79f4444c6ac8f7900a3731fbe2d07', 'message': 'Fix the integrated-gate-compute job template\n\nBelow commit changed the integrated-gate-compute job template\nbehaviour for stable branches. This template is used for master\nas well as the stable branches also and we should not change\nstable branches gate while adding the new jobs. centos-8-stream\njob is meant to be run from stable/wallaby to stable/yoga and\nfrom zed cycle onwards centos-9-stream should run,\n\n- https://review.opendev.org/c/openstack/tempest/+/839274/1/zuul.d/integrated-gate.yaml#369\n\nThis commit fixes the template for stable branches and make sure\nnew job centos9-stream is only run from zed onwards.\n\nChange-Id: I15b44aff4ab633cf7ab39cbb4fc56a027d29544e\n'}]",2,839647,9625f0d364c79f4444c6ac8f7900a3731fbe2d07,17,3,3,8556,,,0,"Fix the integrated-gate-compute job template

Below commit changed the integrated-gate-compute job template
behaviour for stable branches. This template is used for master
as well as the stable branches also and we should not change
stable branches gate while adding the new jobs. centos-8-stream
job is meant to be run from stable/wallaby to stable/yoga and
from zed cycle onwards centos-9-stream should run,

- https://review.opendev.org/c/openstack/tempest/+/839274/1/zuul.d/integrated-gate.yaml#369

This commit fixes the template for stable branches and make sure
new job centos9-stream is only run from zed onwards.

Change-Id: I15b44aff4ab633cf7ab39cbb4fc56a027d29544e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/47/839647/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,06259c6dea0b2b69f52d0842e6353646c33a76ab,drop-c8s-testing," # centos-9-stream is supported from yoga release onwards branches: ^(?!stable/(pike|queens|rocky|stein|train|ussuri|victoria|wallaby|xena)).*$ # centos-9-stream is supported from yoga release onwards branches: ^(?!stable/(pike|queens|rocky|stein|train|ussuri|victoria|wallaby|xena)).*$ # NOTE(gmann): This template is used for stable branches also so when we # add/remove jobs here we need to make sure we should not change the # behaviour for stable branches. For example, with branch variant we need # to make sure old job keep running on stable branches and the new one run # only from master(or the branch it was meant to run). # centos-8-stream is tested from wallaby -> yoga branches - tempest-integrated-compute-centos-8-stream branches: ^stable/(wallaby|xena|yoga)).*$ # centos-9-stream is tested from zed release onwards branches: ^(?!stable/(pike|queens|rocky|stein|train|ussuri|victoria|wallaby|xena|yoga)).*$", branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train|ussuri|victoria)).*$,14,1
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I4bacc358cca08a71694c590202066c8565a96f02,openstack/ansible-collections-openstack,stable/1.0.0,I4bacc358cca08a71694c590202066c8565a96f02,Changed our Zuul CI *-octavia job to non-voting,MERGED,2022-04-28 11:17:05.000000000,2022-04-28 11:41:52.000000000,2022-04-28 11:41:52.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-28 11:17:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c83884e5c8a3e80430addc1c3f3e496747aff755', 'message': 'Changed our Zuul CI *-octavia job to non-voting\n\nOur *-octavia jobs pull OpenStack SDK from PyPI and PyPI is still\nserving the 0.x.x series of the SDK because 1.0.0 has not been\nreleased yet. A recent commit bb25330ddc [1][2] broke compatibility\nto older SDK releases prior to 1.0.0 and since then our *-octavia\njob on our master branch is failing.\n\nRef.:\n[1] https://review.opendev.org/c/openstack/ansible-collections-openstack/+/839033\n[2] https://opendev.org/openstack/ansible-collections-openstack/commit/bb25330ddc07d9b433c9f8db7c52baed7020f0cf\n\nChange-Id: I4bacc358cca08a71694c590202066c8565a96f02\n(cherry picked from commit 3ead86904ae5971a9d64b7f12fcd8abdf0cfa88d)\n'}]",0,839735,c83884e5c8a3e80430addc1c3f3e496747aff755,6,2,1,32962,,,0,"Changed our Zuul CI *-octavia job to non-voting

Our *-octavia jobs pull OpenStack SDK from PyPI and PyPI is still
serving the 0.x.x series of the SDK because 1.0.0 has not been
released yet. A recent commit bb25330ddc [1][2] broke compatibility
to older SDK releases prior to 1.0.0 and since then our *-octavia
job on our master branch is failing.

Ref.:
[1] https://review.opendev.org/c/openstack/ansible-collections-openstack/+/839033
[2] https://opendev.org/openstack/ansible-collections-openstack/commit/bb25330ddc07d9b433c9f8db7c52baed7020f0cf

Change-Id: I4bacc358cca08a71694c590202066c8565a96f02
(cherry picked from commit 3ead86904ae5971a9d64b7f12fcd8abdf0cfa88d)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/35/839735/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c83884e5c8a3e80430addc1c3f3e496747aff755,non_voting_octavia_job-stable/1.0.0, voting: false,,1,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I9e8e75e6014b57562da01a260dd76668c51f36f6,openstack/networking-ovn,stable/train,I9e8e75e6014b57562da01a260dd76668c51f36f6,[OVN] Correctly set dns_server in dhcpv4/v6 options,MERGED,2022-04-22 06:50:10.000000000,2022-04-28 11:17:11.000000000,2022-04-28 11:15:37.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-04-22 06:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7689dca9d0d363340b2e94727a7680f156916d7a', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of IPv6 dns nameservers,\nit was getting added to IPv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an IPv6 address)\nis set in the instances.\n\nThis patch filters IPv4/IPv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for IPv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with the IPv4 subnets. Updated\nget_system_dns_resolvers to pick both IPv4/IPv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for IPv4[1].\n\nAdditionally fix some unit tests which were setting IPv4 dns\nnameservers on the IPv6 subnets, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\n[Stable Only] Since Neutron stable policy do not allow bumping\nof minimum version of a requirement in stable releases, so doing\na partial backport by not backporting requirements.txt changes and\nupdated get_system_dns_resolvers to work with older version of\noslo.utils.\n\nCherry-picked from Neutron(Wallaby):\n  https://review.opendev.org/c/openstack/neutron/+/824022\n\nCloses-Bug: #1951816\n\n(manually cherry-picked from 4b89ad64038eb2301730494c31255174e2da5597)\n\nChange-Id: I9e8e75e6014b57562da01a260dd76668c51f36f6\n""}, {'number': 2, 'created': '2022-04-22 14:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5a86e3a009967c99530bf942006541c4a381cf8b', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of IPv6 dns nameservers,\nit was getting added to IPv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an IPv6 address)\nis set in the instances.\n\nThis patch filters IPv4/IPv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for IPv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with the IPv4 subnets. Updated\nget_system_dns_resolvers to pick both IPv4/IPv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for IPv4[1].\n\nAdditionally fix some unit tests which were setting IPv4 dns\nnameservers on the IPv6 subnets, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\n[Stable Only] Since Neutron stable policy do not allow bumping\nof minimum version of a requirement in stable releases, so doing\na partial backport by not backporting requirements.txt changes and\nupdated get_system_dns_resolvers to work with older version of\noslo.utils.\n\nCherry-picked from Neutron(Wallaby):\n  https://review.opendev.org/c/openstack/neutron/+/824022\n\nCloses-Bug: #1951816\n\n(manually cherry-picked from 4b89ad64038eb2301730494c31255174e2da5597)\n\nChange-Id: I9e8e75e6014b57562da01a260dd76668c51f36f6\n""}, {'number': 3, 'created': '2022-04-26 08:05:45.000000000', 'files': ['networking_ovn/common/utils.py', 'networking_ovn/tests/unit/common/test_utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0738afbed419d709e42b644b259989f486026daa', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of IPv6 dns nameservers,\nit was getting added to IPv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an IPv6 address)\nis set in the instances.\n\nThis patch filters IPv4/IPv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for IPv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with the IPv4 subnets. Updated\nget_system_dns_resolvers to pick both IPv4/IPv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for IPv4[1].\n\nAdditionally fix some unit tests which were setting IPv4 dns\nnameservers on the IPv6 subnets, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\n[Stable Only] Since Neutron stable policy do not allow bumping\nof minimum version of a requirement in stable releases, so doing\na partial backport by not backporting requirements.txt changes and\nupdated get_system_dns_resolvers to work with older version of\noslo.utils.\n\nCherry-picked from Neutron(Wallaby):\n  https://review.opendev.org/c/openstack/neutron/+/824022\n\nCloses-Bug: #1951816\n\n(manually cherry-picked from 4b89ad64038eb2301730494c31255174e2da5597)\n\nChange-Id: I9e8e75e6014b57562da01a260dd76668c51f36f6\n""}]",6,838988,0738afbed419d709e42b644b259989f486026daa,21,6,3,16688,,,0,"[OVN] Correctly set dns_server in dhcpv4/v6 options

When ovn/dns_servers consist of IPv6 dns nameservers,
it was getting added to IPv4 dhcp options also, and due to
this an invalid nameserver(last 4 octets of an IPv6 address)
is set in the instances.

This patch filters IPv4/IPv6 dns nameservers and set
dhcpv4/dhcpv6 options accordingly.

Also when dns_nameservers are not set for IPv6 subnets,
get those from ovn/dns_servers config or system nameservers
just like it's done with the IPv4 subnets. Updated
get_system_dns_resolvers to pick both IPv4/IPv6 valid
ips, this also requires bump of oslo.utils minimum version
to 4.8.0 to use strict option for IPv4[1].

Additionally fix some unit tests which were setting IPv4 dns
nameservers on the IPv6 subnets, this is not allowed with api.

[1] https://github.com/openstack/oslo.utils/commit/3288539

[Stable Only] Since Neutron stable policy do not allow bumping
of minimum version of a requirement in stable releases, so doing
a partial backport by not backporting requirements.txt changes and
updated get_system_dns_resolvers to work with older version of
oslo.utils.

Cherry-picked from Neutron(Wallaby):
  https://review.opendev.org/c/openstack/neutron/+/824022

Closes-Bug: #1951816

(manually cherry-picked from 4b89ad64038eb2301730494c31255174e2da5597)

Change-Id: I9e8e75e6014b57562da01a260dd76668c51f36f6
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/88/838988/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/utils.py', 'networking_ovn/tests/unit/common/test_utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py']",3,7689dca9d0d363340b2e94727a7680f156916d7a,bug/1951816," def test_get_ovn_dhcpv4_options_ovn_conf_ip4_ip6_dns(self): ovn_config.cfg.CONF.set_override('dns_servers', '8.8.8.8,2001:db8::8888', group='ovn') subnet = {'id': 'foo-subnet', 'network_id': 'network-id', 'cidr': '10.0.0.0/24', 'ip_version': 4, 'enable_dhcp': True, 'host_routes': [], 'gateway_ip': '10.0.0.1'} network = {'id': 'network-id', 'mtu': 1400} expected_dhcpv4_options = {'cidr': subnet['cidr'], 'external_ids': { 'subnet_id': subnet['id'], ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1'}} expected_dhcpv4_options['options'] = { 'server_id': subnet['gateway_ip'], 'server_mac': '01:02:03:04:05:06', 'lease_time': str(12 * 60 * 60), 'mtu': str(network['mtu']), 'router': subnet['gateway_ip'], 'dns_server': '{8.8.8.8}' } self._test_get_ovn_dhcp_options_helper(subnet, network, expected_dhcpv4_options) def test_get_ovn_dhcpv6_options_ovn_conf_ip4_ip6_dns(self): ovn_config.cfg.CONF.set_override('dns_servers', '8.8.8.8,2001:db8::8888', group='ovn') subnet = {'id': 'foo-subnet', 'network_id': 'network-id', 'cidr': '2001:db8::/64', 'ip_version': 6, 'enable_dhcp': True, 'host_routes': [], 'gateway_ip': '2001:db8::1'} network = {'id': 'network-id', 'mtu': 1400} expected_dhcpv6_options = {'cidr': subnet['cidr'], 'external_ids': { 'subnet_id': subnet['id'], ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1'}} expected_dhcpv6_options['options'] = { 'server_id': '01:02:03:04:05:06', 'dns_server': '{2001:db8::8888}' } self._test_get_ovn_dhcp_options_helper(subnet, network, expected_dhcpv6_options) 'dns_nameservers': ['2001:db8::4444', '2001:db8::8888']} 'dns_server': '{2001:db8::4444, 2001:db8::8888}'}} 'dns_nameservers': ['2001:db8::4444', '2001:db8::8888']} 'dns_server': '{2001:db8::4444, 2001:db8::8888}'}} 'dns_nameservers': ['2001:db8::4444', '2001:db8::8888'], 'dns_server': '{2001:db8::4444, 2001:db8::8888}',"," 'dns_nameservers': ['7.7.7.7', '8.8.8.8']} 'dns_server': '{7.7.7.7, 8.8.8.8}'}} 'dns_nameservers': ['7.7.7.7', '8.8.8.8']} 'dns_server': '{7.7.7.7, 8.8.8.8}'}} 'dns_nameservers': ['7.7.7.7', '8.8.8.8'], 'dns_server': '{7.7.7.7, 8.8.8.8}',",76,14
openstack%2Ftripleo-ansible~master~I9d79df8a8d0eaf77166b296178b9b0622263998d,openstack/tripleo-ansible,master,I9d79df8a8d0eaf77166b296178b9b0622263998d,tripleo_firewall: Allow injecting frontend rules,MERGED,2022-03-02 15:20:59.000000000,2022-04-28 11:17:07.000000000,2022-04-28 11:17:07.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-02 15:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f7d73799261061f14ca1b822d180c34a917a4d8', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces a new tripleo_firewall_frontend_rules variable,\nto define the firewall rules to allow frontend access to haproxy.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 2, 'created': '2022-03-02 16:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b063d9dfa05a13814c29dee8c0e5cd02656f6541', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces a new tripleo_firewall_frontend_rules variable,\nto define the firewall rules to allow frontend access to haproxy.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 3, 'created': '2022-03-02 16:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be822e21ad51264fd74f057ffab47b0cf72a5aa2', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces a new tripleo_firewall_frontend_rules variable,\nto define the firewall rules to allow frontend access to haproxy.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 4, 'created': '2022-03-03 01:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f517d4610b2891bbfbe875c20211b34e18e844af', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces a new tripleo_firewall_frontend_rules variable,\nto define the firewall rules to allow frontend access to haproxy.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 5, 'created': '2022-03-03 06:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd7e1de0e3d049dc7a1bbee6ff6f66433e352c7f', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces a new tripleo_firewall_frontend_rules variable,\nto define the firewall rules to allow frontend access to haproxy.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 6, 'created': '2022-03-03 08:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2de730a1c3f186fab7754208fad5526078cf7101', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces a new tripleo_firewall_frontend_rules variable,\nto define the firewall rules to allow frontend access to haproxy.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 7, 'created': '2022-03-05 15:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6aba325c623255ed4519fbd1c3503cb9a9f61a89', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces a new tripleo_firewall_frontend_rules variable,\nto define the firewall rules to allow frontend access to haproxy.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 8, 'created': '2022-03-05 15:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2bf48757e007e15354c5bc035ab564f238be1527', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces a new tripleo_firewall_frontend_rules variable,\nto define the firewall rules to allow frontend access to haproxy.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 9, 'created': '2022-03-16 14:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e15f252ed8f9f95bc7b31fecf9fa8bf083c9d845', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces new variables to define the firewall rules for\nhaproxy frontend.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 10, 'created': '2022-04-12 14:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/714652d2de0e1b34312f49e53ff609acb4b7cae9', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces new variables to define the firewall rules for\nhaproxy frontend.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 11, 'created': '2022-04-13 15:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b88d1f20e11ff3b81c2a020c9ff2252909f5201', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces new variables to define the firewall rules for\nhaproxy frontend.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 12, 'created': '2022-04-13 16:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd4b1686d7d39a4f2776ca619542d86e7786d56a', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces new variables to define the firewall rules for\nhaproxy frontend.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nThe new variables are used once [1] is merged.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/831549\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}, {'number': 13, 'created': '2022-04-14 01:12:01.000000000', 'files': ['tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_firewall/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2760f5de319c07b233ea6821ef366601e557558', 'message': 'tripleo_firewall: Allow injecting frontend rules\n\nThis change introduces new variables to define the firewall rules for\nhaproxy frontend.\n\nWhen an API service is enabled, we should add proper firewall rule not\nonly in the node where the API service is running, but also in\nthe loadbalancer node where haproxy is running, otherwise the frontend\nport in haproxy is not accessible.\n\nThe new variables are used once [1] is merged.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/831549\n\nRelated-Bug: #1961799\nChange-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d\n'}]",27,831547,f2760f5de319c07b233ea6821ef366601e557558,60,8,13,9816,,,0,"tripleo_firewall: Allow injecting frontend rules

This change introduces new variables to define the firewall rules for
haproxy frontend.

When an API service is enabled, we should add proper firewall rule not
only in the node where the API service is running, but also in
the loadbalancer node where haproxy is running, otherwise the frontend
port in haproxy is not accessible.

The new variables are used once [1] is merged.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/831549

Related-Bug: #1961799
Change-Id: I9d79df8a8d0eaf77166b296178b9b0622263998d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/47/831547/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_firewall/defaults/main.yml']",2,0f7d73799261061f14ca1b822d180c34a917a4d8,bug/1961799,tripleo_firewall_frontend_rules: {} tripleo_firewall_merge_frontend_rules: false ,,19,1
openstack%2Ftripleo-quickstart-extras~master~I0a2b94002f489fd3545b52aed691c2796dd6e7d8,openstack/tripleo-quickstart-extras,master,I0a2b94002f489fd3545b52aed691c2796dd6e7d8,Move the masquerade override to parameter,MERGED,2022-04-25 11:55:16.000000000,2022-04-28 11:17:04.000000000,2022-04-28 11:17:04.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-25 11:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/261ae319c13978c7c74228b2554f637ce32d317e', 'message': 'Move the masquerade override to parameter\n\nUsing the default parameter override allows to get rid of the hieradata\npart, meaning we should be able to get rid of the puppet-firewall part\nfor the masquerade management.\n\nChange-Id: I0a2b94002f489fd3545b52aed691c2796dd6e7d8\n'}, {'number': 2, 'created': '2022-04-25 15:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f1252a6656f64ef30f6ce3d08176584ee3c10897', 'message': 'Move the masquerade override to parameter\n\nUsing the default parameter override allows to get rid of the hieradata\npart, meaning we should be able to get rid of the puppet-firewall part\nfor the masquerade management.\n\nChange-Id: I0a2b94002f489fd3545b52aed691c2796dd6e7d8\n'}, {'number': 3, 'created': '2022-04-26 07:11:21.000000000', 'files': ['roles/undercloud-deploy/templates/undercloud-parameter-defaults.yaml.j2', 'roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/142ad66f328c0ac3bff22eb09dde46592f5ea977', 'message': 'Move the masquerade override to parameter\n\nUsing the default parameter override allows to get rid of the hieradata\npart, meaning we should be able to get rid of the puppet-firewall part\nfor the masquerade management.\n\nChange-Id: I0a2b94002f489fd3545b52aed691c2796dd6e7d8\n'}]",9,839196,142ad66f328c0ac3bff22eb09dde46592f5ea977,30,8,3,28223,,,0,"Move the masquerade override to parameter

Using the default parameter override allows to get rid of the hieradata
part, meaning we should be able to get rid of the puppet-firewall part
for the masquerade management.

Change-Id: I0a2b94002f489fd3545b52aed691c2796dd6e7d8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/96/839196/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/templates/undercloud-parameter-defaults.yaml.j2', 'roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2']",2,261ae319c13978c7c74228b2554f637ce32d317e,masquerade-ansible,," {% if ctlplane_masquerade|default(false) %} # Override masquerading, OVB need's to masquerade the External (10.0.0.0/24) net as well. tripleo::masquerade_networks::masquerade_networks: {% if overcloud_ipv6|bool %}{'{{ undercloud_network_cidr }}': ['{{ undercloud_network_cidr }}'], '{{ undercloud_external_network_cidr_ipv4 }}': ['{{ undercloud_external_network_cidr_ipv4}}']}{% else %}{'{{ undercloud_network_cidr }}': ['{{ undercloud_network_cidr }}'], '{{ undercloud_external_network_cidr }}': ['{{ undercloud_external_network_cidr}}']}{% endif -%} {% endif %} ",5,5
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I5d3b2f71937a0e4ab9a8d49df10744f7d95a7de2,openstack/ansible-collections-openstack,stable/1.0.0,I5d3b2f71937a0e4ab9a8d49df10744f7d95a7de2,Restricted galaxy-importer script to Python 3.6+,MERGED,2022-04-28 08:34:57.000000000,2022-04-28 11:07:54.000000000,2022-04-28 11:07:54.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-28 08:34:57.000000000', 'files': ['tools/check-import.sh'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/655ed21ffa29ab96d017544be02615d061358652', 'message': 'Restricted galaxy-importer script to Python 3.6+\n\nAnsible Galaxy content importer is using format strings [1] which\nare supported since Python 3.6. Our Zuul CI job for OpenStack Queens\nuses Ubuntu 16.04 LTS (Xenial Xerus) as its base image which has\nPython 3.5 only.\n\nRef.:\n[1] https://github.com/ansible/galaxy-importer/blob/b7140d6b3b5e172553788ae9aaa7526f8ff49ea2/galaxy_importer/main.py#L117\n\nChange-Id: I5d3b2f71937a0e4ab9a8d49df10744f7d95a7de2\n(cherry picked from commit 9f60f0f26d4728779974e606e75024cb494d0d55)\n'}]",0,839666,655ed21ffa29ab96d017544be02615d061358652,6,2,1,32962,,,0,"Restricted galaxy-importer script to Python 3.6+

Ansible Galaxy content importer is using format strings [1] which
are supported since Python 3.6. Our Zuul CI job for OpenStack Queens
uses Ubuntu 16.04 LTS (Xenial Xerus) as its base image which has
Python 3.5 only.

Ref.:
[1] https://github.com/ansible/galaxy-importer/blob/b7140d6b3b5e172553788ae9aaa7526f8ff49ea2/galaxy_importer/main.py#L117

Change-Id: I5d3b2f71937a0e4ab9a8d49df10744f7d95a7de2
(cherry picked from commit 9f60f0f26d4728779974e606e75024cb494d0d55)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/66/839666/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-import.sh'],1,655ed21ffa29ab96d017544be02615d061358652,restrict_check_import-stable/1.0.0,"if python -c 'import sys; sys.exit(0 if sys.version_info[0:2] < (3, 6) else 1)'; then echo ""Skipped Ansible Galaxy content importer check because it requires Python 3.6 or later"" 2>&1 exit fi ",,5,0
openstack%2Fkolla-ansible~master~Id2d7ca01baca8e17a9780345e705ffb6cbffd8a7,openstack/kolla-ansible,master,Id2d7ca01baca8e17a9780345e705ffb6cbffd8a7,CI: add binary->source upgrade job,MERGED,2022-04-22 11:05:59.000000000,2022-04-28 10:42:16.000000000,2022-04-28 10:39:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 27339}]","[{'number': 1, 'created': '2022-04-22 11:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9d37343e7675ded54eb0fa073a74fba0514c427', 'message': '[WIP] add binary->source upgrade job\n\nZed dropped binary images so we need to check does migration from binary\nimages works.\n\nDropped all other CI jobs\n\nChange-Id: Id2d7ca01baca8e17a9780345e705ffb6cbffd8a7\n'}, {'number': 2, 'created': '2022-04-22 11:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1df7300c610ab5ad4ab22e93b0018aba20d52c64', 'message': '[WIP] add binary->source upgrade job\n\nZed dropped binary images so we need to check does migration from binary\nimages works.\n\nDropped all other CI jobs\n\nChange-Id: Id2d7ca01baca8e17a9780345e705ffb6cbffd8a7\n'}, {'number': 3, 'created': '2022-04-22 18:43:10.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/552f8aa121d94d5c9d8e54def41f58c96705a9f4', 'message': 'CI: add binary->source upgrade job\n\nZed dropped binary images so we need to check does migration from binary\nimages works.\n\nDropped all other CI jobs\n\nChange-Id: Id2d7ca01baca8e17a9780345e705ffb6cbffd8a7\n'}]",4,839047,552f8aa121d94d5c9d8e54def41f58c96705a9f4,17,4,3,24072,,,0,"CI: add binary->source upgrade job

Zed dropped binary images so we need to check does migration from binary
images works.

Dropped all other CI jobs

Change-Id: Id2d7ca01baca8e17a9780345e705ffb6cbffd8a7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/839047/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,c9d37343e7675ded54eb0fa073a74fba0514c427,, name: kolla-ansible-debian-binary-upgrade parent: kolla-ansible-base nodeset: kolla-ansible-debian-bullseye timeout: 9000 vars: base_distro: debian install_type: binary is_upgrade: yes tls_enabled: true - job:,,12,63
openstack%2Fkolla~master~I793e35ef347c9d44b4e870cd3ca1bd459e557623,openstack/kolla,master,I793e35ef347c9d44b4e870cd3ca1bd459e557623,Bump up Alertmanager version,MERGED,2022-04-26 12:02:42.000000000,2022-04-28 10:42:15.000000000,2022-04-28 10:39:31.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-04-26 12:02:42.000000000', 'files': ['docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'releasenotes/notes/bump-alertmanager-to-0.24-e73778e9d954cf85.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d41c19fbcaacc2d8030110fb72ea0612b5f7ab87', 'message': 'Bump up Alertmanager version\n\nChange-Id: I793e35ef347c9d44b4e870cd3ca1bd459e557623\n'}]",0,839367,d41c19fbcaacc2d8030110fb72ea0612b5f7ab87,9,3,1,32553,,,0,"Bump up Alertmanager version

Change-Id: I793e35ef347c9d44b4e870cd3ca1bd459e557623
",git fetch https://review.opendev.org/openstack/kolla refs/changes/67/839367/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'releasenotes/notes/bump-alertmanager-to-0.24-e73778e9d954cf85.yaml']",2,d41c19fbcaacc2d8030110fb72ea0612b5f7ab87,feature/bump_upstream_alertmanager,--- features: - | Updates Alertmanager version to 0.24.0. ,,5,1
openstack%2Fansible-collections-openstack~master~I4bacc358cca08a71694c590202066c8565a96f02,openstack/ansible-collections-openstack,master,I4bacc358cca08a71694c590202066c8565a96f02,Changed our Zuul CI *-octavia job to non-voting,MERGED,2022-04-28 08:36:16.000000000,2022-04-28 10:40:49.000000000,2022-04-28 10:40:49.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-28 08:36:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3ead86904ae5971a9d64b7f12fcd8abdf0cfa88d', 'message': 'Changed our Zuul CI *-octavia job to non-voting\n\nOur *-octavia jobs pull OpenStack SDK from PyPI and PyPI is still\nserving the 0.x.x series of the SDK because 1.0.0 has not been\nreleased yet. A recent commit bb25330ddc [1][2] broke compatibility\nto older SDK releases prior to 1.0.0 and since then our *-octavia\njob on our master branch is failing.\n\nRef.:\n[1] https://review.opendev.org/c/openstack/ansible-collections-openstack/+/839033\n[2] https://opendev.org/openstack/ansible-collections-openstack/commit/bb25330ddc07d9b433c9f8db7c52baed7020f0cf\n\nChange-Id: I4bacc358cca08a71694c590202066c8565a96f02\n'}]",0,839706,3ead86904ae5971a9d64b7f12fcd8abdf0cfa88d,6,2,1,32962,,,0,"Changed our Zuul CI *-octavia job to non-voting

Our *-octavia jobs pull OpenStack SDK from PyPI and PyPI is still
serving the 0.x.x series of the SDK because 1.0.0 has not been
released yet. A recent commit bb25330ddc [1][2] broke compatibility
to older SDK releases prior to 1.0.0 and since then our *-octavia
job on our master branch is failing.

Ref.:
[1] https://review.opendev.org/c/openstack/ansible-collections-openstack/+/839033
[2] https://opendev.org/openstack/ansible-collections-openstack/commit/bb25330ddc07d9b433c9f8db7c52baed7020f0cf

Change-Id: I4bacc358cca08a71694c590202066c8565a96f02
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/06/839706/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3ead86904ae5971a9d64b7f12fcd8abdf0cfa88d,non_voting_octavia_job, voting: false,,1,0
openstack%2Freleases~master~Ibee7606ac526d4820e239f3a570f8fca68ffa8d1,openstack/releases,master,Ibee7606ac526d4820e239f3a570f8fca68ffa8d1,Add final Victoria releases for Kolla projects,MERGED,2022-04-28 08:21:27.000000000,2022-04-28 10:05:49.000000000,2022-04-28 10:05:49.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-28 08:21:27.000000000', 'files': ['deliverables/victoria/kayobe.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f45766808672b499d1083da618551568fa46b57e', 'message': 'Add final Victoria releases for Kolla projects\n\n* kolla 11.3.0\n* kolla-ansible 11.4.0\n* kayobe 9.4.0\n\nChange-Id: Ibee7606ac526d4820e239f3a570f8fca68ffa8d1\n'}]",3,839703,f45766808672b499d1083da618551568fa46b57e,10,3,1,14826,,,0,"Add final Victoria releases for Kolla projects

* kolla 11.3.0
* kolla-ansible 11.4.0
* kayobe 9.4.0

Change-Id: Ibee7606ac526d4820e239f3a570f8fca68ffa8d1
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/839703/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/kayobe.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml']",3,f45766808672b499d1083da618551568fa46b57e,, - version: 11.3.0 projects: - repo: openstack/kolla hash: fe872a875facdff71a8ffc65929e89b8c67be513,,14,0
openstack%2Freleases~master~I7ed1f5e200a99962fede86ad95e12ac2d8035e35,openstack/releases,master,I7ed1f5e200a99962fede86ad95e12ac2d8035e35,[cinder] Transition Victoria to EM,MERGED,2022-04-14 17:10:09.000000000,2022-04-28 10:04:40.000000000,2022-04-28 10:04:40.000000000,"[{'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 17:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8733c4229b98d621ff128130bcafa066fdde4d58', 'message': '[cinder] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I7ed1f5e200a99962fede86ad95e12ac2d8035e35\n'}, {'number': 2, 'created': '2022-04-14 17:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e347c4794cd9c1763c0201fa6f03090ec7a75038', 'message': '[cinder] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I7ed1f5e200a99962fede86ad95e12ac2d8035e35\n'}, {'number': 3, 'created': '2022-04-26 15:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/20d2f30171e3eac9033d794cc6a004d33410e47d', 'message': '[cinder] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I7ed1f5e200a99962fede86ad95e12ac2d8035e35\n'}, {'number': 4, 'created': '2022-04-26 16:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7b77716e8c898bc15d7feb92604dd226994a4728', 'message': '[cinder] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/839413\nChange-Id: I7ed1f5e200a99962fede86ad95e12ac2d8035e35\n'}, {'number': 5, 'created': '2022-04-26 19:18:59.000000000', 'files': ['deliverables/victoria/os-brick.yaml', 'deliverables/victoria/python-cinderclient.yaml', 'deliverables/victoria/python-brick-cinderclient-ext.yaml', 'deliverables/victoria/cinderlib.yaml', 'deliverables/victoria/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/92f1b3c13f5c68e2e31a1b9680f25b0e4f0ce1ce', 'message': '[cinder] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/839413\nChange-Id: I7ed1f5e200a99962fede86ad95e12ac2d8035e35\n'}]",11,837980,92f1b3c13f5c68e2e31a1b9680f25b0e4f0ce1ce,29,6,5,17685,,,0,"[cinder] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Depends-On: https://review.opendev.org/c/openstack/releases/+/839413
Change-Id: I7ed1f5e200a99962fede86ad95e12ac2d8035e35
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/837980/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/cinder-tempest-plugin.yaml', 'deliverables/victoria/os-brick.yaml', 'deliverables/victoria/python-cinderclient.yaml', 'deliverables/victoria/python-brick-cinderclient-ext.yaml', 'deliverables/victoria/cinderlib.yaml', 'deliverables/victoria/cinder.yaml']",6,8733c4229b98d621ff128130bcafa066fdde4d58,victoria-em, - version: victoria-em projects: - repo: openstack/cinder hash: a6ffb102af7625c53da40358268955b177516aa5,,24,0
openstack%2Fkayobe~stable%2Fyoga~I9c6e261dbac067ca3f9218e6ea81813ddc2f6520,openstack/kayobe,stable/yoga,I9c6e261dbac067ca3f9218e6ea81813ddc2f6520,Bump stackhpc.drac role,MERGED,2022-04-27 21:44:17.000000000,2022-04-28 09:56:45.000000000,2022-04-28 09:55:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-27 21:44:17.000000000', 'files': ['releasenotes/notes/stackhpc-drac-check-mode-8097215f8eca9991.yaml', 'requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a54725cff755192b7500af4469e88aa5e607e8bd', 'message': 'Bump stackhpc.drac role\n\nThis new version fixes the evaluation of check_mode, which is causing\n`kayobe overcloud bios raid configure` to fail.\n\nChange-Id: I9c6e261dbac067ca3f9218e6ea81813ddc2f6520\n(cherry picked from commit 5d6b9714ff3d84afd02d7923ccd5145dd66b9774)\n'}]",0,839651,a54725cff755192b7500af4469e88aa5e607e8bd,8,3,1,15197,,,0,"Bump stackhpc.drac role

This new version fixes the evaluation of check_mode, which is causing
`kayobe overcloud bios raid configure` to fail.

Change-Id: I9c6e261dbac067ca3f9218e6ea81813ddc2f6520
(cherry picked from commit 5d6b9714ff3d84afd02d7923ccd5145dd66b9774)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/51/839651/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/stackhpc-drac-check-mode-8097215f8eca9991.yaml', 'requirements.yml']",2,a54725cff755192b7500af4469e88aa5e607e8bd,stackhpc-drac-bump-stable/yoga, version: 1.1.6, version: 1.1.5,6,1
openstack%2Fansible-collections-openstack~master~I8645bc243436bc3fd0897f034bef1b5e6c0a3339,openstack/ansible-collections-openstack,master,I8645bc243436bc3fd0897f034bef1b5e6c0a3339,DNM testing image info changes,ABANDONED,2022-02-08 12:21:26.000000000,2022-04-28 09:30:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-08 12:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/10d9a17cb0b75596afc551c8d2b3eccffcbc49b4', 'message': 'DNM testing image info changes\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-collections-openstack/+/828158\nChange-Id: I8645bc243436bc3fd0897f034bef1b5e6c0a3339\n'}, {'number': 2, 'created': '2022-02-08 12:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2972c868647df5a80caf5552804bca7e35dd7744', 'message': 'DNM testing image info changes\n\nChange-Id: I8645bc243436bc3fd0897f034bef1b5e6c0a3339\n'}, {'number': 3, 'created': '2022-02-08 12:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5d34cef6a74620ac6b738882d4ffe5607b301fa1', 'message': 'DNM testing image info changes\n\nChange-Id: I8645bc243436bc3fd0897f034bef1b5e6c0a3339\n'}, {'number': 4, 'created': '2022-02-08 13:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/71c1d3a8105837ba25735735bbbad0a8ce02b207', 'message': 'DNM testing image info changes\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-collections-openstack/+/828158\nChange-Id: I8645bc243436bc3fd0897f034bef1b5e6c0a3339\n'}, {'number': 5, 'created': '2022-02-08 13:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6b498263a416ebd74bc01fb9ad089adf53d8948c', 'message': 'DNM testing image info changes\n\nChange-Id: I8645bc243436bc3fd0897f034bef1b5e6c0a3339\n'}, {'number': 6, 'created': '2022-02-08 13:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/252625d571190092b1763c1a61f5b79897bd7d1b', 'message': 'DNM testing image info changes\n\nChange-Id: I8645bc243436bc3fd0897f034bef1b5e6c0a3339\n'}, {'number': 7, 'created': '2022-02-09 21:03:00.000000000', 'files': ['ci/run-collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5fe36179d37a72083246075aed2ef6c2f0f0ac45', 'message': 'DNM testing image info changes\n\nChange-Id: I8645bc243436bc3fd0897f034bef1b5e6c0a3339\n'}]",0,828294,5fe36179d37a72083246075aed2ef6c2f0f0ac45,11,1,7,32458,,,0,"DNM testing image info changes

Change-Id: I8645bc243436bc3fd0897f034bef1b5e6c0a3339
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/94/828294/3 && git format-patch -1 --stdout FETCH_HEAD,['ci/run-collection.yml'],1,10d9a17cb0b75596afc551c8d2b3eccffcbc49b4,,"# - { role: address_scope, tags: address_scope } # - { role: auth, tags: auth } # - { role: client_config, tags: client_config } # - { role: dns_zone_info, tags: dns_zone_info } # - role: object_container # tags: object_container # when: sdk_version is version(0.18, '>=') # - { role: group, tags: group } # - role: dns # tags: dns # when: sdk_version is version(0.28, '>=') # - { role: floating_ip_info, tags: floating_ip_info } - { role: image, tags: image, when: sdk_version is version(0.44, '>=') } # - { role: keypair, tags: keypair } # - { role: keystone_domain, tags: keystone_domain } # - role: keystone_mapping # tags: keystone_mapping # when: sdk_version is version(0.44, '>=') # - role: keystone_idp # tags: keystone_idp # when: sdk_version is version(0.44, '>=') # - role: keystone_federation_protocol # tags: keystone_federation_protocol # when: sdk_version is version(0.44, '>=') # - { role: keystone_role, tags: keystone_role } # - { role: network, tags: network } # - role: neutron_rbac # tags: # - rbac # - neutron_rbac # - { role: nova_flavor, tags: nova_flavor } # - role: nova_services # tags: nova_services # when: sdk_version is version(0.44, '>=') # - { role: object, tags: object } # - { role: port, tags: port } # - { role: project, tags: project } # - role: project_properties # tags: project_properties # when: sdk_version is version(""0.45.01"", '>') # - { role: router, tags: router } # - { role: security_group, tags: security_group } # - { role: server, tags: server } # - { role: subnet, tags: subnet } # - { role: user, tags: user } # - { role: user_group, tags: user_group } # - { role: user_role, tags: user_role } # - { role: volume, tags: volume } # - role: orchestration # tags: orchestrate # when: sdk_version is version(""0.53.0"", '>=') # - role: loadbalancer # tags: loadbalancer # - { role: floating_ip, tags: floating_ip }"," - { role: address_scope, tags: address_scope } - { role: auth, tags: auth } - { role: client_config, tags: client_config } - { role: dns_zone_info, tags: dns_zone_info } - role: object_container tags: object_container when: sdk_version is version(0.18, '>=') - { role: group, tags: group } - role: dns tags: dns when: sdk_version is version(0.28, '>=') - { role: floating_ip_info, tags: floating_ip_info } - { role: image, tags: image } - { role: keypair, tags: keypair } - { role: keystone_domain, tags: keystone_domain } - role: keystone_mapping tags: keystone_mapping when: sdk_version is version(0.44, '>=') - role: keystone_idp tags: keystone_idp when: sdk_version is version(0.44, '>=') - role: keystone_federation_protocol tags: keystone_federation_protocol when: sdk_version is version(0.44, '>=') - { role: keystone_role, tags: keystone_role } - { role: network, tags: network } - role: neutron_rbac tags: - rbac - neutron_rbac - { role: nova_flavor, tags: nova_flavor } - role: nova_services tags: nova_services when: sdk_version is version(0.44, '>=') - { role: object, tags: object } - { role: port, tags: port } - { role: project, tags: project } - role: project_properties tags: project_properties when: sdk_version is version(""0.45.01"", '>') - { role: router, tags: router } - { role: security_group, tags: security_group } - { role: server, tags: server } - { role: subnet, tags: subnet } - { role: user, tags: user } - { role: user_group, tags: user_group } - { role: user_role, tags: user_role } - { role: volume, tags: volume } - role: orchestration tags: orchestrate when: sdk_version is version(""0.53.0"", '>=') - role: loadbalancer tags: loadbalancer - { role: floating_ip, tags: floating_ip }",54,54
openstack%2Foslo.policy~master~I6d02eb4d8f94323a806fab991ba2f1c3bbf71d04,openstack/oslo.policy,master,I6d02eb4d8f94323a806fab991ba2f1c3bbf71d04,make deprecated rule examples explicit,MERGED,2022-02-22 19:20:50.000000000,2022-04-28 09:27:28.000000000,2022-04-25 15:57:53.000000000,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 7973}, {'_account_id': 11292}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-22 19:20:50.000000000', 'files': ['oslo_policy/tests/test_generator.py', 'oslo_policy/tests/test_sphinxpolicygen.py', 'releasenotes/notes/fix-deprecated-rule-handling-c6fe321fce6293a9.yaml', 'oslo_policy/generator.py', 'doc/source/cli/common/generator-opts.rst', 'oslo_policy/sphinxpolicygen.py', 'doc/source/user/sphinxpolicygen.rst'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/b67e3c71a042719a6814621dd1c00c2e1818d2b1', 'message': ""make deprecated rule examples explicit\n\nDeprecated rules can be confusing and downright unfriendly when\nevaluating a generated sample output and seeing legacy rules being\naliased to new rules. Technically this is also invalid and results\nin a broken sample file with overriding behavior.\n\nUnder normal circumstances, this wouldn't be a big deal, but with\nthe Secure RBAC effort, projects also performed some further\ndelineation of RBAC policies instead of performing a 1:1 mapping.\n\nAs a result of the policy enforcement model, a prior deprecated\nrule was required, which meant the prior deprecated rule would\nbe reported multiple times in the output.\n\nSince we don't have an extra flag in the policy-in-code definitions\nof policies, all we can *really* do is both clarify the purpose\nand meaning of the entry, not enable the alias by default in\nsample output (as it is a sample! not an override of code!),\nand provide projects as well as operators with a knob to\nexclude deprecated policy inclusion into examples and sample\noutput.\n\nCloses-Bug: #1945336\nChange-Id: I6d02eb4d8f94323a806fab991ba2f1c3bbf71d04\n""}]",8,830514,b67e3c71a042719a6814621dd1c00c2e1818d2b1,16,8,1,11655,,,0,"make deprecated rule examples explicit

Deprecated rules can be confusing and downright unfriendly when
evaluating a generated sample output and seeing legacy rules being
aliased to new rules. Technically this is also invalid and results
in a broken sample file with overriding behavior.

Under normal circumstances, this wouldn't be a big deal, but with
the Secure RBAC effort, projects also performed some further
delineation of RBAC policies instead of performing a 1:1 mapping.

As a result of the policy enforcement model, a prior deprecated
rule was required, which meant the prior deprecated rule would
be reported multiple times in the output.

Since we don't have an extra flag in the policy-in-code definitions
of policies, all we can *really* do is both clarify the purpose
and meaning of the entry, not enable the alias by default in
sample output (as it is a sample! not an override of code!),
and provide projects as well as operators with a knob to
exclude deprecated policy inclusion into examples and sample
output.

Closes-Bug: #1945336
Change-Id: I6d02eb4d8f94323a806fab991ba2f1c3bbf71d04
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/14/830514/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/tests/test_generator.py', 'oslo_policy/tests/test_sphinxpolicygen.py', 'releasenotes/notes/fix-deprecated-rule-handling-c6fe321fce6293a9.yaml', 'oslo_policy/generator.py', 'doc/source/cli/common/generator-opts.rst', 'oslo_policy/sphinxpolicygen.py', 'doc/source/user/sphinxpolicygen.rst']",7,b67e3c71a042719a6814621dd1c00c2e1818d2b1,,"``exclude_deprecated`` Boolean value, default False, controls if the output should include deprecated policy information or values, as these can be confusing and misleading in some cases. ",,102,25
openstack%2Fkolla-ansible~stable%2Fwallaby~I928090c24f0eb24f8fab9b7412b58e854246fe80,openstack/kolla-ansible,stable/wallaby,I928090c24f0eb24f8fab9b7412b58e854246fe80,[CI] Always use quay.io via infra's mirror,MERGED,2022-04-27 20:31:31.000000000,2022-04-28 09:20:22.000000000,2022-04-28 09:18:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-27 20:31:31.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b07d71c6af6b9b6dbc8e291074abf046fb416e9', 'message': ""[CI] Always use quay.io via infra's mirror\n\nFor Swift, CI was still using DockerHub, directly.\nThe issue with DockerHub itself is that we publish there only\nweekly.\nThe issue with not using infra's mirror is that we waste precious\nresources.\nTime to end that drama.\n\nChange-Id: I928090c24f0eb24f8fab9b7412b58e854246fe80\n(cherry picked from commit 92e8a624064da229f5124c23e27363a9f4c60e97)\n""}]",0,839650,7b07d71c6af6b9b6dbc8e291074abf046fb416e9,9,3,1,30491,,,0,"[CI] Always use quay.io via infra's mirror

For Swift, CI was still using DockerHub, directly.
The issue with DockerHub itself is that we publish there only
weekly.
The issue with not using infra's mirror is that we waste precious
resources.
Time to end that drama.

Change-Id: I928090c24f0eb24f8fab9b7412b58e854246fe80
(cherry picked from commit 92e8a624064da229f5124c23e27363a9f4c60e97)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/839650/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,7b07d71c6af6b9b6dbc8e291074abf046fb416e9,ci-always-use-quay.io-stable/yoga-stable/xena-stable/wallaby," docker_image_prefix: ""{{ 'primary:4000/lokolla/' if need_build_image else '{{ zuul_site_mirror_fqdn }}:4447/openstack.kolla/' }}"""," docker_image_prefix: ""{{ 'primary:4000/lokolla/' if need_build_image else 'kolla/' }}""",1,1
openstack%2Fkolla-ansible~stable%2Fxena~I928090c24f0eb24f8fab9b7412b58e854246fe80,openstack/kolla-ansible,stable/xena,I928090c24f0eb24f8fab9b7412b58e854246fe80,[CI] Always use quay.io via infra's mirror,MERGED,2022-04-27 20:31:18.000000000,2022-04-28 09:20:20.000000000,2022-04-28 09:18:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-27 20:31:18.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/91fd18b2b361b8fd6f9e346707db9173c338aea8', 'message': ""[CI] Always use quay.io via infra's mirror\n\nFor Swift, CI was still using DockerHub, directly.\nThe issue with DockerHub itself is that we publish there only\nweekly.\nThe issue with not using infra's mirror is that we waste precious\nresources.\nTime to end that drama.\n\nChange-Id: I928090c24f0eb24f8fab9b7412b58e854246fe80\n(cherry picked from commit 92e8a624064da229f5124c23e27363a9f4c60e97)\n""}]",0,839549,91fd18b2b361b8fd6f9e346707db9173c338aea8,9,3,1,30491,,,0,"[CI] Always use quay.io via infra's mirror

For Swift, CI was still using DockerHub, directly.
The issue with DockerHub itself is that we publish there only
weekly.
The issue with not using infra's mirror is that we waste precious
resources.
Time to end that drama.

Change-Id: I928090c24f0eb24f8fab9b7412b58e854246fe80
(cherry picked from commit 92e8a624064da229f5124c23e27363a9f4c60e97)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/839549/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,91fd18b2b361b8fd6f9e346707db9173c338aea8,ci-always-use-quay.io-stable/yoga-stable/xena," docker_image_prefix: ""{{ 'primary:4000/lokolla/' if need_build_image else '{{ zuul_site_mirror_fqdn }}:4447/openstack.kolla/' }}"""," docker_image_prefix: ""{{ 'primary:4000/lokolla/' if need_build_image else 'kolla/' }}""",1,1
openstack%2Fmagnum~master~I8c0ffd32f302fa06db420a183e8eed3e8640eddb,openstack/magnum,master,I8c0ffd32f302fa06db420a183e8eed3e8640eddb,Add support for choosing Octavia provider,ABANDONED,2020-11-27 11:19:43.000000000,2022-04-28 09:12:15.000000000,,"[{'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-11-27 11:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bfe4b302f925b629d67ea9c2e36f5f902ac51a19', 'message': 'Add support for choosing Octavia provider\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 2, 'created': '2020-11-27 11:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4f2991348e0c090fa67abe5e88686a18b49a4486', 'message': 'Add support for choosing Octavia provider\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 3, 'created': '2020-11-27 12:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f941e096c1de690ac0310b99cd5433481cc5d7e1', 'message': 'Add support for choosing Octavia provider\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 4, 'created': '2020-12-17 10:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a2075b4ab18973263838efd999cd6e30975df8d4', 'message': 'Add support for choosing Octavia provider\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 5, 'created': '2021-04-07 12:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d6bdb5bfc2457b2bd64f1cb1409151c8d93aaad4', 'message': 'Add support for choosing Octavia provider\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 6, 'created': '2021-04-07 13:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e07ac271a1dc31061e56c5776eda61bbbd2980dc', 'message': 'Add support for choosing Octavia provider\n\nStory: 2008805\nTask: 42225\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 7, 'created': '2021-04-07 16:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0e02eac3cbc3d2c170bac6f1ae8e3f3639cfa881', 'message': 'Add support for choosing Octavia provider\n\nStory: 2008805\nTask: 42225\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 8, 'created': '2021-04-09 09:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/548f8cff7210e1c2da18c89acf2a76e0071a8b6f', 'message': 'Add support for choosing Octavia provider\n\nStory: 2008805\nTask: 42225\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 9, 'created': '2021-04-09 09:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a58262e4cc4a4355bb63a1de74129bfe6aac73aa', 'message': 'Add support for choosing Octavia provider\n\nStory: 2008805\nTask: 42225\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 10, 'created': '2021-04-09 09:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7fe3c7e9c6e591bac26f44c73014d2b606e4bda9', 'message': 'Add support for choosing Octavia provider\n\nStory: 2008805\nTask: 42225\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 11, 'created': '2021-04-09 10:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2cc5deec0bc74b9a9c47d081d88de7f662ac80bd', 'message': 'Add support for choosing Octavia provider\n\nStory: 2008805\nTask: 42225\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 12, 'created': '2021-04-09 11:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ce074bd1b2825b3f857311e6ec7e218b6beba515', 'message': 'Add support for choosing Octavia provider\n\nStory: 2008805\nTask: 42225\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 13, 'created': '2021-04-09 11:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f11624a5a5e82088e6d0b388c96f59c643eda449', 'message': 'Add support for choosing Octavia provider\n\nStory: 2008805\nTask: 42225\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 14, 'created': '2021-04-14 11:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bf32b6ddff7a8e25b62f06c30f9e919402b655c3', 'message': 'Add support for choosing Octavia provider\n\nStory: 2008805\nTask: 42225\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 15, 'created': '2021-04-14 11:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a93c660141d70ced647d4b79560109a5c3d65400', 'message': 'Add support for choosing Octavia provider\n\nStory: 2008805\nTask: 42225\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}, {'number': 16, 'created': '2022-01-31 09:46:05.000000000', 'files': ['doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/lb_api.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'magnum/drivers/common/templates/lb_etcd.yaml', 'releasenotes/notes/octavia-provider-3984ee3bf381ced1.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/026dca77ea08fc49cb66d53bea7c669b89594157', 'message': 'Add support for choosing Octavia provider\n\nStory: 2008805\nTask: 42225\n\nChange-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb\n'}]",32,764444,026dca77ea08fc49cb66d53bea7c669b89594157,45,5,16,22629,,,0,"Add support for choosing Octavia provider

Story: 2008805
Task: 42225

Change-Id: I8c0ffd32f302fa06db420a183e8eed3e8640eddb
",git fetch https://review.opendev.org/openstack/magnum refs/changes/44/764444/16 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-octavia.sh', 'magnum/drivers/heat/k8s_template_def.py', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/common/templates/lb_api.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/lb_etcd.yaml']",9,bfe4b302f925b629d67ea9c2e36f5f902ac51a19,ovn_provider, octavia_provider: type: string default: amphora description: Octavia provider to use for load balancer provider: {get_param: octavia_provider},,35,3
openstack%2Fmagnum~master~Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1,openstack/magnum,master,Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1,Add support for setting octavia_lb_algorithm,ABANDONED,2020-12-03 10:40:08.000000000,2022-04-28 09:12:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 34331}]","[{'number': 1, 'created': '2020-12-03 10:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3506c330443fe1bb0cfc750c7eb0debf86eb8f0a', 'message': 'Add support for setting lb_algorithm\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 2, 'created': '2021-04-07 12:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/25ceecafe82f05c6dd3e0c937d8bce89ce7d4ccc', 'message': 'Add support for setting lb_algorithm\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 3, 'created': '2021-04-09 09:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/22e38df2448d42f0e20f646fc27d671ce7966630', 'message': 'Add support for setting lb_algorithm\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 4, 'created': '2021-04-09 09:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4d6a9106efc6b0296d406471dc3585236c07e39f', 'message': 'Add support for setting lb_algorithm\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 5, 'created': '2021-04-09 09:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/73bcacd86f0133ddc8031042e127957c97433fcb', 'message': 'Add support for setting octavia_lb_algorithm\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 6, 'created': '2021-04-09 11:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/28a21e1beb27c60ada9979c65822fe8b89a882b0', 'message': 'Add support for setting octavia_lb_algorithm\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 7, 'created': '2021-04-09 11:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/28bc4c0cb4d3259fbc1d10b2a7c6a2c6aa405597', 'message': 'Add support for setting octavia_lb_algorithm\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 8, 'created': '2021-04-09 11:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b92d45677b6eb6311dada15e78f679a616eee541', 'message': 'Add support for setting octavia_lb_algorithm\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 9, 'created': '2021-04-09 11:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6e8b0c9ceb20fe213259e98786b5eb8101af3f2d', 'message': 'Add support for setting octavia_lb_algorithm\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 10, 'created': '2021-04-09 11:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0ff81f4c092abf46531701198228267eadcfe91e', 'message': 'Add support for setting octavia_lb_algorithm\n\nStory: 2008805\nTask: 42227\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 11, 'created': '2021-04-09 14:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6c087d9cc829cc650353cdcb5925d451e8531312', 'message': 'Add support for setting octavia_lb_algorithm\n\nStory: 2008805\nTask: 42227\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 12, 'created': '2021-04-14 09:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/25de9def17e3bfb523d968ac60bb60f5ef4afca5', 'message': 'Add support for setting octavia_lb_algorithm\n\nStory: 2008805\nTask: 42227\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 13, 'created': '2021-04-15 11:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/de8c6b2b18209fdcaab7254189595e738e6f52e4', 'message': 'Add support for setting octavia_lb_algorithm\n\nStory: 2008805\nTask: 42227\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 14, 'created': '2022-01-31 09:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f6871b4e32d6dac4b722521ace5756328ab0b69d', 'message': 'Add support for setting octavia_lb_algorithm\n\nStory: 2008805\nTask: 42227\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 15, 'created': '2022-01-31 09:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7a447b841d92cbe3986d9acab805fea6102655b4', 'message': 'Add support for setting octavia_lb_algorithm\n\nStory: 2008805\nTask: 42227\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 16, 'created': '2022-02-01 10:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9ce667c2c4c5e5b81554ec0634d7b1eff09bbbc5', 'message': 'Add support for setting octavia_lb_algorithm\n\nStory: 2008805\nTask: 42227\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}, {'number': 17, 'created': '2022-02-03 12:36:19.000000000', 'files': ['doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/lb_api.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'releasenotes/notes/lb-algorithm-36a15eb21fd5c4b1.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'magnum/drivers/common/templates/lb_etcd.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/90ea113a55151394f6cd7d50dfb6da4c0e69e8c3', 'message': 'Add support for setting octavia_lb_algorithm\n\nStory: 2008805\nTask: 42227\n\nChange-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1\n'}]",4,765309,90ea113a55151394f6cd7d50dfb6da4c0e69e8c3,44,3,17,22629,,,0,"Add support for setting octavia_lb_algorithm

Story: 2008805
Task: 42227

Change-Id: Ic9932901ed9db4130f9174e89ebf71a61fd1f4b1
",git fetch https://review.opendev.org/openstack/magnum refs/changes/09/765309/12 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_template_def.py', 'releasenotes/notes/lb-algorithm-36a15eb21fd5c4b1.yaml', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/common/templates/lb_api.yaml', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/lb_etcd.yaml']",6,3506c330443fe1bb0cfc750c7eb0debf86eb8f0a,ovn_provider, lb_algorithm: type: string default: ROUND_ROBIN lb_algorithm: {get_param: lb_algorithm}, lb_algorithm: ROUND_ROBIN,29,5
openstack%2Fmagnum~master~Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf,openstack/magnum,master,Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf,Add support for disabling Octavia healthcheck,ABANDONED,2020-12-15 11:56:28.000000000,2022-04-28 09:11:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 34331}]","[{'number': 1, 'created': '2020-12-15 11:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2a121b445d29c6af670329c88a044a8ed6ebd101', 'message': 'Add support for disabling Octavia healthcheck\n\nChange-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf\n'}, {'number': 2, 'created': '2021-04-07 12:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/04950d4a53541052b930b7f7da4b499e2bed9072', 'message': 'Add support for disabling Octavia healthcheck\n\nChange-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf\n'}, {'number': 3, 'created': '2021-04-09 14:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a8214b81ee3adae79bf0871b26beab69850bc501', 'message': 'Add support for disabling Octavia healthcheck\n\nStory: 2008805\nTask: 42226\n\nChange-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf\n'}, {'number': 4, 'created': '2021-04-14 09:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ca8e0531388ad60d5b65817e88699c948d938e64', 'message': 'Add support for disabling Octavia healthcheck\n\nStory: 2008805\nTask: 42226\n\nChange-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf\n'}, {'number': 5, 'created': '2021-04-14 09:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cd1ca2e3e48edccc594347cb6b4df064b584aeab', 'message': 'Add support for disabling Octavia healthcheck\n\nStory: 2008805\nTask: 42226\n\nChange-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf\n'}, {'number': 6, 'created': '2022-01-31 09:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2467fff3055230a39a6e9972dc591e21cf8ff9a1', 'message': 'Add support for disabling Octavia healthcheck\n\nStory: 2008805\nTask: 42226\n\nChange-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf\n'}, {'number': 7, 'created': '2022-02-01 11:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bcb8336f5f6f49a70bfa45fc0db9c589fbd54e8a', 'message': 'Add support for disabling Octavia healthcheck\n\nStory: 2008805\nTask: 42226\n\nChange-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf\n'}, {'number': 8, 'created': '2022-02-01 11:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2e2520d68a7e022d31159bec35d83c97ebf743c9', 'message': 'Add support for disabling Octavia healthcheck\n\nStory: 2008805\nTask: 42226\n\nChange-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf\n'}, {'number': 9, 'created': '2022-02-03 12:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fb1fb343f7d1beaec5da9b627ec3622a402cea1a', 'message': 'Add support for disabling Octavia healthcheck\n\nStory: 2008805\nTask: 42226\n\nChange-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf\n'}, {'number': 10, 'created': '2022-02-03 12:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/175b16bf43c07dc80dbc1d9ba35d6eab26a82c33', 'message': 'Add support for disabling Octavia healthcheck\n\nStory: 2008805\nTask: 42226\n\nChange-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf\n'}, {'number': 11, 'created': '2022-02-14 10:07:19.000000000', 'files': ['doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/lb_api.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'magnum/drivers/common/templates/lb_etcd.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e51dfbac65be78af7eb1f50c20822aa93b14bcf2', 'message': 'Add support for disabling Octavia healthcheck\n\nStory: 2008805\nTask: 42226\n\nChange-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf\n'}]",1,767119,e51dfbac65be78af7eb1f50c20822aa93b14bcf2,28,3,11,22629,,,0,"Add support for disabling Octavia healthcheck

Story: 2008805
Task: 42226

Change-Id: Ibd7f4aa06cdd576f952cee79fc7eb9db9f46dcaf
",git fetch https://review.opendev.org/openstack/magnum refs/changes/19/767119/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/lb_api.yaml', 'magnum/drivers/common/templates/lb_etcd.yaml']",4,2a121b445d29c6af670329c88a044a8ed6ebd101,ovn_provider, healthcheck_enabled: equals: - get_param: lb_healthcheck - [] ,,22,1
openstack%2Fkolla-ansible~stable%2Fyoga~I928090c24f0eb24f8fab9b7412b58e854246fe80,openstack/kolla-ansible,stable/yoga,I928090c24f0eb24f8fab9b7412b58e854246fe80,[CI] Always use quay.io via infra's mirror,MERGED,2022-04-27 20:31:05.000000000,2022-04-28 09:09:11.000000000,2022-04-28 09:07:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-27 20:31:05.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9421b492f97ec93ce21847cdf30098934505aad9', 'message': ""[CI] Always use quay.io via infra's mirror\n\nFor Swift, CI was still using DockerHub, directly.\nThe issue with DockerHub itself is that we publish there only\nweekly.\nThe issue with not using infra's mirror is that we waste precious\nresources.\nTime to end that drama.\n\nChange-Id: I928090c24f0eb24f8fab9b7412b58e854246fe80\n(cherry picked from commit 92e8a624064da229f5124c23e27363a9f4c60e97)\n""}]",0,839548,9421b492f97ec93ce21847cdf30098934505aad9,9,3,1,30491,,,0,"[CI] Always use quay.io via infra's mirror

For Swift, CI was still using DockerHub, directly.
The issue with DockerHub itself is that we publish there only
weekly.
The issue with not using infra's mirror is that we waste precious
resources.
Time to end that drama.

Change-Id: I928090c24f0eb24f8fab9b7412b58e854246fe80
(cherry picked from commit 92e8a624064da229f5124c23e27363a9f4c60e97)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/839548/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,9421b492f97ec93ce21847cdf30098934505aad9,ci-always-use-quay.io-stable/yoga," docker_image_prefix: ""{{ 'primary:4000/lokolla/' if need_build_image else '{{ zuul_site_mirror_fqdn }}:4447/openstack.kolla/' }}"""," docker_image_prefix: ""{{ 'primary:4000/lokolla/' if need_build_image else 'kolla/' }}""",1,1
openstack%2Fskyline-console~master~I1450e963ac7b7afe9add94d18d914aedb8f715b5,openstack/skyline-console,master,I1450e963ac7b7afe9add94d18d914aedb8f715b5,fix: fix download floating IP all data error,MERGED,2022-04-28 05:17:59.000000000,2022-04-28 09:07:39.000000000,2022-04-28 09:07:39.000000000,"[{'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-04-28 05:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4f29d0c0bc889bb56ed09edfcfc9f301f8bb576b', 'message': 'fix: fix download floating IP all data error\n\nfix download floating IP all data error\n\nCloses-bug: #131788\nChange-Id: I1450e963ac7b7afe9add94d18d914aedb8f715b5\n'}, {'number': 2, 'created': '2022-04-28 05:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/94c4df8270fb7d484b747a7bf04afa246d5d5c0b', 'message': 'fix: fix download floating IP all data error\n\nfix download floating IP all data error\n\nCloses-bug: #1957862\nChange-Id: I1450e963ac7b7afe9add94d18d914aedb8f715b5\n'}, {'number': 3, 'created': '2022-04-28 05:38:30.000000000', 'files': ['src/pages/network/containers/FloatingIp/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d69bbacca74826caea7be0bff00018bfb4f5bc78', 'message': 'fix: fix download floating IP all data error\n\nfix download floating IP all data error\n\nCloses-Bug: #1957862\nChange-Id: I1450e963ac7b7afe9add94d18d914aedb8f715b5\n'}]",0,839682,d69bbacca74826caea7be0bff00018bfb4f5bc78,8,3,3,34718,,,0,"fix: fix download floating IP all data error

fix download floating IP all data error

Closes-Bug: #1957862
Change-Id: I1450e963ac7b7afe9add94d18d914aedb8f715b5
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/82/839682/2 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/network/containers/FloatingIp/index.jsx'],1,4f29d0c0bc889bb56ed09edfcfc9f301f8bb576b,, record.port_forwardings = record.port_forwardings || [];,,1,0
openstack%2Fvalidations-libs~master~I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93,openstack/validations-libs,master,I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93,Debbuging guidelines for validations-libs,ABANDONED,2021-06-21 11:58:39.000000000,2022-04-28 09:02:59.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-21 11:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/04df8177fe77cd3a67f071071109ea4d47caef75', 'message': 'Debbuging guidelines for validations-libs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93\n'}, {'number': 2, 'created': '2021-06-22 09:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4df302d7b92145e10893ebffbdccd3cba5e9a7cb', 'message': 'Debbuging guidelines for validations-libs\n\nThe project documentation now contains a short guide to\nissue reporting and pre diagnosis.\n\nShort checklist is provided to help with data collection\nbefore the report is submitted.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93\n'}, {'number': 3, 'created': '2021-06-23 07:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b2e7a44220a973f347694f29324ca77bb7cb75fe', 'message': 'Debbuging guidelines for validations-libs\n\nThe project documentation now contains a short guide to\nissue reporting and pre diagnosis.\n\nShort checklist is provided to help with data collection\nbefore the report is submitted.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93\n'}, {'number': 4, 'created': '2021-06-23 15:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e3e7a2ccc68f6261822ee5e5950269c8e1ea9057', 'message': 'Debbuging guidelines for validations-libs\n\nThe project documentation now contains a short guide to\nissue reporting and pre diagnosis.\n\nShort checklist is provided to help with data collection\nbefore the report is submitted.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93\n'}, {'number': 5, 'created': '2021-07-27 15:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/45e40bbc910fcb88a342e16d85323281abd9333d', 'message': 'Debbuging guidelines for validations-libs\n\nThe project documentation now contains a short guide to\nissue reporting and pre diagnosis.\n\nShort checklist is provided to help with data collection\nbefore the report is submitted.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93\n'}, {'number': 6, 'created': '2021-07-27 15:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/81d912ab6c3898a49b0938f3400731bb71bb4c97', 'message': 'Debbuging guidelines for validations-libs\n\nThe project documentation now contains a short guide to\nissue reporting and pre diagnosis.\n\nShort checklist is provided to help with data collection\nbefore the report is submitted.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93\n'}, {'number': 7, 'created': '2021-08-04 15:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0999476e6d3caf0290a2ebf0e100502ed6cc1d9f', 'message': 'Debbuging guidelines for validations-libs\n\nThe project documentation now contains a short guide to\nissue reporting and pre diagnosis.\n\nShort checklist is provided to help with data collection\nbefore the report is submitted.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93\n'}, {'number': 8, 'created': '2021-08-05 08:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/dbc645f7e669eb392ed70208b0bb6d73a6fad4c5', 'message': 'Debbuging guidelines for validations-libs\n\nThe project documentation now contains a short guide to\nissue reporting and pre diagnosis.\n\nShort checklist is provided to help with data collection\nbefore the report is submitted.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93\n'}, {'number': 9, 'created': '2021-09-01 08:04:25.000000000', 'files': ['doc/source/contributing.rst', 'doc/source/index.rst', 'doc/source/debugging.rst'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e940652a8ae302c81a3dce437086973798afdd7f', 'message': 'Debbuging guidelines for validations-libs\n\nThe project documentation now contains a short guide to\nissue reporting and pre diagnosis.\n\nShort checklist is provided to help with data collection\nbefore the report is submitted.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93\n'}]",41,797284,e940652a8ae302c81a3dce437086973798afdd7f,32,10,9,32926,,,0,"Debbuging guidelines for validations-libs

The project documentation now contains a short guide to
issue reporting and pre diagnosis.

Short checklist is provided to help with data collection
before the report is submitted.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I0f1b28d69bb9d197ecc1ad63222bb74cb2c97c93
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/84/797284/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/debugging.rst']",2,04df8177fe77cd3a67f071071109ea4d47caef75,docs/debug,".. debugging: ========= Debugging ========= Validations Framework needs a lot of moving parts to function properly. It is only given that sometimes things can go wrong. When that happens, you can save a lot of time by following several simple guidelines to debugging outlined bellow. Data collection --------------- No matter what happened, it's not going to get fixed if nobody knows what it actually was. Therefore it is paramount that data collected about the issue are both accurate and comprehensive. It is especially important to collect information about the VF itself. * Note the system configuration. Information about VF packages, validation target and user permissions should be given special attention. As should be information about python interpreter used. * Record presence and permissions of the '/var/log/validations' directory. * Record presence and permissions of the '/usr/share/ansible/validation-playbooks' directory. * Record any output of the commands run. Up to and including the point when the issue appeared. * Rerun the command with the same paramaters. Note the output. * Rerun the command with `--debug` parameter, while keeping the others unchanged. Note the output. * Rerun the command in it's most basic form. That means no arguments, except for the bare minimum. And note the output. Report submission ----------------- We welcome all who come to our IRC channel. Whether they want to compliment us, or ask for help. Nevertheless, when it comes to more complex issues, it still pays to write a bug report. If the issue is in upstream build of our code, you should post the problem, along with all information already collected, to the Launchpad. Downstream bugs, on the other hand, are swallowed by bugzilla. * Bugs - Upstream: https://bugs.launchpad.net/tripleo/+bugs?field.tag=validations * Bugs - Downstream: https://bugzilla.redhat.com/buglist.cgi?component=validations-libs&product=Red%20Hat%20OpenStack It always pays to recheck the information you are putting in the report. Anyone can get lost in logs, and it's no shame to admit it. ",,60,0
openstack%2Fpython-tripleoclient~master~I7b8900857da333318ad6eeab5d4eaefeb43e111a,openstack/python-tripleoclient,master,I7b8900857da333318ad6eeab5d4eaefeb43e111a,"Revert ""Setting default inventory path for VF interface with ooo client.""",MERGED,2022-04-26 13:10:49.000000000,2022-04-28 08:49:38.000000000,2022-04-28 08:48:16.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-26 13:10:49.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea8795d00572dd613f38e91e2285c9b41cba4885', 'message': 'Revert ""Setting default inventory path for VF interface with ooo client.""\n\nThis reverts commit c42ee30017b268d46dd0e212a91986bda4d9c356.\nCloses-Bug: #1970387\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7b8900857da333318ad6eeab5d4eaefeb43e111a\n'}]",0,839376,ea8795d00572dd613f38e91e2285c9b41cba4885,8,5,1,32926,,,0,"Revert ""Setting default inventory path for VF interface with ooo client.""

This reverts commit c42ee30017b268d46dd0e212a91986bda4d9c356.
Closes-Bug: #1970387

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7b8900857da333318ad6eeab5d4eaefeb43e111a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/76/839376/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,ea8795d00572dd613f38e91e2285c9b41cba4885,, default = {'validation_log_dir': constants.VALIDATIONS_LOG_BASEDIR},"import os default = { 'validation_log_dir': constants.VALIDATIONS_LOG_BASEDIR, 'inventory': os.path.join( parser.output_dir, constants.TRIPLEO_STATIC_INVENTORY)}",1,7
openstack%2Fopenstack-ansible-openstack_hosts~master~I0abcce4c31d16b55fc1b8dcd70c9d137e273498a,openstack/openstack-ansible-openstack_hosts,master,I0abcce4c31d16b55fc1b8dcd70c9d137e273498a,Do not install UCA repository for ubuntu 22.04,MERGED,2022-04-21 07:11:05.000000000,2022-04-28 08:37:10.000000000,2022-04-28 08:35:15.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-21 07:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/620009fb081251cddcdc5941185a49f3b7e00a42', 'message': 'Do not install UCA repository for ubuntu 22.04\n\nThis repository does not yet exist for the latest ubuntu release.\n\nChange-Id: I0abcce4c31d16b55fc1b8dcd70c9d137e273498a\n'}, {'number': 2, 'created': '2022-04-21 12:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/c654c6a7942207451e87237a1b6e8a923b9f06f2', 'message': 'Do not install UCA repository for ubuntu 22.04\n\nThis repository does not yet exist for the latest ubuntu release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762\nChange-Id: I0abcce4c31d16b55fc1b8dcd70c9d137e273498a\n'}, {'number': 3, 'created': '2022-04-27 10:38:56.000000000', 'files': ['vars/ubuntu-22.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/5a352aaee6cfd09e88bcde8807942b41cde803ef', 'message': 'Do not install UCA repository for ubuntu 22.04\n\nThis repository does not yet exist for the latest ubuntu release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762\nChange-Id: I0abcce4c31d16b55fc1b8dcd70c9d137e273498a\n'}]",0,838832,5a352aaee6cfd09e88bcde8807942b41cde803ef,16,4,3,25023,,,0,"Do not install UCA repository for ubuntu 22.04

This repository does not yet exist for the latest ubuntu release.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/838762
Change-Id: I0abcce4c31d16b55fc1b8dcd70c9d137e273498a
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/32/838832/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-22.04.yml'],1,620009fb081251cddcdc5941185a49f3b7e00a42,osa-jammy,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ## Defined required kernel openstack_host_required_kernel: 5.4.0-0-generic openstack_host_sysstat_file: /etc/default/sysstat openstack_host_sysstat_cron_file: /etc/cron.d/sysstat openstack_host_cron_template: sysstat.cron.debian.j2 openstack_host_module_file: /etc/modules ## Kernel modules loaded on hosts openstack_host_kernel_modules: - name: 8021q - name: br_netfilter - name: dm_multipath - name: dm_snapshot - name: ebtables - name: ip6table_filter - name: ip6_tables - name: ip_tables - name: xt_MASQUERADE - name: ipt_REJECT - name: iptable_filter - name: iptable_mangle - name: iptable_nat - name: ip_vs - name: iscsi_tcp - name: nbd - name: nf_conntrack - name: nf_defrag_ipv4 - name: nf_nat - name: vhost_net - name: x_tables ## Base packages _openstack_host_distro_packages: - apt-utils ## Bare metal base packages _openstack_host_metal_distro_packages: - apparmor-utils - apt-transport-https - bridge-utils - cgroup-lite - curl - dmeventd - dstat - ebtables - htop - iptables - irqbalance - libkmod2 - lvm2 - rsync - rsyslog - software-properties-common - sysstat - time - vlan - wget _package_repos_keys: [] ## example: # - id: # file: # keyserver: # url: # state: _package_list: - name: ubuntu-cloud-keyring state: ""{{ openstack_hosts_package_state }}"" - name: ca-certificates state: latest # NOTE(jrosser) there is no UCA repository for Jammy, so disable installation of UCA until one exists _package_repos: {} # - repo: ""deb {{ apt_repo_url | default('http://ubuntu-cloud.archive.canonical.com/ubuntu') }} {{ ansible_facts['lsb']['codename'] }}-updates/{{ openstack_distrib_code_name | lower }} main"" # state: present # filename: ""uca"" _openstack_ca_bundle_path: /etc/ssl/certs/ca-certificates.crt ",,94,0
openstack%2Fansible-collections-openstack~master~I5d3b2f71937a0e4ab9a8d49df10744f7d95a7de2,openstack/ansible-collections-openstack,master,I5d3b2f71937a0e4ab9a8d49df10744f7d95a7de2,Restricted galaxy-importer script to Python 3.6+,MERGED,2022-04-28 06:37:10.000000000,2022-04-28 08:34:32.000000000,2022-04-28 08:34:32.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-28 06:37:10.000000000', 'files': ['tools/check-import.sh'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9f60f0f26d4728779974e606e75024cb494d0d55', 'message': 'Restricted galaxy-importer script to Python 3.6+\n\nAnsible Galaxy content importer is using format strings [1] which\nare supported since Python 3.6. Our Zuul CI job for OpenStack Queens\nuses Ubuntu 16.04 LTS (Xenial Xerus) as its base image which has\nPython 3.5 only.\n\nRef.:\n[1] https://github.com/ansible/galaxy-importer/blob/b7140d6b3b5e172553788ae9aaa7526f8ff49ea2/galaxy_importer/main.py#L117\n\nChange-Id: I5d3b2f71937a0e4ab9a8d49df10744f7d95a7de2\n'}]",0,839686,9f60f0f26d4728779974e606e75024cb494d0d55,8,4,1,32962,,,0,"Restricted galaxy-importer script to Python 3.6+

Ansible Galaxy content importer is using format strings [1] which
are supported since Python 3.6. Our Zuul CI job for OpenStack Queens
uses Ubuntu 16.04 LTS (Xenial Xerus) as its base image which has
Python 3.5 only.

Ref.:
[1] https://github.com/ansible/galaxy-importer/blob/b7140d6b3b5e172553788ae9aaa7526f8ff49ea2/galaxy_importer/main.py#L117

Change-Id: I5d3b2f71937a0e4ab9a8d49df10744f7d95a7de2
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/86/839686/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-import.sh'],1,9f60f0f26d4728779974e606e75024cb494d0d55,restrict_check_import,"if python -c 'import sys; sys.exit(0 if sys.version_info[0:2] < (3, 6) else 1)'; then echo ""Skipped Ansible Galaxy content importer check because it requires Python 3.6 or later"" 2>&1 exit fi ",,5,0
openstack%2Fopenstack-ansible-lxc_container_create~master~I29e91320baebb9a3a649533a0e1d3a433dd04ad9,openstack/openstack-ansible-lxc_container_create,master,I29e91320baebb9a3a649533a0e1d3a433dd04ad9,Unify variables for all operating systems.,MERGED,2022-04-25 10:03:56.000000000,2022-04-28 08:24:37.000000000,2022-04-28 08:21:50.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-25 10:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/87ffe6ef5258381046c21845ba7d4121ef54b87b', 'message': 'Unify varibles for all operating systems.\n\nRefactoring of the lxc_hosts role means that there is no need for\ndifferences in variables between operating systems.\n\nChange-Id: I29e91320baebb9a3a649533a0e1d3a433dd04ad9\n'}, {'number': 2, 'created': '2022-04-27 15:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/165c72def576c27c2c902c50114476f224d4e600', 'message': 'Unify variables for all operating systems.\n\nRefactoring of the lxc_hosts role means that there is no need for\ndifferences in variables between operating systems.\n\nThis patch makes the ubuntu focal CI jobs non voting as it must\nmerge at the same time as a corresponding patch to lxc_hosts.\n\nChange-Id: I29e91320baebb9a3a649533a0e1d3a433dd04ad9\n'}, {'number': 3, 'created': '2022-04-27 15:58:29.000000000', 'files': ['tasks/main.yml', 'vars/redhat.yml', 'vars/ubuntu.yml', 'vars/debian.yml', 'zuul.d/project.yaml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/91b7997b34fd935ade3a9736b531d3c15437f63f', 'message': 'Unify variables for all operating systems.\n\nRefactoring of the lxc_hosts role means that there is no need for\ndifferences in variables between operating systems.\n\nThis patch makes the ubuntu focal CI jobs non voting as it must\nmerge at the same time as a corresponding patch to lxc_hosts.\n\nChange-Id: I29e91320baebb9a3a649533a0e1d3a433dd04ad9\n'}]",1,839167,91b7997b34fd935ade3a9736b531d3c15437f63f,13,3,3,25023,,,0,"Unify variables for all operating systems.

Refactoring of the lxc_hosts role means that there is no need for
differences in variables between operating systems.

This patch makes the ubuntu focal CI jobs non voting as it must
merge at the same time as a corresponding patch to lxc_hosts.

Change-Id: I29e91320baebb9a3a649533a0e1d3a433dd04ad9
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/67/839167/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat.yml', 'vars/ubuntu.yml', 'vars/debian.yml', 'vars/main.yml']",5,87ffe6ef5258381046c21845ba7d4121ef54b87b,osa-jammy,"lxc_container_map: distro: ""{{ hostvars[physical_host]['ansible_facts']['distribution'] | lower }}"" arch: ""{{ lxc_architecture_mapping.get( hostvars[physical_host]['ansible_facts']['architecture'] | lower ) }}"" release: ""{{ hostvars[physical_host]['ansible_facts']['distribution_major_version'] }}"" lxc_container_default_config_list: - ""lxc.start.auto=1"" - ""lxc.start.delay=15"" - ""lxc.group=onboot"" - ""lxc.group=openstack"" - ""lxc.autodev=1"" - ""lxc.hook.autodev=/var/lib/lxc/{{ inventory_hostname }}/autodev"" ",,13,94
openstack%2Fopenstack-ansible-galera_server~master~If8d8d8ff9bc5270bc077cf777f88bbaab142b8cd,openstack/openstack-ansible-galera_server,master,If8d8d8ff9bc5270bc077cf777f88bbaab142b8cd,Add support for Ubuntu 22.04,MERGED,2022-04-27 12:53:07.000000000,2022-04-28 08:19:28.000000000,2022-04-28 08:16:22.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-27 12:53:07.000000000', 'files': ['vars/ubuntu-22.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/090d3cc63ec9de019175a62c8482f4a9f49e1cdd', 'message': 'Add support for Ubuntu 22.04\n\nThere are no official binary pacakges available for Ubuntu 22.04\nso we use the distro provided version of MariaDB instead.\n\nChange-Id: If8d8d8ff9bc5270bc077cf777f88bbaab142b8cd\n'}]",0,839521,090d3cc63ec9de019175a62c8482f4a9f49e1cdd,9,3,1,25023,,,0,"Add support for Ubuntu 22.04

There are no official binary pacakges available for Ubuntu 22.04
so we use the distro provided version of MariaDB instead.

Change-Id: If8d8d8ff9bc5270bc077cf777f88bbaab142b8cd
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/21/839521/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-22.04.yml'],1,090d3cc63ec9de019175a62c8482f4a9f49e1cdd,osa-jammy,"--- # Copyright 2022, BBC R&D. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ## APT Cache Options cache_timeout: 600 # Default private device setting _galera_disable_privatedevices: yes # Galera GPG Keys _galera_gpg_keys: [] galera_server_required_distro_packages: - apt-transport-https - debconf-utils - libaio1 - libc6 - libgcc1 - libgcrypt20 - libstdc++6 - python3-pymysql # needed by mysql_user - software-properties-common galera_etc_conf_file: ""/etc/mysql/my.cnf"" galera_etc_include_dir: ""/etc/mysql/conf.d"" galera_var_run_socket: ""/var/run/mysqld/mysqld.sock"" # The package name for mariaDB is set as a variable # so that it can be used in debconf later in the # ""galera_common"" role. _galera_mariadb_server_package: ""mariadb-server"" # NB This is specifically galera_server_mariadb_distro_packages as these # packages only get installed during the galera play - this is because of # the preseed task and the service startup control used when installing # mariadb-galera-server and galera. galera_server_mariadb_distro_packages: - libmariadb-dev - mariadb-client - mariadb-backup - ""{{ galera_mariadb_server_package }}"" - rsync - socat # The packages to uninstall during an upgrade from a previous version galera_server_upgrade_packages_remove: - mariadb-server-* - mariadb-common galera_debconf_items: - question: ""mysql-server/root_password"" name: ""{{ galera_mariadb_server_package }}"" value: ""{{ galera_root_password }}"" vtype: ""string"" - question: ""mysql-server/root_password_again"" name: ""{{ galera_mariadb_server_package }}"" value: ""{{ galera_root_password }}"" vtype: ""string"" # Repositories _galera_repo: [] galera_wsrep_provider: ""/usr/lib/galera/libgalera_smm.so"" galera_client_distro_packages: - mariadb-client galera_devel_distro_packages: - libmariadb-dev galera_unix_socket: ""/var/run/mysqld/mysqld.sock"" ",,83,0
openstack%2Fopenstack-ansible-galera_server~master~I8f32eb32388c23284b7e0272f6a0fbb7235c443d,openstack/openstack-ansible-galera_server,master,I8f32eb32388c23284b7e0272f6a0fbb7235c443d,Update MariaDB version to 10.6.7,MERGED,2022-03-11 10:51:57.000000000,2022-04-28 08:18:09.000000000,2022-04-28 08:16:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-03-11 10:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/9deafc07000d1a1b20e50b5ed25750967ac780c2', 'message': 'Update MariDB version to 10.6.7\n\nChange-Id: I8f32eb32388c23284b7e0272f6a0fbb7235c443d\n'}, {'number': 2, 'created': '2022-03-15 11:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/172f24de7ac5948ba1f79ff9f741907b75f03467', 'message': ""Update MariDB version to 10.6.7\n\nWe also modify workaround applied for 10.6 upgrade wrt to bug [1]\nas it has been added extra tools to help with checking state of upgrade.\n\nNew flag --check-if-upgrade-is-needed is checking if any upgrade is\nalready running and waits until it's finished.\nIt exits with rc 0 if upgrade is required and 1 if not.\n\nIf upgrade is required, we fall into rescue and perform upgrade.\n\n[1] https://jira.mariadb.org/browse/MDEV-27068\n\nChange-Id: I8f32eb32388c23284b7e0272f6a0fbb7235c443d\n""}, {'number': 3, 'created': '2022-03-15 14:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/20c418972265b2563b118a5c51d7b9568dc0d5be', 'message': ""Update MariDB version to 10.6.7\n\nWe also modify workaround applied for 10.6 upgrade wrt to bug [1]\nas it has been added extra tools to help with checking state of upgrade.\n\nNew flag --check-if-upgrade-is-needed is checking if any upgrade is\nalready running and waits until it's finished.\nIt exits with rc 0 if upgrade is required and 1 if not.\n\nIf upgrade is required, we fall into rescue and perform upgrade.\n\n[1] https://jira.mariadb.org/browse/MDEV-27068\n\nChange-Id: I8f32eb32388c23284b7e0272f6a0fbb7235c443d\n""}, {'number': 4, 'created': '2022-03-24 16:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/8c0eef8349527c396ea452a178ecb929408af1eb', 'message': ""Update MariDB version to 10.6.7\n\nWe also modify workaround applied for 10.6 upgrade wrt to bug [1]\nas it has been added extra tools to help with checking state of upgrade.\n\nNew flag --check-if-upgrade-is-needed is checking if any upgrade is\nalready running and waits until it's finished.\nIt exits with rc 0 if upgrade is required and 1 if not.\n\nIf upgrade is required, we fall into rescue and perform upgrade.\n\n[1] https://jira.mariadb.org/browse/MDEV-27068\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/835091\nChange-Id: I8f32eb32388c23284b7e0272f6a0fbb7235c443d\n""}, {'number': 5, 'created': '2022-03-24 16:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/c0fb8bead1b10602012fed327c6ed07149a3d493', 'message': ""Update MariaDB version to 10.6.7\n\nWe also modify workaround applied for 10.6 upgrade wrt to bug [1]\nas it has been added extra tools to help with checking state of upgrade.\n\nNew flag --check-if-upgrade-is-needed is checking if any upgrade is\nalready running and waits until it's finished.\nIt exits with rc 0 if upgrade is required and 1 if not.\n\nIf upgrade is required, we fall into rescue and perform upgrade.\n\n[1] https://jira.mariadb.org/browse/MDEV-27068\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/835091\nChange-Id: I8f32eb32388c23284b7e0272f6a0fbb7235c443d\n""}, {'number': 6, 'created': '2022-04-11 09:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/dfe1a55cce111efe40d08121009488bdc9cc724a', 'message': ""Update MariaDB version to 10.6.7\n\nWe also modify workaround applied for 10.6 upgrade wrt to bug [1]\nas it has been added extra tools to help with checking state of upgrade.\n\nNew flag --check-if-upgrade-is-needed is checking if any upgrade is\nalready running and waits until it's finished.\nIt exits with rc 0 if upgrade is required and 1 if not.\n\nIf upgrade is required, we fall into rescue and perform upgrade.\n\n[1] https://jira.mariadb.org/browse/MDEV-27068\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/835091\nChange-Id: I8f32eb32388c23284b7e0272f6a0fbb7235c443d\n""}, {'number': 7, 'created': '2022-04-27 12:38:22.000000000', 'files': ['tasks/galera_server_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/515daa62f029744f76d137ce91efef91c8e5ccdb', 'message': ""Update MariaDB version to 10.6.7\n\nWe also modify workaround applied for 10.6 upgrade wrt to bug [1]\nas it has been added extra tools to help with checking state of upgrade.\n\nNew flag --check-if-upgrade-is-needed is checking if any upgrade is\nalready running and waits until it's finished.\nIt exits with rc 0 if upgrade is required and 1 if not.\n\nIf upgrade is required, we fall into rescue and perform upgrade.\n\n[1] https://jira.mariadb.org/browse/MDEV-27068\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/835091\nChange-Id: I8f32eb32388c23284b7e0272f6a0fbb7235c443d\n""}]",1,833259,515daa62f029744f76d137ce91efef91c8e5ccdb,20,3,7,28619,,,0,"Update MariaDB version to 10.6.7

We also modify workaround applied for 10.6 upgrade wrt to bug [1]
as it has been added extra tools to help with checking state of upgrade.

New flag --check-if-upgrade-is-needed is checking if any upgrade is
already running and waits until it's finished.
It exits with rc 0 if upgrade is required and 1 if not.

If upgrade is required, we fall into rescue and perform upgrade.

[1] https://jira.mariadb.org/browse/MDEV-27068

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/835091
Change-Id: I8f32eb32388c23284b7e0272f6a0fbb7235c443d
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/59/833259/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,9deafc07000d1a1b20e50b5ed25750967ac780c2,,galera_minor_version: 7,galera_minor_version: 5,1,1
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I613c76b8f794ea2024939e07250a50edc5b9e49a,openstack/ansible-collections-openstack,stable/1.0.0,I613c76b8f794ea2024939e07250a50edc5b9e49a,Constrain filters in compute_service_info to SDK >= 0.53.0,MERGED,2022-04-26 09:18:23.000000000,2022-04-28 07:53:24.000000000,2022-04-28 07:53:24.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 32458}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-04-26 09:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/68c933d5ce5d3ecd859ff29cbd5bbf22a4974e61', 'message': 'Constrain filters in compute_service_info to SDK >= 0.53.0\n\nOlder releases of OpenStack SDK do not support filtering services.\n\nChange-Id: I613c76b8f794ea2024939e07250a50edc5b9e49a\n'}, {'number': 2, 'created': '2022-04-26 09:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5ba68d64618306e1f309bc1a28211a8ee0fa096b', 'message': 'Constrain filters in compute_service_info to SDK >= 0.53.0\n\nOlder releases of OpenStack SDK do not support filtering services.\n\nChange-Id: I613c76b8f794ea2024939e07250a50edc5b9e49a\n'}, {'number': 3, 'created': '2022-04-28 05:49:47.000000000', 'files': ['ci/roles/nova_services/tasks/main.yml', 'plugins/modules/compute_service_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e64211213aee65efcc5b26468f04de21dabf342e', 'message': 'Constrain filters in compute_service_info to SDK >= 0.53.0\n\nOlder releases of OpenStack SDK do not support filtering services.\n\nChange-Id: I613c76b8f794ea2024939e07250a50edc5b9e49a\n(cherry picked from commit e85a0b809af51569d5c403e032972e808c49e8e4)\n'}]",0,839322,e64211213aee65efcc5b26468f04de21dabf342e,9,5,3,32962,,,0,"Constrain filters in compute_service_info to SDK >= 0.53.0

Older releases of OpenStack SDK do not support filtering services.

Change-Id: I613c76b8f794ea2024939e07250a50edc5b9e49a
(cherry picked from commit e85a0b809af51569d5c403e032972e808c49e8e4)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/22/839322/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/compute_service_info.py'],1,68c933d5ce5d3ecd859ff29cbd5bbf22a4974e61,," - Filter by service binary type. Requires openstacksdk>=0.53. - Filter by service host. Requires openstacksdk>=0.53. binary=dict(required=False, default=None, min_ver='0.53.0'), host=dict(required=False, default=None, min_ver='0.53.0'), filters = self.check_versioned(binary=self.params['binary'], host=self.params['host']) filters = {k: v for k, v in filters.items() if v is not None}"," - Filter by service binary type - Filter by service host binary=dict(required=False, default=None), host=dict(required=False, default=None), binary = self.params['binary'] host = self.params['host'] filters = {} if binary: filters['binary'] = binary if host: filters['host'] = host",6,11
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I2b9eb6a85270c843d909348f3a911dea12e2eecd,openstack/tripleo-puppet-elements,stable/wallaby,I2b9eb6a85270c843d909348f3a911dea12e2eecd,Remove unused puppet-kmod,ABANDONED,2022-04-28 07:37:58.000000000,2022-04-28 07:40:57.000000000,,[],"[{'number': 1, 'created': '2022-04-28 07:37:58.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/4fab892b0a8e83f89b656f6fda1ba2a00d793ce8', 'message': 'Remove unused puppet-kmod\n\nConflicts:\n\telements/puppet-modules/source-repository-puppet-modules\n\nDepends-on: https://review.opendev.org/707291\nChange-Id: I2b9eb6a85270c843d909348f3a911dea12e2eecd\n(cherry picked from commit 7f14422965349ca70e2b7da0ff612ca9bed5bffc)\n'}]",0,839695,4fab892b0a8e83f89b656f6fda1ba2a00d793ce8,2,0,1,9816,,,0,"Remove unused puppet-kmod

Conflicts:
	elements/puppet-modules/source-repository-puppet-modules

Depends-on: https://review.opendev.org/707291
Change-Id: I2b9eb6a85270c843d909348f3a911dea12e2eecd
(cherry picked from commit 7f14422965349ca70e2b7da0ff612ca9bed5bffc)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/95/839695/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,4fab892b0a8e83f89b656f6fda1ba2a00d793ce8,module-cleanup-stable/wallaby,,puppet-kmod git /opt/stack/puppet-modules/kmod https://github.com/camptocamp/puppet-kmod.git puppet-zaqar git /opt/stack/puppet-modules/zaqar https://opendev.org/openstack/puppet-zaqar.git,0,3
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~Iad3d7ccaf6be1574c5e88f429e2dcb4ea942986f,openstack/tripleo-puppet-elements,stable/wallaby,Iad3d7ccaf6be1574c5e88f429e2dcb4ea942986f,Remove puppet-ec2,ABANDONED,2022-04-28 07:34:07.000000000,2022-04-28 07:40:53.000000000,,[],"[{'number': 1, 'created': '2022-04-28 07:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/fc354e6da954569ff2f0cf472895d03a83675200', 'message': 'Remove puppet-ec2\n\n... because support for ec2api was already removed[1].\n\n[1] 7adb850fbc6b4544a542111c930e9169e2051ba7\n\nChange-Id: Iad3d7ccaf6be1574c5e88f429e2dcb4ea942986f\n(cherry picked from commit c8b65cf29720a1ad1ef56c28f175ce3452c1bb76)\n'}, {'number': 2, 'created': '2022-04-28 07:37:58.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/c59570654fb35e4d79ac4697438fa8da91eaa169', 'message': 'Remove puppet-ec2\n\n... because support for ec2api was already removed[1].\n\n[1] 7adb850fbc6b4544a542111c930e9169e2051ba7\n\nChange-Id: Iad3d7ccaf6be1574c5e88f429e2dcb4ea942986f\n(cherry picked from commit c8b65cf29720a1ad1ef56c28f175ce3452c1bb76)\n'}]",0,839664,c59570654fb35e4d79ac4697438fa8da91eaa169,3,0,2,9816,,,0,"Remove puppet-ec2

... because support for ec2api was already removed[1].

[1] 7adb850fbc6b4544a542111c930e9169e2051ba7

Change-Id: Iad3d7ccaf6be1574c5e88f429e2dcb4ea942986f
(cherry picked from commit c8b65cf29720a1ad1ef56c28f175ce3452c1bb76)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/64/839664/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,fc354e6da954569ff2f0cf472895d03a83675200,module-cleanup-stable/wallaby,,puppet-ec2api git /opt/stack/puppet-modules/ec2api https://opendev.org/openstack/puppet-ec2api.git,0,2
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I896b5cbbb6e984bb76968c2af3599aa688d15019,openstack/tripleo-puppet-elements,stable/wallaby,I896b5cbbb6e984bb76968c2af3599aa688d15019,Remove unused puppet-ceph,ABANDONED,2022-04-28 07:20:01.000000000,2022-04-28 07:40:50.000000000,,[],"[{'number': 1, 'created': '2022-04-28 07:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/bc1cf7a928f1acee9436c1133752a3d525727253', 'message': 'Remove unused puppet-ceph\n\nDepends-on: https://review.opendev.org/570193\nChange-Id: I896b5cbbb6e984bb76968c2af3599aa688d15019\n(cherry picked from commit 43440d21408329aa3496d9172252700116d46ec0)\n'}, {'number': 2, 'created': '2022-04-28 07:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/abba7e46058512188fbd7ddecd40897f82c47001', 'message': 'Remove unused puppet-ceph\n\nDepends-on: https://review.opendev.org/570193\nChange-Id: I896b5cbbb6e984bb76968c2af3599aa688d15019\n(cherry picked from commit 43440d21408329aa3496d9172252700116d46ec0)\n'}, {'number': 3, 'created': '2022-04-28 07:31:18.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/e8050a368f007eea4f635f8334465d8692f59549', 'message': 'Remove unused puppet-ceph\n\nDepends-on: https://review.opendev.org/570193\nChange-Id: I896b5cbbb6e984bb76968c2af3599aa688d15019\n(cherry picked from commit 43440d21408329aa3496d9172252700116d46ec0)\n'}]",0,839660,e8050a368f007eea4f635f8334465d8692f59549,4,0,3,9816,,,0,"Remove unused puppet-ceph

Depends-on: https://review.opendev.org/570193
Change-Id: I896b5cbbb6e984bb76968c2af3599aa688d15019
(cherry picked from commit 43440d21408329aa3496d9172252700116d46ec0)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/60/839660/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,bc1cf7a928f1acee9436c1133752a3d525727253,module-cleanup-stable/wallaby,,puppet-ceph git /opt/stack/puppet-modules/ceph https://opendev.org/openstack/puppet-ceph.git,0,2
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~If0eee3e4e9cf617fd54cf20fdb94e5b2fc679841,openstack/tripleo-puppet-elements,stable/wallaby,If0eee3e4e9cf617fd54cf20fdb94e5b2fc679841,Remove unused puppet-ptp,ABANDONED,2022-04-28 07:18:07.000000000,2022-04-28 07:40:46.000000000,,[],"[{'number': 1, 'created': '2022-04-28 07:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/efa4493d86d913f7f3128883608fd2755a7915c4', 'message': 'Remove unused puppet-ptp\n\nDepends-on: https://review.opendev.org/839690\nChange-Id: If0eee3e4e9cf617fd54cf20fdb94e5b2fc679841\n(cherry picked from commit 46fd5695a8725ca671ccb97939f6945d57760866)\n'}, {'number': 2, 'created': '2022-04-28 07:30:48.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/d55033cb3d73c3b06c1721178d7dd08c648a2e1e', 'message': 'Remove unused puppet-ptp\n\nDepends-on: https://review.opendev.org/839690\nChange-Id: If0eee3e4e9cf617fd54cf20fdb94e5b2fc679841\n(cherry picked from commit 46fd5695a8725ca671ccb97939f6945d57760866)\n'}]",0,839692,d55033cb3d73c3b06c1721178d7dd08c648a2e1e,3,0,2,9816,,,0,"Remove unused puppet-ptp

Depends-on: https://review.opendev.org/839690
Change-Id: If0eee3e4e9cf617fd54cf20fdb94e5b2fc679841
(cherry picked from commit 46fd5695a8725ca671ccb97939f6945d57760866)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/92/839692/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,efa4493d86d913f7f3128883608fd2755a7915c4,remove-ptp-stable/wallaby,,puppet-ptp git /opt/stack/puppet-modules/ptp https://github.com/redhat-nfvpe/ptp.git,1,4
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~Ia16d8dc01bbea8a137db9cc7f08d74e0e769f897,openstack/tripleo-puppet-elements,stable/wallaby,Ia16d8dc01bbea8a137db9cc7f08d74e0e769f897,Remove puppet-veritas_hypercale,ABANDONED,2022-04-28 07:16:04.000000000,2022-04-28 07:40:43.000000000,,[],"[{'number': 1, 'created': '2022-04-28 07:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/8b239982a9b52d3447d750bbbaf80d3103efc033', 'message': 'Remove puppet-veritas_hypercale\n\n... because support for the Veritas HyperScale Driver was removed[1].\n\n[1] 52a9396acfbde11a9dc592cedd9f8768ff49ee06\n\nChange-Id: Ia16d8dc01bbea8a137db9cc7f08d74e0e769f897\n(cherry picked from commit 83a27ba6abaacbb18489b1db3d8b20e313f05554)\n'}, {'number': 2, 'created': '2022-04-28 07:30:39.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/2d7af1c97ca280f5ad5217ff30a1326cdbdcdfa5', 'message': 'Remove puppet-veritas_hypercale\n\n... because support for the Veritas HyperScale Driver was removed[1].\n\n[1] 52a9396acfbde11a9dc592cedd9f8768ff49ee06\n\nChange-Id: Ia16d8dc01bbea8a137db9cc7f08d74e0e769f897\n(cherry picked from commit 83a27ba6abaacbb18489b1db3d8b20e313f05554)\n'}]",0,839659,2d7af1c97ca280f5ad5217ff30a1326cdbdcdfa5,3,0,2,9816,,,0,"Remove puppet-veritas_hypercale

... because support for the Veritas HyperScale Driver was removed[1].

[1] 52a9396acfbde11a9dc592cedd9f8768ff49ee06

Change-Id: Ia16d8dc01bbea8a137db9cc7f08d74e0e769f897
(cherry picked from commit 83a27ba6abaacbb18489b1db3d8b20e313f05554)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/59/839659/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,8b239982a9b52d3447d750bbbaf80d3103efc033,vrts-stable/wallaby,,puppet-veritas_hyperscale git /opt/stack/puppet-modules/veritas_hyperscale https://github.com/vtas-hyperscale-ci/puppet-veritas_hyperscale.git,0,2
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I2086906431238a0be9029c8991b391cb01a5c69e,openstack/tripleo-puppet-elements,stable/wallaby,I2086906431238a0be9029c8991b391cb01a5c69e,Remove unused puppet-timezone,ABANDONED,2022-04-28 07:29:34.000000000,2022-04-28 07:40:39.000000000,,[],"[{'number': 1, 'created': '2022-04-28 07:29:34.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/2cd3df438ca915c5ace6b89fc1ea10f137e1b046', 'message': 'Remove unused puppet-timezone\n\nNow timezone is managed by tripleo-ansible and puppet-timezone is no\nlonger used.\n\nChange-Id: I2086906431238a0be9029c8991b391cb01a5c69e\n(cherry picked from commit d08388a90986e687966327419fd6fe9ef81a1919)\n'}]",0,839663,2cd3df438ca915c5ace6b89fc1ea10f137e1b046,2,0,1,9816,,,0,"Remove unused puppet-timezone

Now timezone is managed by tripleo-ansible and puppet-timezone is no
longer used.

Change-Id: I2086906431238a0be9029c8991b391cb01a5c69e
(cherry picked from commit d08388a90986e687966327419fd6fe9ef81a1919)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/63/839663/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,2cd3df438ca915c5ace6b89fc1ea10f137e1b046,puppet-timezone-stable/wallaby,,puppet-timezone git /opt/stack/puppet-modules/timezone https://github.com/saz/puppet-timezone.git,0,2
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I24b28b2dd0ddcd3f4b6ab4be91f594c85895b021,openstack/tripleo-puppet-elements,stable/wallaby,I24b28b2dd0ddcd3f4b6ab4be91f594c85895b021,Remove puppet modules for Sensu/Uchiwa support,ABANDONED,2022-04-28 07:26:29.000000000,2022-04-28 07:40:33.000000000,,[],"[{'number': 1, 'created': '2022-04-28 07:26:29.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/1fd0b4af3b0eb5ff373a2067dd83eb4d1767fbe5', 'message': 'Remove puppet modules for Sensu/Uchiwa support\n\n... because support for Sensu/Uchiwa was already removed[1].\n\n[1] e3a56f6af20aa27c5df001958cae018c046ad2ab\n\nChange-Id: I24b28b2dd0ddcd3f4b6ab4be91f594c85895b021\n(cherry picked from commit 07ab035cddcd2df399b023dd988519b7d69cc4be)\n'}]",0,839661,1fd0b4af3b0eb5ff373a2067dd83eb4d1767fbe5,2,0,1,9816,,,0,"Remove puppet modules for Sensu/Uchiwa support

... because support for Sensu/Uchiwa was already removed[1].

[1] e3a56f6af20aa27c5df001958cae018c046ad2ab

Change-Id: I24b28b2dd0ddcd3f4b6ab4be91f594c85895b021
(cherry picked from commit 07ab035cddcd2df399b023dd988519b7d69cc4be)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/61/839661/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,1fd0b4af3b0eb5ff373a2067dd83eb4d1767fbe5,remove-sensu-stable/wallaby,,sensu-puppet git /opt/stack/puppet-modules/sensu https://github.com/sensu/sensu-puppet.gitpuppet-uchiwa git /opt/stack/puppet-modules/uchiwa https://github.com/Yelp/puppet-uchiwa.git,0,4
openstack%2Fmasakari-specs~master~I0a93a877c9864f38002028379bd729c8a4341547,openstack/masakari-specs,master,I0a93a877c9864f38002028379bd729c8a4341547,Add zed spec directory,MERGED,2022-03-29 08:45:22.000000000,2022-04-28 07:31:46.000000000,2022-04-28 07:30:23.000000000,"[{'_account_id': 22348}, {'_account_id': 30623}]","[{'number': 1, 'created': '2022-03-29 08:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/9344b6ab8cbb48938e26391ff96776e36a2a4884', 'message': 'Add zed spec directory\n\nChange-Id: I0a93a877c9864f38002028379bd729c8a4341547\n'}, {'number': 2, 'created': '2022-04-28 07:01:26.000000000', 'files': ['doc/source/specs/zed/index.rst', 'doc/source/index.rst', 'specs/zed/implemented/zed-template.rst', 'specs/zed/approved/zed-template.rst', 'specs/zed/redirects', 'doc/source/specs/zed/approved/zed-template.rst', 'specs/zed-template.rst', 'doc/source/specs/zed/implemented/zed-template.rst'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/df38f931684b1b325db54f1a642c49fbf38f6d9b', 'message': 'Add zed spec directory\n\nChange-Id: I0a93a877c9864f38002028379bd729c8a4341547\n'}]",1,835593,df38f931684b1b325db54f1a642c49fbf38f6d9b,9,2,2,30623,,,0,"Add zed spec directory

Change-Id: I0a93a877c9864f38002028379bd729c8a4341547
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/93/835593/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/zed/approved', 'doc/source/specs/zed/implemented', 'doc/source/specs/zed/index.rst', 'doc/source/index.rst', 'specs/zed/implemented/zed-template.rst', 'specs/zed/approved/zed-template.rst', 'specs/zed/redirects', 'specs/zed-template.rst']",8,9344b6ab8cbb48938e26391ff96776e36a2a4884,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Example Spec - The title of your blueprint ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/masakari/+spec/example Introduction paragraph -- why are we doing anything? A single paragraph of prose that operators can understand. The title and this first paragraph should be used as the subject line and body of the commit message respectively. Some notes about the masakari-spec and blueprint process: * Not all blueprints need a spec. For more information see https://wiki.openstack.org/wiki/Masakari-specs * The aim of this document is first to define the problem we need to solve, and second agree the overall approach to solve that problem. * This is not intended to be extensive documentation for a new feature. For example, there is no need to specify the exact configuration changes, nor the exact details of any DB model changes. But you should still define that such changes are required, and be clear on how that will affect upgrades. * You should aim to get your spec approved before writing your code. While you are free to write prototypes and code before getting your spec approved, its possible that the outcome of the spec review process leads you towards a fundamentally different solution than you first envisaged. * But, API changes are held to a much higher level of scrutiny. As soon as an API change merges, we must assume it could be in production somewhere, and as such, we then need to support that API change forever. To avoid getting that wrong, we do want lots of details about API changes upfront. Some notes about using this template: * Your spec should be in ReSTructured text, like this template. * Please wrap text at 79 columns. * The filename in the git repository should match the launchpad URL, for example a URL of: https://blueprints.launchpad.net/masakari/+spec/awesome-thing should be named awesome-thing.rst * Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None * For help with syntax, see http://sphinx-doc.org/rest.html * To test out your formatting, build the docs using tox and see the generated HTML file in doc/build/html/specs/<path_of_your_file> * If you would like to provide a diagram with your spec, ascii diagrams are required. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. The reason for this is that the tool used to review specs is based purely on plain text. Plain text will allow review to proceed without having to look at additional files which can not be viewed in gerrit. It will also allow inline feedback on the diagram itself. * If your specification proposes any changes to the Masakari REST API such as changing parameters which can be returned or accepted, or even the semantics of what happens when a client calls into the API, then you should add the APIImpact flag to the commit message. Problem description =================== A detailed description of the problem. What problem is this blueprint addressing? Use Cases --------- What use cases does this address? What impact on actors does this change have? Ensure you are clear about the actors in each use case: Developer, End User, Deployer etc. Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? At this point, if you would like to just get feedback on if the problem and proposed change fit in Masakari, you can stop here and post this for review to get preliminary feedback. If so please say: Posting to get preliminary feedback on the scope of this spec. Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change. * How will the initial set of new data objects be generated, for example if you need to take into account existing instances, or modify other existing data describe how that will work. REST API impact --------------- Each API method which is either added or changed should have the following * Specification for the method * A description of what the method does suitable for use in user documentation * Method type (POST/PUT/GET/DELETE) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included describing semantic errors which can cause it such as inconsistent parameters supplied to the method, or when an instance is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema definition do not need to be included. * URL for the resource * URL should not include underscores, and use hyphens instead. * Parameters which can be passed via the url * JSON schema definition for the request body data if allowed * Field names should use snake_case style, not CamelCase or MixedCase style. * JSON schema definition for the response body data if any * Field names should use snake_case style, not CamelCase or MixedCase style. * Example use case including typical API samples for both data supplied by the caller and the response * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted (eg additionaProperties should be False). Reuse of existing predefined parameter types such as regexps for passwords and user defined names is highly encouraged. Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Notifications impact -------------------- Please specify any changes to notifications. Be that an extra notification, changes to an existing notification, or removing a notification. Other end user impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-masakariclient? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition but if it calls conductor or another service the load is multiplied by the number of nodes in the system. * Scheduler filters get called once per host for every instance being created, so any latency they introduce is linear with the size of the system. * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries (whether direct or via conductor) can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other hypervisors would implement the feature is required. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in Masakari, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Masakari (such as nova, or masakari-monitors, python-masakariclient), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss the important scenarios needed to test here, as well as specific edge cases we should be ensuring work correctly. For each scenario please specify if this requires specialized hardware, a full openstack environment, or can be simulated inside the Masakari tree. Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== Which audiences are affected most by this change, and which documentation titles on docs.openstack.org should be updated because of this change? Don't repeat details discussed above, but reference them here in the context of documentation for multiple audiences. For example, the Operations Guide targets cloud operators, and the End User Guide would need to be updated if the change offers a new feature available through the CLI or dashboard. If a config option changes or is deprecated, note here that the documentation needs to be updated to reflect this specification's change. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Zed - Introduced ",,413,0
openstack%2Fdevstack~master~I09665d039b8be02bf6a00477826d9c45febe78c0,openstack/devstack,master,I09665d039b8be02bf6a00477826d9c45febe78c0,Check pymysql on capture-performance-data rol,ABANDONED,2022-04-25 11:08:07.000000000,2022-04-28 07:06:23.000000000,,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 11:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/37745167973b9f1ffc0bf9f0258565c7ab8d937f', 'message': 'Check pymysql on  capture-performance-data rol\n\nget_db_stats function use pymysql to collect data from mysql database\nperformance_schema, but some jobs trusting on the whole post playbook\nare not installing pymysql module, generating a post failure after\njob completing.\n\nFix to allow execution of the task but checking that module pymysql\nis available before import.\n\nCloses-Bug: #1970195\nChange-Id: I09665d039b8be02bf6a00477826d9c45febe78c0\n'}, {'number': 2, 'created': '2022-04-25 11:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a5599c1891f6e7b22dd6c9fcfaba1410b50316c1', 'message': '[WIP] Check pymysql on  capture-performance-data rol\n\nget_db_stats function use pymysql to collect data from mysql database\nperformance_schema, but some jobs trusting on the whole post playbook\nare not installing pymysql module, generating a post failure after\njob completing.\n\nFix to allow execution of the task but checking that module pymysql\nis available before import.\n\nCloses-Bug: #1970195\nChange-Id: I09665d039b8be02bf6a00477826d9c45febe78c0\n'}, {'number': 3, 'created': '2022-04-25 11:27:28.000000000', 'files': ['roles/capture-performance-data/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b5b7698d32390f24e05c2a40eb2128feaeed1770', 'message': ""Check pymysql on capture-performance-data rol\n\nget_db_stats function use pymysql to collect data from mysql database\nperformance_schema, but some jobs trusting on the whole post playbook\nare not installing pymysql module, generating a post failure after\njob completing.\n\nFix to install pymysql before rol main task execution, just to cover\nthose jobs that don't install by themself.\n\nCloses-Bug: #1970195\nChange-Id: I09665d039b8be02bf6a00477826d9c45febe78c0\n""}]",3,839193,b5b7698d32390f24e05c2a40eb2128feaeed1770,8,3,3,34451,,,0,"Check pymysql on capture-performance-data rol

get_db_stats function use pymysql to collect data from mysql database
performance_schema, but some jobs trusting on the whole post playbook
are not installing pymysql module, generating a post failure after
job completing.

Fix to install pymysql before rol main task execution, just to cover
those jobs that don't install by themself.

Closes-Bug: #1970195
Change-Id: I09665d039b8be02bf6a00477826d9c45febe78c0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/93/839193/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/get-stats.py'],1,37745167973b9f1ffc0bf9f0258565c7ab8d937f,," if 'pymysql' in sys.modules: import pymysql if 'pymysql' in sys.modules: db = pymysql.connect(host=host, user=user, password=passwd, database='performance_schema', cursorclass=pymysql.cursors.DictCursor) with db: with db.cursor() as cur: cur.execute( 'SELECT COUNT(*) AS queries,current_schema AS db FROM ' 'events_statements_history_long GROUP BY current_schema') for row in cur: dbs.append({k: tryint(v) for k, v in row.items()})","import pymysql db = pymysql.connect(host=host, user=user, password=passwd, database='performance_schema', cursorclass=pymysql.cursors.DictCursor) with db: with db.cursor() as cur: cur.execute( 'SELECT COUNT(*) AS queries,current_schema AS db FROM ' 'events_statements_history_long GROUP BY current_schema') for row in cur: dbs.append({k: tryint(v) for k, v in row.items()})",14,11
openstack%2Ftripleo-ansible~master~I23ea7f90af0e7c75ec390c1ff532ee77e6a2c6c3,openstack/tripleo-ansible,master,I23ea7f90af0e7c75ec390c1ff532ee77e6a2c6c3,Switch to stream9,ABANDONED,2022-04-21 04:29:33.000000000,2022-04-28 06:45:13.000000000,,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-21 04:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af7dd4ec6867b4b622aace93562d606c0271faa1', 'message': 'Switch to stream9\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I23ea7f90af0e7c75ec390c1ff532ee77e6a2c6c3\n'}, {'number': 2, 'created': '2022-04-21 06:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/088ca07709b410a9a293be5af04fbd4f452b1020', 'message': 'Switch to stream9\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I23ea7f90af0e7c75ec390c1ff532ee77e6a2c6c3\n'}, {'number': 3, 'created': '2022-04-25 19:20:52.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_unbound/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_distribute_keys/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-edge-node/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/internal-tls/molecule.yml', 'tripleo_ansible/roles/tripleo_persist/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/molecule.yml', '_skeleton_role_/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/login_defs/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_image_build/defaults/main.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/converge.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-interior-node/molecule.yml', 'tripleo_ansible/roles/tripleo_container_image_build/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_client/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/designate_bind_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/aide/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e7b4426d00fdf4eabaeb931ed5ab15f4bf6166e1', 'message': 'Switch to stream9\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I23ea7f90af0e7c75ec390c1ff532ee77e6a2c6c3\n'}]",7,838809,e7b4426d00fdf4eabaeb931ed5ab15f4bf6166e1,16,6,3,12393,,,0,"Switch to stream9

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I23ea7f90af0e7c75ec390c1ff532ee77e6a2c6c3
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/09/838809/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_unbound/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_distribute_keys/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-edge-node/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/internal-tls/molecule.yml', 'tripleo_ansible/roles/tripleo_persist/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/molecule.yml', '_skeleton_role_/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/login_defs/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_image_build/defaults/main.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/converge.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-interior-node/molecule.yml', 'tripleo_ansible/roles/tripleo_container_image_build/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_client/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/designate_bind_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/aide/molecule/default/molecule.yml']",56,af7dd4ec6867b4b622aace93562d606c0271faa1,cs9, image: centos/centos:stream9, image: centos/centos:stream8,65,65
openstack%2Fglance-tempest-plugin~master~I1fe3704254dc33cfc1c9dc42109b1b4c7a825aef,openstack/glance-tempest-plugin,master,I1fe3704254dc33cfc1c9dc42109b1b4c7a825aef,Update python testing classifier,MERGED,2022-01-03 09:28:57.000000000,2022-04-28 06:41:20.000000000,2022-04-28 06:41:20.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 09:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/94d58fe9b1d730725e6963fd14cb4da6bcf52dac', 'message': 'Update python testing classifier\n\nChange-Id: I1fe3704254dc33cfc1c9dc42109b1b4c7a825aef\n'}, {'number': 2, 'created': '2022-01-03 09:30:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/ac3c27cebca78208680c6bbd2dad0f4f65071fd9', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I1fe3704254dc33cfc1c9dc42109b1b4c7a825aef\n'}]",1,823261,ac3c27cebca78208680c6bbd2dad0f4f65071fd9,8,3,2,33161,,,0,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I1fe3704254dc33cfc1c9dc42109b1b4c7a825aef
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/61/823261/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,94d58fe9b1d730725e6963fd14cb4da6bcf52dac,, Programming Language :: Python :: 3.8 Programming Language :: Python :: 3.9,,2,0
openstack%2Ftripleo-puppet-elements~master~Icae31e6aff9a468f81a01433eedeb53c007e8af5,openstack/tripleo-puppet-elements,master,Icae31e6aff9a468f81a01433eedeb53c007e8af5,Add fence-agents-compute to the list of installed rpms,MERGED,2022-03-24 08:36:55.000000000,2022-04-28 06:36:43.000000000,2022-04-28 06:36:43.000000000,"[{'_account_id': 7144}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-24 08:36:55.000000000', 'files': ['elements/overcloud-controller/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/d2b58ac2fc5416de61bc53b29bcec2c1de967d69', 'message': 'Add fence-agents-compute to the list of installed rpms\n\nWith I835511b960df09bd05bd8aaf1695757f0b079c12 we restricted\nthe list of fence-agents installed by default but unfortunately\nleft fence-agents-compute out (needed for instance-ha).\nThis commit adds this agent to the list of pre-installed rpms.\n\nChange-Id: Icae31e6aff9a468f81a01433eedeb53c007e8af5\n'}]",0,835009,d2b58ac2fc5416de61bc53b29bcec2c1de967d69,8,3,1,30126,,,0,"Add fence-agents-compute to the list of installed rpms

With I835511b960df09bd05bd8aaf1695757f0b079c12 we restricted
the list of fence-agents installed by default but unfortunately
left fence-agents-compute out (needed for instance-ha).
This commit adds this agent to the list of pre-installed rpms.

Change-Id: Icae31e6aff9a468f81a01433eedeb53c007e8af5
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/09/835009/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/pkg-map'],1,d2b58ac2fc5416de61bc53b29bcec2c1de967d69,," ""fence_agents_package"": ""fence-agents-redfish fence-agents-ipmilan fence-agents-kdump fence-agents-rhevm fence-agents-compute"",} "," ""fence_agents_package"": ""fence-agents-redfish fence-agents-ipmilan fence-agents-kdump fence-agents-rhevm"",}",2,2
openstack%2Fnetworking-hyperv~master~Id7b0edb98574c4b16700bccee3105ec9689213fc,openstack/networking-hyperv,master,Id7b0edb98574c4b16700bccee3105ec9689213fc,register common options when the service starts,MERGED,2022-04-27 14:22:19.000000000,2022-04-28 06:33:57.000000000,2022-04-28 06:33:57.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 14:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/5bd1a2419ca13fd9d3edf6a2910f881c697f9169', 'message': ""register common options when the service starts\n\nA recent Neutron commit [1] changed the way in which certain\nconfig options are registered. Instead of being registered at\nimport time, we're supposed to call a method when the service starts.\n\n[1] Ic1532eb8de887ff1b1085206df11f53e22f7f524\n\nChange-Id: Id7b0edb98574c4b16700bccee3105ec9689213fc\n""}, {'number': 2, 'created': '2022-04-27 14:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/bb0edba9313407aef732c8ae65ebb651bc033d0f', 'message': ""register common options when the service starts\n\nA recent Neutron commit [1] changed the way in which certain\nconfig options are registered. Instead of being registered at\nimport time, we're supposed to call a method when the service starts.\n\n[1] Ic1532eb8de887ff1b1085206df11f53e22f7f524\n\nChange-Id: Id7b0edb98574c4b16700bccee3105ec9689213fc\n""}, {'number': 3, 'created': '2022-04-27 14:42:00.000000000', 'files': ['networking_hyperv/neutron/agent/hnv_neutron_agent.py', 'networking_hyperv/tests/__init__.py', 'networking_hyperv/neutron/agent/hyperv_neutron_agent.py', 'networking_hyperv/neutron/agent/hnv_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/e8867be8880808c8a564d987a765ed67c24aca29', 'message': ""register common options when the service starts\n\nA recent Neutron commit [1] changed the way in which certain\nconfig options are registered. Instead of being registered at\nimport time, we're supposed to call a method when the service starts.\n\n[1] Ic1532eb8de887ff1b1085206df11f53e22f7f524\n\nChange-Id: Id7b0edb98574c4b16700bccee3105ec9689213fc\n""}]",0,839557,e8867be8880808c8a564d987a765ed67c24aca29,9,2,3,8543,,,0,"register common options when the service starts

A recent Neutron commit [1] changed the way in which certain
config options are registered. Instead of being registered at
import time, we're supposed to call a method when the service starts.

[1] Ic1532eb8de887ff1b1085206df11f53e22f7f524

Change-Id: Id7b0edb98574c4b16700bccee3105ec9689213fc
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/57/839557/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_hyperv/neutron/agent/hnv_neutron_agent.py', 'networking_hyperv/neutron/agent/hyperv_neutron_agent.py', 'networking_hyperv/neutron/agent/hnv_metadata_agent.py']",3,5bd1a2419ca13fd9d3edf6a2910f881c697f9169,, common_config.register_common_config_options(),,3,0
openstack%2Fwatcher~master~I8896ff5731bb8c1bf88a5d7b926bd2a884100ea8,openstack/watcher,master,I8896ff5731bb8c1bf88a5d7b926bd2a884100ea8,Watcher DB upgrde compatibility consideration for add_apscheduler_jobs,MERGED,2022-04-28 02:16:32.000000000,2022-04-28 06:18:34.000000000,2022-04-28 06:17:11.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2022-04-28 02:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/5af2a6d95dfdc6404171381c94184e8c32a1a026', 'message': 'Watcher DB upgrde compatibility consideration for add_apscheduler_jobs\n\nChange-Id: I8896ff5731bb8c1bf88a5d7b926bd2a884100ea8\n'}, {'number': 2, 'created': '2022-04-28 02:21:11.000000000', 'files': ['watcher/db/sqlalchemy/alembic/versions/0f6042416884_add_apscheduler_jobs.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/b57eac12cbe12ab42a166f32fe596b6c7322e6db', 'message': 'Watcher DB upgrde compatibility consideration for add_apscheduler_jobs\n\nChange-Id: I8896ff5731bb8c1bf88a5d7b926bd2a884100ea8\n'}]",1,839655,b57eac12cbe12ab42a166f32fe596b6c7322e6db,10,3,2,28748,,,0,"Watcher DB upgrde compatibility consideration for add_apscheduler_jobs

Change-Id: I8896ff5731bb8c1bf88a5d7b926bd2a884100ea8
",git fetch https://review.opendev.org/openstack/watcher refs/changes/55/839655/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,5af2a6d95dfdc6404171381c94184e8c32a1a026,,,,0,0
openstack%2Fcinder~master~Ide112de44887c031cf160e30dbdfe083c1998bda,openstack/cinder,master,Ide112de44887c031cf160e30dbdfe083c1998bda,Add statement about CI for backports,MERGED,2022-04-20 16:53:02.000000000,2022-04-28 05:06:30.000000000,2022-04-28 05:04:30.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-20 16:53:02.000000000', 'files': ['doc/source/contributor/backporting.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b45379de37cd9208e706e12e5088a548eac8d496', 'message': ""Add statement about CI for backports\n\nBack in February, the cinder project announced a policy that we'd\nlike to see CI results documented on driver backports:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2022-February/027021.html\n\nBring this info into the contributor documentation.\n\nChange-Id: Ide112de44887c031cf160e30dbdfe083c1998bda\n""}]",2,838760,b45379de37cd9208e706e12e5088a548eac8d496,28,3,1,5314,,,0,"Add statement about CI for backports

Back in February, the cinder project announced a policy that we'd
like to see CI results documented on driver backports:
http://lists.openstack.org/pipermail/openstack-discuss/2022-February/027021.html

Bring this info into the contributor documentation.

Change-Id: Ide112de44887c031cf160e30dbdfe083c1998bda
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/838760/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/backporting.rst'],1,b45379de37cd9208e706e12e5088a548eac8d496,backport-ci," Backport CI Testing ------------------- Like all code changes, backports should undergo continuous integration testing. This is done automatically by Zuul for changes that affect the main cinder code. When a vendor driver patch backport is proposed, we would like to see a clear statement on the gerrit review that the patch has been tested in an appropriate environment. This shouldn't be a big deal because presumably you've done local testing with your backend to ensure that the code works as expected in a stable branch; we're simply asking that this be documented on the backport. A good example of how to document this can be found on `https://review.opendev.org/c/openstack/cinder/+/821893/ <https://review.opendev.org/c/openstack/cinder/+/821893/3#message-ade9aa6ad8bd99fefab908c777fe106e907c7636>`_.",,19,0
openstack%2Fpython-zunclient~master~I6b42b3777ce91fd971e153a280774a70aa33af9d,openstack/python-zunclient,master,I6b42b3777ce91fd971e153a280774a70aa33af9d,fix websocketclient ssl issue,MERGED,2022-04-24 10:12:30.000000000,2022-04-28 02:44:36.000000000,2022-04-28 02:40:50.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-24 10:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/bcf572c250944a6981e0a4f1eebfe5b4c53da3eb', 'message': 'fix websocketclient ssl issue\n\nCloses-Bug: #1970085\nChange-Id: I6b42b3777ce91fd971e153a280774a70aa33af9d\n'}, {'number': 2, 'created': '2022-04-25 01:56:52.000000000', 'files': ['zunclient/common/websocketclient/websocketclient.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/429645fcae9a4fe66b5485acc1457700e548f91a', 'message': 'fix websocketclient ssl issue\n\nCloses-Bug: #1970085\nChange-Id: I6b42b3777ce91fd971e153a280774a70aa33af9d\n'}]",6,839131,429645fcae9a4fe66b5485acc1457700e548f91a,13,2,2,20663,,,0,"fix websocketclient ssl issue

Closes-Bug: #1970085
Change-Id: I6b42b3777ce91fd971e153a280774a70aa33af9d
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/31/839131/1 && git format-patch -1 --stdout FETCH_HEAD,['zunclient/common/websocketclient/websocketclient.py'],1,bcf572c250944a6981e0a4f1eebfe5b4c53da3eb,,"import ssl sslopt={""cert_reqs"": ssl.CERT_REQUIRED, 'ca_certs': self.get_system_ca_file()}, @staticmethod def get_system_ca_file(): """"""Return path to system default CA file."""""" # Standard CA file locations for Debian/Ubuntu, RedHat/Fedora, # Suse, FreeBSD/OpenBSD ca_path = ['/etc/ssl/certs/ca-certificates.crt', '/etc/pki/tls/certs/ca-bundle.crt', '/etc/ssl/ca-bundle.pem', '/etc/ssl/cert.pem'] for ca in ca_path: if os.path.exists(ca): return ca return None",,15,0
openstack%2Fcinder~stable%2Fyoga~Ic97a2501b4c895b2b655284bcc320036c2d4e217,openstack/cinder,stable/yoga,Ic97a2501b4c895b2b655284bcc320036c2d4e217,[SVf]:Fix retype failure for replication volume-type,MERGED,2022-04-22 07:07:42.000000000,2022-04-28 02:13:37.000000000,2022-04-27 18:18:37.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 34541}]","[{'number': 1, 'created': '2022-04-22 07:07:42.000000000', 'files': ['releasenotes/notes/bug-1968159-ibm-svf-Retype_failure_for_replication_volume-type-4e0671b299315f4b.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/22e6d53082ad03bdf7c750461c0dc743d10e9704', 'message': '[SVf]:Fix retype failure for replication volume-type\n\n[Spectrum Virtualize family] While retyping GM to GM or MM to MM or\nGMCV to GMCV, chfcmap() call is being made which is resulting in retype\noperation failure.\nError: CMMVC7154E The task cannot be completed because the specified\nFlashCopy mapping is controlled by a Metro Mirror or Global Mirror\nrelationship.\n\nchfcmap() should not be called for any FC map which is rc_controlled.\nHence while retyping global mirror to global mirror or\nmetro mirror to metro mirror or GMCV to GMCV volume, this error comes\nup as the FC map of the volume is rc_controlled for these replication\nvolume-types.\n\nCloses-Bug: #1968159\nChange-Id: Ic97a2501b4c895b2b655284bcc320036c2d4e217\n(cherry picked from commit b99e73e96cb6448f81a2f4b2e8e624bf36bbff0e)\n'}]",6,838880,22e6d53082ad03bdf7c750461c0dc743d10e9704,32,6,1,32074,,,0,"[SVf]:Fix retype failure for replication volume-type

[Spectrum Virtualize family] While retyping GM to GM or MM to MM or
GMCV to GMCV, chfcmap() call is being made which is resulting in retype
operation failure.
Error: CMMVC7154E The task cannot be completed because the specified
FlashCopy mapping is controlled by a Metro Mirror or Global Mirror
relationship.

chfcmap() should not be called for any FC map which is rc_controlled.
Hence while retyping global mirror to global mirror or
metro mirror to metro mirror or GMCV to GMCV volume, this error comes
up as the FC map of the volume is rc_controlled for these replication
volume-types.

Closes-Bug: #1968159
Change-Id: Ic97a2501b4c895b2b655284bcc320036c2d4e217
(cherry picked from commit b99e73e96cb6448f81a2f4b2e8e624bf36bbff0e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/838880/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1968159-ibm-svf-Retype_failure_for_replication_volume-type-4e0671b299315f4b.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",3,22e6d53082ad03bdf7c750461c0dc743d10e9704,bug/1968159-stable/yoga," attrs = self._get_flashcopy_mapping_attributes(map_id) # chfcmap should not be called for rc_controlled fcmap if attrs is not None and attrs['rc_controlled'] != 'yes': self.ssh.chfcmap(map_id, clean_rate=str(new_clean_rate))"," self.ssh.chfcmap(map_id, clean_rate=six.text_type(new_clean_rate))",34,14
openstack%2Fopenstack-helm-infra~master~I0a0b81de017f33c2cabf5311f5288c8f46191d8b,openstack/openstack-helm-infra,master,I0a0b81de017f33c2cabf5311f5288c8f46191d8b,Remove unused overrides and update default image,MERGED,2022-04-27 16:25:42.000000000,2022-04-28 01:14:48.000000000,2022-04-28 01:12:20.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 16:25:42.000000000', 'files': ['libvirt/Chart.yaml', 'libvirt/values_overrides/queens-ubuntu_xenial.yaml', 'libvirt/values_overrides/rocky-ubuntu_xenial.yaml', 'libvirt/values_overrides/ocata-ubuntu_xenial.yaml', 'libvirt/values_overrides/victoria-ubuntu_focal.yaml', 'libvirt/values_overrides/wallaby-ubuntu_focal.yaml', 'libvirt/values_overrides/pike-ubuntu_xenial.yaml', 'libvirt/values.yaml', 'libvirt/values_overrides/rocky-opensuse_15.yaml', 'releasenotes/notes/libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/668de27da378eb6d0a93881e305b6861004a6525', 'message': 'Remove unused overrides and update default image\n\nThis change updates the default libvirt image value and removes\nseveral unused values overrides for the libvirt chart.\n\nChange-Id: I0a0b81de017f33c2cabf5311f5288c8f46191d8b\n'}]",0,839595,668de27da378eb6d0a93881e305b6861004a6525,9,3,1,21420,,,0,"Remove unused overrides and update default image

This change updates the default libvirt image value and removes
several unused values overrides for the libvirt chart.

Change-Id: I0a0b81de017f33c2cabf5311f5288c8f46191d8b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/95/839595/1 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/Chart.yaml', 'libvirt/values_overrides/queens-ubuntu_xenial.yaml', 'libvirt/values_overrides/rocky-ubuntu_xenial.yaml', 'libvirt/values_overrides/ocata-ubuntu_xenial.yaml', 'libvirt/values_overrides/victoria-ubuntu_focal.yaml', 'libvirt/values_overrides/pike-ubuntu_xenial.yaml', 'libvirt/values_overrides/wallaby-ubuntu_focal.yaml', 'libvirt/values.yaml', 'libvirt/values_overrides/rocky-opensuse_15.yaml', 'releasenotes/notes/libvirt.yaml']",10,668de27da378eb6d0a93881e305b6861004a6525,update-libvirt, - 0.1.11 Remove unused overrides and update default image,,3,37
openstack%2Fopenstack-helm-infra~master~I84bca2d685cf1c67b10eee3bb7c05deb2cc4670b,openstack/openstack-helm-infra,master,I84bca2d685cf1c67b10eee3bb7c05deb2cc4670b,Update several default ubuntu release defaults,MERGED,2022-04-27 16:30:04.000000000,2022-04-28 01:13:40.000000000,2022-04-28 01:12:17.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 16:30:04.000000000', 'files': ['tools/deployment/common/get-values-overrides.sh', 'roles/osh-run-script-set/defaults/main.yaml', 'roles/osh-run-script/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d200c9746448e9d12e2014e49d8aaf4fc0d3ecbb', 'message': 'Update several default ubuntu release defaults\n\nSeveral roles and scripts in the osh-infra repo have defaults for\nubuntu that are still on xenial when we mostly run bionic or newer.\n\nThis change updates these references to default to focal.\n\nChange-Id: I84bca2d685cf1c67b10eee3bb7c05deb2cc4670b\n'}]",0,839596,d200c9746448e9d12e2014e49d8aaf4fc0d3ecbb,8,2,1,21420,,,0,"Update several default ubuntu release defaults

Several roles and scripts in the osh-infra repo have defaults for
ubuntu that are still on xenial when we mostly run bionic or newer.

This change updates these references to default to focal.

Change-Id: I84bca2d685cf1c67b10eee3bb7c05deb2cc4670b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/839596/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/get-values-overrides.sh', 'roles/osh-run-script-set/defaults/main.yaml', 'roles/osh-run-script/defaults/main.yaml']",3,d200c9746448e9d12e2014e49d8aaf4fc0d3ecbb,update-roles, container_distro_version: focal, container_distro_version: xenial,3,3
openstack%2Fopenstack-helm-infra~master~Ic991664c2f18354fae3f8b21aee028bad4716987,openstack/openstack-helm-infra,master,Ic991664c2f18354fae3f8b21aee028bad4716987,Update kibana image default values,MERGED,2022-04-27 17:19:57.000000000,2022-04-28 01:11:39.000000000,2022-04-28 01:10:17.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 17:19:57.000000000', 'files': ['kibana/Chart.yaml', 'releasenotes/notes/kibana.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/34b3a013e4c4bcba092f7faa9a1c4fd3a95a3d99', 'message': 'Update kibana image default values\n\nThis change updates the default image values for the kibana chart\nto move the heat images from newton to wallaby.\n\nChange-Id: Ic991664c2f18354fae3f8b21aee028bad4716987\n'}]",0,839606,34b3a013e4c4bcba092f7faa9a1c4fd3a95a3d99,8,2,1,21420,,,0,"Update kibana image default values

This change updates the default image values for the kibana chart
to move the heat images from newton to wallaby.

Change-Id: Ic991664c2f18354fae3f8b21aee028bad4716987
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/06/839606/1 && git format-patch -1 --stdout FETCH_HEAD,"['kibana/Chart.yaml', 'releasenotes/notes/kibana.yaml', 'kibana/values.yaml']",3,34b3a013e4c4bcba092f7faa9a1c4fd3a95a3d99,update-kibana, register_kibana_indexes: docker.io/openstackhelm/heat:wallaby-ubuntu_focal flush_kibana_metadata: docker.io/openstackhelm/heat:wallaby-ubuntu_focal, register_kibana_indexes: docker.io/openstackhelm/heat:newton-ubuntu_xenial flush_kibana_metadata: docker.io/openstackhelm/heat:newton-ubuntu_xenial,4,3
openstack%2Fopenstack-helm-infra~master~I060436fca42870bcd61f4972303d3b6970128875,openstack/openstack-helm-infra,master,I060436fca42870bcd61f4972303d3b6970128875,Update powerdns default image values,MERGED,2022-04-27 17:21:28.000000000,2022-04-28 01:04:37.000000000,2022-04-28 01:02:42.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 17:21:28.000000000', 'files': ['powerdns/values.yaml', 'releasenotes/notes/powerdns.yaml', 'powerdns/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d8fd92bd5c990ac1df49d6bd5899f3b832a4205f', 'message': 'Update powerdns default image values\n\nThis change updates the default image values for the powerdns chart\nfrom queens to wallaby where it uses the heat image.\n\nChange-Id: I060436fca42870bcd61f4972303d3b6970128875\n'}]",0,839607,d8fd92bd5c990ac1df49d6bd5899f3b832a4205f,8,2,1,21420,,,0,"Update powerdns default image values

This change updates the default image values for the powerdns chart
from queens to wallaby where it uses the heat image.

Change-Id: I060436fca42870bcd61f4972303d3b6970128875
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/07/839607/1 && git format-patch -1 --stdout FETCH_HEAD,"['powerdns/values.yaml', 'releasenotes/notes/powerdns.yaml', 'powerdns/Chart.yaml']",3,d8fd92bd5c990ac1df49d6bd5899f3b832a4205f,update-powerdns,version: 0.1.5,version: 0.1.4,3,2
openstack%2Fopenstack-helm-infra~master~I712e0b7de4483474ebdec0997d5d6e24e02e8a44,openstack/openstack-helm-infra,master,I712e0b7de4483474ebdec0997d5d6e24e02e8a44,Update default image value in webhook chart,MERGED,2022-04-27 17:38:14.000000000,2022-04-28 01:03:23.000000000,2022-04-28 01:01:36.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 17:38:14.000000000', 'files': ['releasenotes/notes/kubernetes-keystone-webhook.yaml', 'kubernetes-keystone-webhook/Chart.yaml', 'kubernetes-keystone-webhook/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2717f0ce23a22856396b1440f94556c233328150', 'message': 'Update default image value in webhook chart\n\nThis change updates the default image value in the webhook chart\nfrom newton to wallaby.\n\nChange-Id: I712e0b7de4483474ebdec0997d5d6e24e02e8a44\n'}]",0,839612,2717f0ce23a22856396b1440f94556c233328150,8,2,1,21420,,,0,"Update default image value in webhook chart

This change updates the default image value in the webhook chart
from newton to wallaby.

Change-Id: I712e0b7de4483474ebdec0997d5d6e24e02e8a44
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/12/839612/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/kubernetes-keystone-webhook.yaml', 'kubernetes-keystone-webhook/Chart.yaml', 'kubernetes-keystone-webhook/values.yaml']",3,2717f0ce23a22856396b1440f94556c233328150,update-webhook, scripted_test: docker.io/openstackhelm/heat:wallaby-ubuntu_focal, scripted_test: docker.io/openstackhelm/heat:newton-ubuntu_xenial,3,2
openstack%2Fcharm-hacluster~stable%2Ffocal~I1c5d872e810dbf3f26af0860eb53c36880a94ca7,openstack/charm-hacluster,stable/focal,I1c5d872e810dbf3f26af0860eb53c36880a94ca7,Switch the stable/focal charm to build on 18.04,MERGED,2022-04-27 18:49:59.000000000,2022-04-28 00:52:53.000000000,2022-04-28 00:52:53.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 18:49:59.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/c40a1c0d0513d6dc0d2c79347e2ca04613e078cb', 'message': 'Switch the stable/focal charm to build on 18.04\n\nThe stable/focal branch needs to build on 18.04 so that it can be run on\n18.04 and 20.04\n\nChange-Id: I1c5d872e810dbf3f26af0860eb53c36880a94ca7\n'}]",0,839624,c40a1c0d0513d6dc0d2c79347e2ca04613e078cb,7,3,1,20870,,,0,"Switch the stable/focal charm to build on 18.04

The stable/focal branch needs to build on 18.04 so that it can be run on
18.04 and 20.04

Change-Id: I1c5d872e810dbf3f26af0860eb53c36880a94ca7
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/24/839624/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,c40a1c0d0513d6dc0d2c79347e2ca04613e078cb,charm-release-2204," channel: ""18.04"" channel: ""18.04"" channel: ""20.04"""," channel: ""20.04"" channel: ""20.04"" channel: ""22.04""",3,3
openstack%2Fdiskimage-builder~master~I9268811438d690d3f945b5d651b8b2ff6220bb96,openstack/diskimage-builder,master,I9268811438d690d3f945b5d651b8b2ff6220bb96,Switch to release-notes-jobs-python3,MERGED,2022-04-27 16:43:17.000000000,2022-04-28 00:52:18.000000000,2022-04-28 00:49:34.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 16:43:17.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9aa01afd4010a80d5c72878508c80a1c452b1535', 'message': ""Switch to release-notes-jobs-python3\n\nThe release-notes-jobs project-template ceased publishing release\nnotes in the tag pipeline in 2018 when\nhttps://review.opendev.org/622430 merged. Projects were expected to\nswitch their master branches to release-notes-jobs-python3 instead\naround that time, but DIB seems to have missed the boat. Update to\nthe modern one so that we'll go back to updating our published\nrelease notes every time a new release is tagged.\n\nChange-Id: I9268811438d690d3f945b5d651b8b2ff6220bb96\n""}]",0,839599,9aa01afd4010a80d5c72878508c80a1c452b1535,10,3,1,5263,,,0,"Switch to release-notes-jobs-python3

The release-notes-jobs project-template ceased publishing release
notes in the tag pipeline in 2018 when
https://review.opendev.org/622430 merged. Projects were expected to
switch their master branches to release-notes-jobs-python3 instead
around that time, but DIB seems to have missed the boat. Update to
the modern one so that we'll go back to updating our published
release notes every time a new release is tagged.

Change-Id: I9268811438d690d3f945b5d651b8b2ff6220bb96
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/99/839599/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,9aa01afd4010a80d5c72878508c80a1c452b1535,release-notes, - release-notes-jobs-python3, - release-notes-jobs,1,1
openstack%2Frequirements~master~I337389e1bc039ed42e7760c693924edf1ce4d04e,openstack/requirements,master,I337389e1bc039ed42e7760c693924edf1ce4d04e,update constraint for oslo.utils to new release 4.13.0,MERGED,2022-04-27 15:35:38.000000000,2022-04-28 00:26:52.000000000,2022-04-28 00:25:36.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 15:35:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4fdc415b2083b6c8a00158eeb91e5e015fc7ae8e', 'message': 'update constraint for oslo.utils to new release 4.13.0\n\nmeta: version: 4.13.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I337389e1bc039ed42e7760c693924edf1ce4d04e\n'}]",0,839576,4fdc415b2083b6c8a00158eeb91e5e015fc7ae8e,13,2,1,11131,,,0,"update constraint for oslo.utils to new release 4.13.0

meta: version: 4.13.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I337389e1bc039ed42e7760c693924edf1ce4d04e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/839576/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4fdc415b2083b6c8a00158eeb91e5e015fc7ae8e,new-release,oslo.utils===4.13.0,oslo.utils===4.12.2,1,1
openstack%2Fcharm-mysql-innodb-cluster~stable%2Ffocal~Id9cb60030ec94ec0494ea23d2016cc68c873e91a,openstack/charm-mysql-innodb-cluster,stable/focal,Id9cb60030ec94ec0494ea23d2016cc68c873e91a,Update to build using charmcraft - focal batch,MERGED,2022-02-24 14:05:28.000000000,2022-04-28 00:09:08.000000000,2022-04-28 00:09:08.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-24 14:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/6ce7d3f5fd2c19b3c3770883c19a75fad965dabc', 'message': ""Update to build using charmcraft - focal batch\n\nThe 'focal' batch includes charms that are distro based, rather than\nOpenStack release based.\n\nChange-Id: Id9cb60030ec94ec0494ea23d2016cc68c873e91a\n""}, {'number': 2, 'created': '2022-02-24 14:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/7ca64336dcf99621ef9d851985fdb8b0fbeb6973', 'message': ""Update to build using charmcraft - focal batch\n\nThe 'focal' batch includes charms that are distro based, rather than\nOpenStack release based.\n\nChange-Id: Id9cb60030ec94ec0494ea23d2016cc68c873e91a\n""}, {'number': 3, 'created': '2022-03-08 13:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/06da60d32b02edefdd220a30384709b37f8d8965', 'message': ""Update to build using charmcraft - focal batch\n\nThe 'focal' batch includes charms that are distro based, rather than\nOpenStack release based.\n\nChange-Id: Id9cb60030ec94ec0494ea23d2016cc68c873e91a\n""}, {'number': 4, 'created': '2022-03-17 01:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/df5319403245a7f607d9f8cdc55cbf0cd97797eb', 'message': ""Update to build using charmcraft - focal batch\n\nThe 'focal' batch includes charms that are distro based, rather than\nOpenStack release based.\n\nChange-Id: Id9cb60030ec94ec0494ea23d2016cc68c873e91a\n""}, {'number': 5, 'created': '2022-04-06 12:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/b61c9e7bc3131b945f13e1b94e5a31668a1e8d25', 'message': ""Update to build using charmcraft - focal batch\n\nThe 'focal' batch includes charms that are distro based, rather than\nOpenStack release based.\n\nNote: this has a modified charmcraft.yaml to work with bionic / tox\nneeds to be 3.18 (bionic comes with 2.5), so tox is pip installed as\nuser in the charmcraft lxd.\n\nChange-Id: Id9cb60030ec94ec0494ea23d2016cc68c873e91a\n""}, {'number': 6, 'created': '2022-04-06 13:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/544b87f6a88ecaae07c6011924eb27453875a755', 'message': ""Update to build using charmcraft - focal batch\n\nThe 'focal' batch includes charms that are distro based, rather than\nOpenStack release based.\n\nNote: this has a modified charmcraft.yaml to work with bionic / tox\nneeds to be 3.18 (bionic comes with 2.5), so tox is pip installed as\nuser in the charmcraft lxd.\n\nChange-Id: Id9cb60030ec94ec0494ea23d2016cc68c873e91a\n""}, {'number': 7, 'created': '2022-04-08 11:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/eba118db0ef4b95f67a51bb83be0c6800e3e1e28', 'message': ""Update to build using charmcraft - focal batch\n\nThe 'focal' batch includes charms that are distro based, rather than\nOpenStack release based.\n\nNote: this has a modified charmcraft.yaml to work with bionic / tox\nneeds to be 3.18 (bionic comes with 2.5), so tox is pip installed as\nuser in the charmcraft lxd.\n\nThe charmcraft build use 18.04 (bionic) to build on, but the charm will\nrun on 18.04 and 20.04.  This is so that the charm can be used to series\nupgrade from bionic to focal.\n\nChange-Id: Id9cb60030ec94ec0494ea23d2016cc68c873e91a\n""}, {'number': 8, 'created': '2022-04-08 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/e261ee105c76805646f983c835b5738f132bfe89', 'message': ""Update to build using charmcraft - focal batch\n\nThe 'focal' batch includes charms that are distro based, rather than\nOpenStack release based.\n\nNote: this has a modified charmcraft.yaml to work with bionic / tox\nneeds to be 3.18 (bionic comes with 2.5), so tox is pip installed as\nuser in the charmcraft lxd.\n\nThe charmcraft build use 18.04 (bionic) to build on, but the charm will\nrun on 18.04 and 20.04.  This is so that the charm can be used to series\nupgrade from bionic to focal.\n\nChange-Id: Id9cb60030ec94ec0494ea23d2016cc68c873e91a\n""}, {'number': 9, 'created': '2022-04-22 16:04:51.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'src/tests/bundles/impish-full-ha.yaml', 'src/tests/bundles/overlays/focal-full-ha.yaml.j2', 'src/tests/bundles/overlays/groovy-full-ha.yaml.j2', 'src/tests/bundles/overlays/impish-full-ha.yaml.j2', 'src/metadata.yaml', 'src/tests/bundles/focal-full.yaml', 'src/test-requirements.txt', 'src/tests/bundles/groovy-full.yaml', 'requirements.txt', 'src/tests/bundles/hirsute-full.yaml', 'src/tests/bundles/hirsute-full-ha.yaml', 'src/tests/bundles/impish.yaml', 'src/tests/bundles/groovy.yaml', 'src/tests/bundles/focal.yaml', 'build-requirements.txt', 'src/tests/bundles/focal-full-ha.yaml', 'src/tests/bundles/hirsute.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/impish-full.yaml', 'rename.sh', 'src/tests/bundles/overlays/hirsute-full-ha.yaml.j2', 'charmcraft.yaml', 'src/tests/bundles/groovy-full-ha.yaml', 'metadata.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/b522c6d328c9e7920133c15717d576a12ccfe54d', 'message': ""Update to build using charmcraft - focal batch\n\nThe 'focal' batch includes charms that are distro based, rather than\nOpenStack release based.\n\nNote: this has a modified charmcraft.yaml to work with bionic / tox\nneeds to be 3.18 (bionic comes with 2.5), so tox is pip installed as\nuser in the charmcraft lxd.\n\nThe charmcraft build use 18.04 (bionic) to build on, but the charm will\nrun on 18.04 and 20.04.  This is so that the charm can be used to series\nupgrade from bionic to focal.\n\nChange-Id: Id9cb60030ec94ec0494ea23d2016cc68c873e91a\n""}]",6,830822,b522c6d328c9e7920133c15717d576a12ccfe54d,39,3,9,20870,,,0,"Update to build using charmcraft - focal batch

The 'focal' batch includes charms that are distro based, rather than
OpenStack release based.

Note: this has a modified charmcraft.yaml to work with bionic / tox
needs to be 3.18 (bionic comes with 2.5), so tox is pip installed as
user in the charmcraft lxd.

The charmcraft build use 18.04 (bionic) to build on, but the charm will
run on 18.04 and 20.04.  This is so that the charm can be used to series
upgrade from bionic to focal.

Change-Id: Id9cb60030ec94ec0494ea23d2016cc68c873e91a
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/22/830822/9 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'src/tests/bundles/impish-full-ha.yaml', 'src/tests/bundles/overlays/focal-full-ha.yaml.j2', 'src/tests/bundles/overlays/groovy-full-ha.yaml.j2', 'src/tests/bundles/overlays/impish-full-ha.yaml.j2', 'src/metadata.yaml', 'src/tests/bundles/focal-full.yaml', 'src/tests/bundles/groovy-full.yaml', 'src/tests/bundles/hirsute-full.yaml', 'src/tests/bundles/hirsute-full-ha.yaml', 'src/tests/bundles/impish.yaml', 'src/tests/bundles/groovy.yaml', 'src/tests/bundles/focal.yaml', 'build-requirements.txt', 'src/tests/bundles/focal-full-ha.yaml', 'src/tests/bundles/hirsute.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/impish-full.yaml', 'rename.sh', 'src/tests/bundles/overlays/hirsute-full-ha.yaml.j2', 'charmcraft.yaml', 'src/tests/bundles/groovy-full-ha.yaml', 'metadata.yaml']",25,6ce7d3f5fd2c19b3c3770883c19a75fad965dabc,charmhub-migration-focal,src/metadata.yaml,,170,811
openstack%2Fdiskimage-builder~master~Ice83e0d49a4234301dc12daf828ba80fef414cdb,openstack/diskimage-builder,master,Ice83e0d49a4234301dc12daf828ba80fef414cdb,Fix dhcp-all-interfaces on debuntu systems,MERGED,2022-04-22 15:48:19.000000000,2022-04-28 00:06:35.000000000,2022-04-28 00:05:10.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-22 15:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9ffe36204a11b9448c2a34e32b57b5f9cf1e6503', 'message': 'Trigger dhcp-all-interfaces on udev move events\n\nNewer kernels in newer distro releases seem to not generate add events\nfor predictable interface names in udev and instead generate move\nevents. Trigger on these move events so that we function with\npredictable interface names in these cases.\n\nChange-Id: Ice83e0d49a4234301dc12daf828ba80fef414cdb\n'}, {'number': 2, 'created': '2022-04-22 18:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1b304216922f2cb3b06d2713b9dc09a97d6fa904', 'message': 'Trigger dhcp-all-interfaces on udev move events\n\nNewer kernels in newer distro releases seem to not generate add events\nfor predictable interface names in udev and instead generate move\nevents. Trigger on these move events so that we function with\npredictable interface names in these cases.\n\nChange-Id: Ice83e0d49a4234301dc12daf828ba80fef414cdb\n'}, {'number': 3, 'created': '2022-04-22 21:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cdcbc0f16776570cdd839c1c8d67e6daf3d1f14c', 'message': 'Trigger dhcp-all-interfaces on udev move events\n\nNewer kernels in newer distro releases seem to not generate add events\nfor predictable interface names in udev and instead generate move\nevents. Trigger on these move events so that we function with\npredictable interface names in these cases.\n\nChange-Id: Ice83e0d49a4234301dc12daf828ba80fef414cdb\n'}, {'number': 4, 'created': '2022-04-26 20:45:17.000000000', 'files': ['diskimage_builder/elements/dhcp-all-interfaces/install.d/dhcp-all-interfaces.sh'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7b41f8160bb8947f51a7f018a8d888d1aa5f14c4', 'message': 'Fix dhcp-all-interfaces on debuntu systems\n\nThere are two issues with dhcp-all-interfaces on debuntu interfaces\naddressed here. First is the path to dhclient lease files is\n/var/lib/dhcp not /var/lib/dhclient. Second there is a missing newline\nin the ENI interface file which causes a parse error.\n\nChange-Id: Ice83e0d49a4234301dc12daf828ba80fef414cdb\n'}]",10,839080,7b41f8160bb8947f51a7f018a8d888d1aa5f14c4,50,4,4,4146,,,0,"Fix dhcp-all-interfaces on debuntu systems

There are two issues with dhcp-all-interfaces on debuntu interfaces
addressed here. First is the path to dhclient lease files is
/var/lib/dhcp not /var/lib/dhclient. Second there is a missing newline
in the ENI interface file which causes a parse error.

Change-Id: Ice83e0d49a4234301dc12daf828ba80fef414cdb
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/80/839080/4 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/dhcp-all-interfaces/install.d/dhcp-all-interfaces-udev.rules'],1,9ffe36204a11b9448c2a34e32b57b5f9cf1e6503,revert-persistent-netifs,"SUBSYSTEM==""net"", KERNEL!=""lo"", ACTION==""add|move"", TAG+=""systemd"", ENV{SYSTEMD_WANTS}+=""dhcp-interface@$name.service""","SUBSYSTEM==""net"", KERNEL!=""lo"", ACTION==""add"", TAG+=""systemd"", ENV{SYSTEMD_WANTS}+=""dhcp-interface@$name.service""",1,1
openstack%2Fswift~master~Iaa66b9fe57c924445a5ede908053e78fc0ed8817,openstack/swift,master,Iaa66b9fe57c924445a5ede908053e78fc0ed8817,ring: Keep track of last primary nodes from last rebalance,NEW,2021-05-11 05:24:34.000000000,2022-04-27 23:01:19.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 05:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5ae5178abc79890373c02ef4dc5509eaa17fb445', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 2, 'created': '2021-05-12 05:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d6d68bb645d3f0142d7eb87a76e281f1e49201d', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nFinally, it also fixes deserialize_v1 to deal with fractional replicas\nproperly.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 3, 'created': '2021-05-13 04:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5610b1f1a524f0bd861d9aee49b58d01bcfa1d12', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nFinally, it also fixes deserialize_v1 to deal with fractional replicas\nproperly.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 4, 'created': '2021-08-06 01:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b611c12e62834a2adfb04c2007c0d24000d71ded', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 5, 'created': '2021-08-13 07:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/58d95d649a98f61f2118a05d334a0f9f32ba0dc0', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 6, 'created': '2021-09-11 01:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8915edc07b039bdd7012be714b4806fd1045ed89', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects. Note that this\nmay only be serialized to ring.gz files if using ring-format version 2.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 7, 'created': '2021-09-14 22:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cc3a1653f900254a442e8aed787017a3871a9196', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects. Note that this\nmay only be serialized to ring.gz files if using ring-format version 2.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 8, 'created': '2021-09-16 18:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8fe149c8e4a83094ca1fba71eb7f74e43cfddf71', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects. Note that this\nmay only be serialized to ring.gz files if using ring-format version 2.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 9, 'created': '2021-09-20 17:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f60aca1b1d8fac2d4112f2c54fc28b3d48217534', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects. Note that this\nmay only be serialized to ring.gz files if using ring-format version 2.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 10, 'created': '2021-09-21 20:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3cbddaee3dbc2d6bb4fdaa7eb079db8c830fc844', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects. Note that this\nmay only be serialized to ring.gz files if using ring-format version 2.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 11, 'created': '2021-09-23 19:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bfbaa63a27feef68f64d904fbcc6c5d226fed85c', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects. Note that this\nmay only be serialized to ring.gz files if using ring-format version 2.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 12, 'created': '2021-09-23 20:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5bac7c33d84b35dc5bf550639c7d48fc6c72f634', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects. Note that this\nmay only be serialized to ring.gz files if using ring-format version 2.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 13, 'created': '2021-10-12 20:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1e37c8f3849948e9fb756552176b7e8c3d422373', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects. Note that this\nmay only be serialized to ring.gz files if using ring-format version 2.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}, {'number': 14, 'created': '2021-10-13 00:27:30.000000000', 'files': ['swift/common/ring/builder.py', 'test/unit/common/ring/test_builder.py', 'test/unit/common/ring/test_ring.py', 'swift/common/ring/utils.py', 'swift/common/ring/ring.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5ab3c6aebb8b6e536de64ec646a33ecc79a4efb5', 'message': ""ring: Keep track of last primary nodes from last rebalance\n\nThis patch adds an additional part2dev array to the ring, which is\nplumbed through the ring, ring_data and builder objects. Note that this\nmay only be serialized to ring.gz files if using ring-format version 2.\n\nBecause we only ever move 1 partition replica at a time during a\nrebalance we can store the last node that was the primary for a\npartition before the last rebalance.\nThis will allow us to be smarter in places like the reconstructor and\nreplicators as we'll know where to look for a missing replica/fragment\nafter a rebalance.\n\nThe array is filled with NONE_DEVs at the start of a rebalance, and then\nan old device is placed inside when wanting assigning new partitions.\n\nA ring method `get_last_part_node(part)` now exists which will return\nthe last primary node for a part or None if there wasn't any. The latter\ncan occur if a device is removed or a part didn't move during the last\nrebalance.\n\nThis patch also adds a 'for_read' optional parameter for get_more_nodes\nwhich when true will add the last primary to the front of the handoff\nlist, if there is is one.\n\nChange-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817\n""}]",44,790550,5ab3c6aebb8b6e536de64ec646a33ecc79a4efb5,49,3,14,7233,,,0,"ring: Keep track of last primary nodes from last rebalance

This patch adds an additional part2dev array to the ring, which is
plumbed through the ring, ring_data and builder objects. Note that this
may only be serialized to ring.gz files if using ring-format version 2.

Because we only ever move 1 partition replica at a time during a
rebalance we can store the last node that was the primary for a
partition before the last rebalance.
This will allow us to be smarter in places like the reconstructor and
replicators as we'll know where to look for a missing replica/fragment
after a rebalance.

The array is filled with NONE_DEVs at the start of a rebalance, and then
an old device is placed inside when wanting assigning new partitions.

A ring method `get_last_part_node(part)` now exists which will return
the last primary node for a part or None if there wasn't any. The latter
can occur if a device is removed or a part didn't move during the last
rebalance.

This patch also adds a 'for_read' optional parameter for get_more_nodes
which when true will add the last primary to the front of the handoff
list, if there is is one.

Change-Id: Iaa66b9fe57c924445a5ede908053e78fc0ed8817
",git fetch https://review.opendev.org/openstack/swift refs/changes/50/790550/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/ring/builder.py', 'test/unit/common/ring/test_builder.py', 'test/unit/common/ring/test_ring.py', 'swift/common/ring/utils.py', 'swift/common/ring/ring.py']",5,5ae5178abc79890373c02ef4dc5509eaa17fb445,ring-v2,"from swift.common.ring.utils import tiers_for_dev, NONE_DEV next_part_power=None, version=None, last_part2dev_id=None): self.last_part2dev_id = last_part2dev_id ring_dict['last_primary2dev_id'] = None # Attempt to load the last primary array ring_dict['last_primary2dev_id'] = array.array( 'H', gz_file.read(2 * partition_count)) or None ring_data.get('version'), ring_data.get('last_primary2dev_id')) part2devs = ring['replica2part2dev_id'] if ring.get('last_part2dev_id'): part2devs.append(ring['last_part2dev_id']) for part2dev_id in part2devs: 'last_part2dev_id': self.last_part2dev_id, self._last_part2dev_id = ring_data.last_part2dev_id def get_last_part_node(self, part): """""" Return the node that was a primary for the given part before the last rebalance, if there was a previous owner. This can only return nodes that were primaries in last partition. """""" if self._last_part2dev_id and part < len(self._last_part2dev_id): dev_id = self._last_part2dev_id[part] if dev_id != NONE_DEV: return self.devs[dev_id] return None ","from swift.common.ring.utils import tiers_for_dev next_part_power=None, version=None): ring_data.get('version')) for part2dev_id in ring['replica2part2dev_id']:",91,12
openstack%2Fdevstack~master~I132b0e1f5033c4f109a8b8cc776c0877574c4a49,openstack/devstack,master,I132b0e1f5033c4f109a8b8cc776c0877574c4a49,Tolerate missing deps in get-stats.py,MERGED,2022-04-25 13:41:28.000000000,2022-04-27 22:50:34.000000000,2022-04-27 22:49:07.000000000,"[{'_account_id': 4393}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-04-25 13:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9e5c98bea89ce0753b6fa6b06c54633bee5daff5', 'message': 'Tolerate missing deps in get-stats.py\n\nIn order to run on systems where not all requirements are present,\nwe should be tolerant of missing external dependencies, such as\npsutil and pymysql. Print a warning (to stderr) and just leave out\nthose stats in that case.\n\nRelated-Bug: #1970195\nChange-Id: I132b0e1f5033c4f109a8b8cc776c0877574c4a49\n'}, {'number': 2, 'created': '2022-04-26 13:54:54.000000000', 'files': ['roles/capture-performance-data/tasks/main.yaml', 'tools/get-stats.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b601c7b1e8a3ec4816cb827ccd8bf909a05debb', 'message': 'Tolerate missing deps in get-stats.py\n\nIn order to run on systems where not all requirements are present,\nwe should be tolerant of missing external dependencies, such as\npsutil and pymysql. Print a warning (to stderr) and just leave out\nthose stats in that case.\n\nAlso make running the stats collector use ignore_errors:yes to avoid\nfailures in the future. I think the stats is not critical enough to\nfail a job for bugs like this.\n\nRelated-Bug: #1970195\nChange-Id: I132b0e1f5033c4f109a8b8cc776c0877574c4a49\n'}]",12,839217,1b601c7b1e8a3ec4816cb827ccd8bf909a05debb,29,10,2,4393,,,0,"Tolerate missing deps in get-stats.py

In order to run on systems where not all requirements are present,
we should be tolerant of missing external dependencies, such as
psutil and pymysql. Print a warning (to stderr) and just leave out
those stats in that case.

Also make running the stats collector use ignore_errors:yes to avoid
failures in the future. I think the stats is not critical enough to
fail a job for bugs like this.

Related-Bug: #1970195
Change-Id: I132b0e1f5033c4f109a8b8cc776c0877574c4a49
",git fetch https://review.opendev.org/openstack/devstack refs/changes/17/839217/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/get-stats.py'],1,9e5c98bea89ce0753b6fa6b06c54633bee5daff5,perf-deps," try: import psutil except ImportError: psutil = None print('No psutil, process information will not be included', file=sys.stderr) try: import pymysql except ImportError: pymysql = None print('No pymysql, database information will not be included', file=sys.stderr) 'db': pymysql and args.db_pass and get_db_stats(args.db_host, args.db_user, args.db_pass) or [], 'processes': psutil and get_processes_stats(args.process) or [],","import psutilimport pymysql 'db': args.db_pass and get_db_stats(args.db_host, args.db_user, args.db_pass) or [], 'processes': get_processes_stats(args.process),",18,6
openstack%2Fopenstack-helm~master~Iedab57743f7acce5af88d90e029ac9c6b6af3fe8,openstack/openstack-helm,master,Iedab57743f7acce5af88d90e029ac9c6b6af3fe8,Update default image values for designate,MERGED,2022-04-27 14:08:31.000000000,2022-04-27 22:44:55.000000000,2022-04-27 22:42:44.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 14:08:31.000000000', 'files': ['designate/values.yaml', 'releasenotes/notes/designate.yaml', 'designate/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8f2a6e258023370f462e03441285c66d4f63f233', 'message': 'Update default image values for designate\n\nThis change updates the default image values for the designate\nchart from queens to wallaby.\n\nChange-Id: Iedab57743f7acce5af88d90e029ac9c6b6af3fe8\n'}]",0,839554,8f2a6e258023370f462e03441285c66d4f63f233,9,3,1,21420,,,0,"Update default image values for designate

This change updates the default image values for the designate
chart from queens to wallaby.

Change-Id: Iedab57743f7acce5af88d90e029ac9c6b6af3fe8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/54/839554/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/values.yaml', 'releasenotes/notes/designate.yaml', 'designate/Chart.yaml']",3,8f2a6e258023370f462e03441285c66d4f63f233,update-designate,version: 0.2.4,version: 0.2.3,16,14
openstack%2Fopenstack-helm~master~I6df65334757e13a79b8872a12c2d87b97068c162,openstack/openstack-helm,master,I6df65334757e13a79b8872a12c2d87b97068c162,Update image defaults to wallaby for ceilometer,MERGED,2022-04-27 15:09:25.000000000,2022-04-27 22:43:37.000000000,2022-04-27 22:41:45.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 15:09:25.000000000', 'files': ['ceilometer/values.yaml', 'releasenotes/notes/ceilometer.yaml', 'ceilometer/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d7696992324a3acc3ebe08067a4ef66c53f57acc', 'message': 'Update image defaults to wallaby for ceilometer\n\nThis change is to update the default image values for the\nceilometer chart from ocata to wallaby.\n\nChange-Id: I6df65334757e13a79b8872a12c2d87b97068c162\n'}]",0,839571,d7696992324a3acc3ebe08067a4ef66c53f57acc,8,2,1,21420,,,0,"Update image defaults to wallaby for ceilometer

This change is to update the default image values for the
ceilometer chart from ocata to wallaby.

Change-Id: I6df65334757e13a79b8872a12c2d87b97068c162
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/71/839571/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/values.yaml', 'releasenotes/notes/ceilometer.yaml', 'ceilometer/Chart.yaml']",3,d7696992324a3acc3ebe08067a4ef66c53f57acc,update-ceilometer,version: 0.2.4,version: 0.2.3,13,12
openstack%2Fopenstack-helm~master~I60ab94561b3376a05fdbfdedbe17f842cdc1992f,openstack/openstack-helm,master,I60ab94561b3376a05fdbfdedbe17f842cdc1992f,Update mistral default image values to wallaby,MERGED,2022-04-27 14:28:33.000000000,2022-04-27 22:42:42.000000000,2022-04-27 22:42:42.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 14:28:33.000000000', 'files': ['mistral/values.yaml', 'mistral/Chart.yaml', 'releasenotes/notes/mistral.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f475f1e1276cafff6682f7fde990653948aca3d2', 'message': 'Update mistral default image values to wallaby\n\nThis change updates the mistral default image values from ocata\nto wallaby.\n\nChange-Id: I60ab94561b3376a05fdbfdedbe17f842cdc1992f\n'}]",0,839559,f475f1e1276cafff6682f7fde990653948aca3d2,7,2,1,21420,,,0,"Update mistral default image values to wallaby

This change updates the mistral default image values from ocata
to wallaby.

Change-Id: I60ab94561b3376a05fdbfdedbe17f842cdc1992f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/59/839559/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/values.yaml', 'mistral/Chart.yaml', 'releasenotes/notes/mistral.yaml']",3,f475f1e1276cafff6682f7fde990653948aca3d2,update-mistral, - 0.2.3 Update default imaage values to Wallaby,,13,12
openstack%2Fopenstack-helm~master~I3ff76c41b643e97658abf71ccb20255a0d224c01,openstack/openstack-helm,master,I3ff76c41b643e97658abf71ccb20255a0d224c01,Update magnum default image values to wallaby,MERGED,2022-04-27 14:11:52.000000000,2022-04-27 22:42:02.000000000,2022-04-27 22:42:02.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 14:11:52.000000000', 'files': ['releasenotes/notes/magnum.yaml', 'magnum/Chart.yaml', 'magnum/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/91ddf9ac3b04913ab8e57806fba22da36736b01e', 'message': 'Update magnum default image values to wallaby\n\nThis change updates the default image values for the magnum chart\nto wallaby from ocata.\n\nChange-Id: I3ff76c41b643e97658abf71ccb20255a0d224c01\n'}]",0,839555,91ddf9ac3b04913ab8e57806fba22da36736b01e,7,2,1,21420,,,0,"Update magnum default image values to wallaby

This change updates the default image values for the magnum chart
to wallaby from ocata.

Change-Id: I3ff76c41b643e97658abf71ccb20255a0d224c01
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/839555/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/magnum.yaml', 'magnum/Chart.yaml', 'magnum/values.yaml']",3,91ddf9ac3b04913ab8e57806fba22da36736b01e,update-magnum, bootstrap: docker.io/openstackhelm/heat:wallaby-ubuntu_focal db_init: docker.io/openstackhelm/heat:wallaby-ubuntu_focal magnum_db_sync: docker.io/openstackhelm/magnum:wallaby-ubuntu_focal db_drop: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_user: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_service: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_endpoints: docker.io/openstackhelm/heat:wallaby-ubuntu_focal magnum_api: docker.io/openstackhelm/magnum:wallaby-ubuntu_focal magnum_conductor: docker.io/openstackhelm/magnum:wallaby-ubuntu_focal, bootstrap: docker.io/openstackhelm/heat:ocata-ubuntu_xenial db_init: docker.io/openstackhelm/heat:ocata-ubuntu_xenial magnum_db_sync: docker.io/openstackhelm/magnum:ocata-ubuntu_xenial db_drop: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ks_user: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ks_service: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ks_endpoints: docker.io/openstackhelm/heat:ocata-ubuntu_xenial magnum_api: docker.io/openstackhelm/magnum:ocata-ubuntu_xenial magnum_conductor: docker.io/openstackhelm/magnum:ocata-ubuntu_xenial,11,10
openstack%2Fopenstack-helm~master~Iea2804d45105713d7a8520865a862f6f8b6aa243,openstack/openstack-helm,master,Iea2804d45105713d7a8520865a862f6f8b6aa243,Update tempest image defaults to focal,MERGED,2022-04-27 15:01:39.000000000,2022-04-27 22:41:59.000000000,2022-04-27 22:41:59.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 15:01:39.000000000', 'files': ['tempest/Chart.yaml', 'tempest/values.yaml', 'releasenotes/notes/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/51b2952ca383e755a2840498b0fd51ce057b7961', 'message': 'Update tempest image defaults to focal\n\nThis change updates the default image values for tempest to\nfocal and wallaby.\n\nChange-Id: Iea2804d45105713d7a8520865a862f6f8b6aa243\n'}]",0,839567,51b2952ca383e755a2840498b0fd51ce057b7961,7,2,1,21420,,,0,"Update tempest image defaults to focal

This change updates the default image values for tempest to
focal and wallaby.

Change-Id: Iea2804d45105713d7a8520865a862f6f8b6aa243
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/67/839567/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/Chart.yaml', 'tempest/values.yaml', 'releasenotes/notes/tempest.yaml']",3,51b2952ca383e755a2840498b0fd51ce057b7961,update-tempest, - 0.2.4 Update default image values to Wallaby,,4,3
openstack%2Fopenstack-helm~master~I66ee14dd2ba5dc12a236269f414950c7aef8107d,openstack/openstack-helm,master,I66ee14dd2ba5dc12a236269f414950c7aef8107d,Update default image values for rally to wallaby,MERGED,2022-04-27 15:15:04.000000000,2022-04-27 22:39:45.000000000,2022-04-27 22:37:51.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 15:15:04.000000000', 'files': ['rally/Chart.yaml', 'releasenotes/notes/rally.yaml', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b7bec7ba410b95a79d447ab8e959032bbf91dea6', 'message': 'Update default image values for rally to wallaby\n\nThis change updates the default image values from ocata to\nwallaby for the rally chart.\n\nChange-Id: I66ee14dd2ba5dc12a236269f414950c7aef8107d\n'}]",0,839574,b7bec7ba410b95a79d447ab8e959032bbf91dea6,8,2,1,21420,,,0,"Update default image values for rally to wallaby

This change updates the default image values from ocata to
wallaby for the rally chart.

Change-Id: I66ee14dd2ba5dc12a236269f414950c7aef8107d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/74/839574/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/Chart.yaml', 'releasenotes/notes/rally.yaml', 'rally/values.yaml']",3,b7bec7ba410b95a79d447ab8e959032bbf91dea6,update-rally, ks_user: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_service: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_endpoints: docker.io/openstackhelm/heat:wallaby-ubuntu_focal, ks_user: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ks_service: docker.io/openstackhelm/heat:ocata-ubuntu_xenial ks_endpoints: docker.io/openstackhelm/heat:ocata-ubuntu_xenial,5,4
openstack%2Fopenstack-helm-infra~master~Ia94cfb62a6602dcaf465c2c314ee75d24cff4286,openstack/openstack-helm-infra,master,Ia94cfb62a6602dcaf465c2c314ee75d24cff4286,Update default image value in elasticsearch,MERGED,2022-04-27 17:40:12.000000000,2022-04-27 22:22:18.000000000,2022-04-27 22:20:54.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2022-04-27 17:40:12.000000000', 'files': ['elasticsearch/values.yaml', 'releasenotes/notes/elasticsearch.yaml', 'elasticsearch/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/09d8d190eff214519ec8e2a4bd50a9c27de57ca4', 'message': 'Update default image value in elasticsearch\n\nThis change updates the default image value in the elasticsearch\nchart from newton to wallaby for the one image that utilizes a\nheat image.\n\nChange-Id: Ia94cfb62a6602dcaf465c2c314ee75d24cff4286\n'}]",0,839613,09d8d190eff214519ec8e2a4bd50a9c27de57ca4,9,3,1,21420,,,0,"Update default image value in elasticsearch

This change updates the default image value in the elasticsearch
chart from newton to wallaby for the one image that utilizes a
heat image.

Change-Id: Ia94cfb62a6602dcaf465c2c314ee75d24cff4286
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/13/839613/1 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/values.yaml', 'releasenotes/notes/elasticsearch.yaml', 'elasticsearch/Chart.yaml']",3,09d8d190eff214519ec8e2a4bd50a9c27de57ca4,update-elasticsearch,version: 0.2.18,version: 0.2.17,3,2
openstack%2Frequirements~stable%2Fwallaby~I68bf128274078653d4f072c58cc999d96b0be1b7,openstack/requirements,stable/wallaby,I68bf128274078653d4f072c58cc999d96b0be1b7,update constraint for oslo.utils to new release 4.8.2,MERGED,2022-04-27 15:52:45.000000000,2022-04-27 22:18:56.000000000,2022-04-27 22:18:56.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 15:52:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/00fe0e1f1e6583bc014b561df1c4b0391d07ea62', 'message': 'update constraint for oslo.utils to new release 4.8.2\n\nmeta: version: 4.8.2\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I61e3c88d31680709b71ff8226fca29a6e2695b94\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I68bf128274078653d4f072c58cc999d96b0be1b7\n'}]",0,839587,00fe0e1f1e6583bc014b561df1c4b0391d07ea62,7,2,1,11131,,,0,"update constraint for oslo.utils to new release 4.8.2

meta: version: 4.8.2
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I61e3c88d31680709b71ff8226fca29a6e2695b94
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I68bf128274078653d4f072c58cc999d96b0be1b7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/839587/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,00fe0e1f1e6583bc014b561df1c4b0391d07ea62,new-release,oslo.utils===4.8.2,oslo.utils===4.8.1,1,1
openstack%2Frequirements~master~I76fc17af5fc35be6663fbfa60009813ae7bb828f,openstack/requirements,master,I76fc17af5fc35be6663fbfa60009813ae7bb828f,update constraint for oslo.cache to new release 2.11.0,MERGED,2022-04-27 15:37:14.000000000,2022-04-27 22:17:39.000000000,2022-04-27 22:15:54.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 15:37:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5d37ce843c51f4e6ce441bccb97b71fc2cea27f4', 'message': 'update constraint for oslo.cache to new release 2.11.0\n\nmeta: version: 2.11.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I76fc17af5fc35be6663fbfa60009813ae7bb828f\n'}]",0,839580,5d37ce843c51f4e6ce441bccb97b71fc2cea27f4,8,2,1,11131,,,0,"update constraint for oslo.cache to new release 2.11.0

meta: version: 2.11.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I76fc17af5fc35be6663fbfa60009813ae7bb828f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/839580/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5d37ce843c51f4e6ce441bccb97b71fc2cea27f4,new-release,oslo.cache===2.11.0,oslo.cache===2.10.1,1,1
openstack%2Frequirements~stable%2Fwallaby~I84b8e11c602b002896c01812381772f815486ace,openstack/requirements,stable/wallaby,I84b8e11c602b002896c01812381772f815486ace,update constraint for oslo.messaging to new release 12.7.3,MERGED,2022-04-27 15:52:14.000000000,2022-04-27 22:15:51.000000000,2022-04-27 22:15:51.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 15:52:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/320f43f36a86f7741b21f3a2e346c9d48c69899d', 'message': 'update constraint for oslo.messaging to new release 12.7.3\n\nmeta: version: 12.7.3\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I61e3c88d31680709b71ff8226fca29a6e2695b94\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I84b8e11c602b002896c01812381772f815486ace\n'}]",0,839586,320f43f36a86f7741b21f3a2e346c9d48c69899d,7,2,1,11131,,,0,"update constraint for oslo.messaging to new release 12.7.3

meta: version: 12.7.3
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I61e3c88d31680709b71ff8226fca29a6e2695b94
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I84b8e11c602b002896c01812381772f815486ace
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/839586/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,320f43f36a86f7741b21f3a2e346c9d48c69899d,new-release,oslo.messaging===12.7.3,oslo.messaging===12.7.2,1,1
openstack%2Floci~master~I373f3f1e745d4af19f4266c48949c48d55e715eb,openstack/loci,master,I373f3f1e745d4af19f4266c48949c48d55e715eb,Remove supported releases for placement,MERGED,2022-03-20 16:33:33.000000000,2022-04-27 22:13:41.000000000,2022-04-27 22:13:41.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-03-20 16:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/8da6d026d599101db67c510ebb986d929ee7b210', 'message': 'Remove supported releases for placement\n\nPlacement is now ran by default for all latest supported releases\nof openstack. This change removes the supported_releases field\nto make sure each release of openstack we build now correctly\nsupports it.\n\nChange-Id: I373f3f1e745d4af19f4266c48949c48d55e715eb\n'}, {'number': 2, 'created': '2022-03-25 21:33:59.000000000', 'files': ['.zuul.d/placement.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/8d56b69f5b50ddf2b2687cb473aae86f43ea7510', 'message': 'Remove supported releases for placement\n\nPlacement is now ran by default for all latest supported releases\nof openstack. This change removes the supported_releases field\nto make sure each release of openstack we build now correctly\nsupports it.\n\nChange-Id: I373f3f1e745d4af19f4266c48949c48d55e715eb\n'}]",0,834393,8d56b69f5b50ddf2b2687cb473aae86f43ea7510,9,4,2,21420,,,0,"Remove supported releases for placement

Placement is now ran by default for all latest supported releases
of openstack. This change removes the supported_releases field
to make sure each release of openstack we build now correctly
supports it.

Change-Id: I373f3f1e745d4af19f4266c48949c48d55e715eb
",git fetch https://review.opendev.org/openstack/loci refs/changes/93/834393/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/placement.yaml'],1,8da6d026d599101db67c510ebb986d929ee7b210,placement,," supported_releases: [""stein"", ""train"", ""master""]",0,1
openstack%2Floci~master~I23271067587dff938c3bcce4f798db8dc33a428b,openstack/loci,master,I23271067587dff938c3bcce4f798db8dc33a428b,Remove python2 references from requirements.sh,MERGED,2022-04-27 13:20:01.000000000,2022-04-27 22:12:29.000000000,2022-04-27 22:12:29.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 13:20:01.000000000', 'files': ['scripts/requirements.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/23a95c5e199624f308bb1fb1e8ff2888337903ff', 'message': 'Remove python2 references from requirements.sh\n\nThis change removes the python 2 references and workarounds from\nthe requirements.sh script. This is part of the effort to remove\nthe python 2 uses and workarounds from the loci repository.\n\nChange-Id: I23271067587dff938c3bcce4f798db8dc33a428b\n'}]",0,839525,23a95c5e199624f308bb1fb1e8ff2888337903ff,7,2,1,21420,,,0,"Remove python2 references from requirements.sh

This change removes the python 2 references and workarounds from
the requirements.sh script. This is part of the effort to remove
the python 2 uses and workarounds from the loci repository.

Change-Id: I23271067587dff938c3bcce4f798db8dc33a428b
",git fetch https://review.opendev.org/openstack/loci refs/changes/25/839525/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/requirements.sh'],1,23a95c5e199624f308bb1fb1e8ff2888337903ff,cleanup,sed -i '/^futures===/d' /upper-constraints.txt,"# workaround unicode issue with 44.1.1 setuptools on python2 and scandir 1.4 [[ ""${PYTHON3}"" == ""no"" ]] && pip install -c /upper-constraints.txt scandir ||: [[ ""${PYTHON3}"" != ""no"" ]] && sed -i '/^futures===/d' /upper-constraints.txt # Ensure M2Crypto doesn't need to be built because it can't be built with # the default openssl devel distro packages for ubuntu/centos. (This is # because those libraries are not compatible with M2Crypto (outdated). # M2Crypto is built due to pywbem requirements # https://github.com/pywbem/pywbem/blob/20b2835e26cef1d2469e9a8fb6b2e8c66cf5a128/requirements.txt#L13 # so removing pywbem is enough for most cases on python2. if [[ ""${PYTHON3}"" == ""no"" ]]; then sed -i '/pywbem/d' /upper-constraints.txt sed -i '/M2Crypto/d' /upper-constraints.txt fi",1,15
openstack%2Floci~master~I7edf860a0b035d91aa9a3f8e2e3af1e71ce61065,openstack/loci,master,I7edf860a0b035d91aa9a3f8e2e3af1e71ce61065,Remove python2 workaround in cleanup.sh,MERGED,2022-04-27 13:22:57.000000000,2022-04-27 22:12:27.000000000,2022-04-27 22:12:27.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 13:22:57.000000000', 'files': ['scripts/cleanup.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/6c1f0290d63c0672dbd50a7250ce31fc273a65b2', 'message': 'Remove python2 workaround in cleanup.sh\n\nThis change removes a workaround for python 2 in the cleanup.sh\nscript. This is part of the effort to remove the python 2\nhandling in the loci repo.\n\nChange-Id: I7edf860a0b035d91aa9a3f8e2e3af1e71ce61065\n'}]",0,839527,6c1f0290d63c0672dbd50a7250ce31fc273a65b2,7,2,1,21420,,,0,"Remove python2 workaround in cleanup.sh

This change removes a workaround for python 2 in the cleanup.sh
script. This is part of the effort to remove the python 2
handling in the loci repo.

Change-Id: I7edf860a0b035d91aa9a3f8e2e3af1e71ce61065
",git fetch https://review.opendev.org/openstack/loci refs/changes/27/839527/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/cleanup.sh'],1,6c1f0290d63c0672dbd50a7250ce31fc273a65b2,python2, python3-virtualenv," if [[ ""${PYTHON3}"" == ""no"" ]]; then virtualenv_package=""python-virtualenv"" else virtualenv_package=""python3-virtualenv"" fi ""${virtualenv_package}""",1,6
openstack%2Floci~master~I7176d665548a14442b06214e450e7b17e54dd85d,openstack/loci,master,I7176d665548a14442b06214e450e7b17e54dd85d,Remove python 2 workaround in fetch_wheels.sh,MERGED,2022-04-27 13:25:24.000000000,2022-04-27 22:12:02.000000000,2022-04-27 22:12:02.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 13:25:24.000000000', 'files': ['scripts/fetch_wheels.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/8e486b84cf6a3631a5dc1ea28e2b380e5e5b99ae', 'message': 'Remove python 2 workaround in fetch_wheels.sh\n\nThis change removes a workaround to handle python 2 vs python 3\nin the fetch_wheels.sh script. This is part of the effort to\nremove the python 2 workarounds and references in the loci repo.\n\nChange-Id: I7176d665548a14442b06214e450e7b17e54dd85d\n'}]",0,839529,8e486b84cf6a3631a5dc1ea28e2b380e5e5b99ae,7,2,1,21420,,,0,"Remove python 2 workaround in fetch_wheels.sh

This change removes a workaround to handle python 2 vs python 3
in the fetch_wheels.sh script. This is part of the effort to
remove the python 2 workarounds and references in the loci repo.

Change-Id: I7176d665548a14442b06214e450e7b17e54dd85d
",git fetch https://review.opendev.org/openstack/loci refs/changes/29/839529/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/fetch_wheels.sh'],1,8e486b84cf6a3631a5dc1ea28e2b380e5e5b99ae,python2,python3 $(dirname $0)/fetch_wheels.py,"if [[ ""${PYTHON3}"" == ""no"" ]]; then python=python2 else python=python3 fi ${python} $(dirname $0)/fetch_wheels.py",1,7
openstack%2Floci~master~Icccec48297cdd18577ec3fb28efa173e3a7ef000,openstack/loci,master,Icccec48297cdd18577ec3fb28efa173e3a7ef000,Remove python 2 workaround in fetch_wheels.sh,MERGED,2022-04-27 16:03:44.000000000,2022-04-27 22:11:59.000000000,2022-04-27 22:11:59.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 16:03:44.000000000', 'files': ['scripts/fetch_wheels.py'], 'web_link': 'https://opendev.org/openstack/loci/commit/2ad0531bb02c848ea8e3cda9f7c19530eccfaef1', 'message': 'Remove python 2 workaround in fetch_wheels.sh\n\nThis change removes an import workaround for python 2 in the\nfetch_wheels script that is no longer needed since openstack\nhas moved away from python 2. This is part of the effort to\nremove all the python 2 workarounds in the loci repo.\n\nChange-Id: Icccec48297cdd18577ec3fb28efa173e3a7ef000\n'}]",0,839590,2ad0531bb02c848ea8e3cda9f7c19530eccfaef1,7,2,1,21420,,,0,"Remove python 2 workaround in fetch_wheels.sh

This change removes an import workaround for python 2 in the
fetch_wheels script that is no longer needed since openstack
has moved away from python 2. This is part of the effort to
remove all the python 2 workarounds in the loci repo.

Change-Id: Icccec48297cdd18577ec3fb28efa173e3a7ef000
",git fetch https://review.opendev.org/openstack/loci refs/changes/90/839590/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/fetch_wheels.py'],1,2ad0531bb02c848ea8e3cda9f7c19530eccfaef1,python2,from urllib import request as urllib2, try: import urllib2 except ImportError: # python3 from urllib import request as urllib2,1,6
openstack%2Floci~master~I5b87806d2f07c4d49ac994c0bda8d1e154e02e1d,openstack/loci,master,I5b87806d2f07c4d49ac994c0bda8d1e154e02e1d,Remove ubuntu xenial image building,MERGED,2022-04-27 19:20:14.000000000,2022-04-27 22:05:55.000000000,2022-04-27 22:05:55.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 19:20:14.000000000', 'files': ['dockerfiles/ubuntu_xenial/sources.list', 'dockerfiles/ubuntu_xenial/ceph.gpg', 'dockerfiles/ubuntu_xenial/Dockerfile', 'dockerfiles/ubuntu_xenial/cloud-archive.gpg'], 'web_link': 'https://opendev.org/openstack/loci/commit/804023692e8a69a3a29f3e4a54384aa3ae28fd36', 'message': ""Remove ubuntu xenial image building\n\nThis change removes the ubuntu xenial image building support since\nit's quite old at this point and most services have moved on to\nnewer releases.\n\nChange-Id: I5b87806d2f07c4d49ac994c0bda8d1e154e02e1d\n""}]",0,839629,804023692e8a69a3a29f3e4a54384aa3ae28fd36,7,2,1,21420,,,0,"Remove ubuntu xenial image building

This change removes the ubuntu xenial image building support since
it's quite old at this point and most services have moved on to
newer releases.

Change-Id: I5b87806d2f07c4d49ac994c0bda8d1e154e02e1d
",git fetch https://review.opendev.org/openstack/loci refs/changes/29/839629/1 && git format-patch -1 --stdout FETCH_HEAD,"['dockerfiles/ubuntu_xenial/ceph.gpg', 'dockerfiles/ubuntu_xenial/sources.list', 'dockerfiles/ubuntu_xenial/Dockerfile', 'dockerfiles/ubuntu_xenial/cloud-archive.gpg']",4,804023692e8a69a3a29f3e4a54384aa3ae28fd36,remove-xenial,,,0,27
openstack%2Floci~master~I106ca7de063cfd62060da7b47dc728b18575c705,openstack/loci,master,I106ca7de063cfd62060da7b47dc728b18575c705,Update README,MERGED,2022-04-27 19:22:17.000000000,2022-04-27 22:05:53.000000000,2022-04-27 22:05:53.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 19:22:17.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/loci/commit/5c88d13eae42c10935e91d38b808c3fa518538fb', 'message': 'Update README\n\nThe README currently contains some information about base linux\ndistros that are either no longer used or older and not supported\nby loci. This change removes the list of supported distros in\nfavor of a more generic description.\n\nChange-Id: I106ca7de063cfd62060da7b47dc728b18575c705\n'}]",0,839630,5c88d13eae42c10935e91d38b808c3fa518538fb,7,2,1,21420,,,0,"Update README

The README currently contains some information about base linux
distros that are either no longer used or older and not supported
by loci. This change removes the list of supported distros in
favor of a more generic description.

Change-Id: I106ca7de063cfd62060da7b47dc728b18575c705
",git fetch https://review.opendev.org/openstack/loci refs/changes/30/839630/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,5c88d13eae42c10935e91d38b808c3fa518538fb,update-readme," * `FROM` The base Docker image to build from. Dockerfiles to bootstrap the base images can be found in the `dockerfiles` directory, and are a good starting point for customizing a base image."," * `FROM` The base Docker image to build from. Currently supported are `ubuntu:bionic`, `ubuntu:xenial`, `centos:7`, `opensuse/leap:15`, `debian:stretch`, or a base image derived from one of those distributions. Dockerfiles to bootstrap the base images can be found in the `dockerfiles` directory, and are a good starting point for customizing a base image.",3,5
openstack%2Fcharm-rabbitmq-server~stable%2Ffocal~I24d4d9356fcc1880791c8101e5ef1e5da707a91a,openstack/charm-rabbitmq-server,stable/focal,I24d4d9356fcc1880791c8101e5ef1e5da707a91a,Ensure that charmcraft builds on 18.04 for bionic and focal,MERGED,2022-04-27 18:58:19.000000000,2022-04-27 21:01:21.000000000,2022-04-27 21:01:21.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 18:58:19.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/6aed1d496636f5964bae43e66b98360cca007d72', 'message': 'Ensure that charmcraft builds on 18.04 for bionic and focal\n\nThis is the focal charm, but it needs bionic support to be able to do\nthe series upgrade from bionic.\n\nChange-Id: I24d4d9356fcc1880791c8101e5ef1e5da707a91a\n'}]",2,839625,6aed1d496636f5964bae43e66b98360cca007d72,10,3,1,20870,,,0,"Ensure that charmcraft builds on 18.04 for bionic and focal

This is the focal charm, but it needs bionic support to be able to do
the series upgrade from bionic.

Change-Id: I24d4d9356fcc1880791c8101e5ef1e5da707a91a
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/25/839625/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,6aed1d496636f5964bae43e66b98360cca007d72,charm-release-2204," architectures: [amd64, s390x, ppc64el, arm64] architectures: [amd64, s390x, ppc64el, arm64]"," channel: ""20.04"" architectures: - amd64 - s390x - ppc64el - arm64 - name: ubuntu - s390x - ppc64el - arm64 - name: ubuntu channel: ""21.10""",2,12
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I222fac499c9a3cb16c4581fb4347170a4d97f833,openstack/ansible-collections-openstack,stable/1.0.0,I222fac499c9a3cb16c4581fb4347170a4d97f833,Removed object tags from ci role server,MERGED,2022-04-27 18:12:01.000000000,2022-04-27 20:51:41.000000000,2022-04-27 20:51:41.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-27 18:12:01.000000000', 'files': ['ci/roles/server/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/39676b664ac6f391a615408607a1881ae178cab3', 'message': 'Removed object tags from ci role server\n\nTag object was introduced to server role in commit c8a5be6b30 [1] to\nallow skipping server tests when volumes are not available.\n\nWhenever tag object is specified, Ansible will run those three tasks\nin role server. But as our server module has not been ported to\nOpenStack SDK 1.0.0 series it will fail even if someone only wants to\ntest our object ci role.\n\nThis patch removes all occurrences of the object tag in the ci server\nrole. Since it is not used anywhere in our code it will not break ci.\n\nRef.:\n[1] https://opendev.org/openstack/ansible-collections-openstack/commit/c8a5be6b3022140da41dc10a2d0a6a147ad170cf\n\nChange-Id: I222fac499c9a3cb16c4581fb4347170a4d97f833\n(cherry picked from commit bba1da17c9b697162ee0a1def8aca2e31893351a)\n'}]",0,839545,39676b664ac6f391a615408607a1881ae178cab3,6,2,1,32962,,,0,"Removed object tags from ci role server

Tag object was introduced to server role in commit c8a5be6b30 [1] to
allow skipping server tests when volumes are not available.

Whenever tag object is specified, Ansible will run those three tasks
in role server. But as our server module has not been ported to
OpenStack SDK 1.0.0 series it will fail even if someone only wants to
test our object ci role.

This patch removes all occurrences of the object tag in the ci server
role. Since it is not used anywhere in our code it will not break ci.

Ref.:
[1] https://opendev.org/openstack/ansible-collections-openstack/commit/c8a5be6b3022140da41dc10a2d0a6a147ad170cf

Change-Id: I222fac499c9a3cb16c4581fb4347170a4d97f833
(cherry picked from commit bba1da17c9b697162ee0a1def8aca2e31893351a)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/45/839545/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/roles/server/tasks/main.yml'],1,39676b664ac6f391a615408607a1881ae178cab3,drop_object_tags-stable/1.0.0,, tags: - object tags: - object tags: - object ,0,7
openstack%2Fansible-collections-openstack~master~I613c76b8f794ea2024939e07250a50edc5b9e49a,openstack/ansible-collections-openstack,master,I613c76b8f794ea2024939e07250a50edc5b9e49a,Constrain filters in compute_service_info to SDK >= 0.53.0,MERGED,2022-04-27 18:16:55.000000000,2022-04-27 20:16:13.000000000,2022-04-27 20:16:13.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-27 18:16:55.000000000', 'files': ['ci/roles/nova_services/tasks/main.yml', 'plugins/modules/compute_service_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e85a0b809af51569d5c403e032972e808c49e8e4', 'message': 'Constrain filters in compute_service_info to SDK >= 0.53.0\n\nOlder releases of OpenStack SDK do not support filtering services.\n\nChange-Id: I613c76b8f794ea2024939e07250a50edc5b9e49a\n'}]",0,839546,e85a0b809af51569d5c403e032972e808c49e8e4,6,2,1,32962,,,0,"Constrain filters in compute_service_info to SDK >= 0.53.0

Older releases of OpenStack SDK do not support filtering services.

Change-Id: I613c76b8f794ea2024939e07250a50edc5b9e49a
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/46/839546/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/nova_services/tasks/main.yml', 'plugins/modules/compute_service_info.py']",2,e85a0b809af51569d5c403e032972e808c49e8e4,," - Filter by service binary type. Requires openstacksdk>=0.53. - Filter by service host. Requires openstacksdk>=0.53. binary=dict(required=False, default=None, min_ver='0.53.0'), host=dict(required=False, default=None, min_ver='0.53.0'), filters = self.check_versioned(binary=self.params['binary'], host=self.params['host']) filters = {k: v for k, v in filters.items() if v is not None}"," - Filter by service binary type - Filter by service host binary=dict(required=False, default=None), host=dict(required=False, default=None), binary = self.params['binary'] host = self.params['host'] filters = {} if binary: filters['binary'] = binary if host: filters['host'] = host",18,21
openstack%2Fproject-config~master~I7983cc5415a91056d9231620d0e0be366e8535a5,openstack/project-config,master,I7983cc5415a91056d9231620d0e0be366e8535a5,Finalize ELK puppetry retirement,MERGED,2022-04-25 16:57:49.000000000,2022-04-27 20:09:17.000000000,2022-04-27 19:44:35.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 16:57:49.000000000', 'files': ['gerrit/acls/opendev/puppet-logstash.config', 'gerrit/acls/opendev/puppet-subunit2sql.config', 'gerritbot/channels.yaml', 'gerrit/acls/opendev/puppet-log_processor.config', 'gerrit/acls/opendev/puppet-kibana.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/opendev/puppet-elasticsearch.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2f22aac082e65c6c21fb2decd9682afa54f939bb', 'message': 'Finalize ELK puppetry retirement\n\nThis marks the puppet repos as retired in Gerrit, removes them from irc\nnotifications, and pulls them out of zuul.\n\nDepends-On: https://review.opendev.org/c/opendev/puppet-elasticsearch/+/839238\nDepends-On: https://review.opendev.org/c/opendev/puppet-kibana/+/839237\nDepends-On: https://review.opendev.org/c/opendev/puppet-log_processor/+/839239\nDepends-On: https://review.opendev.org/c/opendev/puppet-logstash/+/839240\nDepends-On: https://review.opendev.org/c/opendev/puppet-subunit2sql/+/839242\nChange-Id: I7983cc5415a91056d9231620d0e0be366e8535a5\n'}]",0,839243,2f22aac082e65c6c21fb2decd9682afa54f939bb,7,2,1,4146,,,0,"Finalize ELK puppetry retirement

This marks the puppet repos as retired in Gerrit, removes them from irc
notifications, and pulls them out of zuul.

Depends-On: https://review.opendev.org/c/opendev/puppet-elasticsearch/+/839238
Depends-On: https://review.opendev.org/c/opendev/puppet-kibana/+/839237
Depends-On: https://review.opendev.org/c/opendev/puppet-log_processor/+/839239
Depends-On: https://review.opendev.org/c/opendev/puppet-logstash/+/839240
Depends-On: https://review.opendev.org/c/opendev/puppet-subunit2sql/+/839242
Change-Id: I7983cc5415a91056d9231620d0e0be366e8535a5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/839243/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/opendev/puppet-logstash.config', 'gerrit/acls/opendev/puppet-subunit2sql.config', 'gerritbot/channels.yaml', 'gerrit/acls/opendev/puppet-log_processor.config', 'gerrit/acls/opendev/puppet-kibana.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/opendev/puppet-elasticsearch.config']",9,2f22aac082e65c6c21fb2decd9682afa54f939bb,retire-elk,,"[access ""refs/heads/*""] abandon = group puppet-elasticsearch-core label-Code-Review = -2..+2 group puppet-elasticsearch-core label-Workflow = -1..+1 group puppet-elasticsearch-core [access ""refs/tags/*""] createSignedTag = group puppet-elasticsearch-release [receive] requireChangeId = true [submit] mergeContent = true ",10,120
openstack%2Fopenstack-tempest-skiplist~master~I2767d49376ed45f2565025e4d660b13d97a90e2a,openstack/openstack-tempest-skiplist,master,I2767d49376ed45f2565025e4d660b13d97a90e2a,Add more jobs and tests to skiplist due to LP 1968732,MERGED,2022-04-27 17:25:28.000000000,2022-04-27 20:08:54.000000000,2022-04-27 20:07:35.000000000,"[{'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 17:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/bc4ff4f02133c13641d0ebc08d4801996c8c7293', 'message': 'Add more jobs and tests to skiplist due to LP 1968732\n\nAccording with [1][2] more jobs are hitting the same issue and\nanother tests are failing for the same error.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1968732/comments/7\n[2] https://bugs.launchpad.net/tripleo/+bug/1968732/comments/8\n\nChange-Id: I2767d49376ed45f2565025e4d660b13d97a90e2a\n'}, {'number': 2, 'created': '2022-04-27 19:41:55.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/0c875f518d700a3595fe5e653f242d511fdcca5a', 'message': 'Add more jobs and tests to skiplist due to LP 1968732\n\nAccording with [1][2] more jobs are hitting the same issue and\nanother tests are failing for the same error.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1968732/comments/7\n[2] https://bugs.launchpad.net/tripleo/+bug/1968732/comments/8\n\nRelated-Bug: #1968732\n\nChange-Id: I2767d49376ed45f2565025e4d660b13d97a90e2a\n'}]",0,839608,0c875f518d700a3595fe5e653f242d511fdcca5a,13,3,2,30002,,,0,"Add more jobs and tests to skiplist due to LP 1968732

According with [1][2] more jobs are hitting the same issue and
another tests are failing for the same error.

[1] https://bugs.launchpad.net/tripleo/+bug/1968732/comments/7
[2] https://bugs.launchpad.net/tripleo/+bug/1968732/comments/8

Related-Bug: #1968732

Change-Id: I2767d49376ed45f2565025e4d660b13d97a90e2a
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/08/839608/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,bc4ff4f02133c13641d0ebc08d4801996c8c7293,bug/1968732, - periodic-tripleo-ci-centos-9-containers-multinode-network-wallaby - periodic-tripleo-ci-centos-9-standalone-tripleo-wallaby - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_update_instance_port_admin_state' deployment: - 'overcloud' releases: - name: wallaby reason: Unable to connect to port 22 lp: https://bugs.launchpad.net/tripleo/+bug/1968732 jobs: - tripleo-ci-centos-9-containers-multinode-wallaby - tripleo-ci-centos-9-containers-multinode - periodic-tripleo-ci-rhel-9-containers-multinode-rhos-17 - periodic-tripleo-ci-centos-9-containers-multinode-wallaby - periodic-tripleo-ci-centos-9-containers-multinode-network-wallaby - periodic-tripleo-ci-centos-9-standalone-tripleo-wallaby - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_mtu_sized_frames' deployment: - 'overcloud' releases: - name: wallaby reason: Unable to connect to port 22 lp: https://bugs.launchpad.net/tripleo/+bug/1968732 jobs: - tripleo-ci-centos-9-containers-multinode-wallaby - tripleo-ci-centos-9-containers-multinode - periodic-tripleo-ci-rhel-9-containers-multinode-rhos-17 - periodic-tripleo-ci-centos-9-containers-multinode-wallaby - periodic-tripleo-ci-centos-9-containers-multinode-network-wallaby - periodic-tripleo-ci-centos-9-standalone-tripleo-wallaby,,30,0
openstack%2Foctavia~stable%2Fxena~I36acdee1f8782b17c234f6b250facc5c8d0aaf87,openstack/octavia,stable/xena,I36acdee1f8782b17c234f6b250facc5c8d0aaf87,Fix AttributeError in exception handler,MERGED,2022-04-22 10:53:53.000000000,2022-04-27 20:08:10.000000000,2022-04-27 20:06:30.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-04-22 10:53:53.000000000', 'files': ['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7adeb21c42fdb6431718fcfcd9ad53b8ae077aa5', 'message': 'Fix AttributeError in exception handler\n\nThe exception handler of save_state() caused an AttributeError\nbecause it tried to get the output attribute of the Exception,\nwhich does not exist in general. Added a test to cover this\nscenario.\n\nChange-Id: I36acdee1f8782b17c234f6b250facc5c8d0aaf87\n(cherry picked from commit 384b83d88b436c8e657b09f97b12e42d7c9c339b)\n(cherry picked from commit 7aaac224cb4296a4802e4c21c76ba9d010335333)\n'}]",2,839043,7adeb21c42fdb6431718fcfcd9ad53b8ae077aa5,14,4,1,34429,,,0,"Fix AttributeError in exception handler

The exception handler of save_state() caused an AttributeError
because it tried to get the output attribute of the Exception,
which does not exist in general. Added a test to cover this
scenario.

Change-Id: I36acdee1f8782b17c234f6b250facc5c8d0aaf87
(cherry picked from commit 384b83d88b436c8e657b09f97b12e42d7c9c339b)
(cherry picked from commit 7aaac224cb4296a4802e4c21c76ba9d010335333)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/43/839043/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py']",2,7adeb21c42fdb6431718fcfcd9ad53b8ae077aa5,," def test_save_state_error(self): """"""save_state() should swallow exceptions"""""" filename = 'state_file' query_mock = mock.Mock(side_effect=OSError()) self.q._query = query_mock try: self.q.save_state(filename) except Exception as ex: self.fail(""save_state() raised %r unexpectedly!"" % ex)",,13,2
openstack%2Frequirements~master~I47374f012eaaa1111f334aeacf495ae8f0cb90b1,openstack/requirements,master,I47374f012eaaa1111f334aeacf495ae8f0cb90b1,update constraint for oslo.limit to new release 1.6.0,MERGED,2022-04-27 15:36:56.000000000,2022-04-27 19:55:15.000000000,2022-04-27 19:53:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 15:36:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ddce9f847c481e6c9b2d463235317979da91f76e', 'message': 'update constraint for oslo.limit to new release 1.6.0\n\nmeta: version: 1.6.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I47374f012eaaa1111f334aeacf495ae8f0cb90b1\n'}]",0,839579,ddce9f847c481e6c9b2d463235317979da91f76e,8,2,1,11131,,,0,"update constraint for oslo.limit to new release 1.6.0

meta: version: 1.6.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I47374f012eaaa1111f334aeacf495ae8f0cb90b1
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/839579/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ddce9f847c481e6c9b2d463235317979da91f76e,new-release,oslo.limit===1.6.0,oslo.limit===1.5.0,1,1
openstack%2Fopenstack-ansible-lxc_container_create~master~I4ca394314b1fa9c5f3ac5918e98a497ca5b55471,openstack/openstack-ansible-lxc_container_create,master,I4ca394314b1fa9c5f3ac5918e98a497ca5b55471,Wait for 2s after restarting systemd-networkd,MERGED,2022-04-11 10:17:14.000000000,2022-04-27 19:23:55.000000000,2022-04-27 19:22:38.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-11 10:17:14.000000000', 'files': ['files/lxc-veth-wiring.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/9a0dbf05f3e54295b7d80b3cb1551d53ed3d612b', 'message': 'Wait for 2s after restarting systemd-networkd\n\nSystemd has a limit of 5 service restart in 10 seconds. If a service is\nrestarted more often it fails. The lxc-vet-wiring.sh script can trigger\nthis if more than 5 interfaces are configured in a container. To avoid\nthis failure wait for 2s after each service restart.\n\nChange-Id: I4ca394314b1fa9c5f3ac5918e98a497ca5b55471\n'}]",5,837281,9a0dbf05f3e54295b7d80b3cb1551d53ed3d612b,24,4,1,11290,,,0,"Wait for 2s after restarting systemd-networkd

Systemd has a limit of 5 service restart in 10 seconds. If a service is
restarted more often it fails. The lxc-vet-wiring.sh script can trigger
this if more than 5 interfaces are configured in a container. To avoid
this failure wait for 2s after each service restart.

Change-Id: I4ca394314b1fa9c5f3ac5918e98a497ca5b55471
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/81/837281/1 && git format-patch -1 --stdout FETCH_HEAD,['files/lxc-veth-wiring.sh'],1,9a0dbf05f3e54295b7d80b3cb1551d53ed3d612b,fix-networkd-service-restart,# Sleep for 2s to avoid more than 5 restarts of systemd-networkd in # 10s. Otherwise the systemd service restart limit will be reached # and the service will fail to restart. sleep 2 ,,5,0
openstack%2Fansible-role-python_venv_build~master~Ic79d3edde8856ad869f26fe03c83397becf5a886,openstack/ansible-role-python_venv_build,master,Ic79d3edde8856ad869f26fe03c83397becf5a886,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-04 08:08:58.000000000,2022-04-27 19:23:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-04 08:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/658de7ec227bca8a3bbabd3499ee00d1f9e24dfa', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: Ic79d3edde8856ad869f26fe03c83397becf5a886\n'}, {'number': 2, 'created': '2021-05-04 08:10:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/8067926d3d3bc8e228372402258ee28ca0d9e383', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic79d3edde8856ad869f26fe03c83397becf5a886\n""}]",1,789518,8067926d3d3bc8e228372402258ee28ca0d9e383,5,2,2,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic79d3edde8856ad869f26fe03c83397becf5a886
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/18/789518/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,658de7ec227bca8a3bbabd3499ee00d1f9e24dfa,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ansible-role-python_venv_build/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ansible-role-python_venv_build/latest/,3,3
openstack%2Fansible-role-qdrouterd~master~Ib4cf72b83b1c435b7191c2c89160feaef8b96028,openstack/ansible-role-qdrouterd,master,Ib4cf72b83b1c435b7191c2c89160feaef8b96028,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-04 08:19:44.000000000,2022-04-27 19:22:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-04 08:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/a69b6ce7763a2c4ea5a942ef69df6fcd10005ce0', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: Ib4cf72b83b1c435b7191c2c89160feaef8b96028\n'}, {'number': 2, 'created': '2021-05-04 08:20:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/615f1804f2de95612c134c9b818980e0417045c9', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib4cf72b83b1c435b7191c2c89160feaef8b96028\n""}]",1,789521,615f1804f2de95612c134c9b818980e0417045c9,5,2,2,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ib4cf72b83b1c435b7191c2c89160feaef8b96028
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/21/789521/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a69b6ce7763a2c4ea5a942ef69df6fcd10005ce0,,description_file =,description-file =,1,1
openstack%2Fopenstack-ansible-openstack_hosts~master~Idcb699d92a6c8086531b842ebe4889181120cdd8,openstack/openstack-ansible-openstack_hosts,master,Idcb699d92a6c8086531b842ebe4889181120cdd8,Add nova dependency repo for distro install,MERGED,2021-08-04 13:25:42.000000000,2022-04-27 19:22:01.000000000,2022-04-27 19:20:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-04 13:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/75417002140e3c025d86fdf206393f5c2617e9ff', 'message': 'Add nova dependency repo for distro install\n\nChange-Id: Idcb699d92a6c8086531b842ebe4889181120cdd8\n'}, {'number': 2, 'created': '2021-08-05 21:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/a687ce6620c4854ae7cfe3f1e3b8a4651bc11c26', 'message': 'Add nova dependency repo for distro install\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/803630\nChange-Id: Idcb699d92a6c8086531b842ebe4889181120cdd8\n'}, {'number': 3, 'created': '2021-08-11 13:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/49ebcaee974d8a4ee8d0bac9c1be56121b967b81', 'message': 'Add nova dependency repo for distro install\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/803630\nChange-Id: Idcb699d92a6c8086531b842ebe4889181120cdd8\n'}, {'number': 4, 'created': '2022-04-13 08:10:15.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ad56e08fdcd407e7b94745ebc52bd0f773bc0b57', 'message': 'Add nova dependency repo for distro install\n\nChange-Id: Idcb699d92a6c8086531b842ebe4889181120cdd8\n'}]",8,803475,ad56e08fdcd407e7b94745ebc52bd0f773bc0b57,39,3,4,28752,,,0,"Add nova dependency repo for distro install

Change-Id: Idcb699d92a6c8086531b842ebe4889181120cdd8
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/75/803475/4 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,75417002140e3c025d86fdf206393f5c2617e9ff,osa/centos_distro, - name: centos-release-nfv-openvswitch state: present,,2,0
openstack%2Fopenstack-ansible-os_horizon~master~I8e87f9a9945b7526c90ca8c4dc09e43a86ab62e0,openstack/openstack-ansible-os_horizon,master,I8e87f9a9945b7526c90ca8c4dc09e43a86ab62e0,Improve defining horizon_lib_dir,MERGED,2021-12-07 18:17:26.000000000,2022-04-27 19:12:18.000000000,2022-04-27 19:10:47.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31749}, {'_account_id': 32666}]","[{'number': 1, 'created': '2021-12-07 18:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/b052eeff682e790552318793878dfad82caaa9a9', 'message': 'Improve defining horizon_lib_dir\n\nInstead of hardcoding lib directory for distro installs, we can\nretrieve it dynamically based on the horizon.__file__ output\n\nChange-Id: I8e87f9a9945b7526c90ca8c4dc09e43a86ab62e0\nCloses-Bug: #1950798\n'}, {'number': 2, 'created': '2021-12-07 18:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/37768d6a3f1f966ffcc51f1d027d06ef983b4acb', 'message': 'Improve defining horizon_lib_dir\n\nInstead of hardcoding lib directory for distro installs, we can\nretrieve it dynamically based on the horizon.__file__ output\n\nChange-Id: I8e87f9a9945b7526c90ca8c4dc09e43a86ab62e0\nCloses-Bug: #1950798\n'}, {'number': 3, 'created': '2021-12-07 18:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/9ea32dcf5118c5c7fbf492e27484da55f759d49c', 'message': 'Improve defining horizon_lib_dir\n\nInstead of hardcoding lib directory for distro installs, we can\nretrieve it dynamically based on the horizon.__file__ output\n\nChange-Id: I8e87f9a9945b7526c90ca8c4dc09e43a86ab62e0\nCloses-Bug: #1950798\n'}, {'number': 4, 'created': '2021-12-07 18:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/7d08d9babb6a35a7be423bd8f2478afba1f77c40', 'message': 'Improve defining horizon_lib_dir\n\nInstead of hardcoding lib directory for distro installs, we can\nretrieve it dynamically based on the horizon.__file__ output\n\nChange-Id: I8e87f9a9945b7526c90ca8c4dc09e43a86ab62e0\nCloses-Bug: #1950798\n'}, {'number': 5, 'created': '2021-12-07 19:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/4aca299bd806797654ee62f4ed671b188b74ab16', 'message': 'Improve defining horizon_lib_dir\n\nInstead of hardcoding lib directory for distro installs, we can\nretrieve it dynamically based on the horizon.__file__ output\n\nChange-Id: I8e87f9a9945b7526c90ca8c4dc09e43a86ab62e0\nCloses-Bug: #1950798\n'}, {'number': 6, 'created': '2021-12-28 17:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/f09ce1a78683291175a90bef3cb0b18221841683', 'message': 'Improve defining horizon_lib_dir\n\nInstead of hardcoding lib directory for distro installs, we can\nretrieve it dynamically based on the horizon.__file__ output\n\nChange-Id: I8e87f9a9945b7526c90ca8c4dc09e43a86ab62e0\nCloses-Bug: #1950798\n'}, {'number': 7, 'created': '2021-12-29 14:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/015999b8a46d079c324fabbb1ad132eb507fed05', 'message': 'Improve defining horizon_lib_dir\n\nInstead of hardcoding lib directory for distro installs, we can\nretrieve it dynamically based on the horizon.__file__ output\n\nChange-Id: I8e87f9a9945b7526c90ca8c4dc09e43a86ab62e0\nCloses-Bug: #1950798\n'}, {'number': 8, 'created': '2022-02-04 11:40:17.000000000', 'files': ['vars/source_install.yml', 'vars/distro_install.yml', 'tasks/horizon_post_install_source.yml', 'vars/debian.yml', 'tasks/horizon_install.yml', 'tasks/horizon_pre_install.yml', 'defaults/main.yml', 'vars/main.yml', 'tasks/horizon_post_install.yml', 'tasks/horizon_install_source.yml', 'templates/horizon-manage.py.j2', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/3c20e3607ec1d4ad488c532df5d87ecb8f1e20ce', 'message': 'Improve defining horizon_lib_dir\n\nInstead of hardcoding lib directory for distro installs, we can\nretrieve it dynamically based on the horizon.__file__ output\n\nChange-Id: I8e87f9a9945b7526c90ca8c4dc09e43a86ab62e0\nCloses-Bug: #1950798\n'}]",5,820928,3c20e3607ec1d4ad488c532df5d87ecb8f1e20ce,22,5,8,28619,,,0,"Improve defining horizon_lib_dir

Instead of hardcoding lib directory for distro installs, we can
retrieve it dynamically based on the horizon.__file__ output

Change-Id: I8e87f9a9945b7526c90ca8c4dc09e43a86ab62e0
Closes-Bug: #1950798
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/28/820928/4 && git format-patch -1 --stdout FETCH_HEAD,"['vars/source_install.yml', 'vars/distro_install.yml', 'tasks/horizon_install_source.yml', 'vars/redhat.yml', 'vars/debian.yml', 'tasks/horizon_install.yml', 'defaults/main.yml', 'vars/main.yml', 'tasks/horizon_post_install.yml']",9,b052eeff682e790552318793878dfad82caaa9a9,bug/1950798," - src: ""horizon_local_settings.py.j2"" dest: ""/etc/horizon/local_settings.py"" owner: ""root"" mode: ""0640"" - src: ""horizon-manage.py.j2"" dest: ""{{ horizon_bin }}/horizon-manage.py"" mode: ""0755"" - src: ""80_admin_default_panel.py.j2"" dest: ""{{ horizon_lib_dir }}/openstack_dashboard/local/enabled/_80_admin_default_panel.py"" mode: ""0755"""," - { src: ""horizon_local_settings.py.j2"", dest: ""/etc/horizon/local_settings.py"", owner: ""root"", mode: ""0640"", always_install: True } - { src: ""horizon-manage.py.j2"", dest: ""{{ horizon_bin }}/horizon-manage.py"", mode: ""0755"", always_install: ""{{ (horizon_install_method == 'source') }}"" } - { src: ""80_admin_default_panel.py.j2"", dest: ""{{ horizon_lib_dir }}/openstack_dashboard/local/enabled/_80_admin_default_panel.py"", mode: ""0755"", always_install: True } when: item.always_install",27,44
openstack%2Fopenstack-ansible-os_tempest~stable%2Frocky~Ida1b1d2b5ef06ae7fb610a4241162e5c16dfecb8,openstack/openstack-ansible-os_tempest,stable/rocky,Ida1b1d2b5ef06ae7fb610a4241162e5c16dfecb8,Pin tempest-plugins to last tag supporting py2.7,ABANDONED,2021-03-25 12:17:51.000000000,2022-04-27 19:06:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-25 12:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/5fe6b9182d48a47c1c38abdb8b227ade61d2d877', 'message': ""Pin tempest-plugins to last tag supporting py2.7\n\ncinder, heat, keystone, neutron; The ones listed in tempest_plugins\n\nOverride pip_*_urls. We can't easily update pip_install role.\n\nDepends-On: I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3\nDepends-On: I9760b49f454114c416657583dfba99ca11e100b8\nChange-Id: Ida1b1d2b5ef06ae7fb610a4241162e5c16dfecb8\n""}, {'number': 2, 'created': '2021-03-26 19:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/34b39f5578f218050770e3e1bef962f38955f02c', 'message': ""Pin tempest-plugins to last tag supporting py2.7\n\ncinder, heat, keystone, neutron; The ones listed in tempest_plugins\n\nOverride pip_*_urls. We can't easily update pip_install role.\n\nDepends-On: I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3\nDepends-On: I1dc269944445a1493c0008d9f318db56d9f0274f\nDepends-On: I9760b49f454114c416657583dfba99ca11e100b8\nChange-Id: Ida1b1d2b5ef06ae7fb610a4241162e5c16dfecb8\n""}, {'number': 3, 'created': '2021-12-15 10:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/dc7a0c97531bed819ff15072c9733af0e3dde55b', 'message': ""Pin tempest-plugins to last tag supporting py2.7\n\ncinder, heat, keystone, neutron; The ones listed in tempest_plugins\n\nOverride pip_*_urls. We can't easily update pip_install role.\n\nUpdate ca-certificates on centos7\n\nDepends-On: I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3\nDepends-On: I1dc269944445a1493c0008d9f318db56d9f0274f\nDepends-On: I9760b49f454114c416657583dfba99ca11e100b8\nChange-Id: Ida1b1d2b5ef06ae7fb610a4241162e5c16dfecb8\n""}, {'number': 4, 'created': '2021-12-15 11:08:49.000000000', 'files': ['run_tests.sh', 'tests/group_vars/all.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/0b59c75a24b2684b73774b91a222566291e27219', 'message': ""Pin tempest-plugins to last tag supporting py2.7\n\ncinder, heat, keystone, neutron; The ones listed in tempest_plugins\n\nOverride pip_*_urls. We can't easily update pip_install role.\n\nUpdate ca-certificates on centos7\n\nDepends-On: I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3\nDepends-On: I1dc269944445a1493c0008d9f318db56d9f0274f\nDepends-On: I9760b49f454114c416657583dfba99ca11e100b8\nChange-Id: Ida1b1d2b5ef06ae7fb610a4241162e5c16dfecb8\n""}]",1,782990,0b59c75a24b2684b73774b91a222566291e27219,19,1,4,25600,,,0,"Pin tempest-plugins to last tag supporting py2.7

cinder, heat, keystone, neutron; The ones listed in tempest_plugins

Override pip_*_urls. We can't easily update pip_install role.

Update ca-certificates on centos7

Depends-On: I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3
Depends-On: I1dc269944445a1493c0008d9f318db56d9f0274f
Depends-On: I9760b49f454114c416657583dfba99ca11e100b8
Change-Id: Ida1b1d2b5ef06ae7fb610a4241162e5c16dfecb8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/90/782990/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/group_vars/all.yml', 'vars/main.yml']",2,5fe6b9182d48a47c1c38abdb8b227ade61d2d877,fix-old-stuff, branch: 0.3.1 branch: 0.4.0 branch: 0.3.0, branch: master branch: master branch: master,6,3
openstack%2Fopenstack-ansible-tests~stable%2Frocky~Ife6782833ccedfc16855a909a57a17a91389e0e4,openstack/openstack-ansible-tests,stable/rocky,Ife6782833ccedfc16855a909a57a17a91389e0e4,Remove temporary overrides,ABANDONED,2021-03-26 13:23:08.000000000,2022-04-27 19:05:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-26 13:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/16c9226f4341f9144f67eac6f486aa3f1cbd0d66', 'message': 'Remove temporary overrides\n\nRemove overrides for lxc_hosts_container_image_url\nRemove overrides for tempest_plugins\n\nDepends-On: I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3\nDepends-On: I9760b49f454114c416657583dfba99ca11e100b8\nDepends-On: Ida1b1d2b5ef06ae7fb610a4241162e5c16dfecb8\nChange-Id: Ife6782833ccedfc16855a909a57a17a91389e0e4\n'}, {'number': 2, 'created': '2021-03-26 18:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/34678e6ef0355e54142c95bb78d4631168ca875d', 'message': 'Remove temporary overrides\n\nRemove overrides for lxc_hosts_container_image_url\nRemove overrides for tempest_plugins\n\nDepends-On: I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3\nDepends-On: I1dc269944445a1493c0008d9f318db56d9f0274f\nDepends-On: I9760b49f454114c416657583dfba99ca11e100b8\nDepends-On: Ida1b1d2b5ef06ae7fb610a4241162e5c16dfecb8\nChange-Id: Ife6782833ccedfc16855a909a57a17a91389e0e4\n'}, {'number': 3, 'created': '2021-03-26 18:52:52.000000000', 'files': ['tests/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4b15a337ec8a8b9745bd43852b66d6c4d747ddad', 'message': 'Remove temporary overrides\n\nRemove overrides for lxc_hosts_container_image_url\nRemove overrides for tempest_plugins\n\nDepends-On: I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3\nDepends-On: I1dc269944445a1493c0008d9f318db56d9f0274f\nDepends-On: I9760b49f454114c416657583dfba99ca11e100b8\nDepends-On: Ida1b1d2b5ef06ae7fb610a4241162e5c16dfecb8\nChange-Id: Ife6782833ccedfc16855a909a57a17a91389e0e4\n'}]",0,783304,4b15a337ec8a8b9745bd43852b66d6c4d747ddad,10,3,3,25600,,,0,"Remove temporary overrides

Remove overrides for lxc_hosts_container_image_url
Remove overrides for tempest_plugins

Depends-On: I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3
Depends-On: I1dc269944445a1493c0008d9f318db56d9f0274f
Depends-On: I9760b49f454114c416657583dfba99ca11e100b8
Depends-On: Ida1b1d2b5ef06ae7fb610a4241162e5c16dfecb8
Change-Id: Ife6782833ccedfc16855a909a57a17a91389e0e4
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/04/783304/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/group_vars/all.yml'],1,16c9226f4341f9144f67eac6f486aa3f1cbd0d66,fix-old-stuff,," # NOTE(erikberg) cherry-pick c52784341834de13bb04cedd9b4529d1b3ca12ea to lxc_hosts. # tests are only for xenial/bionic/centos, so we can probably get away with this until that patch lands. _lxc_hosts_container_image_url_overrides: xenial: http://cdimage.ubuntu.com/ubuntu-base/releases/16.04/release/ubuntu-base-16.04.6-base-amd64.tar.gz bionic: http://cdimage.ubuntu.com/ubuntu-base/releases/18.04/release/ubuntu-base-18.04.5-base-amd64.tar.gz core: https://github.com/CentOS/sig-cloud-instance-images/raw/CentOS-7/docker/centos-7-docker.tar.xz lxc_hosts_container_image_url: ""{{ _lxc_hosts_container_image_url_overrides[ansible_distribution_release | lower] }}"" # NOTE(erikberg) # pin tempest-plugins to latest tag before dropping python 2.7 tempest_plugins: - name: cinder-tempest-plugin repo: https://git.openstack.org/openstack/cinder-tempest-plugin branch: 0.3.1 - name: heat-tempest-plugin repo: https://git.openstack.org/openstack/heat-tempest-plugin branch: 0.4.0 - name: keystone-tempest-plugin repo: https://git.openstack.org/openstack/keystone-tempest-plugin branch: 0.3.0 - name: neutron-tempest-plugin repo: https://git.openstack.org/openstack/neutron-tempest-plugin branch: 0.9.0",0,24
openstack%2Fsahara~stable%2Fussuri~I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,openstack/sahara,stable/ussuri,I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,Drop tripleo centos-7 scen3 job definition - not used,MERGED,2022-04-15 11:24:58.000000000,2022-04-27 18:53:52.000000000,2022-04-27 18:51:09.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 11:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6e1fa939f218e4c19af44b976c6fe8bf750cb565', 'message': ""Move replace centos-7 tripleo scen3 job with centos-8\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 2, 'created': '2022-04-20 10:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/8b3cccb8e9e59a37b9e30838e416109db3c3629f', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\n(cherry-picked from commit b1aad097244ccc2c136d85706217a05a3dd5116c)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 3, 'created': '2022-04-20 10:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/038ed1e1330d361374af20faf230ce25a7585db4', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\n(cherry-picked from commit b1aad097244ccc2c136d85706217a05a3dd5116c)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 4, 'created': '2022-04-21 08:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1c72b7f14ff3960f58b6c4ce1ccc2601d72a3a37', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\nCherrypick is not clean, it makes sahara-openstack-ansible-functional\nnon voting as requested in review comments [4]. This part is\nspecific to Victoria and Ussuri.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n[4] https://review.opendev.org/c/openstack/sahara/+/838017/3#message-3cddf211ea5974fb65c92c148dd9ec52594ac1e2\n\n(cherry-picked from commit 4175be12a64c23f3dd1268d3cbd7d68a3e42a825)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 5, 'created': '2022-04-27 14:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/8a841d863c59e875a410dcf170bf558094e6126d', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\nCherrypick is not clean, it makes sahara-openstack-ansible-functional\nnon voting as requested in review comments [4]. This part is\nspecific to Victoria and Ussuri.\n\nAlso sets openstack-tox-lower-constraints as non voting per review\ncomments here.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n[4] https://review.opendev.org/c/openstack/sahara/+/838017/3#message-3cddf211ea5974fb65c92c148dd9ec52594ac1e2\n\n(cherry-picked from commit 4175be12a64c23f3dd1268d3cbd7d68a3e42a825)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 6, 'created': '2022-04-27 14:09:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/b9762a4d470250f49cf515515a8f953d913b9f34', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\nCherrypick is not clean, it makes sahara-openstack-ansible-functional\nnon voting as requested in review comments [4]. This part is\nspecific to Victoria and Ussuri.\n\nAlso sets openstack-tox-lower-constraints as non voting per review\ncomments here.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n[4] https://review.opendev.org/c/openstack/sahara/+/838017/3#message-3cddf211ea5974fb65c92c148dd9ec52594ac1e2\n\n(cherry-picked from commit 4175be12a64c23f3dd1268d3cbd7d68a3e42a825)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}]",5,838018,b9762a4d470250f49cf515515a8f953d913b9f34,19,2,6,8449,,,0,"Drop tripleo centos-7 scen3 job definition - not used

This is needed by [1] where this job is being removed. Note
that this job as defined will only run for stable/stein [2].
Also note that this job doesn't appear to be running anywhere
it is not wired up in this repo [3] or anywhere else.

Cherrypick is not clean, it makes sahara-openstack-ansible-functional
non voting as requested in review comments [4]. This part is
specific to Victoria and Ussuri.

Also sets openstack-tox-lower-constraints as non voting per review
comments here.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0
[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476
[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=
[4] https://review.opendev.org/c/openstack/sahara/+/838017/3#message-3cddf211ea5974fb65c92c148dd9ec52594ac1e2

(cherry-picked from commit 4175be12a64c23f3dd1268d3cbd7d68a3e42a825)

Change-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4
",git fetch https://review.opendev.org/openstack/sahara refs/changes/18/838018/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6e1fa939f218e4c19af44b976c6fe8bf750cb565,, name: sahara-tripleo-ci-centos-8-scenario003-standalone parent: tripleo-ci-centos-8-scenario003-standalone, name: sahara-tripleo-ci-centos-7-scenario003-standalone parent: tripleo-ci-centos-7-scenario003-standalone,2,2
openstack%2Foctavia-tempest-plugin~master~I96ef69c79014c95e07a5b3848bf50485eaa46df5,openstack/octavia-tempest-plugin,master,I96ef69c79014c95e07a5b3848bf50485eaa46df5,Update 'Maintained' stable branch jobs on master gate,MERGED,2022-04-15 01:42:07.000000000,2022-04-27 18:36:24.000000000,2022-04-27 18:33:14.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-15 01:42:07.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5de58101c21910c170ff176d023c39dfe31b76c8', 'message': ""Update 'Maintained' stable branch jobs on master gate\n\nWe have stable/yoga released and stable/ussuri is in\n'Extended Maintenance' state. Current 'Maintained'\nstable branches are yoga, xena, wallaby, and victoria.\n\nAs per tempest stable branch testing policy[1], adding the\nnewly released stable/yoga job and remove the EM stable/ussuri\njob.\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I96ef69c79014c95e07a5b3848bf50485eaa46df5\n""}]",1,838060,5de58101c21910c170ff176d023c39dfe31b76c8,9,4,1,8556,,,0,"Update 'Maintained' stable branch jobs on master gate

We have stable/yoga released and stable/ussuri is in
'Extended Maintenance' state. Current 'Maintained'
stable branches are yoga, xena, wallaby, and victoria.

As per tempest stable branch testing policy[1], adding the
newly released stable/yoga job and remove the EM stable/ussuri
job.

[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I96ef69c79014c95e07a5b3848bf50485eaa46df5
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/60/838060/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,5de58101c21910c170ff176d023c39dfe31b76c8,yoga-stable-job, name: octavia-v2-dsvm-noop-api-stable-yoga parent: octavia-v2-dsvm-noop-api override-checkout: stable/yoga - job: name: octavia-v2-dsvm-scenario-stable-yoga parent: octavia-v2-dsvm-scenario override-checkout: stable/yoga - job: name: octavia-v2-dsvm-tls-barbican-stable-yoga parent: octavia-v2-dsvm-tls-barbican override-checkout: stable/yoga - job: name: octavia-v2-dsvm-spare-pool-stable-yoga parent: octavia-v2-dsvm-spare-pool override-checkout: stable/yoga - job: name: octavia-v2-act-stdby-dsvm-scenario-stable-yoga parent: octavia-v2-act-stdby-dsvm-scenario override-checkout: stable/yoga - job:, name: octavia-v2-dsvm-noop-api-stable-ussuri parent: octavia-v2-dsvm-noop-api nodeset: octavia-single-node-ubuntu-bionic override-checkout: stable/ussuri - job:- job: name: octavia-v2-dsvm-scenario-stable-ussuri parent: octavia-v2-dsvm-scenario nodeset: octavia-single-node-ubuntu-bionic override-checkout: stable/ussuri name: octavia-v2-dsvm-spare-pool-stable-ussuri parent: octavia-v2-dsvm-spare-pool nodeset: octavia-single-node-ubuntu-bionic override-checkout: stable/ussuri - job:- job: name: octavia-v2-act-stdby-dsvm-scenario-stable-ussuri parent: octavia-v2-act-stdby-dsvm-scenario nodeset: octavia-single-node-ubuntu-bionic override-checkout: stable/ussuri ,35,34
openstack%2Fwhitebox-tempest-plugin~master~I5b4e5323c7734968cadd9736abd5ba92b5c5cea6,openstack/whitebox-tempest-plugin,master,I5b4e5323c7734968cadd9736abd5ba92b5c5cea6,Handle libvirt modular daemon container names,MERGED,2022-04-27 14:47:07.000000000,2022-04-27 18:25:05.000000000,2022-04-27 18:25:05.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 14:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/c8382c6f90ed8b04aa0eee48e7090328e83d7e51', 'message': ""Handle libvirt modular daemon container names\n\nTripleo has updated libvirt container organization to breakup libvirt\nprocesses that were normally all contained in nova_libvirt across\nmultiple new containers. [1] When interacting with virsh downstream\ntests now need to access container 'nova_virtqemud' instead of\nnova_libvirtd.  This update allows the container name for libvirt to be\na parameter that will default to nova_libvirtd if nothing is provided.\n\n[1] https://opendev.org/openstack/puppet-tripleo/commit/bbdad5c27e41691dc2a9272af6f451b10e58f8fb\n\nChange-Id: I5b4e5323c7734968cadd9736abd5ba92b5c5cea6\n""}, {'number': 2, 'created': '2022-04-27 15:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b751d7f66dcf327ce5cf517d580407e047aa03d7', 'message': ""Handle libvirt modular daemon container names\n\nTripleo has updated libvirt container organization to breakup libvirt\nprocesses that were normally all contained in nova_libvirt across\nmultiple new containers. [1] When interacting with virsh downstream\ntests now need to access container 'nova_virtqemud' instead of\nnova_libvirtd.  This update allows the container name for libvirt to be\na parameter that will default to nova_libvirtd if nothing is provided.\n\n[1] https://opendev.org/openstack/puppet-tripleo/commit/bbdad5c27e41691dc2a9272af6f451b10e58f8fb\n\nChange-Id: I5b4e5323c7734968cadd9736abd5ba92b5c5cea6\n""}, {'number': 3, 'created': '2022-04-27 15:42:46.000000000', 'files': ['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b132bd3bcde38e86bebc1b4aab05bf3ef1d22a3a', 'message': ""Handle libvirt modular daemon container names\n\nTripleo has updated libvirt container organization to breakup libvirt\nprocesses that were normally all contained in nova_libvirt across\nmultiple new containers. [1] When interacting with virsh downstream\ntests now need to access container 'nova_virtqemud' instead of\nnova_libvirtd.  This update allows the container name for libvirt to be\na parameter that will default to nova_libvirtd if nothing is provided.\n\n[1] https://opendev.org/openstack/puppet-tripleo/commit/bbdad5c27e41691dc2a9272af6f451b10e58f8fb\n\nChange-Id: I5b4e5323c7734968cadd9736abd5ba92b5c5cea6\n""}]",5,839561,b132bd3bcde38e86bebc1b4aab05bf3ef1d22a3a,12,3,3,31033,,,0,"Handle libvirt modular daemon container names

Tripleo has updated libvirt container organization to breakup libvirt
processes that were normally all contained in nova_libvirt across
multiple new containers. [1] When interacting with virsh downstream
tests now need to access container 'nova_virtqemud' instead of
nova_libvirtd.  This update allows the container name for libvirt to be
a parameter that will default to nova_libvirtd if nothing is provided.

[1] https://opendev.org/openstack/puppet-tripleo/commit/bbdad5c27e41691dc2a9272af6f451b10e58f8fb

Change-Id: I5b4e5323c7734968cadd9736abd5ba92b5c5cea6
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/61/839561/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/config.py']",2,c8382c6f90ed8b04aa0eee48e7090328e83d7e51,libvirt_modular_daemons," cfg.StrOpt( 'qemu_container_name', default=""nova_libvirt"", help='Similar to the mask_command option, this config options sets ' 'the command to unmask libvirt. If set, it will be run before ' 'every start command.'),",,16,3
openstack%2Fopenstack-ansible-rsyslog_client~master~Ie55138d08d45945fdc00583dfb53458e6f2e3c48,openstack/openstack-ansible-rsyslog_client,master,Ie55138d08d45945fdc00583dfb53458e6f2e3c48,PDF Documentation Build tox target,MERGED,2019-10-27 02:53:11.000000000,2022-04-27 18:13:34.000000000,2022-04-27 18:12:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}, {'_account_id': 34411}]","[{'number': 1, 'created': '2019-10-27 02:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/ff8e8ad01d2bca00a3567270a34cfbff23e85a15', 'message': 'PDF Documentation Build tox target\n\nChange-Id: Ie55138d08d45945fdc00583dfb53458e6f2e3c48\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35338\n'}, {'number': 2, 'created': '2022-04-27 13:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/aac3ded47d5874a604144afc6387a74cb501cbb1', 'message': 'PDF Documentation Build tox target\n\nChange-Id: Ie55138d08d45945fdc00583dfb53458e6f2e3c48\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35338\n'}, {'number': 3, 'created': '2022-04-27 13:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/99fb7cc9c2b52108c6ac3fa3e79daebeb05184e5', 'message': 'PDF Documentation Build tox target\n\nChange-Id: Ie55138d08d45945fdc00583dfb53458e6f2e3c48\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35338\n'}, {'number': 4, 'created': '2022-04-27 14:21:25.000000000', 'files': ['doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/d4d17d6af2f27e1b9ca8724f5ea40082114be9ed', 'message': 'PDF Documentation Build tox target\n\nChange-Id: Ie55138d08d45945fdc00583dfb53458e6f2e3c48\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35338\n'}]",0,691501,d4d17d6af2f27e1b9ca8724f5ea40082114be9ed,15,4,4,31197,,,0,"PDF Documentation Build tox target

Change-Id: Ie55138d08d45945fdc00583dfb53458e6f2e3c48
Signed-off-by: sonpn13 <sonpn13@viettel.com.vn>
Story: 2006105
Task: 35338
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/01/691501/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,ff8e8ad01d2bca00a3567270a34cfbff23e85a15,,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,25,4
openstack%2Freleases~master~I286e10dfdbaa917fe7d8162d6a154686ec9c76ad,openstack/releases,master,I286e10dfdbaa917fe7d8162d6a154686ec9c76ad,[swift] Transition Victoria to EM,MERGED,2022-04-14 17:04:15.000000000,2022-04-27 17:57:44.000000000,2022-04-27 17:57:44.000000000,"[{'_account_id': 15343}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 17:04:15.000000000', 'files': ['deliverables/victoria/python-swiftclient.yaml', 'deliverables/victoria/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/931224ed2fcace43ad9cf9b02403dcb48271268b', 'message': '[swift] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I286e10dfdbaa917fe7d8162d6a154686ec9c76ad\n'}]",3,837962,931224ed2fcace43ad9cf9b02403dcb48271268b,11,4,1,17685,,,0,"[swift] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I286e10dfdbaa917fe7d8162d6a154686ec9c76ad
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/837962/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/python-swiftclient.yaml', 'deliverables/victoria/swift.yaml']",2,931224ed2fcace43ad9cf9b02403dcb48271268b,victoria-em, - version: victoria-em projects: - repo: openstack/swift hash: d6c6ab764e4c0e737b99f19b2495f1b9aab8c0d2,,8,0
openstack%2Frequirements~stable%2Fvictoria~I6a53a5743e9c3e849f489cd4d845237cfbe86b5e,openstack/requirements,stable/victoria,I6a53a5743e9c3e849f489cd4d845237cfbe86b5e,update constraint for sushy to new release 3.4.6,MERGED,2022-04-27 15:00:08.000000000,2022-04-27 17:56:12.000000000,2022-04-27 17:56:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-27 15:00:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2c7b195032de8e5d6618e96a9d7e3cbb3a9a16a2', 'message': 'update constraint for sushy to new release 3.4.6\n\nmeta: version: 3.4.6\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Iury Gregory Melo Ferreira <imelofer@redhat.com>\nmeta: release:Commit: Iury Gregory Melo Ferreira <imelofer@redhat.com>\nmeta: release:Change-Id: Ia5662fb9f336cdf52bef2e42df677f20043343ed\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I6a53a5743e9c3e849f489cd4d845237cfbe86b5e\n'}]",0,839565,2c7b195032de8e5d6618e96a9d7e3cbb3a9a16a2,8,3,1,11131,,,0,"update constraint for sushy to new release 3.4.6

meta: version: 3.4.6
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Iury Gregory Melo Ferreira <imelofer@redhat.com>
meta: release:Commit: Iury Gregory Melo Ferreira <imelofer@redhat.com>
meta: release:Change-Id: Ia5662fb9f336cdf52bef2e42df677f20043343ed
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I6a53a5743e9c3e849f489cd4d845237cfbe86b5e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/65/839565/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2c7b195032de8e5d6618e96a9d7e3cbb3a9a16a2,new-release,sushy===3.4.6,sushy===3.4.5,1,1
openstack%2Fcharm-hacluster~stable%2Ffocal~I67c17db9602ccbabb66e89312f3fcce209294a98,openstack/charm-hacluster,stable/focal,I67c17db9602ccbabb66e89312f3fcce209294a98,Update charmcraft for all arches for release,MERGED,2022-04-27 14:50:58.000000000,2022-04-27 17:51:08.000000000,2022-04-27 17:51:08.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 14:50:58.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/c8106e6e616755ac1999571f3adb77ca327f2c8d', 'message': 'Update charmcraft for all arches for release\n\nChange-Id: I67c17db9602ccbabb66e89312f3fcce209294a98\n'}]",1,839562,c8106e6e616755ac1999571f3adb77ca327f2c8d,8,3,1,20870,,,0,"Update charmcraft for all arches for release

Change-Id: I67c17db9602ccbabb66e89312f3fcce209294a98
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/62/839562/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,c8106e6e616755ac1999571f3adb77ca327f2c8d,charm-release-2204," architectures: [amd64, s390x, ppc64el, arm64] - name: ubuntu channel: ""22.04"" architectures: [amd64, s390x, ppc64el, arm64]"," channel: ""18.04"" architectures: - amd64 - s390x - ppc64el - arm64 - name: ubuntu - s390x - ppc64el - arm64 channel: ""18.04"" - name: ubuntu",4,12
openstack%2Freleases~master~I3ee56d32cd0928fe86c1bf0b4c14f385ab3352d3,openstack/releases,master,I3ee56d32cd0928fe86c1bf0b4c14f385ab3352d3,Release swift for stable/victoria,ABANDONED,2022-01-21 15:32:08.000000000,2022-04-27 17:50:15.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 15:32:08.000000000', 'files': ['deliverables/victoria/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/755f7a30599d45408ad9c51745d9957392532a92', 'message': ""Release swift for stable/victoria\n\nThis release picks up new commits to swift since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 2.26.0..f53500522\nf53500522 Fix cname_lookup test\nc0bb5b2f3 Dep's should be restricted by upper-constraints\n92b79a4a3 symlink: Ensure headers are returned as a list on py3\na8c2b46da tempurl: Fix PUT upload to temp url on py3\n1032b45e1 Avoid loops when gathering container listings from shards\n2558be42c Populate shrinking shards with shard ranges learnt from root\nf7f0d62c9 Use swiftclient Connections in sharding probe tests\n036f062bf Refactor audit shard tests\n851bdc004 Give probe tests a second chance to pass\n81a4ac4bc Give unit tests a second chance to pass\n68762ebb7 s3-tests: Use my s3compat fork instead\n941ea5953 s3-tests: Only try to copy outputs when there *are* outputs\n1e5107285 Prevent upgrading to pip 21+\nacb742ac1 py3: Fix status comparison in ECGetResponseCollection\nbe74f2141 Memcached client TLS support\n8e744ba24 Pin Bandit on py2\n508c44469 py3: Fix swift-dispersion-populate\nd6a75783b Fixing S3 credential caching region support\nd80b2b590 Update TOX_CONSTRAINTS_FILE for stable/victoria\n3095fb313 Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I3ee56d32cd0928fe86c1bf0b4c14f385ab3352d3\n""}]",0,825824,755f7a30599d45408ad9c51745d9957392532a92,3,2,1,17685,,,0,"Release swift for stable/victoria

This release picks up new commits to swift since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.26.0..f53500522
f53500522 Fix cname_lookup test
c0bb5b2f3 Dep's should be restricted by upper-constraints
92b79a4a3 symlink: Ensure headers are returned as a list on py3
a8c2b46da tempurl: Fix PUT upload to temp url on py3
1032b45e1 Avoid loops when gathering container listings from shards
2558be42c Populate shrinking shards with shard ranges learnt from root
f7f0d62c9 Use swiftclient Connections in sharding probe tests
036f062bf Refactor audit shard tests
851bdc004 Give probe tests a second chance to pass
81a4ac4bc Give unit tests a second chance to pass
68762ebb7 s3-tests: Use my s3compat fork instead
941ea5953 s3-tests: Only try to copy outputs when there *are* outputs
1e5107285 Prevent upgrading to pip 21+
acb742ac1 py3: Fix status comparison in ECGetResponseCollection
be74f2141 Memcached client TLS support
8e744ba24 Pin Bandit on py2
508c44469 py3: Fix swift-dispersion-populate
d6a75783b Fixing S3 credential caching region support
d80b2b590 Update TOX_CONSTRAINTS_FILE for stable/victoria
3095fb313 Update .gitreview for stable/victoria

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I3ee56d32cd0928fe86c1bf0b4c14f385ab3352d3
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/825824/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/swift.yaml'],1,755f7a30599d45408ad9c51745d9957392532a92,victoria-stable, - version: 2.26.1 projects: - repo: openstack/swift hash: f53500522ae52df3c07bdcf775d11b9adccc817c,,4,0
openstack%2Foctavia~stable%2Fwallaby~I6619ba117f7051fe44086389789bc6e2810fd23d,openstack/octavia,stable/wallaby,I6619ba117f7051fe44086389789bc6e2810fd23d,Add keepalive for redis-based taskflow boards,MERGED,2022-01-24 08:35:32.000000000,2022-04-27 17:42:05.000000000,2022-04-27 17:40:05.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-01-24 08:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f83120485c82f8713c1d3fd32fd808c9ea5b4654', 'message': 'Add keepalive for redis-based taskflow boards\n\nWhen using amphorav2+persistence, taskflow maintains the ownership of a\ntask using a TTL in redis for each job.\n\nWhen a task is longer than expected, it is released in redis and another\ncontroller can take it over while it is still running on the first\ncontroller.\n\nAdd a keepalive mechanism in the worker to periodically reset the TTL\nwhile the worker is still processing a job\n\nStory 2009761\nTask 44242\n\nChange-Id: I6619ba117f7051fe44086389789bc6e2810fd23d\n(cherry picked from commit f13c3ca6b8480792e2ab86a5413843b56eb453c6)\n(cherry picked from commit 987d6a346f9a7df5ec9bb3d341fc4f90423608ed)\n'}, {'number': 2, 'created': '2022-02-01 18:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/727cf365b5bbceddebc18a10af3cfe883408137b', 'message': 'Add keepalive for redis-based taskflow boards\n\nWhen using amphorav2+persistence, taskflow maintains the ownership of a\ntask using a TTL in redis for each job.\n\nWhen a task is longer than expected, it is released in redis and another\ncontroller can take it over while it is still running on the first\ncontroller.\n\nAdd a keepalive mechanism in the worker to periodically reset the TTL\nwhile the worker is still processing a job\n\nStory 2009761\nTask 44242\n\nChange-Id: I6619ba117f7051fe44086389789bc6e2810fd23d\n(cherry picked from commit f13c3ca6b8480792e2ab86a5413843b56eb453c6)\n'}, {'number': 3, 'created': '2022-02-21 16:17:38.000000000', 'files': ['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'releasenotes/notes/fix-long-tasks-with-redis-keepalive-af18211334c14f54.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b4806a83b3fa142d1fbd522add11f453199f2a77', 'message': 'Add keepalive for redis-based taskflow boards\n\nWhen using amphorav2+persistence, taskflow maintains the ownership of a\ntask using a TTL in redis for each job.\n\nWhen a task is longer than expected, it is released in redis and another\ncontroller can take it over while it is still running on the first\ncontroller.\n\nAdd a keepalive mechanism in the worker to periodically reset the TTL\nwhile the worker is still processing a job\n\nSpecific to stable branches <=wallaby: additional patch in\ncreate_amphora in v2/controller_worker.py (spare pool feature)\n\nStory 2009761\nTask 44242\n\nChange-Id: I6619ba117f7051fe44086389789bc6e2810fd23d\n(cherry picked from commit f13c3ca6b8480792e2ab86a5413843b56eb453c6)\n'}]",8,826028,b4806a83b3fa142d1fbd522add11f453199f2a77,25,5,3,29244,,,0,"Add keepalive for redis-based taskflow boards

When using amphorav2+persistence, taskflow maintains the ownership of a
task using a TTL in redis for each job.

When a task is longer than expected, it is released in redis and another
controller can take it over while it is still running on the first
controller.

Add a keepalive mechanism in the worker to periodically reset the TTL
while the worker is still processing a job

Specific to stable branches <=wallaby: additional patch in
create_amphora in v2/controller_worker.py (spare pool feature)

Story 2009761
Task 44242

Change-Id: I6619ba117f7051fe44086389789bc6e2810fd23d
(cherry picked from commit f13c3ca6b8480792e2ab86a5413843b56eb453c6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/28/826028/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'releasenotes/notes/fix-long-tasks-with-redis-keepalive-af18211334c14f54.yaml']",5,f83120485c82f8713c1d3fd32fd808c9ea5b4654,,"--- fixes: - | Fix an issue with amphorav2 and persistence, some long tasks executed by a controller might have been released in taskflow and rescheduled on another controller. Octavia now ensures that a task is never released early by using a keepalive mechanism to notify taskflow (and its redis backend) that a job is still running. ",,52,42
openstack%2Fkayobe-config-dev~stable%2Fyoga~Ie58a441e3d57e476084d2bd611fe7a397d136323,openstack/kayobe-config-dev,stable/yoga,Ie58a441e3d57e476084d2bd611fe7a397d136323,[release] Synchronise with latest kayobe changes for Yoga,MERGED,2022-04-27 10:42:29.000000000,2022-04-27 17:41:27.000000000,2022-04-27 17:41:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 10:42:29.000000000', 'files': ['etc/kayobe/kolla.yml', 'etc/kayobe/proxy.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/b328bef8315eea079dc14f1a120a0535e309e0ef', 'message': '[release] Synchronise with latest kayobe changes for Yoga\n\nChange-Id: Ie58a441e3d57e476084d2bd611fe7a397d136323\n(cherry picked from commit 0780e85a632d3ffbff2917e211a908d9952cec2e)\n'}]",0,839511,b328bef8315eea079dc14f1a120a0535e309e0ef,6,2,1,15197,,,0,"[release] Synchronise with latest kayobe changes for Yoga

Change-Id: Ie58a441e3d57e476084d2bd611fe7a397d136323
(cherry picked from commit 0780e85a632d3ffbff2917e211a908d9952cec2e)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/11/839511/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/kolla.yml', 'etc/kayobe/proxy.yml']",2,b328bef8315eea079dc14f1a120a0535e309e0ef,,"# used. Defaults to [""127.0.0.1"", ""localhost"", ""{{ ('http://' ~ # docker_registry) | urlsplit('hostname') }}""] if docker_registry is set, or # [""127.0.0.1"", ""localhost""] otherwise. This is configured only if either # http_proxy or https_proxy is set.","# used. Defaults to [""127.0.0.1"", ""localhost"", ""{{ docker_registry }}""]. This # is configured only if either http_proxy or https_proxy is set.",4,3
openstack%2Freleases~master~I6f6f01cf44d6b780b6da605e1d158b4583ada49f,openstack/releases,master,I6f6f01cf44d6b780b6da605e1d158b4583ada49f,[ironic] Transition Victoria to EM,MERGED,2022-04-14 16:53:02.000000000,2022-04-27 17:33:31.000000000,2022-04-27 17:33:31.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 16:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a6811d7446ad91ea95cbfdf5b3a1cb67caf2d286', 'message': '[ironic] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I6f6f01cf44d6b780b6da605e1d158b4583ada49f\n'}, {'number': 2, 'created': '2022-04-14 17:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f00af29e2bf572b5dc242c252e9a0067b2a9540d', 'message': '[ironic] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I6f6f01cf44d6b780b6da605e1d158b4583ada49f\n'}, {'number': 3, 'created': '2022-04-27 14:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cfb9821fa25d6ace7b7e876f4519929d7d0a8346', 'message': '[ironic] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I6f6f01cf44d6b780b6da605e1d158b4583ada49f\n'}, {'number': 4, 'created': '2022-04-27 14:53:08.000000000', 'files': ['deliverables/victoria/python-ironic-inspector-client.yaml', 'deliverables/victoria/ironic-python-agent.yaml', 'deliverables/victoria/bifrost.yaml', 'deliverables/victoria/metalsmith.yaml', 'deliverables/victoria/ironic-lib.yaml', 'deliverables/victoria/ironic-inspector.yaml', 'deliverables/victoria/networking-baremetal.yaml', 'deliverables/victoria/sushy-cli.yaml', 'deliverables/victoria/ironic-ui.yaml', 'deliverables/victoria/ironic.yaml', 'deliverables/victoria/networking-generic-switch.yaml', 'deliverables/victoria/python-ironicclient.yaml', 'deliverables/victoria/sushy.yaml', 'deliverables/victoria/ironic-prometheus-exporter.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b9768a60f5b2e4e94a96e376a610217c4e6c4d6e', 'message': '[ironic] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I6f6f01cf44d6b780b6da605e1d158b4583ada49f\n'}]",4,837937,b9768a60f5b2e4e94a96e376a610217c4e6c4d6e,18,6,4,17685,,,0,"[ironic] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I6f6f01cf44d6b780b6da605e1d158b4583ada49f
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/837937/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/python-ironic-inspector-client.yaml', 'deliverables/victoria/ironic-python-agent.yaml', 'deliverables/victoria/bifrost.yaml', 'deliverables/victoria/metalsmith.yaml', 'deliverables/victoria/ironic-tempest-plugin.yaml', 'deliverables/victoria/ironic-lib.yaml', 'deliverables/victoria/ironic-inspector.yaml', 'deliverables/victoria/networking-baremetal.yaml', 'deliverables/victoria/sushy-cli.yaml', 'deliverables/victoria/ironic-ui.yaml', 'deliverables/victoria/ironic.yaml', 'deliverables/victoria/networking-generic-switch.yaml', 'deliverables/victoria/python-ironicclient.yaml', 'deliverables/victoria/sushy.yaml', 'deliverables/victoria/ironic-prometheus-exporter.yaml']",15,a6811d7446ad91ea95cbfdf5b3a1cb67caf2d286,victoria-em, - version: victoria-em projects: - repo: openstack/ironic-prometheus-exporter hash: 6e6f218eb884921c45a41991f063a0ee1b9fdbf4,,60,0
openstack%2Fkayobe-config-dev~master~Ie58a441e3d57e476084d2bd611fe7a397d136323,openstack/kayobe-config-dev,master,Ie58a441e3d57e476084d2bd611fe7a397d136323,[release] Synchronise with latest kayobe changes for Yoga,MERGED,2022-04-27 10:42:11.000000000,2022-04-27 17:31:18.000000000,2022-04-27 17:31:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-27 10:42:11.000000000', 'files': ['etc/kayobe/kolla.yml', 'etc/kayobe/proxy.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/0780e85a632d3ffbff2917e211a908d9952cec2e', 'message': '[release] Synchronise with latest kayobe changes for Yoga\n\nChange-Id: Ie58a441e3d57e476084d2bd611fe7a397d136323\n'}]",0,839510,0780e85a632d3ffbff2917e211a908d9952cec2e,6,3,1,15197,,,0,"[release] Synchronise with latest kayobe changes for Yoga

Change-Id: Ie58a441e3d57e476084d2bd611fe7a397d136323
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/10/839510/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/kolla.yml', 'etc/kayobe/proxy.yml']",2,0780e85a632d3ffbff2917e211a908d9952cec2e,,"# used. Defaults to [""127.0.0.1"", ""localhost"", ""{{ ('http://' ~ # docker_registry) | urlsplit('hostname') }}""] if docker_registry is set, or # [""127.0.0.1"", ""localhost""] otherwise. This is configured only if either # http_proxy or https_proxy is set.","# used. Defaults to [""127.0.0.1"", ""localhost"", ""{{ docker_registry }}""]. This # is configured only if either http_proxy or https_proxy is set.",4,3
openstack%2Freleases~master~I5bd2daae5fc84a305d9b44520361ccff8bb25acb,openstack/releases,master,I5bd2daae5fc84a305d9b44520361ccff8bb25acb,[senlin] Transition Victoria to EM,MERGED,2022-04-14 17:04:24.000000000,2022-04-27 17:27:06.000000000,2022-04-27 17:27:06.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 17:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cdb1350c9baffc127fb37638907fb4fa6f819375', 'message': '[senlin] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I5bd2daae5fc84a305d9b44520361ccff8bb25acb\n'}, {'number': 2, 'created': '2022-04-14 17:37:14.000000000', 'files': ['deliverables/victoria/python-senlinclient.yaml', 'deliverables/victoria/senlin-dashboard.yaml', 'deliverables/victoria/senlin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/65bd56a65191eb3fd5a4ee7835f02860a091f36f', 'message': '[senlin] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I5bd2daae5fc84a305d9b44520361ccff8bb25acb\n'}]",4,837964,65bd56a65191eb3fd5a4ee7835f02860a091f36f,13,4,2,17685,,,0,"[senlin] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I5bd2daae5fc84a305d9b44520361ccff8bb25acb
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/837964/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/python-senlinclient.yaml', 'deliverables/victoria/senlin-dashboard.yaml', 'deliverables/victoria/senlin.yaml', 'deliverables/victoria/senlin-tempest-plugin.yaml']",4,cdb1350c9baffc127fb37638907fb4fa6f819375,victoria-em, - version: victoria-em projects: - repo: openstack/senlin-tempest-plugin hash: a85b110a1dafff478320931878e75e0591e4158c,,16,0
openstack%2Fopenstack-ansible-galera_server~stable%2Fxena~Ia110dd9ed09b04f6bb7a0a3adf5a808966558507,openstack/openstack-ansible-galera_server,stable/xena,Ia110dd9ed09b04f6bb7a0a3adf5a808966558507,Use separate tmp directory,MERGED,2022-04-26 15:47:14.000000000,2022-04-27 17:21:49.000000000,2022-04-27 17:20:00.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-26 15:47:14.000000000', 'files': ['releasenotes/notes/galera_tmpdir-3271e0bc8e353930.yaml', 'tasks/galera_server_post_install.yml', 'templates/my.cnf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/7585db20e60f8397d3429c2afe10d2dca7f4f3f3', 'message': ""Use separate tmp directory\n\nDuring upgrades or cluster repairments, temporary directories are created\ninside /var/lib/mysql and treated as databases. This results in errors\nduring mysqlcheck like:\n\n`Got error: 1102: Incorrect database name '#mysql50#tmp.stLr46FBlt'`\n\nPath outside of datadir is not choosen since it could be separate mount\npoint and it's important for replication\nto survive reboots.\n\nChange-Id: Ia110dd9ed09b04f6bb7a0a3adf5a808966558507\n(cherry picked from commit ebc0417919fcedd924fa5a21107055a433eca6f6)\n""}]",0,839338,7585db20e60f8397d3429c2afe10d2dca7f4f3f3,9,5,1,28619,,,0,"Use separate tmp directory

During upgrades or cluster repairments, temporary directories are created
inside /var/lib/mysql and treated as databases. This results in errors
during mysqlcheck like:

`Got error: 1102: Incorrect database name '#mysql50#tmp.stLr46FBlt'`

Path outside of datadir is not choosen since it could be separate mount
point and it's important for replication
to survive reboots.

Change-Id: Ia110dd9ed09b04f6bb7a0a3adf5a808966558507
(cherry picked from commit ebc0417919fcedd924fa5a21107055a433eca6f6)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/38/839338/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/galera_tmpdir-3271e0bc8e353930.yaml', 'tasks/galera_server_post_install.yml', 'templates/my.cnf.j2', 'defaults/main.yml']",4,7585db20e60f8397d3429c2afe10d2dca7f4f3f3,,"galera_tmp_dir: /var/lib/mysql/#tmp galera_ignore_db_dirs: - ""'#tmp'""",,17,1
openstack%2Fopenstack-helm~master~I5e4b86cdf16e11d30142819e496f0d46ebdfae0d,openstack/openstack-helm,master,I5e4b86cdf16e11d30142819e496f0d46ebdfae0d,Add helm hook annotations in horizon db-init and db-sync jobs,MERGED,2022-04-05 17:50:52.000000000,2022-04-27 17:16:34.000000000,2022-04-27 17:14:26.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-05 17:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b90f9e38ac6ffcb02c06f98075e0e9cc70407e1', 'message': 'Add helm hook annotations in horizon dy-init and db-sync jobs\n\nChange-Id: I5e4b86cdf16e11d30142819e496f0d46ebdfae0d\n'}, {'number': 2, 'created': '2022-04-20 07:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/817e0e13c8d98ee912b4e330c71abfe61ff30915', 'message': 'Add helm hook annotations in horizon dy-init and db-sync jobs\n\nChange-Id: I5e4b86cdf16e11d30142819e496f0d46ebdfae0d\n'}, {'number': 3, 'created': '2022-04-22 16:58:05.000000000', 'files': ['horizon/templates/job-db-sync.yaml', 'horizon/Chart.yaml', 'horizon/templates/job-db-init.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1ac8b99f7e2a448620d65b50d884aa1531b4a34a', 'message': 'Add helm hook annotations in horizon db-init and db-sync jobs\n\nChange-Id: I5e4b86cdf16e11d30142819e496f0d46ebdfae0d\n'}]",1,836688,1ac8b99f7e2a448620d65b50d884aa1531b4a34a,14,3,3,34293,,,0,"Add helm hook annotations in horizon db-init and db-sync jobs

Change-Id: I5e4b86cdf16e11d30142819e496f0d46ebdfae0d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/88/836688/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/job-db-sync.yaml', 'horizon/Chart.yaml', 'horizon/templates/job-db-init.yaml', 'releasenotes/notes/horizon.yaml']",4,4b90f9e38ac6ffcb02c06f98075e0e9cc70407e1,836688, - 0.2.19 Add helm hook annotations in db-sync and db-init jobs,,14,1
openstack%2Foctavia~stable%2Fwallaby~I550c7d2563a2d3ada07e2162383f59f104bcbbd5,openstack/octavia,stable/wallaby,I550c7d2563a2d3ada07e2162383f59f104bcbbd5,Restart rsyslog from cloud-init,MERGED,2022-04-12 10:50:14.000000000,2022-04-27 17:16:03.000000000,2022-04-27 17:13:52.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-12 10:50:14.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'releasenotes/notes/ensure-rsyslog-config-is-reloaded-b4a25a98b661d0f1.yaml', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bf73410fdc21fc42df513d79b0f46f8022583a97', 'message': ""Restart rsyslog from cloud-init\n\nOctavia uploads a rsyslog configuration file using cloud-init but\ndoesn't ensure that rsyslog is restarted. In some cases (CentOS 9\nStream), rsyslog is started before cloud-init and doesn't use the\nprovided configuration file.\nThis commit ensures that rsyslog is restarted by cloud-init.\n\nChange-Id: I550c7d2563a2d3ada07e2162383f59f104bcbbd5\n(cherry picked from commit cbffae6eb684629a19844b5f2f4b7523b77a725e)\n(cherry picked from commit 220f13f537cba50f0fb575b0e3b5c39c85e8a0b4)\n""}]",2,837548,bf73410fdc21fc42df513d79b0f46f8022583a97,13,4,1,29244,,,0,"Restart rsyslog from cloud-init

Octavia uploads a rsyslog configuration file using cloud-init but
doesn't ensure that rsyslog is restarted. In some cases (CentOS 9
Stream), rsyslog is started before cloud-init and doesn't use the
provided configuration file.
This commit ensures that rsyslog is restarted by cloud-init.

Change-Id: I550c7d2563a2d3ada07e2162383f59f104bcbbd5
(cherry picked from commit cbffae6eb684629a19844b5f2f4b7523b77a725e)
(cherry picked from commit 220f13f537cba50f0fb575b0e3b5c39c85e8a0b4)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/48/837548/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'releasenotes/notes/ensure-rsyslog-config-is-reloaded-b4a25a98b661d0f1.yaml', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py']",5,bf73410fdc21fc42df513d79b0f46f8022583a97,, udtemplater = user_data_jinja_cfg.UserDataJinjaCfg() user_data = udtemplater.build_user_data_config( config_drive_files if user_data_config_drive else {}) if user_data_config_drive:, if user_data_config_drive: udtemplater = user_data_jinja_cfg.UserDataJinjaCfg() user_data = udtemplater.build_user_data_config( config_drive_files),54,22
openstack%2Fopenstack-helm-infra~master~Id30e5749a378167b9c2c14a155bc6ca236d78516,openstack/openstack-helm-infra,master,Id30e5749a378167b9c2c14a155bc6ca236d78516,Annotate ES master/data sts with S3 secret hash,MERGED,2022-04-27 15:36:32.000000000,2022-04-27 17:15:43.000000000,2022-04-27 17:13:31.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 31660}]","[{'number': 1, 'created': '2022-04-27 15:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/839050ed1989721cdc910d4cabc3ee5a789958b9', 'message': 'Annotate ES master/data sts with S3 secret hash\n\nTo ensure that a Helm upgrade with changes S3 credentials results in a\nrestart of the elasticsearch-master and elasticsearch-data pods, add an\nannotation with the hash of the S3 secret.\n\nChange-Id: Id30e5749a378167b9c2c14a155bc6ca236d78516\n'}, {'number': 2, 'created': '2022-04-27 15:37:24.000000000', 'files': ['releasenotes/notes/elasticsearch.yaml', 'elasticsearch/templates/statefulset-master.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'elasticsearch/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dbf841c09c2abfdc0f48e30ce27e900f7ca7e8b2', 'message': 'Annotate ES master/data sts with S3 secret hash\n\nTo ensure that a Helm upgrade with changed S3 credentials results in a\nrestart of the elasticsearch-master and elasticsearch-data pods, add an\nannotation with the hash of the S3 secret.\n\nChange-Id: Id30e5749a378167b9c2c14a155bc6ca236d78516\n'}]",0,839578,dbf841c09c2abfdc0f48e30ce27e900f7ca7e8b2,10,4,2,28719,,,0,"Annotate ES master/data sts with S3 secret hash

To ensure that a Helm upgrade with changed S3 credentials results in a
restart of the elasticsearch-master and elasticsearch-data pods, add an
annotation with the hash of the S3 secret.

Change-Id: Id30e5749a378167b9c2c14a155bc6ca236d78516
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/78/839578/1 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/statefulset-master.yaml', 'releasenotes/notes/elasticsearch.yaml', 'elasticsearch/Chart.yaml', 'elasticsearch/templates/statefulset-data.yaml']",4,839050ed1989721cdc910d4cabc3ee5a789958b9,,"{{- if and .Values.manifests.secret_s3 .Values.conf.elasticsearch.snapshots.enabled }} secret-s3-user-hash: {{ tuple ""secret-s3-user.yaml"" . | include ""helm-toolkit.utils.hash"" }} {{- end }}",,8,1
openstack%2Frequirements~stable%2Fvictoria~I900b6465f857c2495361e24a0b4ebbf4b28c432c,openstack/requirements,stable/victoria,I900b6465f857c2495361e24a0b4ebbf4b28c432c,update constraint for neutron to new release 17.4.1,MERGED,2022-04-27 11:34:00.000000000,2022-04-27 17:07:12.000000000,2022-04-27 17:07:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-27 11:34:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7ac2eeb8a650cff81bb6bee6006fe6c9451b57d6', 'message': 'update constraint for neutron to new release 17.4.1\n\nmeta: version: 17.4.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: elajkat <lajos.katona@est.tech>\nmeta: release:Commit: elajkat <lajos.katona@est.tech>\nmeta: release:Change-Id: I2d55a6dffca034dbec22e11117a836cd39daa1f3\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I900b6465f857c2495361e24a0b4ebbf4b28c432c\n'}]",0,839513,7ac2eeb8a650cff81bb6bee6006fe6c9451b57d6,8,3,1,11131,,,0,"update constraint for neutron to new release 17.4.1

meta: version: 17.4.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: elajkat <lajos.katona@est.tech>
meta: release:Commit: elajkat <lajos.katona@est.tech>
meta: release:Change-Id: I2d55a6dffca034dbec22e11117a836cd39daa1f3
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I900b6465f857c2495361e24a0b4ebbf4b28c432c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/839513/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7ac2eeb8a650cff81bb6bee6006fe6c9451b57d6,new-release,neutron===17.4.1,neutron===17.4.0,1,1
openstack%2Frequirements~stable%2Ftrain~Ia23ce6f3d256fc13c6dd4951ca6bf541b1478967,openstack/requirements,stable/train,Ia23ce6f3d256fc13c6dd4951ca6bf541b1478967,Setting constraint on validations-libs version,MERGED,2022-04-11 08:31:50.000000000,2022-04-27 17:07:09.000000000,2022-04-27 17:07:09.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 27427}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-11 08:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/43063dfe1893737317cf6399bc8e8eb765f0026c', 'message': 'Setting constraint on validations-libs version in global reqs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia23ce6f3d256fc13c6dd4951ca6bf541b1478967\n'}, {'number': 2, 'created': '2022-04-11 12:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ffd2bae8d070e572935f44f658d63ba1f031bca2', 'message': 'Setting constraint on validations-libs version in global reqs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia23ce6f3d256fc13c6dd4951ca6bf541b1478967\n'}, {'number': 3, 'created': '2022-04-20 14:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/986afd8c9975904103700c262c8dc58176f3319e', 'message': 'Setting constraint on validations-libs version in global reqs\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/838589\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia23ce6f3d256fc13c6dd4951ca6bf541b1478967\n'}, {'number': 4, 'created': '2022-04-21 06:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2e3c514f70025b54a34446f541533736a5a5d885', 'message': 'Setting constraint on validations-libs version in global reqs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia23ce6f3d256fc13c6dd4951ca6bf541b1478967\n'}, {'number': 5, 'created': '2022-04-26 06:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/59097fa9cc6dcb589517307e16aaf21558cca7d0', 'message': 'Setting constraint on validations-libs version in global reqs\n\nRelated-Bug: #1967277\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia23ce6f3d256fc13c6dd4951ca6bf541b1478967\n'}, {'number': 6, 'created': '2022-04-27 07:07:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0ac18028c1b9872a9c56480c887636847af4f625', 'message': 'Setting constraint on validations-libs version\n\nvalidations-libs-1.6.* will be the last set of versions compatible\nwith the train release. All future releases of the library,\nmeaning >=1.7.0 are not and will not be developed with regard\nto train relase.\n\nanisble-runner is being bumped as a dependency for validations-libs.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia23ce6f3d256fc13c6dd4951ca6bf541b1478967\n'}]",3,837263,0ac18028c1b9872a9c56480c887636847af4f625,24,8,6,32926,,,0,"Setting constraint on validations-libs version

validations-libs-1.6.* will be the last set of versions compatible
with the train release. All future releases of the library,
meaning >=1.7.0 are not and will not be developed with regard
to train relase.

anisble-runner is being bumped as a dependency for validations-libs.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia23ce6f3d256fc13c6dd4951ca6bf541b1478967
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/837263/4 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,43063dfe1893737317cf6399bc8e8eb765f0026c,validations-libs/1.6.0-stable,validations-libs<1.7.0 # Apache-2.0,validations-libs # Apache-2.0,1,1
openstack%2Fkayobe~master~I9c6e261dbac067ca3f9218e6ea81813ddc2f6520,openstack/kayobe,master,I9c6e261dbac067ca3f9218e6ea81813ddc2f6520,Bump stackhpc.drac role,MERGED,2022-04-22 12:22:05.000000000,2022-04-27 17:05:22.000000000,2022-04-27 17:03:55.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-22 12:22:05.000000000', 'files': ['releasenotes/notes/stackhpc-drac-check-mode-8097215f8eca9991.yaml', 'requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5d6b9714ff3d84afd02d7923ccd5145dd66b9774', 'message': 'Bump stackhpc.drac role\n\nThis new version fixes the evaluation of check_mode, which is causing\n`kayobe overcloud bios raid configure` to fail.\n\nChange-Id: I9c6e261dbac067ca3f9218e6ea81813ddc2f6520\n'}]",1,839056,5d6b9714ff3d84afd02d7923ccd5145dd66b9774,10,4,1,15197,,,0,"Bump stackhpc.drac role

This new version fixes the evaluation of check_mode, which is causing
`kayobe overcloud bios raid configure` to fail.

Change-Id: I9c6e261dbac067ca3f9218e6ea81813ddc2f6520
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/56/839056/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/stackhpc-drac-check-mode-8097215f8eca9991.yaml', 'requirements.yml']",2,5d6b9714ff3d84afd02d7923ccd5145dd66b9774,stackhpc-drac-bump, version: 1.1.6, version: 1.1.5,6,1
openstack%2Foctavia~stable%2Fussuri~I6619ba117f7051fe44086389789bc6e2810fd23d,openstack/octavia,stable/ussuri,I6619ba117f7051fe44086389789bc6e2810fd23d,Add keepalive for redis-based taskflow boards,MERGED,2022-01-24 08:36:52.000000000,2022-04-27 16:57:54.000000000,2022-04-27 16:56:05.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-01-24 08:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d5f0892fe377b9366b2e9afa91cca7700d34f3f3', 'message': 'Add keepalive for redis-based taskflow boards\n\nWhen using amphorav2+persistence, taskflow maintains the ownership of a\ntask using a TTL in redis for each job.\n\nWhen a task is longer than expected, it is released in redis and another\ncontroller can take it over while it is still running on the first\ncontroller.\n\nAdd a keepalive mechanism in the worker to periodically reset the TTL\nwhile the worker is still processing a job\n\nStory 2009761\nTask 44242\n\nChange-Id: I6619ba117f7051fe44086389789bc6e2810fd23d\n(cherry picked from commit f13c3ca6b8480792e2ab86a5413843b56eb453c6)\n(cherry picked from commit 987d6a346f9a7df5ec9bb3d341fc4f90423608ed)\n(cherry picked from commit f83120485c82f8713c1d3fd32fd808c9ea5b4654)\n(cherry picked from commit 2fa1680b723a2cf30d500934e4907b924bbcdd79)\n'}, {'number': 2, 'created': '2022-02-21 16:40:23.000000000', 'files': ['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'releasenotes/notes/fix-long-tasks-with-redis-keepalive-af18211334c14f54.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7bd125d73c54f0edb25095ddeef4c25161a5377b', 'message': 'Add keepalive for redis-based taskflow boards\n\nWhen using amphorav2+persistence, taskflow maintains the ownership of a\ntask using a TTL in redis for each job.\n\nWhen a task is longer than expected, it is released in redis and another\ncontroller can take it over while it is still running on the first\ncontroller.\n\nAdd a keepalive mechanism in the worker to periodically reset the TTL\nwhile the worker is still processing a job\n\nSpecific to stable branches <=wallaby: additional patch in\ncreate_amphora in v2/controller_worker.py (spare pool feature)\n\nStory 2009761\nTask 44242\n\nChange-Id: I6619ba117f7051fe44086389789bc6e2810fd23d\n(cherry picked from commit f13c3ca6b8480792e2ab86a5413843b56eb453c6)\n(cherry picked from commit b4806a83b3fa142d1fbd522add11f453199f2a77)\n(cherry picked from commit 40256308f640a8a117cf164251003e221db5d099)\n'}]",4,826030,7bd125d73c54f0edb25095ddeef4c25161a5377b,18,5,2,29244,,,0,"Add keepalive for redis-based taskflow boards

When using amphorav2+persistence, taskflow maintains the ownership of a
task using a TTL in redis for each job.

When a task is longer than expected, it is released in redis and another
controller can take it over while it is still running on the first
controller.

Add a keepalive mechanism in the worker to periodically reset the TTL
while the worker is still processing a job

Specific to stable branches <=wallaby: additional patch in
create_amphora in v2/controller_worker.py (spare pool feature)

Story 2009761
Task 44242

Change-Id: I6619ba117f7051fe44086389789bc6e2810fd23d
(cherry picked from commit f13c3ca6b8480792e2ab86a5413843b56eb453c6)
(cherry picked from commit b4806a83b3fa142d1fbd522add11f453199f2a77)
(cherry picked from commit 40256308f640a8a117cf164251003e221db5d099)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/30/826030/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'releasenotes/notes/fix-long-tasks-with-redis-keepalive-af18211334c14f54.yaml']",5,d5f0892fe377b9366b2e9afa91cca7700d34f3f3,,"--- fixes: - | Fix an issue with amphorav2 and persistence, some long tasks executed by a controller might have been released in taskflow and rescheduled on another controller. Octavia now ensures that a task is never released early by using a keepalive mechanism to notify taskflow (and its redis backend) that a job is still running. ",,52,42
openstack%2Foctavia~stable%2Fvictoria~I6619ba117f7051fe44086389789bc6e2810fd23d,openstack/octavia,stable/victoria,I6619ba117f7051fe44086389789bc6e2810fd23d,Add keepalive for redis-based taskflow boards,MERGED,2022-01-24 08:36:12.000000000,2022-04-27 16:57:42.000000000,2022-04-27 16:55:57.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-01-24 08:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2fa1680b723a2cf30d500934e4907b924bbcdd79', 'message': 'Add keepalive for redis-based taskflow boards\n\nWhen using amphorav2+persistence, taskflow maintains the ownership of a\ntask using a TTL in redis for each job.\n\nWhen a task is longer than expected, it is released in redis and another\ncontroller can take it over while it is still running on the first\ncontroller.\n\nAdd a keepalive mechanism in the worker to periodically reset the TTL\nwhile the worker is still processing a job\n\nStory 2009761\nTask 44242\n\nChange-Id: I6619ba117f7051fe44086389789bc6e2810fd23d\n(cherry picked from commit f13c3ca6b8480792e2ab86a5413843b56eb453c6)\n(cherry picked from commit 987d6a346f9a7df5ec9bb3d341fc4f90423608ed)\n(cherry picked from commit f83120485c82f8713c1d3fd32fd808c9ea5b4654)\n'}, {'number': 2, 'created': '2022-02-21 16:19:17.000000000', 'files': ['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'releasenotes/notes/fix-long-tasks-with-redis-keepalive-af18211334c14f54.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/40256308f640a8a117cf164251003e221db5d099', 'message': 'Add keepalive for redis-based taskflow boards\n\nWhen using amphorav2+persistence, taskflow maintains the ownership of a\ntask using a TTL in redis for each job.\n\nWhen a task is longer than expected, it is released in redis and another\ncontroller can take it over while it is still running on the first\ncontroller.\n\nAdd a keepalive mechanism in the worker to periodically reset the TTL\nwhile the worker is still processing a job\n\nSpecific to stable branches <=wallaby: additional patch in\ncreate_amphora in v2/controller_worker.py (spare pool feature)\n\nStory 2009761\nTask 44242\n\nChange-Id: I6619ba117f7051fe44086389789bc6e2810fd23d\n(cherry picked from commit f13c3ca6b8480792e2ab86a5413843b56eb453c6)\n(cherry picked from commit b4806a83b3fa142d1fbd522add11f453199f2a77)\n'}]",5,826029,40256308f640a8a117cf164251003e221db5d099,20,5,2,29244,,,0,"Add keepalive for redis-based taskflow boards

When using amphorav2+persistence, taskflow maintains the ownership of a
task using a TTL in redis for each job.

When a task is longer than expected, it is released in redis and another
controller can take it over while it is still running on the first
controller.

Add a keepalive mechanism in the worker to periodically reset the TTL
while the worker is still processing a job

Specific to stable branches <=wallaby: additional patch in
create_amphora in v2/controller_worker.py (spare pool feature)

Story 2009761
Task 44242

Change-Id: I6619ba117f7051fe44086389789bc6e2810fd23d
(cherry picked from commit f13c3ca6b8480792e2ab86a5413843b56eb453c6)
(cherry picked from commit b4806a83b3fa142d1fbd522add11f453199f2a77)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/29/826029/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'releasenotes/notes/fix-long-tasks-with-redis-keepalive-af18211334c14f54.yaml']",5,2fa1680b723a2cf30d500934e4907b924bbcdd79,,"--- fixes: - | Fix an issue with amphorav2 and persistence, some long tasks executed by a controller might have been released in taskflow and rescheduled on another controller. Octavia now ensures that a task is never released early by using a keepalive mechanism to notify taskflow (and its redis backend) that a job is still running. ",,52,42
openstack%2Foctavia~stable%2Fwallaby~I48a02780adf54b8d6d3bedada448a4f91e0539ed,openstack/octavia,stable/wallaby,I48a02780adf54b8d6d3bedada448a4f91e0539ed,Pass timeout_dict to _get_haproxy_versions,MERGED,2022-03-29 12:13:14.000000000,2022-04-27 16:49:13.000000000,2022-04-27 16:47:16.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-29 12:13:14.000000000', 'files': ['octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'releasenotes/notes/fix-timeout-dict-in-failover-tasks-537456e0fe1d7cb8.yaml', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f0720d67c6a579e3a6c71a5f3ae82938631420da', 'message': 'Pass timeout_dict to _get_haproxy_versions\n\nThe timeout_dict args was ignored when calling _get_haproxy_versions\n\n_get_haproxy_versions might be the first function (that uses the amphora\nAPI) that is called from rest_api_driver, it should respect the\ntimeout_dict passed by the tasks of the controller (for instance during\na failover a custom timeout_dict is used in order to optimize the\nfailover of missing amphorae)\n\nStory 2009761\nTask 44232\n\nChange-Id: I48a02780adf54b8d6d3bedada448a4f91e0539ed\n(cherry picked from commit 6d6a8bdf6c53c20ae5864ae61785ed902e468ae8)\n(cherry picked from commit 1da04d126a007416c0ba0822031818371266dd95)\n(cherry picked from commit 4e1cc209f7ba63ea9bf3eec1c0557da5bc2cac56)\n'}]",4,835616,f0720d67c6a579e3a6c71a5f3ae82938631420da,16,3,1,29244,,,0,"Pass timeout_dict to _get_haproxy_versions

The timeout_dict args was ignored when calling _get_haproxy_versions

_get_haproxy_versions might be the first function (that uses the amphora
API) that is called from rest_api_driver, it should respect the
timeout_dict passed by the tasks of the controller (for instance during
a failover a custom timeout_dict is used in order to optimize the
failover of missing amphorae)

Story 2009761
Task 44232

Change-Id: I48a02780adf54b8d6d3bedada448a4f91e0539ed
(cherry picked from commit 6d6a8bdf6c53c20ae5864ae61785ed902e468ae8)
(cherry picked from commit 1da04d126a007416c0ba0822031818371266dd95)
(cherry picked from commit 4e1cc209f7ba63ea9bf3eec1c0557da5bc2cac56)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/16/835616/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'releasenotes/notes/fix-timeout-dict-in-failover-tasks-537456e0fe1d7cb8.yaml', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",5,f0720d67c6a579e3a6c71a5f3ae82938631420da,," self.driver.clients[ API_VERSION].reload_listener.reset_mock() timeout_dict = { 'elem1': 1000 } self.driver.reload(loadbalancer, timeout_dict=timeout_dict) self.driver.clients[ API_VERSION].reload_listener.assert_called_once_with( amp1, loadbalancer.id, timeout_dict) self.amp, timeout_dict=None) self.assertEqual(ref_haproxy_versions, result) def test_get_haproxy_versions_with_timeout_dict(self): ref_haproxy_versions = ['1', '6'] timeout_dict = { constants.CONN_MAX_RETRIES: 100, constants.CONN_RETRY_INTERVAL: 1 } result = self.driver._get_haproxy_versions(self.amp, timeout_dict=timeout_dict) self.driver.clients[API_VERSION].get_info.assert_called_once_with( self.amp, timeout_dict=timeout_dict) def test_get_info_with_timeout_dict(self, m): info = {""hostname"": ""some_hostname"", ""version"": ""some_version"", ""api_version"": ""0.5"", ""uuid"": FAKE_UUID_1} m.get(""{base}/info"".format(base=self.base_url_ver), json=info) timeout_dict = { constants.CONN_MAX_RETRIES: 100, constants.CONN_RETRY_INTERVAL: 1 } information = self.driver.get_info(self.amp, timeout_dict=timeout_dict) self.assertEqual(info, information) @requests_mock.mock()", self.amp),109,16
openstack%2Foctavia~stable%2Fvictoria~I36acdee1f8782b17c234f6b250facc5c8d0aaf87,openstack/octavia,stable/victoria,I36acdee1f8782b17c234f6b250facc5c8d0aaf87,Fix AttributeError in exception handler,MERGED,2022-04-22 10:57:36.000000000,2022-04-27 16:48:52.000000000,2022-04-27 16:47:13.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-04-22 10:57:36.000000000', 'files': ['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b30d902226e71ad17df643d9df4acfdc20470f26', 'message': 'Fix AttributeError in exception handler\n\nThe exception handler of save_state() caused an AttributeError\nbecause it tried to get the output attribute of the Exception,\nwhich does not exist in general. Added a test to cover this\nscenario.\n\nChange-Id: I36acdee1f8782b17c234f6b250facc5c8d0aaf87\n(cherry picked from commit 384b83d88b436c8e657b09f97b12e42d7c9c339b)\n(cherry picked from commit 7aaac224cb4296a4802e4c21c76ba9d010335333)\n(cherry picked from commit 7adeb21c42fdb6431718fcfcd9ad53b8ae077aa5)\n(cherry picked from commit 3ee4acb6501c641f19e223b1937c43c0af2fc591)\n'}]",2,839045,b30d902226e71ad17df643d9df4acfdc20470f26,10,4,1,34429,,,0,"Fix AttributeError in exception handler

The exception handler of save_state() caused an AttributeError
because it tried to get the output attribute of the Exception,
which does not exist in general. Added a test to cover this
scenario.

Change-Id: I36acdee1f8782b17c234f6b250facc5c8d0aaf87
(cherry picked from commit 384b83d88b436c8e657b09f97b12e42d7c9c339b)
(cherry picked from commit 7aaac224cb4296a4802e4c21c76ba9d010335333)
(cherry picked from commit 7adeb21c42fdb6431718fcfcd9ad53b8ae077aa5)
(cherry picked from commit 3ee4acb6501c641f19e223b1937c43c0af2fc591)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/45/839045/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py']",2,b30d902226e71ad17df643d9df4acfdc20470f26,," def test_save_state_error(self): """"""save_state() should swallow exceptions"""""" filename = 'state_file' query_mock = mock.Mock(side_effect=OSError()) self.q._query = query_mock try: self.q.save_state(filename) except Exception as ex: self.fail(""save_state() raised %r unexpectedly!"" % ex)",,13,2
openstack%2Fneutron-tempest-plugin~master~I71e83f4b2dee4cc9a0f6f5caa77c83e52ea04e9d,openstack/neutron-tempest-plugin,master,I71e83f4b2dee4cc9a0f6f5caa77c83e52ea04e9d,[taas] Remove unused scenario.manager methods,ABANDONED,2022-04-26 11:14:14.000000000,2022-04-27 16:10:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-26 11:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6268b814fc75904db73dae106e217ded3db3827e', 'message': '[taas] Remove unused scenario.manager methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * create_networks\n    * _create_subnet\n    * _get_network_by_name\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I71e83f4b2dee4cc9a0f6f5caa77c83e52ea04e9d\n'}, {'number': 2, 'created': '2022-04-27 12:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a50ffad66c9737f6d0545e3848a239b37c97610f', 'message': '[taas] Remove unused scenario.manager methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * create_networks\n    * _create_subnet\n    * _get_network_by_name\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I71e83f4b2dee4cc9a0f6f5caa77c83e52ea04e9d\n'}, {'number': 3, 'created': '2022-04-27 14:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a7c410a21b34c3b2cc45f07fe0da6ffd4d2d97be', 'message': '[taas] Remove unused scenario.manager methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * create_networks\n    * _create_subnet\n    * _get_network_by_name\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I71e83f4b2dee4cc9a0f6f5caa77c83e52ea04e9d\n'}, {'number': 4, 'created': '2022-04-27 14:54:32.000000000', 'files': ['neutron_tempest_plugin/tap_as_a_service/scenario/test_traffic_impact.py', 'neutron_tempest_plugin/tap_as_a_service/scenario/manager.py', 'neutron_tempest_plugin/tap_as_a_service/scenario/test_taas.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b9d431cd263d621e0ba3a16eabfca54e0314b75d', 'message': '[taas] Remove unused scenario.manager methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * create_networks\n    * _create_subnet\n    * _get_network_by_name\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I71e83f4b2dee4cc9a0f6f5caa77c83e52ea04e9d\n'}]",0,839360,b9d431cd263d621e0ba3a16eabfca54e0314b75d,8,1,4,8313,,,0,"[taas] Remove unused scenario.manager methods

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Removed methods:
    * create_networks
    * _create_subnet
    * _get_network_by_name

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: I71e83f4b2dee4cc9a0f6f5caa77c83e52ea04e9d
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/60/839360/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/tap_as_a_service/scenario/manager.py', 'neutron_tempest_plugin/tap_as_a_service/scenario/test_taas.py']",2,6268b814fc75904db73dae106e217ded3db3827e,tempest-scenario-manager-cleanup, network = self.get_network_by_name( subnet = self.create_subnet(**subnet_kwargs), network = self._get_network_by_name( subnet = self._create_subnet(**subnet_kwargs),4,126
openstack%2Fopenstack-ansible-ceph_client~master~I5ffb33107f61b96b3b7bf6fe812558c545393e98,openstack/openstack-ansible-ceph_client,master,I5ffb33107f61b96b3b7bf6fe812558c545393e98,Add deployment wide variable for ceph apt pinning.,ABANDONED,2022-04-20 07:58:07.000000000,2022-04-27 16:04:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-20 07:58:07.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/ecf6d8a2ba7eb2e3fee719305d05552a8ccc11fb', 'message': 'Add deployment wide variable for ceph apt pinning.\n\nceph-ansible does not place apt pins to fix the repository that ceph\npackages come from, so there can be confusion between Ubuntu, UCA and\nupstream Ceph repositories on hosts where more than one of those\nrepositories is configured.\n\nThis patch adds a new variable openstack_ceph_apt_pinned_packages which\nif defined will become the defalts for ceph_apt_pinned_packages and allows\na single variable to control the apt pins for both ceph_client and other\ncomponents of an openstack-ansible deployment.\n\nChange-Id: I5ffb33107f61b96b3b7bf6fe812558c545393e98\n'}]",0,838653,ecf6d8a2ba7eb2e3fee719305d05552a8ccc11fb,3,1,1,25023,,,0,"Add deployment wide variable for ceph apt pinning.

ceph-ansible does not place apt pins to fix the repository that ceph
packages come from, so there can be confusion between Ubuntu, UCA and
upstream Ceph repositories on hosts where more than one of those
repositories is configured.

This patch adds a new variable openstack_ceph_apt_pinned_packages which
if defined will become the defalts for ceph_apt_pinned_packages and allows
a single variable to control the apt pins for both ceph_client and other
components of an openstack-ansible deployment.

Change-Id: I5ffb33107f61b96b3b7bf6fe812558c545393e98
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/53/838653/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,ecf6d8a2ba7eb2e3fee719305d05552a8ccc11fb,,"ceph_apt_pinned_packages: ""{{ openstack_ceph_apt_pinned_packages | default( [{ package: ""*"", release: ""ceph.com"", priority: 1001 }] ) }}""","ceph_apt_pinned_packages: [{ package: ""*"", release: ""ceph.com"", priority: 1001 }]",1,1
openstack%2Fopenstack-ansible-tests~stable%2Fvictoria~I4aae27bf06429ee7540bf1927143a75e5a35660a,openstack/openstack-ansible-tests,stable/victoria,I4aae27bf06429ee7540bf1927143a75e5a35660a,DNM - test,ABANDONED,2022-04-11 09:57:04.000000000,2022-04-27 15:50:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-11 09:57:04.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/44a9a613521815797c4c2a3bcebadeac6edc192f', 'message': 'DNM - test\n\nChange-Id: I4aae27bf06429ee7540bf1927143a75e5a35660a\n'}]",0,837280,44a9a613521815797c4c2a3bcebadeac6edc192f,3,1,1,25023,,,0,"DNM - test

Change-Id: I4aae27bf06429ee7540bf1927143a75e5a35660a
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/80/837280/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,44a9a613521815797c4c2a3bcebadeac6edc192f,,,,0,0
openstack%2Fopenstack-ansible-tests~stable%2Fxena~I6da7011e701be83861a440e6fc540c8c0e64a154,openstack/openstack-ansible-tests,stable/xena,I6da7011e701be83861a440e6fc540c8c0e64a154,DNM - test,ABANDONED,2022-04-11 09:55:17.000000000,2022-04-27 15:50:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-11 09:55:17.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/8699281d521b0120e8778352c6e733d244b522dc', 'message': 'DNM - test\n\nChange-Id: I6da7011e701be83861a440e6fc540c8c0e64a154\n'}]",0,837278,8699281d521b0120e8778352c6e733d244b522dc,3,1,1,25023,,,0,"DNM - test

Change-Id: I6da7011e701be83861a440e6fc540c8c0e64a154
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/78/837278/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,8699281d521b0120e8778352c6e733d244b522dc,,,,0,0
openstack%2Fopenstack-ansible-tests~stable%2Fwallaby~Ie1a12e14382f0c4dd78d375f97524469088ecebe,openstack/openstack-ansible-tests,stable/wallaby,Ie1a12e14382f0c4dd78d375f97524469088ecebe,DNM - test,ABANDONED,2022-04-11 09:56:04.000000000,2022-04-27 15:49:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-11 09:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/6a11368f0d51bcfa597cfeaa6c26717a553b5d29', 'message': 'DNM - test\n\nChange-Id: Ie1a12e14382f0c4dd78d375f97524469088ecebe\n'}, {'number': 2, 'created': '2022-04-11 10:41:27.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/857f437ced741fc956c7044df347403dcba9a2ce', 'message': 'DNM - test\n\nChange-Id: Ie1a12e14382f0c4dd78d375f97524469088ecebe\n'}]",0,837279,857f437ced741fc956c7044df347403dcba9a2ce,5,1,2,25023,,,0,"DNM - test

Change-Id: Ie1a12e14382f0c4dd78d375f97524469088ecebe
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/79/837279/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,6a11368f0d51bcfa597cfeaa6c26717a553b5d29,,,,0,0
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I1052d21cf8f108dbc99619cd4c4072488645b855,openstack/ansible-collections-openstack,stable/1.0.0,I1052d21cf8f108dbc99619cd4c4072488645b855,Added support for specifying a maximum version of the OpenStack SDK,MERGED,2022-04-27 09:45:55.000000000,2022-04-27 15:47:03.000000000,2022-04-27 15:47:03.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-27 09:45:55.000000000', 'files': ['plugins/module_utils/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/220f2b7dcaa8a56f9bd40d6b49c4b07a8f7e74cc', 'message': ""Added support for specifying a maximum version of the OpenStack SDK\n\nAlongside OpenStack SDK 1.0.0 we will release a new collection version\n2.0.0 which is compatible to OpenStack SDK 1.x.x series only. Code in\nbranch stable/1.0.0 will remain compatible to OpenStack SDK 0.x.x\nseries only.\n\nAt Ansible OpenStack modules PTG on 2022-04-07 it was decided to raise\nan error if one is using a incompatible releases of the OpenStack SDK\nwith our collection. We decided against showing warnings only because\nthey can be missed easily and functionality  will be broken but\nprobably hardly detectable when using the wrong SDK.\n\nThis patch implements the code to raise errors when users are trying\nto use our collection with an incompatible SDK release, e.g. use code\nfrom our stable/1.0.0 branch with a OpenStack SDK 1.x.x release.\n\nIt does not yet change the minimum and maximum required SDK versions\nbecause OpenStack SDK 1.0.0 has not yet been released to PyPI and\nSDK's master branch still does not return a 1.x.x version number.\n\nChange-Id: I1052d21cf8f108dbc99619cd4c4072488645b855\n(cherry picked from commit bc6622e0e7dce7b1a0d90b501424fa8c28d3f405)\n""}]",0,839349,220f2b7dcaa8a56f9bd40d6b49c4b07a8f7e74cc,7,3,1,32962,,,0,"Added support for specifying a maximum version of the OpenStack SDK

Alongside OpenStack SDK 1.0.0 we will release a new collection version
2.0.0 which is compatible to OpenStack SDK 1.x.x series only. Code in
branch stable/1.0.0 will remain compatible to OpenStack SDK 0.x.x
series only.

At Ansible OpenStack modules PTG on 2022-04-07 it was decided to raise
an error if one is using a incompatible releases of the OpenStack SDK
with our collection. We decided against showing warnings only because
they can be missed easily and functionality  will be broken but
probably hardly detectable when using the wrong SDK.

This patch implements the code to raise errors when users are trying
to use our collection with an incompatible SDK release, e.g. use code
from our stable/1.0.0 branch with a OpenStack SDK 1.x.x release.

It does not yet change the minimum and maximum required SDK versions
because OpenStack SDK 1.0.0 has not yet been released to PyPI and
SDK's master branch still does not return a 1.x.x version number.

Change-Id: I1052d21cf8f108dbc99619cd4c4072488645b855
(cherry picked from commit bc6622e0e7dce7b1a0d90b501424fa8c28d3f405)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/49/839349/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/openstack.py'],1,220f2b7dcaa8a56f9bd40d6b49c4b07a8f7e74cc,raise_error_on_incompatible_sdk-stable/1.0.0,"MAXIMUM_SDK_VERSION = Nonedef openstack_cloud_from_module(module, min_version=None, max_version=None): if min_version and MINIMUM_SDK_VERSION: elif MINIMUM_SDK_VERSION: if max_version and MAXIMUM_SDK_VERSION: max_version = min(StrictVersion(MAXIMUM_SDK_VERSION), StrictVersion(max_version)) elif MAXIMUM_SDK_VERSION: max_version = StrictVersion(MAXIMUM_SDK_VERSION) if min_version and StrictVersion(sdk_version.__version__) < min_version: if max_version and StrictVersion(sdk_version.__version__) > max_version: module.fail_json( msg=""To utilize this module, the installed version of "" ""the openstacksdk library MUST be <={max_version}."".format( max_version=max_version)) module_max_sdk_version = None # Fail if the available SDK version doesn't meet the minimum # and maximum version requirements if self.module_min_sdk_version and MINIMUM_SDK_VERSION: elif MINIMUM_SDK_VERSION: else: min_version = None if self.module_max_sdk_version and MAXIMUM_SDK_VERSION: max_version = min(StrictVersion(MAXIMUM_SDK_VERSION), StrictVersion(self.module_max_sdk_version)) elif MAXIMUM_SDK_VERSION: max_version = StrictVersion(MAXIMUM_SDK_VERSION) else: max_version = None if min_version and StrictVersion(self.sdk_version) < min_version: if max_version and StrictVersion(self.sdk_version) > max_version: self.fail( msg=""To utilize this module, the installed version of "" ""the openstacksdk library MUST be <={max_version}."".format( max_version=max_version)) ","def openstack_cloud_from_module(module, min_version=None): if min_version: else: if StrictVersion(sdk_version.__version__) < min_version: # Fail if the available SDK version doesn't meet the minimum version # requirements if self.module_min_sdk_version: else: if StrictVersion(self.sdk_version) < min_version:",40,9
openstack%2Fcinder~master~If50a8f18ceab920bb5c82fb1f79b5f63e6399497,openstack/cinder,master,If50a8f18ceab920bb5c82fb1f79b5f63e6399497,[doc] update driver review checklist,MERGED,2022-04-20 19:27:23.000000000,2022-04-27 15:41:20.000000000,2022-04-27 15:39:36.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 19:27:23.000000000', 'files': ['doc/source/contributor/new_driver_checklist.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9cb338b821e4ccea265c1c6f07f1f42461bfe6ac', 'message': '[doc] update driver review checklist\n\nAdd info about using well-respected cryptographic libraries.\n\nChange-Id: If50a8f18ceab920bb5c82fb1f79b5f63e6399497\n'}]",1,838779,9cb338b821e4ccea265c1c6f07f1f42461bfe6ac,28,3,1,5314,,,0,"[doc] update driver review checklist

Add info about using well-respected cryptographic libraries.

Change-Id: If50a8f18ceab920bb5c82fb1f79b5f63e6399497
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/838779/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/new_driver_checklist.rst'],1,9cb338b821e4ccea265c1c6f07f1f42461bfe6ac,driver-crypto," * Cryptography * Drivers must not use md5 for any security-related purpose. (In fact, drivers should avoid using it at all, because some security audits only allow a ""yes""/""no"" checkbox for md5 use ... but that's up to the vendor.) * If md5 *is* being used for a non security-related purpose, the code must use oslo.utils and not call hashlib directly to access md5. Here's an example of how to do this: https://review.opendev.org/c/openstack/os-brick/+/756151 * Any cryptography done by a driver should be implemented by using a well-respected cryptographic library. *Under no circumstances should a driver implement its own cryptographic functions.* If the library is already in OpenStack global requirements, then it is well-respected; otherwise, you will find out if it's well-respected when you apply for it to be added to global requirements (see next item). ",,22,0
openstack%2Freleases~master~I61e3c88d31680709b71ff8226fca29a6e2695b94,openstack/releases,master,I61e3c88d31680709b71ff8226fca29a6e2695b94,Release Oslo's Xena deliverables,MERGED,2022-04-26 13:44:40.000000000,2022-04-27 15:35:13.000000000,2022-04-27 15:35:13.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-26 13:44:40.000000000', 'files': ['deliverables/wallaby/oslo.messaging.yaml', 'deliverables/wallaby/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ba590dac100a8006cf7a08edb5707338cc816aa5', 'message': ""Release Oslo's Xena deliverables\n\nChange-Id: I61e3c88d31680709b71ff8226fca29a6e2695b94\n""}]",1,839385,ba590dac100a8006cf7a08edb5707338cc816aa5,8,3,1,28522,,,0,"Release Oslo's Xena deliverables

Change-Id: I61e3c88d31680709b71ff8226fca29a6e2695b94
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/839385/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/oslo.messaging.yaml', 'deliverables/wallaby/oslo.utils.yaml']",2,ba590dac100a8006cf7a08edb5707338cc816aa5,oslo-wallaby, - version: 4.8.2 projects: - repo: openstack/oslo.utils hash: a38b56a6f9438d256d6e0f9b03181015f2b27d8c,,8,0
openstack%2Freleases~master~I7add61a26d302f1247691582fbea10bfb1034717,openstack/releases,master,I7add61a26d302f1247691582fbea10bfb1034717,Release Oslo's Zed deliverables,MERGED,2022-04-26 13:39:47.000000000,2022-04-27 15:24:10.000000000,2022-04-27 15:24:10.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-26 13:39:47.000000000', 'files': ['deliverables/zed/oslo.privsep.yaml', 'deliverables/zed/oslo.limit.yaml', 'deliverables/zed/oslo.cache.yaml', 'deliverables/zed/oslo.policy.yaml', 'deliverables/zed/castellan.yaml', 'deliverables/zed/oslo.db.yaml', 'deliverables/zed/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8e577ab0e37d7e0fdf61f41dfb98293182e3a72f', 'message': ""Release Oslo's Zed deliverables\n\nChange-Id: I7add61a26d302f1247691582fbea10bfb1034717\n""}]",1,839382,8e577ab0e37d7e0fdf61f41dfb98293182e3a72f,8,3,1,28522,,,0,"Release Oslo's Zed deliverables

Change-Id: I7add61a26d302f1247691582fbea10bfb1034717
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/839382/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/zed/oslo.privsep.yaml', 'deliverables/zed/oslo.limit.yaml', 'deliverables/zed/oslo.cache.yaml', 'deliverables/zed/oslo.policy.yaml', 'deliverables/zed/castellan.yaml', 'deliverables/zed/oslo.db.yaml', 'deliverables/zed/oslo.utils.yaml']",7,8e577ab0e37d7e0fdf61f41dfb98293182e3a72f,oslo-zed,releases: - version: 4.13.0 projects: - repo: openstack/oslo.utils hash: de4429f2be5fa21d1f6e1cacbb3c8417a7c56310,,35,0
openstack%2Fopenstack-ansible-specs~master~I54e3d3d6fbe0b753597703b6e61f884703c4e7e7,openstack/openstack-ansible-specs,master,I54e3d3d6fbe0b753597703b6e61f884703c4e7e7,PDF Documentation Build tox target,MERGED,2019-10-27 02:00:28.000000000,2022-04-27 15:24:05.000000000,2022-04-27 15:22:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-27 02:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/73ec50e2734c43c89245aec16e3789d4810bde04', 'message': 'PDF Documentation Build tox target\n\nChange-Id: I54e3d3d6fbe0b753597703b6e61f884703c4e7e7\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35341\n'}, {'number': 2, 'created': '2019-11-01 15:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/a02689e3227fb488fd95ce13820e0508e8f54e8d', 'message': 'PDF Documentation Build tox target\n\nChange-Id: I54e3d3d6fbe0b753597703b6e61f884703c4e7e7\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35341\n'}, {'number': 3, 'created': '2022-04-27 12:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/518057295b0fa527e12f7b3332e6047dd0001452', 'message': 'PDF Documentation Build tox target\n\nChange-Id: I54e3d3d6fbe0b753597703b6e61f884703c4e7e7\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35341\n'}, {'number': 4, 'created': '2022-04-27 12:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/176a933b1e8f84c605928d25c900e0ee48e66126', 'message': 'PDF Documentation Build tox target\n\nChange-Id: I54e3d3d6fbe0b753597703b6e61f884703c4e7e7\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35341\n'}, {'number': 5, 'created': '2022-04-27 12:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/29f91020dd523b52f42d436305d6dc8e0a9e2aaa', 'message': 'PDF Documentation Build tox target\n\nChange-Id: I54e3d3d6fbe0b753597703b6e61f884703c4e7e7\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35341\n'}, {'number': 6, 'created': '2022-04-27 13:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/98f80dc6837855b3b5389712c992a83b0cbf35fc', 'message': 'PDF Documentation Build tox target\n\nChange-Id: I54e3d3d6fbe0b753597703b6e61f884703c4e7e7\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35341\n'}, {'number': 7, 'created': '2022-04-27 13:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/018e06a5f9bf7c0cd5a6bfd6a111fe5c144a8196', 'message': 'PDF Documentation Build tox target\n\nChange-Id: I54e3d3d6fbe0b753597703b6e61f884703c4e7e7\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35341\n'}, {'number': 8, 'created': '2022-04-27 13:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/f018d205f5b0758621460af7f0dfb4ba300d54ac', 'message': 'PDF Documentation Build tox target\n\nChange-Id: I54e3d3d6fbe0b753597703b6e61f884703c4e7e7\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35341\n'}, {'number': 9, 'created': '2022-04-27 13:53:23.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/2b72a22f778aa9c434a5571a55815300c4260e65', 'message': 'PDF Documentation Build tox target\n\nChange-Id: I54e3d3d6fbe0b753597703b6e61f884703c4e7e7\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: 2006105\nTask: 35341\n'}]",0,691499,2b72a22f778aa9c434a5571a55815300c4260e65,23,3,9,31197,,,0,"PDF Documentation Build tox target

Change-Id: I54e3d3d6fbe0b753597703b6e61f884703c4e7e7
Signed-off-by: sonpn13 <sonpn13@viettel.com.vn>
Story: 2006105
Task: 35341
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/99/691499/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",3,73ec50e2734c43c89245aec16e3789d4810bde04,,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf,commands=,26,3
openstack%2Fpython-zunclient~master~Ib3c31a243a5ffe0c1ab44ab508c5d4ce3d9969b1,openstack/python-zunclient,master,Ib3c31a243a5ffe0c1ab44ab508c5d4ce3d9969b1,Remove lower constrait job,MERGED,2022-04-27 09:39:51.000000000,2022-04-27 15:03:46.000000000,2022-04-27 15:00:26.000000000,"[{'_account_id': 11536}, {'_account_id': 20663}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 09:39:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/fa5b8ab02fdcc1d889c9e66c90025c16c61017c0', 'message': 'Remove lower constrait job\n\nChange-Id: Ib3c31a243a5ffe0c1ab44ab508c5d4ce3d9969b1\n'}]",1,839504,fa5b8ab02fdcc1d889c9e66c90025c16c61017c0,8,3,1,11536,,,0,"Remove lower constrait job

Change-Id: Ib3c31a243a5ffe0c1ab44ab508c5d4ce3d9969b1
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/04/839504/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fa5b8ab02fdcc1d889c9e66c90025c16c61017c0,,, - openstack-lower-constraints-jobs,0,1
openstack%2Fkayobe-config~stable%2Fyoga~I4a2973564350fc8097706929a9eeb79598c7ad05,openstack/kayobe-config,stable/yoga,I4a2973564350fc8097706929a9eeb79598c7ad05,[release] Synchronise with latest kayobe changes for Yoga,MERGED,2022-04-27 08:06:05.000000000,2022-04-27 15:01:17.000000000,2022-04-27 09:52:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-27 08:06:05.000000000', 'files': ['etc/kayobe/kolla.yml', 'etc/kayobe/proxy.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/7abcd52bbb70171c3cacd8d79b66a8912f647d94', 'message': '[release] Synchronise with latest kayobe changes for Yoga\n\nChange-Id: I4a2973564350fc8097706929a9eeb79598c7ad05\n(cherry picked from commit e28ba5c8bb53fcbc5222bcfff0180aa47ccc0ae6)\n'}]",1,839345,7abcd52bbb70171c3cacd8d79b66a8912f647d94,8,3,1,15197,,,0,"[release] Synchronise with latest kayobe changes for Yoga

Change-Id: I4a2973564350fc8097706929a9eeb79598c7ad05
(cherry picked from commit e28ba5c8bb53fcbc5222bcfff0180aa47ccc0ae6)
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/45/839345/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/kolla.yml', 'etc/kayobe/proxy.yml']",2,7abcd52bbb70171c3cacd8d79b66a8912f647d94,,"# used. Defaults to [""127.0.0.1"", ""localhost"", ""{{ ('http://' ~ # docker_registry) | urlsplit('hostname') }}""] if docker_registry is set, or # [""127.0.0.1"", ""localhost""] otherwise. This is configured only if either # http_proxy or https_proxy is set.","# used. Defaults to [""127.0.0.1"", ""localhost"", ""{{ docker_registry }}""]. This # is configured only if either http_proxy or https_proxy is set.",4,3
openstack%2Freleases~master~Ieba7261f8b504b27418ee52ce633c0a6da98e504,openstack/releases,master,Ieba7261f8b504b27418ee52ce633c0a6da98e504,[neutron] Transition Victoria to EM,MERGED,2022-04-14 16:59:34.000000000,2022-04-27 14:59:04.000000000,2022-04-27 14:59:04.000000000,"[{'_account_id': 841}, {'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 16:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e36066fcfbc10cfb7466777e32dc22703ccdd79d', 'message': '[neutron] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: Ieba7261f8b504b27418ee52ce633c0a6da98e504\n'}, {'number': 2, 'created': '2022-04-14 17:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5d8334accd1fe50740eb4fb2e0dd02cb24f582a9', 'message': '[neutron] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: Ieba7261f8b504b27418ee52ce633c0a6da98e504\n'}, {'number': 3, 'created': '2022-04-22 07:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c751467ab05e94f074ab46a69034e14b64b4bced', 'message': '[neutron] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: Ieba7261f8b504b27418ee52ce633c0a6da98e504\n'}, {'number': 4, 'created': '2022-04-27 08:10:49.000000000', 'files': ['deliverables/victoria/networking-odl.yaml', 'deliverables/victoria/neutron.yaml', 'deliverables/victoria/os-ken.yaml', 'deliverables/victoria/networking-bgpvpn.yaml', 'deliverables/victoria/neutron-lib.yaml', 'deliverables/victoria/python-neutronclient.yaml', 'deliverables/victoria/ovsdbapp.yaml', 'deliverables/victoria/networking-midonet.yaml', 'deliverables/victoria/networking-bagpipe.yaml', 'deliverables/victoria/neutron-vpnaas.yaml', 'deliverables/victoria/networking-sfc.yaml', 'deliverables/victoria/neutron-vpnaas-dashboard.yaml', 'deliverables/victoria/ovn-octavia-provider.yaml', 'deliverables/victoria/neutron-dynamic-routing.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e2adb3acba970547ebf7eef94d892fbf16e8419e', 'message': '[neutron] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: Ieba7261f8b504b27418ee52ce633c0a6da98e504\n'}]",8,837947,e2adb3acba970547ebf7eef94d892fbf16e8419e,23,8,4,17685,,,0,"[neutron] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: Ieba7261f8b504b27418ee52ce633c0a6da98e504
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/837947/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/networking-odl.yaml', 'deliverables/victoria/neutron.yaml', 'deliverables/victoria/os-ken.yaml', 'deliverables/victoria/networking-bgpvpn.yaml', 'deliverables/victoria/neutron-lib.yaml', 'deliverables/victoria/python-neutronclient.yaml', 'deliverables/victoria/ovsdbapp.yaml', 'deliverables/victoria/networking-midonet.yaml', 'deliverables/victoria/networking-bagpipe.yaml', 'deliverables/victoria/neutron-vpnaas.yaml', 'deliverables/victoria/networking-sfc.yaml', 'deliverables/victoria/neutron-vpnaas-dashboard.yaml', 'deliverables/victoria/neutron-tempest-plugin.yaml', 'deliverables/victoria/ovn-octavia-provider.yaml', 'deliverables/victoria/neutron-dynamic-routing.yaml']",15,e36066fcfbc10cfb7466777e32dc22703ccdd79d,victoria-em, - version: victoria-em projects: - repo: openstack/neutron-dynamic-routing hash: 632061cb68e7d61a5c8987eede6053dbbad3e703,,60,0
openstack%2Foctavia~stable%2Fussuri~I36acdee1f8782b17c234f6b250facc5c8d0aaf87,openstack/octavia,stable/ussuri,I36acdee1f8782b17c234f6b250facc5c8d0aaf87,Fix AttributeError in exception handler,MERGED,2022-04-22 10:58:53.000000000,2022-04-27 14:57:58.000000000,2022-04-27 14:55:59.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-04-22 10:58:53.000000000', 'files': ['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7f23fbaedd64e3d02bff00627f58b6324734bf35', 'message': 'Fix AttributeError in exception handler\n\nThe exception handler of save_state() caused an AttributeError\nbecause it tried to get the output attribute of the Exception,\nwhich does not exist in general. Added a test to cover this\nscenario.\n\nChange-Id: I36acdee1f8782b17c234f6b250facc5c8d0aaf87\n(cherry picked from commit 384b83d88b436c8e657b09f97b12e42d7c9c339b)\n(cherry picked from commit 7aaac224cb4296a4802e4c21c76ba9d010335333)\n(cherry picked from commit 7adeb21c42fdb6431718fcfcd9ad53b8ae077aa5)\n(cherry picked from commit 3ee4acb6501c641f19e223b1937c43c0af2fc591)\n(cherry picked from commit b30d902226e71ad17df643d9df4acfdc20470f26)\n'}]",1,839046,7f23fbaedd64e3d02bff00627f58b6324734bf35,9,4,1,34429,,,0,"Fix AttributeError in exception handler

The exception handler of save_state() caused an AttributeError
because it tried to get the output attribute of the Exception,
which does not exist in general. Added a test to cover this
scenario.

Change-Id: I36acdee1f8782b17c234f6b250facc5c8d0aaf87
(cherry picked from commit 384b83d88b436c8e657b09f97b12e42d7c9c339b)
(cherry picked from commit 7aaac224cb4296a4802e4c21c76ba9d010335333)
(cherry picked from commit 7adeb21c42fdb6431718fcfcd9ad53b8ae077aa5)
(cherry picked from commit 3ee4acb6501c641f19e223b1937c43c0af2fc591)
(cherry picked from commit b30d902226e71ad17df643d9df4acfdc20470f26)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/46/839046/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py']",2,7f23fbaedd64e3d02bff00627f58b6324734bf35,," def test_save_state_error(self): """"""save_state() should swallow exceptions"""""" filename = 'state_file' query_mock = mock.Mock(side_effect=OSError()) self.q._query = query_mock try: self.q.save_state(filename) except Exception as ex: self.fail(""save_state() raised %r unexpectedly!"" % ex)",,13,2
openstack%2Foctavia~stable%2Fwallaby~I36acdee1f8782b17c234f6b250facc5c8d0aaf87,openstack/octavia,stable/wallaby,I36acdee1f8782b17c234f6b250facc5c8d0aaf87,Fix AttributeError in exception handler,MERGED,2022-04-22 10:56:05.000000000,2022-04-27 14:57:52.000000000,2022-04-27 14:55:56.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-04-22 10:56:05.000000000', 'files': ['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3ee4acb6501c641f19e223b1937c43c0af2fc591', 'message': 'Fix AttributeError in exception handler\n\nThe exception handler of save_state() caused an AttributeError\nbecause it tried to get the output attribute of the Exception,\nwhich does not exist in general. Added a test to cover this\nscenario.\n\nChange-Id: I36acdee1f8782b17c234f6b250facc5c8d0aaf87\n(cherry picked from commit 384b83d88b436c8e657b09f97b12e42d7c9c339b)\n(cherry picked from commit 7aaac224cb4296a4802e4c21c76ba9d010335333)\n(cherry picked from commit 7adeb21c42fdb6431718fcfcd9ad53b8ae077aa5)\n'}]",1,839044,3ee4acb6501c641f19e223b1937c43c0af2fc591,9,4,1,34429,,,0,"Fix AttributeError in exception handler

The exception handler of save_state() caused an AttributeError
because it tried to get the output attribute of the Exception,
which does not exist in general. Added a test to cover this
scenario.

Change-Id: I36acdee1f8782b17c234f6b250facc5c8d0aaf87
(cherry picked from commit 384b83d88b436c8e657b09f97b12e42d7c9c339b)
(cherry picked from commit 7aaac224cb4296a4802e4c21c76ba9d010335333)
(cherry picked from commit 7adeb21c42fdb6431718fcfcd9ad53b8ae077aa5)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/44/839044/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py']",2,3ee4acb6501c641f19e223b1937c43c0af2fc591,," def test_save_state_error(self): """"""save_state() should swallow exceptions"""""" filename = 'state_file' query_mock = mock.Mock(side_effect=OSError()) self.q._query = query_mock try: self.q.save_state(filename) except Exception as ex: self.fail(""save_state() raised %r unexpectedly!"" % ex)",,13,2
openstack%2Fopenstack-ansible-os_neutron~master~Iab88fceabc791c30e087cd1ebcc5d186c887907b,openstack/openstack-ansible-os_neutron,master,Iab88fceabc791c30e087cd1ebcc5d186c887907b,Replacing the HTTP protocal with HTTPS in jobs.yaml.,ABANDONED,2018-11-13 16:50:15.000000000,2022-04-27 14:57:44.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-11-13 16:50:15.000000000', 'files': ['releasenotes/notes/neutron-mtu-cleanup-ce73693b4f7aef0d.yaml', 'releasenotes/notes/neutron-sriov-50c0099554574d01.yaml', 'releasenotes/notes/neutron-dhcp-mtu-8767de6f541b04c1.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a74884034dfb475c903729fc3a09e2289e5ad210', 'message': 'Replacing the HTTP protocal with HTTPS in jobs.yaml.\n\nChange-Id: Iab88fceabc791c30e087cd1ebcc5d186c887907b\n'}]",0,617741,a74884034dfb475c903729fc3a09e2289e5ad210,8,3,1,29423,,,0,"Replacing the HTTP protocal with HTTPS in jobs.yaml.

Change-Id: Iab88fceabc791c30e087cd1ebcc5d186c887907b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/41/617741/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/neutron-mtu-cleanup-ce73693b4f7aef0d.yaml', 'releasenotes/notes/neutron-sriov-50c0099554574d01.yaml', 'releasenotes/notes/neutron-dhcp-mtu-8767de6f541b04c1.yaml']",3,a74884034dfb475c903729fc3a09e2289e5ad210,, <https://docs.openstack.org/releasenotes/neutron/mitaka.html>`_, <http://docs.openstack.org/releasenotes/neutron/mitaka.html>`_,3,3
openstack%2Foctavia~stable%2Fyoga~I36acdee1f8782b17c234f6b250facc5c8d0aaf87,openstack/octavia,stable/yoga,I36acdee1f8782b17c234f6b250facc5c8d0aaf87,Fix AttributeError in exception handler,MERGED,2022-04-22 10:51:20.000000000,2022-04-27 14:57:39.000000000,2022-04-27 14:55:53.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-04-22 10:51:20.000000000', 'files': ['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7aaac224cb4296a4802e4c21c76ba9d010335333', 'message': 'Fix AttributeError in exception handler\n\nThe exception handler of save_state() caused an AttributeError\nbecause it tried to get the output attribute of the Exception,\nwhich does not exist in general. Added a test to cover this\nscenario.\n\nChange-Id: I36acdee1f8782b17c234f6b250facc5c8d0aaf87\n(cherry picked from commit 384b83d88b436c8e657b09f97b12e42d7c9c339b)\n'}]",1,839041,7aaac224cb4296a4802e4c21c76ba9d010335333,9,4,1,34429,,,0,"Fix AttributeError in exception handler

The exception handler of save_state() caused an AttributeError
because it tried to get the output attribute of the Exception,
which does not exist in general. Added a test to cover this
scenario.

Change-Id: I36acdee1f8782b17c234f6b250facc5c8d0aaf87
(cherry picked from commit 384b83d88b436c8e657b09f97b12e42d7c9c339b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/41/839041/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py']",2,7aaac224cb4296a4802e4c21c76ba9d010335333,," def test_save_state_error(self): """"""save_state() should swallow exceptions"""""" filename = 'state_file' query_mock = mock.Mock(side_effect=OSError()) self.q._query = query_mock try: self.q.save_state(filename) except Exception as ex: self.fail(""save_state() raised %r unexpectedly!"" % ex)",,13,2
openstack%2Fopenstack-ansible-specs~master~I40a8bc95b4706137bc573fb654aef613d2c3665e,openstack/openstack-ansible-specs,master,I40a8bc95b4706137bc573fb654aef613d2c3665e,"Applying the HTTPS protocal in replace-ip-generation.rst.To keep the website in this file be more robust,we'd better update the links to HTTPS type",ABANDONED,2018-11-13 17:01:20.000000000,2022-04-27 14:57:38.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-11-13 17:01:20.000000000', 'files': ['specs/kilo/keystone-sp-adfs-idp.rst', 'specs/liberty/compartementalize-rabbitmq.rst', 'specs/newton/security-rhel7-stig.rst', 'specs/mitaka/role-zaqar.rst', 'specs/pike/inventory-pluggable-backends.rst', 'specs/mitaka/role-designate.rst', 'specs/kilo/keystone-federation.rst', 'specs/kilo/multi-region-swift.rst', 'specs/newton/osa-install-guide-overhaul.rst', 'specs/kilo/implement-ceilometer.rst', 'specs/ocata/create-ops-guide.rst', 'specs/mitaka/policy-files-distribution.rst', 'specs/liberty/liberty-release.rst', 'specs/queens/docs-improvements.rst', 'specs/mitaka/role-ironic.rst', 'specs/mitaka/security-hardening.rst', 'specs/mitaka/lbaasv2.rst', 'specs/newton/multi-arch-support.rst', 'specs/newton/role-gnocchi.rst', 'specs/queens/ansible-roles-reuse.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/bb68f5507fb515f13ea37cbd88cb33c5aaf3be53', 'message': ""Applying the HTTPS protocal in replace-ip-generation.rst.To keep the website in this file be more robust,we'd better update the links to HTTPS type\n\nChange-Id: I40a8bc95b4706137bc573fb654aef613d2c3665e\n""}]",0,617746,bb68f5507fb515f13ea37cbd88cb33c5aaf3be53,8,3,1,29423,,,0,"Applying the HTTPS protocal in replace-ip-generation.rst.To keep the website in this file be more robust,we'd better update the links to HTTPS type

Change-Id: I40a8bc95b4706137bc573fb654aef613d2c3665e
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/46/617746/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/kilo/keystone-sp-adfs-idp.rst', 'specs/liberty/compartementalize-rabbitmq.rst', 'specs/newton/security-rhel7-stig.rst', 'specs/mitaka/role-zaqar.rst', 'specs/pike/inventory-pluggable-backends.rst', 'specs/mitaka/role-designate.rst', 'specs/kilo/keystone-federation.rst', 'specs/kilo/multi-region-swift.rst', 'specs/newton/osa-install-guide-overhaul.rst', 'specs/kilo/implement-ceilometer.rst', 'specs/ocata/create-ops-guide.rst', 'specs/mitaka/policy-files-distribution.rst', 'specs/liberty/liberty-release.rst', 'specs/queens/docs-improvements.rst', 'specs/mitaka/role-ironic.rst', 'specs/mitaka/security-hardening.rst', 'specs/mitaka/lbaasv2.rst', 'specs/newton/multi-arch-support.rst', 'specs/newton/role-gnocchi.rst', 'specs/queens/ansible-roles-reuse.rst']",20,bb68f5507fb515f13ea37cbd88cb33c5aaf3be53,,* openstack-ansible 5/18 community meeting: https://eavesdrop.openstack.org/meetings/openstack_ansible_meeting/2017/openstack_ansible_meeting.2017-05-18-16.01.log.html#l-136,* openstack-ansible 5/18 community meeting: http://eavesdrop.openstack.org/meetings/openstack_ansible_meeting/2017/openstack_ansible_meeting.2017-05-18-16.01.log.html#l-136,30,30
openstack%2Fkolla-ansible~master~Ieea50bd6c39144e1eff341ff6caa1be5b17a64e4,openstack/kolla-ansible,master,Ieea50bd6c39144e1eff341ff6caa1be5b17a64e4,Add radosgw doc to enable ceph as swift backend,NEW,2022-04-25 22:55:12.000000000,2022-04-27 14:57:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-25 22:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/38e3e527b5a1213954d4dfff04436ad6b813f041', 'message': 'xena-backport-potential\n\nChange-Id: Ieea50bd6c39144e1eff341ff6caa1be5b17a64e4\n'}, {'number': 2, 'created': '2022-04-27 12:59:06.000000000', 'files': ['doc/source/reference/storage/swift-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/430e8b5f816fd67e57c8ec52e9b7f0af0652b8f9', 'message': 'Add radosgw doc to enable ceph as swift backend\n\nUpdate guide to include how to enable ceph as a swift back-end\n\nCloses-Bug: #1970250\nChange-Id: Ieea50bd6c39144e1eff341ff6caa1be5b17a64e4\n'}]",0,839272,430e8b5f816fd67e57c8ec52e9b7f0af0652b8f9,6,1,2,20451,,,0,"Add radosgw doc to enable ceph as swift backend

Update guide to include how to enable ceph as a swift back-end

Closes-Bug: #1970250
Change-Id: Ieea50bd6c39144e1eff341ff6caa1be5b17a64e4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/839272/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/storage/swift-guide.rst'],1,38e3e527b5a1213954d4dfff04436ad6b813f041,bug/1970250, $ sudo ceph config set <client> rgw_keystone_admin_user ceph_rgw, $ sudo ceph config set <client> rgw_keystone_admin_user ceph_rgw ,1,1
openstack%2Fopenstack-ansible-os_ironic~master~I4ba584d3f628ad4cd6ed03155050a9e0c7327e97,openstack/openstack-ansible-os_ironic,master,I4ba584d3f628ad4cd6ed03155050a9e0c7327e97,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-05 07:20:15.000000000,2022-04-27 14:54:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-05 07:20:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/b7e081dcec33fd5964777a4ac11858bca697534c', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I4ba584d3f628ad4cd6ed03155050a9e0c7327e97\n""}]",1,789715,b7e081dcec33fd5964777a4ac11858bca697534c,5,3,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I4ba584d3f628ad4cd6ed03155050a9e0c7327e97
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/15/789715/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b7e081dcec33fd5964777a4ac11858bca697534c,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_ironic/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_ironic/latest,3,3
openstack%2Fopenstack-ansible-os_zun~master~I8f8ef99e3567be3ed5f24faa491c2cb6360a5270,openstack/openstack-ansible-os_zun,master,I8f8ef99e3567be3ed5f24faa491c2cb6360a5270,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 06:40:20.000000000,2022-04-27 14:53:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-16 06:40:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/f9b81efd3e264f92c04afc9efa91f4358b8f7acc', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I8f8ef99e3567be3ed5f24faa491c2cb6360a5270\n""}]",0,791614,f9b81efd3e264f92c04afc9efa91f4358b8f7acc,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8f8ef99e3567be3ed5f24faa491c2cb6360a5270
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/14/791614/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f9b81efd3e264f92c04afc9efa91f4358b8f7acc,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_zun/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_zun/latest/,3,3
openstack%2Fopenstack-ansible-haproxy_server~master~Iab4fbe1e24648c8d6506e4c396fc03aa30f6aeec,openstack/openstack-ansible-haproxy_server,master,Iab4fbe1e24648c8d6506e4c396fc03aa30f6aeec,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-05 02:18:33.000000000,2022-04-27 14:52:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-05 02:18:33.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/f7ee4031b21f8884e09824230fa78c46f97d0b40', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iab4fbe1e24648c8d6506e4c396fc03aa30f6aeec\n""}]",1,789692,f7ee4031b21f8884e09824230fa78c46f97d0b40,5,3,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iab4fbe1e24648c8d6506e4c396fc03aa30f6aeec
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/92/789692/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f7ee4031b21f8884e09824230fa78c46f97d0b40,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-haproxy_server/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-haproxy_server/latest/,3,3
openstack%2Fopenstack-ansible-openstack_openrc~master~I3b4cb66a82ca46389c9f5b53d38a4fa308e572b4,openstack/openstack-ansible-openstack_openrc,master,I3b4cb66a82ca46389c9f5b53d38a4fa308e572b4,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-06 02:53:12.000000000,2022-04-27 14:52:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-06 02:53:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/adddc344fbdeef539d377320e7c60eb602887b4a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I3b4cb66a82ca46389c9f5b53d38a4fa308e572b4\n""}]",1,789988,adddc344fbdeef539d377320e7c60eb602887b4a,5,3,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I3b4cb66a82ca46389c9f5b53d38a4fa308e572b4
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/88/789988/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,adddc344fbdeef539d377320e7c60eb602887b4a,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-openstack_openrc/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-openstack_openrc/latest/,3,3
openstack%2Fopenstack-ansible-os_designate~master~Ibd8ad1d7a4efa48093a62abe2161efd2644a821a,openstack/openstack-ansible-os_designate,master,Ibd8ad1d7a4efa48093a62abe2161efd2644a821a,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-06 02:51:26.000000000,2022-04-27 14:52:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-06 02:51:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/7a30def7635c85e40a4036d655ae8353493545ca', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ibd8ad1d7a4efa48093a62abe2161efd2644a821a\n""}]",1,789987,7a30def7635c85e40a4036d655ae8353493545ca,6,3,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ibd8ad1d7a4efa48093a62abe2161efd2644a821a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/87/789987/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7a30def7635c85e40a4036d655ae8353493545ca,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_designate/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_designate/latest,3,3
openstack%2Fansible-role-systemd_networkd~master~I26e22bad55908a829f4b0cb4bff3e9de8e1c675f,openstack/ansible-role-systemd_networkd,master,I26e22bad55908a829f4b0cb4bff3e9de8e1c675f,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-04 08:38:39.000000000,2022-04-27 14:52:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-04 08:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/5b9a6dc4f3912fe87d9ed88f367249d4cb84bada', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: I26e22bad55908a829f4b0cb4bff3e9de8e1c675f\n'}, {'number': 2, 'created': '2021-05-04 08:39:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/46b40d9e18f2c8975520ebb8a70aa9c123a746cf', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I26e22bad55908a829f4b0cb4bff3e9de8e1c675f\n""}]",1,789523,46b40d9e18f2c8975520ebb8a70aa9c123a746cf,5,2,2,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I26e22bad55908a829f4b0cb4bff3e9de8e1c675f
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/23/789523/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5b9a6dc4f3912fe87d9ed88f367249d4cb84bada,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ansible-role-systemd_networkd/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ansible-role-systemd_networkd/latest/,3,3
openstack%2Fopenstack-ansible-os_placement~master~I962d9bf07b24d9cc168053c25197da2ea8e47b8a,openstack/openstack-ansible-os_placement,master,I962d9bf07b24d9cc168053c25197da2ea8e47b8a,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 06:42:34.000000000,2022-04-27 14:51:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-16 06:42:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/e57b12eacc5c1f07086b7e8a3f70f398ac0ef38b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I962d9bf07b24d9cc168053c25197da2ea8e47b8a\n""}]",1,791615,e57b12eacc5c1f07086b7e8a3f70f398ac0ef38b,5,3,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I962d9bf07b24d9cc168053c25197da2ea8e47b8a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/15/791615/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e57b12eacc5c1f07086b7e8a3f70f398ac0ef38b,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_placement/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_placement/latest/,3,3
openstack%2Fopenstack-ansible-os_sahara~master~I1dd73929a4429caf7a92027ee0474172524f451c,openstack/openstack-ansible-os_sahara,master,I1dd73929a4429caf7a92027ee0474172524f451c,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 06:44:32.000000000,2022-04-27 14:51:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 06:44:32.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/1c325f8db0261e813e5470f1492c49b241ebdb35', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I1dd73929a4429caf7a92027ee0474172524f451c\n""}]",1,791616,1c325f8db0261e813e5470f1492c49b241ebdb35,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I1dd73929a4429caf7a92027ee0474172524f451c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/16/791616/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1c325f8db0261e813e5470f1492c49b241ebdb35,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_sahara/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_sahara/latest/,3,3
openstack%2Fopenstack-ansible-os_heat~master~Ib43750eb3fa9e30a5f518423fc0724b1b1277181,openstack/openstack-ansible-os_heat,master,Ib43750eb3fa9e30a5f518423fc0724b1b1277181,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 06:48:55.000000000,2022-04-27 14:51:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 06:48:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/964a8622406a6303653837b96c99be52a837deab', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib43750eb3fa9e30a5f518423fc0724b1b1277181\n""}]",1,791618,964a8622406a6303653837b96c99be52a837deab,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ib43750eb3fa9e30a5f518423fc0724b1b1277181
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/18/791618/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,964a8622406a6303653837b96c99be52a837deab,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_heat/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_heat/latest/,3,3
openstack%2Fopenstack-ansible-os_magnum~master~I44b324f844128314eb98f2180b7926a00eb4b563,openstack/openstack-ansible-os_magnum,master,I44b324f844128314eb98f2180b7926a00eb4b563,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 06:38:36.000000000,2022-04-27 14:51:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 06:38:36.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/364b04f25ec9ec82ad40586f13dd67918254bdcf', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I44b324f844128314eb98f2180b7926a00eb4b563\n""}]",1,791613,364b04f25ec9ec82ad40586f13dd67918254bdcf,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I44b324f844128314eb98f2180b7926a00eb4b563
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/13/791613/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,364b04f25ec9ec82ad40586f13dd67918254bdcf,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_magnum/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_magnum/latest/,3,3
openstack%2Fopenstack-ansible-os_rally~master~I4956d95062f830f0c9fc2c5c209042fbaa103e95,openstack/openstack-ansible-os_rally,master,I4956d95062f830f0c9fc2c5c209042fbaa103e95,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 06:33:23.000000000,2022-04-27 14:51:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 06:33:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/88a8e161b2a6fd3951dc16bb61b7a2728a0fecfc', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I4956d95062f830f0c9fc2c5c209042fbaa103e95\n""}]",1,791611,88a8e161b2a6fd3951dc16bb61b7a2728a0fecfc,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I4956d95062f830f0c9fc2c5c209042fbaa103e95
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/11/791611/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,88a8e161b2a6fd3951dc16bb61b7a2728a0fecfc,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_rally/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_rally/latest/,3,3
openstack%2Fopenstack-ansible-os_trove~master~I9d426d98a45ba4fcf9c5fb4bd8290c17014fad61,openstack/openstack-ansible-os_trove,master,I9d426d98a45ba4fcf9c5fb4bd8290c17014fad61,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 06:35:31.000000000,2022-04-27 14:51:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 06:35:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/890a6afa2c59888119f02d2199816ac749ec86e1', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I9d426d98a45ba4fcf9c5fb4bd8290c17014fad61\n""}]",1,791612,890a6afa2c59888119f02d2199816ac749ec86e1,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I9d426d98a45ba4fcf9c5fb4bd8290c17014fad61
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/12/791612/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,890a6afa2c59888119f02d2199816ac749ec86e1,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_trove/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_trove/latest,3,3
openstack%2Fopenstack-ansible-os_gnocchi~master~I33912733b4c41e0669cbe3511b61170f49aa7eda,openstack/openstack-ansible-os_gnocchi,master,I33912733b4c41e0669cbe3511b61170f49aa7eda,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 06:29:09.000000000,2022-04-27 14:51:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 06:29:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/fc5a11370856fa294904f59a3b37b256f910ff59', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I33912733b4c41e0669cbe3511b61170f49aa7eda\n""}]",1,791610,fc5a11370856fa294904f59a3b37b256f910ff59,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I33912733b4c41e0669cbe3511b61170f49aa7eda
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/10/791610/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fc5a11370856fa294904f59a3b37b256f910ff59,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_gnocchi/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_gnocchi/latest/,3,3
openstack%2Fopenstack-ansible-os_keystone~master~I41202c1319d1bf5fbc99baed9a7acb7c21caeb12,openstack/openstack-ansible-os_keystone,master,I41202c1319d1bf5fbc99baed9a7acb7c21caeb12,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 06:21:52.000000000,2022-04-27 14:51:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 06:21:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/1e447c55ba0adecf3ec05b4289098bfdd8c9bbe4', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I41202c1319d1bf5fbc99baed9a7acb7c21caeb12\n""}]",1,791609,1e447c55ba0adecf3ec05b4289098bfdd8c9bbe4,5,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I41202c1319d1bf5fbc99baed9a7acb7c21caeb12
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/09/791609/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1e447c55ba0adecf3ec05b4289098bfdd8c9bbe4,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_keystone/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_keystone/latest/,3,3
openstack%2Fopenstack-ansible-os_blazar~master~I0ba46acb1c142fddb72f831c66aa3b646f1d72dc,openstack/openstack-ansible-os_blazar,master,I0ba46acb1c142fddb72f831c66aa3b646f1d72dc,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 03:28:36.000000000,2022-04-27 14:51:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 03:28:36.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/72a62fb22353695fdb49cd9eb256d4ffa038a41b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I0ba46acb1c142fddb72f831c66aa3b646f1d72dc\n""}]",1,791604,72a62fb22353695fdb49cd9eb256d4ffa038a41b,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I0ba46acb1c142fddb72f831c66aa3b646f1d72dc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/04/791604/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,72a62fb22353695fdb49cd9eb256d4ffa038a41b,,description_file =author_email = taseer94@gmail.com home_page = https://docs.openstack.org/openstack-ansible-os_blazar/latest/,description-file =author-email = taseer94@gmail.com home-page = https://docs.openstack.org/openstack-ansible-os_blazar/latest/,3,3
openstack%2Fopenstack-ansible-os_barbican~master~Iadc35a383bf83ac8fcfd9d1f5125b4451dfbc4d6,openstack/openstack-ansible-os_barbican,master,Iadc35a383bf83ac8fcfd9d1f5125b4451dfbc4d6,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 03:26:53.000000000,2022-04-27 14:50:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 03:26:53.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/a515b5d673dc1b522bf0f240f4fccd21942e311b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iadc35a383bf83ac8fcfd9d1f5125b4451dfbc4d6\n""}]",1,791603,a515b5d673dc1b522bf0f240f4fccd21942e311b,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iadc35a383bf83ac8fcfd9d1f5125b4451dfbc4d6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/03/791603/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a515b5d673dc1b522bf0f240f4fccd21942e311b,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_barbican/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_barbican/latest/,3,3
openstack%2Fopenstack-ansible-os_ceilometer~master~Ib8b564f6bad57fba054c0d8dc6ea1182dace7c66,openstack/openstack-ansible-os_ceilometer,master,Ib8b564f6bad57fba054c0d8dc6ea1182dace7c66,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 03:33:06.000000000,2022-04-27 14:50:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 03:33:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/6633f8d41fec2de7758c48ce5fd9654d4486dbca', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib8b564f6bad57fba054c0d8dc6ea1182dace7c66\n""}]",1,791605,6633f8d41fec2de7758c48ce5fd9654d4486dbca,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ib8b564f6bad57fba054c0d8dc6ea1182dace7c66
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/05/791605/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6633f8d41fec2de7758c48ce5fd9654d4486dbca,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_ceilometer/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_ceilometer/latest/,3,3
openstack%2Fopenstack-ansible-os_aodh~master~If3cd9eaa631f91d2637e44acab19df461cbdd24b,openstack/openstack-ansible-os_aodh,master,If3cd9eaa631f91d2637e44acab19df461cbdd24b,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 03:23:34.000000000,2022-04-27 14:50:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 03:23:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/0800e2b60bb65431ea104e709d6b769ee2158ac2', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If3cd9eaa631f91d2637e44acab19df461cbdd24b\n""}]",1,791602,0800e2b60bb65431ea104e709d6b769ee2158ac2,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If3cd9eaa631f91d2637e44acab19df461cbdd24b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/02/791602/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0800e2b60bb65431ea104e709d6b769ee2158ac2,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_aodh/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_aodh/latest/,3,3
openstack%2Fopenstack-ansible-os_adjutant~master~I1ab27a825f608e11889eaec1f5ea97473caa0b96,openstack/openstack-ansible-os_adjutant,master,I1ab27a825f608e11889eaec1f5ea97473caa0b96,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 03:13:19.000000000,2022-04-27 14:50:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 03:13:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/d25aada6ab2a1edc3b6c2e668393b6e1df8d1f9a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I1ab27a825f608e11889eaec1f5ea97473caa0b96\n""}]",1,791601,d25aada6ab2a1edc3b6c2e668393b6e1df8d1f9a,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I1ab27a825f608e11889eaec1f5ea97473caa0b96
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_adjutant refs/changes/01/791601/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d25aada6ab2a1edc3b6c2e668393b6e1df8d1f9a,,description_file =author_email = openstack-dev@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_adjutant/latest/,description-file =author-email = openstack-dev@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_adjutant/latest/,3,3
openstack%2Fopenstack-ansible-os_tempest~master~I11242e55a6925781249afe30f395d16dbeff1c9d,openstack/openstack-ansible-os_tempest,master,I11242e55a6925781249afe30f395d16dbeff1c9d,Fix hardcoded instance_type in [heat_plugin] section,MERGED,2022-01-19 23:23:27.000000000,2022-04-27 14:50:37.000000000,2022-04-27 14:47:43.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-01-19 23:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c3670ea21f318a06b0660297cb1ef9dac3c0a4d1', 'message': 'Fix hardcoded instance_type in [heat_plugin] section\n\nThis variable should not be hardcoded.\nSetting it to tempest_nova_flavor_id_1 should be a reasonable default.\n\nChange-Id: I11242e55a6925781249afe30f395d16dbeff1c9d\n'}, {'number': 2, 'created': '2022-04-26 16:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e2c29f9aff9fa89e7b55017b12e9bbb0c0deb1f9', 'message': 'Fix hardcoded instance_type in [heat_plugin] section\n\nThis variable should not be hardcoded.\nSetting it to tempest_nova_flavor_id_1 should be a reasonable default.\n\nChange-Id: I11242e55a6925781249afe30f395d16dbeff1c9d\n'}, {'number': 3, 'created': '2022-04-26 16:45:39.000000000', 'files': ['templates/tempest.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7d2083ed0f60402ad36422fa8edaa960574bd4c5', 'message': 'Fix hardcoded instance_type in [heat_plugin] section\n\nThis variable should not be hardcoded.\nSetting it to tempest_nova_flavor_id_1 should be a reasonable default.\n\nChange-Id: I11242e55a6925781249afe30f395d16dbeff1c9d\n'}]",0,825408,7d2083ed0f60402ad36422fa8edaa960574bd4c5,12,3,3,32666,,,0,"Fix hardcoded instance_type in [heat_plugin] section

This variable should not be hardcoded.
Setting it to tempest_nova_flavor_id_1 should be a reasonable default.

Change-Id: I11242e55a6925781249afe30f395d16dbeff1c9d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/08/825408/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/tempest.conf.j2'],1,c3670ea21f318a06b0660297cb1ef9dac3c0a4d1,tempest-damian-2021-12,instance_type = {{ tempest_nova_flavor_id_1 }},instance_type = tempest1,1,1
openstack%2Fopenstack-ansible-os_octavia~master~Ieb28f069e77c4b61f0ac5aca5b00494c9e3426b4,openstack/openstack-ansible-os_octavia,master,Ieb28f069e77c4b61f0ac5aca5b00494c9e3426b4,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-16 03:09:25.000000000,2022-04-27 14:50:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-16 03:09:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/e606fec0dc7612abd1b3ef02c6c697982d06605f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ieb28f069e77c4b61f0ac5aca5b00494c9e3426b4\n""}]",1,791600,e606fec0dc7612abd1b3ef02c6c697982d06605f,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ieb28f069e77c4b61f0ac5aca5b00494c9e3426b4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/00/791600/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e606fec0dc7612abd1b3ef02c6c697982d06605f,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_octavia/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_octavia/latest/,3,3
openstack%2Fopenstack-ansible-openstack_hosts~master~I8b7e5be1d2aab54b173034fca2e3a8f7b41cedb1,openstack/openstack-ansible-openstack_hosts,master,I8b7e5be1d2aab54b173034fca2e3a8f7b41cedb1,setup.cfg: Replace dashes with underscores,ABANDONED,2021-04-30 06:02:43.000000000,2022-04-27 14:50:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-30 06:02:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/1af8daf35e647600429076f7c88eb8105b76bed6', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I8b7e5be1d2aab54b173034fca2e3a8f7b41cedb1\n""}]",1,788889,1af8daf35e647600429076f7c88eb8105b76bed6,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8b7e5be1d2aab54b173034fca2e3a8f7b41cedb1
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/89/788889/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1af8daf35e647600429076f7c88eb8105b76bed6,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-openstack_hosts/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-openstack_hosts/latest/,3,3
openstack%2Fopenstack-ansible-os_swift~master~I93755af397c291bcec2475781da12387d02d1d3a,openstack/openstack-ansible-os_swift,master,I93755af397c291bcec2475781da12387d02d1d3a,setup.cfg: Replace dashes with underscores,ABANDONED,2021-04-30 01:54:34.000000000,2022-04-27 14:50:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-30 01:54:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/51d93ba7448779121e789d637f55444b97be1359', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I93755af397c291bcec2475781da12387d02d1d3a\n""}]",1,788862,51d93ba7448779121e789d637f55444b97be1359,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I93755af397c291bcec2475781da12387d02d1d3a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/62/788862/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,51d93ba7448779121e789d637f55444b97be1359,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_swift/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_swift/latest/,3,3
openstack%2Fansible-hardening~master~I469ce8c3f377b83b73f23a146177b53fb84f847f,openstack/ansible-hardening,master,I469ce8c3f377b83b73f23a146177b53fb84f847f,setup.cfg: Replace dashes with underscores,ABANDONED,2021-04-29 11:18:09.000000000,2022-04-27 14:50:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-29 11:18:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/3bd01131bd44146a6c3140b384945c80dd248c13', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I469ce8c3f377b83b73f23a146177b53fb84f847f\n""}]",1,788715,3bd01131bd44146a6c3140b384945c80dd248c13,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I469ce8c3f377b83b73f23a146177b53fb84f847f
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/15/788715/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3bd01131bd44146a6c3140b384945c80dd248c13,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ansible-hardening,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ansible-hardening,3,3
openstack%2Fopenstack-ansible-os_neutron~master~I87aa957b835752af1c638f50f087a5cf6097b8ae,openstack/openstack-ansible-os_neutron,master,I87aa957b835752af1c638f50f087a5cf6097b8ae,setup.cfg: Replace dashes with underscores,ABANDONED,2021-04-30 05:57:29.000000000,2022-04-27 14:50:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-30 05:57:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8c41b88ef77d237dc4b81825c52d01b88a36b291', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I87aa957b835752af1c638f50f087a5cf6097b8ae\n""}]",1,788888,8c41b88ef77d237dc4b81825c52d01b88a36b291,4,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I87aa957b835752af1c638f50f087a5cf6097b8ae
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/88/788888/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8c41b88ef77d237dc4b81825c52d01b88a36b291,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_neutron/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_neutron/latest/,3,3
openstack%2Fopenstack-ansible-os_tempest~master~I96639f606a6469e4bb0658419546f1ebc6576983,openstack/openstack-ansible-os_tempest,master,I96639f606a6469e4bb0658419546f1ebc6576983,Fix hardcoded flavor_ref and flavor_ref_alt,MERGED,2021-08-04 15:07:35.000000000,2022-04-27 14:49:32.000000000,2022-04-27 14:47:31.000000000,"[{'_account_id': 8367}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-04 15:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/16698e373158e0bd8ac99f52306a02dee0168e86', 'message': 'Fix hardcoded flavor_ref and flavor_ref_alt\n\nValues for flavor_ref and flavor_ref_alt should be taken from tempest_flavors\n\nChange-Id: I96639f606a6469e4bb0658419546f1ebc6576983\n'}, {'number': 2, 'created': '2021-12-28 12:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/feafdcf90ed31524cecde00a5ff68be029322bd1', 'message': 'Fix hardcoded flavor_ref and flavor_ref_alt\n\nValues for flavor_ref and flavor_ref_alt should be taken from tempest_flavors\n\nChange-Id: I96639f606a6469e4bb0658419546f1ebc6576983\n'}, {'number': 3, 'created': '2021-12-28 12:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/4310c359db1d6a8d8ffed7fbe48495ca465380cd', 'message': 'Fix hardcoded flavor_ref and flavor_ref_alt\n\nValues for flavor_ref and flavor_ref_alt should be taken from tempest_flavors\n\nChange-Id: I96639f606a6469e4bb0658419546f1ebc6576983\n'}, {'number': 4, 'created': '2021-12-28 17:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ffbb0cc2e09f758bf2c1fd188ffd4b9b512d6204', 'message': 'Fix hardcoded flavor_ref and flavor_ref_alt\n\nValues for flavor_ref and flavor_ref_alt should be taken from tempest_flavors\n\nChange-Id: I96639f606a6469e4bb0658419546f1ebc6576983\n'}, {'number': 5, 'created': '2021-12-28 21:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/4557f7e9cd8ccf621db07f9b909c4656b3fd3aff', 'message': 'Fix hardcoded flavor_ref and flavor_ref_alt\n\nValues for flavor_ref and flavor_ref_alt should be taken from tempest_flavors\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nChange-Id: I96639f606a6469e4bb0658419546f1ebc6576983\n'}, {'number': 6, 'created': '2022-01-19 18:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/dd976210a3274fe63eb2ca9d11211c17d842bd61', 'message': 'Fix hardcoded flavor_ref and flavor_ref_alt\n\nValues for flavor_ref and flavor_ref_alt should be taken from tempest_flavors\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nChange-Id: I96639f606a6469e4bb0658419546f1ebc6576983\n'}, {'number': 7, 'created': '2022-01-19 18:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6f0af0e7d219d91d231d7dbf493e663c02deea52', 'message': 'Fix hardcoded flavor_ref and flavor_ref_alt\n\nValues for flavor_ref and flavor_ref_alt should be taken from tempest_flavors\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nChange-Id: I96639f606a6469e4bb0658419546f1ebc6576983\n'}, {'number': 8, 'created': '2022-01-19 22:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/16ec255fa3b5073b676cb0108b5768913b33ed27', 'message': 'Fix hardcoded flavor_ref and flavor_ref_alt\n\nValues for flavor_ref and flavor_ref_alt should be taken from tempest_flavors\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nChange-Id: I96639f606a6469e4bb0658419546f1ebc6576983\n'}, {'number': 9, 'created': '2022-01-20 11:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/cf0dfcfd1d4dacd9996f785fbe45f81bad88159b', 'message': 'Fix hardcoded flavor_ref and flavor_ref_alt\n\nValues for flavor_ref and flavor_ref_alt should be taken from tempest_flavors\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nChange-Id: I96639f606a6469e4bb0658419546f1ebc6576983\n'}, {'number': 10, 'created': '2022-04-26 16:44:50.000000000', 'files': ['templates/tempest.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/9d50c45bfc264de25de32144d66dce4641dfd789', 'message': 'Fix hardcoded flavor_ref and flavor_ref_alt\n\nValues for flavor_ref and flavor_ref_alt should be taken from tempest_flavors\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nChange-Id: I96639f606a6469e4bb0658419546f1ebc6576983\n'}]",14,803492,9d50c45bfc264de25de32144d66dce4641dfd789,41,5,10,32666,,,0,"Fix hardcoded flavor_ref and flavor_ref_alt

Values for flavor_ref and flavor_ref_alt should be taken from tempest_flavors

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477
Change-Id: I96639f606a6469e4bb0658419546f1ebc6576983
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/92/803492/3 && git format-patch -1 --stdout FETCH_HEAD,['templates/tempest.conf.j2'],1,16698e373158e0bd8ac99f52306a02dee0168e86,tempest-damian-2021-12,flavor_ref = {{ tempest_flavors[0].id }} flavor_ref_alt = {{ tempest_flavors[1].id }},flavor_ref = 201 flavor_ref_alt = 202,2,2
openstack%2Fopenstack-ansible-os_tempest~master~I43c97758b6db2e5e134d8f54e0911ade3ced8fdf,openstack/openstack-ansible-os_tempest,master,I43c97758b6db2e5e134d8f54e0911ade3ced8fdf,Do not store unnecessary sections in tempest.conf,MERGED,2022-01-19 23:23:27.000000000,2022-04-27 14:47:40.000000000,2022-04-27 14:47:40.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-01-19 23:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/eec94b0a11bbb437b97ec44e13560fd5b0c58efb', 'message': 'Do not store unnecessary sections in tempest.conf\n\ntempest.conf should store configuration only for services installed\nin the current environment.\n\nAdditionally, I removed empty sections and improved their ordering.\nNow service sections are placed at the end of the file.\n\nChange-Id: I43c97758b6db2e5e134d8f54e0911ade3ced8fdf\n'}, {'number': 2, 'created': '2022-04-26 16:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6c3319b0347cde0b212d2b2f2132f38eb3926fe6', 'message': 'Do not store unnecessary sections in tempest.conf\n\ntempest.conf should store configuration only for services installed\nin the current environment.\n\nAdditionally, I removed empty sections and improved their ordering.\nNow service sections are placed at the end of the file.\n\nChange-Id: I43c97758b6db2e5e134d8f54e0911ade3ced8fdf\n'}, {'number': 3, 'created': '2022-04-26 16:45:32.000000000', 'files': ['templates/tempest.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/5f5291416f5cdbc4b6320c360cd8739a294f4ddf', 'message': 'Do not store unnecessary sections in tempest.conf\n\ntempest.conf should store configuration only for services installed\nin the current environment.\n\nAdditionally, I removed empty sections and improved their ordering.\nNow service sections are placed at the end of the file.\n\nChange-Id: I43c97758b6db2e5e134d8f54e0911ade3ced8fdf\n'}]",0,825407,5f5291416f5cdbc4b6320c360cd8739a294f4ddf,11,3,3,32666,,,0,"Do not store unnecessary sections in tempest.conf

tempest.conf should store configuration only for services installed
in the current environment.

Additionally, I removed empty sections and improved their ordering.
Now service sections are placed at the end of the file.

Change-Id: I43c97758b6db2e5e134d8f54e0911ade3ced8fdf
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/07/825407/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/tempest.conf.j2'],1,eec94b0a11bbb437b97ec44e13560fd5b0c58efb,tempest-damian-2021-12,[validation] run_validation = {{ tempest_compute_run_ssh }} image_ssh_user = {{ tempest_compute_image_ssh_user }} ping_timeout = 240 connect_timeout = 120 ssh_timeout = 600[identity] disable_ssl_certificate_validation = {{ tempest_keystone_interface_insecure | bool }} uri = {{ keystone_service_internaluri }}/v2.0 uri_v3 = {{ keystone_service_internalurl }} v2_admin_endpoint_type = {{ tempest_endpoint_type }} v2_public_endpoint_type = {{ tempest_endpoint_type }} v3_endpoint_type = {{ tempest_endpoint_type }} {% if tempest_service_available_nova | bool %} [compute] image_ref = {{ tempest_glance_image_id_1 }} image_ref_alt = {{ tempest_glance_image_id_2 }} flavor_ref = {{ tempest_nova_flavor_id_1 }} flavor_ref_alt = {{ tempest_nova_flavor_id_2 }} {% if not tempest_create_isolated_networks | bool %} fixed_network_name = {{ tempest_fixed_network_name }} {% endif %}build_timeout = 600 {% endif %} {% if tempest_service_available_cinder | bool %}{% endif %} {% if tempest_service_available_glance | bool %} [image] endpoint_type = {{ tempest_endpoint_type }} http_image = {{ tempest_images[0]['url'] }} build_timeout = 600 {% endif %} {% if tempest_service_available_neutron | bool %} [network] endpoint_type = {{ tempest_endpoint_type }} public_network_id = {{ tempest_neutron_public_network_id }} floating_network_name = {{ tempest_public_net_name }} build_timeout = 600 {% endif %} {% if tempest_service_available_ironic | bool %} [baremetal] endpoint_type = {{ tempest_endpoint_type }} {% endif %} {% if tempest_service_available_sahara | bool %} [data_processing] endpoint_type = {{ tempest_endpoint_type }} {% endif %} {% if tempest_service_available_ceilometer | bool %} [telemetry] endpoint_type = {{ tempest_endpoint_type }} {% endif %} {% if tempest_service_available_horizon | bool %} [dashboard] dashboard_url = {{ tempest_dashboard_url }} {% endif %} {% if tempest_service_available_aodh | bool %} [alarming] endpoint_type = {{ tempest_endpoint_type }} {% endif %} {% if tempest_service_available_swift | bool %} [object-storage] endpoint_type = {{ tempest_endpoint_type }} operator_role = swiftoperator {% endif %} {% if tempest_service_available_heat | bool %} [heat_plugin] endpoint_type = {{ tempest_endpoint_type }} instance_type = tempest1 {% endif %}, [baremetal] endpoint_type = {{ tempest_endpoint_type }} [compute] image_ref = {{ tempest_glance_image_id_1 }} image_ref_alt = {{ tempest_glance_image_id_2 }} flavor_ref = {{ tempest_nova_flavor_id_1 }} flavor_ref_alt = {{ tempest_nova_flavor_id_2 }} {% if not tempest_create_isolated_networks | bool %} fixed_network_name = {{ tempest_fixed_network_name }} {% endif %} endpoint_type = {{ tempest_endpoint_type }} build_timeout = 600 [data_processing] endpoint_type = {{ tempest_endpoint_type }} [identity] disable_ssl_certificate_validation = {{ tempest_keystone_interface_insecure | bool }} uri = {{ keystone_service_internaluri }}/v2.0 uri_v3 = {{ keystone_service_internalurl }} v2_admin_endpoint_type = {{ tempest_endpoint_type }} v2_public_endpoint_type = {{ tempest_endpoint_type }} v3_endpoint_type = {{ tempest_endpoint_type }} [image] endpoint_type = {{ tempest_endpoint_type }} http_image = {{ tempest_images[0]['url'] }} build_timeout = 600 [input-scenario] [messaging] [negative] [network] endpoint_type = {{ tempest_endpoint_type }} public_network_id = {{ tempest_neutron_public_network_id }} floating_network_name = {{ tempest_public_net_name }} build_timeout = 600 [object-storage] endpoint_type = {{ tempest_endpoint_type }} operator_role = swiftoperator [heat_plugin] endpoint_type = {{ tempest_endpoint_type }} instance_type = tempest1 [telemetry] [dashboard] dashboard_url = {{ tempest_dashboard_url }} [alarming] endpoint_type = {{ tempest_endpoint_type }} [validation] run_validation = {{ tempest_compute_run_ssh }} image_ssh_user = {{ tempest_compute_image_ssh_user }} ping_timeout = 240 connect_timeout = 120 ssh_timeout = 600 ,88,78
openstack%2Fopenstack-ansible-os_tempest~master~I969ba3f83c053ec22ec02ed58a97b71a3f9686b3,openstack/openstack-ansible-os_tempest,master,I969ba3f83c053ec22ec02ed58a97b71a3f9686b3,Remove unused variables,MERGED,2022-01-19 22:46:57.000000000,2022-04-27 14:47:37.000000000,2022-04-27 14:47:37.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-01-19 22:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2fccbc172c1352e82c8f97a302228a4efd8ea710', 'message': 'Remove unused variables\n\nFew variables defined in defaults/main.yml are not used anywhere.\nWe should remove them.\n\nChange-Id: I969ba3f83c053ec22ec02ed58a97b71a3f9686b3\n'}, {'number': 2, 'created': '2022-04-26 16:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d3f88a5716dd886b93188470de6dcc6d9e3fbb25', 'message': 'Remove unused variables\n\nFew variables defined in defaults/main.yml are not used anywhere.\nWe should remove them.\n\nChange-Id: I969ba3f83c053ec22ec02ed58a97b71a3f9686b3\n'}, {'number': 3, 'created': '2022-04-26 16:45:21.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d194e546f6a32c715aa33487beb8eee129355207', 'message': 'Remove unused variables\n\nFew variables defined in defaults/main.yml are not used anywhere.\nWe should remove them.\n\nChange-Id: I969ba3f83c053ec22ec02ed58a97b71a3f9686b3\n'}]",0,825405,d194e546f6a32c715aa33487beb8eee129355207,12,3,3,32666,,,0,"Remove unused variables

Few variables defined in defaults/main.yml are not used anywhere.
We should remove them.

Change-Id: I969ba3f83c053ec22ec02ed58a97b71a3f9686b3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/05/825405/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,2fccbc172c1352e82c8f97a302228a4efd8ea710,tempest-damian-2021-12,,"tempest_install_pip_executable: ""{{ (tempest_venv_python_executable == 'python2') | ternary('pip', 'pip3') }}""tempest_pip_package_state: ""latest""tempest_swift_enabled: True tempest_main_group: tempest_all ",0,6
