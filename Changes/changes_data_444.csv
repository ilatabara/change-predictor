id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fkeystone~master~I1de964753b8c6c95af10b8c84501e4f74ca382e4,openstack/keystone,master,I1de964753b8c6c95af10b8c84501e4f74ca382e4,Consolidate catalog management guide,MERGED,2018-12-07 14:33:09.000000000,2018-12-08 10:05:31.000000000,2018-12-08 10:05:31.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 14:33:09.000000000', 'files': ['doc/source/admin/cli-keystone-manage-services.rst', 'doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/fed5f52c8a4358b784556903958f455481854b76', 'message': 'Consolidate catalog management guide\n\nWe already have an admin guide on creating services in the catalog and\ncreating service users, so reduce the duplication in the configuration\nguide.\n\nChange-Id: I1de964753b8c6c95af10b8c84501e4f74ca382e4\n'}]",0,623501,fed5f52c8a4358b784556903958f455481854b76,7,3,1,8482,,,0,"Consolidate catalog management guide

We already have an admin guide on creating services in the catalog and
creating service users, so reduce the duplication in the configuration
guide.

Change-Id: I1de964753b8c6c95af10b8c84501e4f74ca382e4
",git fetch https://review.opendev.org/openstack/keystone refs/changes/01/623501/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/cli-keystone-manage-services.rst', 'doc/source/configuration.rst']",2,fed5f52c8a4358b784556903958f455481854b76,consolidate-docs,,"Setting up other OpenStack Services =================================== Creating Service Users ---------------------- To configure the OpenStack services with service users, we need to create a project for all the services, and then users for each of the services. We then assign those service users an ``admin`` role on the service project. This allows them to validate tokens - and to authenticate and authorize other user requests. Create a project for the services, typically named ``service`` (however, the name can be whatever you choose): .. code-block:: bash $ openstack project create service Create service users for ``nova``, ``glance``, ``swift``, and ``neutron`` (or whatever subset is relevant to your deployment): .. code-block:: bash $ openstack user create nova --password Sekr3tPass --project service Repeat this for each service you want to enable. Create an administrative role for the service accounts, typically named ``admin`` (however the name can be whatever you choose). For adding the administrative role to the service accounts, you'll need to know the name of the role you want to add. If you don't have it handy, you can look it up quickly with: .. code-block:: bash $ openstack role list Once you have it, grant the administrative role to the service users. .. code-block:: bash $ openstack role add admin --project service --user nova Defining Services ----------------- Keystone also acts as a service catalog to let other OpenStack systems know where relevant API endpoints exist for OpenStack Services. The OpenStack Dashboard, in particular, uses this heavily - and this **must** be configured for the OpenStack Dashboard to properly function. The endpoints for these services are defined in a template, an example of which is in the project as the file ``etc/default_catalog.templates``. Keystone supports two means of defining the services, one is the catalog template, as described above - in which case everything is detailed in that template. The other is a SQL backend for the catalog service, in which case after Keystone is online, you need to add the services to the catalog: .. code-block:: bash $ openstack service create compute --name nova \ --description ""Nova Compute Service"" $ openstack service create ec2 --name ec2 \ --description ""EC2 Compatibility Layer"" $ openstack service create image --name glance \ --description ""Glance Image Service"" $ openstack service create identity --name keystone \ --description ""Keystone Identity Service"" $ openstack service create object-store --name swift \ --description ""Swift Service"" ",16,78
openstack%2Fswift~master~I6cfa6aa87b00f3edecdd2dd8b3e5ef66380e36ae,openstack/swift,master,I6cfa6aa87b00f3edecdd2dd8b3e5ef66380e36ae,Py3: Port test/unit/test_ringcomposer.py,MERGED,2018-12-01 02:28:57.000000000,2018-12-08 10:05:29.000000000,2018-12-08 10:05:29.000000000,"[{'_account_id': 8122}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-01 02:28:57.000000000', 'files': ['test/unit/cli/test_ringcomposer.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/6c8b4c87a530c5f8e9d83d85d57ea320ec78eb45', 'message': 'Py3: Port test/unit/test_ringcomposer.py\n\nChange-Id: I6cfa6aa87b00f3edecdd2dd8b3e5ef66380e36ae\n'}]",0,621325,6c8b4c87a530c5f8e9d83d85d57ea320ec78eb45,17,3,1,8122,,,0,"Py3: Port test/unit/test_ringcomposer.py

Change-Id: I6cfa6aa87b00f3edecdd2dd8b3e5ef66380e36ae
",git fetch https://review.opendev.org/openstack/swift refs/changes/25/621325/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_ringcomposer.py', 'tox.ini']",2,6c8b4c87a530c5f8e9d83d85d57ea320ec78eb45,py3-cli_test_ringcomposer, test/unit/cli/test_ringcomposer.py \,,2,1
openstack%2Frequirements~master~Icda18b49748c049a9fc3b3cd5f3aeb78ba04144f,openstack/requirements,master,Icda18b49748c049a9fc3b3cd5f3aeb78ba04144f,Updated from generate-constraints,MERGED,2018-12-06 06:18:15.000000000,2018-12-08 10:05:27.000000000,2018-12-08 10:05:27.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 06:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/73df893276089a9b3f2902c51db30055d820cc03', 'message': 'Updated from generate-constraints\n\nChange-Id: Icda18b49748c049a9fc3b3cd5f3aeb78ba04144f\n'}, {'number': 2, 'created': '2018-12-06 15:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/92e0240f550ec6bc67618adad0e27e61220fbc4f', 'message': 'Updated from generate-constraints\n\nChange-Id: Icda18b49748c049a9fc3b3cd5f3aeb78ba04144f\n'}, {'number': 3, 'created': '2018-12-06 19:07:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/12879e9cb7cc192173acbc0f5b98230ea6041c51', 'message': 'Updated from generate-constraints\n\nChange-Id: Icda18b49748c049a9fc3b3cd5f3aeb78ba04144f\n'}]",0,623144,12879e9cb7cc192173acbc0f5b98230ea6041c51,17,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: Icda18b49748c049a9fc3b3cd5f3aeb78ba04144f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/44/623144/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,73df893276089a9b3f2902c51db30055d820cc03,openstack/requirements/constraints/noclob,PasteDeploy===2.0.1grpcio===1.17.0rsd-lib===0.3.1tornado===4.5.3;python_version=='3.4' tornado===4.5.3;python_version=='3.5' tornado===4.5.3;python_version=='3.6' tornado===5.1.1;python_version=='2.7'SQLAlchemy-Utils===0.33.9opentracing===2.0.0idna===2.8pysaml2===4.6.5salt===2018.3.3botocore===1.12.60oslo.policy===1.43.0rfc3986===1.2.0jaeger-client===3.13.0,PasteDeploy===2.0.0grpcio===1.16.1rsd-lib===0.3.0tornado===4.5.3SQLAlchemy-Utils===0.33.8opentracing===1.3.0idna===2.7pysaml2===4.6.4salt===2018.3.2botocore===1.12.58oslo.policy===1.42.0rfc3986===1.1.0jaeger-client===3.12.0,16,13
openstack%2Frequirements~master~Ifda96a352263aa28c9e467ba8a01a6b7323f26ed,openstack/requirements,master,Ifda96a352263aa28c9e467ba8a01a6b7323f26ed,update constraint for keystoneauth1 to new release 3.11.2,MERGED,2018-12-06 08:08:55.000000000,2018-12-08 10:05:26.000000000,2018-12-08 10:05:25.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 08:08:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b608ee0045c2f49d8016a768d16091343a5f4e34', 'message': 'update constraint for keystoneauth1 to new release 3.11.2\n\nChange-Id: Ifda96a352263aa28c9e467ba8a01a6b7323f26ed\nmeta:version: 3.11.2\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: Iabe4b33cd969a93f9b702ddb4b80a2a7700d3fb1\nmeta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Code-Review+1: Morgan Fainberg <morgan.fainberg@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,623158,b608ee0045c2f49d8016a768d16091343a5f4e34,10,2,1,11131,,,0,"update constraint for keystoneauth1 to new release 3.11.2

Change-Id: Ifda96a352263aa28c9e467ba8a01a6b7323f26ed
meta:version: 3.11.2
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Iabe4b33cd969a93f9b702ddb4b80a2a7700d3fb1
meta:release:Code-Review+1: Lance Bragstad <lbragstad@gmail.com>
meta:release:Code-Review+1: Morgan Fainberg <morgan.fainberg@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/623158/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b608ee0045c2f49d8016a768d16091343a5f4e34,new-release,keystoneauth1===3.11.2,keystoneauth1===3.11.1,1,1
openstack%2Fdevstack~master~I39355b4deb17ae11927a5339e73fb8ec3a274cf7,openstack/devstack,master,I39355b4deb17ae11927a5339e73fb8ec3a274cf7,Update ETCD_DOWNLOAD_URL,MERGED,2018-10-19 10:09:37.000000000,2018-12-08 10:05:18.000000000,2018-12-08 10:05:18.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11600}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 10:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ac268c0e9061b3197f2beaab252663ecb6c70f84', 'message': ""Update ETCD_DOWNLOAD_URL\n\nLooks like https://github.com/coreos/etcd is redirecting to\nhttps://github.com/etcd-io/etcd, so let's use that official address as\nthe download URL.\n\nChange-Id: I39355b4deb17ae11927a5339e73fb8ec3a274cf7\n""}, {'number': 2, 'created': '2018-11-07 17:01:19.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/994e82e57f78a4c302d620e44bcdda36c4c0d5f0', 'message': ""Update ETCD_DOWNLOAD_URL\n\nLooks like https://github.com/coreos/etcd is redirecting to\nhttps://github.com/etcd-io/etcd, so let's use that official address as\nthe download URL.\n\nChange-Id: I39355b4deb17ae11927a5339e73fb8ec3a274cf7\n""}]",1,611826,994e82e57f78a4c302d620e44bcdda36c4c0d5f0,28,9,2,11600,,,0,"Update ETCD_DOWNLOAD_URL

Looks like https://github.com/coreos/etcd is redirecting to
https://github.com/etcd-io/etcd, so let's use that official address as
the download URL.

Change-Id: I39355b4deb17ae11927a5339e73fb8ec3a274cf7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/611826/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,ac268c0e9061b3197f2beaab252663ecb6c70f84,update-etcd-url,ETCD_DOWNLOAD_URL=${ETCD_DOWNLOAD_URL:-https://github.com/etcd-io/etcd/releases},ETCD_DOWNLOAD_URL=${ETCD_DOWNLOAD_URL:-https://github.com/coreos/etcd/releases/download},1,1
openstack%2Fcinder~master~I92792a98bb21e2759549949333dba82df4345c01,openstack/cinder,master,I92792a98bb21e2759549949333dba82df4345c01,Remove out-of-date configurations in setup.cfg,MERGED,2018-11-02 01:40:29.000000000,2018-12-08 09:37:52.000000000,2018-12-08 09:37:51.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-02 01:40:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3762364025fe76e74d86893ca3f47a98c3fcedf', 'message': 'Remove out-of-date configurations in setup.cfg\n\nWe add the oslo_messaging.notify.drivers configuration in [1] for\nbackwards compat with Havana notification_driver configuration values,\nand add the oslo_middleware configuration in [2] for backwards\ncompatibility with Juno middleware configurations.\n\nBut now these configuration is already out-of-date and useless, so we\nremove these configurations in this patch.\n\n[1] bcd9f363ff8a10ff30795c54f471a8c6d76450fe\n[2] c4897471777949983912676ad46ad99c42ed2b22\n\nChange-Id: I92792a98bb21e2759549949333dba82df4345c01\n'}]",0,614898,c3762364025fe76e74d86893ca3f47a98c3fcedf,34,30,1,20722,,,0,"Remove out-of-date configurations in setup.cfg

We add the oslo_messaging.notify.drivers configuration in [1] for
backwards compat with Havana notification_driver configuration values,
and add the oslo_middleware configuration in [2] for backwards
compatibility with Juno middleware configurations.

But now these configuration is already out-of-date and useless, so we
remove these configurations in this patch.

[1] bcd9f363ff8a10ff30795c54f471a8c6d76450fe
[2] c4897471777949983912676ad46ad99c42ed2b22

Change-Id: I92792a98bb21e2759549949333dba82df4345c01
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/614898/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c3762364025fe76e74d86893ca3f47a98c3fcedf,,,# These are for backwards compat with Havana notification_driver configuration values oslo_messaging.notify.drivers = cinder.openstack.common.notifier.log_notifier = oslo_messaging.notify._impl_log:LogDriver cinder.openstack.common.notifier.no_op_notifier = oslo_messaging.notify._impl_noop:NoOpDriver cinder.openstack.common.notifier.rpc_notifier2 = oslo_messaging.notify.messaging:MessagingV2Driver cinder.openstack.common.notifier.rpc_notifier = oslo_messaging.notify.messaging:MessagingDriver cinder.openstack.common.notifier.test_notifier = oslo_messaging.notify._impl_test:TestDriver # These are for backwards compatibility with Juno middleware configurations oslo_middleware = cinder.openstack.common.middleware.request_id = oslo_middleware.request_id ,0,11
openstack%2Fcinder~master~Ib3f7fc4392ca53e92ee2e421b95874dc97f04e5f,openstack/cinder,master,Ib3f7fc4392ca53e92ee2e421b95874dc97f04e5f,"Remove DeprecationWarning of ""decodestring()""",MERGED,2018-11-02 07:37:55.000000000,2018-12-08 09:37:49.000000000,2018-12-08 09:37:49.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 25903}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-02 07:37:55.000000000', 'files': ['cinder/api/validation/validators.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/70a79d7b456e993e8be13a891871bf3b72b79929', 'message': 'Remove DeprecationWarning of ""decodestring()""\n\nWhen running ""tox -e py35"", it shows:\nDeprecationWarning: decodestring() is a deprecated alias, use decodebytes()\n\nThis patch helps to remove this deprecation warning by\nreplacing ""base64.decodestring"" with ""oslo_serialization.base64.decode_as_bytes"".\nThe same has been done for nova:\nhttps://review.openstack.org/#/c/610401/\n\nChange-Id: Ib3f7fc4392ca53e92ee2e421b95874dc97f04e5f\n'}]",1,615075,70a79d7b456e993e8be13a891871bf3b72b79929,56,35,1,25903,,,0,"Remove DeprecationWarning of ""decodestring()""

When running ""tox -e py35"", it shows:
DeprecationWarning: decodestring() is a deprecated alias, use decodebytes()

This patch helps to remove this deprecation warning by
replacing ""base64.decodestring"" with ""oslo_serialization.base64.decode_as_bytes"".
The same has been done for nova:
https://review.openstack.org/#/c/610401/

Change-Id: Ib3f7fc4392ca53e92ee2e421b95874dc97f04e5f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/615075/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/validation/validators.py'],1,70a79d7b456e993e8be13a891871bf3b72b79929,decodestring,from oslo_serialization import base64 base64.decode_as_bytes(instance),import base64 base64.decodestring(instance) except base64.binascii.Error: return False,2,4
openstack%2Ftripleo-heat-templates~master~Idd0be76c8d7ad45cddc80b7c1867919acae77ea6,openstack/tripleo-heat-templates,master,Idd0be76c8d7ad45cddc80b7c1867919acae77ea6,Remove nic for storage_mgt network,MERGED,2018-12-06 08:11:02.000000000,2018-12-08 09:35:12.000000000,2018-12-08 07:35:13.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-12-06 08:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd291697a9576b4710db61c04c6ee3aae315a28d', 'message': ""Remove nic for storage_mgt network\n\nWe don't enable StorageMgmt network on the Compute role by default.\n\nChange-Id: Idd0be76c8d7ad45cddc80b7c1867919acae77ea6\nRelated-Bug: #1800811\n""}, {'number': 2, 'created': '2018-12-06 08:24:49.000000000', 'files': ['ci/environments/network/multiple-nics/nic-configs/compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/670e720030bd1d3744281da32fc981643cecd037', 'message': ""Remove nic for storage_mgt network\n\nWe don't enable StorageMgmt network on the Compute role by default.\n\nChange-Id: Idd0be76c8d7ad45cddc80b7c1867919acae77ea6\nDepends-On: https://review.openstack.org/622960\nDepends-On: https://review.openstack.org/618669\nRelated-Bug: #1800811\n""}]",7,623159,670e720030bd1d3744281da32fc981643cecd037,24,10,2,8833,,,0,"Remove nic for storage_mgt network

We don't enable StorageMgmt network on the Compute role by default.

Change-Id: Idd0be76c8d7ad45cddc80b7c1867919acae77ea6
Depends-On: https://review.openstack.org/622960
Depends-On: https://review.openstack.org/618669
Related-Bug: #1800811
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/623159/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/network/multiple-nics/nic-configs/compute.yaml'],1,bd291697a9576b4710db61c04c6ee3aae315a28d,bug/1800811,, - type: interface name: nic5 mtu: 1350 use_dhcp: false addresses: - ip_netmask: {get_param: StorageMgmtIpSubnet},0,6
openstack%2Ftripleo-heat-templates~master~I5a549eca8d2a750c751b193c24f77d3466acc2f9,openstack/tripleo-heat-templates,master,I5a549eca8d2a750c751b193c24f77d3466acc2f9,Remove CephAnsibleSkipTags from scenario1/4 standalone ci envs,MERGED,2018-12-06 14:18:55.000000000,2018-12-08 09:23:47.000000000,2018-12-08 09:23:47.000000000,"[{'_account_id': 6796}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 14:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aeeae888dcf64299f4f51d032e137fa58a630307', 'message': 'Remove CephAnsibleSkipTags from scenario1/4 standalone ci envs\n\nTesting to see if this fixes\nhttps://bugs.launchpad.net/tripleo/+bug/1806853\n\nChange-Id: I5a549eca8d2a750c751b193c24f77d3466acc2f9\n'}, {'number': 2, 'created': '2018-12-06 17:07:37.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57c4f03c0d70d434507f87c3a8821613a230b602', 'message': 'Remove CephAnsibleSkipTags from scenario1/4 standalone ci envs\n\nWe should not be overriding the skip tags otherwise we get the bug below\n\nCloses-Bug: #1806853\nChange-Id: I5a549eca8d2a750c751b193c24f77d3466acc2f9\n'}]",1,623217,57c4f03c0d70d434507f87c3a8821613a230b602,20,7,2,8449,,,0,"Remove CephAnsibleSkipTags from scenario1/4 standalone ci envs

We should not be overriding the skip tags otherwise we get the bug below

Closes-Bug: #1806853
Change-Id: I5a549eca8d2a750c751b193c24f77d3466acc2f9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/623217/2 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-standalone.yaml']",2,aeeae888dcf64299f4f51d032e137fa58a630307,fix_ceph_scen1_4,, CephAnsibleSkipTags: '',0,2
openstack%2Ftripleo-common~master~I0bb46a5cfc8795ca2b563b9df30aa36c4d7d94a6,openstack/tripleo-common,master,I0bb46a5cfc8795ca2b563b9df30aa36c4d7d94a6,Add tripleoclient container,MERGED,2018-10-18 13:00:47.000000000,2018-12-08 09:23:46.000000000,2018-12-08 09:23:46.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-18 13:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/55ebded0804f456b0b768f3b466297f965088285', 'message': ""Add tripleoclient container\n\nWe'd like to use this container both interactively (for\nad-hoc commands) and also to be able to generate\nAnsible (via the undercloud/all-in-one installers) for TripleO.\n\nThe t-h-t service for Tripleoclient will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container.\n\nPartially Implements: blueprint zero-footprint\n\nChange-Id: I0bb46a5cfc8795ca2b563b9df30aa36c4d7d94a6\n""}, {'number': 2, 'created': '2018-10-22 13:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3c3dd88c0ac48d3d47b67a050fbae963a43ddc53', 'message': ""Add tripleoclient container\n\nWe'd like to use this container both interactively (for\nad-hoc commands) and also to be able to generate\nAnsible (via the undercloud/all-in-one installers) for TripleO.\n\nThe t-h-t service for Tripleoclient will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container.\n\nPartially Implements: blueprint zero-footprint\n\nChange-Id: I0bb46a5cfc8795ca2b563b9df30aa36c4d7d94a6\n""}, {'number': 3, 'created': '2018-10-23 13:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f5bb8ae7deca40fa80ef988b9dff83090fe293bf', 'message': ""Add tripleoclient container\n\nWe'd like to use this container both interactively (for\nad-hoc commands) and also to be able to generate\nAnsible (via the undercloud/all-in-one installers) for TripleO.\n\nThe t-h-t service for Tripleoclient will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container.\n\nPartially Implements: blueprint zero-footprint\n\nChange-Id: I0bb46a5cfc8795ca2b563b9df30aa36c4d7d94a6\n""}, {'number': 4, 'created': '2018-10-30 10:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6a0accdcb895cfce52b1ef3304da8d7211bf419e', 'message': ""Add tripleoclient container\n\nWe'd like to use this container both interactively (for\nad-hoc commands) and also to be able to generate\nAnsible (via the undercloud/all-in-one installers) for TripleO.\n\nThe t-h-t service for Tripleoclient will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container.\n\nPartially Implements: blueprint zero-footprint\n\nChange-Id: I0bb46a5cfc8795ca2b563b9df30aa36c4d7d94a6\n""}, {'number': 5, 'created': '2018-11-05 19:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/21eb6cedeaf6ab8f5de87b63f86c13ab65b79d30', 'message': ""Add tripleoclient container\n\nWe'd like to use this container both interactively (for\nad-hoc commands) and also to be able to generate\nAnsible (via the undercloud/all-in-one installers) for TripleO.\n\nThe t-h-t service for Tripleoclient will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container.\n\nPartially Implements: blueprint zero-footprint\n\nChange-Id: I0bb46a5cfc8795ca2b563b9df30aa36c4d7d94a6\n""}, {'number': 6, 'created': '2018-11-23 13:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f0b5096a61fdddfd67840e6e4fb39691afdb915', 'message': ""Add tripleoclient container\n\nWe'd like to use this container both interactively (for\nad-hoc commands) and also to be able to generate\nAnsible (via the undercloud/all-in-one installers) for TripleO.\n\nThe t-h-t service for Tripleoclient will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container.\n\nPartially Implements: blueprint zero-footprint\n\nChange-Id: I0bb46a5cfc8795ca2b563b9df30aa36c4d7d94a6\n""}, {'number': 7, 'created': '2018-11-23 15:22:39.000000000', 'files': ['container-images/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4f898965a4958efffd8a05f10ed8a2e5ef393ae6', 'message': ""Add tripleoclient container\n\nWe'd like to use this container both interactively (for\nad-hoc commands) and also to be able to generate\nAnsible (via the undercloud/all-in-one installers) for TripleO.\n\nThe t-h-t service for Tripleoclient will likely be a noop so that\nwe can simply use the existing 'overcloud container image prepare'\ncommands to obtain this new container.\n\nPartially Implements: blueprint zero-footprint\n\nChange-Id: I0bb46a5cfc8795ca2b563b9df30aa36c4d7d94a6\n""}]",0,611598,4f898965a4958efffd8a05f10ed8a2e5ef393ae6,38,7,7,360,,,0,"Add tripleoclient container

We'd like to use this container both interactively (for
ad-hoc commands) and also to be able to generate
Ansible (via the undercloud/all-in-one installers) for TripleO.

The t-h-t service for Tripleoclient will likely be a noop so that
we can simply use the existing 'overcloud container image prepare'
commands to obtain this new container.

Partially Implements: blueprint zero-footprint

Change-Id: I0bb46a5cfc8795ca2b563b9df30aa36c4d7d94a6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/98/611598/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2']",2,55ebded0804f456b0b768f3b466297f965088285,bp/zero-footprint,"- imagename: ""{{namespace}}/{{name_prefix}}tripleoclient{{name_suffix}}:{{tag}}"" # NOTE: the TripleoClient service will likely be just a stub to allow # us to obtain this container via the prepare commands. params: - DockerTripleoclientImage services: - OS::TripleO::Services::TripleoClient ",,9,0
openstack%2Foperations-guide~master~I34f737af6ec61d9e49d653124b00de26bcec0faf,openstack/operations-guide,master,I34f737af6ec61d9e49d653124b00de26bcec0faf,Imported Translations from Zanata,MERGED,2018-12-08 07:02:39.000000000,2018-12-08 08:54:36.000000000,2018-12-08 08:54:36.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-08 07:02:39.000000000', 'files': ['doc/source/locale/ja/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/a6079e04a3d3551ac879ad57cb7df49ac03178b2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I34f737af6ec61d9e49d653124b00de26bcec0faf\n'}]",0,623638,a6079e04a3d3551ac879ad57cb7df49ac03178b2,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I34f737af6ec61d9e49d653124b00de26bcec0faf
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/38/623638/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ja/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc.po']",2,a6079e04a3d3551ac879ad57cb7df49ac03178b2,zanata/translations,"""Project-Id-Version: operations-guide\n""""POT-Creation-Date: 2018-12-07 04:29+0000\n""","""Project-Id-Version: Operations Guide\n""""POT-Creation-Date: 2018-11-25 07:52+0000\n""""Adding security groups is typically done on instance boot. When launching "" ""from the dashboard, you do this on the :guilabel:`Access & Security` tab of "" ""the :guilabel:`Launch Instance` dialog. When launching from the command "" ""line, append ``--security-groups`` with a comma-separated list of security "" ""groups."" msgstr """" ""Das Hinzufügen von Sicherheitsgruppen erfolgt typischerweise beim Booten der "" ""Instanz. Wenn Sie aus dem Dashboard starten, tun Sie dies auf der "" ""Registerkarte :guilabel:`Access & Security` des Dialogs :guilabel:`Launch "" ""Instance`. Fügen Sie beim Start über die Befehlszeile ``--security-groups`` "" ""mit einer kommagetrennten Liste von Sicherheitsgruppen an."" msgid """"""As a cloud administrative user, you can use the OpenStack dashboard to "" ""create and manage projects, users, images, and flavors. Users are allowed to "" ""create and manage images within specified projects and to share images, "" ""depending on the Image service configuration. Typically, the policy "" ""configuration allows admin users only to set quotas and create and manage "" ""services. The dashboard provides an :guilabel:`Admin` tab with a :guilabel:"" ""`System Panel` and an :guilabel:`Identity` tab. These interfaces give you "" ""access to system information and usage as well as to settings for "" ""configuring what end users can do. Refer to the `OpenStack Administrator "" ""Guide <https://docs.openstack.org/latest/admin/>`__ for detailed how-to "" ""information about using the dashboard as an admin user."" msgstr """" ""Als administrativer Cloud-Benutzer können Sie das OpenStack-Dashboard "" ""verwenden, um Projekte, Benutzer, Abbilder und Varianten zu erstellen und zu "" ""verwalten. Benutzer dürfen Abbilder innerhalb bestimmter Projekte erstellen "" ""und verwalten und Abbilder gemeinsam nutzen, je nach Konfiguration des "" ""Abbilddienstes. In der Regel erlaubt die Richtlinienkonfiguration es Admin-"" ""Benutzern, nur Quoten festzulegen und Dienste zu erstellen und zu verwalten. "" ""Das Dashboard bietet eine Registerkarte :guilabel:`Admin` mit einem :"" ""guilabel:`System Panel` und einer Registerkarte :guilabel:`Identity`. Diese "" ""Schnittstellen bieten Ihnen Zugriff auf Systeminformationen und -verwendung "" ""sowie auf Einstellungen zur Konfiguration der Möglichkeiten von "" ""Endbenutzern. Ausführliche Informationen zur Verwendung des Dashboards als "" ""Admin-Benutzer finden Sie im `OpenStack Administrator Guide <https://docs."" ""openstack.org/latest/admin/>`__."" msgid """"""If you find a bug and can't fix it or aren't sure it's really a doc bug, log "" ""a bug at `OpenStack Manuals <https://bugs.launchpad.net/openstack-"" ""manuals>`_. Tag the bug under Extra options with the ``ops-guide`` tag to "" ""indicate that the bug is in this guide. You can assign the bug to yourself "" ""if you know how to fix it. Also, a member of the OpenStack doc-core team can "" ""triage the doc bug."" msgstr """" ""Wenn Sie einen Fehler finden und ihn nicht beheben können oder nicht sicher "" ""sind, ob es sich wirklich um einen Doc-Bug handelt, melden Sie einen Fehler "" ""unter `OpenStack Manuals <https://bugs.launchpad.net/openstack-manuals>`_. "" ""Markiere den Bug unter Extra-Optionen mit dem Tag ``ops-guide``, um "" ""anzuzeigen, dass sich der Bug in diesem Handbuch befindet. Du kannst dir den "" ""Fehler selbst zuweisen, wenn du weißt, wie man ihn behebt. Außerdem kann ein "" ""Mitglied des OpenStack doc-core Teams den Doc-Bug auswerten."" msgid """"""While it is important for an operator to be familiar with the steps involved "" ""in deploying OpenStack, we also strongly encourage you to evaluate "" ""`OpenStack deployment tools <https://docs.openstack.org/rocky/projects."" ""html>`_ and configuration-management tools, such as :term:`Puppet` or :term:"" ""`Chef`, which can help automate this deployment process."" msgstr """" ""Es ist zwar wichtig, dass ein Bediener mit den Schritten bei der "" ""Bereitstellung von OpenStack vertraut ist, aber wir empfehlen Ihnen auch "" ""dringend, die `OpenStack-Bereitstellungstools <https://docs.openstack.org/"" ""rocky/projects.html>`_ und Konfigurationsmanagement-Tools wie :term:`Puppet` "" ""oder :term:`Chef` zu evaluieren, die helfen können, diesen "" ""Bereitstellungsprozess zu automatisieren."" msgid """"",12658,72
openstack%2Ftempest~master~I604515a7a5fd369f15c215c75db4a0e91c93ca69,openstack/tempest,master,I604515a7a5fd369f15c215c75db4a0e91c93ca69,Adding debugger in tox.ini,MERGED,2018-11-30 10:23:56.000000000,2018-12-08 08:42:31.000000000,2018-12-08 08:42:31.000000000,"[{'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-11-30 10:23:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8a7aaa5bcb830ddcebf8c38d86313974f7b15100', 'message': 'Adding debugger in tox.ini\n\nThis PS will add debugger in tox.ini\nSo it will be easy to check the tests in debug mode\nfor failure and success too.\n\nChange-Id: I604515a7a5fd369f15c215c75db4a0e91c93ca69\n'}]",0,621134,8a7aaa5bcb830ddcebf8c38d86313974f7b15100,16,6,1,27078,,,0,"Adding debugger in tox.ini

This PS will add debugger in tox.ini
So it will be easy to check the tests in debug mode
for failure and success too.

Change-Id: I604515a7a5fd369f15c215c75db4a0e91c93ca69
",git fetch https://review.opendev.org/openstack/tempest refs/changes/34/621134/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8a7aaa5bcb830ddcebf8c38d86313974f7b15100,,[testenv:debug] basepython = python3 commands = oslo_debug_helper -t tempest/tests {posargs} ,,4,0
openstack%2Ftripleo-ui~master~I25dfabad14ae816692e1093bc184b28fa239b20e,openstack/tripleo-ui,master,I25dfabad14ae816692e1093bc184b28fa239b20e,Move tripleo-ui out of the shared tripleo gate,MERGED,2018-12-03 23:18:02.000000000,2018-12-08 07:35:17.000000000,2018-12-08 07:35:17.000000000,"[{'_account_id': 3153}, {'_account_id': 7509}, {'_account_id': 8449}, {'_account_id': 9317}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10112}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-03 23:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/45157438af89633a2c55b08bd7d3112a824898b4', 'message': ""Move tripleo-ui out of the shared tripleo gate\n\nSo we don't actually rely on the tripleo-ui for the tripleo jobs other\nthan to be installable in a container on the udnercloud.  The\nlikelihood of anything being merged in tripleo-ui that would hang the\ngate is very small and likely to be caught by the existing CI.  This\nchange moves the tripleo-ui out of the tripleo gate queue to it's own\ntripleo-ui gate.  This will allow tripleo-ui to merge things outside of\nthe long tripleo queue\n\nChange-Id: I25dfabad14ae816692e1093bc184b28fa239b20e\n""}, {'number': 2, 'created': '2018-12-07 17:00:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/4dff34df23c9122a9fb9a2f1617dbc793f4b9f4c', 'message': ""Move tripleo-ui out of the shared tripleo gate\n\nSo we don't actually rely on the tripleo-ui for the tripleo jobs other\nthan to be installable in a container on the udnercloud.  The\nlikelihood of anything being merged in tripleo-ui that would hang the\ngate is very small and likely to be caught by the existing CI.  This\nchange moves the tripleo-ui out of the tripleo gate queue to it's own\ntripleo-ui gate.  This will allow tripleo-ui to merge things outside of\nthe long tripleo queue\n\nChange-Id: I25dfabad14ae816692e1093bc184b28fa239b20e\n""}]",0,621724,4dff34df23c9122a9fb9a2f1617dbc793f4b9f4c,20,13,2,14985,,,0,"Move tripleo-ui out of the shared tripleo gate

So we don't actually rely on the tripleo-ui for the tripleo jobs other
than to be installable in a container on the udnercloud.  The
likelihood of anything being merged in tripleo-ui that would hang the
gate is very small and likely to be caught by the existing CI.  This
change moves the tripleo-ui out of the tripleo gate queue to it's own
tripleo-ui gate.  This will allow tripleo-ui to merge things outside of
the long tripleo queue

Change-Id: I25dfabad14ae816692e1093bc184b28fa239b20e
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/24/621724/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,45157438af89633a2c55b08bd7d3112a824898b4,tripleo-ui-gate, queue: tripleo-ui, queue: tripleo,1,1
openstack%2Ftripleo-ui~master~I90ada83a715f9a9631d474413a1d66befd02eaab,openstack/tripleo-ui,master,I90ada83a715f9a9631d474413a1d66befd02eaab,Fix the missing undercloud jobs,MERGED,2018-12-07 17:00:05.000000000,2018-12-08 07:35:15.000000000,2018-12-08 07:35:15.000000000,"[{'_account_id': 3153}, {'_account_id': 7509}, {'_account_id': 9592}, {'_account_id': 10112}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 17:00:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/58c74eb1bf3d9f0043fd2fd7d28c5e858c057ada', 'message': 'Fix the missing undercloud jobs\n\nThe old defined undercloud job is instack-undercloud based which has\nbeen dropped as of Stein. This replaces it with the containerized\nversion.\n\nChange-Id: I90ada83a715f9a9631d474413a1d66befd02eaab\n'}]",0,623548,58c74eb1bf3d9f0043fd2fd7d28c5e858c057ada,9,5,1,14985,,,0,"Fix the missing undercloud jobs

The old defined undercloud job is instack-undercloud based which has
been dropped as of Stein. This replaces it with the containerized
version.

Change-Id: I90ada83a715f9a9631d474413a1d66befd02eaab
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/48/623548/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,58c74eb1bf3d9f0043fd2fd7d28c5e858c057ada,undercloud-job, - tripleo-ci-centos-7-undercloud-containers: - tripleo-ci-centos-7-undercloud-containers:, - tripleo-ci-centos-7-undercloud-oooq: - tripleo-ci-centos-7-undercloud-oooq:,2,2
openstack%2Ftripleo-ci~master~I7032d568b8f9261b6601e57af466e3f0aa1dcda8,openstack/tripleo-ci,master,I7032d568b8f9261b6601e57af466e3f0aa1dcda8,"Revert ""remove non-voting job from gate""",MERGED,2018-12-07 17:52:04.000000000,2018-12-08 07:18:03.000000000,2018-12-08 07:18:03.000000000,"[{'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-07 17:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5eb2f4e74f1f19b8798754cb1588b6575a099482', 'message': 'Revert ""remove non-voting job from gate""\n\nThis reverts commit 0ee6ecdda855be526597c11e1ea982565009d432.\n\nChange-Id: I7032d568b8f9261b6601e57af466e3f0aa1dcda8\n'}, {'number': 2, 'created': '2018-12-07 17:52:07.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1c61fd1563ea6e43ca8e0db26f909005d5d301e7', 'message': 'Revert ""remove non-voting job from gate""\n\nThis reverts commit 0ee6ecdda855be526597c11e1ea982565009d432.\n\nChange-Id: I7032d568b8f9261b6601e57af466e3f0aa1dcda8\n'}]",0,623555,1c61fd1563ea6e43ca8e0db26f909005d5d301e7,9,6,2,3153,,,0,"Revert ""remove non-voting job from gate""

This reverts commit 0ee6ecdda855be526597c11e1ea982565009d432.

Change-Id: I7032d568b8f9261b6601e57af466e3f0aa1dcda8
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/55/623555/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,5eb2f4e74f1f19b8798754cb1588b6575a099482,, - tripleo-ci-centos-7-undercloud-containers,,1,0
openstack%2Ftripleo-common~master~Iccaace4ee84f46e01b9dfd62b9985f889d12ea37,openstack/tripleo-common,master,Iccaace4ee84f46e01b9dfd62b9985f889d12ea37,Add python-notario package to mistral-executor container,MERGED,2018-11-30 15:57:52.000000000,2018-12-08 06:57:10.000000000,2018-12-08 06:57:10.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-30 15:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dd75879db96981c9549716dc3717f47e4796c381', 'message': 'Add python-notario package to mistral-executor container\n\nBy default ceph-ansible is installed on the container host,\nthe undercloud, and its content is the bind mounted into the\nmistral-executor container. python-notario is a dependency\nof ceph-ansible provided by the CentOS Storage SIG. Though\nthe dependency is on the contianer host, it is needed in\nthe container.\n\nChange-Id: Iccaace4ee84f46e01b9dfd62b9985f889d12ea37\nCloses-Bug: #1806065\nRelated-bug: #1794027\n'}, {'number': 2, 'created': '2018-12-04 15:26:44.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/90fe24c8603907f24af68aa91c6eba81fc85d677', 'message': 'Add python-notario package to mistral-executor container\n\nBy default ceph-ansible is installed on the container host,\nthe undercloud, and its content is the bind mounted into the\nmistral-executor container. python-notario is a dependency\nof ceph-ansible provided by the CentOS Storage SIG. Though\nthe dependency is on the contianer host, it is needed in\nthe container.\n\nChange-Id: Iccaace4ee84f46e01b9dfd62b9985f889d12ea37\nCloses-Bug: #1806065\nRelated-bug: #1794027\n'}]",2,621193,90fe24c8603907f24af68aa91c6eba81fc85d677,27,5,2,18002,,,0,"Add python-notario package to mistral-executor container

By default ceph-ansible is installed on the container host,
the undercloud, and its content is the bind mounted into the
mistral-executor container. python-notario is a dependency
of ceph-ansible provided by the CentOS Storage SIG. Though
the dependency is on the contianer host, it is needed in
the container.

Change-Id: Iccaace4ee84f46e01b9dfd62b9985f889d12ea37
Closes-Bug: #1806065
Related-bug: #1794027
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/93/621193/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,dd75879db96981c9549716dc3717f47e4796c381,bug/1806065,"# python-notario: ceph-ansible depends on this but it is bind mounted from host {% set mistral_executor_packages_append = ['openstack-tripleo-validations', 'openstack-nova-common', 'docker', 'podman', 'libseccomp', 'openstack-tripleo-heat-templates', 'python-notario'] %}","{% set mistral_executor_packages_append = ['openstack-tripleo-validations', 'openstack-nova-common', 'docker', 'podman', 'libseccomp', 'openstack-tripleo-heat-templates'] %}",2,1
openstack%2Frequirements~master~Ic57f915cfb35a0c5249ccbb7cf7cdca0d2195d08,openstack/requirements,master,Ic57f915cfb35a0c5249ccbb7cf7cdca0d2195d08,Updated from generate-constraints,ABANDONED,2018-12-08 06:17:22.000000000,2018-12-08 06:45:50.000000000,,[],"[{'number': 1, 'created': '2018-12-08 06:17:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ef8d310900d7f24eff83ad991b2a51a6f89ac675', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic57f915cfb35a0c5249ccbb7cf7cdca0d2195d08\n'}]",0,623635,ef8d310900d7f24eff83ad991b2a51a6f89ac675,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: Ic57f915cfb35a0c5249ccbb7cf7cdca0d2195d08
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/623635/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ef8d310900d7f24eff83ad991b2a51a6f89ac675,openstack/requirements/constraints,PasteDeploy===2.0.1grpcio===1.17.0rsd-lib===0.3.1PyJWT===1.7.1tornado===4.5.3;python_version=='3.4' tornado===4.5.3;python_version=='3.5' tornado===4.5.3;python_version=='3.6' tornado===5.1.1;python_version=='2.7'prometheus-client===0.5.0ruamel.yaml===0.15.81influxdb===5.2.1google-api-python-client===1.7.6SQLAlchemy-Utils===0.33.9mypy===0.650;python_version=='3.4' mypy===0.650;python_version=='3.5' mypy===0.650;python_version=='3.6'opentracing===2.0.0idna===2.8pysaml2===4.6.5salt===2018.3.3botocore===1.12.62kombu===4.2.2rfc3986===1.2.0jaeger-client===3.13.0keystoneauth1===3.11.2,PasteDeploy===2.0.0grpcio===1.16.1rsd-lib===0.3.0PyJWT===1.7.0tornado===4.5.3prometheus-client===0.4.2ruamel.yaml===0.15.80influxdb===5.1.0google-api-python-client===1.7.5SQLAlchemy-Utils===0.33.8mypy===0.641;python_version=='3.4' mypy===0.641;python_version=='3.5' mypy===0.641;python_version=='3.6'opentracing===1.3.0idna===2.7pysaml2===4.6.4salt===2018.3.2botocore===1.12.58kombu===4.2.1rfc3986===1.1.0jaeger-client===3.12.0keystoneauth1===3.11.1,25,22
openstack%2Fzaqar-tempest-plugin~master~Ib158ce595bd14adf5b2dbdc64e0d3f59f5a762a0,openstack/zaqar-tempest-plugin,master,Ib158ce595bd14adf5b2dbdc64e0d3f59f5a762a0,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 12:51:06.000000000,2018-12-08 06:10:19.000000000,2018-12-08 06:10:19.000000000,"[{'_account_id': 8846}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-12-04 12:51:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/1eddb5ace5319e4edb5bf3b3cf4a66fc03889497', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Ib158ce595bd14adf5b2dbdc64e0d3f59f5a762a0\n'}]",0,622307,1eddb5ace5319e4edb5bf3b3cf4a66fc03889497,9,5,1,26297,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Ib158ce595bd14adf5b2dbdc64e0d3f59f5a762a0
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/07/622307/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1eddb5ace5319e4edb5bf3b3cf4a66fc03889497,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fzaqar~master~Ia0a4c2fd9796cebda57fcf54c4f57c04cf788e61,openstack/zaqar,master,Ia0a4c2fd9796cebda57fcf54c4f57c04cf788e61,Fix BUG: reserved metadata when queue is not existing,ABANDONED,2018-12-07 08:46:06.000000000,2018-12-08 05:39:18.000000000,,"[{'_account_id': 8846}, {'_account_id': 22348}, {'_account_id': 28035}]","[{'number': 1, 'created': '2018-12-07 08:46:06.000000000', 'files': ['zaqar/storage/redis/queues.py', 'zaqar/storage/sqlalchemy/queues.py', 'zaqar/storage/mongodb/queues.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/4ea701237883f508721139be29208eb6fb423916', 'message': 'Fix BUG: reserved metadata when queue is not existing\n\nWhen querying an not existing queue, Zaqar still\nwill return the reserved metadata. It should be fixed.\n\nChange-Id: Ia0a4c2fd9796cebda57fcf54c4f57c04cf788e61\nCloses-Bug: #1807347\n'}]",0,623419,4ea701237883f508721139be29208eb6fb423916,6,3,1,8846,,,0,"Fix BUG: reserved metadata when queue is not existing

When querying an not existing queue, Zaqar still
will return the reserved metadata. It should be fixed.

Change-Id: Ia0a4c2fd9796cebda57fcf54c4f57c04cf788e61
Closes-Bug: #1807347
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/19/623419/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/storage/redis/queues.py', 'zaqar/storage/sqlalchemy/queues.py', 'zaqar/storage/mongodb/queues.py']",3,4ea701237883f508721139be29208eb6fb423916,bug/1807347," return self.get_metadata(name, project)"," try: return self.get_metadata(name, project) except errors.QueueDoesNotExist: return {}",3,12
openstack%2Fneutron-dynamic-routing~master~Ie59cc6107b836e5a581e6260d3eacb7a2993e8e1,openstack/neutron-dynamic-routing,master,Ie59cc6107b836e5a581e6260d3eacb7a2993e8e1,use openstack-lower-constraints-jobs-neutron job template,MERGED,2018-11-20 19:06:11.000000000,2018-12-08 05:37:52.000000000,2018-12-08 05:37:52.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 19:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/094077579b1f8ca4900defc20caaf7a84a49438f', 'message': 'add lower constraints job to zuul\n\nThis patch adds the neutron-dynamic-routing-tox-lower-constraints job to\nzuul.yaml to ensure neutron is picked up from source.\n\nChange-Id: Ie59cc6107b836e5a581e6260d3eacb7a2993e8e1\n'}, {'number': 2, 'created': '2018-11-20 19:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/66999d72df4326a74e23a77e5f60dd0ede0d07a3', 'message': 'add lower constraints job to zuul\n\nThis patch adds the neutron-dynamic-routing-tox-lower-constraints job to\nzuul.yaml to ensure neutron is picked up from source.\n\nChange-Id: Ie59cc6107b836e5a581e6260d3eacb7a2993e8e1\n'}, {'number': 3, 'created': '2018-11-26 16:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/b37a275d3a6ee4ca4a23a80e690bd53531512cc3', 'message': 'add lower constraints job to zuul\n\nThis patch adds the neutron-dynamic-routing-tox-lower-constraints job to\nzuul.yaml to ensure neutron is picked up from source.\n\nChange-Id: Ie59cc6107b836e5a581e6260d3eacb7a2993e8e1\n'}, {'number': 4, 'created': '2018-11-30 13:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ae9b417e2929e6332ea8f5c9a59cf2cf6efb0d20', 'message': 'add lower constraints job to zuul\n\nThis patch adds the neutron-dynamic-routing-tox-lower-constraints job to\nzuul.yaml to ensure neutron is picked up from source.\n\nChange-Id: Ie59cc6107b836e5a581e6260d3eacb7a2993e8e1\n'}, {'number': 5, 'created': '2018-12-07 16:06:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/6709a263588515ff8565557a2f5ba12fdb39dc26', 'message': 'use openstack-lower-constraints-jobs-neutron job template\n\nThis patch switches the use of openstack-tox-lower-constraints over to\nopenstack-lower-constraints-jobs-neutron so that neutron is installed\nfrom source rather than pypi.\n\nChange-Id: Ie59cc6107b836e5a581e6260d3eacb7a2993e8e1\n'}]",3,619064,6709a263588515ff8565557a2f5ba12fdb39dc26,22,7,5,5367,,,0,"use openstack-lower-constraints-jobs-neutron job template

This patch switches the use of openstack-tox-lower-constraints over to
openstack-lower-constraints-jobs-neutron so that neutron is installed
from source rather than pypi.

Change-Id: Ie59cc6107b836e5a581e6260d3eacb7a2993e8e1
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/64/619064/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,094077579b1f8ca4900defc20caaf7a84a49438f,neutronlib-zuulv3,- job: name: neutron-dynamic-routing-tox-lower-constraints parent: openstack-tox-lower-constraints required-projects: - openstack/neutron - neutron-dynamic-routing-tox-lower-constraint - neutron-dynamic-routing-tox-lower-constraint,,8,0
openstack%2Fneutron-dynamic-routing~master~Id07fb7da50f80a3434c6bf790ffddf2bb25a6796,openstack/neutron-dynamic-routing,master,Id07fb7da50f80a3434c6bf790ffddf2bb25a6796,use context manager from neutron-lib,MERGED,2018-11-20 18:31:32.000000000,2018-12-08 05:33:16.000000000,2018-12-08 05:33:16.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 5367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 18:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/660a90d15836e96ee598ef9be2cf05a88e65dd49', 'message': ""use context manager from neutron-lib\n\nAccess to neutron.db.api's context manager is already in neutron-lib\nand in fact neutron is already using it as a shim. This patch switches\nover context manager access to use neutron-lib's accessors.\nAlso see https://review.openstack.org/#/c/613122\n\nChange-Id: Id07fb7da50f80a3434c6bf790ffddf2bb25a6796\n""}, {'number': 2, 'created': '2018-12-03 20:29:32.000000000', 'files': ['neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/db/bgp_dragentscheduler_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/155f66337c97205a1bba1916738e936efc973ecf', 'message': ""use context manager from neutron-lib\n\nAccess to neutron.db.api's context manager is already in neutron-lib\nand in fact neutron is already using it as a shim. This patch switches\nover context manager access to use neutron-lib's accessors.\nAlso see https://review.openstack.org/#/c/613122\n\nChange-Id: Id07fb7da50f80a3434c6bf790ffddf2bb25a6796\n""}]",0,619054,155f66337c97205a1bba1916738e936efc973ecf,11,5,2,5367,,,0,"use context manager from neutron-lib

Access to neutron.db.api's context manager is already in neutron-lib
and in fact neutron is already using it as a shim. This patch switches
over context manager access to use neutron-lib's accessors.
Also see https://review.openstack.org/#/c/613122

Change-Id: Id07fb7da50f80a3434c6bf790ffddf2bb25a6796
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/54/619054/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/db/bgp_dragentscheduler_db.py']",2,660a90d15836e96ee598ef9be2cf05a88e65dd49,bp/neutronlib-decouple-db,from neutron_lib.db import api as db_api with db_api.CONTEXT_WRITER.using(context): with db_api.CONTEXT_WRITER.using(context): with db_api.CONTEXT_WRITER.using(context):,from neutron.db import api as db_api with db_api.context_manager.writer.using(context): with db_api.context_manager.writer.using(context): with db_api.context_manager.writer.using(context):,40,40
openstack%2Fneutron-dynamic-routing~master~I3f2711239772a41ccb6a0d7eb19f11326f125e86,openstack/neutron-dynamic-routing,master,I3f2711239772a41ccb6a0d7eb19f11326f125e86,use neutron-lib for _model_query,MERGED,2018-11-13 18:09:13.000000000,2018-12-08 05:19:03.000000000,2018-12-08 05:19:02.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 5367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 18:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/b7638f8c2e907b8d61e0884d0acbab2d826a452c', 'message': 'use neutron-lib for _model_query\n\nThe model_query module is in neutron-lib and the CommonDBMixin will\neventually be removed. This patch swiches use of the _model_query\nmethod over to query_with_hooks from neutron-lib.\n\nThis patch also bumps the neutron-lib version up to 1.20.0\n\nChange-Id: I3f2711239772a41ccb6a0d7eb19f11326f125e86\n'}, {'number': 2, 'created': '2018-12-03 20:30:45.000000000', 'files': ['neutron_dynamic_routing/db/bgp_db.py', 'requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8170e51adb38b257724f32c40286bbcb3f537941', 'message': 'use neutron-lib for _model_query\n\nThe model_query module is in neutron-lib and the CommonDBMixin will\neventually be removed. This patch swiches use of the _model_query\nmethod over to query_with_hooks from neutron-lib.\n\nThis patch also bumps the neutron-lib version up to 1.20.0\n\nChange-Id: I3f2711239772a41ccb6a0d7eb19f11326f125e86\n'}]",0,617763,8170e51adb38b257724f32c40286bbcb3f537941,12,5,2,5367,,,0,"use neutron-lib for _model_query

The model_query module is in neutron-lib and the CommonDBMixin will
eventually be removed. This patch swiches use of the _model_query
method over to query_with_hooks from neutron-lib.

This patch also bumps the neutron-lib version up to 1.20.0

Change-Id: I3f2711239772a41ccb6a0d7eb19f11326f125e86
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/63/617763/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/db/bgp_db.py', 'requirements.txt', 'lower-constraints.txt']",3,b7638f8c2e907b8d61e0884d0acbab2d826a452c,bp/neutronlib-decouple-db,neutron-lib==1.20.0,neutron-lib==1.18.0,5,4
openstack%2Fnova~stable%2Fpike~I379678dfdb2609f12a572d4f99c8e9da4deab803,openstack/nova,stable/pike,I379678dfdb2609f12a572d4f99c8e9da4deab803,compute: Ensure pre-migrating instances are destroyed during init_host,MERGED,2018-11-30 16:13:43.000000000,2018-12-08 05:15:57.000000000,2018-12-08 05:15:57.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-30 16:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cb51e5c95fd543f2326a20b7a75adcba8bccb3e', 'message': 'compute: Ensure pre-migrating instances are destroyed during init_host\n\nPreviously _destroy_evacuated_instances would not remove instances\nassociated with evacuation migration records in a pre-migrating state.\nThis could lead to a race between the original source host and the new\ndestination if the source returned early, calling init_instance during\nthe evacuation process.\n\nThis change now includes pre-migrating migration records when looking\nfor active evacuations. Additionally the dict of evacuating instances is\nthen returned to init_host and used to skip running init_instance\nagainst such instances ensuring no race occurs between the two computes.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n(cherry picked from commit c4988cdabf311d29cf64af732091068cfabeedaa)\n(cherry picked from commit 8bba879141d644b248d246cb2ed196068e20785c)\n'}, {'number': 2, 'created': '2018-12-05 11:34:01.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1abdb4ca22436c5eabadeab46b1237154c9cca92', 'message': 'compute: Ensure pre-migrating instances are destroyed during init_host\n\nPreviously _destroy_evacuated_instances would not remove instances\nassociated with evacuation migration records in a pre-migrating state.\nThis could lead to a race between the original source host and the new\ndestination if the source returned early, calling init_instance during\nthe evacuation process.\n\nThis change now includes pre-migrating migration records when looking\nfor active evacuations. Additionally the dict of evacuating instances is\nthen returned to init_host and used to skip running init_instance\nagainst such instances ensuring no race occurs between the two computes.\n\nNOTE(lyarwood): Conflict due to edeeaf9102eccb78f1a2555c7e18c3d706f07639\nnot being present in stable/pike.\n\nConflicts:\n        nova/tests/functional/regressions/test_bug_1764883.py\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n(cherry picked from commit c4988cdabf311d29cf64af732091068cfabeedaa)\n(cherry picked from commit 8bba879141d644b248d246cb2ed196068e20785c)\n'}]",1,621205,1abdb4ca22436c5eabadeab46b1237154c9cca92,19,8,2,10135,,,0,"compute: Ensure pre-migrating instances are destroyed during init_host

Previously _destroy_evacuated_instances would not remove instances
associated with evacuation migration records in a pre-migrating state.
This could lead to a race between the original source host and the new
destination if the source returned early, calling init_instance during
the evacuation process.

This change now includes pre-migrating migration records when looking
for active evacuations. Additionally the dict of evacuating instances is
then returned to init_host and used to skip running init_instance
against such instances ensuring no race occurs between the two computes.

NOTE(lyarwood): Conflict due to edeeaf9102eccb78f1a2555c7e18c3d706f07639
not being present in stable/pike.

Conflicts:
        nova/tests/functional/regressions/test_bug_1764883.py

Closes-bug: #1764883
Change-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803
(cherry picked from commit c4988cdabf311d29cf64af732091068cfabeedaa)
(cherry picked from commit 8bba879141d644b248d246cb2ed196068e20785c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/621205/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1764883.py']",4,0cb51e5c95fd543f2326a20b7a75adcba8bccb3e,bug/1764883," This test asserts that evacuating instances end up in an ACTIVE state on the destination even when the source host comes back online during an evacuation while the migration record is in a pre-migrating state. # Wait for the instance to go into an ACTIVE state self._wait_for_state_change(self.api, server, 'ACTIVE') host = server['OS-EXT-SRV-ATTR:host'] migrations = self.api.get_migrations() # Assert that we have a single `done` migration record after the evac self.assertEqual(1, len(migrations)) self.assertEqual('done', migrations[0]['status']) # Assert that the instance is now on the dest self.assertNotEqual(self.source_compute, host)"," This test asserts that evacuating instances end up in an ERROR state on the source when that host comes back online during an evacuation while the migration record is in a pre-migrating state. This currently leads to a race between the source initialising the instance and destination claim during the rebuild, both of which attempt to update the underlying task_state of the instance. # FIXME(lyarwood): Assert that the evacuation fails at present with the # instance remaining on the source in an ERROR state. self._wait_for_state_change(self.api, server, 'ERROR') self.assertEqual(self.source_compute, server['OS-EXT-SRV-ATTR:host'])",68,19
openstack%2Fdevstack~master~Ic68a6d6cd7da41510e624b6bea7976d9a960af98,openstack/devstack,master,Ic68a6d6cd7da41510e624b6bea7976d9a960af98,Enable the SCL repository for CentOS,MERGED,2018-12-04 21:02:33.000000000,2018-12-08 05:15:46.000000000,2018-12-08 05:15:46.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 11628}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 14885}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 21:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4d6ae4037405240bdef5f5063c61257075a265a2', 'message': 'Enable the SCL repository for CentOS\n\nEnable the Software Collections (SCL) repository for CentOS. This\nrepository includes useful software (e.g. the Go Toolset) which is not\npresent in the main repository.\n\nFor example, Octavia depends on Go and its CentOS-based jobs got broken\nnow with the update to CentOS 7.6 which no longer provides golang.\n\nChange-Id: Ic68a6d6cd7da41510e624b6bea7976d9a960af98\n'}, {'number': 2, 'created': '2018-12-04 21:16:03.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d2a927264aa71e3103a9b265f1e0d9911fd4653e', 'message': 'Enable the SCL repository for CentOS\n\nEnable the Software Collections (SCL) repository for CentOS. This\nrepository includes useful software (e.g. the Go Toolset) which is not\npresent in the main repository.\n\nFor example, Octavia uses a Go based testing tool and its CentOS-based\njobs got broken now with the update to CentOS 7.6 which no longer\nprovides golang.\n\nChange-Id: Ic68a6d6cd7da41510e624b6bea7976d9a960af98\n'}]",2,622590,d2a927264aa71e3103a9b265f1e0d9911fd4653e,26,12,2,6469,,,0,"Enable the SCL repository for CentOS

Enable the Software Collections (SCL) repository for CentOS. This
repository includes useful software (e.g. the Go Toolset) which is not
present in the main repository.

For example, Octavia uses a Go based testing tool and its CentOS-based
jobs got broken now with the update to CentOS 7.6 which no longer
provides golang.

Change-Id: Ic68a6d6cd7da41510e624b6bea7976d9a960af98
",git fetch https://review.opendev.org/openstack/devstack refs/changes/90/622590/2 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,4d6ae4037405240bdef5f5063c61257075a265a2,," # Enable the Software Collections (SCL) repository for CentOS. # This repository includes useful software (e.g. the Go Toolset) # which is not present in the main repository. if [[ ""$os_VENDOR"" =~ (CentOS) ]]; then yum_install centos-release-scl fi ",,7,0
openstack%2Fnova~master~I30a7bc9a0148fd3ed15ddd997d8dab11e4fb1fe1,openstack/nova,master,I30a7bc9a0148fd3ed15ddd997d8dab11e4fb1fe1,Remove placement perf check,MERGED,2018-11-30 15:16:45.000000000,2018-12-08 04:56:56.000000000,2018-12-08 04:56:56.000000000,"[{'_account_id': 7}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-30 15:16:45.000000000', 'files': ['playbooks/legacy/nova-next/run.yaml', 'gate/post_test_perf_check.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/84182d0aa2780e22947a90dffa50940def16487b', 'message': 'Remove placement perf check\n\ngate/post_test_perf_check.sh did some simplistic performance testing of\nplacement. With the extraction of placement we want it to happen during\nopenstack/placement CI changes so we remove it here.\n\nThe depends-on is to the placement change that turns it on there, using\nan independent (and very small) job.\n\nDepends-On: I93875e3ce1f77fdb237e339b7b3e38abe3dad8f7\nChange-Id: I30a7bc9a0148fd3ed15ddd997d8dab11e4fb1fe1\n'}]",0,621180,84182d0aa2780e22947a90dffa50940def16487b,42,18,1,11564,,,0,"Remove placement perf check

gate/post_test_perf_check.sh did some simplistic performance testing of
placement. With the extraction of placement we want it to happen during
openstack/placement CI changes so we remove it here.

The depends-on is to the placement change that turns it on there, using
an independent (and very small) job.

Depends-On: I93875e3ce1f77fdb237e339b7b3e38abe3dad8f7
Change-Id: I30a7bc9a0148fd3ed15ddd997d8dab11e4fb1fe1
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/621180/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/nova-next/run.yaml', 'gate/post_test_perf_check.sh']",2,84182d0aa2780e22947a90dffa50940def16487b,cd/remove-perfload,,"#!/bin/bash -x # Do some performance related information gathering for placement. EXPLANATION="" This output combines output from placeload with timing information gathered via curl. The placeload output is the current maximum microversion of placement followed by an encoded representation of what it has done. Lowercase 'r', 'i', 'a', and 't' indicate successful creation of a resource provider and setting inventory, aggregates, and traits on that resource provider. If there are upper case versions of any of those letters, a failure happened for a single request. The letter will be followed by the HTTP status code and the resource provider uuid. These can be used to find the relevant entry in logs/screen-placement-api.txt.gz. Note that placeload does not exit with an error code when this happens. It merely reports and moves on. Under correct circumstances the right output is a long string of 4000 characters containing 'r', 'i', 'a', 't' in random order (because async). After that are three aggregate uuids, and then the output of two timed curl requests. If no timed requests are present it means that the expected number of resource providers were not created. At this time, only resource providers are counted, not whether they have the correct inventory, aggregates, or traits. "" # This aggregate uuid is a static value in placeload. AGGREGATE=""14a5c8a3-5a99-4e8f-88be-00d85fcb1c17"" TRAIT=""HW_CPU_X86_AVX2"" PLACEMENT_QUERY=""resources=VCPU:1,DISK_GB:10,MEMORY_MB:256&member_of=${AGGREGATE}&required=${TRAIT}"" BASE=${BASE:-/opt/stack} source ${BASE}/new/devstack/functions source ${BASE}/new/devstack/lib/nova source ${BASE}/new/devstack/lib/placement # Putting the log here ought to mean it is automatically gathered by zuul LOG=${BASE}/logs/placement-perf.txt COUNT=1000 function check_placement { local placement_url local rp_count python -m virtualenv -p python3 .placeload . .placeload/bin/activate # install placeload pip install 'placeload==0.3.0' # Turn off keystone auth iniset -sudo $NOVA_CONF DEFAULT auth_strategy noauth2 restart_service devstack@placement-api # get placement endpoint placement_url=$(get_endpoint_url placement public) # load with placeload ( echo ""$EXPLANATION"" placeload $placement_url $COUNT ) | tee -a $LOG rp_count=$(curl -H 'x-auth-token: admin' $placement_url/resource_providers |json_pp|grep -c '""name""') # Skip curl and note if we failed to create the required number of rps if [[ $rp_count -ge $COUNT ]]; then ( echo '##### TIMING GET /allocation_candidates' time curl -s -H 'x-auth-token: admin' -H 'openstack-api-version: placement 1.21' ""$placement_url/allocation_candidates?${PLACEMENT_QUERY}"" > /dev/null time curl -s -H 'x-auth-token: admin' -H 'openstack-api-version: placement 1.21' ""$placement_url/allocation_candidates?${PLACEMENT_QUERY}"" > /dev/null ) 2>&1 | tee -a $LOG else ( echo ""Unable to create expected number of resource providers. Expected: ${COUNT}, Got: $rp_count"" echo ""See job-output.txt.gz and logs/screen-placement-api.txt.gz for additional detail."" ) | tee -a $LOG fi deactivate } # Be admin set +x source $BASE/new/devstack/openrc admin set -x check_placement ",0,92
openstack%2Fmagnum~master~Idd90663922a2a56e736f9d3a6b0a97fca2920b82,openstack/magnum,master,Idd90663922a2a56e736f9d3a6b0a97fca2920b82,functional: collect serviceaccounts and secrets,ABANDONED,2018-12-08 03:57:43.000000000,2018-12-08 04:16:19.000000000,,[],"[{'number': 1, 'created': '2018-12-08 03:57:43.000000000', 'files': ['magnum/tests/contrib/copy_instance_logs.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ac4f6802f05e84923804cba7ea22928748d28ed6', 'message': 'functional: collect serviceaccounts and secrets\n\nThere are cases where a token is not generated yet for a service\naccount which results in some functional jobs failing.  This patch\nadds collection of this information in order to make sure that\nthese resources are being cleanly created.\n\nChange-Id: Idd90663922a2a56e736f9d3a6b0a97fca2920b82\n'}]",0,623626,ac4f6802f05e84923804cba7ea22928748d28ed6,2,0,1,1004,,,0,"functional: collect serviceaccounts and secrets

There are cases where a token is not generated yet for a service
account which results in some functional jobs failing.  This patch
adds collection of this information in order to make sure that
these resources are being cleanly created.

Change-Id: Idd90663922a2a56e736f9d3a6b0a97fca2920b82
",git fetch https://review.opendev.org/openstack/magnum refs/changes/26/623626/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/tests/contrib/copy_instance_logs.sh'],1,ac4f6802f05e84923804cba7ea22928748d28ed6,task/28341," remote_exec $SSH_USER ""kubectl get serviceaccounts"" k8s-service-accounts.log remote_exec $SSH_USER ""kubectl get secrets"" k8s-secrets.log",,2,0
openstack%2Fkeystone~master~Iefdc12dd3b93ff7b2d6df635bc849a0c9b42f171,openstack/keystone,master,Iefdc12dd3b93ff7b2d6df635bc849a0c9b42f171,Update contributor doc,MERGED,2018-11-13 07:43:45.000000000,2018-12-08 03:43:50.000000000,2018-12-08 03:43:50.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-11-13 07:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/72bda87e8192ed80bdb0c64f91b4ab8aeb614fbe', 'message': 'Update contributor doc\n\n1. Remove some invalid links\n2. Remove `paste` related doc\n3. Fix some nits.\n\nChange-Id: Iefdc12dd3b93ff7b2d6df635bc849a0c9b42f171\n'}, {'number': 2, 'created': '2018-11-14 02:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5ceb950f0ec78a337476a96282bc0aa4ea527d9c', 'message': 'Update contributor doc\n\n1. Remove some invalid links\n2. Remove `paste` related doc\n3. Fix some nits.\n\nChange-Id: Iefdc12dd3b93ff7b2d6df635bc849a0c9b42f171\n'}, {'number': 3, 'created': '2018-11-21 02:29:29.000000000', 'files': ['doc/source/contributor/services.rst', 'doc/source/contributor/http-api.rst', 'doc/source/contributor/set-up-keystone.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/58f7827ce72b62c2c5c9feb2b22a3f0f202ccd0d', 'message': 'Update contributor doc\n\n1. Remove some invalid links\n2. Remove `paste` related doc\n3. Fix some nits.\n\nChange-Id: Iefdc12dd3b93ff7b2d6df635bc849a0c9b42f171\n'}]",9,617513,58f7827ce72b62c2c5c9feb2b22a3f0f202ccd0d,22,7,3,15054,,,0,"Update contributor doc

1. Remove some invalid links
2. Remove `paste` related doc
3. Fix some nits.

Change-Id: Iefdc12dd3b93ff7b2d6df635bc849a0c9b42f171
",git fetch https://review.opendev.org/openstack/keystone refs/changes/13/617513/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/services.rst', 'doc/source/contributor/http-api.rst', 'doc/source/contributor/set-up-keystone.rst']",3,72bda87e8192ed80bdb0c64f91b4ab8aeb614fbe,update_contributor_doc,"configuration files are required, however. The following file is required in","configuration files are required, however. The following files are required in* ``keystone-paste.ini``",7,45
openstack%2Fkeystone-tempest-plugin~master~I917d0bd9d0754ee9d05852e5e10bb03504296324,openstack/keystone-tempest-plugin,master,I917d0bd9d0754ee9d05852e5e10bb03504296324,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 03:39:48.000000000,2018-12-08 03:43:49.000000000,2018-12-08 03:43:49.000000000,"[{'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-12-05 03:39:48.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/958d34ee2dfa131ad5441b17ddb4480a7a72b7b2', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I917d0bd9d0754ee9d05852e5e10bb03504296324\n'}]",0,622766,958d34ee2dfa131ad5441b17ddb4480a7a72b7b2,7,3,1,28543,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I917d0bd9d0754ee9d05852e5e10bb03504296324
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/66/622766/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,958d34ee2dfa131ad5441b17ddb4480a7a72b7b2,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fkeystone~master~I43f72d12f3eb57af69c4b40258baa3b11d0a6a54,openstack/keystone,master,I43f72d12f3eb57af69c4b40258baa3b11d0a6a54,Add missing translation import to common.auth.py,MERGED,2018-11-28 14:25:40.000000000,2018-12-08 03:43:48.000000000,2018-12-08 03:43:47.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-11-28 14:25:40.000000000', 'files': ['keystone/tests/common/auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e5d1eba024aae12e05e30c42bd3e3d9c97d398a4', 'message': ""Add missing translation import to common.auth.py\n\nThis utility was refactored, but the refactor didn't include a\nrequired import statement:\n\n  Ie7e156a83006c1578c87d862cb4d1d948a800809\n\nThis wasn't caught because non of our unit tests were trying to\nbuild authentication payloads with a bogus scope.\n\nChange-Id: I43f72d12f3eb57af69c4b40258baa3b11d0a6a54\n""}]",0,620610,e5d1eba024aae12e05e30c42bd3e3d9c97d398a4,10,5,1,5046,,,0,"Add missing translation import to common.auth.py

This utility was refactored, but the refactor didn't include a
required import statement:

  Ie7e156a83006c1578c87d862cb4d1d948a800809

This wasn't caught because non of our unit tests were trying to
build authentication payloads with a bogus scope.

Change-Id: I43f72d12f3eb57af69c4b40258baa3b11d0a6a54
",git fetch https://review.opendev.org/openstack/keystone refs/changes/10/620610/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/common/auth.py'],1,e5d1eba024aae12e05e30c42bd3e3d9c97d398a4,,from keystone.i18n import _ ,,2,0
openstack%2Foctavia~master~I8243919d733a02acccfba2d7043ee05a54fbcbe3,openstack/octavia,master,I8243919d733a02acccfba2d7043ee05a54fbcbe3,Bring up lo when plugging interfaces,NEW,2018-03-08 15:07:33.000000000,2018-12-08 03:43:21.000000000,,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 8871}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-08 15:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b6a9e28d9674ec13978964ac330433c61b8e663f', 'message': 'Bring up lo when plugging interfaces\n\nThe loopback interface config was written in the amphora-haproxy\nnamespace, but it was never brought up.\n\nChange-Id: I8243919d733a02acccfba2d7043ee05a54fbcbe3\n'}, {'number': 2, 'created': '2018-07-10 22:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0908d98e3f76a2341949ca4a664cb2fad064d6d5', 'message': 'Bring up lo when plugging interfaces\n\nThe loopback interface config was written in the amphora-haproxy\nnamespace, but it was never brought up.\n\nChange-Id: I8243919d733a02acccfba2d7043ee05a54fbcbe3\n'}, {'number': 3, 'created': '2018-07-11 02:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0815695bba82ba4c9134bd8766bd1da476efb6a3', 'message': 'Bring up lo when plugging interfaces\n\nThe loopback interface config was written in the amphora-haproxy\nnamespace, but it was never brought up.\n\nChange-Id: I8243919d733a02acccfba2d7043ee05a54fbcbe3\n'}, {'number': 4, 'created': '2018-07-13 01:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9150058dbd474ae14e8bdb0b4da2b0d95e3594f4', 'message': 'Bring up lo when plugging interfaces\n\nThe loopback interface config was written in the amphora-haproxy\nnamespace, but it was never brought up.\n\nChange-Id: I8243919d733a02acccfba2d7043ee05a54fbcbe3\n'}, {'number': 5, 'created': '2018-07-27 06:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c9109756d66237f4bddbdc865ecb58740aaaf2c0', 'message': 'Bring up lo when plugging interfaces\n\nThe loopback interface config was written in the amphora-haproxy\nnamespace, but it was never brought up.\n\nChange-Id: I8243919d733a02acccfba2d7043ee05a54fbcbe3\n'}, {'number': 6, 'created': '2018-12-08 01:02:20.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f09f6b43c57026f0e36273b1ca0da1d52b061b47', 'message': 'Bring up lo when plugging interfaces\n\nThe loopback interface config was written in the amphora-haproxy\nnamespace, but it was never brought up.\n\nChange-Id: I8243919d733a02acccfba2d7043ee05a54fbcbe3\n'}]",4,550861,f09f6b43c57026f0e36273b1ca0da1d52b061b47,30,7,6,2245,,,0,"Bring up lo when plugging interfaces

The loopback interface config was written in the amphora-haproxy
namespace, but it was never brought up.

Change-Id: I8243919d733a02acccfba2d7043ee05a54fbcbe3
",git fetch https://review.opendev.org/openstack/octavia refs/changes/61/550861/6 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py']",2,b6a9e28d9674ec13978964ac330433c61b8e663f,lo," 'unplug1', 'plug1/unplug1', 7, 'test', RANDOM_ERROR ), ] 'unplug1', 'plug1/unplug1', 7, 'test', RANDOM_ERROR ) ]"," 7, 'test', RANDOM_ERROR), subprocess.CalledProcessError( 7, 'test', RANDOM_ERROR)] 7, 'test', RANDOM_ERROR), subprocess.CalledProcessError( 7, 'test', RANDOM_ERROR)]",14,4
openstack%2Fnova~stable%2Frocky~I1f4b3540dd453650f94333b36d7504ba164192f7,openstack/nova,stable/rocky,I1f4b3540dd453650f94333b36d7504ba164192f7,Fix InstanceNotFound during _destroy_evacuated_instances,MERGED,2018-12-06 23:23:19.000000000,2018-12-08 03:38:36.000000000,2018-12-08 03:38:35.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-06 23:23:19.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1794996.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0208d64397731afa829bc08cd7b3b6494f0f05d5', 'message': ""Fix InstanceNotFound during _destroy_evacuated_instances\n\nThe _destroy_evacuated_instances method on compute\nstartup tries to cleanup guests on the hypervisor and\nallocations held against that compute node resource\nprovider by evacuated instances, but doesn't take into\naccount that those evacuated instances could have been\ndeleted in the meantime which leads to a lazy-load\nInstanceNotFound error that kills the startup of the\ncompute service.\n\nThis change does two things in the _destroy_evacuated_instances\nmethod:\n\n1. Loads the evacuated instances with a read_deleted='yes'\n   context when calling _get_instances_on_driver(). This\n   should be fine since _get_instances_on_driver() is already\n   returning deleted instances anyway (InstanceList.get_by_filters\n   defaults to read deleted instances unless the filters tell\n   it otherwise - which we don't in this case). This is needed\n   so that things like driver.destroy() don't raise\n   InstanceNotFound while lazy-loading fields on the instance.\n\n2. Skips the call to remove_allocation_from_compute() if the\n   evacuated instance is already deleted. If the instance is\n   already deleted, its allocations should have been cleaned\n   up by its hosting compute service (or the API).\n\nThe functional regression test is updated to show the bug is\nnow fixed.\n\nConflicts:\n      nova/compute/manager.py\n      nova/tests/unit/compute/test_compute.py\n\nNOTE(mriedem): The conflicts are due to not having change\nI2af45a9540e7ccd60ace80d9fcadc79972da7df7 in Rocky.\n\nChange-Id: I1f4b3540dd453650f94333b36d7504ba164192f7\nCloses-Bug: #1794996\n(cherry picked from commit 05cd8d128211adbbfb3cf5d626034ccd0f75a452)\n""}]",0,623349,0208d64397731afa829bc08cd7b3b6494f0f05d5,11,7,1,6873,,,0,"Fix InstanceNotFound during _destroy_evacuated_instances

The _destroy_evacuated_instances method on compute
startup tries to cleanup guests on the hypervisor and
allocations held against that compute node resource
provider by evacuated instances, but doesn't take into
account that those evacuated instances could have been
deleted in the meantime which leads to a lazy-load
InstanceNotFound error that kills the startup of the
compute service.

This change does two things in the _destroy_evacuated_instances
method:

1. Loads the evacuated instances with a read_deleted='yes'
   context when calling _get_instances_on_driver(). This
   should be fine since _get_instances_on_driver() is already
   returning deleted instances anyway (InstanceList.get_by_filters
   defaults to read deleted instances unless the filters tell
   it otherwise - which we don't in this case). This is needed
   so that things like driver.destroy() don't raise
   InstanceNotFound while lazy-loading fields on the instance.

2. Skips the call to remove_allocation_from_compute() if the
   evacuated instance is already deleted. If the instance is
   already deleted, its allocations should have been cleaned
   up by its hosting compute service (or the API).

The functional regression test is updated to show the bug is
now fixed.

Conflicts:
      nova/compute/manager.py
      nova/tests/unit/compute/test_compute.py

NOTE(mriedem): The conflicts are due to not having change
I2af45a9540e7ccd60ace80d9fcadc79972da7df7 in Rocky.

Change-Id: I1f4b3540dd453650f94333b36d7504ba164192f7
Closes-Bug: #1794996
(cherry picked from commit 05cd8d128211adbbfb3cf5d626034ccd0f75a452)
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/623349/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1794996.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",4,0208d64397731afa829bc08cd7b3b6494f0f05d5,bug/1550919," # The instances might be deleted in which case we need to avoid # InstanceNotFound being raised from lazy-loading fields on the # instances while cleaning up this host. read_deleted_context = context.elevated(read_deleted='yes') # TODO(mriedem): We could optimize by pre-loading the joined fields # we know we'll use, like info_cache and flavor. We can also replace # this with a generic solution: https://review.openstack.org/575190/ local_instances = self._get_instances_on_driver(read_deleted_context) # If the instance was deleted in the interim, assume its # allocations were properly cleaned up (either by its hosting # compute service or the API). if (not instance.deleted and not scheduler_utils.remove_allocation_from_compute( context, instance, cn_uuid, self.reportclient)):"," local_instances = self._get_instances_on_driver(context) if not scheduler_utils.remove_allocation_from_compute( context, instance, cn_uuid, self.reportclient):",40,18
openstack%2Fnova~stable%2Frocky~I19b0d8baea5440f5d5bc49a6956d9a97bf031a05,openstack/nova,stable/rocky,I19b0d8baea5440f5d5bc49a6956d9a97bf031a05,Add functional regression test for bug 1794996,MERGED,2018-12-06 23:23:19.000000000,2018-12-08 03:38:29.000000000,2018-12-08 03:38:29.000000000,"[{'_account_id': 10135}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-06 23:23:19.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1794996.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/83d74dbbb6b45bfeada0c0b9ac13385b126709bb', 'message': ""Add functional regression test for bug 1794996\n\nThe _destroy_evacuated_instances method on compute\nstartup tries to cleanup guests from the hypervisor\nand allocations held against that compute node resource\nprovider by evacuated instances, but doesn't take into\naccount that those evacuated instances could have been\ndeleted in the meantime which leads to a lazy-load\nInstanceNotFound error that kills the startup of the\ncompute service.\n\nThis change adds a functional regression test to recreate\nthe bug. A subsequent change with the fix will update\nthe test to show the bug is fixed.\n\nNote that assertFlavorMatchesAllocation and\n_boot_and_check_allocations are redefined in the test\nclass because If6aa37d9b6b48791e070799ab026c816fda4441c\nrefactored those methods which will cause problems with\nbackports of this test. The redefined methods will be\nremoved in a follow up cleanup patch.\n\nChange-Id: I19b0d8baea5440f5d5bc49a6956d9a97bf031a05\nRelated-Bug: #1794996\n(cherry picked from commit d252f81573cdfe7a0966f134608bb85d17311e33)\n""}]",0,623348,83d74dbbb6b45bfeada0c0b9ac13385b126709bb,8,4,1,6873,,,0,"Add functional regression test for bug 1794996

The _destroy_evacuated_instances method on compute
startup tries to cleanup guests from the hypervisor
and allocations held against that compute node resource
provider by evacuated instances, but doesn't take into
account that those evacuated instances could have been
deleted in the meantime which leads to a lazy-load
InstanceNotFound error that kills the startup of the
compute service.

This change adds a functional regression test to recreate
the bug. A subsequent change with the fix will update
the test to show the bug is fixed.

Note that assertFlavorMatchesAllocation and
_boot_and_check_allocations are redefined in the test
class because If6aa37d9b6b48791e070799ab026c816fda4441c
refactored those methods which will cause problems with
backports of this test. The redefined methods will be
removed in a follow up cleanup patch.

Change-Id: I19b0d8baea5440f5d5bc49a6956d9a97bf031a05
Related-Bug: #1794996
(cherry picked from commit d252f81573cdfe7a0966f134608bb85d17311e33)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/623348/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1794996.py'],1,83d74dbbb6b45bfeada0c0b9ac13385b126709bb,bug/1550919,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from nova import exception from nova.tests.functional import integrated_helpers LOG = logging.getLogger(__name__) class TestEvacuateDeleteServerRestartOriginalCompute( integrated_helpers.ProviderUsageBaseTestCase): compute_driver = 'fake.SmallFakeDriver' def setUp(self): super(TestEvacuateDeleteServerRestartOriginalCompute, self).setUp() self.compute1 = self._start_compute(host='host1') self.compute2 = self._start_compute(host='host2') flavors = self.api.get_flavors() self.flavor1 = flavors[0] # NOTE(mriedem): This is here for backports and should be removed later # on master (Stein). def assertFlavorMatchesAllocation(self, flavor, allocation): self.assertEqual(flavor['vcpus'], allocation['VCPU']) self.assertEqual(flavor['ram'], allocation['MEMORY_MB']) self.assertEqual(flavor['disk'], allocation['DISK_GB']) # NOTE(mriedem): This is here for backports and should be removed later # on master (Stein). def _boot_and_check_allocations(self, flavor, source_hostname): """"""Boot an instance and check that the resource allocation is correct After booting an instance on the given host with a given flavor it asserts that both the providers usages and resource allocations match with the resources requested in the flavor. It also asserts that running the periodic update_available_resource call does not change the resource state. :param flavor: the flavor the instance will be booted with :param source_hostname: the name of the host the instance will be booted on :return: the API representation of the booted instance """""" server_req = self._build_minimal_create_server_request( self.api, 'some-server', flavor_id=flavor['id'], image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks='none') server_req['availability_zone'] = 'nova:%s' % source_hostname LOG.info('booting on %s', source_hostname) created_server = self.api.post_server({'server': server_req}) server = self._wait_for_state_change( self.admin_api, created_server, 'ACTIVE') # Verify that our source host is what the server ended up on self.assertEqual(source_hostname, server['OS-EXT-SRV-ATTR:host']) source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) # Before we run periodics, make sure that we have allocations/usages # only on the source host source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(flavor, source_usages) # Check that the other providers has no usage for rp_uuid in [self._get_provider_uuid_by_host(hostname) for hostname in self.computes.keys() if hostname != source_hostname]: usages = self._get_provider_usages(rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, usages) # Check that the server only allocates resource from the host it is # booted on allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations), 'No allocation for the server on the host it ' 'is booted on') allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(flavor, allocation) self._run_periodics() # After running the periodics but before we start any other operation, # we should have exactly the same allocation/usage information as # before running the periodics # Check usages on the selected host after boot source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(flavor, source_usages) # Check that the server only allocates resource from the host it is # booted on allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations), 'No allocation for the server on the host it ' 'is booted on') allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(flavor, allocation) # Check that the other providers has no usage for rp_uuid in [self._get_provider_uuid_by_host(hostname) for hostname in self.computes.keys() if hostname != source_hostname]: usages = self._get_provider_usages(rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, usages) return server def test_evacuate_delete_server_restart_original_compute(self): """"""Regression test for bug 1794996 where a server is successfully evacuated from a down host and then deleted. Then the source compute host is brought back online and attempts to cleanup the guest from the hypervisor and allocations for the evacuated (and now deleted) instance. Before the bug is fixed, the original compute fails to start because lazy-loading the instance.flavor on the deleted instance, which is needed to cleanup allocations from the source host, raises InstanceNotFound. """""" source_hostname = self.compute1.host dest_hostname = self.compute2.host server = self._boot_and_check_allocations( self.flavor1, source_hostname) source_compute_id = self.admin_api.get_services( host=source_hostname, binary='nova-compute')[0]['id'] self.compute1.stop() # force it down to avoid waiting for the service group to time out self.admin_api.put_service( source_compute_id, {'forced_down': 'true'}) # evacuate the server post = {'evacuate': {}} self.api.post_server_action( server['id'], post) expected_params = {'OS-EXT-SRV-ATTR:host': dest_hostname, 'status': 'ACTIVE'} server = self._wait_for_server_parameter(self.api, server, expected_params) # Expect to have allocation and usages on both computes as the # source compute is still down source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) # Delete the evacuated server. The allocations should be gone from # both the original evacuated-from host and the evacuated-to host. self._delete_and_check_allocations(server) # restart the source compute # FIXME(mriedem): This is bug 1794996 where we try to lazy-load the # instance.flavor from the deleted instance which causes the compute # startup to fail. self.assertRaises(exception.InstanceNotFound, self.restart_compute_service, self.compute1) ",,183,0
openstack%2Fnova~stable%2Frocky~Ib2de207d368d248464770fd0a9452e325f0a0596,openstack/nova,stable/rocky,Ib2de207d368d248464770fd0a9452e325f0a0596,Add a bug tag for nova doc,MERGED,2018-12-06 03:43:54.000000000,2018-12-08 03:38:23.000000000,2018-12-08 03:38:22.000000000,"[{'_account_id': 10135}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-06 03:43:54.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e6375cc12ca74fc6ba2b76ca56626a34aa91aa6', 'message': ""Add a bug tag for nova doc\n\nAdd a default bug tag for nova doc in doc/source/conf.py.\nThe 'doc' tag(*) should be set for document bug\nin bug reports by default.\n\n*: https://wiki.openstack.org/wiki/Nova/BugTriage#Tag_Owner_List\n\nTrivialFix\nChange-Id: Ib2de207d368d248464770fd0a9452e325f0a0596\n(cherry picked from commit 168704349b923b971606f7809fe8c9f33ff5f775)\n""}]",0,623130,7e6375cc12ca74fc6ba2b76ca56626a34aa91aa6,9,5,1,7634,,,0,"Add a bug tag for nova doc

Add a default bug tag for nova doc in doc/source/conf.py.
The 'doc' tag(*) should be set for document bug
in bug reports by default.

*: https://wiki.openstack.org/wiki/Nova/BugTriage#Tag_Owner_List

TrivialFix
Change-Id: Ib2de207d368d248464770fd0a9452e325f0a0596
(cherry picked from commit 168704349b923b971606f7809fe8c9f33ff5f775)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/623130/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,7e6375cc12ca74fc6ba2b76ca56626a34aa91aa6,add_bug_tag-stable/rocky,bug_tag = 'doc',bug_tag = '',1,1
openstack%2Fnova~master~Ie6da21e8680b2deb6b1da3add31cd725ba855c1c,openstack/nova,master,Ie6da21e8680b2deb6b1da3add31cd725ba855c1c,Add secret=true to fixed_key configuration parameter,MERGED,2018-12-03 19:42:11.000000000,2018-12-08 03:38:15.000000000,2018-12-08 03:38:15.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11561}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26490}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-03 19:42:11.000000000', 'files': ['nova/conf/key_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/37a036672e459b0d83b7b91120c8ec40e3759190', 'message': ""Add secret=true to fixed_key configuration parameter\n\nAdd secret=true to fixed_key configuration parameter as that value\nshouldn't be logged.\n\nChange-Id: Ie6da21e8680b2deb6b1da3add31cd725ba855c1c\nCloses-Bug: #1806471\n""}]",0,621684,37a036672e459b0d83b7b91120c8ec40e3759190,22,18,1,7130,,,0,"Add secret=true to fixed_key configuration parameter

Add secret=true to fixed_key configuration parameter as that value
shouldn't be logged.

Change-Id: Ie6da21e8680b2deb6b1da3add31cd725ba855c1c
Closes-Bug: #1806471
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/621684/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/key_manager.py'],1,37a036672e459b0d83b7b91120c8ec40e3759190,bug/1806471," secret=True,",,1,0
openstack%2Fneutron-dynamic-routing~master~I63bf23a6c116388dd038cfb4b75721f314997bca,openstack/neutron-dynamic-routing,master,I63bf23a6c116388dd038cfb4b75721f314997bca,load neutron objects using neutron-lib,MERGED,2018-05-24 21:40:07.000000000,2018-12-08 02:22:07.000000000,2018-12-08 02:22:07.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-24 21:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/2795521e990454a776c6c79c49f8c29fce389367', 'message': ""load neutron objects using neutron-lib\n\nTo access neutron objects we're moving to a dynamic plugin approach as\nshown in the depends on and related patches.\n\nThis patch removes the imports of neutron.objects and uses neutron-lib\nto load them instead.\n\nIt also bumps neutron-lib up to 1.14.0.\n\nChange-Id: I63bf23a6c116388dd038cfb4b75721f314997bca\nDepends-On: https://review.openstack.org/#/c/570060/\n""}, {'number': 2, 'created': '2018-12-03 20:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/cb747dc90e386dbbfe5461ef41d2cc8e1bc0fc77', 'message': ""load neutron objects using neutron-lib\n\nTo access neutron objects we're moving to a dynamic plugin approach as\nshown in the depends on and related patches.\n\nThis patch removes the imports of neutron.objects and uses neutron-lib\nto load them instead.\n\nIt also bumps neutron-lib up to 1.14.0.\n\nChange-Id: I63bf23a6c116388dd038cfb4b75721f314997bca\nDepends-On: https://review.openstack.org/#/c/570060/\n""}, {'number': 3, 'created': '2018-12-03 20:34:46.000000000', 'files': ['neutron_dynamic_routing/services/bgp/scheduler/bgp_dragent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/367201cb007495165f1092018320e8446d1bc3c1', 'message': ""load neutron objects using neutron-lib\n\nTo access neutron objects we're moving to a dynamic plugin approach as\nshown in the depends on and related patches.\n\nThis patch removes the imports of neutron.objects and uses neutron-lib\nto load them instead.\n\nChange-Id: I63bf23a6c116388dd038cfb4b75721f314997bca\n""}]",2,570460,367201cb007495165f1092018320e8446d1bc3c1,14,5,3,5367,,,0,"load neutron objects using neutron-lib

To access neutron objects we're moving to a dynamic plugin approach as
shown in the depends on and related patches.

This patch removes the imports of neutron.objects and uses neutron-lib
to load them instead.

Change-Id: I63bf23a6c116388dd038cfb4b75721f314997bca
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/60/570460/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'neutron_dynamic_routing/services/bgp/scheduler/bgp_dragent_scheduler.py']",3,2795521e990454a776c6c79c49f8c29fce389367,bp/neutronlib-decouple-db,from neutron_lib.objects import registry as obj_reg bgp_dragent = obj_reg.load_class('Agent').get_object(,from neutron.objects import agent as agent_object bgp_dragent = agent_object.Agent.get_object(,4,4
openstack%2Fneutron-dynamic-routing~master~Id6e30be7b063e3ae42590068d4a25b7c563d67a3,openstack/neutron-dynamic-routing,master,Id6e30be7b063e3ae42590068d4a25b7c563d67a3,add local tox targets for pep8 and py3,MERGED,2018-09-26 15:39:33.000000000,2018-12-08 02:20:07.000000000,2018-12-08 02:20:07.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-26 15:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d4087097f5ebfddd6e7a5c38e8baad9b553cdfab', 'message': 'add local tox targets for pep8 and py3\n\nThis patch adds local tox targets for pep8 and python 3 as per [1]\nthat will install dependencies in editable mode.\nTo run them use the pep8-dev and py3-dev targets respectively.\n\n[1] https://etherpad.openstack.org/p/neutron-sibling-setup\n\nChange-Id: Id6e30be7b063e3ae42590068d4a25b7c563d67a3\n'}, {'number': 2, 'created': '2018-10-31 21:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8690f7ee01a515d01ca59815ffdf20ea1657e62e', 'message': 'add local tox targets for pep8 and py3\n\nThis patch adds local tox targets for pep8 and python 3 as per [1]\nthat will install dependencies in editable mode.\nTo run them use the pep8-dev and py3-dev targets respectively.\n\n[1] https://etherpad.openstack.org/p/neutron-sibling-setup\n\nChange-Id: Id6e30be7b063e3ae42590068d4a25b7c563d67a3\n'}, {'number': 3, 'created': '2018-11-05 18:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a3ce741c06e35c6a1dd36b448dce62de93abb86e', 'message': 'add local tox targets for pep8 and py3\n\nThis patch adds local tox targets for pep8 and python 3 as per [1]\nthat will install dependencies in editable mode.\nTo run them use the pep8-dev and py3-dev targets respectively.\n\nIt also adds a custom zuul job for lower-constraints to ensure the\nneutron source is pulled from git.\n\n[1] https://etherpad.openstack.org/p/neutron-sibling-setup\n\nChange-Id: Id6e30be7b063e3ae42590068d4a25b7c563d67a3\n'}, {'number': 4, 'created': '2018-11-20 19:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/44ab67ba3e228467fb45d9a75ac397c893c076ce', 'message': 'add local tox targets for pep8 and py3\n\nThis patch adds local tox targets for pep8 and python 3 as per [1]\nthat will install dependencies in editable mode.\nTo run them use the pep8-dev and py3-dev targets respectively.\n\n[1] https://etherpad.openstack.org/p/neutron-sibling-setup\n\nChange-Id: Id6e30be7b063e3ae42590068d4a25b7c563d67a3\n'}, {'number': 5, 'created': '2018-11-29 22:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/1a9144fab03435de24ab98b8f66c5f85c0b72694', 'message': 'add local tox targets for pep8 and py3\n\nThis patch adds local tox targets for pep8 and python 3 as per [1]\nthat will install dependencies in editable mode.\nTo run them use the pep8-dev and py3-dev targets respectively.\n\n[1] https://etherpad.openstack.org/p/neutron-sibling-setup\n\nChange-Id: Id6e30be7b063e3ae42590068d4a25b7c563d67a3\n'}, {'number': 6, 'created': '2018-11-30 13:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/df2ff1bb5934bebc02cf62a419fcc89ab7d65b2a', 'message': 'add local tox targets for pep8 and py3\n\nThis patch adds local tox targets for pep8 and python 3 as per [1]\nthat will install dependencies in editable mode.\nTo run them use the pep8-dev and py3-dev targets respectively.\n\n[1] https://etherpad.openstack.org/p/neutron-sibling-setup\n\nChange-Id: Id6e30be7b063e3ae42590068d4a25b7c563d67a3\n'}, {'number': 7, 'created': '2018-12-03 20:31:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/06b8542f7c21a8cdb33ae4b8a49964ec33a7e67b', 'message': 'add local tox targets for pep8 and py3\n\nThis patch adds local tox targets for pep8 and python 3 as per [1]\nthat will install dependencies in editable mode.\nTo run them use the pep8-dev and py3-dev targets respectively.\n\n[1] https://etherpad.openstack.org/p/neutron-sibling-setup\n\nChange-Id: Id6e30be7b063e3ae42590068d4a25b7c563d67a3\n'}]",2,605461,06b8542f7c21a8cdb33ae4b8a49964ec33a7e67b,36,7,7,5367,,,0,"add local tox targets for pep8 and py3

This patch adds local tox targets for pep8 and python 3 as per [1]
that will install dependencies in editable mode.
To run them use the pep8-dev and py3-dev targets respectively.

[1] https://etherpad.openstack.org/p/neutron-sibling-setup

Change-Id: Id6e30be7b063e3ae42590068d4a25b7c563d67a3
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/61/605461/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d4087097f5ebfddd6e7a5c38e8baad9b553cdfab,use-lib-rpc," [testenv:dev] # run locally (not in the gate) using editable mode # https://pip.pypa.io/en/stable/reference/pip_install/#editable-installs commands = pip install -q -e ""git+https://git.openstack.org/openstack/neutron#egg=neutron"" [testenv:py3-dev] basepython = python3 commands = {[testenv:dev]commands} {[testenv]commands} [testenv:pep8-dev] basepython = python3 deps = {[testenv]deps} commands = {[testenv:dev]commands} {[testenv:pep8]commands}",,20,0
openstack%2Fpuppet-tripleo~stable%2Frocky~Ibacc703bbbc711b4bab837f9897826864bb84dc7,openstack/puppet-tripleo,stable/rocky,Ibacc703bbbc711b4bab837f9897826864bb84dc7,Increase websocket timeout,MERGED,2018-12-06 22:14:21.000000000,2018-12-08 00:09:48.000000000,2018-12-08 00:09:48.000000000,"[{'_account_id': 3153}, {'_account_id': 7385}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-06 22:14:21.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ee80be0cef5a85a6401feba6522ccebcf443701b', 'message': 'Increase websocket timeout\n\nWe can get into situation where the timeout is reached after 1h whereas\nwe still wait for messages.\n\nChange-Id: Ibacc703bbbc711b4bab837f9897826864bb84dc7\nRelated-Bug: #1805649\n(cherry picked from commit abf98e1a9928660de8f6f49f50ae11c4b1d433e7)\n'}]",1,623339,ee80be0cef5a85a6401feba6522ccebcf443701b,13,6,1,3153,,,0,"Increase websocket timeout

We can get into situation where the timeout is reached after 1h whereas
we still wait for messages.

Change-Id: Ibacc703bbbc711b4bab837f9897826864bb84dc7
Related-Bug: #1805649
(cherry picked from commit abf98e1a9928660de8f6f49f50ae11c4b1d433e7)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/39/623339/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,ee80be0cef5a85a6401feba6522ccebcf443701b,bug/1805649-stable/rocky," 'timeout' => ['connect 5s', 'client 25s', 'server 25s', 'tunnel 14400s'],"," 'timeout' => ['connect 5s', 'client 25s', 'server 25s', 'tunnel 3600s'],",1,1
openstack%2Foslo.rootwrap~master~I2391315f77718a3c9eb9fc8c03a6882237f33548,openstack/oslo.rootwrap,master,I2391315f77718a3c9eb9fc8c03a6882237f33548,Fix portability issue,MERGED,2018-11-22 11:22:53.000000000,2018-12-08 00:06:37.000000000,2018-12-08 00:06:37.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 11:22:53.000000000', 'files': ['oslo_rootwrap/cmd.py'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/8f148f5e9e786d8a3922b0d5ae29bc54b8e8e1e9', 'message': 'Fix portability issue\n\nThe use of the ""resource"" module now prevents oslo.rootwrap from\nbeing imported on Windows.\n\nAlthough oslo.rootwrap is not effectively used on Windows, it\'s\nimportant for it to at least be importable, since it\'s widely\nused throughout OpenStack projects without having platform checks\nin place.\n\nThis change checks if the ""resource"" module is avaialble before\nattempting to use it.\n\nChange-Id: I2391315f77718a3c9eb9fc8c03a6882237f33548\nCloses-Bug: #1804639\n'}]",0,619523,8f148f5e9e786d8a3922b0d5ae29bc54b8e8e1e9,9,4,1,8543,,,0,"Fix portability issue

The use of the ""resource"" module now prevents oslo.rootwrap from
being imported on Windows.

Although oslo.rootwrap is not effectively used on Windows, it's
important for it to at least be importable, since it's widely
used throughout OpenStack projects without having platform checks
in place.

This change checks if the ""resource"" module is avaialble before
attempting to use it.

Change-Id: I2391315f77718a3c9eb9fc8c03a6882237f33548
Closes-Bug: #1804639
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/23/619523/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_rootwrap/cmd.py'],1,8f148f5e9e786d8a3922b0d5ae29bc54b8e8e1e9,bug/1804639,"try: # This isn't available on all platforms (e.g. Windows). import resource except ImportError: resource = None if resource: # When use close_fds=True on Python 2.x, we spend significant time # in closing fds up to current soft ulimit, which could be large. # Lower our ulimit to a reasonable value to regain performance. fd_limits = resource.getrlimit(resource.RLIMIT_NOFILE) sensible_fd_limit = min(config.rlimit_nofile, fd_limits[0]) if (fd_limits[0] > sensible_fd_limit): # Unfortunately this inherits to our children, so allow them to # re-raise by passing through the hard limit unmodified resource.setrlimit( resource.RLIMIT_NOFILE, (sensible_fd_limit, fd_limits[1])) # This is set on import to the hard ulimit. if its defined we # already have imported it, so we need to update it to the new # limit. if (hasattr(subprocess, 'MAXFD') and subprocess.MAXFD > sensible_fd_limit): subprocess.MAXFD = sensible_fd_limit","import resource # When use close_fds=True on Python 2.x, we spend significant time # in closing fds up to current soft ulimit, which could be large. # Lower our ulimit to a reasonable value to regain performance. fd_limits = resource.getrlimit(resource.RLIMIT_NOFILE) sensible_fd_limit = min(config.rlimit_nofile, fd_limits[0]) if (fd_limits[0] > sensible_fd_limit): # Unfortunately this inherits to our children, so allow them to # re-raise by passing through the hard limit unmodified resource.setrlimit( resource.RLIMIT_NOFILE, (sensible_fd_limit, fd_limits[1])) # This is set on import to the hard ulimit. if its defined we # already have imported it, so we need to update it to the new limit if (hasattr(subprocess, 'MAXFD') and subprocess.MAXFD > sensible_fd_limit): subprocess.MAXFD = sensible_fd_limit",23,16
openstack%2Fpuppet-tripleo~stable%2Fqueens~I28e6b065f61720fb9157a11073dbc4235b43aa0f,openstack/puppet-tripleo,stable/queens,I28e6b065f61720fb9157a11073dbc4235b43aa0f,Switch scenarios to non-voting,MERGED,2018-11-29 18:12:04.000000000,2018-12-07 23:52:56.000000000,2018-12-07 23:52:56.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-11-29 18:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3841a130a19867cf5fa898dcacaae69b1d0a668a', 'message': 'Switch scenarios to non-voting\n\nAs we continue to have issues with these jobs due to timeouts and other\nfailures. We need to switch the scenario jobs to non-voting and remove\nthem from the gate.\n\nChange-Id: I28e6b065f61720fb9157a11073dbc4235b43aa0f\n'}, {'number': 2, 'created': '2018-11-30 19:01:36.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a9254495dedfe6c9eb40639aa7cb8e17985819b8', 'message': 'Switch scenarios to non-voting\n\nAs we continue to have issues with these jobs due to timeouts and other\nfailures. We need to switch the scenario jobs to non-voting and remove\nthem from the gate.\n\nDepends-On: https://review.openstack.org/#/c/621259/\nChange-Id: I28e6b065f61720fb9157a11073dbc4235b43aa0f\n'}]",0,620976,a9254495dedfe6c9eb40639aa7cb8e17985819b8,20,8,2,14985,,,0,"Switch scenarios to non-voting

As we continue to have issues with these jobs due to timeouts and other
failures. We need to switch the scenario jobs to non-voting and remove
them from the gate.

Depends-On: https://review.openstack.org/#/c/621259/
Change-Id: I28e6b065f61720fb9157a11073dbc4235b43aa0f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/620976/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,3841a130a19867cf5fa898dcacaae69b1d0a668a,scenarios-nv,, voting: true voting: true voting: true voting: true voting: true - tripleo-ci-centos-7-scenario001-multinode-oooq-container: voting: true files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/ceph.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: voting: true files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/barbican.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/nova/ec2.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - ^manifests/profile/(base|pacemaker)/swift.*$ - ^manifests/profile/(base|pacemaker)/zaqar.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: voting: true files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/mistral.*$ - ^manifests/profile/(base|pacemaker)/sahara.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: voting: true files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/ceph.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/manila.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: voting: true files: - ^manifests/profile/pacemaker/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/plugins/ml2/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/agents/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/ovn.*$ - ^manifests/profile/(base|pacemaker)/congress.*$ - ^manifests/profile/(base|pacemaker)/tacker.*$,0,56
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9c7151b0085cd2d341e17f78dc75d1781cb7ae9d,openstack/tripleo-heat-templates,stable/rocky,I9c7151b0085cd2d341e17f78dc75d1781cb7ae9d,Standalone: Disable persisting VIPs on /etc/hosts,MERGED,2018-11-28 16:22:09.000000000,2018-12-07 23:52:54.000000000,2018-12-07 23:52:53.000000000,"[{'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-28 16:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e072ad4bab0ed339d67495a7de6465bd35eec0b5', 'message': 'Standalone: Disable persisting VIPs on /etc/hosts\n\nThis adds the needed parameter to the standalone environment file.\n\nChange-Id: I9c7151b0085cd2d341e17f78dc75d1781cb7ae9d\nRelated-Bug: #1799724\n(cherry picked from commit dfa015d273415042eae9de85fb85ad1b444ad09c)\n'}, {'number': 2, 'created': '2018-12-06 21:22:24.000000000', 'files': ['sample-env-generator/standalone.yaml', 'environments/standalone/standalone-tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af415ba4d9c6aea5fc558fd822fdd8c54fd15223', 'message': 'Standalone: Disable persisting VIPs on /etc/hosts\n\nThis adds the needed parameter to the standalone environment file.\n\nChange-Id: I9c7151b0085cd2d341e17f78dc75d1781cb7ae9d\nRelated-Bug: #1799724\n(cherry picked from commit dfa015d273415042eae9de85fb85ad1b444ad09c)\n'}]",0,620648,af415ba4d9c6aea5fc558fd822fdd8c54fd15223,9,3,2,14985,,,0,"Standalone: Disable persisting VIPs on /etc/hosts

This adds the needed parameter to the standalone environment file.

Change-Id: I9c7151b0085cd2d341e17f78dc75d1781cb7ae9d
Related-Bug: #1799724
(cherry picked from commit dfa015d273415042eae9de85fb85ad1b444ad09c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/620648/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/standalone/standalone-tripleo.yaml']",2,e072ad4bab0ed339d67495a7de6465bd35eec0b5,bug/1799724-stable/rocky, # Set to true to append per network Vips to /etc/hosts on each node. # Type: string AddVipsToEtcHosts: False ,,12,1
openstack%2Ftripleo-heat-templates~master~Ibb140a38b69a8780adf69362e0f437b3426f360d,openstack/tripleo-heat-templates,master,Ibb140a38b69a8780adf69362e0f437b3426f360d,Update yaml-validate for deployment/ folders,MERGED,2018-12-04 20:35:02.000000000,2018-12-07 23:52:49.000000000,2018-12-07 23:52:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-04 20:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b1ba283be736cf29f0c5eb3736904fbec0274bd', 'message': ""Update yaml-validate for deployment/ folders\n\nSince we're looking at flattening the services into a deployment/\nfolder, we need to update the validation script to also handle this\ndirectory structure. Additionally this change updates the service name\nvalidation to ensure that the service name in matches the start of the\nfilename itself.\n\nChange-Id: Ibb140a38b69a8780adf69362e0f437b3426f360d\nRelated-Blueprint: service-yaml-flattening\n""}, {'number': 2, 'created': '2018-12-06 15:06:15.000000000', 'files': ['tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/623924972f61a25e85a4f2372edc828d3fa834f5', 'message': ""Update yaml-validate for deployment/ folders\n\nSince we're looking at flattening the services into a deployment/\nfolder, we need to update the validation script to also handle this\ndirectory structure. Additionally this change updates the service name\nvalidation to ensure that the service name in matches the start of the\nfilename itself.\n\nChange-Id: Ibb140a38b69a8780adf69362e0f437b3426f360d\nRelated-Blueprint: service-yaml-flattening\n""}]",3,622585,623924972f61a25e85a4f2372edc828d3fa834f5,13,5,2,14985,,,0,"Update yaml-validate for deployment/ folders

Since we're looking at flattening the services into a deployment/
folder, we need to update the validation script to also handle this
directory structure. Additionally this change updates the service name
validation to ensure that the service name in matches the start of the
filename itself.

Change-Id: Ibb140a38b69a8780adf69362e0f437b3426f360d
Related-Blueprint: service-yaml-flattening
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/622585/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/yaml-validate.py'],1,3b1ba283be736cf29f0c5eb3736904fbec0274bd,bp/service-yaml-flattening," service_name = \ os.path.basename(filename).split('.')[0].replace(""-"", ""_"") if not role_data['service_name'].startswith(service_name): if re.search(r'(puppet|docker)\/services', filename) or \ re.search(r'deployment\/', filename):"," if (role_data['service_name'] != os.path.basename(filename).split('.')[0].replace(""-"", ""_"")): if re.search(r'(puppet|docker)\/services', filename):",5,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Id15e7dea5a27043d9141662c4db48eff3e75fadf,openstack/tripleo-heat-templates,stable/queens,Id15e7dea5a27043d9141662c4db48eff3e75fadf,Remove unnecessary logs due to misconfiguration from pacemaker,MERGED,2018-10-24 14:34:19.000000000,2018-12-07 23:52:48.000000000,2018-12-07 23:52:48.000000000,"[{'_account_id': 11444}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-24 14:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a89f272054ddfbf7bbcf569d539c88f8f167ebf2', 'message': 'Remove unnecessary logs due to misconfiguration from pacemake\n\nThis happens because pacemaker bind mounts the\n/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container\nand so it will be missing there.\n\nChange-Id: Id15e7dea5a27043d9141662c4db48eff3e75fadf\nCloses-Bug: 1799716\n'}, {'number': 2, 'created': '2018-11-30 13:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a20ab74811af73f7d73acb0471d1015d356db468', 'message': 'Remove unnecessary logs due to misconfiguration from pacemaker\n\nThis happens because pacemaker bind mounts the\n/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container\nand so it will be missing there.\n\nTested this on a queens deployment with this change and correctly\nobserved that no lines like the following appear in the logs:\n\n  su:pam_lastlog(su:session): unable to open /var/log/btmp: No such file or directory\n\nChange-Id: Id15e7dea5a27043d9141662c4db48eff3e75fadf\nCloses-Bug: 1799716\n(cherry picked from commit c8bf82501bec0e9e11b07cf01e23b5c41f5418a5)\n'}, {'number': 3, 'created': '2018-12-03 11:05:55.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/655fc21ea3433fe5c1994b56d2ab8a21443ee1f9', 'message': 'Remove unnecessary logs due to misconfiguration from pacemaker\n\nThis happens because pacemaker bind mounts the\n/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container\nand so it will be missing there.\n\nTested this on a queens deployment with this change and correctly\nobserved that no lines like the following appear in the logs:\n\n  su:pam_lastlog(su:session): unable to open /var/log/btmp: No such file or directory\n\nChange-Id: Id15e7dea5a27043d9141662c4db48eff3e75fadf\nCloses-Bug: 1799716\n(cherry picked from commit c8bf82501bec0e9e11b07cf01e23b5c41f5418a5)\n'}]",0,613054,655fc21ea3433fe5c1994b56d2ab8a21443ee1f9,28,7,3,28522,,,0,"Remove unnecessary logs due to misconfiguration from pacemaker

This happens because pacemaker bind mounts the
/var/log/pacemaker/bundles/<bundle> to /var/log/ in the container
and so it will be missing there.

Tested this on a queens deployment with this change and correctly
observed that no lines like the following appear in the logs:

  su:pam_lastlog(su:session): unable to open /var/log/btmp: No such file or directory

Change-Id: Id15e7dea5a27043d9141662c4db48eff3e75fadf
Closes-Bug: 1799716
(cherry picked from commit c8bf82501bec0e9e11b07cf01e23b5c41f5418a5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/613054/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/rabbitmq.yaml'],1,a89f272054ddfbf7bbcf569d539c88f8f167ebf2,bug/1799716, - dest: /var/log/btmp source: /dev/null owner: root group: utmp perm: '0600',,5,0
openstack%2Ftripleo-common~stable%2Frocky~Ia4aeac06d4c0e237180e4ba60063828b0d1c5350,openstack/tripleo-common,stable/rocky,Ia4aeac06d4c0e237180e4ba60063828b0d1c5350,Increase ansible gather_timeout to 30secs for config-download,MERGED,2018-12-04 17:42:41.000000000,2018-12-07 23:52:46.000000000,2018-12-07 23:52:45.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-04 17:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/51f55a6232dfb11de5e37028a822e88e786ef197', 'message': 'Increase ansible gather_timeout to 30secs for config-download\n\nWith ansible 2.6.2 the facts gathering run time seems to be much\nlonger [1], causing unpredictable failures like [2]\n\n1. https://github.com/ansible/ansible/issues/43884\n2. https://logs.rdoproject.org/60/14960/17/check/legacy-rdoinfo-tripleo-master-testing-centos-7-multinode-1ctlr-featureset016/b93ed7f/logs/undercloud/home/zuul/overcloud_deploy.log.txt.gz#_2018-11-08_18_43_14\n\nChange-Id: Ia4aeac06d4c0e237180e4ba60063828b0d1c5350\nCloses-Bug: 1806073\n(cherry picked from commit 25183dd0b155fb7c5b3b3c7837fcfdb5df1e6691)\n'}, {'number': 2, 'created': '2018-12-05 21:13:40.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9801115090db18ca1cf7b3f8be61fe04274ac174', 'message': 'Increase ansible gather_timeout to 30secs for config-download\n\nWith ansible 2.6.2 the facts gathering run time seems to be much\nlonger [1], causing unpredictable failures like [2]\n\n1. https://github.com/ansible/ansible/issues/43884\n2. https://logs.rdoproject.org/60/14960/17/check/legacy-rdoinfo-tripleo-master-testing-centos-7-multinode-1ctlr-featureset016/b93ed7f/logs/undercloud/home/zuul/overcloud_deploy.log.txt.gz#_2018-11-08_18_43_14\n\nChange-Id: Ia4aeac06d4c0e237180e4ba60063828b0d1c5350\nCloses-Bug: 1806073\n(cherry picked from commit 25183dd0b155fb7c5b3b3c7837fcfdb5df1e6691)\n'}]",0,622477,9801115090db18ca1cf7b3f8be61fe04274ac174,16,5,2,6796,,,0,"Increase ansible gather_timeout to 30secs for config-download

With ansible 2.6.2 the facts gathering run time seems to be much
longer [1], causing unpredictable failures like [2]

1. https://github.com/ansible/ansible/issues/43884
2. https://logs.rdoproject.org/60/14960/17/check/legacy-rdoinfo-tripleo-master-testing-centos-7-multinode-1ctlr-featureset016/b93ed7f/logs/undercloud/home/zuul/overcloud_deploy.log.txt.gz#_2018-11-08_18_43_14

Change-Id: Ia4aeac06d4c0e237180e4ba60063828b0d1c5350
Closes-Bug: 1806073
(cherry picked from commit 25183dd0b155fb7c5b3b3c7837fcfdb5df1e6691)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/622477/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,51f55a6232dfb11de5e37028a822e88e786ef197,bug/1806073-stable/rocky," config.set('defaults', 'gather_timeout', '30')",,1,0
openstack%2Fos-net-config~stable%2Focata~I246da54cf02d06466f52d210f89d82ca9e2a6ef2,openstack/os-net-config,stable/ocata,I246da54cf02d06466f52d210f89d82ca9e2a6ef2,Fix - restart VLAN interface on underlying device change,MERGED,2018-12-04 05:01:24.000000000,2018-12-07 23:52:46.000000000,2018-12-07 23:52:46.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-12-04 05:01:24.000000000', 'files': ['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0743c2c8036c441f4dbfb95750984831de1ec139', 'message': ""Fix - restart VLAN interface on underlying device change\n\nWhen a change is needed on bond, os-net-config write the\nconfiguration and restart nic and bond. But it does not\nrestart vlan on top of the bond. The results is that  all\nroutes for vlan interfaces are lost.\n\nThis moves the processing of VLAN's so that it run's\nafter any interfaces, bridges, bonds etc. Then\nconcatenates the restart lists from other interfaces and\ndo a check if 'PHYSDEV' of a VLAN interface is being\nrestarted.\n\nCloses-Bug: #1806027\nRelated: RHBZ#1654987\nChange-Id: I246da54cf02d06466f52d210f89d82ca9e2a6ef2\n(cherry picked from commit 19067b4e77ec618ffef67acc771869ecbc33ad34)\n""}]",0,621990,0743c2c8036c441f4dbfb95750984831de1ec139,14,6,1,24245,,,0,"Fix - restart VLAN interface on underlying device change

When a change is needed on bond, os-net-config write the
configuration and restart nic and bond. But it does not
restart vlan on top of the bond. The results is that  all
routes for vlan interfaces are lost.

This moves the processing of VLAN's so that it run's
after any interfaces, bridges, bonds etc. Then
concatenates the restart lists from other interfaces and
do a check if 'PHYSDEV' of a VLAN interface is being
restarted.

Closes-Bug: #1806027
Related: RHBZ#1654987
Change-Id: I246da54cf02d06466f52d210f89d82ca9e2a6ef2
(cherry picked from commit 19067b4e77ec618ffef67acc771869ecbc33ad34)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/90/621990/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,0743c2c8036c441f4dbfb95750984831de1ec139,bug/1806027,"import itertools def parse_ifcfg(self, ifcfg_data): """"""Break out the key/value pairs from ifcfg_data Return the keys and values without quotes. """""" ifcfg_values = {} for line in ifcfg_data.split(""\n""): if not line.startswith(""#"") and line.find(""="") > 0: k, v = line.split(""="", 1) ifcfg_values[k] = v.strip(""\""'"") return ifcfg_values # NOTE(hjensas): Process the VLAN's last so that we know if the vlan's # parent interface is being restarted. for vlan_name, vlan_data in self.vlan_data.items(): route_data = self.route_data.get(vlan_name, '') route6_data = self.route6_data.get(vlan_name, '') vlan_path = self.root_dir + ifcfg_config_path(vlan_name) vlan_route_path = self.root_dir + route_config_path(vlan_name) vlan_route6_path = self.root_dir + route6_config_path(vlan_name) all_file_names.append(vlan_path) all_file_names.append(vlan_route_path) all_file_names.append(vlan_route6_path) restarts_concatenated = itertools.chain(restart_interfaces, restart_bridges, restart_linux_bonds, restart_linux_teams) if (self.parse_ifcfg(vlan_data).get('PHYSDEV') in restarts_concatenated): if vlan_name not in restart_vlans: restart_vlans.append(vlan_name) update_files[vlan_path] = vlan_data update_files[vlan_path] = vlan_data update_files[vlan_route_path] = route_data update_files[vlan_route6_path] = route6_data elif (utils.diff(vlan_path, vlan_data) or utils.diff(vlan_route_path, route_data)): restart_vlans.append(vlan_name) restart_vlans.extend(self.child_members(vlan_name)) update_files[vlan_path] = vlan_data update_files[vlan_route_path] = route_data update_files[vlan_route6_path] = route6_data else: logger.info('No changes required for vlan interface: %s' % vlan_name) "," for vlan_name, vlan_data in self.vlan_data.items(): route_data = self.route_data.get(vlan_name, '') route6_data = self.route6_data.get(vlan_name, '') vlan_path = self.root_dir + ifcfg_config_path(vlan_name) vlan_route_path = self.root_dir + route_config_path(vlan_name) vlan_route6_path = self.root_dir + route6_config_path(vlan_name) all_file_names.append(vlan_path) all_file_names.append(vlan_route_path) all_file_names.append(vlan_route6_path) if (utils.diff(vlan_path, vlan_data) or utils.diff(vlan_route_path, route_data)): restart_vlans.append(vlan_name) restart_vlans.extend(self.child_members(vlan_name)) update_files[vlan_path] = vlan_data update_files[vlan_route_path] = route_data update_files[vlan_route6_path] = route6_data else: logger.info('No changes required for vlan interface: %s' % vlan_name) ",73,20
openstack%2Ftripleo-heat-templates~stable%2Frocky~I04f42ce0cd117f7dcc7a817274ea7664d9995864,openstack/tripleo-heat-templates,stable/rocky,I04f42ce0cd117f7dcc7a817274ea7664d9995864,Added Dell EMC SC multipath support,MERGED,2018-11-27 16:29:35.000000000,2018-12-07 23:52:44.000000000,2018-12-07 23:52:44.000000000,"[{'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 16:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/769c68a22a957129f4a637606941ab537d5155b0', 'message': 'Added Dell EMC SC multipath support\n\nAdded a new parameter CinderDellScMultipathXfer to\nsupport cinder::backend::dellsc_iscsi::use_multipath_for_image_xfer\nto the Dell EMC SC Cinder iSCSI volume driver template.\n\nDepends-On: https://review.openstack.org/#/c/611126/\nChange-Id: I04f42ce0cd117f7dcc7a817274ea7664d9995864\n(cherry picked from commit 72eea3c6ea5969a834544cf38cd0a63f4c61d85d)\n'}, {'number': 2, 'created': '2018-11-27 16:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2469a3e01fb1c0b3150019509b0bc657c0b965a6', 'message': 'Added Dell EMC SC multipath support\n\nAdded a new parameter CinderDellScMultipathXfer to\nsupport cinder::backend::dellsc_iscsi::use_multipath_for_image_xfer\nto the Dell EMC SC Cinder iSCSI volume driver template.\n\nDepends-On: https://review.openstack.org/#/c/616685/\nChange-Id: I04f42ce0cd117f7dcc7a817274ea7664d9995864\n(cherry picked from commit 72eea3c6ea5969a834544cf38cd0a63f4c61d85d)\n'}, {'number': 3, 'created': '2018-11-29 17:12:54.000000000', 'files': ['environments/cinder-dellsc-config.yaml', 'puppet/services/cinder-backend-dellsc.yaml', 'releasenotes/notes/dellsc-driver-d7cd300a24a64b01.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/038b1eaaebbdf5963250a18f3b174f965359cec0', 'message': 'Added Dell EMC SC multipath support\n\nAdded a new parameter CinderDellScMultipathXfer to\nsupport cinder::backend::dellsc_iscsi::use_multipath_for_image_xfer\nto the Dell EMC SC Cinder iSCSI volume driver template.\n\nDepends-On: https://review.openstack.org/#/c/616685/\nChange-Id: I04f42ce0cd117f7dcc7a817274ea7664d9995864\n(cherry picked from commit 72eea3c6ea5969a834544cf38cd0a63f4c61d85d)\n'}]",2,620355,038b1eaaebbdf5963250a18f3b174f965359cec0,14,4,3,10379,,,0,"Added Dell EMC SC multipath support

Added a new parameter CinderDellScMultipathXfer to
support cinder::backend::dellsc_iscsi::use_multipath_for_image_xfer
to the Dell EMC SC Cinder iSCSI volume driver template.

Depends-On: https://review.openstack.org/#/c/616685/
Change-Id: I04f42ce0cd117f7dcc7a817274ea7664d9995864
(cherry picked from commit 72eea3c6ea5969a834544cf38cd0a63f4c61d85d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/620355/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/cinder-dellsc-config.yaml', 'puppet/services/cinder-backend-dellsc.yaml', 'releasenotes/notes/dellsc-driver-d7cd300a24a64b01.yaml']",3,769c68a22a957129f4a637606941ab537d5155b0,,--- features: - Added Dell EMC SC multipath support This change adds support for cinder::backend::dellsc_iscsi::use_multipath_for_image_xfer Added a new parameter CinderDellScMultipathXfer. ,,11,0
openstack%2Fpuppet-tripleo~stable%2Fqueens~I69360b1ee167f8417876c9f6513981ef73e949ae,openstack/puppet-tripleo,stable/queens,I69360b1ee167f8417876c9f6513981ef73e949ae,Dell EMC SC: Add use_multipath_for_image_xfer,MERGED,2018-11-08 20:22:37.000000000,2018-12-07 23:52:43.000000000,2018-12-07 23:52:43.000000000,"[{'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-08 20:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f1f9eae07002de51bc534743f306b05a646d6fc3', 'message': 'Dell EMC SC: Add use_multipath_for_image_xfer\n\nThis change adds support for\ncinder::backend::dellsc_iscsi::use_multipath_for_image_xfer.\n\nChange-Id: I69360b1ee167f8417876c9f6513981ef73e949ae\n(cherry picked from commit 4342ac59b7067e411552e96081c1678162d33c84)\n'}, {'number': 2, 'created': '2018-11-28 20:19:13.000000000', 'files': ['releasenotes/notes/dellsc-driver-b7cd300a24a64b01.yaml', 'manifests/profile/base/cinder/volume/dellsc.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c86e514c13990265cf166198fa1896c7890a87e9', 'message': 'Dell EMC SC: Add use_multipath_for_image_xfer\n\nThis change adds support for\ncinder::backend::dellsc_iscsi::use_multipath_for_image_xfer.\n\nDepends-On: https://review.openstack.org/#/c/614619/\nChange-Id: I69360b1ee167f8417876c9f6513981ef73e949ae\n(cherry picked from commit 4342ac59b7067e411552e96081c1678162d33c84)\n'}]",0,616687,c86e514c13990265cf166198fa1896c7890a87e9,16,4,2,10379,,,0,"Dell EMC SC: Add use_multipath_for_image_xfer

This change adds support for
cinder::backend::dellsc_iscsi::use_multipath_for_image_xfer.

Depends-On: https://review.openstack.org/#/c/614619/
Change-Id: I69360b1ee167f8417876c9f6513981ef73e949ae
(cherry picked from commit 4342ac59b7067e411552e96081c1678162d33c84)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/87/616687/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/dellsc-driver-b7cd300a24a64b01.yaml', 'manifests/profile/base/cinder/volume/dellsc.pp']",2,f1f9eae07002de51bc534743f306b05a646d6fc3,," use_multipath_for_image_xfer => hiera('cinder::backend::dellsc_iscsi::use_multipath_for_image_xfer', undef),",,6,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I878abbeb9c0c2dc146692403b32002a4798f25f0,openstack/tripleo-heat-templates,stable/rocky,I878abbeb9c0c2dc146692403b32002a4798f25f0,Fix Swift S3 API configuration,MERGED,2018-12-04 12:35:58.000000000,2018-12-07 23:52:42.000000000,2018-12-07 23:52:42.000000000,"[{'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-04 12:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/476484495c9a6c0d5608afd05c4485eb9fe6a74e', 'message': 'Fix Swift S3 API configuration\n\nThe endpoint must use the v3 suffix, otherwise authentication fails.\n\nCloses-Bug: 1805660\nChange-Id: I878abbeb9c0c2dc146692403b32002a4798f25f0\n'}, {'number': 2, 'created': '2018-12-05 09:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40aecc5e779cd903c6eff6dd02d1d342e558a302', 'message': 'Fix Swift S3 API configuration\n\nThe endpoint must use the v3 suffix, otherwise authentication fails.\n\nCloses-Bug: 1805660\nChange-Id: I878abbeb9c0c2dc146692403b32002a4798f25f0\n'}, {'number': 3, 'created': '2018-12-06 15:37:20.000000000', 'files': ['puppet/services/swift-proxy.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf4d94a28303098409626f2bdb08ce0cf98c2d5b', 'message': 'Fix Swift S3 API configuration\n\nThe endpoint must use the v3 suffix, otherwise authentication fails.\n\nCloses-Bug: 1805660\nChange-Id: I878abbeb9c0c2dc146692403b32002a4798f25f0\n(cherry picked from commit 8980b5756d8ac9522de2bc689a0cba7a6631ff29)\n'}]",0,622296,bf4d94a28303098409626f2bdb08ce0cf98c2d5b,14,3,3,6968,,,0,"Fix Swift S3 API configuration

The endpoint must use the v3 suffix, otherwise authentication fails.

Closes-Bug: 1805660
Change-Id: I878abbeb9c0c2dc146692403b32002a4798f25f0
(cherry picked from commit 8980b5756d8ac9522de2bc689a0cba7a6631ff29)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/622296/3 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/swift-proxy.yaml'],1,476484495c9a6c0d5608afd05c4485eb9fe6a74e,bug/1805660-stable/rocky," swift::proxy::s3token::auth_uri: {get_param: [EndpointMap, KeystoneV3Internal, uri]}"," swift::proxy::s3token::auth_uri: {get_param: [EndpointMap, KeystoneInternal, uri]}",1,1
openstack%2Fopenstack-ansible-os_neutron~master~I90bbbc14ead40982e36411e7e49d8aa3288aad5b,openstack/openstack-ansible-os_neutron,master,I90bbbc14ead40982e36411e7e49d8aa3288aad5b,Fix ansible deprecation warnings,MERGED,2018-12-03 17:36:45.000000000,2018-12-07 23:36:53.000000000,2018-12-07 23:36:53.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-12-03 17:36:45.000000000', 'files': ['tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b306eb1d620addb4da71f97eb38822281a99b5a1', 'message': 'Fix ansible deprecation warnings\n\n===\n[DEPRECATION WARNING]: Using tests as filters is deprecated.\nInstead of using `result|search` use `result is search`. This\nfeature will be removed in version 2.9.\n===\n\nChange-Id: I90bbbc14ead40982e36411e7e49d8aa3288aad5b\n'}]",0,621659,b306eb1d620addb4da71f97eb38822281a99b5a1,20,4,1,25023,,,0,"Fix ansible deprecation warnings

===
[DEPRECATION WARNING]: Using tests as filters is deprecated.
Instead of using `result|search` use `result is search`. This
feature will be removed in version 2.9.
===

Change-Id: I90bbbc14ead40982e36411e7e49d8aa3288aad5b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/59/621659/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/neutron_install.yml'],1,b306eb1d620addb4da71f97eb38822281a99b5a1,deprecate-filters-as-tests, when: (install_packages is changed) or, when: (install_packages | changed) or,1,1
openstack%2Fopenstack-ansible~stable%2Frocky~I4a613bbb7b1790a9f289caa53f37917a4f618d04,openstack/openstack-ansible,stable/rocky,I4a613bbb7b1790a9f289caa53f37917a4f618d04,Docs: Fix VLAN bridge interface in example setup,MERGED,2018-11-06 09:20:24.000000000,2018-12-07 23:29:45.000000000,2018-12-07 23:29:45.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27143}]","[{'number': 1, 'created': '2018-11-06 09:20:24.000000000', 'files': ['etc/network/interfaces.d/openstack_interface.cfg.test.example'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/72358b32c56389668e7dbc68fba9397daa7ae3b3', 'message': 'Docs: Fix VLAN bridge interface in example setup\n\nThe bridge_ports value defined on the example test setup file should\nmatch the given physical interface and the VXLAN VLAN interface.\n\nCloses-Bug: 1798079\n\nChange-Id: I4a613bbb7b1790a9f289caa53f37917a4f618d04\n(cherry picked from commit a6d8c79be40c70137bcd03ca6cb8924c2c48dfe7)\n'}]",0,615795,72358b32c56389668e7dbc68fba9397daa7ae3b3,7,4,1,6816,,,0,"Docs: Fix VLAN bridge interface in example setup

The bridge_ports value defined on the example test setup file should
match the given physical interface and the VXLAN VLAN interface.

Closes-Bug: 1798079

Change-Id: I4a613bbb7b1790a9f289caa53f37917a4f618d04
(cherry picked from commit a6d8c79be40c70137bcd03ca6cb8924c2c48dfe7)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/615795/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/network/interfaces.d/openstack_interface.cfg.test.example'],1,72358b32c56389668e7dbc68fba9397daa7ae3b3,bug/1798079-stable/rocky, bridge_ports eth0.30, bridge_ports bond1.30,1,1
openstack%2Fkuryr-kubernetes~stable%2Frocky~Ic0dac5075418ec71e3beca48fdd811c5df1ff467,openstack/kuryr-kubernetes,stable/rocky,Ic0dac5075418ec71e3beca48fdd811c5df1ff467,Ensure floatingip information is retrieved,MERGED,2018-12-07 13:00:14.000000000,2018-12-07 23:24:39.000000000,2018-12-07 23:24:39.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-12-07 13:00:14.000000000', 'files': ['kuryr_kubernetes/controller/drivers/public_ip.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_public_ip.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7c159fa87aa4793884d9ff6ecb5a094fede3ffa5', 'message': ""Ensure floatingip information is retrieved\n\nshow_floatingip returns {'floatingip': FLOATINGIP_DICT}, so we\nneed to ensure we are accessing the FLOATINGIP_DICT information\n\nCloses-Bug: 1803314\nChange-Id: Ic0dac5075418ec71e3beca48fdd811c5df1ff467\n(cherry picked from commit 88e584e04efdf7dd92fd381eeb7ccfcea2fc401e)\n""}]",0,623476,7c159fa87aa4793884d9ff6ecb5a094fede3ffa5,10,6,1,23567,,,0,"Ensure floatingip information is retrieved

show_floatingip returns {'floatingip': FLOATINGIP_DICT}, so we
need to ensure we are accessing the FLOATINGIP_DICT information

Closes-Bug: 1803314
Change-Id: Ic0dac5075418ec71e3beca48fdd811c5df1ff467
(cherry picked from commit 88e584e04efdf7dd92fd381eeb7ccfcea2fc401e)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/76/623476/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/public_ip.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_public_ip.py']",2,7c159fa87aa4793884d9ff6ecb5a094fede3ffa5,bug/1798549-stable/rocky," neutron.show_floatingip.return_value = { 'floatingip': { 'id': res_id, 'port_id': vip_port_id}} neutron.show_floatingip.return_value = { 'floatingip': { 'id': res_id, 'port_id': 'foo'}}"," neutron.get_floatingip.return_value = {'id': res_id, 'port_id': vip_port_id} neutron.get_floatingip.return_value = {'id': res_id, 'port_id': 'foo'}",15,8
openstack%2Fopenstack-ansible~master~Ic8d6e5c65e9a1752919edc8035ddae0833a72dd9,openstack/openstack-ansible,master,Ic8d6e5c65e9a1752919edc8035ddae0833a72dd9,Remove xenial from Vagrantfile,MERGED,2018-12-04 10:09:38.000000000,2018-12-07 23:23:49.000000000,2018-12-07 23:23:49.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-12-04 10:09:38.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/879d58f861c37ceacf661333d6d858aab40cbfdd', 'message': 'Remove xenial from Vagrantfile\n\nAs xenial is not planned to be supported for the\nStein release, we remove it from the Vagrantfile.\n\nChange-Id: Ic8d6e5c65e9a1752919edc8035ddae0833a72dd9\n'}]",0,622176,879d58f861c37ceacf661333d6d858aab40cbfdd,7,3,1,6816,,,0,"Remove xenial from Vagrantfile

As xenial is not planned to be supported for the
Stein release, we remove it from the Vagrantfile.

Change-Id: Ic8d6e5c65e9a1752919edc8035ddae0833a72dd9
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/622176/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,879d58f861c37ceacf661333d6d858aab40cbfdd,619727,," config.vm.define ""ubuntu1604"" do |xenial| xenial.vm.box = ""ubuntu/xenial64"" xenial.disksize.size = disk_size config.vm.provision ""shell"", privileged: true, inline: <<-SHELL cd /vagrant ./scripts/gate-check-commit.sh SHELL end ",0,11
openstack%2Fkayobe~master~I5a0ba9e18bc5db54f899b545b88c319c7922bf9e,openstack/kayobe,master,I5a0ba9e18bc5db54f899b545b88c319c7922bf9e,Update grafana-conf role,MERGED,2018-12-04 17:53:26.000000000,2018-12-07 22:55:42.000000000,2018-12-07 22:55:42.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-12-04 17:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2b1dbac57b54af57790a8307c24f3a0a9c541fb4', 'message': 'Update grafana-conf role\n\nAnsible Galaxy switched to semantic versioning. In order to get it\nto import the latest release, a tag following this scheme was added\nafter a minor update to the grafana-conf role. This appears to have\nbroken the accessibility of the original version. This commit moves\nto the later release to work around the issue.\n\nChange-Id: I5a0ba9e18bc5db54f899b545b88c319c7922bf9e\n'}, {'number': 2, 'created': '2018-12-04 17:54:37.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d2213de1dd8bbd825b3512b58df905220b7f24ef', 'message': 'Update grafana-conf role\n\nAnsible Galaxy switched to semantic versioning. In order to get it\nto import the latest release, a tag following this scheme was added\nafter a minor update to the grafana-conf role. This appears to have\nbroken the accessibility of the original version. This commit moves\nto the later release to work around the issue.\n\nChange-Id: I5a0ba9e18bc5db54f899b545b88c319c7922bf9e\n'}]",0,622487,d2213de1dd8bbd825b3512b58df905220b7f24ef,16,5,2,17669,,,0,"Update grafana-conf role

Ansible Galaxy switched to semantic versioning. In order to get it
to import the latest release, a tag following this scheme was added
after a minor update to the grafana-conf role. This appears to have
broken the accessibility of the original version. This commit moves
to the later release to work around the issue.

Change-Id: I5a0ba9e18bc5db54f899b545b88c319c7922bf9e
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/87/622487/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,2b1dbac57b54af57790a8307c24f3a0a9c541fb4,, version: 1.0.1, version: 1.0,1,1
openstack%2Foctavia~master~If4116e2c9b13db64b07ffbc3fd6af13e2373b860,openstack/octavia,master,If4116e2c9b13db64b07ffbc3fd6af13e2373b860,Fix devstack plugin for /var/log/dib-build exists,MERGED,2018-11-13 21:09:09.000000000,2018-12-07 22:53:57.000000000,2018-12-07 22:53:57.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 21:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e1666ed6b1562c28885437db6f13f681cdcc851a', 'message': 'Fix devstack plugin for /var/log/dib-build exists\n\nThe recent change to log the DIB output assumes the /var/log/dib-build\ndirectory does not exist. This is not the case on dev systems.\nThis patch now handles the case where an old /var/log/dib-build exists.\n\nChange-Id: If4116e2c9b13db64b07ffbc3fd6af13e2373b860\n'}, {'number': 2, 'created': '2018-11-14 22:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/dd44c5e3fd18219355c206164c2e3771227c1604', 'message': 'Fix devstack plugin for /var/log/dib-build exists\n\nThe recent change to log the DIB output assumes the /var/log/dib-build\ndirectory does not exist. This is not the case on dev systems.\nThis patch now handles the case where an old /var/log/dib-build exists.\n\nChange-Id: If4116e2c9b13db64b07ffbc3fd6af13e2373b860\n'}, {'number': 3, 'created': '2018-11-15 00:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6fa2475fb0db48bb8ad8665f71230285712e8222', 'message': 'Fix devstack plugin for /var/log/dib-build exists\n\nThe recent change to log the DIB output assumes the /var/log/dib-build\ndirectory does not exist. This is not the case on dev systems.\nThis patch now handles the case where an old /var/log/dib-build exists.\n\nChange-Id: If4116e2c9b13db64b07ffbc3fd6af13e2373b860\n'}, {'number': 4, 'created': '2018-11-19 15:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/60887614d2d50c369a4c0e90adf08c3074b9f3c3', 'message': 'Fix devstack plugin for /var/log/dib-build exists\n\nThe recent change to log the DIB output assumes the /var/log/dib-build\ndirectory does not exist. This is not the case on dev systems.\nThis patch now handles the case where an old /var/log/dib-build exists.\n\nChange-Id: If4116e2c9b13db64b07ffbc3fd6af13e2373b860\n'}, {'number': 5, 'created': '2018-11-21 20:17:05.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c62031f90900b8334d48c702598c44396c7f7221', 'message': 'Fix devstack plugin for /var/log/dib-build exists\n\nThe recent change to log the DIB output assumes the /var/log/dib-build\ndirectory does not exist. This is not the case on dev systems.\nThis patch now handles the case where an old /var/log/dib-build exists.\n\nChange-Id: If4116e2c9b13db64b07ffbc3fd6af13e2373b860\n'}]",4,617838,c62031f90900b8334d48c702598c44396c7f7221,33,5,5,11628,,,0,"Fix devstack plugin for /var/log/dib-build exists

The recent change to log the DIB output assumes the /var/log/dib-build
directory does not exist. This is not the case on dev systems.
This patch now handles the case where an old /var/log/dib-build exists.

Change-Id: If4116e2c9b13db64b07ffbc3fd6af13e2373b860
",git fetch https://review.opendev.org/openstack/octavia refs/changes/38/617838/5 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e1666ed6b1562c28885437db6f13f681cdcc851a,617838, if [[ -a ${dib_logs}]] ; then rm -rf ${dib_logs} fi sudo mkdir -m755 ${dib_logs}, sudo mkdir ${dib_logs},5,1
openstack%2Fnova~master~Ic2a611bdff45652cd51c2c95bd2c693fd0cb9b35,openstack/nova,master,Ic2a611bdff45652cd51c2c95bd2c693fd0cb9b35,Log consumers_to_check when calling delete_consumers_if_no_allocations,ABANDONED,2018-11-09 18:53:28.000000000,2018-12-07 22:33:47.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2018-11-09 18:53:28.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/830e4c61cd46eada44af3620be8cfe9a0b6cda7c', 'message': ""Log consumers_to_check when calling delete_consumers_if_no_allocations\n\nWe're seeing a race in the gate where a test shelve offloads\na server and then immediately unshelves it, and when the\nscheduler is trying to create allocations for the server during\nthe unshelve, it intermittently fails with a consumer generation\nconflict because it seems to see that the consumer (instance)\nalready has allocations on the server it was shelved offloaded\nfrom. This shouldn't happen since shelve offload will remove\nthe allocations for the server, but it does this *after* changing\nthe VM status to SHELVED_OFFLOADED, so it's possible we're hitting\na race where the allocations (or consumer) still exist in placement\nduring the unshelve call. Since the internal consumer record in\nplacement should be removed when the consumer no longer has\nany allocations, the new allocations during unshelve should recreate\na new consumer record with a new generation. This change adds logging\nof the consumers that should be removed when the allocations are wiped\nout so we can (1) see if that's really happening properly and\n(2) compare the timestamps in the logs when we hit the race failure\nto prove if it is just a race.\n\nChange-Id: Ic2a611bdff45652cd51c2c95bd2c693fd0cb9b35\nRelated-Bug: #1798688\n""}]",0,617017,830e4c61cd46eada44af3620be8cfe9a0b6cda7c,16,14,1,6873,,,0,"Log consumers_to_check when calling delete_consumers_if_no_allocations

We're seeing a race in the gate where a test shelve offloads
a server and then immediately unshelves it, and when the
scheduler is trying to create allocations for the server during
the unshelve, it intermittently fails with a consumer generation
conflict because it seems to see that the consumer (instance)
already has allocations on the server it was shelved offloaded
from. This shouldn't happen since shelve offload will remove
the allocations for the server, but it does this *after* changing
the VM status to SHELVED_OFFLOADED, so it's possible we're hitting
a race where the allocations (or consumer) still exist in placement
during the unshelve call. Since the internal consumer record in
placement should be removed when the consumer no longer has
any allocations, the new allocations during unshelve should recreate
a new consumer record with a new generation. This change adds logging
of the consumers that should be removed when the allocations are wiped
out so we can (1) see if that's really happening properly and
(2) compare the timestamps in the logs when we hit the race failure
to prove if it is just a race.

Change-Id: Ic2a611bdff45652cd51c2c95bd2c693fd0cb9b35
Related-Bug: #1798688
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/617017/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/objects/resource_provider.py'],1,830e4c61cd46eada44af3620be8cfe9a0b6cda7c,bug/1798688," if consumers_to_check: LOG.debug('Deleting consumers if they have no remaining ' 'allocations: %s', consumers_to_check) consumer_obj.delete_consumers_if_no_allocations( context, consumers_to_check)"," consumer_obj.delete_consumers_if_no_allocations( context, consumers_to_check)",5,2
openstack%2Fcharm-octavia~stable%2F18.11~Ia84a967b4b94073f3b70095f21b05fbec00971c1,openstack/charm-octavia,stable/18.11,Ia84a967b4b94073f3b70095f21b05fbec00971c1,Updates for stable branch testing,MERGED,2018-12-07 15:28:50.000000000,2018-12-07 22:33:03.000000000,2018-12-07 22:33:03.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 15:28:50.000000000', 'files': ['src/tests/bundles/bionic-rocky-ha.yaml', 'src/tests/bundles/cosmic-rocky-lxd.yaml', 'src/tests/bundles/cosmic-rocky.yaml', 'src/tests/bundles/cosmic-rocky-ha.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-rocky-lxd.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e8d02f9e2949e94d0360966cfad949109953a484', 'message': 'Updates for stable branch testing\n\nChange-Id: Ia84a967b4b94073f3b70095f21b05fbec00971c1\n'}]",0,623529,e8d02f9e2949e94d0360966cfad949109953a484,11,4,1,13686,,,0,"Updates for stable branch testing

Change-Id: Ia84a967b4b94073f3b70095f21b05fbec00971c1
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/29/623529/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-rocky-ha.yaml', 'src/tests/bundles/cosmic-rocky-lxd.yaml', 'src/tests/bundles/cosmic-rocky.yaml', 'src/tests/bundles/cosmic-rocky-ha.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-rocky-lxd.yaml']",6,e8d02f9e2949e94d0360966cfad949109953a484,octavia-charm, charm: cs:glance charm: cs:keystone charm: cs:percona-cluster charm: cs:neutron-api charm: cs:neutron-gateway charm: cs:neutron-openvswitch charm: cs:nova-cloud-controller charm: cs:nova-compute charm: cs:rabbitmq-server, charm: cs:~openstack-charmers-next/glance charm: cs:~openstack-charmers-next/keystone charm: cs:~openstack-charmers-next/percona-cluster charm: cs:~openstack-charmers-next/neutron-api charm: cs:~openstack-charmers-next/neutron-gateway charm: cs:~openstack-charmers-next/neutron-openvswitch charm: cs:~openstack-charmers-next/nova-cloud-controller charm: cs:~openstack-charmers-next/nova-compute charm: cs:~openstack-charmers-next/rabbitmq-server,56,56
openstack%2Fcharm-octavia~stable%2F18.11~I8448d7111cb933e3b56a2a4879e81d86b9af517e,openstack/charm-octavia,stable/18.11,I8448d7111cb933e3b56a2a4879e81d86b9af517e,Add missing overlay for `cosmic-rocky-ha` bundle,MERGED,2018-12-07 15:28:50.000000000,2018-12-07 22:33:02.000000000,2018-12-07 22:33:02.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 15:28:50.000000000', 'files': ['src/tests/bundles/overlays/cosmic-rocky-ha.yaml.j2', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4a1924b8849d1eaa500bb8d9f2adf35a2d1fd110', 'message': 'Add missing overlay for `cosmic-rocky-ha` bundle\n\nThe `cosmic-rocky-ha` test was failing due to a missing overlay.\nHowever keep the test disabled as it consistently times out atm.\n\nChange-Id: I8448d7111cb933e3b56a2a4879e81d86b9af517e\n(cherry picked from commit a4564b2bae11e623b03414779ed4e88f158d4bf5)\n'}]",0,623528,4a1924b8849d1eaa500bb8d9f2adf35a2d1fd110,11,4,1,13686,,,0,"Add missing overlay for `cosmic-rocky-ha` bundle

The `cosmic-rocky-ha` test was failing due to a missing overlay.
However keep the test disabled as it consistently times out atm.

Change-Id: I8448d7111cb933e3b56a2a4879e81d86b9af517e
(cherry picked from commit a4564b2bae11e623b03414779ed4e88f158d4bf5)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/28/623528/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/cosmic-rocky-ha.yaml.j2', 'src/tests/tests.yaml']",2,4a1924b8849d1eaa500bb8d9f2adf35a2d1fd110,octavia-charm, https://github.com/lxc/lxd/issues/4947 Holding the `cosmic-rocky-ha` bundle due to it consitently timing out atm.- cosmic-rocky-ha,- cosmic-rocky-ha https://github.com/lxc/lxd/issues/4947,7,2
openstack%2Fcharm-octavia~stable%2F18.11~Ia4b0e6b6b364dc3c9cd2fa4cdfa93cd2766c4d6a,openstack/charm-octavia,stable/18.11,Ia4b0e6b6b364dc3c9cd2fa4cdfa93cd2766c4d6a,Drop wsgi thread configuration to a single thread,MERGED,2018-12-07 15:28:50.000000000,2018-12-07 22:33:02.000000000,2018-12-07 22:33:02.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 15:28:50.000000000', 'files': ['src/templates/rocky/octavia-api.conf'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3e6bcfb18cb4832289b4d2b84d1a06dedfe04439', 'message': 'Drop wsgi thread configuration to a single thread\n\nWe should increase concurrency using processes rather than threads\nfor the Octavia WSGI application, avoiding high memory consumption\nover time under load.\n\nChange-Id: Ia4b0e6b6b364dc3c9cd2fa4cdfa93cd2766c4d6a\nCloses-Bug: #1806008\n(cherry picked from commit 1a577cea6ef280d4ef6ed95e8e0861f422dcdb01)\n'}]",0,623527,3e6bcfb18cb4832289b4d2b84d1a06dedfe04439,13,4,1,13686,,,0,"Drop wsgi thread configuration to a single thread

We should increase concurrency using processes rather than threads
for the Octavia WSGI application, avoiding high memory consumption
over time under load.

Change-Id: Ia4b0e6b6b364dc3c9cd2fa4cdfa93cd2766c4d6a
Closes-Bug: #1806008
(cherry picked from commit 1a577cea6ef280d4ef6ed95e8e0861f422dcdb01)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/27/623527/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/rocky/octavia-api.conf'],1,3e6bcfb18cb4832289b4d2b84d1a06dedfe04439,octavia-charm, WSGIDaemonProcess octavia-api processes={{ options.wsgi_worker_context.processes }} threads=1 user=octavia group=octavia display-name=%{GROUP}, WSGIDaemonProcess octavia-api user=octavia group=octavia processes=3 threads=10,1,1
openstack%2Fcharm-octavia~stable%2F18.11~Idb49b632c5728c2bbace4124897fde7369cb803e,openstack/charm-octavia,stable/18.11,Idb49b632c5728c2bbace4124897fde7369cb803e,Add pooling support for Amphorae,MERGED,2018-12-07 15:28:50.000000000,2018-12-07 22:33:01.000000000,2018-12-07 22:33:01.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 15:28:50.000000000', 'files': ['src/lib/charm/openstack/octavia.py', 'src/config.yaml', 'src/templates/rocky/octavia.conf', 'unit_tests/test_lib_charm_openstack_octavia.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9539ef4198534758b7042b529c4fe6fcf3961cdd', 'message': 'Add pooling support for Amphorae\n\nAdd configuration option and associated template updates to\nsupport pooling of spare Amphorae to reduce load balancer\nservice creation time.\n\nChange-Id: Idb49b632c5728c2bbace4124897fde7369cb803e\n(cherry picked from commit cc464bc38cd7b11b5c0b0da32266b1d77d8cd4bb)\n'}]",0,623526,9539ef4198534758b7042b529c4fe6fcf3961cdd,11,5,1,13686,,,0,"Add pooling support for Amphorae

Add configuration option and associated template updates to
support pooling of spare Amphorae to reduce load balancer
service creation time.

Change-Id: Idb49b632c5728c2bbace4124897fde7369cb803e
(cherry picked from commit cc464bc38cd7b11b5c0b0da32266b1d77d8cd4bb)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/26/623526/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/octavia.py', 'src/templates/rocky/octavia.conf', 'unit_tests/test_lib_charm_openstack_octavia.py']",4,9539ef4198534758b7042b529c4fe6fcf3961cdd,octavia-charm," def test_spare_amphora_pool_size(self): cls = mock.MagicMock() self.patch('charmhelpers.core.hookenv.config', 'config') self.config.return_value = None self.assertEqual(octavia.spare_amphora_pool_size(cls), None) self.config.return_value = 5 self.assertEqual(octavia.spare_amphora_pool_size(cls), 5) self.config.assert_called_with('spare-pool-size') ",,37,0
openstack%2Fcharm-octavia~stable%2F18.11~I62440b0f4359bdd47c3493e2f4335866e796bc97,openstack/charm-octavia,stable/18.11,I62440b0f4359bdd47c3493e2f4335866e796bc97,Documentation update,MERGED,2018-12-07 15:28:50.000000000,2018-12-07 22:33:01.000000000,2018-12-07 22:33:01.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 15:28:50.000000000', 'files': ['src/README.md', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f3cc1737d0a98bd95abc7cdb97ba11886206ba5c', 'message': 'Documentation update\n\nFix formatting so it is better represented on jujucharms.com.\n\nAdd reference to the deployment guide.\n\nChange-Id: I62440b0f4359bdd47c3493e2f4335866e796bc97\n(cherry picked from commit 12f73f43d178acc8256a3290574b819323b81de4)\n'}]",0,623525,f3cc1737d0a98bd95abc7cdb97ba11886206ba5c,8,4,1,13686,,,0,"Documentation update

Fix formatting so it is better represented on jujucharms.com.

Add reference to the deployment guide.

Change-Id: I62440b0f4359bdd47c3493e2f4335866e796bc97
(cherry picked from commit 12f73f43d178acc8256a3290574b819323b81de4)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/25/623525/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/metadata.yaml']",2,f3cc1737d0a98bd95abc7cdb97ba11886206ba5c,octavia-charm,, . . .,29,27
openstack%2Fcharm-octavia~stable%2F18.11~I9529a8a633ef0ba696c22570ec388991ba408ac4,openstack/charm-octavia,stable/18.11,I9529a8a633ef0ba696c22570ec388991ba408ac4,Add action for configuring mgmt network for comms with lb instances,MERGED,2018-12-07 15:28:50.000000000,2018-12-07 22:33:00.000000000,2018-12-07 22:33:00.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 15:28:50.000000000', 'files': ['src/lib/charm/openstack/octavia.py', 'src/tests/bundles/bionic-rocky-ha.yaml', 'src/tests/bundles/overlays/bionic-rocky-ha.yaml.j2', 'src/metadata.yaml', 'src/layer.yaml', 'src/config.yaml', 'src/actions/configure-resources', 'src/tests/bundles/smoke-bionic-rocky.yaml', 'src/templates/99-charm-octavia-o-hm0.network', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'src/tests/bundles/cosmic-rocky-ha.yaml', 'src/templates/rocky/octavia.conf', 'unit_tests/test_octavia_handlers.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_octavia.py', 'src/tests/bundles/bionic-rocky-lxd.yaml', 'src/tests/tests.yaml', 'src/README.md', 'src/tests/bundles/cosmic-rocky-lxd.yaml', 'src/lib/__init__.py', 'src/tests/bundles/cosmic-rocky.yaml', 'src/reactive/octavia_handlers.py', 'src/actions.yaml', 'src/tests/bundles/smoke-bionic-rocky-ha.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/wheelhouse.txt', 'src/actions/actions.py', 'src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/97ef93aa5ff9ef98140f6c88e45cf9efd1d14a38', 'message': 'Add action for configuring mgmt network for comms with lb instances\n\nEnd user is expected to run the `configure-resources` action\nafter the deployment is complete and the cloud APIs are\nreliably available.\n\nThe end user may rely on our defaults or may create the\nrequired resources themselves.  The same action is used to\nprompt configuration of the Octavia service and whether it\ndoes creation or just discovery depends on the setting of\n`create-mgmt-network` and `custom-amp-flavor-id` configuration\noptions.\n\nSwitch to using the more recent ``section-database`` part\nfor database configuration.\n\nChange-Id: I9529a8a633ef0ba696c22570ec388991ba408ac4\n(cherry picked from commit a562b391bd70c70e0204de464327d01eda1aba6d)\n'}]",0,623524,97ef93aa5ff9ef98140f6c88e45cf9efd1d14a38,11,4,1,13686,,,0,"Add action for configuring mgmt network for comms with lb instances

End user is expected to run the `configure-resources` action
after the deployment is complete and the cloud APIs are
reliably available.

The end user may rely on our defaults or may create the
required resources themselves.  The same action is used to
prompt configuration of the Octavia service and whether it
does creation or just discovery depends on the setting of
`create-mgmt-network` and `custom-amp-flavor-id` configuration
options.

Switch to using the more recent ``section-database`` part
for database configuration.

Change-Id: I9529a8a633ef0ba696c22570ec388991ba408ac4
(cherry picked from commit a562b391bd70c70e0204de464327d01eda1aba6d)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/24/623524/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/octavia.py', 'src/tests/bundles/bionic-rocky-ha.yaml', 'src/tests/bundles/overlays/bionic-rocky-ha.yaml.j2', 'src/metadata.yaml', 'src/layer.yaml', 'src/config.yaml', 'src/actions/configure-resources', 'src/tests/bundles/smoke-bionic-rocky.yaml', 'src/templates/99-charm-octavia-o-hm0.network', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'src/tests/bundles/cosmic-rocky-ha.yaml', 'src/templates/rocky/octavia.conf', 'unit_tests/test_octavia_handlers.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_octavia.py', 'src/tests/bundles/bionic-rocky-lxd.yaml', 'src/tests/tests.yaml', 'src/README.md', 'src/tests/bundles/cosmic-rocky-lxd.yaml', 'src/lib/__init__.py', 'src/tests/bundles/cosmic-rocky.yaml', 'src/reactive/octavia_handlers.py', 'src/actions.yaml', 'src/tests/bundles/smoke-bionic-rocky-ha.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/wheelhouse.txt', 'src/actions/actions.py', 'src/lib/charm/openstack/api_crud.py']",28,97ef93aa5ff9ef98140f6c88e45cf9efd1d14a38,octavia-charm,"import neutronclient import subprocess from neutronclient.v2_0 import client as neutron_clientimport charm.openstack.octavia as octavia # for constants import charmhelpers.core as ch_core import charmhelpers.contrib.network.ip as ch_net_ip NEUTRON_TEMP_EXCS = (keystone_exceptions.catalog.EndpointNotFound, keystone_exceptions.connection.ConnectFailure, neutronclient.common.exceptions.ServiceUnavailable) """"""Exception raised when a temporary availability issue occurs."""""" """"""Initialize APIUnavailable exception. :param service_type: Name of service we had issues with (e.g. `nova`). :type service_type: str :param resource_type: Name of resource we had issues with (e.g. `flavors`) :type resource_type: str :param upstream_exception: Reference to the exception caught :type upstream_exception: BaseException derived object """"""class DuplicateResource(Exception): """"""Exception raised when resource query result in multiple entries."""""" def __init__(self, service_type, resource_type, data=None): """"""Initialize DuplicateResource exception. :param service_type: Name of service we had issues with (e.g. `nova`). :type service_type: str :param resource_type: Name of resource we had issues with (e.g. `flavors`) :type resource_type: str :param data: Data from search result :type data: (Optional)any """""" self.service_type = service_type self.resource_type = resource_type self.data = data def get_hm_port(identity_service, local_unit_name, local_unit_address): """"""Get or create a per unit Neutron port for Octavia Health Manager. A side effect of calling this function is that a port is created if one does not already exist. :param identity_service: reactive Endpoint of type ``identity-service`` :type identity_service: RelationBase class :param local_unit_name: Name of juju unit, used to build tag name for port :type local_unit_name: str :param local_unit_address: DNS resolvable IP address of unit, used to build Neutron port ``binding:host_id`` :type local_unit_address: str :returns: Port details extracted from result of call to neutron_client.list_ports or neutron_client.create_port :rtype: dict :raises: api_crud.APIUnavailable, api_crud.DuplicateResource """""" session = session_from_identity_service(identity_service) try: nc = neutron_client.Client(session=session) resp = nc.list_networks(tags='charm-octavia') except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'networks', e) network = None n_resp = len(resp.get('networks', [])) if n_resp == 1: network = resp['networks'][0] elif n_resp > 1: raise DuplicateResource('neutron', 'networks', data=resp) else: ch_core.hookenv.log('No network tagged with `charm-octavia` exists, ' 'deferring port setup awaiting network and port ' '(re-)creation.', level=ch_core.hookenv.WARNING) return health_secgrp = None try: resp = nc.list_security_groups(tags='charm-octavia-health') except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'security_groups', e) n_resp = len(resp.get('security_groups', [])) if n_resp == 1: health_secgrp = resp['security_groups'][0] elif n_resp > 1: raise DuplicateResource('neutron', 'security_groups', data=resp) else: ch_core.hookenv.log('No security group tagged with ' '`charm-octavia-health` exists, deferring ' 'port setup awaiting network and port ' '(re-)creation...', level=ch_core.hookenv.WARNING) return try: resp = nc.list_ports(tags='charm-octavia-{}' .format(local_unit_name)) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'ports', e) n_resp = len(resp.get('ports', [])) if n_resp == 1: hm_port = resp['ports'][0] elif n_resp > 1: raise DuplicateResource('neutron', 'ports', data=resp) else: # create new port try: resp = nc.create_port( { 'port': { # avoid race with OVS agent attempting to bind port # before it is created in the local units OVSDB 'admin_state_up': False, 'binding:host_id': ch_net_ip.get_hostname( local_unit_address, fqdn=False), 'device_owner': 'Octavia:health-mgr', 'security_groups': [ health_secgrp['id'], ], 'name': 'octavia-health-manager-{}-listen-port' .format(local_unit_name), 'network_id': network['id'], }, }) hm_port = resp['port'] ch_core.hookenv.log('Created port {}'.format(hm_port['id']), ch_core.hookenv.INFO) # unit specific tag is used by each unit to load their state nc.add_tag('ports', hm_port['id'], 'charm-octavia-{}' .format(local_unit_name)) # charm-wide tag is used by leader to load cluster state and build # ``controller_ip_port_list`` configuration property nc.add_tag('ports', hm_port['id'], 'charm-octavia') except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'ports', e) return hm_port def toggle_hm_port(identity_service, local_unit_name, enabled=True): """"""Toggle administrative state of Neutron port for local unit. :param identity_service: reactive Endpoint of type ``identity-service`` :type identity_service: RelationBase class :param local_unit_name: Name of juju unit, used to build tag name for port :type local_unit_name: str :param enabled: Desired state :type enabled: bool :raises: api_crud.APIUnavailable """""" session = session_from_identity_service(identity_service) try: nc = neutron_client.Client(session=session) resp = nc.list_ports(tags='charm-octavia-{}' .format(local_unit_name)) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'ports', e) for port in (resp['ports']): nc.update_port(port['id'], {'port': {'admin_state_up': enabled}}) def setup_hm_port(identity_service, octavia_charm): """"""Create a per unit Neutron and OVS port for Octavia Health Manager. This is used to plug the unit into the overlay network for direct communication with the octavia managed load balancer instances running within the deployed cloud. :param identity_service: reactive Endpoint of type ``identity-service`` :type identity_service: RelationBase class :param ocataiva_charm: charm instance :type octavia_charm: OctaviaCharm class instance :retruns: True on change to local unit, False otherwise :rtype: bool :raises: api_crud.APIUnavailable, api_crud.DuplicateResource """""" unit_changed = False hm_port = get_hm_port( identity_service, octavia_charm.local_unit_name, octavia_charm.local_address) if not hm_port: ch_core.hookenv.log('No network tagged with `charm-octavia` ' 'exists, deferring port setup awaiting ' 'network and port (re-)creation...', level=ch_core.hookenv.WARNING) return HM_PORT_MAC = hm_port['mac_address'] HM_PORT_ID = hm_port['id'] try: subprocess.check_output( ['ip', 'link', 'show', octavia.OCTAVIA_MGMT_INTF], stderr=subprocess.STDOUT, universal_newlines=True) except subprocess.CalledProcessError as e: if 'does not exist' in e.output: subprocess.check_call( ['ovs-vsctl', '--', 'add-port', octavia.OCTAVIA_INT_BRIDGE, octavia.OCTAVIA_MGMT_INTF, '--', 'set', 'Interface', octavia.OCTAVIA_MGMT_INTF, 'type=internal', '--', 'set', 'Interface', octavia.OCTAVIA_MGMT_INTF, 'external-ids:iface-status=active', '--', 'set', 'Interface', octavia.OCTAVIA_MGMT_INTF, 'external-ids:attached-mac={}'.format(HM_PORT_MAC), '--', 'set', 'Interface', octavia.OCTAVIA_MGMT_INTF, 'external-ids:iface-id={}'.format(HM_PORT_ID), '--', 'set', 'Interface', octavia.OCTAVIA_MGMT_INTF, 'external-ids:skip_cleanup=true', ]) ch_core.hookenv.log('add OVS port', level=ch_core.hookenv.INFO) # post boot reconfiguration of systemd-networkd does not appear to # set the MAC addresss on the interface, do it ourself. subprocess.check_call( ['ip', 'link', 'set', octavia.OCTAVIA_MGMT_INTF, 'up', 'address', HM_PORT_MAC]) # Signal that change has been made to local unit unit_changed = True else: # unknown error, raise raise e if not hm_port['admin_state_up'] or hm_port['status'] == 'DOWN': # NOTE(fnordahl) there appears to be a handful of race conditions # hitting us sometimes making the newly created ports unusable. # as a workaround we toggle the port belonging to us. # a disable/enable round trip makes Neutron reset the port # configuration which resolves these situations. ch_core.hookenv.log('toggling port {} (admin_state_up: {} ' 'status: {})' .format(hm_port['id'], hm_port['admin_state_up'], hm_port['status']), level=ch_core.hookenv.INFO) toggle_hm_port(identity_service, octavia_charm.local_unit_name, enabled=False) toggle_hm_port(identity_service, octavia_charm.local_unit_name, enabled=True) return unit_changed def get_port_ips(identity_service): """"""Extract IP information from Neutron ports tagged with ``charm-octavia`` :param identity_service: reactive Endpoint of type ``identity-service`` :type identity_service: RelationBase class :returns: List of IP addresses extracted from port details in search result :rtype: list of str :raises: api_crud.APIUnavailable """""" session = session_from_identity_service(identity_service) try: nc = neutron_client.Client(session=session) resp = nc.list_ports(tags='charm-octavia') except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'ports', e) neutron_ip_list = [] for port in resp['ports']: for ip_info in port['fixed_ips']: neutron_ip_list.append(ip_info['ip_address']) return neutron_ip_list def get_mgmt_network(identity_service, create=True): """"""Get or create Neutron network resources for Octavia. A side effect of calling this function is that network resources are created if they do not already exist, unless ``create`` is set to False. :param identity_service: reactive Endpoint of type ``identity-service`` :type identity_service: RelationBase class :param create: (Optional and default) Create resources that do not exist :type: create: bool :returns: List of IP addresses extracted from port details in search result :rtype: list of str :raises: api_crud.APIUnavailable, api_crud.DuplicateResource """""" session = session_from_identity_service(identity_service) try: nc = neutron_client.Client(session=session) resp = nc.list_networks(tags='charm-octavia') except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'networks', e) n_resp = len(resp.get('networks', [])) if n_resp == 1: network = resp['networks'][0] elif n_resp > 1: raise DuplicateResource('neutron', 'networks', data=resp) elif not create: ch_core.hookenv.log('No network tagged with `charm-octavia` exists, ' 'and we are configured to not create resources.' 'Awaiting end user resource creation.', level=ch_core.hookenv.WARNING) return else: try: resp = nc.create_network({ 'network': {'name': octavia.OCTAVIA_MGMT_NET}}) network = resp['network'] nc.add_tag('networks', network['id'], 'charm-octavia') ch_core.hookenv.log('Created network {}'.format(network['id']), level=ch_core.hookenv.INFO) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'networks', e) try: resp = nc.list_subnets(tags='charm-octavia') except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'subnets', e) n_resp = len(resp.get('subnets', [])) subnets = None if n_resp < 1 and create: # make rfc4193 Unique Local IPv6 Unicast Addresses from network UUID rfc4193_addr = 'fc00' for n in [0, 4, 8]: rfc4193_addr += ':' + network['id'].split('-')[4][n:n + 4] rfc4193_addr += '::/64' try: resp = nc.create_subnet( { 'subnets': [ { 'name': octavia.OCTAVIA_MGMT_SUBNET + 'v6', 'ip_version': 6, 'ipv6_address_mode': 'slaac', 'ipv6_ra_mode': 'slaac', 'cidr': rfc4193_addr, 'network_id': network['id'], }, ], }) subnets = resp['subnets'] for subnet in resp['subnets']: nc.add_tag('subnets', subnet['id'], 'charm-octavia') ch_core.hookenv.log('Created subnet {} with cidr {}' .format(subnet['id'], subnet['cidr']), level=ch_core.hookenv.INFO) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'subnets', e) try: resp = nc.list_routers(tags='charm-octavia') except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'routers', e) n_resp = len(resp.get('routers', [])) router = None if n_resp < 1 and create: try: resp = nc.create_router( { 'router': { 'name': octavia.OCTAVIA_MGMT_NAME_PREFIX, } }) router = resp['router'] nc.add_tag('routers', router['id'], 'charm-octavia') ch_core.hookenv.log('Created router {}'.format(router['id']), level=ch_core.hookenv.INFO) for subnet in subnets: nc.add_interface_router(router['id'], {'subnet_id': subnet['id']}) ch_core.hookenv.log('Added interface from router {} ' 'to subnet {}' .format(router['id'], subnet['id']), level=ch_core.hookenv.INFO) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'routers', e) try: resp = nc.list_security_groups(tags='charm-octavia') except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'security_groups', e) n_resp = len(resp.get('security_groups', [])) if n_resp == 1: secgrp = resp['security_groups'][0] elif n_resp > 1: raise DuplicateResource('neutron', 'security_groups', data=resp) elif not create: ch_core.hookenv.log('No security group tagged with `charm-octavia` ' 'exists, and we are configured to not create ' 'resources. Awaiting end user resource ' 'creation.', level=ch_core.hookenv.WARNING) return else: try: resp = nc.create_security_group( { 'security_group': { 'name': octavia.OCTAVIA_MGMT_SECGRP, }, }) secgrp = resp['security_group'] nc.add_tag('security_groups', secgrp['id'], 'charm-octavia') ch_core.hookenv.log('Created security group ""{}""' .format(secgrp['id']), level=ch_core.hookenv.INFO) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'security_groups', e) if create: security_group_rules = [ { 'direction': 'ingress', 'protocol': 'icmpv6', 'ethertype': 'IPv6', 'security_group_id': secgrp['id'], }, { 'direction': 'ingress', 'protocol': 'tcp', 'ethertype': 'IPv6', 'port_range_min': '22', 'port_range_max': '22', 'security_group_id': secgrp['id'], }, { 'direction': 'ingress', 'protocol': 'tcp', 'ethertype': 'IPv6', 'port_range_min': '9443', 'port_range_max': '9443', 'security_group_id': secgrp['id'], }, ] for rule in security_group_rules: try: nc.create_security_group_rule({'security_group_rule': rule}) except neutronclient.common.exceptions.Conflict: pass except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'security_group_rules', e) try: resp = nc.list_security_groups(tags='charm-octavia-health') except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'security_groups', e) n_resp = len(resp.get('security_groups', [])) if n_resp == 1: health_secgrp = resp['security_groups'][0] elif n_resp > 1: raise DuplicateResource('neutron', 'security_groups', data=resp) elif not create: ch_core.hookenv.log('No security group tagged with ' '`charm-octavia-health` exists, and we are ' 'configured to not create resources. Awaiting ' 'end user resource creation.', level=ch_core.hookenv.WARNING) return else: try: resp = nc.create_security_group( { 'security_group': { 'name': octavia.OCTAVIA_HEALTH_SECGRP, }, }) health_secgrp = resp['security_group'] nc.add_tag('security_groups', health_secgrp['id'], 'charm-octavia-health') ch_core.hookenv.log('Created security group ""{}""' .format(health_secgrp['id']), level=ch_core.hookenv.INFO) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'security_groups', e) if create: health_security_group_rules = [ { 'direction': 'ingress', 'protocol': 'icmpv6', 'ethertype': 'IPv6', 'security_group_id': health_secgrp['id'], }, { 'direction': 'ingress', 'protocol': 'udp', 'ethertype': 'IPv6', 'port_range_min': octavia.OCTAVIA_HEALTH_LISTEN_PORT, 'port_range_max': octavia.OCTAVIA_HEALTH_LISTEN_PORT, 'security_group_id': health_secgrp['id'], }, ] for rule in health_security_group_rules: try: nc.create_security_group_rule({'security_group_rule': rule}) except neutronclient.common.exceptions.Conflict: pass except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'security_groups', e) resp = nc.list_security_group_rules(security_group_id=health_secgrp['id']) return (network, secgrp)", Handle exceptions ourself without Tenacity so we can detect Nova API readiness. At present we do not have a relation or interface to inform us about Nova API readiness. This function also executes just one or two API calls. ,2222,137
openstack%2Fnova~master~I033dbd96a44f064cce6fd20ab45fe1f517b9828f,openstack/nova,master,I033dbd96a44f064cce6fd20ab45fe1f517b9828f,Retry on consumer delete race in claim_resources,ABANDONED,2018-11-09 22:25:15.000000000,2018-12-07 22:30:11.000000000,,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2018-11-09 22:25:15.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d2db53521bd6246629ee46a1c15ccf84732e7717', 'message': 'Retry on consumer delete race in claim_resources\n\nTempest is intermittently failing a test which does the\nfollowing:\n\n1. Create a server.\n2. Shelve offload it.\n3. Unshelve it.\n\nTempest waits for the server status to be SHELVED_OFFLOADED\nbefore unshelving the server, which goes through the\nscheduler to pick a compute node and claim resources on it.\n\nWhen shelve offloading a server, the resource allocations\nfor the instance and compute node it was on are cleared, which\nwill also delete the internal consumer record in the placement\nservice.\n\nThe race is that the allocations are removed during shelve\noffload *after* the server status changes to SHELVED_OFFLOADED.\nThis leaves a window where unshelve is going through the\nscheduler and gets the existing allocations for the instance,\nwhich are non-empty and have a consumer generation. The\nclaim_resources method in the scheduler then uses that\nconsumer generation when PUTing the allocations. That PUT\nfails because in between the GET and PUT of the allocations,\nplacement has deleted the internal consumer record. When\nPUTing the new allocations with a non-null consumer generation,\nplacement returns a 409 conflict error because for a new\nconsumer it expects the ""consumer_generation"" parameter to be\nNone.\n\nThis change handles the race by detecting the null consumer\nsituation from the error details from the placement response\nand retries the claim_resources() method.\n\nThere are a couple of alternative ways we could have dealt\nwith this:\n\n1. When we get the conflict from placement, re-GET the\n   allocations and if they are now empty, retry. This has\n   the downside of doing an extra GET operation when we can\n   simply deduce the situation from the placement error details.\n\n2. We could remove the allocations during unshelve before\n   updating the instance.vm_state. This would solve the race\n   for this particular scenario, but is really whack-a-mole\n   and we should handle the generation conflict / retry in the\n   scheduler in a generic way if possible (which we do here).\n\nThe ugly error details parsing can eventually be replaced when\nthe placement API returns a specific error code for this null\nconsumer scenario (as the TODO in claim_resources() already suggests).\n\nChange-Id: I033dbd96a44f064cce6fd20ab45fe1f517b9828f\nCloses-Bug: #1798688\n'}]",6,617040,d2db53521bd6246629ee46a1c15ccf84732e7717,32,17,1,6873,,,0,"Retry on consumer delete race in claim_resources

Tempest is intermittently failing a test which does the
following:

1. Create a server.
2. Shelve offload it.
3. Unshelve it.

Tempest waits for the server status to be SHELVED_OFFLOADED
before unshelving the server, which goes through the
scheduler to pick a compute node and claim resources on it.

When shelve offloading a server, the resource allocations
for the instance and compute node it was on are cleared, which
will also delete the internal consumer record in the placement
service.

The race is that the allocations are removed during shelve
offload *after* the server status changes to SHELVED_OFFLOADED.
This leaves a window where unshelve is going through the
scheduler and gets the existing allocations for the instance,
which are non-empty and have a consumer generation. The
claim_resources method in the scheduler then uses that
consumer generation when PUTing the allocations. That PUT
fails because in between the GET and PUT of the allocations,
placement has deleted the internal consumer record. When
PUTing the new allocations with a non-null consumer generation,
placement returns a 409 conflict error because for a new
consumer it expects the ""consumer_generation"" parameter to be
None.

This change handles the race by detecting the null consumer
situation from the error details from the placement response
and retries the claim_resources() method.

There are a couple of alternative ways we could have dealt
with this:

1. When we get the conflict from placement, re-GET the
   allocations and if they are now empty, retry. This has
   the downside of doing an extra GET operation when we can
   simply deduce the situation from the placement error details.

2. We could remove the allocations during unshelve before
   updating the instance.vm_state. This would solve the race
   for this particular scenario, but is really whack-a-mole
   and we should handle the generation conflict / retry in the
   scheduler in a generic way if possible (which we do here).

The ugly error details parsing can eventually be replaced when
the placement API returns a specific error code for this null
consumer scenario (as the TODO in claim_resources() already suggests).

Change-Id: I033dbd96a44f064cce6fd20ab45fe1f517b9828f
Closes-Bug: #1798688
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/617040/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,d2db53521bd6246629ee46a1c15ccf84732e7717,bug/1798688," # NOTE(mriedem): Deal with a race where the consumer # was deleted between the time we got the allocations with # a consumer_generation and we PUT the allocations using # that consumer_generation, and placement will create a # new consumer record with a null generation and that # causes the conflict. if 'expected null but got' in err['detail']: # In this case, we simply retry because the # GET /allocations/{consumer_id} should be empty # and we'll be oh so happy. reason = ('another process removed the consumer ' 'involved in our attempt to put allocations ' 'for consumer %s' % consumer_uuid) raise Retry('claim_resources', reason)",,109,0
openstack%2Fkuryr-kubernetes~stable%2Frocky~I73d26c43e924438c2eeba0ced185639f28731fea,openstack/kuryr-kubernetes,stable/rocky,I73d26c43e924438c2eeba0ced185639f28731fea,Add missing key check while lbaas member add,MERGED,2018-12-03 06:48:30.000000000,2018-12-07 22:23:59.000000000,2018-12-07 22:23:59.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-12-03 06:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5d0a631e0b6e0229b870297dc48bb6c2a0878250', 'message': 'Add missing key check while lbaas member add\n\nAdd check for missing key during member addition for lbaas.\nSince lbaasv2.0 API does not support UDP and dns seems to attempt\nto add it, it fails readyness and liveness checks for\ncontroller pod.\n\nThis happens for k8s-service with a mix of UDP and TCP ports.\nIn future (Stein release) when UDP LB is supported, it should\nnot be a problem.\n\nCloses-Bug: 1792367\n\nChange-Id: I73d26c43e924438c2eeba0ced185639f28731fea\n(cherry picked from commit 5e44d17e87b3a0468e37875730262252544f7ec0)\n'}, {'number': 2, 'created': '2018-12-06 20:58:24.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/832d597b5bce63011fddf61e260ca409793d48a0', 'message': 'Add missing key check while lbaas member add\n\nAdd check for missing key during member addition for lbaas.\nSince lbaasv2.0 API does not support UDP and dns seems to attempt\nto add it, it fails readyness and liveness checks for\ncontroller pod.\n\nThis happens for k8s-service with a mix of UDP and TCP ports.\nIn future (Stein release) when UDP LB is supported, it should\nnot be a problem.\n\nCloses-Bug: 1792367\n\nChange-Id: I73d26c43e924438c2eeba0ced185639f28731fea\n(cherry picked from commit 5e44d17e87b3a0468e37875730262252544f7ec0)\n'}]",0,621485,832d597b5bce63011fddf61e260ca409793d48a0,16,3,2,21041,,,0,"Add missing key check while lbaas member add

Add check for missing key during member addition for lbaas.
Since lbaasv2.0 API does not support UDP and dns seems to attempt
to add it, it fails readyness and liveness checks for
controller pod.

This happens for k8s-service with a mix of UDP and TCP ports.
In future (Stein release) when UDP LB is supported, it should
not be a problem.

Closes-Bug: 1792367

Change-Id: I73d26c43e924438c2eeba0ced185639f28731fea
(cherry picked from commit 5e44d17e87b3a0468e37875730262252544f7ec0)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/85/621485/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py']",2,5d0a631e0b6e0229b870297dc48bb6c2a0878250,bug/1792367," @mock.patch('kuryr_kubernetes.controller.drivers.base' '.PodSubnetsDriver.get_instance') @mock.patch('kuryr_kubernetes.controller.drivers.base' '.PodProjectDriver.get_instance') @mock.patch('kuryr_kubernetes.controller.drivers.base' '.LBaaSDriver.get_instance') def test_add_new_members_udp(self, m_get_drv_lbaas, m_get_drv_project, m_get_drv_subnets): project_id = str(uuid.uuid4()) subnet_id = str(uuid.uuid4()) current_ip = '1.1.1.1' current_targets = { '1.1.1.101': (1001, 10001), '1.1.1.111': (1001, 10001), '1.1.1.201': (2001, 20001)} expected_ip = '2.2.2.2' expected_targets = { '2.2.2.101': (1201, 12001), '2.2.2.111': (1201, 12001), '2.2.2.201': (2201, 22001)} endpoints = self._generate_endpoints(expected_targets) state = self._generate_lbaas_state( current_ip, current_targets, project_id, subnet_id) spec = self._generate_lbaas_spec(expected_ip, expected_targets, project_id, subnet_id, 'UDP') m_drv_lbaas = mock.Mock(wraps=FakeLBaaSDriver()) m_drv_project = mock.Mock() m_drv_project.get_project.return_value = project_id m_drv_subnets = mock.Mock() m_drv_subnets.get_subnets.return_value = { subnet_id: mock.sentinel.subnet} m_get_drv_lbaas.return_value = m_drv_lbaas m_get_drv_project.return_value = m_drv_project m_get_drv_subnets.return_value = m_drv_subnets handler = h_lbaas.LoadBalancerHandler() member_added = handler._add_new_members(endpoints, state, spec) self.assertEqual(member_added, False) m_drv_lbaas.ensure_member.assert_not_called()",,47,1
openstack%2Fcharm-octavia~stable%2F18.11~Id2cbbc2936996c689fb5a2221a9d22ecf93f510e,openstack/charm-octavia,stable/18.11,Id2cbbc2936996c689fb5a2221a9d22ecf93f510e,Add Nova flavor management,MERGED,2018-12-07 15:28:50.000000000,2018-12-07 22:22:09.000000000,2018-12-07 22:22:09.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 15:28:50.000000000', 'files': ['src/lib/charm/openstack/octavia.py', 'src/config.yaml', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py', 'src/wheelhouse.txt', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_octavia.py', 'src/lib/charm/openstack/api_crud.py', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/7463030262eea6d443eedf9fe5ff9814b525047a', 'message': 'Add Nova flavor management\n\nManage the Nova flavor Octavia should use when launching its instances.\n\nThe end user may choose to override this by manually creating the\nflavor and configure it through the ``custom-amp-flavor-id``\nconfiguration option.\n\nChange-Id: Id2cbbc2936996c689fb5a2221a9d22ecf93f510e\n(cherry picked from commit 3f1480e8c995d0bd65136f41509c8fbadfeda336)\n'}]",0,623523,7463030262eea6d443eedf9fe5ff9814b525047a,8,4,1,13686,,,0,"Add Nova flavor management

Manage the Nova flavor Octavia should use when launching its instances.

The end user may choose to override this by manually creating the
flavor and configure it through the ``custom-amp-flavor-id``
configuration option.

Change-Id: Id2cbbc2936996c689fb5a2221a9d22ecf93f510e
(cherry picked from commit 3f1480e8c995d0bd65136f41509c8fbadfeda336)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/23/623523/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/octavia.py', 'src/reactive/octavia_handlers.py', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'src/wheelhouse.txt', 'unit_tests/test_octavia_handlers.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_octavia.py', 'src/lib/charm/openstack/api_crud.py', 'src/layer.yaml']",10,7463030262eea6d443eedf9fe5ff9814b525047a,octavia-charm," packages: [ 'libffi-dev', 'libssl-dev' ]",,277,13
openstack%2Fcharm-octavia~stable%2F18.11~I38c3e39de4d4cb173970a615f270839871d13910,openstack/charm-octavia,stable/18.11,I38c3e39de4d4cb173970a615f270839871d13910,Add certificate management support,MERGED,2018-12-07 15:28:50.000000000,2018-12-07 22:21:01.000000000,2018-12-07 22:21:01.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 15:28:50.000000000', 'files': ['src/lib/charm/openstack/octavia.py', 'src/config.yaml', 'src/templates/rocky/octavia.conf'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/ff48aa5707771eb5ea681c6dc88770c5d8b9c7f1', 'message': 'Add certificate management support\n\nCertificates for payload traffic is provided through Barbican\nsecrets store and must be uploaded by the end-user.\n\nCertificates for authentication between Octavia controllers\nand its Amphorae instances are issued locally on the Octavia\ncontroller.\n\nAt the time of this writing this is the only supported\nalternative upstream after the retirement of the Anchor\nproject [0].\n\nNote that the locally generated certificates are not used for\nany load balancer payload data.\n\n0: https://review.openstack.org/#/c/597022/\n\nChange-Id: I38c3e39de4d4cb173970a615f270839871d13910\n(cherry picked from commit 4d834c4d2d2ac45360c40beff3cf7c897102a23c)\n'}]",0,623522,ff48aa5707771eb5ea681c6dc88770c5d8b9c7f1,8,4,1,13686,,,0,"Add certificate management support

Certificates for payload traffic is provided through Barbican
secrets store and must be uploaded by the end-user.

Certificates for authentication between Octavia controllers
and its Amphorae instances are issued locally on the Octavia
controller.

At the time of this writing this is the only supported
alternative upstream after the retirement of the Anchor
project [0].

Note that the locally generated certificates are not used for
any load balancer payload data.

0: https://review.openstack.org/#/c/597022/

Change-Id: I38c3e39de4d4cb173970a615f270839871d13910
(cherry picked from commit 4d834c4d2d2ac45360c40beff3cf7c897102a23c)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/22/623522/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/octavia.py', 'src/templates/rocky/octavia.conf']",3,ff48aa5707771eb5ea681c6dc88770c5d8b9c7f1,octavia-charm,"[controller_worker] {% if options.amp_image_owner_id -%} amp_image_owner_id = {{ options.amp_image_owner_id }} {% endif -%} {% if options.amp_secgroup_list -%} amp_secgroup_list = {{ options.amp_secgroup_list }} {% endif -%} {% if options.amp_flavor_id -%} amp_flavor_id = {{ options.amp_flavor_id }} {% endif -%} {% if options.amp_boot_network_list -%} amp_boot_network_list = {{ options.amp_boot_network_list }} {% endif -%} {% if options.amp_ssh_key_name -%} amp_ssh_key_name = {{ options.amp_ssh_key_name }} {% endif -%} {% if options.amp_image_tag -%} amp_image_tag = {{ options.amp_image_tag }} {% endif -%} amp_active_retries = 180 # This certificate is installed on the ``Amphorae`` and used for validating # the authenticity of the ``Octavia`` controller. client_ca = {{ options.controller_cacert }} network_driver = allowed_address_pairs_driver compute_driver = compute_nova_driver amphora_driver = amphora_haproxy_rest_driver loadbalancer_topology = {{ options.loadbalancer_topology }} [certificates] # NOTE(fnordahl) certificates for authentication between Octavia controllers # and its Amphorae instances are issued locally on the Octavia controller. # # At the time of this writing this is the only supported alternative upstream # after the retirement of the Anchor project [0]. # # Note that these certificates are not used for any load balancer payload data # # 0: https://review.openstack.org/#/c/597022/ cert_generator = local_cert_generator # This certificate is used to issue individual certificates for each # ``Amphora`` and to validate their authenticity when they connect to the # ``Octavia`` controller. ca_certificate = {{ options.issuing_cacert }} ca_private_key = {{ options.issuing_ca_private_key }} ca_private_key_passphrase = {{ options.issuing_ca_private_key_passphrase }} cert_manager = barbican_cert_manager [haproxy_amphora] # This certificate is used by the ``Octavia`` controller to validate the # authenticity of the ``Amphorae`` connecting to it. server_ca = {{ options.issuing_cacert }} # This certificate is used by the ``Octavia`` controller when it takes on the # role as a ""client"" connecting to the ``Amphorae``. client_cert = {{ options.controller_cert }} ",,233,3
openstack%2Fcharm-octavia~stable%2F18.11~I29b15c5eb401646691f5281d2514128c40592613,openstack/charm-octavia,stable/18.11,I29b15c5eb401646691f5281d2514128c40592613,Add ``service_auth`` section,MERGED,2018-12-07 15:28:50.000000000,2018-12-07 22:19:02.000000000,2018-12-07 22:19:02.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 15:28:50.000000000', 'files': ['src/templates/rocky/octavia.conf'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4e762fcc2a14b821a0c63019a2efff480b105720', 'message': 'Add ``service_auth`` section\n\nOctavia requries a ``service_auth`` section in addition to\nthe ``keystone_authtoken`` section for use with its OpenStack\nresource orchestration activities.\n\nIn our case they will be equal as we have already branched\nservice accounts out into a separate doman and project.\n\nChange-Id: I29b15c5eb401646691f5281d2514128c40592613\n(cherry picked from commit 0cc41b5dcd3ef1214b64cb9309bff00dba80a55b)\n'}]",0,623521,4e762fcc2a14b821a0c63019a2efff480b105720,8,4,1,13686,,,0,"Add ``service_auth`` section

Octavia requries a ``service_auth`` section in addition to
the ``keystone_authtoken`` section for use with its OpenStack
resource orchestration activities.

In our case they will be equal as we have already branched
service accounts out into a separate doman and project.

Change-Id: I29b15c5eb401646691f5281d2514128c40592613
(cherry picked from commit 0cc41b5dcd3ef1214b64cb9309bff00dba80a55b)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/21/623521/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/rocky/octavia.conf'],1,4e762fcc2a14b821a0c63019a2efff480b105720,octavia-charm,[service_auth] auth_type = password auth_uri = {{ identity_service.service_protocol }}://{{ identity_service.service_host }}:{{ identity_service.service_port }} auth_url = {{ identity_service.auth_protocol }}://{{ identity_service.auth_host }}:{{ identity_service.auth_port }} project_domain_name = {{ identity_service.service_domain }} user_domain_name = {{ identity_service.service_domain }} project_name = {{ identity_service.service_tenant }} username = {{ identity_service.service_username }} password = {{ identity_service.service_password }} ,,10,0
openstack%2Fpuppet-barbican~master~I2237da6b2d786e2faea0ec92161042c4d50b7551,openstack/puppet-barbican,master,I2237da6b2d786e2faea0ec92161042c4d50b7551,Remove auth_uri,MERGED,2018-11-28 22:53:42.000000000,2018-12-07 22:14:55.000000000,2018-12-07 22:14:55.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 22:53:42.000000000', 'files': ['releasenotes/notes/remove-auth-uri-06d22b5a2e767492.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/a0a7a97ed474c4b1b972604136691afa62ae1c3c', 'message': 'Remove auth_uri\n\nChange-Id: I2237da6b2d786e2faea0ec92161042c4d50b7551\n'}]",0,620720,a0a7a97ed474c4b1b972604136691afa62ae1c3c,9,4,1,16137,,,0,"Remove auth_uri

Change-Id: I2237da6b2d786e2faea0ec92161042c4d50b7551
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/20/620720/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-auth-uri-06d22b5a2e767492.yaml', 'manifests/keystone/authtoken.pp']",2,a0a7a97ed474c4b1b972604136691afa62ae1c3c,remove-auth-uri," www_authenticate_uri => $www_authenticate_uri,","# [*auth_uri*] # (Optional) Complete public Identity API endpoint. # Defaults to undef # $auth_uri = undef, if $auth_uri { warning('The auth_uri parameter is deprecated. Please use www_authenticate_uri instead.') } $www_authenticate_uri_real = pick($auth_uri, $www_authenticate_uri) www_authenticate_uri => $www_authenticate_uri_real,",5,11
openstack%2Fneutron~master~I22283ae35c917ca422d814ed7d36ae26a427b5f3,openstack/neutron,master,I22283ae35c917ca422d814ed7d36ae26a427b5f3,Do not release DHCP lease when no client ID is set on port,ABANDONED,2018-12-05 02:00:47.000000000,2018-12-07 22:10:35.000000000,,"[{'_account_id': 1131}, {'_account_id': 8871}, {'_account_id': 16376}, {'_account_id': 21907}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-12-05 02:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78403b10a877d1dce82865beda74d4082c5f6d4d', 'message': ""Do not release DHCP lease when no client ID is set on port\n\nDHCP agent has a really strict enforcement of client ID,\nwhich is part of the DHCP extra options. If a VM advertises a client ID,\nDHCP agent will automatically release it's lease whenever *any* other\nport is updated/deleted. This happens even if no client ID is set on the port.\n\nWhen reload_allocations() is called, DHCP agent parses the current leases file,\nthe hosts file, and gets the list all the ports in the network from DB,\ncomputing 3 different sets. The set from leases file (v4_leases) will have\nsome client ID. The set from port DB will have None.\n\nAs a result the set subtraction does not filter out the entry,\nand the port's DHCP lease is constantly released, whenever the VM renews its lease\nand any other port in the network is updated/deleted, triggering this code path.\n\nSo, client ID should only be enforced, and leases released,\nif it's actually set on the port DB's DHCP extra Opts.\nIn that case it means someone knows what they are doing,\nand we want to check for a mismatch. If client ID on port is\nempty, it should not be treated like an unused lease.\n\nWe can't expect end users that just create VMs with auto created ports\nto know/care about DHCP client IDs, then manually update ports or\nchange app templates.\n\nIn some cases, like Windows VMs, the client ID is advertised as the MAC by default.\nIn fact, there is a Windows bug which prevents you from even turning this off:\nhttps://support.microsoft.com/en-us/help/3004537/dhcp-client-always-includes-option-61-in-the-dhcp-request-in-windows-8\n\nLinux VMs dont have this on by default, but they may be enabled\nin some templates unknown to users.\n\nCloses-Bug: #1806770\nChange-Id: I22283ae35c917ca422d814ed7d36ae26a427b5f3\n""}, {'number': 2, 'created': '2018-12-05 20:09:58.000000000', 'files': ['neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/50a2f9ce5afd705f5ab149b86525ec7f201defc9', 'message': ""Do not release DHCP lease when no client ID is set on port\n\nDHCP agent has a really strict enforcement of client ID,\nwhich is part of the DHCP extra options. If a VM advertises a client ID,\nDHCP agent will automatically release it's lease whenever *any* other\nport is updated/deleted. This happens even if no client ID is set on the port.\n\nWhen reload_allocations() is called, DHCP agent parses the current leases file,\nthe hosts file, and gets the list all the ports in the network from DB,\ncomputing 3 different sets. The set from leases file (v4_leases) will have\nsome client ID. The set from port DB will have None.\n\nAs a result the set subtraction does not filter out the entry,\nand the port's DHCP lease is constantly released, whenever the VM renews its lease\nand any other port in the network is updated/deleted, triggering this code path.\n\nSo, client ID should only be enforced, and leases released,\nif it's actually set on the port DB's DHCP extra Opts.\nIn that case it means someone knows what they are doing,\nand we want to check for a mismatch. If client ID on port is\nempty, it should not be treated like an unused lease.\n\nWe can't expect end users that just create VMs with auto created ports\nto know/care about DHCP client IDs, then manually update ports or\nchange app templates.\n\nIn some cases, like Windows VMs, the client ID is advertised as the MAC by default.\nIn fact, there is a Windows bug which prevents you from even turning this off:\nhttps://support.microsoft.com/en-us/help/3004537/dhcp-client-always-includes-option-61-in-the-dhcp-request-in-windows-8\n\nLinux VMs dont have this on by default, but they may be enabled\nin some templates unknown to users.\n\nCloses-Bug: #1806770\nChange-Id: I22283ae35c917ca422d814ed7d36ae26a427b5f3\n""}]",3,622634,50a2f9ce5afd705f5ab149b86525ec7f201defc9,14,6,2,21907,,,0,"Do not release DHCP lease when no client ID is set on port

DHCP agent has a really strict enforcement of client ID,
which is part of the DHCP extra options. If a VM advertises a client ID,
DHCP agent will automatically release it's lease whenever *any* other
port is updated/deleted. This happens even if no client ID is set on the port.

When reload_allocations() is called, DHCP agent parses the current leases file,
the hosts file, and gets the list all the ports in the network from DB,
computing 3 different sets. The set from leases file (v4_leases) will have
some client ID. The set from port DB will have None.

As a result the set subtraction does not filter out the entry,
and the port's DHCP lease is constantly released, whenever the VM renews its lease
and any other port in the network is updated/deleted, triggering this code path.

So, client ID should only be enforced, and leases released,
if it's actually set on the port DB's DHCP extra Opts.
In that case it means someone knows what they are doing,
and we want to check for a mismatch. If client ID on port is
empty, it should not be treated like an unused lease.

We can't expect end users that just create VMs with auto created ports
to know/care about DHCP client IDs, then manually update ports or
change app templates.

In some cases, like Windows VMs, the client ID is advertised as the MAC by default.
In fact, there is a Windows bug which prevents you from even turning this off:
https://support.microsoft.com/en-us/help/3004537/dhcp-client-always-includes-option-61-in-the-dhcp-request-in-windows-8

Linux VMs dont have this on by default, but they may be enabled
in some templates unknown to users.

Closes-Bug: #1806770
Change-Id: I22283ae35c917ca422d814ed7d36ae26a427b5f3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/622634/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,78403b10a877d1dce82865beda74d4082c5f6d4d,bug/1806770," new_leases = set() for port in self.network.ports: client_id = self._get_client_id(port) for alloc in port.fixed_ips: new_leases.add((alloc.ip_address, port.mac_address, client_id)) # Only enforce and release the lease if a Client ID is set # and there is a mismatch. If no client ID is set on the port, # don't enforce it despite what client ID the VM advertises # Otherwise the VM's lease will be released empty_entry = (k, v['iaid'], None) if (client_id is not None) and (empty_entry in new_leases) and (empty_entry in old_leases): client_id = None v4_leases.add((k, v['iaid'], client_id))"," v4_leases.add((k, v['iaid'], client_id)) new_leases = set() for port in self.network.ports: client_id = self._get_client_id(port) for alloc in port.fixed_ips: new_leases.add((alloc.ip_address, port.mac_address, client_id))",16,6
openstack%2Floci~master~I57e6cadd647e2bb624da4fea9749534de4617926,openstack/loci,master,I57e6cadd647e2bb624da4fea9749534de4617926,Add branching in LOCI,MERGED,2018-10-11 08:16:15.000000000,2018-12-07 22:05:39.000000000,2018-12-07 22:05:39.000000000,"[{'_account_id': 6593}, {'_account_id': 7822}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-10-11 08:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/f4eee556f1493cefe22c611f5ae506f7ebee10a5', 'message': 'Add branching in LOCI\n\nThis will allow us to create jobs with branches to publish\nimages for different upstream branches direcly in LOCI.\n\nChange-Id: I57e6cadd647e2bb624da4fea9749534de4617926\n'}, {'number': 2, 'created': '2018-10-11 08:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/45d7f3b8ed43228555836cb856af7b244805b394', 'message': 'Add branching in LOCI\n\nThis will allow us to create jobs with branches to publish\nimages for different upstream branches direcly in LOCI.\n\nChange-Id: I57e6cadd647e2bb624da4fea9749534de4617926\n'}, {'number': 3, 'created': '2018-10-17 06:53:51.000000000', 'files': ['playbooks/vars.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/6bcde4f00759d292335ee59f365753ad00521e8b', 'message': 'Add branching in LOCI\n\nThis will allow us to create jobs with branches to publish\nimages for different upstream branches direcly in LOCI.\n\nChange-Id: I57e6cadd647e2bb624da4fea9749534de4617926\n'}]",0,609616,6bcde4f00759d292335ee59f365753ad00521e8b,22,5,3,17068,,,0,"Add branching in LOCI

This will allow us to create jobs with branches to publish
images for different upstream branches direcly in LOCI.

Change-Id: I57e6cadd647e2bb624da4fea9749534de4617926
",git fetch https://review.opendev.org/openstack/loci refs/changes/16/609616/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/vars.yaml'],1,f4eee556f1493cefe22c611f5ae506f7ebee10a5,loci-branched-images,"# Branch name used for image building and publishing # If running in an environment with zuul and under a branched project # (like openstack/cinder, openstack/nova, ... but not openstack/loci) # this will be automatically be set to the appropriate branch name (rocky, queens, ...) branch: ""{{ branchname | default(zuul_execution_branch.split('/')[-1]) }}"" PROJECT_REF: ""{% if project_ref is defined %}{{ project_ref }}{% elif zuul_execution_branch is defined %}{{ zuul_execution_branch }} {% else %}master{%endif %}"" PROJECT_REF: ""{% if project_ref is defined %}{{ project_ref }}{% elif zuul_execution_branch is defined %}{{ zuul_execution_branch }} {% else %}master{%endif %}""# PROJECT_REF: ""{% if project_ref is defined %}{{ project_ref }}{% elif zuul_execution_branch is defined %}{{ zuul_execution_branch }} {% else %}master{%endif %}""","branch: ""{{ zuul_execution_branch.split('/')[-1] }}""",8,1
openstack%2Fansible-role-container-registry~master~I8b9fbd88537a995acac6ca91a16098d595cf9a5d,openstack/ansible-role-container-registry,master,I8b9fbd88537a995acac6ca91a16098d595cf9a5d,handlers: reload systemd daemon in task,ABANDONED,2018-12-07 21:32:42.000000000,2018-12-07 21:59:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-07 21:32:42.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/cbf902f49776c72f29d4524455d62783e2cc174d', 'message': 'handlers: reload systemd daemon in task\n\nThe systemd module allows you to run a daemon-reload directly\nfrom the task, so we can do that instead of having to run an\nextra task.\n\nChange-Id: I8b9fbd88537a995acac6ca91a16098d595cf9a5d\n'}]",0,623585,cbf902f49776c72f29d4524455d62783e2cc174d,3,1,1,1004,,,0,"handlers: reload systemd daemon in task

The systemd module allows you to run a daemon-reload directly
from the task, so we can do that instead of having to run an
extra task.

Change-Id: I8b9fbd88537a995acac6ca91a16098d595cf9a5d
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/85/623585/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,cbf902f49776c72f29d4524455d62783e2cc174d,, daemon_reload: true, - Docker | reload systemd - Docker | reload systemd- name: Docker | reload systemd systemd: daemon_reload: yes when: ansible_service_mgr == 'systemd' ,1,7
openstack%2Fopenstack-ansible-os_neutron~master~I8781f5e811ffb291f692e54d9ba56c834902b99a,openstack/openstack-ansible-os_neutron,master,I8781f5e811ffb291f692e54d9ba56c834902b99a,Install haproxy on ovn-controller nodes,MERGED,2018-11-29 19:23:43.000000000,2018-12-07 21:59:01.000000000,2018-12-07 21:59:01.000000000,"[{'_account_id': 13095}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-29 19:23:43.000000000', 'files': ['vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b87e5b1f6147a431a66786a3c9a724904d109077', 'message': 'Install haproxy on ovn-controller nodes\n\nHAproxy is utilized by the OVN metadata agent and should be installed\non ovn-controller nodes running the OVN metadata agent. This patch\ninstalls haproxy on said nodes.\n\nChange-Id: I8781f5e811ffb291f692e54d9ba56c834902b99a\nImplements: networking-ovn support\nPartial-Bug:  #1782625\n'}]",0,620994,b87e5b1f6147a431a66786a3c9a724904d109077,23,4,1,16011,,,0,"Install haproxy on ovn-controller nodes

HAproxy is utilized by the OVN metadata agent and should be installed
on ovn-controller nodes running the OVN metadata agent. This patch
installs haproxy on said nodes.

Change-Id: I8781f5e811ffb291f692e54d9ba56c834902b99a
Implements: networking-ovn support
Partial-Bug:  #1782625
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/94/620994/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/suse.yml']",3,b87e5b1f6147a431a66786a3c9a724904d109077,bug/1782625, - haproxy,,3,0
openstack%2Fcharm-guide~master~Ie82767e5ec24dbc7cc8a1164377823f23ae4850b,openstack/charm-guide,master,Ie82767e5ec24dbc7cc8a1164377823f23ae4850b,update notes to relate to bionic and queens,MERGED,2018-11-28 14:48:45.000000000,2018-12-07 21:34:24.000000000,2018-12-07 21:34:24.000000000,"[{'_account_id': 20635}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 14:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/cb30f2278cf1536de0fe4744274dae95647645a2', 'message': 'update notes to relate to bionic and queens\n\nChange-Id: Ie82767e5ec24dbc7cc8a1164377823f23ae4850b\n'}, {'number': 2, 'created': '2018-12-06 13:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/4050910233b77e0680d8afdfa222265ff537aa45', 'message': 'update notes to relate to bionic and queens\n\nChange-Id: Ie82767e5ec24dbc7cc8a1164377823f23ae4850b\n'}, {'number': 3, 'created': '2018-12-07 20:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/fbb3a50a698270051be76297852d75e9624a83f6', 'message': 'update notes to relate to bionic and queens\n\nChange-Id: Ie82767e5ec24dbc7cc8a1164377823f23ae4850b\n'}, {'number': 4, 'created': '2018-12-07 21:16:38.000000000', 'files': ['doc/source/openstack-on-lxd.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/3b77fd4c6f7634a97ed6b291c2ca753793d4e2e7', 'message': 'update notes to relate to bionic and queens\n\nChange-Id: Ie82767e5ec24dbc7cc8a1164377823f23ae4850b\n'}]",6,620614,3b77fd4c6f7634a97ed6b291c2ca753793d4e2e7,15,3,4,22799,,,0,"update notes to relate to bionic and queens

Change-Id: Ie82767e5ec24dbc7cc8a1164377823f23ae4850b
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/14/620614/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/openstack-on-lxd.rst'],1,cb30f2278cf1536de0fe4744274dae95647645a2,update_bionic_instructions,"The tools in the openstack-on-lxd git repository require the use of Juju 2.x, which provides full support for the LXD local provider. Ubuntu 18.04 (Bionic) should be used for this procedure, which comes with the appropriate repositories to install the Queens version of the Openstack clients. If you would like to use xenial or another non-lts version of ubuntu and want to make sure you have the right Openstack clients installed, you can run the following: .. code:: bash sudo add-apt-repository cloud-archive:openstac_release && sudo apt-get update e.g. sudo add-apt-repository cloud-archive:rocky && sudo apt-get update sudo apt update ; sudo apt install zfsutils-linux squid-deb-proxy bridge-utils \ lxc launch ubuntu-daily:bionicPrior to deploying the OpenStack on LXD bundle, you'll need to bootstrap a controller to manage your Juju models. Review the contents of the config.yaml prior to running the following command and edit as appropriate; this configures some defaults for containers created in the model including setting up things like APT proxy to improve performance of network operations.Next, deploy the OpenStack cloud using one of the bundles provided in the git repo you cloned earlier. For amd64, arm64, or ppc64el, the bundle name will simply not contain 's390x' Bundles are named intuitively using the following syntax: bundle-ubuntu_dist-openstack_release.yaml e.g. bundle-xenial-mitaka.yaml bundle-bionic-queens.yaml The version for s390x will, intuitively, contain 's390x' at the end of the filename before the extension. You can deploy the bundle as follows: Note: With Rocky, keystone v2 is disabled, so these instructions apply to keystone v3 only. With earlier versions, you will need to source the keystone v2 files, e.g. openrcv2 instead of openrcv3_project source openrcv3_project Note: If you are not using cinder, your flavours should not have ephemeral disks or instance creation will fail. Similarly, if you don't have enough disk space on your compute note, instance creation will fail. ","The tools in the openstack-on-lxd git repository require the use of Juju 2.x, which provides full support for the LXD local provider. The Queens version of the OpenStack clients should be used with this procedure. These tools are provided as part of the Ubuntu Cloud Archive on Ubuntu 16.04 LTS. sudo add-apt-repository cloud-archive:queens -y && sudo apt update sudo apt install zfsutils-linux squid-deb-proxy bridge-utils \ lxc launch ubuntu-daily:xenialPrior to deploying the OpenStack on LXD bundle, you'll need to bootstrap a controller to manage your Juju models:Review the contents of the config.yaml prior to running this command and edit as appropriate; this configures some defaults for containers created in the model including setting up things like APT proxy to improve performance of network operations.Next, deploy the OpenStack cloud using the provided bundle. For amd64, arm64, or ppc64el Mitaka: juju deploy bundle-xenial-mitaka.yaml For amd64, arm64, or ppc64el Newton: .. code:: bash juju deploy bundle-xenial-newton.yaml For amd64, arm64, or ppc64el Ocata: .. code:: bash juju deploy bundle-xenial-ocata.yaml For amd64, arm64, or ppc64el Pike: .. code:: bash juju deploy bundle-xenial-pike.yaml For amd64, arm64, or ppc64el Queens on Xenial: .. code:: bash juju deploy bundle-xenial-queens.yaml For amd64, arm64, or ppc64el Queens on Bionic:For s390x Mitaka: .. code:: bash juju deploy bundle-xenial-mitaka-s390x.yaml For s390x Newton: .. code:: bash juju deploy bundle-xenial-newton-s390x.yaml For s390x Ocata: .. code:: bash juju deploy bundle-xenial-ocata-s390x.yaml For s390x Pike: .. code:: bash juju deploy bundle-xenial-pike-s390x.yaml For s390x Queens on Xenial: .. code:: bash juju deploy bundle-xenial-queens-s390x.yaml For s390x Queens on Bionic: .. code:: bash juju deploy bundle-bionic-queens-s390x.yaml Note: While Keystone V3 can be enabled earlier than Queens, the example bundles provided herein use the default version of the Keystone API as shipped upstream. As of Queens, that default is V3, and prior to Queens the default was V2. source openrc",33,69
openstack%2Fcharm-interface-ceph-client~master~I6fba1ae6cb428c7f73446d051bf05657aba57ba2,openstack/charm-interface-ceph-client,master,I6fba1ae6cb428c7f73446d051bf05657aba57ba2,Add unit tests,MERGED,2018-12-07 16:12:25.000000000,2018-12-07 21:26:52.000000000,2018-12-07 21:26:52.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 16:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/cffa18899b59499e5ebdd4e5889f135ae58b8c1d', 'message': 'Add unit tests\n\nInterface can now have unit tests so I have added them.\n\nChange-Id: I6fba1ae6cb428c7f73446d051bf05657aba57ba2\n'}, {'number': 2, 'created': '2018-12-07 19:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/2bb0110a5c4d0a27b16f4f92da6c6aae7334283e', 'message': 'Add unit tests\n\nInterface can now have unit tests so I have added them.\n\nChange-Id: I6fba1ae6cb428c7f73446d051bf05657aba57ba2\n'}, {'number': 3, 'created': '2018-12-07 19:54:21.000000000', 'files': ['unit_tests/test_provides.py', 'test-requirements.txt', '.zuul.yaml', 'unit_tests/test_requires.py', '.testr.conf', 'unit_tests/__init__.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/e43d82e1f84792eef1c21f41da3bf3efb0dd2df5', 'message': 'Add unit tests\n\nInterface can now have unit tests so I have added them.\n\nChange-Id: I6fba1ae6cb428c7f73446d051bf05657aba57ba2\n'}]",0,623542,e43d82e1f84792eef1c21f41da3bf3efb0dd2df5,14,3,3,12549,,,0,"Add unit tests

Interface can now have unit tests so I have added them.

Change-Id: I6fba1ae6cb428c7f73446d051bf05657aba57ba2
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/42/623542/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_provides.py', 'test-requirements.txt', '.testr.conf', 'unit_tests/test_requires.py', 'unit_tests/__init__.py', 'tox.ini']",6,cffa18899b59499e5ebdd4e5889f135ae58b8c1d,feature/unit_tests,"envlist = pep8,py35[testenv:py36] basepython = python3.6 deps = -r{toxinidir}/test-requirements.txt commands = ostestr {posargs} ","envlist = pep8,py27,py34,py35[testenv:py27] basepython = python2.7 deps = -r{toxinidir}/test-requirements.txt # TODO: Need to write unit tests then remove the following command. # https://github.com/juju/charm-tools/issues/249 commands = /bin/true [testenv:py34] basepython = python3.4 deps = -r{toxinidir}/test-requirements.txt # TODO: Need to write unit tests then remove the following command. # https://github.com/juju/charm-tools/issues/249 commands = /bin/true ",486,17
openstack%2Fos-vif~master~I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc,openstack/os-vif,master,I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc,add isolate_vif config option,MERGED,2018-10-22 23:22:34.000000000,2018-12-07 21:13:42.000000000,2018-12-07 21:13:42.000000000,"[{'_account_id': 7}, {'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 7730}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-22 23:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2e36053b21ac5a411d4dcafee0763523feab2ae0', 'message': 'add isolate_vif config option\n\n- This change add a new isolate_vif config\n  option to the OVS plugin.\n\n- The isolate_vif option defaults to False\n  for backwards compatiblity with sdn based\n  deployments.\n\n- This change is a partial mitigation of bug\n  1734320, when isolate_vif is set to True\n  os-vif will assign VIFs to the neutron\n  l2 agent dead VLAN 4095. This should only\n  be set when using the ml2/ovs neutron\n  backend.\n\nChange-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc\nPartial-Bug: #1734320\n'}, {'number': 2, 'created': '2018-11-01 21:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/f2160dd78bf42aceaf1825a789bc968620985a01', 'message': 'add isolate_vif config option\n\n- This change add a new isolate_vif config\n  option to the OVS plugin.\n\n- The isolate_vif option defaults to False\n  for backwards compatiblity with sdn based\n  deployments.\n\n- This change is a partial mitigation of bug\n  1734320, when isolate_vif is set to True\n  os-vif will assign VIFs to the neutron\n  l2 agent dead VLAN 4095. This should only\n  be set when using the ml2/ovs neutron\n  backend.\n\nChange-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc\nPartial-Bug: #1734320\n'}, {'number': 3, 'created': '2018-11-01 21:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2c48976889b28f458b0fd8b7cd375373eb9f5788', 'message': 'add isolate_vif config option\n\n- This change add a new isolate_vif config\n  option to the OVS plugin.\n\n- The isolate_vif option defaults to False\n  for backwards compatiblity with sdn based\n  deployments.\n\n- This change is a partial mitigation of bug\n  1734320, when isolate_vif is set to True\n  os-vif will assign VIFs to the neutron\n  l2 agent dead VLAN 4095. This should only\n  be set when using the ml2/ovs neutron\n  backend.\n\nChange-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc\nPartial-Bug: #1734320\n'}, {'number': 4, 'created': '2018-11-06 21:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/282ec5063a415dbccae6b9d19b4c754d813a9d77', 'message': 'add isolate_vif config option\n\n- This change add a new isolate_vif config\n  option to the OVS plugin.\n\n- The isolate_vif option defaults to False\n  for backwards compatiblity with sdn based\n  deployments.\n\n- This change is a partial mitigation of bug\n  1734320, when isolate_vif is set to True\n  os-vif will assign VIFs to the neutron\n  l2 agent dead VLAN 4095. This should only\n  be set when using the ml2/ovs neutron\n  backend.\n\nChange-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc\nPartial-Bug: #1734320\n'}, {'number': 5, 'created': '2018-11-07 19:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c3400bdeaef0e6b09e6c5f1906f6cf42ed9d4e1b', 'message': 'add isolate_vif config option\n\n- This change add a new isolate_vif config\n  option to the OVS plugin.\n\n- The isolate_vif option defaults to False\n  for backwards compatiblity with sdn based\n  deployments.\n\n- This change is a partial mitigation of bug\n  1734320, when isolate_vif is set to True\n  os-vif will assign VIFs to the neutron\n  l2 agent dead VLAN 4095. This should only\n  be set when using the ml2/ovs neutron\n  backend.\n\nChange-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc\nPartial-Bug: #1734320\n'}, {'number': 6, 'created': '2018-11-14 08:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7fa3fc6a75d11f519fb91a0150ff7703081130ca', 'message': 'add isolate_vif config option\n\n- This change add a new isolate_vif config\n  option to the OVS plugin.\n\n- The isolate_vif option defaults to False\n  for backwards compatiblity with sdn based\n  deployments.\n\n- This change is a partial mitigation of bug\n  1734320, when isolate_vif is set to True\n  os-vif will assign VIFs to the neutron\n  l2 agent dead VLAN 4095. This should only\n  be set when using the ml2/ovs neutron\n  backend.\n\nChange-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc\nPartial-Bug: #1734320\n'}, {'number': 7, 'created': '2018-11-21 20:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e31579c2ea99937661e12688b1b8bf5f81b92872', 'message': 'add isolate_vif config option\n\n- This change add a new isolate_vif config\n  option to the OVS plugin.\n\n- The isolate_vif option defaults to False\n  for backwards compatiblity with sdn based\n  deployments.\n\n- This change is a partial mitigation of bug\n  1734320, when isolate_vif is set to True\n  os-vif will assign VIFs to the neutron\n  l2 agent dead VLAN 4095. This should only\n  be set when using the ml2/ovs neutron\n  backend.\n\nChange-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc\nPartial-Bug: #1734320\n'}, {'number': 8, 'created': '2018-12-07 12:22:45.000000000', 'files': ['vif_plug_ovs/constants.py', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'releasenotes/notes/always-plug-vifs-for-ovs-1d033fc49a9c6c4e.yaml'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d291213f1ea62f93008deef5224506fb5ea5ee0d', 'message': 'add isolate_vif config option\n\n- This change add a new isolate_vif config\n  option to the OVS plugin.\n\n- The isolate_vif option defaults to False\n  for backwards compatiblity with SDN-based\n  deployments.\n\n- This change is a partial mitigation of bug\n  1734320, when isolate_vif is set to True\n  os-vif will assign VIFs to the neutron\n  l2 agent dead VLAN 4095. This should only\n  be set when using the ml2/ovs neutron\n  backend.\n\nChange-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc\nPartial-Bug: #1734320\n'}]",46,612534,d291213f1ea62f93008deef5224506fb5ea5ee0d,39,9,8,11604,,,0,"add isolate_vif config option

- This change add a new isolate_vif config
  option to the OVS plugin.

- The isolate_vif option defaults to False
  for backwards compatiblity with SDN-based
  deployments.

- This change is a partial mitigation of bug
  1734320, when isolate_vif is set to True
  os-vif will assign VIFs to the neutron
  l2 agent dead VLAN 4095. This should only
  be set when using the ml2/ovs neutron
  backend.

Change-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc
Partial-Bug: #1734320
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/34/612534/8 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/constants.py', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'releasenotes/notes/always-plug-vifs-for-ovs-1d033fc49a9c6c4e.yaml']",5,2e36053b21ac5a411d4dcafee0763523feab2ae0,bug/1734320," - | In this release, a new config option was introduced for the OVS VIF plugin. The isolate_vif option was added as a partial mitigation of bug 1734320. see https://bugs.launchpad.net/neutron/+bug/1734320 for details. The isolate_vif option default to False for backwards compatibility with sdn controller based OpenStack deployments. For all deployments using the reference implementation of ML2/OVS with the neutron l2 agents, isolate_vif should be set to True. This option instructs the OVS plugin to assign the VIF to the Neutron dead VLAN (4095) when attaching the interface to OVS.",,43,4
openstack%2Fkuryr-kubernetes~master~Icde407b98536a25ad47eec99786e67f0c3cdbf0c,openstack/kuryr-kubernetes,master,Icde407b98536a25ad47eec99786e67f0c3cdbf0c,Enable mutable config in kuryr_kubernetes,ABANDONED,2018-07-25 19:55:51.000000000,2018-12-07 21:11:55.000000000,,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-25 19:55:51.000000000', 'files': ['kuryr_kubernetes/controller/service.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/94ffd536743a438e475d60e2878e274fc75d6e53', 'message': ""Enable mutable config in kuryr_kubernetes\n\nNew releases of oslo.config support a 'mutable' parameter to Opts.\noslo.service provides an option here Icec3e664f3fe72614e373b2938e8dee53cf8bc5e\nallows services to tell oslo.service they want mutate_config_files to be\ncalled by passing a parameter.\n\nThis commit is to use the same. This allows kuryr_kubernetes to benefit from\nI1e7a69de169cc85f4c09954b2f46ce2da7106d90, where the 'debug' option\n(owned by oslo.log) is made mutable. we should be able to turn debug\nlogging on and off by changing the config.\n\ntc goal:\nhttps://governance.openstack.org/tc/goals/rocky/enable-mutable-configuration.html\n\nChange-Id: Icde407b98536a25ad47eec99786e67f0c3cdbf0c\n""}]",0,585866,94ffd536743a438e475d60e2878e274fc75d6e53,3,3,1,16367,,,0,"Enable mutable config in kuryr_kubernetes

New releases of oslo.config support a 'mutable' parameter to Opts.
oslo.service provides an option here Icec3e664f3fe72614e373b2938e8dee53cf8bc5e
allows services to tell oslo.service they want mutate_config_files to be
called by passing a parameter.

This commit is to use the same. This allows kuryr_kubernetes to benefit from
I1e7a69de169cc85f4c09954b2f46ce2da7106d90, where the 'debug' option
(owned by oslo.log) is made mutable. we should be able to turn debug
logging on and off by changing the config.

tc goal:
https://governance.openstack.org/tc/goals/rocky/enable-mutable-configuration.html

Change-Id: Icde407b98536a25ad47eec99786e67f0c3cdbf0c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/66/585866/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/service.py'],1,94ffd536743a438e475d60e2878e274fc75d6e53,mutable-config," kuryrk8s_launcher = service.launch(config.CONF, KuryrK8sService(), restart_method='mutate')"," kuryrk8s_launcher = service.launch(config.CONF, KuryrK8sService())",2,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Frocky~I5a171ee83edcfa152b944e0bc39a90f2a8546916,openstack/openstack-ansible-os_neutron,stable/rocky,I5a171ee83edcfa152b944e0bc39a90f2a8546916,ovs: force to secure fail mode by default,MERGED,2018-10-25 11:46:19.000000000,2018-12-07 21:10:34.000000000,2018-12-07 21:10:34.000000000,"[{'_account_id': 1004}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-25 11:46:19.000000000', 'files': ['tasks/providers/ovs_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b168b13e101176d201a2aeadf3d45a871ae160e7', 'message': ""ovs: force to secure fail mode by default\n\nThe upstream Ansible module seems to pass through a 'None' when\ncreating the port with safe_mode missing which breaks.  This patch\nforces it to the Neutron required mode of 'secure'.\n\nChange-Id: I5a171ee83edcfa152b944e0bc39a90f2a8546916\n(cherry picked from commit 24103ca169793292964bb86f742b8e08977804d7)\n""}]",0,613286,b168b13e101176d201a2aeadf3d45a871ae160e7,12,4,1,1004,,,0,"ovs: force to secure fail mode by default

The upstream Ansible module seems to pass through a 'None' when
creating the port with safe_mode missing which breaks.  This patch
forces it to the Neutron required mode of 'secure'.

Change-Id: I5a171ee83edcfa152b944e0bc39a90f2a8546916
(cherry picked from commit 24103ca169793292964bb86f742b8e08977804d7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/86/613286/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/providers/ovs_config.yml'],1,b168b13e101176d201a2aeadf3d45a871ae160e7,fix-ovs-port-stable/rocky, fail_mode: secure,,1,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Frocky~Ife8e42d18db43ec37dbf206a917ba3872071775a,openstack/openstack-ansible-os_neutron,stable/rocky,Ife8e42d18db43ec37dbf206a917ba3872071775a,Include dependency packages in distro install list,MERGED,2018-11-09 15:34:35.000000000,2018-12-07 21:10:33.000000000,2018-12-07 21:10:33.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-09 15:34:35.000000000', 'files': ['vars/distro_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/1c3e437b712c64fa8642be0207fd35cad760d23f', 'message': 'Include dependency packages in distro install list\n\nThe neutron_package_list for a distro install included distro provided\npackages for the neutron linux-bridge-agent, vpnaas, lbaas services\nbut not their required dependencies.\n\nChange-Id: Ife8e42d18db43ec37dbf206a917ba3872071775a\n(cherry picked from commit 49643b67542ebd35e713a537e1df7fe72648e500)\n'}]",0,616984,1c3e437b712c64fa8642be0207fd35cad760d23f,7,3,1,14805,,,0,"Include dependency packages in distro install list

The neutron_package_list for a distro install included distro provided
packages for the neutron linux-bridge-agent, vpnaas, lbaas services
but not their required dependencies.

Change-Id: Ife8e42d18db43ec37dbf206a917ba3872071775a
(cherry picked from commit 49643b67542ebd35e713a537e1df7fe72648e500)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/84/616984/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/distro_install.yml'],1,1c3e437b712c64fa8642be0207fd35cad760d23f,dependency_distro_packages-stable/rocky, {% set _ = packages.extend(neutron_lxb_distro_packages) %} {% set _ = packages.extend(neutron_lbaas_distro_packages) %} {% set _ = packages.extend(neutron_vpnaas_distro_packages) %},,3,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I86483225754a5b1c6030ef21e2c0cdf2cd908c3b,openstack/openstack-ansible-lxc_hosts,master,I86483225754a5b1c6030ef21e2c0cdf2cd908c3b,prep: remove old machinectl workarounds,MERGED,2018-12-07 15:14:19.000000000,2018-12-07 20:53:46.000000000,2018-12-07 16:42:38.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2018-12-07 15:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ed569b470f16d918a6ee895488538bf519223cfb', 'message': ""prep: remove old machinectl workarounds\n\nThere are a few manual workarounds that we're placing in order\nto workaround old versions of machinectl however we don't actually\nleverage those and they seem to be causing a dbus restart which\ncauses extra problems.\n\nThis patch removes those workarounds in order to prevent restarting\ndbus which causes the system to start timing out on systemd-logind.\n\nChange-Id: I86483225754a5b1c6030ef21e2c0cdf2cd908c3b\nCloses-Bug: #1807405\n""}, {'number': 2, 'created': '2018-12-07 15:37:29.000000000', 'files': ['handlers/main.yml', 'releasenotes/notes/remove-machinectl-workarounds-d67a4739f6385f54.yaml', 'tasks/lxc_cache_preparation_systemd_old.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f2ac4274033978f160ab9b788bf2796859f74ded', 'message': ""prep: remove old machinectl workarounds\n\nThere are a few manual workarounds that we're placing in order\nto workaround old versions of machinectl however we don't actually\nleverage those and they seem to be causing a dbus restart which\ncauses extra problems.\n\nThis patch removes those workarounds in order to prevent restarting\ndbus which causes the system to start timing out on systemd-logind.\n\nChange-Id: I86483225754a5b1c6030ef21e2c0cdf2cd908c3b\nCloses-Bug: #1807405\n""}]",2,623515,f2ac4274033978f160ab9b788bf2796859f74ded,11,5,2,1004,,,0,"prep: remove old machinectl workarounds

There are a few manual workarounds that we're placing in order
to workaround old versions of machinectl however we don't actually
leverage those and they seem to be causing a dbus restart which
causes extra problems.

This patch removes those workarounds in order to prevent restarting
dbus which causes the system to start timing out on systemd-logind.

Change-Id: I86483225754a5b1c6030ef21e2c0cdf2cd908c3b
Closes-Bug: #1807405
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/15/623515/1 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'tasks/lxc_cache_preparation_systemd_old.yml']",2,ed569b470f16d918a6ee895488538bf519223cfb,bug/1807405,,# In later versions of systemd this is not needed. Referenced in # the following ML post resolves the bug. # * https://lists.freedesktop.org/archives/systemd-devel/2015-March/029151.html - name: Move machined service into place template: src: systemd-machined.service.j2 dest: /etc/systemd/system/systemd-machined.service register: machined_unit notify: - Reload systemd units - Restart machined # In later versions of systemd this is not needed. Referenced in # the following commit resolves the bug. # * https://cgit.freedesktop.org/systemd/systemd/commit/src/machine/org.freedesktop.machine1.conf?id=72c3897f77a7352618ea76b880a6764f52d6327b - name: Move machine1 dbus config into place copy: src: org.freedesktop.machine1.conf dest: /etc/dbus-1/system.d/org.freedesktop.machine1.conf register: machine1_conf notify: - Reload systemd units - Restart dbus # Ensure lxc networks are running as they're supposed to - meta: flush_handlers ,0,37
openstack%2Fcinder~stable%2Fpike~Id7a157ae7a85df3072cf671ee621e50be884169e,openstack/cinder,stable/pike,Id7a157ae7a85df3072cf671ee621e50be884169e,ScaleIo Driver: Add _get_storage_pool_properties,ABANDONED,2018-12-06 22:45:21.000000000,2018-12-07 20:48:38.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 25033}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-12-06 22:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/efc9f3f5a6a7011e19c45a90bcff2acf2965dacd', 'message': 'ScaleIo Driver: Add _get_storage_pool_properties\n\nBackport https://review.openstack.org/#/c/601681/ to stable/pike\nwas intended to repair bug 1784871, a security issue affecting\nthe scaleio driver. This backport introduced method\n_is_volume_creation_safe, which calls _get_storage_pool_properties.\n\nThis change introduces implementation to allow listing of\nmanageable volumes.\n\nPartial-Bug: #1795458\n(cherry-picked from I76c62034bd45d00eb0e10d18f2ed21f08a3e3d10)\nSigned-off-by: Laura Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: Id7a157ae7a85df3072cf671ee621e50be884169e\n'}, {'number': 2, 'created': '2018-12-06 22:53:31.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_get_manageable.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e24f2bc19f1c86ed365b135c6f14425f8596292', 'message': 'ScaleIo Driver: Add _get_storage_pool_properties\n\nBackport https://review.openstack.org/#/c/601681/ to stable/pike\nwas intended to repair bug 1784871, a security issue affecting\nthe scaleio driver. This backport introduced method\n_is_volume_creation_safe, which calls _get_storage_pool_properties.\n\nThis change introduces implementation to allow listing of\nmanageable volumes.\n\nPartial-Bug: #1795458\n(cherry-picked from I76c62034bd45d00eb0e10d18f2ed21f08a3e3d10)\nSigned-off-by: Laura Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: Id7a157ae7a85df3072cf671ee621e50be884169e\n'}]",0,623343,3e24f2bc19f1c86ed365b135c6f14425f8596292,12,11,2,20813,,,0,"ScaleIo Driver: Add _get_storage_pool_properties

Backport https://review.openstack.org/#/c/601681/ to stable/pike
was intended to repair bug 1784871, a security issue affecting
the scaleio driver. This backport introduced method
_is_volume_creation_safe, which calls _get_storage_pool_properties.

This change introduces implementation to allow listing of
manageable volumes.

Partial-Bug: #1795458
(cherry-picked from I76c62034bd45d00eb0e10d18f2ed21f08a3e3d10)
Signed-off-by: Laura Sofia Enriquez <lsofia.enriquez@gmail.com>

Change-Id: Id7a157ae7a85df3072cf671ee621e50be884169e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/623343/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_get_manageable.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py']",2,efc9f3f5a6a7011e19c45a90bcff2acf2965dacd,bug/1784871,"import refrom cinder import utilsfrom cinder.volume.drivers.dell_emc.scaleio import simplecache """"""Cinder ScaleIO Driver ScaleIO Driver version history: 2.0.1: Added support for SIO 1.3x in addition to 2.0.x 2.0.2: Added consistency group support to generic volume groups 2.0.3: Added cache for storage pool and protection domains info """""" VERSION = ""2.0.3"" # simple caches for PD and SP properties self.spCache = simplecache.SimpleCache(""Storage Pool"", age_minutes=5) self.pdCache = simplecache.SimpleCache(""Protection Domain"", age_minutes=5) # validate the storage pools and check if zero padding is enabled for pool in self.storage_pools: try: pd, sp = pool.split(':') except (ValueError, IndexError): msg = (_(""Invalid storage pool name. The correct format is: "" ""protection_domain:storage_pool. "" ""Value supplied was: %(pool)s"") % {'pool': pool}) raise exception.InvalidInput(reason=msg) try: properties = self._get_storage_pool_properties(pd, sp) padded = properties['zeroPaddingEnabled'] except Exception: msg = (_(""Unable to retrieve properties for pool, %(pool)s"") % {'pool': pool}) raise exception.InvalidInput(reason=msg) if not padded: LOG.warning(""Zero padding is disabled for pool, %s. "" ""This could lead to existing data being "" ""accessible on new thick provisioned volumes. "" ""Consult the ScaleIO product documentation "" ""for information on how to enable zero padding "" ""and prevent this from occurring."", pool) response = self._get_protection_domain_properties(domain_name) if response is None: return None return response['id'] def _get_protection_domain_properties(self, domain_name): """"""Get the props of the configured protection domain"""""" if not domain_name: msg = _(""Error getting domain id from None name."") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) cached_val = self.pdCache.get_value(domain_name) if cached_val is not None: return cached_val encoded_domain_name = urllib.parse.quote(domain_name, '') req_vars = {'server_ip': self.server_ip, 'server_port': self.server_port, 'encoded_domain_name': encoded_domain_name} request = (""https://%(server_ip)s:%(server_port)s"" ""/api/types/Domain/instances/getByName::"" ""%(encoded_domain_name)s"") % req_vars r, domain_id = self._execute_scaleio_get_request(request) if not domain_id: msg = (_(""Domain with name %s wasn't found."") % domain_name) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if r.status_code != http_client.OK and ""errorCode"" in domain_id: msg = (_(""Error getting domain id from name %(name)s: %(id)s."") % {'name': domain_name, 'id': domain_id['message']}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) LOG.info(""Domain id is %s."", domain_id) req_vars = {'server_ip': self.server_ip, 'server_port': self.server_port, 'domain_id': domain_id} request = (""https://%(server_ip)s:%(server_port)s"" ""/api/instances/ProtectionDomain::%(domain_id)s"") % req_vars r, response = self._execute_scaleio_get_request(request) if r.status_code != http_client.OK: msg = (_(""Error getting domain properties from id %(domain_id)s: "" ""%(err_msg)s."") % {'domain_id': domain_id, 'err_msg': response}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) self.pdCache.update(domain_name, response) return response def _get_storage_pool_properties(self, domain_name, pool_name): """"""Get the props of the configured storage pool"""""" cached_val = self.spCache.get_value(fullname) if cached_val is not None: return cached_val req_vars = {'server_ip': self.server_ip, 'server_port': self.server_port, 'pool_id': pool_id} request = (""https://%(server_ip)s:%(server_port)s"" ""/api/instances/StoragePool::%(pool_id)s"") % req_vars r, response = self._execute_scaleio_get_request(request) if r.status_code != http_client.OK: msg = (_(""Error getting pool properties from id %(pool_id)s: "" ""%(err_msg)s."") % {'pool_id': pool_id, 'err_msg': response}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) self.spCache.update(fullname, response) return response def _get_storage_pool_id(self, domain_name, pool_name): """"""Get the id of the configured storage pool"""""" response = self._get_storage_pool_properties(domain_name, pool_name) if response is None: return None return response['id'] sp_id = self._get_storage_pool_id() req_vars = {'server_ip': self.server_ip, 'server_port': self.server_port, 'storage_pool_id': sp_id} request = (""https://%(server_ip)s:%(server_port)s"" ""/api/instances/StoragePool::%(storage_pool_id)s"" ""/relationships/Volume"") % req_vars LOG.info(""ScaleIO get volumes in SP: %s."", request) r, volumes = self._execute_scaleio_get_request(request) if r.status_code != http_client.OK: msg = (_(""Error calling api "" ""status code: %d"") % r.status_code) raise exception.VolumeBackendAPIException(data=msg) return volumes","import refrom cinder import utils """"""Dell EMC ScaleIO Driver."""""" VERSION = ""2.0.2"" # Major changes # 2.0.1: Added support for SIO 1.3x in addition to 2.0.x # 2.0.2: Added consistency group support to generic volume groups # simple cache for domain and sp ids self.cache_pd = {} self.cache_sp = {} if not domain_name: msg = (_(""Error getting domain id from None name."")) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # do we already have the id? if domain_name in self.cache_pd: return self.cache_pd[domain_name] encoded_domain_name = urllib.parse.quote(domain_name, '') req_vars = {'server_ip': self.server_ip, 'server_port': self.server_port, 'encoded_domain_name': encoded_domain_name} request = (""https://%(server_ip)s:%(server_port)s"" ""/api/types/Domain/instances/getByName::"" ""%(encoded_domain_name)s"") % req_vars r, domain_id = self._execute_scaleio_get_request(request) if not domain_id: msg = (_(""Domain with name %s wasn't found."") % domain_name) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if r.status_code != http_client.OK and ""errorCode"" in domain_id: msg = (_(""Error getting domain id from name %(name)s: %(id)s."") % {'name': domain_name, 'id': domain_id['message']}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # add it to our cache self.cache_pd[domain_name] = domain_id return domain_id def _get_storage_pool_id(self, domain_name, pool_name): """"""Get the id of the configured storage pool"""""" if fullname in self.cache_sp: return self.cache_sp[fullname] # add it to ou cache self.cache_sp[fullname] = pool_id return pool_id all_volumes = [] # check for every storage pool configured for sp_name in self.storage_pools: splitted_name = sp_name.split(':') domain_name = splitted_name[0] pool_name = splitted_name[1] sp_id = self._get_storage_pool_id(domain_name, pool_name) req_vars = {'server_ip': self.server_ip, 'server_port': self.server_port, 'storage_pool_id': sp_id} request = (""https://%(server_ip)s:%(server_port)s"" ""/api/instances/StoragePool::%(storage_pool_id)s"" ""/relationships/Volume"") % req_vars r, volumes = self._execute_scaleio_get_request(request) if r.status_code != http_client.OK: msg = (_(""Error calling api "" ""status code: %d"") % r.status_code) raise exception.VolumeBackendAPIException(data=msg) all_volumes.extend(volumes) return all_volumes",161,83
openstack%2Fopenstack-helm-addons~master~Id92c23a9009f49d065465376288667cd231830a8,openstack/openstack-helm-addons,master,Id92c23a9009f49d065465376288667cd231830a8,Fix tls secret keys identification for services,MERGED,2018-12-07 19:10:37.000000000,2018-12-07 20:44:38.000000000,2018-12-07 20:44:38.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-12-07 19:10:37.000000000', 'files': ['ranger-agent/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/dc58021a692557208ef9735edb89829f04551806', 'message': 'Fix tls secret keys identification for services\n\nChange-Id: Id92c23a9009f49d065465376288667cd231830a8\n'}]",0,623565,dc58021a692557208ef9735edb89829f04551806,7,3,1,24999,,,0,"Fix tls secret keys identification for services

Change-Id: Id92c23a9009f49d065465376288667cd231830a8
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/65/623565/1 && git format-patch -1 --stdout FETCH_HEAD,['ranger-agent/values.yaml'],1,dc58021a692557208ef9735edb89829f04551806,, ranger_agent:, ranger-agent:,1,1
openstack%2Ftripleo-validations~stable%2Frocky~I2839db5d23e2c6e5778f07e2e322d7cce7e14bc8,openstack/tripleo-validations,stable/rocky,I2839db5d23e2c6e5778f07e2e322d7cce7e14bc8,Fix mysql-open-files-limit validation to work in HA mode,MERGED,2018-12-06 09:48:28.000000000,2018-12-07 20:43:20.000000000,2018-12-07 20:43:20.000000000,"[{'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 09:48:28.000000000', 'files': ['validations/mysql-open-files-limit.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/69e781d6f428cf56f377ce9054565908f3fd8923', 'message': ""Fix mysql-open-files-limit validation to work in HA mode\n\nOn a minimal OC installation (1 Controller + 1 Compute), the database container\nis called 'mysql'. On a HA OC installation (3 Controllers + 1 Compute), the\ndatabase containers are called 'galera-bundle-docker[0|1|2]'\n\nThis patch adds the support for both installation mode.\n\nChange-Id: I2839db5d23e2c6e5778f07e2e322d7cce7e14bc8\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 30a4145c13d25cdaaa9accb0ad041fd1b8f741cc)\n""}]",0,623177,69e781d6f428cf56f377ce9054565908f3fd8923,13,5,1,11491,,,0,"Fix mysql-open-files-limit validation to work in HA mode

On a minimal OC installation (1 Controller + 1 Compute), the database container
is called 'mysql'. On a HA OC installation (3 Controllers + 1 Compute), the
database containers are called 'galera-bundle-docker[0|1|2]'

This patch adds the support for both installation mode.

Change-Id: I2839db5d23e2c6e5778f07e2e322d7cce7e14bc8
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 30a4145c13d25cdaaa9accb0ad041fd1b8f741cc)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/77/623177/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/mysql-open-files-limit.yaml'],1,69e781d6f428cf56f377ce9054565908f3fd8923,mysql_ulimit-stable/rocky," shell: docker exec -u root $(docker ps -q --filter ""name=mysql|galera-bundle"" | head -1) /bin/bash -c 'ulimit -n'"," command: ""docker exec -u root mysql /bin/bash -c 'ulimit -n'""",1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I899de7732c5b29ed70d4d487fdbc363117ac327f,openstack/tripleo-heat-templates,stable/rocky,I899de7732c5b29ed70d4d487fdbc363117ac327f,Set facter variable 'uuid' explicitly in docker-puppet.py,MERGED,2018-12-07 06:50:01.000000000,2018-12-07 20:43:19.000000000,2018-12-07 20:43:19.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-07 06:50:01.000000000', 'files': ['puppet/extraconfig/pre_deploy/per_node.yaml', 'docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d89fe2a99251f0b7da0f182e811c5e85e5c3de85', 'message': ""Set facter variable 'uuid' explicitly in docker-puppet.py\n\nUnprivileged docker-puppet-$service containers don't have access\nto devices and can't get facter 'uuid' variable. Therefore per node\nhiera customizations don't work. We can work around this by using\n/sys/class/dmi/id/product_uuid instead.\n\ndmidecode>=3.1 returns system-id in lower case, so it's better to\nuse lowe case for compatibility.\n\nThis would also require changes to the docs as ironic node\nintrospection data may show it in both cases.\n\nChange-Id: I899de7732c5b29ed70d4d487fdbc363117ac327f\nCloses-Bug: #1806011\n(cherry picked from commit 4de17945a1d5e9ed3aa2c535b426edf84936ded7)\n""}]",0,623404,d89fe2a99251f0b7da0f182e811c5e85e5c3de85,7,3,1,8833,,,0,"Set facter variable 'uuid' explicitly in docker-puppet.py

Unprivileged docker-puppet-$service containers don't have access
to devices and can't get facter 'uuid' variable. Therefore per node
hiera customizations don't work. We can work around this by using
/sys/class/dmi/id/product_uuid instead.

dmidecode>=3.1 returns system-id in lower case, so it's better to
use lowe case for compatibility.

This would also require changes to the docs as ironic node
introspection data may show it in both cases.

Change-Id: I899de7732c5b29ed70d4d487fdbc363117ac327f
Closes-Bug: #1806011
(cherry picked from commit 4de17945a1d5e9ed3aa2c535b426edf84936ded7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/623404/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/extraconfig/pre_deploy/per_node.yaml', 'docker/docker-puppet.py']",2,d89fe2a99251f0b7da0f182e811c5e85e5c3de85,bug/1806011, export FACTER_uuid=$(cat /sys/class/dmi/id/product_uuid | tr '[:upper:]' '[:lower:]'),,4,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~Id83bed36f3ab7f8d0fbdbd03f3960307af62fc84,openstack/tripleo-heat-templates,stable/rocky,Id83bed36f3ab7f8d0fbdbd03f3960307af62fc84,Simplify ssh known_hosts entries for non-default port,MERGED,2018-09-11 21:22:34.000000000,2018-12-07 20:43:17.000000000,2018-12-07 20:43:17.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-11 21:22:34.000000000', 'files': ['puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a05790d51ebba48cf7e9bf230a4cb87acac7315', 'message': ""Simplify ssh known_hosts entries for non-default port\n\n'[host]*' matches both default port and non-default port.\n\nChange-Id: Id83bed36f3ab7f8d0fbdbd03f3960307af62fc84\nRelated-bug: #1789452\n(cherry picked from commit c70d197d36d48ce29486e2744a8bc9fda630dd11)\n""}]",0,601818,7a05790d51ebba48cf7e9bf230a4cb87acac7315,8,5,1,23811,,,0,"Simplify ssh known_hosts entries for non-default port

'[host]*' matches both default port and non-default port.

Change-Id: Id83bed36f3ab7f8d0fbdbd03f3960307af62fc84
Related-bug: #1789452
(cherry picked from commit c70d197d36d48ce29486e2744a8bc9fda630dd11)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/601818/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/role.role.j2.yaml'],1,7a05790d51ebba48cf7e9bf230a4cb87acac7315,bug/1789452," template: ""[PRIMARYIP]*,[PRIMARYHOST.DOMAIN]*,[PRIMARYHOST]*,\ [{{network.name}}IP]*,[{{network.name}}HOST.DOMAIN]*,\ [{{network.name}}HOST]*,\ [CTLPLANEIP]*,[CTLPLANEHOST.DOMAIN]*,[CTLPLANEHOST]*"""," template: ""PRIMARYIP,[PRIMARYIP]:*,PRIMARYHOST.DOMAIN,[PRIMARYHOST.DOMAIN]:*,PRIMARYHOST,[PRIMARYHOST]:*,\ {{network.name}}IP,[{{network.name}}IP]:*,{{network.name}}HOST.DOMAIN,[{{network.name}}HOST.DOMAIN]:*,\ {{network.name}}HOST,[{{network.name}}HOST]:*,\ CTLPLANEIP,[CTLPLANEIP]:*,CTLPLANEHOST.DOMAIN,[CTLPLANEHOST.DOMAIN]:*,CTLPLANEHOST,[CTLPLANEHOST]:*""",4,4
openstack%2Ftripleo-heat-templates~stable%2Frocky~I519ff6053676870dff1bdff60fb1f6b2aa5ee8c9,openstack/tripleo-heat-templates,stable/rocky,I519ff6053676870dff1bdff60fb1f6b2aa5ee8c9,Include ssh known_hosts entries for non-default port,MERGED,2018-09-11 21:22:34.000000000,2018-12-07 20:33:50.000000000,2018-12-07 20:33:50.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-11 21:22:34.000000000', 'files': ['puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d5d275c6dfb11ea9410ec9aa926df500cfd22c1', 'message': ""Include ssh known_hosts entries for non-default port\n\nThe ssh client no longer appears to accept the regular known hosts entry when\nthe target is running on a non-default port.\nAdding '[host]:*' should fix this, regardless of the port.\nHowever this does not work for the default port so we must include both.\n\nChange-Id: I519ff6053676870dff1bdff60fb1f6b2aa5ee8c9\nCloses-bug: #1789452\n(cherry picked from commit 876683f317640aa6877f991f2d4d0b098de3b7b3)\n""}]",0,601817,3d5d275c6dfb11ea9410ec9aa926df500cfd22c1,8,5,1,23811,,,0,"Include ssh known_hosts entries for non-default port

The ssh client no longer appears to accept the regular known hosts entry when
the target is running on a non-default port.
Adding '[host]:*' should fix this, regardless of the port.
However this does not work for the default port so we must include both.

Change-Id: I519ff6053676870dff1bdff60fb1f6b2aa5ee8c9
Closes-bug: #1789452
(cherry picked from commit 876683f317640aa6877f991f2d4d0b098de3b7b3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/601817/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/role.role.j2.yaml'],1,3d5d275c6dfb11ea9410ec9aa926df500cfd22c1,bug/1789452," template: ""PRIMARYIP,[PRIMARYIP]:*,PRIMARYHOST.DOMAIN,[PRIMARYHOST.DOMAIN]:*,PRIMARYHOST,[PRIMARYHOST]:*,\ {{network.name}}IP,[{{network.name}}IP]:*,{{network.name}}HOST.DOMAIN,[{{network.name}}HOST.DOMAIN]:*,\ {{network.name}}HOST,[{{network.name}}HOST]:*,\ CTLPLANEIP,[CTLPLANEIP]:*,CTLPLANEHOST.DOMAIN,[CTLPLANEHOST.DOMAIN]:*,CTLPLANEHOST,[CTLPLANEHOST]:*"""," template: ""PRIMARYIP,PRIMARYHOST.DOMAIN,PRIMARYHOST,\ {{network.name}}IP,{{network.name}}HOST.DOMAIN,{{network.name}}HOST,\ CTLPLANEIP,CTLPLANEHOST.DOMAIN,CTLPLANEHOST""",4,3
openstack%2Fkeystone~master~I7f83a601c8928d05402c4578aa60dc07bc6b70f6,openstack/keystone,master,I7f83a601c8928d05402c4578aa60dc07bc6b70f6,Only run pep8 job when changing python files,ABANDONED,2018-12-05 19:43:57.000000000,2018-12-07 20:25:50.000000000,,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 19:43:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9e538c94ddfd126985625fcca4388af6c5073f7c', 'message': 'Only run pep8 job when changing python files\n\nThis change defines the openstack-tox-pep8 job to only run\nwhen a python file is edited. This stops the job from running on\nunneeded changes, such as documentation, api-ref, or release\nnotes.\n\nChange-Id: I7f83a601c8928d05402c4578aa60dc07bc6b70f6\n'}]",0,623057,9e538c94ddfd126985625fcca4388af6c5073f7c,5,3,1,21420,,,0,"Only run pep8 job when changing python files

This change defines the openstack-tox-pep8 job to only run
when a python file is edited. This stops the job from running on
unneeded changes, such as documentation, api-ref, or release
notes.

Change-Id: I7f83a601c8928d05402c4578aa60dc07bc6b70f6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/57/623057/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9e538c94ddfd126985625fcca4388af6c5073f7c,zuul-cleanup, - openstack-tox-pep8: files: &python-files - ^.*\.py$ - openstack-tox-pep8: files: *python-files,,5,0
openstack%2Foslo.messaging~master~Idfb9fe3700d882c8285c6dc56b0620951178eba2,openstack/oslo.messaging,master,Idfb9fe3700d882c8285c6dc56b0620951178eba2,Switch driver to confluent-kafka client library,MERGED,2018-09-17 17:23:58.000000000,2018-12-07 19:59:50.000000000,2018-12-07 19:59:50.000000000,"[{'_account_id': 2813}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 8871}, {'_account_id': 9796}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-17 17:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6665f50f58623fb68ef3173732c609b84b69d408', 'message': 'Switch driver to confluent-kafka client library\n\nThis patch switches the kafka python client from kafka-python to\nconfluent-kafka due to documented threading issues with the\nkafka-python consumer and the recommendation to use multiplrocessing.\nThe confluent-kafka client leverages the high performance librdkafka\nC client and is safe for multiple thread use.\n\nThis patch:\n* switches to confluent-kafka library\n* revises consumer and producer message operations\n* utilizes event.tpool method for confluent-kafka blocking calls\n* updates unit tests\n* adds kafka specific timeouts for functional tests\n* adds release note\n\nDepends-On: Ice374dca539b8ed1b1965b75379bad5140121483\nChange-Id: Idfb9fe3700d882c8285c6dc56b0620951178eba2\n'}, {'number': 2, 'created': '2018-09-18 17:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ae674e7278c9e37096d34c1d53bce626b8807a67', 'message': 'Switch driver to confluent-kafka client library\n\nThis patch switches the kafka python client from kafka-python to\nconfluent-kafka due to documented threading issues with the\nkafka-python consumer and the recommendation to use multiplrocessing.\nThe confluent-kafka client leverages the high performance librdkafka\nC client and is safe for multiple thread use.\n\nThis patch:\n* switches to confluent-kafka library\n* revises consumer and producer message operations\n* utilizes event.tpool method for confluent-kafka blocking calls\n* updates unit tests\n* adds kafka specific timeouts for functional tests\n* adds release note\n\nDepends-On: Ice374dca539b8ed1b1965b75379bad5140121483\nChange-Id: Idfb9fe3700d882c8285c6dc56b0620951178eba2\n'}, {'number': 3, 'created': '2018-09-19 13:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fb824837e9a701f753ba34b81c00d120101b2e7c', 'message': 'Switch driver to confluent-kafka client library\n\nThis patch switches the kafka python client from kafka-python to\nconfluent-kafka due to documented threading issues with the\nkafka-python consumer and the recommendation to use multiplrocessing.\nThe confluent-kafka client leverages the high performance librdkafka\nC client and is safe for multiple thread use.\n\nThis patch:\n* switches to confluent-kafka library\n* revises consumer and producer message operations\n* utilizes event.tpool method for confluent-kafka blocking calls\n* updates unit tests\n* adds kafka specific timeouts for functional tests\n* adds release note\n\nDepends-On: Ice374dca539b8ed1b1965b75379bad5140121483\nChange-Id: Idfb9fe3700d882c8285c6dc56b0620951178eba2\n'}, {'number': 4, 'created': '2018-09-19 14:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/98ac50e68f0619ba69f377e93ae0e71d8f2c3883', 'message': 'Switch driver to confluent-kafka client library\n\nThis patch switches the kafka python client from kafka-python to\nconfluent-kafka due to documented threading issues with the\nkafka-python consumer and the recommendation to use multiplrocessing.\nThe confluent-kafka client leverages the high performance librdkafka\nC client and is safe for multiple thread use.\n\nThis patch:\n* switches to confluent-kafka library\n* revises consumer and producer message operations\n* utilizes event.tpool method for confluent-kafka blocking calls\n* updates unit tests\n* adds kafka specific timeouts for functional tests\n* adds release note\n\nDepends-On: Ice374dca539b8ed1b1965b75379bad5140121483\nChange-Id: Idfb9fe3700d882c8285c6dc56b0620951178eba2\n'}, {'number': 5, 'created': '2018-10-03 14:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b531f7a56d677c5222edfb060ad9d536742a0637', 'message': 'Switch driver to confluent-kafka client library\n\nThis patch switches the kafka python client from kafka-python to\nconfluent-kafka due to documented threading issues with the\nkafka-python consumer and the recommendation to use multiplrocessing.\nThe confluent-kafka client leverages the high performance librdkafka\nC client and is safe for multiple thread use.\n\nThis patch:\n* switches to confluent-kafka library\n* revises consumer and producer message operations\n* utilizes event.tpool method for confluent-kafka blocking calls\n* updates unit tests\n* adds kafka specific timeouts for functional tests\n* adds release note\n\nDepends-On: Ice374dca539b8ed1b1965b75379bad5140121483\nChange-Id: Idfb9fe3700d882c8285c6dc56b0620951178eba2\n'}, {'number': 6, 'created': '2018-10-08 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/86697c32cb1609ee4600776d8da57fef9d360fca', 'message': 'Switch driver to confluent-kafka client library\n\nThis patch switches the kafka python client from kafka-python to\nconfluent-kafka due to documented threading issues with the\nkafka-python consumer and the recommendation to use multiplrocessing.\nThe confluent-kafka client leverages the high performance librdkafka\nC client and is safe for multiple thread use.\n\nThis patch:\n* switches to confluent-kafka library\n* revises consumer and producer message operations\n* utilizes event.tpool method for confluent-kafka blocking calls\n* updates unit tests\n* adds kafka specific timeouts for functional tests\n* adds release note\n\nDepends-On: Ice374dca539b8ed1b1965b75379bad5140121483\nChange-Id: Idfb9fe3700d882c8285c6dc56b0620951178eba2\n'}, {'number': 7, 'created': '2018-11-29 18:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/975f22964329a370e904ebff90daa480983be813', 'message': 'Switch driver to confluent-kafka client library\n\nThis patch switches the kafka python client from kafka-python to\nconfluent-kafka due to documented threading issues with the\nkafka-python consumer and the recommendation to use multiplrocessing.\nThe confluent-kafka client leverages the high performance librdkafka\nC client and is safe for multiple thread use.\n\nThis patch:\n* switches to confluent-kafka library\n* revises consumer and producer message operations\n* utilizes event.tpool method for confluent-kafka blocking calls\n* updates unit tests\n* adds kafka specific timeouts for functional tests\n* adds release note\n\nDepends-On: Ice374dca539b8ed1b1965b75379bad5140121483\nChange-Id: Idfb9fe3700d882c8285c6dc56b0620951178eba2\n'}, {'number': 8, 'created': '2018-11-30 13:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a5b74699dbba592ae4a27ebd8d1520b8905b031c', 'message': 'Switch driver to confluent-kafka client library\n\nThis patch switches the kafka python client from kafka-python to\nconfluent-kafka due to documented threading issues with the\nkafka-python consumer and the recommendation to use multiplrocessing.\nThe confluent-kafka client leverages the high performance librdkafka\nC client and is safe for multiple thread use.\n\nThis patch:\n* switches to confluent-kafka library\n* revises consumer and producer message operations\n* utilizes event.tpool method for confluent-kafka blocking calls\n* updates unit tests\n* adds kafka specific timeouts for functional tests\n* adds release note\n\nDepends-On: Ice374dca539b8ed1b1965b75379bad5140121483\nChange-Id: Idfb9fe3700d882c8285c6dc56b0620951178eba2\n'}, {'number': 9, 'created': '2018-11-30 14:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/255201d365fa8044c85b57e7e2626c1eb6f7f63c', 'message': 'Switch driver to confluent-kafka client library\n\nThis patch switches the kafka python client from kafka-python to\nconfluent-kafka due to documented threading issues with the\nkafka-python consumer and the recommendation to use multiplrocessing.\nThe confluent-kafka client leverages the high performance librdkafka\nC client and is safe for multiple thread use.\n\nThis patch:\n* switches to confluent-kafka library\n* revises consumer and producer message operations\n* utilizes event.tpool method for confluent-kafka blocking calls\n* updates unit tests\n* adds kafka specific timeouts for functional tests\n* adds release note\n\nDepends-On: Ice374dca539b8ed1b1965b75379bad5140121483\nChange-Id: Idfb9fe3700d882c8285c6dc56b0620951178eba2\n'}, {'number': 10, 'created': '2018-12-04 16:25:08.000000000', 'files': ['releasenotes/notes/kafka-client-library-change-fe16d5a34550db7f.yaml', 'test-requirements.txt', 'oslo_messaging/_drivers/impl_kafka.py', '.zuul.yaml', 'lower-constraints.txt', 'oslo_messaging/tests/functional/test_functional.py', 'bindep.txt', 'doc/requirements.txt', 'setup-test-env-kafka.sh', 'oslo_messaging/tests/functional/utils.py', 'setup.cfg', 'oslo_messaging/tests/drivers/test_impl_kafka.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5a842ae15582e4eedfb1b2510eaf4a8997701f58', 'message': 'Switch driver to confluent-kafka client library\n\nThis patch switches the kafka python client from kafka-python to\nconfluent-kafka due to documented threading issues with the\nkafka-python consumer and the recommendation to use multiplrocessing.\nThe confluent-kafka client leverages the high performance librdkafka\nC client and is safe for multiple thread use.\n\nThis patch:\n* switches to confluent-kafka library\n* revises consumer and producer message operations\n* utilizes event.tpool method for confluent-kafka blocking calls\n* updates unit tests\n* adds kafka specific timeouts for functional tests\n* adds release note\n\nDepends-On: Ice374dca539b8ed1b1965b75379bad5140121483\nChange-Id: Idfb9fe3700d882c8285c6dc56b0620951178eba2\n'}]",22,603190,5a842ae15582e4eedfb1b2510eaf4a8997701f58,46,7,10,20523,,,0,"Switch driver to confluent-kafka client library

This patch switches the kafka python client from kafka-python to
confluent-kafka due to documented threading issues with the
kafka-python consumer and the recommendation to use multiplrocessing.
The confluent-kafka client leverages the high performance librdkafka
C client and is safe for multiple thread use.

This patch:
* switches to confluent-kafka library
* revises consumer and producer message operations
* utilizes event.tpool method for confluent-kafka blocking calls
* updates unit tests
* adds kafka specific timeouts for functional tests
* adds release note

Depends-On: Ice374dca539b8ed1b1965b75379bad5140121483
Change-Id: Idfb9fe3700d882c8285c6dc56b0620951178eba2
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/90/603190/10 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/kafka-client-library-change-fe16d5a34550db7f.yaml', 'oslo_messaging/tests/functional/test_functional.py', 'bindep.txt', 'test-requirements.txt', 'oslo_messaging/_drivers/impl_kafka.py', 'lower-constraints.txt', 'oslo_messaging/tests/functional/utils.py', 'setup.cfg', 'oslo_messaging/tests/drivers/test_impl_kafka.py']",9,6665f50f58623fb68ef3173732c609b84b69d408,confluent-kafka," self.assertIsInstance(driver, kafka_driver.KafkaDriver) with mock.patch(""confluent_kafka.Producer"") as producer: self.driver.send_notification( target, {}, {""payload"": [""test_1""]}, None, retry=3) producer.assert_called_once_with({ 'bootstrap.servers': '', 'linger.ms': mock.ANY, 'batch.num.messages': mock.ANY, 'security.protocol': 'PLAINTEXT', 'sasl.mechanism': 'PLAIN', 'sasl.username': mock.ANY, 'sasl.password': mock.ANY, 'ssl.ca.location': '' }) with mock.patch(""confluent_kafka.Consumer"") as consumer: consumer.assert_called_once_with({ 'bootstrap.servers': '', 'enable.partition.eof': False, 'group.id': 'kafka_test', 'enable.auto.commit': mock.ANY, 'max.partition.fetch.bytes': mock.ANY, 'security.protocol': 'PLAINTEXT', 'sasl.mechanism': 'PLAIN', 'sasl.username': mock.ANY, 'sasl.password': mock.ANY, 'ssl.ca.location': '', 'default.topic.config': {'auto.offset.reset': 'latest'} }) with mock.patch(""confluent_kafka.Producer"") as producer: producer.assert_called_once() # self.assertEqual(2, producer.call_count)","import kafka import kafka.errors with mock.patch(""kafka.KafkaProducer"") as fake_producer_class: fake_producer = fake_producer_class.return_value fake_producer.send.side_effect = kafka.errors.NoBrokersAvailable self.assertRaises(kafka.errors.NoBrokersAvailable, self.driver.send_notification, target, {}, {""payload"": [""test_1""]}, None, retry=3) self.assertEqual(3, fake_producer.send.call_count) expected_topics = [""topic_test_1.sample""] with mock.patch(""kafka.KafkaConsumer"") as consumer: consumer.assert_called_once_with( *expected_topics, group_id=""kafka_test"", enable_auto_commit=mock.ANY, bootstrap_servers=[], max_partition_fetch_bytes=mock.ANY, max_poll_records=mock.ANY, security_protocol='PLAINTEXT', sasl_mechanism='PLAIN', sasl_plain_username=mock.ANY, sasl_plain_password=mock.ANY, ssl_cafile='', selector=mock.ANY ) with mock.patch(""kafka.KafkaProducer"") as fake_producer_class: fake_producer = fake_producer_class.return_value self.assertEqual(2, len(fake_producer.send.mock_calls))",199,147
openstack%2Fopenstack-ansible-os_ironic~master~I41ee598ccaff983d46e14993b82c40d288a50007,openstack/openstack-ansible-os_ironic,master,I41ee598ccaff983d46e14993b82c40d288a50007,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:35:32.000000000,2018-12-07 19:57:15.000000000,2018-12-07 19:57:15.000000000,"[{'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-12-04 01:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/7c0b88fc4c180bea1503dd040e711ea6f9aedc89', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I41ee598ccaff983d46e14993b82c40d288a50007\n'}, {'number': 2, 'created': '2018-12-05 01:16:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/bab7a59e0a8cbe37818ab1bd47198f9e69e08313', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: I41ee598ccaff983d46e14993b82c40d288a50007\n'}]",0,621759,bab7a59e0a8cbe37818ab1bd47198f9e69e08313,10,4,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: I41ee598ccaff983d46e14993b82c40d288a50007
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/59/621759/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7c0b88fc4c180bea1503dd040e711ea6f9aedc89,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fcinder~master~Ia6c29848e5da12db782c0b91b64269ea461fcd6d,openstack/cinder,master,Ia6c29848e5da12db782c0b91b64269ea461fcd6d,Move check_encryption_provider to volume utils,MERGED,2018-08-30 16:18:21.000000000,2018-12-07 19:54:17.000000000,2018-10-04 15:44:34.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-08-30 16:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c96b7fd4de0561c1dc1e386172a72d8cf5b9271b', 'message': 'Move check_encryption_provider to volume utils\n\nChange-Id: Ia6c29848e5da12db782c0b91b64269ea461fcd6d\n'}, {'number': 2, 'created': '2018-09-04 16:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71738a7e67f28f9d0494243b2e6d38596de20394', 'message': 'Move check_encryption_provider to volume utils\n\nChange-Id: Ia6c29848e5da12db782c0b91b64269ea461fcd6d\n'}, {'number': 3, 'created': '2018-09-04 17:11:05.000000000', 'files': ['cinder/volume/utils.py', 'cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'cinder/tests/unit/test_volume_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f02232599a05d8ca5bc788cf00d8e0c9d73db7e9', 'message': 'Move check_encryption_provider to volume utils\n\nChange-Id: Ia6c29848e5da12db782c0b91b64269ea461fcd6d\n'}]",3,598223,f02232599a05d8ca5bc788cf00d8e0c9d73db7e9,68,37,3,4523,,,0,"Move check_encryption_provider to volume utils

Change-Id: Ia6c29848e5da12db782c0b91b64269ea461fcd6d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/598223/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']",3,c96b7fd4de0561c1dc1e386172a72d8cf5b9271b,bp/nfs-volume-encryption," @mock.patch('cinder.volume.utils.check_encryption_provider', with mock.patch('cinder.volume.utils.' 'check_encryption_provider', return_value=enc_info), \"," @mock.patch('cinder.volume.drivers.rbd.RBDDriver.' '_check_encryption_provider', with mock.patch('cinder.volume.drivers.rbd.RBDDriver.' '_check_encryption_provider', return_value=enc_info), \",26,26
openstack%2Fcinder~master~I8083f41916c689dd27c3c38277017702ef071ad1,openstack/cinder,master,I8083f41916c689dd27c3c38277017702ef071ad1,Bump hacking to 1.1.0,ABANDONED,2018-05-17 13:29:38.000000000,2018-12-07 19:42:37.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-17 13:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/134c32233f37a0df7be1739005f7e1e5e9b1b3da', 'message': 'Bump hacking to 1.1.0\n\nChange-Id: I8083f41916c689dd27c3c38277017702ef071ad1\n'}, {'number': 2, 'created': '2018-05-17 15:33:14.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'test-requirements.txt', 'cinder/volume/drivers/coprhd/helpers/snapshot.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/tests/unit/test_hacking.py', 'tox.ini', 'cinder/tests/unit/test_cmd.py', 'cinder/tests/unit/zonemanager/test_brcd_http_fc_zone_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/596a26dc1589217c8137f1e6c5764452f8b57d34', 'message': 'Bump hacking to 1.1.0\n\nChange-Id: I8083f41916c689dd27c3c38277017702ef071ad1\n'}]",0,569108,596a26dc1589217c8137f1e6c5764452f8b57d34,31,16,2,4523,,,0,"Bump hacking to 1.1.0

Change-Id: I8083f41916c689dd27c3c38277017702ef071ad1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/569108/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'test-requirements.txt', 'cinder/volume/drivers/coprhd/helpers/snapshot.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'tox.ini', 'cinder/tests/unit/test_cmd.py', 'cinder/tests/unit/zonemanager/test_brcd_http_fc_zone_client.py']",7,134c32233f37a0df7be1739005f7e1e5e9b1b3da,," ""zone1;zone2 ""\ ""openstack50060b0000c26604201900051ee8e329000000000000000000000""\"," ""zone1;zone2 openstack50060b0000c26604201900051ee8e329000000000000000000000""\",28,22
openstack%2Fcinder-tempest-plugin~master~I509380798d650439861d3e3a3084f5742ccf7a19,openstack/cinder-tempest-plugin,master,I509380798d650439861d3e3a3084f5742ccf7a19,Enable test_backup_create_attached_volume test,ABANDONED,2018-02-15 12:48:47.000000000,2018-12-07 19:42:22.000000000,,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-15 12:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/18eb7c3025884cb1c8c68815203f56286bb512a3', 'message': 'Enable test_backup_create_attached_volume test\n\nChange-Id: I509380798d650439861d3e3a3084f5742ccf7a19\n'}, {'number': 2, 'created': '2018-06-06 14:37:19.000000000', 'files': ['tempest_blacklist.txt'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/52b7b8b3a90711c2c1c1f6174fc13f50255abbfe', 'message': 'Enable test_backup_create_attached_volume test\n\nChange-Id: I509380798d650439861d3e3a3084f5742ccf7a19\n'}]",0,544904,52b7b8b3a90711c2c1c1f6174fc13f50255abbfe,6,3,2,4523,,,0,"Enable test_backup_create_attached_volume test

Change-Id: I509380798d650439861d3e3a3084f5742ccf7a19
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/04/544904/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,18eb7c3025884cb1c8c68815203f56286bb512a3,zuulve_jobs,, |(?:.*\.*VolumesBackupsTest\.test_backup_create_attached_volume),0,1
openstack%2Foctavia~stable%2Fqueens~I576687f5b646496ff3a00787cf5e8c27f36b9448,openstack/octavia,stable/queens,I576687f5b646496ff3a00787cf5e8c27f36b9448,Separate the thread pool for health and stats update,MERGED,2018-10-01 19:44:24.000000000,2018-12-07 19:41:20.000000000,2018-12-07 19:41:20.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 8871}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 13702}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26299}]","[{'number': 1, 'created': '2018-10-01 19:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/31ef8b3820b69da5d6e9038343fc545e38495125', 'message': 'Separate the thread pool for health and stats update\n\nWhen queue_event_streamer driver is used and RabbitMQ\nis down, stats update processes occupy the thread pool\nwhich is shared with health update processes. Then,\nRabbitMQ down unexpectedly leads to delete all existing\namphorae. This commit separates the thread pool and aims\nto keep the existing amphorae working even when RabbitMQ\nis down.\n\nChange-Id: I576687f5b646496ff3a00787cf5e8c27f36b9448\nTask: 22929\nStory: 2002937\n(cherry picked from commit ad69363fc753c0689214fcdc26d6ef6c90d0d520)\n'}, {'number': 2, 'created': '2018-11-19 15:38:55.000000000', 'files': ['octavia/cmd/health_manager.py', 'octavia/common/config.py', 'releasenotes/notes/separate-thread-pool-for-health-stats-update-c263c844075a7721.yaml', 'octavia/tests/unit/amphorae/drivers/health/test_heartbeat_udp.py', 'octavia/amphorae/drivers/health/heartbeat_udp.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a33e2e06c0240eb96a3fe41f65fbdbf1b0cbc69b', 'message': 'Separate the thread pool for health and stats update\n\nWhen queue_event_streamer driver is used and RabbitMQ\nis down, stats update processes occupy the thread pool\nwhich is shared with health update processes. Then,\nRabbitMQ down unexpectedly leads to delete all existing\namphorae. This commit separates the thread pool and aims\nto keep the existing amphorae working even when RabbitMQ\nis down.\n\nIn addition to the cherry-pick from master, this patch fixes the release\nnote to not call out a feature but a fix instead, and drop the\ndeprecation of status_update_threads.\n\nChange-Id: I576687f5b646496ff3a00787cf5e8c27f36b9448\nTask: 22929\nStory: 2002937\n(cherry picked from commit ad69363fc753c0689214fcdc26d6ef6c90d0d520)\n(cherry picked from commit ddb948a5ad273c9bf18c3b0ca9d3db524154e636)\n'}]",0,607034,a33e2e06c0240eb96a3fe41f65fbdbf1b0cbc69b,30,9,2,6469,,,0,"Separate the thread pool for health and stats update

When queue_event_streamer driver is used and RabbitMQ
is down, stats update processes occupy the thread pool
which is shared with health update processes. Then,
RabbitMQ down unexpectedly leads to delete all existing
amphorae. This commit separates the thread pool and aims
to keep the existing amphorae working even when RabbitMQ
is down.

In addition to the cherry-pick from master, this patch fixes the release
note to not call out a feature but a fix instead, and drop the
deprecation of status_update_threads.

Change-Id: I576687f5b646496ff3a00787cf5e8c27f36b9448
Task: 22929
Story: 2002937
(cherry picked from commit ad69363fc753c0689214fcdc26d6ef6c90d0d520)
(cherry picked from commit ddb948a5ad273c9bf18c3b0ca9d3db524154e636)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/34/607034/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/cmd/health_manager.py', 'octavia/common/config.py', 'releasenotes/notes/separate-thread-pool-for-health-stats-update-c263c844075a7721.yaml', 'octavia/tests/unit/amphorae/drivers/health/test_heartbeat_udp.py', 'octavia/amphorae/drivers/health/heartbeat_udp.py', 'etc/octavia.conf']",6,31ef8b3820b69da5d6e9038343fc545e38495125,task/22929,"# status_update_threads will default to the number of processors on the host. # This setting is deprecated and if you specify health_update_threads and # stats_update_threads, they override this parameter.# health_update_threads will default to the number of processors on the host # health_update_threads = # stats_update_threads will default to the number of processors on the host # stats_update_threads =",# status_update_threads will default to the number of processors on the host,55,13
openstack%2Fironic~master~I4994eb370fb9a59f0411fabbdc3e27a18fabd5f6,openstack/ironic,master,I4994eb370fb9a59f0411fabbdc3e27a18fabd5f6,Add a prelude for ironic 12.0,MERGED,2018-12-05 18:56:20.000000000,2018-12-07 19:41:17.000000000,2018-12-07 19:41:17.000000000,"[{'_account_id': 10239}, {'_account_id': 14208}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 18:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6fcbcfe8605318b022a74cb7b6f7ddc20b37894b', 'message': 'Add a prelude for ironic 12.0\n\nVersioned 12.0 because we removed glance v1 support.\n\nChange-Id: I4994eb370fb9a59f0411fabbdc3e27a18fabd5f6\n'}, {'number': 2, 'created': '2018-12-06 03:06:27.000000000', 'files': ['releasenotes/notes/ironic-12.0-prelude-9dd8e80a1a3e8f60.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f0636927af11778605ab842268d5d6824882b90', 'message': 'Add a prelude for ironic 12.0\n\nVersioned 12.0 because we removed glance v1 support.\n\nChange-Id: I4994eb370fb9a59f0411fabbdc3e27a18fabd5f6\n'}]",2,623047,8f0636927af11778605ab842268d5d6824882b90,14,5,2,11655,,,0,"Add a prelude for ironic 12.0

Versioned 12.0 because we removed glance v1 support.

Change-Id: I4994eb370fb9a59f0411fabbdc3e27a18fabd5f6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/623047/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ironic-12.0-prelude-9dd8e80a1a3e8f60.yaml'],1,6fcbcfe8605318b022a74cb7b6f7ddc20b37894b,,"--- prelude: | The OpenStack Bare Metal as a Service team announces the release of ironic version 12.0 which introduces a number of new features as part of the Stein development cycle. * Per-node automated cleaning control * Redfish out0of-band introspection * Redfish BIOS configuration management * Support for direct image downloads from the conductor host. * Support for validating the enhanced image checksums introduced in the Image service in Rocky. * Dedicated ``ipxe`` boot interface enabling better co-existence of different hardware types. * Configurable ``disk_erasure_concurrency`` to speed disk cleaning. * Configurable ""protected"" nodes to help prevent accidential actions upon critical nodes. And many many bug fixes, Enjoy! ",,19,0
openstack%2Fcinder~master~I05699ade8cc4030ae2ce95acd5aed4822e1def8c,openstack/cinder,master,I05699ade8cc4030ae2ce95acd5aed4822e1def8c,Remove VolumeDriver abcs,ABANDONED,2016-08-04 19:21:15.000000000,2018-12-07 19:41:10.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13394}, {'_account_id': 14797}, {'_account_id': 15296}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17852}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 22126}]","[{'number': 1, 'created': '2016-08-04 19:21:15.000000000', 'files': ['cinder/volume/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e98696fa424a87e464d1ba78b2e21ceb180ba2b', 'message': 'Remove VolumeDriver abcs\n\nThis is the first step of cleaning up the now-defunct\nvolume driver abc effort.\n\n*VD classes may still need to remain for now for compatibility,\nand to handle operations where there is a no-op that returns a value\nother than raising NotImplementedError, until all drivers\nhave code implemented for these operations as required.\n\nBaseVD should be combined into VolumeDriver in a later patch.\n\nChange-Id: I05699ade8cc4030ae2ce95acd5aed4822e1def8c\n'}]",0,351346,3e98696fa424a87e464d1ba78b2e21ceb180ba2b,23,19,1,4523,,,0,"Remove VolumeDriver abcs

This is the first step of cleaning up the now-defunct
volume driver abc effort.

*VD classes may still need to remain for now for compatibility,
and to handle operations where there is a no-op that returns a value
other than raising NotImplementedError, until all drivers
have code implemented for these operations as required.

BaseVD should be combined into VolumeDriver in a later patch.

Change-Id: I05699ade8cc4030ae2ce95acd5aed4822e1def8c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/351346/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/driver.py'],1,3e98696fa424a87e464d1ba78b2e21ceb180ba2b,remove_abcs,"class LocalVD(object): pass class SnapshotVD(object): pass class ConsistencyGroupVD(object): pass class CloneableImageVD(object): pass class MigrateVD(object):class ExtendVD(object): pass class TransferVD(object): pass class ManageableVD(object): pass class ManageableSnapshotsVD(object): pass # TODO(jdg): Remove this after the V2.1 code merges class ReplicaVD(object): def reenable_replication(self, context, volume): return def promote_replica(self, context, volume): return def create_replica_test_volume(self, volume, src_vref):class VolumeDriver(BaseVD): """"""Base volume driver class."""""" def check_for_setup_error(self): raise NotImplementedError() def create_volume(self, volume): raise NotImplementedError() def create_volume_from_snapshot(self, volume, snapshot): """"""Creates a volume from a snapshot. If volume_type extra specs includes 'replication: <is> True' the driver needs to create a volume replica (secondary), and setup replication between the newly created volume and the secondary volume. """""" raise NotImplementedError() def create_replica_test_volume(self, volume, src_vref): """"""Creates a test replica clone of the specified replicated volume. Create a clone of the replicated (secondary) volume. """""" raise NotImplementedError() def delete_volume(self, volume): raise NotImplementedError() def create_snapshot(self, snapshot): """"""Creates a snapshot."""""" raise NotImplementedError() def delete_snapshot(self, snapshot): """"""Deletes a snapshot."""""" raise NotImplementedError() def local_path(self, volume): raise NotImplementedError() def clear_download(self, context, volume): def extend_volume(self, volume, new_size): msg = _(""Extend volume not implemented"") raise NotImplementedError(msg) msg = _(""Manage existing volume not implemented."") raise NotImplementedError(msg) msg = _(""Manage existing volume not implemented."") raise NotImplementedError(msg) :returns volumes: List of volumes msg = _(""Get manageable volumes not implemented."") raise NotImplementedError(msg) msg = _(""Manage existing snapshot not implemented."") raise NotImplementedError(msg) msg = _(""Manage existing snapshot not implemented."") raise NotImplementedError(msg) :returns snapshots: List of snapshots msg = _(""Get manageable snapshots not implemented."") raise NotImplementedError(msg) :returns: None def retype(self, context, volume, new_type, diff, host): return False, None msg = _(""sync_replica not implemented."") raise NotImplementedError(msg) """"""Create a volume efficiently from an existing image. image_location is a string whose format depends on the image service backend in use. The driver should use it to determine whether cloning is possible. image_id is a string which represents id of the image. It can be used by the driver to introspect internal stores or registry to do an efficient image clone. image_meta is a dictionary that includes 'disk_format' (e.g. raw, qcow2) and other image attributes that allow drivers to decide whether they can clone the image without first requiring conversion. image_service is the reference of the image_service to use. Note that this is needed to be passed here for drivers that will want to fetch images from the image service directly. Returns a dict of volume properties eg. provider_location, boolean indicating whether cloning occurred """""" def accept_transfer(self, context, volume, new_user, new_project): """"""Accept the transfer of a volume for a new user/project."""""" pass ","import abc@six.add_metaclass(abc.ABCMeta) @abc.abstractmethod @abc.abstractmethod @abc.abstractmethod @abc.abstractmethod @abc.abstractmethod @abc.abstractmethod @abc.abstractmethod @abc.abstractmethod """"""Manage exiting stub. This is for drivers that don't implement manage_existing(). """"""@six.add_metaclass(abc.ABCMeta) class LocalVD(object): @abc.abstractmethod def local_path(self, volume): return @six.add_metaclass(abc.ABCMeta) class SnapshotVD(object): @abc.abstractmethod def create_snapshot(self, snapshot): """"""Creates a snapshot."""""" return @abc.abstractmethod def delete_snapshot(self, snapshot): """"""Deletes a snapshot."""""" return @abc.abstractmethod def create_volume_from_snapshot(self, volume, snapshot): """"""Creates a volume from a snapshot. If volume_type extra specs includes 'replication: <is> True' the driver needs to create a volume replica (secondary), and setup replication between the newly created volume and the secondary volume. """""" return @six.add_metaclass(abc.ABCMeta) class ConsistencyGroupVD(object): @abc.abstractmethod def create_cgsnapshot(self, context, cgsnapshot, snapshots): """"""Creates a cgsnapshot."""""" return @abc.abstractmethod def delete_cgsnapshot(self, context, cgsnapshot, snapshots): """"""Deletes a cgsnapshot."""""" return @abc.abstractmethod def create_consistencygroup(self, context, group): """"""Creates a consistencygroup."""""" return @abc.abstractmethod def delete_consistencygroup(self, context, group, volumes): """"""Deletes a consistency group."""""" return @six.add_metaclass(abc.ABCMeta) class CloneableImageVD(object): @abc.abstractmethod def clone_image(self, volume, image_location, image_id, image_meta, image_service): """"""Create a volume efficiently from an existing image. image_location is a string whose format depends on the image service backend in use. The driver should use it to determine whether cloning is possible. image_id is a string which represents id of the image. It can be used by the driver to introspect internal stores or registry to do an efficient image clone. image_meta is a dictionary that includes 'disk_format' (e.g. raw, qcow2) and other image attributes that allow drivers to decide whether they can clone the image without first requiring conversion. image_service is the reference of the image_service to use. Note that this is needed to be passed here for drivers that will want to fetch images from the image service directly. Returns a dict of volume properties eg. provider_location, boolean indicating whether cloning occurred """""" return None, False @six.add_metaclass(abc.ABCMeta) class MigrateVD(object): @abc.abstractmethod@six.add_metaclass(abc.ABCMeta) class ExtendVD(object): @abc.abstractmethod def extend_volume(self, volume, new_size):@six.add_metaclass(abc.ABCMeta) class TransferVD(object): def accept_transfer(self, context, volume, new_user, new_project): """"""Accept the transfer of a volume for a new user/project."""""" @six.add_metaclass(abc.ABCMeta) class ManageableVD(object): @abc.abstractmethod return @abc.abstractmethod return return [] @abc.abstractmethod @six.add_metaclass(abc.ABCMeta) class ManageableSnapshotsVD(object): # NOTE: Can't use abstractmethod before all drivers implement it return # NOTE: Can't use abstractmethod before all drivers implement it return return [] # NOTE: Can't use abstractmethod before all drivers implement it # TODO(jdg): Remove this after the V2.1 code merges @six.add_metaclass(abc.ABCMeta) class ReplicaVD(object): @abc.abstractmethod return @abc.abstractmethod return @abc.abstractmethod def create_replica_test_volume(self, volume, src_vref): """"""Creates a test replica clone of the specified replicated volume. Create a clone of the replicated (secondary) volume. """""" return class VolumeDriver(ConsistencyGroupVD, TransferVD, ManageableVD, ExtendVD, CloneableImageVD, ManageableSnapshotsVD, SnapshotVD, ReplicaVD, LocalVD, MigrateVD, BaseVD): """"""This class will be deprecated soon. Please use the abstract classes above for new drivers. """""" def check_for_setup_error(self): raise NotImplementedError() def create_volume(self, volume): raise NotImplementedError() def create_volume_from_snapshot(self, volume, snapshot): raise NotImplementedError() def create_replica_test_volume(self, volume, src_vref): raise NotImplementedError() def delete_volume(self, volume): raise NotImplementedError() def create_snapshot(self, snapshot): raise NotImplementedError() def delete_snapshot(self, snapshot): raise NotImplementedError() def local_path(self, volume): raise NotImplementedError() def clear_download(self, context, volume): pass def extend_volume(self, volume, new_size): msg = _(""Extend volume not implemented"") raise NotImplementedError(msg) def manage_existing(self, volume, existing_ref): msg = _(""Manage existing volume not implemented."") raise NotImplementedError(msg) def manage_existing_get_size(self, volume, existing_ref): msg = _(""Manage existing volume not implemented."") raise NotImplementedError(msg) def get_manageable_volumes(self, cinder_volumes, marker, limit, offset, sort_keys, sort_dirs): msg = _(""Get manageable volumes not implemented."") raise NotImplementedError(msg) def unmanage(self, volume): pass def manage_existing_snapshot(self, snapshot, existing_ref): msg = _(""Manage existing snapshot not implemented."") raise NotImplementedError(msg) def manage_existing_snapshot_get_size(self, snapshot, existing_ref): msg = _(""Manage existing snapshot not implemented."") raise NotImplementedError(msg) def get_manageable_snapshots(self, cinder_snapshots, marker, limit, offset, sort_keys, sort_dirs): msg = _(""Get manageable snapshots not implemented."") raise NotImplementedError(msg) def unmanage_snapshot(self, snapshot): """"""Unmanage the specified snapshot from Cinder management."""""" def retype(self, context, volume, new_type, diff, host): return False, None def reenable_replication(self, context, volume): msg = _(""sync_replica not implemented."") raise NotImplementedError(msg) def promote_replica(self, context, volume):",124,207
openstack%2Fcinder~master~I89b1f167303da8b184a2d6cfe3194acb6107367d,openstack/cinder,master,I89b1f167303da8b184a2d6cfe3194acb6107367d,Tests: Force use of assertRaisesRegex,ABANDONED,2018-08-24 22:06:18.000000000,2018-12-07 19:40:50.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-08-24 22:06:18.000000000', 'files': ['cinder/test.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b4aac361c9475854eaadb46f4e5d0c5f9caafc1', 'message': 'Tests: Force use of assertRaisesRegex\n\nBlock use of ""assertRaisesRegexp"" in lieu of\nthe Python 3 version of this method.\n\nChange-Id: I89b1f167303da8b184a2d6cfe3194acb6107367d\n'}]",1,596496,1b4aac361c9475854eaadb46f4e5d0c5f9caafc1,22,20,1,4523,,,0,"Tests: Force use of assertRaisesRegex

Block use of ""assertRaisesRegexp"" in lieu of
the Python 3 version of this method.

Change-Id: I89b1f167303da8b184a2d6cfe3194acb6107367d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/596496/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/test.py'],1,1b4aac361c9475854eaadb46f4e5d0c5f9caafc1,deprecation-warnings," def assertRaisesRegexp(self, *args, **kwargs): """"""Enforce use of the Python 3 version of this method in our tests. This method may be removed when Python 2 is no longer supported. """""" raise AssertionError('""assertRaisesRegexp"" is no longer allowed, ' 'use ""assertRaisesRegex"" instead')",,7,0
openstack%2Fironic~master~I0d56e5d1886bf9010fdbc619328b06b6ee25601e,openstack/ironic,master,I0d56e5d1886bf9010fdbc619328b06b6ee25601e,Set proper version numbering,MERGED,2018-12-05 18:36:33.000000000,2018-12-07 19:39:08.000000000,2018-12-07 19:39:08.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 18:36:33.000000000', 'files': ['releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8370907c1e87a4ebb8c8553f714a07fe885b945e', 'message': 'Set proper version numbering\n\nSetting the semver flag for the increment in\nthe version guessing logic of pbr, and updating\nthe release note index.\n\nChange-Id: I0d56e5d1886bf9010fdbc619328b06b6ee25601e\nSem-Ver: feature\n'}]",0,623042,8370907c1e87a4ebb8c8553f714a07fe885b945e,9,5,1,11655,,,0,"Set proper version numbering

Setting the semver flag for the increment in
the version guessing logic of pbr, and updating
the release note index.

Change-Id: I0d56e5d1886bf9010fdbc619328b06b6ee25601e
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/ironic refs/changes/42/623042/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/rocky.rst'],1,8370907c1e87a4ebb8c8553f714a07fe885b945e,,============================================== Rocky Series (11.0.0 - 11.1.x) Release Notes ==============================================,=================================== Rocky Series Release Notes ===================================,3,3
openstack%2Fneutron-fwaas~master~Iea8e7425a9a16b5e4789cc8e3e2bf9dd09f7d9d6,openstack/neutron-fwaas,master,Iea8e7425a9a16b5e4789cc8e3e2bf9dd09f7d9d6,Switch to tempest.common.utils.requires_ext,MERGED,2018-01-10 10:20:08.000000000,2018-12-07 19:35:55.000000000,2018-12-07 19:35:55.000000000,"[{'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 19853}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-10 10:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9ac90bf77e45f4aa1b54cbe6a9d48641bf429232', 'message': 'Switch to tempest.common.utils.requires_ext\n\nTempest deprecated tempest.test.requires_ext [1]\nAt this moment, it is available in tempest.common.utils\n\n[1] https://review.openstack.org/#/c/493668/\n\nChange-Id: Iea8e7425a9a16b5e4789cc8e3e2bf9dd09f7d9d6\n'}, {'number': 2, 'created': '2018-11-29 02:25:24.000000000', 'files': ['neutron_fwaas/tests/tempest_plugin/tests/scenario/test_fwaas.py', 'neutron_fwaas/tests/tempest_plugin/tests/api/test_fwaasv2_extensions.py', 'neutron_fwaas/tests/tempest_plugin/tests/scenario/test_fwaas_v2.py', 'neutron_fwaas/tests/tempest_plugin/tests/api/test_fwaas_extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/778ddb1eeee0acdf91913663cb1adab2a7dd3fcf', 'message': 'Switch to tempest.common.utils.requires_ext\n\nTempest deprecated tempest.test.requires_ext [1]\nAt this moment, it is available in tempest.common.utils\n\n[1] https://review.openstack.org/#/c/493668/\n\nChange-Id: Iea8e7425a9a16b5e4789cc8e3e2bf9dd09f7d9d6\n'}]",0,532479,778ddb1eeee0acdf91913663cb1adab2a7dd3fcf,13,4,2,19853,,,0,"Switch to tempest.common.utils.requires_ext

Tempest deprecated tempest.test.requires_ext [1]
At this moment, it is available in tempest.common.utils

[1] https://review.openstack.org/#/c/493668/

Change-Id: Iea8e7425a9a16b5e4789cc8e3e2bf9dd09f7d9d6
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/79/532479/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/tempest_plugin/tests/scenario/test_fwaas.py', 'neutron_fwaas/tests/tempest_plugin/tests/api/test_fwaasv2_extensions.py', 'neutron_fwaas/tests/tempest_plugin/tests/scenario/test_fwaas_v2.py', 'neutron_fwaas/tests/tempest_plugin/tests/api/test_fwaas_extensions.py']",4,9ac90bf77e45f4aa1b54cbe6a9d48641bf429232,,"from tempest.common import utils if not utils.is_extension_enabled('fwaas', 'network'):","from tempest import test if not test.is_extension_enabled('fwaas', 'network'):",8,8
openstack%2Fopenstack-ansible-os_octavia~master~Ia5aea9d8228ebdd6164bf2e6766f1a073f573b0f,openstack/openstack-ansible-os_octavia,master,Ia5aea9d8228ebdd6164bf2e6766f1a073f573b0f,Fix ansible deprecation warnings,MERGED,2018-12-03 17:35:29.000000000,2018-12-07 19:31:55.000000000,2018-12-07 19:31:55.000000000,"[{'_account_id': 1004}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-03 17:35:29.000000000', 'files': ['tasks/octavia_amp_image.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/54d8b70876321acd5fbfbad20ffb7d7e38b09a69', 'message': 'Fix ansible deprecation warnings\n\n===\n[DEPRECATION WARNING]: Using tests as filters is deprecated.\nInstead of using `result|search` use `result is search`. This\nfeature will be removed in version 2.9.\n===\n\nChange-Id: Ia5aea9d8228ebdd6164bf2e6766f1a073f573b0f\n'}]",0,621658,54d8b70876321acd5fbfbad20ffb7d7e38b09a69,8,3,1,25023,,,0,"Fix ansible deprecation warnings

===
[DEPRECATION WARNING]: Using tests as filters is deprecated.
Instead of using `result|search` use `result is search`. This
feature will be removed in version 2.9.
===

Change-Id: Ia5aea9d8228ebdd6164bf2e6766f1a073f573b0f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/58/621658/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_amp_image.yml'],1,54d8b70876321acd5fbfbad20ffb7d7e38b09a69,deprecate-filters-as-tests, - octavia_download_result is changed, - octavia_download_result | changed,1,1
openstack%2Fopenstack-ansible-os_ironic~master~Iebc90855ae27f806fe8962e8128123f751ad07a9,openstack/openstack-ansible-os_ironic,master,Iebc90855ae27f806fe8962e8128123f751ad07a9,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:15.000000000,2018-12-07 19:31:08.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/97d3c41ac4b0147a56a7eb793ebf14f402b16203', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Iebc90855ae27f806fe8962e8128123f751ad07a9\n'}]",0,622670,97d3c41ac4b0147a56a7eb793ebf14f402b16203,4,2,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Iebc90855ae27f806fe8962e8128123f751ad07a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/70/622670/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,97d3c41ac4b0147a56a7eb793ebf14f402b16203,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fos-brick~master~I4adbe9efdab3f66b704e5db9fc142427dfc5f75e,openstack/os-brick,master,I4adbe9efdab3f66b704e5db9fc142427dfc5f75e,Add python 3.6 unit test job,ABANDONED,2018-11-09 04:28:16.000000000,2018-12-07 19:24:57.000000000,,"[{'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-11-09 04:28:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8759f426462c0954fd3fa64ac3e1d04e15971ef4', 'message': 'Add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I4adbe9efdab3f66b704e5db9fc142427dfc5f75e\n'}]",0,616765,8759f426462c0954fd3fa64ac3e1d04e15971ef4,17,15,1,28935,,,0,"Add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I4adbe9efdab3f66b704e5db9fc142427dfc5f75e
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/65/616765/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8759f426462c0954fd3fa64ac3e1d04e15971ef4,,"envlist = py36,py35,py27,pep8","envlist = py35,py27,pep8",1,1
openstack%2Fgoal-tools~master~I3cb6c1f2464d598b2c12545c894f5c6ffdb103ec,openstack/goal-tools,master,I3cb6c1f2464d598b2c12545c894f5c6ffdb103ec,add option to count command to only show teams with open reviews,MERGED,2018-12-07 15:24:41.000000000,2018-12-07 19:15:36.000000000,2018-12-07 19:15:36.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 15:24:41.000000000', 'files': ['goal_tools/python3_first/patches.py'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/2255950637e6880ebac216232f0ed3ae496817d4', 'message': 'add option to count command to only show teams with open reviews\n\nChange-Id: I3cb6c1f2464d598b2c12545c894f5c6ffdb103ec\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,623520,2255950637e6880ebac216232f0ed3ae496817d4,6,2,1,2472,,,0,"add option to count command to only show teams with open reviews

Change-Id: I3cb6c1f2464d598b2c12545c894f5c6ffdb103ec
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/20/623520/1 && git format-patch -1 --stdout FETCH_HEAD,['goal_tools/python3_first/patches.py'],1,2255950637e6880ebac216232f0ed3ae496817d4,python3-first," parser.add_argument( '--only-open', '-o', default=False, action='store_true', help='only show teams with open patches', ) if parsed_args.only_open: data = [ row for row in data if row[1:4] != ('+', '+', '+') ] ",,13,0
openstack%2Fgoal-tools~master~I52a2fd2b2d91d4481e2f93ad7b248e900b3ccf86,openstack/goal-tools,master,I52a2fd2b2d91d4481e2f93ad7b248e900b3ccf86,stop tracking zuul imports,MERGED,2018-12-07 15:24:41.000000000,2018-12-07 19:15:36.000000000,2018-12-07 19:15:36.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 15:24:41.000000000', 'files': ['goal_tools/python3_first/patches.py'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/f5b0d41963c72f5481a87f3abe5215365470a480', 'message': 'stop tracking zuul imports\n\nthe zuul import work is done so we can stop tracking that\n\nChange-Id: I52a2fd2b2d91d4481e2f93ad7b248e900b3ccf86\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,623519,f5b0d41963c72f5481a87f3abe5215365470a480,6,2,1,2472,,,0,"stop tracking zuul imports

the zuul import work is done so we can stop tracking that

Change-Id: I52a2fd2b2d91d4481e2f93ad7b248e900b3ccf86
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/19/623519/1 && git format-patch -1 --stdout FETCH_HEAD,['goal_tools/python3_first/patches.py'],1,f5b0d41963c72f5481a87f3abe5215365470a480,python3-first," # ('zuul', ['import zuul job settings from project-config']),"," ('zuul', ['import zuul job settings from project-config']),",1,1
openstack%2Fpython-tripleoclient~master~I55d18885f06e530ff9a5492c0b98f37525e88ed6,openstack/python-tripleoclient,master,I55d18885f06e530ff9a5492c0b98f37525e88ed6,Catch websocket connection close errors in cleanup,MERGED,2018-11-28 15:13:21.000000000,2018-12-07 19:07:04.000000000,2018-12-07 16:57:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7385}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-11-28 15:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eee6691ccad2060c13a07afaf92477cc939ec74e', 'message': 'Catch websocket connection close errors in cleanup\n\nThis can add useless noise when we have timeouts in particular.\n\nChange-Id: I55d18885f06e530ff9a5492c0b98f37525e88ed6\nCloses-Bug: #1805647\n'}, {'number': 2, 'created': '2018-11-28 17:20:02.000000000', 'files': ['tripleoclient/plugin.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5935afe40c5ac3b3ab5656dc467b905a0f9081a1', 'message': 'Catch websocket connection close errors in cleanup\n\nThis can add useless noise when we have timeouts in particular.\n\nChange-Id: I55d18885f06e530ff9a5492c0b98f37525e88ed6\nCloses-Bug: #1805647\n'}]",0,620625,5935afe40c5ac3b3ab5656dc467b905a0f9081a1,20,6,2,7385,,,0,"Catch websocket connection close errors in cleanup

This can add useless noise when we have timeouts in particular.

Change-Id: I55d18885f06e530ff9a5492c0b98f37525e88ed6
Closes-Bug: #1805647
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/620625/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/plugin.py'],1,eee6691ccad2060c13a07afaf92477cc939ec74e,bug/1805647, try: self.cleanup(): except websocket.WebSocketConnectionClosedException: pass, self.cleanup(),4,1
openstack%2Fnova~master~If2e02cb7744cd4f44ba6926fc41b45ec06919d6f,openstack/nova,master,If2e02cb7744cd4f44ba6926fc41b45ec06919d6f,WIP POC: Use os-resource-classes in placement,ABANDONED,2018-07-19 19:54:16.000000000,2018-12-07 18:50:38.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-19 19:54:16.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_class_cache.py', 'nova/tests/functional/api/openstack/placement/fixtures/gabbits.py', 'requirements.txt', 'nova/test.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py', 'nova/db/sqlalchemy/resource_class_cache.py', 'nova/tests/unit/api/openstack/placement/objects/test_resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_consumer.py', 'nova/api/openstack/placement/deploy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c9f67934ea15addc233f1a234df8a6608f070f0', 'message': ""WIP POC: Use os-resource-classes in placement\n\nThis patch demonstrates using a lightweight os-resource-classes\nmodule for representing resource classes, and managing those classes\nin placement in a similar way to os-traits: sync them to the database at\nstart up time.\n\nThe https://github.com/cdent/os-resource-classes package is a very\nsimple thing: an ordered list of the standard resource classes, ordered\nso that ids in the database will be the same as their ids are now, when\nusing the rc_fields package in nova. It is a lighter weight alternative\nto Jay's proposal at https://github.com/jaypipes/os-resource-classes\n\nThe placement side of the equation is update to use the new modules\nwhile the nova side continues to use rc_fields.\n\nrequirements.txt has been temporarily updated to try to load\nos-resource-classes from github, but it's being difficult, so may not\nwork in the gate. If you want to try this yourself and you can't get it\nto work as is, install the package into the virutalenv after the fact.\n\nSubsequent patches will move resource_class_cache into the placement\nworld, and change how the cache is warmed.\n\nPosting this up to see how people feel about the module and how it might\nfit in and whether it is worth pursuing.\n\nChange-Id: If2e02cb7744cd4f44ba6926fc41b45ec06919d6f\n""}]",13,584084,4c9f67934ea15addc233f1a234df8a6608f070f0,19,14,1,11564,,,0,"WIP POC: Use os-resource-classes in placement

This patch demonstrates using a lightweight os-resource-classes
module for representing resource classes, and managing those classes
in placement in a similar way to os-traits: sync them to the database at
start up time.

The https://github.com/cdent/os-resource-classes package is a very
simple thing: an ordered list of the standard resource classes, ordered
so that ids in the database will be the same as their ids are now, when
using the rc_fields package in nova. It is a lighter weight alternative
to Jay's proposal at https://github.com/jaypipes/os-resource-classes

The placement side of the equation is update to use the new modules
while the nova side continues to use rc_fields.

requirements.txt has been temporarily updated to try to load
os-resource-classes from github, but it's being difficult, so may not
work in the gate. If you want to try this yourself and you can't get it
to work as is, install the package into the virutalenv after the fact.

Subsequent patches will move resource_class_cache into the placement
world, and change how the cache is warmed.

Posting this up to see how people feel about the module and how it might
fit in and whether it is worth pursuing.

Change-Id: If2e02cb7744cd4f44ba6926fc41b45ec06919d6f
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/584084/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_class_cache.py', 'nova/tests/functional/api/openstack/placement/fixtures/gabbits.py', 'requirements.txt', 'nova/test.py', 'nova/db/sqlalchemy/resource_class_cache.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py', 'nova/tests/unit/api/openstack/placement/objects/test_resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_consumer.py', 'nova/api/openstack/placement/deploy.py']",11,4c9f67934ea15addc233f1a234df8a6608f070f0,cd/os-resource-classes, resource_provider.ensure_resource_classes_sync(ctx),,687,697
openstack%2Fopenstack-ansible-ceph_client~stable%2Frocky~Idb9a178ca2165920804eee12a54419722aa64f51,openstack/openstack-ansible-ceph_client,stable/rocky,Idb9a178ca2165920804eee12a54419722aa64f51,Remove the dependency on SSH for monitors,MERGED,2018-12-06 16:00:46.000000000,2018-12-07 18:35:54.000000000,2018-12-07 18:35:54.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 16:00:46.000000000', 'files': ['tasks/ceph_get_mon_host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/278aaca502533b33b9714393e47b536654055c58', 'message': 'Remove the dependency on SSH for monitors\n\nTo detect if we can copy keyrings off a monitor, we do not need to\nintroduce a hard dependency on SSH contact, we only need to ensure\nthat the ansible has a working execution path to the monitor over\nwhat ever connection plugin is used.\n\nChange-Id: Idb9a178ca2165920804eee12a54419722aa64f51\n(cherry picked from commit f8187bda2cb7bdc306e09f369ecbed15fba1e041)\n'}]",0,623234,278aaca502533b33b9714393e47b536654055c58,7,3,1,24132,,,0,"Remove the dependency on SSH for monitors

To detect if we can copy keyrings off a monitor, we do not need to
introduce a hard dependency on SSH contact, we only need to ensure
that the ansible has a working execution path to the monitor over
what ever connection plugin is used.

Change-Id: Idb9a178ca2165920804eee12a54419722aa64f51
(cherry picked from commit f8187bda2cb7bdc306e09f369ecbed15fba1e041)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/34/623234/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceph_get_mon_host.yml'],1,278aaca502533b33b9714393e47b536654055c58,," wait_for_connection: connect_timeout: 3 timeout: 10 delegate_to: ""{{ item }}"" - item is success # Use the first available monitor - ceph_mon_host is not defined", local_action: > command ssh -o ConnectTimeout=6 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no {{ item }} exit - item.rc == 0,7,8
openstack%2Fswift~master~I4c20bca7fedb839628f1b2f8611807631b8bf430,openstack/swift,master,I4c20bca7fedb839628f1b2f8611807631b8bf430,s3api: Allow some forms of server-side-encryption,MERGED,2018-11-21 01:21:25.000000000,2018-12-07 18:11:38.000000000,2018-12-07 18:11:38.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-21 01:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/98789164e8e156d1beba8b864608340ddaf65d0f', 'message': 's3api: Add config option to allow some forms of server-side-encryption\n\n...with notes in the sample config about how you should only enable it\nwhen you already have encryption enabled cluster-wide.\n\nNote that this *does not* start including x-amz-server-side-encryption\nheaders in the response, neither during PUT nor GET. We should only\nsend that when we know for sure that the data on disk was encrypted.\n\nChange-Id: I4c20bca7fedb839628f1b2f8611807631b8bf430\nRelated-Bug: 1607116\nRelated-Change: Change-Id: Icf28dc57e589f9be20937947095800d7ce57b2f7\n'}, {'number': 2, 'created': '2018-11-21 18:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3e7294be8fcf55c1b2a73f53fe6b50b09c89be40', 'message': 's3api: Add config option to allow some forms of server-side-encryption\n\n...with notes in the sample config about how you should only enable it\nwhen you already have encryption enabled cluster-wide.\n\nNote that this *does not* start including x-amz-server-side-encryption\nheaders in the response, neither during PUT nor GET. We should only\nsend that when we know for sure that the data on disk was encrypted.\n\nChange-Id: I4c20bca7fedb839628f1b2f8611807631b8bf430\nRelated-Bug: 1607116\nRelated-Change: Change-Id: Icf28dc57e589f9be20937947095800d7ce57b2f7\n'}, {'number': 3, 'created': '2018-11-21 23:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ac35784413e01d1787115d3849b842e49a3c7069', 'message': 's3api: Add config option to allow some forms of server-side-encryption\n\n...with notes in the sample config about how you should only enable it\nwhen you have encryption enabled cluster-wide.\n\nNote that this *does not* start including x-amz-server-side-encryption\nheaders in the response, neither during PUT nor GET. We should only\nsend that when we know for sure that the data on disk was encrypted.\n\nChange-Id: I4c20bca7fedb839628f1b2f8611807631b8bf430\nRelated-Bug: 1607116\nRelated-Change: Icf28dc57e589f9be20937947095800d7ce57b2f7\n'}, {'number': 4, 'created': '2018-12-06 01:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dc03fde5f2418b308d2cd8d43bbba2f16bc208b9', 'message': 's3api: Allow some forms of server-side-encryption\n\n...if and only if encryption is enabled. A few things to note about server-side\nencryption:\n\n- We register whether encryption is present and enabled when the proxy server\n  starts up.\n- This is generally considered an operator feature, not a user-facing one. S3\n  API users can now learn more about how your cluster is set up than they\n  previously could.\n- If encryption is enabled but there are no keymasters in the pipeline, all\n  writes will fail with ""Unable to retrieve encryption keys.""\n- There\'s still a \'swift.crypto.override\' env key that keymasters can set to\n  skip encryption, so this isn\'t a full guarantee that things will be\n  encrypted. On the other hand, none of the keymasters in Swift ever set that\n  override.\n\nNote that this *does not* start including x-amz-server-side-encryption\nheaders in the response, neither during PUT nor GET. We should only\nsend that when we know for sure that the data on disk was encrypted.\n\nChange-Id: I4c20bca7fedb839628f1b2f8611807631b8bf430\nRelated-Bug: 1607116\nRelated-Change: Icf28dc57e589f9be20937947095800d7ce57b2f7\n'}, {'number': 5, 'created': '2018-12-06 18:55:09.000000000', 'files': ['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3api.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8e95a93858dc215e2d2f7d48e035e6b5f1ab582a', 'message': 's3api: Allow some forms of server-side-encryption\n\n...if and only if encryption is enabled. A few things to note about server-side\nencryption:\n\n- We register whether encryption is present and enabled when the proxy server\n  starts up.\n- This is generally considered an operator feature, not a user-facing one. S3\n  API users can now learn more about how your cluster is set up than they\n  previously could.\n- If encryption is enabled but there are no keymasters in the pipeline, all\n  writes will fail with ""Unable to retrieve encryption keys.""\n- There\'s still a \'swift.crypto.override\' env key that keymasters can set to\n  skip encryption, so this isn\'t a full guarantee that things will be\n  encrypted. On the other hand, none of the keymasters in Swift ever set that\n  override.\n\nNote that this *does not* start including x-amz-server-side-encryption\nheaders in the response, neither during PUT nor GET. We should only\nsend that when we know for sure that the data on disk was encrypted.\n\nChange-Id: I4c20bca7fedb839628f1b2f8611807631b8bf430\nRelated-Bug: 1607116\nRelated-Change: Icf28dc57e589f9be20937947095800d7ce57b2f7\n'}]",3,619127,8e95a93858dc215e2d2f7d48e035e6b5f1ab582a,19,3,5,15343,,,0,"s3api: Allow some forms of server-side-encryption

...if and only if encryption is enabled. A few things to note about server-side
encryption:

- We register whether encryption is present and enabled when the proxy server
  starts up.
- This is generally considered an operator feature, not a user-facing one. S3
  API users can now learn more about how your cluster is set up than they
  previously could.
- If encryption is enabled but there are no keymasters in the pipeline, all
  writes will fail with ""Unable to retrieve encryption keys.""
- There's still a 'swift.crypto.override' env key that keymasters can set to
  skip encryption, so this isn't a full guarantee that things will be
  encrypted. On the other hand, none of the keymasters in Swift ever set that
  override.

Note that this *does not* start including x-amz-server-side-encryption
headers in the response, neither during PUT nor GET. We should only
send that when we know for sure that the data on disk was encrypted.

Change-Id: I4c20bca7fedb839628f1b2f8611807631b8bf430
Related-Bug: 1607116
Related-Change: Icf28dc57e589f9be20937947095800d7ce57b2f7
",git fetch https://review.opendev.org/openstack/swift refs/changes/27/619127/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/saio/swift/proxy-server.conf', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/s3api/test_s3api.py']",5,98789164e8e156d1beba8b864608340ddaf65d0f,bug/1607116," def test_invalid_ssc(self): req = Request.blank('/', environ={'REQUEST_METHOD': 'GET', 'HTTP_AUTHORIZATION': 'AWS X:Y:Z'}, headers={'x-amz-server-side-encryption': 'invalid', 'Date': self.get_date_header()}) status, headers, body = self.call_s3api(req) self.assertEqual(self._get_error_code(body), 'InvalidArgument') sse_header = 'x-amz-server-side-encryption' self._test_unsupported_header(sse_header, 'AES256') self._test_unsupported_header(sse_header, 'aws:kms') self.s3api.conf.allow_server_side_encryption = True # AES256 now works self.swift.register('PUT', '/v1/AUTH_X/bucket/object', swob.HTTPCreated, {}, None) req = Request.blank('/bucket/object', environ={'REQUEST_METHOD': 'PUT', 'HTTP_AUTHORIZATION': 'AWS X:Y:Z'}, headers={sse_header: 'AES256', 'Date': self.get_date_header()}) status, headers, body = self.call_s3api(req) self.assertEqual(status, '200 OK') # ...but aws:kms continues to fail self._test_unsupported_header(sse_header, 'aws:kms')", self._test_unsupported_header('x-amz-server-side-encryption'),50,7
openstack%2Fnova~stable%2Frocky~I401bb74cf6e17c2b72cc62bf8ec03ec58238c44a,openstack/nova,stable/rocky,I401bb74cf6e17c2b72cc62bf8ec03ec58238c44a,Handle IndexError in _populate_neutron_binding_profile,MERGED,2018-10-12 20:59:17.000000000,2018-12-07 18:11:34.000000000,2018-12-07 18:11:34.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 20:59:17.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dfbcf5e40bb51813f56f983e4f75e29a6034a830', 'message': ""Handle IndexError in _populate_neutron_binding_profile\n\nThis fixes the code that was blindly pop'ing an entry\nfrom an empty list of PCI devices claimed by the instance.\nIt's not exactly clear how we can get into this situation,\npresumably there was a failure in the actual PCI device\nclaim logic in the ResourceTracker - maybe related to the\nconfigured PCI passthrough whitelist. Regardless, we should\nhandle the empty PCI device list in this method and raise\nan appropriate exception to fail the build on this host.\n\nChange-Id: I401bb74cf6e17c2b72cc62bf8ec03ec58238c44a\nCloses-Bug: #1795064\n(cherry picked from commit 035708c37d587e4c5ede7fe80270bdbff98016ac)\n""}]",0,610163,dfbcf5e40bb51813f56f983e4f75e29a6034a830,13,9,1,6873,,,0,"Handle IndexError in _populate_neutron_binding_profile

This fixes the code that was blindly pop'ing an entry
from an empty list of PCI devices claimed by the instance.
It's not exactly clear how we can get into this situation,
presumably there was a failure in the actual PCI device
claim logic in the ResourceTracker - maybe related to the
configured PCI passthrough whitelist. Regardless, we should
handle the empty PCI device list in this method and raise
an appropriate exception to fail the build on this host.

Change-Id: I401bb74cf6e17c2b72cc62bf8ec03ec58238c44a
Closes-Bug: #1795064
(cherry picked from commit 035708c37d587e4c5ede7fe80270bdbff98016ac)
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/610163/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,dfbcf5e40bb51813f56f983e4f75e29a6034a830,bug/1795064-stable/rocky," @mock.patch.object(pci_manager, 'get_instance_pci_devs', return_value=[]) def test_populate_neutron_binding_profile_pci_dev_not_found( self, mock_get_instance_pci_devs): api = neutronapi.API() instance = objects.Instance(pci_devices=objects.PciDeviceList()) port_req_body = {'port': {}} pci_req_id = 'my_req_id' self.assertRaises(exception.PciDeviceNotFound, api._populate_neutron_binding_profile, instance, pci_req_id, port_req_body) mock_get_instance_pci_devs.assert_called_once_with( instance, pci_req_id) ",,30,2
openstack%2Fnova~stable%2Frocky~Iec50269ef31dfe090f0cd4db95a37909661bd910,openstack/nova,stable/rocky,Iec50269ef31dfe090f0cd4db95a37909661bd910,Refix disk size during live migration with disk over-commit,MERGED,2018-09-13 22:15:03.000000000,2018-12-07 18:11:27.000000000,2018-12-07 18:11:27.000000000,"[{'_account_id': 2711}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 21479}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-13 22:15:03.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c1c373291a93ad6304ff03ea09fea24a5cb5fd0', 'message': 'Refix disk size during live migration with disk over-commit\n\nCurrently available disk of targer host is calculated based on\nlocal_gb, not available disk(free_disk_gb). This check can be\nnegative if the target host has no free disk.\n\nChange-Id: Iec50269ef31dfe090f0cd4db95a37909661bd910\ncloses-bug: 1744079\n(cherry picked from commit e2cc275063658b23ed88824100919a6dfccb760d)\n'}]",0,602477,1c1c373291a93ad6304ff03ea09fea24a5cb5fd0,21,14,1,10135,,,0,"Refix disk size during live migration with disk over-commit

Currently available disk of targer host is calculated based on
local_gb, not available disk(free_disk_gb). This check can be
negative if the target host has no free disk.

Change-Id: Iec50269ef31dfe090f0cd4db95a37909661bd910
closes-bug: 1744079
(cherry picked from commit e2cc275063658b23ed88824100919a6dfccb760d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/602477/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,1c1c373291a93ad6304ff03ea09fea24a5cb5fd0,bug/1744079-stable/rocky," 'free_disk_gb': 50, 'disk_available_mb': 51200,"," 'local_gb': 100, 'disk_available_mb': 102400,",3,3
openstack%2Fnova~stable%2Frocky~I395ac34189c9fc010a37d4a73fac151d0f625ba2,openstack/nova,stable/rocky,I395ac34189c9fc010a37d4a73fac151d0f625ba2,Time how long select_destinations() takes in conductor,MERGED,2018-10-08 05:41:08.000000000,2018-12-07 18:11:21.000000000,2018-12-07 18:11:21.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-08 05:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/104ab653f631cea18def88322ab651b603240f76', 'message': ""Time how long select_destinations() takes in conductor\n\nWhen we see weird bugs due to race windows, like bug 1729371,\nit would be good to know if we're spending an inordinate amount\nof time in the scheduler selecting destinations because that\ncan have a real effect on things happening before the instance\nis created in a cell during the initial create.\n\nChange-Id: I395ac34189c9fc010a37d4a73fac151d0f625ba2\nRelated-Bug: #1729371\n""}, {'number': 2, 'created': '2018-10-10 12:53:57.000000000', 'files': ['nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8e463aa719be5446bb3cff7263274bf7d911aac0', 'message': ""Time how long select_destinations() takes in conductor\n\nWhen we see weird bugs due to race windows, like bug 1729371,\nit would be good to know if we're spending an inordinate amount\nof time in the scheduler selecting destinations because that\ncan have a real effect on things happening before the instance\nis created in a cell during the initial create.\n\nChange-Id: I395ac34189c9fc010a37d4a73fac151d0f625ba2\nRelated-Bug: #1729371\n(cherry picked from commit bf92b72ce9307e2faf220a75ca858289cf46406c)\n""}]",0,608575,8e463aa719be5446bb3cff7263274bf7d911aac0,21,10,2,10135,,,0,"Time how long select_destinations() takes in conductor

When we see weird bugs due to race windows, like bug 1729371,
it would be good to know if we're spending an inordinate amount
of time in the scheduler selecting destinations because that
can have a real effect on things happening before the instance
is created in a cell during the initial create.

Change-Id: I395ac34189c9fc010a37d4a73fac151d0f625ba2
Related-Bug: #1729371
(cherry picked from commit bf92b72ce9307e2faf220a75ca858289cf46406c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/608575/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,104ab653f631cea18def88322ab651b603240f76,bug/1729371,"from oslo_utils import timeutils with timeutils.StopWatch() as timer: host_lists = self.scheduler_client.select_destinations(context, request_spec, instance_uuids, return_objects=True, return_alternates=return_alternates) LOG.debug('Took %0.2f seconds to select destinations for %s ' 'instance(s).', timer.elapsed(), len(instance_uuids))"," host_lists = self.scheduler_client.select_destinations(context, request_spec, instance_uuids, return_objects=True, return_alternates=return_alternates)",7,3
openstack%2Fnova~stable%2Frocky~Ia19264ae7c88bb03ed3118795d4011ceb62ef92c,openstack/nova,stable/rocky,Ia19264ae7c88bb03ed3118795d4011ceb62ef92c,Properly track local root disk usage during moves,MERGED,2018-10-31 16:48:12.000000000,2018-12-07 18:11:14.000000000,2018-12-07 18:11:14.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-31 16:48:12.000000000', 'files': ['nova/tests/functional/test_boot_from_volume.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/980013d7008aff3f83d9de646417f387b29dc1df', 'message': 'Properly track local root disk usage during moves\n\nChange I0839470c4bcfb16590a0d87b306d683b059bf8a9 fixed\nroot disk usage tracking for volume-backed instances\nwhen performing an instance_claim which happens during\nthe initial server create and unshelve. However, root\ndisk reporting is still wrong for volume-backed instances\nduring move claims (resize and evacuate) because a move\nclaim calls _update_usage_from_migration which passes a\nFlavor object to ResourceTracker._get_usage_dict() and\nthat method didn\'t have ""is_bfv"" logic in that scenario.\n\nThis fixes the bug by always passing the instance object\nto the _get_usage_dict() method so we can determine if\nit\'s volume-backed and if so report the root_gb usage as 0.\n\nThe related functional regression test is updated\nappropriately to show the bug is fixed for volume-backed\ninstances.\n\nChange-Id: Ia19264ae7c88bb03ed3118795d4011ceb62ef92c\nCloses-Bug: #1796737\n(cherry picked from commit a99722bb854d2ba99c3abc2d2738ba281148fde4)\n'}]",0,614588,980013d7008aff3f83d9de646417f387b29dc1df,13,9,1,6873,,,0,"Properly track local root disk usage during moves

Change I0839470c4bcfb16590a0d87b306d683b059bf8a9 fixed
root disk usage tracking for volume-backed instances
when performing an instance_claim which happens during
the initial server create and unshelve. However, root
disk reporting is still wrong for volume-backed instances
during move claims (resize and evacuate) because a move
claim calls _update_usage_from_migration which passes a
Flavor object to ResourceTracker._get_usage_dict() and
that method didn't have ""is_bfv"" logic in that scenario.

This fixes the bug by always passing the instance object
to the _get_usage_dict() method so we can determine if
it's volume-backed and if so report the root_gb usage as 0.

The related functional regression test is updated
appropriately to show the bug is fixed for volume-backed
instances.

Change-Id: Ia19264ae7c88bb03ed3118795d4011ceb62ef92c
Closes-Bug: #1796737
(cherry picked from commit a99722bb854d2ba99c3abc2d2738ba281148fde4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/614588/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_boot_from_volume.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",3,980013d7008aff3f83d9de646417f387b29dc1df,bug/1796737," instance_type, instance, numa_topology=numa_topology) itype, instance, numa_topology=numa_topology) self._update_usage(self._get_usage_dict(instance, instance), nodename, sign=sign) def _get_usage_dict(self, object_or_dict, instance, **updates): :param instance: nova.objects.Instance for the related operation; this is needed to determine if the instance is volume-backed def _is_bfv(): if instance.uuid in self.is_bfv: is_bfv = self.is_bfv[instance.uuid] instance._context, instance) self.is_bfv[instance.uuid] = is_bfv return is_bfv usage = {} if isinstance(object_or_dict, objects.Instance): is_bfv = _is_bfv() if _is_bfv(): usage['root_gb'] = 0"," instance_type, numa_topology=numa_topology) itype, numa_topology=numa_topology) self._update_usage(self._get_usage_dict(instance), nodename, sign=sign) def _get_usage_dict(self, object_or_dict, **updates): usage = {} if isinstance(object_or_dict, objects.Instance): if object_or_dict.uuid in self.is_bfv: is_bfv = self.is_bfv[object_or_dict.uuid] object_or_dict._context, object_or_dict) self.is_bfv[object_or_dict.uuid] = is_bfv",60,35
openstack%2Fnova~stable%2Frocky~Iff6dc19f7f9eae3b6350fe6db7c08901d33f53e1,openstack/nova,stable/rocky,Iff6dc19f7f9eae3b6350fe6db7c08901d33f53e1,Add regression test for bug 1796737,MERGED,2018-10-31 16:48:12.000000000,2018-12-07 18:11:08.000000000,2018-12-07 18:11:07.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-31 16:48:12.000000000', 'files': ['nova/tests/functional/test_boot_from_volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d4ec96611c76128d0b8e0c7066ddda0490209565', 'message': 'Add regression test for bug 1796737\n\nChange I0839470c4bcfb16590a0d87b306d683b059bf8a9 fixed\nroot disk reporting for volume-backed servers during\nan instance claim which is used during server create\nand unshelve. However, resize claims track usage a bit\ndifferently so local_gb_used reporting of a volume-backed\ninstance is still wrong. This adds a test to exhibit the\nbug during resize.\n\nThe test was copied and modified from original change:\n\n  https://review.openstack.org/428505/\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: Iff6dc19f7f9eae3b6350fe6db7c08901d33f53e1\nRelated-Bug: #1796737\n(cherry picked from commit cb36ca76df788d45d70059b074691f7f3453b8fa)\n'}]",0,614587,d4ec96611c76128d0b8e0c7066ddda0490209565,12,6,1,6873,,,0,"Add regression test for bug 1796737

Change I0839470c4bcfb16590a0d87b306d683b059bf8a9 fixed
root disk reporting for volume-backed servers during
an instance claim which is used during server create
and unshelve. However, resize claims track usage a bit
differently so local_gb_used reporting of a volume-backed
instance is still wrong. This adds a test to exhibit the
bug during resize.

The test was copied and modified from original change:

  https://review.openstack.org/428505/

Co-Authored-By: melanie witt <melwittt@gmail.com>

Change-Id: Iff6dc19f7f9eae3b6350fe6db7c08901d33f53e1
Related-Bug: #1796737
(cherry picked from commit cb36ca76df788d45d70059b074691f7f3453b8fa)
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/614587/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_boot_from_volume.py'],1,d4ec96611c76128d0b8e0c7066ddda0490209565,bug/1796737,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import context from nova import objects from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.functional import test_servers class BootFromVolumeTest(integrated_helpers.InstanceHelperMixin, test_servers.ServersTestBase): def _get_hypervisor_stats(self): response = self.admin_api.api_get('/os-hypervisors/statistics') return response.body['hypervisor_statistics'] def _verify_zero_local_gb_used(self, expected=0): stats = self._get_hypervisor_stats() self.assertEqual(expected, stats['local_gb_used']) def _verify_instance_flavor_not_zero(self, instance_uuid): # We are trying to avoid saving instance records with root_gb=0 ctxt = context.RequestContext('fake', self.api.project_id) instance = objects.Instance.get_by_uuid(ctxt, instance_uuid) self.assertNotEqual(0, instance.root_gb) self.assertNotEqual(0, instance.flavor.root_gb) def _verify_request_spec_flavor_not_zero(self, instance_uuid): # We are trying to avoid saving request spec records with root_gb=0 ctxt = context.RequestContext('fake', self.api.project_id) rspec = objects.RequestSpec.get_by_instance_uuid(ctxt, instance_uuid) self.assertNotEqual(0, rspec.flavor.root_gb) def setUp(self): # These need to be set up before services are started, else they # won't be reflected in the running service. self.flags(allow_resize_to_same_host=True) super(BootFromVolumeTest, self).setUp() self.admin_api = self.api_fixture.admin_api self.useFixture(nova_fixtures.CinderFixtureNewAttachFlow(self)) def test_boot_from_volume_larger_than_local_gb(self): # Verify no local disk is being used currently self._verify_zero_local_gb_used() # Create flavors with disk larger than available host local disk flavor_id = self._create_flavor(memory_mb=64, vcpu=1, disk=8192, ephemeral=0) flavor_id_alt = self._create_flavor(memory_mb=64, vcpu=1, disk=16384, ephemeral=0) # Boot a server with a flavor disk larger than the available local # disk. It should succeed for boot from volume. server = self._build_server(flavor_id) server['imageRef'] = '' volume_uuid = nova_fixtures.CinderFixtureNewAttachFlow.IMAGE_BACKED_VOL bdm = {'boot_index': 0, 'uuid': volume_uuid, 'source_type': 'volume', 'destination_type': 'volume'} server['block_device_mapping_v2'] = [bdm] created_server = self.api.post_server({""server"": server}) server_id = created_server['id'] self._wait_for_state_change(self.api, created_server, 'ACTIVE') # Check that hypervisor local disk reporting is still 0 self._verify_zero_local_gb_used() # Check that instance has not been saved with 0 root_gb self._verify_instance_flavor_not_zero(server_id) # Check that request spec has not been saved with 0 root_gb self._verify_request_spec_flavor_not_zero(server_id) # Do actions that could change local disk reporting and verify they # don't change local disk reporting. # Resize post_data = {'resize': {'flavorRef': flavor_id_alt}} self.api.post_server_action(server_id, post_data) self._wait_for_state_change(self.api, created_server, 'VERIFY_RESIZE') # Check that hypervisor local disk reporting is still 0 # FIXME(mriedem): Expect 0 once bug 1796737 is fixed. self._verify_zero_local_gb_used(expected=16384) # Check that instance has not been saved with 0 root_gb self._verify_instance_flavor_not_zero(server_id) # Check that request spec has not been saved with 0 root_gb self._verify_request_spec_flavor_not_zero(server_id) # Confirm the resize post_data = {'confirmResize': None} self.api.post_server_action(server_id, post_data) self._wait_for_state_change(self.api, created_server, 'ACTIVE') # Check that hypervisor local disk reporting is still 0 # FIXME(mriedem): Expect 0 once bug 1796737 is fixed. self._verify_zero_local_gb_used(expected=8192) # Check that instance has not been saved with 0 root_gb self._verify_instance_flavor_not_zero(server_id) # Check that request spec has not been saved with 0 root_gb self._verify_request_spec_flavor_not_zero(server_id) # Shelve post_data = {'shelve': None} self.api.post_server_action(server_id, post_data) self._wait_for_state_change(self.api, created_server, 'SHELVED_OFFLOADED') # Check that hypervisor local disk reporting is still 0 # FIXME(mriedem): Expect 0 once bug 1796737 is fixed. self._verify_zero_local_gb_used(expected=8192) # Check that instance has not been saved with 0 root_gb self._verify_instance_flavor_not_zero(server_id) # Check that request spec has not been saved with 0 root_gb self._verify_request_spec_flavor_not_zero(server_id) # Unshelve post_data = {'unshelve': None} self.api.post_server_action(server_id, post_data) self._wait_for_state_change(self.api, created_server, 'ACTIVE') # Check that hypervisor local disk reporting is still 0 # FIXME(mriedem): Expect 0 once bug 1796737 is fixed. self._verify_zero_local_gb_used(expected=8192) # Check that instance has not been saved with 0 root_gb self._verify_instance_flavor_not_zero(server_id) # Check that request spec has not been saved with 0 root_gb self._verify_request_spec_flavor_not_zero(server_id) # Rebuild # The image_uuid is from CinderFixtureNewAttachFlow for the # volume representing IMAGE_BACKED_VOL. image_uuid = '155d900f-4e14-4e4c-a73d-069cbf4541e6' post_data = {'rebuild': {'imageRef': image_uuid}} self.api.post_server_action(server_id, post_data) self._wait_for_state_change(self.api, created_server, 'ACTIVE') # Check that hypervisor local disk reporting is still 0 # FIXME(mriedem): Expect 0 once bug 1796737 is fixed. self._verify_zero_local_gb_used(expected=8192) # Check that instance has not been saved with 0 root_gb self._verify_instance_flavor_not_zero(server_id) # Check that request spec has not been saved with 0 root_gb self._verify_request_spec_flavor_not_zero(server_id) ",,152,0
openstack%2Fnova~stable%2Frocky~I72c83a95dabd581998470edb9543079acb6536a5,openstack/nova,stable/rocky,I72c83a95dabd581998470edb9543079acb6536a5,Provide allocation_ratio/reserved amounts from update_provider_tree(),MERGED,2018-10-31 15:50:17.000000000,2018-12-07 18:11:01.000000000,2018-12-07 18:11:01.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-31 15:50:17.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'doc/source/reference/update-provider-tree.rst', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/virt/driver.py', 'nova/compute/resource_tracker.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/26c5ee100fb7d75721355878ade9167ff88a70e6', 'message': 'Provide allocation_ratio/reserved amounts from update_provider_tree()\n\nThe purpose of the RT._normalize_inventory_from_cn_obj method is\nto set allocation_ratio and reserved amounts on standard resource\nclass inventory records that get sent to placement if the virt driver\ndid not specifically set a ratio or reserved value (which none but\nthe ironic driver do).\n\nIf the allocation_ratio or reserved amount is in the inventory\ndata dict from the virt driver, then the normalize method ignores\nit and lets the virt driver take priority.\n\nHowever, with change I6a706ec5966cdc85f97223617662fe15d3e6dc08,\nany virt driver that implements the update_provider_tree() interface\nis storing the inventory data on the ProviderTree object which gets\ncached and re-used, meaning once allocation_ratio/reserved is set\nfrom RT._normalize_inventory_from_cn_obj, it doesn\'t get unset and\nthe normalize method always assumes the driver provided a value which\nshould not be changed, even if the configuration value changes.\n\nWe can make the config option changes take effect by changing\nthe semantics between _normalize_inventory_from_cn_obj and\ndrivers that implement the update_provider_tree interface, like\nfor the libvirt driver. Effectively with this change, when a driver\nimplements update_provider_tree(), they now control setting the\nallocation_ratio and reserved resource amounts for inventory they\nreport. The libvirt driver will use the same configuration option\nvalues that _normalize_inventory_from_cn_obj used. The only difference\nis in update_provider_tree we don\'t have the ComputeNode facade to\nget the ""real"" default values when the allocation_ratio is 0.0, so\nwe handle that like ""CONF.cpu_allocation_ratio or 16.0"". Eventually\nthat will get cleaned up with blueprint initial-allocation-ratios.\n\nConflicts:\n      nova/virt/driver.py\n\nNOTE(mriedem): The conflict is due to not having change\nIc062446e5c620c89aec3065b34bcdc6bf5966275 in Rocky which\nchanged the update_provider_tree() signature and docstring.\n\nChange-Id: I72c83a95dabd581998470edb9543079acb6536a5\nCloses-Bug: #1799727\n(cherry picked from commit ca279c68a54b054cb54d45ee9d2eed8ade9a6db5)\n'}]",0,614564,26c5ee100fb7d75721355878ade9167ff88a70e6,18,11,1,6873,,,0,"Provide allocation_ratio/reserved amounts from update_provider_tree()

The purpose of the RT._normalize_inventory_from_cn_obj method is
to set allocation_ratio and reserved amounts on standard resource
class inventory records that get sent to placement if the virt driver
did not specifically set a ratio or reserved value (which none but
the ironic driver do).

If the allocation_ratio or reserved amount is in the inventory
data dict from the virt driver, then the normalize method ignores
it and lets the virt driver take priority.

However, with change I6a706ec5966cdc85f97223617662fe15d3e6dc08,
any virt driver that implements the update_provider_tree() interface
is storing the inventory data on the ProviderTree object which gets
cached and re-used, meaning once allocation_ratio/reserved is set
from RT._normalize_inventory_from_cn_obj, it doesn't get unset and
the normalize method always assumes the driver provided a value which
should not be changed, even if the configuration value changes.

We can make the config option changes take effect by changing
the semantics between _normalize_inventory_from_cn_obj and
drivers that implement the update_provider_tree interface, like
for the libvirt driver. Effectively with this change, when a driver
implements update_provider_tree(), they now control setting the
allocation_ratio and reserved resource amounts for inventory they
report. The libvirt driver will use the same configuration option
values that _normalize_inventory_from_cn_obj used. The only difference
is in update_provider_tree we don't have the ComputeNode facade to
get the ""real"" default values when the allocation_ratio is 0.0, so
we handle that like ""CONF.cpu_allocation_ratio or 16.0"". Eventually
that will get cleaned up with blueprint initial-allocation-ratios.

Conflicts:
      nova/virt/driver.py

NOTE(mriedem): The conflict is due to not having change
Ic062446e5c620c89aec3065b34bcdc6bf5966275 in Rocky which
changed the update_provider_tree() signature and docstring.

Change-Id: I72c83a95dabd581998470edb9543079acb6536a5
Closes-Bug: #1799727
(cherry picked from commit ca279c68a54b054cb54d45ee9d2eed8ade9a6db5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/614564/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'doc/source/reference/update-provider-tree.rst', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/virt/driver.py', 'nova/compute/resource_tracker.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,26c5ee100fb7d75721355878ade9167ff88a70e6,bug/1799727," 'allocation_ratio': 16.0, 'reserved': 0, 'allocation_ratio': 1.5, 'reserved': 512, 'allocation_ratio': 1.0, 'reserved': 0,",,61,22
openstack%2Fnova~stable%2Frocky~Ie66d6f4c83a7d6fc64a64dbd752e427cee1356d0,openstack/nova,stable/rocky,Ie66d6f4c83a7d6fc64a64dbd752e427cee1356d0,Add functional recreate test for bug 1799727,MERGED,2018-10-31 15:50:17.000000000,2018-12-07 18:10:55.000000000,2018-12-07 18:10:54.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-31 15:50:17.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/compute/test_resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/57ca9288ce33550b73deee22ca902cc35f2b4819', 'message': 'Add functional recreate test for bug 1799727\n\nThis adds a functional test which recreates the\nbug where config-driven reserved and allocation ratio\noverrides are not being reflected in resource provider\ninventory once initially set.\n\nThe reserved and allocation_ratio values set in the\nFakeDriver.update_provider_tree method, added in change\nI69d760aaf931d46f011cfd229b88f400837662e8, are removed\nhere otherwise they hard-code the values which get sent\nto placement and ResourceTracker._normalize_inventory_from_cn_obj\nwon\'t update the reserved / ratios based on config. The\nfake virt driver shouldn\'t really need to hard-code these\nvalues since the RT will provide those based on config.\n\nConflicts:\n      nova/virt/fake.py\n\nNTOE(mriedem): The conflict is due to not having change\nI69d760aaf931d46f011cfd229b88f400837662e8 in Rocky. Rather\nthan backport that change, this backport simply adds the\nupdate_provider_tree method to the fake virt driver. The\nother noticeable difference is the ""allocations"" kwarg is\nommitted since that was added in Stein with change\nIc062446e5c620c89aec3065b34bcdc6bf5966275.\n\nChange-Id: Ie66d6f4c83a7d6fc64a64dbd752e427cee1356d0\nRelated-Bug: #1799727\n(cherry picked from commit 45f36cebabdbaad10e69c1a99f5ad4f091885f82)\n'}]",0,614563,57ca9288ce33550b73deee22ca902cc35f2b4819,15,10,1,6873,,,0,"Add functional recreate test for bug 1799727

This adds a functional test which recreates the
bug where config-driven reserved and allocation ratio
overrides are not being reflected in resource provider
inventory once initially set.

The reserved and allocation_ratio values set in the
FakeDriver.update_provider_tree method, added in change
I69d760aaf931d46f011cfd229b88f400837662e8, are removed
here otherwise they hard-code the values which get sent
to placement and ResourceTracker._normalize_inventory_from_cn_obj
won't update the reserved / ratios based on config. The
fake virt driver shouldn't really need to hard-code these
values since the RT will provide those based on config.

Conflicts:
      nova/virt/fake.py

NTOE(mriedem): The conflict is due to not having change
I69d760aaf931d46f011cfd229b88f400837662e8 in Rocky. Rather
than backport that change, this backport simply adds the
update_provider_tree method to the fake virt driver. The
other noticeable difference is the ""allocations"" kwarg is
ommitted since that was added in Stein with change
Ic062446e5c620c89aec3065b34bcdc6bf5966275.

Change-Id: Ie66d6f4c83a7d6fc64a64dbd752e427cee1356d0
Related-Bug: #1799727
(cherry picked from commit 45f36cebabdbaad10e69c1a99f5ad4f091885f82)
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/614563/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/functional/compute/test_resource_tracker.py']",2,57ca9288ce33550b73deee22ca902cc35f2b4819,bug/1799727,"from nova.compute import utils as compute_utilsfrom nova.tests.functional import integrated_helpers class TestUpdateComputeNodeReservedAndAllocationRatio( integrated_helpers.ProviderUsageBaseTestCase): """"""Tests reflecting reserved and allocation ratio inventory from nova-compute to placement """""" compute_driver = 'fake.FakeDriver' @staticmethod def _get_reserved_host_values_from_config(): return { 'VCPU': CONF.reserved_host_cpus, 'MEMORY_MB': CONF.reserved_host_memory_mb, 'DISK_GB': compute_utils.convert_mb_to_ceil_gb( CONF.reserved_host_disk_mb) } def test_update_inventory_reserved_and_allocation_ratio_from_conf(self): # Start a compute service which should create a corresponding resource # provider in the placement service. compute_service = self._start_compute('fake-host') # Assert the compute node resource provider exists in placement with # the default reserved and allocation ratio values from config. rp_uuid = self._get_provider_uuid_by_host('fake-host') inventories = self._get_provider_inventory(rp_uuid) # The default allocation ratio config values are all 0.0 and get # defaulted to real values in the ComputeNode object, so we need to # check our defaults against what is in the ComputeNode object. ctxt = context.get_admin_context() # Note that the CellDatabases fixture usage means we don't need to # target the context to cell1 even though the compute_nodes table is # in the cell1 database. cn = objects.ComputeNode.get_by_uuid(ctxt, rp_uuid) ratios = { 'VCPU': cn.cpu_allocation_ratio, 'MEMORY_MB': cn.ram_allocation_ratio, 'DISK_GB': cn.disk_allocation_ratio } for rc, ratio in ratios.items(): self.assertIn(rc, inventories) self.assertIn('allocation_ratio', inventories[rc]) self.assertEqual(ratio, inventories[rc]['allocation_ratio'], 'Unexpected allocation ratio for %s' % rc) reserved = self._get_reserved_host_values_from_config() for rc, res in reserved.items(): self.assertIn('reserved', inventories[rc]) self.assertEqual(res, inventories[rc]['reserved'], 'Unexpected reserved value for %s' % rc) # Now change the configuration values, restart the compute service, # and ensure the changes are reflected in the resource provider # inventory records. We use 2.0 since disk_allocation_ratio defaults # to 1.0. self.flags(cpu_allocation_ratio=2.0) self.flags(ram_allocation_ratio=2.0) self.flags(disk_allocation_ratio=2.0) self.flags(reserved_host_cpus=2) self.flags(reserved_host_memory_mb=1024) self.flags(reserved_host_disk_mb=8192) self.restart_compute_service(compute_service) # The ratios should now come from config overrides rather than the # defaults in the ComputeNode object. ratios = { 'VCPU': CONF.cpu_allocation_ratio, 'MEMORY_MB': CONF.ram_allocation_ratio, 'DISK_GB': CONF.disk_allocation_ratio } attr_map = { 'VCPU': 'cpu', 'MEMORY_MB': 'ram', 'DISK_GB': 'disk', } cn = objects.ComputeNode.get_by_uuid(ctxt, rp_uuid) inventories = self._get_provider_inventory(rp_uuid) for rc, ratio in ratios.items(): # Make sure the config is what we expect. self.assertEqual(2.0, ratio, 'Unexpected config allocation ratio for %s' % rc) # Make sure the values in the DB are updated. self.assertEqual( ratio, getattr(cn, '%s_allocation_ratio' % attr_map[rc]), 'Unexpected ComputeNode allocation ratio for %s' % rc) # Make sure the values in placement are updated. # FIXME(mriedem): The config-driven allocation ratio overrides # are not reflected in placement until bug 1799727 is fixed. self.assertNotEqual(ratio, inventories[rc]['allocation_ratio'], 'Unexpected resource provider inventory ' 'allocation ratio for %s' % rc) # The reserved host values should also come from config. reserved = self._get_reserved_host_values_from_config() for rc, res in reserved.items(): self.assertIn('reserved', inventories[rc]) # FIXME(mriedem): The config-driven reserved overrides # are not reflected in placement until bug 1799727 is fixed. self.assertNotEqual(res, inventories[rc]['reserved'], 'Unexpected resource provider inventory ' 'reserved value for %s' % rc)",,127,0
openstack%2Ftempest~master~I0fca827be8109124a05fd5474715b766065abcf2,openstack/tempest,master,I0fca827be8109124a05fd5474715b766065abcf2,Move test test_list_agents_non_admin to non-admin dir,MERGED,2018-11-14 23:11:58.000000000,2018-12-07 18:10:51.000000000,2018-12-07 18:10:51.000000000,"[{'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-11-14 23:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/57fccbab8033ce4932800c13a65d69dd5dd1c63a', 'message': 'Move test test_list_agents_non_admin to non-admin dir\n\nThis patch set moves the test test_list_agents_non_admin\nout of the admin subdirectory because it is obviously\nnot an admin test.\n\nThis test is not referenced by interop or anything critical\nso can be moved: http://codesearch.openstack.org/?q=test_list_agents_non_admin&i=nope&files=&repos=\n\nChange-Id: I0fca827be8109124a05fd5474715b766065abcf2\n'}, {'number': 2, 'created': '2018-11-21 23:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3c7f8505f72bddb5e929e813793a7da165d1cce7', 'message': 'Move test test_list_agents_non_admin to non-admin dir\n\nThis patch set moves the test test_list_agents_non_admin\nout of the admin subdirectory because it is obviously\nnot an admin test.\n\nThis test is not referenced by interop or anything critical\nso can be moved: http://codesearch.openstack.org/?q=test_list_agents_non_admin&i=nope&files=&repos=\n\nAlso changes test_delete_agent_negative to use\nadmin_agents_client as delete agent action requires\nadmin credentials:\n\nhttps://github.com/openstack/neutron/blob/4b40a4c3231486898923cee70f9d70d6ad803769/etc/policy.json#L132\n\nThis is not essential for the test to pass but strictly speaking\nthe admin client should be used, not the non-admin client.\n\nChange-Id: I0fca827be8109124a05fd5474715b766065abcf2\n'}, {'number': 3, 'created': '2018-11-24 16:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bdaba8a6d8f809ade677ac97ec585bfab08f0f61', 'message': 'Move test test_list_agents_non_admin to non-admin dir\n\nThis patch set moves the test test_list_agents_non_admin\nout of the admin subdirectory because it is obviously\nnot an admin test.\n\nThis test is not referenced by interop or anything critical\nso can be moved: http://codesearch.openstack.org/?q=test_list_agents_non_admin&i=nope&files=&repos=\n\nAlso changes test_delete_agent_negative to use\nadmin_agents_client as delete agent action requires\nadmin credentials:\n\nhttps://github.com/openstack/neutron/blob/4b40a4c3231486898923cee70f9d70d6ad803769/etc/policy.json#L132\n\nThis is not essential for the test to pass but strictly speaking\nthe admin client should be used, not the non-admin client.\n\nChange-Id: I0fca827be8109124a05fd5474715b766065abcf2\n'}, {'number': 4, 'created': '2018-11-28 17:17:18.000000000', 'files': ['tempest/api/network/test_agent_management_negative.py', 'tempest/api/network/admin/test_agent_management.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/93f60940dc43808c29ea3f851938656e793aeb44', 'message': 'Move test test_list_agents_non_admin to non-admin dir\n\nThis patch set moves the test test_list_agents_non_admin\nout of the admin subdirectory because it is obviously\nnot an admin test.\n\nThis test is not referenced by interop or anything critical\nso can be moved: http://codesearch.openstack.org/?q=test_list_agents_non_admin&i=nope&files=&repos=\n\nAlso changes test_delete_agent_negative to use\nadmin_agents_client as delete agent action requires\nadmin credentials:\n\nhttps://github.com/openstack/neutron/blob/4b40a4c3231486898923cee70f9d70d6ad803769/etc/policy.json#L132\n\nThis is not essential for the test to pass but strictly speaking\nthe admin client should be used, not the non-admin client.\n\nChange-Id: I0fca827be8109124a05fd5474715b766065abcf2\n'}]",6,618058,93f60940dc43808c29ea3f851938656e793aeb44,34,8,4,23186,,,0,"Move test test_list_agents_non_admin to non-admin dir

This patch set moves the test test_list_agents_non_admin
out of the admin subdirectory because it is obviously
not an admin test.

This test is not referenced by interop or anything critical
so can be moved: http://codesearch.openstack.org/?q=test_list_agents_non_admin&i=nope&files=&repos=

Also changes test_delete_agent_negative to use
admin_agents_client as delete agent action requires
admin credentials:

https://github.com/openstack/neutron/blob/4b40a4c3231486898923cee70f9d70d6ad803769/etc/policy.json#L132

This is not essential for the test to pass but strictly speaking
the admin client should be used, not the non-admin client.

Change-Id: I0fca827be8109124a05fd5474715b766065abcf2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/618058/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/network/test_agent_management.py', 'tempest/api/network/admin/test_agent_management.py']",2,57fccbab8033ce4932800c13a65d69dd5dd1c63a,move-test,," @decorators.idempotent_id('e335be47-b9a1-46fd-be30-0874c0b751e6') def test_list_agents_non_admin(self): body = self.agents_client.list_agents() self.assertEmpty(body[""agents""]) ",25,5
openstack%2Fkuryr-kubernetes~stable%2Frocky~I1126906516b787a5ce4dc5421f5323ad4f4b331c,openstack/kuryr-kubernetes,stable/rocky,I1126906516b787a5ce4dc5421f5323ad4f4b331c,Ignore exc on FIP association if state is correct,MERGED,2018-12-07 12:38:58.000000000,2018-12-07 18:04:13.000000000,2018-12-07 18:04:13.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 12:38:58.000000000', 'files': ['kuryr_kubernetes/controller/drivers/public_ip.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_public_ip.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3245f3e9e2535b8d1f76d1bb73105671c645f157', 'message': ""Ignore exc on FIP association if state is correct\n\nIf we're getting Conflict exception on FIP association we should check\nif that FIP isn't already associated correctly and if that's the case\nignore the exception. This commit implements that behavior.\n\nThis solves the case when kuryr-controller is restarted after FIP\nassociation but before that fact is saved into LBaaSState annotation.\n\nChange-Id: I1126906516b787a5ce4dc5421f5323ad4f4b331c\nCloses-Bug: 1798549\n(cherry picked from commit a5ee0fdb061ac5546e90c3f922bfc2c266378b93)\n""}]",0,623474,3245f3e9e2535b8d1f76d1bb73105671c645f157,9,5,1,23567,,,0,"Ignore exc on FIP association if state is correct

If we're getting Conflict exception on FIP association we should check
if that FIP isn't already associated correctly and if that's the case
ignore the exception. This commit implements that behavior.

This solves the case when kuryr-controller is restarted after FIP
association but before that fact is saved into LBaaSState annotation.

Change-Id: I1126906516b787a5ce4dc5421f5323ad4f4b331c
Closes-Bug: 1798549
(cherry picked from commit a5ee0fdb061ac5546e90c3f922bfc2c266378b93)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/74/623474/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/public_ip.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_public_ip.py']",2,3245f3e9e2535b8d1f76d1bb73105671c645f157,bug/1798549-stable/rocky," def test_associate_conflict_correct(self): driver = d_public_ip.FipPubIpDriver() res_id = mock.sentinel.res_id vip_port_id = mock.sentinel.vip_port_id neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_floatingip.side_effect = n_exc.Conflict neutron.get_floatingip.return_value = {'id': res_id, 'port_id': vip_port_id} self.assertIsNone(driver.associate(res_id, vip_port_id)) def test_associate_conflict_incorrect(self): driver = d_public_ip.FipPubIpDriver() res_id = mock.sentinel.res_id vip_port_id = mock.sentinel.vip_port_id neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_floatingip.side_effect = n_exc.Conflict neutron.get_floatingip.return_value = {'id': res_id, 'port_id': 'foo'} self.assertRaises(n_exc.Conflict, driver.associate, res_id, vip_port_id) ",,34,2
openstack%2Fcharm-interface-ceph-client~master~Ib497c7a797ca2d729ec2143209a8c273ea2d4704,openstack/charm-interface-ceph-client,master,Ib497c7a797ca2d729ec2143209a8c273ea2d4704,Expose all create pool options.,MERGED,2018-12-06 14:41:21.000000000,2018-12-07 18:00:44.000000000,2018-12-07 18:00:44.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 14:41:21.000000000', 'files': ['requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/c90bca40dae7d9e9d65a733533ba6b2cf6d9531f', 'message': 'Expose all create pool options.\n\nExpose all supported options in the create_pool interface method.\n\nChange-Id: Ib497c7a797ca2d729ec2143209a8c273ea2d4704\n'}]",0,623221,c90bca40dae7d9e9d65a733533ba6b2cf6d9531f,7,3,1,12549,,,0,"Expose all create pool options.

Expose all supported options in the create_pool interface method.

Change-Id: Ib497c7a797ca2d729ec2143209a8c273ea2d4704
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/21/623221/1 && git format-patch -1 --stdout FETCH_HEAD,['requires.py'],1,c90bca40dae7d9e9d65a733533ba6b2cf6d9531f,feature/support-group," def create_pool(self, name, replicas=3, weight=None, pg_num=None, group=None, namespace=None): @param name: Name of pool to create @param replicas: Number of replicas for supporting pools @param weight: The percentage of data the pool makes up @param pg_num: If not provided, this value will be calculated by the broker based on how many OSDs are in the cluster at the time of creation. Note that, if provided, this value will be capped at the current available maximum. @param group: Group to add pool to. @param namespace: A group can optionally have a namespace defined that will be used to further restrict pool access. pg_num=pg_num, weight=weight, group=group, namespace=namespace)"," def create_pool(self, name, replicas=3, weight=None): @param name: name of pool to create @param replicas: number of replicas for supporting pools weight=weight)",17,4
openstack%2Ftripleo-ci~master~I2753393cd7cdd64720d39360bebe9ddea2f20efc,openstack/tripleo-ci,master,I2753393cd7cdd64720d39360bebe9ddea2f20efc,remove non-voting job from gate,MERGED,2018-11-06 16:58:49.000000000,2018-12-07 17:52:04.000000000,2018-11-07 06:28:40.000000000,"[{'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-06 16:58:49.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0ee6ecdda855be526597c11e1ea982565009d432', 'message': 'remove non-voting job from gate\n\ntripleo-ci-centos-7-containerized-undercloud-upgrades\nis non-voting atm. It should not be in the gate.\n\nChange-Id: I2753393cd7cdd64720d39360bebe9ddea2f20efc\n'}]",0,615944,0ee6ecdda855be526597c11e1ea982565009d432,10,5,1,9592,,,0,"remove non-voting job from gate

tripleo-ci-centos-7-containerized-undercloud-upgrades
is non-voting atm. It should not be in the gate.

Change-Id: I2753393cd7cdd64720d39360bebe9ddea2f20efc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/44/615944/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,0ee6ecdda855be526597c11e1ea982565009d432,,, - tripleo-ci-centos-7-undercloud-containers,0,1
openstack%2Ftaskflow~master~I444a52a7c09d726ae707921e47e71a70a80b674c,openstack/taskflow,master,I444a52a7c09d726ae707921e47e71a70a80b674c,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 02:33:43.000000000,2018-12-07 17:49:33.000000000,2018-12-07 17:49:33.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28842}]","[{'number': 1, 'created': '2018-12-04 02:33:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/22aa616503096402c9dc04d7e1d7416f9a7b5148', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I444a52a7c09d726ae707921e47e71a70a80b674c\n'}]",0,621855,22aa616503096402c9dc04d7e1d7416f9a7b5148,8,4,1,26490,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I444a52a7c09d726ae707921e47e71a70a80b674c
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/55/621855/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,22aa616503096402c9dc04d7e1d7416f9a7b5148,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foslo.messaging~master~I7d889d3f9a6c95e707ed57dbf5a9cffb1d41ddf5,openstack/oslo.messaging,master,I7d889d3f9a6c95e707ed57dbf5a9cffb1d41ddf5,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:45:50.000000000,2018-12-07 17:45:50.000000000,"[{'_account_id': 9414}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/75c686646644a7f97b8f4aaf7a2122998dcedb10', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I7d889d3f9a6c95e707ed57dbf5a9cffb1d41ddf5\n'}, {'number': 2, 'created': '2018-12-05 01:39:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c047f431ea9ea6ba447d6c02479bffa5bb186177', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: I7d889d3f9a6c95e707ed57dbf5a9cffb1d41ddf5\n'}]",0,621808,c047f431ea9ea6ba447d6c02479bffa5bb186177,12,4,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: I7d889d3f9a6c95e707ed57dbf5a9cffb1d41ddf5
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/08/621808/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,75c686646644a7f97b8f4aaf7a2122998dcedb10,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foslo.i18n~master~I3aced52dd68bf66590ad10dec478c76a4bc46c92,openstack/oslo.i18n,master,I3aced52dd68bf66590ad10dec478c76a4bc46c92,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:45:50.000000000,2018-12-07 17:45:50.000000000,"[{'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/b87e49bead7467290ef0f0e5a25b9dcb6151b53c', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I3aced52dd68bf66590ad10dec478c76a4bc46c92\n'}, {'number': 2, 'created': '2018-12-05 01:39:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/f6907522f22f65c7688d57022f6b1f2cb0ce3b23', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: I3aced52dd68bf66590ad10dec478c76a4bc46c92\n'}]",0,621806,f6907522f22f65c7688d57022f6b1f2cb0ce3b23,10,4,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: I3aced52dd68bf66590ad10dec478c76a4bc46c92
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/06/621806/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b87e49bead7467290ef0f0e5a25b9dcb6151b53c,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fkuryr-kubernetes~master~I5690cb13d774bc1e437ece77d195a9a27b36b18b,openstack/kuryr-kubernetes,master,I5690cb13d774bc1e437ece77d195a9a27b36b18b,Set kuryr_daemon_enabled in tempest.conf correctly,MERGED,2018-12-05 10:47:17.000000000,2018-12-07 17:44:34.000000000,2018-12-07 17:44:34.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-12-05 10:47:17.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0d4cbacdb389564ad35c7aab072550bb74bf43a1', 'message': ""Set kuryr_daemon_enabled in tempest.conf correctly\n\nIn tempest.conf kuryr_daemon_enabled option defaults to True. This means\nthat we should set it to False when kuryr-daemon is disabled. The code\nwas doing it other way around and this code fixes it.\n\nIt's minor and only related to test development so I'm not filing a bug.\n\nChange-Id: I5690cb13d774bc1e437ece77d195a9a27b36b18b\n""}]",0,622928,0d4cbacdb389564ad35c7aab072550bb74bf43a1,14,6,1,11600,,,0,"Set kuryr_daemon_enabled in tempest.conf correctly

In tempest.conf kuryr_daemon_enabled option defaults to True. This means
that we should set it to False when kuryr-daemon is disabled. The code
was doing it other way around and this code fixes it.

It's minor and only related to test development so I'm not filing a bug.

Change-Id: I5690cb13d774bc1e437ece77d195a9a27b36b18b
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/28/622928/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,0d4cbacdb389564ad35c7aab072550bb74bf43a1,fix-daemon-enabled, if ! is_service_enabled kuryr-daemon; then iniset $TEMPEST_CONFIG kuryr_kubernetes kuryr_daemon_enabled False, if is_service_enabled kuryr-daemon; then iniset $TEMPEST_CONFIG kuryr_kubernetes kuryr_daemon_enabled True,2,2
openstack%2Fautomaton~master~I965782d57ee8f7e5ea8a67528d0ae1250a73d1a9,openstack/automaton,master,I965782d57ee8f7e5ea8a67528d0ae1250a73d1a9,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 02:59:25.000000000,2018-12-07 17:43:26.000000000,2018-12-07 17:43:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 02:59:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/automaton/commit/8aae08c8d4cb19bbc193e30b1fa0301afb062f58', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I965782d57ee8f7e5ea8a67528d0ae1250a73d1a9\n'}]",0,621894,8aae08c8d4cb19bbc193e30b1fa0301afb062f58,6,2,1,23312,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I965782d57ee8f7e5ea8a67528d0ae1250a73d1a9
",git fetch https://review.opendev.org/openstack/automaton refs/changes/94/621894/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8aae08c8d4cb19bbc193e30b1fa0301afb062f58,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foslo.log~master~Ibca48daefc917daed3f3f2a83c6d3c4973087289,openstack/oslo.log,master,Ibca48daefc917daed3f3f2a83c6d3c4973087289,Advancing the protocal of the website to HTTPS in usage.rst.,MERGED,2018-11-13 18:28:14.000000000,2018-12-07 17:39:44.000000000,2018-12-07 17:39:44.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 18:28:14.000000000', 'files': ['doc/source/user/examples.rst', 'doc/source/user/migration.rst', 'doc/source/user/usage.rst', 'doc/source/admin/journal.rst'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/4293cd8fc56662159300b74459e068eff3976322', 'message': 'Advancing the protocal of the website to HTTPS in usage.rst.\n\nChange-Id: Ibca48daefc917daed3f3f2a83c6d3c4973087289\n'}]",0,617774,4293cd8fc56662159300b74459e068eff3976322,6,2,1,29423,,,0,"Advancing the protocal of the website to HTTPS in usage.rst.

Change-Id: Ibca48daefc917daed3f3f2a83c6d3c4973087289
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/74/617774/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/examples.rst', 'doc/source/user/migration.rst', 'doc/source/user/usage.rst', 'doc/source/admin/journal.rst']",4,4293cd8fc56662159300b74459e068eff3976322,, https://git.openstack.org/cgit/openstack-dev/devstack/tree/SYSTEMD.rst, http://git.openstack.org/cgit/openstack-dev/devstack/tree/SYSTEMD.rst,6,6
openstack%2Foslo.log~master~Ia42def2fb8ccb5dc91ca0403511e2e30fc9081ab,openstack/oslo.log,master,Ia42def2fb8ccb5dc91ca0403511e2e30fc9081ab,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:39:43.000000000,2018-12-07 17:39:43.000000000,"[{'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/558f2cbd8f738b59a0def3e1a21daa2024a54304', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Ia42def2fb8ccb5dc91ca0403511e2e30fc9081ab\n'}, {'number': 2, 'created': '2018-12-05 01:39:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/dde54e756891508f92ea785cc8e18ac91839451d', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: Ia42def2fb8ccb5dc91ca0403511e2e30fc9081ab\n'}]",0,621809,dde54e756891508f92ea785cc8e18ac91839451d,10,4,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: Ia42def2fb8ccb5dc91ca0403511e2e30fc9081ab
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/09/621809/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,558f2cbd8f738b59a0def3e1a21daa2024a54304,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foslo.log~master~I5820f7940d8d32546174da132db5be5a209a2200,openstack/oslo.log,master,I5820f7940d8d32546174da132db5be5a209a2200,Fix up nits in log rotation change,MERGED,2018-11-29 20:51:24.000000000,2018-12-07 17:39:43.000000000,2018-12-07 17:39:43.000000000,"[{'_account_id': 2472}, {'_account_id': 8543}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 20:51:24.000000000', 'files': ['releasenotes/notes/log-rotation-595f8232cd987a6d.yaml', 'doc/source/admin/log_rotation.rst'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/8db5661b056f052bed8ac18762095a3759684513', 'message': 'Fix up nits in log rotation change\n\nJust a couple of doc things that became out of date due to some\ncode changes during the review process.\n\nChange-Id: I5820f7940d8d32546174da132db5be5a209a2200\n'}]",0,621005,8db5661b056f052bed8ac18762095a3759684513,8,4,1,6928,,,0,"Fix up nits in log rotation change

Just a couple of doc things that became out of date due to some
code changes during the review process.

Change-Id: I5820f7940d8d32546174da132db5be5a209a2200
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/05/621005/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/log-rotation-595f8232cd987a6d.yaml', 'doc/source/admin/log_rotation.rst']",2,8db5661b056f052bed8ac18762095a3759684513,bug/1802262, log_rotate_interval_type = Hours rotations. , log_rotate_interval_type = H rotations.,3,2
openstack%2Foslo.versionedobjects~master~Icf85e14c0c083cd22654a2f470045495a90bfd8c,openstack/oslo.versionedobjects,master,Icf85e14c0c083cd22654a2f470045495a90bfd8c,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:36:32.000000000,2018-12-07 17:36:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/218d69392ef72d6ef1d27db39302c779cb3760e5', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Icf85e14c0c083cd22654a2f470045495a90bfd8c\n'}, {'number': 2, 'created': '2018-12-05 01:39:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/6deab895bf652738c1ecaaed7f5f476e39134c6f', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: Icf85e14c0c083cd22654a2f470045495a90bfd8c\n'}]",0,621814,6deab895bf652738c1ecaaed7f5f476e39134c6f,8,2,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: Icf85e14c0c083cd22654a2f470045495a90bfd8c
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/14/621814/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,218d69392ef72d6ef1d27db39302c779cb3760e5,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foslo.rootwrap~master~I32d60d364e6e2d586a98759bc51f004bcf942682,openstack/oslo.rootwrap,master,I32d60d364e6e2d586a98759bc51f004bcf942682,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:36:32.000000000,2018-12-07 17:36:32.000000000,"[{'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/bb26a73a7adf009b75910aeb4d841a73da40581e', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I32d60d364e6e2d586a98759bc51f004bcf942682\n'}, {'number': 2, 'created': '2018-12-05 01:39:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/b58f3c57b05b26ac99b7e5539b6248e230a2f97e', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: I32d60d364e6e2d586a98759bc51f004bcf942682\n'}]",0,621810,b58f3c57b05b26ac99b7e5539b6248e230a2f97e,9,3,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: I32d60d364e6e2d586a98759bc51f004bcf942682
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/10/621810/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bb26a73a7adf009b75910aeb4d841a73da40581e,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foslo.utils~master~I815cf3290b137940cbe9811bb5b5a59739425f01,openstack/oslo.utils,master,I815cf3290b137940cbe9811bb5b5a59739425f01,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:34:03.000000000,2018-12-07 17:34:03.000000000,"[{'_account_id': 4257}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/326fd2e5d903a0cd4d58fbaaebd20a8f577b2058', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I815cf3290b137940cbe9811bb5b5a59739425f01\n'}, {'number': 2, 'created': '2018-12-05 01:39:32.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/e67579790e4a0df05b712b58345be531f29914f5', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: I815cf3290b137940cbe9811bb5b5a59739425f01\n'}]",0,621807,e67579790e4a0df05b712b58345be531f29914f5,11,5,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: I815cf3290b137940cbe9811bb5b5a59739425f01
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/07/621807/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,326fd2e5d903a0cd4d58fbaaebd20a8f577b2058,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Floci~master~Ifef14545bfa58b194082aa4e6e1ebbe43c15ce29,openstack/loci,master,Ifef14545bfa58b194082aa4e6e1ebbe43c15ce29,Updated documentation of FROM argument,MERGED,2018-11-07 01:35:01.000000000,2018-12-07 17:32:40.000000000,2018-12-07 17:32:40.000000000,"[{'_account_id': 7822}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-11-07 01:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/90f47a54df801b5ad81d545ba1d3dd18cbda5824', 'message': 'Updated documentation of FROM argument\n\nLoci now supports OpenSuse. Added documentation expanding on supported\ndistributions and how to use the FROM argument.\n\nChange-Id: Ifef14545bfa58b194082aa4e6e1ebbe43c15ce29\n'}, {'number': 2, 'created': '2018-11-07 02:02:11.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/loci/commit/0bfe65d58de1170024c1f743c08f198f4908ddd4', 'message': 'Updated documentation of FROM argument\n\nLoci now supports OpenSuse. Added documentation expanding on supported\ndistributions and how to use the FROM argument.\n\nChange-Id: Ifef14545bfa58b194082aa4e6e1ebbe43c15ce29\n'}]",1,616044,0bfe65d58de1170024c1f743c08f198f4908ddd4,18,4,2,7822,,,0,"Updated documentation of FROM argument

Loci now supports OpenSuse. Added documentation expanding on supported
distributions and how to use the FROM argument.

Change-Id: Ifef14545bfa58b194082aa4e6e1ebbe43c15ce29
",git fetch https://review.opendev.org/openstack/loci refs/changes/44/616044/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,90f47a54df801b5ad81d545ba1d3dd18cbda5824,update-docs," `ubuntu:xenial`, `centos:7`, `opensuse/leap:15`, or a base image derived from one of those distributions.", ubuntu:xenial and centos:7,2,1
openstack%2Ftripleo-validations~master~I7e52b75964077e2cea75006496db29161c6fdeb6,openstack/tripleo-validations,master,I7e52b75964077e2cea75006496db29161c6fdeb6,fix tox python3 overrides,MERGED,2018-10-05 11:43:17.000000000,2018-12-07 17:32:39.000000000,2018-12-07 17:32:38.000000000,"[{'_account_id': 9317}, {'_account_id': 11491}, {'_account_id': 17499}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-10-05 11:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1207dd6c445b1e9ef52e850aaed3e6357d0eb2af', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7e52b75964077e2cea75006496db29161c6fdeb6\n'}, {'number': 2, 'created': '2018-11-06 05:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/47ac63b41492b51bfa470dc5c62c07575242e8b6', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7e52b75964077e2cea75006496db29161c6fdeb6\nCloses-Bug:  #1801657\n'}, {'number': 3, 'created': '2018-11-26 07:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/faacca4a6f154116acfc71b77e3bcfe5df5905cf', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7e52b75964077e2cea75006496db29161c6fdeb6\nCloses-Bug:  #1801657\n'}, {'number': 4, 'created': '2018-11-27 12:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f40a8a63761c0e572575abd62ab6c49a0222ad5e', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7e52b75964077e2cea75006496db29161c6fdeb6\nCloses-Bug:  #1801657\n'}, {'number': 5, 'created': '2018-12-02 11:47:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bd7b9bb7014bc885402966b2826b032955fae8d5', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7e52b75964077e2cea75006496db29161c6fdeb6\nCloses-Bug:  #1801657\n'}]",0,608241,bd7b9bb7014bc885402966b2826b032955fae8d5,19,7,5,28935,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7e52b75964077e2cea75006496db29161c6fdeb6
Closes-Bug:  #1801657
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/41/608241/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1207dd6c445b1e9ef52e850aaed3e6357d0eb2af,bug/1801657,basepython = python3,basepython = python2,1,1
openstack%2Ftripleo-ui~master~I0f9eb020da5c60a90bebc8999dc888be362292d8,openstack/tripleo-ui,master,I0f9eb020da5c60a90bebc8999dc888be362292d8,Add Prepare Container Images step,MERGED,2018-11-23 14:27:27.000000000,2018-12-07 17:32:35.000000000,2018-12-07 17:32:35.000000000,"[{'_account_id': 7509}, {'_account_id': 8351}, {'_account_id': 10112}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-23 14:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/77e7e4f65634d2171a58dbbdf4b7a2041ce41082', 'message': 'Add Prepare Container Images step\n\nIntroduces Prepare Container Images as Step 5 in deployment plan\npage and includes container images configuration summary based\non ContainerImagePrepare parameter\n\nChange-Id: I0f9eb020da5c60a90bebc8999dc888be362292d8\n'}, {'number': 2, 'created': '2018-12-03 12:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/b448db263ec17bf921efa9625018ded19064192c', 'message': 'Add Prepare Container Images step\n\nIntroduces Prepare Container Images as Step 5 in deployment plan\npage and includes container images configuration summary based\non ContainerImagePrepare parameter\n\nStory: 2004509\nTask: 28233\nChange-Id: I0f9eb020da5c60a90bebc8999dc888be362292d8\n'}, {'number': 3, 'created': '2018-12-04 08:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/37f8c10d1e8b489f08e4586d7eafe015bba41121', 'message': 'Add Prepare Container Images step\n\nIntroduces Prepare Container Images as Step 5 in deployment plan\npage and includes container images configuration summary based\non ContainerImagePrepare parameter\n\nStory: 2004509\nTask: 28233\nChange-Id: I0f9eb020da5c60a90bebc8999dc888be362292d8\n'}, {'number': 4, 'created': '2018-12-04 20:45:42.000000000', 'files': ['src/js/components/deployment_plan/CurrentPlan.js', 'src/js/selectors/parameters.js', 'src/js/components/deployment_plan/ConfigureContainerImagesStep.js', 'src/js/components/deployment_plan/ContainerImagesConfigurationSummary.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/31c7b4ed26f0214163ffb438622c52a7b17303ab', 'message': 'Add Prepare Container Images step\n\nIntroduces Prepare Container Images as Step 5 in deployment plan\npage and includes container images configuration summary based\non ContainerImagePrepare parameter\n\nStory: 2004509\nTask: 28233\nChange-Id: I0f9eb020da5c60a90bebc8999dc888be362292d8\n'}]",2,619739,31c7b4ed26f0214163ffb438622c52a7b17303ab,24,6,4,7509,,,0,"Add Prepare Container Images step

Introduces Prepare Container Images as Step 5 in deployment plan
page and includes container images configuration summary based
on ContainerImagePrepare parameter

Story: 2004509
Task: 28233
Change-Id: I0f9eb020da5c60a90bebc8999dc888be362292d8
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/39/619739/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/js/components/deployment_plan/CurrentPlan.js', 'src/js/selectors/parameters.js', 'src/js/components/deployment_plan/ConfigureContainerImagesStep.js', 'src/js/components/deployment_plan/ContainerImagesConfigurationSummary.js']",4,77e7e4f65634d2171a58dbbdf4b7a2041ce41082,7prepareContainerImages,"/** * Copyright 2018 Red Hat Inc. * * Licensed under the Apache License, Version 2.0 (the ""License""); you may * not use this file except in compliance with the License. You may obtain * a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * License for the specific language governing permissions and limitations * under the License. */ import React, { Fragment } from 'react'; import PropTypes from 'prop-types'; import { defineMessages, FormattedMessage, injectIntl } from 'react-intl'; const messages = defineMessages({ editConfigurationLink: { id: 'ConfigureContainerImagesStep.editConfigurationLink', defaultMessage: 'Edit Configuration' }, loadingImagesConfiguration: { id: 'ConfigureContainerImagesStep.loadingImagesConfiguration', defaultMessage: 'Loading images configuration...' }, namespaceLabel: { id: 'ContainerImagesConfigurationSummary.namespaceLabel', defaultMessage: 'Registry namespace' }, namePrefixLabel: { id: 'ContainerImagesConfigurationSummary.namePrefixLabel', defaultMessage: 'Name prefix' }, nameSuffixLabel: { id: 'ContainerImagesConfigurationSummary.nameSuffixLabel', defaultMessage: 'Name suffix' }, tagLabel: { id: 'ContainerImagesConfigurationSummary.tagLabel', defaultMessage: 'Tag' }, tagFromLabelLabel: { id: 'ContainerImagesConfigurationSummary.tagFromLabelLabel', defaultMessage: 'Tag from label' }, pushDestinationLabel: { id: 'ContainerImagesConfigurationSummary.pushDestinationLabel', defaultMessage: 'Push destination' }, pushDestinationUndercloud: { id: 'ContainerImagesConfigurationSummary.pushDestinationUndercloud', defaultMessage: 'Undercloud image registry' }, containerImagesNotConfiguredYet: { id: 'ContainerImagesConfigurationSummary.containerImagesNotConfiguredYet', defaultMessage: 'Container images are not configured yet' } }); const ContainerImagesConfigurationSummary = ({ containerImagePrepareParameterSeed, intl: { formatMessage } }) => { if (Object.keys(containerImagePrepareParameterSeed).length > 0) { const { push_destination, tag_from_label, namespace, name_prefix, name_suffix, tag } = containerImagePrepareParameterSeed; return ( <dl className=""dl-horizontal""> {namespace && ( <Fragment> <dt> <FormattedMessage {...messages.namespaceLabel} /> </dt> <dd>{namespace}</dd> </Fragment> )} {name_prefix && ( <Fragment> <dt> <FormattedMessage {...messages.namePrefixLabel} /> </dt> <dd>{name_prefix}</dd> </Fragment> )} {name_suffix && ( <Fragment> <dt> <FormattedMessage {...messages.nameSuffixLabel} /> </dt> <dd>{name_suffix}</dd> </Fragment> )} {tag && ( <Fragment> <dt> <FormattedMessage {...messages.tagLabel} /> </dt> <dd>{tag}</dd> </Fragment> )} {push_destination && ( <Fragment> <dt> <FormattedMessage {...messages.pushDestinationLabel} /> </dt> <dd> {!!push_destination ? formatMessage(messages.pushDestinationUndercloud) : push_destination} </dd> </Fragment> )} {tag_from_label && ( <Fragment> <dt> <FormattedMessage {...messages.tagFromLabelLabel} /> </dt> <dd>{tag_from_label}</dd> </Fragment> )} </dl> ); } else { return ( <p> <FormattedMessage {...messages.containerImagesNotConfiguredYet} /> </p> ); } }; ContainerImagesConfigurationSummary.propTypes = { containerImagePrepareParameterSeed: PropTypes.object.isRequired, intl: PropTypes.object.isRequired }; export default injectIntl(ContainerImagesConfigurationSummary); ",,260,4
openstack%2Ftripleo-ui~master~Ifd57af7db500093da16cea0d848a57486a0e951e,openstack/tripleo-ui,master,Ifd57af7db500093da16cea0d848a57486a0e951e,[Documentation] Migrate the format.,MERGED,2018-12-06 09:16:27.000000000,2018-12-07 17:32:34.000000000,2018-12-07 17:32:34.000000000,"[{'_account_id': 7509}, {'_account_id': 8042}, {'_account_id': 10112}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-12-06 09:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/cb070b53e5c2eb38572c2fece976a6013ef7ad8d', 'message': '[Documentation] Migrate the format.\n\nMoved the file to README.rst for consistency with other OpenStack\nproject documentation.\n\nChange-Id: Ifd57af7db500093da16cea0d848a57486a0e951e\n'}, {'number': 2, 'created': '2018-12-06 10:57:04.000000000', 'files': ['README.rst', 'setup.cfg', 'README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/2c383c39af76f1b4fb3a6bc863333f1ce03d76cb', 'message': '[Documentation] Migrate the format.\n\nMoved the file to README.rst for consistency with other OpenStack\nproject documentation.\n\nChange-Id: Ifd57af7db500093da16cea0d848a57486a0e951e\n'}]",0,623170,2c383c39af76f1b4fb3a6bc863333f1ce03d76cb,12,9,2,29222,,,0,"[Documentation] Migrate the format.

Moved the file to README.rst for consistency with other OpenStack
project documentation.

Change-Id: Ifd57af7db500093da16cea0d848a57486a0e951e
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/70/623170/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'README.md']",2,cb070b53e5c2eb38572c2fece976a6013ef7ad8d,migrate_to_restructuredtext,,"Team and repository tags ======================== [![Team and repository tags](https://governance.openstack.org/tc/badges/tripleo-ui.svg)](http://governance.openstack.org/reference/tags/index.html) Release notes for the project can be found at: https://docs.openstack.org/releasenotes/tripleo-ui TripleO UI ========== ## Installation See [installation](docs/installation.rst) ## Overview See [overview](docs/overview.rst) ## Testing See [testing](docs/testing.rst) ## Translation See [translation](docs/translation.rst) ## Packaging See [packaging](docs/packaging.rst) ## Contributing See [contributing](docs/contributing.rst) ## License Apache 2.0, see LICENSE for details. ",50,39
openstack%2Ftripleo-heat-templates~stable%2Frocky~I2e0cebb09b9cefb08a44b64a24fc4159d01d27bc,openstack/tripleo-heat-templates,stable/rocky,I2e0cebb09b9cefb08a44b64a24fc4159d01d27bc,Verify docker as part of the online database migration pre-upgrade.,MERGED,2018-12-04 16:48:13.000000000,2018-12-07 17:32:33.000000000,2018-12-07 17:32:32.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-12-04 16:48:13.000000000', 'files': ['docker/services/nova-api.yaml', 'docker/services/ironic-api.yaml', 'docker/services/cinder-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/323548a2b30535616a4b6bbe7c2cf274e378d970', 'message': 'Verify docker as part of the online database migration pre-upgrade.\n\nWe have to check for docker presence here because it might be missing\nduring the re-run of a failed upgrade.\n\nThis is a sort of backport of\nI6ca70cb913f7cdd6fc4fbcc70698992e2074dc9c in the sense that it solves\nthe same issue.  The patch is so different though that this is a rocky\nonly patch.\n\nChange-Id: I2e0cebb09b9cefb08a44b64a24fc4159d01d27bc\nCloses-Bug: #1804459\n'}]",0,622420,323548a2b30535616a4b6bbe7c2cf274e378d970,12,6,1,8297,,,0,"Verify docker as part of the online database migration pre-upgrade.

We have to check for docker presence here because it might be missing
during the re-run of a failed upgrade.

This is a sort of backport of
I6ca70cb913f7cdd6fc4fbcc70698992e2074dc9c in the sense that it solves
the same issue.  The patch is so different though that this is a rocky
only patch.

Change-Id: I2e0cebb09b9cefb08a44b64a24fc4159d01d27bc
Closes-Bug: #1804459
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/622420/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-api.yaml', 'docker/services/cinder-api.yaml', 'docker/services/ironic-api.yaml']",3,323548a2b30535616a4b6bbe7c2cf274e378d970,bug/1804459, shell: | if docker ps | grep ironic_api; then docker exec ironic_api ironic-dbsync --config-file /etc/ironic/ironic.conf online_data_migrations fi, command: docker exec ironic_api ironic-dbsync --config-file /etc/ironic/ironic.conf online_data_migrations,12,3
openstack%2Ftripleo-heat-templates~master~I95e2a659927f44e2941b10daa10c7fc9c605bbd8,openstack/tripleo-heat-templates,master,I95e2a659927f44e2941b10daa10c7fc9c605bbd8,Fix fs035 by defining a default gateway_ipv6,MERGED,2018-12-05 13:14:35.000000000,2018-12-07 17:32:30.000000000,2018-12-07 17:32:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12398}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-12-05 13:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/213844017a5e3eabb4080c2bac9f7f56e0911f86', 'message': 'Fix fs035 by defining a default gateway_ipv6\n\nChange-Id: I95e2a659927f44e2941b10daa10c7fc9c605bbd8\nCloses-Bug: 1806897\n'}, {'number': 2, 'created': '2018-12-05 13:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac7577684ad0b86701c98a617a9e1d89f651693c', 'message': 'Fix fs035 by defining a default gateway_ipv6\n\nChange-Id: I95e2a659927f44e2941b10daa10c7fc9c605bbd8\nCloses-Bug: 1806897\n'}, {'number': 3, 'created': '2018-12-05 14:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3a05c78465734d53c9429db5ab3ec355ff521b4', 'message': 'Fix fs035 by defining a default gateway_ipv6\n\nChange-Id: I95e2a659927f44e2941b10daa10c7fc9c605bbd8\nCloses-Bug: 1806897\n'}, {'number': 4, 'created': '2018-12-05 14:23:58.000000000', 'files': ['network_data_routed.yaml', 'network_data.yaml', 'network_data_ganesha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/446dcc179de75bd7af1174d3f7fa8e3e45fad817', 'message': 'Fix fs035 by defining a default gateway_ipv6\n\nChange-Id: I95e2a659927f44e2941b10daa10c7fc9c605bbd8\nCloses-Bug: 1806897\n'}]",0,622960,446dcc179de75bd7af1174d3f7fa8e3e45fad817,23,13,4,24162,,,0,"Fix fs035 by defining a default gateway_ipv6

Change-Id: I95e2a659927f44e2941b10daa10c7fc9c605bbd8
Closes-Bug: 1806897
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/622960/3 && git format-patch -1 --stdout FETCH_HEAD,['network_data.yaml'],1,213844017a5e3eabb4080c2bac9f7f56e0911f86,oooq/fs035, gateway_ipv6: 'fd00:fd00:fd00:6000::1',,1,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I10fb84baa67275ed1f01fbb5b1236a284f2c763e,openstack/tripleo-heat-templates,stable/rocky,I10fb84baa67275ed1f01fbb5b1236a284f2c763e,Invoke redhat-subscription role during upgrade.,MERGED,2018-11-29 16:21:43.000000000,2018-12-07 17:32:29.000000000,2018-12-07 17:32:29.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27253}]","[{'number': 1, 'created': '2018-11-29 16:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fbbc21125eac6fecc34b1b88f08ae49a9f264dc', 'message': 'Invoke redhat-subscription role during upgrade.\n\nBefore performing an upgrade, the new repositories and\nactivation key should be configured. Rhsm is the service\nin charge of performing the overcloud nodes registration,\nso we need to enable the new repository/parameters in the\nupgrade_tasks to point to the right repositories during\nupgrade.\nAlso, after [0] got merged, the registration is being forced\nvia --force in case it fails for the first time. Plus,\nthere is also a new option that allows us to enable only\nthe repositories passed in rhsm_repos variable, disabling\nwhat is not included and was enabled. We need to pass\nthis variable set to true during upgrades so we disable\nthe latest version repositories.\n\n[0] - https://review.openstack.org/#/c/615689/\n\nChange-Id: I10fb84baa67275ed1f01fbb5b1236a284f2c763e\nRelated-Bug: #1797138\n(cherry picked from commit 030442d07d7931d016044f150314a921167a31af)\n'}, {'number': 2, 'created': '2018-12-06 22:14:41.000000000', 'files': ['extraconfig/services/rhsm.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cead22781c50bc9b3767c5fe9d6ba196e3f5db3', 'message': 'Invoke redhat-subscription role during upgrade.\n\nBefore performing an upgrade, the new repositories and\nactivation key should be configured. Rhsm is the service\nin charge of performing the overcloud nodes registration,\nso we need to enable the new repository/parameters in the\nupgrade_tasks to point to the right repositories during\nupgrade.\nAlso, after [0] got merged, the registration is being forced\nvia --force in case it fails for the first time. Plus,\nthere is also a new option that allows us to enable only\nthe repositories passed in rhsm_repos variable, disabling\nwhat is not included and was enabled. We need to pass\nthis variable set to true during upgrades so we disable\nthe latest version repositories.\n\n[0] - https://review.openstack.org/#/c/615689/\n\nChange-Id: I10fb84baa67275ed1f01fbb5b1236a284f2c763e\nRelated-Bug: #1797138\n(cherry picked from commit 030442d07d7931d016044f150314a921167a31af)\n'}]",0,620953,8cead22781c50bc9b3767c5fe9d6ba196e3f5db3,27,10,2,26343,,,0,"Invoke redhat-subscription role during upgrade.

Before performing an upgrade, the new repositories and
activation key should be configured. Rhsm is the service
in charge of performing the overcloud nodes registration,
so we need to enable the new repository/parameters in the
upgrade_tasks to point to the right repositories during
upgrade.
Also, after [0] got merged, the registration is being forced
via --force in case it fails for the first time. Plus,
there is also a new option that allows us to enable only
the repositories passed in rhsm_repos variable, disabling
what is not included and was enabled. We need to pass
this variable set to true during upgrades so we disable
the latest version repositories.

[0] - https://review.openstack.org/#/c/615689/

Change-Id: I10fb84baa67275ed1f01fbb5b1236a284f2c763e
Related-Bug: #1797138
(cherry picked from commit 030442d07d7931d016044f150314a921167a31af)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/620953/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/rhsm.yaml'],1,0fbbc21125eac6fecc34b1b88f08ae49a9f264dc,bug/1797138," upgrade_tasks: - name: Red Hat Subscription Management configuration import_role: name: redhat-subscription vars: map_merge: - {get_attr: [RoleParametersValue, value, vars]} # Force only rhsm_repos content to be enabled. - rhsm_repos_purge: True when: step|int == 0", upgrade_tasks: [],10,1
openstack%2Foslo.config~master~Id75bf454ebb3f3f396f0b64f3a0b94cf9cd7c8e1,openstack/oslo.config,master,Id75bf454ebb3f3f396f0b64f3a0b94cf9cd7c8e1,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:28:43.000000000,2018-12-07 17:28:43.000000000,"[{'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/fa708e5a340e85c48537d852628e1c2eb4ce748c', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Id75bf454ebb3f3f396f0b64f3a0b94cf9cd7c8e1\n'}, {'number': 2, 'created': '2018-12-05 01:39:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d32126b84f21fa68473eb157cb26a6fc43724823', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: Id75bf454ebb3f3f396f0b64f3a0b94cf9cd7c8e1\n'}]",0,621813,d32126b84f21fa68473eb157cb26a6fc43724823,10,4,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: Id75bf454ebb3f3f396f0b64f3a0b94cf9cd7c8e1
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/13/621813/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fa708e5a340e85c48537d852628e1c2eb4ce748c,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstacksdk~master~Iea68921e947d86b6d786ced806373879c998c9fa,openstack/openstacksdk,master,Iea68921e947d86b6d786ced806373879c998c9fa,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 12:22:11.000000000,2018-12-07 17:27:24.000000000,2018-12-07 17:27:24.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-12-05 12:22:11.000000000', 'files': ['doc/source/user/multi-cloud-demo.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0c6ede931e5d7c7be5b4be4217bd5f06a5d74d6b', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Iea68921e947d86b6d786ced806373879c998c9fa\n'}]",0,622947,0c6ede931e5d7c7be5b4be4217bd5f06a5d74d6b,8,4,1,17130,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Iea68921e947d86b6d786ced806373879c998c9fa
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/47/622947/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/multi-cloud-demo.rst', 'doc/source/contributor/index.rst']",2,0c6ede931e5d7c7be5b4be4217bd5f06a5d74d6b,mail-list,The `openstack-discuss <mailto:openstack-discuss@openstack.org?subject=[sdk]%20Question%20about%20openstacksdk>`_,The `openstack-dev <mailto:openstack-dev@openstack.org?subject=[sdk]%20Question%20about%20openstacksdk>`_,2,2
openstack%2Fopenstacksdk~master~I926811d43c0bde15fa2178fdc35285cb5ad5eddf,openstack/openstacksdk,master,I926811d43c0bde15fa2178fdc35285cb5ad5eddf,Deal with double-normalization of host_id,MERGED,2018-12-06 20:38:00.000000000,2018-12-07 17:27:23.000000000,2018-12-07 17:27:23.000000000,"[{'_account_id': 3099}, {'_account_id': 4162}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-12-06 20:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a8fcc4a7656531d41418d38bef9928369907f268', 'message': ""Deal with double-normalization of host_id\n\nWe need to generalize this a bit more, but when we pass a\nserver.to_dict() from the resource layer into cloud's normalize, things\ngo sideways.\n\nChange-Id: I926811d43c0bde15fa2178fdc35285cb5ad5eddf\n""}, {'number': 2, 'created': '2018-12-06 20:51:05.000000000', 'files': ['openstack/cloud/_normalize.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f06b60f4f9dc0a62bd06fc32c20da20ed6e57a80', 'message': ""Deal with double-normalization of host_id\n\nWe need to generalize this a bit more, but when we pass a\nserver.to_dict() from the resource layer into cloud's normalize, things\ngo sideways.\n\nChange-Id: I926811d43c0bde15fa2178fdc35285cb5ad5eddf\n""}]",1,623308,f06b60f4f9dc0a62bd06fc32c20da20ed6e57a80,10,4,2,2,,,0,"Deal with double-normalization of host_id

We need to generalize this a bit more, but when we pass a
server.to_dict() from the resource layer into cloud's normalize, things
go sideways.

Change-Id: I926811d43c0bde15fa2178fdc35285cb5ad5eddf
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/08/623308/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_normalize.py'],1,a8fcc4a7656531d41418d38bef9928369907f268,task-manager," host_id = server.pop('hostId', server.pop('host_id', None)"," host_id = server.pop('hostId', None)",1,1
openstack%2Foslo-specs~master~I05f4b8da2e27d3b6c35b0f80edc19e6592c67de2,openstack/oslo-specs,master,I05f4b8da2e27d3b6c35b0f80edc19e6592c67de2,Add placeholder for Train specs,MERGED,2018-11-14 08:57:52.000000000,2018-12-07 17:27:23.000000000,2018-12-07 17:27:23.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28842}]","[{'number': 1, 'created': '2018-11-14 08:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/08cb0affdce431ebbcde9ff9397a2b3a3d9f39ef', 'message': 'Add placeholder for Train specs\n\nThe ""T"" release of OpenStack is officially ""Train"".\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-November/136464.html\n\nChange-Id: I05f4b8da2e27d3b6c35b0f80edc19e6592c67de2\n'}, {'number': 2, 'created': '2018-11-21 03:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/c0e5216943e7b0e95cffa92fcf832bfad503d543', 'message': 'Add placeholder for Train specs\n\nThe ""T"" release of OpenStack is officially ""Train"".\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-November/136464.html\n\nChange-Id: I05f4b8da2e27d3b6c35b0f80edc19e6592c67de2\n'}, {'number': 3, 'created': '2018-11-28 00:58:26.000000000', 'files': ['doc/source/index.rst', 'specs/train/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/d5a54bcb3f9d31a8cb1e80070688785f3bcf131e', 'message': 'Add placeholder for Train specs\n\nThe ""T"" release of OpenStack is officially ""Train"".\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-November/136464.html\n\nChange-Id: I05f4b8da2e27d3b6c35b0f80edc19e6592c67de2\n'}]",1,617911,d5a54bcb3f9d31a8cb1e80070688785f3bcf131e,13,4,3,28842,,,0,"Add placeholder for Train specs

The ""T"" release of OpenStack is officially ""Train"".

http://lists.openstack.org/pipermail/openstack-dev/2018-November/136464.html

Change-Id: I05f4b8da2e27d3b6c35b0f80edc19e6592c67de2
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/11/617911/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/train/index.rst', 'specs/train/placeholder.rst']",3,08cb0affdce431ebbcde9ff9397a2b3a3d9f39ef,617911,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================== (Placeholder Spec) ================== This file is just a placeholder for the specs directory. It will be removed soon after some spec is merged. The latest spec template is found at ``specs/template.rst`` in the ``oslo-specs`` repository. Problem description =================== Sphinx toctree complains if no file exists in a directory specified in toctree glob. Use Cases --------- None Proposed change =============== Add this file. Please remove later when the another spec is approved. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- None Work Items ---------- None Dependencies ============ None Testing ======= None Documentation Impact ==================== None References ========== None History ======= None,,141,0
openstack%2Fplacement~master~Icf2ea4a5f51dce412c6e93fda3950d0c9f17aa9f,openstack/placement,master,Icf2ea4a5f51dce412c6e93fda3950d0c9f17aa9f,Use oslo_db fixtures,MERGED,2018-11-30 22:27:40.000000000,2018-12-07 17:26:11.000000000,2018-12-03 23:39:20.000000000,"[{'_account_id': 1063}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 11816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 22:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/03a7278cc1cc01e8c1a7ed0b35b37e0ef405398a', 'message': ""Use oslo_db fixtures\n\nIllustrates the general idea of using oslo_db fixtures\nnormally.\n\nHowever, it doesn't work and this is WIP, as it seems indeed\nthere may be a bug in oslo.db I\nhave to fix for this to work, still need to check\nout what's happening here as I haven't worked with\nthis code in a couple of years but it seems to not be doing the\nright thing, that is oslo_db issue: https://bugs.launchpad.net/oslo.db/+bug/1806137\n\nChange-Id: Icf2ea4a5f51dce412c6e93fda3950d0c9f17aa9f\n""}, {'number': 2, 'created': '2018-12-01 04:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/628fcbcc33a624fa47414028da4ed202126d4e3b', 'message': ""Use oslo_db fixtures\n\nConverts the plain and migration fixtures to use oslo_db\ntest_fixtures.\n\nThe one snag that can be improved on the oslo_db side is\nthat the generate_schema hooks called by test_fixtures.SimpleDBFixture\nare called before the enginefacades have been connected with the\nprovisioned engine, so an additional patch is called here\nas placement's database setup relies upon enginefacade-enabled\nmethods to insert DB data.\n\nThe WalkVersionsMixin here is necessary as the one in\noslo.db is specific to SQLAlchemy-migrate, so oslo.db should\nalso include this alembic-capable WalkVersionsMixin within\nits own modules.\n\nThe normal provisioning system of generating anonymously-named\ndatabases within MySQL and Postgresql is in place, which allows\ntests to run concurrently in multiple processes withotu conflicts.\n\nChange-Id: Icf2ea4a5f51dce412c6e93fda3950d0c9f17aa9f\n""}, {'number': 3, 'created': '2018-12-01 13:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/59618b386be91c8608d68ffec0332c420584df11', 'message': ""Use oslo_db fixtures\n\nConverts the plain and migration fixtures to use oslo_db\ntest_fixtures.\n\nThe one snag that can be improved on the oslo_db side is\nthat the generate_schema hooks called by test_fixtures.SimpleDBFixture\nare called before the enginefacades have been connected with the\nprovisioned engine, so an additional patch is called here\nas placement's database setup relies upon enginefacade-enabled\nmethods to insert DB data.\n\nThe WalkVersionsMixin here is necessary as the one in\noslo.db is specific to SQLAlchemy-migrate, so oslo.db should\nalso include this alembic-capable WalkVersionsMixin within\nits own modules.\n\nThe normal provisioning system of generating anonymously-named\ndatabases within MySQL and Postgresql is in place, which allows\ntests to run concurrently in multiple processes withotu conflicts.\n\nChange-Id: Icf2ea4a5f51dce412c6e93fda3950d0c9f17aa9f\n""}, {'number': 4, 'created': '2018-12-03 15:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a049de9b8d97c9c99df47d86e33385ffd7bc9496', 'message': ""Use oslo_db fixtures\n\nConverts the plain and migration fixtures to use oslo_db\ntest_fixtures.\n\nThe one snag that can be improved on the oslo_db side is\nthat the generate_schema hooks called by test_fixtures.SimpleDBFixture\nare called before the enginefacades have been connected with the\nprovisioned engine, so an additional patch is called here\nas placement's database setup relies upon enginefacade-enabled\nmethods to insert DB data.\n\nThe WalkVersionsMixin here is necessary as the one in\noslo.db is specific to SQLAlchemy-migrate, so oslo.db should\nalso include this alembic-capable WalkVersionsMixin within\nits own modules.\n\nThe normal provisioning system of generating anonymously-named\ndatabases within MySQL and Postgresql is in place, which allows\ntests to run concurrently in multiple processes without conflicts.\n\nChange-Id: Icf2ea4a5f51dce412c6e93fda3950d0c9f17aa9f\n""}, {'number': 5, 'created': '2018-12-03 18:31:38.000000000', 'files': ['placement/db/sqlalchemy/migration.py', 'placement/tests/fixtures.py', 'placement/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/34f03c297e28ae2c46ab11debdb4bbe64df1acdc', 'message': ""Use oslo_db fixtures\n\nConverts the plain and migration fixtures to use oslo_db\ntest_fixtures.\n\nThe one snag that can be improved on the oslo_db side is\nthat the generate_schema hooks called by test_fixtures.SimpleDBFixture\nare called before the enginefacades have been connected with the\nprovisioned engine, so an additional patch is called here\nas placement's database setup relies upon enginefacade-enabled\nmethods to insert DB data.\n\nThe WalkVersionsMixin here is necessary as the one in\noslo.db is specific to SQLAlchemy-migrate, so oslo.db should\nalso include this alembic-capable WalkVersionsMixin within\nits own modules.\n\nThe normal provisioning system of generating anonymously-named\ndatabases within MySQL and Postgresql is in place, which allows\ntests to run concurrently in multiple processes without conflicts.\n\nChange-Id: Icf2ea4a5f51dce412c6e93fda3950d0c9f17aa9f\n""}]",10,621304,34f03c297e28ae2c46ab11debdb4bbe64df1acdc,23,5,5,11816,,,0,"Use oslo_db fixtures

Converts the plain and migration fixtures to use oslo_db
test_fixtures.

The one snag that can be improved on the oslo_db side is
that the generate_schema hooks called by test_fixtures.SimpleDBFixture
are called before the enginefacades have been connected with the
provisioned engine, so an additional patch is called here
as placement's database setup relies upon enginefacade-enabled
methods to insert DB data.

The WalkVersionsMixin here is necessary as the one in
oslo.db is specific to SQLAlchemy-migrate, so oslo.db should
also include this alembic-capable WalkVersionsMixin within
its own modules.

The normal provisioning system of generating anonymously-named
databases within MySQL and Postgresql is in place, which allows
tests to run concurrently in multiple processes without conflicts.

Change-Id: Icf2ea4a5f51dce412c6e93fda3950d0c9f17aa9f
",git fetch https://review.opendev.org/openstack/placement refs/changes/04/621304/5 && git format-patch -1 --stdout FETCH_HEAD,"['placement/db/sqlalchemy/migration.py', 'placement/tests/fixtures.py', 'placement/tests/functional/db/test_migrations.py']",3,03a7278cc1cc01e8c1a7ed0b35b37e0ef405398a,use_oslo_db_fixtures,"class TestWalkVersions(testtools.TestCase, test_migrations.WalkVersionsMixin):class TestMigrationsSQLite(test_migrations.WalkVersionsMixin,class TestMigrationsMySQL(test_migrations.WalkVersionsMixin,class TestMigrationsPostgresql(test_migrations.WalkVersionsMixin,class _TestModelsMigrations(test_migrations.ModelsMigrationsSync): def setUp(self): super(_TestModelsMigrations, self).setUp()class ModelsMigrationsSyncSqlite(_TestModlesMigrations,class ModelsMigrationsSyncMysql(_TestModlesMigrations,class ModelsMigrationsSyncPostgresql(_TestModlesMigrations,, test_base.BaseTestCase):","import contextlibfrom oslo_db.sqlalchemy import enginefacadefrom placement import confDB_NAME = 'openstack_citest'@contextlib.contextmanager def patch_with_engine(engine): with mock.patch.object(enginefacade.writer, 'get_engine') as patch_engine: patch_engine.return_value = engine yield def configure(conf_fixture, db_url): """"""Set database and lockfile configuration. Aggregate configure setting here, not done as a base class as the mess of mixins makes that inscrutable. So instead we create a nice simple function. """""" conf.register_opts(conf_fixture.conf) conf_fixture.config(group='placement_database', connection=db_url) # We need to retry at least once (and quickly) otherwise the connection # test routines in oslo_db do not run, and the exception handling for # determining if an opportunistic database is presents gets more # complicated. conf_fixture.config(group='placement_database', max_retries=1) conf_fixture.config(group='placement_database', retry_interval=0) def generate_url(driver): """"""Make a database URL to be used with the opportunistic tests. NOTE(cdent): Because of the way we need to configure the [placement_database]/connection, we need to have a predictable database URL. """""" backend = provision.BackendImpl.impl(driver) db_url = backend.create_opportunistic_driver_url() if driver == 'sqlite': # For sqlite this is all we want since it's in memory. return db_url # if a dbname is present or the db_url ends with '/' take it off db_url = db_url[:db_url.rindex('/')] db_url = db_url + '/' + DB_NAME return db_url class WalkVersionsMixin(object): def _walk_versions(self, engine=None, alembic_cfg=None): """"""Determine latest version script from the repo, then upgrade from 1 through to the latest, with no data in the databases. This just checks that the schema itself upgrades successfully. """""" # Place the database under version control with patch_with_engine(engine): script_directory = script.ScriptDirectory.from_config(alembic_cfg) self.assertIsNone(self.migration_api.version(alembic_cfg)) versions = [ver for ver in script_directory.walk_revisions()] for version in reversed(versions): self._migrate_up(engine, alembic_cfg, version.revision, with_data=True) def _migrate_up(self, engine, config, version, with_data=False): """"""Migrate up to a new version of the db. We allow for data insertion and post checks at every migration version with special _pre_upgrade_### and _check_### functions in the main test. """""" # NOTE(sdague): try block is here because it's impossible to debug # where a failed data migration happens otherwise try: if with_data: data = None pre_upgrade = getattr( self, ""_pre_upgrade_%s"" % version, None) if pre_upgrade: data = pre_upgrade(engine) self.migration_api.upgrade(version, config=config) self.assertEqual(version, self.migration_api.version(config)) if with_data: check = getattr(self, ""_check_%s"" % version, None) if check: check(engine, data) except Exception: LOG.error(""Failed to migrate to version %(version)s on engine "" ""%(engine)s"", {'version': version, 'engine': engine}) raise class TestWalkVersions(testtools.TestCase, WalkVersionsMixin):class MigrationCheckersMixin(object): def setUp(self): self.addCleanup(db_fixture.reset) db_url = generate_url(self.DRIVER) conf_fixture = self.useFixture(config_fixture.Config(cfg.ConfigOpts())) configure(conf_fixture, db_url) self.useFixture(db_fixture.ExternalLockFixture('test_mig')) db_fixture.reset() db_api.configure(conf_fixture.conf) try: self.engine = db_api.get_placement_engine() except (db_exc.DBNonExistentDatabase, db_exc.DBConnectionError): self.skipTest('%s not available' % self.DRIVER) self.config = migration._alembic_config() self.migration_api = migration super(MigrationCheckersMixin, self).setUp() # The following is done here instead of in the fixture because it is # much slower for the RAM-based DB tests, and isn't needed. But it is # needed for the migration tests, so we do the complete drop/rebuild # here. backend = provision.Backend(self.engine.name, self.engine.url) self.addCleanup(functools.partial( backend.drop_all_objects, self.engine)) # This is required to prevent the global opportunistic db settings # leaking into other tests. self.addCleanup(self.engine.dispose) def test_walk_versions(self): self._walk_versions(self.engine, self.config) class TestMigrationsSQLite(MigrationCheckersMixin, WalkVersionsMixin,class TestMigrationsMySQL(MigrationCheckersMixin, WalkVersionsMixin,class TestMigrationsPostgresql(MigrationCheckersMixin, WalkVersionsMixin,class ModelsMigrationSyncMixin(object): def setUp(self): url = generate_url(self.DRIVER) configure(conf_fixture, url) self.useFixture(db_fixture.ExternalLockFixture('test_mig')) db_fixture.reset() super(ModelsMigrationSyncMixin, self).setUp() # This is required to prevent the global opportunistic db settings # leaking into other tests. self.addCleanup(db_fixture.reset)class ModelsMigrationsSyncSqlite(ModelsMigrationSyncMixin, test_migrations.ModelsMigrationsSync,class ModelsMigrationsSyncMysql(ModelsMigrationSyncMixin, test_migrations.ModelsMigrationsSync,class ModelsMigrationsSyncPostgresql(ModelsMigrationSyncMixin, test_migrations.ModelsMigrationsSync, test_base.BaseTestCase):",22,180
openstack%2Foslo.middleware~master~Idd212417ed7c8fbf715bfca0179e5220fbc73901,openstack/oslo.middleware,master,Idd212417ed7c8fbf715bfca0179e5220fbc73901,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:24:08.000000000,2018-12-07 17:24:08.000000000,"[{'_account_id': 9414}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/6b7c92638d91e8eb827cf6afad1bf54c831f5ec1', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Idd212417ed7c8fbf715bfca0179e5220fbc73901\n'}, {'number': 2, 'created': '2018-12-05 01:39:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/1ebcb5c580c363c60c61a92d6a8358201e20d71f', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: Idd212417ed7c8fbf715bfca0179e5220fbc73901\n'}]",0,621811,1ebcb5c580c363c60c61a92d6a8358201e20d71f,10,3,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: Idd212417ed7c8fbf715bfca0179e5220fbc73901
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/11/621811/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6b7c92638d91e8eb827cf6afad1bf54c831f5ec1,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fproject-config~master~I7969cca2cdd99526294a4bf7a0f44f059823dae7,openstack/project-config,master,I7969cca2cdd99526294a4bf7a0f44f059823dae7,Disable ovh bhs1,MERGED,2018-12-07 11:46:58.000000000,2018-12-07 17:22:39.000000000,2018-12-07 17:22:39.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-12-07 11:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3471724d11174a8ca1e03971d0829adc6430ffa2', 'message': 'Disable ovh bhs1 and gra1\n\nWe are seeing excessive job timeouts in these regions, disable them\nuntil we can get a more stable turnout again.\n\nChange-Id: I7969cca2cdd99526294a4bf7a0f44f059823dae7\n'}, {'number': 2, 'created': '2018-12-07 14:06:50.000000000', 'files': ['nodepool/nl04.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/55d145c34e70e0725bfd342d91e837dc22b9be65', 'message': 'Disable ovh bhs1\n\nWe are seeing excessive job timeouts in this region[0], disable it\nuntil we can get a more stable turnout again.\n\n[0] https://ethercalc.openstack.org/jg8f4p7jow5o\n\nChange-Id: I7969cca2cdd99526294a4bf7a0f44f059823dae7\n'}]",0,623457,55d145c34e70e0725bfd342d91e837dc22b9be65,14,7,2,13252,,,0,"Disable ovh bhs1

We are seeing excessive job timeouts in this region[0], disable it
until we can get a more stable turnout again.

[0] https://ethercalc.openstack.org/jg8f4p7jow5o

Change-Id: I7969cca2cdd99526294a4bf7a0f44f059823dae7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/623457/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl04.openstack.org.yaml'],1,3471724d11174a8ca1e03971d0829adc6430ffa2,disable-ovh, max-servers: 0 max-servers: 0, max-servers: 75 max-servers: 79,2,2
openstack%2Foslo.cache~master~I7b19a27e087da7ada66caa16551b66fe19fc7382,openstack/oslo.cache,master,I7b19a27e087da7ada66caa16551b66fe19fc7382,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:20:02.000000000,2018-12-07 17:20:02.000000000,"[{'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1584c7b295272d5e7739cd1f11e9f363dd72e4e7', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I7b19a27e087da7ada66caa16551b66fe19fc7382\n'}, {'number': 2, 'created': '2018-12-05 01:39:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/33aa6d270b012db7c0362e92c7554a80701d1090', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: I7b19a27e087da7ada66caa16551b66fe19fc7382\n'}]",0,621804,33aa6d270b012db7c0362e92c7554a80701d1090,9,3,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: I7b19a27e087da7ada66caa16551b66fe19fc7382
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/04/621804/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1584c7b295272d5e7739cd1f11e9f363dd72e4e7,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foslo.privsep~master~I6163ec5d57943d4fb0a4616af28499a4cbb60603,openstack/oslo.privsep,master,I6163ec5d57943d4fb0a4616af28499a4cbb60603,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:20:01.000000000,2018-12-07 17:20:01.000000000,"[{'_account_id': 9414}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/1b1270f462c0f06917ea03806912f006ac554222', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I6163ec5d57943d4fb0a4616af28499a4cbb60603\n'}, {'number': 2, 'created': '2018-12-05 01:39:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/32da499c04a5b70a67583ec000d36ab28f17eeb5', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: I6163ec5d57943d4fb0a4616af28499a4cbb60603\n'}]",0,621802,32da499c04a5b70a67583ec000d36ab28f17eeb5,10,3,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: I6163ec5d57943d4fb0a4616af28499a4cbb60603
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/02/621802/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1b1270f462c0f06917ea03806912f006ac554222,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foslo.serialization~master~Ib1947e4de2995fe4108eeb1335bee7a4d63e8afc,openstack/oslo.serialization,master,Ib1947e4de2995fe4108eeb1335bee7a4d63e8afc,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:13:21.000000000,2018-12-07 17:13:21.000000000,"[{'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/11a2773ccf6fc995b45020335dfa72acf6fb9b3a', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Ib1947e4de2995fe4108eeb1335bee7a4d63e8afc\n'}, {'number': 2, 'created': '2018-12-05 01:39:30.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/df5166aa652f6aa78b467f74add6721bc1bf12b5', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: Ib1947e4de2995fe4108eeb1335bee7a4d63e8afc\n'}]",0,621800,df5166aa652f6aa78b467f74add6721bc1bf12b5,10,4,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: Ib1947e4de2995fe4108eeb1335bee7a4d63e8afc
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/00/621800/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,11a2773ccf6fc995b45020335dfa72acf6fb9b3a,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foslo.context~master~Id5de26de244380698d401a5940a412ce631632d5,openstack/oslo.context,master,Id5de26de244380698d401a5940a412ce631632d5,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 17:09:29.000000000,2018-12-07 17:09:29.000000000,"[{'_account_id': 9414}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/0ed292a90ef856d76b3a083fb85fd07b0694239d', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Id5de26de244380698d401a5940a412ce631632d5\n'}, {'number': 2, 'created': '2018-12-05 01:39:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/0daf01065d1d51694e06aaecb3dcf4dcc78710fe', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: Id5de26de244380698d401a5940a412ce631632d5\n'}]",0,621801,0daf01065d1d51694e06aaecb3dcf4dcc78710fe,10,3,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: Id5de26de244380698d401a5940a412ce631632d5
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/01/621801/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0ed292a90ef856d76b3a083fb85fd07b0694239d,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foctavia-dashboard~master~I1b392c75c8bd3980b2da5ff309df92329aa62685,openstack/octavia-dashboard,master,I1b392c75c8bd3980b2da5ff309df92329aa62685,Imported Translations from Zanata,MERGED,2018-12-07 09:01:11.000000000,2018-12-07 17:08:10.000000000,2018-12-07 17:08:10.000000000,"[{'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 09:01:11.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/277b3f8db6355ac2acb952be3fcc3fce6c64bca9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1b392c75c8bd3980b2da5ff309df92329aa62685\n'}]",0,623424,277b3f8db6355ac2acb952be3fcc3fce6c64bca9,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1b392c75c8bd3980b2da5ff309df92329aa62685
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/24/623424/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,277b3f8db6355ac2acb952be3fcc3fce6c64bca9,zanata/translations,"""POT-Creation-Date: 2018-12-05 09:05+0000\n""""PO-Revision-Date: 2018-12-06 05:33+0000\n""msgid ""2.0.0.0rc1-32"" msgstr ""2.0.0.0rc1-32"" ","""POT-Creation-Date: 2018-12-03 12:27+0000\n""""PO-Revision-Date: 2018-10-26 10:45+0000\n""",5,2
openstack%2Fcloudkitty~master~Iccc4c8b416ecf2f32114de451a34ebc1e9494d1b,openstack/cloudkitty,master,Iccc4c8b416ecf2f32114de451a34ebc1e9494d1b,Changed author email,MERGED,2018-12-05 11:00:34.000000000,2018-12-07 17:01:35.000000000,2018-12-07 17:01:35.000000000,"[{'_account_id': 12015}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2018-12-05 11:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e8daf802efac7a268b87d32f678ed07e32db067d', 'message': 'Changed author email in setup.cfg from openstack-dev@lists.openstack.org to openstack-discuss@lists.openstack.org\n\nChange-Id: Iccc4c8b416ecf2f32114de451a34ebc1e9494d1b\n'}, {'number': 2, 'created': '2018-12-05 11:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/cec316b9e6275fbc002fb19b90e29b95acd6265c', 'message': 'Changed author email in setup.cfg\n\nfrom openstack-dev@lists.openstack.org to openstack-discuss@lists.openstack.org\n\nChange-Id: Iccc4c8b416ecf2f32114de451a34ebc1e9494d1b\n'}, {'number': 3, 'created': '2018-12-06 08:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7ab29505bc0704a3e85d26edbd0f094bf1d2f2cc', 'message': 'Changed author email in setup.cfg\n\nFrom openstack-dev@lists.openstack.org to openstack-discuss@lists.openstack.org\n\nChange-Id: Iccc4c8b416ecf2f32114de451a34ebc1e9494d1b\n'}, {'number': 4, 'created': '2018-12-06 08:45:36.000000000', 'files': ['README.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/635092397085c34a04657a78e42012962c2a0c0e', 'message': 'Changed author email\n\nFrom openstack-dev@lists.openstack.org to openstack-discuss@lists.openstack.org\n\nChange-Id: Iccc4c8b416ecf2f32114de451a34ebc1e9494d1b\n'}]",0,622934,635092397085c34a04657a78e42012962c2a0c0e,16,4,4,29503,,,0,"Changed author email

From openstack-dev@lists.openstack.org to openstack-discuss@lists.openstack.org

Change-Id: Iccc4c8b416ecf2f32114de451a34ebc1e9494d1b
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/34/622934/4 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e8daf802efac7a268b87d32f678ed07e32db067d,author-email,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftripleo-ci~master~Idf755c8f2021f82032ab28e17efd7e938a64e476,openstack/tripleo-ci,master,Idf755c8f2021f82032ab28e17efd7e938a64e476,Fix overcloud node log collection in ovb jobs,MERGED,2018-11-19 03:40:51.000000000,2018-12-07 16:57:40.000000000,2018-12-07 16:57:39.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-11-19 03:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3de9ae3ae3841aa4dfca3df0d89a2a1840de757d', 'message': '[DNM] Test ovb log collection\n\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}, {'number': 2, 'created': '2018-11-19 11:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cfd9ee22b375b13c18db57554d8e15d260839936', 'message': '[DNM] Test ovb log collection\n\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}, {'number': 3, 'created': '2018-11-20 04:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6144843e5d82be264529055b86fee8ab09b39125', 'message': 'Fix overcloud node log collection in ovb jobs\n\n[1] moved the log collection to post which resulted\nin log collection failure for overcloud nodes in ovb\njobs because overcloud nodes are destroyed before post.\nThis patch fixes log collection issue for overcloud nodes\nin ovb jobs and also disable log collection to run in post\nfor ovb jobs as we are running that before now.\n\n[1] https://review.openstack.org/#/c/589068\n\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}, {'number': 4, 'created': '2018-11-22 07:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eba9cfd6375bad8c4b13cb29dbd501b445b1c3fa', 'message': 'Fix overcloud node log collection in ovb jobs\n\n[1] moved the log collection to post which resulted\nin log collection failure for overcloud nodes in ovb\njobs because overcloud nodes are destroyed before post.\nThis patch fixes log collection issue for overcloud nodes\nin ovb jobs.\n\n[1] https://review.openstack.org/#/c/589068\n\nDepends-On: https://review.openstack.org/#/c/619359/\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}, {'number': 5, 'created': '2018-11-22 11:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/56cfcb34668acc8c51523bc92b146938ec7cefd1', 'message': 'Fix overcloud node log collection in ovb jobs\n\n[1] moved the log collection to post which resulted\nin log collection failure for overcloud nodes in ovb\njobs because overcloud nodes are destroyed before post.\nThis patch fixes log collection issue for overcloud nodes\nin ovb jobs.\n\n[1] https://review.openstack.org/#/c/589068\n\nDepends-On: https://review.openstack.org/#/c/619359/\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}, {'number': 6, 'created': '2018-11-22 14:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c7049d8531a3dd79bd4b5f24a4d459bfe18a04c8', 'message': 'Fix overcloud node log collection in ovb jobs\n\n[1] moved the log collection to post which resulted\nin log collection failure for overcloud nodes in ovb\njobs because overcloud nodes are destroyed before post.\nThis patch fixes log collection issue for overcloud nodes\nin ovb jobs.\n\n[1] https://review.openstack.org/#/c/589068\n\nDepends-On: https://review.openstack.org/#/c/619359/\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}, {'number': 7, 'created': '2018-11-26 12:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/06acd476303292588ecbac2acd144643208e15d6', 'message': 'Fix overcloud node log collection in ovb jobs\n\n[1] moved the log collection to post which resulted\nin log collection failure for overcloud nodes in ovb\njobs because overcloud nodes are destroyed before post.\nThis patch fixes log collection issue for overcloud nodes\nin ovb jobs.\n\n[1] https://review.openstack.org/#/c/589068\n\nDepends-On: https://review.openstack.org/#/c/619359/\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}, {'number': 8, 'created': '2018-11-27 12:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/650a90fdc44f68cc0b5531274bf8ed3e2e61ab92', 'message': 'Fix overcloud node log collection in ovb jobs\n\n[1] moved the log collection to post which resulted\nin log collection failure for overcloud nodes in ovb\njobs because overcloud nodes are destroyed before post.\nThis patch fixes log collection issue for overcloud nodes\nin ovb jobs.\n\n[1] https://review.openstack.org/#/c/589068\n\nDepends-On: https://review.openstack.org/#/c/619359/\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}, {'number': 9, 'created': '2018-11-29 12:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3e2e440bb89b53d4ac0aa1f082126cb0c2a74e81', 'message': 'Fix overcloud node log collection in ovb jobs\n\n[1] moved the log collection to post which resulted\nin log collection failure for overcloud nodes in ovb\njobs because overcloud nodes are destroyed before post.\nThis patch fixes log collection issue for overcloud nodes\nin ovb jobs.\n\n[1] https://review.openstack.org/#/c/589068\n\nDepends-On: https://review.openstack.org/#/c/619359/\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}, {'number': 10, 'created': '2018-12-03 12:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b01c141bb1646e0717278278370a0a9ded792e9c', 'message': 'Fix overcloud node log collection in ovb jobs\n\n[1] moved the log collection to post which resulted\nin log collection failure for overcloud nodes in ovb\njobs because overcloud nodes are destroyed before post.\nThis patch fixes log collection issue for overcloud nodes\nin ovb jobs.\n\n[1] https://review.openstack.org/#/c/589068\n\nDepends-On: https://review.openstack.org/#/c/619359/\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}, {'number': 11, 'created': '2018-12-05 23:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e84f0fe02fb11d10acacd233150eb06b6991f632', 'message': 'Fix overcloud node log collection in ovb jobs\n\n[1] moved the log collection to post which resulted\nin log collection failure for overcloud nodes in ovb\njobs because overcloud nodes are destroyed before post.\nThis patch fixes log collection issue for overcloud nodes\nin ovb jobs.\n\n[1] https://review.openstack.org/#/c/589068\n\nDepends-On: https://review.openstack.org/#/c/619359/\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}, {'number': 12, 'created': '2018-12-06 13:16:27.000000000', 'files': ['playbooks/tripleo-ci/templates/toci_quickstart.sh.j2', 'playbooks/tripleo-ci/post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3a03f382c38ae8bf643e3b5dc122becf03764ba0', 'message': 'Fix overcloud node log collection in ovb jobs\n\n[1] moved the log collection to post which resulted\nin log collection failure for overcloud nodes in ovb\njobs because overcloud nodes are destroyed before post.\nThis patch fixes log collection issue for overcloud nodes\nin ovb jobs.\n\n[1] https://review.openstack.org/#/c/589068\n\nDepends-On: https://review.openstack.org/#/c/619359/\nDepends-On: https://review.openstack.org/#/c/618205/\nChange-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476\n'}]",5,618669,3a03f382c38ae8bf643e3b5dc122becf03764ba0,71,11,12,13861,,,0,"Fix overcloud node log collection in ovb jobs

[1] moved the log collection to post which resulted
in log collection failure for overcloud nodes in ovb
jobs because overcloud nodes are destroyed before post.
This patch fixes log collection issue for overcloud nodes
in ovb jobs.

[1] https://review.openstack.org/#/c/589068

Depends-On: https://review.openstack.org/#/c/619359/
Depends-On: https://review.openstack.org/#/c/618205/
Change-Id: Idf755c8f2021f82032ab28e17efd7e938a64e476
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/69/618669/12 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/templates/toci_quickstart.sh.j2'],1,3de9ae3ae3841aa4dfca3df0d89a2a1840de757d,oooq/collect-logs-ovb," {% if rhcloud -%} ## LOGS COLLECTION RUN (if applicable) if [[ ""{{ environment_type }}"" = ""ovb"" ]]; then bash $LOGS_DIR/collect_logs.sh # rename script to not to run it in multinode jobs mv $LOGS_DIR/collect_logs.sh $LOGS_DIR/ovb_collect_logs.sh fi {% endif %}",,9,0
openstack%2Ftripleo-ci~master~Idc982352b9c8f0024715479f3905a3c44d879a85,openstack/tripleo-ci,master,Idc982352b9c8f0024715479f3905a3c44d879a85,Fix build-image job parent,MERGED,2018-12-05 23:56:36.000000000,2018-12-07 16:57:38.000000000,2018-12-07 16:57:38.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-12-05 23:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5d11fc8e4284527b138cd4556ac3ad530f60d7fb', 'message': 'Fix build-image job parent\n\nThe build-image job parent was set to tripleo-ci-base but should be\nconfigured to tripleo-ci-base-singlenode as it is a single node job.\nAdditionally the tripleo-ci-base does not container the environment_type\nor environment_infra variables which are needed for the tripleo-ci post\nin https://review.openstack.org/#/c/618669/\n\nChange-Id: Idc982352b9c8f0024715479f3905a3c44d879a85\n'}, {'number': 2, 'created': '2018-12-06 13:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e770279e60441e5553f90b7cacb590805e5aebde', 'message': 'Fix build-image job parent\n\nThe build-image job parent was set to tripleo-ci-base but should be\nconfigured to tripleo-ci-base-singlenode as it is a single node job.\nAdditionally the tripleo-ci-base does not container the environment_type\nor environment_infra variables which are needed for the tripleo-ci post\nin https://review.openstack.org/#/c/618669/\n\nChange-Id: Idc982352b9c8f0024715479f3905a3c44d879a85\n'}, {'number': 3, 'created': '2018-12-06 13:05:39.000000000', 'files': ['zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/373044d9b2646d08fea141ec4f064b71d18a43f9', 'message': 'Fix build-image job parent\n\nThe build-image job parent was set to tripleo-ci-base but should be\nconfigured to tripleo-ci-base-singlenode as it is a single node job.\nAdditionally the tripleo-ci-base does not contain the environment_type\nor environment_infra variables which are needed for the tripleo-ci post\nin https://review.openstack.org/#/c/618669/\n\nChange-Id: Idc982352b9c8f0024715479f3905a3c44d879a85\n'}]",0,623105,373044d9b2646d08fea141ec4f064b71d18a43f9,18,10,3,14985,,,0,"Fix build-image job parent

The build-image job parent was set to tripleo-ci-base but should be
configured to tripleo-ci-base-singlenode as it is a single node job.
Additionally the tripleo-ci-base does not contain the environment_type
or environment_infra variables which are needed for the tripleo-ci post
in https://review.openstack.org/#/c/618669/

Change-Id: Idc982352b9c8f0024715479f3905a3c44d879a85
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/05/623105/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-image.yaml'],1,5d11fc8e4284527b138cd4556ac3ad530f60d7fb,oooq/collect-logs-ovb, parent: tripleo-ci-base-singlenode parent: tripleo-ci-base-singlenode parent: tripleo-ci-base-singlenode, parent: tripleo-ci-base nodeset: single-centos-7-node parent: tripleo-ci-base nodeset: single-centos-7-node parent: tripleo-ci-base nodeset: single-centos-7-node,3,6
openstack%2Ftripleo-heat-templates~master~I32f963a002399af4911acbf507312f378aac3599,openstack/tripleo-heat-templates,master,I32f963a002399af4911acbf507312f378aac3599,Remove common bootstrap_nodeid from deploy_steps/tripleo-packages.yaml,MERGED,2018-09-27 12:51:08.000000000,2018-12-07 16:57:36.000000000,2018-12-07 16:57:36.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 8871}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-27 12:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea4226f6e34e919b15be74f3362d9917689c1b5d', 'message': 'Remove common bootstrap_nodeid from deploy_steps/tripleo-packages.yaml\n\nThere was also a special flag for FFU that triggered repo setup only\non the bootstrap node, so switch this to use the per-service bootstrap\nname instead.\n\nChange-Id: I32f963a002399af4911acbf507312f378aac3599\nPartial-Bug: #1792613\n'}, {'number': 2, 'created': '2018-10-04 08:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccba19ebf7741fc0eb1831811dce59ec5d1e401d', 'message': 'Remove common bootstrap_nodeid from deploy_steps/tripleo-packages.yaml\n\nThere was also a special flag for FFU that triggered repo setup only\non the bootstrap node, so switch this to use the per-service bootstrap\nname instead.\n\nChange-Id: I32f963a002399af4911acbf507312f378aac3599\nPartial-Bug: #1792613\n'}, {'number': 3, 'created': '2018-10-12 10:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91f70bfae061367892c817a0b79d02d5a0e8eca3', 'message': 'Remove common bootstrap_nodeid from deploy_steps/tripleo-packages.yaml\n\nThere was also a special flag for FFU that triggered repo setup only\non the bootstrap node, so switch this to use the per-service bootstrap\nname instead.\n\nChange-Id: I32f963a002399af4911acbf507312f378aac3599\nPartial-Bug: #1792613\n'}, {'number': 4, 'created': '2018-11-22 15:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da500fab2d961a590fa3c98a0e083c6eb095ea19', 'message': 'Remove common bootstrap_nodeid from deploy_steps/tripleo-packages.yaml\n\nThere was also a special flag for FFU that triggered repo setup only\non the bootstrap node, so switch this to use the per-service bootstrap\nname instead.\n\nChange-Id: I32f963a002399af4911acbf507312f378aac3599\nPartial-Bug: #1792613\n'}, {'number': 5, 'created': '2018-11-27 15:59:28.000000000', 'files': ['common/deploy-steps.j2', 'puppet/services/tripleo-packages.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21905f75886aa516e0952668f49178d3612a1e0f', 'message': 'Remove common bootstrap_nodeid from deploy_steps/tripleo-packages.yaml\n\nThere was also a special flag for FFU that triggered repo setup only\non the bootstrap node, so switch this to use the per-service bootstrap\nname instead.\n\nChange-Id: I32f963a002399af4911acbf507312f378aac3599\nPartial-Bug: #1792613\n'}]",1,605682,21905f75886aa516e0952668f49178d3612a1e0f,24,7,5,4328,,,0,"Remove common bootstrap_nodeid from deploy_steps/tripleo-packages.yaml

There was also a special flag for FFU that triggered repo setup only
on the bootstrap node, so switch this to use the per-service bootstrap
name instead.

Change-Id: I32f963a002399af4911acbf507312f378aac3599
Partial-Bug: #1792613
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/605682/5 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'puppet/services/tripleo-packages.yaml']",2,ea4226f6e34e919b15be74f3362d9917689c1b5d,bug/1792613, - name: set is_bootstrap_node fact set_fact: is_bootstrap_node={{tripleo_packages_short_bootstrap_node_name|lower == ansible_hostname|lower}} - is_bootstrap_node|bool - is_bootstrap_node|bool - is_bootstrap_node|bool - is_bootstrap_node|bool, - ffu_packages_apply|bool - ffu_packages_apply|bool - ffu_packages_apply|bool - ffu_packages_apply|bool,6,15
openstack%2Fpaunch~master~I4341af87dc186fe85088e1eacbd1476e686e83ff,openstack/paunch,master,I4341af87dc186fe85088e1eacbd1476e686e83ff,Add files in .gitignore,MERGED,2018-12-06 16:28:51.000000000,2018-12-07 16:57:35.000000000,2018-12-07 16:57:35.000000000,"[{'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-06 16:28:51.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/paunch/commit/1e83fb6374206ed9327c92fbd8dd671ce62b12bf', 'message': ""Add files in .gitignore\n\nAdd some files we don't want to commit but are generated by tox and\nreno.\n\nChange-Id: I4341af87dc186fe85088e1eacbd1476e686e83ff\n""}]",0,623243,1e83fb6374206ed9327c92fbd8dd671ce62b12bf,7,4,1,3153,,,0,"Add files in .gitignore

Add some files we don't want to commit but are generated by tox and
reno.

Change-Id: I4341af87dc186fe85088e1eacbd1476e686e83ff
",git fetch https://review.opendev.org/openstack/paunch refs/changes/43/623243/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,1e83fb6374206ed9327c92fbd8dd671ce62b12bf,gitignore,RELEASENOTES.rstreleasenotes/build releasenotes/notes/reno.cache ,releasenotes/build,3,1
openstack%2Ftripleo-ci~master~I87ef2400b0092c1ae5de5bb479781e544a8258e6,openstack/tripleo-ci,master,I87ef2400b0092c1ae5de5bb479781e544a8258e6,Remove legacy multinode-networking playbook,MERGED,2018-11-21 12:47:30.000000000,2018-12-07 16:57:34.000000000,2018-12-07 16:57:34.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-11-21 12:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b11284da59747b8a042e64a49923f17887940f69', 'message': 'Remove legacy multinode-networking playbook\n\nThis pre playbook was calling multi-node-firewall role, which is\ncurrently part of openstack/zuul-jobs repo, under\nplaybooks/multinode/pre.yaml. For this reason, no need to add a\ndeprecation warning/notice.\n\nChange-Id: I87ef2400b0092c1ae5de5bb479781e544a8258e6\n'}, {'number': 2, 'created': '2018-12-03 12:30:39.000000000', 'files': ['playbooks/multinode-networking/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/93045837240d160bdd40be8cecb96b55181965fa', 'message': 'Remove legacy multinode-networking playbook\n\nThis pre playbook was calling multi-node-firewall role, which is\ncurrently part of openstack/zuul-jobs repo, under\nplaybooks/multinode/pre.yaml. For this reason, no need to add a\ndeprecation warning/notice.\n\nChange-Id: I87ef2400b0092c1ae5de5bb479781e544a8258e6\n'}]",0,619228,93045837240d160bdd40be8cecb96b55181965fa,16,14,2,8175,,,0,"Remove legacy multinode-networking playbook

This pre playbook was calling multi-node-firewall role, which is
currently part of openstack/zuul-jobs repo, under
playbooks/multinode/pre.yaml. For this reason, no need to add a
deprecation warning/notice.

Change-Id: I87ef2400b0092c1ae5de5bb479781e544a8258e6
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/28/619228/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-networking/pre.yaml'],1,b11284da59747b8a042e64a49923f17887940f69,cleanup-old-branches,,- hosts: all roles: - multi-node-firewall ,0,3
openstack%2Fpaunch~master~I86d6403ee6d7e8acd05e8646066420feec098f1a,openstack/paunch,master,I86d6403ee6d7e8acd05e8646066420feec098f1a,Add missing default-runtime support bits,MERGED,2018-10-08 10:23:36.000000000,2018-12-07 16:57:33.000000000,2018-12-07 16:57:33.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26458}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-08 10:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/72e1e1e1a3f038391423898d8a3e0b09e08e911c', 'message': 'Add missing runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-10-09 12:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/b3d0e5999fc6704fc7b12fd86dbf9a1715dbdd8b', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-10-10 09:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/b2500faa5096627d2067d6d19aae580a3de78f23', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-10-19 08:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/d1f3a27d072e69b91269a7022e43a9763d99b926', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-10-23 16:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/b023830e45a24acaf80c593910c0e2fde85d22ec', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2018-10-24 08:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/719d63b5d166d237b1c0c7f29839cb4309ea84b4', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2018-10-25 09:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/985666be4f27b902867b9e9c074987cf32d2fa6c', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2018-10-30 14:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/c71ed4cdf8962da880bc6dc694b02c8ce4cb161c', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nDeduplicate cont_cmd and default_runtime passed into\naction methods and taking the same values.\nUse cont_cmd instead.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2018-10-30 14:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/b437cf3d1dbb1e269fd46e0b1b927007a9761ab0', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nDeduplicate cont_cmd and default_runtime passed into\naction methods and taking the same values.\nUse cont_cmd instead.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2018-10-30 16:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/5cee1a8533f52d94088f5e2c036fb4e15f6592c3', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nDeduplicate cont_cmd and default_runtime passed into\naction methods and taking the same values.\nUse cont_cmd instead.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 11, 'created': '2018-11-05 10:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/443653312d93cde88d586a58422ffc5fb252d21d', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nDeduplicate cont_cmd and default_runtime passed into\naction methods and taking the same values.\nUse cont_cmd instead.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 12, 'created': '2018-11-30 15:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/be3666f4584455e0565bdfd14364b6514cb21b6b', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nDeduplicate cont_cmd and default_runtime (deprecated) ABI\nparams passed into action methods and taking the same\nvalues. Use cont_cmd instead.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 13, 'created': '2018-11-30 15:47:55.000000000', 'files': ['releasenotes/notes/deprecate-default_runtime-abi-c50c30f1a73727a8.yaml', 'paunch/cmd.py', 'paunch/tests/test_paunch.py', 'paunch/__init__.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/e2b74083feccd9034bfeb4d88a971d4a411575ed', 'message': 'Add missing default-runtime support bits\n\nSo it can be used when debugging containers with podman\nand paunch. Also fix clean/list/delete should be added the\ndefault_runtime value.\n\nDeduplicate cont_cmd and default_runtime (deprecated) ABI\nparams passed into action methods and taking the same\nvalues. Use cont_cmd instead.\n\nCloses-Bug: #1796646\n\nChange-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,608632,e2b74083feccd9034bfeb4d88a971d4a411575ed,89,9,13,6926,,,0,"Add missing default-runtime support bits

So it can be used when debugging containers with podman
and paunch. Also fix clean/list/delete should be added the
default_runtime value.

Deduplicate cont_cmd and default_runtime (deprecated) ABI
params passed into action methods and taking the same
values. Use cont_cmd instead.

Closes-Bug: #1796646

Change-Id: I86d6403ee6d7e8acd05e8646066420feec098f1a
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/32/608632/13 && git format-patch -1 --stdout FETCH_HEAD,['paunch/cmd.py'],1,72e1e1e1a3f038391423898d8a3e0b09e08e911c,bug/1797525," managed_by=parsed_args.managed_by, default_runtime=parsed_args.default_runtime paunch.delete( parsed_args.config_id, parsed_args.managed_by, default_runtime=parsed_args.default_runtime ) parser.add_argument( '--default-runtime', dest='default_runtime', default='docker', help=('Default runtime for containers. Can be docker or podman.'), ) labels=labels, default_runtime=parsed_args.default_runtime configs = paunch.list( parsed_args.managed_by, default_runtime=parsed_args.default_runtime )"," managed_by=parsed_args.managed_by paunch.delete(parsed_args.config_id, parsed_args.managed_by) labels=labels configs = paunch.list(parsed_args.managed_by)",19,4
openstack%2Fbarbican~master~Ibd90a6420bff1583022b8888e9c65eff3a2ebac4,openstack/barbican,master,Ibd90a6420bff1583022b8888e9c65eff3a2ebac4,Imported Translations from Zanata,MERGED,2018-12-05 12:17:49.000000000,2018-12-07 16:38:23.000000000,2018-12-07 16:38:23.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 12:17:49.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/296ef6b89408451cdea8b2a41f0dec60ca6ffbff', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibd90a6420bff1583022b8888e9c65eff3a2ebac4\n'}]",0,622945,296ef6b89408451cdea8b2a41f0dec60ca6ffbff,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibd90a6420bff1583022b8888e9c65eff3a2ebac4
",git fetch https://review.opendev.org/openstack/barbican refs/changes/45/622945/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,296ef6b89408451cdea8b2a41f0dec60ca6ffbff,zanata/translations,"""POT-Creation-Date: 2018-12-01 02:20+0000\n""""PO-Revision-Date: 2018-12-04 05:19+0000\n""msgid ""7.0.0-33"" msgstr ""7.0.0-33""","""POT-Creation-Date: 2018-11-12 09:50+0000\n""""PO-Revision-Date: 2018-11-14 05:34+0000\n""msgid ""7.0.0-28"" msgstr ""7.0.0-28""",4,4
openstack%2Floci~master~I3a3dbeebe4c5c928c21181500a7e07be4015b858,openstack/loci,master,I3a3dbeebe4c5c928c21181500a7e07be4015b858,Remove async jobs to debug and possible async instability,MERGED,2018-11-07 21:39:05.000000000,2018-12-07 16:09:36.000000000,2018-12-07 16:09:36.000000000,"[{'_account_id': 7822}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-11-07 21:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/f8b0ec18f8afa010b367bd143a8d135e164942c4', 'message': 'Remove async jobs to debug and possible async instability\n\nIndividual Loci gate jobs are failing about 1 out of 10 times.\nRemove async to help debug and remove potential instability.\n\nChange-Id: I3a3dbeebe4c5c928c21181500a7e07be4015b858\n'}, {'number': 2, 'created': '2018-11-07 22:00:46.000000000', 'files': ['playbooks/post.yaml', 'playbooks/loci-builder.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/1fe046829149c946b0501c0c548e98aa61f1f172', 'message': 'Remove async jobs to debug and possible async instability\n\nIndividual Loci gate jobs are failing about 1 out of 10 times.\nRemove async to help debug and remove potential instability.\n\nChange-Id: I3a3dbeebe4c5c928c21181500a7e07be4015b858\n'}]",2,616337,1fe046829149c946b0501c0c548e98aa61f1f172,16,4,2,7822,,,0,"Remove async jobs to debug and possible async instability

Individual Loci gate jobs are failing about 1 out of 10 times.
Remove async to help debug and remove potential instability.

Change-Id: I3a3dbeebe4c5c928c21181500a7e07be4015b858
",git fetch https://review.opendev.org/openstack/loci refs/changes/37/616337/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/loci-builder.yaml'],1,f8b0ec18f8afa010b367bd143a8d135e164942c4,test-serial," - name: ""Build base image for {{ item.name }}"""," async: 1000 poll: 0 register: pull - async_status: jid: ""{{ item.ansible_job_id }}"" with_items: ""{{ pull.results }}"" register: pull_result until: - pull_result.finished is defined - pull_result.finished retries: 1000 delay: 5 - name: ""Build base image for {{ item.name }} asynchronously"" async: 1000 poll: 0 register: base - async_status: jid: ""{{ item.ansible_job_id }}"" with_items: ""{{ base.results }}"" register: base_result until: - base_result.finished is defined - base_result.finished retries: 1000 delay: 5 async: 1000 poll: 0 register: build - async_status: jid: ""{{ item.ansible_job_id }}"" with_items: ""{{ build.results }}"" register: build_result until: - build_result.finished is defined - build_result.finished retries: 1000 delay: 5 async: 1000 poll: 0 register: build - async_status: jid: ""{{ item.ansible_job_id }}"" with_items: ""{{ build.results }}"" register: build_result until: - build_result.finished is defined - build_result.finished retries: 1000 delay: 5",1,53
openstack%2Fmox3~master~Ie152a9ee2fd16a5a7d10d03d2e0b64691eec3578,openstack/mox3,master,Ie152a9ee2fd16a5a7d10d03d2e0b64691eec3578,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 17:41:35.000000000,2018-12-07 16:08:11.000000000,2018-12-07 16:08:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 17:41:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/mox3/commit/f8ffdbf52289e6341e2b8ad3000893f64f72dca8', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Ie152a9ee2fd16a5a7d10d03d2e0b64691eec3578\n'}]",0,622474,f8ffdbf52289e6341e2b8ad3000893f64f72dca8,6,2,1,17130,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Ie152a9ee2fd16a5a7d10d03d2e0b64691eec3578
",git fetch https://review.opendev.org/openstack/mox3 refs/changes/74/622474/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f8ffdbf52289e6341e2b8ad3000893f64f72dca8,mail-list,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fnova~stable%2Frocky~I792c5df01b7cbc46c8363e261bc7422b09180e56,openstack/nova,stable/rocky,I792c5df01b7cbc46c8363e261bc7422b09180e56,Mention meta key suffix in tenant isolation with placement docs,MERGED,2018-11-13 09:20:48.000000000,2018-12-07 16:08:03.000000000,2018-12-07 16:08:03.000000000,"[{'_account_id': 4690}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 09:20:48.000000000', 'files': ['doc/source/admin/configuration/schedulers.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c0342bf1d86bca2bedf1118b341295998d2c7f6', 'message': 'Mention meta key suffix in tenant isolation with placement docs\n\nThis changes does two things to the admin scheduler configuration\ndocs:\n\n1. Notes the limitation from bug 1802111 for the older\n   AggregateMultiTenancyIsolation filter and mentions that\n   starting in Rocky, using tenant isolation with placement\n   is better.\n\n2. Notes that when isolating tenants via placement, the metadata\n   key ""filter_tenant_id"" can be suffixed to overcome the limitation\n   in bug 1802111.\n\nChange-Id: I792c5df01b7cbc46c8363e261bc7422b09180e56\nCloses-Bug: #1802111\n(cherry picked from commit 1fa09acf08dacf94a435fbdaddc50eabfada48ec)\n'}]",0,617535,4c0342bf1d86bca2bedf1118b341295998d2c7f6,10,6,1,6873,,,0,"Mention meta key suffix in tenant isolation with placement docs

This changes does two things to the admin scheduler configuration
docs:

1. Notes the limitation from bug 1802111 for the older
   AggregateMultiTenancyIsolation filter and mentions that
   starting in Rocky, using tenant isolation with placement
   is better.

2. Notes that when isolating tenants via placement, the metadata
   key ""filter_tenant_id"" can be suffixed to overcome the limitation
   in bug 1802111.

Change-Id: I792c5df01b7cbc46c8363e261bc7422b09180e56
Closes-Bug: #1802111
(cherry picked from commit 1fa09acf08dacf94a435fbdaddc50eabfada48ec)
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/617535/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/schedulers.rst'],1,4c0342bf1d86bca2bedf1118b341295998d2c7f6,bug/1802111-stable/rocky,".. note:: There is a `known limitation <https://bugs.launchpad.net/nova/+bug/1802111>`_ with the number of tenants that can be isolated per aggregate using this filter. This limitation does not exist, however, for the `Tenant Isolation with Placement`_ filtering capability added in the 18.0.0 Rocky release. metadata used by the `AggregateMultiTenancyIsolation`_ filter controlsNote that the ``filter_tenant_id`` metadata key can be optionally suffixed with any string for multiple tenants, such as ``filter_tenant_id3=$tenantid``. ",metadata used by the `AggregateMultiTenancyIsolation` filter controls,11,1
openstack%2Fnova~stable%2Frocky~I5b804db70d229696e7b7c5b5db16946cf1f1c49f,openstack/nova,stable/rocky,I5b804db70d229696e7b7c5b5db16946cf1f1c49f,Add description of custom resource classes,MERGED,2018-11-20 23:44:13.000000000,2018-12-07 16:07:57.000000000,2018-12-07 16:07:57.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-20 23:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd321c61bf1223c41bcaf0c3e243df8785d5dc63', 'message': 'Add description of custom resource classes\n\nAdd the description about custom resource classes and\noverriding standard resource classes in the ""Flavors"" document.\n\nChange-Id: I5b804db70d229696e7b7c5b5db16946cf1f1c49f\nCloses-Bug: #1800663\n(cherry picked from commit 0e718ddb7a43230fa1ae9ee2d78c4375a964cd48)\n'}, {'number': 2, 'created': '2018-12-03 05:30:35.000000000', 'files': ['doc/source/user/flavors.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e54c5fbe2df7324a75612e01433356a6b7fc1d14', 'message': 'Add description of custom resource classes\n\nAdd the description about custom resource classes and\noverriding standard resource classes in the ""Flavors"" document.\n\nChange-Id: I5b804db70d229696e7b7c5b5db16946cf1f1c49f\nCloses-Bug: #1800663\n(cherry picked from commit 0e718ddb7a43230fa1ae9ee2d78c4375a964cd48)\n'}]",0,619122,e54c5fbe2df7324a75612e01433356a6b7fc1d14,11,5,2,7634,,,0,"Add description of custom resource classes

Add the description about custom resource classes and
overriding standard resource classes in the ""Flavors"" document.

Change-Id: I5b804db70d229696e7b7c5b5db16946cf1f1c49f
Closes-Bug: #1800663
(cherry picked from commit 0e718ddb7a43230fa1ae9ee2d78c4375a964cd48)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/619122/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/flavors.rst'],1,fd321c61bf1223c41bcaf0c3e243df8785d5dc63,bug/1800663-stable/rocky,"Custom resource classes and standard resource classes to override Added in the 16.0.0 Pike release. Specify custom resource classes to require or override quantity values of standard resource classes. The syntax of the extra spec is ``resources:<resource_class_name>=VALUE`` (``VALUE`` is integer). The name of custom resource classes must start with ``CUSTOM_``. Standard resource classes to override are ``VCPU``, ``MEMORY_MB`` or ``DISK_GB``. In this case, you can disable scheduling based on standard resource classes by setting the value to ``0``. For example: - resources:CUSTOM_BAREMETAL_SMALL=1 - resources:VCPU=0 See :ironic-doc:`Create flavors for use with the Bare Metal service <install/configure-nova-flavors>` for more examples. ",,21,0
openstack%2Foslotest~master~I1d4fa86ad7280474c5a2c145e33b5aa2f32b1a4a,openstack/oslotest,master,I1d4fa86ad7280474c5a2c145e33b5aa2f32b1a4a,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 11:14:42.000000000,2018-12-07 16:06:30.000000000,2018-12-07 16:06:29.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 11:14:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/4ab7f767a9c45fbd952c32c2955ada0ca31a23de', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I1d4fa86ad7280474c5a2c145e33b5aa2f32b1a4a\n'}]",0,622221,4ab7f767a9c45fbd952c32c2955ada0ca31a23de,6,2,1,17130,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I1d4fa86ad7280474c5a2c145e33b5aa2f32b1a4a
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/21/622221/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4ab7f767a9c45fbd952c32c2955ada0ca31a23de,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fkayobe~stable%2Fqueens~Id2629cda0b8f6e096784a53deb2dc6a2fad7ee95,openstack/kayobe,stable/queens,Id2629cda0b8f6e096784a53deb2dc6a2fad7ee95,Work around Galaxy semver issues,MERGED,2018-12-05 17:38:42.000000000,2018-12-07 16:06:29.000000000,2018-12-07 16:06:29.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 17:38:42.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4f37bbfd0ac818d53d638f55bce5b8d6f75b0fba', 'message': 'Work around Galaxy semver issues\n\nAdding the tag 1.0.1 to the grafana-conf galaxy role caused 1.0 to\nno longer be accessible. Changing the version format from a.b to\na.b.c was required to get Galaxy to pick up the new version. This\nchange uses an identical version of the role.\n\nChange-Id: Id2629cda0b8f6e096784a53deb2dc6a2fad7ee95\n'}]",0,623032,4f37bbfd0ac818d53d638f55bce5b8d6f75b0fba,12,3,1,17669,,,0,"Work around Galaxy semver issues

Adding the tag 1.0.1 to the grafana-conf galaxy role caused 1.0 to
no longer be accessible. Changing the version format from a.b to
a.b.c was required to get Galaxy to pick up the new version. This
change uses an identical version of the role.

Change-Id: Id2629cda0b8f6e096784a53deb2dc6a2fad7ee95
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/623032/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,4f37bbfd0ac818d53d638f55bce5b8d6f75b0fba,, version: 1.0.0, version: 1.0,1,1
openstack%2Fpuppet-placement~master~I73f094e3aa01b2fb6fc497703c44ad3d5e3549e0,openstack/puppet-placement,master,I73f094e3aa01b2fb6fc497703c44ad3d5e3549e0,Update params for Debian,ABANDONED,2018-12-06 20:25:01.000000000,2018-12-07 16:04:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-06 20:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/4dd82cd6bd716082059737a96a8f42af7f57df2e', 'message': 'Update params for Debian\n\nChange-Id: I73f094e3aa01b2fb6fc497703c44ad3d5e3549e0\n'}, {'number': 2, 'created': '2018-12-06 20:26:13.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/60d6b8557d3e949bf30310f2440fb68aaec8b014', 'message': 'Update params for Debian\n\nDepends-On: https://review.openstack.org/#/c/615568/\nDepends-On: https://review.openstack.org/#/c/615569/\nChange-Id: I73f094e3aa01b2fb6fc497703c44ad3d5e3549e0\n'}]",0,623306,60d6b8557d3e949bf30310f2440fb68aaec8b014,4,1,2,10135,,,0,"Update params for Debian

Depends-On: https://review.openstack.org/#/c/615568/
Depends-On: https://review.openstack.org/#/c/615569/
Change-Id: I73f094e3aa01b2fb6fc497703c44ad3d5e3549e0
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/06/623306/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,4dd82cd6bd716082059737a96a8f42af7f57df2e,," $pyvers = '2' $package_name = 'placement-api' $common_package_name = 'placement-common' $python_package_name = ""python${pyvers}-placement"" $service_name = 'placement-api' $public_url = 'http://127.0.0.1' $internal_url = 'http://127.0.0.1' $admin_url = 'http://127.0.0.1' $wsgi_script_source = '/usr/bin/placement-api' $wsgi_script_path = '/var/www/cgi-bin/placement' $httpd_config_file = '/etc/apache2/sites-available/nova-placement-api.conf'", $pyvers = '' # service names # redhat specific config defaults,11,3
openstack%2Fkuryr-kubernetes~master~I96c1ed87baf42a4e8c533330236bdeddd568e7f6,openstack/kuryr-kubernetes,master,I96c1ed87baf42a4e8c533330236bdeddd568e7f6,[Trivialfix]Modify a grammatical error,MERGED,2018-03-06 08:51:23.000000000,2018-12-07 16:02:26.000000000,2018-12-07 16:02:26.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-03-06 08:51:23.000000000', 'files': ['doc/source/specs/queens/network_policy.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2301ca83bdba45ca4d5cef603f9927ec4f5d6a44', 'message': '[Trivialfix]Modify a grammatical error\n\nModify a grammatical error by deleting ""the"" in network_policy.rst.\n\nChange-Id: I96c1ed87baf42a4e8c533330236bdeddd568e7f6\n'}]",0,549979,2301ca83bdba45ca4d5cef603f9927ec4f5d6a44,9,5,1,23317,,,0,"[Trivialfix]Modify a grammatical error

Modify a grammatical error by deleting ""the"" in network_policy.rst.

Change-Id: I96c1ed87baf42a4e8c533330236bdeddd568e7f6
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/79/549979/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/queens/network_policy.rst'],1,2301ca83bdba45ca4d5cef603f9927ec4f5d6a44,modify,to the kubernetes-network-policy. The translation should be done carefully,to the the kubernetes-network-policy. The translation should be done carefully,1,1
openstack%2Fkuryr-kubernetes~master~I439d75436e4fdf3671e54d979fb45cf8d6193ee1,openstack/kuryr-kubernetes,master,I439d75436e4fdf3671e54d979fb45cf8d6193ee1,Fix -D option on build_cni_daemonset_image,MERGED,2018-12-07 11:55:01.000000000,2018-12-07 16:02:25.000000000,2018-12-07 16:02:25.000000000,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-12-07 11:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/701f0d8f09573e5d029ad625e7fe5482a17f4a76', 'message': 'Fix -D option on build_cni__daemonset_image\n\n-D/--no-daemon option in tools/build_cni_daemonset_image should not\nrequire a parameter. This commit fixes that mistake and the HA gate.\n\nChange-Id: I439d75436e4fdf3671e54d979fb45cf8d6193ee1\nCloses-Bug: 1807380\n'}, {'number': 2, 'created': '2018-12-07 11:55:23.000000000', 'files': ['tools/build_cni_daemonset_image'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2b319218b85ccafc9fe3b8348e34f4f19f7416f1', 'message': 'Fix -D option on build_cni_daemonset_image\n\n-D/--no-daemon option in tools/build_cni_daemonset_image should not\nrequire a parameter. This commit fixes that mistake and the HA gate.\n\nChange-Id: I439d75436e4fdf3671e54d979fb45cf8d6193ee1\nCloses-Bug: 1807380\n'}]",0,623462,2b319218b85ccafc9fe3b8348e34f4f19f7416f1,9,5,2,11600,,,0,"Fix -D option on build_cni_daemonset_image

-D/--no-daemon option in tools/build_cni_daemonset_image should not
require a parameter. This commit fixes that mistake and the HA gate.

Change-Id: I439d75436e4fdf3671e54d979fb45cf8d6193ee1
Closes-Bug: 1807380
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/62/623462/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/build_cni_daemonset_image'],1,701f0d8f09573e5d029ad625e7fe5482a17f4a76,bug/1807380,"while getopts ""hf:b:c:t:Dp"" opt; do","while getopts ""hf:b:c:t:D:p"" opt; do",1,1
openstack%2Fdevstack~master~I6915b444dbf5629677025fe072d0b10241a57c6d,openstack/devstack,master,I6915b444dbf5629677025fe072d0b10241a57c6d,Install crudini in default configuration,ABANDONED,2018-10-19 16:07:18.000000000,2018-12-07 15:52:06.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-19 16:07:18.000000000', 'files': ['files/debs/general', 'files/rpms-suse/general', 'files/rpms/general'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9da9dd9efb9b1ab0f37edc4853c300570157365b', 'message': 'Install crudini in default configuration\n\nThis tool is exceptionally useful for configuring the INI files that\npretty much every OpenStack service uses and is used in a lot of\ndocumentation. Start pulling it in.\n\nChange-Id: I6915b444dbf5629677025fe072d0b10241a57c6d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,611913,9da9dd9efb9b1ab0f37edc4853c300570157365b,7,5,1,15334,,,0,"Install crudini in default configuration

This tool is exceptionally useful for configuring the INI files that
pretty much every OpenStack service uses and is used in a lot of
documentation. Start pulling it in.

Change-Id: I6915b444dbf5629677025fe072d0b10241a57c6d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/13/611913/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/debs/general', 'files/rpms-suse/general', 'files/rpms/general']",3,9da9dd9efb9b1ab0f37edc4853c300570157365b,crudini,crudini,,3,0
openstack%2Fkuryr-kubernetes~master~I082dff33fbb2b7bc0dba0babf60c1fd4e3e1ccea,openstack/kuryr-kubernetes,master,I082dff33fbb2b7bc0dba0babf60c1fd4e3e1ccea,Fix Chinese quotes,ABANDONED,2018-11-24 07:48:59.000000000,2018-12-07 15:48:59.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-24 07:48:59.000000000', 'files': ['releasenotes/notes/kuryr-daemon-f09075b9eb60388f.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5f4ea29983579fc3c69f45fbdeab06fdb2694dd7', 'message': 'Fix Chinese quotes\n\nChange-Id: I082dff33fbb2b7bc0dba0babf60c1fd4e3e1ccea\n'}]",0,619865,5f4ea29983579fc3c69f45fbdeab06fdb2694dd7,4,2,1,25747,,,0,"Fix Chinese quotes

Change-Id: I082dff33fbb2b7bc0dba0babf60c1fd4e3e1ccea
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/65/619865/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/kuryr-daemon-f09075b9eb60388f.yaml'],1,5f4ea29983579fc3c69f45fbdeab06fdb2694dd7,," the node it's running on, answering calls from CNI Driver and attaching"," the node it’s running on, answering calls from CNI Driver and attaching",1,1
openstack%2Fkuryr-tempest-plugin~master~Icfa7b13398e2fd64180b72b07ca68e532fa1e544,openstack/kuryr-tempest-plugin,master,Icfa7b13398e2fd64180b72b07ca68e532fa1e544,Synchronize port pool tests,MERGED,2018-12-07 07:07:49.000000000,2018-12-07 15:44:21.000000000,2018-12-07 15:44:21.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-12-07 07:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/c41bb61db88a26c4ec22ce43c002bd6559894abf', 'message': 'Add exclusive run facility\n\nThis new kuryr tempest feature allows you to mark any number of test\ncases as needing to run serially in respect to each other and adds\nits first usage.\n\nIn the first usage the need is very apparent since both tests change\nthe same configmap and restart the controller, resulting in flakiness\nif serial execution among these two tests is not enforced.\n\nChange-Id: Icfa7b13398e2fd64180b72b07ca68e532fa1e544\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 2, 'created': '2018-12-07 09:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/add78260c8d72c77fcb70a861bbe708018156399', 'message': 'Add exclusive run facility\n\nThis new kuryr tempest feature allows you to mark any number of test\ncases as needing to run serially in respect to each other and adds\nits first usage.\n\nIn the first usage the need is very apparent since both tests change\nthe same configmap and restart the controller, resulting in flakiness\nif serial execution among these two tests is not enforced.\n\nChange-Id: Icfa7b13398e2fd64180b72b07ca68e532fa1e544\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 3, 'created': '2018-12-07 10:57:54.000000000', 'files': ['requirements.txt', 'kuryr_tempest_plugin/tests/scenario/test_port_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8ec2c709a2a51a7a6be06c1c9f27a305bf8eba6c', 'message': ""Synchronize port pool tests\n\nSince both tests change the same configmap and restart the controller,\nwe'll reduce the flakiness if serial execution among these two tests is\nenforced.\n\nChange-Id: Icfa7b13398e2fd64180b72b07ca68e532fa1e544\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n""}]",1,623408,8ec2c709a2a51a7a6be06c1c9f27a305bf8eba6c,19,7,3,14352,,,0,"Synchronize port pool tests

Since both tests change the same configmap and restart the controller,
we'll reduce the flakiness if serial execution among these two tests is
enforced.

Change-Id: Icfa7b13398e2fd64180b72b07ca68e532fa1e544
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/08/623408/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_port_pool.py', 'kuryr_tempest_plugin/tests/base.py']",2,c41bb61db88a26c4ec22ce43c002bd6559894abf,antiaffinity,"import fcntl from os import path import tempfilefrom oslo_log import log as logging LOG = logging.getLogger(__name__) lockdir = tempfile.mkdtemp() def run_exclusive(lock_name): def wrapper(func): def inner_wrapper(*args, **kwargs): filename = path.join(lockdir, lock_name) with open(filename, 'a') as lockfile: fcntl.lockf(lockfile, fcntl.LOCK_EX) LOG.info('Lock %s acquired by %s', filename, func.__name__) result = func(*args, **kwargs) LOG.info('Lock %s released by %s', filename, func.__name__) fcntl.lockf(lockfile, fcntl.LOCK_UN) return result return inner_wrapper return wrapper",,25,0
openstack%2Fpuppet-keystone~master~I46ec675fb959c5d1b8f9cbf300e480026e803a66,openstack/puppet-keystone,master,I46ec675fb959c5d1b8f9cbf300e480026e803a66,Add a LDAP param group_members_are_ids,MERGED,2018-11-29 10:24:43.000000000,2018-12-07 15:41:49.000000000,2018-12-07 15:41:49.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 16339}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-29 10:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d4acbc9818ce4d56561dbdc0082664bbdd04ebf8', 'message': 'Add a LDAP param group_members_are_ids\n\nEnable this option if the members of the group\nobject class are keystone user IDs rather than LDAP DNs.\nThis is thecase when using posixGroup as the group object\nclass in Open Directory.\n\nCloses-Bug: #1805801\n\nChange-Id: I46ec675fb959c5d1b8f9cbf300e480026e803a66\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\n'}, {'number': 2, 'created': '2018-11-29 13:48:54.000000000', 'files': ['manifests/ldap_backend.pp', 'spec/classes/keystone_ldap_spec.rb', 'spec/defines/keystone_ldap_backend_spec.rb', 'manifests/ldap.pp', 'releasenotes/notes/add-group_members_are_ids-7decbef235d0afd8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/fa219381358d91567eb82a9e9c3cdfce64946c15', 'message': 'Add a LDAP param group_members_are_ids\n\nEnable this option if the members of the group\nobject class are keystone user IDs rather than LDAP DNs.\nThis is thecase when using posixGroup as the group object\nclass in Open Directory.\n\nCloses-Bug: #1805801\n\nChange-Id: I46ec675fb959c5d1b8f9cbf300e480026e803a66\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\n'}]",1,620876,fa219381358d91567eb82a9e9c3cdfce64946c15,35,9,2,16339,,,0,"Add a LDAP param group_members_are_ids

Enable this option if the members of the group
object class are keystone user IDs rather than LDAP DNs.
This is thecase when using posixGroup as the group object
class in Open Directory.

Closes-Bug: #1805801

Change-Id: I46ec675fb959c5d1b8f9cbf300e480026e803a66
Signed-off-by: Cyril Lopez <cylopez@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/76/620876/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ldap_backend.pp', 'spec/classes/keystone_ldap_spec.rb', 'spec/defines/keystone_ldap_backend_spec.rb', 'manifests/ldap.pp', 'releasenotes/notes/add-group_members_are_ids-7decbef235d0afd8.yaml']",5,d4acbc9818ce4d56561dbdc0082664bbdd04ebf8,bug/1805801,"--- features: - | In keystone, we can set group_members_are_ids. This parameter is Enable this option if the members of the group object class are keystone user IDs rather than LDAP DNs. This is the case when using posixGroup as the group object class in Open Directory. ",,23,0
openstack%2Fkuryr-kubernetes~master~Id263740b5a8dc27a68a61541560dcf65a650d5a3,openstack/kuryr-kubernetes,master,Id263740b5a8dc27a68a61541560dcf65a650d5a3,Replace q-* for neutron-*,ABANDONED,2018-03-13 10:10:54.000000000,2018-12-07 15:38:27.000000000,,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 17880}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-03-13 10:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/599c412c52582a7bf63688509b53b5a3b5e2ab37', 'message': 'Replace q- for neutron- on gates\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\n\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 2, 'created': '2018-03-13 10:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/77942dc8b3f2fa743465ee3f97900aee1f1ab0bd', 'message': 'Replace q- for neutron- on gates\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\n\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 3, 'created': '2018-03-13 11:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/45458f4ea595cdca4c488748a449d05e02dfbd51', 'message': 'Replace q- for neutron- on gates\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\n\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 4, 'created': '2018-03-13 14:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7ec8aa9750449f7b0d6cf4f79e6c2c32ccdde903', 'message': 'Replace q- for neutron- on gates\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\n\nDepends-On: https://review.openstack.org/#/c/552527/\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 5, 'created': '2018-03-13 16:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2e19f89f111b8a4a46299f82cb2bb6117adf8f17', 'message': 'Replace q- for neutron- on gates\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\n\nDepends-On: https://review.openstack.org/#/c/552527/\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 6, 'created': '2018-03-13 18:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/764d7a76fafaa910489c36c855e6ee9e7f06bb80', 'message': 'Fix gate: Replace q-* for neutron-*\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\nBesides that it implements changes required to make our DevStack plugin\nwork fine with non-legacy Neutron:\n\n* Disables Swift and Cinder on gates (introduced by changes in\n  DevStack).\n* Manually sets Q_PLUGIN_CONF_FILE to unblock neutron-lbaas DevStack\n  plugin.\n* Uses $SUBNETPOOL_NAME_V4 instead of $SUBNETPOOL_V4_ID to point to\n  correct subnetpool.\n\nCloses-Bug: 1755567\n\nDepends-On: https://review.openstack.org/#/c/552527/\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 7, 'created': '2018-03-13 18:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c701cdc93635e54a68c040f77f9d45f471015d54', 'message': 'Fix gate: Replace q-* for neutron-*\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\nBesides that it implements changes required to make our DevStack plugin\nwork fine with non-legacy Neutron:\n\n* Disables Swift and Cinder on gates (introduced by changes in\n  DevStack).\n* Manually sets Q_PLUGIN_CONF_FILE to unblock neutron-lbaas DevStack\n  plugin.\n* Uses $SUBNETPOOL_NAME_V4 instead of $SUBNETPOOL_V4_ID to point to\n  correct subnetpool.\n\nCloses-Bug: 1755567\nCo-Authored-By: Michał Dulko <mdulko@redhat.com>\n\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 8, 'created': '2018-03-14 09:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d50c9babcf3c027d983cf4900dc9a75eba41381f', 'message': 'Replace q-* for neutron-*\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\nBesides that it implements changes required to make our DevStack plugin\nwork fine with non-legacy Neutron:\n\n* Uses $SUBNETPOOL_NAME_V4 instead of $SUBNETPOOL_V4_ID to point to\n  correct subnetpool.\n\nRelated-Bug: 1755567\nCo-Authored-By: Michał Dulko <mdulko@redhat.com>\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 9, 'created': '2018-07-03 09:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b0b67fb02b2e504cc2ebb0c0958db308b3e43d5a', 'message': 'Replace q-* for neutron-*\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\nBesides that it implements changes required to make our DevStack plugin\nwork fine with non-legacy Neutron:\n\n* Uses $SUBNETPOOL_NAME_V4 instead of $SUBNETPOOL_V4_ID to point to\n  correct subnetpool.\n\nRelated-Bug: 1755567\nCo-Authored-By: Michał Dulko <mdulko@redhat.com>\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 10, 'created': '2018-07-03 12:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f451e587158152b290a72cd0615b6567bfa9611f', 'message': 'Replace q-* for neutron-*\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\nBesides that it implements changes required to make our DevStack plugin\nwork fine with non-legacy Neutron:\n\n* Uses $SUBNETPOOL_NAME_V4 instead of $SUBNETPOOL_V4_ID to point to\n  correct subnetpool.\n\nRelated-Bug: 1755567\nCo-Authored-By: Michał Dulko <mdulko@redhat.com>\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 11, 'created': '2018-07-03 14:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c98eb339eb9e3b7edba3d0e8e7d75df00af6f64d', 'message': 'Replace q-* for neutron-*\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\nBesides that it implements changes required to make our DevStack plugin\nwork fine with non-legacy Neutron:\n\n* Uses $SUBNETPOOL_NAME_V4 instead of $SUBNETPOOL_V4_ID to point to\n  correct subnetpool.\n\n* Added override-defaults file to add the router service_plugin that is\nrequired in case we are using ovn\n\nRelated-Bug: 1755567\nCo-Authored-By: Michał Dulko <mdulko@redhat.com>\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 12, 'created': '2018-07-08 04:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/82e964cd01eef2ebc7249b8822c54c3a024f3659', 'message': 'Replace q-* for neutron-*\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\nBesides that it implements changes required to make our DevStack plugin\nwork fine with non-legacy Neutron:\n\n* Uses $SUBNETPOOL_NAME_V4 instead of $SUBNETPOOL_V4_ID to point to\n  correct subnetpool.\n\n* Added override-defaults file to add the router service_plugin that is\nrequired in case we are using ovn\n\nRelated-Bug: 1755567\nCo-Authored-By: Michał Dulko <mdulko@redhat.com>\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 13, 'created': '2018-07-08 07:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f62076448554fa290f6a3fcde133763e51afc2c7', 'message': 'Replace q-* for neutron-*\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\nBesides that it implements changes required to make our DevStack plugin\nwork fine with non-legacy Neutron:\n\n* Uses $SUBNETPOOL_NAME_V4 instead of $SUBNETPOOL_V4_ID to point to\n  correct subnetpool.\n\n* Added override-defaults file to add the router service_plugin that is\nrequired in case we are using ovn\n\nRelated-Bug: 1755567\nCo-Authored-By: Michał Dulko <mdulko@redhat.com>\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 14, 'created': '2018-07-08 10:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2ddd11e015e8bcb9bef2aafbd5571ce192c82981', 'message': 'Replace q-* for neutron-*\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\nBesides that it implements changes required to make our DevStack plugin\nwork fine with non-legacy Neutron:\n\n* Uses $SUBNETPOOL_NAME_V4 instead of $SUBNETPOOL_V4_ID to point to\n  correct subnetpool.\n\n* Added override-defaults file to add the router service_plugin that is\nrequired in case we are using ovn\n\nRelated-Bug: 1755567\nCo-Authored-By: Michał Dulko <mdulko@redhat.com>\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}, {'number': 15, 'created': '2018-07-08 14:04:38.000000000', 'files': ['.zuul.d/lbaasv2.yaml', '.zuul.d/base.yaml', 'devstack/plugin.sh', '.zuul.d/sdn.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/78d40856c5ce3656faaf929feb2fb1ed0d685046', 'message': 'Replace q-* for neutron-*\n\nWe were using neutron lib/neutron-legacy on our devstack gates as we were\nenabling legacy services. This commit changes it so we rely on lib/neutron.\nBesides that it implements changes required to make our DevStack plugin\nwork fine with non-legacy Neutron:\n\n* Uses $SUBNETPOOL_NAME_V4 instead of $SUBNETPOOL_V4_ID to point to\n  correct subnetpool.\n\n* Added override-defaults file to add the router service_plugin that is\nrequired in case we are using ovn\n\nRelated-Bug: 1755567\nCo-Authored-By: Michał Dulko <mdulko@redhat.com>\nChange-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3\n'}]",5,552464,78d40856c5ce3656faaf929feb2fb1ed0d685046,51,6,15,14885,,,0,"Replace q-* for neutron-*

We were using neutron lib/neutron-legacy on our devstack gates as we were
enabling legacy services. This commit changes it so we rely on lib/neutron.
Besides that it implements changes required to make our DevStack plugin
work fine with non-legacy Neutron:

* Uses $SUBNETPOOL_NAME_V4 instead of $SUBNETPOOL_V4_ID to point to
  correct subnetpool.

* Added override-defaults file to add the router service_plugin that is
required in case we are using ovn

Related-Bug: 1755567
Co-Authored-By: Michał Dulko <mdulko@redhat.com>
Change-Id: Id263740b5a8dc27a68a61541560dcf65a650d5a3
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/64/552464/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,599c412c52582a7bf63688509b53b5a3b5e2ab37,replace-q-n, neutron-agent: true neutron-dhcp: true neutron-l3: true neutron-api: true netron-metadata-agent: true neutron-agent: false neutron-l3: false neutron-dhcp: false neutron-metadata-agent: false neutron-agent: false neutron-dhcp: false neutron-l3: false, q-agt: true q-dhcp: true q-l3: true q-svc: true q-meta: true q-agt: false q-l3: false q-dhcp: false q-meta: false q-agt: false q-dhcp: false q-l3: false,12,12
openstack%2Fkuryr-kubernetes~master~I5f96818dbe096bda0f14a3d1d0de750b72d554c5,openstack/kuryr-kubernetes,master,I5f96818dbe096bda0f14a3d1d0de750b72d554c5,Bug Fix: Kuryr installation as a Kubernetes network addon in          kuryr-kubernetes.,ABANDONED,2018-06-19 06:01:55.000000000,2018-12-07 15:37:57.000000000,,"[{'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21914}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27295}, {'_account_id': 27633}]","[{'number': 1, 'created': '2018-06-19 06:01:55.000000000', 'files': ['doc/source/installation/containerized.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6d708aa1f545a2b75c637570d45fa3570536f102', 'message': 'Bug Fix: Kuryr installation as a Kubernetes network addon in\n         kuryr-kubernetes.\n\nKuryr installation file was wrong, If run ""KURYR_K8S_API_ROOT=\n""192.168.0.1:6443 ./tools/generate_k8s_resource_definitions /tmp"",\nit will raise exception with ""-bash:\n./tools/generate_k8s_resource_definitions:\nNo such file or directory"".\n\nChange-Id: I5f96818dbe096bda0f14a3d1d0de750b72d554c5\nCloses-bug: #1767555\n'}]",0,576367,6d708aa1f545a2b75c637570d45fa3570536f102,9,7,1,27295,,,0,"Bug Fix: Kuryr installation as a Kubernetes network addon in
         kuryr-kubernetes.

Kuryr installation file was wrong, If run ""KURYR_K8S_API_ROOT=
""192.168.0.1:6443 ./tools/generate_k8s_resource_definitions /tmp"",
it will raise exception with ""-bash:
./tools/generate_k8s_resource_definitions:
No such file or directory"".

Change-Id: I5f96818dbe096bda0f14a3d1d0de750b72d554c5
Closes-bug: #1767555
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/67/576367/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation/containerized.rst'],1,6d708aa1f545a2b75c637570d45fa3570536f102,bug/1767555," $ KURYR_K8S_API_ROOT=""192.168.0.1:6443"" ./tools/generate_k8s_resource_definitions.sh /tmp"," $ KURYR_K8S_API_ROOT=""192.168.0.1:6443"" ./tools/generate_k8s_resource_definitions /tmp",1,1
openstack%2Fkuryr-kubernetes~master~Ie2c22e3d4f4cec19090efa78061d90e83dcda7e9,openstack/kuryr-kubernetes,master,Ie2c22e3d4f4cec19090efa78061d90e83dcda7e9,[WIP]kuryr-cni and controller igore system k8s resource,ABANDONED,2018-03-14 10:39:06.000000000,2018-12-07 15:36:15.000000000,,"[{'_account_id': 11600}, {'_account_id': 14852}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 10:39:06.000000000', 'files': ['kuryr_kubernetes/watcher.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7fffcb2bb5ed91e0e81c3a60caf1aaf841723fc5', 'message': '[WIP]kuryr-cni and controller igore system k8s resource\n\nkuryr-cni and controller should handle only tenant resources,\nso resources in kube-system and default, etcd should be igored\n\nChange-Id: Ie2c22e3d4f4cec19090efa78061d90e83dcda7e9\nClose-Bug: 1755757\n'}]",3,552873,7fffcb2bb5ed91e0e81c3a60caf1aaf841723fc5,6,3,1,14852,,,0,"[WIP]kuryr-cni and controller igore system k8s resource

kuryr-cni and controller should handle only tenant resources,
so resources in kube-system and default, etcd should be igored

Change-Id: Ie2c22e3d4f4cec19090efa78061d90e83dcda7e9
Close-Bug: 1755757
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/73/552873/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/watcher.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/utils.py']",3,7fffcb2bb5ed91e0e81c3a60caf1aaf841723fc5,bug/1755757," def is_system_resources(event): obj = event.get('object') namespace = obj.get('metadata', {}).get('namespace') if namespace and namespace in CONF.k8s_opts.system_namespaces: return True return False",,15,1
openstack%2Fkuryr-kubernetes~master~I45b43816f4c2583d7fc6edac3ef3463dadc74fad,openstack/kuryr-kubernetes,master,I45b43816f4c2583d7fc6edac3ef3463dadc74fad,Apply ovs-firewall in openshift gates,ABANDONED,2018-04-23 08:38:24.000000000,2018-12-07 15:34:36.000000000,,"[{'_account_id': 1921}, {'_account_id': 11600}, {'_account_id': 13252}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-23 08:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a03e4577003667a914d7cd05583a7962b3e73a94', 'message': 'Apply ovs-firewall in openshift gates\n\nChange-Id: I45b43816f4c2583d7fc6edac3ef3463dadc74fad\n'}, {'number': 2, 'created': '2018-04-23 10:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b6b791a7bb1330c6e9ecd94a615ff6ab73aca09b', 'message': 'Apply ovs-firewall in openshift gates\n\nChange-Id: I45b43816f4c2583d7fc6edac3ef3463dadc74fad\n'}, {'number': 3, 'created': '2018-04-23 11:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d6dc7cb1d2a5ff367484b3c6a2b03dc57ffe7b14', 'message': 'Apply ovs-firewall in openshift gates\n\nChange-Id: I45b43816f4c2583d7fc6edac3ef3463dadc74fad\n'}, {'number': 4, 'created': '2018-04-24 09:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/99c21c0d098dabf674ff254761af18327a38bc4c', 'message': 'Apply ovs-firewall in openshift gates\n\nChange-Id: I45b43816f4c2583d7fc6edac3ef3463dadc74fad\n'}, {'number': 5, 'created': '2018-04-26 08:00:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/631b3058afcd42b52d1bcc9947b3c799154cfd1a', 'message': 'Apply ovs-firewall in openshift gates\n\nChange-Id: I45b43816f4c2583d7fc6edac3ef3463dadc74fad\n'}]",5,563524,631b3058afcd42b52d1bcc9947b3c799154cfd1a,16,5,5,14885,,,0,"Apply ovs-firewall in openshift gates

Change-Id: I45b43816f4c2583d7fc6edac3ef3463dadc74fad
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/24/563524/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a03e4577003667a914d7cd05583a7962b3e73a94,ovs_firewall, devstack_local_conf: post-config: '/{{ $Q_PLUGIN_CONF_FILE }}': firewall_driver: openvswitch devstack_local_conf: post-config: '/{{ $Q_PLUGIN_CONF_FILE }}': firewall_driver: openvswitch,,8,0
openstack%2Fldappool~master~I31cb1d4f6476427720b77b4370ab8e91bd3450b4,openstack/ldappool,master,I31cb1d4f6476427720b77b4370ab8e91bd3450b4,Add py36 tox environment,MERGED,2018-11-06 11:59:36.000000000,2018-12-07 15:31:03.000000000,2018-12-07 15:31:03.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-11-06 11:59:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ldappool/commit/04f990936bb6ff31f63592cbe4f9c746e3ba71d2', 'message': 'Add py36 tox environment\n\nWe already run python3.6 unit tests in CI. Add the py36 environment to\nthe tox file so that developers with python3.6 available locally can opt\ninto running that version too.\n\nChange-Id: I31cb1d4f6476427720b77b4370ab8e91bd3450b4\n'}]",0,615847,04f990936bb6ff31f63592cbe4f9c746e3ba71d2,13,5,1,8482,,,0,"Add py36 tox environment

We already run python3.6 unit tests in CI. Add the py36 environment to
the tox file so that developers with python3.6 available locally can opt
into running that version too.

Change-Id: I31cb1d4f6476427720b77b4370ab8e91bd3450b4
",git fetch https://review.opendev.org/openstack/ldappool refs/changes/47/615847/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,04f990936bb6ff31f63592cbe4f9c746e3ba71d2,py36,"envlist = py27,py35,py36,pep8,cover,docs,releasenotes","envlist = py27,py35,pep8,cover,docs,releasenotes",1,1
openstack%2Ftempest~master~I3e08143a563a4af7a376832438995547854dda9f,openstack/tempest,master,I3e08143a563a4af7a376832438995547854dda9f,Drop nova-cells-v1 job from zuul,ABANDONED,2018-12-07 15:20:58.000000000,2018-12-07 15:26:07.000000000,,[],"[{'number': 1, 'created': '2018-12-07 15:20:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c45b6ce323fde659119b3858c9bd558845e0d787', 'message': 'Drop nova-cells-v1 job from zuul\n\nNova is going to drop the nova-cells-v1 job so we need\nto remove it from consuming projects first.\n\nChange-Id: I3e08143a563a4af7a376832438995547854dda9f\n'}]",0,623517,c45b6ce323fde659119b3858c9bd558845e0d787,2,0,1,6873,,,0,"Drop nova-cells-v1 job from zuul

Nova is going to drop the nova-cells-v1 job so we need
to remove it from consuming projects first.

Change-Id: I3e08143a563a4af7a376832438995547854dda9f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/17/623517/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c45b6ce323fde659119b3858c9bd558845e0d787,rm-nova-cells-v1-job,, - nova-cells-v1: irrelevant-files: *tempest-irrelevant-files,0,2
openstack%2Fdevstack~master~I79838b2122c44b7ed63fc12d91c384b1150dabdd,openstack/devstack,master,I79838b2122c44b7ed63fc12d91c384b1150dabdd,Drop nova-cells-v1 job from zuul,ABANDONED,2018-12-07 15:21:30.000000000,2018-12-07 15:25:45.000000000,,[],"[{'number': 1, 'created': '2018-12-07 15:21:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3dece2f9ec76df626f19e54502f9b019d64c0a06', 'message': 'Drop nova-cells-v1 job from zuul\n\nNova is going to drop the nova-cells-v1 job so we need\nto remove it from consuming projects first.\n\nChange-Id: I79838b2122c44b7ed63fc12d91c384b1150dabdd\n'}]",0,623518,3dece2f9ec76df626f19e54502f9b019d64c0a06,2,0,1,6873,,,0,"Drop nova-cells-v1 job from zuul

Nova is going to drop the nova-cells-v1 job so we need
to remove it from consuming projects first.

Change-Id: I79838b2122c44b7ed63fc12d91c384b1150dabdd
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/623518/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3dece2f9ec76df626f19e54502f9b019d64c0a06,rm-nova-cells-v1-job,," # * nova-cells-v1: maintained by nova for cells v1 (nova-cells service); # nova gates on this job, it's in experimental for testing cells v1 # changes to devstack w/o gating on it for all devstack changes. - nova-cells-v1: irrelevant-files: - ^.*\.rst$ - ^doc/.*$",0,7
openstack%2Fmonasca-common~master~I452ba835dee42121c889a1c955333440366f000f,openstack/monasca-common,master,I452ba835dee42121c889a1c955333440366f000f,Decrease amount of Docker image layers,MERGED,2018-12-05 14:39:07.000000000,2018-12-07 15:23:58.000000000,2018-12-07 15:23:58.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 14:39:07.000000000', 'files': ['docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/81348d90300a470c8adbf40b50dfcb43a753f363', 'message': 'Decrease amount of Docker image layers\n\nChange-Id: I452ba835dee42121c889a1c955333440366f000f\n'}]",0,622979,81348d90300a470c8adbf40b50dfcb43a753f363,6,2,1,21922,,,0,"Decrease amount of Docker image layers

Change-Id: I452ba835dee42121c889a1c955333440366f000f
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/79/622979/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/Dockerfile'],1,81348d90300a470c8adbf40b50dfcb43a753f363,docker,"LABEL \ org.opencontainers.image.created=""$BASE_CREATION_TIME"" \ org.opencontainers.image.title=""monasca-base"" \ org.opencontainers.image.revision=""$BASE_GIT_COMMIT"" \ org.opencontainers.image.licenses=""Apache-2.0""ONBUILD LABEL \ org.opencontainers.image.created=""$CREATION_TIME"" \ org.opencontainers.image.title=""$DOCKER_IMAGE"" \ org.opencontainers.image.source=""$APP_REPO"" \ org.opencontainers.image.url=""$GITHUB_REPO"" \ org.opencontainers.image.version=""$REPO_VERSION"" \ org.opencontainers.image.revision=""$GIT_COMMIT"" \ org.opencontainers.image.licenses=""Apache-2.0"" \ org.openstack.constraints_uri=""$CONSTRAINTS_FILE?h=$CONSTRAINTS_BRANCH"" \ org.openstack.monasca.python.extra_deps=""$EXTRA_DEPS"" \ org.openstack.monasca.common.source=""$COMMON_REPO"" \ org.openstack.monasca.common.version=""$COMMON_VERSION"" \ org.openstack.monasca.common.revision=""$COMMON_GIT_COMMIT""","LABEL org.opencontainers.image.created=""$BASE_CREATION_TIME"" LABEL org.opencontainers.image.title=""monasca-base"" LABEL org.opencontainers.image.revision=""$BASE_GIT_COMMIT"" LABEL org.opencontainers.image.licenses=""Apache-2.0""ONBUILD LABEL org.opencontainers.image.created=""$CREATION_TIME"" ONBUILD LABEL org.opencontainers.image.title=""$DOCKER_IMAGE"" ONBUILD LABEL org.opencontainers.image.source=""$APP_REPO"" ONBUILD LABEL org.opencontainers.image.url=""$GITHUB_REPO"" ONBUILD LABEL org.opencontainers.image.version=""$REPO_VERSION"" ONBUILD LABEL org.opencontainers.image.revision=""$GIT_COMMIT"" ONBUILD LABEL org.opencontainers.image.licenses=""Apache-2.0"" ONBUILD LABEL org.openstack.constraints_uri=""$CONSTRAINTS_FILE?h=$CONSTRAINTS_BRANCH"" ONBUILD LABEL org.openstack.monasca.python.extra_deps=""$EXTRA_DEPS"" ONBUILD LABEL org.openstack.monasca.common.source=""$COMMON_REPO"" ONBUILD LABEL org.openstack.monasca.common.version=""$COMMON_VERSION"" ONBUILD LABEL org.openstack.monasca.common.revision=""$COMMON_GIT_COMMIT""",18,16
openstack%2Fldappool~master~I814937a8496cdb4d3e24aabba849f10da42d0c89,openstack/ldappool,master,I814937a8496cdb4d3e24aabba849f10da42d0c89,Fix releasenotes build,MERGED,2018-12-05 14:34:14.000000000,2018-12-07 14:59:13.000000000,2018-12-07 14:59:13.000000000,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 14:34:14.000000000', 'files': ['releasenotes/source/_static/.placeholder'], 'web_link': 'https://opendev.org/openstack/ldappool/commit/1f8f8a31690b3be29ecc795975cdce4f087c864f', 'message': 'Fix releasenotes build\n\nThe Zuul sphinx job requires a _static directory to exist.\n\nChange-Id: I814937a8496cdb4d3e24aabba849f10da42d0c89\n'}]",0,622977,1f8f8a31690b3be29ecc795975cdce4f087c864f,7,2,1,8482,,,0,"Fix releasenotes build

The Zuul sphinx job requires a _static directory to exist.

Change-Id: I814937a8496cdb4d3e24aabba849f10da42d0c89
",git fetch https://review.opendev.org/openstack/ldappool refs/changes/77/622977/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/_static/.placeholder'],1,1f8f8a31690b3be29ecc795975cdce4f087c864f,,,,0,0
openstack%2Fnova~master~I6a8629bf06492a4b57f8951fdb8c61db9681adde,openstack/nova,master,I6a8629bf06492a4b57f8951fdb8c61db9681adde,Update compute API.get() stubs in test_access_ips,MERGED,2018-11-02 21:57:06.000000000,2018-12-07 14:49:46.000000000,2018-12-07 14:49:46.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-02 21:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43572bd2b30dda13bb1812bd550a8412b7e7e69c', 'message': 'Update compute API.get() stubs in test_access_ips\n\nThese old tests were stubbing the DB API to get an\ninstance which is too low-level. This changes the\nstub to be on the compute API.get() method.\n\nThis is part of a larger series to drop pre-cellsv2\ncompat code in compute API.get().\n\nChange-Id: I6a8629bf06492a4b57f8951fdb8c61db9681adde\n'}, {'number': 2, 'created': '2018-11-03 01:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/803336857218766a0c3c7c049958b813a14b21a6', 'message': 'Update compute API.get() stubs in test_access_ips\n\nThese old tests were stubbing the DB API to get an\ninstance which is too low-level. This changes the\nstub to be on the compute API.get() method.\n\nThis is part of a larger series to drop pre-cellsv2\ncompat code in compute API.get().\n\nChange-Id: I6a8629bf06492a4b57f8951fdb8c61db9681adde\n'}, {'number': 3, 'created': '2018-11-05 19:38:01.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_access_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e4fb870ab73b87387db0a9d59857277be1fc459f', 'message': 'Update compute API.get() stubs in test_access_ips\n\nThese old tests were stubbing the DB API to get an\ninstance which is too low-level. This changes the\nstub to be on the compute API.get() method.\n\nThis is part of a larger series to drop pre-cellsv2\ncompat code in compute API.get().\n\nChange-Id: I6a8629bf06492a4b57f8951fdb8c61db9681adde\n'}]",0,615346,e4fb870ab73b87387db0a9d59857277be1fc459f,27,12,3,6873,,,0,"Update compute API.get() stubs in test_access_ips

These old tests were stubbing the DB API to get an
instance which is too low-level. This changes the
stub to be on the compute API.get() method.

This is part of a larger series to drop pre-cellsv2
compat code in compute API.get().

Change-Id: I6a8629bf06492a4b57f8951fdb8c61db9681adde
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/615346/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_access_ips.py'],1,43572bd2b30dda13bb1812bd550a8412b7e7e69c,bug/1800472," self.stub_out('nova.compute.api.API.get', # This project_id matches fakes.HTTPRequest.blank. fakes.fake_compute_get(project_id='fake'))"," self.stub_out('nova.db.api.instance_get_by_uuid', fakes.fake_instance_get())",3,2
openstack%2Fnova~master~I623e2ed17013ee8fae22a1527199412ded4542b4,openstack/nova,master,I623e2ed17013ee8fae22a1527199412ded4542b4,Update compute API.get() stubs for test_disk_config,MERGED,2018-11-02 21:57:06.000000000,2018-12-07 14:49:37.000000000,2018-12-07 14:49:37.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-02 21:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5dca24bd23deebbf744c8deabf5ab32e90222a8', 'message': 'Update compute API.get() stubs for test_disk_config\n\nThese old unit tests were stubbing the DB API to get\nan instance which is too low level. This change updates\nthe stub to be on the compute API.get() method. While\nin here several unnecessary stubs are also removed.\n\nThis is part of a larger series of changes to drop\npre-cellsv2 compat code in the compute API.get() method.\n\nChange-Id: I623e2ed17013ee8fae22a1527199412ded4542b4\n'}, {'number': 2, 'created': '2018-11-03 01:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09b209ef3159c73f0a69bf6ef9d9b08c02ad6dda', 'message': 'Update compute API.get() stubs for test_disk_config\n\nThese old unit tests were stubbing the DB API to get\nan instance which is too low level. This change updates\nthe stub to be on the compute API.get() method. While\nin here several unnecessary stubs are also removed.\n\nThis is part of a larger series of changes to drop\npre-cellsv2 compat code in the compute API.get() method.\n\nChange-Id: I623e2ed17013ee8fae22a1527199412ded4542b4\n'}, {'number': 3, 'created': '2018-11-05 19:38:01.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_disk_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9eb7be23865e160bf5e7a283c28c655e2590fde9', 'message': 'Update compute API.get() stubs for test_disk_config\n\nThese old unit tests were stubbing the DB API to get\nan instance which is too low level. This change updates\nthe stub to be on the compute API.get() method. While\nin here several unnecessary stubs are also removed.\n\nThis is part of a larger series of changes to drop\npre-cellsv2 compat code in the compute API.get() method.\n\nChange-Id: I623e2ed17013ee8fae22a1527199412ded4542b4\n'}]",0,615345,9eb7be23865e160bf5e7a283c28c655e2590fde9,30,11,3,6873,,,0,"Update compute API.get() stubs for test_disk_config

These old unit tests were stubbing the DB API to get
an instance which is too low level. This change updates
the stub to be on the compute API.get() method. While
in here several unnecessary stubs are also removed.

This is part of a larger series of changes to drop
pre-cellsv2 compat code in the compute API.get() method.

Change-Id: I623e2ed17013ee8fae22a1527199412ded4542b4
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/615345/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_disk_config.py'],1,e5dca24bd23deebbf744c8deabf5ab32e90222a8,bug/1800472,"from nova import context as nova_context from nova import exception ctxt = nova_context.RequestContext( # These values match what is used in fakes.HTTPRequest.blank. user_id='fake_user', project_id='fake') fakes.stub_instance_obj(ctxt, uuid=MANUAL_INSTANCE_UUID, auto_disk_config=False), fakes.stub_instance_obj(ctxt, uuid=AUTO_INSTANCE_UUID, auto_disk_config=True) def fake_instance_get(_self, context, server_id, *args, **kwargs): for instance in FAKE_INSTANCES: if server_id == instance.uuid: raise exception.InstanceNotFound(instance_id=server_id) self.stub_out('nova.compute.api.API.get', fake_instance_get)","stub_instance = fakes.stub_instance def instance_addresses(context, instance_id): return None fakes.stub_instance(1, uuid=MANUAL_INSTANCE_UUID, auto_disk_config=False), fakes.stub_instance(2, uuid=AUTO_INSTANCE_UUID, auto_disk_config=True) def fake_instance_get(context, id_): for instance in FAKE_INSTANCES: if id_ == instance['id']: self.stub_out('nova.db.api.instance_get', fake_instance_get) def fake_instance_get_by_uuid(context, uuid, columns_to_join=None, use_slave=False): for instance in FAKE_INSTANCES: if uuid == instance['uuid']: return instance self.stub_out('nova.db.api.instance_get_by_uuid', fake_instance_get_by_uuid) def fake_instance_get_all(context, *args, **kwargs): return FAKE_INSTANCES self.stub_out('nova.db.api.instance_get_all', fake_instance_get_all) self.stub_out('nova.db.api.instance_get_all_by_filters', fake_instance_get_all) def fake_instance_get_for_create(context, id_, *args, **kwargs): return (inst, inst) self.stub_out('nova.db.api.instance_update_and_get_original', fake_instance_get_for_create) def fake_instance_get_all_for_create(context, *args, **kwargs): return [inst] self.stub_out('nova.db.api.instance_get_all', fake_instance_get_all_for_create) self.stub_out('nova.db.api.instance_get_all_by_filters', fake_instance_get_all_for_create) def fake_instance_add_security_group(context, instance_id, security_group_id): pass self.stub_out('nova.db.api.instance_add_security_group', fake_instance_add_security_group) ",15,53
openstack%2Fnova~master~I203dc5f2abc14c7ab7c140f6a1e35c2a433b9568,openstack/nova,master,I203dc5f2abc14c7ab7c140f6a1e35c2a433b9568,Update compute API.get() stubs for test_*security_groups,MERGED,2018-11-02 21:57:06.000000000,2018-12-07 14:49:24.000000000,2018-12-07 14:49:24.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-02 21:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9aa4dd6bd5cd464918a3225a4a5072d5b9a3a03', 'message': ""Update compute API.get() stubs for test_*security_groups\n\nThese old unit tests were stubbing the DB API to get\ninstance records which is too low level for what we're\ntesting in the API. This changes the stubs to be on the\ncompute API.get() method instead.\n\nWhile in here, tests are changed to re-use common stub\ncode and some unnecessary stubs/tests are removed. Notably\nthe non-running and 'invalid instance' tests are removed\nsince they don't test anything useful that is not already\ntested (power state doesn't matter for associating/disassociating\nsecurity groups to an instance and there are already tests\nfor instances which don't exist).\n\nThis is part of a larger series of changes to drop some\npre-cellsv2 compatibility code from compute API.get().\n\nChange-Id: I203dc5f2abc14c7ab7c140f6a1e35c2a433b9568\n""}, {'number': 2, 'created': '2018-11-03 01:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2090403f733397b94d7fe7adafc1dd357444f916', 'message': ""Update compute API.get() stubs for test_*security_groups\n\nThese old unit tests were stubbing the DB API to get\ninstance records which is too low level for what we're\ntesting in the API. This changes the stubs to be on the\ncompute API.get() method instead.\n\nWhile in here, tests are changed to re-use common stub\ncode and some unnecessary stubs/tests are removed. Notably\nthe non-running and 'invalid instance' tests are removed\nsince they don't test anything useful that is not already\ntested (power state doesn't matter for associating/disassociating\nsecurity groups to an instance and there are already tests\nfor instances which don't exist).\n\nThis is part of a larger series of changes to drop some\npre-cellsv2 compatibility code from compute API.get().\n\nChange-Id: I203dc5f2abc14c7ab7c140f6a1e35c2a433b9568\n""}, {'number': 3, 'created': '2018-11-05 19:38:01.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e745ab00d4b55a1b15cf04e85d355caafcb3fec4', 'message': ""Update compute API.get() stubs for test_*security_groups\n\nThese old unit tests were stubbing the DB API to get\ninstance records which is too low level for what we're\ntesting in the API. This changes the stubs to be on the\ncompute API.get() method instead.\n\nWhile in here, tests are changed to re-use common stub\ncode and some unnecessary stubs/tests are removed. Notably\nthe non-running and 'invalid instance' tests are removed\nsince they don't test anything useful that is not already\ntested (power state doesn't matter for associating/disassociating\nsecurity groups to an instance and there are already tests\nfor instances which don't exist).\n\nThis is part of a larger series of changes to drop some\npre-cellsv2 compatibility code from compute API.get().\n\nChange-Id: I203dc5f2abc14c7ab7c140f6a1e35c2a433b9568\n""}]",0,615344,e745ab00d4b55a1b15cf04e85d355caafcb3fec4,31,12,3,6873,,,0,"Update compute API.get() stubs for test_*security_groups

These old unit tests were stubbing the DB API to get
instance records which is too low level for what we're
testing in the API. This changes the stubs to be on the
compute API.get() method instead.

While in here, tests are changed to re-use common stub
code and some unnecessary stubs/tests are removed. Notably
the non-running and 'invalid instance' tests are removed
since they don't test anything useful that is not already
tested (power state doesn't matter for associating/disassociating
security groups to an instance and there are already tests
for instances which don't exist).

This is part of a larger series of changes to drop some
pre-cellsv2 compatibility code from compute API.get().

Change-Id: I203dc5f2abc14c7ab7c140f6a1e35c2a433b9568
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/615344/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py']",2,b9aa4dd6bd5cd464918a3225a4a5072d5b9a3a03,bug/1800472," self.stub_out('nova.compute.api.API.get', fakes.fake_compute_get( **{'power_state': 0x01, 'host': ""localhost"", 'uuid': UUID_SERVER, 'name': 'asdf'})) def return_security_groups(context, instance_uuid): self.assertEqual(instance_uuid, UUID_SERVER) def test_get_security_group_empty_for_instance(self, mock_sec_group): res_dict = self.server_controller.index(self.req, UUID_SERVER) self.req.environ['nova.context'], UUID_SERVER) with mock.patch('nova.compute.api.API.get', side_effect=exception.InstanceNotFound( instance_id='1')): self.assertRaises(webob.exc.HTTPNotFound, self.server_controller.index, self.req, '1') def test_associate_without_body(self): with mock.patch('nova.compute.api.API.get', side_effect=exception.InstanceNotFound( instance_id='1')): self.assertRaises(webob.exc.HTTPNotFound, self.manager._addSecurityGroup, self.req, '1', body) def test_disassociate_without_body(self): with mock.patch('nova.compute.api.API.get', side_effect=exception.InstanceNotFound( instance_id='1')): self.assertRaises(webob.exc.HTTPNotFound, self.manager._removeSecurityGroup, self.req, '1', body)","from nova.compute import power_statefrom nova.tests.unit import fake_instancedef return_server(context, server_id, columns_to_join=None, use_slave=False): return fake_instance.fake_db_instance( **{'id': 1, 'power_state': 0x01, 'host': ""localhost"", 'uuid': server_id, 'name': 'asdf'}) def return_server_by_uuid(context, server_uuid, columns_to_join=None, use_slave=False): return fake_instance.fake_db_instance( **{'id': 1, 'power_state': 0x01, 'host': ""localhost"", 'uuid': server_uuid, 'name': 'asdf'}) def return_non_running_server(context, server_id, columns_to_join=None): return fake_instance.fake_db_instance( **{'id': 1, 'power_state': power_state.SHUTDOWN, 'uuid': server_id, 'host': ""localhost"", 'name': 'asdf'}) def return_server_nonexistent(context, server_id, columns_to_join=None): raise exception.InstanceNotFound(instance_id=server_id) def return_instance(context, server_id, columns_to_join=None, use_slave=False): self.assertEqual(server_id, FAKE_UUID1) return return_server_by_uuid(context, server_id) self.stub_out('nova.db.api.instance_get_by_uuid', return_instance) def return_security_groups(context, instance_uuid): self.assertEqual(instance_uuid, FAKE_UUID1) @mock.patch('nova.db.api.instance_get_by_uuid') def test_get_security_group_empty_for_instance(self, mock_sec_group, mock_db_get_ins): def return_instance(context, server_id, columns_to_join=None, use_slave=False): self.assertEqual(server_id, FAKE_UUID1) return return_server_by_uuid(context, server_id) mock_db_get_ins.side_effect = return_instance res_dict = self.server_controller.index(self.req, FAKE_UUID1) self.req.environ['nova.context'], FAKE_UUID1) self.stub_out('nova.db.api.instance_get', return_server_nonexistent) self.stub_out('nova.db.api.instance_get_by_uuid', return_server_nonexistent) self.assertRaises(webob.exc.HTTPNotFound, self.server_controller.index, self.req, '1') def test_get_security_group_by_instance_invalid_id(self): self.assertRaises(webob.exc.HTTPNotFound, self.server_controller.index, self.req, 'invalid') self.stub_out('nova.db.api.instance_get', return_server) self.assertEqual(return_server(None, '1'), nova.db.api.instance_get(None, '1')) def test_associate_by_invalid_server_id(self): body = dict(addSecurityGroup=dict(name='test')) self.assertRaises(webob.exc.HTTPNotFound, self.manager._addSecurityGroup, self.req, 'invalid', body) def test_associate_without_body(self): self.stub_out('nova.db.api.instance_get', return_server) self.stub_out('nova.db.api.instance_get', return_server) self.stub_out('nova.db.api.instance_get', return_server) self.stub_out('nova.db.api.instance_get', return_server_nonexistent) self.stub_out('nova.db.api.instance_get_by_uuid', return_server_nonexistent) self.assertRaises(webob.exc.HTTPNotFound, self.manager._addSecurityGroup, self.req, '1', body) def test_associate_non_running_instance(self): self.stub_out('nova.db.api.instance_get', return_non_running_server) self.stub_out('nova.db.api.instance_get_by_uuid', return_non_running_server) self.stub_out('nova.db.api.security_group_get_by_name', return_security_group_without_instances) body = dict(addSecurityGroup=dict(name=""test"")) self.manager._addSecurityGroup(self.req, UUID_SERVER, body) self.stub_out('nova.db.api.instance_get', return_server) self.stub_out('nova.db.api.instance_get_by_uuid', return_server_by_uuid) self.stub_out('nova.db.api.instance_get', return_server) self.stub_out('nova.db.api.instance_get_by_uuid', return_server_by_uuid) self.stub_out('nova.db.api.instance_get', return_server) self.assertEqual(return_server(None, '1'), nova.db.api.instance_get(None, '1')) def test_disassociate_by_invalid_server_id(self): self.stub_out('nova.db.api.security_group_get_by_name', return_security_group_by_name) body = dict(removeSecurityGroup=dict(name='test')) self.assertRaises(webob.exc.HTTPNotFound, self.manager._removeSecurityGroup, self.req, 'invalid', body) def test_disassociate_without_body(self): self.stub_out('nova.db.api.instance_get', return_server) self.stub_out('nova.db.api.instance_get', return_server) self.stub_out('nova.db.api.instance_get', return_server) self.stub_out('nova.db.api.instance_get', return_server_nonexistent) self.assertRaises(webob.exc.HTTPNotFound, self.manager._removeSecurityGroup, self.req, '1', body) def test_disassociate_non_running_instance(self): self.stub_out('nova.db.api.instance_get', return_non_running_server) self.stub_out('nova.db.api.instance_get_by_uuid', return_non_running_server) self.stub_out('nova.db.api.security_group_get_by_name', return_security_group_by_name) body = dict(removeSecurityGroup=dict(name=""test"")) self.manager._removeSecurityGroup(self.req, UUID_SERVER, body) self.stub_out('nova.db.api.instance_get', return_server) self.stub_out('nova.db.api.instance_get_by_uuid', return_server_by_uuid) self.stub_out('nova.db.api.instance_get', return_server) self.stub_out('nova.db.api.instance_get_by_uuid', return_server_by_uuid)",30,153
openstack%2Fneutron~master~I94257bd6ec9ec6b9a1f509c27c439e6305e43e63,openstack/neutron,master,I94257bd6ec9ec6b9a1f509c27c439e6305e43e63,Send global_request_id for tracing calls from neutron to nova,MERGED,2018-11-05 07:17:49.000000000,2018-12-07 14:49:10.000000000,2018-12-07 14:49:10.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26541}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28373}]","[{'number': 1, 'created': '2018-11-05 07:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9843b6538e0660b77c204a8c38b3c2999a1027a1', 'message': ""Send global_request_id for tracing calls from neutron to nova\n\nNeutron makes call to nova for sending notifications but here no\ncontext object user/admin available, so generated a request_id\nand passed it as global_request_id during novaclient initialization\nso that nova will log both global_request_id and it's own generated\nrequest_id in the context formatter for traceability.\n\nModified unit tests wherever applicable.\n\nOslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\nChange-Id: I94257bd6ec9ec6b9a1f509c27c439e6305e43e63\n""}, {'number': 2, 'created': '2018-11-27 09:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/129224be2ee78f1b0b1c8f26b90765a7fcbe4df5', 'message': ""Send global_request_id for tracing calls from neutron to nova\n\nNeutron makes call to nova for sending notifications but here no\ncontext object user/admin available, so generated a request_id\nand passed it as global_request_id during novaclient initialization\nso that nova will log both global_request_id and it's own generated\nrequest_id in the context formatter for traceability. As Notifier\nclass is used as singleton mode, need to create novaclient every time\nevents are sent from neutron to nova.\n\nModified unit tests wherever applicable.\n\nOslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\nChange-Id: I94257bd6ec9ec6b9a1f509c27c439e6305e43e63\n""}, {'number': 3, 'created': '2018-11-28 08:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e10663be3a0142884060643b865e0b3faa49d913', 'message': ""Send global_request_id for tracing calls from neutron to nova\n\nNeutron makes call to nova for sending notifications but here no\ncontext object user/admin available, so generated a request_id\nand passed it as global_request_id during novaclient initialization\nso that nova will log both global_request_id and it's own generated\nrequest_id in the context formatter for traceability. As Notifier\nclass is used as singleton mode, need to create novaclient every time\nevents are sent from neutron to nova.\n\nModified unit tests wherever applicable.\n\nOslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\nChange-Id: I94257bd6ec9ec6b9a1f509c27c439e6305e43e63\n""}, {'number': 4, 'created': '2018-11-30 08:51:56.000000000', 'files': ['neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/75d83b903277c094a8680f83d2eb364e0736ed86', 'message': ""Send global_request_id for tracing calls from neutron to nova\n\nNeutron makes call to nova for sending notifications but here no\ncontext object user/admin available, so generated a request_id\nand passed it as global_request_id during novaclient initialization\nso that nova will log both global_request_id and it's own generated\nrequest_id in the context formatter for traceability. As Notifier\nclass is used as singleton mode, need to create novaclient every time\nevents are sent from neutron to nova.\n\nModified unit tests wherever applicable.\n\nOslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\nChange-Id: I94257bd6ec9ec6b9a1f509c27c439e6305e43e63\n""}]",10,615486,75d83b903277c094a8680f83d2eb364e0736ed86,56,15,4,26541,,,0,"Send global_request_id for tracing calls from neutron to nova

Neutron makes call to nova for sending notifications but here no
context object user/admin available, so generated a request_id
and passed it as global_request_id during novaclient initialization
so that nova will log both global_request_id and it's own generated
request_id in the context formatter for traceability. As Notifier
class is used as singleton mode, need to create novaclient every time
events are sent from neutron to nova.

Modified unit tests wherever applicable.

Oslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42

Change-Id: I94257bd6ec9ec6b9a1f509c27c439e6305e43e63
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/615486/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py']",2,9843b6538e0660b77c204a8c38b3c2999a1027a1,global-request-id," extensions=mock.ANY, global_request_id=mock.ANY) extensions=mock.ANY, global_request_id=mock.ANY)", extensions=mock.ANY) extensions=mock.ANY),8,3
openstack%2Fkuryr-kubernetes~master~I7d9cef6762d5bb2379256b96eb5341537c8c73d1,openstack/kuryr-kubernetes,master,I7d9cef6762d5bb2379256b96eb5341537c8c73d1,Dummy patch for the service,ABANDONED,2018-01-31 13:00:02.000000000,2018-12-07 14:48:26.000000000,,"[{'_account_id': 21302}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-31 13:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c28453ae949fdaaaafbab09ef36bb300d6f7d6da', 'message': 'Dummy patch for the service\n\nDepends-On: https://review.openstack.org/#/c/539485\n\nChange-Id: I7d9cef6762d5bb2379256b96eb5341537c8c73d1\n'}, {'number': 2, 'created': '2018-01-31 14:24:36.000000000', 'files': ['LICENSE'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d3f9cdcfaa316e60cbd95ca9fddc70bcf048eccf', 'message': 'Dummy patch for the service\n\nDepends-On: I3c6d5dc9614820b889ce10f0ea9c6a6a3f09968f\n\nChange-Id: I7d9cef6762d5bb2379256b96eb5341537c8c73d1\n'}]",0,539520,d3f9cdcfaa316e60cbd95ca9fddc70bcf048eccf,20,2,2,21302,,,0,"Dummy patch for the service

Depends-On: I3c6d5dc9614820b889ce10f0ea9c6a6a3f09968f

Change-Id: I7d9cef6762d5bb2379256b96eb5341537c8c73d1
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/20/539520/2 && git format-patch -1 --stdout FETCH_HEAD,['LICENSE'],1,c28453ae949fdaaaafbab09ef36bb300d6f7d6da,Dummy_for_service,Service_Test,,1,1
openstack%2Fkuryr-kubernetes~master~Ic89afe1577d3799cbd66943325b6fb4905a2c690,openstack/kuryr-kubernetes,master,Ic89afe1577d3799cbd66943325b6fb4905a2c690,[Deep WIP] Introduce CNI driver,ABANDONED,2016-05-24 15:48:48.000000000,2018-12-07 14:48:21.000000000,,"[{'_account_id': 261}, {'_account_id': 1923}, {'_account_id': 6598}, {'_account_id': 7505}, {'_account_id': 9237}, {'_account_id': 15967}]","[{'number': 1, 'created': '2016-05-24 15:48:48.000000000', 'files': ['kuryr_kubernetes/cni/feeders/dummy_feeder.py', 'kuryr_kubernetes/cni/driver.py', 'requirements.txt', 'kuryr_kubernetes/cni/constants.py', 'kuryr_kubernetes/cni/exceptions.py', 'kuryr_kubernetes/cni/models.py', 'kuryr_kubernetes/cni/__init__.py', 'tox.ini', 'kuryr_kubernetes/cni/feeders/__init__.py', 'kuryr_kubernetes/tests/cni/__init__.py', 'kuryr_kubernetes/tests/cni/test_cni_driver.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ccf176625b768cdc4f595bc430752cd142d9210b', 'message': '[Deep WIP] Introduce CNI driver\n\nIntroduce the structure of the CNI driver. It uses the kuryr common\nlibrary to do the actual binding, sharing this code with the libnetwork\none.\n\nChange-Id: Ic89afe1577d3799cbd66943325b6fb4905a2c690\n'}]",6,320545,ccf176625b768cdc4f595bc430752cd142d9210b,9,6,1,7505,,,0,"[Deep WIP] Introduce CNI driver

Introduce the structure of the CNI driver. It uses the kuryr common
library to do the actual binding, sharing this code with the libnetwork
one.

Change-Id: Ic89afe1577d3799cbd66943325b6fb4905a2c690
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/45/320545/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/cni/feeders/dummy_feeder.py', 'kuryr_kubernetes/cni/driver.py', 'requirements.txt', 'kuryr_kubernetes/cni/constants.py', 'kuryr_kubernetes/cni/exceptions.py', 'kuryr_kubernetes/cni/models.py', 'kuryr_kubernetes/cni/__init__.py', 'tox.ini', 'kuryr_kubernetes/cni/feeders/__init__.py', 'kuryr_kubernetes/tests/cni/__init__.py', 'kuryr_kubernetes/tests/cni/test_cni_driver.py']",11,ccf176625b768cdc4f595bc430752cd142d9210b,cni,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import uuid from kuryr_kubernetes.cni import constants as cni_consts from kuryr_kubernetes.cni import driver from kuryr_kubernetes.tests import base class TestCNIDriver(base.TestCase): def test_env_vars(self): """"""All env vars must be filled when instantiating the driver."""""" self.assertRaises(SystemExit, driver.KuryrCNIDriver) os.environ[cni_consts.PATH] = '/opt/cni/bin' self.assertRaises(SystemExit, driver.KuryrCNIDriver) os.environ[cni_consts.CONTAINERID] = str(uuid.uuid4()) self.assertRaises(SystemExit, driver.KuryrCNIDriver) os.environ[cni_consts.NETNS] = '/run/docker/netns' self.assertRaises(SystemExit, driver.KuryrCNIDriver) os.environ[cni_consts.IFNAME] = 'ethX' self.assertRaises(SystemExit, driver.KuryrCNIDriver) os.environ[cni_consts.COMMAND] = 'ADD' self.assertRaises(SystemExit, driver.KuryrCNIDriver) os.environ[cni_consts.ARGS] = '' # should not raise any exception now driver.KuryrCNIDriver() ",,372,26
openstack%2Fkuryr-kubernetes~master~Ic2a769c542399d00b704c46d37402e0778320c4d,openstack/kuryr-kubernetes,master,Ic2a769c542399d00b704c46d37402e0778320c4d,Handle mtu on kuryr side,ABANDONED,2017-01-23 13:15:11.000000000,2018-12-07 14:48:15.000000000,,"[{'_account_id': 6598}, {'_account_id': 15967}, {'_account_id': 21273}, {'_account_id': 24827}]","[{'number': 1, 'created': '2017-01-23 13:15:11.000000000', 'files': ['kuryr_kubernetes/cni/binding/nested.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7520038aa9631d815c2a041a2b826237889b8006', 'message': 'Handle mtu on kuryr side\n\nset mtu for container port as lower of vif.mtu and vm interface mtu.\n\nChange-Id: Ic2a769c542399d00b704c46d37402e0778320c4d\nCloses-bug: #1658680\n'}]",3,424104,7520038aa9631d815c2a041a2b826237889b8006,10,4,1,15967,,,0,"Handle mtu on kuryr side

set mtu for container port as lower of vif.mtu and vm interface mtu.

Change-Id: Ic2a769c542399d00b704c46d37402e0778320c4d
Closes-bug: #1658680
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/04/424104/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/binding/nested.py'],1,7520038aa9631d815c2a041a2b826237889b8006,bug/1658680," c_mtu = vif.network.mtu link_if = h_ipdb.interfaces[vm_iface_name] if vif.network.mtu > link_if.mtu: c_mtu = link_if.mtu link=link_if, iface.mtu = c_mtu"," link=h_ipdb.interfaces[vm_iface_name], iface.mtu = vif.network.mtu",6,2
openstack%2Fkuryr-kubernetes~master~Icef421829fec528b16ef2ba54ed30d328f63dc4e,openstack/kuryr-kubernetes,master,Icef421829fec528b16ef2ba54ed30d328f63dc4e,Kubernetes client usage from upstream K8s repo,ABANDONED,2017-04-07 06:40:19.000000000,2018-12-07 14:48:05.000000000,,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14867}, {'_account_id': 14885}, {'_account_id': 15168}, {'_account_id': 15967}, {'_account_id': 18266}, {'_account_id': 21273}]","[{'number': 1, 'created': '2017-04-07 06:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6c6b1d63d961bd2e99358a67fdc5974cd419ddd1', 'message': '[WIP][DNR] Kubernetes client\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}, {'number': 2, 'created': '2017-05-31 09:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9c03dd48d0345a60e5d49e9bac6cb4cbb769a933', 'message': '[WIP]Kubernetes client usage from upstream\nChanged:\n- watch draft\n- configuration draft\n- unicode data/type change\n\nTODO:\n- annotation from client\n- k8sclient file keep or remove\n- tests change\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}, {'number': 3, 'created': '2017-05-31 09:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b329d7ac2432c8bd90633b32fabd5a8cd4bd9868', 'message': '[WIP]Kubernetes client usage from upstream\n\nChanged:\n- watch draft\n- configuration draft\n- unicode data/type change\n\nTODO:\n- annotation from client\n- k8sclient file keep or remove\n- tests change\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}, {'number': 4, 'created': '2017-06-01 05:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/19db6467fdd2438fa3e322ed3ded93fc2e84fb85', 'message': '[WIP]Kubernetes client usage from upstream\nChanged:\n- watch draft\n- configuration draft\n- unicode data/type change\n\nTODO:\n- annotation from client\n- k8sclient file keep or remove\n- tests change\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}, {'number': 5, 'created': '2017-06-01 05:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dbf928b142d683555f4a624d4028f6fd211c37c0', 'message': '[WIP]Kubernetes client usage from upstream\n\nChanged:\n- watch draft\n- configuration draft\n- unicode data/type change\n- get\n\nTODO:\n- annotation from client\n- k8sclient file keep or remove\n- tests change\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}, {'number': 6, 'created': '2017-06-13 07:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/51b57e4dbd710166d7af0a4f4dbe40b40915c225', 'message': 'Kubernetes client usage from upstream K8s repo\n\nChanged:\n- Methods: watch, get, annotate\n- unicode data/type change\n- Functions from k8s-client\n- Changes in existing k8sclient file\n- tests changes\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}, {'number': 7, 'created': '2017-06-13 08:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7f96d329dd9dbf0f32df5c2c97d7ed9bb3f15280', 'message': 'Kubernetes client usage from upstream K8s repo\n\nChanged:\n- Methods: watch, get, annotate\n- unicode data/type change\n- Functions from k8s-client\n- Changes in existing k8sclient file\n- tests changes\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}, {'number': 8, 'created': '2017-06-14 09:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dd0953b107140d5d8a05e71704d86412cfcb6e4d', 'message': 'Kubernetes client usage from upstream K8s repo\n\nChanged:\n- Methods: watch, get, annotate\n- unicode data/type change\n- Functions from k8s-client\n- Changes in existing k8sclient file\n- tests changes\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}, {'number': 9, 'created': '2017-06-14 15:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ca57fa4be09d5dca7f1991f21372ab472c1a8a0f', 'message': 'Kubernetes client usage from upstream K8s repo\n\nChanged:\n- Methods: watch, get, annotate\n- unicode data/type change\n- Functions from k8s-client\n- Changes in existing k8sclient file\n- tests changes\n- Restore Bearer Token Support\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}, {'number': 10, 'created': '2017-06-16 09:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5cbc6c5c2e73b616b742af870cba90bff28978be', 'message': 'Kubernetes client usage from upstream K8s repo\n\nChanged:\n- Methods: watch, get, annotate\n- Functions from k8s-client\n- Changes in existing k8sclient file\n- tests changes\n- Restore Bearer Token Support\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}, {'number': 11, 'created': '2017-08-01 10:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/28eaeb145320ffca7599806a71fedf7c87ba86b9', 'message': 'Kubernetes client usage from upstream K8s repo\n\nChanged:\n- Methods: watch, get, annotate\n- Functions from k8s-client\n- Changes in existing k8sclient file\n- tests changes\n- Restore Bearer Token Support\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}, {'number': 12, 'created': '2017-08-01 10:58:53.000000000', 'files': ['kuryr_kubernetes/tests/unit/test_k8s_client.py', 'kuryr_kubernetes/cni/main.py', 'kuryr_kubernetes/controller/service.py', 'kuryr_kubernetes/watcher.py', 'requirements.txt', 'kuryr_kubernetes/tests/unit/handlers/test_k8s_base.py', 'kuryr_kubernetes/handlers/k8s_base.py', 'kuryr_kubernetes/tests/unit/test_watcher.py', 'kuryr_kubernetes/k8s_client.py', 'kuryr_kubernetes/constants.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/245880fe73d99e7dd642f12abb840bd11e40b2cd', 'message': 'Kubernetes client usage from upstream K8s repo\n\nChanged:\n- Methods: watch, get, annotate\n- Functions from k8s-client\n- Changes in existing k8sclient file\n- tests changes\n- Restore Bearer Token Support\n\nChange-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e\nImplements: blueprint client-migration\n'}]",29,454555,245880fe73d99e7dd642f12abb840bd11e40b2cd,56,8,12,14867,,,0,"Kubernetes client usage from upstream K8s repo

Changed:
- Methods: watch, get, annotate
- Functions from k8s-client
- Changes in existing k8sclient file
- tests changes
- Restore Bearer Token Support

Change-Id: Icef421829fec528b16ef2ba54ed30d328f63dc4e
Implements: blueprint client-migration
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/454555/10 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6c6b1d63d961bd2e99358a67fdc5974cd419ddd1,bp/client-migration,kubernetes>=1.0.0b1 # Apache-2.0,,1,0
openstack%2Fkuryr-kubernetes~master~Idf487ece1a910dca824b213583eb283157228a66,openstack/kuryr-kubernetes,master,Idf487ece1a910dca824b213583eb283157228a66,Add SR-IOV documentation,ABANDONED,2017-06-28 09:55:20.000000000,2018-12-07 14:47:15.000000000,,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14867}, {'_account_id': 15168}, {'_account_id': 15967}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 25900}]","[{'number': 1, 'created': '2017-06-28 09:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8e861bc15521f9882c0680059bbcdc3ea46b4beb', 'message': 'Add SR-IOV documentation\n\nDepends-On: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}, {'number': 2, 'created': '2017-06-28 10:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/deaa9f5f76195e80f8dc06261413cd90b64eab69', 'message': 'Add SR-IOV documentation\n\nDepends-On: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}, {'number': 3, 'created': '2017-06-28 10:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2971b44900ffd1f2b5413bd5afaa6d1c0fcd76eb', 'message': 'Add SR-IOV documentation\n\nDepends-On: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}, {'number': 4, 'created': '2017-06-28 11:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/485bde93b2a1a7e08b89d79ce6da847a15b1a79b', 'message': 'Add SR-IOV documentation\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}, {'number': 5, 'created': '2017-09-11 11:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4b4997da63ef6bfe517ff7f2be8b12e251583f96', 'message': 'Add SR-IOV documentation\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}, {'number': 6, 'created': '2017-09-11 12:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/30861f8008ec667821775d7bbc20564201770633', 'message': 'Add SR-IOV documentation\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}, {'number': 7, 'created': '2017-09-19 09:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/45b59f7024d5a39f3a37b8c07a2a123a0aa4f8c5', 'message': 'Add SR-IOV documentation\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}, {'number': 8, 'created': '2017-09-26 13:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a088609f500a9c9f9c0fd935f8bb50c2933f0e44', 'message': 'Add SR-IOV documentation\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}, {'number': 9, 'created': '2017-10-05 09:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f64a821ce3f04b9fbdb26276b8cb470aa04dfaa2', 'message': 'Add SR-IOV documentation\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}, {'number': 10, 'created': '2017-10-05 10:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/95e9a17b9b18d36aa29a61158d5fb7f0dc677a30', 'message': 'Add SR-IOV documentation\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}, {'number': 11, 'created': '2017-10-05 10:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/16c27a719e62e337e45328c8f70e8b87f5df4b7d', 'message': 'Add SR-IOV documentation\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}, {'number': 12, 'created': '2017-10-05 12:58:55.000000000', 'files': ['doc/source/installation/sriov.rst', 'doc/source/installation/index.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9925d3a9c43945077af48f01b83d46f87a2266dd', 'message': 'Add SR-IOV documentation\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: Idf487ece1a910dca824b213583eb283157228a66\n'}]",22,478458,9925d3a9c43945077af48f01b83d46f87a2266dd,39,9,12,15168,,,0,"Add SR-IOV documentation

Targets bp: kuryr-kubernetes-sriov-support

Change-Id: Idf487ece1a910dca824b213583eb283157228a66
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/58/478458/9 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/installation/sriov.rst', 'doc/source/installation/index.rst']",2,8e861bc15521f9882c0680059bbcdc3ea46b4beb,bp/kuryr-kubernetes-sriov-support/needs-refactoring, sriov,,90,0
openstack%2Fkuryr-kubernetes~master~I5761a7fd75fb3bebb8b20698869218b2a47dc510,openstack/kuryr-kubernetes,master,I5761a7fd75fb3bebb8b20698869218b2a47dc510,Allow requesting additional subnets via annotation,ABANDONED,2017-07-11 12:37:20.000000000,2018-12-07 14:47:06.000000000,,"[{'_account_id': 6598}, {'_account_id': 15168}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 25900}]","[{'number': 1, 'created': '2017-07-11 12:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/56b2dbbed1888aa5acbb236252bc63b414ec72e8', 'message': '[DRAFT] Allow requesting additional VIFs via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 2, 'created': '2017-07-11 12:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bf1c30d4d9af32910b1311308c7def05462f5188', 'message': '[DRAFT] Allow requesting additional VIFs via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 3, 'created': '2017-07-12 17:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1c7d7247532cbcfe2e3f97b3282300484611fe0d', 'message': '[DRAFT] Allow requesting additional VIFs via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 4, 'created': '2017-07-13 14:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ee50c86fcb6ff354a8df58a51e82dff15443988c', 'message': '[DRAFT] Allow requesting additional VIFs via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 5, 'created': '2017-07-19 10:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/eee9f9b55693c645a3321b74ad0ef30b05fcc4d1', 'message': 'Allow requesting additional subnets via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 6, 'created': '2017-07-19 11:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/02829ee259bd7fc0e010c904e398932853a930eb', 'message': 'Allow requesting additional subnets via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 7, 'created': '2017-09-11 11:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1233ed29a5425dfce9661cbba2201dafc65e63c6', 'message': 'Allow requesting additional subnets via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 8, 'created': '2017-09-11 12:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2f3c3a7789714b0309e6a7d9ea19a9f52c13e031', 'message': 'Allow requesting additional subnets via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 9, 'created': '2017-09-19 09:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b64419390674f70cf84d7161a89b75c1d3c691ff', 'message': 'Allow requesting additional subnets via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 10, 'created': '2017-09-26 13:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bd7f72e4076b7d9b01256e189d3b99f17260b323', 'message': 'Allow requesting additional subnets via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 11, 'created': '2017-10-05 09:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0c27f4d62ee6a8940e80255e9d4336e937f19fbb', 'message': 'Allow requesting additional subnets via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 12, 'created': '2017-10-05 10:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dbfa986de8d131346a69c1e80c5a0e6e760ba578', 'message': 'Allow requesting additional subnets via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}, {'number': 13, 'created': '2017-10-05 12:58:55.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/os_vif_util.py', 'kuryr_kubernetes/constants.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e40e14adbb506d07fff3ea1512aefaf4ec9f3a67', 'message': 'Allow requesting additional subnets via annotation\n\nThis commit enables vif-handler to request VIFs from multiple networks.\nThis is currently done via Pod annotation, that contains subnet ids.\n\nTargets bp: multi-vif-pods\nChange-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510\n'}]",9,482544,e40e14adbb506d07fff3ea1512aefaf4ec9f3a67,43,5,13,15168,,,0,"Allow requesting additional subnets via annotation

This commit enables vif-handler to request VIFs from multiple networks.
This is currently done via Pod annotation, that contains subnet ids.

Targets bp: multi-vif-pods
Change-Id: I5761a7fd75fb3bebb8b20698869218b2a47dc510
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/44/482544/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/controller/drivers/default_subnet.py', 'kuryr_kubernetes/constants.py']",4,56b2dbbed1888aa5acbb236252bc63b414ec72e8,bp/kuryr-kubernetes-sriov-support/needs-refactoring,K8S_ANNOTATION_ADDITIONAL_SUBNETS = (K8S_ANNOTATION_PREFIX + '-additional-subnets')IFNAME_PREFIX = 'eth' DEFAULT_IFNAME = IFNAME_PREFIX + '0',DEFAULT_IFNAME = 'eth0',41,2
openstack%2Fkuryr-kubernetes~master~I641a45364c70add55ab47c219dfa8b978bb1c8bd,openstack/kuryr-kubernetes,master,I641a45364c70add55ab47c219dfa8b978bb1c8bd,Add SR-IOV binding driver to CNI,ABANDONED,2017-05-04 09:32:17.000000000,2018-12-07 14:46:57.000000000,,"[{'_account_id': 6598}, {'_account_id': 11536}, {'_account_id': 14570}, {'_account_id': 14885}, {'_account_id': 15168}, {'_account_id': 15967}, {'_account_id': 21273}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 25026}, {'_account_id': 25900}]","[{'number': 1, 'created': '2017-05-04 09:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2fbbf7906f228acaca6eec4a4f10fb00ba2e4584', 'message': ""[WIP] Add kuryr-sriov-cni\n\nThe CNI acts similar to kuryr-cni, except that it handles multiple VFs\nat once. A new config parameter, similar to neutron-sriov-nic-agent is\nintroduced, to help manage PFs and physnets.\nTODO:\n* tests\n* lock protection of VFs (investigate if it's required)\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\n""}, {'number': 2, 'created': '2017-05-17 16:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/34e5f61f281a7b9a56242282d17a88ccb9017252', 'message': '[WIP] Add kuryr-sriov-cni\n\nThe CNI acts similar to kuryr-cni, except that it handles multiple VFs\nat once. A new config parameter, similar to neutron-sriov-nic-agent is\nintroduced, to help manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n'}, {'number': 3, 'created': '2017-05-17 21:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7f0b284def6f1acf7643cb6f7a24802450441f87', 'message': '[WIP] Add kuryr-sriov-cni\n\nThe CNI acts similar to kuryr-cni, except that it handles multiple VFs\nat once. A new config parameter, similar to neutron-sriov-nic-agent is\nintroduced, to help manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n'}, {'number': 4, 'created': '2017-05-18 07:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d130649ed0bf6e1c986676ad95fd591b9fa2831e', 'message': '[WIP] Add kuryr-sriov-cni\n\nThe CNI acts similar to kuryr-cni, except that it handles multiple VFs\nat once. A new config parameter, similar to neutron-sriov-nic-agent is\nintroduced, to help manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n'}, {'number': 5, 'created': '2017-05-18 12:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7a24fdafcf762cab384f3d1d84bda5f104ecf4d0', 'message': '[WIP] Add kuryr-sriov-cni\n\nThe CNI acts similar to kuryr-cni, except that it handles multiple VFs\nat once. A new config parameter, similar to neutron-sriov-nic-agent is\nintroduced, to help manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n'}, {'number': 6, 'created': '2017-06-02 15:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f455f683cd8ec58d939dca52bd2e668d005853b1', 'message': ""[WIP] Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nThis commit also alters the way CNI works with kuryr-k8s's annotation.\nIt now expects a dict, that maps interface names to VIF objects,\ninstead of handling a single VIF.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n""}, {'number': 7, 'created': '2017-06-05 12:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2520fb033f5628497125cee4a93891e6be48688a', 'message': ""[WIP] Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nThis commit also alters the way CNI works with kuryr-k8s's annotation.\nIt now expects a dict, that maps interface names to VIF objects,\ninstead of handling a single VIF.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n""}, {'number': 8, 'created': '2017-06-05 13:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/51a0bddf68c236c5463b3079b55b7dc8adee79a3', 'message': ""[WIP] Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nThis commit also alters the way CNI works with kuryr-k8s's annotation.\nIt now expects a dict, that maps interface names to VIF objects,\ninstead of handling a single VIF.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n""}, {'number': 9, 'created': '2017-06-05 14:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a4b8883830e0e271e05058d14630ef549f70ba4f', 'message': ""[WIP] Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nThis commit also alters the way CNI works with kuryr-k8s's annotation.\nIt now expects a dict, that maps interface names to VIF objects,\ninstead of handling a single VIF.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n""}, {'number': 10, 'created': '2017-06-05 15:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9034a57cb522c5255d157f05f8e54efb2eb9f675', 'message': '[WIP] Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n'}, {'number': 11, 'created': '2017-06-05 15:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9f89e6b0f44eb53adf04c53ae94879f1364fefd1', 'message': '[WIP] Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n'}, {'number': 12, 'created': '2017-06-07 11:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e097e7ab955dfdca3fae88d796b2449db6969e39', 'message': '[WIP] Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n'}, {'number': 13, 'created': '2017-06-07 12:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/09c42b1760b7694318c892aa7bac1c4e52a7c571', 'message': '[WIP] Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n'}, {'number': 14, 'created': '2017-06-08 13:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6d2ea99213e5480a811bba42860ed8bde59afb14', 'message': '[WIP] Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n'}, {'number': 15, 'created': '2017-06-13 09:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/50c52a1af51fb88470b363c35dde1d27c5c2fb91', 'message': '[WIP] Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n'}, {'number': 16, 'created': '2017-06-13 09:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c7dd4af88b80efab1e5fc016d5411b56f8d53efc', 'message': 'Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 17, 'created': '2017-06-14 16:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9973a34c05a8ac82a97fc1143862de4dc86d20aa', 'message': 'Add SRIOV binding driver to CNI\n\nThis commit includes a binding driver for SRIOV interfaces. The driver\nscans VFs of a PF for each SRIOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 18, 'created': '2017-06-28 10:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4ca7cfe9a875f22ae0ef65ad3e76428b81db8b45', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 19, 'created': '2017-06-28 10:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d8d913afa0b7e9e56a3024b564fd4a45a33428f8', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 20, 'created': '2017-07-12 16:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/68d6d208291a30ea8bf3b6fde63a98f9b0957bd7', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 21, 'created': '2017-07-13 09:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4d9d791c6640a374a9dc856499c15fac98a704c4', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 22, 'created': '2017-07-13 14:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7ccc77a7f8e88b70ddbeedb7bc3dba096319e8ec', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 23, 'created': '2017-07-18 13:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/34db9565747b7837bacc49be67e563e8faf40226', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 24, 'created': '2017-09-11 11:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5f77473c15de7c1c911d81158dd196006fb840fb', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 25, 'created': '2017-09-11 12:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bf2c96b51b28d500c5e97f1ae4a202dcc9f9111b', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 26, 'created': '2017-09-19 09:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/55525395c6b043c94f1d786350cabb464dfedec1', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 27, 'created': '2017-09-26 13:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/53556ce7167cf33dc38a13a891079130683d17ff', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 28, 'created': '2017-10-05 09:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5b120e22304a85e60f150db53d72e175eb1835b0', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 29, 'created': '2017-10-05 10:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/58998efd87c2a00f8bd852e841552dfc7c46251f', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}, {'number': 30, 'created': '2017-10-05 12:58:55.000000000', 'files': ['kuryr_kubernetes/cni/binding/sriov.py', 'kuryr_kubernetes/config.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ef87c863914cb14fbb6ede00a706b2065149b67c', 'message': 'Add SR-IOV binding driver to CNI\n\nThis commit includes a binding driver for SR-IOV interfaces. The driver\nscans VFs of a PF for each SR-IOV interface requested and assignes them\nto the Pod.\n\nThis commit adds new config parameter `physical_device_mappings`.\nIt is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.\n\nChange-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd\nTargets bp: kuryr-kubernetes-sriov-support\n'}]",6,462456,ef87c863914cb14fbb6ede00a706b2065149b67c,83,12,30,15168,,,0,"Add SR-IOV binding driver to CNI

This commit includes a binding driver for SR-IOV interfaces. The driver
scans VFs of a PF for each SR-IOV interface requested and assignes them
to the Pod.

This commit adds new config parameter `physical_device_mappings`.
It is similar to neutron-sriov-nic-agent and helps manage PFs and physnets.

Change-Id: I641a45364c70add55ab47c219dfa8b978bb1c8bd
Targets bp: kuryr-kubernetes-sriov-support
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/56/462456/19 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/cni/main.py', 'kuryr_kubernetes/cni/sriov.py', 'kuryr_kubernetes/os_vif_plug_noop.py', 'kuryr_kubernetes/cni/sriov_handlers.py', 'kuryr_kubernetes/cni/binding/sriov.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/cni/api.py', 'kuryr_kubernetes/cni/binding/base.py', 'setup.cfg']",9,2fbbf7906f228acaca6eec4a4f10fb00ba2e4584,bp/kuryr-kubernetes-sriov-support/needs-refactoring, direct = kuryr_kubernetes.os_vif_plug_noop:DirectPlugin,,354,8
openstack%2Fkuryr-kubernetes~master~Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc,openstack/kuryr-kubernetes,master,Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc,Add SR-IOV capabilities to VIF handler,ABANDONED,2017-05-04 09:32:17.000000000,2018-12-07 14:46:52.000000000,,"[{'_account_id': 6598}, {'_account_id': 14570}, {'_account_id': 14885}, {'_account_id': 15168}, {'_account_id': 21273}, {'_account_id': 22348}, {'_account_id': 24604}, {'_account_id': 25900}]","[{'number': 1, 'created': '2017-05-04 09:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/89d55ce461fa6609c5d2a7baa16627e1385b0e25', 'message': ""Add sriov handler to kuryr-kubernetes\n\nThe handler subscribes to Pod events of k8s-api. It reads pods requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod. It then annotates\nPod object with requested VIF information.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTODO: tests\n""}, {'number': 2, 'created': '2017-05-17 16:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/18ded1be5f8b03d41474af0d5c96920f90777a11', 'message': ""[WIP] Add sriov handler to kuryr-kubernetes\n\nThe handler subscribes to Pod events of k8s-api. It reads pods requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod. It then annotates\nPod object with requested VIF information.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, docstrings, documentation\n""}, {'number': 3, 'created': '2017-05-17 21:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8aa85199bad16bb34e82c3aee02565a64c537dbd', 'message': ""[WIP] Add sriov handler to kuryr-kubernetes\n\nThe handler subscribes to Pod events of k8s-api. It reads pods requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod. It then annotates\nPod object with requested VIF information.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, docstrings, documentation\n""}, {'number': 4, 'created': '2017-06-02 14:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ee6856b9f70fa1029e3c9528a5a13a39b0cdd7a4', 'message': ""[WIP] Add sriov capabilities to VIF handler\n\nThis commit adds SRIOV driver and VIF to handle SRIOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod. It then annotates\nPod object with requested VIF information.\n\nThis commit also introduces changes to annotation format. Instead of a\nsingle VIF the annotation now holds a dict, mapping interface names to\nVIF objects. This allows passing information about multiple VIFs to the\nCNI\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation, factor out multi-vif\n""}, {'number': 5, 'created': '2017-06-05 15:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fea2c1f7d3f3102292465eb3d0ce813780bdaa3c', 'message': ""[WIP] Add sriov capabilities to VIF handler\n\nThis commit adds SRIOV driver and VIF to handle SRIOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod. It then annotates\nPod object with requested VIF information.\n\nThis commit also introduces changes to annotation format. Instead of a\nsingle VIF the annotation now holds a dict, mapping interface names to\nVIF objects. This allows passing information about multiple VIFs to the\nCNI\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n""}, {'number': 6, 'created': '2017-06-05 15:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d33dff22680004bfd1753d3a0609ddadd2613d74', 'message': ""[WIP] Add sriov capabilities to VIF handler\n\nThis commit adds SRIOV driver and VIF to handle SRIOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n""}, {'number': 7, 'created': '2017-06-05 16:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dea548cf5b4f3de470e01a53efa908e1d2590884', 'message': ""[WIP] Add sriov capabilities to VIF handler\n\nThis commit adds SRIOV driver and VIF to handle SRIOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n""}, {'number': 8, 'created': '2017-06-06 09:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bf80bbc354042585672fd92a65a110d893272881', 'message': ""[WIP] Add sriov capabilities to VIF handler\n\nThis commit adds SRIOV driver and VIF to handle SRIOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n""}, {'number': 9, 'created': '2017-06-07 11:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/25ff22dbfe09fc05605e99ec073acaae45995a43', 'message': ""[WIP] Add SRIOV capabilities to VIF handler\n\nThis commit adds SRIOV driver and VIF to handle SRIOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n""}, {'number': 10, 'created': '2017-06-07 12:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9bb8943d565a42e8062bac900755a98bf3ee5f94', 'message': ""[WIP] Add SRIOV capabilities to VIF handler\n\nThis commit adds SRIOV driver and VIF to handle SRIOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n""}, {'number': 11, 'created': '2017-06-08 13:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/74d677dd536a47bc0a254ba3b33323ccfd1583db', 'message': ""[WIP] Add SRIOV capabilities to VIF handler\n\nThis commit adds SRIOV driver and VIF to handle SRIOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\nTODO: tests, documentation\n""}, {'number': 12, 'created': '2017-06-13 09:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a195136de2206e90d3b990e809811fa2305f1dbc', 'message': ""Add SRIOV capabilities to VIF handler\n\nThis commit adds SRIOV driver and VIF to handle SRIOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 13, 'created': '2017-06-14 16:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0feefa57b84b695227ea61acfc01dc6a68305e2d', 'message': ""Add SRIOV capabilities to VIF handler\n\nThis commit adds SRIOV driver and VIF to handle SRIOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 14, 'created': '2017-06-28 10:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8948980f376fe03ecc6066d2a1b6a11a30e64169', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 15, 'created': '2017-06-28 10:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/395a7982606f26eed939a1f8d16998dc6a04f6f0', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 16, 'created': '2017-07-12 16:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2eb00aea3e4471b421829f8985a8abe4987e40ad', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 17, 'created': '2017-07-13 09:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a3c0d7a1fd949a6e3972d663f13dc66ff3813c0c', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 18, 'created': '2017-07-13 14:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/80d5f28ea23888e57f893dc4d151b228f7297198', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 19, 'created': '2017-09-11 11:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/78dc683146927eeee02bb99fd46e48ca12ae21f7', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 20, 'created': '2017-09-11 12:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3b85211344e44d2ada89eac6388fc0f0cbff8a76', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 21, 'created': '2017-09-19 09:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4a766ac8fc707f38d297d84ef9d270cb05416dbe', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 22, 'created': '2017-09-26 13:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/630f3ad38d168521512008aca7ae277fb5447423', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 23, 'created': '2017-10-05 09:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6582fc346f73b975830dc44f71f60c30b68fb38d', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 24, 'created': '2017-10-05 10:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/47a733e1ccf7c843a46df8ad3231d7752a196427', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}, {'number': 25, 'created': '2017-10-05 12:58:55.000000000', 'files': ['kuryr_kubernetes/os_vif_plug_noop.py', 'kuryr_kubernetes/controller/drivers/default_subnet.py', 'kuryr_kubernetes/objects/vif.py', 'kuryr_kubernetes/os_vif_util.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/controller/drivers/sriov.py', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_default_subnet.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/opts.py', 'kuryr_kubernetes/config.py', 'setup.cfg', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f294dd2c63ddb0f8cff8bd50a34067aa16b686e5', 'message': ""Add SR-IOV capabilities to VIF handler\n\nThis commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.\nThe driver reads Pod's requests\nfor opaque-int-resource-sriov-vf-physnetN and allocates requested number\nof 'direct' ports on respective subnet for the Pod.\n\nThis commit also adds 'default_physnet_subnets' setting, that should\ninclude a mapping of physnets to neutron subnet IDs. The setting is used\nto specify subnets we will use to request ports.\n\nChange-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc\nTargets bp: kuryr-kubernetes-sriov-support\n""}]",26,462455,f294dd2c63ddb0f8cff8bd50a34067aa16b686e5,72,8,25,15168,,,0,"Add SR-IOV capabilities to VIF handler

This commit adds SR-IOV driver and VIF to handle SR-IOV requests of a Pod.
The driver reads Pod's requests
for opaque-int-resource-sriov-vf-physnetN and allocates requested number
of 'direct' ports on respective subnet for the Pod.

This commit also adds 'default_physnet_subnets' setting, that should
include a mapping of physnets to neutron subnet IDs. The setting is used
to specify subnets we will use to request ports.

Change-Id: Ibfb2820faa486a1faaa6a2e3f78efbf64624a1cc
Targets bp: kuryr-kubernetes-sriov-support
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/462455/9 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/os_vif_util.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/controller/handlers/sriov_vif.py', 'setup.cfg', 'kuryr_kubernetes/controller/drivers/sriov.py', 'kuryr_kubernetes/constants.py']",6,89d55ce461fa6609c5d2a7baa16627e1385b0e25,bp/kuryr-kubernetes-sriov-support/needs-refactoring,"K8S_ANNOTATION_SRIOV_VIFS = K8S_ANNOTATION_PREFIX + '-sriov-vifs' # pod.alpha.kubernetes.io/opaque-int-resource-sriov-vf-physnetN K8S_OIR_PREFIX = ""pod.alpha.kubernetes.io/opaque-int-resource"" K8S_OIR_SRIOV_PREFIX = K8S_OIR_PREFIX + ""-sriov-vf-"" ",,329,0
openstack%2Fkuryr-kubernetes~master~I733199fcbf9298d4183e419538ac17f206797cde,openstack/kuryr-kubernetes,master,I733199fcbf9298d4183e419538ac17f206797cde,[WIP] Allow setting specific ports for SRIOV handler,ABANDONED,2017-06-28 12:13:11.000000000,2018-12-07 14:46:02.000000000,,"[{'_account_id': 6598}, {'_account_id': 14570}, {'_account_id': 15168}, {'_account_id': 22348}, {'_account_id': 24604}, {'_account_id': 25900}]","[{'number': 1, 'created': '2017-06-28 12:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8ab6ba2dd5c6bd8a611db773950c59c7c72bb4c7', 'message': 'Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get speciffic ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 2, 'created': '2017-06-29 11:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3a79739b1464040b400fa487efe596bc2853c746', 'message': 'Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get speciffic ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 3, 'created': '2017-06-29 11:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/202d8303924bb0f05665dde79ae97e9b1f72f9c5', 'message': 'Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get speciffic ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 4, 'created': '2017-06-30 10:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/55ea48178c37e8619f246f33928264df09edfa53', 'message': 'Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get speciffic ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 5, 'created': '2017-06-30 12:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/76ed6259158021af64297e1bd613775bfebfa8c9', 'message': 'Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get speciffic ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 6, 'created': '2017-07-03 09:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ff56ce488776cf23322330e4830f57705fc024a4', 'message': 'Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get speciffic ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 7, 'created': '2017-07-03 09:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0bdbb2fe3be856abd655747e8504f7e40b4ef6b9', 'message': 'Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get speciffic ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 8, 'created': '2017-07-05 15:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/455d7407e9cf6fdd6f6a353b3eb62340bda4100f', 'message': ""[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get speciffic ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\n[TODO]\n - Add 'device_owner' and 'device_id' to neutron\n   'non-direct' ports.\n - Fix warning 'Device <port_id> not defined\n   on plugin or binding failed'\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n""}, {'number': 9, 'created': '2017-07-14 15:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/42693fe64b5ef01379f74cc9d2d2776d5bcb8d31', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\n[TODO]\n - Fix unit texts and add new ones\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 10, 'created': '2017-07-17 14:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4a29092c3825ca9bdcaf9f0005004f0e576a6151', 'message': 'Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 11, 'created': '2017-07-17 14:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/caf7551577fbf9b22d06392c0e15d12c7b510074', 'message': 'Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 12, 'created': '2017-07-17 15:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/23bc24fd629b32c7068ff9fc560662ab403df3cf', 'message': 'Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 13, 'created': '2017-07-31 10:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ad17796c317d84136a858bf8820d4c1d9437627f', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 14, 'created': '2017-09-01 11:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9c5a4c4204654d7edb9f301094c409fb8c26fe4e', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 15, 'created': '2017-09-06 13:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e32c9181f5d37b2f2f18d5629889cc793442e030', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 16, 'created': '2017-09-11 11:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f49a119ce180bebe9d2ba8daf89304ed1f04e6af', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 17, 'created': '2017-09-11 12:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3d0c003fef9ea7ef9ecdad1a371daba4e588878b', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 18, 'created': '2017-09-19 09:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/004aae9e38d2229d40a8014e222cf071e7b56000', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 19, 'created': '2017-09-26 13:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2dba0887c21dddfe025e13be099eb0bd02339b72', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 20, 'created': '2017-10-05 09:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d78b19b415134add9fdc0da460f9f6da51b47f9d', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 21, 'created': '2017-10-05 10:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9615ea9ffe787a319f8244c653301f9671422588', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 22, 'created': '2017-10-05 10:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0417e7b4ff417fc15fc88c31863fcf257cd1dd53', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}, {'number': 23, 'created': '2017-10-05 12:58:55.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_sriov.py', 'kuryr_kubernetes/controller/drivers/sriov.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c77f84378bf5016dda01206e774e55c5f3f8e45d', 'message': '[WIP] Allow setting specific ports for SRIOV handler\n\nAdded possibility for SRIOV handler to parse pod annotations and\nto get specific ports. If it is not specified then adresses are\nrequested from Neutron in specified subnet commonly. The total\namount of requested ports is equal to amount of requested\nSRIOV VFs. Specific ports specified in pod annotations are not\ndeleted after deployment deleting.\n\nTargets bp: kuryr-kubernetes-sriov-support\n\nChange-Id: I733199fcbf9298d4183e419538ac17f206797cde\n'}]",11,478494,c77f84378bf5016dda01206e774e55c5f3f8e45d,55,6,23,24604,,,0,"[WIP] Allow setting specific ports for SRIOV handler

Added possibility for SRIOV handler to parse pod annotations and
to get specific ports. If it is not specified then adresses are
requested from Neutron in specified subnet commonly. The total
amount of requested ports is equal to amount of requested
SRIOV VFs. Specific ports specified in pod annotations are not
deleted after deployment deleting.

Targets bp: kuryr-kubernetes-sriov-support

Change-Id: I733199fcbf9298d4183e419538ac17f206797cde
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/94/478494/22 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_sriov.py', 'kuryr_kubernetes/controller/drivers/sriov.py']",4,8ab6ba2dd5c6bd8a611db773950c59c7c72bb4c7,bp/kuryr-kubernetes-sriov-support/needs-refactoring,"from oslo_serialization import jsonutils specific_ports = self._get_specific_ports(pod) LOG.debug(""Specific ports {} for pod {}"".format(specific_ports, pod)) spec_ports_by_pnets = self._get_spec_ports_pnets(specific_ports, neutron) LOG.debug(""Specific ports by physnets {}"".format(spec_ports_by_pnets)) pnet_spec_ports = spec_ports_by_pnets.get(physnet, []) num_spec_ports = min(amount, len(pnet_spec_ports)) vif_plugin = 'sriov' for i in range(num_spec_ports): spec_port = pnet_spec_ports[i] port = neutron.show_port(spec_port).get('port') vif = ovu.neutron_to_osvif_vif(vif_plugin, port, subnets) vif.physnet = physnet vifs.append(vif) LOG.debug(""Retrived vifs with specific ports {}"".format(vifs)) num_retrived_spec_vifs = len(vifs) for _ in range(amount - num_retrived_spec_vifs): LOG.debug(""All retrived vifs for physnet {}: {}"".format(physnet, vifs)) def _get_specific_ports(self, pod): ''' Function retunts list of ports not to be deleted in current pod ''' ports = [] try: annotations = pod['metadata']['annotations'] except KeyError: return ports for annot_name, annot_value in annotations.items(): if annot_name == 'spec-ports': ports += jsonutils.loads(annot_value) return ports def _get_spec_ports_pnets(self, spec_port_ids, client): ''' Function retunts dict in format {physnet_name:[ports], ...} ''' phys_ports = {} for port_id in spec_port_ids: port = client.show_port(port_id).get('port') network_id = port['network_id'] network = client.show_network(network_id).get('network') physnet_id = network['provider:physical_network'] if phys_ports.get(physnet_id): phys_ports[physnet_id].append(port_id) else: phys_ports[physnet_id] = [port_id] return phys_ports", for _ in range(amount):,146,4
openstack%2Fkuryr-kubernetes~master~Ifd873c775c4462f82d49dd3bff3ef3d0d459ccf2,openstack/kuryr-kubernetes,master,Ifd873c775c4462f82d49dd3bff3ef3d0d459ccf2,Use openstack client CLI instead of neutron lbaas,ABANDONED,2017-12-05 15:06:33.000000000,2018-12-07 14:45:32.000000000,,"[{'_account_id': 6579}, {'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 26131}]","[{'number': 1, 'created': '2017-12-05 15:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ebbf87a35831c359fda146c86b00f26acbce0213', 'message': ""Use openstack client CLI instead of neutron lbaas\n\nUse 'openstack loadbalancer ...' API instead of 'neutron lbaas-...' api\nsince the latter is deprecated. The latter also doesn't work with an\noctavia-only deployment (without lbaas).\n\nChange-Id: Ifd873c775c4462f82d49dd3bff3ef3d0d459ccf2\n""}, {'number': 2, 'created': '2017-12-07 11:57:01.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b1ea8f0c71ac767bb4c8d6088cc159c4e88991c7', 'message': ""Use openstack client CLI instead of neutron lbaas\n\nUse 'openstack loadbalancer ...' API instead of 'neutron lbaas-...' api\nsince the latter is deprecated. The latter also doesn't work with an\noctavia-only deployment (without lbaas).\n\nPartial-Bug: #1736677\nChange-Id: Ifd873c775c4462f82d49dd3bff3ef3d0d459ccf2\n""}]",2,525644,b1ea8f0c71ac767bb4c8d6088cc159c4e88991c7,9,5,2,20229,,,0,"Use openstack client CLI instead of neutron lbaas

Use 'openstack loadbalancer ...' API instead of 'neutron lbaas-...' api
since the latter is deprecated. The latter also doesn't work with an
octavia-only deployment (without lbaas).

Partial-Bug: #1736677
Change-Id: Ifd873c775c4462f82d49dd3bff3ef3d0d459ccf2
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/44/525644/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,ebbf87a35831c359fda146c86b00f26acbce0213,openstack-client," openstack loadbalancer show ""$1"" | awk '/provisioning_status/ {print $4}' openstack loadbalancer create --name ""$lb_name"" \ --vip-subnet-id ""$KURYR_NEUTRON_DEFAULT_SERVICE_SUBNET"" openstack loadbalancer listener create \ --protocol-port 443 \ ""$lb_name"" openstack loadbalancer pool create \ openstack loadbalancer member create --subnet-id public-subnet \ openstack loadbalancer member create --subnet-id public-subnet \"," neutron lbaas-loadbalancer-show ""$1"" | awk '/provisioning_status/ {print $4}' neutron lbaas-loadbalancer-create --name ""$lb_name"" \ ""$KURYR_NEUTRON_DEFAULT_SERVICE_SUBNET"" neutron lbaas-listener-create --loadbalancer ""$lb_name"" \ --protocol-port 443 neutron lbaas-pool-create --loadbalancer ""$lb_name"" \ neutron lbaas-member-create --subnet public-subnet \ neutron lbaas-member-create --subnet public-subnet \",9,8
openstack%2Fkuryr-kubernetes~master~I835b314a38c9862edb1c1efd6626cd051c1643bc,openstack/kuryr-kubernetes,master,I835b314a38c9862edb1c1efd6626cd051c1643bc,Add placeholder for rally gate,ABANDONED,2017-12-04 09:04:39.000000000,2018-12-07 14:45:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2017-12-04 09:04:39.000000000', 'files': ['rally-jobs/.placeholder'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/316b795104617e24d034ebe4635e884c96be9bfd', 'message': 'Add placeholder for rally gate\n\nThis commit adds a placeholder for the upcoming rally gate and plugin\nfor kuryr-kubernetes.\n\nChange-Id: I835b314a38c9862edb1c1efd6626cd051c1643bc\n'}]",0,525099,316b795104617e24d034ebe4635e884c96be9bfd,3,1,1,14885,,,0,"Add placeholder for rally gate

This commit adds a placeholder for the upcoming rally gate and plugin
for kuryr-kubernetes.

Change-Id: I835b314a38c9862edb1c1efd6626cd051c1643bc
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/99/525099/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/.placeholder'],1,316b795104617e24d034ebe4635e884c96be9bfd,rally_plugin,,,0,0
openstack%2Fkuryr-kubernetes~master~I72dd077d5591516a0740df2f508c188982a7b19c,openstack/kuryr-kubernetes,master,I72dd077d5591516a0740df2f508c188982a7b19c,k8s_client: use requests session pooling,ABANDONED,2017-09-29 11:06:37.000000000,2018-12-07 14:44:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}]","[{'number': 1, 'created': '2017-09-29 11:06:37.000000000', 'files': ['kuryr_kubernetes/k8s_client.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c198870f3ac98ca5a14e6beabf2b9e4353edb3ab', 'message': 'k8s_client: use requests session pooling\n\nChange-Id: I72dd077d5591516a0740df2f508c188982a7b19c\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}]",1,508488,c198870f3ac98ca5a14e6beabf2b9e4353edb3ab,6,3,1,14352,,,0,"k8s_client: use requests session pooling

Change-Id: I72dd077d5591516a0740df2f508c188982a7b19c
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/88/508488/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/k8s_client.py'],1,c198870f3ac98ca5a14e6beabf2b9e4353edb3ab,requests_session," adapter = requests.adapters.HTTPAdapter(pool_maxsize=1000, pool_connections=100, pool_block=True) self.req_session = requests.Session() self.req_session.mount(base_url[:base_url.index(':') + 3], adapter) response = self.req_session.get(url, cert=self.cert, verify=self.verify_server, headers=header) response = self.req_session.patch(url, data=data, headers=header, cert=self.cert, verify=self.verify_server) self.req_session.get(url, params=params, stream=True, cert=self.cert, verify=self.verify_server, headers=header)) as response:"," response = requests.get(url, cert=self.cert, verify=self.verify_server, headers=header) response = requests.patch(url, data=data, headers=header, cert=self.cert, verify=self.verify_server) requests.get(url, params=params, stream=True, cert=self.cert, verify=self.verify_server, headers=header)) as response:",15,9
openstack%2Fkuryr-kubernetes~master~I51ef261f63f5d0122af8a705c319d0e2121a5ceb,openstack/kuryr-kubernetes,master,I51ef261f63f5d0122af8a705c319d0e2121a5ceb,[DRAFT] devref: binding drivers,ABANDONED,2016-12-15 05:42:40.000000000,2018-12-07 14:43:58.000000000,,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 21273}]","[{'number': 1, 'created': '2016-12-15 05:42:40.000000000', 'files': ['doc/source/devref/howto_binding_drivers.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b0b792bd82e17df05bd9e62743787494a3c3c663', 'message': '[DRAFT] devref: binding drivers\n\nChange-Id: I51ef261f63f5d0122af8a705c319d0e2121a5ceb\n'}]",0,411116,b0b792bd82e17df05bd9e62743787494a3c3c663,5,3,1,21273,,,0,"[DRAFT] devref: binding drivers

Change-Id: I51ef261f63f5d0122af8a705c319d0e2121a5ceb
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/16/411116/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/howto_binding_drivers.rst'],1,b0b792bd82e17df05bd9e62743787494a3c3c663,,"How to add a new binding driver to Kuryr-Kubernetes =================================================== TODO: summary/description/etc. this is a DEEP WIP DRAFT Components ---------- 1. `PodVIFDriver <https://github.com/openstack/kuryr-kubernetes/blob/master/kuryr_kubernetes/controller/drivers/base.py>`_ - responsible for creating Neutron resource - translates port dict returned from Neutron into os-vif VIF object - basic implementation provided by `GenericPodVIFDriver <https://github.com/openstack/kuryr-kubernetes/blob/master/kuryr_kubernetes/controller/drivers/generic_vif.py>`_: - creates 'normal' Neutron port (i.e. like neutron port-create) that is bound to Pod's node - uses 'binding:vif_type' of the created port (i.e. returned by Neutron) to determine port->VIF translation plugin - see `VIF_TYPE_* constants <https://github.com/openstack/nova/blob/master/nova/network/model.py>`_ for possible values of 'binding:vif_type' - override '_get_vif_plugin' in subclass to change that behaviour - relies on `'kuryr_kubernetes.vif_translators' stevedore drivers <https://github.com/openstack/kuryr-kubernetes/blob/master/setup.cfg>`_ for translating port -> VIF - GenericPodVIFDriver would probably not fit trunk ports (as it might be necessary to create both trunk and sub-port in the same 'request_vif'), so e.g. NestedPodVIFDriver should be implemented from scratch 2. port -> VIF translators - accepts Neutron port dict returned by neutron-client and translates it into os-vif VIF object. the returned object must be valid for use with `'os_vif.plug'/'os_vif.unplug' <https://github.com/openstack/os-vif>`_ - entry point is `neutron_to_osvif_vif <https://github.com/openstack/kuryr-kubernetes/blob/master/kuryr_kubernetes/os_vif_util.py>`_ - 'vif_plugin' argument is specific to Kuryr-Kubernetes and maps to `'kuryr_kubernetes.vif_translators' stevedore drivers <https://github.com/openstack/kuryr-kubernetes/blob/master/setup.cfg>`_ - for 'normal' 'ovs' (and 'linuxbridge') it has the same value as related os-vif VIFBase.plugin - OVS case implemented in 'neutron_to_osvif_vif_ovs' - only 'hybrid-plug' now, but has 'NotImplementedError' stub for 'ovs-native' - for 'ovs-native' take a look at `_nova_to_osvif_vif_ovs <https://github.com/openstack/nova/blob/master/nova/network/os_vif_util.py>`_ - for other cases new function has to be implemented and registered in 'kuryr_kubernetes.vif_translators' driver namespace 3. VIF type - is stored in Pod annotation - is a subclass of `VIFBase <https://github.com/openstack/os-vif/blob/master/os_vif/objects/vif.py>`_ - used by `'os_vif.plug'/'os_vif.unplug' <https://github.com/openstack/os-vif>`_ - if there is no VIF type in os-vif that matches your needs, you need to create new VIF type (derive from `VIFBase <https://github.com/openstack/os-vif/blob/master/os_vif/objects/vif.py>`_) - class name is used as driver name for 'kuryr_kubernetes.cni.binding' 4. os-vif plugin - mostly needed for 'ovs-hybrid' case because doing that ourselves is a pain - does very little outside of 'ovs-hybrid' case - most likely we'll only need to implement NOOPPlugin (that will do nothing) for Kuryr 5. VIF binding - (subject to change) - currently implemented as `'connect'/'disconnect' <https://github.com/openstack/kuryr-kubernetes/blob/master/kuryr_kubernetes/cni/binding/base.py>`_ - calls 'os_vif.plug'/'os_vif.unplug' (note: those are NOT plugging, but PREPARING for plugging) - VIF object MUST be supported by 'os_vif' plugin. currently 'os_vif' only supports ""ovs"" and ""linuxbridge"" - see `[entry_points] in os-vif <https://github.com/openstack/os-vif/blob/master/setup.cfg>`_ - calls `BindingDriver (e.g. BridgeDriver <https://github.com/openstack/kuryr-kubernetes/blob/master/kuryr_kubernetes/cni/binding/bridge.py>)`_ to create physical device inside container's namespace - for (Linux)BridgeDriver it creates veth inside container (same as CNI) moves one end to host's root netns and connects it to the bridge - for OVSBridgeDriver it should be same as existing BridgeDriver, but connecting to the OVS bridge should be done with appropriate lib/commands - since Veth creation is the same for BridgeDriver and OVSBridgeDriver, it should be refactored into a base class or a helper function HowTo ----- Q: how to support 'ovs-native' A: go to 'neutron_to_osvif_vif_ovs <https://github.com/openstack/kuryr-kubernetes/blob/master/kuryr_kubernetes/os_vif_util.py>`_ and replace 'raise NotImplementedError' with matching implementation from `_nova_to_osvif_vif_ovs <https://github.com/openstack/nova/blob/master/nova/network/os_vif_util.py>`_ Q: how to support container-in-vm ports with vlan and Neutron trunk ports A: prepare for a journey, - look at `existing VIF types <https://github.com/openstack/os-vif/blob/master/os_vif/objects/vif.py>`_ and try to find the one that matches your needs - the 'trunk' interface name will probably come from 'kuryr.conf' on worker node, so only 'vlan' field seems necessary - 'vif_name' field is needed (see VIFGeneric/VIFBridge/etc.) - os-vif's VIFDirect may fit our needs, but it might be better to define our own type (requires discussion) - implement new VIF type (subclassing VIFBase) if necessary - implement port -> VIF translator and register it in 'kuryr_kubernetes.vif_translators' driver namespace (pick a name for the driver) - implement PodVIFDriver that will create Neutron ports/sub-ports - use port -> VIF translator implemented in previous step - implement 'os_vif' plugin (see `LinuxBridgePlugin <https://github.com/openstack/os-vif/blob/master/vif_plug_linux_bridge/linux_bridge.py>`_ for reference) - add your plugin in Kuryr-Kubernetes's [entry_points] in 'os_vif' namespace (see `os_vif's setup.cfg <https://github.com/openstack/os-vif/blob/master/setup.cfg>`_) - since os_vif does not 'plug', but only 'prepares', there's nothing to be done on the vm side, so the plugin will be: class NOOPPlugin(os_vif.plugin.PluginBase): def describe(...): ... def load(...): pass def plug(...): pass def unplug(...): pass - implement (Nested?)VlanDriver similar to `BridgeDriver <https://github.com/openstack/kuryr-kubernetes/blob/master/kuryr_kubernetes/cni/binding/bridge.py>)`_ use 'vif_name' and 'vlan' from VIF to create the device, move it to netns and rename to CNI's 'ifname' ",,106,0
openstack%2Fkuryr-kubernetes~master~I2794c4bc4b67d9b96880c6c9e3e1217123413ffa,openstack/kuryr-kubernetes,master,I2794c4bc4b67d9b96880c6c9e3e1217123413ffa,Fix deprecated base64.decodestring warning,ABANDONED,2018-10-17 03:28:29.000000000,2018-12-07 14:42:32.000000000,,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-17 03:28:29.000000000', 'files': ['contrib/kubectl_plugins/kuryr/kuryr'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d61765089d899e923e127df662387264a459e3d1', 'message': 'Fix deprecated base64.decodestring warning\n\nReplace base64.decodestring with\noslo_serialization.base64.decode_as_bytes.\n\nChange-Id: I2794c4bc4b67d9b96880c6c9e3e1217123413ffa\n'}]",0,611225,d61765089d899e923e127df662387264a459e3d1,8,4,1,21486,,,0,"Fix deprecated base64.decodestring warning

Replace base64.decodestring with
oslo_serialization.base64.decode_as_bytes.

Change-Id: I2794c4bc4b67d9b96880c6c9e3e1217123413ffa
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/25/611225/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/kubectl_plugins/kuryr/kuryr'],1,d61765089d899e923e127df662387264a459e3d1,,from oslo_serialization import base64 client_cert_file.write(base64.decode_as_bytes(client_cert_data.encode())) client_key_file.write(base64.decode_as_bytes(client_key_data.encode())) ca_cert_file.write(base64.decode_as_bytes(ca_cert_data.encode())),import base64 client_cert_file.write(base64.decodestring(client_cert_data.encode())) client_key_file.write(base64.decodestring(client_key_data.encode())) ca_cert_file.write(base64.decodestring(ca_cert_data.encode())),4,4
openstack%2Fnetworking-bgpvpn~master~Ie35a8e1a4de39ef0615e33da70d28ad11b043ac4,openstack/networking-bgpvpn,master,Ie35a8e1a4de39ef0615e33da70d28ad11b043ac4,increase job timeout for legacy bgpvpn-bagpipe,ABANDONED,2018-12-05 15:07:48.000000000,2018-12-07 14:41:07.000000000,,"[{'_account_id': 5367}, {'_account_id': 8871}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 15:07:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/b958cd736a9862915615cc9b35937120f209e0a9', 'message': 'increase job timeout for legacy bgpvpn-bagpipe\n\nThis patch bumps up the timeout value for the\nlegacy-tempest-dsvm-networking-bgpvpn-bagpipe job which intermittently\nfails due to the job timing out.\n\nChange-Id: Ie35a8e1a4de39ef0615e33da70d28ad11b043ac4\nRelated-Bug: 1686542\n'}]",0,622993,b958cd736a9862915615cc9b35937120f209e0a9,7,3,1,5367,,,0,"increase job timeout for legacy bgpvpn-bagpipe

This patch bumps up the timeout value for the
legacy-tempest-dsvm-networking-bgpvpn-bagpipe job which intermittently
fails due to the job timing out.

Change-Id: Ie35a8e1a4de39ef0615e33da70d28ad11b043ac4
Related-Bug: 1686542
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/93/622993/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b958cd736a9862915615cc9b35937120f209e0a9,bug/1686542, timeout: 8400 timeout: 8400,,2,0
openstack%2Fmonasca-common~master~Ic3d7c2b75e2439813c2b9e02b11514ccee112624,openstack/monasca-common,master,Ic3d7c2b75e2439813c2b9e02b11514ccee112624,Bump Alpine to 3.8 in docker,MERGED,2018-12-05 12:04:02.000000000,2018-12-07 14:41:06.000000000,2018-12-07 14:41:06.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-12-05 12:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/f93d302b6e8349b0ffbf831e4a5faed2a7aca484', 'message': 'Bump Apline to 3.8 in docker\n\npyca/cryptography was updated to version supporting LibreSSL 2.7\nin upper constrains.\nAlso bump Python to next minor release (3.5.6).\n\nChange-Id: Ic3d7c2b75e2439813c2b9e02b11514ccee112624\n'}, {'number': 2, 'created': '2018-12-05 13:38:03.000000000', 'files': ['docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/e0398d32dbf90edf928de0da6edc6ff21e073526', 'message': 'Bump Alpine to 3.8 in docker\n\npyca/cryptography was updated to version supporting LibreSSL 2.7\nin upper constrains.\nAlso bump Python to next minor release (3.5.6).\n\nChange-Id: Ic3d7c2b75e2439813c2b9e02b11514ccee112624\n'}]",2,622941,e0398d32dbf90edf928de0da6edc6ff21e073526,13,4,2,21922,,,0,"Bump Alpine to 3.8 in docker

pyca/cryptography was updated to version supporting LibreSSL 2.7
in upper constrains.
Also bump Python to next minor release (3.5.6).

Change-Id: Ic3d7c2b75e2439813c2b9e02b11514ccee112624
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/41/622941/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/Dockerfile'],1,f93d302b6e8349b0ffbf831e4a5faed2a7aca484,docker,FROM python:3.5.6-alpine3.8,# TODO(Dobroslaw): Update to Alpine 3.8. # We can't update to Alpine 3.8 until pyca/cryptography is updated in # upper constrains file to be bigger than 2.2.2. # LibreSSL 2.7.x is not supported by older versions: # https://github.com/pyca/cryptography/pull/4270 FROM python:3.5.5-alpine3.7,1,6
openstack%2Fcharm-octavia~master~I8448d7111cb933e3b56a2a4879e81d86b9af517e,openstack/charm-octavia,master,I8448d7111cb933e3b56a2a4879e81d86b9af517e,Add missing overlay for `cosmic-rocky-ha` bundle,MERGED,2018-12-06 06:06:39.000000000,2018-12-07 14:34:09.000000000,2018-12-07 14:34:08.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 06:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/36daf6e8dc63e2f47b01d93670dc433b43c30e9c', 'message': 'Add missing overlay for `cosmic-rocky-ha` bundle\n\nThe `cosmic-rocky-ha` test was failing due to a missing overlay.\n\nChange-Id: I8448d7111cb933e3b56a2a4879e81d86b9af517e\n'}, {'number': 2, 'created': '2018-12-07 11:23:17.000000000', 'files': ['src/tests/bundles/overlays/cosmic-rocky-ha.yaml.j2', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a4564b2bae11e623b03414779ed4e88f158d4bf5', 'message': 'Add missing overlay for `cosmic-rocky-ha` bundle\n\nThe `cosmic-rocky-ha` test was failing due to a missing overlay.\nHowever keep the test disabled as it consistently times out atm.\n\nChange-Id: I8448d7111cb933e3b56a2a4879e81d86b9af517e\n'}]",0,623142,a4564b2bae11e623b03414779ed4e88f158d4bf5,26,4,2,13686,,,0,"Add missing overlay for `cosmic-rocky-ha` bundle

The `cosmic-rocky-ha` test was failing due to a missing overlay.
However keep the test disabled as it consistently times out atm.

Change-Id: I8448d7111cb933e3b56a2a4879e81d86b9af517e
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/42/623142/2 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/overlays/cosmic-rocky-ha.yaml.j2'],1,36daf6e8dc63e2f47b01d93670dc433b43c30e9c,octavia-charm,applications: octavia: options: vip: '{{ OS_VIP00 }}' ,,4,0
openstack%2Fneutron~master~I5f1471e20bbad90c4cdcbc6c06d3a4412db55b2a,openstack/neutron,master,I5f1471e20bbad90c4cdcbc6c06d3a4412db55b2a,Force all fdb entries update after ovs-vswitchd restart,MERGED,2018-11-28 21:47:03.000000000,2018-12-07 14:30:05.000000000,2018-12-07 13:37:41.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-11-28 21:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35ad4df1df7753be62254379fda3464112155931', 'message': 'Force all fdb entries update after ovs-vswitchd restart\n\nWhen ovs-vswitchd process is restarted neutron-ovs-agent will\nhandle it and reconfigure all ports and openflows in bridges.\nUnfortunatelly when tunnel networks are used together with\nL2pop mechanism driver, this driver will not notice that agent\nlost all openflow config and will not send all fdb entries which\nshould be added on host.\n\nIn such case L2pop mechanism driver should behave in same way like\nwhen neutron-ovs-agent is restarted and send all fdb_entries to\nagent.\n\nThis patch adds ""simulate"" of agent start flag when ovs_restart is\nhandled thus neutron-server will send all fdb_entries to agent and\ntunnels openflow rules can be reconfigured properly.\n\nChange-Id: I5f1471e20bbad90c4cdcbc6c06d3a4412db55b2a\nRelated-bug: #1804842\n'}, {'number': 2, 'created': '2018-11-29 11:50:59.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae031d18866a9e3652f4fc122f120915209a7b29', 'message': 'Force all fdb entries update after ovs-vswitchd restart\n\nWhen ovs-vswitchd process is restarted neutron-ovs-agent will\nhandle it and reconfigure all ports and openflows in bridges.\nUnfortunatelly when tunnel networks are used together with\nL2pop mechanism driver, this driver will not notice that agent\nlost all openflow config and will not send all fdb entries which\nshould be added on host.\n\nIn such case L2pop mechanism driver should behave in same way like\nwhen neutron-ovs-agent is restarted and send all fdb_entries to\nagent.\n\nThis patch adds ""simulate"" of agent start flag when ovs_restart is\nhandled thus neutron-server will send all fdb_entries to agent and\ntunnels openflow rules can be reconfigured properly.\n\nChange-Id: I5f1471e20bbad90c4cdcbc6c06d3a4412db55b2a\nCloses-bug: #1804842\n'}]",2,620708,ae031d18866a9e3652f4fc122f120915209a7b29,50,12,2,11975,,,0,"Force all fdb entries update after ovs-vswitchd restart

When ovs-vswitchd process is restarted neutron-ovs-agent will
handle it and reconfigure all ports and openflows in bridges.
Unfortunatelly when tunnel networks are used together with
L2pop mechanism driver, this driver will not notice that agent
lost all openflow config and will not send all fdb entries which
should be added on host.

In such case L2pop mechanism driver should behave in same way like
when neutron-ovs-agent is restarted and send all fdb_entries to
agent.

This patch adds ""simulate"" of agent start flag when ovs_restart is
handled thus neutron-server will send all fdb_entries to agent and
tunnels openflow rules can be reconfigured properly.

Change-Id: I5f1471e20bbad90c4cdcbc6c06d3a4412db55b2a
Closes-bug: #1804842
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/620708/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,35ad4df1df7753be62254379fda3464112155931,bug/1804842," if self.agent_state.pop('start_flag', None) and self.iter_num == 0: self.agent_state['start_flag'] = True"," if self.agent_state.pop('start_flag', None):",2,1
openstack%2Fcharm-octavia~master~Ia4b0e6b6b364dc3c9cd2fa4cdfa93cd2766c4d6a,openstack/charm-octavia,master,Ia4b0e6b6b364dc3c9cd2fa4cdfa93cd2766c4d6a,Drop wsgi thread configuration to a single thread,MERGED,2018-12-06 04:44:15.000000000,2018-12-07 14:22:02.000000000,2018-12-07 14:22:02.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 04:44:15.000000000', 'files': ['src/templates/rocky/octavia-api.conf'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/1a577cea6ef280d4ef6ed95e8e0861f422dcdb01', 'message': 'Drop wsgi thread configuration to a single thread\n\nWe should increase concurrency using processes rather than threads\nfor the Octavia WSGI application, avoiding high memory consumption\nover time under load.\n\nChange-Id: Ia4b0e6b6b364dc3c9cd2fa4cdfa93cd2766c4d6a\nCloses-Bug: #1806008\n'}]",0,623136,1a577cea6ef280d4ef6ed95e8e0861f422dcdb01,11,4,1,13686,,,0,"Drop wsgi thread configuration to a single thread

We should increase concurrency using processes rather than threads
for the Octavia WSGI application, avoiding high memory consumption
over time under load.

Change-Id: Ia4b0e6b6b364dc3c9cd2fa4cdfa93cd2766c4d6a
Closes-Bug: #1806008
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/36/623136/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/rocky/octavia-api.conf'],1,1a577cea6ef280d4ef6ed95e8e0861f422dcdb01,bug/1806008, WSGIDaemonProcess octavia-api processes={{ options.wsgi_worker_context.processes }} threads=1 user=octavia group=octavia display-name=%{GROUP}, WSGIDaemonProcess octavia-api user=octavia group=octavia processes=3 threads=10,1,1
openstack%2Fneutron~master~I07d1e0bb27e19bd19911255c069fa27a42451264,openstack/neutron,master,I07d1e0bb27e19bd19911255c069fa27a42451264,Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py,MERGED,2018-10-13 18:55:26.000000000,2018-12-07 13:49:02.000000000,2018-12-07 13:49:02.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28581}]","[{'number': 1, 'created': '2018-10-13 18:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3120d75c9969527d1ba61a807daf600d1eb9e716', 'message': '[WIP] Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nTODO: UTs\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 2, 'created': '2018-10-15 18:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b46535e48ba2a8e6bccdd72b0af45a4321d85d68', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 3, 'created': '2018-10-16 09:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78f74a92027a757c746c8df1c3ce637bc9e0b7d4', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 4, 'created': '2018-10-17 07:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c957cee5a1066f769d142bc70f65203f33cef409', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 5, 'created': '2018-10-17 12:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5715647e44e5ecc56a9591f9e9e419b336f44ba1', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 6, 'created': '2018-10-17 16:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7504551e38bf5af3c2c96c0f59d226e6ebe517c4', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 7, 'created': '2018-10-18 09:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fc06a96f43171d5910895e3a507e3e3075d9b22', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 8, 'created': '2018-10-18 17:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/621f14d5874955c34e22ed0508cf290821c1f9cb', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 9, 'created': '2018-10-20 08:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e09add674845ac702c8b46484cac6e3e598a4d69', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 10, 'created': '2018-10-22 13:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e6d6dc214ba74c1c78312da1f57703ebd58e49b', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 11, 'created': '2018-10-22 15:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2313b7c4980063a23fb7900a6be7404decb4f783', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 12, 'created': '2018-10-23 08:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/887cc19bd7c361e8d4080a8a67d33bdb3e9df92b', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 13, 'created': '2018-11-05 16:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fe8f83f7f76dc900890a75726eadde2ee2e69fe', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 14, 'created': '2018-11-07 09:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86a0fe1316f5f93241be1da16782eb60a19eaec7', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 15, 'created': '2018-11-08 11:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abddff3ffcde9a84ace75f5ff9087bda2f61ba32', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}, {'number': 16, 'created': '2018-11-08 13:41:37.000000000', 'files': ['neutron/objects/network.py', 'neutron/tests/unit/objects/qos/test_policy.py', 'neutron/db/rbac_db_mixin.py', 'neutron/objects/qos/policy.py', 'neutron/tests/unit/objects/test_network.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/services/qos/qos_plugin.py', 'neutron/objects/rbac_db.py', 'neutron/tests/unit/db/test_rbac_db_mixin.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/db/rbac_db_models.py', 'neutron/objects/rbac.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8eee74f626a904b69f005c0eaf76a5ca52b7fb64', 'message': 'Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py\n\nImplemented RBACBaseObject metaclass, inherited from NetworkRBAC\nand QosPolicyRBAC.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n\nChange-Id: I07d1e0bb27e19bd19911255c069fa27a42451264\n'}]",40,610280,8eee74f626a904b69f005c0eaf76a5ca52b7fb64,124,16,16,16688,,,0,"Use RBACBaseObject OVO in neutron/db/rbac_db_mixin.py

Implemented RBACBaseObject metaclass, inherited from NetworkRBAC
and QosPolicyRBAC.

Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db

Change-Id: I07d1e0bb27e19bd19911255c069fa27a42451264
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/610280/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/network.py', 'neutron/db/rbac_db_mixin.py', 'neutron/objects/rbac.py', 'neutron/objects/qos/policy.py']",4,3120d75c9969527d1ba61a807daf600d1eb9e716,bp/adopt-oslo-versioned-objects-for-db,"from neutron.objects import rbacclass QosPolicyRBAC(rbac.RBACBaseObject): # Version 1.1: Added 'id' and 'project_id' (inherited from # rbac_db.RBACBaseObject) VERSION = '1.1' def obj_make_compatible(self, primitive, target_version): _target_version = versionutils.convert_version_to_tuple(target_version) if _target_version < (1, 1): standard_fields = ['id', 'project_id'] for f in standard_fields: primitive.pop(f)","class QosPolicyRBAC(base_db.NeutronDbObject): VERSION = '1.0' fields = { 'object_id': obj_fields.StringField(), 'target_tenant': obj_fields.StringField(), 'action': obj_fields.StringField(), }",115,62
openstack%2Frequirements~master~I5bca8779e6c8e13a4d0db096fcf92977b86dbd7e,openstack/requirements,master,I5bca8779e6c8e13a4d0db096fcf92977b86dbd7e,update constraint for openstackdocstheme to new release 1.28.0,MERGED,2018-12-06 17:05:25.000000000,2018-12-07 13:45:35.000000000,2018-12-07 13:45:35.000000000,"[{'_account_id': 14288}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 17:05:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/905a2159824fd9b9b512ea66be2d59e159316366', 'message': 'update constraint for openstackdocstheme to new release 1.28.0\n\nChange-Id: I5bca8779e6c8e13a4d0db096fcf92977b86dbd7e\nmeta:version: 1.28.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Commit: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Change-Id: Ia899aefd7b46b014806903d4f2ea64b480798f47\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Petr Kovar <pkovar@redhat.com>\nmeta:release:Code-Review+1: Ian Y. Choi <ianyrchoi@gmail.com>\nmeta:release:Code-Review+1: Andreas Jaeger <jaegerandi@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,623262,905a2159824fd9b9b512ea66be2d59e159316366,6,3,1,11131,,,0,"update constraint for openstackdocstheme to new release 1.28.0

Change-Id: I5bca8779e6c8e13a4d0db096fcf92977b86dbd7e
meta:version: 1.28.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Doug Hellmann <doug@doughellmann.com>
meta:release:Commit: Doug Hellmann <doug@doughellmann.com>
meta:release:Change-Id: Ia899aefd7b46b014806903d4f2ea64b480798f47
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Petr Kovar <pkovar@redhat.com>
meta:release:Code-Review+1: Ian Y. Choi <ianyrchoi@gmail.com>
meta:release:Code-Review+1: Andreas Jaeger <jaegerandi@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/623262/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,905a2159824fd9b9b512ea66be2d59e159316366,new-release,openstackdocstheme===1.28.0,openstackdocstheme===1.27.1,1,1
openstack%2Frequirements~master~Ib68e9f4d1f3fe21925b060880625c1f3d484cb35,openstack/requirements,master,Ib68e9f4d1f3fe21925b060880625c1f3d484cb35,update constraint for oslo.policy to new release 1.43.1,MERGED,2018-12-06 16:36:08.000000000,2018-12-07 13:45:33.000000000,2018-12-07 13:45:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 16:36:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/19c96224de967e6d912ffc0f82550684bb210cc1', 'message': 'update constraint for oslo.policy to new release 1.43.1\n\nChange-Id: Ib68e9f4d1f3fe21925b060880625c1f3d484cb35\nmeta:version: 1.43.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Commit: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Change-Id: Ib1a26c2e7784742ec0f759245398f9c8b9dd6fa8\nmeta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,623249,19c96224de967e6d912ffc0f82550684bb210cc1,8,2,1,11131,,,0,"update constraint for oslo.policy to new release 1.43.1

Change-Id: Ib68e9f4d1f3fe21925b060880625c1f3d484cb35
meta:version: 1.43.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lance Bragstad <lbragstad@gmail.com>
meta:release:Commit: Lance Bragstad <lbragstad@gmail.com>
meta:release:Change-Id: Ib1a26c2e7784742ec0f759245398f9c8b9dd6fa8
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/49/623249/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,19c96224de967e6d912ffc0f82550684bb210cc1,new-release,oslo.policy===1.43.1,oslo.policy===1.42.0,1,1
openstack%2Fcinder~master~I4155eee3ec5a2db9b810674c02f5e6c9261e17fd,openstack/cinder,master,I4155eee3ec5a2db9b810674c02f5e6c9261e17fd,Huawei: Simplify wait_for_condition calls,MERGED,2018-08-31 21:58:29.000000000,2018-12-07 13:45:30.000000000,2018-12-07 13:45:30.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-08-31 21:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b17ab3408d13c58e66a8fb93752f5b922ead9b7', 'message': 'Huawei: Simplify wait_for_condition calls\n\nThis simplifies the logic for waiting for conditions to be met and\nprepares things for further updates to consuming code.\n\nChange-Id: I4155eee3ec5a2db9b810674c02f5e6c9261e17fd\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-09-03 15:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4bbd05108d2ba7ce9ac2bab643445510921e17c', 'message': 'Huawei: Simplify wait_for_condition calls\n\nThis simplifies the logic for waiting for conditions to be met and\nprepares things for further updates to consuming code.\n\nChange-Id: I4155eee3ec5a2db9b810674c02f5e6c9261e17fd\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2018-10-16 20:30:51.000000000', 'files': ['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f43041ab9d8f3915f193780019691d7e5d9bc94', 'message': 'Huawei: Simplify wait_for_condition calls\n\nThis simplifies the logic for waiting for conditions to be met and\nprepares things for further updates to consuming code.\n\nChange-Id: I4155eee3ec5a2db9b810674c02f5e6c9261e17fd\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,599082,5f43041ab9d8f3915f193780019691d7e5d9bc94,116,42,3,11904,,,0,"Huawei: Simplify wait_for_condition calls

This simplifies the logic for waiting for conditions to be met and
prepares things for further updates to consuming code.

Change-Id: I4155eee3ec5a2db9b810674c02f5e6c9261e17fd
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/599082/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_utils.py']",2,2b17ab3408d13c58e66a8fb93752f5b922ead9b7,huawei,"import retrying import six r = retrying.Retrying(retry_on_result=lambda result: not result, retry_on_exception=lambda result: False, wait_fixed=interval * 1000, stop_max_delay=timeout * 1000) try: r.call(func) except retrying.RetryError: msg = _('wait_for_condition: %s timed out.') % func.__name__ LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg)",import six import timefrom oslo_service import loopingcall start_time = time.time() def _inner(): try: res = func() except Exception as ex: raise exception.VolumeBackendAPIException(data=ex) if res: raise loopingcall.LoopingCallDone() if int(time.time()) - start_time > timeout: msg = (_('wait_for_condition: %s timed out.') % func.__name__) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) timer = loopingcall.FixedIntervalLoopingCall(_inner) timer.start(interval=interval).wait(),16,27
openstack%2Fkeystone~master~I3e373c437ff0ffddba10bde59fd7f18f8be6498c,openstack/keystone,master,I3e373c437ff0ffddba10bde59fd7f18f8be6498c,Update role policies for system reader,MERGED,2018-12-04 18:25:18.000000000,2018-12-07 13:45:28.000000000,2018-12-07 13:45:28.000000000,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 18:25:18.000000000', 'files': ['keystone/common/policies/role.py', 'keystone/tests/unit/protection/v3/test_roles.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/567f305b41414f1468147e5eba903871bfbe7392', 'message': 'Update role policies for system reader\n\nThe role policies were not taking the default roles work we did last\nrelease into account. This commit changes the default policies to rely\non the ``reader`` role for getting and listing roles. Subsequent\npatches will incorporate:\n\n - system member test coverage\n - system admin functionality\n - domain user test coverage\n - project user test coverage\n\nChange-Id: I3e373c437ff0ffddba10bde59fd7f18f8be6498c\nRelated-Bug: 1805402\nRelated-Bug: 1806713\n'}]",0,622524,567f305b41414f1468147e5eba903871bfbe7392,8,3,1,5046,,,0,"Update role policies for system reader

The role policies were not taking the default roles work we did last
release into account. This commit changes the default policies to rely
on the ``reader`` role for getting and listing roles. Subsequent
patches will incorporate:

 - system member test coverage
 - system admin functionality
 - domain user test coverage
 - project user test coverage

Change-Id: I3e373c437ff0ffddba10bde59fd7f18f8be6498c
Related-Bug: 1805402
Related-Bug: 1806713
",git fetch https://review.opendev.org/openstack/keystone refs/changes/24/622524/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/policies/role.py', 'keystone/tests/unit/protection/v3/test_roles.py']",2,567f305b41414f1468147e5eba903871bfbe7392,implement-default-roles,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from six.moves import http_client from keystone.common import provider_api import keystone.conf from keystone.tests.common import auth as common_auth from keystone.tests import unit from keystone.tests.unit import base_classes from keystone.tests.unit import ksfixtures CONF = keystone.conf.CONF PROVIDERS = provider_api.ProviderAPIs class _SystemUserRoleTests(object): """"""Common default functionality for all system users."""""" def test_user_can_list_roles(self): PROVIDERS.role_api.create_role(uuid.uuid4().hex, unit.new_role_ref()) with self.test_client() as c: r = c.get('/v3/roles', headers=self.headers) # With bootstrap setup and the role we just created, there should # be four roles present in the deployment. Bootstrap creates # ``admin``, ``member``, and ``reader``. self.assertEqual(4, len(r.json['roles'])) def test_user_can_get_a_role(self): role = PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref() ) with self.test_client() as c: r = c.get('/v3/roles/%s' % role['id'], headers=self.headers) self.assertEqual(role['id'], r.json['role']['id']) class SystemReaderTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _SystemUserRoleTests): def setUp(self): super(SystemReaderTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) system_reader = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) self.user_id = PROVIDERS.identity_api.create_user( system_reader )['id'] PROVIDERS.assignment_api.create_system_grant_for_user( self.user_id, self.bootstrapper.reader_role_id ) auth = self.build_authentication_request( user_id=self.user_id, password=system_reader['password'], system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} def test_user_cannot_create_roles(self): create = {'role': unit.new_role_ref()} with self.test_client() as c: c.post( '/v3/roles', json=create, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_update_roles(self): role = PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref() ) update = {'role': {'description': uuid.uuid4().hex}} with self.test_client() as c: c.patch( '/v3/roles/%s' % role['id'], json=update, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_delete_roles(self): role = PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref() ) with self.test_client() as c: c.delete( '/v3/roles/%s' % role['id'], headers=self.headers, expected_status_code=http_client.FORBIDDEN ) ",,142,4
openstack%2Fpuppet-neutron~master~I5caaadeada8e70dd33f79c3c8cca9a22a25bf8f8,openstack/puppet-neutron,master,I5caaadeada8e70dd33f79c3c8cca9a22a25bf8f8,Change openstack-dev to openstack-discuss,MERGED,2018-12-02 17:24:18.000000000,2018-12-07 13:44:02.000000000,2018-12-07 13:44:02.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-02 17:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f2b64f16b64567abdb53050cade9e833b49a3ab6', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I5caaadeada8e70dd33f79c3c8cca9a22a25bf8f8\n'}, {'number': 2, 'created': '2018-12-03 09:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c3345cac0833140d7b6553bc70c950804023fdec', 'message': 'Change openstack-dev to openstack-discuss\n\nDepends-On: https://review.openstack.org/#/c/621525/\nChange-Id: I5caaadeada8e70dd33f79c3c8cca9a22a25bf8f8\n'}, {'number': 3, 'created': '2018-12-06 08:53:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/632097c477b8e70325b633fea9957248a195bc53', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I5caaadeada8e70dd33f79c3c8cca9a22a25bf8f8\n'}]",0,621437,632097c477b8e70325b633fea9957248a195bc53,30,3,3,16137,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I5caaadeada8e70dd33f79c3c8cca9a22a25bf8f8
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/37/621437/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f2b64f16b64567abdb53050cade9e833b49a3ab6,email-list,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fdevstack~master~I992065186ed4a4c5811a7c82ac09a0bc85ca11e8,openstack/devstack,master,I992065186ed4a4c5811a7c82ac09a0bc85ca11e8,Updated from generate-devstack-plugins-list,MERGED,2018-11-09 06:13:04.000000000,2018-12-07 13:39:42.000000000,2018-12-07 13:39:42.000000000,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-09 06:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4d815e656ce7bd93d125e348b000be75170df55c', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I992065186ed4a4c5811a7c82ac09a0bc85ca11e8\n'}, {'number': 2, 'created': '2018-11-22 06:19:16.000000000', 'files': ['doc/source/plugin-registry.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0f5a20fb79380806b7fd81d9e6d9c8afcd7dfbed', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I992065186ed4a4c5811a7c82ac09a0bc85ca11e8\n'}]",0,616781,0f5a20fb79380806b7fd81d9e6d9c8afcd7dfbed,16,6,2,11131,,,0,"Updated from generate-devstack-plugins-list

Change-Id: I992065186ed4a4c5811a7c82ac09a0bc85ca11e8
",git fetch https://review.opendev.org/openstack/devstack refs/changes/81/616781/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin-registry.rst'],1,4d815e656ce7bd93d125e348b000be75170df55c,openstack/devstack/plugins,stx-integ `git://git.openstack.org/openstack/stx-integ <https://git.openstack.org/cgit/openstack/stx-integ>`__,,1,0
openstack%2Fdevstack~master~I487d3f9e340bd45e83245b9ca91e8e3b5ac3ae02,openstack/devstack,master,I487d3f9e340bd45e83245b9ca91e8e3b5ac3ae02,Remove is_in_projects_txt,MERGED,2018-11-24 09:16:48.000000000,2018-12-07 13:39:41.000000000,2018-12-07 13:39:40.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-24 09:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4f6a3c9d15c73bec8affa9ecce28aa02aa32da8a', 'message': 'Remove is_in_projects_txt\n\nThis function is nowhere used as confirmed by codesearch:\nhttp://codesearch.openstack.org/?q=is_in_projects_txt&i=nope&files=&repos=\n\nWe can remove it.\n\nThis came up in context of https://review.openstack.org/619089 where\nrequirements/projects.txt is getting removed.\n\nChange-Id: I487d3f9e340bd45e83245b9ca91e8e3b5ac3ae02\n'}, {'number': 2, 'created': '2018-11-24 09:18:58.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/67394b02417802842021fdef95f68edbf723eb71', 'message': 'Remove is_in_projects_txt\n\nThis function is nowhere used as confirmed by codesearch:\nhttp://codesearch.openstack.org/?q=is_in_projects_txt&i=nope&files=&repos=\n\nWe can remove the function.\n\nNote that usage of this function was removed in change\nI843208e2e982eb04931b76f5cb4bd219fbcd70de in 2015.\n\nThis came up in context of https://review.openstack.org/619089 where\nrequirements/projects.txt is getting removed.\n\nChange-Id: I487d3f9e340bd45e83245b9ca91e8e3b5ac3ae02\n'}]",0,619874,67394b02417802842021fdef95f68edbf723eb71,12,7,2,6547,,,0,"Remove is_in_projects_txt

This function is nowhere used as confirmed by codesearch:
http://codesearch.openstack.org/?q=is_in_projects_txt&i=nope&files=&repos=

We can remove the function.

Note that usage of this function was removed in change
I843208e2e982eb04931b76f5cb4bd219fbcd70de in 2015.

This came up in context of https://review.openstack.org/619089 where
requirements/projects.txt is getting removed.

Change-Id: I487d3f9e340bd45e83245b9ca91e8e3b5ac3ae02
",git fetch https://review.opendev.org/openstack/devstack refs/changes/74/619874/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,4f6a3c9d15c73bec8affa9ecce28aa02aa32da8a,rm-projects,,"# determine if a project as specified by directory is in # projects.txt. This will not be an exact match because we throw away # the namespacing when we clone, but it should be good enough in all # practical ways. function is_in_projects_txt { local project_dir=$1 local project_name project_name=$(basename $project_dir) grep -q ""/$project_name\$"" $REQUIREMENTS_DIR/projects.txt } ",0,11
openstack%2Fnova~master~Ie5935ae54d2cbf1a4272e93815ee5f67d3ffe2eb,openstack/nova,master,Ie5935ae54d2cbf1a4272e93815ee5f67d3ffe2eb,Use tempest [compute]/build_timeout in evacuate tests,MERGED,2018-12-05 15:47:34.000000000,2018-12-07 13:39:37.000000000,2018-12-07 13:39:37.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-05 15:47:34.000000000', 'files': ['gate/test_evacuate.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/3b1463b968426ba8db1c5d458f6461e2375045e8', 'message': 'Use tempest [compute]/build_timeout in evacuate tests\n\nWaiting 30 seconds for an evacuate to complete is not enough\ntime on some slower CI test nodes. This change uses the\nsame build timeout configuration from tempest to determine\nthe overall evacuate timeout in our evacuate tests.\n\nChange-Id: Ie5935ae54d2cbf1a4272e93815ee5f67d3ffe2eb\nCloses-Bug: #1806925\n'}]",1,623011,3b1463b968426ba8db1c5d458f6461e2375045e8,28,16,1,6873,,,0,"Use tempest [compute]/build_timeout in evacuate tests

Waiting 30 seconds for an evacuate to complete is not enough
time on some slower CI test nodes. This change uses the
same build timeout configuration from tempest to determine
the overall evacuate timeout in our evacuate tests.

Change-Id: Ie5935ae54d2cbf1a4272e93815ee5f67d3ffe2eb
Closes-Bug: #1806925
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/623011/1 && git format-patch -1 --stdout FETCH_HEAD,['gate/test_evacuate.sh'],1,3b1463b968426ba8db1c5d458f6461e2375045e8,bug/1806925,"# Source tempest to determine the build timeout configuration. source ${BASE}/new/devstack/lib/tempest if [ ${count} -eq ${BUILD_TIMEOUT} ]; then echo ""Timed out waiting for server ${server} to go to ERROR status"" if [ ${count} -eq ${BUILD_TIMEOUT} ]; then echo ""Timed out waiting for server ${server} to go to ACTIVE status"""," if [ ${count} -eq 30 ]; then echo ""Timed out waiting for server to go to ERROR status"" if [ ${count} -eq 30 ]; then echo ""Timed out waiting for server to go to ACTIVE status""",6,4
openstack%2Fdevstack~master~I0b7ada56339e5e3ff461c2b62e27f226720bb52f,openstack/devstack,master,I0b7ada56339e5e3ff461c2b62e27f226720bb52f,Fix README for rolevar name 'devstack_sources_branch',MERGED,2018-12-06 10:25:46.000000000,2018-12-07 13:37:43.000000000,2018-12-07 13:37:43.000000000,"[{'_account_id': 7118}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 10:25:46.000000000', 'files': ['roles/setup-devstack-source-dirs/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/14a22dff3429b9bf237dcd6d92572f2e53b76d9a', 'message': ""Fix README for rolevar name 'devstack_sources_branch'\n\nThis commit fixes the name of role in README file\n- https://review.openstack.org/#/c/549517\n\nChange-Id: I0b7ada56339e5e3ff461c2b62e27f226720bb52f\n""}]",0,623180,14a22dff3429b9bf237dcd6d92572f2e53b76d9a,7,3,1,8556,,,0,"Fix README for rolevar name 'devstack_sources_branch'

This commit fixes the name of role in README file
- https://review.openstack.org/#/c/549517

Change-Id: I0b7ada56339e5e3ff461c2b62e27f226720bb52f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/80/623180/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/setup-devstack-source-dirs/README.rst'],1,14a22dff3429b9bf237dcd6d92572f2e53b76d9a,grenade_zuulv3, .. zuul:rolevar:: devstack_sources_branch, .. zuul:rolevar:: devstack_branch,1,1
openstack%2Fdevstack~stable%2Fqueens~Ib29d3f5f18533115b9c51e27b373e92fc0a28d1a,openstack/devstack,stable/queens,Ib29d3f5f18533115b9c51e27b373e92fc0a28d1a,nova: add support for TLS between novnc proxy & compute nodes,MERGED,2018-11-28 15:08:27.000000000,2018-12-07 13:25:03.000000000,2018-12-07 13:25:03.000000000,"[{'_account_id': 1779}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 15:08:27.000000000', 'files': ['lib/nova', 'lib/nova_plugins/functions-libvirt', 'lib/tls'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fad20e605ca4e611df9a458e3b7ccbe130587c76', 'message': ""nova: add support for TLS between novnc proxy & compute nodes\n\nNova is gaining the ability to run TLS over the connection between the\nnovnc proxy service and the QEMU/KVM compute node VNC server.\n\nThis adds a new config param - 'NOVA_CONSOLE_PROXY_COMPUTE_TLS=True' -\nwhich instructs devstack to configure libvirt/QEMU to enable TLS for the\nVNC server, and to configure the novncproxy to use TLS when connecting.\nNB this use of TLS is distinct from use of TLS for the public facing API\ncontrolled by USE_SSL, they can be enabled independently.\n\nThis is done in a generic manner so that it is easy to extend to cover\nuse of TLS with the SPICE and serial console proxy services too.\n\nChange-Id: Ib29d3f5f18533115b9c51e27b373e92fc0a28d1a\nDepends-on: I9cc9a380500715e60bd05aa5c29ee46bc6f8d6c2\nImplements bp: websocket-proxy-to-host-security\n(cherry picked from commit e9870eb18d19dbb807d4d312cf4aead23c6f8f40)\n""}]",0,620624,fad20e605ca4e611df9a458e3b7ccbe130587c76,11,8,1,6873,,,0,"nova: add support for TLS between novnc proxy & compute nodes

Nova is gaining the ability to run TLS over the connection between the
novnc proxy service and the QEMU/KVM compute node VNC server.

This adds a new config param - 'NOVA_CONSOLE_PROXY_COMPUTE_TLS=True' -
which instructs devstack to configure libvirt/QEMU to enable TLS for the
VNC server, and to configure the novncproxy to use TLS when connecting.
NB this use of TLS is distinct from use of TLS for the public facing API
controlled by USE_SSL, they can be enabled independently.

This is done in a generic manner so that it is easy to extend to cover
use of TLS with the SPICE and serial console proxy services too.

Change-Id: Ib29d3f5f18533115b9c51e27b373e92fc0a28d1a
Depends-on: I9cc9a380500715e60bd05aa5c29ee46bc6f8d6c2
Implements bp: websocket-proxy-to-host-security
(cherry picked from commit e9870eb18d19dbb807d4d312cf4aead23c6f8f40)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/24/620624/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'lib/nova_plugins/functions-libvirt', 'lib/tls']",3,fad20e605ca4e611df9a458e3b7ccbe130587c76,bp/websocket-proxy-to-host-security-stable/queens,"# Deploy the service cert & key to a service specific # location function deploy_int_cert { local cert_target_file=$1 local key_target_file=$2 sudo cp ""$INT_CA_DIR/$DEVSTACK_CERT_NAME.crt"" ""$cert_target_file"" sudo cp ""$INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key"" ""$key_target_file"" } # Deploy the intermediate CA cert bundle file to a service # specific location function deploy_int_CA { local ca_target_file=$1 sudo cp ""$INT_CA_DIR/ca-chain.pem"" ""$ca_target_file"" } ",,52,0
openstack%2Fdevstack~master~I8abd2f02b123c6c1937c026ff13eb4e600de3202,openstack/devstack,master,I8abd2f02b123c6c1937c026ff13eb4e600de3202,Address nits on lib/placement for extracted placement,MERGED,2018-11-20 22:25:56.000000000,2018-12-07 13:25:02.000000000,2018-12-07 13:25:02.000000000,"[{'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-11-20 22:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c761608da5860fe5950006f9c9677e8d31a62aab', 'message': 'Address nits on lib/placement for etracted placement\n\nEarlier review [1] suggested some cleanups which have been\ndone here:\n\n* Removing a redundant call from cleanup_placement\n* Fixing a typo in a comment\n\n[1] https://review.openstack.org/#/c/600162/15/lib/placement\n\nChange-Id: I8abd2f02b123c6c1937c026ff13eb4e600de3202\n'}, {'number': 2, 'created': '2018-11-20 22:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b8af8876213e2836c88638159183cdd4162e4f5c', 'message': 'Address nits on lib/placement for extracted placement\n\nEarlier review [1] suggested some cleanups which have been\ndone here:\n\n* Removing a redundant call from cleanup_placement\n* Fixing a typo in a comment\n\n[1] https://review.openstack.org/#/c/600162/15/lib/placement\n\nChange-Id: I8abd2f02b123c6c1937c026ff13eb4e600de3202\n'}, {'number': 3, 'created': '2018-11-20 22:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5fac568bca27046f48a5384dc2c1b1c766e58889', 'message': 'Address nits on lib/placement for extracted placement\n\nEarlier review [1] suggested some cleanups which have been\ndone here:\n\n* Removing a redundant call from cleanup_placement\n* Fixing a typo in a comment\n\n[1] https://review.openstack.org/#/c/600162/15/lib/placement\n\nChange-Id: I8abd2f02b123c6c1937c026ff13eb4e600de3202\n'}, {'number': 4, 'created': '2018-11-20 23:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8aa59b4793656af32a7dd7b1d9f006be27d5afb8', 'message': 'Address nits on lib/placement for extracted placement\n\nEarlier review [1] suggested some cleanups which have been\ndone here:\n\n* Removing a redundant call from cleanup_placement\n* Fixing a typo in a comment\n\n[1] https://review.openstack.org/#/c/600162/15/lib/placement\n\nChange-Id: I8abd2f02b123c6c1937c026ff13eb4e600de3202\n'}, {'number': 5, 'created': '2018-11-20 23:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/eefaa3ea445be48a7e44e17f44513776cc423088', 'message': 'Address nits on lib/placement for extracted placement\n\nEarlier review [1] suggested some cleanups which have been\ndone here:\n\n* Removing a redundant call from cleanup_placement\n* Fixing a typo in a comment\n\n[1] https://review.openstack.org/#/c/600162/15/lib/placement\n\nChange-Id: I8abd2f02b123c6c1937c026ff13eb4e600de3202\n'}, {'number': 6, 'created': '2018-11-23 15:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9d066b7a2623c749bd0ad6874a1752b69a4bec0f', 'message': 'Address nits on lib/placement for extracted placement\n\nEarlier review [1] suggested some cleanups which have been\ndone here:\n\n* Removing a redundant call from cleanup_placement\n* Fixing a typo in a comment\n\n[1] https://review.openstack.org/#/c/600162/15/lib/placement\n\nChange-Id: I8abd2f02b123c6c1937c026ff13eb4e600de3202\n'}, {'number': 7, 'created': '2018-11-27 17:20:23.000000000', 'files': ['lib/placement'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3027c20545688a39c1db84a83e0e8252d238603c', 'message': 'Address nits on lib/placement for extracted placement\n\nEarlier review [1] suggested some cleanups which have been\ndone here:\n\n* Removing a redundant call from cleanup_placement\n* Fixing a typo in a comment\n\n[1] https://review.openstack.org/#/c/600162/15/lib/placement\n\nChange-Id: I8abd2f02b123c6c1937c026ff13eb4e600de3202\n'}]",0,619107,3027c20545688a39c1db84a83e0e8252d238603c,39,12,7,11564,,,0,"Address nits on lib/placement for extracted placement

Earlier review [1] suggested some cleanups which have been
done here:

* Removing a redundant call from cleanup_placement
* Fixing a typo in a comment

[1] https://review.openstack.org/#/c/600162/15/lib/placement

Change-Id: I8abd2f02b123c6c1937c026ff13eb4e600de3202
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/619107/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/placement'],1,c761608da5860fe5950006f9c9677e8d31a62aab,cd/placement-solo,# create_placement_conf() - Write config, sudo rm -f $(apache_site_config_for nova-placement-api)# create_placement_conf() - Write confg,1,2
openstack%2Ftripleo-docs~master~I9dc608eaf142df79f892dc6fcf0402beb75ee40d,openstack/tripleo-docs,master,I9dc608eaf142df79f892dc6fcf0402beb75ee40d,Use lower case machine unique uuid,MERGED,2018-12-01 13:55:57.000000000,2018-12-07 13:12:33.000000000,2018-12-07 13:12:33.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 10239}, {'_account_id': 11444}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-01 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/340f152635b23fb235588ef4c9c91378a6001f39', 'message': 'Use lower case machine unique uuid\n\nIntrospection data may return machine uuid in both upper and lower\ncase. We need to use lower case uuid to identify a node.\n\nChange-Id: I9dc608eaf142df79f892dc6fcf0402beb75ee40d\nRelated-Bug: #1806011\n'}, {'number': 2, 'created': '2018-12-03 11:09:21.000000000', 'files': ['doc/source/install/advanced_deployment/node_specific_hieradata.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/dd3a8da8725eec8c4e0ddf870d9f4503594f2778', 'message': 'Use lower case machine unique uuid\n\nIntrospection data may return machine uuid in both upper and lower\ncase. We need to use lower case uuid to identify a node.\n\nChange-Id: I9dc608eaf142df79f892dc6fcf0402beb75ee40d\nRelated-Bug: #1806011\n'}]",4,621350,dd3a8da8725eec8c4e0ddf870d9f4503594f2778,16,6,2,8833,,,0,"Use lower case machine unique uuid

Introspection data may return machine uuid in both upper and lower
case. We need to use lower case uuid to identify a node.

Change-Id: I9dc608eaf142df79f892dc6fcf0402beb75ee40d
Related-Bug: #1806011
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/50/621350/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/node_specific_hieradata.rst'],1,340f152635b23fb235588ef4c9c91378a6001f39,bug/1806011, openstack baremetal introspection data save NODE-ID | jq .extra.system.product.uuid | tr '[:upper:]' '[:lower:]', openstack baremetal introspection data save NODE-ID | jq .extra.system.product.uuid,1,1
openstack%2Fpuppet-zaqar~master~Ieeff7fa6726f9398383d93ab50f8e864a3f9d8c5,openstack/puppet-zaqar,master,Ieeff7fa6726f9398383d93ab50f8e864a3f9d8c5,Remove deprecated logging,MERGED,2018-11-29 10:10:14.000000000,2018-12-07 13:09:46.000000000,2018-12-07 13:09:45.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-29 10:10:14.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/dont-include-logging-init-3437e0fc82830787.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/4d35451f8cfee1f7778f5a9af3ca222893f8c3b2', 'message': 'Remove deprecated logging\n\nChange-Id: Ieeff7fa6726f9398383d93ab50f8e864a3f9d8c5\n'}]",0,620873,4d35451f8cfee1f7778f5a9af3ca222893f8c3b2,13,5,1,16137,,,0,"Remove deprecated logging

Change-Id: Ieeff7fa6726f9398383d93ab50f8e864a3f9d8c5
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/73/620873/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/dont-include-logging-init-3437e0fc82830787.yaml']",2,4d35451f8cfee1f7778f5a9af3ca222893f8c3b2,logging,--- upgrade: - | zaqar::logging is now not included in init class by default. ,,4,1
openstack%2Fironic~master~I0e2b4641f57a60818f66840a9e0204ef22f261a5,openstack/ironic,master,I0e2b4641f57a60818f66840a9e0204ef22f261a5,Follow-up Retries and timeout for IPA command,MERGED,2018-12-05 14:44:25.000000000,2018-12-07 12:51:40.000000000,2018-12-07 12:51:40.000000000,"[{'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2018-12-05 14:44:25.000000000', 'files': ['ironic/conf/agent.py', 'releasenotes/notes/ipa-command-retries-and-timeout-29b0be3f2c21328c.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ce71948325e3ffa2163d6c5eb77670c4c88f326b', 'message': 'Follow-up Retries and timeout for IPA command\n\nThis patch fixes some nits from I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f\n\nChange-Id: I0e2b4641f57a60818f66840a9e0204ef22f261a5\n'}]",2,622983,ce71948325e3ffa2163d6c5eb77670c4c88f326b,28,11,1,15519,,,0,"Follow-up Retries and timeout for IPA command

This patch fixes some nits from I817a07bf38c0ee1dd7e8599cf4d646a22ab7027f

Change-Id: I0e2b4641f57a60818f66840a9e0204ef22f261a5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/622983/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/agent.py', 'releasenotes/notes/ipa-command-retries-and-timeout-29b0be3f2c21328c.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,ce71948325e3ffa2163d6c5eb77670c4c88f326b,ipa_command_retry_timeout,"import retrying class TestAgentClientAttempts(base.TestCase): def setUp(self): super(TestAgentClientAttempts, self).setUp() self.client = agent_client.AgentClient() self.client.session = mock.MagicMock(autospec=requests.Session) self.node = MockNode() @mock.patch.object(retrying.time, 'sleep', autospec=True) def test__command_fail_all_attempts(self, mock_sleep): mock_sleep.return_value = None error = 'Connection Timeout' method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} self.client.session.post.side_effect = [requests.Timeout(error), requests.Timeout(error), requests.Timeout(error), requests.Timeout(error)] self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.assertEqual(3, self.client.session.post.call_count) @mock.patch.object(retrying.time, 'sleep', autospec=True) def test__command_succeed_after_two_timeouts(self, mock_sleep): mock_sleep.return_value = None error = 'Connection Timeout' response_data = {'status': 'ok'} response_text = json.dumps(response_data) method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} self.client.session.post.side_effect = [requests.Timeout(error), requests.Timeout(error), MockResponse(response_text)] response = self.client._command(self.node, method, params) self.assertEqual(3, self.client.session.post.call_count) self.assertEqual(response, response_data) self.client.session.post.assert_called_with( self.client._get_command_url(self.node), data=self.client._get_command_body(method, params), params={'wait': 'false'}, timeout=60) @mock.patch.object(retrying.time, 'sleep', autospec=True) def test__command_succeed_after_one_timeout(self, mock_sleep): mock_sleep.return_value = None error = 'Connection Timeout' response_data = {'status': 'ok'} response_text = json.dumps(response_data) method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} self.client.session.post.side_effect = [requests.Timeout(error), MockResponse(response_text), requests.Timeout(error)] response = self.client._command(self.node, method, params) self.assertEqual(2, self.client.session.post.call_count) self.assertEqual(response, response_data) self.client.session.post.assert_called_with( self.client._get_command_url(self.node), data=self.client._get_command_body(method, params), params={'wait': 'false'}, timeout=60)"," def test__command_fail_all_attempts(self): error = 'Connection Timeout' method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} self.client.session.post.side_effect = [requests.Timeout(error), requests.Timeout(error), requests.Timeout(error), requests.Timeout(error)] self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.assertEqual(3, self.client.session.post.call_count) def test__command_succeed_after_two_timeouts(self): error = 'Connection Timeout' response_data = {'status': 'ok'} response_text = json.dumps(response_data) method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} self.client.session.post.side_effect = [requests.Timeout(error), requests.Timeout(error), MockResponse(response_text)] response = self.client._command(self.node, method, params) self.assertEqual(3, self.client.session.post.call_count) self.assertEqual(response, response_data) self.client.session.post.assert_called_with( self.client._get_command_url(self.node), data=self.client._get_command_body(method, params), params={'wait': 'false'}, timeout=60) def test__command_succeed_after_one_timeout(self): error = 'Connection Timeout' response_data = {'status': 'ok'} response_text = json.dumps(response_data) method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} self.client.session.post.side_effect = [requests.Timeout(error), MockResponse(response_text), requests.Timeout(error)] response = self.client._command(self.node, method, params) self.assertEqual(2, self.client.session.post.call_count) self.assertEqual(response, response_data) self.client.session.post.assert_called_with( self.client._get_command_url(self.node), data=self.client._get_command_body(method, params), params={'wait': 'false'}, timeout=60) ",80,64
openstack%2Fcharm-neutron-dynamic-routing~master~Id78aba7766e045003ad5661ca31d6a6de57d704a,openstack/charm-neutron-dynamic-routing,master,Id78aba7766e045003ad5661ca31d6a6de57d704a,Neutron-dynamic-routing support for SSL rabbitmq,MERGED,2018-12-06 19:40:59.000000000,2018-12-07 12:49:14.000000000,2018-12-07 12:49:14.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 19:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/d02a597ee2500bed59652279a43746b82c811068', 'message': 'Neutron-dynamic-routing support for SSL rabbitmq\n\nThe charm was failing to setup enough SSL configuration to communicate\nwith rabbitmq when rabbitmq uses SSL. This led to Bug:#1807233.\n\nThe change and its dependencies guarantees the charm will setup all the\nconfiguration and certificates required for communication with rabbitmq\nand SSL.\n\nDepends-On: I6bb56a59cd65310d644aa25ae203996b22ec4b4e\nChange-Id: Id78aba7766e045003ad5661ca31d6a6de57d704a\nCloses-Bug: #1807233\n'}, {'number': 2, 'created': '2018-12-06 20:00:39.000000000', 'files': ['src/lib/charm/openstack/dragent.py', 'src/reactive/dragent_handlers.py', 'unit_tests/test_dragent_handlers.py', 'src/templates/neutron.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/f17e32ea25e54d28c01e5a924c138dd9a9e40063', 'message': 'Neutron-dynamic-routing support for SSL rabbitmq\n\nThe charm was failing to setup enough SSL configuration to communicate\nwith rabbitmq when rabbitmq uses SSL. This led to Bug:#1807233.\n\nThe change and its dependencies guarantees the charm will setup all the\nconfiguration and certificates required for communication with rabbitmq\nand SSL.\n\nDepends-On: I6bb56a59cd65310d644aa25ae203996b22ec4b4e\nChange-Id: Id78aba7766e045003ad5661ca31d6a6de57d704a\nCloses-Bug: #1807233\n'}]",0,623297,f17e32ea25e54d28c01e5a924c138dd9a9e40063,15,4,2,20805,,,0,"Neutron-dynamic-routing support for SSL rabbitmq

The charm was failing to setup enough SSL configuration to communicate
with rabbitmq when rabbitmq uses SSL. This led to Bug:#1807233.

The change and its dependencies guarantees the charm will setup all the
configuration and certificates required for communication with rabbitmq
and SSL.

Depends-On: I6bb56a59cd65310d644aa25ae203996b22ec4b4e
Change-Id: Id78aba7766e045003ad5661ca31d6a6de57d704a
Closes-Bug: #1807233
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/97/623297/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/dragent.py', 'src/reactive/dragent_handlers.py', 'src/templates/neutron.conf']",3,d02a597ee2500bed59652279a43746b82c811068,bug/1807233,"# Transport URL must be in the [DEFAULT] section {% include ""parts/section-transport-url"" %} # End of [DEFAULT] section {% include ""parts/section-oslo-messaging-rabbit"" %}",{% if amqp.transport_url -%} transport_url = {{ amqp.transport_url }} {% endif -%},18,3
openstack%2Fkuryr-kubernetes~master~Idb734f81a1f4fc60155b0700de275d0b01f52a30,openstack/kuryr-kubernetes,master,Idb734f81a1f4fc60155b0700de275d0b01f52a30,Allocate service FIP after LB was provisioned,MERGED,2018-12-04 11:57:26.000000000,2018-12-07 12:46:58.000000000,2018-12-07 12:46:58.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-12-04 11:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3d206d40e80e4ff1c6f9f182b54f121812b60c26', 'message': 'Allocate service FIP after LB was provisioned\n\nThis patch changes the FIP allocation to be only\nafter all LB components were provisioned.\n\nWith this approach, the FIP allocation is performed just before\nKuryr annotates endpoints details, this should reduce\nthe probability for orphan FIPs in case of kuryr-controller\nrestart.\n\nChange-Id: Idb734f81a1f4fc60155b0700de275d0b01f52a30\nCloses-Bug: 1806647\n'}, {'number': 2, 'created': '2018-12-04 21:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f330dd14eee9e0fc3849c2d7f53fd5892dc83ed6', 'message': 'Allocate service FIP after LB was provisioned\n\nThis patch changes the FIP allocation to be only\nafter all LB components were provisioned.\n\nWith this approach, the FIP allocation is performed just before\nKuryr annotates endpoints details, this should reduce\nthe probability for orphan FIPs in case of kuryr-controller\nrestart.\n\nIn addition it updates FIP allocation to check if FIP\nalready allocated for LB vip before allocating new FIP.\n\nChange-Id: Idb734f81a1f4fc60155b0700de275d0b01f52a30\nCloses-Bug: 1806647\n'}, {'number': 3, 'created': '2018-12-05 08:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/df190fc046a65fe728c60589d835ded7ce6fdbd2', 'message': 'Allocate service FIP after LB was provisioned\n\nThis patch changes the FIP allocation to be only\nafter all LB components were provisioned.\n\nWith this approach, the FIP allocation is performed just before\nKuryr annotates endpoints details, this should reduce\nthe probability for orphan FIPs in case of kuryr-controller\nrestart.\n\nIn addition it updates FIP allocation to check if FIP\nalready allocated for LB vip before allocating new FIP.\n\nChange-Id: Idb734f81a1f4fc60155b0700de275d0b01f52a30\nCloses-Bug: 1806647\n'}, {'number': 4, 'created': '2018-12-05 09:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8d6c86db52ca7598b5addc7250394aaea1f7a5ef', 'message': 'Allocate service FIP after LB was provisioned\n\nThis patch changes the FIP allocation to be only\nafter all LB components were provisioned.\n\nWith this approach, the FIP allocation is performed just before\nKuryr annotates endpoints details, this should reduce\nthe probability for orphan FIPs in case of kuryr-controller\nrestart.\n\nIn addition it updates FIP allocation to check if FIP\nalready allocated for LB vip before allocating new FIP.\n\nChange-Id: Idb734f81a1f4fc60155b0700de275d0b01f52a30\nCloses-Bug: 1806647\n'}, {'number': 5, 'created': '2018-12-05 13:02:49.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/lb_public_ip.py', 'kuryr_kubernetes/controller/drivers/public_ip.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/300dc36b062aaa2c5eb1c3ee2f8c041e1e33a99d', 'message': 'Allocate service FIP after LB was provisioned\n\nThis patch changes the FIP allocation to be only\nafter all LB components were provisioned.\n\nWith this approach, the FIP allocation is performed just before\nKuryr annotates endpoints details, this should reduce\nthe probability for orphan FIPs in case of kuryr-controller\nrestart.\n\nIn addition it updates FIP allocation to check if FIP\nalready allocated for LB vip before allocating new FIP.\n\nChange-Id: Idb734f81a1f4fc60155b0700de275d0b01f52a30\nCloses-Bug: 1806647\n'}]",4,622257,300dc36b062aaa2c5eb1c3ee2f8c041e1e33a99d,27,5,5,21041,,,0,"Allocate service FIP after LB was provisioned

This patch changes the FIP allocation to be only
after all LB components were provisioned.

With this approach, the FIP allocation is performed just before
Kuryr annotates endpoints details, this should reduce
the probability for orphan FIPs in case of kuryr-controller
restart.

In addition it updates FIP allocation to check if FIP
already allocated for LB vip before allocating new FIP.

Change-Id: Idb734f81a1f4fc60155b0700de275d0b01f52a30
Closes-Bug: 1806647
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/57/622257/5 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py']",2,3d206d40e80e4ff1c6f9f182b54f121812b60c26,bug/1806647," lbaas_spec.type = 'DummyType' lbaas_spec.lb_ip = ""1.2.3.4"" lbaas_spec.project_id = 12345678 loadbalancer = mock.Mock() loadbalancer.port_id = 12345678 lbaas_state.loadbalancer = loadbalancer m_drv_service_pub_ip = mock.Mock() m_drv_service_pub_ip.acquire_service_pub_ip_info.return_value = None m_drv_service_pub_ip.associate_pub_ip.return_value = True m_handler._drv_service_pub_ip = m_drv_service_pub_ip loadbalancer = mock.Mock() loadbalancer.port_id = 12345678 lbaas_state.loadbalancer = loadbalancer m_drv_service_pub_ip = mock.Mock() m_drv_service_pub_ip.acquire_service_pub_ip_info.return_value = None m_drv_service_pub_ip.associate_pub_ip.return_value = True m_handler._drv_service_pub_ip = m_drv_service_pub_ip",,34,13
openstack%2Fkuryr-kubernetes~master~I1126906516b787a5ce4dc5421f5323ad4f4b331c,openstack/kuryr-kubernetes,master,I1126906516b787a5ce4dc5421f5323ad4f4b331c,Ignore exc on FIP association if state is correct,MERGED,2018-10-18 09:00:27.000000000,2018-12-07 12:38:58.000000000,2018-11-09 12:50:55.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-18 09:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f74889520ef8ec70417d51390acba98ddf32286f', 'message': ""Ignore exc on FIP association if state is correct\n\nIf we're getting Conflict exception on FIP association we should check\nif that FIP isn't already associated correctly and if that's the case\nignore the exception. This commit implements that behavior.\n\nThis solves the case when kuryr-controller is restarted after FIP\nassociation but before that fact is saved into LBaaSState annotation.\n\nChange-Id: I1126906516b787a5ce4dc5421f5323ad4f4b331c\nCloses-Bug: 1798549\n""}, {'number': 2, 'created': '2018-10-18 10:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d2a41b463b6c1ad5ad9379e6bfe334ba15eb4792', 'message': ""Ignore exc on FIP association if state is correct\n\nIf we're getting Conflict exception on FIP association we should check\nif that FIP isn't already associated correctly and if that's the case\nignore the exception. This commit implements that behavior.\n\nThis solves the case when kuryr-controller is restarted after FIP\nassociation but before that fact is saved into LBaaSState annotation.\n\nChange-Id: I1126906516b787a5ce4dc5421f5323ad4f4b331c\nCloses-Bug: 1798549\n""}, {'number': 3, 'created': '2018-11-08 12:24:04.000000000', 'files': ['kuryr_kubernetes/controller/drivers/public_ip.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_public_ip.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a5ee0fdb061ac5546e90c3f922bfc2c266378b93', 'message': ""Ignore exc on FIP association if state is correct\n\nIf we're getting Conflict exception on FIP association we should check\nif that FIP isn't already associated correctly and if that's the case\nignore the exception. This commit implements that behavior.\n\nThis solves the case when kuryr-controller is restarted after FIP\nassociation but before that fact is saved into LBaaSState annotation.\n\nChange-Id: I1126906516b787a5ce4dc5421f5323ad4f4b331c\nCloses-Bug: 1798549\n""}]",3,611542,a5ee0fdb061ac5546e90c3f922bfc2c266378b93,17,7,3,11600,,,0,"Ignore exc on FIP association if state is correct

If we're getting Conflict exception on FIP association we should check
if that FIP isn't already associated correctly and if that's the case
ignore the exception. This commit implements that behavior.

This solves the case when kuryr-controller is restarted after FIP
association but before that fact is saved into LBaaSState annotation.

Change-Id: I1126906516b787a5ce4dc5421f5323ad4f4b331c
Closes-Bug: 1798549
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/42/611542/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/public_ip.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_public_ip.py']",2,f74889520ef8ec70417d51390acba98ddf32286f,bug/1798549," def test_associate_conflict_correct(self): driver = d_public_ip.FipPubIpDriver() res_id = mock.sentinel.res_id vip_port_id = mock.sentinel.vip_port_id neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_floatingip.side_effect = n_exc.Conflict neutron.get_floatingip.return_value = {'id': res_id, 'port_id': vip_port_id} self.assertIsNone(driver.associate(res_id, vip_port_id)) def test_associate_conflict_incorrect(self): driver = d_public_ip.FipPubIpDriver() res_id = mock.sentinel.res_id vip_port_id = mock.sentinel.vip_port_id neutron = self.useFixture(k_fix.MockNeutronClient()).client neutron.update_floatingip.side_effect = n_exc.Conflict neutron.get_floatingip.return_value = {'id': res_id, 'port_id': 'foo'} self.assertRaises(n_exc.Conflict, driver.associate, res_id, vip_port_id) ",,34,2
openstack%2Fkeystonemiddleware~master~Ic98b7942c1f394a45958c86eb2d091490fc25b1f,openstack/keystonemiddleware,master,Ic98b7942c1f394a45958c86eb2d091490fc25b1f,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 03:37:35.000000000,2018-12-07 12:31:55.000000000,2018-12-07 12:31:55.000000000,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-12-05 03:37:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/58c5115e4aeadf0d5d80f08fc37214964e38da13', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Ic98b7942c1f394a45958c86eb2d091490fc25b1f\n'}]",0,622764,58c5115e4aeadf0d5d80f08fc37214964e38da13,8,4,1,28543,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Ic98b7942c1f394a45958c86eb2d091490fc25b1f
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/64/622764/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,58c5115e4aeadf0d5d80f08fc37214964e38da13,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftripleo-ui~master~I91fa66eec85f857a6139beb1a653031e88c3e595,openstack/tripleo-ui,master,I91fa66eec85f857a6139beb1a653031e88c3e595,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 12:15:43.000000000,2018-12-07 12:19:36.000000000,2018-12-07 12:19:36.000000000,"[{'_account_id': 7509}, {'_account_id': 10112}, {'_account_id': 20970}, {'_account_id': 22348}, {'_account_id': 28935}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-12-04 12:15:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/0227cd737670c5869145327c28d776b94e55c1c1', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I91fa66eec85f857a6139beb1a653031e88c3e595\n'}]",0,622277,0227cd737670c5869145327c28d776b94e55c1c1,12,6,1,26297,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I91fa66eec85f857a6139beb1a653031e88c3e595
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/77/622277/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0227cd737670c5869145327c28d776b94e55c1c1,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftripleo-ui~master~I3b350bc7c56d2b563c7686c31569ff728c268fde,openstack/tripleo-ui,master,I3b350bc7c56d2b563c7686c31569ff728c268fde,Update min tox version to 2.0,MERGED,2018-11-09 03:23:46.000000000,2018-12-07 12:19:36.000000000,2018-12-07 12:19:36.000000000,"[{'_account_id': 7509}, {'_account_id': 10112}, {'_account_id': 20970}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-11-09 03:23:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/073d5d17e3d5a32972469382d4f2a371429625f5', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I3b350bc7c56d2b563c7686c31569ff728c268fde\n'}]",0,616752,073d5d17e3d5a32972469382d4f2a371429625f5,10,6,1,28935,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I3b350bc7c56d2b563c7686c31569ff728c268fde
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/52/616752/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,073d5d17e3d5a32972469382d4f2a371429625f5,,minversion = 2.0,minversion = 1.6,1,1
openstack%2Ftripleo-validations~stable%2Frocky~I6a01a74b15c783add71f83c941141eb3a919211d,openstack/tripleo-validations,stable/rocky,I6a01a74b15c783add71f83c941141eb3a919211d,Check the Heat purge_deleted crontab on the heat_api_cron container,MERGED,2018-12-01 07:35:25.000000000,2018-12-07 12:19:35.000000000,2018-12-07 12:19:35.000000000,"[{'_account_id': 9317}, {'_account_id': 17888}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-01 07:35:25.000000000', 'files': ['validations/undercloud-heat-purge-deleted.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4bb7c391b4fe6c2f3d6c4cb2fd1c2825204e5910', 'message': 'Check the Heat purge_deleted crontab on the heat_api_cron container\n\nOn the Undercloud, we have 4 Heat api containers:\n- heat_api\n- heat_api_cron\n- heat_api_cfn\n- heat_engine\n\nOn each container, the heat user has the right job definition in his cron table.\nBut cronie is only running on the heat_cron_api container.\n\nChange-Id: I6a01a74b15c783add71f83c941141eb3a919211d\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit b90e31001f56174477f83f0282d6019b918bccd9)\n'}]",0,621337,4bb7c391b4fe6c2f3d6c4cb2fd1c2825204e5910,11,3,1,11491,,,0,"Check the Heat purge_deleted crontab on the heat_api_cron container

On the Undercloud, we have 4 Heat api containers:
- heat_api
- heat_api_cron
- heat_api_cfn
- heat_engine

On each container, the heat user has the right job definition in his cron table.
But cronie is only running on the heat_cron_api container.

Change-Id: I6a01a74b15c783add71f83c941141eb3a919211d
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit b90e31001f56174477f83f0282d6019b918bccd9)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/37/621337/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/undercloud-heat-purge-deleted.yaml'],1,4bb7c391b4fe6c2f3d6c4cb2fd1c2825204e5910,undercloud-heat-purge-deleted-stable/rocky," shell: 'docker exec heat_api_cron crontab -l -u heat |grep -v ""^#""'"," shell: 'docker exec $(docker ps -q --filter ""name=heat"" | head -1) crontab -l -u heat |grep -v ""^#""'",1,1
openstack%2Foslo.limit~master~I511c009136384b2d388b01fc2e89d8be73b5709e,openstack/oslo.limit,master,I511c009136384b2d388b01fc2e89d8be73b5709e,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-07 12:15:34.000000000,2018-12-07 12:15:34.000000000,"[{'_account_id': 9796}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/cf2e037f20d37b5c39c8404eff3208b3e45b0540', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I511c009136384b2d388b01fc2e89d8be73b5709e\n'}, {'number': 2, 'created': '2018-12-05 01:39:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/f31316ab5b2f3f98836ed92c2d002e9d531f97d3', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: I511c009136384b2d388b01fc2e89d8be73b5709e\n'}]",0,621795,f31316ab5b2f3f98836ed92c2d002e9d531f97d3,9,3,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: I511c009136384b2d388b01fc2e89d8be73b5709e
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/95/621795/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,cf2e037f20d37b5c39c8404eff3208b3e45b0540,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fkuryr-kubernetes~master~I5bfedbabb6a458b17f07422372306a1860daa9ce,openstack/kuryr-kubernetes,master,I5bfedbabb6a458b17f07422372306a1860daa9ce,Add experimental gate with cri-o,MERGED,2018-11-27 19:10:07.000000000,2018-12-07 12:13:17.000000000,2018-12-07 12:13:17.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-11-27 19:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/54d36366d8bdbadf74bb3e663d020a7b477ea9c5', 'message': ""WiP: Add gate with cri-o\n\nLet's try on non-containerized Kuryr first, but ultimately this should\nbe running containerized.\n\nChange-Id: I5bfedbabb6a458b17f07422372306a1860daa9ce\n""}, {'number': 2, 'created': '2018-11-28 09:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1d710094845d95edf5ee1002810627fb105b4ac7', 'message': ""WiP: Add gate with cri-o\n\nLet's try on non-containerized Kuryr first, but ultimately this should\nbe running containerized.\n\nChange-Id: I5bfedbabb6a458b17f07422372306a1860daa9ce\n""}, {'number': 3, 'created': '2018-11-28 19:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/35cd6e9c6fb263a14bc5341a59d543ba0ce84d99', 'message': ""WiP: Add gate with cri-o\n\nLet's try on non-containerized Kuryr first, but ultimately this should\nbe running containerized.\n\nChange-Id: I5bfedbabb6a458b17f07422372306a1860daa9ce\n""}, {'number': 4, 'created': '2018-11-29 09:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/93760a5953707f0e337cfdc45e69b78e243342c4', 'message': ""WiP: Add gates with cri-o\n\nI'm now testing with both non-containerized and containerized to find\nall issues. Afterwards we'll just go with a containerized one.\n\nChange-Id: I5bfedbabb6a458b17f07422372306a1860daa9ce\n""}, {'number': 5, 'created': '2018-11-29 14:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1bbe2e6a7a6ce4364758d53acdc578368340e6a2', 'message': 'Add experimental gate with cri-o\n\nThis commit adds experimental gate running cri-o instead of Docker as\ncontainer engine.\n\nChange-Id: I5bfedbabb6a458b17f07422372306a1860daa9ce\n'}, {'number': 6, 'created': '2018-12-03 12:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/102b10ea30bbbd8bf3108a40b7bb3e84ebe8fb50', 'message': 'Add experimental gate with cri-o\n\nThis commit adds experimental gate running cri-o instead of Docker as\ncontainer engine.\n\nChange-Id: I5bfedbabb6a458b17f07422372306a1860daa9ce\n'}, {'number': 7, 'created': '2018-12-03 15:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d9bc40c70088367617df22062145a14236f78617', 'message': 'Add experimental gate with cri-o\n\nThis commit adds experimental gate running cri-o instead of Docker as\ncontainer engine.\n\nChange-Id: I5bfedbabb6a458b17f07422372306a1860daa9ce\n'}, {'number': 8, 'created': '2018-12-03 18:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7ff35e7300b10d67bf37c32cb13192c7d489ed16', 'message': 'Add experimental gate with cri-o\n\nThis commit adds experimental gate running cri-o instead of Docker as\ncontainer engine.\n\nChange-Id: I5bfedbabb6a458b17f07422372306a1860daa9ce\n'}, {'number': 9, 'created': '2018-12-04 17:21:14.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cbc614174a0f0c779e59b0870d3c4c494f0e7bde', 'message': 'Add experimental gate with cri-o\n\nThis commit adds experimental gate running cri-o instead of Docker as\ncontainer engine.\n\nImplements: blueprint crio-support\nChange-Id: I5bfedbabb6a458b17f07422372306a1860daa9ce\n'}]",0,620388,cbc614174a0f0c779e59b0870d3c4c494f0e7bde,54,4,9,11600,,,0,"Add experimental gate with cri-o

This commit adds experimental gate running cri-o instead of Docker as
container engine.

Implements: blueprint crio-support
Change-Id: I5bfedbabb6a458b17f07422372306a1860daa9ce
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/88/620388/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/octavia.yaml'],1,54d36366d8bdbadf74bb3e663d020a7b477ea9c5,bp/crio-support, - job: name: kuryr-kubernetes-tempest-octavia-crio parent: kuryr-kubernetes-tempest-octavia nodeset: openstack-single-node-bionic vars: devstack_localrc: CONTAINER_ENGINE: crio voting: false,,9,0
openstack%2Fcyborg~master~Ia566468e1096540ca3a5078affc7b622cad5853e,openstack/cyborg,master,Ia566468e1096540ca3a5078affc7b622cad5853e,Add nova part patch which allow Nova to interact with Cyborg,NEW,2018-12-07 10:11:09.000000000,2018-12-07 12:11:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 25738}]","[{'number': 1, 'created': '2018-12-07 10:11:09.000000000', 'files': ['nova-patch/nova-cyborg-interaction.patch'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/960f04f6cad1ceba21ba8fbe8c5f1c6d6dd5bfbb', 'message': 'Add nova part patch which allow Nova to interact with Cyborg\n\nThis patch is just for reference.\n\nWe can boot or delete an instance with acceleration devices. Instance resize,\nlive migration are not supported.\n\nThis patch is based on the previous commit:\nd3fa585 Merge ""Update some placement docs to reflect modern times""\n\nChange-Id: Ia566468e1096540ca3a5078affc7b622cad5853e\n'}]",0,623441,960f04f6cad1ceba21ba8fbe8c5f1c6d6dd5bfbb,3,2,1,25738,,,0,"Add nova part patch which allow Nova to interact with Cyborg

This patch is just for reference.

We can boot or delete an instance with acceleration devices. Instance resize,
live migration are not supported.

This patch is based on the previous commit:
d3fa585 Merge ""Update some placement docs to reflect modern times""

Change-Id: Ia566468e1096540ca3a5078affc7b622cad5853e
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/41/623441/1 && git format-patch -1 --stdout FETCH_HEAD,['nova-patch/nova-cyborg-interaction.patch'],1,960f04f6cad1ceba21ba8fbe8c5f1c6d6dd5bfbb,fpga-provider-poc-3,"From 707d6223288695aba9115249513ade45252f2633 Mon Sep 17 00:00:00 2001 From: Xinran WANG <wxr930217@gmail.com> Date: Fri, 13 Jul 2018 20:06:04 +0800 Subject: [PATCH] Enable Cyborgclient in nova and implement the Nova/Cyborg interaction. --- nova/accelerator/__init__.py | 0 nova/accelerator/cyborg.py | 145 +++++++++++++++++++++ nova/api/openstack/compute/servers.py | 1 + .../api/openstack/placement/handlers/allocation.py | 3 +- .../placement/handlers/allocation_candidate.py | 2 +- nova/compute/api.py | 22 ++++ nova/compute/manager.py | 48 ++++++- nova/conductor/manager.py | 3 +- nova/conf/__init__.py | 2 + nova/conf/cyborg.py | 72 ++++++++++ nova/context.py | 3 +- nova/exception.py | 4 + nova/objects/instance.py | 6 +- nova/scheduler/client/report.py | 15 ++- nova/scheduler/filter_scheduler.py | 2 +- nova/scheduler/manager.py | 3 - nova/virt/driver.py | 2 +- nova/virt/libvirt/driver.py | 21 ++- nova/volume/cinder.py | 5 +- 19 files changed, 330 insertions(+), 29 deletions(-) create mode 100644 nova/accelerator/__init__.py create mode 100644 nova/accelerator/cyborg.py create mode 100644 nova/conf/cyborg.py diff --git a/nova/accelerator/__init__.py b/nova/accelerator/__init__.py new file mode 100644 index 0000000..e69de29 diff --git a/nova/accelerator/cyborg.py b/nova/accelerator/cyborg.py new file mode 100644 index 0000000..1d1c397 --- /dev/null +++ b/nova/accelerator/cyborg.py @@ -0,0 +1,145 @@ +from cyborgclient.v1 import client as cyborg_client +from keystoneauth1 import loading as ks_loading +from oslo_log import log as logging + +import nova.conf + +from nova.i18n import _ +from nova import service_auth + + +CONF = nova.conf.CONF + +LOG = logging.getLogger(__name__) + +_SESSION = None + + +def _load_session(): + global _SESSION + + if not _SESSION: + _SESSION = ks_loading.load_session_from_conf_options( + CONF, nova.conf.cyborg.cyborg_group.name) + + +def _get_auth(context): + global _ADMIN_AUTH + # NOTE(lixipeng): Auth token is none when call + # cinder API from compute periodic tasks, context + # from them generated from 'context.get_admin_context' + # which only set is_admin=True but is without token. + # So add load_auth_plugin when this condition appear. + if context.is_admin and not context.auth_token: + if not _ADMIN_AUTH: + _ADMIN_AUTH = _load_auth_plugin(CONF) + return _ADMIN_AUTH + else: + return service_auth.get_auth_plugin(context) + + +def _load_auth_plugin(conf): + auth_plugin = ks_loading.load_auth_from_conf_options(conf, nova.conf.cyborg.cyborg_group.name) + + if auth_plugin: + return auth_plugin + + if conf.cyborg.auth_type is None: + LOG.error('The [cyborg] section of your nova configuration file ' + 'must be configured for authentication with the ' + 'acceleration service endpoint.') + err_msg = _('Unknown auth type: %s') % conf.cyborg.auth_type + raise Exception() + + +def _get_cyborgclient_parameters(context): + _load_session() + + auth = _get_auth(context) + + url = None + + service_type, service_name, interface = CONF.cyborg.catalog_info.split(':') + + service_parameters = {'service_type': service_type, + 'service_name': service_name, + 'interface': interface, + 'region_name': CONF.cyborg.os_region_name} + + if CONF.cyborg.endpoint_template: + url = CONF.cyborg.endpoint_template % context.to_dict() + else: + url = _SESSION.get_endpoint(auth, **service_parameters) + + return auth, service_parameters, url + +def cyborgclient(context): + """"""Constructs a cyborg client object for making API requests. + + :param context: The nova request context for auth. + :param microversion: Optional microversion to check against the client. + This implies that Cinder v3 is required for any calls that require a + microversion. If the microversion is not available, this method will + raise an CinderAPIVersionNotAvailable exception. + :param skip_version_check: If True and a specific microversion is + requested, the version discovery check is skipped and the microversion + is used directly. This should only be used if a previous check for the + same microversion was successful. + :param check_only: If True, don't build the actual client; just do the + setup and version checking. + :raises: UnsupportedCinderAPIVersion if a major version other than 3 is + requested. + :raises: CinderAPIVersionNotAvailable if microversion checking is requested + and the specified microversion is higher than what the service can + handle. + :returns: A cinderclient.client.Client wrapper, unless check_only is False. + """""" + + endpoint_override = None + + auth, service_parameters, url = _get_cyborgclient_parameters(context) + + if CONF.cyborg.endpoint_template: + endpoint_override = url + + version = 1 + return cyborg_client.Client(endpoint_override=endpoint_override, + auth=auth, + session=_SESSION, + **service_parameters) + + +class API(object): + """"""API for interacting with the volume manager."""""" + + def list_accelerators(self, context): + """"""Get the details about a volume given it's ID. + + :param context: the nova request context + :param volume_id: the id of the volume to get + :param microversion: optional string microversion value + :raises: CinderAPIVersionNotAvailable if the specified microversion is + not available. + """""" + item = cyborgclient(context).accelerators.list() + return item + + + def list_deployables(self, context, instance_uuid=None): + """"""Get the details about a volume given it's ID. + + :param context: the nova request context + :param volume_id: the id of the volume to get + :param microversion: optional string microversion value + :raises: CinderAPIVersionNotAvailable if the specified microversion is + not available. + """""" + item = cyborgclient(context).deployables.list(instance_uuid=instance_uuid) + return item + + def allocation(self, context, acc_info): + resp = cyborgclient(context).deployables.allocation(acc_info) + return resp + + def deallocation(self, context, dep_uuid): + cyborgclient(context).deployables.deallocation(dep_uuid) diff --git a/nova/api/openstack/compute/servers.py b/nova/api/openstack/compute/servers.py index f24d945..d96ac02 100644 --- a/nova/api/openstack/compute/servers.py +++ b/nova/api/openstack/compute/servers.py @@ -522,6 +522,7 @@ class ServersController(wsgi.Controller): inst_type = flavors.get_flavor_by_flavor_id( flavor_id, ctxt=context, read_deleted=""no"") + supports_multiattach = common.supports_multiattach_volume(req) (instances, resv_id) = self.compute_api.create(context, inst_type, diff --git a/nova/api/openstack/placement/handlers/allocation.py b/nova/api/openstack/placement/handlers/allocation.py index 7d9077e..30faba4 100644 --- a/nova/api/openstack/placement/handlers/allocation.py +++ b/nova/api/openstack/placement/handlers/allocation.py @@ -371,7 +371,8 @@ def _set_allocations_for_consumer(req, schema): # If the body includes an allocation for a resource provider # that does not exist, raise a 400. rp_objs = _resource_providers_by_uuid(context, allocation_data.keys()) - consumer, created_new_consumer = util.ensure_consumer( + data['consumer_generation'] = None + consumer, created_new_consumer = util.ensure_consumer( context, consumer_uuid, data.get('project_id'), data.get('user_id'), data.get('consumer_generation'), want_version) diff --git a/nova/api/openstack/placement/handlers/allocation_candidate.py b/nova/api/openstack/placement/handlers/allocation_candidate.py index f5425cd..e1fd6a5 100644 --- a/nova/api/openstack/placement/handlers/allocation_candidate.py +++ b/nova/api/openstack/placement/handlers/allocation_candidate.py @@ -247,7 +247,7 @@ def _transform_allocation_candidates(alloc_cands, requests, want_version): 'allocation_requests': <ALLOC_REQUESTS>, 'provider_summaries': <PROVIDER_SUMMARIES>, } - """""" + """""" # exclude nested providers with old microversions if not want_version.matches((1, 29)): alloc_cands = _exclude_nested_providers(alloc_cands) diff --git a/nova/compute/api.py b/nova/compute/api.py index a14e160..b452440 100644 --- a/nova/compute/api.py +++ b/nova/compute/api.py @@ -62,6 +62,7 @@ from nova import hooks from nova.i18n import _ from nova import image from nova import network +from nova.accelerator import cyborg from nova.network import model as network_model from nova.network.security_group import openstack_driver from nova.network.security_group import security_group_base @@ -252,6 +253,7 @@ class API(base.Base): self.image_api = image_api or image.API() self.network_api = network_api or network.API() self.volume_api = volume_api or cinder.API() + self.cyborg_api = cyborg.API() # NOTE(mriedem): This looks a bit weird but we get the reportclient # via SchedulerClient since it lazy-loads SchedulerReportClient on # the first usage which helps to avoid a bunch of lockutils spam in @@ -912,6 +914,7 @@ class API(base.Base): supports_multiattach)) instance_tags = self._transform_tags(tags, instance.uuid) + build_request = objects.BuildRequest(context, instance=instance, instance_uuid=instance.uuid, project_id=instance.project_id, @@ -1903,6 +1906,25 @@ class API(base.Base): bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance.uuid) + if not instance.acc_uuid: + acc_uuids = [dep.uuid for dep in + cyborg.API().list_deployables(context, instance.uuid)] + else: + acc_uuids = instance.acc_uuid + for id in acc_uuids: + LOG.info(""Working on deleting acceleration device %s "" + ""from instance..."", + id, instance=instance) + try: + self.cyborg_api.deallocation(context, id) + except (exception.AcceleratorNotFound) as exc: + LOG.warning(""Failed to deallocate accelerator from"" + ""instance"", exc.format_message(), + instance=instance) + except Exception: + LOG.exception(""Something wrong happened when trying to "" + ""delete accelerator from instance."") + # At these states an instance has a snapshot associate. if instance.vm_state in (vm_states.SHELVED, vm_states.SHELVED_OFFLOADED): diff --git a/nova/compute/manager.py b/nova/compute/manager.py index 31f8faf..42be438 100644 --- a/nova/compute/manager.py +++ b/nova/compute/manager.py @@ -53,6 +53,7 @@ import six from six.moves import range from nova import block_device +from nova.accelerator import cyborg from nova.cells import rpcapi as cells_rpcapi from nova import compute from nova.compute import build_results @@ -494,6 +495,7 @@ class ComputeManager(manager.Manager): self.virtapi = ComputeVirtAPI(self) self.network_api = network.API() self.volume_api = cinder.API() + self.cyborg_api = cyborg.API() self.image_api = image.API() self._last_host_check = 0 self._last_bw_usage_poll = 0 @@ -1989,9 +1991,10 @@ class ComputeManager(manager.Manager): self._validate_instance_group_policy(context, instance, scheduler_hints) image_meta = objects.ImageMeta.from_dict(image) + acc_info = instance.flavor.extra_specs with self._build_resources(context, instance, requested_networks, security_groups, image_meta, - block_device_mapping) as resources: + block_device_mapping, acc_info) as resources: instance.vm_state = vm_states.BUILDING instance.task_state = task_states.SPAWNING # NOTE(JoshNang) This also saves the changes to the @@ -2001,6 +2004,7 @@ class ComputeManager(manager.Manager): task_states.BLOCK_DEVICE_MAPPING) block_device_info = resources['block_device_info'] network_info = resources['network_info'] + acc_info = resources['acc_info'] allocs = resources['allocations'] LOG.debug('Start spawning the instance on the hypervisor.', instance=instance) @@ -2008,7 +2012,8 @@ class ComputeManager(manager.Manager): self.driver.spawn(context, instance, image_meta, injected_files, admin_password, allocs, network_info=network_info, - block_device_info=block_device_info) + block_device_info=block_device_info, + acc_info=acc_info) LOG.info('Took %0.2f seconds to spawn the instance on ' 'the hypervisor.', timer.elapsed(), instance=instance) @@ -2097,6 +2102,8 @@ class ComputeManager(manager.Manager): raise exception.BuildAbortException(instance_uuid=instance.uuid, reason=e.format_message()) except Exception as e: + for uuid in instance.acc_uuid: + self.cyborg_api.deallocation(context, uuid) self._notify_about_instance_usage(context, instance, 'create.error', fault=e) tb = traceback.format_exc() @@ -2151,7 +2158,8 @@ class ComputeManager(manager.Manager): @contextlib.contextmanager def _build_resources(self, context, instance, requested_networks, - security_groups, image_meta, block_device_mapping): + security_groups, image_meta, block_device_mapping, + acc_info): resources = {} network_info = None try: @@ -2223,8 +2231,40 @@ class ComputeManager(manager.Manager): reason=msg) try: + LOG.debug('Start prepare accelerator for instance.', + instance=instance) + if acc_info: + acc_info['host'] = instance.host + acc_info['instance_uuid'] = instance.uuid + + # call list_deployable_by_filter + # deps = self.cyborg_api.list_deployables(context) + # deps = [deps[0]._info] + deployables = self.cyborg_api.allocation(context, acc_info) + for dep in deployables: + instance.acc_uuid.append(dep.uuid) + instance.save() + resources['acc_info'] = deployables + else: + resources['acc_info'] = None + except (exception.InstanceNotFound, + exception.UnexpectedDeletingTaskStateError): + raise + except exception.UnexpectedTaskStateError as e: + raise exception.BuildAbortException(instance_uuid=instance.uuid, + reason=e.format_message()) + except Exception: + for uuid in instance.acc_uuid: + self.cyborg_api.deallocation(context, uuid) + LOG.exception('Failed to prepare accelerators', + instance=instance) + msg = _('Failed to allocate the accelerators, not rescheduling.') + raise exception.BuildAbortException(instance_uuid=instance.uuid, + reason=msg) + + try: resources['allocations'] = ( - self.reportclient.get_allocations_for_consumer(context, + self.reportclient.get_allocations_for_consumer(context, instance.uuid)) except Exception: LOG.exception('Failure retrieving placement allocations', diff --git a/nova/conductor/manager.py b/nova/conductor/manager.py index e525bad..aa114e8 100644 --- a/nova/conductor/manager.py +++ b/nova/conductor/manager.py @@ -1108,7 +1108,8 @@ class ComputeTaskManager(base.Base): # Add all the UUIDs for the instances instance_uuids = [spec.instance_uuid for spec in request_specs] try: - host_lists = self._schedule_instances(context, request_specs[0], + # request_specs[0].flavor.extra_specs={} + host_lists = self._schedule_instances(context, request_specs[0], instance_uuids, return_alternates=True) except Exception as exc: LOG.exception('Failed to schedule instances') diff --git a/nova/conf/__init__.py b/nova/conf/__init__.py index 7649e3d..c9b1770 100644 --- a/nova/conf/__init__.py +++ b/nova/conf/__init__.py @@ -30,6 +30,7 @@ from nova.conf import conductor from nova.conf import configdrive from nova.conf import console from nova.conf import consoleauth +from nova.conf import cyborg from nova.conf import database from nova.conf import devices from nova.conf import ephemeral_storage @@ -84,6 +85,7 @@ conductor.register_opts(CONF) configdrive.register_opts(CONF) console.register_opts(CONF) consoleauth.register_opts(CONF) +cyborg.register_opts(CONF) database.register_opts(CONF) devices.register_opts(CONF) ephemeral_storage.register_opts(CONF) diff --git a/nova/conf/cyborg.py b/nova/conf/cyborg.py new file mode 100644 index 0000000..b127529 --- /dev/null +++ b/nova/conf/cyborg.py @@ -0,0 +1,72 @@ +from keystoneauth1 import loading as ks_loading +from oslo_config import cfg + +cyborg_group = cfg.OptGroup( + 'cyborg', + title='Cyborg Options', + help='Configuration options for the Accelerator service') +cyborg_opts = [ + cfg.StrOpt('catalog_info', + default='accelerator:cyborg:publicURL', + regex='(\w+):(\w+):(.*?)', + help="""""" + Info to match when looking for cyborg in the service catalog. + + Possible values: + + * Format is separated values of the form: + <service_type>:<service_name>:<endpoint_type> + + Related options: + + * endpoint_template - Setting this option will override catalog_info + """"""), + cfg.StrOpt('endpoint_template', + help="""""" + If this option is set then it will override service catalog lookup with + this template for cinder endpoint + + Possible values: + + * URL for cinder endpoint API + e.g. http://localhost:8776/v3/%(project_id)s + + Note: Nova does not support the Cinder v2 API since the Nova 17.0.0 Queens + release. + + Related options: + + * catalog_info - If endpoint_template is not set, catalog_info will be used. + """"""), + cfg.StrOpt('os_region_name', + default='RegionOne', + help="""""" + Region name of this node. This is used when picking the URL in the service + catalog. + + Possible values: + + * Any string representing region name + """"""), + cfg.IntOpt('http_retries', + default=3, + min=0, + help="""""" +Number of times cinderclient should retry on any failed http call. +0 means connection is attempted only once. Setting it to any positive integer +means that on failure connection is retried that many times e.g. setting it +to 3 means total attempts to connect will be 4. + +Possible values: + +* Any integer value. 0 means connection is attempted only once +""""""), +] + + +def register_opts(conf): + conf.register_group(cyborg_group) + conf.register_opts(cyborg_opts, group=cyborg_group) + ks_loading.register_session_conf_options(conf, + cyborg_group.name) + ks_loading.register_auth_conf_options(conf, cyborg_group.name) diff --git a/nova/context.py b/nova/context.py index 58ea26a..8b68328 100644 --- a/nova/context.py +++ b/nova/context.py @@ -129,7 +129,8 @@ class RequestContext(context.RequestContext): # Only include required parts of service_catalog self.service_catalog = [s for s in service_catalog if s.get('type') in ('image', 'block-storage', 'volumev3', - 'key-manager', 'placement', 'network')] + 'key-manager', 'placement', 'network', + 'accelerator')] else: # if list is empty or none self.service_catalog = [] diff --git a/nova/exception.py b/nova/exception.py index 4a63f4c..036b1f8 100644 --- a/nova/exception.py +++ b/nova/exception.py @@ -686,6 +686,10 @@ class ImageNotFound(NotFound): msg_fmt = _(""Image %(image_id)s could not be found."") +class AcceleratorNotFound(NotFound): + msg_fmt = _(""Accelerator %(acc_uuid)s could not be found."") + + class ImageDeleteConflict(NovaException): msg_fmt = _(""Conflict deleting image. Reason: %(reason)s."") diff --git a/nova/objects/instance.py b/nova/objects/instance.py index 73af5d8..d15e509 100644 --- a/nova/objects/instance.py +++ b/nova/objects/instance.py @@ -54,7 +54,7 @@ _INSTANCE_OPTIONAL_JOINED_FIELDS = ['metadata', 'system_metadata', 'fault'] # These are fields that are optional but don't translate to db columns _INSTANCE_OPTIONAL_NON_COLUMN_FIELDS = ['flavor', 'old_flavor', - 'new_flavor', 'ec2_ids'] + 'new_flavor', 'ec2_ids', 'acc_uuid'] # These are fields that are optional and in instance_extra _INSTANCE_EXTRA_FIELDS = ['numa_topology', 'pci_requests', 'flavor', 'vcpu_model', 'migration_context', @@ -215,6 +215,7 @@ class Instance(base.NovaPersistentObject, base.NovaObject, nullable=True), 'keypairs': fields.ObjectField('KeyPairList'), 'trusted_certs': fields.ObjectField('TrustedCerts', nullable=True), + 'acc_uuid': fields.ListOfStringsField(nullable=True) } obj_extra_fields = ['name'] @@ -901,7 +902,6 @@ class Instance(base.NovaPersistentObject, base.NovaObject, instance = self.__class__.get_by_uuid(self._context, uuid=self.uuid, expected_attrs=[attrname]) - if attrname not in instance: # NOTE(danms): Never allow us to recursively-load raise exception.ObjectActionError( @@ -1150,6 +1150,8 @@ class Instance(base.NovaPersistentObject, base.NovaObject, self.tags = objects.TagList(self._context) else: self._load_tags() + elif attrname == ""acc_uuid"": + self.acc_uuid=[] elif attrname in self.fields and attrname != 'id': # NOTE(danms): We've never let 'id' be lazy-loaded, and use its # absence as a sentinel that it hasn't been created in the database diff --git a/nova/scheduler/client/report.py b/nova/scheduler/client/report.py index 38dc013..314de6b 100644 --- a/nova/scheduler/client/report.py +++ b/nova/scheduler/client/report.py @@ -45,7 +45,7 @@ _RE_INV_IN_USE = re.compile(""Inventory for (.+) on resource provider "" ""(.+) in use"") WARN_EVERY = 10 PLACEMENT_CLIENT_SEMAPHORE = 'placement_client' -GRANULAR_AC_VERSION = '1.25' +GRANULAR_AC_VERSION = '1.29' POST_RPS_RETURNS_PAYLOAD_API_VERSION = '1.20' NESTED_PROVIDER_API_VERSION = '1.14' POST_ALLOCATIONS_API_VERSION = '1.13' @@ -1538,6 +1538,7 @@ class SchedulerReportClient(object): allocations. :returns: True if the allocations were created, False otherwise. """""" + allocation_request_version = '1.28' # Older clients might not send the allocation_request_version, so # default to 1.10. # TODO(alex_xu): In the rocky, all the client should send the @@ -1560,7 +1561,6 @@ class SchedulerReportClient(object): } } allocation_request_version = '1.12' - url = '/allocations/%s' % consumer_uuid payload = ar @@ -1568,14 +1568,19 @@ class SchedulerReportClient(object): # We first need to determine if this is a move operation and if so # create the ""doubled-up"" allocation that exists for the duration of # the move operation against both the source and destination hosts - r = self.get(url, global_request_id=context.global_id) + consumer_generation = 0 + r = self.get(url, version=""1.28"", global_request_id=context.global_id) if r.status_code == 200: current_allocs = r.json()['allocations'] + consumer_generation = r.json().get(""consumer_generation"", 0) if current_allocs: payload = _move_operation_alloc_request(current_allocs, ar) - + print ""*"" * 80 + print r.json() + print current_allocs payload['project_id'] = project_id payload['user_id'] = user_id + payload['consumer_generation'] = consumer_generation r = self.put(url, payload, version=allocation_request_version, global_request_id=context.global_id) if r.status_code != 204: @@ -1683,6 +1688,8 @@ class SchedulerReportClient(object): payload = {'allocations': new_allocs} payload['project_id'] = project_id payload['user_id'] = user_id + payload['user_id'] = user_id + payload['consumer_generation'] = r.json()[""consumer_generation""] LOG.debug(""Sending updated allocation %s for instance %s after "" ""removing resources for %s."", new_allocs, consumer_uuid, rp_uuid) diff --git a/nova/scheduler/filter_scheduler.py b/nova/scheduler/filter_scheduler.py index 5de9ed3..dfe6d28 100644 --- a/nova/scheduler/filter_scheduler.py +++ b/nova/scheduler/filter_scheduler.py @@ -139,7 +139,7 @@ class FilterScheduler(driver.Scheduler): # Note: remember, we are using a generator-iterator here. So only # traverse this list once. This can bite you if the hosts # are being scanned in a filter or weighing function. - hosts = self._get_all_host_states(elevated, spec_obj, + hosts = self._get_all_host_states(elevated, spec_obj, provider_summaries) # NOTE(sbauza): The RequestSpec.num_instances field contains the number diff --git a/nova/scheduler/manager.py b/nova/scheduler/manager.py index 5c85642..d63e46e 100644 --- a/nova/scheduler/manager.py +++ b/nova/scheduler/manager.py @@ -115,14 +115,12 @@ class SchedulerManager(manager.Manager): conductors that handle certain move operations. """""" LOG.debug(""Starting to schedule for instances: %s"", instance_uuids) - # TODO(sbauza): Change the method signature to only accept a spec_obj # argument once API v5 is provided. if spec_obj is self._sentinel: spec_obj = objects.RequestSpec.from_primitives(ctxt, request_spec, filter_properties) - is_rebuild = utils.request_is_rebuild(spec_obj) alloc_reqs_by_rp_uuid, provider_summaries, allocation_request_version \ = None, None, None @@ -133,7 +131,6 @@ class SchedulerManager(manager.Manager): request_filter.process_reqspec(ctxt, spec_obj) except exception.RequestFilterFailed as e: raise exception.NoValidHost(reason=e.message) - resources = utils.resources_from_request_spec(spec_obj) res = self.placement_client.get_allocation_candidates(ctxt, resources) diff --git a/nova/virt/driver.py b/nova/virt/driver.py index e3323b0..56c6de1 100644 --- a/nova/virt/driver.py +++ b/nova/virt/driver.py @@ -275,7 +275,7 @@ class ComputeDriver(object): def spawn(self, context, instance, image_meta, injected_files, admin_password, allocations, network_info=None, - block_device_info=None): + block_device_info=None, acc_info=None): """"""Create a new instance/VM/domain on the virtualization platform. Once this successfully completes, the instance should be diff --git a/nova/virt/libvirt/driver.py b/nova/virt/libvirt/driver.py index 6bd5f8f..bfe623c 100644 --- a/nova/virt/libvirt/driver.py +++ b/nova/virt/libvirt/driver.py @@ -35,6 +35,7 @@ import glob import itertools import operator import os +import os_acc as libvirt_acc import pwd import random import shutil @@ -333,6 +334,7 @@ class LibvirtDriver(driver.ComputeDriver): host=self._host) self.vif_driver = libvirt_vif.LibvirtGenericVIFDriver() + libvirt_acc.initialize() # TODO(mriedem): Long-term we should load up the volume drivers on # demand as needed rather than doing this on startup, as there might @@ -3047,7 +3049,7 @@ class LibvirtDriver(driver.ComputeDriver): # for xenapi(tr3buchet) def spawn(self, context, instance, image_meta, injected_files, admin_password, allocations, network_info=None, - block_device_info=None): + block_device_info=None,acc_info=None): disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance, image_meta, @@ -3071,7 +3073,7 @@ class LibvirtDriver(driver.ComputeDriver): xml = self._get_guest_xml(context, instance, network_info, disk_info, image_meta, block_device_info=block_device_info, - mdevs=mdevs) + mdevs=mdevs, acc_info=acc_info) self._create_domain_and_network( context, xml, instance, network_info, block_device_info=block_device_info, @@ -5134,7 +5136,7 @@ class LibvirtDriver(driver.ComputeDriver): def _get_guest_config(self, instance, network_info, image_meta, disk_info, rescue=None, block_device_info=None, - context=None, mdevs=None): + context=None, mdevs=None, acc_info=None): """"""Get config data for parameters. :param rescue: optional dictionary that should contain the key @@ -5222,6 +5224,13 @@ class LibvirtDriver(driver.ComputeDriver): flavor, virt_type, self._host) guest.add_device(config) + # acc xml generation + # if acc_info is not None: + if acc_info: + for acc in acc_info: + config = libvirt_acc.get_config(instance, flavor, acc) + guest.add_device(config) + self._create_consoles(virt_type, guest, instance, flavor, image_meta) pointer = self._get_guest_pointer_model(guest.os_type, image_meta) @@ -5408,7 +5417,7 @@ class LibvirtDriver(driver.ComputeDriver): def _get_guest_xml(self, context, instance, network_info, disk_info, image_meta, rescue=None, block_device_info=None, - mdevs=None): + mdevs=None, acc_info=None): # NOTE(danms): Stringifying a NetworkInfo will take a lock. Do # this ahead of time so that we don't acquire it while also # holding the logging lock. @@ -5426,12 +5435,12 @@ class LibvirtDriver(driver.ComputeDriver): LOG.debug(strutils.mask_password(msg), instance=instance) conf = self._get_guest_config(instance, network_info, image_meta, disk_info, rescue, block_device_info, - context, mdevs) + context, mdevs, acc_info) xml = conf.to_xml() LOG.debug('End _get_guest_xml xml=%(xml)s', {'xml': xml}, instance=instance) - return xml + return xml def get_info(self, instance): """"""Retrieve information from libvirt for a specific instance. diff --git a/nova/volume/cinder.py b/nova/volume/cinder.py index a729349..dd89200 100644 --- a/nova/volume/cinder.py +++ b/nova/volume/cinder.py @@ -267,12 +267,9 @@ def cinderclient(context, microversion=None, skip_version_check=False, if check_only: return - return cinder_client.Client(version, + return cinder_client.Client(endpoint_override=endpoint_override, session=_SESSION, auth=auth, - endpoint_override=endpoint_override, - connect_retries=CONF.cinder.http_retries, - global_request_id=context.global_id, **service_parameters) -- 2.7.4 ",,787,0
openstack%2Fpython-keystoneclient~master~Ia14ecbd5f6051b9e391cd2ed0cfbde14913813bf,openstack/python-keystoneclient,master,Ia14ecbd5f6051b9e391cd2ed0cfbde14913813bf,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 03:20:05.000000000,2018-12-07 12:09:53.000000000,2018-12-07 12:09:52.000000000,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-12-04 03:20:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/4d466ef31b460e9e8d3e5ceb9e8fabd94564b265', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Ia14ecbd5f6051b9e391cd2ed0cfbde14913813bf\n'}]",0,621926,4d466ef31b460e9e8d3e5ceb9e8fabd94564b265,9,5,1,26490,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Ia14ecbd5f6051b9e391cd2ed0cfbde14913813bf
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/26/621926/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4d466ef31b460e9e8d3e5ceb9e8fabd94564b265,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftripleo-quickstart-extras~master~Ic7e1062585e1a17b907b7185e6ba68362763e18e,openstack/tripleo-quickstart-extras,master,Ic7e1062585e1a17b907b7185e6ba68362763e18e,set-libvirt-type: Stop throwing a misleading failure,MERGED,2018-12-04 03:07:37.000000000,2018-12-07 11:59:53.000000000,2018-12-07 11:59:53.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-12-04 03:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a77fe04dec1cde660b48984acf122c01681951a3', 'message': 'set-libvirt-type: Stop throwing a misleading failure\n\nThis leads to issues with people figuring out the true failure.\nNow the role should attempt to load kvm-{cpu_vendor} module and\nignore non-fatal errors.\n\nChange-Id: Ic7e1062585e1a17b907b7185e6ba68362763e18e\nFixes-Bug: #1806496\n'}, {'number': 2, 'created': '2018-12-04 03:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bf29963309ef9d849b38caac2e1530a999f7caab', 'message': 'set-libvirt-type: Stop throwing a misleading failure\n\nThis leads to issues with people figuring out the true failure.\nNow the role should attempt to load kvm-{cpu_vendor} module and\nignore non-fatal errors.\n\nChange-Id: Ic7e1062585e1a17b907b7185e6ba68362763e18e\nCloses-Bug: #1806496\n'}, {'number': 3, 'created': '2018-12-04 12:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9e0810598aeaac56445ab59c2aca2457b917a954', 'message': 'set-libvirt-type: Stop throwing a misleading failure\n\nThis leads to issues with people figuring out the true failure.\nNow the role should attempt to load kvm-{cpu_vendor} module and\nignore non-fatal errors.\n\nChange-Id: Ic7e1062585e1a17b907b7185e6ba68362763e18e\nCloses-Bug: #1806496\n'}, {'number': 4, 'created': '2018-12-04 17:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/694912a6ef2d2433bac939906544f916e7f79f94', 'message': 'set-libvirt-type: Stop throwing a misleading failure\n\nThis leads to issues with people figuring out the true failure.\nNow the role should check virt extensions on cpu flags and\nignore non-fatal errors.\n\nChange-Id: Ic7e1062585e1a17b907b7185e6ba68362763e18e\nCloses-Bug: #1806496\n'}, {'number': 5, 'created': '2018-12-05 13:31:53.000000000', 'files': ['roles/set-libvirt-type/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e400db1e913e2d6c71192bbea1c4709522370935', 'message': 'set-libvirt-type: Stop throwing a misleading failure\n\nThis leads to issues with people figuring out the true failure.\nNow the role should check virt extensions on cpu flags and\nignore non-fatal errors.\n\nChange-Id: Ic7e1062585e1a17b907b7185e6ba68362763e18e\nCloses-Bug: #1806496\n'}]",4,621907,e400db1e913e2d6c71192bbea1c4709522370935,33,15,5,8175,,,0,"set-libvirt-type: Stop throwing a misleading failure

This leads to issues with people figuring out the true failure.
Now the role should check virt extensions on cpu flags and
ignore non-fatal errors.

Change-Id: Ic7e1062585e1a17b907b7185e6ba68362763e18e
Closes-Bug: #1806496
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/07/621907/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/set-libvirt-type/tasks/main.yml'],1,a77fe04dec1cde660b48984acf122c01681951a3,bug/1806496," - name: Check if cpu vendor is supported - name: Attempt to load the kvm module failed_when: false changed_when: false when: cpu_vendor is defined - name: Check if the kvm module is present shell: lsmod | grep kvm_{{ cpu_vendor }} register: lsmod failed_when: false no_log: true when: cpu_vendor is defined when: lsmod.stdout != """" always: when: lsmod.stdout == """" - name: Print virtualization type debug: var: virt_type", - name: Check cpu vendor - name: Fail if cpu vendor is undefined fail: msg: 'WARNING: Unknown/unsupported CPU vendor' when: cpu_vendor is not defined - name: Make sure the kvm module is present - debug: msg: 'KVM nested virtualization Enabled.' rescue: - debug: msg: 'WARNING: Running QEMU full emulation.',17,11
openstack%2Fkolla-ansible~master~I68a0eb64a61bc6c0f77cbae7e8b4f4c7143202c5,openstack/kolla-ansible,master,I68a0eb64a61bc6c0f77cbae7e8b4f4c7143202c5,change the state value from installed to present,MERGED,2018-12-06 14:35:04.000000000,2018-12-07 11:33:58.000000000,2018-12-07 11:33:58.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 14:35:04.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/077cc3eeb2f61d3eaa1a6abf56706c8cdea0a133', 'message': 'change the state value from installed to present\n\nrefer:\nhttps://docs.ansible.com/ansible/2.5/modules/package_module.html\n\nChange-Id: I68a0eb64a61bc6c0f77cbae7e8b4f4c7143202c5\n'}]",0,623219,077cc3eeb2f61d3eaa1a6abf56706c8cdea0a133,7,3,1,27336,,,0,"change the state value from installed to present

refer:
https://docs.ansible.com/ansible/2.5/modules/package_module.html

Change-Id: I68a0eb64a61bc6c0f77cbae7e8b4f4c7143202c5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/623219/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/install.yml'],1,077cc3eeb2f61d3eaa1a6abf56706c8cdea0a133,, state: present, state: installed,1,1
openstack%2Fkuryr-kubernetes~master~I5c2154f399667cd3a7acc4925e78ebd32bfb591a,openstack/kuryr-kubernetes,master,I5c2154f399667cd3a7acc4925e78ebd32bfb591a,Fix labels encode,MERGED,2018-12-05 14:01:09.000000000,2018-12-07 11:31:36.000000000,2018-12-07 11:31:36.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 26458}, {'_account_id': 27032}]","[{'number': 1, 'created': '2018-12-05 14:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/931c8a0dd34b1f73dd09f56da0e9cb13a79a18b8', 'message': ""Fix labels encode\n\nIf more than one label is applied in the 'labelSelector'\nthe result retrieved from the query corresponds only to the first label\nin the lists of labels, since K8S API do not recognize the '&' applied\nwhen the labels are anded in the encode. This commit fix the issue by\nreplacing with ','.\n\nChange-Id: I5c2154f399667cd3a7acc4925e78ebd32bfb591a\nCloses-Bug: 1806911\n""}, {'number': 2, 'created': '2018-12-05 14:42:05.000000000', 'files': ['kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a2085717a3623f85fdecbc20e80c1a365dc072fe', 'message': ""Fix labels encode\n\nIf more than one label is applied in the 'labelSelector'\nthe result retrieved from the query corresponds only to the first label\nin the lists of labels, since K8S API do not recognize the '&' applied\nwhen the labels are anded in the encode. This commit fix the issue by\nreplacing with ','.\n\nChange-Id: I5c2154f399667cd3a7acc4925e78ebd32bfb591a\nCloses-Bug: 1806911\nPartially Implements: blueprint k8s-network-policies\n""}]",0,622965,a2085717a3623f85fdecbc20e80c1a365dc072fe,21,6,2,27032,,,0,"Fix labels encode

If more than one label is applied in the 'labelSelector'
the result retrieved from the query corresponds only to the first label
in the lists of labels, since K8S API do not recognize the '&' applied
when the labels are anded in the encode. This commit fix the issue by
replacing with ','.

Change-Id: I5c2154f399667cd3a7acc4925e78ebd32bfb591a
Closes-Bug: 1806911
Partially Implements: blueprint k8s-network-policies
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/65/622965/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py']",2,931c8a0dd34b1f73dd09f56da0e9cb13a79a18b8,bug/1806911," # NOTE(maysams): K8s API does not accept &, so we need to replace # it with ',' or '%2C' instead labels = labels.replace('&', ',')",,6,0
openstack%2Fpython-watcherclient~master~I622bfec99c2e6fd9f69293aaa04c3184215af0d3,openstack/python-watcherclient,master,I622bfec99c2e6fd9f69293aaa04c3184215af0d3,Fix obsolete version of osc,MERGED,2018-12-06 15:07:20.000000000,2018-12-07 11:21:16.000000000,2018-12-07 11:21:16.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 15:07:20.000000000', 'files': ['watcherclient/osc/plugin.py'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/ffc50c50012eb68d7e31a498c2d44f7b82ebc06e', 'message': 'Fix obsolete version of osc\n\nThis patch set adds a link to actual API version for OSC.\n\nCloses-Bug: #1807180\nChange-Id: I622bfec99c2e6fd9f69293aaa04c3184215af0d3\n'}]",0,623225,ffc50c50012eb68d7e31a498c2d44f7b82ebc06e,6,2,1,19055,,,0,"Fix obsolete version of osc

This patch set adds a link to actual API version for OSC.

Closes-Bug: #1807180
Change-Id: I622bfec99c2e6fd9f69293aaa04c3184215af0d3
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/25/623225/1 && git format-patch -1 --stdout FETCH_HEAD,['watcherclient/osc/plugin.py'],1,ffc50c50012eb68d7e31a498c2d44f7b82ebc06e,bug/1807180,from watcherclient.common import httpclientDEFAULT_API_VERSION = httpclient.LATEST_VERSION,DEFAULT_API_VERSION = '1',2,1
openstack%2Fkuryr-kubernetes~master~I572bdcb365e34cea481f42b94d9be0748e0d5c93,openstack/kuryr-kubernetes,master,I572bdcb365e34cea481f42b94d9be0748e0d5c93,Use /var/run instead of /var/run/openvswitch,MERGED,2018-09-14 13:59:35.000000000,2018-12-07 11:13:13.000000000,2018-12-07 11:13:13.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14570}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 24604}, {'_account_id': 25900}, {'_account_id': 28396}]","[{'number': 1, 'created': '2018-09-14 13:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/24e9100b3307dfeba67365e15002e9512cc2e30b', 'message': ""Use /var/run instead of /var/run/openvswitch\n\n/var/run/openvswitch was necessary for ovs-vsctl work,\nit should have access do openvswitch/db.sock.\n\nBut supporting vhostuser ports requires to move socket\nfrom /var/run/openvswitch to another directory. This another\ndirectory should be on the same mount point on host as well as\ndocker's overlay fs.\n\nChange-Id: I572bdcb365e34cea481f42b94d9be0748e0d5c93\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 2, 'created': '2018-10-12 08:40:45.000000000', 'files': ['devstack/local.conf.ovn.sample', 'devstack/local.conf.sample', 'doc/source/installation/containerized.rst', 'devstack/lib/kuryr_kubernetes', '.zuul.d/sdn.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a25da709b966ae71a46d3474707d83e8482f599e', 'message': ""Use /var/run instead of /var/run/openvswitch\n\n/var/run/openvswitch was necessary for ovs-vsctl work,\nit should have access do openvswitch/db.sock.\n\nBut supporting vhostuser ports requires to move socket\nfrom /var/run/openvswitch to another directory. This another\ndirectory should be on the same mount point on host as well as\ndocker's overlay fs.\n\nChange-Id: I572bdcb365e34cea481f42b94d9be0748e0d5c93\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}]",0,602621,a25da709b966ae71a46d3474707d83e8482f599e,15,8,2,28396,,,0,"Use /var/run instead of /var/run/openvswitch

/var/run/openvswitch was necessary for ovs-vsctl work,
it should have access do openvswitch/db.sock.

But supporting vhostuser ports requires to move socket
from /var/run/openvswitch to another directory. This another
directory should be on the same mount point on host as well as
docker's overlay fs.

Change-Id: I572bdcb365e34cea481f42b94d9be0748e0d5c93
Signed-off-by: Alexey Perevalov <a.perevalov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/21/602621/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.ovn.sample', 'devstack/local.conf.sample', 'devstack/lib/kuryr_kubernetes', '.zuul.d/sdn.yaml', 'devstack/settings']",5,24e9100b3307dfeba67365e15002e9512cc2e30b,,VAR_RUN_PATH=${VAR_RUN_PATH:-/var/run},OVS_HOST_PATH=${OVS_HOST_PATH:-/var/run/openvswitch},11,11
openstack%2Fldappool~master~Ia31bda114889b4e043b95dba19172085817eb7e3,openstack/ldappool,master,Ia31bda114889b4e043b95dba19172085817eb7e3,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 19:20:54.000000000,2018-12-07 11:10:53.000000000,2018-12-07 11:10:53.000000000,"[{'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 19:20:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ldappool/commit/a89bfd9d3c5ff35a99da936f047b6d7295276978', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Ia31bda114889b4e043b95dba19172085817eb7e3\n'}]",0,622571,a89bfd9d3c5ff35a99da936f047b6d7295276978,6,2,1,28543,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Ia31bda114889b4e043b95dba19172085817eb7e3
",git fetch https://review.opendev.org/openstack/ldappool refs/changes/71/622571/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a89bfd9d3c5ff35a99da936f047b6d7295276978,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fcinder~master~Id299aeeea06a54d97fef2d8b0cabb83b7a518e19,openstack/cinder,master,Id299aeeea06a54d97fef2d8b0cabb83b7a518e19,Follow Up: Generalizing is_replicated_str to is_boolean_str,MERGED,2018-10-10 05:24:40.000000000,2018-12-07 11:09:06.000000000,2018-12-07 11:09:06.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-10 05:24:40.000000000', 'files': ['cinder/volume/utils.py', 'cinder/volume/manager.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae832f0b254ef532b81b257790ecc2d5dd012199', 'message': 'Follow Up: Generalizing is_replicated_str to is_boolean_str\n\nAddressing the comment on the\ncommit Ic6c19414738367aa794522aaa0c1a963abcac723, the method\nis_replicated_str consists the functionality of checking if the\nstring is valid boolean type or not which is being used for purposes\nother than checking for replicated string.\nThis patch generalizes the name of the method.\n\nChange-Id: Id299aeeea06a54d97fef2d8b0cabb83b7a518e19\n'}]",0,609209,ae832f0b254ef532b81b257790ecc2d5dd012199,51,37,1,27615,,,0,"Follow Up: Generalizing is_replicated_str to is_boolean_str

Addressing the comment on the
commit Ic6c19414738367aa794522aaa0c1a963abcac723, the method
is_replicated_str consists the functionality of checking if the
string is valid boolean type or not which is being used for purposes
other than checking for replicated string.
This patch generalizes the name of the method.

Change-Id: Id299aeeea06a54d97fef2d8b0cabb83b7a518e19
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/609209/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/volume/manager.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py']",3,ae832f0b254ef532b81b257790ecc2d5dd012199,, is_src_multiattach = vol_utils.is_boolean_str( is_tgt_multiattach = vol_utils.is_boolean_str(, is_src_multiattach = vol_utils.is_replicated_str( is_tgt_multiattach = vol_utils.is_replicated_str(,6,6
openstack%2Fzun-ui~master~Ib46e3829daa6e6cf649daf910ad3c39df83e0d6f,openstack/zun-ui,master,Ib46e3829daa6e6cf649daf910ad3c39df83e0d6f,Imported Translations from Zanata,MERGED,2018-12-07 08:58:26.000000000,2018-12-07 11:08:45.000000000,2018-12-07 11:08:45.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 08:58:26.000000000', 'files': ['zun_ui/locale/ko_KR/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/be810e82d0f24a6e0bd0d8420856973dcec6f42e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib46e3829daa6e6cf649daf910ad3c39df83e0d6f\n'}]",0,623422,be810e82d0f24a6e0bd0d8420856973dcec6f42e,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib46e3829daa6e6cf649daf910ad3c39df83e0d6f
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/22/623422/1 && git format-patch -1 --stdout FETCH_HEAD,['zun_ui/locale/ko_KR/LC_MESSAGES/djangojs.po'],1,be810e82d0f24a6e0bd0d8420856973dcec6f42e,zanata/translations,"""POT-Creation-Date: 2018-12-06 01:24+0000\n""""PO-Revision-Date: 2018-12-06 10:52+0000\n""msgid ""A command that will be sent to the container."" msgstr ""컨테이너에 전송될 명령."" msgid ""Active"" msgstr ""활성"" msgid ""Add Volume"" msgstr ""볼륨 추가"" msgid ""Adds a map of labels to a container in comma separated KEY=VALUE pairs."" msgstr ""쉼표로 구별된 KEY=VALUE 쌍으로 라벨 맵을 컨테이너에 추가합니다."" msgid """" ""Allocate pseudo-TTY and keep STDIN open even if not attached. This also "" ""enables Web console in console tab on details view."" msgstr """" ""첨부되지 않은 경우에도 가상TTY를 할당하고 표준입력을 열어두는 것을 유지하세"" ""요. 이는 또한 세부정보 보기의 콘솔 탭에서 웹 콘솔을 활성화합니다."" msgid ""Always"" msgstr ""항상"" msgid ""Always restart"" msgstr ""항상 재시작"" msgid """" ""An <b>External</b> network is set up by an administrator.\n"" "" If you want a container to communicate outside of the data center,\n"" "" then attach a router between your <b>Project</b> network and the "" ""<b>External</b> network.\n"" "" You can use the <b>Network Topology</b> view to connect the router to "" ""the two networks."" msgstr """" ""<b>외부</b> 네트워크는 관리자에 의해 셋업됩니다.\n"" "" 컨테이너를 데이터 센터 외부와 통신시키고자 할 때에,\n"" "" <b>프로젝트</b> 네트워크와 <b>외부</b> 네트워크 사이에 있는 라우터에 연결"" ""합니다.\n"" "" <b>네트워크 토폴로지</b>를 사용하여 라우터가 두 네트워크에 연결되어 있는"" ""지 볼 수 있습니다."" msgid ""Availability Zone"" msgstr ""가용 구역"" msgid ""Confirm Delete Image"" msgid_plural ""Confirm Delete Images"" msgstr[0] ""이미지 삭제 확인"" msgid ""Delete Images"" msgstr ""이미지 삭제"" #, python-format msgid ""Deleted Image: %s."" msgid_plural ""Deleted Images: %s."" msgstr[0] ""삭제된 이미지: %s"" msgid ""Destination"" msgstr ""목적지"" msgid ""Disk Quota Supported"" msgstr ""디스크 할당량이 지원됨"" msgid ""Enable Interactive Mode"" msgstr ""상호작용 모드 활성"" msgid ""Enable auto heal"" msgstr ""자동 복구 활성"" msgid ""Enable interactive mode"" msgstr ""상호작용 모드 활성"" msgid ""Environment Variables"" msgstr ""환경 변수"" msgid ""Existing Cinder Volume"" msgstr ""Cinder 볼륨 종료"" msgid ""Exit Policy"" msgstr ""종료 정책"" msgid """" ""For now, only Label Filter is available. So there are\n"" "" no scheduler hint definitions in the left column. Please set key that "" ""included in labels."" msgstr """" ""이제 라벨 필터만 사용됩니다. 따라서 왼쪽\n"" "" 열에 스케줄러 힌트가 없습니다. 라벨에 포함된 키를 설정하세요."" ""If a network is shared, then all users in the project can access the network."" msgstr """" ""네트워크가 공유 상태이면, 프로젝트 내 모든 사용자들은 네트워크에 접근 가능합"" ""니다."" msgid ""If not present"" msgstr ""존재하지 않는다면"" msgid """"#, python-format msgid ""Image %s was successfully pulled."" msgstr ""이미지 %s를 성공적으로 가져왔습니다."" msgid """" ""In this dialog, specify the security groups for the container.\n"" "" Note that the security groups will only apply for ports that\n"" "" will be created from the allocated networks, but will not apply\n"" "" for the allocated ports that are pre-existing."" msgstr """" ""이 대화상자에서는 컨테이너의 보안 그룹을 지정합니다.\n"" "" 보안그룹은 할당된 네트워크에서 만들어진 포트에만\n"" "" 적용될 것이고, 기존에 존재하는 할당된 포트에는\n"" "" 적용되지 않을 것입니다."" msgid ""KEY1=VALUE1,KEY2=VALUE2..."" msgstr ""KEY1=VALUE1,KEY2=VALUE2..."" msgid ""Max Retry"" msgstr ""최대 재시도"" msgid ""Miscellaneous"" msgstr ""기타"" msgid ""Name of the container to create."" msgstr ""생성할 컨테이너의 이름."" msgid ""Name or ID of the container image."" msgstr ""컨테이너 이미지의 이름이나 ID."" msgid ""Network characteristics"" msgstr ""네트워크 특징"" msgid """" ""Networks provide the communication channels for containers in the cloud."" msgstr ""네트워크는 클라우드 내 컨테이너에 대한 통신 채널을 제공합니다."" msgid ""Never"" msgstr ""전혀"" msgid ""New Cinder Volume"" msgstr ""새 Cinder 볼륨"" msgid ""No"" msgstr ""No"" msgid ""Policy to apply when a container exits."" msgstr ""컨테이너가 종료될 때 적용할 정책"" msgid """" ""Project networks are created by users.\n"" "" These networks are fully isolated and are project-specific."" msgstr """" ""프로젝트 네트워크는 사용자에 의해 생성됩니다.\n"" "" 해당 네트워크는 완전히 격리되어 있으며 프로젝트 별로 관리됩니다."" msgid """" ""Provider networks are created by administrators.\n"" "" These networks map to an existing physical network in the data center."" msgstr """" ""프로바이더 네트워크는 관리자에 의해 생성됩니다.\n"" "" 해당 네트워크는 데이터 센터 내 존재하는 물리 네트워크에 매핑됩니다."" msgid ""Pull Image"" msgstr ""이미지 가져오기"" msgid ""Remove container"" msgstr ""컨테이너 제거"" msgid ""Restart if stopped"" msgstr ""정재 시 재시작"" msgid ""Restart on failure"" msgstr ""실패 시 재시작"" msgid ""Retry times for 'Restart on failure' policy."" msgstr ""'실패 시 재시작' 정책의 재시도 횟수"" msgid ""Runtimes"" msgstr ""런타임"" msgid ""Scheduler Hints"" msgstr ""스케줄러 힌트"" msgid """" ""Scheduler hints allow you to pass additional placement related information "" ""to the Zun's scheduler."" msgstr """" ""스케줄러 힌트를 사용하여 배치 관련 추가 정보를 Zun 스케줄러에 추가합니다."" msgid """" ""Security groups define a set of IP filter rules that determine\n"" "" how network traffic flows to and from a container."" msgstr """" ""보안 그룹은 네트워크 트래픽이 컨테이너와 트래픽을 주고받는 방법을\n"" "" 결정하는 일련의 IP 필터 규칙을 정의합니다."" msgid ""Select availability zone."" msgstr ""가용 구역 선택"" msgid ""Select available Cinder volume"" msgstr ""가용 Cinder 볼륨을 선택하세요."" msgid ""Select networks from those listed below."" msgstr ""아래의 목록에서 네트워크를 선택합니다."" msgid ""Select policy."" msgstr ""정책 선택"" msgid ""Select the security groups to create the container in."" msgstr ""컨테이너를 만들기 위해 보안그룹을 선택합니다."" msgid ""Set the volume specs and add into the table below."" msgstr ""볼륨 사양을 설정하고 아래 표에 추가하세요."" msgid ""Size (GB)"" msgstr ""크기 (GB)"" msgid ""Source"" msgstr ""소스"" msgid ""Specify mount point of the volume on the container."" msgstr ""컨테이너에서 볼륨의 마운트 지점을 지정하세요."" msgid ""Specify size for the new volume in GB."" msgstr ""새 볼륨의 크기(GB)를 지정하세요."" msgid ""Start container after creation"" msgstr ""생성 후 컨테이너 시작"" msgid ""Subnets Associated"" msgstr ""연관된 서브넷"" msgid ""The availability zone of the container."" msgstr ""컨테이너의 가용 구역"" msgid ""The container memory size in MiB."" msgstr ""컨테이너 메모리의 크기.(MiB)"" msgid ""The disk size in GiB for per container."" msgstr ""컨테이너 당 GiB 단위의 디스크 크기."" msgid ""The environment variables in comma separated KEY=VALUE pairs"" msgstr ""쉼표로 구별된 KEY=VALUE 쌍으로 구성된 환경 변수"" msgid ""The flag of healing non-existent container in docker."" msgstr ""도커에 존재하지 않는 컨테이너의 복구 플래그"" msgid ""The host name of this container."" msgstr ""컨테이너의 호스트 이름."" msgid ""The number of virtual CPUs."" msgstr ""가상 CPU의 수."" msgid ""The number of virtual cpu for this container."" msgstr ""컨테이너의 가상 CPU 개수."" msgid ""The runtime to create container with."" msgstr ""컨테이너와 함께 생성하기 위한 런타임."" msgid ""The runtime to use for this container. Default: \""runc\"""" msgstr ""이 컨테이너를 사용하기 위한 런타임. 기본: \""runc\"""" msgid ""The status indicates whether the network has an active connection."" msgstr ""해당 상태는 네트워크가 활성화된 연결을 이루고 있는지를 가리킵니다."" msgid """" ""The subnet identifies a sub-section of a network. A subnet is specified in "" ""CIDR format.\n"" "" A typical CIDR format looks like <samp>192.xxx.x.x/24</samp>."" msgstr """" ""서브넷은 네트워크의 서브섹션을 식별합니다. 서브넷은 CIDR 포맷으로 구체화합니"" ""다.\n"" "" 일반적인 CIDR 포맷은 <samp>192.xxx.x.x/24</samp>와 같습니다."" msgid ""The volumes are mounted into the container."" msgstr ""볼륨은 컨테이너에 마운트됩니다."" msgid ""The working directory for commands to run in."" msgstr ""명령이 실행되는 작업 디렉토리"" msgid ""The working directory needs to be an absolute path."" msgstr ""작업 디렉토리는 절대 경로여야 합니다."" msgid """" ""To create new Cinder volume and mount it to the container, select type \""New "" ""Cinder Volume\""\n"" "" and specify size for the new volume."" msgstr """" ""새 Cinder 볼륨을 생성하고 컨테이너에 마운트하려면, \""새 Cinder 볼륨\"" 타입"" ""을\n"" "" 선택하고 새 볼륨의 크기를 지정합니다."" msgid """" ""To create new security groups, go to the <b>Network | Security Groups</b> "" ""view,\n"" "" then click <b>Create Security Group</b>."" msgstr """" ""새 보안 그룹을 만드려면 <b>Network | Security Groups</b> 보기로 가서,\n"" "" <b>Create Security Group</b>를 클릭합니다."" msgid """" ""To mount existing available Cinder volume, select type \""Available Cinder "" ""Volume\""\n"" "" and select source from the pull-down list."" msgstr """" ""존재하는 가용 Cinder 볼륨을 마운트하려면, \""가용 Cinder 볼륨\"" 타입을 선택하"" ""고\n"" "" 풀다운 리스트에서 소스를 선택합니다."" msgid ""Unable to delete Image: %s."" msgid_plural ""Unable to delete Images: %s."" msgstr[0] ""이미지를 삭제할 수 없습니다: %s."" #, python-format#, python-format msgid ""Unable to delete the Image with id: %(id)s"" msgstr ""ID가 %(id)s인 이미지를 삭제할 수 없습니다"" msgid ""Used {$ ctrl.host.cpu_used $} of {$ ctrl.host.cpus $}"" msgstr ""{$ ctrl.host.cpus $} 에서 {$ ctrl.host.cpu_used $} 사용함"" msgid """" ""Users can add additional rules to an existing security group\n"" "" to further define the access options for a container.\n"" "" To create additional rules, go to the <b>Network | Security Groups</b> "" ""view,\n"" "" then find the security group and click <b>Manage Rules</b>."" msgstr """" ""사용자는 부가적인 규칙을 기존 보안그룹에 추가하여\n"" "" 컨테이너에 대한 접근 옵션을 상세히 정의할 수 있습니다.\n"" "" 부가적인 규칙을 만드려면 <b>Network | Security Groups</b> 보기로 가"" ""서,\n"" "" 보안그룹을 찾아서 <b>Manage Rules</b>를 클릭합니다."" ""When the <b>Admin State</b> for a network is set to <b>Up</b>,\n"" "" then the network is available for use. You can set the <b>Admin State</"" ""b> to <b>Down</b>\n"" "" if you are not ready for other users to access the network."" msgstr """" ""네트워크의 <b>관리 상태</b>가 <b>UP</b>으로 설정되어 있을 경우, \n"" "" 네트워크를 사용할 수 있습니다. <b>관리 상태</b>를 <b>Down</b>로 \n"" "" 설정한다면 다른 사용자들이 네트워크에 접근할 수 없습니다."" msgid """"msgid ""Working Directory"" msgstr ""작업 디렉토리"" msgid ""You are not allowed to delete images: %s"" msgstr ""이미지를 삭제하도록 허용되지 않았습니다: %s"" #, python-formatmsgid """" ""You can specify scheduler hints by moving items from the left column to the "" ""right column. Use the \""Custom\"" option to add scheduler hints with the key "" ""of your choice."" msgstr """" ""왼쪽 열에서 오른쪽 열로 이동하여 스케줄러 힌트를 지정할 수 있습니다. 선택한 "" ""키로 스케줄러 힌트를 추가하기 위해 \""사용자 정의\"" 옵션을 사용합니다."" ""You have selected \""%s\"". Please confirm your selection. Deleted image is "" ""not recoverable."" msgid_plural """" ""You have selected \""%s\"". Please confirm your selection. Deleted images are "" ""not recoverable."" msgstr[0] """" ""\""%s\""를 선택했습니다. 선택을 확인하십시오. 삭제된 이미지는 복구할 수 없습니"" ""다."" #, python-format msgid """"","""POT-Creation-Date: 2018-11-02 01:21+0000\n""""PO-Revision-Date: 2018-11-05 11:14+0000\n""#, fuzzy",369,3
openstack%2Fkayobe~stable%2Fpike~I51580b5df1496b95eaa3755b6d181511704ecbe8,openstack/kayobe,stable/pike,I51580b5df1496b95eaa3755b6d181511704ecbe8,Work around Galaxy semver issues,MERGED,2018-12-06 09:14:25.000000000,2018-12-07 11:05:38.000000000,2018-12-07 11:05:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 09:14:25.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6b31224d078276a1b7d6eb6e63d51a91c78f142b', 'message': 'Work around Galaxy semver issues\n\nAdding the tag 1.0.1 to the grafana-conf galaxy role caused 1.0 to no\nlonger be accessible. Changing the version format from a.b to a.b.c was\nrequired to get Galaxy to pick up the new version. This change uses an\nidentical version of the role.\n\nThis commit needs to be included in stable/pike first for the\nkayobe-overcloud-upgrade-centos job on stable/queens to succeed.\n\nChange-Id: I51580b5df1496b95eaa3755b6d181511704ecbe8\n'}]",0,623169,6b31224d078276a1b7d6eb6e63d51a91c78f142b,6,2,1,15197,,,0,"Work around Galaxy semver issues

Adding the tag 1.0.1 to the grafana-conf galaxy role caused 1.0 to no
longer be accessible. Changing the version format from a.b to a.b.c was
required to get Galaxy to pick up the new version. This change uses an
identical version of the role.

This commit needs to be included in stable/pike first for the
kayobe-overcloud-upgrade-centos job on stable/queens to succeed.

Change-Id: I51580b5df1496b95eaa3755b6d181511704ecbe8
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/69/623169/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,6b31224d078276a1b7d6eb6e63d51a91c78f142b,, version: 1.0.0, version: 1.0,1,1
openstack%2Fzun-ui~stable%2Frocky~I838268ee19b694a415976f0ebe2504055aa4ce4e,openstack/zun-ui,stable/rocky,I838268ee19b694a415976f0ebe2504055aa4ce4e,Imported Translations from Zanata,MERGED,2018-12-07 08:59:31.000000000,2018-12-07 11:05:07.000000000,2018-12-07 11:05:07.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 08:59:31.000000000', 'files': ['zun_ui/locale/ko_KR/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/4e8c8ff5b79633ef80da4e30591c9dfbfc8dcd1b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I838268ee19b694a415976f0ebe2504055aa4ce4e\n'}]",0,623423,4e8c8ff5b79633ef80da4e30591c9dfbfc8dcd1b,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I838268ee19b694a415976f0ebe2504055aa4ce4e
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/23/623423/1 && git format-patch -1 --stdout FETCH_HEAD,['zun_ui/locale/ko_KR/LC_MESSAGES/djangojs.po'],1,4e8c8ff5b79633ef80da4e30591c9dfbfc8dcd1b,zanata/translations,"""POT-Creation-Date: 2018-11-26 09:21+0000\n""""PO-Revision-Date: 2018-12-06 10:40+0000\n""msgstr ""컨테이너에 전송될 명령.""msgstr ""상호작용 모드 활성""msgid """" ""For now, only Label Filter is available. So there are\n"" "" no scheduler hint definitions in the left column. Please set key that "" ""included in labels."" msgstr """" ""이제 라벨 필터만 사용됩니다. 따라서 왼쪽\n"" "" 열에 스케줄러 힌트가 없습니다. 라벨에 포함된 키를 설정하세요."" msgid """" ""In this dialog, specify the security groups for the container.\n"" "" Note that the security groups will only apply for ports that\n"" "" will be created from the allocated networks, but will not apply\n"" "" for the allocated ports that are pre-existing."" msgstr """" ""이 대화상자에서는 컨테이너의 보안 그룹을 지정합니다.\n"" "" 보안그룹은 할당된 네트워크에서 만들어진 포트에만\n"" "" 적용될 것이고, 기존에 존재하는 할당된 포트에는\n"" "" 적용되지 않을 것입니다."" msgstr ""생성할 컨테이너의 이름.""msgid """" ""Scheduler hints allow you to pass additional placement related information "" ""to the Zun's scheduler."" msgstr """" ""스케줄러 힌트를 사용하여 배치 관련 추가 정보를 Zun 스케줄러에 추가합니다."" msgid """" ""Security groups define a set of IP filter rules that determine\n"" "" how network traffic flows to and from a container."" msgstr """" ""보안 그룹은 네트워크 트래픽이 컨테이너와 트래픽을 주고받는 방법을\n"" "" 결정하는 일련의 IP 필터 규칙을 정의합니다."" msgid ""Select the security groups to create the container in."" msgstr ""컨테이너를 만들기 위해 보안그룹을 선택합니다."" msgstr ""컨테이너의 호스트 이름.""msgstr ""컨테이너의 가상 CPU 개수.""msgid ""This step allows you to add scheduler hints to your container."" msgstr ""이 단계에서 컨테이너에 스케줄러 힌트를 추가할 수 있습니다."" ""To create new security groups, go to the <b>Network | Security Groups</b> "" ""view,\n"" "" then click <b>Create Security Group</b>."" msgstr """" ""새 보안 그룹을 만드려면 <b>Network | Security Groups</b> 보기로 가서,\n"" "" <b>Create Security Group</b>를 클릭합니다."" msgid """"msgid """" ""Users can add additional rules to an existing security group\n"" "" to further define the access options for a container.\n"" "" To create additional rules, go to the <b>Network | Security Groups</b> "" ""view,\n"" "" then find the security group and click <b>Manage Rules</b>."" msgstr """" ""사용자는 부가적인 규칙을 기존 보안그룹에 추가하여\n"" "" 컨테이너에 대한 접근 옵션을 상세히 정의할 수 있습니다.\n"" "" 부가적인 규칙을 만드려면 <b>Network | Security Groups</b> 보기로 가"" ""서,\n"" "" 보안그룹을 찾아서 <b>Manage Rules</b>를 클릭합니다."" ","""POT-Creation-Date: 2018-11-14 08:13+0000\n""""PO-Revision-Date: 2018-11-25 11:44+0000\n""msgstr ""컨테이너에 전송될 명령입니다.""msgstr ""상ㅎ작용 모드 활성""msgstr ""생성할 컨테이너의 이름입니다.""msgstr ""컨테이너의 호스트 이름입니다.""msgstr ""컨테이너의 가상 CPU 개수 입니다.""",66,7
openstack%2Fcinder~master~I2aacec36f4d6bb69e88abe14bea689cee6057d87,openstack/cinder,master,I2aacec36f4d6bb69e88abe14bea689cee6057d87,Fix: storage_pools key in Huawei Driver,MERGED,2018-10-02 16:14:10.000000000,2018-12-07 10:55:41.000000000,2018-12-07 10:55:41.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16203}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-02 16:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81b6335b3ef7a1463080e2d5e6b31c2f555327cc', 'message': 'Fix: storage_pools key in Huawei Driver\n\nThe storage pools key is written as storage_pool while\ngetting the info from conf.\nThis patch renames the key to storage_pools.\n\nChange-Id: I2aacec36f4d6bb69e88abe14bea689cee6057d87\nCloses-Bug: #1635500\n'}, {'number': 2, 'created': '2018-10-03 04:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/80f1647e2c324d574bc40503505460e3c702b00a', 'message': 'Fix: storage_pools key in Huawei Driver\n\nThe storage pools key is written as storage_pool while\ngetting the info from conf.\nThis patch renames the key to storage_pools.\n\nChange-Id: I2aacec36f4d6bb69e88abe14bea689cee6057d87\nCloses-Bug: #1635500\n'}, {'number': 3, 'created': '2018-10-15 07:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b876308ff3031b805fb5780c85d085d592a1e5a', 'message': 'Fix: storage_pools key in Huawei Driver\n\nThe storage pools key is written as storage_pool while\ngetting the info from conf.\nThis patch renames the key to storage_pools.\n\nChange-Id: I2aacec36f4d6bb69e88abe14bea689cee6057d87\nCloses-Bug: #1635500\n'}, {'number': 4, 'created': '2018-10-15 08:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8524a497f5df2e87584b4811537231fb817f9e6a', 'message': 'Fix: storage_pools key in Huawei Driver\n\nThe storage pools key is written as storage_pool while\ngetting the info from conf.\nThis patch renames the key to storage_pools.\n\nCo-authored-by: zengyingzhe <zengyingzhe@huawei.com>\n\nChange-Id: I2aacec36f4d6bb69e88abe14bea689cee6057d87\nCloses-Bug: #1635500\n'}, {'number': 5, 'created': '2018-10-15 08:09:28.000000000', 'files': ['cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/33e4876954ffeb78073829baac417f6d70aa5179', 'message': 'Fix: storage_pools key in Huawei Driver\n\nThe storage pools key is written as storage_pool while\ngetting the info from conf.\nThis patch renames the key to storage_pools.\n\nCo-authored-by: zengyingzhe <zengyingzhe@huawei.com>\n\nChange-Id: I2aacec36f4d6bb69e88abe14bea689cee6057d87\nCloses-Bug: #1635500\n'}]",0,607299,33e4876954ffeb78073829baac417f6d70aa5179,97,41,5,27615,,,0,"Fix: storage_pools key in Huawei Driver

The storage pools key is written as storage_pool while
getting the info from conf.
This patch renames the key to storage_pools.

Co-authored-by: zengyingzhe <zengyingzhe@huawei.com>

Change-Id: I2aacec36f4d6bb69e88abe14bea689cee6057d87
Closes-Bug: #1635500
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/607299/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/huawei/huawei_conf.py'],1,81b6335b3ef7a1463080e2d5e6b31c2f555327cc,bug/1790840," dev_config['storage_pools'] = dev['storage_pools'].split(';') 'storage_pools': self.conf.storage_pools,"," dev_config['storage_pool'] = dev['storage_pool'].split(';') 'storage_pool': self.conf.storage_pools,",2,2
openstack%2Ffreezer~master~I72a0e316092489a6c8a8e6d208324a382330af89,openstack/freezer,master,I72a0e316092489a6c8a8e6d208324a382330af89,Add ftp get file success unit test,MERGED,2018-12-07 09:06:53.000000000,2018-12-07 10:43:54.000000000,2018-12-07 10:43:54.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-12-07 09:06:53.000000000', 'files': ['freezer/tests/unit/storages/test_ftp.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/6df80699922ff8ff01f33a53d9e6ad97b5b5a569', 'message': 'Add ftp get file success unit test\n\nThe patch add ftp get file ok unit test\n\nChange-Id: I72a0e316092489a6c8a8e6d208324a382330af89\n'}]",0,623428,6df80699922ff8ff01f33a53d9e6ad97b5b5a569,6,2,1,21387,,,0,"Add ftp get file success unit test

The patch add ftp get file ok unit test

Change-Id: I72a0e316092489a6c8a8e6d208324a382330af89
",git fetch https://review.opendev.org/openstack/freezer refs/changes/28/623428/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/tests/unit/storages/test_ftp.py'],1,6df80699922ff8ff01f33a53d9e6ad97b5b5a569,addputfileoktest," @patch('ftplib.FTP') def test_getfile_ok_FtpStorage(self, mock_ftp_constructor): mock_ftp = mock_ftp_constructor.return_value ftpobj = ftp.FtpStorage( storage_path=self.ftp_opt.ftp_storage_path, remote_pwd=self.ftp_opt.ftp_remote_pwd, remote_username=self.ftp_opt.ftp_remote_username, remote_ip=self.ftp_opt.ftp_remote_ip, port=self.ftp_opt.ftp_port, max_segment_size=self.ftp_opt.ftp_max_segment_size) self.create_ftp_test_file() topath = self.ftp_test_file_dir + ""/"" + self.ftp_test_file_name frompath = '/home/from' ftpobj.get_file(frompath, topath) self.assertTrue(mock_ftp.pwd.called) self.assertTrue(mock_ftp.retrbinary.called) self.delete_ftp_test_file() ",,18,0
openstack%2Fpuppet-trove~master~Idfd90ce310f7a43907b93e924d3bbd8f5eab0f31,openstack/puppet-trove,master,Idfd90ce310f7a43907b93e924d3bbd8f5eab0f31,Remove deprecated logging,MERGED,2018-11-29 10:05:44.000000000,2018-12-07 10:36:59.000000000,2018-12-07 10:36:59.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 10:05:44.000000000', 'files': ['manifests/logging.pp', 'manifests/api.pp', 'releasenotes/notes/remove-deprecated-logging-89cb2fcbedb06176.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/ad1aa1611c89dc010cb670ec15d1b87199cbd3cb', 'message': 'Remove deprecated logging\n\nChange-Id: Idfd90ce310f7a43907b93e924d3bbd8f5eab0f31\n'}]",0,620869,ad1aa1611c89dc010cb670ec15d1b87199cbd3cb,9,4,1,16137,,,0,"Remove deprecated logging

Change-Id: Idfd90ce310f7a43907b93e924d3bbd8f5eab0f31
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/69/620869/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'manifests/api.pp', 'releasenotes/notes/remove-deprecated-logging-89cb2fcbedb06176.yaml']",3,ad1aa1611c89dc010cb670ec15d1b87199cbd3cb,logging,"--- upgrade: - | The deprecated parameters use_syslog, use_stderr, log_facility, log_dir, log_file and debug in the api class is now removed. Please set them in the logging class. ",,11,56
openstack%2Ftripleo-validations~stable%2Frocky~Ida0d324aa0333ef4a0ad84f822494733e9734276,openstack/tripleo-validations,stable/rocky,Ida0d324aa0333ef4a0ad84f822494733e9734276,Fix the Docker command to get the open_files_limit,MERGED,2018-12-03 09:29:36.000000000,2018-12-07 10:21:58.000000000,2018-12-07 10:21:58.000000000,"[{'_account_id': 9317}, {'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-03 09:29:36.000000000', 'files': ['validations/mysql-open-files-limit.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3830af8495cea6d3eb3fa1d4a40087db00fc5b77', 'message': 'Fix the Docker command to get the open_files_limit\n\nThis patch avoids ""the input device is not a TTY"" issue.\n\nChange-Id: Ida0d324aa0333ef4a0ad84f822494733e9734276\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit a7e83ce22e1470d3243323c7f99893a811885520)\n'}]",0,621520,3830af8495cea6d3eb3fa1d4a40087db00fc5b77,11,4,1,11491,,,0,"Fix the Docker command to get the open_files_limit

This patch avoids ""the input device is not a TTY"" issue.

Change-Id: Ida0d324aa0333ef4a0ad84f822494733e9734276
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit a7e83ce22e1470d3243323c7f99893a811885520)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/20/621520/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/mysql-open-files-limit.yaml'],1,3830af8495cea6d3eb3fa1d4a40087db00fc5b77,mysql_ulimit-stable/rocky," command: ""docker exec -u root mysql /bin/bash -c 'ulimit -n'""", command: docker exec -u root -it mysql ulimit -n,1,1
openstack%2Fkayobe~master~I8eb686e42cb88cd5f47f0e1af20e746baa0e50c0,openstack/kayobe,master,I8eb686e42cb88cd5f47f0e1af20e746baa0e50c0,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 03:44:02.000000000,2018-12-07 10:06:27.000000000,2018-12-07 10:06:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:44:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6bd3001863a65e1cf7ad441e75294c11b1a15532', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I8eb686e42cb88cd5f47f0e1af20e746baa0e50c0\n'}]",0,622769,6bd3001863a65e1cf7ad441e75294c11b1a15532,6,2,1,28543,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I8eb686e42cb88cd5f47f0e1af20e746baa0e50c0
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/69/622769/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6bd3001863a65e1cf7ad441e75294c11b1a15532,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ffreezer~master~I75d2459ab867606adadefac2c50907dbd2bcbc0b,openstack/freezer,master,I75d2459ab867606adadefac2c50907dbd2bcbc0b,Add ftp put file success unit test,MERGED,2018-12-07 07:08:26.000000000,2018-12-07 10:05:09.000000000,2018-12-07 10:05:09.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-12-07 07:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/b4c9beeb1f0bb7b13185eafe174c1028d991be24', 'message': 'Add ftp put file success unit test\n\nThe patch add ftp put file ok unit test\n\nChange-Id: I75d2459ab867606adadefac2c50907dbd2bcbc0b\n'}, {'number': 2, 'created': '2018-12-07 08:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/40486be3ec1594887bb74bb5082351d8b76b8b4a', 'message': 'Add ftp put file success unit test\n\nThe patch add ftp put file ok unit test\n\nChange-Id: I75d2459ab867606adadefac2c50907dbd2bcbc0b\n'}, {'number': 3, 'created': '2018-12-07 08:17:54.000000000', 'files': ['freezer/tests/unit/storages/test_ftp.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/b8f382422c149bc99da51528b67352c7b232e112', 'message': 'Add ftp put file success unit test\n\nThe patch add ftp put file ok unit test\n\nChange-Id: I75d2459ab867606adadefac2c50907dbd2bcbc0b\n'}]",0,623409,b8f382422c149bc99da51528b67352c7b232e112,10,3,3,21387,,,0,"Add ftp put file success unit test

The patch add ftp put file ok unit test

Change-Id: I75d2459ab867606adadefac2c50907dbd2bcbc0b
",git fetch https://review.opendev.org/openstack/freezer refs/changes/09/623409/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/tests/unit/storages/test_ftp.py'],1,b4c9beeb1f0bb7b13185eafe174c1028d991be24,addputfileoktest,"import shutil import tempfilefrom freezer.utils import utils self.ftp_test_file_dir = None self.ftp_test_file_name = None def create_ftp_test_file(self): if self.ftp_test_file_name: return tmpdir = tempfile.mkdtemp() FILES_DIR_PREFIX = ""freezer_ftptest_files_dir"" files_dir = tempfile.mkdtemp(dir=tmpdir, prefix=FILES_DIR_PREFIX) utils.create_dir(files_dir) file_name = ""file_ftp_test"" self.ftp_test_file_dir = files_dir text = ""FTPTESTTXT"" filehandle = open(files_dir + ""/"" + file_name, 'w') if filehandle: filehandle.write(text) filehandle.close() self.ftp_test_file_name = file_name def delete_ftp_test_file(self): if self.ftp_test_file_name: files_dir = self.ftp_test_file_dir shutil.rmtree(files_dir) self.ftp_test_file_name = None self.ftp_test_file_dir = None self.ftp_test_file_handle = None @patch('ftplib.FTP') def test_putfile_ok_FtpStorage(self, mock_ftp_constructor): mock_ftp = mock_ftp_constructor.return_value ftpobj = ftp.FtpStorage( storage_path=self.ftp_opt.ftp_storage_path, remote_pwd=self.ftp_opt.ftp_remote_pwd, remote_username=self.ftp_opt.ftp_remote_username, remote_ip=self.ftp_opt.ftp_remote_ip, port=self.ftp_opt.ftp_port, max_segment_size=self.ftp_opt.ftp_max_segment_size) self.create_ftp_test_file() frompath = self.ftp_test_file_dir + ""/"" + self.ftp_test_file_name topath = '/home/to' ftpobj.put_file(frompath, topath) self.assertTrue(mock_ftp.pwd.called) self.assertTrue(mock_ftp.storbinary.called) self.delete_ftp_test_file() ",,47,1
openstack%2Fkayobe-config-dev~master~I43a8fc8fb7572f3e1481028012e2ead508ad81e7,openstack/kayobe-config-dev,master,I43a8fc8fb7572f3e1481028012e2ead508ad81e7,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 03:41:35.000000000,2018-12-07 10:04:25.000000000,2018-12-07 10:04:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:41:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/278273f98b637a0db72460c3f165a23dd18d5cb7', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I43a8fc8fb7572f3e1481028012e2ead508ad81e7\n'}]",0,622767,278273f98b637a0db72460c3f165a23dd18d5cb7,6,2,1,28543,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I43a8fc8fb7572f3e1481028012e2ead508ad81e7
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/67/622767/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,278273f98b637a0db72460c3f165a23dd18d5cb7,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fkayobe-config~master~I4d99d6d4e352f089423c9eddd32d1717828dbdab,openstack/kayobe-config,master,I4d99d6d4e352f089423c9eddd32d1717828dbdab,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 03:42:47.000000000,2018-12-07 09:59:33.000000000,2018-12-07 09:59:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:42:47.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/6bd6e7b1a9d15b54d763d8d7aee835660cf8626e', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I4d99d6d4e352f089423c9eddd32d1717828dbdab\n'}]",0,622768,6bd6e7b1a9d15b54d763d8d7aee835660cf8626e,6,2,1,28543,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I4d99d6d4e352f089423c9eddd32d1717828dbdab
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/68/622768/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6bd6e7b1a9d15b54d763d8d7aee835660cf8626e,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-helm~master~I0199025bcf385294da98619a23a20a6d9862efdb,openstack/openstack-helm,master,I0199025bcf385294da98619a23a20a6d9862efdb,Remove the ldap chart,ABANDONED,2018-06-27 05:23:43.000000000,2018-12-07 09:58:06.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-06-27 05:23:43.000000000', 'files': ['ldap/Chart.yaml', 'ldap/templates/statefulset.yaml', 'ldap/templates/job-image-repo-sync.yaml', 'ldap/templates/service.yaml', 'ldap/templates/_helpers.tpl', 'ldap/.helmignore', 'ldap/templates/job-bootstrap.yaml', 'ldap/templates/configmap-bin.yaml', 'ldap/values.yaml', 'ldap/templates/bin/_bootstrap.sh.tpl', 'ldap/requirements.yaml', 'ldap/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1a150cd467647317da01cf9ff0716072be4e4290', 'message': 'Remove the ldap chart\n\nladp chart has move into openstack-helm-infra[0], remove it from\nopenstack-helm is safe.\n\n[0]: https://github.com/openstack/openstack-helm-infra/tree/master/ldap\n\nChange-Id: I0199025bcf385294da98619a23a20a6d9862efdb\n'}]",0,578284,1a150cd467647317da01cf9ff0716072be4e4290,4,3,1,22165,,,0,"Remove the ldap chart

ladp chart has move into openstack-helm-infra[0], remove it from
openstack-helm is safe.

[0]: https://github.com/openstack/openstack-helm-infra/tree/master/ldap

Change-Id: I0199025bcf385294da98619a23a20a6d9862efdb
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/84/578284/1 && git format-patch -1 --stdout FETCH_HEAD,"['ldap/Chart.yaml', 'ldap/templates/statefulset.yaml', 'ldap/templates/job-image-repo-sync.yaml', 'ldap/templates/service.yaml', 'ldap/templates/_helpers.tpl', 'ldap/.helmignore', 'ldap/templates/job-bootstrap.yaml', 'ldap/templates/configmap-bin.yaml', 'ldap/values.yaml', 'ldap/templates/bin/_bootstrap.sh.tpl', 'ldap/requirements.yaml', 'ldap/templates/configmap-etc.yaml']",12,1a150cd467647317da01cf9ff0716072be4e4290,,,"{{/* Copyright 2018 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.configmap_etc }} --- apiVersion: v1 kind: ConfigMap metadata: name: ldap-etc data: {{- if .Values.bootstrap.enabled }} sample_data.ldif: | {{ .Values.data.sample | indent 4 }} {{- end }} {{- end }} ",0,534
openstack%2Fkolla-ansible~master~I89d89e67f63c6189c4215753df7f6075dc1dedd6,openstack/kolla-ansible,master,I89d89e67f63c6189c4215753df7f6075dc1dedd6,Fix the solum deploy failed,ABANDONED,2017-01-15 10:55:45.000000000,2018-12-07 09:57:03.000000000,,"[{'_account_id': 1390}, {'_account_id': 2506}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 14107}, {'_account_id': 19316}, {'_account_id': 20663}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26285}, {'_account_id': 27781}]","[{'number': 1, 'created': '2017-01-15 10:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7cc3cffd07cadc0af2f7e0faa819be29ef072ce6', 'message': ""Correct the groups for solum in haproxy.cfg.j2\n\nAnsible dict object  has no attribute 'solum-application-deployment'\nor 'solum-image-builder'.\n\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 2, 'created': '2017-01-22 13:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78acd6fa244f5c91f77a3f92f0cc30efee6b8ac0', 'message': ""Correct the groups for solum in haproxy.cfg.j2\n\nAnsible dict object has no attribute 'solum-application-deployment'\nor 'solum-image-builder'.\n\nCo-Authored-By: caowei <cao.wei@99cloud.net>\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 3, 'created': '2017-01-23 03:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ab99286db0a30f3a444442ad0834028c53fc7c7', 'message': ""Correct the groups for solum in haproxy.cfg.j2\n\nAnsible dict object has no attribute 'solum-application-deployment'\nor 'solum-image-builder'.\n\nCo-Authored-By: caowei <cao.wei@99cloud.net>\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 4, 'created': '2017-02-07 05:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6e2ef29050ef8cbd908a7038e76ff7c154326838', 'message': ""Correct the groups for solum in haproxy.cfg.j2\n\nAnsible dict object has no attribute 'solum-application-deployment'\nor 'solum-image-builder'.\n\nCo-Authored-By: caowei <cao.wei@99cloud.net>\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 5, 'created': '2017-02-07 05:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/10466b1861b33c42b1248bc57e0cb3a206015f4e', 'message': ""Correct the groups for solum in haproxy.cfg.j2\n\nAnsible dict object has no attribute 'solum-application-deployment'\nor 'solum-image-builder'.\nAnd there is no builder service which run on port 9778, so remove it.\n\nCo-Authored-By: caowei <cao.wei@99cloud.net>\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 6, 'created': '2017-02-07 09:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3154036eae21514303d85d634d7384e547ac02b5', 'message': ""Correct the groups for solum in haproxy.cfg.j2\n\nAnsible dict object has no attribute 'solum-application-deployment'\nor 'solum-image-builder'.\nAnd there is no builder service which run on port 9778, so remove it.\n\nCo-Authored-By: caowei <cao.wei@99cloud.net>\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 7, 'created': '2017-02-07 09:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22bf434993ac37327fe86c8d8eeedf28c9877f7a', 'message': ""Correct the groups for solum in haproxy.cfg.j2\n\nAnsible dict object has no attribute 'solum-application-deployment'\nor 'solum-image-builder'.\nAnd there is no builder service which run on port 9778, so remove it.\n\nCo-Authored-By: caowei <cao.wei@99cloud.net>\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 8, 'created': '2017-02-08 10:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/feaad71d943b6db797fc28270073844d96a310d5', 'message': ""Correct the groups for solum in haproxy.cfg.j2\n\nAnsible dict object has no attribute 'solum-application-deployment'.\nAnd there is no builder service which run on port 9778, so remove it.\n\nCo-Authored-By: caowei <cao.wei@99cloud.net>\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 9, 'created': '2018-04-12 00:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/441c1a04e6067c6a8b039b75ea2f3345e1127076', 'message': ""Correct the groups for solum in haproxy.cfg.j2\n\nAnsible dict object has no attribute 'solum-application-deployment'.\nAnd there is no builder service which run on port 9778, so remove it.\n\nCo-Authored-By: caowei <cao.wei@99cloud.net>\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 10, 'created': '2018-04-12 00:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8f410d79f069918a89eb19b3c30090144a45e0bf', 'message': ""Fix the solum deploy failed\n\nAnsible dict object has no attribute 'solum-application-deployment'.\nAnd there is no builder service which run on port 9778, so remove it.\n\nCo-Authored-By: caowei <cao.wei@99cloud.net>\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 11, 'created': '2018-04-12 02:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/109b89c88f2360cd2719883272232d724ff3950c', 'message': ""Fix the solum deploy failed\n\nAnsible dict object has no attribute 'solum-application-deployment'.\nAnd there is no builder service which run on port 9778, so remove it.\n\nCo-Authored-By: caowei <cao.wei@99cloud.net>\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 12, 'created': '2018-04-12 02:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d0c95e7f283ef1143972e9ddac15a6396a0273da', 'message': ""Fix the solum deploy failed\n\nAnsible dict object has no attribute 'solum-application-deployment'.\nAnd there is no builder service which run on port 9778, so remove it.\n\nCo-Authored-By: caowei <cao.wei@99cloud.net>\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 13, 'created': '2018-10-23 02:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b7d8d15a13136b84e000e33362ba7bfebb8047a', 'message': ""Fix the solum deploy failed\n\nAnsible dict object has no attribute 'solum-application-deployment'.\nAnd there is no builder service which run on port 9778, so remove it.\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}, {'number': 14, 'created': '2018-10-23 02:11:50.000000000', 'files': ['ansible/roles/solum/tasks/register.yml', 'ansible/group_vars/all.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/solum/templates/solum.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77f0846a1620554088c10068c712e53cfa37c6f8', 'message': ""Fix the solum deploy failed\n\nAnsible dict object has no attribute 'solum-application-deployment'.\nAnd there is no builder service which run on port 9778, so remove it.\n\nCloses-Bug: #1658452\nChange-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6\n""}]",13,420407,77f0846a1620554088c10068c712e53cfa37c6f8,61,14,14,22165,,,0,"Fix the solum deploy failed

Ansible dict object has no attribute 'solum-application-deployment'.
And there is no builder service which run on port 9778, so remove it.

Closes-Bug: #1658452
Change-Id: I89d89e67f63c6189c4215753df7f6075dc1dedd6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/420407/13 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy/templates/haproxy.cfg.j2'],1,7cc3cffd07cadc0af2f7e0faa819be29ef072ce6,bug/1658452,{% for host in groups['solum-api'] %}{% for host in groups['solum-api'] %}{% for host in groups['solum-api'] %}{% for host in groups['solum-api'] %},{% for host in groups['solum-application-deployment'] %}{% for host in groups['solum-image-builder'] %}{% for host in groups['solum-application-deployment'] %}{% for host in groups['solum-image-builder'] %},4,4
openstack%2Fopenstack-helm-infra~master~I8c483687cbbcb32c7b9e2ec07acf1cbdcc1e833f,openstack/openstack-helm-infra,master,I8c483687cbbcb32c7b9e2ec07acf1cbdcc1e833f,Fix the idempotent for helm repo,ABANDONED,2018-06-15 03:00:47.000000000,2018-12-07 09:56:52.000000000,,"[{'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26285}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-06-15 03:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/543ce558fcacd6ac4d7effc6ad2f8fc594972c04', 'message': ""Fix the idempotent for helm repo\n\n1. It is not friendly for operator to find fatal error(even it won't\nbreak the task)\n2. Fix the idempotent to avoid add local repo every time\n\nChange-Id: I8c483687cbbcb32c7b9e2ec07acf1cbdcc1e833f\n""}, {'number': 2, 'created': '2018-06-15 03:03:59.000000000', 'files': ['roles/build-helm-packages/tasks/setup-helm-serve.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04bb52cda70cdc8f64293d3fb8f69cb7f2a6a711', 'message': ""Fix the idempotent for helm repo\n\n1. It is not friendly for operator to find fatal error(even it won't\nbreak the task)\n2. Fix the idempotent to avoid add local repo every time\n\nChange-Id: I8c483687cbbcb32c7b9e2ec07acf1cbdcc1e833f\n""}]",5,575589,04bb52cda70cdc8f64293d3fb8f69cb7f2a6a711,8,5,2,22165,,,0,"Fix the idempotent for helm repo

1. It is not friendly for operator to find fatal error(even it won't
break the task)
2. Fix the idempotent to avoid add local repo every time

Change-Id: I8c483687cbbcb32c7b9e2ec07acf1cbdcc1e833f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/575589/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-helm-packages/tasks/setup-helm-serve.yaml'],1,543ce558fcacd6ac4d7effc6ad2f8fc594972c04,, - name: get all helm repos shell: helm repo list register: helm_repos when: helm_repos.stdout.find('stable') != -1 - name: adding helm local repo command: helm repo add local http://localhost:8879/charts when: helm_repos.stdout.find('local') == -1," - name: checking if helm 'stable' repo is present shell: helm repo list | grep -q ""^stable"" register: helm_stable_repo_present ignore_errors: True when: helm_stable_repo_present is succeeded - name: adding helm local repo command: helm repo add local http://localhost:8879/charts",7,8
openstack%2Fswift~master~I864de1d7ef0df07246388c7c108e1bb753e15de3,openstack/swift,master,I864de1d7ef0df07246388c7c108e1bb753e15de3,Py3: Fix test_memcache,MERGED,2018-12-03 11:52:18.000000000,2018-12-07 09:56:31.000000000,2018-12-07 09:56:30.000000000,"[{'_account_id': 597}, {'_account_id': 8122}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-03 11:52:18.000000000', 'files': ['test/unit/common/middleware/test_memcache.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/010cdc2a0c02c7beac65908439331fc389089356', 'message': 'Py3: Fix test_memcache\n\nChange-Id: I864de1d7ef0df07246388c7c108e1bb753e15de3\n'}]",0,621552,010cdc2a0c02c7beac65908439331fc389089356,15,4,1,8122,,,0,"Py3: Fix test_memcache

Change-Id: I864de1d7ef0df07246388c7c108e1bb753e15de3
",git fetch https://review.opendev.org/openstack/swift refs/changes/52/621552/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_memcache.py', 'tox.ini']",2,010cdc2a0c02c7beac65908439331fc389089356,py3-memcache, test/unit/common/middleware/test_memcache.py \,,2,1
openstack%2Fceilometer~master~Ia2af9971988c0b6e5dc6100ebff3764e9290d508,openstack/ceilometer,master,Ia2af9971988c0b6e5dc6100ebff3764e9290d508,just for my test,ABANDONED,2018-12-07 09:42:45.000000000,2018-12-07 09:56:21.000000000,,[{'_account_id': 15843}],"[{'number': 1, 'created': '2018-12-07 09:42:45.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/87c267eb33d0affe3f99ab286a55fc9404248951', 'message': 'just for my test\n\nChange-Id: Ia2af9971988c0b6e5dc6100ebff3764e9290d508\n'}]",0,623434,87c267eb33d0affe3f99ab286a55fc9404248951,3,1,1,13229,,,0,"just for my test

Change-Id: Ia2af9971988c0b6e5dc6100ebff3764e9290d508
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/34/623434/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,87c267eb33d0affe3f99ab286a55fc9404248951,test,just for my test ,,1,0
openstack%2Fkarbor~master~I58f525516c4b9cf4d1ab9afe43e8e606f6c5c89a,openstack/karbor,master,I58f525516c4b9cf4d1ab9afe43e8e606f6c5c89a,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 06:29:05.000000000,2018-12-07 09:43:35.000000000,2018-12-07 09:43:35.000000000,"[{'_account_id': 16006}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2018-12-04 06:29:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/karbor/commit/5188e4810a9f2cb468a2608615420b7085276e5b', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I58f525516c4b9cf4d1ab9afe43e8e606f6c5c89a\n'}]",0,622015,5188e4810a9f2cb468a2608615420b7085276e5b,9,4,1,28889,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I58f525516c4b9cf4d1ab9afe43e8e606f6c5c89a
",git fetch https://review.opendev.org/openstack/karbor refs/changes/15/622015/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5188e4810a9f2cb468a2608615420b7085276e5b,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fkolla-ansible~master~Ia4335523b727d0e45505cbb1efb40ccf04c27db7,openstack/kolla-ansible,master,Ia4335523b727d0e45505cbb1efb40ccf04c27db7,Allow set tty for containers,MERGED,2018-12-05 09:08:26.000000000,2018-12-07 09:30:57.000000000,2018-12-07 09:30:57.000000000,"[{'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-05 09:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a28a7d534ffbb0cd2b0e548279cef3b3276697c', 'message': 'Allow set tty for containers\n\nThis change adds support to comfigure tty,\nit was enabled by default but a recent patch\nremoved it. Some services such as Karaf in opendaylight\nrequires a TTY during startup.\n\nCloses-Bug: #1806662\nChange-Id: Ia4335523b727d0e45505cbb1efb40ccf04c27db7\n'}, {'number': 2, 'created': '2018-12-05 09:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0b56e80542f6baaf87c50fe7e798f98772b91201', 'message': 'Allow set tty for containers\n\nThis change adds support to comfigure tty,\nit was enabled by default but a recent patch\nremoved it. Some services such as Karaf in opendaylight\nrequires a TTY during startup.\n\nCloses-Bug: #1806662\nChange-Id: Ia4335523b727d0e45505cbb1efb40ccf04c27db7\n'}, {'number': 3, 'created': '2018-12-05 09:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6a3e1c289b00dacc75b2825b245f61f3af0e749', 'message': 'Allow set tty for containers\n\nThis change adds support to comfigure tty,\nit was enabled by default but a recent patch\nremoved it. Some services such as Karaf in opendaylight\nrequires a TTY during startup.\n\nCloses-Bug: #1806662\nChange-Id: Ia4335523b727d0e45505cbb1efb40ccf04c27db7\n'}, {'number': 4, 'created': '2018-12-05 11:44:38.000000000', 'files': ['ansible/roles/opendaylight/defaults/main.yml', 'releasenotes/notes/support-tty-containers-c2d189f2e7c25dba.yaml', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/opendaylight/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/846c15d8e1ca39e12b823d1b2e508f3edc009bbf', 'message': 'Allow set tty for containers\n\nThis change adds support to comfigure tty,\nit was enabled by default but a recent patch\nremoved it. Some services such as Karaf in opendaylight\nrequires a TTY during startup.\n\nCloses-Bug: #1806662\nChange-Id: Ia4335523b727d0e45505cbb1efb40ccf04c27db7\n'}]",4,622900,846c15d8e1ca39e12b823d1b2e508f3edc009bbf,18,6,4,19316,,,0,"Allow set tty for containers

This change adds support to comfigure tty,
it was enabled by default but a recent patch
removed it. Some services such as Karaf in opendaylight
requires a TTY during startup.

Closes-Bug: #1806662
Change-Id: Ia4335523b727d0e45505cbb1efb40ccf04c27db7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/622900/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/opendaylight/defaults/main.yml', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/opendaylight/handlers/main.yml']",5,3a28a7d534ffbb0cd2b0e548279cef3b3276697c,bug/1806662," tty: ""{{ service.tty }}""",,15,2
openstack%2Fcharm-layer-openstack~master~I6bb56a59cd65310d644aa25ae203996b22ec4b4e,openstack/charm-layer-openstack,master,I6bb56a59cd65310d644aa25ae203996b22ec4b4e,Update deprecated rabbitmq messaging configuration,MERGED,2018-12-06 19:35:41.000000000,2018-12-07 09:13:07.000000000,2018-12-07 09:13:07.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 19:35:41.000000000', 'files': ['templates/parts/section-oslo-messaging-rabbit', 'config.yaml', 'templates/parts/section-transport-url'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/cb4d058c0b694baa9ae975275620d0981692b514', 'message': 'Update deprecated rabbitmq messaging configuration\n\nCurrent versions of OpenStack use the transport url rather than\nrabbit_hosts and various other configuration settings.\n\nAdding a new template for transport url and current\noslo-messaging-rabbit settings.\n\nAllow the setting ssl_ca at the OpenStack principle layer.\n\nDepends-On: Ie17b481bce3e3bfdf71b15ca7667f8688739d608\nChange-Id: I6bb56a59cd65310d644aa25ae203996b22ec4b4e\nPartial-Bug: #1807233\n'}]",0,623296,cb4d058c0b694baa9ae975275620d0981692b514,10,3,1,20805,,,0,"Update deprecated rabbitmq messaging configuration

Current versions of OpenStack use the transport url rather than
rabbit_hosts and various other configuration settings.

Adding a new template for transport url and current
oslo-messaging-rabbit settings.

Allow the setting ssl_ca at the OpenStack principle layer.

Depends-On: Ie17b481bce3e3bfdf71b15ca7667f8688739d608
Change-Id: I6bb56a59cd65310d644aa25ae203996b22ec4b4e
Partial-Bug: #1807233
",git fetch https://review.opendev.org/openstack/charm-layer-openstack refs/changes/96/623296/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/parts/section-oslo-messaging-rabbit', 'config.yaml', 'templates/parts/section-transport-url']",3,cb4d058c0b694baa9ae975275620d0981692b514,bug/1807233,# This template must be included under the [DEFAULT] section {% if amqp.transport_url -%} transport_url = {{ amqp.transport_url }} {% endif -%} ,,34,0
openstack%2Fzun~master~I1039a61caba5b66f9d5bc961b43489bd01c82e7d,openstack/zun,master,I1039a61caba5b66f9d5bc961b43489bd01c82e7d,Add pciutils to bindep.txt,MERGED,2018-10-13 21:17:02.000000000,2018-12-07 09:13:07.000000000,2018-12-07 09:13:06.000000000,"[{'_account_id': 21428}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-10-13 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3c39cf9673d0e4229cb2e63358fe07897e08bf70', 'message': ""Add pciutils to bindep.txt\n\nZun requires package 'pciutils' because it is required for running\n'lspci' command.\n\nChange-Id: I1039a61caba5b66f9d5bc961b43489bd01c82e7d\nRelated-Bug: #1797448\n""}, {'number': 2, 'created': '2018-10-17 02:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/08ec4437b67a456f78e052be95282f2f4bb62a8a', 'message': ""Add pciutils to bindep.txt\n\nZun requires package 'pciutils' because it is required for running\n'lspci' command.\n\nChange-Id: I1039a61caba5b66f9d5bc961b43489bd01c82e7d\nRelated-Bug: #1797448\n""}, {'number': 3, 'created': '2018-12-07 02:50:57.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/e4986026f775e43ce5c9a0901d1d565a074fc0d1', 'message': ""Add pciutils to bindep.txt\n\nZun requires package 'pciutils' because it is required for running\n'lspci' command.\n\nChange-Id: I1039a61caba5b66f9d5bc961b43489bd01c82e7d\nRelated-Bug: #1797448\n""}]",0,610291,e4986026f775e43ce5c9a0901d1d565a074fc0d1,14,3,3,11536,,,0,"Add pciutils to bindep.txt

Zun requires package 'pciutils' because it is required for running
'lspci' command.

Change-Id: I1039a61caba5b66f9d5bc961b43489bd01c82e7d
Related-Bug: #1797448
",git fetch https://review.opendev.org/openstack/zun refs/changes/91/610291/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,3c39cf9673d0e4229cb2e63358fe07897e08bf70,bug/1797448, # Required for running the 'lspci' command pciutils,,3,0
openstack%2Fkuryr-kubernetes~master~I76b0565a1006c6bf7191e32d227a8f72e141abbe,openstack/kuryr-kubernetes,master,I76b0565a1006c6bf7191e32d227a8f72e141abbe,Making octavia-pools-namespace gate serial,ABANDONED,2018-12-05 10:37:35.000000000,2018-12-07 09:08:49.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-12-05 10:37:35.000000000', 'files': ['.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5ceb1c7bd5d3e0d925bafb3d0a7ae86f3cecbaf3', 'message': ""Making octavia-pools-namespace gate serial\n\nAs there are port_pool tests that can't run simultaneously,\nthis gate should run serially\n\nChange-Id: I76b0565a1006c6bf7191e32d227a8f72e141abbe\n""}]",0,622924,5ceb1c7bd5d3e0d925bafb3d0a7ae86f3cecbaf3,3,3,1,21302,,,0,"Making octavia-pools-namespace gate serial

As there are port_pool tests that can't run simultaneously,
this gate should run serially

Change-Id: I76b0565a1006c6bf7191e32d227a8f72e141abbe
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/24/622924/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/octavia.yaml'],1,5ceb1c7bd5d3e0d925bafb3d0a7ae86f3cecbaf3,making_port_pools_serial, KURYR_K8S_SERIAL_TESTS: True tempest_concurrency: 1,,2,0
openstack%2Fkolla~master~If8159edcb6e3c37cc05bc7575ba81a17e0b113ad,openstack/kolla,master,If8159edcb6e3c37cc05bc7575ba81a17e0b113ad,Clean up vpnaas remained,MERGED,2017-10-31 14:30:07.000000000,2018-12-07 09:00:35.000000000,2018-12-07 09:00:34.000000000,"[{'_account_id': 167}, {'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 27781}]","[{'number': 1, 'created': '2017-10-31 14:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3452b1f084747b4116f8587b01f5bbf5f7ebb251', 'message': 'Remove the ignored ceilometer_database_type\n\nhttps://github.com/openstack/kolla-ansible/blob/master/releasenotes/notes/remove-ceilometer-useless-service-4e210ddc1c48ac48.yaml#L8\n\nChange-Id: If8159edcb6e3c37cc05bc7575ba81a17e0b113ad\n'}, {'number': 2, 'created': '2017-11-10 01:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7dc80f4bbbe8525d5f440d7f1613d550198ff5e0', 'message': 'Remove the ignored ceilometer_database_type\n\nChange-Id: If8159edcb6e3c37cc05bc7575ba81a17e0b113ad\n'}, {'number': 3, 'created': '2018-11-14 05:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/247e7f70c9cf7d5394832eb8d8e2bf2f36d99d6b', 'message': 'Drop deprecated image neutron-sfc-agent bootstrap\n\nrefer to https://review.openstack.org/#/c/615331/\n\nChange-Id: If8159edcb6e3c37cc05bc7575ba81a17e0b113ad\n'}, {'number': 4, 'created': '2018-12-05 07:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/64876eae373c1c5e2567f1895d774cd1ee469c5c', 'message': 'Clean up vpnaas remained\n\nsince neutron-vpnaas-agent has been moved into neutron-l3-agent\nthe extend_start.sh[1] is unneeded, it should be removed\n\n[1]: https://review.openstack.org/#/c/530208/\nCloses-Bug: #1753617\n\nDepends-On: I47cd8ba5a14da3c76d5b1eb0b4c0cf0c729eb2ff\n\nChange-Id: If8159edcb6e3c37cc05bc7575ba81a17e0b113ad\n'}, {'number': 5, 'created': '2018-12-06 09:03:00.000000000', 'files': ['docker/neutron/neutron-vpnaas-agent/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/433e28413a7b06a096608d78cdb455befe662826', 'message': 'Clean up vpnaas remained\n\nsince neutron-vpnaas-agent has been moved into neutron-l3-agent\nthe extend_start.sh[1] is unneeded, it should be removed\n\n[1]: https://review.openstack.org/#/c/530208/\nCloses-Bug: #1753617\n\nDepends-On: I47cd8ba5a14da3c76d5b1eb0b4c0cf0c729eb2ff\n\nChange-Id: If8159edcb6e3c37cc05bc7575ba81a17e0b113ad\n'}]",4,516699,433e28413a7b06a096608d78cdb455befe662826,35,10,5,22165,,,0,"Clean up vpnaas remained

since neutron-vpnaas-agent has been moved into neutron-l3-agent
the extend_start.sh[1] is unneeded, it should be removed

[1]: https://review.openstack.org/#/c/530208/
Closes-Bug: #1753617

Depends-On: I47cd8ba5a14da3c76d5b1eb0b4c0cf0c729eb2ff

Change-Id: If8159edcb6e3c37cc05bc7575ba81a17e0b113ad
",git fetch https://review.opendev.org/openstack/kolla refs/changes/99/516699/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceilometer/ceilometer-api/extend_start.sh'],1,3452b1f084747b4116f8587b01f5bbf5f7ebb251,bug/1753617,," if [[ ""${CEILOMETER_DATABASE_TYPE}"" == ""mysql"" ]]; then sudo -H -u ceilometer ceilometer-upgrade --skip-gnocchi-resource-types elif [[ ""${CEILOMETER_DATABASE_TYPE}"" == ""gnocchi"" ]]; then sudo -H -u ceilometer ceilometer-upgrade --skip-metering-database elif [[ ""${CEILOMETER_DATABASE_TYPE}"" == ""mongodb"" ]]; then echo ""Ceilometer doesn't need to initialize a database when MongoDB is configured as the database back end."" else echo ""Unsupported database type: ${CEILOMETER_DATABASE_TYPE}"" exit 1 fi",0,10
openstack%2Fcharm-glance~stable%2F18.11~I7be5d16359aa6c78c9241990c3d3b8bab4910538,openstack/charm-glance,stable/18.11,I7be5d16359aa6c78c9241990c3d3b8bab4910538,Add charm's directory to syspath,MERGED,2018-12-06 20:02:36.000000000,2018-12-07 08:59:56.000000000,2018-12-07 08:59:56.000000000,"[{'_account_id': 2424}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 20:02:36.000000000', 'files': ['actions/openstack_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/67c9cdf20474acbbe79ee3889bfc2d4d30bf519f', 'message': ""Add charm's directory to syspath\n\ncharmhelpers lives in the charm dir and it needs to be added to the\nsyspath to allow the openstack-upgrade action find it. This wasn't\nneeded until commit b45cd2ae removed the symlink that was left in the\nhooks/ directory for backward compatibility purposes.\n\nChange-Id: I7be5d16359aa6c78c9241990c3d3b8bab4910538\nCloses-Bug: 1802182\n(cherry picked from commit 41a046ba82435cde2e3524b529e425bdd42ab52f)\n""}]",0,623301,67c9cdf20474acbbe79ee3889bfc2d4d30bf519f,10,5,1,20635,,,0,"Add charm's directory to syspath

charmhelpers lives in the charm dir and it needs to be added to the
syspath to allow the openstack-upgrade action find it. This wasn't
needed until commit b45cd2ae removed the symlink that was left in the
hooks/ directory for backward compatibility purposes.

Change-Id: I7be5d16359aa6c78c9241990c3d3b8bab4910538
Closes-Bug: 1802182
(cherry picked from commit 41a046ba82435cde2e3524b529e425bdd42ab52f)
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/01/623301/1 && git format-patch -1 --stdout FETCH_HEAD,['actions/openstack_upgrade.py'],1,67c9cdf20474acbbe79ee3889bfc2d4d30bf519f,bug/1802182,"_path = os.path.dirname(os.path.realpath(__file__)) _parent = os.path.abspath(os.path.join(_path, "".."")) def _add_path(path): if path not in sys.path: sys.path.insert(1, path) _add_path(_parent) ",,12,0
openstack%2Fzaqar~master~Ia3e61ee425413c9834f4db260def5269a53bf79d,openstack/zaqar,master,Ia3e61ee425413c9834f4db260def5269a53bf79d,Fix CI,ABANDONED,2018-12-07 02:05:36.000000000,2018-12-07 08:57:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-07 02:05:36.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/7a9a09bf007661338c10c7cc8a8d9910882c05de', 'message': 'Fix CI\n\nMake redis lower than 3.0.0 to quick fix CI.\n\nSupport the new version in the future.\n\nChange-Id: Ia3e61ee425413c9834f4db260def5269a53bf79d\n'}]",0,623378,7a9a09bf007661338c10c7cc8a8d9910882c05de,3,1,1,28035,,,0,"Fix CI

Make redis lower than 3.0.0 to quick fix CI.

Support the new version in the future.

Change-Id: Ia3e61ee425413c9834f4db260def5269a53bf79d
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/78/623378/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7a9a09bf007661338c10c7cc8a8d9910882c05de,fix_CI,"# Fixme(wxy): support redis >=3.0.0 redis>=2.10.0,<3.0.0 # MIT",redis>=2.10.0 # MIT,2,1
openstack%2Fheat~stable%2Fqueens~Iedba67c5de39dc2d58938da5505dda5dd147c130,openstack/heat,stable/queens,Iedba67c5de39dc2d58938da5505dda5dd147c130,Store resources convergence-style in stack check/suspend/resume,MERGED,2018-10-15 03:38:39.000000000,2018-12-07 08:33:03.000000000,2018-12-07 08:33:03.000000000,"[{'_account_id': 3153}, {'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 03:38:39.000000000', 'files': ['heat/engine/stack.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/1db3d02f79e11c14283bbbeba164a6ab1845e5a8', 'message': ""Store resources convergence-style in stack check/suspend/resume\n\nIf there are resources in a template that don't exist in the database at\nthe time of a stack check (or suspend or resume) operation, running the\nstack check will cause them to be stored in the database. Since these\noperations have not been converted to convergence (story 1727142), they do\nnot set the current_template_id as a convergence update would. If this\noccurs then the stack will be unrecoverable.\n\nTo avoid this, when convergence is enabled store any missing resources in\nthe same manner that a convergence update would, prior to running the stack\ncheck/suspend/resume.\n\nJust in case, make sure the stack doesn't get stuck if we do end up in the\nwrong state, by not trying to load a template with None as an ID.\n\nChange-Id: Iedba67c5de39dc2d58938da5505dda5dd147c130\nStory: #2003062\nTask: 23101\n(cherry picked from commit 8ca06cfeafc94e739947cf89affa4db57b6bf3c9)\n""}]",0,610405,1db3d02f79e11c14283bbbeba164a6ab1845e5a8,46,5,1,8833,,,0,"Store resources convergence-style in stack check/suspend/resume

If there are resources in a template that don't exist in the database at
the time of a stack check (or suspend or resume) operation, running the
stack check will cause them to be stored in the database. Since these
operations have not been converted to convergence (story 1727142), they do
not set the current_template_id as a convergence update would. If this
occurs then the stack will be unrecoverable.

To avoid this, when convergence is enabled store any missing resources in
the same manner that a convergence update would, prior to running the stack
check/suspend/resume.

Just in case, make sure the stack doesn't get stuck if we do end up in the
wrong state, by not trying to load a template with None as an ID.

Change-Id: Iedba67c5de39dc2d58938da5505dda5dd147c130
Story: #2003062
Task: 23101
(cherry picked from commit 8ca06cfeafc94e739947cf89affa4db57b6bf3c9)
",git fetch https://review.opendev.org/openstack/heat refs/changes/05/610405/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/stack.py', 'heat/engine/resource.py']",2,1db3d02f79e11c14283bbbeba164a6ab1845e5a8,, current_template_id = db_res.current_template_id using_new_template = (current_template_id != curr_stack.t.id and current_template_id is not None) will_create = (db_res.action == cls.INIT and is_update and current_traversal == curr_stack.current_traversal) if using_new_template and not will_create:, if (db_res.current_template_id != curr_stack.t.id and (db_res.action != cls.INIT or not is_update or current_traversal != curr_stack.current_traversal)): current_template_id = db_res.current_template_id,17,5
openstack%2Farch-design~master~I5d0a5d9293f91859eccd42afdc9983b724262474,openstack/arch-design,master,I5d0a5d9293f91859eccd42afdc9983b724262474,Fix the incorrect project name of navigation bar,MERGED,2018-12-07 03:33:43.000000000,2018-12-07 07:48:30.000000000,2018-12-07 07:48:30.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 03:33:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/arch-design/commit/a6ad21411cfd9a3666c374f8051f9ed29ba7407e', 'message': 'Fix the incorrect project name of navigation bar\n\nAdd setup.cfg, this is needed by the openstackdocstheme to render the\nproject name.\n\nChange-Id: I5d0a5d9293f91859eccd42afdc9983b724262474\nRelated-Bug: #1807075\n'}]",0,623389,a6ad21411cfd9a3666c374f8051f9ed29ba7407e,6,2,1,16523,,,0,"Fix the incorrect project name of navigation bar

Add setup.cfg, this is needed by the openstackdocstheme to render the
project name.

Change-Id: I5d0a5d9293f91859eccd42afdc9983b724262474
Related-Bug: #1807075
",git fetch https://review.opendev.org/openstack/arch-design refs/changes/89/623389/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a6ad21411cfd9a3666c374f8051f9ed29ba7407e,bug/1807075,[metadata] name = arch-design summary = OpenStack Architecture Design Guide author = OpenStack author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/arch-design classifier = Environment :: OpenStack Intended Audience :: Information Technology Intended Audience :: System Administrators License :: OSI Approved :: Apache Software License Operating System :: POSIX :: Linux Topic :: Documentation [global] setup-hooks = pbr.hooks.setup_hook [files] ,,19,0
openstack%2Fswift~master~Ib6659a7ad2bd58d711002125e7820f6e86383be8,openstack/swift,master,Ib6659a7ad2bd58d711002125e7820f6e86383be8,s3api: Change default location to us-east-1,MERGED,2018-11-09 23:52:58.000000000,2018-12-07 07:45:09.000000000,2018-12-07 07:45:09.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-09 23:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c3faaae81fbd7170d73d047ae7b91229adcde74f', 'message': 's3api: Change default location to us-east-1\n\nThis is more likely to be the default region that a client would try for\nv4 signatures.\n\nUpgradeImpact:\n==============\n\nDeployers with clusters that relied on the old implicit default\nlocation of US should explicitly set\n\n    location = US\n\nin the [filter:s3api] section of proxy-server.conf\n\nChange-Id: Ib6659a7ad2bd58d711002125e7820f6e86383be8\n'}, {'number': 2, 'created': '2018-11-10 00:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c2a062cba17c8d8ee6fd6fb578f97c85f425b8e0', 'message': 's3api: Change default location to us-east-1\n\nThis is more likely to be the default region that a client would try for\nv4 signatures.\n\nUpgradeImpact:\n==============\n\nDeployers with clusters that relied on the old implicit default\nlocation of US should explicitly set\n\n    location = US\n\nin the [filter:s3api] section of proxy-server.conf before upgrading.\n\nChange-Id: Ib6659a7ad2bd58d711002125e7820f6e86383be8\n'}, {'number': 3, 'created': '2018-11-12 19:05:28.000000000', 'files': ['test/functional/s3api/s3_test_client.py', 'test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/s3api/test_bucket.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/controllers/location.py', 'swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/functional/s3api/test_bucket.py', 'test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/692a03473f6cfffd089624c61772488096a9bdeb', 'message': 's3api: Change default location to us-east-1\n\nThis is more likely to be the default region that a client would try for\nv4 signatures.\n\nUpgradeImpact:\n==============\n\nDeployers with clusters that relied on the old implicit default\nlocation of US should explicitly set\n\n    location = US\n\nin the [filter:s3api] section of proxy-server.conf before upgrading.\n\nChange-Id: Ib6659a7ad2bd58d711002125e7820f6e86383be8\n'}]",0,617046,692a03473f6cfffd089624c61772488096a9bdeb,17,3,3,15343,,,0,"s3api: Change default location to us-east-1

This is more likely to be the default region that a client would try for
v4 signatures.

UpgradeImpact:
==============

Deployers with clusters that relied on the old implicit default
location of US should explicitly set

    location = US

in the [filter:s3api] section of proxy-server.conf before upgrading.

Change-Id: Ib6659a7ad2bd58d711002125e7820f6e86383be8
",git fetch https://review.opendev.org/openstack/swift refs/changes/46/617046/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/s3api/s3_test_client.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/s3api.py', 'test/functional/s3api/test_bucket.py']",4,c3faaae81fbd7170d73d047ae7b91229adcde74f,617046, xml = self._gen_location_xml(self.conn.conn.auth_region_name), xml = self._gen_location_xml('US'),4,4
openstack%2Fcinder~master~I5c6098b1950b361a38d4a2b3a928344a277a3ed0,openstack/cinder,master,I5c6098b1950b361a38d4a2b3a928344a277a3ed0,api-ref: fix succeed code and add field for update-backup,MERGED,2018-11-07 09:12:21.000000000,2018-12-07 07:45:04.000000000,2018-12-07 07:45:04.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-07 09:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4e92a6633e23ba4787a94ac861d3d97aa592025', 'message': 'api-ref: Add metadata in response of update-backup\n\nhttps://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=update-a-backup-detail#update-a-backup\n\nmetadata is present in the response example of ""Update a backup"",\nbut is missing from the response parameters.\n\nChange-Id: I5c6098b1950b361a38d4a2b3a928344a277a3ed0\n'}, {'number': 2, 'created': '2018-11-08 09:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/801bc0e6b9fa1645514ca50affdab32c06fc9714', 'message': 'api-ref: fix succeed code and add field for update-backup\n\nhttps://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=update-a-backup-detail#update-a-backup\n\n1. metadata is present in the response example of ""Update a backup"",\nbut is missing from the response parameters.\n\n2. succeed code of update-backup is 200, not 202\n\nChange-Id: I5c6098b1950b361a38d4a2b3a928344a277a3ed0\n'}, {'number': 3, 'created': '2018-11-09 02:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe2938e9022bada61a0abf40519ae3863b6115d4', 'message': 'api-ref: fix succeed code and add field for update-backup\n\nhttps://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=update-a-backup-detail#update-a-backup\n\n1. metadata is present in the response example of ""Update a backup"",\nbut is missing from the response parameters.\n\n2. succeed code of update-backup is 200, not 202\n\nChange-Id: I5c6098b1950b361a38d4a2b3a928344a277a3ed0\n'}, {'number': 4, 'created': '2018-11-09 03:02:43.000000000', 'files': ['api-ref/source/v3/ext-backups.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/45dc058c5c3615d2713176a9a985df7dbd6b1130', 'message': 'api-ref: fix succeed code and add field for update-backup\n\nhttps://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=update-a-backup-detail#update-a-backup\n\n1. metadata is present in the response example of ""Update a backup"",\nbut is missing from the response parameters.\n\n2. succeed code of update-backup is 200, not 202\n\nChange-Id: I5c6098b1950b361a38d4a2b3a928344a277a3ed0\n'}]",0,616117,45dc058c5c3615d2713176a9a985df7dbd6b1130,82,30,4,20190,,,0,"api-ref: fix succeed code and add field for update-backup

https://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=update-a-backup-detail#update-a-backup

1. metadata is present in the response example of ""Update a backup"",
but is missing from the response parameters.

2. succeed code of update-backup is 200, not 202

Change-Id: I5c6098b1950b361a38d4a2b3a928344a277a3ed0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/616117/4 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/ext-backups.inc'],1,f4e92a6633e23ba4787a94ac861d3d97aa592025,bp/volume-response-schema-validation, - metadata: metadata_9,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic0eef51c1dafd4a1378f5317390e7c09f1d429cd,openstack/tripleo-heat-templates,stable/queens,Ic0eef51c1dafd4a1378f5317390e7c09f1d429cd,Configure cinder's access to the nova API,MERGED,2018-11-27 03:26:28.000000000,2018-12-07 07:22:15.000000000,2018-12-07 07:22:15.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 03:26:28.000000000', 'files': ['puppet/services/cinder-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b64e6ebcab6f24ae15947f2df735faef85afa9b7', 'message': ""Configure cinder's access to the nova API\n\nConfigure cinder to use the nova API's admin endpoint instead of the\ndefault public endpoint. Add the necessary auth credentials so that\ncinder can access nova's API as a privileged user, which is required\nfor certain actions (see [1]).\n\n[1] https://git.openstack.org/cgit/openstack/cinder/tree/cinder/compute/nova.py#n86\n\nCloses-Bug: #1802347\nDepends-On: I925e25bcc352955560fc449fc5287e56beb12ca3\nDepends-On: Ia357ea41f8472d47e266d853f120a14b767e880d\nChange-Id: Ic0eef51c1dafd4a1378f5317390e7c09f1d429cd\n(cherry picked from commit f49ca18155eddab5ef29f897e95c4b2ee79d78f7)\n(cherry picked from commit c7e16c3e7ad0af20f07551f3b86419c4e37d75d5)\n""}]",0,620209,b64e6ebcab6f24ae15947f2df735faef85afa9b7,7,4,1,21129,,,0,"Configure cinder's access to the nova API

Configure cinder to use the nova API's admin endpoint instead of the
default public endpoint. Add the necessary auth credentials so that
cinder can access nova's API as a privileged user, which is required
for certain actions (see [1]).

[1] https://git.openstack.org/cgit/openstack/cinder/tree/cinder/compute/nova.py#n86

Closes-Bug: #1802347
Depends-On: I925e25bcc352955560fc449fc5287e56beb12ca3
Depends-On: Ia357ea41f8472d47e266d853f120a14b767e880d
Change-Id: Ic0eef51c1dafd4a1378f5317390e7c09f1d429cd
(cherry picked from commit f49ca18155eddab5ef29f897e95c4b2ee79d78f7)
(cherry picked from commit c7e16c3e7ad0af20f07551f3b86419c4e37d75d5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/620209/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/cinder-base.yaml'],1,b64e6ebcab6f24ae15947f2df735faef85afa9b7,bug/1802347," NovaPassword: type: string description: The password for the nova service and db account hidden: true cinder::nova::interface: admin cinder::nova::auth_type: password cinder::nova::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri]} cinder::nova::password: {get_param: NovaPassword}",,8,0
openstack%2Ftripleo-common~stable%2Fqueens~I90271a499bd62591a3851e6c60b72e6cb65983c4,openstack/tripleo-common,stable/queens,I90271a499bd62591a3851e6c60b72e6cb65983c4,Switch scenarios to non-voting,MERGED,2018-11-29 18:11:11.000000000,2018-12-07 07:22:14.000000000,2018-12-07 07:22:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-11-29 18:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/72bfd9b81fc8368f6b182d57e6e1b636fad313ee', 'message': 'Switch scenarios to non-voting\n\nAs we continue to have issues with these jobs due to timeouts and other\nfailures. We need to switch the scenario jobs to non-voting and remove\nthem from the gate.\n\nChange-Id: I90271a499bd62591a3851e6c60b72e6cb65983c4\n'}, {'number': 2, 'created': '2018-11-30 18:55:29.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f20788df16abaeb555c4ee40e67f6fbc1b62a0c', 'message': 'Switch scenarios to non-voting\n\nAs we continue to have issues with these jobs due to timeouts and other\nfailures. We need to switch the scenario jobs to non-voting and remove\nthem from the gate.\n\nDepends-On: https://review.openstack.org/#/c/621259/\nChange-Id: I90271a499bd62591a3851e6c60b72e6cb65983c4\n'}]",0,620975,6f20788df16abaeb555c4ee40e67f6fbc1b62a0c,20,9,2,14985,,,0,"Switch scenarios to non-voting

As we continue to have issues with these jobs due to timeouts and other
failures. We need to switch the scenario jobs to non-voting and remove
them from the gate.

Depends-On: https://review.openstack.org/#/c/621259/
Change-Id: I90271a499bd62591a3851e6c60b72e6cb65983c4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/75/620975/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,72bfd9b81fc8368f6b182d57e6e1b636fad313ee,scenarios-nv,, voting: true voting: true voting: true voting: true voting: true - tripleo-ci-centos-7-scenario001-multinode-oooq-container: voting: true files: - workbooks/ceph-ansible.yaml - ^container-images/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: voting: true files: - ^container-images/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: voting: true files: - ^container-images/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: voting: true files: - workbooks/ceph-ansible.yaml - ^container-images/.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: voting: true files: - ^container-images/.*$,0,27
openstack%2Ftripleo-heat-templates~stable%2Frocky~I317dd62f3a555f375d540a63c21a6fb38d37ca96,openstack/tripleo-heat-templates,stable/rocky,I317dd62f3a555f375d540a63c21a6fb38d37ca96,nova_compute fails to start in tls-everywhere configuration,MERGED,2018-12-04 10:39:26.000000000,2018-12-07 07:22:12.000000000,2018-12-07 07:22:12.000000000,"[{'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27478}]","[{'number': 1, 'created': '2018-12-04 10:39:26.000000000', 'files': ['releasenotes/notes/nova_wait_for_placement_service_disable_cert_verify-45f532d7a924df86.yaml', 'docker_config_scripts/nova_wait_for_placement_service.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14af0677c87a64dd7ad96fad41d74da1db3d8e07', 'message': 'nova_compute fails to start in tls-everywhere configuration\n\nWith tls-everywhere enabled connecting to keystone endpoint fails\nto retrieve the URL for the placement endpoint as the certificate\ncan not be verified. While verification is disabled to check the\nplacement endpoint later, it is not to communicate with keystone.\nThis disables certificate verification for communication with\nkeystone.\n\nRelated-Bug: 1784155\n\nChange-Id: I317dd62f3a555f375d540a63c21a6fb38d37ca96\n(cherry picked from commit a99820a80cd99690c096553dcdc5e7f7472c02f1)\n'}]",1,622197,14af0677c87a64dd7ad96fad41d74da1db3d8e07,10,8,1,17216,,,0,"nova_compute fails to start in tls-everywhere configuration

With tls-everywhere enabled connecting to keystone endpoint fails
to retrieve the URL for the placement endpoint as the certificate
can not be verified. While verification is disabled to check the
placement endpoint later, it is not to communicate with keystone.
This disables certificate verification for communication with
keystone.

Related-Bug: 1784155

Change-Id: I317dd62f3a555f375d540a63c21a6fb38d37ca96
(cherry picked from commit a99820a80cd99690c096553dcdc5e7f7472c02f1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/622197/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova_wait_for_placement_service_disable_cert_verify-45f532d7a924df86.yaml', 'docker_config_scripts/nova_wait_for_placement_service.py']",2,14af0677c87a64dd7ad96fad41d74da1db3d8e07,bug/1784155," sess = session.Session(auth=auth, verify=False)", sess = session.Session(auth=auth),10,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ifb5ffc4b25f5ca266560bc0ac96c73071ebd1c9f,openstack/tripleo-heat-templates,stable/rocky,Ifb5ffc4b25f5ca266560bc0ac96c73071ebd1c9f,Change step to start nova placement and make compute wait for it,MERGED,2018-12-03 08:12:06.000000000,2018-12-07 07:22:11.000000000,2018-12-07 07:22:11.000000000,"[{'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-12-03 08:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1968a73628b8d9e032406d4fb434608f65374b9', 'message': ""Change step to start nova placement and make compute wait for it\n\nThere is a deployment race where nova-placement fails to start if\nthe nova api db migration have not finished before starting it.\nWe start nova placement early to make sure it is up before the\nnova-compute services get started. Since in HA scenario there is\nno sync in between the nodes on the current worked deployment step\nwe might have the situation that the placement service gets started\non C1/2 when the nova api db sync is not yet finished on C0.\n\nWe have two possibilities:\n1) start placement later and verify that nova-computes recover correct\n2) verify that db migration on nova_api db finished before start nova-\nplacement on the controllers\n\n2) which was addressed via https://review.openstack.org/610966 showed\nproblems:\na) the docker/podman container failed to start with some file not found\nerror, therefore this was reverted in https://review.openstack.org/619607\n\nb) when the scrip were running on different controllers at the same\ntime, the way how nova's db_version() is implemented has issues, which\nis being worked on in https://review.openstack.org/619622\n\nThis patch addresses 1) and moves placement service start to step_4\nand adds an additional task on the computes to wait until the placement\nservice is up.\n\nCloses-Bug: #1784155\n\nChange-Id: Ifb5ffc4b25f5ca266560bc0ac96c73071ebd1c9f\n(cherry picked from commit cc61ff93ec41e149caba31cc21524f37def4d07e)\n""}, {'number': 2, 'created': '2018-12-03 09:39:44.000000000', 'files': ['docker/services/nova-placement.yaml', 'docker_config_scripts/nova_wait_for_placement_service.py', 'docker/services/nova-compute-common.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3363bcbf8d7a4c16ec673361adf82c76213e1cbd', 'message': ""Change step to start nova placement and make compute wait for it\n\nThere is a deployment race where nova-placement fails to start if\nthe nova api db migration have not finished before starting it.\nWe start nova placement early to make sure it is up before the\nnova-compute services get started. Since in HA scenario there is\nno sync in between the nodes on the current worked deployment step\nwe might have the situation that the placement service gets started\non C1/2 when the nova api db sync is not yet finished on C0.\n\nWe have two possibilities:\n1) start placement later and verify that nova-computes recover correct\n2) verify that db migration on nova_api db finished before start nova-\nplacement on the controllers\n\n2) which was addressed via https://review.openstack.org/610966 showed\nproblems:\na) the docker/podman container failed to start with some file not found\nerror, therefore this was reverted in https://review.openstack.org/619607\n\nb) when the scrip were running on different controllers at the same\ntime, the way how nova's db_version() is implemented has issues, which\nis being worked on in https://review.openstack.org/619622\n\nThis patch addresses 1) and moves placement service start to step_4\nand adds an additional task on the computes to wait until the placement\nservice is up.\n\nCloses-Bug: #1784155\n\nChange-Id: Ifb5ffc4b25f5ca266560bc0ac96c73071ebd1c9f\n(cherry picked from commit cc61ff93ec41e149caba31cc21524f37def4d07e)\n""}]",0,621501,3363bcbf8d7a4c16ec673361adf82c76213e1cbd,13,8,2,17216,,,0,"Change step to start nova placement and make compute wait for it

There is a deployment race where nova-placement fails to start if
the nova api db migration have not finished before starting it.
We start nova placement early to make sure it is up before the
nova-compute services get started. Since in HA scenario there is
no sync in between the nodes on the current worked deployment step
we might have the situation that the placement service gets started
on C1/2 when the nova api db sync is not yet finished on C0.

We have two possibilities:
1) start placement later and verify that nova-computes recover correct
2) verify that db migration on nova_api db finished before start nova-
placement on the controllers

2) which was addressed via https://review.openstack.org/610966 showed
problems:
a) the docker/podman container failed to start with some file not found
error, therefore this was reverted in https://review.openstack.org/619607

b) when the scrip were running on different controllers at the same
time, the way how nova's db_version() is implemented has issues, which
is being worked on in https://review.openstack.org/619622

This patch addresses 1) and moves placement service start to step_4
and adds an additional task on the computes to wait until the placement
service is up.

Closes-Bug: #1784155

Change-Id: Ifb5ffc4b25f5ca266560bc0ac96c73071ebd1c9f
(cherry picked from commit cc61ff93ec41e149caba31cc21524f37def4d07e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/621501/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-placement.yaml', 'docker_config_scripts/nova_wait_for_placement_service.py', 'docker/services/nova-compute-common.yaml', 'docker/services/nova-compute.yaml']",4,f1968a73628b8d9e032406d4fb434608f65374b9,bug/1784155," nova_wait_for_placement_service: start_order: 2 image: *nova_compute_image user: root net: host privileged: false detach: false volumes: - /var/lib/docker-config-scripts/:/docker-config-scripts/ - /var/lib/config-data/puppet-generated/nova_libvirt/etc/nova:/etc/nova:ro command: ""/docker-config-scripts/pyshim.sh /docker-config-scripts/nova_wait_for_placement_service.py"" nova_compute: start_order: 3", nova_compute:,126,1
openstack%2Fcharms.openstack~master~Ie17b481bce3e3bfdf71b15ca7667f8688739d608,openstack/charms.openstack,master,Ie17b481bce3e3bfdf71b15ca7667f8688739d608,Move configure_ssl to OpenStackCharm class,MERGED,2018-12-06 19:34:15.000000000,2018-12-07 07:05:09.000000000,2018-12-07 07:05:08.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 19:34:15.000000000', 'files': ['charms_openstack/charm/classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/bba344aa6c4b2403f2eb771897443684eb8993d2', 'message': 'Move configure_ssl to OpenStackCharm class\n\nOpenStack principle charms (non-HA-API charms) may still require SSL\nconfiguration to communicate with the rest of the cloud.\n\nMove the pertinent methods from the HAOpenStackCharm class to the\nOpenStackCharm class. Leave the API specific methods where they are.\n\nChange-Id: Ie17b481bce3e3bfdf71b15ca7667f8688739d608\nPartial-Bug: #1807233\n'}]",0,623295,bba344aa6c4b2403f2eb771897443684eb8993d2,6,2,1,20805,,,0,"Move configure_ssl to OpenStackCharm class

OpenStack principle charms (non-HA-API charms) may still require SSL
configuration to communicate with the rest of the cloud.

Move the pertinent methods from the HAOpenStackCharm class to the
OpenStackCharm class. Leave the API specific methods where they are.

Change-Id: Ie17b481bce3e3bfdf71b15ca7667f8688739d608
Partial-Bug: #1807233
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/95/623295/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/classes.py'],1,bba344aa6c4b2403f2eb771897443684eb8993d2,bug/1807233," @property def rabbit_client_cert_dir(self): return '/var/lib/charm/{}'.format(hookenv.service_name()) @property def rabbit_cert_file(self): return '{}/rabbit-client-ca.pem'.format(self.rabbit_client_cert_dir) def get_certs_and_keys(self, keystone_interface=None, certificates_interface=None): """"""Collect SSL config for local endpoints SSL keys and certs may come from user specified configuration for this charm or they may come directly from Keystone. If collecting from keystone there may be a certificate and key per endpoint (public, admin etc). @returns [ {'key': 'key1', 'cert': 'cert1', 'ca': 'ca1', 'cn': 'cn1'} {'key': 'key2', 'cert': 'cert2', 'ca': 'ca2', 'cn': 'cn2'} ... ] """""" if self.config_defined_ssl_key and self.config_defined_ssl_cert: ssl_artifacts = [] for ep_type in [os_ip.INTERNAL, os_ip.ADMIN, os_ip.PUBLIC]: ssl_artifacts.append({ 'key': self.config_defined_ssl_key.decode('utf-8'), 'cert': self.config_defined_ssl_cert.decode('utf-8'), 'ca': (self.config_defined_ssl_ca.decode('utf-8') if self.config_defined_ssl_ca else None), 'cn': os_ip.resolve_address(endpoint_type=ep_type)}) return ssl_artifacts elif keystone_interface: keys_and_certs = [] for addr in self.get_local_addresses(): key = keystone_interface.get_ssl_key(addr) cert = keystone_interface.get_ssl_cert(addr) ca = keystone_interface.get_ssl_ca() if key and cert: keys_and_certs.append({ 'key': key, 'cert': cert, 'ca': ca, 'cn': addr}) return keys_and_certs elif certificates_interface: keys_and_certs = [] reqs = certificates_interface.get_batch_requests() ca = certificates_interface.get_ca() chain = certificates_interface.get_chain() for cn, data in sorted(reqs.items()): cert = data['cert'] if chain: cert = cert + chain keys_and_certs.append({ 'key': data['key'], 'cert': cert, 'ca': ca, 'cn': cn}) return keys_and_certs else: return [] def _get_b64decode_for(self, param): config_value = self.config.get(param) if config_value: return base64.b64decode(config_value) return None @property @hookenv.cached def config_defined_ssl_key(self): return self._get_b64decode_for('ssl_key') @property @hookenv.cached def config_defined_ssl_cert(self): return self._get_b64decode_for('ssl_cert') @property @hookenv.cached def config_defined_ssl_ca(self): return self._get_b64decode_for('ssl_ca') def configure_ssl(self, keystone_interface=None): """"""Configure SSL certificates and keys NOTE(AJK): This function tries to minimise the work it does, particularly with writing files and restarting apache. @param keystone_interface KeystoneRequires class """""" keystone_interface = ( relations.endpoint_from_flag('identity-service.available.ssl') or relations .endpoint_from_flag('identity-service.available.ssl_legacy')) certificates_interface = relations.endpoint_from_flag( 'certificates.batch.cert.available') ssl_objects = self.get_certs_and_keys( keystone_interface=keystone_interface, certificates_interface=certificates_interface) with is_data_changed('configure_ssl.ssl_objects', ssl_objects) as changed: if ssl_objects: if changed: for ssl in ssl_objects: self.set_state('ssl.requested', True) self.configure_cert( ssl['cert'], ssl['key'], cn=ssl['cn']) self.configure_ca(ssl['ca']) cert_utils.create_ip_cert_links( os.path.join('/etc/apache2/ssl/', self.name)) if not os_utils.snap_install_requested(): self.configure_apache() ch_host.service_reload('apache2') self.remove_state('ssl.requested') self.set_state('ssl.enabled', True) else: self.set_state('ssl.enabled', False) amqp_ssl = relations.endpoint_from_flag('amqp.available.ssl') if amqp_ssl: self.configure_rabbit_cert(amqp_ssl) def configure_rabbit_cert(self, rabbit_interface): if not os.path.exists(self.rabbit_client_cert_dir): os.makedirs(self.rabbit_client_cert_dir) with open(self.rabbit_cert_file, 'w') as crt: crt.write(rabbit_interface.get_ssl_cert()) @contextlib.contextmanager def update_central_cacerts(self, cert_files, update_certs=True): """"""Update Central certs info if once of cert_files changes"""""" checksums = {path: ch_host.path_hash(path) for path in cert_files} yield new_checksums = {path: ch_host.path_hash(path) for path in cert_files} if checksums != new_checksums and update_certs: self.run_update_certs() self.install_snap_certs() def configure_ca(self, ca_cert, update_certs=True): """"""Write Certificate Authority certificate"""""" # TODO(jamespage): work this out for snap based installations cert_file = ( '/usr/local/share/ca-certificates/keystone_juju_ca_cert.crt') if ca_cert: with self.update_central_cacerts([cert_file], update_certs): with open(cert_file, 'w') as crt: crt.write(ca_cert) def run_update_certs(self): """"""Update certifiacte Run update-ca-certificates to update the directory /etc/ssl/certs to hold SSL certificates and generates ca-certificates.crt, a concatenated single-file list of certificates """""" subprocess.check_call(['update-ca-certificates', '--fresh']) def install_snap_certs(self): """"""Install systems CA certificates for a snap Installs the aggregated host system ca-certificates.crt into $SNAP_COMMON/etc/ssl/certs for services running within a sandboxed snap to consume. Snaps should set the REQUESTS_CA_BUNDLE environment variable to ensure requests based API calls use the updated system certs. """""" if (os_utils.snap_install_requested() and os.path.exists(SYSTEM_CA_CERTS)): ca_certs = SNAP_CA_CERTS.format(self.primary_snap) ch_host.mkdir(os.path.dirname(ca_certs)) shutil.copyfile(SYSTEM_CA_CERTS, ca_certs) "," def get_certs_and_keys(self, keystone_interface=None, certificates_interface=None): """"""Collect SSL config for local endpoints SSL keys and certs may come from user specified configuration for this charm or they may come directly from Keystone. If collecting from keystone there may be a certificate and key per endpoint (public, admin etc). @returns [ {'key': 'key1', 'cert': 'cert1', 'ca': 'ca1', 'cn': 'cn1'} {'key': 'key2', 'cert': 'cert2', 'ca': 'ca2', 'cn': 'cn2'} ... ] """""" if self.config_defined_ssl_key and self.config_defined_ssl_cert: ssl_artifacts = [] for ep_type in [os_ip.INTERNAL, os_ip.ADMIN, os_ip.PUBLIC]: ssl_artifacts.append({ 'key': self.config_defined_ssl_key.decode('utf-8'), 'cert': self.config_defined_ssl_cert.decode('utf-8'), 'ca': (self.config_defined_ssl_ca.decode('utf-8') if self.config_defined_ssl_ca else None), 'cn': os_ip.resolve_address(endpoint_type=ep_type)}) return ssl_artifacts elif keystone_interface: keys_and_certs = [] for addr in self.get_local_addresses(): key = keystone_interface.get_ssl_key(addr) cert = keystone_interface.get_ssl_cert(addr) ca = keystone_interface.get_ssl_ca() if key and cert: keys_and_certs.append({ 'key': key, 'cert': cert, 'ca': ca, 'cn': addr}) return keys_and_certs elif certificates_interface: keys_and_certs = [] reqs = certificates_interface.get_batch_requests() ca = certificates_interface.get_ca() chain = certificates_interface.get_chain() for cn, data in sorted(reqs.items()): cert = data['cert'] if chain: cert = cert + chain keys_and_certs.append({ 'key': data['key'], 'cert': cert, 'ca': ca, 'cn': cn}) return keys_and_certs else: return [] def _get_b64decode_for(self, param): config_value = self.config.get(param) if config_value: return base64.b64decode(config_value) return None @property @hookenv.cached def config_defined_ssl_key(self): return self._get_b64decode_for('ssl_key') @property @hookenv.cached def config_defined_ssl_cert(self): return self._get_b64decode_for('ssl_cert') @property @hookenv.cached def config_defined_ssl_ca(self): return self._get_b64decode_for('ssl_ca') @property def rabbit_client_cert_dir(self): return '/var/lib/charm/{}'.format(hookenv.service_name()) @property def rabbit_cert_file(self): return '{}/rabbit-client-ca.pem'.format(self.rabbit_client_cert_dir) def configure_ssl(self, keystone_interface=None): """"""Configure SSL certificates and keys NOTE(AJK): This function tries to minimise the work it does, particularly with writing files and restarting apache. @param keystone_interface KeystoneRequires class """""" keystone_interface = ( relations.endpoint_from_flag('identity-service.available.ssl') or relations .endpoint_from_flag('identity-service.available.ssl_legacy')) certificates_interface = relations.endpoint_from_flag( 'certificates.batch.cert.available') ssl_objects = self.get_certs_and_keys( keystone_interface=keystone_interface, certificates_interface=certificates_interface) with is_data_changed('configure_ssl.ssl_objects', ssl_objects) as changed: if ssl_objects: if changed: for ssl in ssl_objects: self.set_state('ssl.requested', True) self.configure_cert( ssl['cert'], ssl['key'], cn=ssl['cn']) self.configure_ca(ssl['ca']) cert_utils.create_ip_cert_links( os.path.join('/etc/apache2/ssl/', self.name)) if not os_utils.snap_install_requested(): self.configure_apache() ch_host.service_reload('apache2') self.remove_state('ssl.requested') self.set_state('ssl.enabled', True) else: self.set_state('ssl.enabled', False) amqp_ssl = relations.endpoint_from_flag('amqp.available.ssl') if amqp_ssl: self.configure_rabbit_cert(amqp_ssl) def configure_rabbit_cert(self, rabbit_interface): if not os.path.exists(self.rabbit_client_cert_dir): os.makedirs(self.rabbit_client_cert_dir) with open(self.rabbit_cert_file, 'w') as crt: crt.write(rabbit_interface.get_ssl_cert()) @contextlib.contextmanager def update_central_cacerts(self, cert_files, update_certs=True): """"""Update Central certs info if once of cert_files changes"""""" checksums = {path: ch_host.path_hash(path) for path in cert_files} yield new_checksums = {path: ch_host.path_hash(path) for path in cert_files} if checksums != new_checksums and update_certs: self.run_update_certs() self.install_snap_certs() def configure_ca(self, ca_cert, update_certs=True): """"""Write Certificate Authority certificate"""""" # TODO(jamespage): work this out for snap based installations cert_file = ( '/usr/local/share/ca-certificates/keystone_juju_ca_cert.crt') if ca_cert: with self.update_central_cacerts([cert_file], update_certs): with open(cert_file, 'w') as crt: crt.write(ca_cert) def run_update_certs(self): """"""Update certifiacte Run update-ca-certificates to update the directory /etc/ssl/certs to hold SSL certificates and generates ca-certificates.crt, a concatenated single-file list of certificates """""" subprocess.check_call(['update-ca-certificates', '--fresh']) def install_snap_certs(self): """"""Install systems CA certificates for a snap Installs the aggregated host system ca-certificates.crt into $SNAP_COMMON/etc/ssl/certs for services running within a sandboxed snap to consume. Snaps should set the REQUESTS_CA_BUNDLE environment variable to ensure requests based API calls use the updated system certs. """""" if (os_utils.snap_install_requested() and os.path.exists(SYSTEM_CA_CERTS)): ca_certs = SNAP_CA_CERTS.format(self.primary_snap) ch_host.mkdir(os.path.dirname(ca_certs)) shutil.copyfile(SYSTEM_CA_CERTS, ca_certs) ",179,179
openstack%2Ftripleo-common~stable%2Fqueens~Ia4aeac06d4c0e237180e4ba60063828b0d1c5350,openstack/tripleo-common,stable/queens,Ia4aeac06d4c0e237180e4ba60063828b0d1c5350,Increase ansible gather_timeout to 30secs for config-download,MERGED,2018-12-05 21:14:00.000000000,2018-12-07 06:55:10.000000000,2018-12-07 06:55:10.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-05 21:14:00.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/44ec3a62676670f19b8f9e6cfc47d4971e54f99a', 'message': 'Increase ansible gather_timeout to 30secs for config-download\n\nWith ansible 2.6.2 the facts gathering run time seems to be much\nlonger [1], causing unpredictable failures like [2]\n\n1. https://github.com/ansible/ansible/issues/43884\n2. https://logs.rdoproject.org/60/14960/17/check/legacy-rdoinfo-tripleo-master-testing-centos-7-multinode-1ctlr-featureset016/b93ed7f/logs/undercloud/home/zuul/overcloud_deploy.log.txt.gz#_2018-11-08_18_43_14\n\nChange-Id: Ia4aeac06d4c0e237180e4ba60063828b0d1c5350\nCloses-Bug: 1806073\n(cherry picked from commit 25183dd0b155fb7c5b3b3c7837fcfdb5df1e6691)\n'}]",0,623069,44ec3a62676670f19b8f9e6cfc47d4971e54f99a,8,4,1,3153,,,0,"Increase ansible gather_timeout to 30secs for config-download

With ansible 2.6.2 the facts gathering run time seems to be much
longer [1], causing unpredictable failures like [2]

1. https://github.com/ansible/ansible/issues/43884
2. https://logs.rdoproject.org/60/14960/17/check/legacy-rdoinfo-tripleo-master-testing-centos-7-multinode-1ctlr-featureset016/b93ed7f/logs/undercloud/home/zuul/overcloud_deploy.log.txt.gz#_2018-11-08_18_43_14

Change-Id: Ia4aeac06d4c0e237180e4ba60063828b0d1c5350
Closes-Bug: 1806073
(cherry picked from commit 25183dd0b155fb7c5b3b3c7837fcfdb5df1e6691)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/623069/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,44ec3a62676670f19b8f9e6cfc47d4971e54f99a,bug/1806073-stable/queens," config.set('defaults', 'gather_timeout', '30')",,1,0
openstack%2Ffreezer~master~I5527195c933c6ede04244e95cd1cd14e771a6c00,openstack/freezer,master,I5527195c933c6ede04244e95cd1cd14e771a6c00,Add ftp list dir fail unit test,MERGED,2018-12-07 05:04:01.000000000,2018-12-07 06:53:32.000000000,2018-12-07 06:53:31.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-12-07 05:04:01.000000000', 'files': ['freezer/tests/unit/storages/test_ftp.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/35a9fccc3e469ab36c17d0b69a37045aef7c171f', 'message': 'Add ftp list dir fail unit test\n\nThe patch add ftp list dir fail unit test\n\nChange-Id: I5527195c933c6ede04244e95cd1cd14e771a6c00\n'}]",0,623398,35a9fccc3e469ab36c17d0b69a37045aef7c171f,6,2,1,21387,,,0,"Add ftp list dir fail unit test

The patch add ftp list dir fail unit test

Change-Id: I5527195c933c6ede04244e95cd1cd14e771a6c00
",git fetch https://review.opendev.org/openstack/freezer refs/changes/98/623398/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/tests/unit/storages/test_ftp.py'],1,35a9fccc3e469ab36c17d0b69a37045aef7c171f,addlistdirfailunittest," @patch('ftplib.FTP') def test_listdir_fail_raise_FtpStorage(self, mock_ftp_constructor): mock_ftp = mock_ftp_constructor.return_value ftpobj = ftp.FtpStorage( storage_path=self.ftp_opt.ftp_storage_path, remote_pwd=self.ftp_opt.ftp_remote_pwd, remote_username=self.ftp_opt.ftp_remote_username, remote_ip=self.ftp_opt.ftp_remote_ip, port=self.ftp_opt.ftp_port, max_segment_size=self.ftp_opt.ftp_max_segment_size) test_dir = '/home/test' seffect = mock.Mock(side_effect=Exception()) mock_ftp.raiseError.side_effect = seffect ret = ftpobj.listdir(test_dir) self.assertEqual(list(), ret) ",,16,0
openstack%2Frequirements~master~Ib8da2517abed27a958d7eac4b9e96da6f3ba5d9d,openstack/requirements,master,Ib8da2517abed27a958d7eac4b9e96da6f3ba5d9d,update constraint for os-ken to new release 0.3.0,MERGED,2018-12-06 08:32:18.000000000,2018-12-07 06:52:38.000000000,2018-12-07 06:52:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-12-06 08:32:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0d7defed4f51b349578615c8cdeb7e7b59b86723', 'message': 'update constraint for os-ken to new release 0.3.0\n\nChange-Id: Ib8da2517abed27a958d7eac4b9e96da6f3ba5d9d\nmeta:version: 0.3.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hongbin Lu <hongbin.lu@huawei.com>\nmeta:release:Commit: Hongbin Lu <hongbin.lu@huawei.com>\nmeta:release:Change-Id: Ib47e611eecb8fac5f81ca6f2aefbb6dcd8ba1130\nmeta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@huawei.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,623162,0d7defed4f51b349578615c8cdeb7e7b59b86723,7,3,1,11131,,,0,"update constraint for os-ken to new release 0.3.0

Change-Id: Ib8da2517abed27a958d7eac4b9e96da6f3ba5d9d
meta:version: 0.3.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hongbin Lu <hongbin.lu@huawei.com>
meta:release:Commit: Hongbin Lu <hongbin.lu@huawei.com>
meta:release:Change-Id: Ib47e611eecb8fac5f81ca6f2aefbb6dcd8ba1130
meta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@huawei.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/623162/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0d7defed4f51b349578615c8cdeb7e7b59b86723,new-release,os-ken===0.3.0,os-ken===0.2.0,1,1
openstack%2Fnova~stable%2Fpike~Ia0c67aeffe41e133de9dee5080be9c5ec1739aa6,openstack/nova,stable/pike,Ia0c67aeffe41e133de9dee5080be9c5ec1739aa6,Update docs for _destroy_evacuated_instances,MERGED,2018-11-30 16:13:43.000000000,2018-12-07 06:39:32.000000000,2018-12-07 06:39:32.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-30 16:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae7e7dfcc45fd6235ed072f6a674472dfae4252a', 'message': ""Update docs for _destroy_evacuated_instances\n\nThe docstring on this method no longer reflects reality,\nand hasn't since we started filtering on migration records\nstarting back in Liberty. This change updates the docstring\nfor what the method actually does now, and also includes a\ncomment about why we include 'accepted' but not yet complete\nmigrations when looking for things to remove from this source\nnode.\n\nChange-Id: Ia0c67aeffe41e133de9dee5080be9c5ec1739aa6\nRelated-Bug: #1713783\n(cherry picked from commit aec81e7d98c1ca082abd157dab5cc83b5bedfd89)\n""}, {'number': 2, 'created': '2018-12-05 11:34:01.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c5cd6c8e50201dfaa192cdfbbc64d714eeadcd95', 'message': ""Update docs for _destroy_evacuated_instances\n\nThe docstring on this method no longer reflects reality,\nand hasn't since we started filtering on migration records\nstarting back in Liberty. This change updates the docstring\nfor what the method actually does now, and also includes a\ncomment about why we include 'accepted' but not yet complete\nmigrations when looking for things to remove from this source\nnode.\n\nChange-Id: Ia0c67aeffe41e133de9dee5080be9c5ec1739aa6\nRelated-Bug: #1713783\n(cherry picked from commit aec81e7d98c1ca082abd157dab5cc83b5bedfd89)\n""}]",0,621203,c5cd6c8e50201dfaa192cdfbbc64d714eeadcd95,23,8,2,10135,,,0,"Update docs for _destroy_evacuated_instances

The docstring on this method no longer reflects reality,
and hasn't since we started filtering on migration records
starting back in Liberty. This change updates the docstring
for what the method actually does now, and also includes a
comment about why we include 'accepted' but not yet complete
migrations when looking for things to remove from this source
node.

Change-Id: Ia0c67aeffe41e133de9dee5080be9c5ec1739aa6
Related-Bug: #1713783
(cherry picked from commit aec81e7d98c1ca082abd157dab5cc83b5bedfd89)
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/621203/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,ae7e7dfcc45fd6235ed072f6a674472dfae4252a,bug/1764883," evacuated to another host. This method looks for evacuation migration records where this is the source host and which were either started (accepted) or complete (done). From those migration records, local instances reported by the hypervisor are compared to the instances for the migration records and those local guests are destroyed, along with instance allocation records in Placement for this node. # NOTE(mriedem): Migration records that have been accepted are # included in case the source node comes back up while instances # are being evacuated to another host. We don't want the same # instance being reported from multiple hosts."," evacuated to another host. Check that the instances reported by the driver are still associated with this host. If they are not, destroy them, with the exception of instances which are in the MIGRATING, RESIZE_MIGRATING, RESIZE_MIGRATED, RESIZE_FINISH task state or RESIZED vm state.",10,5
openstack%2Fnova~stable%2Fqueens~I379678dfdb2609f12a572d4f99c8e9da4deab803,openstack/nova,stable/queens,I379678dfdb2609f12a572d4f99c8e9da4deab803,compute: Ensure pre-migrating instances are destroyed during init_host,MERGED,2018-11-30 16:08:07.000000000,2018-12-07 06:37:55.000000000,2018-12-07 06:37:55.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-30 16:08:07.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8bba879141d644b248d246cb2ed196068e20785c', 'message': 'compute: Ensure pre-migrating instances are destroyed during init_host\n\nPreviously _destroy_evacuated_instances would not remove instances\nassociated with evacuation migration records in a pre-migrating state.\nThis could lead to a race between the original source host and the new\ndestination if the source returned early, calling init_instance during\nthe evacuation process.\n\nThis change now includes pre-migrating migration records when looking\nfor active evacuations. Additionally the dict of evacuating instances is\nthen returned to init_host and used to skip running init_instance\nagainst such instances ensuring no race occurs between the two computes.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n(cherry picked from commit c4988cdabf311d29cf64af732091068cfabeedaa)\n'}]",0,621200,8bba879141d644b248d246cb2ed196068e20785c,17,11,1,10135,,,0,"compute: Ensure pre-migrating instances are destroyed during init_host

Previously _destroy_evacuated_instances would not remove instances
associated with evacuation migration records in a pre-migrating state.
This could lead to a race between the original source host and the new
destination if the source returned early, calling init_instance during
the evacuation process.

This change now includes pre-migrating migration records when looking
for active evacuations. Additionally the dict of evacuating instances is
then returned to init_host and used to skip running init_instance
against such instances ensuring no race occurs between the two computes.

Closes-bug: #1764883
Change-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803
(cherry picked from commit c4988cdabf311d29cf64af732091068cfabeedaa)
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/621200/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1764883.py']",4,8bba879141d644b248d246cb2ed196068e20785c,bug/1764883," This test asserts that evacuating instances end up in an ACTIVE state on the destination even when the source host comes back online during an evacuation while the migration record is in a pre-migrating state. # Wait for the instance to go into an ACTIVE state self._wait_for_state_change(self.api, server, 'ACTIVE') host = server['OS-EXT-SRV-ATTR:host'] migrations = self.api.get_migrations() # Assert that we have a single `done` migration record after the evac self.assertEqual(1, len(migrations)) self.assertEqual('done', migrations[0]['status']) # Assert that the instance is now on the dest self.assertNotEqual(self.source_compute, host)"," This test asserts that evacuating instances end up in an ERROR state on the source when that host comes back online during an evacuation while the migration record is in a pre-migrating state. This currently leads to a race between the source initialising the instance and destination claim during the rebuild, both of which attempt to update the underlying task_state of the instance. # FIXME(lyarwood): Assert that the evacuation fails at present with the # instance remaining on the source in an ERROR state. self._wait_for_state_change(self.api, server, 'ERROR') self.assertEqual(self.source_compute, server['OS-EXT-SRV-ATTR:host'])",68,19
openstack%2Fplacement~master~Ibf285e1da57be57f8f66f3c20d5631d07098ec1c,openstack/placement,master,Ibf285e1da57be57f8f66f3c20d5631d07098ec1c,Don't create placement.conf in perfload.yaml,MERGED,2018-12-04 16:03:39.000000000,2018-12-07 06:37:52.000000000,2018-12-07 06:37:52.000000000,"[{'_account_id': 7}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 16:03:39.000000000', 'files': ['playbooks/perfload.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/8bace2bdf3a1b2c3826d990238995bee24021b8a', 'message': ""Don't create placement.conf in perfload.yaml\n\nWith the merge of Iefa8ad22dcb6a128293ea71ab77c377db56e8d70 placement\ncan run without a config file, so in this change we remove the\ncreation of an empty one. All the relevant config is managed by\nenvironment variables, as provided by oslo.config 6.7.0.\n\nChange-Id: Ibf285e1da57be57f8f66f3c20d5631d07098ec1c\n""}]",0,622389,8bace2bdf3a1b2c3826d990238995bee24021b8a,7,3,1,11564,,,0,"Don't create placement.conf in perfload.yaml

With the merge of Iefa8ad22dcb6a128293ea71ab77c377db56e8d70 placement
can run without a config file, so in this change we remove the
creation of an empty one. All the relevant config is managed by
environment variables, as provided by oslo.config 6.7.0.

Change-Id: Ibf285e1da57be57f8f66f3c20d5631d07098ec1c
",git fetch https://review.opendev.org/openstack/placement refs/changes/89/622389/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/perfload.yaml'],1,8bace2bdf3a1b2c3826d990238995bee24021b8a,cd/gabbi-tempest-job, # set config via environment," # set empty config, we shouldn't need a file, see https://review.openstack.org/#/c/619049 sudo mkdir /etc/placement sudo touch /etc/placement/placement.conf",1,3
openstack%2Fneutron-lib~master~I735cfdf462a6ecb63b04c35bccf354672f5b4ad4,openstack/neutron-lib,master,I735cfdf462a6ecb63b04c35bccf354672f5b4ad4,add a test log,ABANDONED,2018-12-07 04:13:20.000000000,2018-12-07 06:33:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-07 04:13:20.000000000', 'files': ['neutron_lib/rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d7c4b801f969a4d425aa6462bac32c177b160476', 'message': 'add a test log\n\nDepends-On: https://review.openstack.org/#/c/621059/1\nChange-Id: I735cfdf462a6ecb63b04c35bccf354672f5b4ad4\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}]",0,623393,d7c4b801f969a4d425aa6462bac32c177b160476,3,1,1,29446,,,0,"add a test log

Depends-On: https://review.openstack.org/#/c/621059/1
Change-Id: I735cfdf462a6ecb63b04c35bccf354672f5b4ad4
Related-Bug: #1805769
Story: 2004456
Task: 28171
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/93/623393/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/rpc.py'],1,d7c4b801f969a4d425aa6462bac32c177b160476,bug/1805769," LOG.warning(""rpc max timeout = %(value)s"", {""value"": self.get_max_timeout()})"," LOG.warning(""rpc max timeout = %(value)"", {""value"": self.get_max_timeout()})",1,1
openstack%2Fneutron-lib~master~I2b3f7eac00ca69b503c40b34ab007c11940b7b21,openstack/neutron-lib,master,I2b3f7eac00ca69b503c40b34ab007c11940b7b21,Add a getter and modify the related codes,ABANDONED,2018-12-06 01:41:51.000000000,2018-12-07 06:24:44.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28961}, {'_account_id': 29446}]","[{'number': 1, 'created': '2018-12-06 01:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/979566d40be13cf08ebd998b06f55d6d6e97786b', 'message': ""Add a getter and modify the related codes\n\nA getter of the newly added option rpc_max_timeout is added. The codes\nrelated to this adding is on oslo_messaging.rpc.py.\n\n_max_timeout and its setters are useless temporarily because users can\nnow directly change the rpc_max_timeout in neutron.conf. However,\nthere're not deleted as we should not prevent the developer to override\nthis parameter.\n\nDepends-On: https://review.openstack.org/#/c/621059/1\nChange-Id: I2b3f7eac00ca69b503c40b34ab007c11940b7b21\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n""}, {'number': 2, 'created': '2018-12-06 03:47:13.000000000', 'files': ['neutron_lib/rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/96e742480826c8afcff3480cce733b596356a27b', 'message': ""Add a getter and modify the related codes\n\nA getter of the newly added option rpc_max_timeout is added. The codes\nrelated to this adding is on oslo_messaging.rpc.py.\n\n_max_timeout and its setters are useless temporarily because users can\nnow directly change the rpc_max_timeout in neutron.conf. However,\nthere're not deleted as we should not prevent the developer to override\nthis parameter.\n\nDepends-On: https://review.openstack.org/#/c/621059/1\nChange-Id: I2b3f7eac00ca69b503c40b34ab007c11940b7b21\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n""}]",1,623114,96e742480826c8afcff3480cce733b596356a27b,10,4,2,29446,,,0,"Add a getter and modify the related codes

A getter of the newly added option rpc_max_timeout is added. The codes
related to this adding is on oslo_messaging.rpc.py.

_max_timeout and its setters are useless temporarily because users can
now directly change the rpc_max_timeout in neutron.conf. However,
there're not deleted as we should not prevent the developer to override
this parameter.

Depends-On: https://review.openstack.org/#/c/621059/1
Change-Id: I2b3f7eac00ca69b503c40b34ab007c11940b7b21
Related-Bug: #1805769
Story: 2004456
Task: 28171
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/14/623114/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/rpc.py'],1,979566d40be13cf08ebd998b06f55d6d6e97786b,bug/1805769,def _get_rpc_max_timeout(): return TRANSPORT.conf.rpc_max_timeout return _get_rpc_max_timeout(), return cls._max_timeout or _get_default_method_timeout() * 10,5,1
openstack%2Frequirements~master~I010f86fe08f088dfcc870aebb5ef1b78cdaf2fd7,openstack/requirements,master,I010f86fe08f088dfcc870aebb5ef1b78cdaf2fd7,Updated from generate-constraints,ABANDONED,2018-12-07 06:17:59.000000000,2018-12-07 06:23:23.000000000,,[],"[{'number': 1, 'created': '2018-12-07 06:17:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b4969b0b36518ab47fb00f4b36d2ea53fbc8aeed', 'message': 'Updated from generate-constraints\n\nChange-Id: I010f86fe08f088dfcc870aebb5ef1b78cdaf2fd7\n'}]",0,623399,b4969b0b36518ab47fb00f4b36d2ea53fbc8aeed,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I010f86fe08f088dfcc870aebb5ef1b78cdaf2fd7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/623399/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b4969b0b36518ab47fb00f4b36d2ea53fbc8aeed,openstack/requirements/constraints,PasteDeploy===2.0.1grpcio===1.17.0rsd-lib===0.3.1tornado===4.5.3;python_version=='3.4' tornado===4.5.3;python_version=='3.5' tornado===4.5.3;python_version=='3.6' tornado===5.1.1;python_version=='2.7'prometheus-client===0.5.0ruamel.yaml===0.15.81google-api-python-client===1.7.6SQLAlchemy-Utils===0.33.9os-ken===0.3.0opentracing===2.0.0idna===2.8pysaml2===4.6.5openstackdocstheme===1.28.0salt===2018.3.3botocore===1.12.61kombu===4.2.2oslo.policy===1.43.1rfc3986===1.2.0jaeger-client===3.13.0keystoneauth1===3.11.2,PasteDeploy===2.0.0grpcio===1.16.1rsd-lib===0.3.0tornado===4.5.3prometheus-client===0.4.2ruamel.yaml===0.15.80google-api-python-client===1.7.5SQLAlchemy-Utils===0.33.8os-ken===0.2.0opentracing===1.3.0idna===2.7pysaml2===4.6.4openstackdocstheme===1.27.1salt===2018.3.2botocore===1.12.58kombu===4.2.1oslo.policy===1.42.0rfc3986===1.1.0jaeger-client===3.12.0keystoneauth1===3.11.1,23,20
openstack%2Ftripleo-heat-templates~master~I899de7732c5b29ed70d4d487fdbc363117ac327f,openstack/tripleo-heat-templates,master,I899de7732c5b29ed70d4d487fdbc363117ac327f,Set facter variable 'uuid' explicitly in docker-puppet.py,MERGED,2018-11-30 05:53:36.000000000,2018-12-07 06:18:21.000000000,2018-12-07 06:18:21.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-11-30 05:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66488317383c6e46a48a6a7a4b17acedee833f4d', 'message': 'WIP set uuid facter explicitly\n\nIt seems to be empty in cases, specifically when using\ncontainerized services.\n\nChange-Id: I899de7732c5b29ed70d4d487fdbc363117ac327f\n'}, {'number': 2, 'created': '2018-11-30 10:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/392a4fbbc977f9bb5276a76c3f50f281684f663b', 'message': ""Set facter variable 'uuid' explicitly in docker-puppet.py\n\nIt does not seem to set in many cases, specifically when using\nVMs or containerized services. Therefore per node hiera customization\ndoes not seem to work. We can probably set this explictly with\nFACTER_uuid in docker-puppet.py.\n\nChange-Id: I899de7732c5b29ed70d4d487fdbc363117ac327f\nCloses-Bug: #1806011\n""}, {'number': 3, 'created': '2018-11-30 12:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e393c8e76a70cf6253f021839a40c17d8af6bb3', 'message': ""Set facter variable 'uuid' explicitly in docker-puppet.py\n\nIt does not seem to set in many cases, specifically when using\nVMs or containerized services. Therefore per node hiera customization\ndoes not seem to work. We can probably set this explictly with\nFACTER_uuid in docker-puppet.py.\n\nChange-Id: I899de7732c5b29ed70d4d487fdbc363117ac327f\nCloses-Bug: #1806011\n""}, {'number': 4, 'created': '2018-11-30 13:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/767d06c797390ef2b2b33e196f59680084b99668', 'message': ""Set facter variable 'uuid' explicitly in docker-puppet.py\n\nUnprivileged docker-puppet-$service containers don't have access\nto devices and can't get facter 'uuid' variable. Therefore per node\nhiera customizations don't work. We can work around this by using\n/sys/class/dmi/id/product_uuid instead.\n\nChange-Id: I899de7732c5b29ed70d4d487fdbc363117ac327f\nCloses-Bug: #1806011\n""}, {'number': 5, 'created': '2018-12-01 13:45:26.000000000', 'files': ['puppet/extraconfig/pre_deploy/per_node.yaml', 'docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4de17945a1d5e9ed3aa2c535b426edf84936ded7', 'message': ""Set facter variable 'uuid' explicitly in docker-puppet.py\n\nUnprivileged docker-puppet-$service containers don't have access\nto devices and can't get facter 'uuid' variable. Therefore per node\nhiera customizations don't work. We can work around this by using\n/sys/class/dmi/id/product_uuid instead.\n\ndmidecode>=3.1 returns system-id in lower case, so it's better to\nuse lowe case for compatibility.\n\nThis would also require changes to the docs as ironic node\nintrospection data may show it in both cases.\n\nChange-Id: I899de7732c5b29ed70d4d487fdbc363117ac327f\nCloses-Bug: #1806011\n""}]",0,621072,4de17945a1d5e9ed3aa2c535b426edf84936ded7,24,8,5,8833,,,0,"Set facter variable 'uuid' explicitly in docker-puppet.py

Unprivileged docker-puppet-$service containers don't have access
to devices and can't get facter 'uuid' variable. Therefore per node
hiera customizations don't work. We can work around this by using
/sys/class/dmi/id/product_uuid instead.

dmidecode>=3.1 returns system-id in lower case, so it's better to
use lowe case for compatibility.

This would also require changes to the docs as ironic node
introspection data may show it in both cases.

Change-Id: I899de7732c5b29ed70d4d487fdbc363117ac327f
Closes-Bug: #1806011
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/621072/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/docker-puppet.py'],1,66488317383c6e46a48a6a7a4b17acedee833f4d,bug/1806011," export FACTER_uuid=$(dmidecode --s system-uuid | awk 'match($0, \ /[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}/) \ { print substr($0, RSTART, RLENGTH) }')",,3,0
openstack%2Fos-net-config~stable%2Fqueens~I3f04a5d6c3a6dc324a2978fdecd2a77df0bf1ba0,openstack/os-net-config,stable/queens,I3f04a5d6c3a6dc324a2978fdecd2a77df0bf1ba0,Retry ovs-appctl command,MERGED,2018-11-26 18:31:17.000000000,2018-12-07 06:18:20.000000000,2018-12-07 06:18:20.000000000,"[{'_account_id': 360}, {'_account_id': 12398}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-26 18:31:17.000000000', 'files': ['releasenotes/notes/retry_ovs-appctl-6734b087ab6db80b.yaml', 'os_net_config/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/22ca42f79cea17912f76f3f4db3da3f130a0b6f4', 'message': 'Retry ovs-appctl command\n\nThe ovs-appctl command may fail when setting an interface as a\nslave interface in a bond and the primary has not come up yet\nfrom a preceding ifup call.  Retry the ovs-appctl and log an\nerror if the command still fails.\n\nChange-Id: I3f04a5d6c3a6dc324a2978fdecd2a77df0bf1ba0\nCloses-Bug: 1797955\n(cherry picked from commit 25c70ea0766cee5ed456d4acb94be90247ed45ca)\n(cherry picked from commit e78d45f3680aa68a328edaf58f7b7129935bbc59)\n'}]",0,620135,22ca42f79cea17912f76f3f4db3da3f130a0b6f4,14,5,1,21909,,,0,"Retry ovs-appctl command

The ovs-appctl command may fail when setting an interface as a
slave interface in a bond and the primary has not come up yet
from a preceding ifup call.  Retry the ovs-appctl and log an
error if the command still fails.

Change-Id: I3f04a5d6c3a6dc324a2978fdecd2a77df0bf1ba0
Closes-Bug: 1797955
(cherry picked from commit 25c70ea0766cee5ed456d4acb94be90247ed45ca)
(cherry picked from commit e78d45f3680aa68a328edaf58f7b7129935bbc59)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/35/620135/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/retry_ovs-appctl-6734b087ab6db80b.yaml', 'os_net_config/__init__.py']",2,22ca42f79cea17912f76f3f4db3da3f130a0b6f4,bug/1797955-stable/rocky-stable/queens," """"""Run 'ovs-appctl' with the specified action Its possible the command may fail due to timing if, for example, the command affects an interface and it the prior ifup command has not completed. So retry the command and if a failures still occurs save the error for later handling. :param action: The ovs-appctl action. :param parameters: Parameters to pass to ovs-appctl. """""" try: self.execute(msg, '/bin/ovs-appctl', action, *parameters, delay_on_retry=True, attempts=5) except processutils.ProcessExecutionError as e: self.errors.append(e)"," self.execute(msg, '/bin/ovs-appctl', action, *parameters)",21,1
openstack%2Fpuppet-tripleo~stable%2Frocky~I69360b1ee167f8417876c9f6513981ef73e949ae,openstack/puppet-tripleo,stable/rocky,I69360b1ee167f8417876c9f6513981ef73e949ae,Dell EMC SC: Add use_multipath_for_image_xfer,MERGED,2018-11-08 20:21:23.000000000,2018-12-07 06:18:18.000000000,2018-12-07 06:18:18.000000000,"[{'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-08 20:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/15e04843a5152923ecbb25cfdc29b07384404c88', 'message': 'Dell EMC SC: Add use_multipath_for_image_xfer\n\nThis change adds support for\ncinder::backend::dellsc_iscsi::use_multipath_for_image_xfer.\n\nChange-Id: I69360b1ee167f8417876c9f6513981ef73e949ae\n(cherry picked from commit 4342ac59b7067e411552e96081c1678162d33c84)\n'}, {'number': 2, 'created': '2018-11-28 20:22:36.000000000', 'files': ['releasenotes/notes/dellsc-driver-b7cd300a24a64b01.yaml', 'manifests/profile/base/cinder/volume/dellsc.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/68301f4f13f19eb447e01ba27779be70a89dd25b', 'message': 'Dell EMC SC: Add use_multipath_for_image_xfer\n\nThis change adds support for\ncinder::backend::dellsc_iscsi::use_multipath_for_image_xfer.\n\nDepends-on: https://review.openstack.org/#/c/614618/\nChange-Id: I69360b1ee167f8417876c9f6513981ef73e949ae\n(cherry picked from commit 4342ac59b7067e411552e96081c1678162d33c84)\n'}]",1,616685,68301f4f13f19eb447e01ba27779be70a89dd25b,18,4,2,10379,,,0,"Dell EMC SC: Add use_multipath_for_image_xfer

This change adds support for
cinder::backend::dellsc_iscsi::use_multipath_for_image_xfer.

Depends-on: https://review.openstack.org/#/c/614618/
Change-Id: I69360b1ee167f8417876c9f6513981ef73e949ae
(cherry picked from commit 4342ac59b7067e411552e96081c1678162d33c84)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/616685/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/dellsc-driver-b7cd300a24a64b01.yaml', 'manifests/profile/base/cinder/volume/dellsc.pp']",2,15e04843a5152923ecbb25cfdc29b07384404c88,," use_multipath_for_image_xfer => hiera('cinder::backend::dellsc_iscsi::use_multipath_for_image_xfer', undef),",,6,0
openstack%2Fkolla~master~I402cff1ac86a2ba108f2f5378cc98db5f6ecc673,openstack/kolla,master,I402cff1ac86a2ba108f2f5378cc98db5f6ecc673,"Fix Oraclelinux build, disable collectd in gate",MERGED,2018-12-04 09:12:23.000000000,2018-12-07 05:57:51.000000000,2018-12-07 03:23:27.000000000,"[{'_account_id': 1390}, {'_account_id': 4264}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-04 09:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/36a61283166fe675513c96949dc3b68da61980f8', 'message': 'Fix Oraclelinux build\n\nOraclelinux repositories has been upgraded and\nprevious file removed, this change update repos\nto new URLs.\n\nChange-Id: I402cff1ac86a2ba108f2f5378cc98db5f6ecc673\n'}, {'number': 2, 'created': '2018-12-04 16:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/285ee7aaa848d74adb5970dcf0027a7e67127543', 'message': 'Fix Oraclelinux build\n\nOraclelinux repositories has been upgraded and\nprevious file removed, this change update repos\nto new URLs.\n\nChange-Id: I402cff1ac86a2ba108f2f5378cc98db5f6ecc673\n'}, {'number': 3, 'created': '2018-12-04 16:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f8406516de0c30b46f53e87c735c1e5085864817', 'message': 'Fix Oraclelinux build\n\nOraclelinux repositories has been upgraded and\nprevious file removed, this change update repos\nto new URLs.\n\nDepends-On: I214b785f7f9beff7157def30afff7332124e5808\nChange-Id: I402cff1ac86a2ba108f2f5378cc98db5f6ecc673\n'}, {'number': 4, 'created': '2018-12-05 08:47:26.000000000', 'files': ['tests/playbooks/pre.yml', 'docker/base/Dockerfile.j2', 'tests/playbooks/post.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/65296e27e665a431b786944224195ba7593473bc', 'message': 'Fix Oraclelinux build, disable collectd in gate\n\nOraclelinux repositories has been upgraded and\nprevious file removed, this change update repos\nto new URLs.\n\n\nDisable collectd in gate as is currently broken and\nblocks mergingin voting jobs.\n\nChange-Id: I402cff1ac86a2ba108f2f5378cc98db5f6ecc673\n'}]",0,622122,65296e27e665a431b786944224195ba7593473bc,30,8,4,19316,,,0,"Fix Oraclelinux build, disable collectd in gate

Oraclelinux repositories has been upgraded and
previous file removed, this change update repos
to new URLs.


Disable collectd in gate as is currently broken and
blocks mergingin voting jobs.

Change-Id: I402cff1ac86a2ba108f2f5378cc98db5f6ecc673
",git fetch https://review.opendev.org/openstack/kolla refs/changes/22/622122/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,36a61283166fe675513c96949dc3b68da61980f8,fix-oraclelinux-build, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-ceph-luminous-1.1-2.el7.centos.noarch.rpm \ http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-opstools-1-8.el7.noarch.rpm \ http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-3.el7.centos.noarch.rpm \ http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-storage-common-2-2.el7.centos.noarch.rpm \, http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-ceph-luminous-1.0-1.el7.centos.noarch.rpm \ http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-opstools-1-7.el7.centos.noarch.rpm \ http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-qemu-ev-1.0-2.el7.noarch.rpm \ http://mirror.centos.org/centos-7/7/extras/x86_64/Packages/centos-release-storage-common-1-2.el7.centos.noarch.rpm \,4,4
openstack%2Ftacker~master~Iec9feafa657e82b1887d37f51df12bf694c274e7,openstack/tacker,master,Iec9feafa657e82b1887d37f51df12bf694c274e7,Device Refactor,MERGED,2018-11-29 09:21:08.000000000,2018-12-07 05:26:56.000000000,2018-12-07 05:26:56.000000000,"[{'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-11-29 09:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cc57e27e503326741f1c80a1a0bc33e8b0f283c6', 'message': 'Device Refactor\n\nReplacing device with vnf in test cases in continuation of [1].\n\n[1]: https://review.openstack.org/#/c/352205/\n\nChange-Id: Iec9feafa657e82b1887d37f51df12bf694c274e7\n'}, {'number': 2, 'created': '2018-12-03 08:55:04.000000000', 'files': ['tacker/tests/unit/api/v2/test_api_v2.py', 'tacker/tests/unit/vnfm/monitor_drivers/http_ping/test_http_ping.py', 'tacker/tests/unit/vnfm/monitor_drivers/ping/test_ping.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/tests/unit/db/utils.py', 'tacker/tests/unit/vnfm/test_plugin.py', 'tacker/tests/unit/vnfm/test_monitor.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/6812d2a2c6f915fc9597e6efe1452a1f68d67ec3', 'message': 'Device Refactor\n\nReplacing device with vnf in test cases in continuation of [1].\n\n[1]: https://review.openstack.org/#/c/352205/\n\nCo-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\n\nChange-Id: Iec9feafa657e82b1887d37f51df12bf694c274e7\n'}]",0,620831,6812d2a2c6f915fc9597e6efe1452a1f68d67ec3,11,5,2,27078,,,0,"Device Refactor

Replacing device with vnf in test cases in continuation of [1].

[1]: https://review.openstack.org/#/c/352205/

Co-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>

Change-Id: Iec9feafa657e82b1887d37f51df12bf694c274e7
",git fetch https://review.opendev.org/openstack/tacker refs/changes/31/620831/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/api/v2/test_api_v2.py', 'tacker/tests/unit/vnfm/monitor_drivers/http_ping/test_http_ping.py', 'tacker/tests/unit/vnfm/monitor_drivers/ping/test_ping.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/tests/unit/db/utils.py', 'tacker/tests/unit/vnfm/test_plugin.py', 'tacker/tests/unit/vnfm/test_monitor.py']",7,cc57e27e503326741f1c80a1a0bc33e8b0f283c6,," test_vnf_dict = { 'vnf': test_vnf_dict, output_dict = monitor.VNFMonitor.to_hosting_vnf(test_vnf_dict, test_vnf_dict = { new_dict = test_vnfmonitor.to_hosting_vnf(test_vnf_dict, action_cb) test_vnf_id = list(test_vnfmonitor._hosting_vnfs.keys())[0] self.assertEqual(MOCK_DEVICE_ID, test_vnf_id)"," test_device_dict = { 'vnf': test_device_dict, output_dict = monitor.VNFMonitor.to_hosting_vnf(test_device_dict, test_device_dict = { new_dict = test_vnfmonitor.to_hosting_vnf(test_device_dict, action_cb) test_device_id = list(test_vnfmonitor._hosting_vnfs.keys())[0] self.assertEqual(MOCK_DEVICE_ID, test_device_id)",84,96
openstack%2Fnova~stable%2Fqueens~If71727cde51c29231dbb9a51c5babbcdfc802bdd,openstack/nova,stable/queens,If71727cde51c29231dbb9a51c5babbcdfc802bdd,Add regression test for bug #1764883,MERGED,2018-11-30 16:08:07.000000000,2018-12-07 05:20:24.000000000,2018-12-07 05:20:23.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-30 16:08:07.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1764883.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d9084d03e9d21fe249349c84549ede302ed1f652', 'message': 'Add regression test for bug #1764883\n\nRelated-Bug: #1764883\nChange-Id: If71727cde51c29231dbb9a51c5babbcdfc802bdd\n(cherry picked from commit b9213398c785a0b54920754d50190e478293fbe8)\n'}]",0,621199,d9084d03e9d21fe249349c84549ede302ed1f652,10,5,1,10135,,,0,"Add regression test for bug #1764883

Related-Bug: #1764883
Change-Id: If71727cde51c29231dbb9a51c5babbcdfc802bdd
(cherry picked from commit b9213398c785a0b54920754d50190e478293fbe8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/621199/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1764883.py'],1,d9084d03e9d21fe249349c84549ede302ed1f652,bug/1764883,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_network from nova.tests.unit import fake_notifier import nova.tests.unit.image.fake from nova.tests.unit import policy_fixture from nova.virt import fake class TestEvacuationWithSourceReturningDuringRebuild( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Assert the behaviour of evacuating instances when the src returns early. This test asserts that evacuating instances end up in an ERROR state on the source when that host comes back online during an evacuation while the migration record is in a pre-migrating state. This currently leads to a race between the source initialising the instance and destination claim during the rebuild, both of which attempt to update the underlying task_state of the instance. """""" def setUp(self): super(TestEvacuationWithSourceReturningDuringRebuild, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) # The NeutronFixture is needed to stub out validate_networks in API. self.useFixture(nova_fixtures.NeutronFixture(self)) # This stubs out the network allocation in compute. fake_network.set_stub_network_methods(self) # We need the computes reporting into placement for the filter # scheduler to pick a host. self.useFixture(nova_fixtures.PlacementFixture()) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api # 2.11 is needed for force_down # 2.14 is needed for evacuate without onSharedStorage flag self.api.microversion = '2.14' # the image fake backend needed for image discovery nova.tests.unit.image.fake.stub_out_image_service(self) self.addCleanup(nova.tests.unit.image.fake.FakeImageService_reset) self.start_service('conductor') self.start_service('scheduler') # Start two computes self.computes = {} fake.set_nodes(['host1']) self.addCleanup(fake.restore_nodes) self.computes['host1'] = self.start_service('compute', host='host1') fake.set_nodes(['host2']) self.addCleanup(fake.restore_nodes) self.computes['host2'] = self.start_service('compute', host='host2') self.image_id = self.api.get_images()[0]['id'] self.flavor_id = self.api.get_flavors()[0]['id'] self.addCleanup(fake_notifier.reset) # Stub out rebuild with a slower method allowing the src compute to be # restarted once the migration hits pre-migrating after claiming # resources on the dest. manager_class = nova.compute.manager.ComputeManager original_rebuild = manager_class._do_rebuild_instance def start_src_rebuild(self_, context, instance, *args, **kwargs): server = self.api.get_server(instance.uuid) # Start the src compute once the migration is pre-migrating. self._wait_for_migration_status(server, ['pre-migrating']) self.computes.get(self.source_compute).start() original_rebuild(self_, context, instance, *args, **kwargs) self.stub_out('nova.compute.manager.ComputeManager.' '_do_rebuild_instance', start_src_rebuild) def test_evacuation_with_source_compute_returning_during_rebuild(self): # Launch an instance server_request = {'name': 'server', 'imageRef': self.image_id, 'flavorRef': self.flavor_id} server_response = self.api.post_server({'server': server_request}) server = self._wait_for_state_change(self.api, server_response, 'ACTIVE') # Record where the instance is running before forcing the service down self.source_compute = server['OS-EXT-SRV-ATTR:host'] self.computes.get(self.source_compute).stop() self.api.force_down_service(self.source_compute, 'nova-compute', True) # Start evacuating the instance from the source_host self.api.post_server_action(server['id'], {'evacuate': {}}) # FIXME(lyarwood): Assert that the evacuation fails at present with the # instance remaining on the source in an ERROR state. self._wait_for_state_change(self.api, server, 'ERROR') server = self.api.get_server(server['id']) self.assertEqual(self.source_compute, server['OS-EXT-SRV-ATTR:host']) ",,120,0
openstack%2Fnova~stable%2Fqueens~I5151ae01e90506747860d9780547b0d4ce91d8bc,openstack/nova,stable/queens,I5151ae01e90506747860d9780547b0d4ce91d8bc,Make supports_direct_io work on 4096b sector size,MERGED,2018-11-21 12:01:50.000000000,2018-12-07 05:20:17.000000000,2018-12-07 05:20:16.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-21 12:01:50.000000000', 'files': ['nova/utils.py', 'releasenotes/notes/bug-1801702-c8203d3d55007deb.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f8eb8a7bc52448ede25cb8ac67fcb1818d3fdd2e', 'message': 'Make supports_direct_io work on 4096b sector size\n\nThe current check uses an alignment of 512 bytes and will fail when the\nunderlying device has sectors of size 4096 bytes, as is common e.g. for\nNVMe disks. So use an alignment of 4096 bytes, which is a multiple of\n512 bytes and thus will cover both cases.\n\nConflicts:\n\tnova/privsep/utils.py\n        - supports_direct_io() is still in nova/utils.py for older\n        stable branches\n\nChange-Id: I5151ae01e90506747860d9780547b0d4ce91d8bc\nCloses-Bug: 1801702\nCo-Authored-By: Alexandre Arents <alexandre.arents@corp.ovh.com>\n(cherry picked from commit 14d98ef1b48ca7b2ea468a8f1ec967b954955a63)\n'}]",0,619220,f8eb8a7bc52448ede25cb8ac67fcb1818d3fdd2e,25,12,1,13252,,,0,"Make supports_direct_io work on 4096b sector size

The current check uses an alignment of 512 bytes and will fail when the
underlying device has sectors of size 4096 bytes, as is common e.g. for
NVMe disks. So use an alignment of 4096 bytes, which is a multiple of
512 bytes and thus will cover both cases.

Conflicts:
	nova/privsep/utils.py
        - supports_direct_io() is still in nova/utils.py for older
        stable branches

Change-Id: I5151ae01e90506747860d9780547b0d4ce91d8bc
Closes-Bug: 1801702
Co-Authored-By: Alexandre Arents <alexandre.arents@corp.ovh.com>
(cherry picked from commit 14d98ef1b48ca7b2ea468a8f1ec967b954955a63)
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/619220/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/utils.py', 'releasenotes/notes/bug-1801702-c8203d3d55007deb.yaml']",2,f8eb8a7bc52448ede25cb8ac67fcb1818d3fdd2e,bug/1801702,"--- fixes: - | When testing whether direct IO is possible on the backing storage for an instance, Nova now uses a block size of 4096 bytes instead of 512 bytes, avoiding issues when the underlying block device has sectors larger than 512 bytes. See bug https://launchpad.net/bugs/1801702 for details. ",,10,2
openstack%2Fnova~master~I05c9168569c4c3eeeb83695a053b2fd94240157c,openstack/nova,master,I05c9168569c4c3eeeb83695a053b2fd94240157c,libvirt: Refactor handling of PCIe root ports,MERGED,2018-11-27 14:28:00.000000000,2018-12-07 05:20:09.000000000,2018-12-07 05:20:09.000000000,"[{'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-27 14:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c3504a100b1075800012673bc3ef14e43905ddf', 'message': ""libvirt: Refactor handling of PCIe root ports\n\nAdd a separate method, _guest_needs_pcie(), to check for the\nprerequsites for adding PCIe root port entries.  And simplify the\nmonster 'if' conditional into multiple readable ones.\n\nWhile at it, add a TODO note about an assumption (which can become\ninvalid in the future) we're making about machine types.\n\nChange-Id: I05c9168569c4c3eeeb83695a053b2fd94240157c\nSuggested-by: Andrea Bolognani <abologna@redhat.com>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 2, 'created': '2018-11-27 14:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a5c7b51cd558f5a7b3183d890a1ef5905bf643c', 'message': ""libvirt: Refactor handling of PCIe root ports\n\nAdd a separate method, _guest_needs_pcie(), to check for the\nprerequsites for adding PCIe root port entries.  And simplify the\nmonster 'if' conditional into multiple readable ones.\n\nWhile at it, add a TODO note about an assumption (which can become\ninvalid in the future) we're making about QEMU machine types.\n\nChange-Id: I05c9168569c4c3eeeb83695a053b2fd94240157c\nSuggested-by: Andrea Bolognani <abologna@redhat.com>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 3, 'created': '2018-11-29 10:10:07.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b65246ab4d6371e4bbded66d3003f95b7e05cba2', 'message': ""libvirt: Refactor handling of PCIe root ports\n\nAdd a separate method, _guest_needs_pcie(), to check for the\nprerequisites for adding PCIe root port entries.  And simplify the\nmonster 'if' conditional into multiple readable ones.\n\nWhile at it, add a TODO note about an assumption (which can become\ninvalid in the future) we're making about QEMU machine types.\n\nChange-Id: I05c9168569c4c3eeeb83695a053b2fd94240157c\nSuggested-by: Andrea Bolognani <abologna@redhat.com>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}]",5,620327,b65246ab4d6371e4bbded66d3003f95b7e05cba2,51,19,3,6962,,,0,"libvirt: Refactor handling of PCIe root ports

Add a separate method, _guest_needs_pcie(), to check for the
prerequisites for adding PCIe root port entries.  And simplify the
monster 'if' conditional into multiple readable ones.

While at it, add a TODO note about an assumption (which can become
invalid in the future) we're making about QEMU machine types.

Change-Id: I05c9168569c4c3eeeb83695a053b2fd94240157c
Suggested-by: Andrea Bolognani <abologna@redhat.com>
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/620327/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,8c3504a100b1075800012673bc3ef14e43905ddf,refactor_pcie_root_port_handling," def _guest_needs_pcie(self, guest): """"""Check for prerequisites for adding PCIe root port controllers """""" caps = self._host.get_capabilities() # TODO(kchamart) In the third 'if' conditional below, for 'x86' # arch, we're assuming: when 'os_mach_type' is 'None', you'll # have ""pc"" machine type. That assumption, although it is # correct for the ""forseeable future"", it will be invalid when # libvirt / QEMU changes the default machine types. # # From libvirt 4.7.0 onwards (September 2018), it will ensure # that *if* 'pc' is available, it will be used as the default -- # to not break existing applications. (Refer: # https://libvirt.org/git/?p=libvirt.git;a=commit;h=26cfb1a3 # --""qemu: ensure default machine types don't change if QEMU # changes""). # # But even if libvirt (>=v4.7.0) handled the default case, # relying on such assumptions is not robust. Instead we should # get the default machine type for a given architecture reliably # -- by Nova setting it explicitly (we already do it for Arm / # AArch64 & s390x). A part of this bug is being tracked here: # https://bugs.launchpad.net/nova/+bug/1780138). # Add PCIe root port controllers for PCI Express machines # but only if their amount is configured if not CONF.libvirt.num_pcie_ports: return False if (caps.host.cpu.arch == fields.Architecture.AARCH64 and guest.os_mach_type.startswith('virt')): return True if (caps.host.cpu.arch == fields.Architecture.X86_64 and guest.os_mach_type is not None and 'q35' in guest.os_mach_type): return True return False if self._guest_needs_pcie(guest):", # Add PCIe root port controllers for PCI Express machines # but only if their amount is configured if (CONF.libvirt.num_pcie_ports and ((caps.host.cpu.arch == fields.Architecture.AARCH64 and guest.os_mach_type.startswith('virt')) or (caps.host.cpu.arch == fields.Architecture.X86_64 and guest.os_mach_type is not None and 'q35' in guest.os_mach_type))):,42,8
openstack%2Ftricircle~master~Idf0922bb2efd75bc35bd7774131e42744814ad89,openstack/tricircle,master,Idf0922bb2efd75bc35bd7774131e42744814ad89,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 12:00:42.000000000,2018-12-07 04:56:29.000000000,2018-12-07 04:56:29.000000000,"[{'_account_id': 22348}, {'_account_id': 27215}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-12-04 12:00:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/3ae2b69b003c8569eff5d07573dcf07586a1dd65', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Idf0922bb2efd75bc35bd7774131e42744814ad89\n'}]",0,622260,3ae2b69b003c8569eff5d07573dcf07586a1dd65,12,3,1,26297,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Idf0922bb2efd75bc35bd7774131e42744814ad89
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/60/622260/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3ae2b69b003c8569eff5d07573dcf07586a1dd65,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foperations-guide~master~I03895b891c91ea8ec77910316fde2efb9cae6b0e,openstack/operations-guide,master,I03895b891c91ea8ec77910316fde2efb9cae6b0e,Remove security-group param,MERGED,2018-12-06 20:24:42.000000000,2018-12-07 04:20:38.000000000,2018-12-07 04:20:38.000000000,"[{'_account_id': 11904}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 20:24:42.000000000', 'files': ['doc/source/ops-user-facing-operations.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/e6bf3eb1552344fd7293065fc899e9b2d1388186', 'message': 'Remove security-group param\n\nThe openstack command client doesn\'t use ""--sercurity-group"" parameter,\nit is for nova client. So we should remove these sentences.\n\nChange-Id: I03895b891c91ea8ec77910316fde2efb9cae6b0e\nCloses-Bug: #1696506\n'}]",0,623305,e6bf3eb1552344fd7293065fc899e9b2d1388186,7,3,1,17765,,,0,"Remove security-group param

The openstack command client doesn't use ""--sercurity-group"" parameter,
it is for nova client. So we should remove these sentences.

Change-Id: I03895b891c91ea8ec77910316fde2efb9cae6b0e
Closes-Bug: #1696506
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/05/623305/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ops-user-facing-operations.rst'],1,e6bf3eb1552344fd7293065fc899e9b2d1388186,bug/1696506,,"When launching from the command line, append ``--security-groups`` with a comma-separated list of security groups.",0,2
openstack%2Ftripleo-common~master~Ibdfa1019ebf291f30180fc2257d225e96c3306aa,openstack/tripleo-common,master,Ibdfa1019ebf291f30180fc2257d225e96c3306aa,Fix - config-download tarball upload OverflowError,MERGED,2018-10-24 20:33:20.000000000,2018-12-07 04:17:47.000000000,2018-12-07 04:17:47.000000000,"[{'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 11444}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-10-24 20:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bdd2b73b36ecbbc9d23211bcf3c94688d537b944', 'message': ""Fix - config-download tarball upload OverflowError\n\nPass the file object to swift client instead of reading it.\nWhen the object passed have a 'read' method the client will\nwrite data in chunks. Chunk size defaults to 65536.\n\nCloses-Bug: #1796436\nChange-Id: Ibdfa1019ebf291f30180fc2257d225e96c3306aa\n""}, {'number': 2, 'created': '2018-10-25 08:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cca1d07085c06ff3113b4d200165a43c6ecd3f25', 'message': ""Fix - config-download tarball upload OverflowError\n\nPass the file object to swift client instead of reading it.\nWhen the object passed have a 'read' method the client will\nwrite data in chunks. Chunk size defaults to 65536.\n\nCloses-Bug: #1796436\nChange-Id: Ibdfa1019ebf291f30180fc2257d225e96c3306aa\n""}, {'number': 3, 'created': '2018-10-25 13:27:21.000000000', 'files': ['tripleo_common/actions/config.py', 'tripleo_common/tests/actions/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6cc63952569c2b3b8573bc90586c090a2373040b', 'message': ""Fix - config-download tarball upload OverflowError\n\nPass the file object to swift client instead of reading it.\nWhen the object passed have a 'read' method the client will\nwrite data in chunks. Chunk size defaults to 65536.\n\nCloses-Bug: #1796436\nChange-Id: Ibdfa1019ebf291f30180fc2257d225e96c3306aa\n""}]",0,613155,6cc63952569c2b3b8573bc90586c090a2373040b,23,7,3,24245,,,0,"Fix - config-download tarball upload OverflowError

Pass the file object to swift client instead of reading it.
When the object passed have a 'read' method the client will
write data in chunks. Chunk size defaults to 65536.

Closes-Bug: #1796436
Change-Id: Ibdfa1019ebf291f30180fc2257d225e96c3306aa
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/55/613155/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/config.py'],1,bdd2b73b36ecbbc9d23211bcf3c94688d537b944,bug/1796436," '%s.tar.gz' % self.container_config, t)"," '%s.tar.gz' % self.container_config, t.read())",1,2
openstack%2Fneutron-lib~master~I878ea31908500ffc72586dbe36bb423320d28344,openstack/neutron-lib,master,I878ea31908500ffc72586dbe36bb423320d28344,add a test log,ABANDONED,2018-12-07 01:28:44.000000000,2018-12-07 04:12:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-07 01:28:44.000000000', 'files': ['neutron_lib/rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/50aac5cc88fd12d1c498829e4d35804421653af5', 'message': 'add a test log\n\nDepends-On: https://review.openstack.org/#/c/621059/1\nChange-Id: I878ea31908500ffc72586dbe36bb423320d28344\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}]",0,623369,50aac5cc88fd12d1c498829e4d35804421653af5,3,1,1,29446,,,0,"add a test log

Depends-On: https://review.openstack.org/#/c/621059/1
Change-Id: I878ea31908500ffc72586dbe36bb423320d28344
Related-Bug: #1805769
Story: 2004456
Task: 28171
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/69/623369/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/rpc.py'],1,50aac5cc88fd12d1c498829e4d35804421653af5,bug/1805769," LOG.warning(""rpc max timeout = %(value)"", {""value"": self.get_max_timeout()})"," LOG.debug(""rpc max timeout = %(value)"", {""value"": self.get_max_timeout()})",1,1
openstack%2Foperations-guide~master~I1d1ccfb03f5a64c4f648b30b42209e917b8212bf,openstack/operations-guide,master,I1d1ccfb03f5a64c4f648b30b42209e917b8212bf,Fix the incorrect project name,ABANDONED,2018-12-06 03:40:55.000000000,2018-12-07 04:06:02.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 03:40:55.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/fdcf65603282f8abaf2a30ab9dd9f09b7aaaf461', 'message': 'Fix the incorrect project name\n\nChange-Id: I1d1ccfb03f5a64c4f648b30b42209e917b8212bf\nCloses-Bug: #1807075\n'}]",1,623129,fdcf65603282f8abaf2a30ab9dd9f09b7aaaf461,5,2,1,16523,,,0,"Fix the incorrect project name

Change-Id: I1d1ccfb03f5a64c4f648b30b42209e917b8212bf
Closes-Bug: #1807075
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/29/623129/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,fdcf65603282f8abaf2a30ab9dd9f09b7aaaf461,bug/1807075,"project = ""ops-guide""",,1,0
openstack%2Ffreezer-api~master~I0e0238ab56fd549d494076e63c8db99c9c598b07,openstack/freezer-api,master,I0e0238ab56fd549d494076e63c8db99c9c598b07,"Add session unit test with search option, limit and offset in sql",MERGED,2018-12-07 01:44:54.000000000,2018-12-07 03:57:42.000000000,2018-12-07 03:57:42.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 01:44:54.000000000', 'files': ['freezer_api/tests/unit/sqlalchemy/test_session.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/e5ffb4355c3ca5073310c5d13391710270a9751f', 'message': 'Add session unit test with search option, limit and offset in sql\n\nChange-Id: I0e0238ab56fd549d494076e63c8db99c9c598b07\n'}]",0,623373,e5ffb4355c3ca5073310c5d13391710270a9751f,6,2,1,22484,,,0,"Add session unit test with search option, limit and offset in sql

Change-Id: I0e0238ab56fd549d494076e63c8db99c9c598b07
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/73/623373/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/tests/unit/sqlalchemy/test_session.py'],1,e5ffb4355c3ca5073310c5d13391710270a9751f,bug/gengchc," def test_session_list_with_search_and_offset_and_limit(self): count = 0 sessionids = [] while (count < 20): doc = copy.deepcopy(self.fake_session_3) if count in [0, 4, 8, 12, 16]: doc['hold_off'] = 100 session_id = self.dbapi.add_session(project_id=self.fake_session_3. get('project_id'), user_id=self.fake_session_3. get('user_id'), doc=doc) self.assertIsNotNone(session_id) sessionids.append(session_id) count += 1 # There are 5 records. search_opt = {'match': [{'_all': '[{""hold_off"": 100}]'}]} # First, we can get 3 tuples result = self.dbapi.search_session(user_id=self.fake_session_3. get('user_id'), project_id=self.fake_session_3. get('project_id'), offset=0, limit=3, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 3) for index in range(len(result)): sessionmap = result[index] self.assertEqual(100, sessionmap['hold_off']) # Second, we can get 2 tuples result = self.dbapi.search_session(user_id=self.fake_session_3. get('user_id'), project_id=self.fake_session_3. get('project_id'), offset=3, limit=3, search=search_opt) self.assertIsNotNone(result) self.assertEqual(len(result), 2) for index in range(len(result)): sessionmap = result[index] self.assertEqual(100, sessionmap['hold_off'])",,46,0
openstack%2Ffreezer~master~Id60de2297a21c0c029c550b903c03661821bc04c,openstack/freezer,master,Id60de2297a21c0c029c550b903c03661821bc04c,Add ftp listdir unittest,MERGED,2018-12-07 01:26:03.000000000,2018-12-07 03:54:26.000000000,2018-12-07 03:54:26.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-12-07 01:26:03.000000000', 'files': ['freezer/tests/unit/storages/test_ftp.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/e3c4e2751e01da7c849c5d74dff26650e7bcc9d0', 'message': 'Add ftp listdir unittest\n\nThe patch add ftp listdir unit test\n\nChange-Id: Id60de2297a21c0c029c550b903c03661821bc04c\n'}]",0,623366,e3c4e2751e01da7c849c5d74dff26650e7bcc9d0,7,3,1,21387,,,0,"Add ftp listdir unittest

The patch add ftp listdir unit test

Change-Id: Id60de2297a21c0c029c550b903c03661821bc04c
",git fetch https://review.opendev.org/openstack/freezer refs/changes/66/623366/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/tests/unit/storages/test_ftp.py'],1,e3c4e2751e01da7c849c5d74dff26650e7bcc9d0,addlistdirftptest," @patch('ftplib.FTP') def test_listdir_ok_FtpStorage(self, mock_ftp_constructor): mock_ftp = mock_ftp_constructor.return_value ftpobj = ftp.FtpStorage( storage_path=self.ftp_opt.ftp_storage_path, remote_pwd=self.ftp_opt.ftp_remote_pwd, remote_username=self.ftp_opt.ftp_remote_username, remote_ip=self.ftp_opt.ftp_remote_ip, port=self.ftp_opt.ftp_port, max_segment_size=self.ftp_opt.ftp_max_segment_size) test_dir = '/home/test' filelist = ['test1.py', 'test2.py', 'readme.txt', 'ftp.sh'] mock_ftp.nlst.return_value = filelist ret = ftpobj.listdir(test_dir) self.assertTrue(mock_ftp.nlst.called) mock_ftp.cwd.assert_called_with(test_dir) self.assertEqual(sorted(filelist), ret) ",,18,0
openstack%2Fpython-tripleoclient~master~I7603677adee8f7a71e90ab063db7fa5eb7d01923,openstack/python-tripleoclient,master,I7603677adee8f7a71e90ab063db7fa5eb7d01923,Don't print message in payload if None,MERGED,2018-11-29 06:39:30.000000000,2018-12-07 03:45:55.000000000,2018-12-06 15:05:38.000000000,"[{'_account_id': 4328}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-29 06:39:30.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/390c6a3f979ceea1ef1482bc624b32a906458c2e', 'message': ""Don't print message in payload if None\n\nChange-Id: I7603677adee8f7a71e90ab063db7fa5eb7d01923\nCloses-Bug: #1805779\n""}]",0,620784,390c6a3f979ceea1ef1482bc624b32a906458c2e,13,7,1,8833,,,0,"Don't print message in payload if None

Change-Id: I7603677adee8f7a71e90ab063db7fa5eb7d01923
Closes-Bug: #1805779
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/620784/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,390c6a3f979ceea1ef1482bc624b32a906458c2e,bug/1805779," message = payload.get('message') if message and status == ""RUNNING"": print(message) message = payload.get('message') if message: print(message) message = payload.get('message') if message: print(message) message = result.get('message') if message: print(message)"," if 'message' in payload and status == ""RUNNING"": print(payload['message']) if 'message' in payload: print(payload['message']) if 'message' in payload: print(payload['message']) if result.get('message', ''): print(result['message'])",12,8
openstack%2Fmasakari-monitors~master~I7b5904411584fba061f43df2c98d839623587608,openstack/masakari-monitors,master,I7b5904411584fba061f43df2c98d839623587608,Change openstack-dev to openstack-discuss,NEW,2018-12-04 03:24:36.000000000,2018-12-07 03:34:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 28842}]","[{'number': 1, 'created': '2018-12-04 03:24:36.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/5df6a6f3d81cdacbc1ad0be7536960f561ab4261', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I7b5904411584fba061f43df2c98d839623587608\n'}]",0,621933,5df6a6f3d81cdacbc1ad0be7536960f561ab4261,3,2,1,26490,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I7b5904411584fba061f43df2c98d839623587608
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/33/621933/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5df6a6f3d81cdacbc1ad0be7536960f561ab4261,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftacker-horizon~master~Id24f20e131785d4b58d140fe6c3b6103f3c3b7b9,openstack/tacker-horizon,master,Id24f20e131785d4b58d140fe6c3b6103f3c3b7b9,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-04 06:45:48.000000000,2018-12-07 03:33:43.000000000,,[{'_account_id': 28842}],"[{'number': 1, 'created': '2018-12-04 06:45:48.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/c4a2aa4450ebcd954d58980a79dcdead24c5bd45', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Id24f20e131785d4b58d140fe6c3b6103f3c3b7b9\n'}]",0,622025,c4a2aa4450ebcd954d58980a79dcdead24c5bd45,2,1,1,26490,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Id24f20e131785d4b58d140fe6c3b6103f3c3b7b9
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/25/622025/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c4a2aa4450ebcd954d58980a79dcdead24c5bd45,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fxstatic-angular-vis~master~Ia09761f1258df76b9ef10355e8293d32cc4b2895,openstack/xstatic-angular-vis,master,Ia09761f1258df76b9ef10355e8293d32cc4b2895,Add the project source code repository in README,ABANDONED,2018-10-05 01:36:09.000000000,2018-12-07 03:31:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-10-05 01:36:09.000000000', 'files': ['README.txt'], 'web_link': 'https://opendev.org/openstack/xstatic-angular-vis/commit/a6e3e0ef8117ef4fc3925087d6316f780ae29819', 'message': 'Add the project source code repository in README\n\nChange-Id: Ia09761f1258df76b9ef10355e8293d32cc4b2895\n'}]",1,608126,a6e3e0ef8117ef4fc3925087d6316f780ae29819,4,2,1,28935,,,0,"Add the project source code repository in README

Change-Id: Ia09761f1258df76b9ef10355e8293d32cc4b2895
",git fetch https://review.opendev.org/openstack/xstatic-angular-vis refs/changes/26/608126/1 && git format-patch -1 --stdout FETCH_HEAD,['README.txt'],1,a6e3e0ef8117ef4fc3925087d6316f780ae29819,,Repository ------------- * https://git.openstack.org/cgit/openstack/xstatic-angular-vis,,4,0
openstack%2Fxstatic-angular-uuid~master~I619ce2c65a8e17914728bcad3c0df544ecffcd31,openstack/xstatic-angular-uuid,master,I619ce2c65a8e17914728bcad3c0df544ecffcd31,Add the project source code repository in README,ABANDONED,2018-10-05 01:34:44.000000000,2018-12-07 03:30:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-10-05 01:34:44.000000000', 'files': ['README.txt'], 'web_link': 'https://opendev.org/openstack/xstatic-angular-uuid/commit/2ba904396d35938f9f1caf044c40c6548e95cd4b', 'message': 'Add the project source code repository in README\n\nChange-Id: I619ce2c65a8e17914728bcad3c0df544ecffcd31\n'}]",1,608125,2ba904396d35938f9f1caf044c40c6548e95cd4b,4,2,1,28935,,,0,"Add the project source code repository in README

Change-Id: I619ce2c65a8e17914728bcad3c0df544ecffcd31
",git fetch https://review.opendev.org/openstack/xstatic-angular-uuid refs/changes/25/608125/1 && git format-patch -1 --stdout FETCH_HEAD,['README.txt'],1,2ba904396d35938f9f1caf044c40c6548e95cd4b,,Repository ------------- * https://git.openstack.org/cgit/openstack/xstatic-angular-uuid,,4,0
openstack%2Fxstatic-angular-ui-router~master~I96dbbaafe9b33cf835de240df5856fad1c3cf3b0,openstack/xstatic-angular-ui-router,master,I96dbbaafe9b33cf835de240df5856fad1c3cf3b0,Add the project source code repository in README,ABANDONED,2018-10-05 01:33:40.000000000,2018-12-07 03:30:27.000000000,,"[{'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-10-05 01:33:40.000000000', 'files': ['README.txt'], 'web_link': 'https://opendev.org/openstack/xstatic-angular-ui-router/commit/efb4309b837dda7ce3b1eaf20ce3abeaa1e7a323', 'message': 'Add the project source code repository in README\n\nChange-Id: I96dbbaafe9b33cf835de240df5856fad1c3cf3b0\n'}]",0,608124,efb4309b837dda7ce3b1eaf20ce3abeaa1e7a323,8,6,1,28935,,,0,"Add the project source code repository in README

Change-Id: I96dbbaafe9b33cf835de240df5856fad1c3cf3b0
",git fetch https://review.opendev.org/openstack/xstatic-angular-ui-router refs/changes/24/608124/1 && git format-patch -1 --stdout FETCH_HEAD,['README.txt'],1,efb4309b837dda7ce3b1eaf20ce3abeaa1e7a323,, Repository ------------- * https://git.openstack.org/cgit/openstack/xstatic-angular-ui-router,,5,0
openstack%2Fpython-zunclient~master~I28e43f899a6f80ff72fbb9666b0516eb81907689,openstack/python-zunclient,master,I28e43f899a6f80ff72fbb9666b0516eb81907689,Support cert and key file of mutual authentication for client,MERGED,2018-12-05 02:29:49.000000000,2018-12-07 03:29:18.000000000,2018-12-07 03:29:18.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-12-05 02:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/fa0647145e1243f772377382231511da53faeda5', 'message': 'Support cert and key file of mutual authentication for client\n\nHTTPS mutual authentication needs cacert, cert and key file. Now,\nzunclient just support cacert file. This patch supports another two\nfile .\n\nChange-Id: I28e43f899a6f80ff72fbb9666b0516eb81907689\n'}, {'number': 2, 'created': '2018-12-07 01:53:32.000000000', 'files': ['zunclient/tests/unit/v1/test_client.py', 'zunclient/shell.py', 'zunclient/v1/client.py', 'zunclient/tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/fbdc86f0b07336982e5ab5eae67cf933617b2afc', 'message': 'Support cert and key file of mutual authentication for client\n\nHTTPS mutual authentication needs cacert, cert and key file. Now,\nzunclient just support cacert file. This patch supports another two\nfile .\n\nChange-Id: I28e43f899a6f80ff72fbb9666b0516eb81907689\n'}]",2,622638,fbdc86f0b07336982e5ab5eae67cf933617b2afc,9,3,2,23829,,,0,"Support cert and key file of mutual authentication for client

HTTPS mutual authentication needs cacert, cert and key file. Now,
zunclient just support cacert file. This patch supports another two
file .

Change-Id: I28e43f899a6f80ff72fbb9666b0516eb81907689
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/38/622638/1 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/shell.py', 'zunclient/v1/client.py', 'zunclient/tests/unit/test_shell.py']",3,fa0647145e1243f772377382231511da53faeda5,," cert=None, key=None, cert=None, key=None, cert=None, key=None, cacert=None, cert=None, key=None,"," cacert=None,",25,5
openstack%2Fpython-heatclient~master~I395f907b1085d0d11d2c5971b3ad007f8bfff814,openstack/python-heatclient,master,I395f907b1085d0d11d2c5971b3ad007f8bfff814,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:28:38.000000000,2018-12-07 03:16:17.000000000,,"[{'_account_id': 9414}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:28:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/fdaf0bff9819c5a4826a18827125f9ee1f609006', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I395f907b1085d0d11d2c5971b3ad007f8bfff814\n'}]",0,622731,fdaf0bff9819c5a4826a18827125f9ee1f609006,5,3,1,27781,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I395f907b1085d0d11d2c5971b3ad007f8bfff814
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/31/622731/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fdaf0bff9819c5a4826a18827125f9ee1f609006,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftripleo-quickstart-extras~master~Ia9944f6346709dbea9f480677d60efc7a5d4e162,openstack/tripleo-quickstart-extras,master,Ia9944f6346709dbea9f480677d60efc7a5d4e162,Disable nested virt for standalone,MERGED,2018-12-06 19:26:21.000000000,2018-12-07 03:14:12.000000000,2018-12-07 03:14:12.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-12-06 19:26:21.000000000', 'files': ['playbooks/multinode-standalone.yml', 'playbooks/multinode-standalone-upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a466cc6a2018f64e118024f9f8bd1bb1997a0310', 'message': ""Disable nested virt for standalone\n\nNested virt is causing the VMs to crash in CI occassicially when tempest\nis running. While it's not ideal to use qemu, it's better not to have\ncrashing VMs.\n\nChange-Id: Ia9944f6346709dbea9f480677d60efc7a5d4e162\nCloses-Bug: #1806720\n""}]",0,623293,a466cc6a2018f64e118024f9f8bd1bb1997a0310,11,7,1,14985,,,0,"Disable nested virt for standalone

Nested virt is causing the VMs to crash in CI occassicially when tempest
is running. While it's not ideal to use qemu, it's better not to have
crashing VMs.

Change-Id: Ia9944f6346709dbea9f480677d60efc7a5d4e162
Closes-Bug: #1806720
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/93/623293/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-standalone.yml', 'playbooks/multinode-standalone-upgrade.yml']",2,a466cc6a2018f64e118024f9f8bd1bb1997a0310,bug/1806720,"# NOTE(aschultz): nested virt causes problems in CI so we default to qemu # and do not do the dynamic virt lookup. standalone_libvirt_type: ""{{ standalone_virt_type|default('qemu') }}"""," standalone_libvirt_type: ""{{ virt_type|default('qemu') }}""",6,9
openstack%2Fwatcher~master~I7073fd904f5b2a6063a8e4c97fad8ab63885bd1a,openstack/watcher,master,I7073fd904f5b2a6063a8e4c97fad8ab63885bd1a,Increase the unit test coverage of host_maintenance.py,MERGED,2018-11-29 12:27:54.000000000,2018-12-07 03:03:38.000000000,2018-12-07 03:03:38.000000000,"[{'_account_id': 12394}, {'_account_id': 13111}, {'_account_id': 14107}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 22775}, {'_account_id': 24501}, {'_account_id': 24872}]","[{'number': 1, 'created': '2018-11-29 12:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d8b2f873cabe458da2aa8d7d5c091cf8c7d0939c', 'message': 'Increase the unit test coverage of\nhost_maintenance.py\n\nIncrease coverage from 66% to 88%.\n\nChange-Id: I7073fd904f5b2a6063a8e4c97fad8ab63885bd1a\n'}, {'number': 2, 'created': '2018-11-29 12:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/c6d4a22acfe0fdb178a5b27673010b65985e7706', 'message': 'Increase the unit test coverage of\nhost_maintenance.py\n\nIncrease coverage from 66% to 88%.\n\nChange-Id: I7073fd904f5b2a6063a8e4c97fad8ab63885bd1a\n'}, {'number': 3, 'created': '2018-11-30 01:03:13.000000000', 'files': ['watcher/tests/decision_engine/strategy/strategies/test_host_maintenance.py', 'watcher/tests/decision_engine/model/faker_cluster_state.py', 'watcher/tests/decision_engine/model/data/scenario_1_with_all_nodes_disable.xml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/0dc9f39a9adeb734c6cdc104dbf294a63601e484', 'message': 'Increase the unit test coverage of\nhost_maintenance.py\n\nIncrease coverage from 66% to 88%.\n\nChange-Id: I7073fd904f5b2a6063a8e4c97fad8ab63885bd1a\n'}]",0,620899,0dc9f39a9adeb734c6cdc104dbf294a63601e484,10,11,3,28748,,,0,"Increase the unit test coverage of
host_maintenance.py

Increase coverage from 66% to 88%.

Change-Id: I7073fd904f5b2a6063a8e4c97fad8ab63885bd1a
",git fetch https://review.opendev.org/openstack/watcher refs/changes/99/620899/2 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/decision_engine/strategy/strategies/test_host_maintenance.py', 'watcher/tests/decision_engine/model/faker_cluster_state.py', 'watcher/tests/decision_engine/model/data/scenario_1_with_all_nodes_disable.xml']",3,d8b2f873cabe458da2aa8d7d5c091cf8c7d0939c,maintenance,"<ModelRoot> <ComputeNode hostname=""hostname_0"" uuid=""Node_0"" id=""0"" state=""up"" human_id="""" status=""disabled"" vcpus=""40"" disk=""250"" disk_capacity=""250"" disabled_reason='watcher_disabled' memory=""64""> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_0"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""91FFFE30-78A0-4152-ACD2-8310FF274DC9""/> </ComputeNode> <ComputeNode hostname=""hostname_1"" uuid=""Node_1"" id=""1"" state=""up"" human_id="""" status=""disabled"" vcpus=""40"" disk=""250"" disk_capacity=""250"" disabled_reason='watcher_disabled' memory=""64""> <Instance watcher_exclude=""False"" human_id="""" state=""active"" uuid=""INSTANCE_1"" vcpus=""10"" disk=""20"" disk_capacity=""20"" memory=""2"" metadata='{""optimize"": true,""top"": ""floor"", ""nested"": {""x"": ""y""}}' project_id=""91FFFE30-78A0-4152-ACD2-8310FF274DC9""/> </ComputeNode> </ModelRoot> ",,59,2
openstack%2Foperations-guide~master~Ic819ed4db8bb0e759657bc5dd33bf93c57cadea0,openstack/operations-guide,master,Ic819ed4db8bb0e759657bc5dd33bf93c57cadea0,"Update the ""OpenStack deployment tools"" URL",MERGED,2018-12-06 02:59:22.000000000,2018-12-07 02:58:56.000000000,2018-12-07 02:58:56.000000000,"[{'_account_id': 6547}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 02:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/c7f327b23269ea9f919a2e045299c126a3e16a32', 'message': 'Update the ""OpenStack deployment tools"" URL\n\nChange-Id: Ic819ed4db8bb0e759657bc5dd33bf93c57cadea0\nStoryBoard: #2004558\n'}, {'number': 2, 'created': '2018-12-06 03:07:49.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/ec2e4dbcbee8a1db151d7266a87d47fc3c5ea28d', 'message': 'Update the ""OpenStack deployment tools"" URL\n\nChange-Id: Ic819ed4db8bb0e759657bc5dd33bf93c57cadea0\nStory: 2004558\n'}]",0,623124,ec2e4dbcbee8a1db151d7266a87d47fc3c5ea28d,8,3,2,16523,,,0,"Update the ""OpenStack deployment tools"" URL

Change-Id: Ic819ed4db8bb0e759657bc5dd33bf93c57cadea0
Story: 2004558
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/24/623124/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,c7f327b23269ea9f919a2e045299c126a3e16a32,story/2004558,<https://docs.openstack.org/rocky/deploy/>`_,<https://docs.openstack.org/rocky/projects.html>`_,1,1
openstack%2Fopenstack-ansible-os_tempest~master~Ief2160fa264b89698937289682541cce963dbdcd,openstack/openstack-ansible-os_tempest,master,Ief2160fa264b89698937289682541cce963dbdcd,modify the http link to https link,ABANDONED,2018-11-24 03:26:37.000000000,2018-12-07 02:53:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-24 03:26:37.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/63e062b17cc9358a54e49355815c0b7ba026c333', 'message': 'modify the http link to https link\n\nChange-Id: Ief2160fa264b89698937289682541cce963dbdcd\n'}]",0,619847,63e062b17cc9358a54e49355815c0b7ba026c333,3,1,1,27507,,,0,"modify the http link to https link

Change-Id: Ief2160fa264b89698937289682541cce963dbdcd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/47/619847/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,63e062b17cc9358a54e49355815c0b7ba026c333,,"the workflow documented at: ""https://docs.openstack.org/infra/manual/developers.html#development-workflow""","the workflow documented at: ""http://docs.openstack.org/infra/manual/developers.html#development-workflow""",1,1
openstack%2Fopenstack-ansible-pip_install~master~I04d0930b179e4b587188b87c1e827daf6e32afc5,openstack/openstack-ansible-pip_install,master,I04d0930b179e4b587188b87c1e827daf6e32afc5,modifty the http link to https link,ABANDONED,2018-11-24 03:37:57.000000000,2018-12-07 02:53:25.000000000,,"[{'_account_id': 18279}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-24 03:37:57.000000000', 'files': ['releasenotes/notes/opensuse-mirror-url-variable-74d22825e808211e.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/27c75b1477b80d3bf7ea6d7b71e914d50cb6a1ea', 'message': 'modifty the http link to https link\n\nChange-Id: I04d0930b179e4b587188b87c1e827daf6e32afc5\n'}]",0,619850,27c75b1477b80d3bf7ea6d7b71e914d50cb6a1ea,4,2,1,27507,,,0,"modifty the http link to https link

Change-Id: I04d0930b179e4b587188b87c1e827daf6e32afc5
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/50/619850/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/opensuse-mirror-url-variable-74d22825e808211e.yaml'],1,27c75b1477b80d3bf7ea6d7b71e914d50cb6a1ea,, https://mirrors.opensuse.org/, http://mirrors.opensuse.org/,1,1
openstack%2Fheat-templates~master~I9dad73c78215053c5ddfede6f6808c5ad1fecad5,openstack/heat-templates,master,I9dad73c78215053c5ddfede6f6808c5ad1fecad5,add  range for the port,ABANDONED,2018-01-18 06:20:12.000000000,2018-12-07 02:52:31.000000000,,"[{'_account_id': 4257}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 25747}, {'_account_id': 26775}, {'_account_id': 26776}, {'_account_id': 27372}, {'_account_id': 27511}]","[{'number': 1, 'created': '2018-01-18 06:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/b8a7a668df0c4b0808fc6921eb11edd0c2466551', 'message': 'add  range for the port\n\nChange-Id: I9dad73c78215053c5ddfede6f6808c5ad1fecad5\n'}, {'number': 2, 'created': '2018-01-18 06:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/70843a06d2a8b309cbc67a3053f970676dc6f92c', 'message': 'add  range for the port\n\nChange-Id: I9dad73c78215053c5ddfede6f6808c5ad1fecad5\n'}, {'number': 3, 'created': '2018-02-05 08:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/103f17f806d170fbe8f46a459714a185ee236e83', 'message': 'add  range for the port\n\nChange-Id: I9dad73c78215053c5ddfede6f6808c5ad1fecad5\n'}, {'number': 4, 'created': '2018-02-05 09:35:54.000000000', 'files': ['hot/autohealing/autohealing_server.yaml', 'hot/autohealing/autohealing_group.yaml'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/98fe03e778bd818334b6be8607647dacc5723b9f', 'message': 'add  range for the port\n\nChange-Id: I9dad73c78215053c5ddfede6f6808c5ad1fecad5\n'}]",0,535176,98fe03e778bd818334b6be8607647dacc5723b9f,18,8,4,27507,,,0,"add  range for the port

Change-Id: I9dad73c78215053c5ddfede6f6808c5ad1fecad5
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/76/535176/2 && git format-patch -1 --stdout FETCH_HEAD,"['hot/autohealing/autohealing_server.yaml', '.idea/vcs.xml']",2,b8a7a668df0c4b0808fc6921eb11edd0c2466551,,"<?xml version=""1.0"" encoding=""UTF-8""?> <project version=""4""> <component name=""VcsDirectoryMappings""> <mapping directory=""$PROJECT_DIR$"" vcs=""Git"" /> </component> </project>",,9,0
openstack%2Fglance_store~master~I489c2059ee88dcca64ed0597b59a710d3ef16cf6,openstack/glance_store,master,I489c2059ee88dcca64ed0597b59a710d3ef16cf6,modify the outdated url to the latested url,ABANDONED,2018-02-05 11:26:51.000000000,2018-12-07 02:52:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-02-05 11:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/272c902e632b7176fcbaf43ab4cad7966c8db245', 'message': 'modify the outdated url to the latested url\n\nmodify the http url to the https url\n\nChange-Id: I489c2059ee88dcca64ed0597b59a710d3ef16cf6\n'}, {'number': 2, 'created': '2018-11-29 00:44:05.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/5a06cdbdd36b14d1d549758b9fcacb45f650235c', 'message': 'modify the outdated url to the latested url\n\nmodify the http url to the https url\n\nChange-Id: I489c2059ee88dcca64ed0597b59a710d3ef16cf6\n'}]",1,540831,5a06cdbdd36b14d1d549758b9fcacb45f650235c,6,2,2,27507,,,0,"modify the outdated url to the latested url

modify the http url to the https url

Change-Id: I489c2059ee88dcca64ed0597b59a710d3ef16cf6
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/31/540831/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,272c902e632b7176fcbaf43ab4cad7966c8db245,,.. image:: https://governance.openstack.org/tc/badges/glance_store.svg :target: https://governance.openstack.org/tc/reference/tags/index.html* Bugs: https://bugs.launchpad.net/glance-store,.. image:: http://governance.openstack.org/badges/glance_store.svg :target: http://governance.openstack.org/reference/tags/index.html* Bugs: http://bugs.launchpad.net/glance-store,3,3
openstack%2Foctavia~master~Ic76599cd059689e9bad78534e30462b6b4b005f6,openstack/octavia,master,Ic76599cd059689e9bad78534e30462b6b4b005f6,modify the http link to https link,ABANDONED,2018-11-23 10:08:30.000000000,2018-12-07 02:51:56.000000000,,"[{'_account_id': 15309}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-23 10:08:30.000000000', 'files': ['doc/source/admin/providers.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b482cd78b74d2cc8643a7db051848ddff621521b', 'message': 'modify the http link to https link\n\nChange-Id: Ic76599cd059689e9bad78534e30462b6b4b005f6\n'}]",1,619708,b482cd78b74d2cc8643a7db051848ddff621521b,4,2,1,27507,,,0,"modify the http link to https link

Change-Id: Ic76599cd059689e9bad78534e30462b6b4b005f6
",git fetch https://review.opendev.org/openstack/octavia refs/changes/08/619708/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/providers.rst'],1,b482cd78b74d2cc8643a7db051848ddff621521b,,.. _setuptools entry points: https://setuptools.readthedocs.io/en/latest/pkg_resources.html?#entry-points,.. _setuptools entry points: http://setuptools.readthedocs.io/en/latest/pkg_resources.html?#entry-points,1,1
openstack%2Fzun~master~I7e3d07747894ae29cb2eb684b6f3b26c0766840b,openstack/zun,master,I7e3d07747894ae29cb2eb684b6f3b26c0766840b,Install pciutils from devstack plugin,ABANDONED,2018-12-02 23:45:49.000000000,2018-12-07 02:51:21.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-02 23:45:49.000000000', 'files': ['devstack/files/debs/zun', 'devstack/files/rpms/zun'], 'web_link': 'https://opendev.org/openstack/zun/commit/3a476488cb53c6bb1ea0c142c0a90e672223070f', 'message': ""Install pciutils from devstack plugin\n\nAdd folder devstack/files/ which list packages that need to be\ninstalled. Devstack will read this folder and install the packages.\nAdd 'pciutils' as installed package.\n\nChange-Id: I7e3d07747894ae29cb2eb684b6f3b26c0766840b\n""}]",0,621459,3a476488cb53c6bb1ea0c142c0a90e672223070f,4,2,1,11536,,,0,"Install pciutils from devstack plugin

Add folder devstack/files/ which list packages that need to be
installed. Devstack will read this folder and install the packages.
Add 'pciutils' as installed package.

Change-Id: I7e3d07747894ae29cb2eb684b6f3b26c0766840b
",git fetch https://review.opendev.org/openstack/zun refs/changes/59/621459/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/debs/zun', 'devstack/files/rpms/zun']",2,3a476488cb53c6bb1ea0c142c0a90e672223070f,,pciutils ,,2,0
openstack%2Fpuppet-aodh~master~Ibf2d5ee85913aa45c5e47ec8d713f7d252c9c6b3,openstack/puppet-aodh,master,Ibf2d5ee85913aa45c5e47ec8d713f7d252c9c6b3,Remove deprecated logging,MERGED,2018-11-29 08:55:54.000000000,2018-12-07 02:46:20.000000000,2018-12-07 02:46:20.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 08:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/cc5b078cc757ef85a6f86c14dee6495dbae3c9ae', 'message': 'Remove deprecated logging\n\nThe logging should be set in the logging class.\n\nChange-Id: Ibf2d5ee85913aa45c5e47ec8d713f7d252c9c6b3\n'}, {'number': 2, 'created': '2018-11-29 08:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/d9fa41139198467b6d7a2ffa54b5d16eb6120a44', 'message': 'Remove deprecated logging\n\nThe logging should be set in the logging class.\n\nChange-Id: Ibf2d5ee85913aa45c5e47ec8d713f7d252c9c6b3\n'}, {'number': 3, 'created': '2018-11-29 09:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/c2f36c6e7719d18e5de563d5bee979a450300712', 'message': 'Remove deprecated logging\n\nThe logging should be set in the logging class.\n\nChange-Id: Ibf2d5ee85913aa45c5e47ec8d713f7d252c9c6b3\n'}, {'number': 4, 'created': '2018-11-29 09:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/b1e2d167fdd590c1937fc574cee986183d66b04b', 'message': 'Remove deprecated logging\n\nThe logging should be set in the logging class.\n\nChange-Id: Ibf2d5ee85913aa45c5e47ec8d713f7d252c9c6b3\n'}, {'number': 5, 'created': '2018-12-01 14:59:56.000000000', 'files': ['manifests/logging.pp', 'manifests/init.pp', 'releasenotes/notes/remove-deprecated-logging-5e452cba26c6f67a.yaml', 'spec/classes/aodh_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/d8f602d631010e68d00b82722d9f27c654e23acf', 'message': 'Remove deprecated logging\n\nThe logging should be set in the logging class.\n\nChange-Id: Ibf2d5ee85913aa45c5e47ec8d713f7d252c9c6b3\n'}]",0,620811,d8f602d631010e68d00b82722d9f27c654e23acf,12,3,5,16137,,,0,"Remove deprecated logging

The logging should be set in the logging class.

Change-Id: Ibf2d5ee85913aa45c5e47ec8d713f7d252c9c6b3
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/11/620811/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/remove-deprecated-logging-5e452cba26c6f67a.yaml']",2,cc5b078cc757ef85a6f86c14dee6495dbae3c9ae,logging,"--- upgrade: - | The deprecated parameters use_syslog, use_stderr, log_facility, log_dir and debug in the init class is now removed. Please set them in the logging class. ",,5,28
openstack%2Fglance~master~I7fcf5235a76d15dbcb2c49255bc26c2b586cd71c,openstack/glance,master,I7fcf5235a76d15dbcb2c49255bc26c2b586cd71c,Implement scaffolding for upgrade checks,MERGED,2018-10-15 16:49:21.000000000,2018-12-07 02:41:19.000000000,2018-12-07 02:41:19.000000000,"[{'_account_id': 2472}, {'_account_id': 5046}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 15961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 16:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9bebb8c22e7f5c0845012726f06d766b6fe02b17', 'message': 'Implement scaffolding for upgrade checks\n\nOne of the community goals for Stein is to implement a command-line\ntool for operators that runs programmable checks that might impact\nupgradability.\n\nThis commit lays down the basic structure for the upgrade checks and\nties it up to `glance-status` command.\n\nChange-Id: I7fcf5235a76d15dbcb2c49255bc26c2b586cd71c\nStory: 2003657\nTask: 26135\n'}, {'number': 2, 'created': '2018-11-05 17:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4b9579f6d80c0398591bff17e0ab0e30098955b5', 'message': 'Implement scaffolding for upgrade checks\n\nOne of the community goals for Stein is to implement a command-line\ntool for operators that runs programmable checks that might impact\nupgradability.\n\nThis commit lays down the basic structure for the upgrade checks and\nties it up to `glance-status` command.\n\nChange-Id: I7fcf5235a76d15dbcb2c49255bc26c2b586cd71c\nStory: 2003657\nTask: 26135\n'}, {'number': 3, 'created': '2018-11-05 17:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5cd2eb76554e97cfa1c0ea681b65359a87693fb6', 'message': 'Implement scaffolding for upgrade checks\n\nOne of the community goals for Stein is to implement a command-line\ntool for operators that runs programmable checks that might impact\nupgradability.\n\nThis commit lays down the basic structure for the upgrade checks and\nties it up to `glance-status` command.\n\nChange-Id: I7fcf5235a76d15dbcb2c49255bc26c2b586cd71c\nStory: 2003657\nTask: 26135\n'}, {'number': 4, 'created': '2018-11-05 21:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de66a29c463ba7ed16e4bc634a91477b2497bf98', 'message': 'Implement scaffolding for upgrade checks\n\nOne of the community goals for Stein is to implement a command-line\ntool for operators that runs programmable checks that might impact\nupgradability.\n\nThis commit lays down the basic structure for the upgrade checks and\nties it up to `glance-status` command.\n\nChange-Id: I7fcf5235a76d15dbcb2c49255bc26c2b586cd71c\nStory: 2003657\nTask: 26135\n'}, {'number': 5, 'created': '2018-11-08 14:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c3e67dd59e29728613e7bd0d703ba18d5b3aa831', 'message': 'Implement scaffolding for upgrade checks\n\nOne of the community goals for Stein is to implement a command-line\ntool for operators that runs programmable checks that might impact\nupgradability.\n\nThis commit lays down the basic structure for the upgrade checks and\nties it up to `glance-status` command.\n\nChange-Id: I7fcf5235a76d15dbcb2c49255bc26c2b586cd71c\nStory: 2003657\nTask: 26135\n'}, {'number': 6, 'created': '2018-11-08 14:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/86d675347720a7b509d6da77f5313be4af31ff53', 'message': 'Implement scaffolding for upgrade checks\n\nOne of the community goals for Stein is to implement a command-line\ntool for operators that runs programmable checks that might impact\nupgradability.\n\nThis commit lays down the basic structure for the upgrade checks and\nties it up to `glance-status` command.\n\nChange-Id: I7fcf5235a76d15dbcb2c49255bc26c2b586cd71c\nStory: 2003657\nTask: 26135\n'}, {'number': 7, 'created': '2018-12-05 21:43:03.000000000', 'files': ['requirements.txt', 'releasenotes/notes/bp-upgrade-checks-b3272c3ddb4e8cf7.yaml', 'lower-constraints.txt', 'glance/cmd/status.py', 'doc/source/cli/glancestatus.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance/commit/c82ecc7463146915159858dfe37a9df1d37541a1', 'message': 'Implement scaffolding for upgrade checks\n\nOne of the community goals for Stein is to implement a command-line\ntool for operators that runs programmable checks that might impact\nupgradability.\n\nThis commit lays down the basic structure for the upgrade checks and\nties it up to `glance-status` command.\n\nChange-Id: I7fcf5235a76d15dbcb2c49255bc26c2b586cd71c\nStory: 2003657\nTask: 26135\n'}]",6,610661,c82ecc7463146915159858dfe37a9df1d37541a1,45,9,7,5046,,,0,"Implement scaffolding for upgrade checks

One of the community goals for Stein is to implement a command-line
tool for operators that runs programmable checks that might impact
upgradability.

This commit lays down the basic structure for the upgrade checks and
ties it up to `glance-status` command.

Change-Id: I7fcf5235a76d15dbcb2c49255bc26c2b586cd71c
Story: 2003657
Task: 26135
",git fetch https://review.opendev.org/openstack/glance refs/changes/61/610661/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'releasenotes/notes/bp-upgrade-checks-b3272c3ddb4e8cf7.yaml', 'glance/cmd/status.py', 'lower-constraints.txt', 'doc/source/cli/glancestatus.rst', 'setup.cfg']",6,9bebb8c22e7f5c0845012726f06d766b6fe02b17,upgrade-checkers, glance-status = glance.cmd.status:main,,92,0
openstack%2Fglance~master~I2f165999fbcc208067a265a3bba049fc86943a47,openstack/glance,master,I2f165999fbcc208067a265a3bba049fc86943a47,Drop dependency on monotonic,MERGED,2018-11-05 21:33:50.000000000,2018-12-07 02:41:18.000000000,2018-12-07 02:41:18.000000000,"[{'_account_id': 5046}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-05 21:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/18f583f05d49334498b8fad346041d48d6aad4f2', 'message': ""Drop dependency on monotonic\n\nSince it's no longer used we can stop requiring it.\nThis also fixes the requirements check job after\nchange Ib8c1bf08f5fa7463911602b0df19315907c81e04.\n\nChange-Id: I2f165999fbcc208067a265a3bba049fc86943a47\n""}, {'number': 2, 'created': '2018-11-08 14:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/733980a944db9892c92514b239f5efa3cb32ee49', 'message': ""Drop dependency on monotonic\n\nSince it's no longer used we can stop requiring it.\nThis also fixes the requirements check job after\nchange Ib8c1bf08f5fa7463911602b0df19315907c81e04.\n\nChange-Id: I2f165999fbcc208067a265a3bba049fc86943a47\n""}, {'number': 3, 'created': '2018-12-05 21:43:03.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'glance/common/timeutils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/509d494f0ddf5eb67eb14c62fd8f5577beaa4144', 'message': ""Drop dependency on monotonic\n\nSince it's no longer used we can stop requiring it.\nThis also fixes the requirements check job after\nchange Ib8c1bf08f5fa7463911602b0df19315907c81e04.\n\nChange-Id: I2f165999fbcc208067a265a3bba049fc86943a47\n""}]",0,615664,509d494f0ddf5eb67eb14c62fd8f5577beaa4144,20,7,3,6873,,,0,"Drop dependency on monotonic

Since it's no longer used we can stop requiring it.
This also fixes the requirements check job after
change Ib8c1bf08f5fa7463911602b0df19315907c81e04.

Change-Id: I2f165999fbcc208067a265a3bba049fc86943a47
",git fetch https://review.opendev.org/openstack/glance refs/changes/64/615664/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'glance/common/timeutils.py']",3,18f583f05d49334498b8fad346041d48d6aad4f2,upgrade-checkers,,from monotonic import monotonic as now # noqa,0,3
openstack%2Fglance~master~Iab3d772d7ad9958b54f095b45387a6eb463ce5e6,openstack/glance,master,Iab3d772d7ad9958b54f095b45387a6eb463ce5e6,Remove i18n.enable_lazy() call from glance.cmd,MERGED,2018-11-05 17:16:20.000000000,2018-12-07 02:30:00.000000000,2018-12-07 02:30:00.000000000,"[{'_account_id': 5046}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-05 17:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c76578aebd4f56d7cd363da26df1425996c00cb4', 'message': 'Remove i18n.enable_lazy() call from searchlight.cmd\n\nLazy translation of messages is not used in OpenStack. This\ncauses problems for commands which use translatable messages.\nThe lazy translation effort was abandoned several years ago.\n\nChange-Id: Iab3d772d7ad9958b54f095b45387a6eb463ce5e6\nRelated-Bug: #1801761\n'}, {'number': 2, 'created': '2018-11-05 17:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a98e77faf690d10b5b59dc5cac871be2f24b470b', 'message': 'Remove i18n.enable_lazy() call from glance.cmd\n\nLazy translation of messages is not used in OpenStack. This\ncauses problems for commands which use translatable messages.\nThe lazy translation effort was abandoned several years ago.\n\nChange-Id: Iab3d772d7ad9958b54f095b45387a6eb463ce5e6\nRelated-Bug: #1801761\n'}, {'number': 3, 'created': '2018-11-08 14:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f0f644f54ce54f62974a176b105740da07887fee', 'message': 'Remove i18n.enable_lazy() call from glance.cmd\n\nLazy translation of messages is not used in OpenStack. This\ncauses problems for commands which use translatable messages.\nThe lazy translation effort was abandoned several years ago.\n\nChange-Id: Iab3d772d7ad9958b54f095b45387a6eb463ce5e6\nRelated-Bug: #1801761\n'}, {'number': 4, 'created': '2018-12-05 21:43:03.000000000', 'files': ['glance/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/f002437d98224247a377e1ed429a0dd0cc077559', 'message': 'Remove i18n.enable_lazy() call from glance.cmd\n\nLazy translation of messages is not used in OpenStack. This\ncauses problems for commands which use translatable messages.\nThe lazy translation effort was abandoned several years ago.\n\nChange-Id: Iab3d772d7ad9958b54f095b45387a6eb463ce5e6\nRelated-Bug: #1801761\n'}]",0,615612,f002437d98224247a377e1ed429a0dd0cc077559,30,7,4,6873,,,0,"Remove i18n.enable_lazy() call from glance.cmd

Lazy translation of messages is not used in OpenStack. This
causes problems for commands which use translatable messages.
The lazy translation effort was abandoned several years ago.

Change-Id: Iab3d772d7ad9958b54f095b45387a6eb463ce5e6
Related-Bug: #1801761
",git fetch https://review.opendev.org/openstack/glance refs/changes/12/615612/4 && git format-patch -1 --stdout FETCH_HEAD,['glance/cmd/__init__.py'],1,c76578aebd4f56d7cd363da26df1425996c00cb4,upgrade-checkers,,"# Copyright 2013 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from glance import i18n i18n.enable_lazy() ",0,18
openstack%2Fopenstack-ansible-os_zaqar~master~I46da3aec4c6eba9d3a7cb11e1562558bb63b7739,openstack/openstack-ansible-os_zaqar,master,I46da3aec4c6eba9d3a7cb11e1562558bb63b7739,Completed required variables for README.rst,ABANDONED,2018-07-19 14:50:31.000000000,2018-12-07 02:15:44.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-07-19 14:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/bdab79490b5cddd8705f31ada0620fd9061b91af', 'message': 'Completed required variables for README.rst\n\nChange-Id: I46da3aec4c6eba9d3a7cb11e1562558bb63b7739\n'}, {'number': 2, 'created': '2018-09-27 03:19:05.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/f951c27163ec7e834538a76a71662c078ccf038b', 'message': 'Completed required variables for README.rst\n\nChange-Id: I46da3aec4c6eba9d3a7cb11e1562558bb63b7739\n'}]",0,583976,f951c27163ec7e834538a76a71662c078ccf038b,8,4,2,21691,,,0,"Completed required variables for README.rst

Change-Id: I46da3aec4c6eba9d3a7cb11e1562558bb63b7739
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/76/583976/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,bdab79490b5cddd8705f31ada0620fd9061b91af,,.. code-block:: yaml zaqar_local_mode: true zaqar_install_nginx: true zaqar_api_bind_address: 192.168.33.11 zaqar_mgmt_db_connection_string: 'sqlite:////tmp/zaqar.db' vars: zaqar_local_mode: true zaqar_install_nginx: true zaqar_api_bind_address: 192.168.33.11 zaqar_mgmt_db_connection_string: 'sqlite:////tmp/zaqar.db',(to be completed) zaqar_local_mode: true zaqar_install_nginx: true zaqar_api_bind_address: 192.168.33.11 zaqar_mgmt_db_connection_string: 'sqlite:////tmp/zaqar.db',11,5
openstack%2Fyaql~master~I124b5cc0c0fab9b28ee7e0499e05a7d3f4e336c3,openstack/yaql,master,I124b5cc0c0fab9b28ee7e0499e05a7d3f4e336c3,Update the hacking to latest,ABANDONED,2018-10-16 15:47:11.000000000,2018-12-07 02:15:16.000000000,,"[{'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-10-16 15:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/yaql/commit/598c12f32e9bf919d5a78473f41ac3a6340a7eb2', 'message': 'Update the hacking to latst\n\nChange-Id: I124b5cc0c0fab9b28ee7e0499e05a7d3f4e336c3\n'}, {'number': 2, 'created': '2018-10-16 16:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/yaql/commit/b19c8709d05cf82755b005628b410784d0bfe26e', 'message': 'Update the hacking to latst\n\nChange-Id: I124b5cc0c0fab9b28ee7e0499e05a7d3f4e336c3\nCloses-Bug: #1798151\n'}, {'number': 3, 'created': '2018-10-18 07:53:38.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/yaql/commit/582f0a38b31e577653deb53a0089bfb703f26861', 'message': 'Update the hacking to latest\n\nChange-Id: I124b5cc0c0fab9b28ee7e0499e05a7d3f4e336c3\nCloses-Bug: #1798151\n'}]",1,611041,582f0a38b31e577653deb53a0089bfb703f26861,12,6,3,21691,,,0,"Update the hacking to latest

Change-Id: I124b5cc0c0fab9b28ee7e0499e05a7d3f4e336c3
Closes-Bug: #1798151
",git fetch https://review.opendev.org/openstack/yaql refs/changes/41/611041/2 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,598c12f32e9bf919d5a78473f41ac3a6340a7eb2,bug/1798151,======================= Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/ ,=============================================== Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,2,2
openstack%2Ftripleo-specs~master~If0d30f642bf2864f2cba44ebec6fa097c9e403f1,openstack/tripleo-specs,master,If0d30f642bf2864f2cba44ebec6fa097c9e403f1,Update the hacking to latest,ABANDONED,2018-10-16 15:45:50.000000000,2018-12-07 02:14:26.000000000,,"[{'_account_id': 10239}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-10-16 15:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/5e2399528934a88be546da161882ebafe0884fe2', 'message': 'Update the hacking to latst\n\nChange-Id: If0d30f642bf2864f2cba44ebec6fa097c9e403f1\n'}, {'number': 2, 'created': '2018-10-18 07:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/0e0efa468968a3b12cbd581a2b636b7cb9a39902', 'message': 'Update the hacking to latst\n\nChange-Id: If0d30f642bf2864f2cba44ebec6fa097c9e403f1\n'}, {'number': 3, 'created': '2018-10-18 07:34:17.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/0bb56b843343279d6e35adb911af48098bccb4ca', 'message': 'Update the hacking to latest\n\nChange-Id: If0d30f642bf2864f2cba44ebec6fa097c9e403f1\n'}]",2,611026,0bb56b843343279d6e35adb911af48098bccb4ca,13,6,3,21691,,,0,"Update the hacking to latest

Change-Id: If0d30f642bf2864f2cba44ebec6fa097c9e403f1
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/26/611026/2 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,5e2399528934a88be546da161882ebafe0884fe2,,================================ Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/ ,=============================================== Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,2,2
openstack%2Fpuppet-watcher~master~If5fc3e4e22226ccc97f03afb4dc0dc9a84e4fba4,openstack/puppet-watcher,master,If5fc3e4e22226ccc97f03afb4dc0dc9a84e4fba4,Dont include logging in init class by default,MERGED,2018-11-29 10:09:09.000000000,2018-12-07 02:14:07.000000000,2018-12-07 02:14:07.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 10:09:09.000000000', 'files': ['spec/classes/watcher_init_spec.rb', 'manifests/init.pp', 'releasenotes/notes/dont-include-logging-init-92644b6fcd5ea382.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/3ee52840342a696c5738950ae86dbe8582d27548', 'message': 'Dont include logging in init class by default\n\nChange-Id: If5fc3e4e22226ccc97f03afb4dc0dc9a84e4fba4\n'}]",0,620872,3ee52840342a696c5738950ae86dbe8582d27548,7,3,1,16137,,,0,"Dont include logging in init class by default

Change-Id: If5fc3e4e22226ccc97f03afb4dc0dc9a84e4fba4
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/72/620872/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/watcher_init_spec.rb', 'manifests/init.pp', 'releasenotes/notes/dont-include-logging-init-92644b6fcd5ea382.yaml']",3,3ee52840342a696c5738950ae86dbe8582d27548,logging,--- upgrade: - | watcher::logging is now not included in init class by default. ,,4,5
openstack%2Fpuppet-watcher~master~I0240b4694cc16f0b31cafb73ddf0874284668cf5,openstack/puppet-watcher,master,I0240b4694cc16f0b31cafb73ddf0874284668cf5,Deprecate ZeroMQ,MERGED,2018-12-03 13:04:49.000000000,2018-12-07 02:08:23.000000000,2018-12-07 02:08:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-03 13:04:49.000000000', 'files': ['spec/classes/watcher_init_spec.rb', 'releasenotes/notes/deprecate-zmq-87517d8c3abef0dd.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/09fb963e4a2594cb478c6c28232b86000aede616', 'message': 'Deprecate ZeroMQ\n\nZeroMQ is removed from puppet-oslo [1] and from\noslo.messaging so we deprecate the related params\nin this module.\n\n[1] https://review.openstack.org/#/c/621557/\n[2] https://review.openstack.org/#/c/596882/\n\nChange-Id: I0240b4694cc16f0b31cafb73ddf0874284668cf5\n'}]",0,621566,09fb963e4a2594cb478c6c28232b86000aede616,7,3,1,16137,,,0,"Deprecate ZeroMQ

ZeroMQ is removed from puppet-oslo [1] and from
oslo.messaging so we deprecate the related params
in this module.

[1] https://review.openstack.org/#/c/621557/
[2] https://review.openstack.org/#/c/596882/

Change-Id: I0240b4694cc16f0b31cafb73ddf0874284668cf5
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/66/621566/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/watcher_init_spec.rb', 'releasenotes/notes/deprecate-zmq-87517d8c3abef0dd.yaml', 'manifests/init.pp']",3,09fb963e4a2594cb478c6c28232b86000aede616,zmq,"# === DEPRECATED PARAMETERS # # [*rpc_cast_timeout*] # (optional) Seconds to wait before a cast expires (TTL). # The default value of -1 specifies an infinite linger # period. The value of 0 specifies no linger period. # Pending messages shall be discarded immediately # when the socket is closed. Only supported by impl_zmq. # Defaults to undef. # # [*rpc_poll_timeout*] # (optional) The default number of seconds that poll should wait. # Poll raises timeout exception when timeout expired. # Defaults to undef. # # [*rpc_zmq_bind_address*] # (optional) ZeroMQ bind address. # Should be a wildcard (*), an ethernet interface, or IP. # The ""host"" option should point or resolve to this address. # Defaults to undef. # # [*rpc_zmq_bind_port_retries*] # (optional) Number of retries to find free port number # before fail with ZMQBindError. # Defaults to undef. # # [*rpc_zmq_concurrency*] # (optional) Type of concurrency used. # Either ""native"" or ""eventlet"". # Defaults to undef. # # [*rpc_zmq_contexts*] # (optional) Number of ZeroMQ contexts. # Defaults to undef. # # [*rpc_zmq_host*] # (optional) Name of this node. # Must be a valid hostname, FQDN, or IP address. # Must match ""host"" option, if running Nova. # Defaults to undef. # # [*rpc_zmq_ipc_dir*] # (optional) Directory for holding IPC sockets. # Defaults to undef. # # [*rpc_zmq_matchmaker*] # (optional) MatchMaker driver. # Defaults to undef. # # [*rpc_zmq_max_port*] # (optional) Maximal port number for random ports range. # Defaults to undef. # # [*rpc_zmq_min_port*] # (optional) Minimal port number for random ports range. # Defaults to undef. # # [*rpc_zmq_topic_backlog*] # (optional) Maximum number of ingress messages to locally buffer per topic. # Defaults to undef. # # [*use_pub_sub*] # (optional) Use PUB/SUB pattern for fanout methods. # PUB/SUB always uses proxy. # Defaults to undef. # # [*zmq_target_expire*] # (optional) Expiration timeout in seconds of a name service # record about existing target ( < 0 means no timeout). # Defaults to undef. # ## DEPRECATED PARAMS $rpc_cast_timeout = undef, $rpc_poll_timeout = undef, $rpc_zmq_bind_address = undef, $rpc_zmq_bind_port_retries = undef, $rpc_zmq_concurrency = undef, $rpc_zmq_contexts = undef, $rpc_zmq_host = undef, $rpc_zmq_ipc_dir = undef, $rpc_zmq_matchmaker = undef, $rpc_zmq_max_port = undef, $rpc_zmq_min_port = undef, $rpc_zmq_topic_backlog = undef, $use_pub_sub = undef, $zmq_target_expire = undef,","# [*rpc_cast_timeout*] # (optional) Seconds to wait before a cast expires (TTL). # The default value of -1 specifies an infinite linger # period. The value of 0 specifies no linger period. # Pending messages shall be discarded immediately # when the socket is closed. Only supported by impl_zmq. # Defaults to $::os_service_default. # # [*rpc_poll_timeout*] # (optional) The default number of seconds that poll should wait. # Poll raises timeout exception when timeout expired. # Defaults to $::os_service_default. # # [*rpc_zmq_bind_address*] # (optional) ZeroMQ bind address. # Should be a wildcard (*), an ethernet interface, or IP. # The ""host"" option should point or resolve to this address. # Defaults to $::os_service_default. # # [*rpc_zmq_bind_port_retries*] # (optional) Number of retries to find free port number # before fail with ZMQBindError. # Defaults to $::os_service_default. # # [*rpc_zmq_concurrency*] # (optional) Type of concurrency used. # Either ""native"" or ""eventlet"". # Defaults to $::os_service_default. # # [*rpc_zmq_contexts*] # (optional) Number of ZeroMQ contexts. # Defaults to $::os_service_default. # # [*rpc_zmq_host*] # (optional) Name of this node. # Must be a valid hostname, FQDN, or IP address. # Must match ""host"" option, if running Nova. # Defaults to $::os_service_default. # # [*rpc_zmq_ipc_dir*] # (optional) Directory for holding IPC sockets. # Defaults to $::os_service_default. # # [*rpc_zmq_matchmaker*] # (optional) MatchMaker driver. # Defaults to $::os_service_default. # # [*rpc_zmq_max_port*] # (optional) Maximal port number for random ports range. # Defaults to $::os_service_default. # # [*rpc_zmq_min_port*] # (optional) Minimal port number for random ports range. # Defaults to $::os_service_default. # # [*rpc_zmq_topic_backlog*] # (optional) Maximum number of ingress messages to locally buffer per topic. # Defaults to $::os_service_default. # # [*use_pub_sub*] # (optional) Use PUB/SUB pattern for fanout methods. # PUB/SUB always uses proxy. # Defaults to $::os_service_default. # # [*zmq_target_expire*] # (optional) Expiration timeout in seconds of a name service # record about existing target ( < 0 means no timeout). # Defaults to $::os_service_default. # # zmq $rpc_cast_timeout = $::os_service_default, $rpc_poll_timeout = $::os_service_default, $rpc_zmq_bind_address = $::os_service_default, $rpc_zmq_bind_port_retries = $::os_service_default, $rpc_zmq_concurrency = $::os_service_default, $rpc_zmq_contexts = $::os_service_default, $rpc_zmq_host = $::os_service_default, $rpc_zmq_ipc_dir = $::os_service_default, $rpc_zmq_matchmaker = $::os_service_default, $rpc_zmq_max_port = $::os_service_default, $rpc_zmq_min_port = $::os_service_default, $rpc_zmq_topic_backlog = $::os_service_default, $use_pub_sub = $::os_service_default, $zmq_target_expire = $::os_service_default, oslo::messaging::zmq { 'watcher_config': rpc_cast_timeout => $rpc_cast_timeout, rpc_poll_timeout => $rpc_poll_timeout, rpc_zmq_bind_address => $rpc_zmq_bind_address, rpc_zmq_bind_port_retries => $rpc_zmq_bind_port_retries, rpc_zmq_concurrency => $rpc_zmq_concurrency, rpc_zmq_contexts => $rpc_zmq_contexts, rpc_zmq_host => $rpc_zmq_host, rpc_zmq_ipc_dir => $rpc_zmq_ipc_dir, rpc_zmq_matchmaker => $rpc_zmq_matchmaker, rpc_zmq_max_port => $rpc_zmq_max_port, rpc_zmq_min_port => $rpc_zmq_min_port, rpc_zmq_topic_backlog => $rpc_zmq_topic_backlog, use_pub_sub => $use_pub_sub, zmq_target_expire => $zmq_target_expire, } ",106,150
openstack%2Fmetalsmith~master~Id7acc3fe99f8901a374894be3afdf467b7fed131,openstack/metalsmith,master,Id7acc3fe99f8901a374894be3afdf467b7fed131,use include_tasks instead of include,MERGED,2018-10-23 04:40:42.000000000,2018-12-07 02:02:32.000000000,2018-12-07 02:02:32.000000000,"[{'_account_id': 10239}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26285}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-10-23 04:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/b9971a355893a126df3460594b7d4e228f98904f', 'message': 'use include_tasks instead of include\n\nChange-Id: Id7acc3fe99f8901a374894be3afdf467b7fed131\n'}, {'number': 2, 'created': '2018-10-23 14:20:57.000000000', 'files': ['playbooks/integration/run.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/7b86d4cd34ee70c6b76c2b038ae5bcf3a73ddd62', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: Id7acc3fe99f8901a374894be3afdf467b7fed131\n'}]",3,612585,7b86d4cd34ee70c6b76c2b038ae5bcf3a73ddd62,17,7,2,27781,,,0,"use include_tasks instead of include

include is marked as deprecated since ansible 2.4[0]

Switch to include_tasks or import_playbook as necessary

[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated

Change-Id: Id7acc3fe99f8901a374894be3afdf467b7fed131
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/85/612585/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/integration/run.yaml'],1,b9971a355893a126df3460594b7d4e228f98904f,, - include_tasks: ssh-key.yaml - include_tasks: cirros-image.yaml, - include: ssh-key.yaml - include: cirros-image.yaml,2,2
openstack%2Fneutron-lib~master~I6e6043659377395351aa0b5d598954b3368523f7,openstack/neutron-lib,master,I6e6043659377395351aa0b5d598954b3368523f7,add a test log,ABANDONED,2018-12-06 08:37:56.000000000,2018-12-07 01:27:49.000000000,,"[{'_account_id': 5367}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 08:37:56.000000000', 'files': ['neutron_lib/rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/15c91641159274ad605234e287c246db02795c73', 'message': 'add a test log\n\nDepends-On: https://review.openstack.org/#/c/621059/1\nChange-Id: I6e6043659377395351aa0b5d598954b3368523f7\nRelated-Bug: #1805769\nStory: 2004456\nTask: 28171\n'}]",1,623163,15c91641159274ad605234e287c246db02795c73,4,3,1,29446,,,0,"add a test log

Depends-On: https://review.openstack.org/#/c/621059/1
Change-Id: I6e6043659377395351aa0b5d598954b3368523f7
Related-Bug: #1805769
Story: 2004456
Task: 28171
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/63/623163/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/rpc.py'],1,15c91641159274ad605234e287c246db02795c73,bug/1805769," return cls._max_timeout or _get_rpc_max_timeout() LOG.debug(""rpc max timeout = %(value)"", {""value"": self.get_max_timeout()})", return _get_rpc_max_timeout(),2,1
openstack%2Fopenstack-ansible-memcached_server~master~I5081e7385683f07977267f0edbb6619ad8209cf6,openstack/openstack-ansible-memcached_server,master,I5081e7385683f07977267f0edbb6619ad8209cf6,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-04 03:53:03.000000000,2018-12-07 01:26:18.000000000,,"[{'_account_id': 9414}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 03:53:03.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/9011e1cb7e842e2b5c8df3abab088ba865f0ffeb', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I5081e7385683f07977267f0edbb6619ad8209cf6\n'}]",0,621960,9011e1cb7e842e2b5c8df3abab088ba865f0ffeb,5,3,1,28935,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I5081e7385683f07977267f0edbb6619ad8209cf6
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/60/621960/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9011e1cb7e842e2b5c8df3abab088ba865f0ffeb,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fcinder~master~Iea32e7d608dfe65e5d301e6736488a6f2e91f67c,openstack/cinder,master,Iea32e7d608dfe65e5d301e6736488a6f2e91f67c,REST connector for Brocade zone driver,ABANDONED,2018-12-06 23:21:36.000000000,2018-12-07 01:18:15.000000000,,"[{'_account_id': 20284}, {'_account_id': 24921}]","[{'number': 1, 'created': '2018-12-06 23:21:36.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_zone_connector_factory.py', 'cinder/zonemanager/drivers/brocade/brcd_fabric_opts.py', 'cinder/zonemanager/drivers/brocade/fc_zone_constants.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/brocade/rest_constants.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/05cc1fc949d2ac3fd4376c227d53140d576a640b', 'message': 'REST connector for Brocade zone driver\n\nREST connector for Brocade switches with firmware\nFOS 8.2.1 and greater.\n\nChange-Id: Iea32e7d608dfe65e5d301e6736488a6f2e91f67c\n'}]",0,623347,05cc1fc949d2ac3fd4376c227d53140d576a640b,4,2,1,8757,,,0,"REST connector for Brocade zone driver

REST connector for Brocade switches with firmware
FOS 8.2.1 and greater.

Change-Id: Iea32e7d608dfe65e5d301e6736488a6f2e91f67c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/623347/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/zonemanager/drivers/brocade/brcd_fc_zone_connector_factory.py', 'cinder/zonemanager/drivers/brocade/brcd_fabric_opts.py', 'cinder/zonemanager/drivers/brocade/fc_zone_constants.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/brocade/rest_constants.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'cinder/exception.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py']",8,05cc1fc949d2ac3fd4376c227d53140d576a640b,brcd_rest_connector," msg = _(""Connection failed """," msg = _(""SSH connection failed """,414,8
openstack%2Ftacker~master~I915b84743892f0c40e4b45ef1fab7547c4fbcc01,openstack/tacker,master,I915b84743892f0c40e4b45ef1fab7547c4fbcc01,[DNM] Testing new etcd download location,ABANDONED,2018-12-06 20:22:57.000000000,2018-12-07 00:47:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-06 20:22:57.000000000', 'files': ['tacker/wsgi.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/3271cc7f06f820f14148bbf9fd9eed1c87e08777', 'message': '[DNM] Testing new etcd download location\n\nJust testing download and install of etcd works with dependent\ndevstack change.\n\nDepends-On: https://review.openstack.org/611826\nChange-Id: I915b84743892f0c40e4b45ef1fab7547c4fbcc01\n'}]",0,623304,3271cc7f06f820f14148bbf9fd9eed1c87e08777,3,1,1,7118,,,0,"[DNM] Testing new etcd download location

Just testing download and install of etcd works with dependent
devstack change.

Depends-On: https://review.openstack.org/611826
Change-Id: I915b84743892f0c40e4b45ef1fab7547c4fbcc01
",git fetch https://review.opendev.org/openstack/tacker refs/changes/04/623304/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/wsgi.py'],1,3271cc7f06f820f14148bbf9fd9eed1c87e08777,etcd,# NO CHANGE ,,2,0
openstack%2Fdevstack~master~Iebcba0d4be6d9d71b783e10a82c35a406afbd6bf,openstack/devstack,master,Iebcba0d4be6d9d71b783e10a82c35a406afbd6bf,Setup branch in setup-devstack-source-dirs,MERGED,2018-03-04 08:28:03.000000000,2018-12-07 00:35:19.000000000,2018-12-07 00:35:19.000000000,"[{'_account_id': 1921}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10459}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-03-04 08:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6a8fd20af476ea2a215335632110f99002c047c7', 'message': 'Setup branch in setup-devstack-source-dirs\n\nAllow the setup-devstack-source-dirs role to accept a target role\nto be setup - when available - for the repos.\n\nChange-Id: Iebcba0d4be6d9d71b783e10a82c35a406afbd6bf\n'}, {'number': 2, 'created': '2018-03-06 11:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/eed78bb1d4d7dd67f1b621d265b316fdbc7ac4e3', 'message': 'Setup branch in setup-devstack-source-dirs\n\nAllow the setup-devstack-source-dirs role to accept a target role\nto be setup - when available - for the repos.\n\nChange-Id: Iebcba0d4be6d9d71b783e10a82c35a406afbd6bf\n'}, {'number': 3, 'created': '2018-09-13 16:49:09.000000000', 'files': ['roles/setup-devstack-source-dirs/tasks/main.yaml', 'roles/setup-devstack-source-dirs/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/147388466daef8e6589013d9bae684f9f8b8c57a', 'message': 'Setup branch in setup-devstack-source-dirs\n\nAllow the setup-devstack-source-dirs role to accept a target role\nto be setup - when available - for the repos.\n\nChange-Id: Iebcba0d4be6d9d71b783e10a82c35a406afbd6bf\n'}]",12,549517,147388466daef8e6589013d9bae684f9f8b8c57a,41,10,3,1921,,,0,"Setup branch in setup-devstack-source-dirs

Allow the setup-devstack-source-dirs role to accept a target role
to be setup - when available - for the repos.

Change-Id: Iebcba0d4be6d9d71b783e10a82c35a406afbd6bf
",git fetch https://review.opendev.org/openstack/devstack refs/changes/17/549517/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/setup-devstack-source-dirs/tasks/main.yaml', 'roles/setup-devstack-source-dirs/README.rst']",2,6a8fd20af476ea2a215335632110f99002c047c7,grenade_zuulv3, .. zuul:rolevar:: devstack_branch :default: None The target branch to be setup (where available).,,25,0
openstack%2Fnova~master~I6893d63dc5f29bc2eb348fe0aa9fbc8490e6eb40,openstack/nova,master,I6893d63dc5f29bc2eb348fe0aa9fbc8490e6eb40,Change the default values of XXX_allocation_ratio,MERGED,2018-09-15 03:19:20.000000000,2018-12-06 23:44:42.000000000,2018-12-06 23:44:42.000000000,"[{'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-15 03:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1388e82d0911d1479a515f32d50e959fea889334', 'message': 'Change the default values of XXX_allocation_ratio\n\nThis patch including 2 changes:\n1. Change the default values for\nCONF.(cpu|ram|disk)_allocation_ratio to ``None``\n\n2. Change the resource tracker to overwrite the compute node\'s\nallocations ratios to the value of the XXX_allocation_ratio if\nthe value of these options is NOT ``None`` or ``0.0``.\n\nThe ""0.0"" condition is for upgrade impact, and it will be\nremoved in the next version (T version).\n\nChange-Id: I6893d63dc5f29bc2eb348fe0aa9fbc8490e6eb40\nblueprint: initial-allocation-ratios\n'}, {'number': 2, 'created': '2018-09-15 06:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4434c2c19dfc277be61d184a13cf387b869eb32a', 'message': 'Change the default values of XXX_allocation_ratio\n\nThis patch including 2 changes:\n1. Change the default values for\nCONF.(cpu|ram|disk)_allocation_ratio to ``None``\n\n2. Change the resource tracker to overwrite the compute node\'s\nallocations ratios to the value of the XXX_allocation_ratio if\nthe value of these options is NOT ``None`` or ``0.0``.\n\nThe ""0.0"" condition is for upgrade impact, and it will be\nremoved in the next version (T version).\n\nChange-Id: I6893d63dc5f29bc2eb348fe0aa9fbc8490e6eb40\nblueprint: initial-allocation-ratios\n'}, {'number': 3, 'created': '2018-10-12 10:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1d6f7320059c9df5835b18fa59dff2c84862107', 'message': 'Change the default values of XXX_allocation_ratio\n\nThis patch including 2 changes:\n1. Change the default values for\nCONF.(cpu|ram|disk)_allocation_ratio to ``None``\n\n2. Change the resource tracker to overwrite the compute node\'s\nallocations ratios to the value of the XXX_allocation_ratio if\nthe value of these options is NOT ``None`` or ``0.0``.\n\nThe ""0.0"" condition is for upgrade impact, and it will be\nremoved in the next version (T version).\n\nChange-Id: I6893d63dc5f29bc2eb348fe0aa9fbc8490e6eb40\nblueprint: initial-allocation-ratios\n'}, {'number': 4, 'created': '2018-11-02 09:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38b043544f372eee144a5fd96d5c54883ecf35b5', 'message': 'Change the default values of XXX_allocation_ratio\n\nThis patch including 2 changes:\n1. Change the default values for\nCONF.(cpu|ram|disk)_allocation_ratio to ``None``\n\n2. Change the resource tracker to overwrite the compute node\'s\nallocations ratios to the value of the XXX_allocation_ratio if\nthe value of these options is NOT ``None`` or ``0.0``.\n\nThe ""0.0"" condition is for upgrade impact, and it will be\nremoved in the next version (T version).\n\nChange-Id: I6893d63dc5f29bc2eb348fe0aa9fbc8490e6eb40\nblueprint: initial-allocation-ratios\n'}, {'number': 5, 'created': '2018-11-27 08:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fffc178cc192daaa26b1f7a21a8992a6d9712720', 'message': 'Change the default values of XXX_allocation_ratio\n\nThis patch including 2 changes:\n1. Change the default values for\nCONF.(cpu|ram|disk)_allocation_ratio to ``None``\n\n2. Change the resource tracker to overwrite the compute node\'s\nallocations ratios to the value of the XXX_allocation_ratio if\nthe value of these options is NOT ``None`` or ``0.0``.\n\nThe ""0.0"" condition is for upgrade impact, and it will be\nremoved in the next version (T version).\n\nChange-Id: I6893d63dc5f29bc2eb348fe0aa9fbc8490e6eb40\nblueprint: initial-allocation-ratios\n'}, {'number': 6, 'created': '2018-11-27 12:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e65783f75578c4a64860cab7bdedee5bf6bc8bda', 'message': 'Change the default values of XXX_allocation_ratio\n\nThis patch including 2 changes:\n1. Change the default values for\nCONF.(cpu|ram|disk)_allocation_ratio to ``None``\n\n2. Change the resource tracker to overwrite the compute node\'s\nallocations ratios to the value of the XXX_allocation_ratio if\nthe value of these options is NOT ``None`` or ``0.0``.\n\nThe ""0.0"" condition is for upgrade impact, and it will be\nremoved in the next version (T version).\n\nChange-Id: I6893d63dc5f29bc2eb348fe0aa9fbc8490e6eb40\nblueprint: initial-allocation-ratios\n'}, {'number': 7, 'created': '2018-11-28 08:36:36.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'releasenotes/notes/add_initial_allocation_ratio-2d2666d62426a4bf.yaml', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/212eff600ab6f016ed696a8d4bd884d572db8990', 'message': 'Change the default values of XXX_allocation_ratio\n\nThis patch including 2 changes:\n1. Change the default values for\nCONF.(cpu|ram|disk)_allocation_ratio to ``None``\n\n2. Change the resource tracker to overwrite the compute node\'s\nallocations ratios to the value of the XXX_allocation_ratio if\nthe value of these options is NOT ``None`` or ``0.0``.\n\nThe ""0.0"" condition is for upgrade impact, and it will be\nremoved in the next version (T version).\n\nChange-Id: I6893d63dc5f29bc2eb348fe0aa9fbc8490e6eb40\nblueprint: initial-allocation-ratios\n'}]",53,602803,212eff600ab6f016ed696a8d4bd884d572db8990,142,22,7,20722,,,0,"Change the default values of XXX_allocation_ratio

This patch including 2 changes:
1. Change the default values for
CONF.(cpu|ram|disk)_allocation_ratio to ``None``

2. Change the resource tracker to overwrite the compute node's
allocations ratios to the value of the XXX_allocation_ratio if
the value of these options is NOT ``None`` or ``0.0``.

The ""0.0"" condition is for upgrade impact, and it will be
removed in the next version (T version).

Change-Id: I6893d63dc5f29bc2eb348fe0aa9fbc8490e6eb40
blueprint: initial-allocation-ratios
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/602803/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",3,1388e82d0911d1479a515f32d50e959fea889334,bp/initial-allocation-ratios," # NOTE(yikun): In Stein version, we change the default value of # (cpu|ram|disk)_allocation_ratio from 0.0 to None, but we still # should allow 0.0 to keep compatibility, and this 0.0 condition # will be removed in the next version (T version). if conf_alloc_ratio not in (0.0, None):", if conf_alloc_ratio != 0.0:,49,22
openstack%2Fnova~master~Ifd9dba0c24fde25d54761077c1374313019af1d8,openstack/nova,master,Ifd9dba0c24fde25d54761077c1374313019af1d8,Remove ironic/pike note from *_allocation_ratio help,MERGED,2018-11-26 20:59:01.000000000,2018-12-06 23:44:32.000000000,2018-12-06 23:44:32.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-26 20:59:01.000000000', 'files': ['nova/conf/compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d536b0d3ac7586c159c54df686898f728286c39', 'message': 'Remove ironic/pike note from *_allocation_ratio help\n\nThe note in the cpu/ram/disk allocation ratio config\noption help was referring to commit e7840cdf1 from Pike\nwhen the ironic driver reported allocation_ratio=1.0\nfor VCPU/MEMORY_MB/DISK_GB resource inventory.\n\nThat code was removed in commit a985e34cd so we can\nremove the related note from the config option help as\nit no longer applies.\n\nChange-Id: Ifd9dba0c24fde25d54761077c1374313019af1d8\n'}]",0,620154,5d536b0d3ac7586c159c54df686898f728286c39,71,23,1,6873,,,0,"Remove ironic/pike note from *_allocation_ratio help

The note in the cpu/ram/disk allocation ratio config
option help was referring to commit e7840cdf1 from Pike
when the ironic driver reported allocation_ratio=1.0
for VCPU/MEMORY_MB/DISK_GB resource inventory.

That code was removed in commit a985e34cd so we can
remove the related note from the config option help as
it no longer applies.

Change-Id: Ifd9dba0c24fde25d54761077c1374313019af1d8
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/620154/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/compute.py'],1,5d536b0d3ac7586c159c54df686898f728286c39,ironic-reserved-resources,,"NOTE: As of the 16.0.0 Pike release, this configuration option is ignored for the ironic.IronicDriver compute driver and is hardcoded to 1.0. NOTE: As of the 16.0.0 Pike release, this configuration option is ignored for the ironic.IronicDriver compute driver and is hardcoded to 1.0. NOTE: As of the 16.0.0 Pike release, this configuration option is ignored for the ironic.IronicDriver compute driver and is hardcoded to 1.0. ",0,9
openstack%2Fkeystone~master~I6c428422f09e788faf2179d24cc01eb1ab623b64,openstack/keystone,master,I6c428422f09e788faf2179d24cc01eb1ab623b64,Add registered limit tests for system member role,MERGED,2018-11-29 21:34:28.000000000,2018-12-06 23:44:27.000000000,2018-12-06 23:44:27.000000000,"[{'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 21:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/172c8c4b5e4de749e5348ad3c9829475cdb61cee', 'message': 'Update registered limit policies for system member\n\nThe registered limit policies were not taking into account the default\nroles work we did last release. This commit changes the default\npolicies to rely on the ``member`` role to update registered limits.\nSubsequent patches will incorporate:\n\n - system admin\n - domain users\n - project users\n\nChange-Id: I6c428422f09e788faf2179d24cc01eb1ab623b64\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n'}, {'number': 2, 'created': '2018-11-30 23:37:19.000000000', 'files': ['keystone/tests/unit/protection/v3/test_registered_limits.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8658011e41c05f79694eb4df306e07a0db1ce9a9', 'message': 'Add registered limit tests for system member role\n\nFrom keystone-perspective, the ``member`` and ``reader`` roles are\neffectively the same, isolating writeable registered limit operations\nto the ``admin`` role.\n\nThis commit adds explicit testing to make sure the ``member`` role\nis allowed to perform readable and not writable registered limits\noperations. Subsequent patches will incorporate:\n\n - system admin functionality\n - testing for domain users\n - testing for project users\n\nChange-Id: I6c428422f09e788faf2179d24cc01eb1ab623b64\nRelated-Bug: 1805372\nRelated-Bug: 1805880\n'}]",3,621015,8658011e41c05f79694eb4df306e07a0db1ce9a9,14,4,2,5046,,,0,"Add registered limit tests for system member role

From keystone-perspective, the ``member`` and ``reader`` roles are
effectively the same, isolating writeable registered limit operations
to the ``admin`` role.

This commit adds explicit testing to make sure the ``member`` role
is allowed to perform readable and not writable registered limits
operations. Subsequent patches will incorporate:

 - system admin functionality
 - testing for domain users
 - testing for project users

Change-Id: I6c428422f09e788faf2179d24cc01eb1ab623b64
Related-Bug: 1805372
Related-Bug: 1805880
",git fetch https://review.opendev.org/openstack/keystone refs/changes/15/621015/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/policies/registered_limit.py', 'keystone/tests/unit/protection/v3/test_registered_limits.py']",2,172c8c4b5e4de749e5348ad3c9829475cdb61cee,implement-default-roles," class SystemMemberTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _UserRegisteredLimitTests): def setUp(self): super(SystemMemberTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) system_member = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) self.user_id = PROVIDERS.identity_api.create_user( system_member )['id'] PROVIDERS.assignment_api.create_system_grant_for_user( self.user_id, self.bootstrapper.member_role_id ) auth = self.build_authentication_request( user_id=self.user_id, password=system_member['password'], system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} def test_user_cannot_create_registered_limits(self): service = PROVIDERS.catalog_api.create_service( uuid.uuid4().hex, unit.new_service_ref() ) create = { 'registered_limits': [ unit.new_registered_limit_ref( service_id=service['id'] ) ] } with self.test_client() as c: c.post( '/v3/registered_limits', json=create, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_can_update_registered_limits(self): service = PROVIDERS.catalog_api.create_service( uuid.uuid4().hex, unit.new_service_ref() ) registered_limit = unit.new_registered_limit_ref( service_id=service['id'], id=uuid.uuid4().hex ) limits = PROVIDERS.unified_limit_api.create_registered_limits( [registered_limit] ) limit_id = limits[0]['id'] with self.test_client() as c: update = { 'registered_limit': {'default_limit': 5} } c.patch( '/v3/registered_limits/%s' % limit_id, json=update, headers=self.headers ) def test_user_cannot_delete_registered_limits(self): service = PROVIDERS.catalog_api.create_service( uuid.uuid4().hex, unit.new_service_ref() ) registered_limit = unit.new_registered_limit_ref( service_id=service['id'], id=uuid.uuid4().hex ) limits = PROVIDERS.unified_limit_api.create_registered_limits( [registered_limit] ) limit_id = limits[0]['id'] with self.test_client() as c: c.delete( '/v3/registered_limits/%s' % limit_id, headers=self.headers, expected_status_code=http_client.FORBIDDEN )",,113,2
openstack%2Fkeystone~master~Iee6ae4cb2a5b1c993fe2729425c25f9a38c01b65,openstack/keystone,master,Iee6ae4cb2a5b1c993fe2729425c25f9a38c01b65,Remove deprecated secure_proxy_ssl_header config,MERGED,2017-08-31 20:50:48.000000000,2018-12-06 23:44:24.000000000,2018-12-06 23:44:23.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 17860}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 26548}, {'_account_id': 27621}, {'_account_id': 28842}]","[{'number': 1, 'created': '2017-08-31 20:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bb76eb93366954dce28fc85505076b1a93de6d01', 'message': 'Remove deprecated secure_proxy_ssl_header config\n\n`keystone.conf [DEFAULT] secure_proxy_ssl_header` has been deprecated\nsince Newton and was staged fro removal in Pike. It was never removed\nin Pike, but we can remove it now.\n\nChange-Id: Iee6ae4cb2a5b1c993fe2729425c25f9a38c01b65\n'}, {'number': 2, 'created': '2017-08-31 21:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/121e980876b54e9ba508554763ce1c387b204f06', 'message': 'Remove deprecated secure_proxy_ssl_header config\n\n`keystone.conf [DEFAULT] secure_proxy_ssl_header` has been deprecated\nsince Newton and was staged fro removal in Pike. It was never removed\nin Pike, but we can remove it now.\n\nChange-Id: Iee6ae4cb2a5b1c993fe2729425c25f9a38c01b65\n'}, {'number': 3, 'created': '2017-09-30 00:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a08d6fb4ea85fdc9096340a9185b147ce3885d6d', 'message': 'Remove deprecated secure_proxy_ssl_header config\n\n`keystone.conf [DEFAULT] secure_proxy_ssl_header` has been deprecated\nsince Newton and was staged fro removal in Pike. It was never removed\nin Pike, but we can remove it now.\n\nChange-Id: Iee6ae4cb2a5b1c993fe2729425c25f9a38c01b65\n'}, {'number': 4, 'created': '2017-09-30 15:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/553f46e47d5ea8e659b0af4050f55caae2142ba7', 'message': 'Remove deprecated secure_proxy_ssl_header config\n\n`keystone.conf [DEFAULT] secure_proxy_ssl_header` has been deprecated\nsince Newton and was staged for removal in Pike. It was never removed\nin Pike, but we can remove it now.\n\nChange-Id: Iee6ae4cb2a5b1c993fe2729425c25f9a38c01b65\n'}, {'number': 5, 'created': '2017-09-30 16:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/25eb3d7e856b2a938d0ce0e96d89c9bf5fa644a4', 'message': 'Remove deprecated secure_proxy_ssl_header config\n\n`keystone.conf [DEFAULT] secure_proxy_ssl_header` has been deprecated\nsince Newton and was staged for removal in Pike. It was never removed\nin Pike, but we can remove it now.\n\nChange-Id: Iee6ae4cb2a5b1c993fe2729425c25f9a38c01b65\n'}, {'number': 6, 'created': '2017-10-04 15:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/463eb9e22005c3521b687b682d8ec680f0c2fb2b', 'message': 'Remove deprecated secure_proxy_ssl_header config\n\n`keystone.conf [DEFAULT] secure_proxy_ssl_header` has been deprecated\nsince Newton and was staged for removal in Pike. It was never removed\nin Pike, but we can remove it now.\n\nChange-Id: Iee6ae4cb2a5b1c993fe2729425c25f9a38c01b65\n'}, {'number': 7, 'created': '2018-10-26 13:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a54e669b97298150371e780ce9f0c1ad9282c32e', 'message': 'Remove deprecated secure_proxy_ssl_header config\n\n`keystone.conf [DEFAULT] secure_proxy_ssl_header` has been deprecated\nsince Newton and was staged for removal in Pike. It was never removed\nin Pike, but we can remove it now.\n\nChange-Id: Iee6ae4cb2a5b1c993fe2729425c25f9a38c01b65\n'}, {'number': 8, 'created': '2018-11-19 21:55:35.000000000', 'files': ['keystone/conf/default.py', 'keystone/tests/unit/test_versions.py', 'releasenotes/notes/removed-as-of-stein-5eb23253b72ab54e.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2fe483f27bc9c0307347f039007d944a2dd8bc6c', 'message': 'Remove deprecated secure_proxy_ssl_header config\n\n`keystone.conf [DEFAULT] secure_proxy_ssl_header` has been deprecated\nsince Newton and was staged for removal in Pike. It was never removed\nin Pike, but we can remove it now.\n\nChange-Id: Iee6ae4cb2a5b1c993fe2729425c25f9a38c01b65\n'}]",8,499798,2fe483f27bc9c0307347f039007d944a2dd8bc6c,47,10,8,5046,,,0,"Remove deprecated secure_proxy_ssl_header config

`keystone.conf [DEFAULT] secure_proxy_ssl_header` has been deprecated
since Newton and was staged for removal in Pike. It was never removed
in Pike, but we can remove it now.

Change-Id: Iee6ae4cb2a5b1c993fe2729425c25f9a38c01b65
",git fetch https://review.opendev.org/openstack/keystone refs/changes/98/499798/8 && git format-patch -1 --stdout FETCH_HEAD,['keystone/conf/default.py'],1,bb76eb93366954dce28fc85505076b1a93de6d01,bp/removed-as-of-stein,,"_DEPRECATE_PROXY_SSL = utils.fmt("""""" This option has been deprecated in the N release and will be removed in the P release. Use oslo.middleware.http_proxy_to_wsgi configuration instead. """""") secure_proxy_ssl_header = cfg.StrOpt( 'secure_proxy_ssl_header', default='HTTP_X_FORWARDED_PROTO', deprecated_for_removal=True, deprecated_reason=_DEPRECATE_PROXY_SSL, deprecated_since=versionutils.deprecated.NEWTON, help=utils.fmt("""""" The HTTP header used to determine the scheme for the original request, even if it was removed by an SSL terminating proxy. """""")) ",0,16
openstack%2Fneutron~stable%2Frocky~I8d525bbe48216fef4da890582b8e198933a27833,openstack/neutron,stable/rocky,I8d525bbe48216fef4da890582b8e198933a27833,Reinitialize ovs firewall after ovs-vswitchd restart,MERGED,2018-12-04 13:27:50.000000000,2018-12-06 23:44:21.000000000,2018-12-06 23:44:21.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-12-04 13:27:50.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c114241785d3eb5c78c19b4416319167204b5ee', 'message': ""Reinitialize ovs firewall after ovs-vswitchd restart\n\nWhen ovs-vswitchd process is restarted on host neutron-ovs-agent\ncan properly handle that and recover openflows and bridges config.\nBut when ovs firewall driver is used, it wasn't reinitialized\nso there were missing some OF rules in br-int and connectivity\nto/from instances was broken.\n\nThis patch adds reinitialization of firewall in such case so\nall OF rules are properly reconfigured and connectivity is\nrestored.\n\nChange-Id: I8d525bbe48216fef4da890582b8e198933a27833\nCloses-Bug: 1805808\n(cherry picked from commit 2ba9e95156d86bc67ecd8440d7343028e89cae3a)\n""}]",0,622322,2c114241785d3eb5c78c19b4416319167204b5ee,22,6,1,11975,,,0,"Reinitialize ovs firewall after ovs-vswitchd restart

When ovs-vswitchd process is restarted on host neutron-ovs-agent
can properly handle that and recover openflows and bridges config.
But when ovs firewall driver is used, it wasn't reinitialized
so there were missing some OF rules in br-int and connectivity
to/from instances was broken.

This patch adds reinitialization of firewall in such case so
all OF rules are properly reconfigured and connectivity is
restored.

Change-Id: I8d525bbe48216fef4da890582b8e198933a27833
Closes-Bug: 1805808
(cherry picked from commit 2ba9e95156d86bc67ecd8440d7343028e89cae3a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/622322/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,2c114241785d3eb5c78c19b4416319167204b5ee,bug/1805808-stable/rocky,"from neutron_lib.callbacks import events as callbacks_events from neutron_lib.callbacks import registry as callbacks_registry from neutron_lib.callbacks import resources as callbacks_resources def test_callbacks_registered(self): with mock.patch.object(callbacks_registry, ""subscribe"") as subscribe: firewall = ovsfw.OVSFirewallDriver(mock.MagicMock()) subscribe.assert_called_once_with( firewall._init_firewall_callback, callbacks_resources.AGENT, callbacks_events.OVS_RESTARTED) ",,30,5
openstack%2Ftempest~master~Idc09d6272386f026a899787c2151745916a7228d,openstack/tempest,master,Idc09d6272386f026a899787c2151745916a7228d,Support immutable user source,MERGED,2018-07-24 20:28:05.000000000,2018-12-06 23:44:15.000000000,2018-12-06 23:44:15.000000000,"[{'_account_id': 1921}, {'_account_id': 5046}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 8911}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 20378}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 26198}, {'_account_id': 27078}, {'_account_id': 28628}]","[{'number': 1, 'created': '2018-07-24 20:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/10beca7508911d7fcff262a71e7b93fe91d93985', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create or delete\na user will fail. Instead of failing, we would like them to skip.\nProposed is an additional config setting in the identity feature group\ncalled immutable_user_source that is defulted to false.\n\nThese tempest tests also create users in multiple different ways,\neither by calling the users client directly to create a user, or by\ncalling the create_test_user method in the identity base implementation.\nTo handle this, we propose adding a skip check to the create_test_user\nmethod using this new config setting to catch any tests that currently\ncreate users with that method. For tests that directly call the users\nclient in the class resource setup, we propose refactoring to\nuse the create_test_user method instead to allow the tests to skip.\nIn the meantime, for the tests that specifically call the users client,\nwe propose utilizing a testtools decorator to skip tests based on the\nnew config setting.\n\nOne test class so far has been adjusted to use the decorator. Those\ntests and the ones that utilize the create_test_user will skip.\n\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}, {'number': 2, 'created': '2018-07-25 16:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a52351bd56b944b7e75e6e8ee90705f174f7f762', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create or delete\na user will fail. Instead of failing, we would like them to skip.\nProposed is an additional config setting in the auth group\ncalled immutable_user_source that is defulted to false.\n\nTo handle this on a test by test basis and avoid modifying behavior\nthat depends on the identity base class, we propose using a\ntesttools decorator to skip tests based on the new config setting.\n\nOne test class so far has been adjusted to use the decorator, and if\nthe config setting is set to true, the tests will skip accordingly.\n\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}, {'number': 3, 'created': '2018-07-25 16:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e38e2e6a0d4183ab731d75c4297d5e9101870307', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create or delete\na user will fail. Instead of failing, we would like them to skip.\nProposed is an additional config setting in the auth group\ncalled immutable_user_source that is defulted to false.\n\nTo handle this on a test by test basis and avoid modifying behavior\nthat depends on the identity base class, we propose using a\ntesttools decorator to skip tests based on the new config setting.\n\nOne test class so far has been adjusted to use the decorator, and if\nthe config setting is set to true, the tests will skip accordingly.\n\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}, {'number': 4, 'created': '2018-07-26 13:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/871fcb584d32e3a088236ebfa1f4f6300923b3bc', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create or delete\na user will fail. Instead of failing, we would like them to skip.\nProposed is an additional config setting in the auth group\ncalled immutable_user_source that is defulted to false.\n\nTo handle this on a test by test basis and avoid modifying behavior\nthat depends on the identity base class, we propose using a\ntesttools decorator to skip tests based on the new config setting.\n\nOne test class so far has been adjusted to use the decorator, and if\nthe config setting is set to true, the tests will skip accordingly.\n\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}, {'number': 5, 'created': '2018-07-27 15:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8a02b8065d13a353a9705a18b247b6a2446836f5', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create or delete\na user will fail. Instead of failing, we would like them to skip.\nProposed is an additional config setting in the auth group\ncalled immutable_user_source that is defulted to false.\n\nTo handle this on a test by test basis and avoid modifying behavior\nthat depends on the identity base class, we propose using a\ntesttools decorator to skip tests based on the new config setting.\n\nOne test class so far has been adjusted to use the decorator, and if\nthe config setting is set to true, the tests will skip accordingly.\n\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}, {'number': 6, 'created': '2018-07-30 12:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b4f032713e4839665715c0565203551beca8607', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create or delete\na user will fail. Instead of failing, we would like them to skip.\nProposed is an additional config setting in the auth group\ncalled immutable_user_source that is defulted to false.\n\nTo handle this on a test by test basis and avoid modifying behavior\nthat depends on the identity base class, we propose using a\ntesttools decorator to skip tests based on the new config setting.\n\nOne test class so far has been adjusted to use the decorator, and if\nthe config setting is set to true, the tests will skip accordingly.\n\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}, {'number': 7, 'created': '2018-09-18 18:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fd3b601908ae2147c176c92b27a575ec34b1babe', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create, delete\nor modify a user will fail. Instead of failing, we would like them to\nskip. Proposed is an additional config setting in the auth group\ncalled immutable_user_source that is defaulted to false.\n\nTo handle this on a test by test basis and avoid modifying behavior\nthat depends on the identity base class, we propose using a\ntesttools decorator to skip tests based on the new config setting.\n\nOne test class so far has been adjusted to use the decorator, and if\nthe config setting is set to true, the tests will skip accordingly.\n\nCo-Authored-By: Michael Beaver <michaelbeaver64@gmail.com>\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}, {'number': 8, 'created': '2018-11-19 16:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ec0640bf2772c45527b45c4cb474afc2d4c28ac8', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create, delete\nor modify a user will fail. Instead of failing, we would like them to\nskip. Proposed is an additional config setting in the auth group\ncalled immutable_user_source that is defaulted to false.\n\nTo handle this on a test by test basis and avoid modifying behavior\nthat depends on the identity base class, we propose using a\ntesttools decorator to skip tests based on the new config setting.\n\nOne test class so far has been adjusted to use the decorator, and if\nthe config setting is set to true, the tests will skip accordingly.\n\nCo-Authored-By: Michael Beaver <michaelbeaver64@gmail.com>\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}, {'number': 9, 'created': '2018-11-19 20:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0dff01a0788eb4990a85fa67d7fc872703093b19', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create, delete\nor modify a user will fail. Instead of failing, we would like them to\nskip. Proposed is an additional config setting in the auth group\ncalled immutable_user_source that is defaulted to false.\n\nTo handle this on a test by test basis and avoid modifying behavior\nthat depends on the identity base class, we propose using a\ntesttools decorator to skip tests based on the new config setting.\n\nOne test class so far has been adjusted to use the decorator, and if\nthe config setting is set to true, the tests will skip accordingly.\n\nCo-Authored-By: Michael Beaver <michaelbeaver64@gmail.com>\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}, {'number': 10, 'created': '2018-11-20 16:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/044633195c6c0cb307818202c3f2953d288e8291', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create, delete\nor modify a user will fail. Instead of failing, we would like them to\nskip. Proposed is an additional config setting in the auth group\ncalled immutable_user_source that is defaulted to false.\n\nTo handle this on a test by test basis and avoid modifying behavior\nthat depends on the identity base class, we propose using a\ntesttools decorator to skip tests based on the new config setting.\n\nOne test class so far has been adjusted to use the decorator, and if\nthe config setting is set to true, the tests will skip accordingly.\n\nCo-Authored-By: Michael Beaver <michaelbeaver64@gmail.com>\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}, {'number': 11, 'created': '2018-11-20 16:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e207d77e68b7b65fb5d3d80a1605f23234b168e2', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create, delete\nor modify a user will fail. Instead of failing, we would like them to\nskip. Proposed is an additional config setting in the auth group\ncalled immutable_user_source that is defaulted to false.\n\nTo handle this on a test by test basis and avoid modifying behavior\nthat depends on the identity base class, we propose using a\ntesttools decorator to skip tests based on the new config setting.\n\nOne test class so far has been adjusted to use the decorator, and if\nthe config setting is set to true, the tests will skip accordingly.\n\nCo-Authored-By: Michael Beaver <michaelbeaver64@gmail.com>\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}, {'number': 12, 'created': '2018-11-21 11:09:07.000000000', 'files': ['tempest/api/identity/admin/v3/test_users.py', 'releasenotes/notes/add-immutable-user-source-support-dd17772a997075e0.yaml', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a0710668324415497b3ae1b3968156333cc58644', 'message': 'Support immutable user source\n\nIf the keystone user source is immutable, such as an LDAP active\ndirectory implementation, tempest tests that try to create, delete\nor modify a user will fail. Instead of failing, we would like them to\nskip. Proposed is an additional config setting in the auth group\ncalled immutable_user_source that is defaulted to false.\n\nTo handle this on a test by test basis and avoid modifying behavior\nthat depends on the identity base class, we propose using a\ntesttools decorator to skip tests based on the new config setting.\n\nOne test class so far has been adjusted to use the decorator, and if\nthe config setting is set to true, the tests will skip accordingly.\n\nCo-Authored-By: Michael Beaver <michaelbeaver64@gmail.com>\nPartial-Bug: 1777047\nChange-Id: Idc09d6272386f026a899787c2151745916a7228d\n'}]",47,585536,a0710668324415497b3ae1b3968156333cc58644,144,23,12,26198,,,0,"Support immutable user source

If the keystone user source is immutable, such as an LDAP active
directory implementation, tempest tests that try to create, delete
or modify a user will fail. Instead of failing, we would like them to
skip. Proposed is an additional config setting in the auth group
called immutable_user_source that is defaulted to false.

To handle this on a test by test basis and avoid modifying behavior
that depends on the identity base class, we propose using a
testtools decorator to skip tests based on the new config setting.

One test class so far has been adjusted to use the decorator, and if
the config setting is set to true, the tests will skip accordingly.

Co-Authored-By: Michael Beaver <michaelbeaver64@gmail.com>
Partial-Bug: 1777047
Change-Id: Idc09d6272386f026a899787c2151745916a7228d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/36/585536/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/identity/admin/v3/test_users.py', 'tempest/config.py', 'tempest/api/identity/base.py']",3,10beca7508911d7fcff262a71e7b93fe91d93985,bug/1777047, if CONF.identity_feature_enabled.immutable_user_source: raise self.skipException('Environment has an immutable user ' 'source and does not support creating ' 'users.'),,20,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~Id043105b663222ec217c300ed398ab2898684d92,openstack/puppet-tripleo,stable/queens,Id043105b663222ec217c300ed398ab2898684d92,Add manifest for networking_ansible ML2 plugin,MERGED,2018-11-30 12:17:22.000000000,2018-12-06 23:11:00.000000000,2018-12-06 23:10:59.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 5792}, {'_account_id': 8833}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-30 12:17:22.000000000', 'files': ['releasenotes/notes/networking-ansible-741fd4a6c8374db8.yaml', 'manifests/profile/base/neutron/plugins/ml2.pp', 'manifests/profile/base/neutron/plugins/ml2/networking_ansible.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/14ac44539443f8b90b6da86f1ea27bd8eee925b4', 'message': 'Add manifest for networking_ansible ML2 plugin\n\n(cherry picked from commit 389870dd166b1de9859676832ad7fdc3d37d2664)\nDepends-On: https://review.openstack.org/620672\nChange-Id: Id043105b663222ec217c300ed398ab2898684d92\n'}]",0,621149,14ac44539443f8b90b6da86f1ea27bd8eee925b4,11,8,1,5792,,,0,"Add manifest for networking_ansible ML2 plugin

(cherry picked from commit 389870dd166b1de9859676832ad7fdc3d37d2664)
Depends-On: https://review.openstack.org/620672
Change-Id: Id043105b663222ec217c300ed398ab2898684d92
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/49/621149/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/networking-ansible-741fd4a6c8374db8.yaml', 'manifests/profile/base/neutron/plugins/ml2.pp', 'manifests/profile/base/neutron/plugins/ml2/networking_ansible.pp']",3,14ac44539443f8b90b6da86f1ea27bd8eee925b4,networking-ansible,"# Copyright 2018 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class:tripleo::profile::base::neutron::plugins::ml2::networking_ansible # # Neutron networking-ansible ML2 plugin profile for tripleo # # === Parameters # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::neutron::plugins::ml2::networking_ansible( $step = Integer(hiera('step')) ) { include ::tripleo::profile::base::neutron if $step >= 4 { include ::neutron::plugins::ml2::networking_ansible } } ",,42,0
openstack%2Ftripleo-common~master~Id7e0c7df7b63645058b8ecb1efcae186678fcb7c,openstack/tripleo-common,master,Id7e0c7df7b63645058b8ecb1efcae186678fcb7c,Don't upcall run on UpdateParametersAction errors,MERGED,2018-11-27 14:08:14.000000000,2018-12-06 23:10:59.000000000,2018-12-06 23:10:59.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7509}, {'_account_id': 15895}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-11-27 14:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/27422d924ddb1981163761eca285c323a2292c76', 'message': ""Don't update run UpdateParametersAction errors\n\nWhen template validation fails, we don't need to call\nProcessTemplatesAction.run all over again, we can just call\n_process_custom_roles which will take care of regenerating the env\nproperly.\n\nChange-Id: Id7e0c7df7b63645058b8ecb1efcae186678fcb7c\nCloses-Bug: #1805439\n""}, {'number': 2, 'created': '2018-11-27 17:46:53.000000000', 'files': ['tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8bfa3517a45dded6faac0a6a856cf932d2982360', 'message': ""Don't upcall run on UpdateParametersAction errors\n\nWhen template validation fails, we don't need to call\nProcessTemplatesAction.run all over again, we can just call\n_process_custom_roles which will take care of regenerating the env\nproperly.\n\nChange-Id: Id7e0c7df7b63645058b8ecb1efcae186678fcb7c\nCloses-Bug: #1805439\n""}]",0,620319,8bfa3517a45dded6faac0a6a856cf932d2982360,14,7,2,7385,,,0,"Don't upcall run on UpdateParametersAction errors

When template validation fails, we don't need to call
ProcessTemplatesAction.run all over again, we can just call
_process_custom_roles which will take care of regenerating the env
properly.

Change-Id: Id7e0c7df7b63645058b8ecb1efcae186678fcb7c
Closes-Bug: #1805439
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/19/620319/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/parameters.py'],1,27422d924ddb1981163761eca285c323a2292c76,bug/1805439, self._process_custom_roles(context)," env = saved_env processed_data = super(UpdateParametersAction, self).run(context)",1,2
openstack%2Ftripleo-common~master~I0cb84edcd9e46ab1e9b311298d6ce9d2a2b21766,openstack/tripleo-common,master,I0cb84edcd9e46ab1e9b311298d6ce9d2a2b21766,Stops growth of massive dentry cache growth,MERGED,2018-11-28 16:22:54.000000000,2018-12-06 23:10:58.000000000,2018-12-06 23:10:58.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 16:22:54.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a719804ef29b098fabb91a0b5d98ea09b5f526e9', 'message': 'Stops growth of massive dentry cache growth\n\nChange-Id: I0cb84edcd9e46ab1e9b311298d6ce9d2a2b21766\nCloses-Bug: #1805656\n'}]",0,620649,a719804ef29b098fabb91a0b5d98ea09b5f526e9,7,3,1,28504,,,0,"Stops growth of massive dentry cache growth

Change-Id: I0cb84edcd9e46ab1e9b311298d6ce9d2a2b21766
Closes-Bug: #1805656
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/620649/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,a719804ef29b098fabb91a0b5d98ea09b5f526e9,bug/1805656, export NSS_SDB_USE_CACHE=no,,1,0
openstack%2Fpuppet-tripleo~stable%2Frocky~I6db94513420609a64ac2f2a6238b5eaaea9a7dca,openstack/puppet-tripleo,stable/rocky,I6db94513420609a64ac2f2a6238b5eaaea9a7dca,Set balance to source for openshift_master endpoints,MERGED,2018-12-04 17:38:08.000000000,2018-12-06 23:10:57.000000000,2018-12-06 23:10:57.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-04 17:38:08.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fd933ab366765d3c1e8bc8cb44e380fcfff54892', 'message': 'Set balance to source for openshift_master endpoints\n\nCurrently the haproxy loadbalancer set by TripleO uses balance\nroundrobin. According to this Openshift HA configuration example[1]\nit uses balance source for both the API and the router backends.\nThis way we ensure that all traffic from a user’s session goes to\nthe same node(sticky sessions).\n\n[1] https://blog.openshift.com/keeping-both-of-your-openshift-container-platforms-highly-available-with-keepalived-and-haproxy/\n\nChange-Id: I6db94513420609a64ac2f2a6238b5eaaea9a7dca\n(cherry picked from commit be8210f190e51c560b9cbd40c6cb2e842942f6ce)\n'}]",0,622468,fd933ab366765d3c1e8bc8cb44e380fcfff54892,9,5,1,13039,,,0,"Set balance to source for openshift_master endpoints

Currently the haproxy loadbalancer set by TripleO uses balance
roundrobin. According to this Openshift HA configuration example[1]
it uses balance source for both the API and the router backends.
This way we ensure that all traffic from a user’s session goes to
the same node(sticky sessions).

[1] https://blog.openshift.com/keeping-both-of-your-openshift-container-platforms-highly-available-with-keepalived-and-haproxy/

Change-Id: I6db94513420609a64ac2f2a6238b5eaaea9a7dca
(cherry picked from commit be8210f190e51c560b9cbd40c6cb2e842942f6ce)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/622468/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,fd933ab366765d3c1e8bc8cb44e380fcfff54892,," 'balance' => 'source',"," 'balance' => 'roundrobin',",1,1
openstack%2Ftripleo-ci~master~If392c1ad8fd834e83d787662b1f35b8126cace87,openstack/tripleo-ci,master,If392c1ad8fd834e83d787662b1f35b8126cace87,Adding test_white_regex to allowed overrides,MERGED,2018-11-26 14:01:53.000000000,2018-12-06 23:08:01.000000000,2018-12-06 23:08:01.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-11-26 14:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/177ad0ab18406756f816bee8ff53d412beb319b9', 'message': 'Adding test_white_regex to allowed overrides\n\nThis patch is required to run standalone featureset with full tempest\ntest\n\nChange-Id: If392c1ad8fd834e83d787662b1f35b8126cace87\n'}, {'number': 2, 'created': '2018-11-26 18:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/13b6ad9e3f9aa7adb73a58f6b6b9b123be2990b9', 'message': 'Adding test_white_regex to allowed overrides\n\nThis patch is required to run standalone featureset with full tempest\ntest\n\nChange-Id: If392c1ad8fd834e83d787662b1f35b8126cace87\n'}, {'number': 3, 'created': '2018-12-03 20:23:51.000000000', 'files': ['playbooks/tripleo-ci/run-v3.yaml', 'zuul.d/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c819004b6d066543dfd13b933c6848be39917e49', 'message': 'Adding test_white_regex to allowed overrides\n\nThis patch is required to run standalone featureset with full tempest\ntest\n\nChange-Id: If392c1ad8fd834e83d787662b1f35b8126cace87\n'}]",2,620063,c819004b6d066543dfd13b933c6848be39917e49,59,13,3,8367,,,0,"Adding test_white_regex to allowed overrides

This patch is required to run standalone featureset with full tempest
test

Change-Id: If392c1ad8fd834e83d787662b1f35b8126cace87
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/63/620063/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/run-v3.yaml'],1,177ad0ab18406756f816bee8ff53d412beb319b9,allowed-override, - 'test_white_regex',,1,0
openstack%2Frally-openstack~master~I200d8346fcd72dc18cfae7aa43b981ca5ade2194,openstack/rally-openstack,master,I200d8346fcd72dc18cfae7aa43b981ca5ade2194,"Change ""%s:::1"" to ""%s:::0"" in block_device_mapping",MERGED,2018-12-03 09:21:57.000000000,2018-12-06 22:58:13.000000000,2018-12-06 22:58:12.000000000,"[{'_account_id': 1736}, {'_account_id': 9545}, {'_account_id': 21897}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-03 09:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/2d514a6c77e0a18d1b7b3def7c09d9026bb10625', 'message': 'Change ""%s:::1"" to ""%s:::0"" in block_device_mapping\n\nIf block_device_mapping = {""vda"": ""%s:::1"" % volume.id},when user\nwant to delete server,it will delete both vm and volume.\nIf that,the time of nova.delete_server is not exactly,because it\nspend some time to delete volume.\n\nChange-Id: I200d8346fcd72dc18cfae7aa43b981ca5ade2194\n'}, {'number': 2, 'created': '2018-12-03 10:44:45.000000000', 'files': ['tests/unit/scenarios/nova/test_servers.py', 'rally_openstack/scenarios/nova/servers.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0fa9179ccc68fde67bbcde5e39aa91ea74ea3a9e', 'message': 'Change ""%s:::1"" to ""%s:::0"" in block_device_mapping\n\nIf block_device_mapping = {""vda"": ""%s:::1"" % volume.id},when user\nwant to delete server,it will delete both vm and volume.\nIf that,the time of nova.delete_server is not exactly,because it\nspend some time to delete volume.\n\nChange-Id: I200d8346fcd72dc18cfae7aa43b981ca5ade2194\n'}]",0,621515,0fa9179ccc68fde67bbcde5e39aa91ea74ea3a9e,17,4,2,21897,,,0,"Change ""%s:::1"" to ""%s:::0"" in block_device_mapping

If block_device_mapping = {""vda"": ""%s:::1"" % volume.id},when user
want to delete server,it will delete both vm and volume.
If that,the time of nova.delete_server is not exactly,because it
spend some time to delete volume.

Change-Id: I200d8346fcd72dc18cfae7aa43b981ca5ade2194
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/15/621515/2 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/scenarios/nova/servers.py'],1,2d514a6c77e0a18d1b7b3def7c09d9026bb10625,block_device_mapping," block_device_mapping = {""vda"": ""%s:::0"" % volume.id} block_device_mapping = {""vda"": ""%s:::0"" % volume.id} ""vda"": ""%s:::0"" % volume.id} block_device_mapping = {""vda"": ""%s:::0"" % volume.id}"," block_device_mapping = {""vda"": ""%s:::1"" % volume.id} block_device_mapping = {""vda"": ""%s:::1"" % volume.id} ""vda"": ""%s:::1"" % volume.id} block_device_mapping = {""vda"": ""%s:::1"" % volume.id}",4,4
openstack%2Fironic~master~I2f43796dcdbf39a02000a21121d0aeb91de369d4,openstack/ironic,master,I2f43796dcdbf39a02000a21121d0aeb91de369d4,Add a note regarding IPA multidevice fix,MERGED,2018-08-31 19:26:30.000000000,2018-12-06 22:39:41.000000000,2018-12-06 16:10:04.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 19:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f58a99345f917e29a6fb4e15b6b1599a785c98b9', 'message': 'Add a note regarding IPA multidevice fix\n\nGiven this is a bug fix, but one that addresses a particular\nfrustration point operators have had, it seems worthwhile to\nexplicitly raise this as a note.\n\nDepends-On: Ia4a03b33cc06ce42e1bc33026683c28b31901cb7\nChange-Id: I2f43796dcdbf39a02000a21121d0aeb91de369d4\nStory: #2003445\n'}, {'number': 2, 'created': '2018-11-29 21:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/da9c64dd2d03ccf01d50b0c164b891c1d65b569b', 'message': 'Add a note regarding IPA multidevice fix\n\nGiven this is a bug fix, but one that addresses a particular\nfrustration point operators have had, it seems worthwhile to\nexplicitly raise this as a note.\n\nDepends-On: https://review.openstack.org/#/c/620964/\nChange-Id: I2f43796dcdbf39a02000a21121d0aeb91de369d4\nStory: #2003445\n'}, {'number': 3, 'created': '2018-12-06 14:11:16.000000000', 'files': ['releasenotes/notes/ironic-python-agent-multidevice-fix-3daa0760696b46b7.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ba41f6ffcfddefb430f2bf82581b2290f8035e1', 'message': 'Add a note regarding IPA multidevice fix\n\nGiven this is a bug fix, but one that addresses a particular\nfrustration point operators have had, it seems worthwhile to\nexplicitly raise this as a note.\n\nDepends-On: https://review.openstack.org/#/c/620964/\nChange-Id: I2f43796dcdbf39a02000a21121d0aeb91de369d4\nStory: #2003445\n'}]",3,599056,1ba41f6ffcfddefb430f2bf82581b2290f8035e1,24,7,3,11655,,,0,"Add a note regarding IPA multidevice fix

Given this is a bug fix, but one that addresses a particular
frustration point operators have had, it seems worthwhile to
explicitly raise this as a note.

Depends-On: https://review.openstack.org/#/c/620964/
Change-Id: I2f43796dcdbf39a02000a21121d0aeb91de369d4
Story: #2003445
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/599056/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ironic-python-agent-multidevice-fix-3daa0760696b46b7.yaml'],1,f58a99345f917e29a6fb4e15b6b1599a785c98b9,599056,"--- fixes: - | During the stein development cycle, the `ironic-python-agent <https://git.openstack.org/cgit/openstack/ironic-python-agent>`_ component recieved a fix that allows multi-device objects to be selected as a root disk to be written to. These MAY be created automatically in the case of some ATARAID controllers with pre-existing configuration, or via the actions of a custom hardware manager. Operators who require this functionality are encouraged to ensure that their deployment ramdisks are up to date. See `story 2003445 <https://storyboard.openstack.org/#!/story/2003445>`_ for more information. ",,12,0
openstack%2Foperations-guide~master~I4b2af19a62af260a02eb7b48e750da69418ad1c9,openstack/operations-guide,master,I4b2af19a62af260a02eb7b48e750da69418ad1c9,Add translated docs building,MERGED,2018-11-24 16:46:37.000000000,2018-12-06 22:38:52.000000000,2018-12-06 22:38:52.000000000,"[{'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-24 16:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/872001644965817ed1080c38b6c23a7b60ccc2da', 'message': 'DNM: Test translated docs building\n\nTest the new scripts for building translated docs.\n\nDo no merge this yet - once the dependency is in and a new release of\nopenstackdocstheme is done, we can remove the change to .zuul.yaml\nand update commit message and use this.\n\nDepends-On: https://review.openstack.org/619901\nChange-Id: I4b2af19a62af260a02eb7b48e750da69418ad1c9\n'}, {'number': 2, 'created': '2018-11-24 16:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/697c7e1c696525a6e46524d2b668caebff1bf7db', 'message': 'DNM: Test translated docs building\n\nTest the new scripts for building translated docs.\n\nDo no merge this yet - once the dependency is in and a new release of\nopenstackdocstheme is done, we can remove the change to .zuul.yaml\nand update commit message and use this.\n\nDepends-On: https://review.openstack.org/619901\nChange-Id: I4b2af19a62af260a02eb7b48e750da69418ad1c9\n'}, {'number': 3, 'created': '2018-11-24 17:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/e2da6c77cb1ba9cb0f7c14e4f3fc1a7ea9db65c8', 'message': 'DNM: Test translated docs building\n\nTest the new scripts for building translated docs.\n\nDo no merge this yet - once the dependency is in and a new release of\nopenstackdocstheme is done, we can remove the change to .zuul.yaml\nand update commit message and use this.\n\nDNM changes to really test:\n- Add setup.cfg so that tox-siblings works\n- Add dependency to job so that tox-siblings work\n\nDepends-On: https://review.openstack.org/619901\nChange-Id: I4b2af19a62af260a02eb7b48e750da69418ad1c9\n'}, {'number': 4, 'created': '2018-11-27 12:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/d57e6c70ea1b0ec5645bd8db6ce97ebf1765fd00', 'message': 'DNM: Test translated docs building\n\nTest the new scripts for building translated docs.\n\nDo no merge this yet - once the dependency is in and a new release of\nopenstackdocstheme is done, we can remove the change to .zuul.yaml\nand update commit message and use this.\n\nDNM changes to really test:\n- Add setup.cfg so that tox-siblings works\n- Add dependency to job so that tox-siblings work\n\nDepends-On: https://review.openstack.org/619901\nChange-Id: I4b2af19a62af260a02eb7b48e750da69418ad1c9\n'}, {'number': 5, 'created': '2018-12-06 21:04:54.000000000', 'files': ['doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/594827f115b843ad9f0fc14ef5f0049f44bfcc76', 'message': 'Add translated docs building\n\nopenstackdocstheme 1.28.0 contains a script to allow building\nof English and translated documents, use this to publish our documents.\n\nAdd setup.cfg, this is needed by the openstackdocstheme.\n\nChange-Id: I4b2af19a62af260a02eb7b48e750da69418ad1c9\n'}]",1,619902,594827f115b843ad9f0fc14ef5f0049f44bfcc76,19,4,5,6547,,,0,"Add translated docs building

openstackdocstheme 1.28.0 contains a script to allow building
of English and translated documents, use this to publish our documents.

Add setup.cfg, this is needed by the openstackdocstheme.

Change-Id: I4b2af19a62af260a02eb7b48e750da69418ad1c9
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/02/619902/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,872001644965817ed1080c38b6c23a7b60ccc2da,translations, docstheme-build-translated.sh, sphinx-build -E -W -b html doc/source doc/build/html,6,1
openstack%2Fproject-config~master~Idd7804778a141d38da38b739294c6c6a62016053,openstack/project-config,master,Idd7804778a141d38da38b739294c6c6a62016053,Halve bhs1 max-servers value,MERGED,2018-12-06 22:06:18.000000000,2018-12-06 22:30:20.000000000,2018-12-06 22:30:20.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 22:06:18.000000000', 'files': ['nodepool/nl04.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a5088837e21ddce3f35bcf74c9e00af71558f6be', 'message': ""Halve bhs1 max-servers value\n\nWe are debugging slow nodes in bhs1. Looking at dstat data we clearly\nhave some jobs that end up spending a lot of cpu time in sys and wai\ncolumns while other similar jobs do not.\n\nOne thought was that this is due to an unhappy hypervisor or two, but\namorin has dug in and found that these slow jobs run on multiple unique\nhypervisors implying that isn't likely.\n\nMy next thought is that we are our own noisy neighbors. Reducing the\nmax-servers should improve things if we are indeed our own noisy\nneighbors.\n\nChange-Id: Idd7804778a141d38da38b739294c6c6a62016053\n""}]",0,623338,a5088837e21ddce3f35bcf74c9e00af71558f6be,7,3,1,4146,,,0,"Halve bhs1 max-servers value

We are debugging slow nodes in bhs1. Looking at dstat data we clearly
have some jobs that end up spending a lot of cpu time in sys and wai
columns while other similar jobs do not.

One thought was that this is due to an unhappy hypervisor or two, but
amorin has dug in and found that these slow jobs run on multiple unique
hypervisors implying that isn't likely.

My next thought is that we are our own noisy neighbors. Reducing the
max-servers should improve things if we are indeed our own noisy
neighbors.

Change-Id: Idd7804778a141d38da38b739294c6c6a62016053
",git fetch https://review.opendev.org/openstack/project-config refs/changes/38/623338/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl04.openstack.org.yaml'],1,a5088837e21ddce3f35bcf74c9e00af71558f6be,halve-bhs1, max-servers: 75, max-servers: 150,1,1
openstack%2Ftripleo-heat-templates~master~I5b82d77cbf0f2e8c2a59645a72aa533d7d2c86b8,openstack/tripleo-heat-templates,master,I5b82d77cbf0f2e8c2a59645a72aa533d7d2c86b8,Specify multiple NtpServers by default,MERGED,2018-12-04 03:22:06.000000000,2018-12-06 22:14:21.000000000,2018-12-06 22:14:21.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29068}]","[{'number': 1, 'created': '2018-12-04 03:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/271c0374be9c08bc433140306071ae8f691ec1f9', 'message': 'Specify multiple NtpServers by default\n\nThe NtpServer default set now includes multiple pool.ntp.org hosts to\nensure that the time can be properly synced during the deployment.\nHaving only a single timesource can lead to deployment failures if the\ntime source is unavailable during the deployment. It is recommended\nthat you either set multiple NtpServers or use the NtpPool\nconfiguration to ensure that enough time sources are available for the\nhosts. Note that the NtpPool configuration is only available when using\nchrony.\n\nChange-Id: I5b82d77cbf0f2e8c2a59645a72aa533d7d2c86b8\nCloses-Bug: #1806521\n'}, {'number': 2, 'created': '2018-12-04 15:32:00.000000000', 'files': ['environments/standalone/standalone-tripleo.yaml', 'environments/composable-roles/monolithic-nonha.yaml', 'environments/composable-roles/monolithic-ha.yaml', 'puppet/services/time/ntp.yaml', 'deployment/timesync/chrony-ansible.yaml', 'environments/composable-roles/standalone.yaml', 'releasenotes/notes/change-ntp-default-servers-5c4cb51c10ffe60e.yaml', 'environments/standalone/standalone-overcloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90d3723175deca490e53019dfb10c066863fa7cb', 'message': 'Specify multiple NtpServers by default\n\nThe NtpServer default set now includes multiple pool.ntp.org hosts to\nensure that the time can be properly synced during the deployment.\nHaving only a single timesource can lead to deployment failures if the\ntime source is unavailable during the deployment. It is recommended\nthat you either set multiple NtpServers or use the NtpPool\nconfiguration to ensure that enough time sources are available for the\nhosts. Note that the NtpPool configuration is only available when using\nchrony.\n\nChange-Id: I5b82d77cbf0f2e8c2a59645a72aa533d7d2c86b8\nCloses-Bug: #1806521\n'}]",0,621930,90d3723175deca490e53019dfb10c066863fa7cb,21,9,2,14985,,,0,"Specify multiple NtpServers by default

The NtpServer default set now includes multiple pool.ntp.org hosts to
ensure that the time can be properly synced during the deployment.
Having only a single timesource can lead to deployment failures if the
time source is unavailable during the deployment. It is recommended
that you either set multiple NtpServers or use the NtpPool
configuration to ensure that enough time sources are available for the
hosts. Note that the NtpPool configuration is only available when using
chrony.

Change-Id: I5b82d77cbf0f2e8c2a59645a72aa533d7d2c86b8
Closes-Bug: #1806521
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/621930/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/time/ntp.yaml', 'deployment/timesync/chrony-ansible.yaml', 'releasenotes/notes/change-ntp-default-servers-5c4cb51c10ffe60e.yaml']",3,271c0374be9c08bc433140306071ae8f691ec1f9,bug/1806521,--- fixes: - | The NtpServer default set now includes multiple pool.ntp.org hosts to ensure that the time can be properly synced during the deployment. Having only a single timesource can lead to deployment failures if the time source is unavailable during the deployment. It is recommended that you either set multiple NtpServers or use the NtpPool configuration to ensure that enough time sources are available for the hosts. Note that the NtpPool configuration is only available when using chrony. See LP#1806521 ,,16,6
openstack%2Fpuppet-tripleo~master~Ibacc703bbbc711b4bab837f9897826864bb84dc7,openstack/puppet-tripleo,master,Ibacc703bbbc711b4bab837f9897826864bb84dc7,Increase websocket timeout,MERGED,2018-11-29 13:34:47.000000000,2018-12-06 22:14:21.000000000,2018-12-06 15:05:44.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 13:34:47.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/abf98e1a9928660de8f6f49f50ae11c4b1d433e7', 'message': 'Increase websocket timeout\n\nWe can get into situation where the timeout is reached after 1h whereas\nwe still wait for messages.\n\nChange-Id: Ibacc703bbbc711b4bab837f9897826864bb84dc7\nRelated-Bug: #1805649\n'}]",0,620912,abf98e1a9928660de8f6f49f50ae11c4b1d433e7,9,3,1,7385,,,0,"Increase websocket timeout

We can get into situation where the timeout is reached after 1h whereas
we still wait for messages.

Change-Id: Ibacc703bbbc711b4bab837f9897826864bb84dc7
Related-Bug: #1805649
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/12/620912/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,abf98e1a9928660de8f6f49f50ae11c4b1d433e7,bug/1805649," 'timeout' => ['connect 5s', 'client 25s', 'server 25s', 'tunnel 14400s'],"," 'timeout' => ['connect 5s', 'client 25s', 'server 25s', 'tunnel 3600s'],",1,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Fqueens~Ifd308186753de654da8f9f076ee93033028c267e,openstack/openstack-ansible-os_neutron,stable/queens,Ifd308186753de654da8f9f076ee93033028c267e,Fix linuxbridge agent extensions,MERGED,2018-11-26 13:52:28.000000000,2018-12-06 22:05:47.000000000,2018-12-06 22:05:47.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24132}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-11-26 13:52:28.000000000', 'files': ['templates/plugins/ml2/linuxbridge_agent.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b5cdd6f66940aab81fd8eb0d25c1b0a76edee007', 'message': 'Fix linuxbridge agent extensions\n\nExtensions list was always empty, as jinja append is actually\na method, which requires ""()"" to be used instead of ""[]""\n\nChange-Id: Ifd308186753de654da8f9f076ee93033028c267e\n(cherry picked from commit 4aa2a095465e275b85b73cbf5ed7741ec52bd700)\n'}]",0,620058,b5cdd6f66940aab81fd8eb0d25c1b0a76edee007,66,5,1,28619,,,0,"Fix linuxbridge agent extensions

Extensions list was always empty, as jinja append is actually
a method, which requires ""()"" to be used instead of ""[]""

Change-Id: Ifd308186753de654da8f9f076ee93033028c267e
(cherry picked from commit 4aa2a095465e275b85b73cbf5ed7741ec52bd700)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/58/620058/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/plugins/ml2/linuxbridge_agent.ini.j2'],1,b5cdd6f66940aab81fd8eb0d25c1b0a76edee007,,{% set _ = _extensions.append('fdb') %}{% set _ = _extensions.append('qos') %},{% set _ = _extensions.append['fdb'] %}{% set _ = _extensions.append['qos'] %},2,2
openstack%2Fcharm-ceilometer~master~Id6fea2f6805e59d976f44a2318ddac7c7bd95e78,openstack/charm-ceilometer,master,Id6fea2f6805e59d976f44a2318ddac7c7bd95e78,Clarify ceilometer-upgrade action description,MERGED,2018-12-06 20:39:50.000000000,2018-12-06 21:54:23.000000000,2018-12-06 21:54:22.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 20:39:50.000000000', 'files': ['actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/980c6de3c7ae3ccc91fbc346e3229e50e113f245', 'message': 'Clarify ceilometer-upgrade action description\n\nChange-Id: Id6fea2f6805e59d976f44a2318ddac7c7bd95e78\n'}]",0,623310,980c6de3c7ae3ccc91fbc346e3229e50e113f245,8,3,1,20635,,,0,"Clarify ceilometer-upgrade action description

Change-Id: Id6fea2f6805e59d976f44a2318ddac7c7bd95e78
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/10/623310/1 && git format-patch -1 --stdout FETCH_HEAD,['actions.yaml'],1,980c6de3c7ae3ccc91fbc346e3229e50e113f245,bug/1794880," Perform ceilometer-upgrade. This action will update Ceilometer data store configuration. *Note* Existing mongodb data is not migrated to gnocchi. This action must be run post deployment when ceilometer is related to gnocchi. If there are multiple clustered ceilometer units, the action should only be run on one unit.", Perform ceilometer-upgrade. This action will upgrade Ceilometer data stores. *Note* This action must be run post deployment when ceilometer is related to gnocchi.,4,2
openstack%2Fself-healing-sig~master~I5681d957232125c2f21a4d0fb6e9d467123f18e1,openstack/self-healing-sig,master,I5681d957232125c2f21a4d0fb6e9d467123f18e1,improve CONTRIBUTING.rst to explain how/when to propose stories/specs,MERGED,2018-11-27 23:49:20.000000000,2018-12-06 21:50:57.000000000,2018-12-06 21:50:57.000000000,"[{'_account_id': 2394}, {'_account_id': 6547}, {'_account_id': 12404}, {'_account_id': 15834}, {'_account_id': 16222}, {'_account_id': 16708}, {'_account_id': 18591}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-11-27 23:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/self-healing-sig/commit/0695ddc1c743ae18111e660ce4dd903237a0498c', 'message': 'improve CONTRIBUTING.rst to explain how/when to propose stories/specs\n\nExpanding on the contributor guide, as discussed in the 11/21 IRC meeting.\n\nhttp://eavesdrop.openstack.org/meetings/self_healing/2018/self_healing.2018-11-21-09.02.txt\n\nChange-Id: I5681d957232125c2f21a4d0fb6e9d467123f18e1\n'}, {'number': 2, 'created': '2018-12-05 22:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/self-healing-sig/commit/de0914743bd55806a362f524625812bd9aec72d0', 'message': 'improve CONTRIBUTING.rst to explain how/when to propose stories/specs\n\nExpanding on the contributor guide, as discussed in the 11/21 IRC meeting.\n\nhttp://eavesdrop.openstack.org/meetings/self_healing/2018/self_healing.2018-11-21-09.02.txt\n\nChange-Id: I5681d957232125c2f21a4d0fb6e9d467123f18e1\n'}, {'number': 3, 'created': '2018-12-06 16:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/self-healing-sig/commit/73af2a28482ff889d57c27bd56728ccebd41d8c9', 'message': 'improve CONTRIBUTING.rst to explain how/when to propose stories/specs\n\nExpanding on the contributor guide, as discussed in the 11/21 IRC meeting.\n\nhttp://eavesdrop.openstack.org/meetings/self_healing/2018/self_healing.2018-11-21-09.02.txt\n\nStory: 2004536\nTask: 28280\n\nChange-Id: I5681d957232125c2f21a4d0fb6e9d467123f18e1\n'}, {'number': 4, 'created': '2018-12-06 19:06:53.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/self-healing-sig/commit/4f9862e4d6684bf2e1a0b6a663f38bc602933217', 'message': 'improve CONTRIBUTING.rst to explain how/when to propose stories/specs\n\nExpanding on the contributor guide, as discussed in the 11/21 IRC meeting.\n\nhttp://eavesdrop.openstack.org/meetings/self_healing/2018/self_healing.2018-11-21-09.02.txt\n\nStory: 2004536\nTask: 28280\n\nChange-Id: I5681d957232125c2f21a4d0fb6e9d467123f18e1\n'}]",18,620424,4f9862e4d6684bf2e1a0b6a663f38bc602933217,25,10,4,18591,,,0,"improve CONTRIBUTING.rst to explain how/when to propose stories/specs

Expanding on the contributor guide, as discussed in the 11/21 IRC meeting.

http://eavesdrop.openstack.org/meetings/self_healing/2018/self_healing.2018-11-21-09.02.txt

Story: 2004536
Task: 28280

Change-Id: I5681d957232125c2f21a4d0fb6e9d467123f18e1
",git fetch https://review.opendev.org/openstack/self-healing-sig refs/changes/24/620424/3 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,0695ddc1c743ae18111e660ce4dd903237a0498c,620424,"first see the following wiki for background and pointers.Many forms of contribution are valuable to the community, including but not limited to the following. - `Desired use cases`_ - `Implemented use cases`_ documentation - `Design specs`_ - `Code`_ - `Discussions`_ on all the above Desired use cases ----------------- To call attention to a desired use case, please start the discussion on the mailing list, the SIG IRC channel, or the SIG storyboard. Links to all these resources can be found in the `SIG wiki section on community`_. .. _`SIG wiki section on community`: https://wiki.openstack.org/wiki/Self-healing_SIG#Community_Infrastructure_.2F_Resources Implemented use cases --------------------- Implemented use cases can be documented in the `use-cases <https://github.com/openstack/self-healing-sig/tree/master/use-cases>`_ directory of this repository. See `Submitting a change`_ to this repository. Design specs ------------ Design specs for how to implement a self-healing functionality can be documented in the `specs <https://github.com/openstack/self-healing-sig/tree/master/specs>`_ directory of this repository. See `Submitting a change`_ to this repository. Code ---- Actual implementation code would generally reside in each respective project repository rather than in this SIG repository. Discussions ----------- Discussions take place on the mailing list, the SIG IRC channel, the SIG storyboard, and in patch reviews. Links to all these resources can be found in the `SIG wiki section on community`_. Submitting a change ------------------- To submit a change to this repository, please follow the steps in this page:","first see:Contributions to the use-cases and specifications in this repository are very welcome. To contribute to this repository, you must follow the steps in this page:",53,4
openstack%2Fpaunch~master~Ic911238f34482fc9d8e10334060adc729c18d038,openstack/paunch,master,Ic911238f34482fc9d8e10334060adc729c18d038,Move execute() into utils_common,ABANDONED,2018-12-06 19:47:05.000000000,2018-12-06 21:20:19.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2018-12-06 19:47:05.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/utils/common.py', 'paunch/runner.py', 'paunch/tests/test_utils_common.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/dd816d1679227c42404286b62ec6764e329229e0', 'message': 'Move execute() into utils_common\n\n... so we can re-use it elsewhere in paunch without importing the whole\nrunner.\n\nChange-Id: Ic911238f34482fc9d8e10334060adc729c18d038\n'}]",0,623298,dd816d1679227c42404286b62ec6764e329229e0,3,1,1,3153,,,0,"Move execute() into utils_common

... so we can re-use it elsewhere in paunch without importing the whole
runner.

Change-Id: Ic911238f34482fc9d8e10334060adc729c18d038
",git fetch https://review.opendev.org/openstack/paunch refs/changes/98/623298/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_runner.py', 'paunch/utils/common.py', 'paunch/runner.py', 'paunch/tests/test_utils_common.py']",4,dd816d1679227c42404286b62ec6764e329229e0,check_retcode_on_systemd_exit,"# Copyright 2018 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import os import tempfile from paunch.tests import base from paunch.utils import common class TestUtilsCommon(base.TestCase): def mock_execute(self, popen, stdout, stderr, returncode): subproc = mock.Mock() subproc.returncode = returncode subproc.communicate.return_value = (stdout.encode('utf-8'), stderr.encode('utf-8')) popen.return_value = subproc def assert_execute(self, popen, cmd): popen.assert_called_with(cmd, stderr=-1, stdout=-1) @mock.patch('subprocess.Popen') def test_execute(self, popen): self.mock_execute(popen, 'The stdout', 'The stderr', 0) self.assertEqual( ('The stdout', 'The stderr', 0), self.common.execute(['ls', '-l']) ) self.assert_execute(popen, ['ls', '-l']) ",,75,44
openstack%2Fopenstack-helm-infra~master~I74a965a5397101793cae71228a6a5bd442bf9f5a,openstack/openstack-helm-infra,master,I74a965a5397101793cae71228a6a5bd442bf9f5a,Add Nagios Elasticsearch Query Command,MERGED,2018-11-19 18:40:26.000000000,2018-12-06 20:50:28.000000000,2018-12-06 20:50:28.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 20469}, {'_account_id': 22348}, {'_account_id': 26201}, {'_account_id': 28622}]","[{'number': 1, 'created': '2018-11-19 18:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bdc5aa6623b9454ab32924bc637471082a6403e1', 'message': 'Add Nagios Elasticsearch Query Command\n\nChange-Id: I74a965a5397101793cae71228a6a5bd442bf9f5a\n'}, {'number': 2, 'created': '2018-11-19 23:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/66e2fe07c714310df4f2df0e7640dd8fe08a8877', 'message': 'Add Nagios Elasticsearch Query Command\n\nChange-Id: I74a965a5397101793cae71228a6a5bd442bf9f5a\n'}, {'number': 3, 'created': '2018-11-20 02:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/29a215d49d21197da8c16438ed06884af65fc63f', 'message': 'Add Nagios Elasticsearch Query Command\n\nChange-Id: I74a965a5397101793cae71228a6a5bd442bf9f5a\n'}, {'number': 4, 'created': '2018-11-20 06:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/39a0dbdc6ce9c4666a54616be18f72ecd3774ddb', 'message': 'Add Nagios Elasticsearch Query Command\n\nChange-Id: I74a965a5397101793cae71228a6a5bd442bf9f5a\n'}, {'number': 5, 'created': '2018-11-26 20:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04dbfd1fde82ef29f25dfe8aaeab4fc0bcf28a15', 'message': 'Add Nagios Elasticsearch Query Command\n\nChange-Id: I74a965a5397101793cae71228a6a5bd442bf9f5a\n'}, {'number': 6, 'created': '2018-11-28 23:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e303270e2a7d4869b69cdcf4a1b79492d34a9367', 'message': 'Add Nagios Elasticsearch Query Command\n\nChange-Id: I74a965a5397101793cae71228a6a5bd442bf9f5a\n'}, {'number': 7, 'created': '2018-11-28 23:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3245b5c88a0c6012947c5b2c34585249648ec981', 'message': 'Add Nagios Elasticsearch Query Command\n\nChange-Id: I74a965a5397101793cae71228a6a5bd442bf9f5a\n'}, {'number': 8, 'created': '2018-12-03 14:10:06.000000000', 'files': ['nagios/templates/deployment.yaml', 'nagios/templates/configmap-etc.yaml', 'nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd05126309911cd00f63b1c45e82ff9ee23df326', 'message': 'Add Nagios Elasticsearch Query Command\n\nChange-Id: I74a965a5397101793cae71228a6a5bd442bf9f5a\n'}]",4,618797,bd05126309911cd00f63b1c45e82ff9ee23df326,23,9,8,27995,,,0,"Add Nagios Elasticsearch Query Command

Change-Id: I74a965a5397101793cae71228a6a5bd442bf9f5a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/618797/8 && git format-patch -1 --stdout FETCH_HEAD,['nagios/values.yaml'],1,bdc5aa6623b9454ab32924bc637471082a6403e1,, - check_es_query: command_name: check_es_query command_line: $USER1$/query_elasticsearch.py $USER9$ '$ARG1$' '$ARG2$' '$ARG3$' '$ARG4$' '$ARG5$' --simple_query '$ARG6$' --simple_query_fields '$ARG7$' --match '$ARG8$' --range '$ARG9$' - check_es_query_w_file: command_name: check_es_query_w_file command_line: $USER1$/query_elasticsearch.py $USER9$ '$ARG1$' '$ARG2$' '$ARG3$' '$ARG4$' '$ARG5$' --simple_query '$ARG6$' --simple_query_fields '$ARG7$' --query_file '/opt/nagios/etc/objects/$ARG8$' --match '$ARG9$' --range '$ARG10$'," - check_es_alert: command_name: check_es_alert command_line: ""$USER1$/check_elasticsearch_query.py --es_url $USER9$ --logger '$ARG1$' --range_mins '$ARG2$' --alert_level '$ARG3$' --critical '$ARG4$' --es_type '$ARG5$'""",6,3
openstack%2Fopenstack-helm-addons~master~Ibe2abeb48b67056c456154e5c270573533ca9a7e,openstack/openstack-helm-addons,master,Ibe2abeb48b67056c456154e5c270573533ca9a7e,Align Artifactory's values.yaml with proposed spec and patterns,MERGED,2018-10-16 16:44:59.000000000,2018-12-06 20:44:13.000000000,2018-12-06 20:44:12.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28701}]","[{'number': 1, 'created': '2018-10-16 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/df1890a1dfc2661e12de7d6ce7ecfe7ffbd81be3', 'message': ""Reorder Artifactory's values.yaml to follow spec\n\nThe values.yaml functionality is the same, just reordered according\nto the values ordering spec[1].\n\nValues not described in spec[1] or proposed values-template[2] were\nplaced at the end of values.yaml.\n\n[1] https://docs.openstack.org/openstack-helm/latest/specs/values-ordering.html\n[2] https://review.openstack.org/#/c/577234/4/doc/source/devref/values-template.yaml\n\nChange-Id: Ibe2abeb48b67056c456154e5c270573533ca9a7e\n""}, {'number': 2, 'created': '2018-10-19 17:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/0dfbd081d7f3adb25edeb97eae2da3de7a3aff59', 'message': ""Reorder Artifactory's values.yaml to follow spec\n\nValues not described in spec[1] or proposed values-template[2] were\nplaced at the end of values.yaml.\n\nBREAKING CHANGES:\n\n1. Removed `chown_on_start`\n2. Removed `release_group`\n3. Removed `storage`\n4. Moved `volume.size` to `storage.requests.storage`\n5. Moved `volume.class_name` to `sotrage.storage_class`\n\n[1] https://docs.openstack.org/openstack-helm/latest/specs/values-ordering.html\n[2] https://review.openstack.org/#/c/577234/4/doc/source/devref/values-template.yaml\n\nChange-Id: Ibe2abeb48b67056c456154e5c270573533ca9a7e\n""}, {'number': 3, 'created': '2018-10-22 14:56:39.000000000', 'files': ['artifactory/templates/statefulset.yaml', 'artifactory/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/466953998e754390f1bd6736d0ca4217fd48b733', 'message': ""Align Artifactory's values.yaml with proposed spec and patterns\n\nUse LOCI Heat Images.\n\nValues not described in spec[1] or proposed values-template[2] were\nplaced at the end of values.yaml.\n\nBREAKING CHANGES:\n\n1. Removed `chown_on_start`\n2. Removed `release_group`\n3. Removed `storage`\n4. Moved `volume.size` to `storage.requests.storage`\n5. Moved `volume.class_name` to `storage.storage_class`\n\n[1] https://docs.openstack.org/openstack-helm/latest/specs/values-ordering.html\n[2] https://review.openstack.org/#/c/577234/4/doc/source/devref/values-template.yaml\n\nChange-Id: Ibe2abeb48b67056c456154e5c270573533ca9a7e\n""}]",11,611087,466953998e754390f1bd6736d0ca4217fd48b733,24,8,3,28701,,,0,"Align Artifactory's values.yaml with proposed spec and patterns

Use LOCI Heat Images.

Values not described in spec[1] or proposed values-template[2] were
placed at the end of values.yaml.

BREAKING CHANGES:

1. Removed `chown_on_start`
2. Removed `release_group`
3. Removed `storage`
4. Moved `volume.size` to `storage.requests.storage`
5. Moved `volume.class_name` to `storage.storage_class`

[1] https://docs.openstack.org/openstack-helm/latest/specs/values-ordering.html
[2] https://review.openstack.org/#/c/577234/4/doc/source/devref/values-template.yaml

Change-Id: Ibe2abeb48b67056c456154e5c270573533ca9a7e
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/87/611087/2 && git format-patch -1 --stdout FETCH_HEAD,['artifactory/values.yaml'],1,df1890a1dfc2661e12de7d6ce7ecfe7ffbd81be3,, db_drop: docker.io/kolla/ubuntu-source-heat-engine:3.0.3 db_init: docker.io/kolla/ubuntu-source-heat-engine:3.0.3 dep_check: quay.io/stackanetes/kubernetes-entrypoint:v0.2.1labels: job: node_selector_key: openstack-control-plane node_selector_value: enabled server: node_selector_key: openstack-control-plane node_selector_value: enabled server: services: - endpoint: internal service: oslo_cache - endpoint: internal service: oslo_db lifecycle: upgrades: deployments: revision_history: 1 pod_replacement_strategy: RollingUpdate rolling_update: max_unavailable: 1 max_surge: 1 cicd: name: artifactory hosts: default: artifactory # bootstrap/seed artifactory configuration bootstrap: master_key: null network: node_ports: enabled: false http: port: 8081 node_port: 31672 docker: port: 5050 node_port: 31777 secure: port: 5052 node_port: 31776 manifests: configmap_bin: true configmap_etc: true job_db_drop: false job_db_init: true job_image_repo_sync: true pvc_artifactory: true secret_db: true secret_db_creds: true service: true statefulset: truechown_on_start: true release_group: null storage: pvc volume: size: 100Gi class_name: general,# Default values for artifactory. # This is a YAML-formatted file. # Declare name/value pairs to be passed into your templates. # name: value labels: server: node_selector_key: openstack-control-plane node_selector_value: enabled job: node_selector_key: openstack-control-plane node_selector_value: enabled release_group: null db_init: docker.io/kolla/ubuntu-source-heat-engine:3.0.3 db_drop: docker.io/kolla/ubuntu-source-heat-engine:3.0.3 dep_check: quay.io/stackanetes/kubernetes-entrypoint:v0.2.1network: node_ports: enabled: false http: port: 8081 node_port: 31672 docker: port: 5050 node_port: 31777 secure: port: 5052 node_port: 31776 server: services: - endpoint: internal service: oslo_cache - endpoint: internal service: oslo_db storage: pvc volume: size: 100Gi class_name: general chown_on_start: true lifecycle: upgrades: deployments: pod_replacement_strategy: RollingUpdate revision_history: 1 rolling_update: max_surge: 1 max_unavailable: 1 cicd: name: artifactory hosts: default: artifactorymanifests: configmap_bin: true configmap_etc: true statefulset: true job_image_repo_sync: true job_db_init: true job_db_drop: false secret_db: true secret_db_creds: true pvc_artifactory: true service: true # bootstrap/seed artifactory configuration bootstrap: master_key: null,65,70
openstack%2Fopenstack-helm-addons~master~I0961b80c7085dc4ec7a8ba0d4aed9cbac5d7223f,openstack/openstack-helm-addons,master,I0961b80c7085dc4ec7a8ba0d4aed9cbac5d7223f,Reorder Ranger Agent's values.yaml to follow spec,MERGED,2018-10-22 18:02:00.000000000,2018-12-06 20:44:12.000000000,2018-12-06 20:44:12.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-10-22 18:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/cd2017571a93899ebf5f6323974a17f2e1087c7f', 'message': ""Reorder Ranger Agent's values.yaml to follow spec\n\nThe values.yaml functionality is the same, just reordered according\nto the values ordering spec[1].\n\n[1] https://docs.openstack.org/openstack-helm/latest/specs/values-ordering.html\n\nChange-Id: I0961b80c7085dc4ec7a8ba0d4aed9cbac5d7223f\n""}, {'number': 2, 'created': '2018-10-22 18:03:27.000000000', 'files': ['ranger-agent/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/4dc01cd5bd4e53cda11c61b116d0a93ecf80a709', 'message': ""Reorder Ranger Agent's values.yaml to follow spec\n\nThe values.yaml functionality is the same, just reordered according\nto the values ordering spec[1].\n\nBREAKING CHANGE:\n\n1. Removed `release_group`\n\n[1] https://docs.openstack.org/openstack-helm/latest/specs/values-ordering.html\n\nChange-Id: I0961b80c7085dc4ec7a8ba0d4aed9cbac5d7223f\n""}]",0,612463,4dc01cd5bd4e53cda11c61b116d0a93ecf80a709,9,7,2,28701,,,0,"Reorder Ranger Agent's values.yaml to follow spec

The values.yaml functionality is the same, just reordered according
to the values ordering spec[1].

BREAKING CHANGE:

1. Removed `release_group`

[1] https://docs.openstack.org/openstack-helm/latest/specs/values-ordering.html

Change-Id: I0961b80c7085dc4ec7a8ba0d4aed9cbac5d7223f
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/63/612463/2 && git format-patch -1 --stdout FETCH_HEAD,['ranger-agent/values.yaml'],1,cd2017571a93899ebf5f6323974a17f2e1087c7f,,"images: tags: db_drop: docker.io/openstackhelm/heat:newton db_init: docker.io/openstackhelm/heat:newton dep_check: quay.io/stackanetes/kubernetes-entrypoint:v0.3.1 image_repo_sync: docker.io/docker:17.07.0 ks_endpoints: docker.io/openstackhelm/heat:newton ks_service: docker.io/openstackhelm/heat:newton ks_user: docker.io/openstackhelm/heat:newton rabbit_init: docker.io/rabbitmq:3.7-management ranger-agent_db_sync: quay.io/attcomdev/ranger-agent:60529ac023bf550f0e9cb9e0eb4d4eb3dbf2d5c6 ranger_agent: quay.io/attcomdev/ranger-agent:60529ac023bf550f0e9cb9e0eb4d4eb3dbf2d5c6 scripted_test: docker.io/openstackhelm/heat:newton pull_policy: ""IfNotPresent"" local_registry: active: false exclude: - dep_check - image_repo_sync db_drop: services: - service: oslo_db endpoint: internal db_init: services: - service: oslo_db endpoint: internal db_sync: jobs: - ranger-agent-db-init services: - service: oslo_db endpoint: internal image_repo_sync: services: - endpoint: internal service: local_image_registry ks_endpoints: jobs: - ranger-agent-ks-service ks_user: network: api: ingress: public: true classes: namespace: ""nginx"" cluster: ""nginx-cluster"" annotations: nginx.ingress.kubernetes.io/rewrite-target: / external_policy_local: false node_port: enabled: false port: 30010 pod: user: ranger_agent: uid: 1000 affinity: anti: type: default: preferredDuringSchedulingIgnoredDuringExecution topologyKey: default: kubernetes.io/hostname mounts: ranger_agent_api: init_container: null ranger_agent_api: ranger_agent_engine: init_container: null ranger_agent_engine: ranger_agent_tests: init_container: null ranger_agent_tests: replicas: api: 1 engine: 1 lifecycle: upgrades: deployments: revision_history: 3 pod_replacement_strategy: RollingUpdate rolling_update: max_unavailable: 1 max_surge: 3 disruption_budget: ranger_agent_api: min_available: 0 ranger_agent_engine: min_available: 0 termination_grace_period: ranger_agent_api: timeout: 30 ranger_agent_engine: timeout: 30 resources: enabled: false jobs: db_drop: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" db_init: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" db_sync: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" image_repo_sync: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ks_endpoints: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ks_service: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ks_user: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" rabbit_init: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" tests: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ranger_agent_api: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ranger_agent_engine: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" oslo_cache: hosts: default: memcached host_fqdn_override: default: null port: memcache: default: 11211 oslo_db: auth: admin: username: root password: password ranger_agent: username: ranger-agent password: password hosts: default: mariadb host_fqdn_override: default: null path: /ord scheme: mysql+pymysql port: mysql: default: 3306 oslo_messaging: auth: admin: username: rabbitmq password: password ranger-agent: username: ranger-agent password: password hosts: default: rabbitmq host_fqdn_override: default: null path: /ranger-agent scheme: rabbit port: amqp: default: 5672 http: default: 15672 ranger_rds: name: rds-url hosts: default: rds public: rds-public host_fqdn_override: default: null path: default: /v1/rds/status scheme: default: http port: rds: default: 8777 public: 80 job_db_drop: false secret_db: true secret_ingress_tls: true secret_keystone: true secret_rabbitmq: true secret_ssh_key: true conf: paste: pipeline:main: pipeline: request_id api-server app:api-server: paste.app_factory: ord.api.app:app_factory filter:authtoken: paste.filter_factory: keystonemiddleware.auth_token:filter_factory filter:request_id: paste.filter_factory: oslo_middleware:RequestId.factory ranger_agent: DEFAULT: api_workers: 1 debug: false verbose: true pecan_debug: true repo_connection_timeout: 120 resource_creation_timeout_min: 1200 resource_creation_timeout_max: 14400 use_stderr: true api_paste_config: /etc/ranger-agent/api-paste.ini local_repo: ranger_repo resource_status_check_wait: 15 api: host: 0.0.0.0 database: max_retries: -1 keystone_authtoken: auth_type: password auth_version: v3 orm: orm_template_repo_url: git@github.com:ranger-agent/templates.git repo_pull_check_wait: 2 retry_limits: 5 oslo_messaging_notifications: driver: messagingv2 ssh: user: ranger_agent user_home: /home/ranger_agent ssh_key_file: ranger_agent ssh_key: null ssh_config: null","release_group: nullimages: tags: ranger_agent: quay.io/attcomdev/ranger-agent:60529ac023bf550f0e9cb9e0eb4d4eb3dbf2d5c6 ranger-agent_db_sync: quay.io/attcomdev/ranger-agent:60529ac023bf550f0e9cb9e0eb4d4eb3dbf2d5c6 db_drop: docker.io/openstackhelm/heat:newton db_init: docker.io/openstackhelm/heat:newton ks_user: docker.io/openstackhelm/heat:newton ks_service: docker.io/openstackhelm/heat:newton rabbit_init: docker.io/rabbitmq:3.7-management ks_endpoints: docker.io/openstackhelm/heat:newton dep_check: quay.io/stackanetes/kubernetes-entrypoint:v0.3.1 scripted_test: docker.io/openstackhelm/heat:newton image_repo_sync: docker.io/docker:17.07.0 pull_policy: ""IfNotPresent"" local_registry: active: false exclude: - dep_check - image_repo_sync conf: paste: pipeline:main: pipeline: request_id api-server app:api-server: paste.app_factory: ord.api.app:app_factory filter:authtoken: paste.filter_factory: keystonemiddleware.auth_token:filter_factory filter:request_id: paste.filter_factory: oslo_middleware:RequestId.factory ranger_agent: DEFAULT: api_workers: 1 debug: false verbose: true pecan_debug: true repo_connection_timeout: 120 resource_creation_timeout_min: 1200 resource_creation_timeout_max: 14400 use_stderr: true api_paste_config: /etc/ranger-agent/api-paste.ini local_repo: ranger_repo resource_status_check_wait: 15 api: host: 0.0.0.0 database: max_retries: -1 oslo_messaging_notifications: driver: messagingv2 orm: orm_template_repo_url: git@github.com:ranger-agent/templates.git repo_pull_check_wait: 2 retry_limits: 5 keystone_authtoken: auth_type: password auth_version: v3 ssh: user: ranger_agent user_home: /home/ranger_agent ssh_key_file: ranger_agent ssh_key: null ssh_config: null network: api: ingress: public: true classes: namespace: ""nginx"" cluster: ""nginx-cluster"" annotations: nginx.ingress.kubernetes.io/rewrite-target: / external_policy_local: false node_port: enabled: false port: 30010 db_init: services: - service: oslo_db endpoint: internal db_sync: jobs: - ranger-agent-db-init services: - service: oslo_db endpoint: internal db_drop: services: - service: oslo_db endpoint: internal ks_user: ks_endpoints: jobs: - ranger-agent-ks-service image_repo_sync: services: - endpoint: internal service: local_image_registry oslo_db: auth: admin: username: root password: password ranger_agent: username: ranger-agent password: password hosts: default: mariadb host_fqdn_override: default: null path: /ord scheme: mysql+pymysql port: mysql: default: 3306 oslo_cache: hosts: default: memcached host_fqdn_override: default: null port: memcache: default: 11211 oslo_messaging: auth: admin: username: rabbitmq password: password ranger-agent: username: ranger-agent password: password hosts: default: rabbitmq host_fqdn_override: default: null path: /ranger-agent scheme: rabbit port: amqp: default: 5672 http: default: 15672 ranger_rds: name: rds-url hosts: default: rds public: rds-public host_fqdn_override: default: null path: default: /v1/rds/status scheme: default: http port: rds: default: 8777 public: 80 pod: user: ranger_agent: uid: 1000 affinity: anti: type: default: preferredDuringSchedulingIgnoredDuringExecution topologyKey: default: kubernetes.io/hostname mounts: ranger_agent_api: init_container: null ranger_agent_api: ranger_agent_engine: init_container: null ranger_agent_engine: ranger_agent_tests: init_container: null ranger_agent_tests: replicas: api: 1 engine: 1 lifecycle: upgrades: deployments: revision_history: 3 pod_replacement_strategy: RollingUpdate rolling_update: max_unavailable: 1 max_surge: 3 disruption_budget: ranger_agent_api: min_available: 0 ranger_agent_engine: min_available: 0 termination_grace_period: ranger_agent_api: timeout: 30 ranger_agent_engine: timeout: 30 resources: enabled: false ranger_agent_api: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ranger_agent_engine: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" jobs: db_init: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" db_sync: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" db_drop: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ks_endpoints: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ks_service: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ks_user: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" rabbit_init: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" tests: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" image_repo_sync: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" secret_db: true secret_keystone: true secret_ssh_key: true secret_rabbitmq: true secret_ingress_tls: true job_db_drop: false",283,283
openstack%2Fopenstack-helm-addons~master~I5a9e39fcc79dd711bbb01653ba397bc6d2ed24f3,openstack/openstack-helm-addons,master,I5a9e39fcc79dd711bbb01653ba397bc6d2ed24f3,Add shaker charts and shaker deployment scripts,MERGED,2018-11-05 18:10:57.000000000,2018-12-06 20:44:11.000000000,2018-12-06 20:44:11.000000000,"[{'_account_id': 8898}, {'_account_id': 13511}, {'_account_id': 17591}, {'_account_id': 17887}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 28701}, {'_account_id': 29220}]","[{'number': 1, 'created': '2018-11-05 18:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/4154a90bf6a3f3f4d08b77c1093feeb53bcbfbbe', 'message': 'Add shaker charts and shaker deployment scripts\n\nThis is initial draft for adding shaker charts and deployment\nscripts.\n\nChange-Id: I5a9e39fcc79dd711bbb01653ba397bc6d2ed24f3\n'}, {'number': 2, 'created': '2018-11-05 19:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/6bc50e050611cd085bcd1d1445fa887cc6def310', 'message': 'Add shaker charts and shaker deployment scripts\n\nThis is initial draft for adding shaker charts and deployment\nscripts.\n\nChange-Id: I5a9e39fcc79dd711bbb01653ba397bc6d2ed24f3\n'}, {'number': 3, 'created': '2018-12-05 20:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/087e6ef9afb58ca75884c09ed739d1a85b6fdd35', 'message': 'Add shaker charts and shaker deployment scripts\n\nThis is initial draft for adding shaker charts and deployment\nscripts.\n\nChange-Id: I5a9e39fcc79dd711bbb01653ba397bc6d2ed24f3\n'}, {'number': 4, 'created': '2018-12-05 20:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/e569eb7ff51c7a8bffeae26e28b015d0548202c5', 'message': 'Add shaker charts and shaker deployment scripts\n\nThis is initial draft for adding shaker charts and deployment\nscripts.\n\nChange-Id: I5a9e39fcc79dd711bbb01653ba397bc6d2ed24f3\n'}, {'number': 5, 'created': '2018-12-05 20:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/8f9ca9861bdcd3cb3868bfeb1e78669fade0b7a2', 'message': 'Add shaker charts and shaker deployment scripts\n\nThis is initial draft for adding shaker charts and deployment\nscripts.\n\nChange-Id: I5a9e39fcc79dd711bbb01653ba397bc6d2ed24f3\n'}, {'number': 6, 'created': '2018-12-05 20:39:42.000000000', 'files': ['shaker/templates/service-shaker.yaml', 'shaker/templates/pod-shaker-test.yaml', 'shaker/templates/configmap-bin.yaml', 'shaker/values.yaml', 'shaker/templates/secret-keystone.yaml', 'shaker/requirements.yaml', 'shaker/templates/bin/_run-tests.sh.tpl', 'shaker/templates/job-image-repo-sync.yaml', 'shaker/templates/pvc-shaker.yaml', 'shaker/templates/configmap-etc.yaml', 'shaker/Chart.yaml', 'shaker/templates/job-ks-user.yaml', 'tools/gate/scripts/090-deploy-shaker.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/db16a2a4e46a87a2a09918f0d98e5dfc118877be', 'message': 'Add shaker charts and shaker deployment scripts\n\nThis is initial draft for adding shaker charts and deployment\nscripts.\n\nChange-Id: I5a9e39fcc79dd711bbb01653ba397bc6d2ed24f3\n'}]",0,615624,db16a2a4e46a87a2a09918f0d98e5dfc118877be,17,8,6,27589,,,0,"Add shaker charts and shaker deployment scripts

This is initial draft for adding shaker charts and deployment
scripts.

Change-Id: I5a9e39fcc79dd711bbb01653ba397bc6d2ed24f3
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/24/615624/1 && git format-patch -1 --stdout FETCH_HEAD,"['shaker/templates/network_policy.yaml', 'shaker/templates/service-shaker.yaml', 'shaker/templates/pod-shaker-test.yaml', 'shaker/templates/configmap-bin.yaml', 'tools/gate/playbooks/osh-addons-check.yaml', 'shaker/values.yaml', 'shaker/templates/secret-keystone.yaml', 'shaker/requirements.yaml', 'shaker/templates/bin/_run-tests.sh.tpl', 'shaker/templates/job-image-repo-sync.yaml', 'shaker/templates/pvc-shaker.yaml', 'shaker/templates/configmap-etc.yaml', 'shaker/Chart.yaml', 'shaker/templates/job-ks-user.yaml', 'tools/gate/scripts/090-deploy-shaker.sh']",15,4154a90bf6a3f3f4d08b77c1093feeb53bcbfbbe,add-shaker-charts,"#!/bin/bash # Copyright 2018 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # sudo -H -E su -c 'export OSH_EXT_NET_NAME=""public""; \ # export OSH_EXT_SUBNET_NAME=""public-subnet""; \ # export OS_USERNAME=""admin""; \ # export OS_PASSWORD=""password""; \ # export OS_AUTH_URL=""http://keystone.openstack.svc.cluster.local/v3""; \ # export OS_PROJECT_NAME=""admin""; \ # export OS_REGION_NAME=""RegionOne""; \ # export OS_PROJECT_ID=""""; \ # export OS_PROJECT_DOMAIN_NAME=""Default""; \ # export OS_USER_DOMAIN_NAME=""Default""; \ # export OS_IDENTITY_API_VERSION=3; \ # export EXTERNAL_NETWORK_NAME=""public""; \ # export SCENARIO=""/opt/shaker/shaker/scenarios/openstack/full_l2.yaml""; \ # export AVAILABILITY_ZONE=""nova""; \ # export REPORT_FILE=""/tmp/shaker-result.html""; \ # export OUTPUT_FILE=""/tmp/shaker-result.json""; \ # export FLAVOR_ID=""shaker-flavor""; \ # export IMAGE_NAME=""shaker-image""; \ # cd $CURR_WORK/openstack-helm; ./tools/deployment/developer/common/999-shaker.sh ${OSH_EXTRA_HELM_ARGS}' ${username} set -xe : ${OSH_EXT_NET_NAME:=""public""} : ${OSH_EXT_SUBNET_NAME:=""public-subnet""} : ${OSH_EXT_SUBNET:=""172.24.4.0/24""} : ${OSH_BR_EX_ADDR:=""172.24.4.1/24""} : ${OSH_PRIVATE_SUBNET_POOL:=""11.0.0.0/8""} : ${OSH_PRIVATE_SUBNET_POOL_NAME:=""shared-default-subnetpool""} : ${OSH_PRIVATE_SUBNET_POOL_DEF_PREFIX:=""24""} : ${OSH_VM_KEY_STACK:=""heat-vm-key""} : ${OSH_PRIVATE_SUBNET:=""11.0.0.0/24""} # Shaker conf params : ${OS_USERNAME:=""admin""} : ${OS_PASSWORD:=""password""} : ${OS_AUTH_URL:=""http://keystone.openstack.svc.cluster.local/v3""} : ${OS_PROJECT_NAME:=""admin""} : ${OS_REGION_NAME:=""RegionOne""} : ${OS_USER_DOMAIN_NAME:=""Default""} : ${OS_PROJECT_DOMAIN_NAME:=""Default""} : ${OS_PROJECT_ID:=""""} : ${EXTERNAL_NETWORK_NAME:=$OSH_EXT_NET_NAME} : ${SCENARIO:=""/opt/shaker/shaker/scenarios/openstack/full_l2.yaml""} : ${AVAILABILITY_ZONE:=""nova""} : ${REPORT_FILE:=""/tmp/shaker-result.html""} : ${OUTPUT_FILE:=""/tmp/shaker-result.json""} : ${FLAVOR_ID:=""shaker-flavor""} : ${IMAGE_NAME:=""shaker-image""} : ${SERVER_ENDPOINT_INTF:=""eth0""} : ${SHAKER_PORT:=31999} : ${COMPUTE_NODES:=1} : ${EXECUTE_TEST:=""true""} : ${DEBUG:=""true""} : ${CLEANUP_ON_ERROR:=""true""} #NOTE: Pull images and lint chart : ${OSH_PATH:=""../openstack-helm""} make -C ${OSH_PATH} pull-images shaker #NOTE: Deploy command #export OS_CLOUD=openstack_helm # Export AUTH variables required by shaker-image-builder utility export OS_USERNAME=${OS_USERNAME} export OS_PASSWORD=${OS_PASSWORD} export OS_AUTH_URL=${OS_AUTH_URL} export OS_PROJECT_NAME=${OS_PROJECT_NAME} export OS_REGION_NAME=${OS_REGION_NAME} export EXTERNAL_NETWORK_NAME=${EXTERNAL_NETWORK_NAME} export OS_PROJECT_ID=${OS_PROJECT_ID} export OS_PROJECT_DOMAIN_NAME=${OS_PROJECT_DOMAIN_NAME} export OS_USER_DOMAIN_NAME=${OS_USER_DOMAIN_NAME} export stack_exists=`openstack network list | grep ${OSH_EXT_NET_NAME} | awk '{print $4}'` if [ -z $stack_exists ]; then openstack stack create --wait \ --parameter network_name=${OSH_EXT_NET_NAME} \ --parameter physical_network_name=${OSH_EXT_NET_NAME} \ --parameter subnet_name=${OSH_EXT_SUBNET_NAME} \ --parameter subnet_cidr=${OSH_EXT_SUBNET} \ --parameter subnet_gateway=${OSH_BR_EX_ADDR%/*} \ -t ${OSH_PATH}/tools/gate/files/heat-public-net-deployment.yaml \ heat-public-net-deployment fi default_sec_grp_id=`openstack security group list --project ${OS_PROJECT_NAME} | grep default | awk '{split(\$0,a,""|""); print a[2]}'` for sg in $default_sec_grp_id do icmp=`openstack security group rule list $sg | grep icmp | awk '{split(\$0,a,""|""); print a[2]}'` if [ ""${icmp}"" = """" ]; then openstack security group rule create --proto icmp $sg; fi openstack security group rule create --proto tcp --dst-port ${SHAKER_PORT} $sg done IMAGE_NAME=$(openstack image show -f value -c name \ $(openstack image list -f csv | awk -F ',' '{ print $2 "","" $1 }' | \ grep ""${IMAGE_NAME}"" | head -1 | awk -F ',' '{ print $2 }' | tr -d '""')) if [ -z $IMAGE_NAME ]; then # Install shaker to use shaker-image-builder utility sudo apt-add-repository ""deb http://nova.clouds.archive.ubuntu.com/ubuntu/ trusty multiverse"" sudo apt-get update sudo apt-get -y install python-dev libzmq-dev sudo pip install pbr pyshaker # Run shaker-image-builder utility to build shaker image # For debug mode # shaker-image-builder --nocleanup-on-error --debug # For debug mode - with disk-image-builder mode # shaker-image-builder --nocleanup-on-error --debug --image-builder-mode dib shaker-image-builder IMAGE_NAME=$(openstack image show -f value -c name \ $(openstack image list -f csv | awk -F ',' '{ print $2 "","" $1 }' | \ grep ""^\""shaker"" | head -1 | awk -F ',' '{ print $2 }' | tr -d '""')) fi FLAVOR_ID=$(openstack flavor show ""${FLAVOR_ID}"" -f value -c id) IMAGE_ID=$(openstack image show ""${IMAGE_NAME}"" -f value -c id) #NOTE: Deploy shaker pods tee /tmp/shaker.yaml << EOF conf: script: | sed -i -E ""s/(accommodation\: \[.+)(.+\])/accommodation\: \[pair, compute_nodes: 1\]/"" ${SCENARIO} export server_endpoint=\`ip a | grep ""global ${SERVER_ENDPOINT_INTF}"" | cut -f6 -d' ' | cut -f1 -d'/'\` shaker --server-endpoint \$server_endpoint:${SHAKER_PORT} --config-file /opt/shaker/shaker.conf shaker: shaker: DEFAULT: debug: ${DEBUG} cleanup_on_error: ${CLEANUP_ON_ERROR} compute_nodes: ${COMPUTE_NODES} report: ${REPORT_FILE} output: ${OUTPUT_FILE} scenario: ${SCENARIO} flavor_name: ${FLAVOR_ID} external_net: ${EXTERNAL_NETWORK_NAME} image_name: ${IMAGE_ID} availability_zone: ${AVAILABILITY_ZONE} os_username: ${OS_USERNAME} os_password: ${OS_PASSWORD} os_auth_url: ${OS_AUTH_URL} os_project_name: ${OS_PROJECT_NAME} os_region_name: ${OS_REGION_NAME} os_project_domain_name: ${OS_PROJECT_DOMAIN_NAME} os_user_domain_name: ${OS_USER_DOMAIN_NAME} os_identity_api_version: 3 os_interface: ${EXTERNAL_NETWORK_NAME} EOF #envsubst < /tmp/shaker.yaml helm upgrade --install shaker ${OSH_PATH}/shaker \ --namespace=openstack \ --values=/tmp/shaker.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_SHAKER} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh openstack 2400 #NOTE: Validate Deployment info kubectl get -n openstack jobs --show-all if [ -n $EXECUTE_TEST ]; then helm test shaker --timeout 2700 fi ",,889,0
openstack%2Fpanko~master~I2b5a345ff41688641b2c72006ba4fdaaf5e5c99f,openstack/panko,master,I2b5a345ff41688641b2c72006ba4fdaaf5e5c99f,convert py35 jobs to py3,ABANDONED,2018-06-15 19:57:37.000000000,2018-12-06 20:30:23.000000000,,"[{'_account_id': 24}, {'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-06-15 19:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/panko/commit/351b3488023e8cc315354109a16065af9b29d2ed', 'message': 'convert py35 jobs to py3\n\nUpdate the jobs that were explicitly using python 3.5 and have them\njust use python 3 without specifying a minor version.\n\nChange-Id: I2b5a345ff41688641b2c72006ba4fdaaf5e5c99f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-06-26 09:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/panko/commit/08234012b475872a6f3b47a39dc49724ae77a581', 'message': 'convert py35 jobs to py3\n\nUpdate the jobs that were explicitly using python 3.5 and have them\njust use python 3 without specifying a minor version.\n\nChange-Id: I2b5a345ff41688641b2c72006ba4fdaaf5e5c99f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-08-31 17:25:30.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/panko/commit/de49e08b558e36174b64faab52d09c9b54542da5', 'message': 'convert py35 jobs to py3\n\nUpdate the jobs that were explicitly using python 3.5 and have them\njust use python 3 without specifying a minor version.\n\nChange-Id: I2b5a345ff41688641b2c72006ba4fdaaf5e5c99f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,575831,de49e08b558e36174b64faab52d09c9b54542da5,10,4,3,2472,,,0,"convert py35 jobs to py3

Update the jobs that were explicitly using python 3.5 and have them
just use python 3 without specifying a minor version.

Change-Id: I2b5a345ff41688641b2c72006ba4fdaaf5e5c99f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/panko refs/changes/31/575831/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,351b3488023e8cc315354109a16065af9b29d2ed,python3-first,[testenv:py3-mongodb] basepython = python3[testenv:py3-mysql] basepython = python3[testenv:py3-postgresql] basepython = python3[testenv:py3-elastic],[testenv:py35-mongodb] basepython = python3.5[testenv:py35-mysql] basepython = python3.5[testenv:py35-postgresql] basepython = python3.5[testenv:py35-elastic],16,16
openstack%2Felection~master~Ic2bdf8d39f5f1b93805901159bb13fb8dafe0347,openstack/election,master,Ic2bdf8d39f5f1b93805901159bb13fb8dafe0347,only validate the files needed,ABANDONED,2018-09-04 17:46:04.000000000,2018-12-06 20:28:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-09-04 17:46:04.000000000', 'files': ['openstack_election/cmds/ci_check_all_candidate_files.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/election/commit/7bba58cd1053a824d7950f7209b8f73e023e5cb5', 'message': 'only validate the files needed\n\nAdd a --all option to ci_check_all_candidate_files.py to make it work\nin the current mode.\n\nAdd an argument to allow the caller to specify individual files to\nlimit which are validated. This makes it easier to run locally for\nsomeone writing their candidacy file, since the output only includes\ninformation about their file.\n\nChange the default behavior to only validate files in the current\npatch being tested. That makes it easier to understand the output in\nCI, since it only applies to the patch being tested.\n\nChange-Id: Ic2bdf8d39f5f1b93805901159bb13fb8dafe0347\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,599716,7bba58cd1053a824d7950f7209b8f73e023e5cb5,3,1,1,2472,,,0,"only validate the files needed

Add a --all option to ci_check_all_candidate_files.py to make it work
in the current mode.

Add an argument to allow the caller to specify individual files to
limit which are validated. This makes it easier to run locally for
someone writing their candidacy file, since the output only includes
information about their file.

Change the default behavior to only validate files in the current
patch being tested. That makes it easier to understand the output in
CI, since it only applies to the patch being tested.

Change-Id: Ic2bdf8d39f5f1b93805901159bb13fb8dafe0347
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/election refs/changes/16/599716/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_election/cmds/ci_check_all_candidate_files.py', 'tox.ini']",2,7bba58cd1053a824d7950f7209b8f73e023e5cb5,stein-candidacy,commands = ci-check-all-candidate-files {posargs},commands = ci-check-all-candidate-files,31,3
openstack%2Fcharm-ceilometer~stable%2F18.05~Ifff72870cf79bea23dbd21586857dd832c9e1405,openstack/charm-ceilometer,stable/18.05,Ifff72870cf79bea23dbd21586857dd832c9e1405,Add polling.yaml to managed configs,ABANDONED,2018-08-08 06:30:31.000000000,2018-12-06 20:26:43.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-08 06:30:31.000000000', 'files': ['unit_tests/test_ceilometer_contexts.py', 'lib/ceilometer_utils.py', 'templates/polling.yaml', 'config.yaml', 'unit_tests/test_ceilometer_utils.py', 'lib/ceilometer_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/c16c15a1eb33c3262a112fc50faab18613329697', 'message': 'Add polling.yaml to managed configs\n\nThis change adds polling.yaml to the list of managed config files, for\nQueens and above.  Two new config items are added alongside the\ntemplate, to take into account a choice between the two polling.yaml\nfiles supplied with the Ceilometer source, one which has a small list of\npollsters and the other which has all pollsters.  Additionally the\nchange adds the option to set the polling interval.\n\nChange-Id: Ifff72870cf79bea23dbd21586857dd832c9e1405\nCloses-Bug: 1785933\nCloses-Bug: 1652848\n'}]",0,589720,c16c15a1eb33c3262a112fc50faab18613329697,5,3,1,10086,,,0,"Add polling.yaml to managed configs

This change adds polling.yaml to the list of managed config files, for
Queens and above.  Two new config items are added alongside the
template, to take into account a choice between the two polling.yaml
files supplied with the Ceilometer source, one which has a small list of
pollsters and the other which has all pollsters.  Additionally the
change adds the option to set the polling interval.

Change-Id: Ifff72870cf79bea23dbd21586857dd832c9e1405
Closes-Bug: 1785933
Closes-Bug: 1652848
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/20/589720/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceilometer_contexts.py', 'lib/ceilometer_utils.py', 'templates/polling.yaml', 'config.yaml', 'unit_tests/test_ceilometer_utils.py', 'lib/ceilometer_contexts.py']",6,c16c15a1eb33c3262a112fc50faab18613329697,bug/1785933," 'polling_interval': int(config('polling-interval')), 'enable_all_pollsters': config('enable-all-pollsters'),",,87,0
openstack%2Foslo.config~master~I87dd0d872677cadd9b8b6ae6de4eee45273da646,openstack/oslo.config,master,I87dd0d872677cadd9b8b6ae6de4eee45273da646,add lib-forward-testing-py3 jobs,ABANDONED,2018-06-16 19:26:23.000000000,2018-12-06 20:26:25.000000000,,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-16 19:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d4aae8bcab6d3bd37b1c8e94372c6de6b3c0dd5d', 'message': 'add lib-forward-testing-py3 jobs\n\nChange-Id: I87dd0d872677cadd9b8b6ae6de4eee45273da646\nDepends-On: https://review.openstack.org/575925/\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-06-16 20:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/3afc889e0d612b6d8b18b065da65b6bc5efb82a8', 'message': 'add lib-forward-testing-py3 jobs\n\nChange-Id: I87dd0d872677cadd9b8b6ae6de4eee45273da646\nDepends-On: https://review.openstack.org/575925/\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-06-27 16:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/84afe22b11efff3b5cff8c4eea085de900db11bb', 'message': 'add lib-forward-testing-py3 jobs\n\nChange-Id: I87dd0d872677cadd9b8b6ae6de4eee45273da646\nDepends-On: https://review.openstack.org/575925/\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-06-27 16:55:28.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/048ed02f835b30a4dd99ae218d77257b19a74d14', 'message': 'add lib-forward-testing-py3 jobs\n\nChange-Id: I87dd0d872677cadd9b8b6ae6de4eee45273da646\nDepends-On: https://review.openstack.org/575925/\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,575927,048ed02f835b30a4dd99ae218d77257b19a74d14,15,6,4,2472,,,0,"add lib-forward-testing-py3 jobs

Change-Id: I87dd0d872677cadd9b8b6ae6de4eee45273da646
Depends-On: https://review.openstack.org/575925/
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/27/575927/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,d4aae8bcab6d3bd37b1c8e94372c6de6b3c0dd5d,python3-lib-forward-testing, templates: - lib-forward-testing-py3,,2,0
openstack%2Foslo.concurrency~master~I2cb4804c57560017008bf48b5d5b8ce71aae6da7,openstack/oslo.concurrency,master,I2cb4804c57560017008bf48b5d5b8ce71aae6da7,Update mailinglist from dev to discuss,MERGED,2018-12-04 01:47:43.000000000,2018-12-06 20:22:38.000000000,2018-12-06 20:22:38.000000000,"[{'_account_id': 708}, {'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/25e4b8aae0be87b72becb2efb62f9eb5c3af17ac', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I2cb4804c57560017008bf48b5d5b8ce71aae6da7\n'}, {'number': 2, 'created': '2018-12-05 01:39:30.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/8b8501e9129a76533a8288119c1ffacaf11a50cf', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: I2cb4804c57560017008bf48b5d5b8ce71aae6da7\n'}]",0,621798,8b8501e9129a76533a8288119c1ffacaf11a50cf,10,4,2,9414,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: I2cb4804c57560017008bf48b5d5b8ce71aae6da7
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/98/621798/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,25e4b8aae0be87b72becb2efb62f9eb5c3af17ac,email-info,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftripleo-ci~master~Ia7eb15dae313aa5b81208c5d30ec542905a9c76d,openstack/tripleo-ci,master,Ia7eb15dae313aa5b81208c5d30ec542905a9c76d,fix tox python3 overrides,ABANDONED,2018-10-03 21:13:30.000000000,2018-12-06 20:22:19.000000000,,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-10-03 21:13:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/321f0e78cf44d38c55cfb70da447dee211713a02', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ia7eb15dae313aa5b81208c5d30ec542905a9c76d\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,607716,321f0e78cf44d38c55cfb70da447dee211713a02,6,4,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ia7eb15dae313aa5b81208c5d30ec542905a9c76d
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/16/607716/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,321f0e78cf44d38c55cfb70da447dee211713a02,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Ftempest-stress~master~I3dfbf75906abb5fb258de360e46c60abc4ee52bb,openstack/tempest-stress,master,I3dfbf75906abb5fb258de360e46c60abc4ee52bb,fix tox python3 overrides,ABANDONED,2018-09-29 23:54:17.000000000,2018-12-06 20:21:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-09-29 23:54:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/ae5cc1c69df0daba6f716fa8e49fceb439fb0fdd', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I3dfbf75906abb5fb258de360e46c60abc4ee52bb\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606731,ae5cc1c69df0daba6f716fa8e49fceb439fb0fdd,4,2,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I3dfbf75906abb5fb258de360e46c60abc4ee52bb
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/tempest-stress refs/changes/31/606731/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ae5cc1c69df0daba6f716fa8e49fceb439fb0fdd,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fneutron-fwaas~master~Icd599ae2842c36eb89e40c7eacce703ae8dd3bfe,openstack/neutron-fwaas,master,Icd599ae2842c36eb89e40c7eacce703ae8dd3bfe,fix tox python3 overrides,ABANDONED,2018-09-29 23:51:56.000000000,2018-12-06 20:21:10.000000000,,"[{'_account_id': 13702}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-09-29 23:51:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b0f8225833e56ddf5829d0d700730607754a126b', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Icd599ae2842c36eb89e40c7eacce703ae8dd3bfe\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606678,b0f8225833e56ddf5829d0d700730607754a126b,5,3,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Icd599ae2842c36eb89e40c7eacce703ae8dd3bfe
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/78/606678/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b0f8225833e56ddf5829d0d700730607754a126b,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fopenstack-helm~master~I226d9d6e46f5b556a7baa88fcd06de8e571bcdff,openstack/openstack-helm,master,I226d9d6e46f5b556a7baa88fcd06de8e571bcdff,Add TaaS panel to Horizon dashboard,MERGED,2018-12-03 15:28:16.000000000,2018-12-06 20:20:16.000000000,2018-12-06 20:20:16.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 16881}, {'_account_id': 17591}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 27589}]","[{'number': 1, 'created': '2018-12-03 15:28:16.000000000', 'files': ['horizon/templates/bin/_horizon.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dcf530a6dec7ad0d2128a42d16a615f22c7b4e62', 'message': 'Add TaaS panel to Horizon dashboard\n\nThis will enable the TaaS GUI to the horizon dashbboard.\nTaaS dashboard will need to be installed as part of the image,\nelse it will not try to add the panel.\n\nChange-Id: I226d9d6e46f5b556a7baa88fcd06de8e571bcdff\n'}]",0,621606,dcf530a6dec7ad0d2128a42d16a615f22c7b4e62,10,10,1,18250,,,0,"Add TaaS panel to Horizon dashboard

This will enable the TaaS GUI to the horizon dashbboard.
TaaS dashboard will need to be installed as part of the image,
else it will not try to add the panel.

Change-Id: I226d9d6e46f5b556a7baa88fcd06de8e571bcdff
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/06/621606/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/templates/bin/_horizon.sh.tpl'],1,dcf530a6dec7ad0d2128a42d16a615f22c7b4e62,horizon_taas_panel," # Add TaaS dashboard panel if available TAAS_PANEL=""${SITE_PACKAGES_ROOT}/neutron_taas_dashboard/enabled/_90_project_tapservices_panel.py"" if [ -f ${TAAS_PANEL} ]; then ln -s ${TAAS_PANEL} ${SITE_PACKAGES_ROOT}/openstack_dashboard/local/enabled/_90_project_tapservices_panel.py fi ",,6,0
openstack%2Fopenstack-helm~master~I82e958c2865029cd4a093f62614a1e878075098a,openstack/openstack-helm,master,I82e958c2865029cd4a093f62614a1e878075098a,Nova: Mount cgroups read only,MERGED,2018-11-28 18:18:20.000000000,2018-12-06 20:20:15.000000000,2018-12-06 20:20:15.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 27455}]","[{'number': 1, 'created': '2018-11-28 18:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/32a914cac81ca97919ef465cf3636f81e3cd1845', 'message': 'Nova: Mount cgroups read only\n\nThis PS updates the mount options for the nova-compute pod to mount\ncgroups as read only within the pod.\n\nChange-Id: I82e958c2865029cd4a093f62614a1e878075098a\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-12-05 09:33:52.000000000', 'files': ['nova/templates/daemonset-compute.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bb7b973258f02236d0d4f35bc87f2086cd4f4174', 'message': 'Nova: Mount cgroups read only\n\nThis PS updates the mount options for the nova-compute pod to mount\ncgroups as read only within the pod.\n\nChange-Id: I82e958c2865029cd4a093f62614a1e878075098a\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,620673,bb7b973258f02236d0d4f35bc87f2086cd4f4174,16,9,2,23928,,,0,"Nova: Mount cgroups read only

This PS updates the mount options for the nova-compute pod to mount
cgroups as read only within the pod.

Change-Id: I82e958c2865029cd4a093f62614a1e878075098a
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/73/620673/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/daemonset-compute.yaml'],1,32a914cac81ca97919ef465cf3636f81e3cd1845,nova-compute-vols, readOnly: true,,1,0
openstack%2Fswift~master~Ib5f0b7431819892510d1913465ce4a81c92bdf25,openstack/swift,master,Ib5f0b7431819892510d1913465ce4a81c92bdf25,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 04:37:46.000000000,2018-12-06 20:19:06.000000000,2018-12-06 20:19:06.000000000,"[{'_account_id': 330}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 04:37:46.000000000', 'files': ['CONTRIBUTING.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/9ab276d9b8b172178464ff3378860f4a6e3f49d5', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Ib5f0b7431819892510d1913465ce4a81c92bdf25\n'}]",0,622834,9ab276d9b8b172178464ff3378860f4a6e3f49d5,9,3,1,21691,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Ib5f0b7431819892510d1913465ce4a81c92bdf25
",git fetch https://review.opendev.org/openstack/swift refs/changes/34/622834/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'setup.cfg']",2,9ab276d9b8b172178464ff3378860f4a6e3f49d5,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,2,2
openstack%2Ftempest~master~I52361048bb1b10b7c26503bf47ad0b6b21e9eb64,openstack/tempest,master,I52361048bb1b10b7c26503bf47ad0b6b21e9eb64,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 02:03:25.000000000,2018-12-06 20:19:05.000000000,2018-12-06 20:19:05.000000000,"[{'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23717}, {'_account_id': 26458}, {'_account_id': 26490}, {'_account_id': 27078}, {'_account_id': 27190}]","[{'number': 1, 'created': '2018-12-04 02:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2ad95e94e8557bda161b73671e59b57e0fc83485', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces\nopenstack-dev.\n\nChange-Id: I52361048bb1b10b7c26503bf47ad0b6b21e9eb64\n'}, {'number': 2, 'created': '2018-12-04 11:39:44.000000000', 'files': ['tempest/tests/files/setup.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cf4fda38388e375f231aae623d2f77ed2358aabb', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces\nopenstack-dev.\n\nChange-Id: I52361048bb1b10b7c26503bf47ad0b6b21e9eb64\n'}]",0,621826,cf4fda38388e375f231aae623d2f77ed2358aabb,23,9,2,26458,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces
openstack-dev.

Change-Id: I52361048bb1b10b7c26503bf47ad0b6b21e9eb64
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/621826/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2ad95e94e8557bda161b73671e59b57e0fc83485,fix-email-list,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fkolla~master~Ib69b20399a8d340c726196072f39092404ca2f1e,openstack/kolla,master,Ib69b20399a8d340c726196072f39092404ca2f1e,Install ipmitool in the mistral_executor image,ABANDONED,2018-12-06 14:45:04.000000000,2018-12-06 20:05:46.000000000,,"[{'_account_id': 7923}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 14:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c1dbcbb3da4b908eb97e6d381bb5eaa7d2b8214c', 'message': 'Install ipmitool in the mistral_executor image\n\nThis package is needed by TripleO to run node detection from the\nundercloud.\n\nCloses #1807159\n\nChange-Id: Ib69b20399a8d340c726196072f39092404ca2f1e\n'}, {'number': 2, 'created': '2018-12-06 14:56:10.000000000', 'files': ['docker/mistral/mistral-executor/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/43abab890201fe83a417411c36b13408e00327c6', 'message': 'Install ipmitool in the mistral_executor image\n\nThis package is needed by TripleO to run node detection from the\nundercloud.\n\nFixes-Bug: #1807159\n\nChange-Id: Ib69b20399a8d340c726196072f39092404ca2f1e\n'}]",0,623222,43abab890201fe83a417411c36b13408e00327c6,6,3,2,7923,,,0,"Install ipmitool in the mistral_executor image

This package is needed by TripleO to run node detection from the
undercloud.

Fixes-Bug: #1807159

Change-Id: Ib69b20399a8d340c726196072f39092404ca2f1e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/22/623222/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/mistral/mistral-executor/Dockerfile.j2'],1,c1dbcbb3da4b908eb97e6d381bb5eaa7d2b8214c,bug/1807159," {% set mistral_executor_packages = [ 'openstack-mistral-executor', 'ipmitool' ] %} {% set mistral_executor_packages = [ 'mistral-executor', 'ipmitool' ] %}", {% set mistral_executor_packages = ['openstack-mistral-executor'] %} {% set mistral_executor_packages = ['mistral-executor'] %},8,2
openstack%2Fcharm-glance~master~I7be5d16359aa6c78c9241990c3d3b8bab4910538,openstack/charm-glance,master,I7be5d16359aa6c78c9241990c3d3b8bab4910538,Add charm's directory to syspath,MERGED,2018-11-07 21:50:42.000000000,2018-12-06 20:02:36.000000000,2018-11-08 09:06:34.000000000,"[{'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24297}]","[{'number': 1, 'created': '2018-11-07 21:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/147c487592b68579b1b21af3cad2b48e553d3190', 'message': ""Add charm's directory to syspath\n\ncharmhelpers lives in the charm dir and it needs to be added to the\nsyspath to allow the openstack-upgrade action find it.\n\nChange-Id: I7be5d16359aa6c78c9241990c3d3b8bab4910538\nCloses-Bug: 1802182\n""}, {'number': 2, 'created': '2018-11-07 21:51:56.000000000', 'files': ['actions/openstack_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/41a046ba82435cde2e3524b529e425bdd42ab52f', 'message': ""Add charm's directory to syspath\n\ncharmhelpers lives in the charm dir and it needs to be added to the\nsyspath to allow the openstack-upgrade action find it. This wasn't\nneeded until commit b45cd2ae removed the symlink that was left in the\nhooks/ directory for backward compatibility purposes.\n\nChange-Id: I7be5d16359aa6c78c9241990c3d3b8bab4910538\nCloses-Bug: 1802182\n""}]",0,616357,41a046ba82435cde2e3524b529e425bdd42ab52f,14,8,2,2424,,,0,"Add charm's directory to syspath

charmhelpers lives in the charm dir and it needs to be added to the
syspath to allow the openstack-upgrade action find it. This wasn't
needed until commit b45cd2ae removed the symlink that was left in the
hooks/ directory for backward compatibility purposes.

Change-Id: I7be5d16359aa6c78c9241990c3d3b8bab4910538
Closes-Bug: 1802182
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/57/616357/2 && git format-patch -1 --stdout FETCH_HEAD,['actions/openstack_upgrade.py'],1,147c487592b68579b1b21af3cad2b48e553d3190,bug/1802182,"import os_path = os.path.dirname(os.path.realpath(__file__)) _parent = os.path.abspath(os.path.join(_path, "".."")) def _add_path(path): if path not in sys.path: sys.path.insert(1, path) _add_path(_parent) ",,13,0
openstack%2Fdevstack~master~Iaa7f06aa27eac9444e3139f3cad6320175e6ce1b,openstack/devstack,master,Iaa7f06aa27eac9444e3139f3cad6320175e6ce1b,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-04 02:19:25.000000000,2018-12-06 19:56:45.000000000,,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 02:19:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8cf03096b67084d2e42c5a4535551e2d539c6333', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Iaa7f06aa27eac9444e3139f3cad6320175e6ce1b\n'}]",0,621838,8cf03096b67084d2e42c5a4535551e2d539c6333,7,4,1,26490,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Iaa7f06aa27eac9444e3139f3cad6320175e6ce1b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/621838/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8cf03096b67084d2e42c5a4535551e2d539c6333,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Foctavia~master~I972c7d7934268131765ce5eebab1d81cc326fd49,openstack/octavia,master,I972c7d7934268131765ce5eebab1d81cc326fd49,Fix the grenade gate,MERGED,2018-12-05 23:21:03.000000000,2018-12-06 19:53:08.000000000,2018-12-06 19:53:08.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 8871}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 23:21:03.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1e4940f37e88d16e0d5637a978c66abd5ce53c90', 'message': 'Fix the grenade gate\n\nAfter the upgrade Apache seems unable to reach the Octavia API.\nIt appears that the devstack plugin.sh enables the octavia-wsgi site,\nbut fails to restart the Apache server to pick up this change.\n\nThis patch corrects that by restarting Apache after any Apache site\nchanges.\n\nChange-Id: I972c7d7934268131765ce5eebab1d81cc326fd49\n'}]",0,623102,1e4940f37e88d16e0d5637a978c66abd5ce53c90,14,6,1,11628,,,0,"Fix the grenade gate

After the upgrade Apache seems unable to reach the Octavia API.
It appears that the devstack plugin.sh enables the octavia-wsgi site,
but fails to restart the Apache server to pick up this change.

This patch corrects that by restarting Apache after any Apache site
changes.

Change-Id: I972c7d7934268131765ce5eebab1d81cc326fd49
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/623102/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,1e4940f37e88d16e0d5637a978c66abd5ce53c90,, restart_apache_server restart_apache_server, restart_apache_server restart_apache_server,2,2
openstack%2Ftripleo-ansible~master~I9e9c347508e027c57477a314a3d6e318c2cd2e0a,openstack/tripleo-ansible,master,I9e9c347508e027c57477a314a3d6e318c2cd2e0a,Correct data_files paths in setup.cfg,ABANDONED,2018-11-19 23:23:04.000000000,2018-12-06 19:45:54.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-19 23:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/854e4f87d7ba2001633ba0f47fa5ffdcc9bd086e', 'message': 'Correct data_files paths in setup.cfg\n\nChange-Id: I9e9c347508e027c57477a314a3d6e318c2cd2e0a\n'}, {'number': 2, 'created': '2018-11-26 22:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c820ea267fdbc4bcdd747647b5d72749bfeabad4', 'message': 'Correct data_files paths in setup.cfg\n\nChange-Id: I9e9c347508e027c57477a314a3d6e318c2cd2e0a\n'}, {'number': 3, 'created': '2018-11-26 23:42:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/442d48cca016900d658c454474c4870b42fb5e52', 'message': 'Correct data_files paths in setup.cfg\n\nChange-Id: I9e9c347508e027c57477a314a3d6e318c2cd2e0a\n'}]",2,618905,442d48cca016900d658c454474c4870b42fb5e52,8,2,3,20868,,,0,"Correct data_files paths in setup.cfg

Change-Id: I9e9c347508e027c57477a314a3d6e318c2cd2e0a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/618905/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,854e4f87d7ba2001633ba0f47fa5ffdcc9bd086e,, share/ansible/tripleo-ansible/*yml = /* share/ansible/tripleo-ansible/group_vars = /group_vars/* share/ansible/tripleo-ansible/host_vars = /host_vars/* share/ansible/tripleo-ansible/library = /library/*, share/tripleo-ansible/operations = operations/*,4,1
openstack%2Frally-openstack~master~Icd77d369dfc6a6f3f4837772fe3724c2bac1e0b3,openstack/rally-openstack,master,Icd77d369dfc6a6f3f4837772fe3724c2bac1e0b3,Add missing property on magnum plugin,MERGED,2018-12-05 04:37:35.000000000,2018-12-06 19:38:20.000000000,2018-12-06 19:38:20.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 04:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0874c7f4c5d67dc66b61db26a1b6c11f831c7b7f', 'message': ""Add missing property on magnum plugin\n\nSince Magnum 1.15 users can set 'floating_ip_enabled' property on\nMagnum cluster templates [1].\n\nThis patch ensures the possibility to enable the mentioned property\nwithin Magnum tasks.\n\n[1]: https://github.com/openstack/magnum/blob/master/magnum/objects/cluster_template.py#L41\n\nChange-Id: Icd77d369dfc6a6f3f4837772fe3724c2bac1e0b3\n""}, {'number': 2, 'created': '2018-12-06 13:30:45.000000000', 'files': ['rally_openstack/contexts/magnum/cluster_templates.py', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6df840a57202be774373c15c36b88d56c83d1076', 'message': ""Add missing property on magnum plugin\n\nSince Magnum 1.15 users can set 'floating_ip_enabled' property on\nMagnum cluster templates [1].\n\nThis patch ensures the possibility to enable the mentioned property\nwithin Magnum tasks.\n\n[1]: https://github.com/openstack/magnum/blob/master/magnum/objects/cluster_template.py#L41\n\nChange-Id: Icd77d369dfc6a6f3f4837772fe3724c2bac1e0b3\n""}]",0,622830,6df840a57202be774373c15c36b88d56c83d1076,11,2,2,27143,,,0,"Add missing property on magnum plugin

Since Magnum 1.15 users can set 'floating_ip_enabled' property on
Magnum cluster templates [1].

This patch ensures the possibility to enable the mentioned property
within Magnum tasks.

[1]: https://github.com/openstack/magnum/blob/master/magnum/objects/cluster_template.py#L41

Change-Id: Icd77d369dfc6a6f3f4837772fe3724c2bac1e0b3
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/30/622830/2 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/contexts/magnum/cluster_templates.py'],1,0874c7f4c5d67dc66b61db26a1b6c11f831c7b7f,," }, ""floating_ip_enabled"": { ""type"": ""boolean""",,3,0
openstack%2Fpuppet-cinder~master~I6c44eaca24fb8aed538da9064fe91e40786216b2,openstack/puppet-cinder,master,I6c44eaca24fb8aed538da9064fe91e40786216b2,Add File.expand_path to cinder.rb,MERGED,2018-11-28 14:56:03.000000000,2018-12-06 19:20:37.000000000,2018-12-06 19:20:37.000000000,"[{'_account_id': 3153}, {'_account_id': 6476}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29349}, {'_account_id': 29422}]","[{'number': 1, 'created': '2018-11-28 14:56:03.000000000', 'files': ['lib/puppet/provider/cinder.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/3d7128c55dc603c469745de1bd12f55e70710e35', 'message': 'Add File.expand_path to cinder.rb\n\nIt happened to me that a few times, puppet cannot load cinder.rb.\nThis should fix it.\n\nChange-Id: I6c44eaca24fb8aed538da9064fe91e40786216b2\n'}]",0,620618,3d7128c55dc603c469745de1bd12f55e70710e35,15,7,1,6476,,,0,"Add File.expand_path to cinder.rb

It happened to me that a few times, puppet cannot load cinder.rb.
This should fix it.

Change-Id: I6c44eaca24fb8aed538da9064fe91e40786216b2
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/18/620618/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/cinder.rb'],1,3d7128c55dc603c469745de1bd12f55e70710e35,,"File.expand_path('../../../../openstacklib/lib', File.dirname(__FILE__)).tap { |dir| $LOAD_PATH.unshift(dir) unless $LOAD_PATH.include?(dir) } ",,2,0
openstack%2Fswift~master~If4c47d7b13dcb4b3d04c52bb08b15ca2069cd15c,openstack/swift,master,If4c47d7b13dcb4b3d04c52bb08b15ca2069cd15c,s3api: Include '-' in S3 ETags of normal SLOs,MERGED,2018-08-16 00:58:17.000000000,2018-12-06 19:17:49.000000000,2018-12-06 19:17:49.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-16 00:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8d4cbee22abd2ebfff23e782a1a069f06b788019', 'message': ""s3api: Include '-' in S3 ETags of normal SLOs\n\nOrdinary objects in S3 use the MD5 of the object as the ETag, just like\nSwift. Multipart Uploads follow a different format, notably including a\ndash followed by the number of segments.\n\nSeveral clients use this difference to change their behavior based upon\nthe presence of a dash in object ETags, not only during object download\nbut during upload and listing, too. In particular, this can disable\nupload/download integrity checks or cause the client to issue HEAD\nrequests to see whether the MD5 was stored in metadata on the object.\n\nThe goal of this patch is to get as many of the benefits of the dash as\nwe can, even for data that was uploaded via the Swift API or that\npredated the related-changes. To that end (and for S3 API requests\n*only*), look for any indication that an object may be an SLO and tack\non a literal '-N' to the end of the ETag. Why 'N'? Two main reasons:\n\n - We don't necessarily know how many segments there are, and don't want\n   to use additional backend requests to find out (particularly when it\n   would require *multiple* additional requests as in a bucket listing).\n - We don't want to provide an arbitrary number (as ProxyFS does [1])\n   because it would look *too much* like an S3 ETag, and if any client\n   actually cares about the *exact* ETag generation algorithm, I'd\n   prefer to have a way to distinguish between the two.\n\nThis modified ETag will be used in key GET/HEAD responses via the S3\nAPI, where SLOs are always indicated with a X-Static-Large-Object\nheader. Either the modified or original ETag may be used for conditional\nrequests via the S3 API. Bucket listings via the S3 API *may* present\nthe modified ETag, but only if the JSON container listing includes an\n'slo_etag' key for the object; see the related SLO patch for when that\nstarted happening.\n\nThere should be no impact for the Swift API.\n\n[1] https://github.com/swiftstack/ProxyFS/blob/1.6.4/pfs_middleware/pfs_middleware/middleware.py#L443-L455\n\nChange-Id: If4c47d7b13dcb4b3d04c52bb08b15ca2069cd15c\nRelated-Change: Ibe68c44bef6c17605863e9084503e8f5dc577fab\nRelated-Change: I67478923619b00ec1a37d56b6fec6a218453dafc\n""}, {'number': 2, 'created': '2018-08-17 17:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/45a7892661503256707dba7de297a7e2d9f8dceb', 'message': ""s3api: Include '-' in S3 ETags of normal SLOs\n\nOrdinary objects in S3 use the MD5 of the object as the ETag, just like\nSwift. Multipart Uploads follow a different format, notably including a\ndash followed by the number of segments.\n\nSeveral clients use this difference to change their behavior based upon\nthe presence of a dash in object ETags, not only during object download\nbut during upload and listing, too. In particular, this can disable\nupload/download integrity checks or cause the client to issue HEAD\nrequests to see whether the MD5 was stored in metadata on the object.\n\nThe goal of this patch is to get as many of the benefits of the dash as\nwe can, even for data that was uploaded via the Swift API or that\npredated the related-changes. To that end (and for S3 API requests\n*only*), look for any indication that an object may be an SLO and tack\non a literal '-N' to the end of the ETag. Why 'N'? Two main reasons:\n\n - We don't necessarily know how many segments there are, and don't want\n   to use additional backend requests to find out (particularly when it\n   would require *multiple* additional requests as in a bucket listing).\n - We don't want to provide an arbitrary number (as ProxyFS does [1])\n   because it would look *too much* like an S3 ETag, and if any client\n   actually cares about the *exact* ETag generation algorithm, I'd\n   prefer to have a way to distinguish between the two.\n\nThis modified ETag will be used in key GET/HEAD responses via the S3\nAPI, where SLOs are always indicated with a X-Static-Large-Object\nheader. Either the modified or original ETag may be used for conditional\nrequests via the S3 API. Bucket listings via the S3 API *may* present\nthe modified ETag, but only if the JSON container listing includes an\n'slo_etag' key for the object; see the related SLO patch for when that\nstarted happening.\n\nThere should be no impact for the Swift API.\n\n[1] https://github.com/swiftstack/ProxyFS/blob/1.6.4/pfs_middleware/pfs_middleware/middleware.py#L443-L455\n\nChange-Id: If4c47d7b13dcb4b3d04c52bb08b15ca2069cd15c\nRelated-Change: Ibe68c44bef6c17605863e9084503e8f5dc577fab\nRelated-Change: I67478923619b00ec1a37d56b6fec6a218453dafc\n""}, {'number': 3, 'created': '2018-10-01 19:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/558dbb5f2b30c36f5f2afc5003eabe67d0bdeda7', 'message': ""s3api: Include '-' in S3 ETags of normal SLOs\n\nOrdinary objects in S3 use the MD5 of the object as the ETag, just like\nSwift. Multipart Uploads follow a different format, notably including a\ndash followed by the number of segments.\n\nSeveral clients use this difference to change their behavior based upon\nthe presence of a dash in object ETags, not only during object download\nbut during upload and listing, too. In particular, this can disable\nupload/download integrity checks or cause the client to issue HEAD\nrequests to see whether the MD5 was stored in metadata on the object.\n\nThe goal of this patch is to get as many of the benefits of the dash as\nwe can, even for data that was uploaded via the Swift API or that\npredated the related-changes. To that end (and for S3 API requests\n*only*), look for any indication that an object may be an SLO and tack\non a literal '-N' to the end of the ETag. Why 'N'? Two main reasons:\n\n - We don't necessarily know how many segments there are, and don't want\n   to use additional backend requests to find out (particularly when it\n   would require *multiple* additional requests as in a bucket listing).\n - We don't want to provide an arbitrary number (as ProxyFS does [1])\n   because it would look *too much* like an S3 ETag, and if any client\n   actually cares about the *exact* ETag generation algorithm, I'd\n   prefer to have a way to distinguish between the two.\n\nThis modified ETag will be used in key GET/HEAD responses via the S3\nAPI, where SLOs are always indicated with a X-Static-Large-Object\nheader. Either the modified or original ETag may be used for conditional\nrequests via the S3 API. Bucket listings via the S3 API *may* present\nthe modified ETag, but only if the JSON container listing includes an\n'slo_etag' key for the object; see the related SLO patch for when that\nstarted happening.\n\nThere should be no impact for the Swift API.\n\n[1] https://github.com/swiftstack/ProxyFS/blob/1.6.4/pfs_middleware/pfs_middleware/middleware.py#L443-L455\n\nChange-Id: If4c47d7b13dcb4b3d04c52bb08b15ca2069cd15c\nRelated-Change: Ibe68c44bef6c17605863e9084503e8f5dc577fab\nRelated-Change: I67478923619b00ec1a37d56b6fec6a218453dafc\n""}, {'number': 4, 'created': '2018-11-02 21:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f055c1788ff09c0814de6e90dfbc90f5d04d933b', 'message': ""s3api: Include '-' in S3 ETags of normal SLOs\n\nOrdinary objects in S3 use the MD5 of the object as the ETag, just like\nSwift. Multipart Uploads follow a different format, notably including a\ndash followed by the number of segments.\n\nSeveral clients use this difference to change their behavior based upon\nthe presence of a dash in object ETags, not only during object download\nbut during upload and listing, too. In particular, this can disable\nupload/download integrity checks or cause the client to issue HEAD\nrequests to see whether the MD5 was stored in metadata on the object.\n\nThe goal of this patch is to get as many of the benefits of the dash as\nwe can, even for data that was uploaded via the Swift API or that\npredated the related-changes. To that end (and for S3 API requests\n*only*), look for any indication that an object may be an SLO and tack\non a literal '-N' to the end of the ETag. Why 'N'? Two main reasons:\n\n - We don't necessarily know how many segments there are, and don't want\n   to use additional backend requests to find out (particularly when it\n   would require *multiple* additional requests as in a bucket listing).\n - We don't want to provide an arbitrary number (as ProxyFS does [1])\n   because it would look *too much* like an S3 ETag, and if any client\n   actually cares about the *exact* ETag generation algorithm, I'd\n   prefer to have a way to distinguish between the two.\n\nThis modified ETag will be used in key GET/HEAD responses via the S3\nAPI, where SLOs are always indicated with a X-Static-Large-Object\nheader. Either the modified or original ETag may be used for conditional\nrequests via the S3 API. Bucket listings via the S3 API *may* present\nthe modified ETag, but only if the JSON container listing includes an\n'slo_etag' key for the object; see the related SLO patch for when that\nstarted happening.\n\nThere should be no impact for the Swift API.\n\n[1] https://github.com/swiftstack/ProxyFS/blob/1.6.4/pfs_middleware/pfs_middleware/middleware.py#L443-L455\n\nChange-Id: If4c47d7b13dcb4b3d04c52bb08b15ca2069cd15c\nRelated-Change: Ibe68c44bef6c17605863e9084503e8f5dc577fab\nRelated-Change: I67478923619b00ec1a37d56b6fec6a218453dafc\n""}, {'number': 5, 'created': '2018-11-22 00:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8e4c10d865c0babedc3e1c4059308bd12efbf1e8', 'message': ""s3api: Include '-' in S3 ETags of normal SLOs\n\nOrdinary objects in S3 use the MD5 of the object as the ETag, just like\nSwift. Multipart Uploads follow a different format, notably including a\ndash followed by the number of segments.\n\nSeveral clients use this difference to change their behavior based upon\nthe presence of a dash in object ETags, not only during object download\nbut during upload and listing, too. In particular, this can disable\nupload/download integrity checks or cause the client to issue HEAD\nrequests to see whether the MD5 was stored in metadata on the object.\n\nThe goal of this patch is to get as many of the benefits of the dash as\nwe can, even for data that was uploaded via the Swift API or that\npredated the related-changes. To that end (and for S3 API requests\n*only*), look for any indication that an object may be an SLO and tack\non a literal '-N' to the end of the ETag. Why 'N'? Two main reasons:\n\n - We don't necessarily know how many segments there are, and don't want\n   to use additional backend requests to find out (particularly when it\n   would require *multiple* additional requests as in a bucket listing).\n - We don't want to provide an arbitrary number (as ProxyFS does [1])\n   because it would look *too much* like an S3 ETag, and if any client\n   actually cares about the *exact* ETag generation algorithm, I'd\n   prefer to have a way to distinguish between the two.\n\nThis modified ETag will be used in key GET/HEAD responses via the S3\nAPI, where SLOs are always indicated with a X-Static-Large-Object\nheader. Either the modified or original ETag may be used for conditional\nrequests via the S3 API. Bucket listings via the S3 API *may* present\nthe modified ETag, but only if the JSON container listing includes an\n'slo_etag' key for the object; see the related SLO patch for when that\nstarted happening.\n\nThere should be no impact for the Swift API.\n\n[1] https://github.com/swiftstack/ProxyFS/blob/1.6.4/pfs_middleware/pfs_middleware/middleware.py#L443-L455\n\nChange-Id: If4c47d7b13dcb4b3d04c52bb08b15ca2069cd15c\nRelated-Change: Ibe68c44bef6c17605863e9084503e8f5dc577fab\nRelated-Change: I67478923619b00ec1a37d56b6fec6a218453dafc\n""}, {'number': 6, 'created': '2018-11-22 05:31:57.000000000', 'files': ['swift/common/middleware/s3api/controllers/obj.py', 'test/unit/common/middleware/s3api/test_bucket.py', 'swift/common/middleware/s3api/s3response.py', 'test/unit/common/middleware/s3api/test_s3response.py', 'swift/common/middleware/s3api/controllers/bucket.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/42b4cdc53844f153bb26498ca661d4d6e3e5fa99', 'message': ""s3api: Include '-' in S3 ETags of normal SLOs\n\nOrdinary objects in S3 use the MD5 of the object as the ETag, just like\nSwift. Multipart Uploads follow a different format, notably including a\ndash followed by the number of segments.\n\nSeveral clients use this difference to change their behavior based upon\nthe presence of a dash in object ETags, not only during object download\nbut during upload and listing, too. In particular, this can disable\nupload/download integrity checks or cause the client to issue HEAD\nrequests to see whether the MD5 was stored in metadata on the object.\n\nThe goal of this patch is to get as many of the benefits of the dash as\nwe can, even for data that was uploaded via the Swift API or that\npredated the related-changes. To that end (and for S3 API requests\n*only*), look for any indication that an object may be an SLO and tack\non a literal '-N' to the end of the ETag. Why 'N'? Two main reasons:\n\n - We don't necessarily know how many segments there are, and don't want\n   to use additional backend requests to find out (particularly when it\n   would require *multiple* additional requests as in a bucket listing).\n - We don't want to provide an arbitrary number (as ProxyFS does [1])\n   because it would look *too much* like an S3 ETag, and if any client\n   actually cares about the *exact* ETag generation algorithm, I'd\n   prefer to have a way to distinguish between the two.\n\nThis modified ETag will be used in key GET/HEAD responses via the S3\nAPI, where SLOs are always indicated with a X-Static-Large-Object\nheader. Either the modified or original ETag may be used for conditional\nrequests via the S3 API. Bucket listings via the S3 API *may* present\nthe modified ETag, but only if the JSON container listing includes an\n'slo_etag' key for the object; see the related SLO patch for when that\nstarted happening.\n\nThere should be no impact for the Swift API.\n\n[1] https://github.com/swiftstack/ProxyFS/blob/1.6.4/pfs_middleware/pfs_middleware/middleware.py#L443-L455\n\nChange-Id: If4c47d7b13dcb4b3d04c52bb08b15ca2069cd15c\nRelated-Change: Ibe68c44bef6c17605863e9084503e8f5dc577fab\nRelated-Change: I67478923619b00ec1a37d56b6fec6a218453dafc\n""}]",2,592231,42b4cdc53844f153bb26498ca661d4d6e3e5fa99,25,7,6,15343,,,0,"s3api: Include '-' in S3 ETags of normal SLOs

Ordinary objects in S3 use the MD5 of the object as the ETag, just like
Swift. Multipart Uploads follow a different format, notably including a
dash followed by the number of segments.

Several clients use this difference to change their behavior based upon
the presence of a dash in object ETags, not only during object download
but during upload and listing, too. In particular, this can disable
upload/download integrity checks or cause the client to issue HEAD
requests to see whether the MD5 was stored in metadata on the object.

The goal of this patch is to get as many of the benefits of the dash as
we can, even for data that was uploaded via the Swift API or that
predated the related-changes. To that end (and for S3 API requests
*only*), look for any indication that an object may be an SLO and tack
on a literal '-N' to the end of the ETag. Why 'N'? Two main reasons:

 - We don't necessarily know how many segments there are, and don't want
   to use additional backend requests to find out (particularly when it
   would require *multiple* additional requests as in a bucket listing).
 - We don't want to provide an arbitrary number (as ProxyFS does [1])
   because it would look *too much* like an S3 ETag, and if any client
   actually cares about the *exact* ETag generation algorithm, I'd
   prefer to have a way to distinguish between the two.

This modified ETag will be used in key GET/HEAD responses via the S3
API, where SLOs are always indicated with a X-Static-Large-Object
header. Either the modified or original ETag may be used for conditional
requests via the S3 API. Bucket listings via the S3 API *may* present
the modified ETag, but only if the JSON container listing includes an
'slo_etag' key for the object; see the related SLO patch for when that
started happening.

There should be no impact for the Swift API.

[1] https://github.com/swiftstack/ProxyFS/blob/1.6.4/pfs_middleware/pfs_middleware/middleware.py#L443-L455

Change-Id: If4c47d7b13dcb4b3d04c52bb08b15ca2069cd15c
Related-Change: Ibe68c44bef6c17605863e9084503e8f5dc577fab
Related-Change: I67478923619b00ec1a37d56b6fec6a218453dafc
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/592231/6 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/obj.py', 'test/unit/common/middleware/s3api/test_bucket.py', 'swift/common/middleware/s3api/s3response.py', 'test/unit/common/middleware/s3api/test_s3response.py', 'swift/common/middleware/s3api/controllers/bucket.py']",5,8d4cbee22abd2ebfff23e782a1a069f06b788019,slo-etag," elif 'slo_etag' in o: # SLOs may be in something *close* to the MU format etag = '""%s-N""' % o['slo_etag'].strip('""') else: # Normal objects just use the MD5 # This also catches sufficiently-old SLOs, but we have # no way to identify those from container listings", else:,42,13
openstack%2Fswift~master~I361f4a00322e2459a5895337be357bde69742684,openstack/swift,master,I361f4a00322e2459a5895337be357bde69742684,DNM: test with older PasteDeploy,ABANDONED,2018-12-03 21:48:19.000000000,2018-12-06 19:15:45.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-03 21:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fd99f533183b96f13192aff79cafb9c9f7b78421', 'message': 'DNM: test with older PasteDeploy\n\nChange-Id: I361f4a00322e2459a5895337be357bde69742684\n'}, {'number': 2, 'created': '2018-12-03 23:05:51.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/8d1597cdec4a056f1e686007e486feedda8cdc6b', 'message': 'DNM: test with older PasteDeploy\n\nChange-Id: I361f4a00322e2459a5895337be357bde69742684\n'}]",0,621708,8d1597cdec4a056f1e686007e486feedda8cdc6b,5,2,2,15343,,,0,"DNM: test with older PasteDeploy

Change-Id: I361f4a00322e2459a5895337be357bde69742684
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/621708/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,fd99f533183b96f13192aff79cafb9c9f7b78421,,install_command = pip install -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},2,2
openstack%2Fopenstack-helm-infra~master~I6011ee6f41044647dea43fa2848058d723e194b8,openstack/openstack-helm-infra,master,I6011ee6f41044647dea43fa2848058d723e194b8,Disable Ceph helm test while being updated.,MERGED,2018-12-06 01:12:16.000000000,2018-12-06 18:42:56.000000000,2018-12-06 18:42:56.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 26628}, {'_account_id': 28372}, {'_account_id': 29268}]","[{'number': 1, 'created': '2018-12-06 01:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f98bc4aac3afed8eed2967120793c7ca1f168c52', 'message': 'Disable Ceph-rgw helm test while being updated.\n\nChange-Id: I6011ee6f41044647dea43fa2848058d723e194b8\n'}, {'number': 2, 'created': '2018-12-06 15:47:34.000000000', 'files': ['ceph-client/values.yaml', 'ceph-rgw/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5aaa59f23fd864734eafa7b2c91fe729af4b5e96', 'message': 'Disable Ceph helm test while being updated.\n\nChange-Id: I6011ee6f41044647dea43fa2848058d723e194b8\n'}]",0,623111,5aaa59f23fd864734eafa7b2c91fe729af4b5e96,12,6,2,24165,,,0,"Disable Ceph helm test while being updated.

Change-Id: I6011ee6f41044647dea43fa2848058d723e194b8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/623111/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/values.yaml'],1,f98bc4aac3afed8eed2967120793c7ca1f168c52,disable-ceph-rgw-test, helm_tests: false, helm_tests: true,1,1
openstack%2Foslosphinx~master~I0876c1bc076443fcdeb5d8a01ed5145376ee6866,openstack/oslosphinx,master,I0876c1bc076443fcdeb5d8a01ed5145376ee6866,Applying the HTTPS protocal in usage.rst.,MERGED,2018-11-13 18:30:05.000000000,2018-12-06 18:31:11.000000000,2018-12-06 18:31:11.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 18:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslosphinx/commit/62a54c306089ec1b83ca8773b18783366ed59f8e', 'message': ""Applying the HTTPS protocal in usage.rst.To keep the website in this file be more robust,we'd better update the links to HTTPS type\n\nChange-Id: I0876c1bc076443fcdeb5d8a01ed5145376ee6866\n""}, {'number': 2, 'created': '2018-12-06 17:47:08.000000000', 'files': ['doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/oslosphinx/commit/e02631f2ec8efe09336368804ff471c1c4136ea7', 'message': ""Applying the HTTPS protocal in usage.rst.\n\nTo keep the website in this file be more robust,we'd better update the \nlinks to HTTPS type\n\nChange-Id: I0876c1bc076443fcdeb5d8a01ed5145376ee6866\n""}]",0,617775,e02631f2ec8efe09336368804ff471c1c4136ea7,9,2,2,29423,,,0,"Applying the HTTPS protocal in usage.rst.

To keep the website in this file be more robust,we'd better update the 
links to HTTPS type

Change-Id: I0876c1bc076443fcdeb5d8a01ed5145376ee6866
",git fetch https://review.opendev.org/openstack/oslosphinx refs/changes/75/617775/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/usage.rst'],1,62a54c306089ec1b83ca8773b18783366ed59f8e,,"https://www.openstack.org/brand. In particular, if the project is not oslosphinx_cgit_link = 'https://git.openstack.org/cgit/openstack/oslosphinx'","http://www.openstack.org/brand. In particular, if the project is not oslosphinx_cgit_link = 'http://git.openstack.org/cgit/openstack/oslosphinx'",2,2
openstack%2Ftripleo-quickstart~master~I2b5968b67278673158ef9bffcfb83ad2b6c20cb8,openstack/tripleo-quickstart,master,I2b5968b67278673158ef9bffcfb83ad2b6c20cb8,fs050: do not try to cleanup rpms when upgrading,ABANDONED,2018-12-06 15:19:42.000000000,2018-12-06 18:24:35.000000000,,"[{'_account_id': 3153}, {'_account_id': 18846}]","[{'number': 1, 'created': '2018-12-06 15:19:42.000000000', 'files': ['config/general_config/featureset050.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dfbce0a50316e8550af4308c3781119a3b82e9ca', 'message': ""fs050: do not try to cleanup rpms when upgrading\n\nundercloud_upgrade_cleanup variable is controlling upgrade_cleanup in\nundercloud.conf, where tripleoclient uses it to set UpgradeRemoveUnusedPackages\nin Heat.\nIf UpgradeRemoveUnusedPackages is set to true, the OpenStack rpms will\nbe erased from the host.\nWhen a package is erased, very often the systemd service is stopped\nbefore removing the package. It is problematic when Podman is deployed\nbecause some of our containers (e.g. haproxy) have the same name from\nbaremetal services.\n\nNote: UpgradeRemoveUnusedPackages was kept for our operators to want to\ndo some cleanup during the upgrade, if they didn't do it in Rocky when\nthe parameter was implemented. This parameter will be deprecated and\nremoved in the future.\n\nSome options were explored:\n\n1) Hack in the yum module to not try to stop the service when removing\nthe package. It sounds difficult and would increase technical debt.\n\n2) Rename Systemd services for each Podman containers (in Paunch). But\nour operators would have to learn 2 names: container name in podman and\nservice name in systemd. This idea isn't ideal for them.\n\n3) Ignore the package removal task in THT if container_cli == podman.\nThis is not very useful in Stein since we are moving the default to\nPodman anyway.\n\n4) Keep UpgradeRemoveUnusedPackages set to false by default, document that\nUpgradeRemoveUnusedPackages should not be set to true if podman is used\nand update our CI to not set UpgradeRemoveUnusedPackages to true when\npodman is enabled.\n\nIn this patch, we retain option #4 and update featureset050 which tests\ncontainerized undercloud upgrades from Rocky/Docker to Stein/Podman.\nUpgradeRemoveUnusedPackages will be set to false, so packages (not here\nanyway) won't tried to be removed, and podman containers won't be\nstopped during the upgrade.\n\nChange-Id: I2b5968b67278673158ef9bffcfb83ad2b6c20cb8\n""}]",2,623230,dfbce0a50316e8550af4308c3781119a3b82e9ca,6,2,1,3153,,,0,"fs050: do not try to cleanup rpms when upgrading

undercloud_upgrade_cleanup variable is controlling upgrade_cleanup in
undercloud.conf, where tripleoclient uses it to set UpgradeRemoveUnusedPackages
in Heat.
If UpgradeRemoveUnusedPackages is set to true, the OpenStack rpms will
be erased from the host.
When a package is erased, very often the systemd service is stopped
before removing the package. It is problematic when Podman is deployed
because some of our containers (e.g. haproxy) have the same name from
baremetal services.

Note: UpgradeRemoveUnusedPackages was kept for our operators to want to
do some cleanup during the upgrade, if they didn't do it in Rocky when
the parameter was implemented. This parameter will be deprecated and
removed in the future.

Some options were explored:

1) Hack in the yum module to not try to stop the service when removing
the package. It sounds difficult and would increase technical debt.

2) Rename Systemd services for each Podman containers (in Paunch). But
our operators would have to learn 2 names: container name in podman and
service name in systemd. This idea isn't ideal for them.

3) Ignore the package removal task in THT if container_cli == podman.
This is not very useful in Stein since we are moving the default to
Podman anyway.

4) Keep UpgradeRemoveUnusedPackages set to false by default, document that
UpgradeRemoveUnusedPackages should not be set to true if podman is used
and update our CI to not set UpgradeRemoveUnusedPackages to true when
podman is enabled.

In this patch, we retain option #4 and update featureset050 which tests
containerized undercloud upgrades from Rocky/Docker to Stein/Podman.
UpgradeRemoveUnusedPackages will be set to false, so packages (not here
anyway) won't tried to be removed, and podman containers won't be
stopped during the upgrade.

Change-Id: I2b5968b67278673158ef9bffcfb83ad2b6c20cb8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/623230/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset050.yml'],1,dfbce0a50316e8550af4308c3781119a3b82e9ca,,undercloud_upgrade_cleanup: >- {% if release in ['rocky'] -%} true {%- else -%} false {%- endif -%},undercloud_upgrade_cleanup: true,6,1
openstack%2Fpython-tripleoclient~stable%2Frocky~I9574597b0f4129d26ca2d09f7d3c9b67a4212bda,openstack/python-tripleoclient,stable/rocky,I9574597b0f4129d26ca2d09f7d3c9b67a4212bda,Remove timeout in config-download,MERGED,2018-11-29 15:00:28.000000000,2018-12-06 18:23:07.000000000,2018-12-06 18:23:07.000000000,"[{'_account_id': 3153}, {'_account_id': 7385}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-11-29 15:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/79924c5abfba1fb20aee17d11e2e1f2ef0b1cb36', 'message': ""Remove timeout in config-download\n\nWe can reach it easily with long-running command, let's remove it.\n\nChange-Id: I9574597b0f4129d26ca2d09f7d3c9b67a4212bda\nCloses-Bug: #1805649\n""}, {'number': 2, 'created': '2018-11-29 15:06:41.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b9171e072804e7290211555f0290e904625eb293', 'message': ""Remove timeout in config-download\n\nWe can reach it easily with long-running command, let's remove it.\n\nChange-Id: I9574597b0f4129d26ca2d09f7d3c9b67a4212bda\nCloses-Bug: #1805649\n(cherry picked from commit 5d5c86788778f01c9c2ee697aa7cbd08ca0d440c)\n""}]",0,620925,b9171e072804e7290211555f0290e904625eb293,13,6,2,28223,,,0,"Remove timeout in config-download

We can reach it easily with long-running command, let's remove it.

Change-Id: I9574597b0f4129d26ca2d09f7d3c9b67a4212bda
Closes-Bug: #1805649
(cherry picked from commit 5d5c86788778f01c9c2ee697aa7cbd08ca0d440c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/620925/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,79924c5abfba1fb20aee17d11e2e1f2ef0b1cb36,bug/1805649-stable/rocky," for payload in base.wait_for_messages(workflow_client, ws, execution):"," for payload in base.wait_for_messages(workflow_client, ws, execution, 3600):",1,2
openstack%2Foctavia~master~Ibfffe54b4d38e9000218f113ba775b7789c2936d,openstack/octavia,master,Ibfffe54b4d38e9000218f113ba775b7789c2936d,Fix centos7 gate for centos 7.6 release,ABANDONED,2018-12-03 22:39:51.000000000,2018-12-06 17:08:18.000000000,,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-03 22:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/64f3ff6c982268e590449703f721b8acbaf404bc', 'message': 'Fix centos7 gate for centos 7.6 release\n\nIt appears golang was renamed for centos 7.6 to go-toolset-7.\n\nChange-Id: Ibfffe54b4d38e9000218f113ba775b7789c2936d\n'}, {'number': 2, 'created': '2018-12-04 17:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f0b4b3bdfa93125171bcefc2c9e3f934bdaa2d90', 'message': 'Fix centos7 gate for centos 7.6 release\n\nIt appears golang was renamed for centos 7.6 to go-toolset-7.\n\nChange-Id: Ibfffe54b4d38e9000218f113ba775b7789c2936d\n'}, {'number': 3, 'created': '2018-12-04 17:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2f3654528852e62e09256930069ae1e6ba4873c0', 'message': 'Fix centos7 gate for centos 7.6 release\n\nIt appears golang was renamed for centos 7.6 to go-toolset-7.\n\nChange-Id: Ibfffe54b4d38e9000218f113ba775b7789c2936d\n'}, {'number': 4, 'created': '2018-12-05 08:48:17.000000000', 'files': ['devstack/files/rpms/octavia', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2f7dce48ee508e9e29ed283aae943b59367a6046', 'message': 'Fix centos7 gate for centos 7.6 release\n\nIt appears golang was renamed for centos 7.6 to go-toolset-7.\n\nDepends-On: https://review.openstack.org/#/c/622590/\nChange-Id: Ibfffe54b4d38e9000218f113ba775b7789c2936d\n'}]",1,621719,2f7dce48ee508e9e29ed283aae943b59367a6046,11,4,4,11628,,,0,"Fix centos7 gate for centos 7.6 release

It appears golang was renamed for centos 7.6 to go-toolset-7.

Depends-On: https://review.openstack.org/#/c/622590/
Change-Id: Ibfffe54b4d38e9000218f113ba775b7789c2936d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/19/621719/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/files/rpms/octavia'],1,64f3ff6c982268e590449703f721b8acbaf404bc,621719,go-toolset-7,golang,1,1
openstack%2Fpython-keystoneclient~master~Idd26135eb12bfa4acaed9f42f0a5d6ad9492c7fc,openstack/python-keystoneclient,master,Idd26135eb12bfa4acaed9f42f0a5d6ad9492c7fc,Add Python 3.6 classifier to setup.cfg,MERGED,2018-11-30 06:57:05.000000000,2018-12-06 17:04:55.000000000,2018-12-06 17:04:55.000000000,"[{'_account_id': 11022}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-11-30 06:57:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/ce447696f7d442b301d85c98e9d3fc92076f4cd0', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: Idd26135eb12bfa4acaed9f42f0a5d6ad9492c7fc\n'}]",0,621080,ce447696f7d442b301d85c98e9d3fc92076f4cd0,9,5,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: Idd26135eb12bfa4acaed9f42f0a5d6ad9492c7fc
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/80/621080/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ce447696f7d442b301d85c98e9d3fc92076f4cd0,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fmagnum~stable%2Frocky~Ibc932d35f3d6ba2ac7ffb6193aa37bd4a3d4422e,openstack/magnum,stable/rocky,Ibc932d35f3d6ba2ac7ffb6193aa37bd4a3d4422e,Add support for www_authentication_uri,MERGED,2018-11-09 19:53:31.000000000,2018-12-06 16:45:28.000000000,2018-12-06 16:45:27.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28411}]","[{'number': 1, 'created': '2018-11-09 19:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8b2d442119598d4fe7626ba58070ac4b46be7ca1', 'message': 'Add support for www_authentication_uri\n\nWe do currently not support www_authentication_uri at all, which\nis the new standard, as auth_uri has long been deprecated.\n\n* Make sure we support both auth_uri and www_authenticate_uri.\n* Switched to www_authenticate_uri for devstack.\n* Fixed a bug where a bad exception would be thrown if auth_uri\n  was not set.\n  \nStory: 2004271\nTask: 27819\n\nChange-Id: Ibc932d35f3d6ba2ac7ffb6193aa37bd4a3d4422e\n(cherry picked from commit 718cb9c9b475a705783c0cd07a0c02b9be33f0c6)\n'}, {'number': 2, 'created': '2018-11-14 21:01:29.000000000', 'files': ['magnum/tests/contrib/post_test_hook.sh', 'devstack/lib/magnum', 'magnum/common/keystone.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e10c02fb3d1605d47f50a577ac298bff6e14f64e', 'message': 'Add support for www_authentication_uri\n\nWe do currently not support www_authentication_uri at all, which\nis the new standard, as auth_uri has long been deprecated.\n\n* Make sure we support both auth_uri and www_authenticate_uri.\n* Switched to www_authenticate_uri for devstack.\n* Fixed a bug where a bad exception would be thrown if auth_uri\n  was not set.\n  \nStory: 2004271\nTask: 27819\n\nChange-Id: Ibc932d35f3d6ba2ac7ffb6193aa37bd4a3d4422e\n(cherry picked from commit 718cb9c9b475a705783c0cd07a0c02b9be33f0c6)\n'}]",0,617025,e10c02fb3d1605d47f50a577ac298bff6e14f64e,13,4,2,22623,,,0,"Add support for www_authentication_uri

We do currently not support www_authentication_uri at all, which
is the new standard, as auth_uri has long been deprecated.

* Make sure we support both auth_uri and www_authenticate_uri.
* Switched to www_authenticate_uri for devstack.
* Fixed a bug where a bad exception would be thrown if auth_uri
  was not set.
  
Story: 2004271
Task: 27819

Change-Id: Ibc932d35f3d6ba2ac7ffb6193aa37bd4a3d4422e
(cherry picked from commit 718cb9c9b475a705783c0cd07a0c02b9be33f0c6)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/25/617025/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/contrib/post_test_hook.sh', 'devstack/lib/magnum', 'magnum/common/keystone.py']",3,8b2d442119598d4fe7626ba58070ac4b46be7ca1,," conf = CONF[ksconf.CFG_LEGACY_GROUP] auth_uri = (getattr(conf, 'www_authenticate_uri', None) or getattr(conf, 'auth_uri', None)) if auth_uri: auth_uri = auth_uri.replace('v2.0', 'v3') return auth_uri"," return CONF[ksconf.CFG_LEGACY_GROUP].auth_uri.replace('v2.0', 'v3')",8,3
openstack%2Frpm-packaging~master~I4ec0368bcba456d803fb4c896e1f85dc05cda4ab,openstack/rpm-packaging,master,I4ec0368bcba456d803fb4c896e1f85dc05cda4ab,openstack-dashboard based plugins need openstack_auth,ABANDONED,2018-11-29 14:35:09.000000000,2018-12-06 16:43:51.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-11-29 14:35:09.000000000', 'files': ['openstack/neutron-vpnaas-dashboard/neutron-vpnaas-dashboard.spec.j2', 'openstack/neutron-fwaas-dashboard/neutron-fwaas-dashboard.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9745f6792e41c648b6d2e7d511163020810ed1d5', 'message': 'openstack-dashboard based plugins need openstack_auth\n\nthis build time dependancy was introduced by\nIb9912090a87b716e7f5710f6f360b0df168ec2e3\n\nChange-Id: I4ec0368bcba456d803fb4c896e1f85dc05cda4ab\n'}]",0,620923,9745f6792e41c648b6d2e7d511163020810ed1d5,6,4,1,23735,,,0,"openstack-dashboard based plugins need openstack_auth

this build time dependancy was introduced by
Ib9912090a87b716e7f5710f6f360b0df168ec2e3

Change-Id: I4ec0368bcba456d803fb4c896e1f85dc05cda4ab
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/23/620923/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/neutron-vpnaas-dashboard/neutron-vpnaas-dashboard.spec.j2', 'openstack/neutron-fwaas-dashboard/neutron-fwaas-dashboard.spec.j2']",2,9745f6792e41c648b6d2e7d511163020810ed1d5,,BuildRequires: {{ py2pkg('openstack_auth') }},,2,0
openstack%2Freleases~master~Ia899aefd7b46b014806903d4f2ea64b480798f47,openstack/releases,master,Ia899aefd7b46b014806903d4f2ea64b480798f47,openstackdocstheme 1.28.0,MERGED,2018-12-05 14:20:27.000000000,2018-12-06 16:41:33.000000000,2018-12-06 16:41:33.000000000,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 14482}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 14:20:27.000000000', 'files': ['deliverables/_independent/openstackdocstheme.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d7d7ed45447934b4bdbac59863d054c588ec082c', 'message': 'openstackdocstheme 1.28.0\n\nChange-Id: Ia899aefd7b46b014806903d4f2ea64b480798f47\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,622973,d7d7ed45447934b4bdbac59863d054c588ec082c,10,5,1,2472,,,0,"openstackdocstheme 1.28.0

Change-Id: Ia899aefd7b46b014806903d4f2ea64b480798f47
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/622973/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstackdocstheme.yaml'],1,d7d7ed45447934b4bdbac59863d054c588ec082c,openstackdocstheme-1.28.0, - projects: - hash: a0684ace5e49ef935bd314928dc1acde3da6e11a repo: openstack/openstackdocstheme version: 1.28.0,,4,0
openstack%2Fos-brick~stable%2Fpike~Ib539f6a3652bab4399c30cd90f326829e839ec02,openstack/os-brick,stable/pike,Ib539f6a3652bab4399c30cd90f326829e839ec02,Fixing FC scanning,MERGED,2018-12-04 15:06:03.000000000,2018-12-06 16:37:06.000000000,2018-12-06 16:37:06.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2018-12-04 15:06:03.000000000', 'files': ['os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f821a87ef0fd59cb1b48a85eed16b1f3f16e7467', 'message': ""Fixing FC scanning\n\nCurrent FC tries to limit the scanning range by detecting the target and\nchannel, unfortunately this code has a good number of implementation\nissues:\n\n- Matching uses local WWNN instead of target's WWPN.\n- Not using a shell to run the command, so the * glob won't expand.\n- Not using -l on grep command to list file names instead of contents.\n- Not making the search case insensitive.\n\nThis patch fixes all these issues by using the target's WWPNs instead\n-taking into account FC Zone/Access control information if present- and\nsupporting both possible connection information formats for the WWPNs\n(single value or list of values).\n\nRescan tests have been modified to adhere to unit tests best practices,\nwhere each test case only tests the specific code in the method under\ntest and mocks everything else.\n\nCloses-Bug: #1664653\nCloses-Bug: #1684996\nCloses-Bug: #1687607\nChange-Id: Ib539f6a3652bab4399c30cd90f326829e839ec02\n(cherry picked from commit 4ee404466d3f2ced8bfdfb18927ef19a27967952)\n""}]",0,622348,f821a87ef0fd59cb1b48a85eed16b1f3f16e7467,31,13,1,14892,,,0,"Fixing FC scanning

Current FC tries to limit the scanning range by detecting the target and
channel, unfortunately this code has a good number of implementation
issues:

- Matching uses local WWNN instead of target's WWPN.
- Not using a shell to run the command, so the * glob won't expand.
- Not using -l on grep command to list file names instead of contents.
- Not making the search case insensitive.

This patch fixes all these issues by using the target's WWPNs instead
-taking into account FC Zone/Access control information if present- and
supporting both possible connection information formats for the WWPNs
(single value or list of values).

Rescan tests have been modified to adhere to unit tests best practices,
where each test case only tests the specific code in the method under
test and mocks everything else.

Closes-Bug: #1664653
Closes-Bug: #1684996
Closes-Bug: #1687607
Change-Id: Ib539f6a3652bab4399c30cd90f326829e839ec02
(cherry picked from commit 4ee404466d3f2ced8bfdfb18927ef19a27967952)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/48/622348/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py']",3,f821a87ef0fd59cb1b48a85eed16b1f3f16e7467,bug/1664653-stable/pike," @staticmethod def __get_rescan_info(zone_manager=False): connection_properties = { 'initiator_target_map': {'50014380186af83c': ['514f0c50023f6c00'], '50014380186af83e': ['514f0c50023f6c01']}, 'target_discovered': False, 'target_lun': 1, 'target_wwn': ['514f0c50023f6c00', '514f0c50023f6c01'] } hbas = [ {'device_path': ('/sys/devices/pci0000:00/0000:00:02.0/' '0000:04:00.0/host6/fc_host/host6'), 'host_device': 'host6', 'node_name': '50014380186af83d', 'port_name': '50014380186af83c'}, {'device_path': ('/sys/devices/pci0000:00/0000:00:02.0/' '0000:04:00.1/host7/fc_host/host7'), 'host_device': 'host7', 'node_name': '50014380186af83f', 'port_name': '50014380186af83e'}, ] if not zone_manager: del connection_properties['initiator_target_map'] return hbas, connection_properties def test__get_hba_channel_scsi_target_single_wwpn(self): execute_results = ('/sys/class/fc_transport/target6:0:1/port_name\n', '') hbas, con_props = self.__get_rescan_info() con_props['target_wwn'] = con_props['target_wwn'][0] return_value=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) expected = [['0', '1']] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_multiple_wwpn(self): execute_results = ('/sys/class/fc_transport/target6:0:1/port_name\n' '/sys/class/fc_transport/target6:0:2/port_name\n', '') hbas, con_props = self.__get_rescan_info() with mock.patch.object(self.lfc, '_execute', return_value=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00\|514f0c50023f6c01"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) expected = [['0', '1'], ['0', '2']] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_zone_manager(self): execute_results = ('/sys/class/fc_transport/target6:0:1/port_name\n', '') hbas, con_props = self.__get_rescan_info(zone_manager=True) with mock.patch.object(self.lfc, '_execute', return_value=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) expected = [['0', '1']] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_not_found(self): hbas, con_props = self.__get_rescan_info(zone_manager=True) with mock.patch.object(self.lfc, '_execute', return_value=('', '')) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) self.assertListEqual([], res) def test__get_hba_channel_scsi_target_exception(self): hbas, con_props = self.__get_rescan_info(zone_manager=True) with mock.patch.object(self.lfc, '_execute', side_effect=Exception) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) self.assertIsNone(res) def test_rescan_hosts(self): get_chan_results = [[['2', '3'], ['4', '5']], [['6', '7']]] hbas, con_props = self.__get_rescan_info(zone_manager=True) with mock.patch.object(self.lfc, '_execute', return_value=None) as execute_mock, \ mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', side_effect=get_chan_results) as mock_get_chan: self.lfc.rescan_hosts(hbas, con_props) mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', mock.call('tee', '-a', '/sys/class/scsi_host/host7/scan', expected_calls = [mock.call(hbas[0], con_props), mock.call(hbas[1], con_props)] mock_get_chan.assert_has_calls(expected_calls) def test_rescan_hosts_wildcard(self): hbas, con_props = self.__get_rescan_info(zone_manager=True) side_effect=(None, [])), \ side_effect=None) as execute_mock: self.lfc.rescan_hosts(hbas, con_props) mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', mock.call('tee', '-a', '/sys/class/scsi_host/host7/scan',"," def test_rescan_hosts(self): # We check that we try to get the HBA channel and SCSI target execute_results = ( ('/sys/class/fc_transport/target10:2:3/node_name:' '0x5006016090203181\n/sys/class/fc_transport/target10:4:5/' 'node_name:0x5006016090203181', ''), None, None, ('/sys/class/fc_transport/target11:6:7/node_name:' '0x5006016090203181\n/sys/class/fc_transport/target11:8:9/' 'node_name:0x5006016090203181', ''), None, None) hbas = [{'host_device': 'host10', 'node_name': '5006016090203181'}, {'host_device': 'host11', 'node_name': '5006016090203181'}] side_effect=execute_results) as execute_mock: self.lfc.rescan_hosts(hbas, 1) mock.call('grep 5006016090203181 /sys/class/fc_transport/' 'target10:*/node_name'), mock.call('tee', '-a', '/sys/class/scsi_host/host10/scan', mock.call('tee', '-a', '/sys/class/scsi_host/host10/scan', mock.call('grep 5006016090203181 /sys/class/fc_transport/' 'target11:*/node_name'), mock.call('tee', '-a', '/sys/class/scsi_host/host11/scan', root_helper=None, run_as_root=True), mock.call('tee', '-a', '/sys/class/scsi_host/host11/scan', process_input='8 9 1', def test_rescan_hosts_wildcard(self): hbas = [{'host_device': 'host10', 'node_name': '5006016090203181'}, {'host_device': 'host11', 'node_name': '5006016090203181'}] return_value=None), \ return_value=None) as execute_mock: self.lfc.rescan_hosts(hbas, 1) mock.call('tee', '-a', '/sys/class/scsi_host/host10/scan', mock.call('tee', '-a', '/sys/class/scsi_host/host11/scan', process_input='- - 1', root_helper=None, run_as_root=True)] execute_mock.assert_has_calls(expected_commands) self.assertEqual(len(expected_commands), execute_mock.call_count) def test_rescan_hosts_wildcard_exception(self): def _execute(cmd, *args, **kwargs): if cmd.startswith('grep'): raise Exception hbas = [{'host_device': 'host10', 'node_name': '5006016090203181'}, {'host_device': 'host11', 'node_name': '5006016090203181'}] with mock.patch.object(self.lfc, '_execute', side_effect=_execute) as execute_mock: self.lfc.rescan_hosts(hbas, 1) expected_commands = [ mock.call('grep 5006016090203181 /sys/class/fc_transport/' 'target10:*/node_name'), mock.call('tee', '-a', '/sys/class/scsi_host/host10/scan', process_input='- - 1', root_helper=None, run_as_root=True), mock.call('grep 5006016090203181 /sys/class/fc_transport/' 'target11:*/node_name'), mock.call('tee', '-a', '/sys/class/scsi_host/host11/scan',",141,71
openstack%2Ftripleo-ci~master~Idaa187bc2b6227a57e7bc16a3e5473bcfff715dc,openstack/tripleo-ci,master,Idaa187bc2b6227a57e7bc16a3e5473bcfff715dc,DNM: Remove multinode scenarios{1-4},ABANDONED,2018-12-05 14:26:48.000000000,2018-12-06 16:32:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-05 14:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4fc1c08efbd6efcd935ca6d533516432981ae133', 'message': 'DNM: Remove multinode scenarios{1-4}\n\nstandalone scenarios{1-4} are stable and can replace multinode.\n\nChange-Id: Idaa187bc2b6227a57e7bc16a3e5473bcfff715dc\n'}, {'number': 2, 'created': '2018-12-05 14:42:11.000000000', 'files': ['scripts/tripleo-jobs-gerrit.py', 'zuul.d/layout.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1e9f656e2aea5f6e96dc8c3f3d4cc42e616c23b1', 'message': 'DNM: Remove multinode scenarios{1-4}\n\nstandalone scenarios{1-4} are stable and can replace multinode.\n\nDepends-On: https://review.openstack.org/#/c/619508/ # scen001\nDepends-On: https://review.openstack.org/#/c/618709/ # scen002\nDepends-On: https://review.openstack.org/#/c/619520/ # scen004\n\nChange-Id: Idaa187bc2b6227a57e7bc16a3e5473bcfff715dc\n'}]",1,622976,1e9f656e2aea5f6e96dc8c3f3d4cc42e616c23b1,6,2,2,8175,,,0,"DNM: Remove multinode scenarios{1-4}

standalone scenarios{1-4} are stable and can replace multinode.

Depends-On: https://review.openstack.org/#/c/619508/ # scen001
Depends-On: https://review.openstack.org/#/c/618709/ # scen002
Depends-On: https://review.openstack.org/#/c/619520/ # scen004

Change-Id: Idaa187bc2b6227a57e7bc16a3e5473bcfff715dc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/76/622976/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/tripleo-jobs-gerrit.py', 'zuul.d/layout.yaml', 'zuul.d/multinode-jobs.yaml']",3,4fc1c08efbd6efcd935ca6d533516432981ae133,standalone_scenario,, - tripleo-ci-centos-7-scenario001-multinode-oooq-container - tripleo-ci-centos-7-scenario002-multinode-oooq-container - tripleo-ci-centos-7-scenario003-multinode-oooq-container - tripleo-ci-centos-7-scenario004-multinode-oooq-container,8,12
openstack%2Fha-guide~master~Ib4f59d132be966fd37cc88253f7c0afb9fc2fbc4,openstack/ha-guide,master,Ib4f59d132be966fd37cc88253f7c0afb9fc2fbc4,Update index.rst for Storyboard usage,MERGED,2018-11-26 23:01:13.000000000,2018-12-06 16:27:58.000000000,2018-12-06 13:35:55.000000000,"[{'_account_id': 2394}, {'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 11904}, {'_account_id': 16523}, {'_account_id': 17765}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 23:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/3fc8113a32d5abc2f6dd9274e125670c3601fcd5', 'message': 'Update index.rst for Storyboard usage\n\nWe use storyboard for the ha-guide, so mention this on the main index\npage.\n\nChange-Id: Ib4f59d132be966fd37cc88253f7c0afb9fc2fbc4\n'}, {'number': 2, 'created': '2018-12-06 13:08:49.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/3715c222c65ef0a9d35ba9a7dfac4e6ab449f3a3', 'message': 'Update index.rst for Storyboard usage\n\nWe now use storyboard for the HA Guide, so mention this on the main\nindex page, without dropping the reference to the old bug list, which\nis still relevant to some degree.\n\nCloses-Bug: #1807072\n\nChange-Id: Ib4f59d132be966fd37cc88253f7c0afb9fc2fbc4\n'}]",1,620181,3715c222c65ef0a9d35ba9a7dfac4e6ab449f3a3,14,8,2,6547,,,0,"Update index.rst for Storyboard usage

We now use storyboard for the HA Guide, so mention this on the main
index page, without dropping the reference to the old bug list, which
is still relevant to some degree.

Closes-Bug: #1807072

Change-Id: Ib4f59d132be966fd37cc88253f7c0afb9fc2fbc4
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/81/620181/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,3fc8113a32d5abc2f6dd9274e125670c3601fcd5,storyboard, open `TODO` items throughout and available on the ha-guide `storyboard site <https://storyboard.openstack.org/#!/project/openstack/ha-guide>`_., open `TODO` items throughout and available on the OpenStack manuals `bug list <https://bugs.launchpad.net/openstack-manuals?field.tag=ha-guide>`_.,3,2
openstack%2Fopenstack-ansible-ceph_client~stable%2Focata~Idb9a178ca2165920804eee12a54419722aa64f51,openstack/openstack-ansible-ceph_client,stable/ocata,Idb9a178ca2165920804eee12a54419722aa64f51,Remove the dependency on SSH for monitors,ABANDONED,2018-12-06 16:04:00.000000000,2018-12-06 16:25:14.000000000,,[{'_account_id': 17799}],"[{'number': 1, 'created': '2018-12-06 16:04:00.000000000', 'files': ['tasks/ceph_get_mon_host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/7469b8ef09bbdf02a055f4bbac0c364eb29becd9', 'message': 'Remove the dependency on SSH for monitors\n\nTo detect if we can copy keyrings off a monitor, we do not need to\nintroduce a hard dependency on SSH contact, we only need to ensure\nthat the ansible has a working execution path to the monitor over\nwhat ever connection plugin is used.\n\nChange-Id: Idb9a178ca2165920804eee12a54419722aa64f51\n(cherry picked from commit f8187bda2cb7bdc306e09f369ecbed15fba1e041)\n'}]",0,623236,7469b8ef09bbdf02a055f4bbac0c364eb29becd9,3,1,1,24132,,,0,"Remove the dependency on SSH for monitors

To detect if we can copy keyrings off a monitor, we do not need to
introduce a hard dependency on SSH contact, we only need to ensure
that the ansible has a working execution path to the monitor over
what ever connection plugin is used.

Change-Id: Idb9a178ca2165920804eee12a54419722aa64f51
(cherry picked from commit f8187bda2cb7bdc306e09f369ecbed15fba1e041)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/36/623236/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceph_get_mon_host.yml'],1,7469b8ef09bbdf02a055f4bbac0c364eb29becd9,," wait_for_connection: connect_timeout: 3 timeout: 10 delegate_to: ""{{ item }}"" - item is success # Use the first available monitor - ceph_mon_host is not defined", local_action: > command ssh -o ConnectTimeout=1 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no {{ item }} exit - item.rc == 0,7,8
openstack%2Fironic~master~Iec6aaabc46442a60e2d27e02c21e67234b84d77b,openstack/ironic,master,Iec6aaabc46442a60e2d27e02c21e67234b84d77b,Expose conductors: api,MERGED,2018-11-27 07:45:22.000000000,2018-12-06 16:10:01.000000000,2018-12-06 16:10:00.000000000,"[{'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 28429}]","[{'number': 1, 'created': '2018-11-27 07:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/89929659fb8176ca697abd3b02a874fbd9b37438', 'message': '[WIP] Expose conductors: api\n\nThis patch implements API part to the feature of exposing conductors\ninformation.\n\nA new API object Conductor is added to provide endpoints below:\n\n* GET /v1/conductors for listing conductor resources\n* GET /v1/conductors/{hostname} for showing a conductor\n\nV1 endpoint discovery and default policy are updated.\n\nA conductor field is added to Node API object, which returns in\n/v1/nodes* related endpoints.\n\nTODO: tests, reno.\n(api-ref would go in another patch if no strong opinions)\n\nStory: 1724474\nTask: 28064\n\nChange-Id: Iec6aaabc46442a60e2d27e02c21e67234b84d77b\n'}, {'number': 2, 'created': '2018-11-29 02:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14b1da02b0bc9a08b7365c754e0b100232e4414d', 'message': 'Expose conductors: api\n\nThis patch implements API part to the feature of exposing conductors\ninformation.\n\nA new API object Conductor is added to provide endpoints below:\n\n* GET /v1/conductors for listing conductor resources\n* GET /v1/conductors/{hostname} for showing a conductor\n\nV1 endpoint discovery and default policy are updated.\n\nA conductor field is added to Node API object, which returns in\n/v1/nodes* related endpoints.\n\nConsidering patch size and microversion conflicting with other api\npatches, api-ref would go in another patch if no strong opinions.\n\nStory: 1724474\nTask: 28064\n\nChange-Id: Iec6aaabc46442a60e2d27e02c21e67234b84d77b\n'}, {'number': 3, 'created': '2018-11-29 02:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1eb4804c0ca672e3e6a29fc9b7ee3c7156ffc65b', 'message': 'Expose conductors: api\n\nThis patch implements API part to the feature of exposing conductors\ninformation.\n\nA new API object Conductor is added to provide endpoints below:\n\n* GET /v1/conductors for listing conductor resources\n* GET /v1/conductors/{hostname} for showing a conductor\n\nV1 endpoint discovery and default policy are updated.\n\nA conductor field is added to Node API object, which returns in\n/v1/nodes* related endpoints.\n\nConsidering patch size and microversion conflicting with other api\npatches, api-ref would go in another patch if no strong opinions.\n\nStory: 1724474\nTask: 28064\n\nChange-Id: Iec6aaabc46442a60e2d27e02c21e67234b84d77b\n'}, {'number': 4, 'created': '2018-11-30 08:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8129e252ad39974bae69d8485759e148090a9ead', 'message': 'Expose conductors: api\n\nThis patch implements API part to the feature of exposing conductors\ninformation.\n\nA new API object Conductor is added to provide endpoints below:\n\n* GET /v1/conductors for listing conductor resources\n* GET /v1/conductors/{hostname} for showing a conductor\n\nV1 endpoint discovery and default policy are updated.\n\nA conductor field is added to Node API object, which returns in\n/v1/nodes* related endpoints.\n\nConsidering patch size and microversion conflicting with other api\npatches, api-ref would go in another patch if no strong opinions.\n\nStory: 1724474\nTask: 28064\n\nChange-Id: Iec6aaabc46442a60e2d27e02c21e67234b84d77b\n'}, {'number': 5, 'created': '2018-12-04 01:16:54.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/api/controllers/v1/__init__.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_conductor.py', 'ironic/tests/unit/api/controllers/v1/test_expose.py', 'releasenotes/notes/expose-conductor-d13c9c4ef9d9de86.yaml', 'ironic/api/controllers/v1/conductor.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'doc/source/contributor/webapi-version-history.rst', 'ironic/api/controllers/v1/versions.py', 'ironic/tests/unit/db/utils.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/common/release_mappings.py', 'ironic/api/controllers/v1/node.py', 'ironic/tests/unit/objects/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c7744dfb3ef617537f584478d7fd2cffb2481f4', 'message': 'Expose conductors: api\n\nThis patch implements API part to the feature of exposing conductors\ninformation.\n\nA new API object Conductor is added to provide endpoints below:\n\n* GET /v1/conductors for listing conductor resources\n* GET /v1/conductors/{hostname} for showing a conductor\n\nV1 endpoint discovery and default policy are updated.\n\nA conductor field is added to Node API object, which returns in\n/v1/nodes* related endpoints.\n\nConsidering patch size and microversion conflicting with other api\npatches, api-ref would go in another patch if no strong opinions.\n\nStory: 1724474\nTask: 28064\n\nChange-Id: Iec6aaabc46442a60e2d27e02c21e67234b84d77b\n'}]",41,620243,7c7744dfb3ef617537f584478d7fd2cffb2481f4,56,11,5,24828,,,0,"Expose conductors: api

This patch implements API part to the feature of exposing conductors
information.

A new API object Conductor is added to provide endpoints below:

* GET /v1/conductors for listing conductor resources
* GET /v1/conductors/{hostname} for showing a conductor

V1 endpoint discovery and default policy are updated.

A conductor field is added to Node API object, which returns in
/v1/nodes* related endpoints.

Considering patch size and microversion conflicting with other api
patches, api-ref would go in another patch if no strong opinions.

Story: 1724474
Task: 28064

Change-Id: Iec6aaabc46442a60e2d27e02c21e67234b84d77b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/43/620243/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/__init__.py', 'ironic/api/controllers/v1/versions.py', 'ironic/api/controllers/v1/conductor.py', 'ironic/tests/unit/db/utils.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/common/release_mappings.py', 'ironic/tests/unit/api/base.py', 'doc/source/contributor/webapi-version-history.rst', 'ironic/api/controllers/v1/node.py']",10,89929659fb8176ca697abd3b02a874fbd9b37438,1724474," conductor = wsme.wsattr(wtypes.text, readonly=True) """"""Represent the conductor currently serving the node"""""" if (api_utils.allow_expose_conductors() and (fields is None or 'conductor' in fields)): # NOTE(kaifeng) It is possible a node gets orphaned in certain # circumstances, set to conductor to None in such case. try: host = pecan.request.rpcapi.get_conductor_for(rpc_node) node.conductor = host except (exception.NoValidHost, exception.TemporaryFailure): LOG.info('Currently no conductor is servicing node %(uuid)s.', {'node': rpc_node.uuid}) node.conductor = None '/fault', '/conductor'] def _filter_by_conductor(self, nodes, conductor): filtered_nodes = [] for n in nodes: host = pecan.request.rpcapi.get_conductor_for(n) if host == conductor: filtered_nodes.append(n) return filtered_nodes def _create_node_filters(self, chassis_uuid=None, associated=None, maintenance=None, provision_state=None, driver=None, resource_class=None, fault=None, conductor_group=None): # This method is introduced to avoid C901 complexity issue. filters = {} if chassis_uuid: filters['chassis_uuid'] = chassis_uuid if associated is not None: filters['associated'] = associated if maintenance is not None: filters['maintenance'] = maintenance if provision_state: filters['provision_state'] = provision_state if driver: filters['driver'] = driver if resource_class is not None: filters['resource_class'] = resource_class if fault is not None: filters['fault'] = fault if conductor_group is not None: filters['conductor_group'] = conductor_group return filters detail=None, conductor=None): filters = self._create_node_filters(chassis_uuid, associated, maintenance, provision_state, driver, resource_class, fault, conductor_group) # Special filtering on results based on conductor field if conductor: nodes = self._filter_by_conductor(nodes, conductor) wtypes.text, wtypes.text, types.boolean, wtypes.text) conductor_group=None, detail=None, conductor=None): :param conductor: Optional string value to get only nodes managed by that conductor. api_utils.check_allow_filter_by_conductor(conductor) detail=detail, conductor=conductor) wtypes.text, wtypes.text) resource_class=None, fault=None, conductor_group=None, conductor=None): api_utils.check_allow_filter_by_conductor(conductor) conductor_group=conductor_group, conductor=conductor)"," '/fault'] detail=None): filters = {} if chassis_uuid: filters['chassis_uuid'] = chassis_uuid if associated is not None: filters['associated'] = associated if maintenance is not None: filters['maintenance'] = maintenance if provision_state: filters['provision_state'] = provision_state if driver: filters['driver'] = driver if resource_class is not None: filters['resource_class'] = resource_class if fault is not None: filters['fault'] = fault if conductor_group is not None: filters['conductor_group'] = conductor_group wtypes.text, wtypes.text, types.boolean) conductor_group=None, detail=None): detail=detail) wtypes.text) resource_class=None, fault=None, conductor_group=None): conductor_group=conductor_group)",394,29
openstack%2Fproject-config~master~I405c3e4616f64a32364cb7f400f41769d0296ef9,openstack/project-config,master,I405c3e4616f64a32364cb7f400f41769d0296ef9,Add centos/suse to OSA grafana dashboard,MERGED,2018-12-04 10:00:11.000000000,2018-12-06 16:04:47.000000000,2018-12-06 16:04:47.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-12-04 10:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4dc61223596d78b8c427f88bfa9d3cde488dc9c3', 'message': 'Add centos/suse to OSA grafana dashboard\n\nThis patch adds panels to the openstack-ansible grafana dashboard\nto provide a view of build times and failure rates for centos and\nopensuse check jobs.\n\nChange-Id: I405c3e4616f64a32364cb7f400f41769d0296ef9\n'}, {'number': 2, 'created': '2018-12-04 17:37:17.000000000', 'files': ['grafana/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f28cb63af4c7f9c2e5278f095302cd0041ba927b', 'message': 'Add centos/suse to OSA grafana dashboard\n\nThis patch adds panels to the openstack-ansible grafana dashboard\nto provide a view of build times and failure rates for centos and\nopensuse check jobs.\n\nChange-Id: I405c3e4616f64a32364cb7f400f41769d0296ef9\n'}]",4,622169,f28cb63af4c7f9c2e5278f095302cd0041ba927b,11,4,2,25023,,,0,"Add centos/suse to OSA grafana dashboard

This patch adds panels to the openstack-ansible grafana dashboard
to provide a view of build times and failure rates for centos and
opensuse check jobs.

Change-Id: I405c3e4616f64a32364cb7f400f41769d0296ef9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/622169/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/openstack-ansible.yaml'],1,4dc61223596d78b8c427f88bfa9d3cde488dc9c3,," - title: ubuntu openstack-ansible check job runtimes - title: centos/suse openstack-ansible check job runtimes showTitle: true height: 300px panels: - title: openstack-ansible-openstack-ansible-deploy-aio_lxc-centos-7 type: graph span: 3 leftYAxisLabel: ""time"" y_formats: - s - none targets: - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-7.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: openstack-ansible-openstack-ansible-deploy-aio_lxc-opensuse-423 type: graph span: 3 leftYAxisLabel: ""time"" y_formats: - s - none targets: - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-opensuse-423.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - title: openstack-ansible-openstack-ansible-deploy-aio_lxc-opensuse-150 type: graph span: 3 leftYAxisLabel: ""time"" y_formats: - s - none targets: - target: alias(scale(averageSeries(stats.timers.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-opensuse-150.{SUCCESS,FAILURE}.mean), '0.001'), 'Average') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-7.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-centos-7.{SUCCESS,FAILURE})),'24hours'), 'openstack-ansible-deploy-aio_lxc-centos-7') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-opensuse-423.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-opensuse-423.{SUCCESS,FAILURE})),'24hours'), 'openstack-ansible-deploy-aio_lxc-opensuse-423') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-opensuse-150.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_openstack-ansible.master.job.openstack-ansible-deploy-aio_lxc-opensuse-150.{SUCCESS,FAILURE})),'24hours'), 'openstack-ansible-deploy-aio_lxc-opensuse-150')", - title: openstack-ansible check job runtimes,35,1
openstack%2Fnova~master~I1f97d00fb7633f173370ed6787c9a71ecd8106d5,openstack/nova,master,I1f97d00fb7633f173370ed6787c9a71ecd8106d5,Remove LazyLoad of Scheduler Clients,MERGED,2018-11-05 20:10:55.000000000,2018-12-06 15:59:18.000000000,2018-11-07 22:38:51.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-05 20:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/430777ee11bc8d60e613373656329d21c63e6da3', 'message': ""Remove LazyLoad of Scheduler Clients\n\nThings have changed here on Walton's Mountain since LazyLoad was\nintroduced [1]. It seems to have been created to avoid a circular\nimport, but as this patch should attest, that's no longer an issue.\n\nWhy change this now, besides removing weird and complicated code?\nBecause a subsequent patch needs to access a *property* of the report\nclient from the compute manager. As written, LazyLoad only lets you get\nat *methods* (as functools.partial). There are other ways to solve that\nwhile preserving the deferred import, but if this works, it's the better\nsolution.\n\n[1] Ie5732baf9709cd0cb951eae4638910372c79e5f1\n\nChange-Id: I1f97d00fb7633f173370ed6787c9a71ecd8106d5\n""}, {'number': 2, 'created': '2018-11-05 23:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ebd2504bb27afac7184d254aa6556fe61493a5d', 'message': ""Remove LazyLoad of Scheduler Clients\n\nThings have changed here on Walton's Mountain since LazyLoad was\nintroduced [1]. It seems to have been created to avoid a circular\nimport, but as this patch should attest, that's no longer an issue.\n\nWhy change this now, besides removing weird and complicated code?\nBecause a subsequent patch needs to access a *property* of the report\nclient from the compute manager. As written, LazyLoad only lets you get\nat *methods* (as functools.partial). There are other ways to solve that\nwhile preserving the deferred import, but if this works, it's the better\nsolution.\n\n[1] Ie5732baf9709cd0cb951eae4638910372c79e5f1\n\nChange-Id: I1f97d00fb7633f173370ed6787c9a71ecd8106d5\n""}, {'number': 3, 'created': '2018-11-06 22:51:09.000000000', 'files': ['nova/scheduler/client/__init__.py', 'nova/tests/unit/scheduler/test_client.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d1a50018510b2b281ad33895ae2d9555f5d5b05', 'message': ""Remove LazyLoad of Scheduler Clients\n\nThings have changed here on Walton's Mountain since LazyLoad was\nintroduced [1]. It seems to have been created to avoid a circular\nimport, but as this patch should attest, that's no longer an issue.\n\nWhy change this now, besides removing weird and complicated code?\nBecause a subsequent patch needs to access a *property* of the report\nclient from the compute manager. As written, LazyLoad only lets you get\nat *methods* (as functools.partial). There are other ways to solve that\nwhile preserving the deferred import, but if this works, it's the better\nsolution.\n\n[1] Ie5732baf9709cd0cb951eae4638910372c79e5f1\n\nChange-Id: I1f97d00fb7633f173370ed6787c9a71ecd8106d5\n""}]",10,615641,5d1a50018510b2b281ad33895ae2d9555f5d5b05,57,20,3,14070,,,0,"Remove LazyLoad of Scheduler Clients

Things have changed here on Walton's Mountain since LazyLoad was
introduced [1]. It seems to have been created to avoid a circular
import, but as this patch should attest, that's no longer an issue.

Why change this now, besides removing weird and complicated code?
Because a subsequent patch needs to access a *property* of the report
client from the compute manager. As written, LazyLoad only lets you get
at *methods* (as functools.partial). There are other ways to solve that
while preserving the deferred import, but if this works, it's the better
solution.

[1] Ie5732baf9709cd0cb951eae4638910372c79e5f1

Change-Id: I1f97d00fb7633f173370ed6787c9a71ecd8106d5
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/615641/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/__init__.py'],1,430777ee11bc8d60e613373656329d21c63e6da3,remove-scheduler-client-lazy-load,from nova.scheduler.client import query from nova.scheduler.client import report self.queryclient = query.SchedulerQueryClient() self.reportclient = report.SchedulerReportClient(),"import functools from oslo_utils import importutils class LazyLoader(object): def __init__(self, klass, *args, **kwargs): self.klass = klass self.args = args self.kwargs = kwargs self.instance = None def __getattr__(self, name): return functools.partial(self.__run_method, name) def __run_method(self, __name, *args, **kwargs): if self.instance is None: self.instance = self.klass(*self.args, **self.kwargs) return getattr(self.instance, __name)(*args, **kwargs) self.queryclient = LazyLoader(importutils.import_class( 'nova.scheduler.client.query.SchedulerQueryClient')) self.reportclient = LazyLoader(importutils.import_class( 'nova.scheduler.client.report.SchedulerReportClient'))",4,25
openstack%2Fopenstack-ansible-os_searchlight~master~I3c2e70b1863316d0846144ed30ec546694a50917,openstack/openstack-ansible-os_searchlight,master,I3c2e70b1863316d0846144ed30ec546694a50917,"Revert ""use include_tasks instead of include""",ABANDONED,2018-12-06 15:56:14.000000000,2018-12-06 15:56:20.000000000,,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-12-06 15:56:14.000000000', 'files': ['tasks/searchlight_init.yml', 'tasks/main.yml', 'tasks/searchlight_init_common.yml', 'tasks/searchlight_install.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_searchlight/commit/1c58521e0a2a6c68203e099a1611f02a243a8bdb', 'message': 'Revert ""use include_tasks instead of include""\n\nThis reverts commit 24d67e5e75f02861ed6fd06e623246cc49e49902.\n\nChange-Id: I3c2e70b1863316d0846144ed30ec546694a50917\n'}]",0,623232,1c58521e0a2a6c68203e099a1611f02a243a8bdb,2,5,1,21691,,,0,"Revert ""use include_tasks instead of include""

This reverts commit 24d67e5e75f02861ed6fd06e623246cc49e49902.

Change-Id: I3c2e70b1863316d0846144ed30ec546694a50917
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_searchlight refs/changes/32/623232/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/searchlight_init.yml', 'tasks/main.yml', 'tasks/searchlight_init_common.yml', 'tasks/searchlight_install.yml', 'tests/test.yml']",5,1c58521e0a2a6c68203e099a1611f02a243a8bdb,,- include: common/test-setup-host.yml- include: common/test-install-infra.yml- include: common/test-install-keystone.yml- include: test-install-searchlight.yml- include: test-searchlight-functional.yml,- import_playbook: common/test-setup-host.yml- import_playbook: common/test-install-infra.yml- import_playbook: common/test-install-keystone.yml- import_playbook: test-install-searchlight.yml- import_playbook: test-searchlight-functional.yml,14,14
openstack%2Fopenstack-ansible-os_searchlight~master~I8dbe7ca1354c204d17f2f4bc0ac3be23f4a7cdc9,openstack/openstack-ansible-os_searchlight,master,I8dbe7ca1354c204d17f2f4bc0ac3be23f4a7cdc9,use include_tasks instead of include,MERGED,2018-07-24 11:17:29.000000000,2018-12-06 15:56:14.000000000,2018-08-17 04:03:34.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-07-24 11:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_searchlight/commit/196b30a9c90aa9a79409709a5c8fff434a88c5f1', 'message': 'Use include_tasks instead of include\n\nChange-Id: I8dbe7ca1354c204d17f2f4bc0ac3be23f4a7cdc9\n'}, {'number': 2, 'created': '2018-07-24 12:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_searchlight/commit/731eb7542b907dd7b43e4500209d2915b94c2e3d', 'message': 'use include_tasks instead of include\n\nChange-Id: I8dbe7ca1354c204d17f2f4bc0ac3be23f4a7cdc9\n'}, {'number': 3, 'created': '2018-08-15 08:59:12.000000000', 'files': ['tasks/searchlight_init.yml', 'tasks/main.yml', 'tasks/searchlight_init_common.yml', 'tasks/searchlight_install.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_searchlight/commit/24d67e5e75f02861ed6fd06e623246cc49e49902', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: I8dbe7ca1354c204d17f2f4bc0ac3be23f4a7cdc9\n'}]",0,585313,24d67e5e75f02861ed6fd06e623246cc49e49902,20,6,3,22165,,,0,"use include_tasks instead of include

include is marked as deprecated since ansible 2.4[0]

Switch to include_tasks or import_playbook as necessary

[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated

Change-Id: I8dbe7ca1354c204d17f2f4bc0ac3be23f4a7cdc9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_searchlight refs/changes/13/585313/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/searchlight_init.yml', 'tasks/main.yml', 'tests/test-install-searchlight.yml', 'tasks/searchlight_init_common.yml', 'tasks/searchlight_install.yml', 'tests/test.yml']",6,196b30a9c90aa9a79409709a5c8fff434a88c5f1,,- include_tasks_tasks_tasks_tasks_tasks: common/test-setup-host.yml- include_tasks_tasks_tasks_tasks_tasks: common/test-install-infra.yml- include_tasks_tasks_tasks_tasks_tasks: common/test-install-keystone.yml- include_tasks_tasks_tasks_tasks_tasks: test-install-searchlight.yml- include_tasks_tasks_tasks_tasks_tasks: test-searchlight-functional.yml,- include: common/test-setup-host.yml- include: common/test-install-infra.yml- include: common/test-install-keystone.yml- include: test-install-searchlight.yml- include: test-searchlight-functional.yml,15,15
openstack%2Freleases~master~Ib1a26c2e7784742ec0f759245398f9c8b9dd6fa8,openstack/releases,master,Ib1a26c2e7784742ec0f759245398f9c8b9dd6fa8,Release oslo.policy 1.43.1,MERGED,2018-12-06 14:48:32.000000000,2018-12-06 15:55:49.000000000,2018-12-06 15:55:49.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 14:48:32.000000000', 'files': ['deliverables/stein/oslo.policy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a9c0818265397e0a81c0034540593457867d4421', 'message': 'Release oslo.policy 1.43.1\n\nChange-Id: Ib1a26c2e7784742ec0f759245398f9c8b9dd6fa8\n'}]",0,623223,a9c0818265397e0a81c0034540593457867d4421,7,3,1,5046,,,0,"Release oslo.policy 1.43.1

Change-Id: Ib1a26c2e7784742ec0f759245398f9c8b9dd6fa8
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/623223/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/oslo.policy.yaml'],1,a9c0818265397e0a81c0034540593457867d4421,, - projects: - hash: b9fd10e2612f26c93d49c168a0408aba6d20e5bf repo: openstack/oslo.policy version: 1.43.1,,4,0
openstack%2Fopenstack-ansible-os_tempest~master~I4e9918fa662e487c7e15613b4e86cdf800d34180,openstack/openstack-ansible-os_tempest,master,I4e9918fa662e487c7e15613b4e86cdf800d34180,Update the cirros image to 0.4.0,ABANDONED,2018-06-28 08:46:05.000000000,2018-12-06 15:53:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-06-28 08:46:05.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/5ccef17960869984b94317e8cbb04fe7ef48a61a', 'message': 'Update the cirros image to 0.4.0\n\nChange-Id: I4e9918fa662e487c7e15613b4e86cdf800d34180\n'}]",0,578737,5ccef17960869984b94317e8cbb04fe7ef48a61a,3,1,1,21691,,,0,"Update the cirros image to 0.4.0

Change-Id: I4e9918fa662e487c7e15613b4e86cdf800d34180
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/37/578737/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,5ccef17960869984b94317e8cbb04fe7ef48a61a,," - url: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"" - url: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"""," - url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" - url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img""",2,2
openstack%2Ftempest-stress~master~I32cb3c55ce1303ee20738a35724c2e33857e57f0,openstack/tempest-stress,master,I32cb3c55ce1303ee20738a35724c2e33857e57f0,Removed older version of python added 3.5,MERGED,2018-09-29 13:08:58.000000000,2018-12-06 15:50:11.000000000,2018-12-06 15:50:10.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-09-29 13:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/9e33d4885eba38f54e1a6958321df8c026a168ea', 'message': 'Removed older version of python added 3.5\n\nIn setup.cfg file the python 3.5 is added\nIn tox.ini the python 3.5 is added\n\nChange-Id: I32cb3c55ce1303ee20738a35724c2e33857e57f0\n'}, {'number': 2, 'created': '2018-11-20 06:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/2f217cc66825f5ff53049008a9286eb3f3b9a458', 'message': 'Removed older version of python added 3.5\n\nIn setup.cfg file the python 3.5 is added\nIn tox.ini the python 3.5 is added\n\nChange-Id: I32cb3c55ce1303ee20738a35724c2e33857e57f0\nCloses-Bug:  #1801855\n'}, {'number': 3, 'created': '2018-12-06 15:21:36.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/294c50aed30657937f681328267da193f86dec77', 'message': 'Removed older version of python added 3.5\n\nRemove the support of python3.4, because\nin Ubuntu Xenial only (python3.4 is\nrestricted to <= Mitaka).\n\nIn setup.cfg file the python 3.5 is added\nIn tox.ini the python 3.5 is added\n\nChange-Id: I32cb3c55ce1303ee20738a35724c2e33857e57f0\nCloses-Bug:  #1801855\n'}]",4,606424,294c50aed30657937f681328267da193f86dec77,14,4,3,17499,,,0,"Removed older version of python added 3.5

Remove the support of python3.4, because
in Ubuntu Xenial only (python3.4 is
restricted to <= Mitaka).

In setup.cfg file the python 3.5 is added
In tox.ini the python 3.5 is added

Change-Id: I32cb3c55ce1303ee20738a35724c2e33857e57f0
Closes-Bug:  #1801855
",git fetch https://review.opendev.org/openstack/tempest-stress refs/changes/24/606424/3 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,9e33d4885eba38f54e1a6958321df8c026a168ea,bug/1801855,"envlist = py35,py27,pypy,pep8basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3","envlist = py34,py27,pypy,pep8",8,3
openstack%2Fopenstack-ansible~master~Ifece464bd152a46a74b3e9cc9e19e3969bdd6fd6,openstack/openstack-ansible,master,Ifece464bd152a46a74b3e9cc9e19e3969bdd6fd6,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:09:59.000000000,2018-12-06 15:49:29.000000000,,"[{'_account_id': 18279}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-05 03:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f450daff3133c53b7c72aa6bc42b35504f985f68', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Ifece464bd152a46a74b3e9cc9e19e3969bdd6fd6\n'}, {'number': 2, 'created': '2018-12-06 07:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a4c9e1e73ba21954ae2b7612832ba6b756a9ef6b', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Ifece464bd152a46a74b3e9cc9e19e3969bdd6fd6\n'}, {'number': 3, 'created': '2018-12-06 07:33:44.000000000', 'files': ['doc/source/contributor/testing.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f55f14bacb37d08a9976090f193e4d1581827e55', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Ifece464bd152a46a74b3e9cc9e19e3969bdd6fd6\n'}]",2,622646,f55f14bacb37d08a9976090f193e4d1581827e55,10,4,3,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Ifece464bd152a46a74b3e9cc9e19e3969bdd6fd6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/46/622646/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'doc/source/locale/de/LC_MESSAGES/doc-contributor.po']",2,f450daff3133c53b7c72aa6bc42b35504f985f68,,"""Send an email to the openstack-discuss list with the `list of bugs to triage`_ """"Senden Sie eine E-Mail an die openstack-discuss-Liste mit der `Liste der Fehler, ""","""Send an email to the openstack-dev list with the `list of bugs to triage`_ """"Senden Sie eine E-Mail an die openstack-dev-Liste mit der `Liste der Fehler, """,3,3
openstack%2Fopenstack-ansible-openstack_openrc~master~Id5253f9e773f80049f7bccc20c8714ef3d6fac84,openstack/openstack-ansible-openstack_openrc,master,Id5253f9e773f80049f7bccc20c8714ef3d6fac84,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:06.000000000,2018-12-06 15:49:26.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/fffe51dd2dcf1697c1ef393a36ac529ae2ab5ade', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Id5253f9e773f80049f7bccc20c8714ef3d6fac84\n'}]",0,622655,fffe51dd2dcf1697c1ef393a36ac529ae2ab5ade,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Id5253f9e773f80049f7bccc20c8714ef3d6fac84
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/55/622655/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fffe51dd2dcf1697c1ef393a36ac529ae2ab5ade,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_swift~master~I3d669c96f4c0a10e4aa13f5b4ea3cfb92b95d747,openstack/openstack-ansible-os_swift,master,I3d669c96f4c0a10e4aa13f5b4ea3cfb92b95d747,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:27.000000000,2018-12-06 15:48:59.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-05 03:10:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/5f06fe0eb19a4716d3d1e19db7765ddddd0fedeb', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I3d669c96f4c0a10e4aa13f5b4ea3cfb92b95d747\n'}]",0,622685,5f06fe0eb19a4716d3d1e19db7765ddddd0fedeb,6,4,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I3d669c96f4c0a10e4aa13f5b4ea3cfb92b95d747
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/85/622685/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5f06fe0eb19a4716d3d1e19db7765ddddd0fedeb,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-pip_install~master~I440aa35cb7b1bd8b383bedb31969039b206c5d74,openstack/openstack-ansible-pip_install,master,I440aa35cb7b1bd8b383bedb31969039b206c5d74,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:29.000000000,2018-12-06 15:48:56.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-05 03:10:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/a6a580aaf1f87a9d56dc9a161e064721203b9018', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I440aa35cb7b1bd8b383bedb31969039b206c5d74\n'}]",0,622688,a6a580aaf1f87a9d56dc9a161e064721203b9018,6,4,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I440aa35cb7b1bd8b383bedb31969039b206c5d74
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/88/622688/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a6a580aaf1f87a9d56dc9a161e064721203b9018,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_glance~master~I525e7e04b73cf0de981e79def72c550fb70293bd,openstack/openstack-ansible-os_glance,master,I525e7e04b73cf0de981e79def72c550fb70293bd,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:11.000000000,2018-12-06 15:48:54.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-05 03:10:11.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/8d19317daa2b066ccb119b671736e3b07b5bb26c', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I525e7e04b73cf0de981e79def72c550fb70293bd\n'}]",0,622663,8d19317daa2b066ccb119b671736e3b07b5bb26c,6,4,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I525e7e04b73cf0de981e79def72c550fb70293bd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/63/622663/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8d19317daa2b066ccb119b671736e3b07b5bb26c,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_barbican~master~I683282bd7a7c3f799ae1e2537598a57d57f9d175,openstack/openstack-ansible-os_barbican,master,I683282bd7a7c3f799ae1e2537598a57d57f9d175,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:09.000000000,2018-12-06 15:48:51.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-05 03:10:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/ea8618389ff4bfaacd85f1b68677453184a1e7c9', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I683282bd7a7c3f799ae1e2537598a57d57f9d175\n'}]",0,622659,ea8618389ff4bfaacd85f1b68677453184a1e7c9,6,4,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I683282bd7a7c3f799ae1e2537598a57d57f9d175
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/59/622659/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ea8618389ff4bfaacd85f1b68677453184a1e7c9,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_cinder~master~Ieb343517ec3f440a8181ebf288ee10c53bd9c67d,openstack/openstack-ansible-os_cinder,master,Ieb343517ec3f440a8181ebf288ee10c53bd9c67d,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:10.000000000,2018-12-06 15:48:48.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-05 03:10:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/e58cfe0aba2f3d38acd1d2f1bdc4039a0a99327b', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Ieb343517ec3f440a8181ebf288ee10c53bd9c67d\n'}]",0,622661,e58cfe0aba2f3d38acd1d2f1bdc4039a0a99327b,6,4,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Ieb343517ec3f440a8181ebf288ee10c53bd9c67d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/61/622661/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e58cfe0aba2f3d38acd1d2f1bdc4039a0a99327b,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_designate~master~Iff1d1820d617aee5b68246c18be408d3c606e787,openstack/openstack-ansible-os_designate,master,Iff1d1820d617aee5b68246c18be408d3c606e787,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:10.000000000,2018-12-06 15:48:44.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-12-05 03:10:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/4af2400e4b85874f8424728a7b519a712603e71c', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Iff1d1820d617aee5b68246c18be408d3c606e787\n'}]",0,622662,4af2400e4b85874f8424728a7b519a712603e71c,6,4,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Iff1d1820d617aee5b68246c18be408d3c606e787
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/62/622662/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4af2400e4b85874f8424728a7b519a712603e71c,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_trove~master~Icaa57644da2329db68e84daed08a3fcf6dacf35b,openstack/openstack-ansible-os_trove,master,Icaa57644da2329db68e84daed08a3fcf6dacf35b,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:26.000000000,2018-12-06 15:48:41.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/7977966f9b177e9bc1c18fb005b6d18c65b74134', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Icaa57644da2329db68e84daed08a3fcf6dacf35b\n'}]",0,622683,7977966f9b177e9bc1c18fb005b6d18c65b74134,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Icaa57644da2329db68e84daed08a3fcf6dacf35b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/83/622683/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7977966f9b177e9bc1c18fb005b6d18c65b74134,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_aodh~master~Ie8b71d723f665da66d4c8646827ab7b40fa5c5f7,openstack/openstack-ansible-os_aodh,master,Ie8b71d723f665da66d4c8646827ab7b40fa5c5f7,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:07.000000000,2018-12-06 15:48:38.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:07.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/9c6b97530dc12c6d24cf5c24c4a4d6be455a4158', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Ie8b71d723f665da66d4c8646827ab7b40fa5c5f7\n'}]",0,622657,9c6b97530dc12c6d24cf5c24c4a4d6be455a4158,6,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Ie8b71d723f665da66d4c8646827ab7b40fa5c5f7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/57/622657/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9c6b97530dc12c6d24cf5c24c4a4d6be455a4158,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-repo_build~master~Ic5a01266a8bbc15f2334359a842b7e823c980e5e,openstack/openstack-ansible-repo_build,master,Ic5a01266a8bbc15f2334359a842b7e823c980e5e,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:30.000000000,2018-12-06 15:48:35.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:30.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/40ad3c6d33eec70a637ba7afc6715e8741eddcc5', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Ic5a01266a8bbc15f2334359a842b7e823c980e5e\n'}]",0,622691,40ad3c6d33eec70a637ba7afc6715e8741eddcc5,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Ic5a01266a8bbc15f2334359a842b7e823c980e5e
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/91/622691/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,40ad3c6d33eec70a637ba7afc6715e8741eddcc5,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-rsyslog_server~master~I97248a4d3f438701b66eda161ee9de5366946154,openstack/openstack-ansible-rsyslog_server,master,I97248a4d3f438701b66eda161ee9de5366946154,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:32.000000000,2018-12-06 15:48:32.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:32.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/c8f3f779b96ae514f2391a144e951d373103b320', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I97248a4d3f438701b66eda161ee9de5366946154\n'}]",0,622694,c8f3f779b96ae514f2391a144e951d373103b320,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I97248a4d3f438701b66eda161ee9de5366946154
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/94/622694/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c8f3f779b96ae514f2391a144e951d373103b320,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-galera_server~master~I4fb960c3f04b80388f77206652b42a0f1f828879,openstack/openstack-ansible-galera_server,master,I4fb960c3f04b80388f77206652b42a0f1f828879,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:00.000000000,2018-12-06 15:48:30.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:00.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/da483d4804720792a68fbaf9cea6cd1787390d0c', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I4fb960c3f04b80388f77206652b42a0f1f828879\n'}]",0,622648,da483d4804720792a68fbaf9cea6cd1787390d0c,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I4fb960c3f04b80388f77206652b42a0f1f828879
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/48/622648/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,da483d4804720792a68fbaf9cea6cd1787390d0c,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-specs~master~I507999dcf5f35858bb39ede78648490fe0a72bee,openstack/openstack-ansible-specs,master,I507999dcf5f35858bb39ede78648490fe0a72bee,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:35.000000000,2018-12-06 15:48:27.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:35.000000000', 'files': ['specs/newton/security-rhel7-stig.rst', 'specs/mitaka/security-hardening.rst', 'specs/mitaka/lbaasv2.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/93a4b6c67702bde7cf3d30cf6286236930e1e11a', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I507999dcf5f35858bb39ede78648490fe0a72bee\n'}]",1,622695,93a4b6c67702bde7cf3d30cf6286236930e1e11a,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I507999dcf5f35858bb39ede78648490fe0a72bee
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/95/622695/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/newton/security-rhel7-stig.rst', 'specs/mitaka/security-hardening.rst', 'specs/mitaka/lbaasv2.rst', 'setup.cfg']",4,93a4b6c67702bde7cf3d30cf6286236930e1e11a,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,4,4
openstack%2Fopenstack-ansible-os_cloudkitty~master~I45ec3d14dec1b64fb804fc6c9ccbcd1516050aa4,openstack/openstack-ansible-os_cloudkitty,master,I45ec3d14dec1b64fb804fc6c9ccbcd1516050aa4,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:10.000000000,2018-12-06 15:48:24.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/bd543cfade71fa764bd7576c06520a4e3d5168fb', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I45ec3d14dec1b64fb804fc6c9ccbcd1516050aa4\n'}]",0,622660,bd543cfade71fa764bd7576c06520a4e3d5168fb,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I45ec3d14dec1b64fb804fc6c9ccbcd1516050aa4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/60/622660/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bd543cfade71fa764bd7576c06520a4e3d5168fb,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_zaqar~master~Id34d6e6593c5a422d9bf83ec545a9b35e7490c12,openstack/openstack-ansible-os_zaqar,master,Id34d6e6593c5a422d9bf83ec545a9b35e7490c12,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:28.000000000,2018-12-06 15:48:22.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/dcdf0d0f83915a9fbb71291828874263435764e4', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Id34d6e6593c5a422d9bf83ec545a9b35e7490c12\n'}]",0,622686,dcdf0d0f83915a9fbb71291828874263435764e4,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Id34d6e6593c5a422d9bf83ec545a9b35e7490c12
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/86/622686/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,dcdf0d0f83915a9fbb71291828874263435764e4,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_heat~master~I4c7c1ca1938719dcf5e359577f80fb82a894e7d6,openstack/openstack-ansible-os_heat,master,I4c7c1ca1938719dcf5e359577f80fb82a894e7d6,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:13.000000000,2018-12-06 15:48:20.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:13.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/bf4a97704eccd275824ef9eaa1d1d650fb6483dc', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I4c7c1ca1938719dcf5e359577f80fb82a894e7d6\n'}]",0,622665,bf4a97704eccd275824ef9eaa1d1d650fb6483dc,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I4c7c1ca1938719dcf5e359577f80fb82a894e7d6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/65/622665/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bf4a97704eccd275824ef9eaa1d1d650fb6483dc,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_sahara~master~I30b430ef1f53340a10d59aa44b24d2aab2130027,openstack/openstack-ansible-os_sahara,master,I30b430ef1f53340a10d59aa44b24d2aab2130027,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:25.000000000,2018-12-06 15:48:18.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/89ab48166d3a2a948d8874108321b3bb9e8a3f09', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I30b430ef1f53340a10d59aa44b24d2aab2130027\n'}]",0,622682,89ab48166d3a2a948d8874108321b3bb9e8a3f09,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I30b430ef1f53340a10d59aa44b24d2aab2130027
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/82/622682/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,89ab48166d3a2a948d8874108321b3bb9e8a3f09,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-rsyslog_client~master~I6fd0a52cd562e47389a87326138340aecf2ba1be,openstack/openstack-ansible-rsyslog_client,master,I6fd0a52cd562e47389a87326138340aecf2ba1be,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:32.000000000,2018-12-06 15:48:16.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:32.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/10f7af35c7b874774fb041ec36c06258e256a45a', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I6fd0a52cd562e47389a87326138340aecf2ba1be\n'}]",0,622693,10f7af35c7b874774fb041ec36c06258e256a45a,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I6fd0a52cd562e47389a87326138340aecf2ba1be
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/93/622693/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,10f7af35c7b874774fb041ec36c06258e256a45a,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_magnum~master~I1a3fcf540b0dcead1d7b68ada4153d6b37bc9c08,openstack/openstack-ansible-os_magnum,master,I1a3fcf540b0dcead1d7b68ada4153d6b37bc9c08,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:15.000000000,2018-12-06 15:48:13.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/56d88ccd7ae2a8cf736ff67d9585c94cabeb7351', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I1a3fcf540b0dcead1d7b68ada4153d6b37bc9c08\n'}]",0,622668,56d88ccd7ae2a8cf736ff67d9585c94cabeb7351,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I1a3fcf540b0dcead1d7b68ada4153d6b37bc9c08
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/68/622668/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,56d88ccd7ae2a8cf736ff67d9585c94cabeb7351,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-ansible-os_monasca-ui~master~I8ab96304c7ae5095152adf423e0ba3a008f18359,openstack/openstack-ansible-os_monasca-ui,master,I8ab96304c7ae5095152adf423e0ba3a008f18359,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:19.000000000,2018-12-06 15:48:10.000000000,,[{'_account_id': 21691}],"[{'number': 1, 'created': '2018-12-05 03:10:19.000000000', 'files': ['README'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca-ui/commit/d746927caab9af1e2c4599c76ae75f9df78852c1', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I8ab96304c7ae5095152adf423e0ba3a008f18359\n'}]",0,622675,d746927caab9af1e2c4599c76ae75f9df78852c1,4,1,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I8ab96304c7ae5095152adf423e0ba3a008f18359
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_monasca-ui refs/changes/75/622675/1 && git format-patch -1 --stdout FETCH_HEAD,['README'],1,d746927caab9af1e2c4599c76ae75f9df78852c1,,openstack-discuss@lists.openstack.org or join #openstack-discuss on,openstack-discuss@lists.openstack.org or join #openstack-dev on,1,1
openstack%2Fopenstack-ansible-memcached_server~master~Id5e72f6359ed2be0244fd1a291ef727bf9f4bc64,openstack/openstack-ansible-memcached_server,master,Id5e72f6359ed2be0244fd1a291ef727bf9f4bc64,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:10:05.000000000,2018-12-06 15:48:07.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:10:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/1cdce2a7b13fe10c24c0526c88980c6296de490f', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Id5e72f6359ed2be0244fd1a291ef727bf9f4bc64\n'}]",0,622653,1cdce2a7b13fe10c24c0526c88980c6296de490f,5,3,1,28614,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Id5e72f6359ed2be0244fd1a291ef727bf9f4bc64
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/53/622653/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1cdce2a7b13fe10c24c0526c88980c6296de490f,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fironic~master~I68bb1b9bf8c14ba686eb1c9d2755badf84481f91,openstack/ironic,master,I68bb1b9bf8c14ba686eb1c9d2755badf84481f91,Change multinode jobs to default to local boot,MERGED,2018-12-05 18:18:51.000000000,2018-12-06 15:45:41.000000000,2018-12-06 15:45:41.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2018-12-05 18:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b39c9a27dc67439f33f2114fc1ff3491080d6479', 'message': ""Change multinode jobs to default to local boot\n\nWhen validations occur, we raise an exception internally\nwhich can lead to confusing and misleading log messages\nwhen whole disk images are utilized with the standing\ndefault of network booting on neutron.\n\nWe've long discussed changing it, so why not start.\n\nChange-Id: I68bb1b9bf8c14ba686eb1c9d2755badf84481f91\n""}, {'number': 2, 'created': '2018-12-05 18:21:44.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2f991522e7fb396ab3d2191a7917be109758e9ec', 'message': ""Change multinode jobs to default to local boot\n\nWhen validations occur, we raise an exception internally\nwhich can lead to confusing and misleading log messages\nwhen whole disk images are utilized with the standing\ndefault of network booting on neutron.\n\nWe've long discussed changing it, so why not start.\n\nChange-Id: I68bb1b9bf8c14ba686eb1c9d2755badf84481f91\n""}]",0,623038,2f991522e7fb396ab3d2191a7917be109758e9ec,14,9,2,11655,,,0,"Change multinode jobs to default to local boot

When validations occur, we raise an exception internally
which can lead to confusing and misleading log messages
when whole disk images are utilized with the standing
default of network booting on neutron.

We've long discussed changing it, so why not start.

Change-Id: I68bb1b9bf8c14ba686eb1c9d2755badf84481f91
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/623038/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,b39c9a27dc67439f33f2114fc1ff3491080d6479,623038, IRONIC_DEFAULT_BOOT_OPTION: local IRONIC_DEFAULT_BOOT_OPTION: local,,2,0
openstack%2Fopenstack-health~master~I6f5741dcea0120a7f3fdf4fb45d3110f917a85b1,openstack/openstack-health,master,I6f5741dcea0120a7f3fdf4fb45d3110f917a85b1,Removed older version of python3.4,MERGED,2018-09-29 09:30:02.000000000,2018-12-06 15:35:42.000000000,2018-12-06 15:35:42.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-09-29 09:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/962f2790cff2cab550bb4e64b909377b20bc0a0b', 'message': 'Removed older version of python added 3.5\n\nIn setup.cfg file the python 3.5 is added\n\nChange-Id: I6f5741dcea0120a7f3fdf4fb45d3110f917a85b1\n'}, {'number': 2, 'created': '2018-11-20 03:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/f7d284acf787515dd411402485be5909400f18ca', 'message': 'Removed older version of python3.4\n\nChange-Id: I6f5741dcea0120a7f3fdf4fb45d3110f917a85b1\n'}, {'number': 3, 'created': '2018-11-20 06:22:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/3d54460d7cbd20893fa8f0978dd831f7ea75d127', 'message': 'Removed older version of python3.4\n\nChange-Id: I6f5741dcea0120a7f3fdf4fb45d3110f917a85b1\nCloses-Bug:  #1801855\n'}]",1,606359,3d54460d7cbd20893fa8f0978dd831f7ea75d127,14,4,3,17499,,,0,"Removed older version of python3.4

Change-Id: I6f5741dcea0120a7f3fdf4fb45d3110f917a85b1
Closes-Bug:  #1801855
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/59/606359/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,962f2790cff2cab550bb4e64b909377b20bc0a0b,bug/1801855,, Programming Language :: Python :: 3.4,0,1
openstack%2Fironic~master~Ib795e6dc3ad1f484f79bee81a5bcfdb8c3434fa1,openstack/ironic,master,Ib795e6dc3ad1f484f79bee81a5bcfdb8c3434fa1,Slim down grenade jobs,MERGED,2018-11-29 17:46:07.000000000,2018-12-06 15:35:37.000000000,2018-12-06 15:35:37.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14826}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28429}]","[{'number': 1, 'created': '2018-11-29 17:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9410ed3ed4dbd4cdd20cfa400130efdbfa2cec7', 'message': ""Extend grenade job timeouts\n\nIt seems that we are encountering sporatic grenade job\nfailures due to timeouts. In order to ensure that we are\nnot wasting precious gate resources with rechecks, we'll\ngo ahead and let these run for a little longer since they\nwere already close to the timout previously and a slow\ntest node can easily result in a timout failure.\n\nChange-Id: Ib795e6dc3ad1f484f79bee81a5bcfdb8c3434fa1\n""}, {'number': 2, 'created': '2018-11-29 17:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6139bf61da25c44a0312c29ae9c37963bbd96e00', 'message': ""Extend grenade job timeouts\n\nIt seems that we are encountering sporatic grenade job\nfailures due to timeouts. In order to ensure that we are\nnot wasting precious gate resources with rechecks, we'll\ngo ahead and let these run for a little longer since they\nwere already close to the timout previously and a slow\ntest node can easily result in a timout failure.\n\nChange-Id: Ib795e6dc3ad1f484f79bee81a5bcfdb8c3434fa1\n""}, {'number': 3, 'created': '2018-11-29 18:54:35.000000000', 'files': ['playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/74ea2bdf5a3058fc0039559c71814d830d3cbe5a', 'message': ""Slim down grenade jobs\n\nAs we can't extend our grenade job timeout past 3 hours,\nand we have some fairly log running jobs, that essentially\nmeans we need to find time that is not absolutely necessary\nin the entire test run in order to reduce load.\n\nDisabling cleaning for the grenade tests as well as\nsetting a regex for the basic server ops as opposed to\nbasic network ops which can take as much as 3x the amount\nof time that the basic test takes.\n\nChange-Id: Ib795e6dc3ad1f484f79bee81a5bcfdb8c3434fa1\n""}]",4,620970,74ea2bdf5a3058fc0039559c71814d830d3cbe5a,22,10,3,11655,,,0,"Slim down grenade jobs

As we can't extend our grenade job timeout past 3 hours,
and we have some fairly log running jobs, that essentially
means we need to find time that is not absolutely necessary
in the entire test run in order to reduce load.

Disabling cleaning for the grenade tests as well as
setting a regex for the basic server ops as opposed to
basic network ops which can take as much as 3x the amount
of time that the basic test takes.

Change-Id: Ib795e6dc3ad1f484f79bee81a5bcfdb8c3434fa1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/620970/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/legacy-ironic-jobs.yaml'],1,a9410ed3ed4dbd4cdd20cfa400130efdbfa2cec7,620970, timeout: 14400 timeout: 14400 timeout: 14400, timeout: 10800 timeout: 10800 timeout: 10800,3,3
openstack%2Fgovernance~master~Iab2c783aae4fd769d02e60a6884f1128d3471270,openstack/governance,master,Iab2c783aae4fd769d02e60a6884f1128d3471270,correct date comparison in check_review_status.py,MERGED,2018-12-05 15:21:57.000000000,2018-12-06 15:26:10.000000000,2018-12-06 15:26:10.000000000,"[{'_account_id': 2472}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 15:21:57.000000000', 'files': ['tools/check_review_status.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/5194642047be0a253c82b948dfced941b632b30d', 'message': 'correct date comparison in check_review_status.py\n\nThe earliest allowed merge date was being reported differently from\nthe way the date comparison was performed with the effect that the tool\nreported it was OK to merge a change before it should have. Switch to <=\nto ensure that the two dates match.\n\nChange-Id: Iab2c783aae4fd769d02e60a6884f1128d3471270\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,623000,5194642047be0a253c82b948dfced941b632b30d,8,4,1,2472,,,0,"correct date comparison in check_review_status.py

The earliest allowed merge date was being reported differently from
the way the date comparison was performed with the effect that the tool
reported it was OK to merge a change before it should have. Switch to <=
to ensure that the two dates match.

Change-Id: Iab2c783aae4fd769d02e60a6884f1128d3471270
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/00/623000/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check_review_status.py'],1,5194642047be0a253c82b948dfced941b632b30d,code-change, elif age <= datetime.timedelta(7): elif age <= datetime.timedelta(7):, elif age < datetime.timedelta(7): elif age < datetime.timedelta(7):,2,2
openstack%2Fgovernance~master~Ia5409b947c40418157a6d4c99169302047bf1454,openstack/governance,master,Ia5409b947c40418157a6d4c99169302047bf1454,Mark blazar-specs release-management: none,MERGED,2018-11-28 12:21:45.000000000,2018-12-06 15:25:52.000000000,2018-12-06 15:25:52.000000000,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 12:21:45.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/071aa9d325dc40d002710a072192af03d64b0674', 'message': 'Mark blazar-specs release-management: none\n\nRecently-added blazar-specs failed to mention that deliverable\ndoes not need release management.\n\nChange-Id: Ia5409b947c40418157a6d4c99169302047bf1454\n'}]",0,620587,071aa9d325dc40d002710a072192af03d64b0674,16,9,1,308,,,0,"Mark blazar-specs release-management: none

Recently-added blazar-specs failed to mention that deliverable
does not need release management.

Change-Id: Ia5409b947c40418157a6d4c99169302047bf1454
",git fetch https://review.opendev.org/openstack/governance refs/changes/87/620587/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,071aa9d325dc40d002710a072192af03d64b0674,project-update, release-management: none,,1,0
openstack%2Fswift-specs~master~Id158c7d573bf9cd0a0ad3976488b55336170997f,openstack/swift-specs,master,Id158c7d573bf9cd0a0ad3976488b55336170997f,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 04:37:38.000000000,2018-12-06 15:21:21.000000000,,[],"[{'number': 1, 'created': '2018-12-05 04:37:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift-specs/commit/4ebc9ce510a5eb177d2cbd5fdd8757201ead81d2', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Id158c7d573bf9cd0a0ad3976488b55336170997f\n'}]",0,622831,4ebc9ce510a5eb177d2cbd5fdd8757201ead81d2,2,0,1,21691,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Id158c7d573bf9cd0a0ad3976488b55336170997f
",git fetch https://review.opendev.org/openstack/swift-specs refs/changes/31/622831/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4ebc9ce510a5eb177d2cbd5fdd8757201ead81d2,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftempest-lib~master~I1d92673b00c92985f772d2d00dee755009c84055,openstack/tempest-lib,master,I1d92673b00c92985f772d2d00dee755009c84055,Update the hacking to latst,ABANDONED,2018-10-16 15:47:58.000000000,2018-12-06 15:20:05.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-10-16 15:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/b6497705f6514cc3697e62fcef02dd2a17781081', 'message': 'Update the hacking to latst\n\nChange-Id: I1d92673b00c92985f772d2d00dee755009c84055\n'}, {'number': 2, 'created': '2018-10-16 16:34:50.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/9e52acba4cc58e783f7597441833dfb865f3a5e2', 'message': 'Update the hacking to latst\n\nChange-Id: I1d92673b00c92985f772d2d00dee755009c84055\n'}]",1,611053,9e52acba4cc58e783f7597441833dfb865f3a5e2,7,3,2,21691,,,0,"Update the hacking to latst

Change-Id: I1d92673b00c92985f772d2d00dee755009c84055
",git fetch https://review.opendev.org/openstack/tempest-lib refs/changes/53/611053/2 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,b6497705f6514cc3697e62fcef02dd2a17781081,,============================== Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/ ,=============================================== Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,2,2
openstack%2Fvirtualbmc~master~I0bf82c65299a185e1b4b53604db2e97cbbd3c38d,openstack/virtualbmc,master,I0bf82c65299a185e1b4b53604db2e97cbbd3c38d,Change CI job to use python3,MERGED,2018-08-06 21:38:23.000000000,2018-12-06 15:11:59.000000000,2018-12-06 15:11:59.000000000,"[{'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-06 21:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/7b89be7680f3113b6c2ca25010889766fea730a7', 'message': 'Chance CI job to use python3\n\nChange-Id: I0bf82c65299a185e1b4b53604db2e97cbbd3c38d\n'}, {'number': 2, 'created': '2018-08-06 22:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/9054e1df916400306d3e209ae032f8a245549673', 'message': 'Change CI job to use python3\n\nChange-Id: I0bf82c65299a185e1b4b53604db2e97cbbd3c38d\n'}, {'number': 3, 'created': '2018-08-20 20:10:22.000000000', 'files': ['playbooks/legacy/virtualbmc-tempest-ironic-ipmi-iscsi/run.yaml', 'playbooks/legacy/virtualbmc-tempest-ironic-ipmi-iscsi-python2/run.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/virtualbmc-tempest-ironic-ipmi-iscsi-python2/post.yaml', 'zuul.d/legacy-virtualbmc-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/cd63bf7fdf8b5d99c839fd30de0b51e240cd703e', 'message': 'Change CI job to use python3\n\nChange-Id: I0bf82c65299a185e1b4b53604db2e97cbbd3c38d\n'}]",0,589296,cd63bf7fdf8b5d99c839fd30de0b51e240cd703e,12,3,3,11655,,,0,"Change CI job to use python3

Change-Id: I0bf82c65299a185e1b4b53604db2e97cbbd3c38d
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/96/589296/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/virtualbmc-tempest-dsvm-ironic-ipmi-iscsi-src/run.yaml'],1,7b89be7680f3113b6c2ca25010889766fea730a7,589296, export DEVSTACK_GATE_USE_PYTHON3=True,,1,0
openstack%2Fheat-templates~master~I2ecb1dc4b39360252dab22e447e2c322d41249b4,openstack/heat-templates,master,I2ecb1dc4b39360252dab22e447e2c322d41249b4,Ensure input to subprocess is properly encoded,ABANDONED,2018-11-12 21:09:28.000000000,2018-12-06 15:08:38.000000000,,"[{'_account_id': 4257}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-12 21:09:28.000000000', 'files': ['hot/software-config/elements/heat-config/os-refresh-config/configure.d/55-heat-config'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/226d70326f24917fdb0948ac534b8deb1c1fb118', 'message': 'Ensure input to subprocess is properly encoded\n\nUnder python3 the subprocess.communicate may throw an error if the input\nis not a bytes like object and is just a string. To prevent this, we\nshould ensure the output from json.dumps is properly encoded.\n\nChange-Id: I2ecb1dc4b39360252dab22e447e2c322d41249b4\nStory: #2004321\nCloses-Bug: #1802978\n'}]",0,617381,226d70326f24917fdb0948ac534b8deb1c1fb118,7,3,1,14985,,,0,"Ensure input to subprocess is properly encoded

Under python3 the subprocess.communicate may throw an error if the input
is not a bytes like object and is just a string. To prevent this, we
should ensure the output from json.dumps is properly encoded.

Change-Id: I2ecb1dc4b39360252dab22e447e2c322d41249b4
Story: #2004321
Closes-Bug: #1802978
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/81/617381/1 && git format-patch -1 --stdout FETCH_HEAD,['hot/software-config/elements/heat-config/os-refresh-config/configure.d/55-heat-config'],1,226d70326f24917fdb0948ac534b8deb1c1fb118,bug/1802978," stdout, stderr = subproc.communicate(input=json.dumps(c, ensure_ascii=False, encoding='utf8')) stdout, stderr = subproc.communicate(input=json.dumps(signal_data, ensure_ascii=False, encoding='utf8'))"," stdout, stderr = subproc.communicate(input=json.dumps(c)) stdout, stderr = subproc.communicate(input=json.dumps(signal_data))",6,2
openstack%2Fhacking~master~I70c995b715184c2cc70b494c185c83b8190629db,openstack/hacking,master,I70c995b715184c2cc70b494c185c83b8190629db,Fix 'ref' format errors in README file,MERGED,2018-12-06 13:05:54.000000000,2018-12-06 15:07:23.000000000,2018-12-06 15:07:22.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 13:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/6dae9cf6c9b567baa52471575efe4ba819bb39c0', 'message': ""Fix 'ref' format errors in README file\n\nWhile releasing new version in pypi, it perform the\nvalidation on the package and give error if there is any\nformatting issue.\n\nREADME file is being used to upload on pypi and so validation\ncheck fails[1] on current README due to 'ref' used for internal\ndoc link. Those links would not be available for outside the built doc.\nThis can be checked locally by:\n    python setup.py check -s -r\n\nThis commit fixes those format issue by removing the ref and provide the\nexternal links.\n\n[1] http://logs.openstack.org/17/622317/1/check/test-release-openstack/a24116d/job-output.txt.gz#_2018-12-05_06_16_03_329613\n\nChange-Id: I70c995b715184c2cc70b494c185c83b8190629db\n""}, {'number': 2, 'created': '2018-12-06 13:06:18.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/hacking/commit/e6670f25f8e0177e32c69fb70694b7de5847b1e0', 'message': ""Fix 'ref' format errors in README file\n\nWhile releasing new version in pypi, it perform the\nvalidation on the package and give error if there is any\nformatting issue.\n\nREADME file is being used to upload on pypi and so validation\ncheck fails[1] on current README due to 'ref' used for internal\ndoc link. Those links would not be available for outside the built doc.\nThis can be checked locally by:\n    python setup.py check -s -r\n\nThis commit fixes those format issue by removing the ref and provide the\nexternal links.\n\n[1] http://logs.openstack.org/17/622317/1/check/test-release-openstack/a24116d/job-output.txt.gz#_2018-12-05_06_16_03_329613\n\nChange-Id: I70c995b715184c2cc70b494c185c83b8190629db\n""}]",0,623203,e6670f25f8e0177e32c69fb70694b7de5847b1e0,8,3,2,8556,,,0,"Fix 'ref' format errors in README file

While releasing new version in pypi, it perform the
validation on the package and give error if there is any
formatting issue.

README file is being used to upload on pypi and so validation
check fails[1] on current README due to 'ref' used for internal
doc link. Those links would not be available for outside the built doc.
This can be checked locally by:
    python setup.py check -s -r

This commit fixes those format issue by removing the ref and provide the
external links.

[1] http://logs.openstack.org/17/622317/1/check/test-release-openstack/a24116d/job-output.txt.gz#_2018-12-05_06_16_03_329613

Change-Id: I70c995b715184c2cc70b494c185c83b8190629db
",git fetch https://review.opendev.org/openstack/hacking refs/changes/03/623203/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', '.eggs/README.txt']",2,6dae9cf6c9b567baa52471575efe4ba819bb39c0,,"This directory contains eggs that were downloaded by setuptools to build, test, and run plug-ins. This directory caches those eggs to prevent repeated downloads. However, it is safe to delete this directory. ",,10,2
openstack%2Fwatcher-tempest-plugin~master~Icf86ae434400c93ad6e20863f557d8143a56d906,openstack/watcher-tempest-plugin,master,Icf86ae434400c93ad6e20863f557d8143a56d906,Clean up .gitignore references to personal tools,MERGED,2018-11-09 07:20:50.000000000,2018-12-06 15:05:47.000000000,2018-12-06 15:05:47.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-09 07:20:50.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/05f645d7ca3587215640154bd3dfb4fdcb16dacd', 'message': 'Clean up .gitignore references to personal tools\n\nChange-Id: Icf86ae434400c93ad6e20863f557d8143a56d906\n'}]",0,616839,05f645d7ca3587215640154bd3dfb4fdcb16dacd,6,2,1,27368,,,0,"Clean up .gitignore references to personal tools

Change-Id: Icf86ae434400c93ad6e20863f557d8143a56d906
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/39/616839/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,05f645d7ca3587215640154bd3dfb4fdcb16dacd,,"# Add patterns in here to exclude files created by tools integrated with this # repository, such as test frameworks from the project's recommended workflow, # rendered documentation and package builds. # # Don't add patterns to exclude files created by preferred personal tools # (editors, IDEs, your operating system itself even). These should instead be # maintained outside the repository, for example in a ~/.gitignore file added # with: # # git config --global core.excludesfile '~/.gitignore' # Bytecompiled Python",# Mr Developer .mr.developer.cfg .project .pydevproject # Editors *~ .*.swp .*sw? ,12,10
openstack%2Ftripleo-heat-templates~master~I73026e66bcfafd1c582916141b5b1cf0ce0dc36c,openstack/tripleo-heat-templates,master,I73026e66bcfafd1c582916141b5b1cf0ce0dc36c,Add DockerPuppetMountHostPuppet parameter,MERGED,2018-03-08 14:18:38.000000000,2018-12-06 15:05:40.000000000,2018-12-06 15:05:40.000000000,"[{'_account_id': 360}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-08 14:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3558f0643041b45675fa9f3a9fc3fba665195772', 'message': ""Add DockerPuppetMountHostPuppet parameter\n\nThis can be used to control whether puppet modules are consumed\nfrom the baremetal host or from the container. Our default\nis to consume these from the container so that deployment\narchives (tarball) can be used to extra puppet modules from\nthe host.\n\nSince I61e35d8118c1de4c2976f496e8a6c9c529f3d91f we've had\npuppet-tripleo in our containers however so using this\nlocation would be possible as well.\n\nChange-Id: I73026e66bcfafd1c582916141b5b1cf0ce0dc36c\n""}, {'number': 2, 'created': '2018-03-08 20:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e667aa2fd090103f91d7697eef6570cdf586e5b', 'message': ""Add DockerPuppetMountHostPuppet parameter\n\nThis can be used to control whether puppet modules are consumed\nfrom the baremetal host or from the container. Our default\nis to consume these from the container so that deployment\narchives (tarball) can be used to extra puppet modules from\nthe host.\n\nSince I61e35d8118c1de4c2976f496e8a6c9c529f3d91f we've had\npuppet-tripleo in our containers however so using this\nlocation would be possible as well.\n\nChange-Id: I73026e66bcfafd1c582916141b5b1cf0ce0dc36c\n""}, {'number': 3, 'created': '2018-03-08 23:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1081186a47c3c123ddcc605beedcb9df51d03f08', 'message': ""Add DockerPuppetMountHostPuppet parameter\n\nThis can be used to control whether puppet modules are consumed\nfrom the baremetal host or from the container. Our default\nis to consume these from the container so that deployment\narchives (tarball) can be used to extra puppet modules from\nthe host.\n\nSince I61e35d8118c1de4c2976f496e8a6c9c529f3d91f we've had\npuppet-tripleo in our containers however so using this\nlocation would be possible as well.\n\nChange-Id: I73026e66bcfafd1c582916141b5b1cf0ce0dc36c\n""}, {'number': 4, 'created': '2018-08-02 12:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98ae1b5e83073e8c3fdacabf559276469a275c32', 'message': ""Add DockerPuppetMountHostPuppet parameter\n\nThis can be used to control whether puppet modules are consumed\nfrom the baremetal host or from the container. Our default\nis to consume these from the container so that deployment\narchives (tarball) can be used to extra puppet modules from\nthe host.\n\nSince I61e35d8118c1de4c2976f496e8a6c9c529f3d91f we've had\npuppet-tripleo in our containers however so using this\nlocation would be possible as well.\n\nChange-Id: I73026e66bcfafd1c582916141b5b1cf0ce0dc36c\n""}, {'number': 5, 'created': '2018-08-14 14:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11b11403487af8601a43a73402d648053e9e971f', 'message': ""Add DockerPuppetMountHostPuppet parameter\n\nThis can be used to control whether puppet modules are consumed\nfrom the baremetal host or from the container. Our default\nis to consume these from the container so that deployment\narchives (tarball) can be used to extra puppet modules from\nthe host.\n\nSince I61e35d8118c1de4c2976f496e8a6c9c529f3d91f we've had\npuppet-tripleo in our containers however so using this\nlocation would be possible as well.\n\nChange-Id: I73026e66bcfafd1c582916141b5b1cf0ce0dc36c\n""}, {'number': 6, 'created': '2018-09-10 13:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f62fa03a6f970c34a747e2aec5ac7fa95cfd42b3', 'message': ""Add DockerPuppetMountHostPuppet parameter\n\nThis can be used to control whether puppet modules are consumed\nfrom the baremetal host or from the container. Our default\nis to consume these from the container so that deployment\narchives (tarball) can be used to extra puppet modules from\nthe host.\n\nSince I61e35d8118c1de4c2976f496e8a6c9c529f3d91f we've had\npuppet-tripleo in our containers however so using this\nlocation would be possible as well.\n\nChange-Id: I73026e66bcfafd1c582916141b5b1cf0ce0dc36c\n""}, {'number': 7, 'created': '2018-09-21 15:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fcaf206f3811bb776d809393cb225b3616ee4690', 'message': ""Add DockerPuppetMountHostPuppet parameter\n\nThis can be used to control whether puppet modules are consumed\nfrom the baremetal host or from the container. Our default\nis to consume these from the container so that deployment\narchives (tarball) can be used to extra puppet modules from\nthe host.\n\nSince I61e35d8118c1de4c2976f496e8a6c9c529f3d91f we've had\npuppet-tripleo in our containers however so using this\nlocation would be possible as well.\n\nChange-Id: I73026e66bcfafd1c582916141b5b1cf0ce0dc36c\n""}, {'number': 8, 'created': '2018-10-18 13:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd13009f9ee364218f5e5e3a8558cc96517585aa', 'message': ""Add DockerPuppetMountHostPuppet parameter\n\nThis can be used to control whether puppet modules are consumed\nfrom the baremetal host or from the container. Our default\nis to consume these from the container so that deployment\narchives (tarball) can be used to extra puppet modules from\nthe host.\n\nSince I61e35d8118c1de4c2976f496e8a6c9c529f3d91f we've had\npuppet-tripleo in our containers however so using this\nlocation would be possible as well.\n\nChange-Id: I73026e66bcfafd1c582916141b5b1cf0ce0dc36c\n""}, {'number': 9, 'created': '2018-11-05 13:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90b68566b13213049282de93ebfbe8b2705361c1', 'message': ""Add DockerPuppetMountHostPuppet parameter\n\nThis can be used to control whether puppet modules are consumed\nfrom the baremetal host or from the container. Our default\nis to consume these from the container so that deployment\narchives (tarball) can be used to extra puppet modules from\nthe host.\n\nSince I61e35d8118c1de4c2976f496e8a6c9c529f3d91f we've had\npuppet-tripleo in our containers however so using this\nlocation would be possible as well.\n\nChange-Id: I73026e66bcfafd1c582916141b5b1cf0ce0dc36c\n""}, {'number': 10, 'created': '2018-11-30 12:40:47.000000000', 'files': ['common/deploy-steps.j2', 'docker/services/neutron-ovs-agent.yaml', 'common/deploy-steps-tasks.yaml', 'docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cbbdac6042467acd53f1f76bc92f30d0065bce7', 'message': ""Add DockerPuppetMountHostPuppet parameter\n\nThis can be used to control whether puppet modules are consumed\nfrom the baremetal host or from the container. Our default\nis to consume these from the host so that deployment\narchive tarballs can be used to extra puppet modules from\nthe host.\n\nSince I61e35d8118c1de4c2976f496e8a6c9c529f3d91f we've had\npuppet-tripleo in our containers however so using this\nlocation would be possible as well.\n\nChange-Id: I73026e66bcfafd1c582916141b5b1cf0ce0dc36c\n""}]",3,550848,0cbbdac6042467acd53f1f76bc92f30d0065bce7,48,7,10,360,,,0,"Add DockerPuppetMountHostPuppet parameter

This can be used to control whether puppet modules are consumed
from the baremetal host or from the container. Our default
is to consume these from the host so that deployment
archive tarballs can be used to extra puppet modules from
the host.

Since I61e35d8118c1de4c2976f496e8a6c9c529f3d91f we've had
puppet-tripleo in our containers however so using this
location would be possible as well.

Change-Id: I73026e66bcfafd1c582916141b5b1cf0ce0dc36c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/550848/2 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml', 'docker/docker-puppet.py']",3,3558f0643041b45675fa9f3a9fc3fba665195772,docker_puppet_mount_host_puppet," '--volume', '%s:%s:z' % (sh_script, sh_script)] # Controls whether puppet is bind mounted in from the host # NOTE: we require this to support the tarball extracted (Deployment archive) puppet modules # but our containers now also include puppet-tripleo so we could use either if os.environ.get('MOUNT_HOST_PUPPET', 'true') == 'true': dcmd.extend(['--volume', '/usr/share/openstack-puppet/modules/:/usr/share/openstack-puppet/modules/:ro,z'])"," '--volume', '/usr/share/openstack-puppet/modules/:/usr/share/openstack-puppet/modules/:ro,z', '--volume', '%s:%s:z' % (sh_script, sh_script) ]",14,2
openstack%2Fos-collect-config~stable%2Fpike~I512139b96b2de8b372efc91e8a3fc8d33553405a,openstack/os-collect-config,stable/pike,I512139b96b2de8b372efc91e8a3fc8d33553405a,Don't ignore SIGPIPE,MERGED,2018-12-05 00:52:06.000000000,2018-12-06 15:05:38.000000000,2018-12-06 15:05:38.000000000,"[{'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-05 00:52:06.000000000', 'files': ['os_collect_config/collect.py'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/43f5a5daec80bac9b8c1273f3b304f874840657b', 'message': ""Don't ignore SIGPIPE\n\nBy default Python configures SIGPIPE to be SIG_IGN, which means to\nignore the signal. We don't want that as it causes problems when\njournald restarts and our log calls start triggering SIGPIPEs.\nInstead, we want to allow the SIGPIPE to kill the process so it can\nbe restarted by systemd.\n\nChange-Id: I512139b96b2de8b372efc91e8a3fc8d33553405a\nCloses-Bug: 1795030\n(cherry picked from commit 4fa30ae5d766c99ad27f74911b0456d06c474df3)\n""}]",0,622630,43f5a5daec80bac9b8c1273f3b304f874840657b,7,4,1,3153,,,0,"Don't ignore SIGPIPE

By default Python configures SIGPIPE to be SIG_IGN, which means to
ignore the signal. We don't want that as it causes problems when
journald restarts and our log calls start triggering SIGPIPEs.
Instead, we want to allow the SIGPIPE to kill the process so it can
be restarted by systemd.

Change-Id: I512139b96b2de8b372efc91e8a3fc8d33553405a
Closes-Bug: 1795030
(cherry picked from commit 4fa30ae5d766c99ad27f74911b0456d06c474df3)
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/30/622630/1 && git format-patch -1 --stdout FETCH_HEAD,['os_collect_config/collect.py'],1,43f5a5daec80bac9b8c1273f3b304f874840657b,bug/1795030-stable/pike," # NOTE(bnemec): We need to exit on SIGPIPEs so systemd can restart us. # See lp 1795030 signal.signal(signal.SIGPIPE, signal.SIG_DFL)",,3,0
openstack%2Ftripleo-heat-templates~master~I878abbeb9c0c2dc146692403b32002a4798f25f0,openstack/tripleo-heat-templates,master,I878abbeb9c0c2dc146692403b32002a4798f25f0,Fix Swift S3 API configuration,MERGED,2018-11-28 16:24:58.000000000,2018-12-06 15:05:36.000000000,2018-12-06 15:05:36.000000000,"[{'_account_id': 6681}, {'_account_id': 6968}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-11-28 16:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdfd481bd60dc74176db925f6aa59cc8ac36fd03', 'message': 'Fix Swift S3 API configuration\n\nThe endpoint must use the v3 suffix, otherwise authentication fails.\n\nCloses-Bug: 1805660\nChange-Id: I878abbeb9c0c2dc146692403b32002a4798f25f0\n'}, {'number': 2, 'created': '2018-11-29 08:13:24.000000000', 'files': ['puppet/services/swift-proxy.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8980b5756d8ac9522de2bc689a0cba7a6631ff29', 'message': 'Fix Swift S3 API configuration\n\nThe endpoint must use the v3 suffix, otherwise authentication fails.\n\nCloses-Bug: 1805660\nChange-Id: I878abbeb9c0c2dc146692403b32002a4798f25f0\n'}]",0,620650,8980b5756d8ac9522de2bc689a0cba7a6631ff29,19,7,2,6968,,,0,"Fix Swift S3 API configuration

The endpoint must use the v3 suffix, otherwise authentication fails.

Closes-Bug: 1805660
Change-Id: I878abbeb9c0c2dc146692403b32002a4798f25f0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/620650/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/swift-proxy.yaml'],1,bdfd481bd60dc74176db925f6aa59cc8ac36fd03,bug/1805660," swift::proxy::s3token::auth_uri: {get_param: [EndpointMap, KeystoneV3Internal uri]}"," swift::proxy::s3token::auth_uri: {get_param: [EndpointMap, KeystoneInternal, uri]}",1,1
openstack%2Fpython-tripleoclient~master~If14a7876445b052cd255cdd5142ff400a815ace9,openstack/python-tripleoclient,master,If14a7876445b052cd255cdd5142ff400a815ace9,Change the overcloud delete command to use undeploy_plan,MERGED,2018-11-07 13:32:16.000000000,2018-12-06 15:02:25.000000000,2018-12-06 15:02:25.000000000,"[{'_account_id': 4978}, {'_account_id': 7509}, {'_account_id': 9317}, {'_account_id': 9712}, {'_account_id': 10112}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16628}, {'_account_id': 20970}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-07 13:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5ea88e8fa0be1a18d4237fd13e5b4d0c43fcb0c3', 'message': 'Change the overcloud delete command to use undeploy_plan\n\nWe don\'t have a CLI command to properly undeploy the overcloud.\nThere is a workflow for it, and the GUI uses the right workflow,\nbut the CLI doesn\'t support it yet.\n\nUpdating ""openstack overcloud delete"" command to call the proper workflow\n\nChange-Id: If14a7876445b052cd255cdd5142ff400a815ace9\nCloses-Bug: #1802102\n'}, {'number': 2, 'created': '2018-11-12 13:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cfb9bc176adbd499901287d673a0fe5f6a8fe3aa', 'message': 'Change the overcloud delete command to use undeploy_plan\n\nWe don\'t have a CLI command to properly undeploy the overcloud.\nThere is a workflow for it, and the GUI uses the right workflow,\nbut the CLI doesn\'t support it yet.\n\nUpdating ""openstack overcloud delete"" command to call the proper workflow\n\nChange-Id: If14a7876445b052cd255cdd5142ff400a815ace9\nCloses-Bug: #1802102\n'}, {'number': 3, 'created': '2018-12-03 13:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cceb1e0ec120583f6cde802895be1403fdbe7630', 'message': 'Change the overcloud delete command to use undeploy_plan\n\nWe don\'t have a CLI command to properly undeploy the overcloud.\nThere is a workflow for it, and the GUI uses the right workflow,\nbut the CLI doesn\'t support it yet.\n\nUpdating ""openstack overcloud delete"" command to call the proper workflow\n\nAdded a release note because this is not a backwards compatible change\n\nChange-Id: If14a7876445b052cd255cdd5142ff400a815ace9\nCloses-Bug: #1802102\n'}, {'number': 4, 'created': '2018-12-04 12:27:43.000000000', 'files': ['tripleoclient/tests/v1/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/v1/overcloud_delete.py', 'releasenotes/notes/move-to-undeploy-plan-067e6070b5f24fa3.yaml', 'tripleoclient/workflows/stack_management.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2ac2e9b57de791c6c5936bb63d979d9c47f186a5', 'message': 'Change the overcloud delete command to use undeploy_plan\n\nWe don\'t have a CLI command to properly undeploy the overcloud.\nThere is a workflow for it, and the GUI uses the right workflow,\nbut the CLI doesn\'t support it yet.\n\nUpdating ""openstack overcloud delete"" command to call the proper workflow\n\nAdded a release note because this is not a backwards compatible change\n\nChange-Id: If14a7876445b052cd255cdd5142ff400a815ace9\nCloses-Bug: #1802102\n'}]",1,616199,2ac2e9b57de791c6c5936bb63d979d9c47f186a5,38,12,4,15895,,,0,"Change the overcloud delete command to use undeploy_plan

We don't have a CLI command to properly undeploy the overcloud.
There is a workflow for it, and the GUI uses the right workflow,
but the CLI doesn't support it yet.

Updating ""openstack overcloud delete"" command to call the proper workflow

Added a release note because this is not a backwards compatible change

Change-Id: If14a7876445b052cd255cdd5142ff400a815ace9
Closes-Bug: #1802102
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/99/616199/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/v1/overcloud_delete.py', 'tripleoclient/workflows/stack_management.py']",3,5ea88e8fa0be1a18d4237fd13e5b4d0c43fcb0c3,bug/1802102,"def undeploy_plan(clients, plan): """"""Undeploy the plan and deletes the stack named in the workflow_input. :param plan: Name or ID of plan to delete 'container': plan 'tripleo.deployment.v1.undeploy_plan',","def delete_stack(clients, stack): """"""Deletes the stack named in the workflow_input. :param stack: Name or ID of stack to delete 'stack': stack 'tripleo.stack.v1.delete_stack',",40,17
openstack%2Ftripleo-heat-templates~master~Ibc034a9fe7cef402743657058c551da00aaa6dc0,openstack/tripleo-heat-templates,master,Ibc034a9fe7cef402743657058c551da00aaa6dc0,Mount puppet-generated directory for tripleo-validations,MERGED,2018-11-28 15:59:17.000000000,2018-12-06 14:54:05.000000000,2018-12-06 14:53:41.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9317}, {'_account_id': 10873}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-28 15:59:17.000000000', 'files': ['docker/services/mistral-executor.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/642760e98a62aed9f2085e01839fafcf18a54fcd', 'message': ""Mount puppet-generated directory for tripleo-validations\n\nTripleo validations relies on the /var/lib/config-data/puppet-generated tree\nto check out configuration files from the mistral_executor container. In the\ninventory, the undercloud is known as 'localhost' and the validations are trying\nto read those configuration files in the mistral_executor file system instead of\nthe undercloud host.\n\nChange-Id: Ibc034a9fe7cef402743657058c551da00aaa6dc0\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,620642,642760e98a62aed9f2085e01839fafcf18a54fcd,13,8,1,11491,,,0,"Mount puppet-generated directory for tripleo-validations

Tripleo validations relies on the /var/lib/config-data/puppet-generated tree
to check out configuration files from the mistral_executor container. In the
inventory, the undercloud is known as 'localhost' and the validations are trying
to read those configuration files in the mistral_executor file system instead of
the undercloud host.

Change-Id: Ibc034a9fe7cef402743657058c551da00aaa6dc0
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/620642/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/mistral-executor.yaml'],1,642760e98a62aed9f2085e01839fafcf18a54fcd,, - /var/lib/config-data/puppet-generated:/var/lib/config-data/puppet-generated:ro,,1,0
openstack%2Fcookbook-openstack-client~master~I47d3d1031c62fedf7bf2c8c92f58ab0c10b29d47,openstack/cookbook-openstack-client,master,I47d3d1031c62fedf7bf2c8c92f58ab0c10b29d47,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 04:20:58.000000000,2018-12-06 14:53:48.000000000,2018-12-06 14:53:48.000000000,"[{'_account_id': 14790}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 04:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-client/commit/5df26d4770058e864caee538094ffc80f15fbc58', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I47d3d1031c62fedf7bf2c8c92f58ab0c10b29d47\n'}, {'number': 2, 'created': '2018-12-06 07:39:32.000000000', 'files': ['metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-client/commit/cf0dff54c98999a2a14c2508277683a217a7fdc5', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I47d3d1031c62fedf7bf2c8c92f58ab0c10b29d47\n'}]",1,622803,cf0dff54c98999a2a14c2508277683a217a7fdc5,11,3,2,21691,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I47d3d1031c62fedf7bf2c8c92f58ab0c10b29d47
",git fetch https://review.opendev.org/openstack/cookbook-openstack-client refs/changes/03/622803/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.rb', 'README.md']",2,5df26d4770058e864caee538094ffc80f15fbc58,,"If you need a simple swift endpoint to test against, the following blog post will help you set up a [single node swift on rackspace cloud](http://blog.phymata.com/2013/02/18/swift-only-with-openstack-discussstack-on-the-rackspace-cloud/).","If you need a simple swift endpoint to test against, the following blog post will help you set up a [single node swift on rackspace cloud](http://blog.phymata.com/2013/02/18/swift-only-with-openstack-devstack-on-the-rackspace-cloud/).",2,2
openstack%2Fos-net-config~stable%2Fpike~I246da54cf02d06466f52d210f89d82ca9e2a6ef2,openstack/os-net-config,stable/pike,I246da54cf02d06466f52d210f89d82ca9e2a6ef2,Fix - restart VLAN interface on underlying device change,MERGED,2018-12-04 04:48:31.000000000,2018-12-06 14:53:44.000000000,2018-12-06 14:53:44.000000000,"[{'_account_id': 360}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-04 04:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/fa732f4f01b5815b7b76b25b40498a96fa32c35c', 'message': ""Fix - restart VLAN interface on underlying device change\n\nWhen a change is needed on bond, os-net-config write the\nconfiguration and restart nic and bond. But it does not\nrestart vlan on top of the bond. The results is that  all\nroutes for vlan interfaces are lost.\n\nThis moves the processing of VLAN's so that it run's\nafter any interfaces, bridges, bonds etc. Then\nconcatenates the restart lists from other interfaces and\ndo a check if 'PHYSDEV' of a VLAN interface is being\nrestarted.\n\nCloses-Bug: #1806128\nRelated: RHBZ#1654987\nChange-Id: I246da54cf02d06466f52d210f89d82ca9e2a6ef2\n(cherry picked from commit 19067b4e77ec618ffef67acc771869ecbc33ad34)\n""}, {'number': 2, 'created': '2018-12-04 05:02:06.000000000', 'files': ['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2f6f6cb6ab190cf8c7bbe5c113d8279863cfff03', 'message': ""Fix - restart VLAN interface on underlying device change\n\nWhen a change is needed on bond, os-net-config write the\nconfiguration and restart nic and bond. But it does not\nrestart vlan on top of the bond. The results is that  all\nroutes for vlan interfaces are lost.\n\nThis moves the processing of VLAN's so that it run's\nafter any interfaces, bridges, bonds etc. Then\nconcatenates the restart lists from other interfaces and\ndo a check if 'PHYSDEV' of a VLAN interface is being\nrestarted.\n\nCloses-Bug: #1806027\nRelated: RHBZ#1654987\nChange-Id: I246da54cf02d06466f52d210f89d82ca9e2a6ef2\n(cherry picked from commit 19067b4e77ec618ffef67acc771869ecbc33ad34)\n""}]",0,621989,2f6f6cb6ab190cf8c7bbe5c113d8279863cfff03,10,4,2,24245,,,0,"Fix - restart VLAN interface on underlying device change

When a change is needed on bond, os-net-config write the
configuration and restart nic and bond. But it does not
restart vlan on top of the bond. The results is that  all
routes for vlan interfaces are lost.

This moves the processing of VLAN's so that it run's
after any interfaces, bridges, bonds etc. Then
concatenates the restart lists from other interfaces and
do a check if 'PHYSDEV' of a VLAN interface is being
restarted.

Closes-Bug: #1806027
Related: RHBZ#1654987
Change-Id: I246da54cf02d06466f52d210f89d82ca9e2a6ef2
(cherry picked from commit 19067b4e77ec618ffef67acc771869ecbc33ad34)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/89/621989/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,fa732f4f01b5815b7b76b25b40498a96fa32c35c,bug/1806027,"import itertools def parse_ifcfg(self, ifcfg_data): """"""Break out the key/value pairs from ifcfg_data Return the keys and values without quotes. """""" ifcfg_values = {} for line in ifcfg_data.split(""\n""): if not line.startswith(""#"") and line.find(""="") > 0: k, v = line.split(""="", 1) ifcfg_values[k] = v.strip(""\""'"") return ifcfg_values # NOTE(hjensas): Process the VLAN's last so that we know if the vlan's # parent interface is being restarted. for vlan_name, vlan_data in self.vlan_data.items(): route_data = self.route_data.get(vlan_name, '') route6_data = self.route6_data.get(vlan_name, '') vlan_path = self.root_dir + ifcfg_config_path(vlan_name) vlan_route_path = self.root_dir + route_config_path(vlan_name) vlan_route6_path = self.root_dir + route6_config_path(vlan_name) all_file_names.append(vlan_path) all_file_names.append(vlan_route_path) all_file_names.append(vlan_route6_path) restarts_concatenated = itertools.chain(restart_interfaces, restart_bridges, restart_linux_bonds, restart_linux_teams) if (self.parse_ifcfg(vlan_data).get('PHYSDEV') in restarts_concatenated): if vlan_name not in restart_vlans: restart_vlans.append(vlan_name) update_files[vlan_path] = vlan_data update_files[vlan_route_path] = route_data update_files[vlan_route6_path] = route6_data elif (utils.diff(vlan_path, vlan_data) or utils.diff(vlan_route_path, route_data)): restart_vlans.append(vlan_name) restart_vlans.extend(self.child_members(vlan_name)) update_files[vlan_path] = vlan_data update_files[vlan_route_path] = route_data update_files[vlan_route6_path] = route6_data else: logger.info('No changes required for vlan interface: %s' % vlan_name) "," for vlan_name, vlan_data in self.vlan_data.items(): route_data = self.route_data.get(vlan_name, '') route6_data = self.route6_data.get(vlan_name, '') vlan_path = self.root_dir + ifcfg_config_path(vlan_name) vlan_route_path = self.root_dir + route_config_path(vlan_name) vlan_route6_path = self.root_dir + route6_config_path(vlan_name) all_file_names.append(vlan_path) all_file_names.append(vlan_route_path) all_file_names.append(vlan_route6_path) if (utils.diff(vlan_path, vlan_data) or utils.diff(vlan_route_path, route_data)): restart_vlans.append(vlan_name) restart_vlans.extend(self.child_members(vlan_name)) update_files[vlan_path] = vlan_data update_files[vlan_route_path] = route_data update_files[vlan_route6_path] = route6_data else: logger.info('No changes required for vlan interface: %s' % vlan_name) ",72,20
openstack%2Fos-net-config~stable%2Frocky~I246da54cf02d06466f52d210f89d82ca9e2a6ef2,openstack/os-net-config,stable/rocky,I246da54cf02d06466f52d210f89d82ca9e2a6ef2,Fix - restart VLAN interface on underlying device change,MERGED,2018-12-04 04:34:01.000000000,2018-12-06 14:53:44.000000000,2018-12-06 14:53:44.000000000,"[{'_account_id': 360}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-12-04 04:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/33b91fd7b8c0254f6fc1a0d8897b76eabcac0fbd', 'message': ""Fix - restart VLAN interface on underlying device change\n\nWhen a change is needed on bond, os-net-config write the\nconfiguration and restart nic and bond. But it does not\nrestart vlan on top of the bond. The results is that  all\nroutes for vlan interfaces are lost.\n\nThis moves the processing of VLAN's so that it run's\nafter any interfaces, bridges, bonds etc. Then\nconcatenates the restart lists from other interfaces and\ndo a check if 'PHYSDEV' of a VLAN interface is being\nrestarted.\n\nCloses-Bug: #1806128\nRelated: RHBZ#1654987\nChange-Id: I246da54cf02d06466f52d210f89d82ca9e2a6ef2\n(cherry picked from commit 19067b4e77ec618ffef67acc771869ecbc33ad34)\n""}, {'number': 2, 'created': '2018-12-04 05:03:25.000000000', 'files': ['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f7007b689e78154f26c2704da4804641e8beae50', 'message': ""Fix - restart VLAN interface on underlying device change\n\nWhen a change is needed on bond, os-net-config write the\nconfiguration and restart nic and bond. But it does not\nrestart vlan on top of the bond. The results is that  all\nroutes for vlan interfaces are lost.\n\nThis moves the processing of VLAN's so that it run's\nafter any interfaces, bridges, bonds etc. Then\nconcatenates the restart lists from other interfaces and\ndo a check if 'PHYSDEV' of a VLAN interface is being\nrestarted.\n\nCloses-Bug: #1806027\nRelated: RHBZ#1654987\nChange-Id: I246da54cf02d06466f52d210f89d82ca9e2a6ef2\n(cherry picked from commit 19067b4e77ec618ffef67acc771869ecbc33ad34)\n""}]",0,621977,f7007b689e78154f26c2704da4804641e8beae50,13,5,2,24245,,,0,"Fix - restart VLAN interface on underlying device change

When a change is needed on bond, os-net-config write the
configuration and restart nic and bond. But it does not
restart vlan on top of the bond. The results is that  all
routes for vlan interfaces are lost.

This moves the processing of VLAN's so that it run's
after any interfaces, bridges, bonds etc. Then
concatenates the restart lists from other interfaces and
do a check if 'PHYSDEV' of a VLAN interface is being
restarted.

Closes-Bug: #1806027
Related: RHBZ#1654987
Change-Id: I246da54cf02d06466f52d210f89d82ca9e2a6ef2
(cherry picked from commit 19067b4e77ec618ffef67acc771869ecbc33ad34)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/77/621977/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,33b91fd7b8c0254f6fc1a0d8897b76eabcac0fbd,bug/1806027-stable/rocky,"import itertools # NOTE(hjensas): Process the VLAN's last so that we know if the vlan's # parent interface is being restarted. for vlan_name, vlan_data in self.vlan_data.items(): route_data = self.route_data.get(vlan_name, '') route6_data = self.route6_data.get(vlan_name, '') vlan_path = self.root_dir + ifcfg_config_path(vlan_name) vlan_route_path = self.root_dir + route_config_path(vlan_name) vlan_route6_path = self.root_dir + route6_config_path(vlan_name) all_file_names.append(vlan_path) all_file_names.append(vlan_route_path) all_file_names.append(vlan_route6_path) restarts_concatenated = itertools.chain(restart_interfaces, restart_bridges, restart_linux_bonds, restart_linux_teams) if (self.parse_ifcfg(vlan_data).get('PHYSDEV') in restarts_concatenated): if vlan_name not in restart_vlans: restart_vlans.append(vlan_name) update_files[vlan_path] = vlan_data elif utils.diff(vlan_path, vlan_data): if self.ifcfg_requires_restart(vlan_path, vlan_data): restart_vlans.append(vlan_name) else: apply_interfaces.append( (vlan_name, vlan_path, vlan_data)) update_files[vlan_path] = vlan_data else: logger.info('No changes required for vlan interface: %s' % vlan_name) if utils.diff(vlan_route_path, route_data): update_files[vlan_route_path] = route_data if vlan_name not in restart_vlans: apply_routes.append((vlan_name, route_data)) if utils.diff(vlan_route6_path, route6_data): update_files[vlan_route6_path] = route6_data if vlan_name not in restart_vlans: apply_routes.append((vlan_name, route6_data)) "," for vlan_name, vlan_data in self.vlan_data.items(): route_data = self.route_data.get(vlan_name, '') route6_data = self.route6_data.get(vlan_name, '') vlan_path = self.root_dir + ifcfg_config_path(vlan_name) vlan_route_path = self.root_dir + route_config_path(vlan_name) vlan_route6_path = self.root_dir + route6_config_path(vlan_name) all_file_names.append(vlan_path) all_file_names.append(vlan_route_path) all_file_names.append(vlan_route6_path) if utils.diff(vlan_path, vlan_data): if self.ifcfg_requires_restart(vlan_path, vlan_data): restart_vlans.append(vlan_name) else: apply_interfaces.append( (vlan_name, vlan_path, vlan_data)) update_files[vlan_path] = vlan_data else: logger.info('No changes required for vlan interface: %s' % vlan_name) if utils.diff(vlan_route_path, route_data): update_files[vlan_route_path] = route_data if vlan_name not in restart_vlans: apply_routes.append((vlan_name, route_data)) if utils.diff(vlan_route6_path, route6_data): update_files[vlan_route6_path] = route6_data if vlan_name not in restart_vlans: apply_routes.append((vlan_name, route6_data)) ",66,28
openstack%2Fos-net-config~stable%2Fqueens~I246da54cf02d06466f52d210f89d82ca9e2a6ef2,openstack/os-net-config,stable/queens,I246da54cf02d06466f52d210f89d82ca9e2a6ef2,Fix - restart VLAN interface on underlying device change,MERGED,2018-12-04 04:34:20.000000000,2018-12-06 14:53:43.000000000,2018-12-06 14:53:43.000000000,"[{'_account_id': 360}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-04 04:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/d80c94f2f118d1aa261c9b89b2ef943250d79611', 'message': ""Fix - restart VLAN interface on underlying device change\n\nWhen a change is needed on bond, os-net-config write the\nconfiguration and restart nic and bond. But it does not\nrestart vlan on top of the bond. The results is that  all\nroutes for vlan interfaces are lost.\n\nThis moves the processing of VLAN's so that it run's\nafter any interfaces, bridges, bonds etc. Then\nconcatenates the restart lists from other interfaces and\ndo a check if 'PHYSDEV' of a VLAN interface is being\nrestarted.\n\nCloses-Bug: #1806128\nRelated: RHBZ#1654987\nChange-Id: I246da54cf02d06466f52d210f89d82ca9e2a6ef2\n(cherry picked from commit 19067b4e77ec618ffef67acc771869ecbc33ad34)\n""}, {'number': 2, 'created': '2018-12-04 05:02:43.000000000', 'files': ['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/93f7f9dc4b1ecab3968bfd2fb5ae3d5b6ffcf400', 'message': ""Fix - restart VLAN interface on underlying device change\n\nWhen a change is needed on bond, os-net-config write the\nconfiguration and restart nic and bond. But it does not\nrestart vlan on top of the bond. The results is that  all\nroutes for vlan interfaces are lost.\n\nThis moves the processing of VLAN's so that it run's\nafter any interfaces, bridges, bonds etc. Then\nconcatenates the restart lists from other interfaces and\ndo a check if 'PHYSDEV' of a VLAN interface is being\nrestarted.\n\nCloses-Bug: #1806027\nRelated: RHBZ#1654987\nChange-Id: I246da54cf02d06466f52d210f89d82ca9e2a6ef2\n(cherry picked from commit 19067b4e77ec618ffef67acc771869ecbc33ad34)\n""}]",0,621978,93f7f9dc4b1ecab3968bfd2fb5ae3d5b6ffcf400,10,4,2,24245,,,0,"Fix - restart VLAN interface on underlying device change

When a change is needed on bond, os-net-config write the
configuration and restart nic and bond. But it does not
restart vlan on top of the bond. The results is that  all
routes for vlan interfaces are lost.

This moves the processing of VLAN's so that it run's
after any interfaces, bridges, bonds etc. Then
concatenates the restart lists from other interfaces and
do a check if 'PHYSDEV' of a VLAN interface is being
restarted.

Closes-Bug: #1806027
Related: RHBZ#1654987
Change-Id: I246da54cf02d06466f52d210f89d82ca9e2a6ef2
(cherry picked from commit 19067b4e77ec618ffef67acc771869ecbc33ad34)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/78/621978/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,d80c94f2f118d1aa261c9b89b2ef943250d79611,bug/1806027-stable/queens,"import itertools # NOTE(hjensas): Process the VLAN's last so that we know if the vlan's # parent interface is being restarted. for vlan_name, vlan_data in self.vlan_data.items(): route_data = self.route_data.get(vlan_name, '') route6_data = self.route6_data.get(vlan_name, '') vlan_path = self.root_dir + ifcfg_config_path(vlan_name) vlan_route_path = self.root_dir + route_config_path(vlan_name) vlan_route6_path = self.root_dir + route6_config_path(vlan_name) all_file_names.append(vlan_path) all_file_names.append(vlan_route_path) all_file_names.append(vlan_route6_path) restarts_concatenated = itertools.chain(restart_interfaces, restart_bridges, restart_linux_bonds, restart_linux_teams) if (self.parse_ifcfg(vlan_data).get('PHYSDEV') in restarts_concatenated): if vlan_name not in restart_vlans: restart_vlans.append(vlan_name) update_files[vlan_path] = vlan_data elif utils.diff(vlan_path, vlan_data): if self.ifcfg_requires_restart(vlan_path, vlan_data): restart_vlans.append(vlan_name) else: apply_interfaces.append( (vlan_name, vlan_path, vlan_data)) update_files[vlan_path] = vlan_data else: logger.info('No changes required for vlan interface: %s' % vlan_name) if utils.diff(vlan_route_path, route_data): update_files[vlan_route_path] = route_data if vlan_name not in restart_vlans: apply_routes.append((vlan_name, route_data)) if utils.diff(vlan_route6_path, route6_data): update_files[vlan_route6_path] = route6_data if vlan_name not in restart_vlans: apply_routes.append((vlan_name, route6_data)) "," for vlan_name, vlan_data in self.vlan_data.items(): route_data = self.route_data.get(vlan_name, '') route6_data = self.route6_data.get(vlan_name, '') vlan_path = self.root_dir + ifcfg_config_path(vlan_name) vlan_route_path = self.root_dir + route_config_path(vlan_name) vlan_route6_path = self.root_dir + route6_config_path(vlan_name) all_file_names.append(vlan_path) all_file_names.append(vlan_route_path) all_file_names.append(vlan_route6_path) if utils.diff(vlan_path, vlan_data): if self.ifcfg_requires_restart(vlan_path, vlan_data): restart_vlans.append(vlan_name) else: apply_interfaces.append( (vlan_name, vlan_path, vlan_data)) update_files[vlan_path] = vlan_data else: logger.info('No changes required for vlan interface: %s' % vlan_name) if utils.diff(vlan_route_path, route_data): update_files[vlan_route_path] = route_data if vlan_name not in restart_vlans: apply_routes.append((vlan_name, route_data)) if utils.diff(vlan_route6_path, route6_data): update_files[vlan_route6_path] = route6_data if vlan_name not in restart_vlans: apply_routes.append((vlan_name, route6_data)) ",66,28
openstack%2Ftripleo-ansible~master~I5dfb230370204cc14b935208697a87b86ce53a2f,openstack/tripleo-ansible,master,I5dfb230370204cc14b935208697a87b86ce53a2f,Restructure tripleo-ansible repo layout,MERGED,2018-12-05 23:59:02.000000000,2018-12-06 14:52:18.000000000,2018-12-06 14:52:18.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 23:59:02.000000000', 'files': ['tripleo_ansible/library/podman_image.py', 'tripleo_ansible/container-cleanup.yml', 'tripleo_ansible/fetch-logs.yml', 'tripleo_ansible/group_vars/keep', 'tripleo_ansible/ansible.cfg', 'tripleo_ansible/restart-service.yml', 'setup.cfg', 'ansible.cfg', 'tripleo_ansible/library/podman_container.py', 'tripleo_ansible/host_vars/keep', 'tripleo_ansible/library/podman_image_facts.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6ea28fb9f373b00255a1687828ab3836304fb52', 'message': 'Restructure tripleo-ansible repo layout\n\npbr doesn\'t support *yml type globs in the root of the repo, so\nrather than require developers to manually add every playbook\never added to this repo to setup.cfg, move the contents that make\nup a typical ansible ""project"" to a single subdir of the repo root.\n\nFixes bz:1645311\n\nChange-Id: I5dfb230370204cc14b935208697a87b86ce53a2f\n'}]",1,623106,e6ea28fb9f373b00255a1687828ab3836304fb52,7,3,1,20868,,,0,"Restructure tripleo-ansible repo layout

pbr doesn't support *yml type globs in the root of the repo, so
rather than require developers to manually add every playbook
ever added to this repo to setup.cfg, move the contents that make
up a typical ansible ""project"" to a single subdir of the repo root.

Fixes bz:1645311

Change-Id: I5dfb230370204cc14b935208697a87b86ce53a2f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/623106/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/library/podman_image.py', 'tripleo_ansible/container-cleanup.yml', 'tripleo_ansible/fetch-logs.yml', 'tripleo_ansible/group_vars/keep', 'tripleo_ansible/ansible.cfg', 'tripleo_ansible/restart-service.yml', 'setup.cfg', 'ansible.cfg', 'tripleo_ansible/host_vars/keep', 'tripleo_ansible/library/podman_container.py', 'tripleo_ansible/library/podman_image_facts.py']",11,e6ea28fb9f373b00255a1687828ab3836304fb52,reorganize_repo,,,2,1
openstack%2Fpython-watcherclient~master~Ibee323f7c894ae9ead2ea872561e0e7e79320017,openstack/python-watcherclient,master,Ibee323f7c894ae9ead2ea872561e0e7e79320017,Add continuous audit functional test,MERGED,2018-11-29 06:10:48.000000000,2018-12-06 14:43:31.000000000,2018-12-06 14:43:31.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-29 06:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/0d75da25ad3a3246fe8131733bb39360887afb1c', 'message': 'Add continuous audit functional test\n\nChange-Id: Ibee323f7c894ae9ead2ea872561e0e7e79320017\n'}, {'number': 2, 'created': '2018-11-29 09:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/f038c6a0bac084976619b19731d9d15510bd530a', 'message': 'Add continuous audit functional test\n\nChange-Id: Ibee323f7c894ae9ead2ea872561e0e7e79320017\n'}, {'number': 3, 'created': '2018-11-30 02:11:54.000000000', 'files': ['watcherclient/tests/functional/v1/test_audit.py', 'watcherclient/tests/functional/v1/base.py'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/98e09044c1e58136886375dd57eef88e826dfba9', 'message': 'Add continuous audit functional test\n\nChange-Id: Ibee323f7c894ae9ead2ea872561e0e7e79320017\n'}]",0,620780,98e09044c1e58136886375dd57eef88e826dfba9,10,2,3,21692,,,0,"Add continuous audit functional test

Change-Id: Ibee323f7c894ae9ead2ea872561e0e7e79320017
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/80/620780/3 && git format-patch -1 --stdout FETCH_HEAD,"['watcherclient/tests/functional/v1/test_audit.py', 'watcherclient/tests/functional/v1/base.py']",2,0d75da25ad3a3246fe8131733bb39360887afb1c,, audit = cls.parse_show_as_object( cls.watcher('audit show %s' % audit_uuid)) if audit['Audit Type'] == 'ONESHOT': return audit['State'] == 'SUCCEEDED' else: return audit['State'] == 'ONGOING', return cls.parse_show_as_object( cls.watcher('audit show %s' % audit_uuid))['State'] == 'SUCCEEDED',29,4
openstack%2Fopenstack-health~master~I1b7c72b6585bb3439575e6586f74ad346b65437e,openstack/openstack-health,master,I1b7c72b6585bb3439575e6586f74ad346b65437e,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 04:29:26.000000000,2018-12-06 14:41:42.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 04:29:26.000000000', 'files': ['test/e2e/mocks/home_project.js', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/712c2c6ec9a18517b98c3a21d68fe7dd6899bfad', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I1b7c72b6585bb3439575e6586f74ad346b65437e\n'}]",0,622821,712c2c6ec9a18517b98c3a21d68fe7dd6899bfad,4,2,1,21691,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I1b7c72b6585bb3439575e6586f74ad346b65437e
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/21/622821/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/e2e/mocks/home_project.js', 'setup.cfg']",2,712c2c6ec9a18517b98c3a21d68fe7dd6899bfad,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,2,2
openstack%2Fcharm-interface-ceph-client~master~I40a85cf5c0e943aef0b4ec507d8c9b3a24ba09a8,openstack/charm-interface-ceph-client,master,I40a85cf5c0e943aef0b4ec507d8c9b3a24ba09a8,Support charm specifying weight on pool creation,MERGED,2018-12-06 13:52:21.000000000,2018-12-06 14:37:51.000000000,2018-12-06 14:37:51.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 13:52:21.000000000', 'files': ['requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/aec66778757251734e982b16ab436a454a16e688', 'message': 'Support charm specifying weight on pool creation\n\nWhen a charm requests a pool in cannot specify the weight atm as\nthe create_pool function forces it to None.\n\nChange-Id: I40a85cf5c0e943aef0b4ec507d8c9b3a24ba09a8\n'}]",0,623213,aec66778757251734e982b16ab436a454a16e688,8,4,1,12549,,,0,"Support charm specifying weight on pool creation

When a charm requests a pool in cannot specify the weight atm as
the create_pool function forces it to None.

Change-Id: I40a85cf5c0e943aef0b4ec507d8c9b3a24ba09a8
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/13/623213/1 && git format-patch -1 --stdout FETCH_HEAD,['requires.py'],1,aec66778757251734e982b16ab436a454a16e688,feature/support-pool-weight," def create_pool(self, name, replicas=3, weight=None): weight=weight)"," def create_pool(self, name, replicas=3): weight=None)",2,2
openstack%2Fcinder~master~I01b14ac07c3b75767efc9964fbbc5e8593ba05b0,openstack/cinder,master,I01b14ac07c3b75767efc9964fbbc5e8593ba05b0,Validate releasenotes with yamllint,ABANDONED,2018-05-07 16:31:36.000000000,2018-12-06 14:36:43.000000000,,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}]","[{'number': 1, 'created': '2018-05-07 16:31:36.000000000', 'files': ['releasenotes/notes/drbd-resource-options-88599c0a8fc5b8a3.yaml', 'releasenotes/notes/add-backup-project-attribute-3f57051ef9159b08.yaml', 'releasenotes/notes/mark-cisco-zm-unsupported-57e5612f57e2407b.yaml', 'releasenotes/notes/scaleio-enable-multiattach-e7d84ffa282842e9.yaml', 'releasenotes/notes/remove_volume_tmp_dir_option-c83c5341e5a42378.yaml', 'releasenotes/notes/scaleio-remove-force-delete-config-48fae029e3622d6d.yaml', 'releasenotes/notes/remove_glusterfs_volume_driver-d8fd2cf5f38e754b.yaml', 'releasenotes/notes/storwize-gmcv-support-8aceee3f40eddb9f.yaml', 'releasenotes/notes/hitachi-unsupported-drivers-37601e5bfabcdb8f.yaml', 'releasenotes/notes/Dell-SC-replication-failover_host-failback-a9e9cbbd6a1be6c3.yaml', 'releasenotes/notes/vnx-async-migration-support-3c449139bb264004.yaml', 'releasenotes/notes/add-volume-type-filter-to_get-pools-c791132540921398.yaml', 'releasenotes/notes/scaleio-deprecate-config-1aa300d0c78ac81c.yaml', 'releasenotes/notes/support-huawei-consistency-group-b666f8f6c6cddd8f.yaml', 'releasenotes/notes/cg-scheduler-change-180a36b77e8cc26b.yaml', 'releasenotes/notes/hnas-deprecate-nfs-driver-0d114bbe141b5d90.yaml', 'releasenotes/notes/hnas-drivers-refactoring-9dbe297ffecced21.yaml', 'releasenotes/notes/kaminario-cinder-driver-bug-1646766-fe810f5801d24f2f.yaml', 'releasenotes/notes/add-reset-group-snapshot-status-sd21a31cde5fa035.yaml', 'releasenotes/notes/remove-xml-api-392b41f387e60eb1.yaml', 'releasenotes/notes/bug-1670260-fix-boolean-is_public-d16e1957c0f09d65.yaml', 'releasenotes/notes/rpc-apis-3.0-b745f429c11d8198.yaml', 'releasenotes/notes/pure-enhanced-stats-42a684fe4546d1b1.yaml', 'releasenotes/notes/vmdk_image_ova-d3b3a0e72221110c.yaml', 'releasenotes/notes/Dell-SC-live-volume-41bacddee199ce83.yaml', 'releasenotes/notes/storwize-split-up-__init__-153fa8f097a81e37.yaml', 'releasenotes/notes/hnas-change-snapshot-names-8153b043eb7e99fc.yaml', 'releasenotes/notes/pure-eradicate-on-delete-1e15e1440d5cd4d6.yaml', 'releasenotes/notes/vmem-7000-iscsi-3c8683dcc1f0b9b4.yaml', 'releasenotes/notes/kaminario-cinder-driver-bug-1646692-7aad3b7496689aa7.yaml', 'releasenotes/notes/add-suppress-lvm-fd-warnings-option.402bebc03b0a9f00.yaml', 'releasenotes/notes/cinder-coprhd-driver-11ebd149ea8610fd.yaml', 'releasenotes/notes/bug-1587376-fix-manage-resource-quota-issue-78f59f39b9fa4762.yaml', 'releasenotes/notes/period-task-clean-reservation-0e0617a7905df923.yaml', 'releasenotes/notes/hbsd-driver-deletion-d81f7c4513f45d7b.yaml', 'releasenotes/notes/huawei-iscsi-multipath-support-a056201883909287.yaml', 'releasenotes/notes/vmdk_vc_51-df29eeb5fc93fbb1.yaml', 'releasenotes/notes/remove-cinder-manage-logs-cmds-40fb8f475b37fb2f.yaml', 'releasenotes/notes/metadata-for-volume-summary-729ba648db4e4e54.yaml', 'releasenotes/notes/shared-backend-config-d841b806354ad5be.yaml', 'releasenotes/notes/vmax-replication-group-2f65ed92d761f90d.yaml', 'releasenotes/notes/qb-backup-5b1f2161d160648a.yaml', 'releasenotes/notes/support_sort_backup_by_name-0b080bcb60c0eaa0.yaml', 'releasenotes/notes/VMEM-6000-drivers-removed-9b6675ff7ae5f960.yaml', 'releasenotes/notes/falconstor-cinder-driver-dcb61441cd7601c5.yaml', 'releasenotes/notes/a7401ead26a7c83b-keystone-url.yaml', 'releasenotes/notes/scaleio-generic-volume-group-ee36e4dba8893422.yaml', 'releasenotes/notes/bug-1723226-allow-purging-0day-4de8979db7215cf3.yaml', 'releasenotes/notes/mark-zte-unsupported-3c048e419264eca2.yaml', 'releasenotes/notes/remove-ibm-nas-driver-0ed204ed0a2dcf55.yaml', 'releasenotes/notes/vmware-vmdk-revert-to-snapshot-ee3d638565649f44.yaml', 'releasenotes/notes/bug-1518213-a5bf2ea0d008f329.yaml', 'releasenotes/notes/check-displayname-displaydescription-123sd5gef91acb12.yaml', 'releasenotes/notes/ibm-flashsystem-manage-unmanage-88e56837102f838c.yaml', 'releasenotes/notes/vmware_vmdk_managed_by-3de05504d0f9a65a.yaml', 'releasenotes/notes/dell-emc-sc-api-timeouts-ce8d166e1847ea94.yaml', 'releasenotes/notes/huawei-backend-capabilities-report-optimization-d1c18d9f62ef71aa.yaml', 'releasenotes/notes/netapp-ontap-use_exact_size-d03c90efbb8a30ac.yaml', 'releasenotes/notes/add-connection-info-to-attachment-84d4dg45uh41db15.yaml', 'releasenotes/notes/bug-1560867-support-nova-specific-image-7yt6fd1173c4e3wd.yaml', 'releasenotes/notes/add-periodic-task-to-clean-expired-messages-84f47gxc88hda035.yaml', 'releasenotes/notes/hnas-deprecate-iscsi-driver-cd521b3a2ba948f3.yaml', 'releasenotes/notes/nexentaedge-nbd-eb48268723141f12.yaml', 'releasenotes/notes/add-del-volumeTypeAccess-b1c8cb14a9d14db3.yaml', 'releasenotes/notes/storwize-hyperswap-support-b830182e1058cb4f.yaml', 'releasenotes/notes/fix-backup-handling-of-encryption-key-id-f2fa56cadd80d582.yaml', 'releasenotes/notes/pure-default-replica-interval-07de0a56f61c7c1e.yaml', 'releasenotes/notes/vnx-repv2.1-config-update-cc2f60c20aec88dd.yaml', 'tox.ini', 'releasenotes/notes/bug-1730933-1bb0272e3c51eed3.yaml', 'releasenotes/notes/huawei-manage-unmanage-snapshot-e35ff844d72fedfb.yaml', 'releasenotes/notes/bug-1691771-fix-netapp-manage-volumes-62bec192a08b3ceb.yaml', 'releasenotes/notes/hnas-list-manageable-9329866618fa9a9c.yaml', 'releasenotes/notes/pure-v2.1-replication-0246223caaa8a9b5.yaml', 'releasenotes/yamllint.conf', 'releasenotes/notes/remove-deprecated-keymgr-d11a25c620862ed6.yaml', 'releasenotes/notes/bug-1622057-netapp-cdot-fix-replication-status-cheesecake-volumes-804dc8b0b1380e6b.yaml', 'releasenotes/notes/vmware-vmdk-manage-existing-0edc20d9d4d19172.yaml', 'releasenotes/notes/Dell-SC-thaw_backend-b9362d381fabd4c9.yaml', 'releasenotes/notes/vmdk_default_task_poll_interval-665f032bebfca39e.yaml', 'releasenotes/notes/scaleio-get-manageable-volumes-dda1e7b8e22be59e.yaml', 'releasenotes/notes/support-volume-glance-metadata-query-866b9e3beda2cd55.yaml', 'releasenotes/notes/vmax-replication-enhancements-c3bec80a3abb6d2e.yaml', 'releasenotes/notes/zte_cinder_driver-76ba6d034e1b6f65.yaml', 'releasenotes/notes/bug-1706888-update-backend-when-extending-3e4a9831a0w29d68.yaml', 'releasenotes/notes/remove_lvmdriver-9c35f83132cd2ac8.yaml', 'releasenotes/notes/vmax-replication-enhancements2-0ba03224cfca9959.yaml', 'releasenotes/notes/fix-hnas-clone-with-different-volume-type-b969897cba2610cc.yaml', 'releasenotes/notes/vmdk_backup_restore-41f807b7bc8e0ae8.yaml', 'releasenotes/notes/3par-create-fc-vlun-match-set-type-babcf2cbce1ce317.yaml', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml', 'releasenotes/notes/kaminario-cinder-driver-remove-deprecate-option-831920f4d25e2979.yaml', 'releasenotes/notes/replication-v2.1-storwize-2df7bfd8c253090b.yaml', 'releasenotes/notes/hpe3par-replication-group-a18a28d18de09e95.yaml', 'releasenotes/notes/hybrid-aggregates-in-netapp-cdot-drivers-f6afa9884cac4e86.yaml', 'releasenotes/notes/remove-netapp-teseries-thost-type-config-option-908941dc7d2a1d59.yaml', 'releasenotes/notes/netapp_cdot_report_shared_blocks_exhaustion-073a73e05daf09d4.yaml', 'releasenotes/notes/3par-get-capability-de60c9bc7ae51c14.yaml', 'releasenotes/notes/rebranded-hpe-drivers-caf1dcef1afe37ba.yaml', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee018f2d6c172f92a53d6ce55a0bc0ea96598849', 'message': 'Validate releasenotes with yamllint\n\nThis adds some basic formatting rules for releasenotes\nyaml files.\n\nMost of the changes made here are adding/removing\nblank lines, and other whitespace inconsistencies.\n\nChange-Id: I01b14ac07c3b75767efc9964fbbc5e8593ba05b0\n'}]",0,566675,ee018f2d6c172f92a53d6ce55a0bc0ea96598849,18,16,1,4523,,,0,"Validate releasenotes with yamllint

This adds some basic formatting rules for releasenotes
yaml files.

Most of the changes made here are adding/removing
blank lines, and other whitespace inconsistencies.

Change-Id: I01b14ac07c3b75767efc9964fbbc5e8593ba05b0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/566675/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drbd-resource-options-88599c0a8fc5b8a3.yaml', 'releasenotes/notes/add-backup-project-attribute-3f57051ef9159b08.yaml', 'releasenotes/notes/mark-cisco-zm-unsupported-57e5612f57e2407b.yaml', 'releasenotes/notes/scaleio-enable-multiattach-e7d84ffa282842e9.yaml', 'releasenotes/notes/remove_volume_tmp_dir_option-c83c5341e5a42378.yaml', 'releasenotes/notes/scaleio-remove-force-delete-config-48fae029e3622d6d.yaml', 'releasenotes/notes/remove_glusterfs_volume_driver-d8fd2cf5f38e754b.yaml', 'releasenotes/notes/storwize-gmcv-support-8aceee3f40eddb9f.yaml', 'releasenotes/notes/hitachi-unsupported-drivers-37601e5bfabcdb8f.yaml', 'releasenotes/notes/Dell-SC-replication-failover_host-failback-a9e9cbbd6a1be6c3.yaml', 'releasenotes/notes/vnx-async-migration-support-3c449139bb264004.yaml', 'releasenotes/notes/add-volume-type-filter-to_get-pools-c791132540921398.yaml', 'releasenotes/notes/scaleio-deprecate-config-1aa300d0c78ac81c.yaml', 'releasenotes/notes/support-huawei-consistency-group-b666f8f6c6cddd8f.yaml', 'releasenotes/notes/cg-scheduler-change-180a36b77e8cc26b.yaml', 'releasenotes/notes/hnas-deprecate-nfs-driver-0d114bbe141b5d90.yaml', 'releasenotes/notes/hnas-drivers-refactoring-9dbe297ffecced21.yaml', 'releasenotes/notes/kaminario-cinder-driver-bug-1646766-fe810f5801d24f2f.yaml', 'releasenotes/notes/add-reset-group-snapshot-status-sd21a31cde5fa035.yaml', 'releasenotes/notes/remove-xml-api-392b41f387e60eb1.yaml', 'releasenotes/notes/bug-1670260-fix-boolean-is_public-d16e1957c0f09d65.yaml', 'releasenotes/notes/rpc-apis-3.0-b745f429c11d8198.yaml', 'releasenotes/notes/pure-enhanced-stats-42a684fe4546d1b1.yaml', 'releasenotes/notes/vmdk_image_ova-d3b3a0e72221110c.yaml', 'releasenotes/notes/Dell-SC-live-volume-41bacddee199ce83.yaml', 'releasenotes/notes/storwize-split-up-__init__-153fa8f097a81e37.yaml', 'releasenotes/notes/hnas-change-snapshot-names-8153b043eb7e99fc.yaml', 'releasenotes/notes/pure-eradicate-on-delete-1e15e1440d5cd4d6.yaml', 'releasenotes/notes/vmem-7000-iscsi-3c8683dcc1f0b9b4.yaml', 'releasenotes/notes/kaminario-cinder-driver-bug-1646692-7aad3b7496689aa7.yaml', 'releasenotes/notes/add-suppress-lvm-fd-warnings-option.402bebc03b0a9f00.yaml', 'releasenotes/notes/cinder-coprhd-driver-11ebd149ea8610fd.yaml', 'releasenotes/notes/bug-1587376-fix-manage-resource-quota-issue-78f59f39b9fa4762.yaml', 'releasenotes/notes/period-task-clean-reservation-0e0617a7905df923.yaml', 'releasenotes/notes/hbsd-driver-deletion-d81f7c4513f45d7b.yaml', 'releasenotes/notes/huawei-iscsi-multipath-support-a056201883909287.yaml', 'releasenotes/notes/vmdk_vc_51-df29eeb5fc93fbb1.yaml', 'releasenotes/notes/remove-cinder-manage-logs-cmds-40fb8f475b37fb2f.yaml', 'releasenotes/notes/metadata-for-volume-summary-729ba648db4e4e54.yaml', 'releasenotes/notes/shared-backend-config-d841b806354ad5be.yaml', 'releasenotes/notes/vmax-replication-group-2f65ed92d761f90d.yaml', 'releasenotes/notes/qb-backup-5b1f2161d160648a.yaml', 'releasenotes/notes/support_sort_backup_by_name-0b080bcb60c0eaa0.yaml', 'releasenotes/notes/VMEM-6000-drivers-removed-9b6675ff7ae5f960.yaml', 'releasenotes/notes/falconstor-cinder-driver-dcb61441cd7601c5.yaml', 'releasenotes/notes/a7401ead26a7c83b-keystone-url.yaml', 'releasenotes/notes/scaleio-generic-volume-group-ee36e4dba8893422.yaml', 'releasenotes/notes/bug-1723226-allow-purging-0day-4de8979db7215cf3.yaml', 'releasenotes/notes/mark-zte-unsupported-3c048e419264eca2.yaml', 'releasenotes/notes/remove-ibm-nas-driver-0ed204ed0a2dcf55.yaml', 'releasenotes/notes/vmware-vmdk-revert-to-snapshot-ee3d638565649f44.yaml', 'releasenotes/notes/bug-1518213-a5bf2ea0d008f329.yaml', 'releasenotes/notes/check-displayname-displaydescription-123sd5gef91acb12.yaml', 'releasenotes/notes/ibm-flashsystem-manage-unmanage-88e56837102f838c.yaml', 'releasenotes/notes/vmware_vmdk_managed_by-3de05504d0f9a65a.yaml', 'releasenotes/notes/dell-emc-sc-api-timeouts-ce8d166e1847ea94.yaml', 'releasenotes/notes/huawei-backend-capabilities-report-optimization-d1c18d9f62ef71aa.yaml', 'releasenotes/notes/netapp-ontap-use_exact_size-d03c90efbb8a30ac.yaml', 'releasenotes/notes/add-connection-info-to-attachment-84d4dg45uh41db15.yaml', 'releasenotes/notes/bug-1560867-support-nova-specific-image-7yt6fd1173c4e3wd.yaml', 'releasenotes/notes/add-periodic-task-to-clean-expired-messages-84f47gxc88hda035.yaml', 'releasenotes/notes/hnas-deprecate-iscsi-driver-cd521b3a2ba948f3.yaml', 'releasenotes/notes/nexentaedge-nbd-eb48268723141f12.yaml', 'releasenotes/notes/add-del-volumeTypeAccess-b1c8cb14a9d14db3.yaml', 'releasenotes/notes/storwize-hyperswap-support-b830182e1058cb4f.yaml', 'releasenotes/notes/fix-backup-handling-of-encryption-key-id-f2fa56cadd80d582.yaml', 'releasenotes/notes/pure-default-replica-interval-07de0a56f61c7c1e.yaml', 'releasenotes/notes/vnx-repv2.1-config-update-cc2f60c20aec88dd.yaml', 'tox.ini', 'releasenotes/notes/bug-1730933-1bb0272e3c51eed3.yaml', 'releasenotes/notes/huawei-manage-unmanage-snapshot-e35ff844d72fedfb.yaml', 'releasenotes/notes/bug-1691771-fix-netapp-manage-volumes-62bec192a08b3ceb.yaml', 'releasenotes/notes/hnas-list-manageable-9329866618fa9a9c.yaml', 'releasenotes/notes/pure-v2.1-replication-0246223caaa8a9b5.yaml', 'releasenotes/yamllint.conf', 'releasenotes/notes/remove-deprecated-keymgr-d11a25c620862ed6.yaml', 'releasenotes/notes/bug-1622057-netapp-cdot-fix-replication-status-cheesecake-volumes-804dc8b0b1380e6b.yaml', 'releasenotes/notes/vmware-vmdk-manage-existing-0edc20d9d4d19172.yaml', 'releasenotes/notes/Dell-SC-thaw_backend-b9362d381fabd4c9.yaml', 'releasenotes/notes/vmdk_default_task_poll_interval-665f032bebfca39e.yaml', 'releasenotes/notes/scaleio-get-manageable-volumes-dda1e7b8e22be59e.yaml', 'releasenotes/notes/support-volume-glance-metadata-query-866b9e3beda2cd55.yaml', 'releasenotes/notes/vmax-replication-enhancements-c3bec80a3abb6d2e.yaml', 'releasenotes/notes/zte_cinder_driver-76ba6d034e1b6f65.yaml', 'releasenotes/notes/bug-1706888-update-backend-when-extending-3e4a9831a0w29d68.yaml', 'releasenotes/notes/remove_lvmdriver-9c35f83132cd2ac8.yaml', 'releasenotes/notes/vmax-replication-enhancements2-0ba03224cfca9959.yaml', 'releasenotes/notes/fix-hnas-clone-with-different-volume-type-b969897cba2610cc.yaml', 'releasenotes/notes/vmdk_backup_restore-41f807b7bc8e0ae8.yaml', 'releasenotes/notes/3par-create-fc-vlun-match-set-type-babcf2cbce1ce317.yaml', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml', 'releasenotes/notes/kaminario-cinder-driver-remove-deprecate-option-831920f4d25e2979.yaml', 'releasenotes/notes/replication-v2.1-storwize-2df7bfd8c253090b.yaml', 'releasenotes/notes/hpe3par-replication-group-a18a28d18de09e95.yaml', 'releasenotes/notes/hybrid-aggregates-in-netapp-cdot-drivers-f6afa9884cac4e86.yaml', 'releasenotes/notes/remove-netapp-teseries-thost-type-config-option-908941dc7d2a1d59.yaml', 'releasenotes/notes/netapp_cdot_report_shared_blocks_exhaustion-073a73e05daf09d4.yaml', 'releasenotes/notes/3par-get-capability-de60c9bc7ae51c14.yaml', 'releasenotes/notes/rebranded-hpe-drivers-caf1dcef1afe37ba.yaml', 'doc/requirements.txt']",100,ee018f2d6c172f92a53d6ce55a0bc0ea96598849,,yamllint>=1.11.0 # GPLv3,,98,110
openstack%2Fnova-specs~master~I8270f3a51260c2e8fbbbb4f9c179729a28d138ef,openstack/nova-specs,master,I8270f3a51260c2e8fbbbb4f9c179729a28d138ef,Per aggregate scheduling weight (spec),MERGED,2018-09-03 07:51:58.000000000,2018-12-06 14:27:23.000000000,2018-12-06 14:27:23.000000000,"[{'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7156}, {'_account_id': 7166}, {'_account_id': 15888}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-09-03 07:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/af8a49bad3ebb107af0363e0de6acc52c0030632', 'message': 'Make scheduling weight more granular\n\nFilter Scheduler uses the so-called weights during its work. A weigher\nis a way to select the best suitable host from a group of valid hosts by\ngiving weights to all the hosts in the list.\n\nIn the current implementation, the weights are controlled by config\noptions like [filter_scheduler] cpu_weight_multiplier\nthe total weight of a compute node is calculated by combination of\nserveral weighers:\nweight = w1_multiplier * norm(w1) + w2_multiplier * norm(w2) + ...\n\nAs it is controlled by config options, the weights are global across the\nwhole deployment, this is not convinient enough for operators and users.\n\nThis Spec propose to be able to override the weight configuration\noptions by ``flavor extra specs`` and ``schduler hints`` to provide a\nmore granular and flexiable control during scheduling.\n\nChange-Id: I8270f3a51260c2e8fbbbb4f9c179729a28d138ef\nImplements: blueprint granular-scheduling-weight\n'}, {'number': 2, 'created': '2018-09-03 08:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d5314296cf40c4fc37735d26eba5f98dc568ef73', 'message': 'Make scheduling weight more granular\n\nFilter Scheduler uses the so-called weights during its work. A weigher\nis a way to select the best suitable host from a group of valid hosts by\ngiving weights to all the hosts in the list.\n\nIn the current implementation, the weights are controlled by config\noptions like [filter_scheduler] cpu_weight_multiplier\nthe total weight of a compute node is calculated by combination of\nserveral weighers:\nweight = w1_multiplier * norm(w1) + w2_multiplier * norm(w2) + ...\n\nAs it is controlled by config options, the weights are global across the\nwhole deployment, this is not convinient enough for operators and users.\n\nThis Spec propose to be able to override the weight configuration\noptions by ``flavor extra specs`` and ``schduler hints`` to provide a\nmore granular and flexiable control during scheduling.\n\nChange-Id: I8270f3a51260c2e8fbbbb4f9c179729a28d138ef\nImplements: blueprint granular-scheduling-weight\n'}, {'number': 3, 'created': '2018-09-04 01:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/938e8526d48c052777c26d40d67b39cdb186fab1', 'message': 'Make scheduling weight more granular\n\nFilter Scheduler uses the so-called weights during its work. A weigher\nis a way to select the best suitable host from a group of valid hosts by\ngiving weights to all the hosts in the list.\n\nIn the current implementation, the weights are controlled by config\noptions like [filter_scheduler] cpu_weight_multiplier\nthe total weight of a compute node is calculated by combination of\nserveral weighers:\nweight = w1_multiplier * norm(w1) + w2_multiplier * norm(w2) + ...\n\nAs it is controlled by config options, the weights are global across the\nwhole deployment, this is not convinient enough for operators and users.\n\nThis Spec propose to be able to override the weight configuration\noptions by ``flavor extra specs`` and ``schduler hints`` to provide a\nmore granular and flexiable control during scheduling.\n\nChange-Id: I8270f3a51260c2e8fbbbb4f9c179729a28d138ef\nImplements: blueprint granular-scheduling-weight\n'}, {'number': 4, 'created': '2018-09-10 03:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a01f3b53aa1c0247ee4803f29c238e4f3d662811', 'message': 'Make scheduling weight more granular\n\nFilter Scheduler uses the so-called weights during its work. A weigher\nis a way to select the best suitable host from a group of valid hosts by\ngiving weights to all the hosts in the list.\n\nIn the current implementation, the weights are controlled by config\noptions like [filter_scheduler] cpu_weight_multiplier\nthe total weight of a compute node is calculated by combination of\nserveral weighers:\nweight = w1_multiplier * norm(w1) + w2_multiplier * norm(w2) + ...\n\nAs it is controlled by config options, the weights are global across the\nwhole deployment, this is not efficient enough for operators.\n\nThis Specs propose to be able to override the weight configuration\noptions by ``flavor extra specs`` to provide a more fine-grained\ncontrol over resource weights.\n\nChange-Id: I8270f3a51260c2e8fbbbb4f9c179729a28d138ef\nImplements: blueprint granular-scheduling-weight\n'}, {'number': 5, 'created': '2018-11-01 08:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6c84019e784baaff2703ea9434b713726ef0763f', 'message': 'Make scheduling weight more granular\n\nFilter Scheduler uses the so-called weights during its work. A weigher\nis a way to select the best suitable host from a group of valid hosts by\ngiving weights to all the hosts in the list.\n\nIn the current implementation, the weights are controlled by config\noptions like [filter_scheduler] cpu_weight_multiplier\nthe total weight of a compute node is calculated by combination of\nserveral weighers:\nweight = w1_multiplier * norm(w1) + w2_multiplier * norm(w2) + ...\n\nAs it is controlled by config options, the weights are global across the\nwhole deployment, this is not efficient enough for operators.\n\nThis Specs propose to be able to override the weight configuration\noptions by ``aggregate metadata`` to provide a more fine-grained\ncontrol over resource weights.\n\nChange-Id: I8270f3a51260c2e8fbbbb4f9c179729a28d138ef\nImplements: blueprint granular-scheduling-weight\n'}, {'number': 6, 'created': '2018-11-21 07:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a55409871bc18b250c2f798c12afadfe14f2221f', 'message': 'Make scheduling weight more granular\n\nFilter Scheduler uses the so-called weights during its work. A weigher\nis a way to select the best suitable host from a group of valid hosts by\ngiving weights to all the hosts in the list.\n\nIn the current implementation, the weights are controlled by config\noptions like [filter_scheduler] cpu_weight_multiplier\nthe total weight of a compute node is calculated by combination of\nserveral weighers:\nweight = w1_multiplier * norm(w1) + w2_multiplier * norm(w2) + ...\n\nAs it is controlled by config options, the weights are global across the\nwhole deployment, this is not efficient enough for operators.\n\nThis Specs propose to be able to override the weight configuration\noptions by ``aggregate metadata`` to provide a more fine-grained\ncontrol over resource weights.\n\nChange-Id: I8270f3a51260c2e8fbbbb4f9c179729a28d138ef\nImplements: blueprint granular-scheduling-weight\n'}, {'number': 7, 'created': '2018-11-29 09:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1bc3b81cfa376017893f454c74112f1499eb58b7', 'message': 'Per aggregate scheduling weight (spec)\n\nFilter Scheduler uses the so-called weights during its work. A weigher\nis a way to select the best suitable host from a group of valid hosts by\ngiving weights to all the hosts in the list.\n\nIn the current implementation, the weights are controlled by config\noptions like [filter_scheduler] cpu_weight_multiplieri.\nThe total weight of a compute node is calculated by combination of\nseveral weighers:\nweight = w1_multiplier * norm(w1) + w2_multiplier * norm(w2) + ...\n\nAs it is controlled by config options, the weights are global across the\nwhole deployment, this is not efficient enough for operators.\n\nThis spec proposes to be able to override the weight configuration\noptions by ``aggregate metadata`` to provide a more fine-grained\ncontrol over resource weights.\n\nChange-Id: I8270f3a51260c2e8fbbbb4f9c179729a28d138ef\nImplements: blueprint per-aggregate-scheduling-weight\n'}, {'number': 8, 'created': '2018-12-05 18:45:17.000000000', 'files': ['specs/stein/approved/per-aggregate-scheduling-weight.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/db6189753e58d3a9503f3b4c7e790aefa255f3c2', 'message': 'Per aggregate scheduling weight (spec)\n\nFilter Scheduler uses the so-called weights during its work. A weigher\nis a way to select the best suitable host from a group of valid hosts by\ngiving weights to all the hosts in the list.\n\nIn the current implementation, the weights are controlled by config\noptions like [filter_scheduler]/cpu_weight_multiplier.\nThe total weight of a compute node is calculated by combination of\nseveral weighers:\nweight = w1_multiplier * norm(w1) + w2_multiplier * norm(w2) + ...\n\nAs it is controlled by config options, the weights are global across the\nwhole deployment, and this is not efficient enough for operators.\n\nThis spec proposes to be able to override the weight configuration\noptions using aggregate metadata to provide a more fine-grained\ncontrol over resource weights.\n\nChange-Id: I8270f3a51260c2e8fbbbb4f9c179729a28d138ef\nImplements: blueprint per-aggregate-scheduling-weight\n'}]",62,599308,db6189753e58d3a9503f3b4c7e790aefa255f3c2,43,10,8,15888,,,0,"Per aggregate scheduling weight (spec)

Filter Scheduler uses the so-called weights during its work. A weigher
is a way to select the best suitable host from a group of valid hosts by
giving weights to all the hosts in the list.

In the current implementation, the weights are controlled by config
options like [filter_scheduler]/cpu_weight_multiplier.
The total weight of a compute node is calculated by combination of
several weighers:
weight = w1_multiplier * norm(w1) + w2_multiplier * norm(w2) + ...

As it is controlled by config options, the weights are global across the
whole deployment, and this is not efficient enough for operators.

This spec proposes to be able to override the weight configuration
options using aggregate metadata to provide a more fine-grained
control over resource weights.

Change-Id: I8270f3a51260c2e8fbbbb4f9c179729a28d138ef
Implements: blueprint per-aggregate-scheduling-weight
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/08/599308/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/granular-scheduling-weight.rst'],1,af8a49bad3ebb107af0363e0de6acc52c0030632,bp/per-aggregate-scheduling-weight,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================== Make scheduling weights more granular ===================================== https://blueprints.launchpad.net/nova/+spec/granular-scheduling-weight This spec propose to add ability to allow users to use ``flavor extra specs`` and ``scheduler hints`` to override the global config options for weights to achieve more granular scheduling weights. Problem description =================== In the current implementation, the weights are controlled by config options like [filter_scheduler] cpu_weight_multiplier, the total weight of a compute node is calculated by combination of several weigher: weight = w1_multiplier * norm(w1) + w2_multiplier * norm(w2) + ... As it is controlled by config options, the weights are global across the whole deployment, this is not convenient enough for operators and users. Use Cases --------- As user I may want to have a more flexible scheduling weight configuration so that I can control my resource allocations in these scenarios: * For flavors with large amount of RAM but only moderate amount of CPUs, I may want to set higher ``ram_weight_multiplier`` than ``cpu_weight_multiplier`` to express that for this kind of flavor, RAM is more important than CPU when weight. On the contrary for flavors with large amount of CPUs but only small number of RAM, I may want ``cpu_weight_multiplier`` to be larger and ``ram_weight_multiplier`` to be smaller to express that for this flavor, CPUs are more important when weight; * I can see that some of the compute nodes have unevenly occupied resources e.g. on host_A 80% of the CPUs are already taken but only 60% of the RAM are already taken, I may want to control the ``*_weight_multiplier`` for my next request using ``scheduler hints`` to adjust the weight order and try to make the resource consumption evenly on host A. Proposed change =============== This spec propose to add abilities in existing weigher to read the ``*_weight_multiplier`` from ``flavor extra specs`` and ``scheduler hints`` to override the ``*_weight_multiplier`` from config files to achieve a more flexible weight during scheduling. If the user provide both in ``flavor extra specs`` and ``scheduler hints``, the ``scheduler hints`` will override the ``flavor extra spec`` value and config options as ``scheduler hints`` is per request. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Upgrade impact -------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: Zhenyu Zheng Other contributors: Yikun Jiang Work Items ---------- #. Add the ability to existing weigher to read the ``*_weight_multiplier`` from ``flavor extra specs`` and ``scheduler hints`` to override the ``*_weight_multiplier`` from config files to achieve a more flexible weight during scheduling #. Update docs about the new change Dependencies ============ None. Testing ======= Unit and functional tests for verifying the working when a ``*_weight_multiplier`` is provided in ``flavor extra specs`` and ``scheduler hints``. Documentation Impact ==================== Update the description of the ``flavor extra specs`` and ``scheduler hints`` about this new change. References ========== None. History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Stein - Introduced ",,163,0
openstack%2Fpython-watcherclient~master~Icc4b0796a8944cc2f59779e6eab242e55cd00114,openstack/python-watcherclient,master,Icc4b0796a8944cc2f59779e6eab242e55cd00114,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 04:13:19.000000000,2018-12-06 14:27:22.000000000,2018-12-06 14:27:21.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 04:13:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/c256ee2a210a2d86c8ee6faf88c60ae13e9bd6c8', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Icc4b0796a8944cc2f59779e6eab242e55cd00114\n'}]",0,621969,c256ee2a210a2d86c8ee6faf88c60ae13e9bd6c8,6,2,1,28935,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Icc4b0796a8944cc2f59779e6eab242e55cd00114
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/69/621969/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c256ee2a210a2d86c8ee6faf88c60ae13e9bd6c8,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fswift~master~I994ea0c9700678ab7e1364badc2ff88ebef5ec5e,openstack/swift,master,I994ea0c9700678ab7e1364badc2ff88ebef5ec5e,api-ref: Clean up container and object response code formatting,MERGED,2018-12-04 21:49:38.000000000,2018-12-06 14:16:29.000000000,2018-12-06 14:16:29.000000000,"[{'_account_id': 9625}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 21:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b0be777b0f5d60393f0fc12361cd0618da75db04', 'message': 'api-ref: Clean up container and object response code formatting\n\nChange-Id: I994ea0c9700678ab7e1364badc2ff88ebef5ec5e\nCloses-Bug: #1806596\n'}, {'number': 2, 'created': '2018-12-05 19:31:16.000000000', 'files': ['api-ref/source/storage-container-services.inc', 'api-ref/source/storage-object-services.inc'], 'web_link': 'https://opendev.org/openstack/swift/commit/33792353fc4e3814ba73028bb286af20c0f85e6f', 'message': 'api-ref: Clean up container and object response code formatting\n\nChange-Id: I994ea0c9700678ab7e1364badc2ff88ebef5ec5e\nCloses-Bug: #1806596\n'}]",0,622607,33792353fc4e3814ba73028bb286af20c0f85e6f,8,2,2,15343,,,0,"api-ref: Clean up container and object response code formatting

Change-Id: I994ea0c9700678ab7e1364badc2ff88ebef5ec5e
Closes-Bug: #1806596
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/622607/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/storage-container-services.inc', 'api-ref/source/storage-object-services.inc']",2,b0be777b0f5d60393f0fc12361cd0618da75db04,bug/1806596,"Error response codes: 416, 404If the container for the object does not already exist, the operation returns the ``404 Not Found`` response code. Normal response codes: 201 Error response codes: 404, 408, 411, 422Normal response codes: 201Normal response codes: 204Normal response codes: 202","Error response codes:416,404,Error response codes:201,422,411,408,Error response codes:201,Error response codes:204,Error response codes:204,Error response codes:202,",16,12
openstack%2Fneutron~master~I4221e587f5afc40304e7efc2dd53e937085d691b,openstack/neutron,master,I4221e587f5afc40304e7efc2dd53e937085d691b,Add tempest-slow to gate queue,MERGED,2018-12-04 16:47:39.000000000,2018-12-06 14:16:27.000000000,2018-12-06 14:16:27.000000000,"[{'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-12-04 16:47:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/94542ff42b6ba25bf341d41380d61a1d906f05a9', 'message': 'Add tempest-slow to gate queue\n\nThe standards state that if a job is voting in the check queue, it\nshould also be voting in the gate queue.  The tempest-slow job is voting\nin check, so therefore this change adds it to the gate queue.\n\nChange-Id: I4221e587f5afc40304e7efc2dd53e937085d691b\n'}]",0,622419,94542ff42b6ba25bf341d41380d61a1d906f05a9,17,9,1,13995,,,0,"Add tempest-slow to gate queue

The standards state that if a job is voting in the check queue, it
should also be voting in the gate queue.  The tempest-slow job is voting
in check, so therefore this change adds it to the gate queue.

Change-Id: I4221e587f5afc40304e7efc2dd53e937085d691b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/622419/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,94542ff42b6ba25bf341d41380d61a1d906f05a9,add-tempest-slow-to-gate, - tempest-slow: irrelevant-files: *tempest-irrelevant-files,,2,0
openstack%2Fpython-watcherclient~master~I8557932350a5816107e5bf817bc8bacd6767ea54,openstack/python-watcherclient,master,I8557932350a5816107e5bf817bc8bacd6767ea54,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:29:06.000000000,2018-12-06 14:14:49.000000000,,"[{'_account_id': 9414}, {'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:29:06.000000000', 'files': ['doc/source/contributing.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/dee878b7ecc50d6c33af17ea951c173cfd5170da', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I8557932350a5816107e5bf817bc8bacd6767ea54\n'}]",0,622758,dee878b7ecc50d6c33af17ea951c173cfd5170da,5,3,1,27781,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I8557932350a5816107e5bf817bc8bacd6767ea54
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/58/622758/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', 'setup.cfg']",2,dee878b7ecc50d6c33af17ea951c173cfd5170da,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,2,2
openstack%2Foperations-guide~master~Ib9d8be0e3a38f2186f421d7b7cded5874fdd06fd,openstack/operations-guide,master,Ib9d8be0e3a38f2186f421d7b7cded5874fdd06fd,Build translated versions of docs,ABANDONED,2018-11-24 11:14:58.000000000,2018-12-06 14:06:50.000000000,,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-24 11:14:58.000000000', 'files': ['tools/build-docs.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/5fdea647644c7f2520a44b10f4573b0ab6d4f5a7', 'message': 'Build translated versions of docs\n\nChange-Id: Ib9d8be0e3a38f2186f421d7b7cded5874fdd06fd\n'}]",0,619878,5fdea647644c7f2520a44b10f4573b0ab6d4f5a7,8,3,1,17765,,,0,"Build translated versions of docs

Change-Id: Ib9d8be0e3a38f2186f421d7b7cded5874fdd06fd
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/78/619878/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/build-docs.sh', 'tox.ini']",2,5fdea647644c7f2520a44b10f4573b0ab6d4f5a7,, {toxinidir}/tools/build-docs.sh, sphinx-build -E -W -b html doc/source doc/build/html,87,1
openstack%2Fcontributor-guide~master~I51cebf5c3848d4c2318285c85f65fbd77ca0accf,openstack/contributor-guide,master,I51cebf5c3848d4c2318285c85f65fbd77ca0accf,Build translated versions of docs,ABANDONED,2018-11-24 11:13:26.000000000,2018-12-06 14:06:11.000000000,,"[{'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-24 11:13:26.000000000', 'files': ['tools/build-docs.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/7941f165c7e2189bb62f4a38e995a2061dae2806', 'message': 'Build translated versions of docs\n\nChange-Id: I51cebf5c3848d4c2318285c85f65fbd77ca0accf\n'}]",0,619877,7941f165c7e2189bb62f4a38e995a2061dae2806,10,3,1,17765,,,0,"Build translated versions of docs

Change-Id: I51cebf5c3848d4c2318285c85f65fbd77ca0accf
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/77/619877/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/build-docs.sh', 'tox.ini']",2,7941f165c7e2189bb62f4a38e995a2061dae2806,,commands = {toxinidir}/tools/build-docs.sh,commands = sphinx-build -E -W -b html -d doc/build/doctrees doc/source doc/build/html,87,1
openstack%2Frally-openstack~master~I8e9343e681697d03e28bd790276de79e928a446d,openstack/rally-openstack,master,I8e9343e681697d03e28bd790276de79e928a446d,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 07:19:41.000000000,2018-12-06 13:51:41.000000000,2018-12-06 13:51:41.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 07:19:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/65ff23d46a70bf3a80ff9a7041f374f3432a43c1', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I8e9343e681697d03e28bd790276de79e928a446d\n'}]",0,622045,65ff23d46a70bf3a80ff9a7041f374f3432a43c1,6,2,1,26490,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I8e9343e681697d03e28bd790276de79e928a446d
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/45/622045/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,65ff23d46a70bf3a80ff9a7041f374f3432a43c1,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Frally-openstack~master~Iaff8c1c71b575d2a2cc21739eb64317ea93690c2,openstack/rally-openstack,master,Iaff8c1c71b575d2a2cc21739eb64317ea93690c2,"Move some step into ""if not skip_host_check""",MERGED,2018-12-06 03:31:46.000000000,2018-12-06 13:51:40.000000000,2018-12-06 13:51:40.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 03:31:46.000000000', 'files': ['rally_openstack/scenarios/nova/utils.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/67be2312c54c2633be556c9649a11c786a49b8d1', 'message': 'Move some step into ""if not skip_host_check""\n\nOnly skip_host_check=False, we should compare host_pre_migrate\n\nChange-Id: Iaff8c1c71b575d2a2cc21739eb64317ea93690c2\n'}]",0,623127,67be2312c54c2633be556c9649a11c786a49b8d1,6,2,1,21897,,,0,"Move some step into ""if not skip_host_check""

Only skip_host_check=False, we should compare host_pre_migrate

Change-Id: Iaff8c1c71b575d2a2cc21739eb64317ea93690c2
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/27/623127/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/scenarios/nova/utils.py'],1,67be2312c54c2633be556c9649a11c786a49b8d1,," if not skip_host_check: server_admin = self.admin_clients(""nova"").servers.get(server.id) host_after_migrate = getattr(server_admin, ""OS-EXT-SRV-ATTR:host"") if host_pre_migrate == host_after_migrate: raise exceptions.RallyException( ""Live Migration failed: Migration complete "" ""but instance did not change host: %s"" % host_pre_migrate)"," server_admin = self.admin_clients(""nova"").servers.get(server.id) if (host_pre_migrate == getattr(server_admin, ""OS-EXT-SRV-ATTR:host"") and not skip_host_check): raise exceptions.RallyException( ""Live Migration failed: Migration complete "" ""but instance did not change host: %s"" % host_pre_migrate)",7,6
openstack%2Frally-openstack~master~Ic7f443fef463a7de6127ba29f15f923fad76969f,openstack/rally-openstack,master,Ic7f443fef463a7de6127ba29f15f923fad76969f,Check the state and status in hypervisor,MERGED,2018-12-04 09:32:53.000000000,2018-12-06 13:51:40.000000000,2018-12-06 13:51:40.000000000,"[{'_account_id': 9545}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 09:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a38c59784b04966104cd6946b5075a646208f2e8', 'message': 'Check the state and status in hypervisor\n\nIf the host state is down or status is disabled,when nova scheduler\nto the host,the vm will create fail.\n\nChange-Id: Ic7f443fef463a7de6127ba29f15f923fad76969f\n'}, {'number': 2, 'created': '2018-12-04 09:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7d1c5d5ec9d6d85c06a513c6fb4827cc73a5c9ad', 'message': 'Check the state and status in hypervisor\n\nIf the host state is down or status is disabled,when nova scheduler\nto the host,the vm will create fail.\n\nChange-Id: Ic7f443fef463a7de6127ba29f15f923fad76969f\n'}, {'number': 3, 'created': '2018-12-04 10:57:05.000000000', 'files': ['rally_openstack/scenarios/nova/aggregates.py', 'tests/unit/scenarios/nova/test_aggregates.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/21e0f755dfa5cc353183f877cfcee20ee06b89bc', 'message': 'Check the state and status in hypervisor\n\nIf the host state is down or status is disabled,when nova scheduler\nto the host,the vm will create fail.\n\nChange-Id: Ic7f443fef463a7de6127ba29f15f923fad76969f\n'}]",0,622144,21e0f755dfa5cc353183f877cfcee20ee06b89bc,10,3,3,21897,,,0,"Check the state and status in hypervisor

If the host state is down or status is disabled,when nova scheduler
to the host,the vm will create fail.

Change-Id: Ic7f443fef463a7de6127ba29f15f923fad76969f
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/44/622144/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/scenarios/nova/aggregates.py'],1,a38c59784b04966104cd6946b5075a646208f2e8,nova-aggregates," host_name = None for i in range(len(hosts)): if hosts[i].state == 'up' and hosts[i].status == 'disabled': host_name = hosts[i].service[""host""] break if not host_name: raise exceptions.RallyException(""Could not find an available host"") "," host_name = hosts[0].service[""host""]",9,1
openstack%2Fpuppet-openstack-cookiecutter~master~I85bef436fa7f00aab8db2c4584f32f2183157a86,openstack/puppet-openstack-cookiecutter,master,I85bef436fa7f00aab8db2c4584f32f2183157a86,Fix stdlib version in metadata,MERGED,2018-12-05 10:43:18.000000000,2018-12-06 13:50:17.000000000,2018-12-06 13:50:17.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 10:43:18.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/b695e246d655d6747f4d8fb75be6b84143ccb704', 'message': 'Fix stdlib version in metadata\n\npuppetlabs-stdlib is now using the 5.1 version, so we should fix the\nstdlib version in metadata.\n\nChange-Id: I85bef436fa7f00aab8db2c4584f32f2183157a86\n'}]",0,622925,b695e246d655d6747f4d8fb75be6b84143ccb704,7,3,1,26775,,,0,"Fix stdlib version in metadata

puppetlabs-stdlib is now using the 5.1 version, so we should fix the
stdlib version in metadata.

Change-Id: I85bef436fa7f00aab8db2c4584f32f2183157a86
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/25/622925/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/metadata.json'],1,b695e246d655d6747f4d8fb75be6b84143ccb704,," ""version_requirement"": "">=5.0.0 <6.0.0"""," ""version_requirement"": "">=4.0.0 <5.0.0""",1,1
openstack%2Ftripleo-heat-templates~master~If77933310b5602c5e0d4197584d66d929fc4d8db,openstack/tripleo-heat-templates,master,If77933310b5602c5e0d4197584d66d929fc4d8db,neutron-cleanup skips ports marked skip_cleanup=true,MERGED,2018-11-20 18:53:30.000000000,2018-12-06 13:48:13.000000000,2018-12-05 08:29:15.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 8745}, {'_account_id': 8788}, {'_account_id': 10873}, {'_account_id': 11082}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-11-20 18:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e0e98cd30aca610937c7bd6faf6ff303b5ea7ac', 'message': 'neutron-cleanup skips ports marked skip_cleanup=true\n\nThe neutron-cleanup script was destroying the entire neutron integration\nbridge including ports that are tagged to skip the cleanup process. This\nadds logic to skip those ports.\n\nChange-Id: If77933310b5602c5e0d4197584d66d929fc4d8db\nCloses-Bug: #1804288\n'}, {'number': 2, 'created': '2018-11-20 19:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1a164f84450984bce6c2554a3cfb2592e84d1a5', 'message': 'neutron-cleanup skips ports marked skip_cleanup=true\n\nThe neutron-cleanup script was destroying the entire neutron integration\nbridge including ports that are tagged to skip the cleanup process. This\nadds logic to skip those ports.\n\nChange-Id: If77933310b5602c5e0d4197584d66d929fc4d8db\nCloses-Bug: #1804288\n'}, {'number': 3, 'created': '2018-11-21 14:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdd463ce0e05ed5cbe09a596a819d9e4c8824147', 'message': 'neutron-cleanup skips ports marked skip_cleanup=true\n\nThe neutron-cleanup script was destroying the entire neutron integration\nbridge including ports that are tagged to skip the cleanup process. This\nadds logic to skip those ports.\n\nChange-Id: If77933310b5602c5e0d4197584d66d929fc4d8db\nCloses-Bug: #1804288\n'}, {'number': 4, 'created': '2018-11-27 13:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5190aa87d326aeaa30283459b2660407e42b1aac', 'message': 'neutron-cleanup skips ports marked skip_cleanup=true\n\nThe neutron-cleanup script was destroying the entire neutron integration\nbridge including ports that are tagged to skip the cleanup process. This\nadds logic to skip those ports.\n\nChange-Id: If77933310b5602c5e0d4197584d66d929fc4d8db\nCloses-Bug: #1804288\n'}, {'number': 5, 'created': '2018-11-27 13:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b19867931a76ff438734f9203de938e6f1145d2b', 'message': 'neutron-cleanup skips ports marked skip_cleanup=true\n\nThe neutron-cleanup script was destroying the entire neutron integration\nbridge including ports that are tagged to skip the cleanup process. This\nadds logic to skip those ports.\n\nChange-Id: If77933310b5602c5e0d4197584d66d929fc4d8db\nCloses-Bug: #1804288\n'}, {'number': 6, 'created': '2018-12-03 20:21:01.000000000', 'files': ['docker/services/neutron/neutron-cleanup'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9c0fa5ce5a6d42889e29e09ad8edffe0498e39c', 'message': 'neutron-cleanup skips ports marked skip_cleanup=true\n\nThe neutron-cleanup script was destroying the entire neutron integration\nbridge including ports that are tagged to skip the cleanup process. This\nadds logic to skip those ports.\n\nChange-Id: If77933310b5602c5e0d4197584d66d929fc4d8db\nCloses-Bug: #1804288\n'}]",9,619060,a9c0fa5ce5a6d42889e29e09ad8edffe0498e39c,39,14,6,6681,,,0,"neutron-cleanup skips ports marked skip_cleanup=true

The neutron-cleanup script was destroying the entire neutron integration
bridge including ports that are tagged to skip the cleanup process. This
adds logic to skip those ports.

Change-Id: If77933310b5602c5e0d4197584d66d929fc4d8db
Closes-Bug: #1804288
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/619060/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/neutron/neutron-cleanup'],1,4e0e98cd30aca610937c7bd6faf6ff303b5ea7ac,bug/1804288,"for port in `ovs-vsctl list-ports ${INT_BRIDGE:-""br-int""}; external_ids=`ovs-vsctl --format list --columns=external_ids list Interface $port` if ! [[ ""$external_ids"" =~ ""skip_cleanup=\""true\"""" ]]; then ovs-vsctl del-port ${INT_BRIDGE:-""br-int""} $port fiovs-vsctl --if-exists del-br ${TUN_BRIDGE:-""br-tun""} ","for br in ${INT_BRIDGE:-""br-int""} ${TUN_BRIDGE:-""br-tun""}; ovs-vsctl --if-exists del-br $br",8,2
openstack%2Fpuppet-glare~master~I6ac3183063bdae9a769bb01b16cbf492b9d36949,openstack/puppet-glare,master,I6ac3183063bdae9a769bb01b16cbf492b9d36949,Always build universal wheels,ABANDONED,2018-10-04 01:50:02.000000000,2018-12-06 13:41:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/a499b17374137177394531111cff4d9e882bc0b8', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I6ac3183063bdae9a769bb01b16cbf492b9d36949\n'}, {'number': 2, 'created': '2018-10-05 09:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/cd7e88886d5aded9d787b450cdd52e699b0f97b2', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I6ac3183063bdae9a769bb01b16cbf492b9d36949\n'}, {'number': 3, 'created': '2018-10-05 09:46:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/821f6b8b0849a64a3cbb1dabc4d5e4b614913ce8', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I6ac3183063bdae9a769bb01b16cbf492b9d36949\n'}]",0,607766,821f6b8b0849a64a3cbb1dabc4d5e4b614913ce8,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I6ac3183063bdae9a769bb01b16cbf492b9d36949
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/66/607766/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a499b17374137177394531111cff4d9e882bc0b8,, [wheel] universal = 1,,3,0
openstack%2Fpuppet-rally~master~I63d79d78632543bdb29e82588908ca77fa6839e5,openstack/puppet-rally,master,I63d79d78632543bdb29e82588908ca77fa6839e5,Always build universal wheels,ABANDONED,2018-10-04 02:11:37.000000000,2018-12-06 13:41:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/6d7720f8dbdf0ececeb57632d0051f7d9e8f2f04', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I63d79d78632543bdb29e82588908ca77fa6839e5\n'}, {'number': 2, 'created': '2018-10-06 02:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/08ac35e12e53689db099f0edba23369b8d86ab51', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I63d79d78632543bdb29e82588908ca77fa6839e5\n'}, {'number': 3, 'created': '2018-10-06 02:04:07.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/9ffe2df6e0798100566d221b46564e2ff983bf57', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I63d79d78632543bdb29e82588908ca77fa6839e5\n'}]",0,607785,9ffe2df6e0798100566d221b46564e2ff983bf57,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I63d79d78632543bdb29e82588908ca77fa6839e5
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/85/607785/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6d7720f8dbdf0ececeb57632d0051f7d9e8f2f04,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-senlin~master~I7f4ba1053ad9795996000b7f957abf828b9a80a4,openstack/puppet-senlin,master,I7f4ba1053ad9795996000b7f957abf828b9a80a4,Always build universal wheels,ABANDONED,2018-10-04 02:13:58.000000000,2018-12-06 13:41:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/91c3bd6d02df17b265752af1a65bdf54269a731f', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I7f4ba1053ad9795996000b7f957abf828b9a80a4\n'}, {'number': 2, 'created': '2018-10-06 02:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/3d3257273f5db02a3777e128fd159527efe5ba35', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I7f4ba1053ad9795996000b7f957abf828b9a80a4\n'}, {'number': 3, 'created': '2018-10-06 02:02:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/cada7d4bbfa21d10a84e7da75e9064700e398f9c', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I7f4ba1053ad9795996000b7f957abf828b9a80a4\n'}]",0,607787,cada7d4bbfa21d10a84e7da75e9064700e398f9c,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I7f4ba1053ad9795996000b7f957abf828b9a80a4
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/87/607787/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,91c3bd6d02df17b265752af1a65bdf54269a731f,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-ovn~master~I2b0212c7b3543dc097233029c8f4f1e48f3f6f26,openstack/puppet-ovn,master,I2b0212c7b3543dc097233029c8f4f1e48f3f6f26,Always build universal wheels,ABANDONED,2018-10-04 02:07:26.000000000,2018-12-06 13:41:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/3baa78eab5145e406971eae5dab8500642f1631e', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I2b0212c7b3543dc097233029c8f4f1e48f3f6f26\n'}, {'number': 2, 'created': '2018-10-06 02:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/82ee9ec9408b0952ab9e823d808b7d721edfbb7a', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I2b0212c7b3543dc097233029c8f4f1e48f3f6f26\n'}, {'number': 3, 'created': '2018-10-06 02:05:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/9dc84bc67b161ae8ec7e89357b5538ce8acfb7a4', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I2b0212c7b3543dc097233029c8f4f1e48f3f6f26\n'}]",0,607782,9dc84bc67b161ae8ec7e89357b5538ce8acfb7a4,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I2b0212c7b3543dc097233029c8f4f1e48f3f6f26
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/82/607782/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3baa78eab5145e406971eae5dab8500642f1631e,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-murano~master~I841b50249dd03cf6a033e85e9e5bee2c26ccb46a,openstack/puppet-murano,master,I841b50249dd03cf6a033e85e9e5bee2c26ccb46a,Always build universal wheels,ABANDONED,2018-10-04 02:00:10.000000000,2018-12-06 13:41:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/f4762f99b8cf34806cf5825d008a1c79377f496b', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I841b50249dd03cf6a033e85e9e5bee2c26ccb46a\n'}, {'number': 2, 'created': '2018-10-06 01:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/c20048222115712ae1a451618f70d07db2bc7548', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I841b50249dd03cf6a033e85e9e5bee2c26ccb46a\n'}, {'number': 3, 'created': '2018-10-06 02:00:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/7832bec6996e35179bf6bcb2d0df0a48f716bd21', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I841b50249dd03cf6a033e85e9e5bee2c26ccb46a\n'}]",0,607775,7832bec6996e35179bf6bcb2d0df0a48f716bd21,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I841b50249dd03cf6a033e85e9e5bee2c26ccb46a
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/75/607775/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f4762f99b8cf34806cf5825d008a1c79377f496b,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-congress~master~I748327689522e10558a108dd0b1596c057f5e1c0,openstack/puppet-congress,master,I748327689522e10558a108dd0b1596c057f5e1c0,Always build universal wheels,ABANDONED,2018-10-04 01:38:34.000000000,2018-12-06 13:41:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/c9adcb85d249dfb189831b34d2427d2e909e65d1', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I748327689522e10558a108dd0b1596c057f5e1c0\n'}, {'number': 2, 'created': '2018-10-06 01:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/f10ec5a2a2d97d8ec3183107cb963803498e44a7', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I748327689522e10558a108dd0b1596c057f5e1c0\n'}, {'number': 3, 'created': '2018-10-06 01:58:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/91bb68e52f31d3dffabde652ff7511fca794a695', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I748327689522e10558a108dd0b1596c057f5e1c0\n'}]",0,607750,91bb68e52f31d3dffabde652ff7511fca794a695,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I748327689522e10558a108dd0b1596c057f5e1c0
",git fetch https://review.opendev.org/openstack/puppet-congress refs/changes/50/607750/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c9adcb85d249dfb189831b34d2427d2e909e65d1,,[wheel] universal = 1,,2,0
openstack%2Fdocs-specs~master~I5091ab913c9bb1b2106d176ef3461a7a221e29ff,openstack/docs-specs,master,I5091ab913c9bb1b2106d176ef3461a7a221e29ff,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 14:47:19.000000000,2018-12-06 13:41:18.000000000,2018-12-06 13:41:18.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-12-05 14:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/5a80607021d835a57e11d447499ed96931919b4c', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I5091ab913c9bb1b2106d176ef3461a7a221e29ff\n'}, {'number': 2, 'created': '2018-12-06 07:37:49.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/58980b4d8fb8ad032fb4d855d23c003d41a41be2', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I5091ab913c9bb1b2106d176ef3461a7a221e29ff\n'}]",0,622985,58980b4d8fb8ad032fb4d855d23c003d41a41be2,15,4,2,28935,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I5091ab913c9bb1b2106d176ef3461a7a221e29ff
",git fetch https://review.opendev.org/openstack/docs-specs refs/changes/85/622985/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5a80607021d835a57e11d447499ed96931919b4c,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-docs@lists.openstack.org,1,1
openstack%2Fpuppet-ceilometer~master~I438ae6b5766648061f9fe701a3921ddc17867098,openstack/puppet-ceilometer,master,I438ae6b5766648061f9fe701a3921ddc17867098,Always build universal wheels,ABANDONED,2018-10-04 01:31:00.000000000,2018-12-06 13:41:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/50d73af7d314f0387fbf72b1761d8a193b1b1113', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I438ae6b5766648061f9fe701a3921ddc17867098\n'}, {'number': 2, 'created': '2018-10-06 02:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/6a5375f385ae20824d5f99d01ef73aecb85edddb', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I438ae6b5766648061f9fe701a3921ddc17867098\n'}, {'number': 3, 'created': '2018-10-06 02:01:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/6c4ab7e18620e508960a37124a4262b797fc4c01', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I438ae6b5766648061f9fe701a3921ddc17867098\n'}]",0,607746,6c4ab7e18620e508960a37124a4262b797fc4c01,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I438ae6b5766648061f9fe701a3921ddc17867098
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/46/607746/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,50d73af7d314f0387fbf72b1761d8a193b1b1113,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-tacker~master~Ie78f5c983ea93bd68c39a6c9c4b470023ed046e6,openstack/puppet-tacker,master,Ie78f5c983ea93bd68c39a6c9c4b470023ed046e6,Always build universal wheels,ABANDONED,2018-10-04 02:15:45.000000000,2018-12-06 13:40:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/aca514bbd639154b8b0e229173e56aeb9dc66d44', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Ie78f5c983ea93bd68c39a6c9c4b470023ed046e6\n'}, {'number': 2, 'created': '2018-10-07 12:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/e01a46ec320ab8b73b3614a80442dc6c77011d6d', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Ie78f5c983ea93bd68c39a6c9c4b470023ed046e6\n'}, {'number': 3, 'created': '2018-10-07 12:59:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/5535093a91f02f9d4774fe61270b7efbd2c11092', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Ie78f5c983ea93bd68c39a6c9c4b470023ed046e6\n'}]",0,607789,5535093a91f02f9d4774fe61270b7efbd2c11092,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Ie78f5c983ea93bd68c39a6c9c4b470023ed046e6
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/89/607789/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,aca514bbd639154b8b0e229173e56aeb9dc66d44,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-magnum~master~Iba38476d42e3229db8fa49bd1ff4a30a6f59d097,openstack/puppet-magnum,master,Iba38476d42e3229db8fa49bd1ff4a30a6f59d097,Always build universal wheels,ABANDONED,2018-10-04 01:57:04.000000000,2018-12-06 13:40:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/d776b291127b7a3f06a99802c6ffa4e7681a6d42', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Iba38476d42e3229db8fa49bd1ff4a30a6f59d097\n'}, {'number': 2, 'created': '2018-10-07 12:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/0aec14f81fcd7af511e0f5afe8a1072050a42a8c', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Iba38476d42e3229db8fa49bd1ff4a30a6f59d097\n'}, {'number': 3, 'created': '2018-10-07 12:58:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/b9ea69133ad8f71801e357c119fc6da407129b4c', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Iba38476d42e3229db8fa49bd1ff4a30a6f59d097\n'}]",0,607772,b9ea69133ad8f71801e357c119fc6da407129b4c,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Iba38476d42e3229db8fa49bd1ff4a30a6f59d097
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/72/607772/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d776b291127b7a3f06a99802c6ffa4e7681a6d42,, [wheel] universal = 1,,3,0
openstack%2Fpuppet-ec2api~master~I05568bd10561046350e05b29bf1ec9bbbbcb4c25,openstack/puppet-ec2api,master,I05568bd10561046350e05b29bf1ec9bbbbcb4c25,Always build universal wheels,ABANDONED,2018-10-04 01:40:35.000000000,2018-12-06 13:40:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/6c0c53ec97b2a563a253120a723d74b594d14d6d', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I05568bd10561046350e05b29bf1ec9bbbbcb4c25\n'}, {'number': 2, 'created': '2018-10-07 13:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/aebf5ceeadc13b3bba06a3cb1eb960a804929a21', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I05568bd10561046350e05b29bf1ec9bbbbcb4c25\n'}, {'number': 3, 'created': '2018-10-07 13:00:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/a4b95b6a57e8410abc2dc9d5a550e6764db33a9e', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I05568bd10561046350e05b29bf1ec9bbbbcb4c25\n'}]",0,607756,a4b95b6a57e8410abc2dc9d5a550e6764db33a9e,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I05568bd10561046350e05b29bf1ec9bbbbcb4c25
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/56/607756/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6c0c53ec97b2a563a253120a723d74b594d14d6d,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-aodh~master~I35ff3c7878ba61dccbfdc193f05108723275ee14,openstack/puppet-aodh,master,I35ff3c7878ba61dccbfdc193f05108723275ee14,Always build universal wheels,ABANDONED,2018-10-04 01:27:58.000000000,2018-12-06 13:40:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/d4c5b6ff0d61a9c07805eaae27241b2c1aad82af', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I35ff3c7878ba61dccbfdc193f05108723275ee14\n'}, {'number': 2, 'created': '2018-10-07 13:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2c6eaf0313f24d7374837cc7df33c5a68691bb42', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I35ff3c7878ba61dccbfdc193f05108723275ee14\n'}, {'number': 3, 'created': '2018-10-07 13:01:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2436249beb8b7c8032263262befd9d453333b571', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I35ff3c7878ba61dccbfdc193f05108723275ee14\n'}]",0,607744,2436249beb8b7c8032263262befd9d453333b571,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I35ff3c7878ba61dccbfdc193f05108723275ee14
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/44/607744/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d4c5b6ff0d61a9c07805eaae27241b2c1aad82af,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-gnocchi~master~I7844b02f4b2c88e0d653f9e6e0759e8ef096978d,openstack/puppet-gnocchi,master,I7844b02f4b2c88e0d653f9e6e0759e8ef096978d,Always build universal wheels,ABANDONED,2018-10-04 01:51:25.000000000,2018-12-06 13:40:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/125cdec6c6b360290f3f328b54f3f68c0799bc76', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I7844b02f4b2c88e0d653f9e6e0759e8ef096978d\n'}, {'number': 2, 'created': '2018-10-08 09:04:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/8f49f41d91e214016496cb1311710d235927d4b3', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\n\nChange-Id: I7844b02f4b2c88e0d653f9e6e0759e8ef096978d\n'}]",0,607767,8f49f41d91e214016496cb1311710d235927d4b3,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.


Change-Id: I7844b02f4b2c88e0d653f9e6e0759e8ef096978d
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/67/607767/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,125cdec6c6b360290f3f328b54f3f68c0799bc76,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-manila~master~I48ac05e3d8baea769bc2e6d1e7581879ad47ce32,openstack/puppet-manila,master,I48ac05e3d8baea769bc2e6d1e7581879ad47ce32,Always build universal wheels,ABANDONED,2018-10-04 01:58:04.000000000,2018-12-06 13:40:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/daf6884aa27ef0bd0d3dfe4baebbf7ac3386803f', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I48ac05e3d8baea769bc2e6d1e7581879ad47ce32\n'}, {'number': 2, 'created': '2018-10-08 09:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/70bc61fbd97460286000914b5a44d2a71ff78872', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\n\nChange-Id: I48ac05e3d8baea769bc2e6d1e7581879ad47ce32\n'}, {'number': 3, 'created': '2018-10-08 09:03:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/c5c6e0942b93cd94091e6799da6986c26ded4422', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\n\nChange-Id: I48ac05e3d8baea769bc2e6d1e7581879ad47ce32\n'}]",0,607773,c5c6e0942b93cd94091e6799da6986c26ded4422,8,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.


Change-Id: I48ac05e3d8baea769bc2e6d1e7581879ad47ce32
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/73/607773/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,daf6884aa27ef0bd0d3dfe4baebbf7ac3386803f,,[wheel] universal = 1,,2,0
openstack%2Fdocs-specs~master~I527a08565cdc876dc862f1a944de06eddb7c33c9,openstack/docs-specs,master,I527a08565cdc876dc862f1a944de06eddb7c33c9,Fix sphinx invocation,MERGED,2018-12-06 07:37:28.000000000,2018-12-06 13:39:59.000000000,2018-12-06 13:39:59.000000000,"[{'_account_id': 15334}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-06 07:37:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/6efa693f2a273a68b7173bc990f439f28f748cdd', 'message': 'Fix sphinx invocation\n\nWe use now ""tox -e docs"" and the sphinx-build invocation was using the\nwrong directory - fix it.\n\nAlso, add doctrees option.\n\nChange-Id: I527a08565cdc876dc862f1a944de06eddb7c33c9\n'}]",0,623152,6efa693f2a273a68b7173bc990f439f28f748cdd,7,3,1,6547,,,0,"Fix sphinx invocation

We use now ""tox -e docs"" and the sphinx-build invocation was using the
wrong directory - fix it.

Also, add doctrees option.

Change-Id: I527a08565cdc876dc862f1a944de06eddb7c33c9
",git fetch https://review.opendev.org/openstack/docs-specs refs/changes/52/623152/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6efa693f2a273a68b7173bc990f439f28f748cdd,, sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html, sphinx-build -W -b html doc/source doc/build,1,1
openstack%2Fpuppet-horizon~master~I3e7f0aceb93fd65c37d76e2bf9e27a92487c1aa6,openstack/puppet-horizon,master,I3e7f0aceb93fd65c37d76e2bf9e27a92487c1aa6,Always build universal wheels,ABANDONED,2018-10-04 01:53:26.000000000,2018-12-06 13:39:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c75f6fd8d566ba556896553ba077d2637ad610da', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I3e7f0aceb93fd65c37d76e2bf9e27a92487c1aa6\n'}, {'number': 2, 'created': '2018-10-08 09:06:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/f7217afbfdf98742a2cfca54eae069de0c50fa44', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I3e7f0aceb93fd65c37d76e2bf9e27a92487c1aa6\n'}]",0,607769,f7217afbfdf98742a2cfca54eae069de0c50fa44,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I3e7f0aceb93fd65c37d76e2bf9e27a92487c1aa6
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/69/607769/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c75f6fd8d566ba556896553ba077d2637ad610da,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-ceph~master~I29dcff1f052503ad9f5cd2b713c8f2f644002ce3,openstack/puppet-ceph,master,I29dcff1f052503ad9f5cd2b713c8f2f644002ce3,Always build universal wheels,ABANDONED,2018-10-04 01:32:14.000000000,2018-12-06 13:39:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/9996f3e4156aa36bc6bf4d8d9724f8814d062d58', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I29dcff1f052503ad9f5cd2b713c8f2f644002ce3\n'}, {'number': 2, 'created': '2018-10-08 09:08:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/2a0d6d9c35601a329c2bcbd5995ad17cfd27a7ea', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I29dcff1f052503ad9f5cd2b713c8f2f644002ce3\n'}]",0,607747,2a0d6d9c35601a329c2bcbd5995ad17cfd27a7ea,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I29dcff1f052503ad9f5cd2b713c8f2f644002ce3
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/47/607747/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9996f3e4156aa36bc6bf4d8d9724f8814d062d58,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-cloudkitty~master~I84fa17cb17c7c232f70c380ef8b6a3440c5917e6,openstack/puppet-cloudkitty,master,I84fa17cb17c7c232f70c380ef8b6a3440c5917e6,Always build universal wheels,ABANDONED,2018-10-08 09:33:54.000000000,2018-12-06 13:39:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-08 09:33:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/a4eb22e7e7cb27a0f47b8365cfbf1b04192fac6c', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I84fa17cb17c7c232f70c380ef8b6a3440c5917e6\n'}]",0,608619,a4eb22e7e7cb27a0f47b8365cfbf1b04192fac6c,3,1,1,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I84fa17cb17c7c232f70c380ef8b6a3440c5917e6
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/19/608619/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a4eb22e7e7cb27a0f47b8365cfbf1b04192fac6c,, [bdist_wheel] universal = true,,3,0
openstack%2Fpuppet-openstack_extras~master~Id5d2553dcbf78d269adf0cfd9aef2ad6780233b5,openstack/puppet-openstack_extras,master,Id5d2553dcbf78d269adf0cfd9aef2ad6780233b5,Always build universal wheels,ABANDONED,2018-10-04 02:03:54.000000000,2018-12-06 13:39:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/990bc98a2b9c1d78e67de0abdcfa3f342f9a6c01', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Id5d2553dcbf78d269adf0cfd9aef2ad6780233b5\n'}, {'number': 2, 'created': '2018-10-08 09:12:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/248b3dc61e11846c98bf472c0f50239790e24df7', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Id5d2553dcbf78d269adf0cfd9aef2ad6780233b5\n'}]",0,607779,248b3dc61e11846c98bf472c0f50239790e24df7,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Id5d2553dcbf78d269adf0cfd9aef2ad6780233b5
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/79/607779/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,990bc98a2b9c1d78e67de0abdcfa3f342f9a6c01,, [wheel] universal = 1,,3,0
openstack%2Frpm-packaging~master~I18ea678995c40ac2a58d93a23d3c2a7b912765e9,openstack/rpm-packaging,master,I18ea678995c40ac2a58d93a23d3c2a7b912765e9,taskflow: Update to 3.2.0 and add stestr support,ABANDONED,2018-08-08 19:18:13.000000000,2018-12-06 13:39:34.000000000,,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-08-08 19:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d6dd331be3e61ebacd0f0cb4d5c7a4239b176c45', 'message': 'taskflow: add pydot dependency for passing unit tests on py27\n\nChange-Id: I18ea678995c40ac2a58d93a23d3c2a7b912765e9\n'}, {'number': 2, 'created': '2018-08-08 19:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6116f1c383202a4a7f276231d1505ab0507cc069', 'message': 'taskflow: Update to 3.2.0 and add stestr support\n\nThis is needed for passing %check section with the newer\npython-subunit.\n\nChange-Id: I18ea678995c40ac2a58d93a23d3c2a7b912765e9\n'}, {'number': 3, 'created': '2018-08-15 08:51:30.000000000', 'files': ['openstack/taskflow/0001-Fix-invalid-json-unit-test.patch', 'openstack/taskflow/0001-Switch-to-use-stestr-for-unit-test.patch', 'openstack/taskflow/taskflow.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/86af6d174cc99872d24d377705bd26c3c2c09546', 'message': 'taskflow: Update to 3.2.0 and add stestr support\n\nThis is needed for passing %check section with the newer\npython-subunit.\n\nChange-Id: I18ea678995c40ac2a58d93a23d3c2a7b912765e9\n'}]",1,590009,86af6d174cc99872d24d377705bd26c3c2c09546,17,5,3,6593,,,0,"taskflow: Update to 3.2.0 and add stestr support

This is needed for passing %check section with the newer
python-subunit.

Change-Id: I18ea678995c40ac2a58d93a23d3c2a7b912765e9
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/09/590009/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/taskflow/taskflow.spec.j2'],1,d6dd331be3e61ebacd0f0cb4d5c7a4239b176c45,taskflow,"BuildRequires: {{ py2pkg('pydot', py_versions=['py2']) }}",,1,0
openstack%2Fpuppet-vitrage~master~I22acc7decfff32ef74cf0eafb82aa6463e9c9f2c,openstack/puppet-vitrage,master,I22acc7decfff32ef74cf0eafb82aa6463e9c9f2c,Always build universal wheels,ABANDONED,2018-10-04 02:19:26.000000000,2018-12-06 13:39:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/65ac2d6f3e5ed22302fdeb599440485ac6b5c9aa', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I22acc7decfff32ef74cf0eafb82aa6463e9c9f2c\n'}, {'number': 2, 'created': '2018-10-08 09:11:40.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/aa09c87fd5cc82fab8d0c172b8806b7121f0c23c', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I22acc7decfff32ef74cf0eafb82aa6463e9c9f2c\n'}]",0,607793,aa09c87fd5cc82fab8d0c172b8806b7121f0c23c,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I22acc7decfff32ef74cf0eafb82aa6463e9c9f2c
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/93/607793/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,65ac2d6f3e5ed22302fdeb599440485ac6b5c9aa,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-barbican~master~Ibf2037be504b6393672b61e9791be64071d601a4,openstack/puppet-barbican,master,Ibf2037be504b6393672b61e9791be64071d601a4,Always build universal wheels,ABANDONED,2018-10-04 01:29:21.000000000,2018-12-06 13:39:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/c51e2d38927a8c4d482bca249cfdf7ad15d12cdb', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Ibf2037be504b6393672b61e9791be64071d601a4\n'}, {'number': 2, 'created': '2018-10-08 09:07:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/fe9ed1c1a867f1f9b08dd646ff1268c02920c508', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Ibf2037be504b6393672b61e9791be64071d601a4\n'}]",0,607745,fe9ed1c1a867f1f9b08dd646ff1268c02920c508,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Ibf2037be504b6393672b61e9791be64071d601a4
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/45/607745/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c51e2d38927a8c4d482bca249cfdf7ad15d12cdb,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-designate~master~Ic3024040409f90b8bb34a7f0964f11d02e31a834,openstack/puppet-designate,master,Ic3024040409f90b8bb34a7f0964f11d02e31a834,Always build universal wheels,ABANDONED,2018-10-04 01:39:33.000000000,2018-12-06 13:39:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/a8d1656f2eb79bde4e1dd2b4ab4f6a74ba06be02', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Ic3024040409f90b8bb34a7f0964f11d02e31a834\n'}, {'number': 2, 'created': '2018-10-08 09:10:50.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/4b78f529e5c24ad61438a312a57dc2d5947d1e66', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Ic3024040409f90b8bb34a7f0964f11d02e31a834\n'}]",0,607751,4b78f529e5c24ad61438a312a57dc2d5947d1e66,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Ic3024040409f90b8bb34a7f0964f11d02e31a834
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/51/607751/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a8d1656f2eb79bde4e1dd2b4ab4f6a74ba06be02,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-ironic~master~Ie920b3082b4c08c7eb41539f40b8a84c1eab2a9f,openstack/puppet-ironic,master,Ie920b3082b4c08c7eb41539f40b8a84c1eab2a9f,Always build universal wheels,ABANDONED,2018-10-04 01:54:40.000000000,2018-12-06 13:39:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f86356e4a35f1ec1283d94c1e17e98591285252d', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Ie920b3082b4c08c7eb41539f40b8a84c1eab2a9f\n'}, {'number': 2, 'created': '2018-10-08 09:01:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/5d1ea05340771842e092e754ff99df180d77478b', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\n\nChange-Id: Ie920b3082b4c08c7eb41539f40b8a84c1eab2a9f\n'}]",0,607770,5d1ea05340771842e092e754ff99df180d77478b,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.


Change-Id: Ie920b3082b4c08c7eb41539f40b8a84c1eab2a9f
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/70/607770/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f86356e4a35f1ec1283d94c1e17e98591285252d,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-watcher~master~I2df93d3d991fe8b42b1f96fe45d3586d4ecdcb1e,openstack/puppet-watcher,master,I2df93d3d991fe8b42b1f96fe45d3586d4ecdcb1e,Always build universal wheels,ABANDONED,2018-10-04 02:21:52.000000000,2018-12-06 13:39:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/f1a1a15997be5cabab99643e17da0318d0d46698', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I2df93d3d991fe8b42b1f96fe45d3586d4ecdcb1e\n'}, {'number': 2, 'created': '2018-10-08 09:13:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/7746504601c484c7b77a417ed97bf7e527ed8dce', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I2df93d3d991fe8b42b1f96fe45d3586d4ecdcb1e\n'}]",0,607795,7746504601c484c7b77a417ed97bf7e527ed8dce,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I2df93d3d991fe8b42b1f96fe45d3586d4ecdcb1e
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/95/607795/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f1a1a15997be5cabab99643e17da0318d0d46698,, [wheel] universal = 1,,3,0
openstack%2Fpuppet-trove~master~I0681eb1d52b13d154c4be6063b1a4c3611ba94e9,openstack/puppet-trove,master,I0681eb1d52b13d154c4be6063b1a4c3611ba94e9,Always build universal wheels,ABANDONED,2018-10-04 02:18:22.000000000,2018-12-06 13:38:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/1c1f87a814e96bb599dc5f6b7656d0867d56b83f', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I0681eb1d52b13d154c4be6063b1a4c3611ba94e9\n'}, {'number': 2, 'created': '2018-10-08 09:28:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/92b9036ec0094e1641b4bda57754677aab80c104', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I0681eb1d52b13d154c4be6063b1a4c3611ba94e9\n'}]",0,607792,92b9036ec0094e1641b4bda57754677aab80c104,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I0681eb1d52b13d154c4be6063b1a4c3611ba94e9
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/92/607792/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1c1f87a814e96bb599dc5f6b7656d0867d56b83f,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-vswitch~master~I9d47ddcc9f7ad94d42c3c073462e684bb0496da0,openstack/puppet-vswitch,master,I9d47ddcc9f7ad94d42c3c073462e684bb0496da0,Always build universal wheels,ABANDONED,2018-10-04 02:20:54.000000000,2018-12-06 13:38:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/db95af6a95f8359cf3a079120773931676ad86a2', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I9d47ddcc9f7ad94d42c3c073462e684bb0496da0\n'}, {'number': 2, 'created': '2018-10-08 09:20:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/289b69b7c0261fab581c1e770fd89526ab2fbdd2', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I9d47ddcc9f7ad94d42c3c073462e684bb0496da0\n'}]",0,607794,289b69b7c0261fab581c1e770fd89526ab2fbdd2,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I9d47ddcc9f7ad94d42c3c073462e684bb0496da0
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/94/607794/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,db95af6a95f8359cf3a079120773931676ad86a2,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-openstacklib~master~I12fe08c322c7b4c36965205a26ec77bd58a26f30,openstack/puppet-openstacklib,master,I12fe08c322c7b4c36965205a26ec77bd58a26f30,Always build universal wheels,ABANDONED,2018-10-04 02:05:40.000000000,2018-12-06 13:38:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/a68cce89a3fd2fef62269139d93f3125b9a69513', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I12fe08c322c7b4c36965205a26ec77bd58a26f30\n'}, {'number': 2, 'created': '2018-10-08 09:30:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/c695c334dff9aeba5e9cffd60330b26dfaa55051', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I12fe08c322c7b4c36965205a26ec77bd58a26f30\n'}]",0,607780,c695c334dff9aeba5e9cffd60330b26dfaa55051,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I12fe08c322c7b4c36965205a26ec77bd58a26f30
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/80/607780/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a68cce89a3fd2fef62269139d93f3125b9a69513,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-panko~master~Icfae3cfadaf3d4c4f25dbae958e3ba733ae37d11,openstack/puppet-panko,master,Icfae3cfadaf3d4c4f25dbae958e3ba733ae37d11,Always build universal wheels,ABANDONED,2018-10-04 02:09:51.000000000,2018-12-06 13:38:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/d0fff85a613fbe21a2b1e5ad34d1ff7a6d8536d9', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Icfae3cfadaf3d4c4f25dbae958e3ba733ae37d11\n'}, {'number': 2, 'created': '2018-10-08 09:26:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/545ba969735a0b450de4ce7feba8ff45cb224f1a', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Icfae3cfadaf3d4c4f25dbae958e3ba733ae37d11\n'}]",0,607784,545ba969735a0b450de4ce7feba8ff45cb224f1a,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Icfae3cfadaf3d4c4f25dbae958e3ba733ae37d11
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/84/607784/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d0fff85a613fbe21a2b1e5ad34d1ff7a6d8536d9,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-cinder~master~I3f4bb35eb34a15b3a1c1cae02b9d32bf3c5a03f3,openstack/puppet-cinder,master,I3f4bb35eb34a15b3a1c1cae02b9d32bf3c5a03f3,Always build universal wheels,ABANDONED,2018-10-04 01:35:04.000000000,2018-12-06 13:38:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/23aedfdf0e3daadd56de68e3789642405cd306aa', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I3f4bb35eb34a15b3a1c1cae02b9d32bf3c5a03f3\n'}, {'number': 2, 'created': '2018-10-08 09:16:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/68eed26f80ff63e48613f0c52eb07ea6c3de8a38', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I3f4bb35eb34a15b3a1c1cae02b9d32bf3c5a03f3\n'}]",0,607748,68eed26f80ff63e48613f0c52eb07ea6c3de8a38,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I3f4bb35eb34a15b3a1c1cae02b9d32bf3c5a03f3
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/48/607748/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,23aedfdf0e3daadd56de68e3789642405cd306aa,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-mistral~master~Iba5adbe38e02a2c2199c7ba054377e10c2d7d23b,openstack/puppet-mistral,master,Iba5adbe38e02a2c2199c7ba054377e10c2d7d23b,Always build universal wheels,ABANDONED,2018-10-04 01:59:13.000000000,2018-12-06 13:38:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/b9cda2d0428ef80cba004251617b65f5eff011a6', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Iba5adbe38e02a2c2199c7ba054377e10c2d7d23b\n'}, {'number': 2, 'created': '2018-10-08 09:18:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/43771af83afa56217faf428187aecc1c83b03a7a', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Iba5adbe38e02a2c2199c7ba054377e10c2d7d23b\n'}]",0,607774,43771af83afa56217faf428187aecc1c83b03a7a,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Iba5adbe38e02a2c2199c7ba054377e10c2d7d23b
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/74/607774/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b9cda2d0428ef80cba004251617b65f5eff011a6,, [wheel] universal = 1,,3,0
openstack%2Fpuppet-glance~master~Id458e400552940533fd382bffcadab02b9cd5a9f,openstack/puppet-glance,master,Id458e400552940533fd382bffcadab02b9cd5a9f,Always build universal wheels,ABANDONED,2018-10-04 01:48:56.000000000,2018-12-06 13:38:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-04 01:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a4e2d7f49ea629bf04f11ea30af3c25611c5eb8d', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Id458e400552940533fd382bffcadab02b9cd5a9f\n'}, {'number': 2, 'created': '2018-10-08 09:17:16.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/7abc968f14108ffe57c5af00196c89ac92de28a4', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Id458e400552940533fd382bffcadab02b9cd5a9f\n'}]",0,607765,7abc968f14108ffe57c5af00196c89ac92de28a4,9,2,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Id458e400552940533fd382bffcadab02b9cd5a9f
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/65/607765/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a4e2d7f49ea629bf04f11ea30af3c25611c5eb8d,, [wheel] universal = 1,,3,0
openstack%2Fpuppet-oslo~master~I9cf4eff836748e332979fc629d2b9b419fae68a9,openstack/puppet-oslo,master,I9cf4eff836748e332979fc629d2b9b419fae68a9,Always build universal wheels,ABANDONED,2018-10-04 02:06:34.000000000,2018-12-06 13:38:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/5273ab440eb2c06286039dae7ca0ecbe2241917a', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I9cf4eff836748e332979fc629d2b9b419fae68a9\n'}, {'number': 2, 'created': '2018-10-08 09:21:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/0799482f37267053fae37861ef6186fa1bd51275', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I9cf4eff836748e332979fc629d2b9b419fae68a9\n'}]",0,607781,0799482f37267053fae37861ef6186fa1bd51275,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I9cf4eff836748e332979fc629d2b9b419fae68a9
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/81/607781/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5273ab440eb2c06286039dae7ca0ecbe2241917a,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-keystone~master~Ib7cd2816c497492a4666cb7d17badc55473f27f1,openstack/puppet-keystone,master,Ib7cd2816c497492a4666cb7d17badc55473f27f1,Always build universal wheels,ABANDONED,2018-10-04 01:55:55.000000000,2018-12-06 13:38:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-04 01:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/851a88c707b9a13dc4ec0c1b302049cc170e21cc', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Ib7cd2816c497492a4666cb7d17badc55473f27f1\n'}, {'number': 2, 'created': '2018-10-08 09:19:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7db2cc2ae63742aaa2485bab66740a139ba8c901', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Ib7cd2816c497492a4666cb7d17badc55473f27f1\n'}]",0,607771,7db2cc2ae63742aaa2485bab66740a139ba8c901,9,2,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Ib7cd2816c497492a4666cb7d17badc55473f27f1
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/71/607771/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,851a88c707b9a13dc4ec0c1b302049cc170e21cc,, [wheel] universal = 1,,3,0
openstack%2Fpuppet-sahara~master~Ica1a0b377c4ea1d99f601eeb0434e377b7d1388d,openstack/puppet-sahara,master,Ica1a0b377c4ea1d99f601eeb0434e377b7d1388d,Always build universal wheels,ABANDONED,2018-10-04 02:12:33.000000000,2018-12-06 13:38:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/1acad86143dd55979571305c77c0fc908f74e4c9', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Ica1a0b377c4ea1d99f601eeb0434e377b7d1388d\n'}, {'number': 2, 'created': '2018-10-08 09:27:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/13eed1430556e167c3534978f173ca17b4bde386', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Ica1a0b377c4ea1d99f601eeb0434e377b7d1388d\n'}]",0,607786,13eed1430556e167c3534978f173ca17b4bde386,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Ica1a0b377c4ea1d99f601eeb0434e377b7d1388d
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/86/607786/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1acad86143dd55979571305c77c0fc908f74e4c9,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-tempest~master~Ic800de16bb52c77c481c27a1c22fe8e72ab3700b,openstack/puppet-tempest,master,Ic800de16bb52c77c481c27a1c22fe8e72ab3700b,Always build universal wheels,ABANDONED,2018-10-04 02:16:49.000000000,2018-12-06 13:38:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/735f714fb073af10ba35e473a74a4a44bac0d23e', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: Ic800de16bb52c77c481c27a1c22fe8e72ab3700b\n'}, {'number': 2, 'created': '2018-10-08 09:22:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/ad055bbba0283faa8e83947a0570d56f9fa97706', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Ic800de16bb52c77c481c27a1c22fe8e72ab3700b\n'}]",0,607790,ad055bbba0283faa8e83947a0570d56f9fa97706,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Ic800de16bb52c77c481c27a1c22fe8e72ab3700b
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/90/607790/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,735f714fb073af10ba35e473a74a4a44bac0d23e,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-neutron~master~I53e53ae77c1392f3b936eaedfcf7e9871b63bd09,openstack/puppet-neutron,master,I53e53ae77c1392f3b936eaedfcf7e9871b63bd09,Always build universal wheels,ABANDONED,2018-10-04 02:01:10.000000000,2018-12-06 13:38:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/65fd85d4f38a60f0a35b819f189de9caa511fcda', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I53e53ae77c1392f3b936eaedfcf7e9871b63bd09\n'}, {'number': 2, 'created': '2018-10-08 09:29:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/49308ecc01e2944815267721891d5233c1917d4f', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I53e53ae77c1392f3b936eaedfcf7e9871b63bd09\n'}]",0,607776,49308ecc01e2944815267721891d5233c1917d4f,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I53e53ae77c1392f3b936eaedfcf7e9871b63bd09
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/76/607776/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,65fd85d4f38a60f0a35b819f189de9caa511fcda,, [wheel] universal = 1,,3,0
openstack%2Fpuppet-heat~master~I7bc4478c6d7bb4f279d17f36154d58d3f74bbc33,openstack/puppet-heat,master,I7bc4478c6d7bb4f279d17f36154d58d3f74bbc33,Always build universal wheels,ABANDONED,2018-10-04 01:52:18.000000000,2018-12-06 13:37:15.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-04 01:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/66f62d969e7deeec8371da545c3d1914202fb21f', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I7bc4478c6d7bb4f279d17f36154d58d3f74bbc33\n'}, {'number': 2, 'created': '2018-10-08 09:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/f3c4c865f7c898fd6cb0d1e7ae53c1b34ed3aa63', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I7bc4478c6d7bb4f279d17f36154d58d3f74bbc33\n'}, {'number': 3, 'created': '2018-12-06 03:47:47.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/c9f875663626b93341134c896c4c1a1fae1d3a6f', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I7bc4478c6d7bb4f279d17f36154d58d3f74bbc33\n'}]",0,607768,c9f875663626b93341134c896c4c1a1fae1d3a6f,11,3,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I7bc4478c6d7bb4f279d17f36154d58d3f74bbc33
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/68/607768/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,66f62d969e7deeec8371da545c3d1914202fb21f,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-zaqar~master~I4d7163516ad41b29e8e0638f21df588221e165a9,openstack/puppet-zaqar,master,I4d7163516ad41b29e8e0638f21df588221e165a9,Always build universal wheels,ABANDONED,2018-10-04 02:22:39.000000000,2018-12-06 13:37:11.000000000,,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-04 02:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/59ef470072e2f5455ca591012561421b745767b0', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I4d7163516ad41b29e8e0638f21df588221e165a9\n'}, {'number': 2, 'created': '2018-10-08 09:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/6b9e760506410e0c17d49ccd553cffa4bcbc9245', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I4d7163516ad41b29e8e0638f21df588221e165a9\n'}, {'number': 3, 'created': '2018-11-26 11:53:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/128c1bb935218948416cae4066b7e3e30ea767cd', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I4d7163516ad41b29e8e0638f21df588221e165a9\n'}]",0,607796,128c1bb935218948416cae4066b7e3e30ea767cd,13,5,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I4d7163516ad41b29e8e0638f21df588221e165a9
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/96/607796/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,59ef470072e2f5455ca591012561421b745767b0,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-freezer~master~I31f968b1811030d0b7b42cbbc6111a5c071cbe5d,openstack/puppet-freezer,master,I31f968b1811030d0b7b42cbbc6111a5c071cbe5d,Always build universal wheels,ABANDONED,2018-10-04 01:42:33.000000000,2018-12-06 13:36:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/7446de97cba715fc160c6339eee921190b60b161', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I31f968b1811030d0b7b42cbbc6111a5c071cbe5d\n'}, {'number': 2, 'created': '2018-10-05 09:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/a00bff54d97a28c7c4558e3ef6cc72968100c8a8', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I31f968b1811030d0b7b42cbbc6111a5c071cbe5d\n'}, {'number': 3, 'created': '2018-10-05 09:41:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/311e30b93cd37b48de9e3afae165271937f93af9', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\n\nChange-Id: I31f968b1811030d0b7b42cbbc6111a5c071cbe5d\n'}]",0,607763,311e30b93cd37b48de9e3afae165271937f93af9,12,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.


Change-Id: I31f968b1811030d0b7b42cbbc6111a5c071cbe5d
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/63/607763/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7446de97cba715fc160c6339eee921190b60b161,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-swift~master~I6fab3899a01581aa539fd4a641a8d24fa7d0223b,openstack/puppet-swift,master,I6fab3899a01581aa539fd4a641a8d24fa7d0223b,Always build universal wheels,ABANDONED,2018-10-04 02:14:47.000000000,2018-12-06 13:36:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/9abfe5b1e50bd1d795f72ae9214d27c41806f2d4', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I6fab3899a01581aa539fd4a641a8d24fa7d0223b\n'}, {'number': 2, 'created': '2018-10-08 09:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/cf6c0406b474f4e13fc9c021bd02e381bf3a185c', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I6fab3899a01581aa539fd4a641a8d24fa7d0223b\n'}, {'number': 3, 'created': '2018-11-12 08:25:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a173fe47c41beb940d97092197d342d8e7e33a23', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I6fab3899a01581aa539fd4a641a8d24fa7d0223b\n'}]",0,607788,a173fe47c41beb940d97092197d342d8e7e33a23,9,1,3,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I6fab3899a01581aa539fd4a641a8d24fa7d0223b
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/88/607788/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9abfe5b1e50bd1d795f72ae9214d27c41806f2d4,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-nova~master~I7efdde56d56826cc81f92bf6a4efce40ce1a67ea,openstack/puppet-nova,master,I7efdde56d56826cc81f92bf6a4efce40ce1a67ea,Always build universal wheels,ABANDONED,2018-10-04 02:02:14.000000000,2018-12-06 13:36:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 02:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8fd6868648a9b359ae69bdc142b2d321bf2e9aa8', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: I7efdde56d56826cc81f92bf6a4efce40ce1a67ea\n'}, {'number': 2, 'created': '2018-10-08 09:23:03.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f70143e25d45c6e2283a392ed17bc94fd9d7dab8', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I7efdde56d56826cc81f92bf6a4efce40ce1a67ea\n'}]",0,607777,f70143e25d45c6e2283a392ed17bc94fd9d7dab8,7,1,2,28543,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I7efdde56d56826cc81f92bf6a4efce40ce1a67ea
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/77/607777/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8fd6868648a9b359ae69bdc142b2d321bf2e9aa8,,[wheel] universal = 1,,2,0
openstack%2Fpuppet-openstack-specs~master~Ic22fc1fdfb9bc0c62fa046756255eff99781844c,openstack/puppet-openstack-specs,master,Ic22fc1fdfb9bc0c62fa046756255eff99781844c,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:19:09.000000000,2018-12-06 13:34:40.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:19:09.000000000', 'files': ['specs/kilo/master-policy.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-specs/commit/4c2b9f9f2128e4537486bbd242c7b107675b9229', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Ic22fc1fdfb9bc0c62fa046756255eff99781844c\n'}]",1,622701,4c2b9f9f2128e4537486bbd242c7b107675b9229,4,2,1,27781,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Ic22fc1fdfb9bc0c62fa046756255eff99781844c
",git fetch https://review.opendev.org/openstack/puppet-openstack-specs refs/changes/01/622701/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/master-policy.rst'],1,4c2b9f9f2128e4537486bbd242c7b107675b9229,, - http://lists.openstack.org/pipermail/openstack-discuss/2015-April/061640.html, - http://lists.openstack.org/pipermail/openstack-dev/2015-April/061640.html,1,1
openstack%2Fpuppet-openstack_spec_helper~master~I9d9b412146b666f87f181ffdb56a93611943d732,openstack/puppet-openstack_spec_helper,master,I9d9b412146b666f87f181ffdb56a93611943d732,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:19:09.000000000,2018-12-06 13:34:26.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:19:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/b10312c44b3a006087537e0a30df0dfc7ad1f86d', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I9d9b412146b666f87f181ffdb56a93611943d732\n'}]",0,622702,b10312c44b3a006087537e0a30df0dfc7ad1f86d,4,2,1,27781,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I9d9b412146b666f87f181ffdb56a93611943d732
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/02/622702/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b10312c44b3a006087537e0a30df0dfc7ad1f86d,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fpuppet-vitrage~master~I2a5344b5b29bc620db0b51ebd8aed1db225b9c2b,openstack/puppet-vitrage,master,I2a5344b5b29bc620db0b51ebd8aed1db225b9c2b,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:19:12.000000000,2018-12-06 13:34:23.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:19:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/82d642aa23e1351869b9ffbede08f48b3c7a6c52', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I2a5344b5b29bc620db0b51ebd8aed1db225b9c2b\n'}]",0,622707,82d642aa23e1351869b9ffbede08f48b3c7a6c52,4,2,1,27781,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I2a5344b5b29bc620db0b51ebd8aed1db225b9c2b
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/07/622707/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,82d642aa23e1351869b9ffbede08f48b3c7a6c52,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fpuppet-openstacklib~master~Iee6f79d8804d2ba765c07755ea87eec949d9bd40,openstack/puppet-openstacklib,master,Iee6f79d8804d2ba765c07755ea87eec949d9bd40,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:19:09.000000000,2018-12-06 13:34:19.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-05 03:19:09.000000000', 'files': ['lib/puppet/parser/functions/is_service_default.rb', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/912c0ada0e34a408dc05e29594a993279374f03c', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Iee6f79d8804d2ba765c07755ea87eec949d9bd40\n'}]",0,622703,912c0ada0e34a408dc05e29594a993279374f03c,5,3,1,27781,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Iee6f79d8804d2ba765c07755ea87eec949d9bd40
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/03/622703/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/parser/functions/is_service_default.rb', 'setup.cfg']",2,912c0ada0e34a408dc05e29594a993279374f03c,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,2,2
openstack%2Fpuppet-vswitch~master~Id914ddc265b2d365d86bc15e0bdafa8d9703871f,openstack/puppet-vswitch,master,Id914ddc265b2d365d86bc15e0bdafa8d9703871f,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:19:15.000000000,2018-12-06 13:34:15.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:19:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/3483644df20b26a2343134ca349f21c5c91658be', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Id914ddc265b2d365d86bc15e0bdafa8d9703871f\n'}]",0,622709,3483644df20b26a2343134ca349f21c5c91658be,4,2,1,27781,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Id914ddc265b2d365d86bc15e0bdafa8d9703871f
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/09/622709/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3483644df20b26a2343134ca349f21c5c91658be,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fpuppet-ceph~master~Ibc542251e6ac63c4aa8f44aba3d131e4008e78b8,openstack/puppet-ceph,master,Ibc542251e6ac63c4aa8f44aba3d131e4008e78b8,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:19:09.000000000,2018-12-06 13:34:12.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-05 03:19:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/794f23124a99037c6a09f1b7243dd0f1c022462e', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: Ibc542251e6ac63c4aa8f44aba3d131e4008e78b8\n'}]",0,622704,794f23124a99037c6a09f1b7243dd0f1c022462e,4,2,1,27781,,,0,"Change openstack-dev to openstack-discuss

Change-Id: Ibc542251e6ac63c4aa8f44aba3d131e4008e78b8
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/04/622704/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,794f23124a99037c6a09f1b7243dd0f1c022462e,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fpuppet-neutron~master~I877318a6fb7522a58efa2ae154983b7b0e68a32e,openstack/puppet-neutron,master,I877318a6fb7522a58efa2ae154983b7b0e68a32e,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 03:19:08.000000000,2018-12-06 13:34:07.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-05 03:19:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/159504e72b4948ab222f6add0f8d4ce765f4adc0', 'message': 'Change openstack-dev to openstack-discuss\n\nChange-Id: I877318a6fb7522a58efa2ae154983b7b0e68a32e\n'}]",0,622700,159504e72b4948ab222f6add0f8d4ce765f4adc0,5,3,1,27781,,,0,"Change openstack-dev to openstack-discuss

Change-Id: I877318a6fb7522a58efa2ae154983b7b0e68a32e
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/00/622700/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,159504e72b4948ab222f6add0f8d4ce765f4adc0,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Floci~master~Ic9dbdbe426f5d42c99a37bea0fc3137455bf5d5f,openstack/loci,master,Ic9dbdbe426f5d42c99a37bea0fc3137455bf5d5f,Updating binaries depenencies names for building suse images,MERGED,2018-11-30 01:25:05.000000000,2018-12-06 13:31:55.000000000,2018-12-06 13:31:55.000000000,"[{'_account_id': 6593}, {'_account_id': 7822}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 24580}]","[{'number': 1, 'created': '2018-11-30 01:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/45a370825341c8ee555185c459b911a6e9f840d9', 'message': ""Updating binaries depenencies names for building suse images\n\nFor leap 15, some of the package names are different so updating their\nnames to reflect that. Verified these change when building openstack\nservice images from openstack helm. Openstack helm uses profile which\nadds additional dependencies in images and may be that's why this issue\n(different package name) is not encountered in loci internal build process.\n\nChange-Id: Ic9dbdbe426f5d42c99a37bea0fc3137455bf5d5f\n""}, {'number': 2, 'created': '2018-11-30 08:29:17.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/b53f3b79832bfb19c7cb5592b5630c2f0bc6d572', 'message': ""Updating binaries depenencies names for building suse images\n\nFor leap 15, some of the package names are different so updating their\nnames to reflect that. Verified these change when building openstack\nservice images from openstack helm. Openstack helm uses profile which\nadds additional dependencies in images and may be that's why this issue\n(different package name) is not encountered in loci internal build process.\n\nChange-Id: Ic9dbdbe426f5d42c99a37bea0fc3137455bf5d5f\n""}]",0,621051,b53f3b79832bfb19c7cb5592b5630c2f0bc6d572,27,6,2,1091,,,0,"Updating binaries depenencies names for building suse images

For leap 15, some of the package names are different so updating their
names to reflect that. Verified these change when building openstack
service images from openstack helm. Openstack helm uses profile which
adds additional dependencies in images and may be that's why this issue
(different package name) is not encountered in loci internal build process.

Change-Id: Ic9dbdbe426f5d42c99a37bea0fc3137455bf5d5f
",git fetch https://review.opendev.org/openstack/loci refs/changes/51/621051/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,45a370825341c8ee555185c459b911a6e9f840d9,osh_suse,genisoimage [!platform:suse (nova configdrive)]librbd1 [platform:suse (glance ceph !python3)]mkisofs [platform:suse (nova configdrive)]mod_ssl [platform:rpm !platform:suse apache]openldap [platform:rpm !platform:suse (keystone ldap !python3)] openldap2 [platform:suse (keystone ldap !python3)]openssl [platform:suse apache]python-rbd [!platform:suse (glance ceph !python3)]python3-rados [platform:suse (glance ceph python3)] python3-rbd [!platform:suse (glance ceph python3)]qemu-img [platform:rpm !platform:suse (nova qemu) (ironic qemu) (cinder qemu)]qemu-tools [platform:suse (nova qemu) (ironic qemu) (cinder qemu)]syslinux-tftpboot [platform:rpm !platform:suse (ironic tftp)]tftp [platform:suse (ironic tftp)] tftp-server [platform:rpm !platform:suse (ironic tftp)] tftpboot-installation-common [platform:suse (ironic tftp)],genisoimage [(nova configdrive)]mod_ssl [platform:rpm apache]openldap [platform:rpm (keystone ldap !python3)]python-rbd [(glance ceph !python3)]python3-rbd [(glance ceph python3)]qemu-img [platform:rpm (nova qemu) (ironic qemu) (cinder qemu)]syslinux-tftpboot [platform:rpm (ironic tftp)]tftp-server [platform:rpm (ironic tftp)],16,8
openstack%2Floci~master~I0134949c22c897d86253aea09219d4dbaff6907a,openstack/loci,master,I0134949c22c897d86253aea09219d4dbaff6907a,Add openSUSE Tumbleweed support,MERGED,2018-11-27 13:34:22.000000000,2018-12-06 13:31:55.000000000,2018-12-06 13:31:55.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 7822}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-27 13:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/70200c1d5fa30de01fc97f6cefc32a5b7c9d64f6', 'message': 'Add openSUSE Tumbleweed support in install.sh\n\n/etc/os-release for openSUSE Tumbleweed (the rolling release from\nopenSUSE) has ID=""opensuse-tumbleweed"" so add this to\nscripts/install.sh in addition to ""opensuse-leap"" and ""sles"".\n\nChange-Id: I0134949c22c897d86253aea09219d4dbaff6907a\n'}, {'number': 2, 'created': '2018-11-27 14:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/9a717ffddc76dd20b36ac108ca1e7d068740eecc', 'message': 'Add openSUSE Tumbleweed support in install.sh\n\n/etc/os-release for openSUSE Tumbleweed (the rolling release from\nopenSUSE) has ID=""opensuse-tumbleweed"" so add this to\nscripts/install.sh in addition to ""opensuse-leap"" and ""sles"".\n\nChange-Id: I0134949c22c897d86253aea09219d4dbaff6907a\n'}, {'number': 3, 'created': '2018-11-27 14:57:55.000000000', 'files': ['scripts/install_packages.sh', 'scripts/cleanup.sh', 'scripts/install.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/75567c869917b878dfc3bd5ccc30f4328bf52743', 'message': 'Add openSUSE Tumbleweed support\n\n/etc/os-release for openSUSE Tumbleweed (the rolling release from\nopenSUSE) has ID=""opensuse-tumbleweed"" so add this to\nscripts/install.sh in addition to ""opensuse-leap"" and ""sles"".\n\nChange-Id: I0134949c22c897d86253aea09219d4dbaff6907a\n'}]",0,620315,75567c869917b878dfc3bd5ccc30f4328bf52743,19,5,3,7102,,,0,"Add openSUSE Tumbleweed support

/etc/os-release for openSUSE Tumbleweed (the rolling release from
openSUSE) has ID=""opensuse-tumbleweed"" so add this to
scripts/install.sh in addition to ""opensuse-leap"" and ""sles"".

Change-Id: I0134949c22c897d86253aea09219d4dbaff6907a
",git fetch https://review.opendev.org/openstack/loci refs/changes/15/620315/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install.sh'],1,70200c1d5fa30de01fc97f6cefc32a5b7c9d64f6,, opensuse|opensuse-leap|opensuse-tumbleweed|sles), opensuse|opensuse-leap|sles),1,1
openstack%2Ftripleo-quickstart-extras~master~I433cfb286f05f36e9c974a6b9ab5dad9166253fd,openstack/tripleo-quickstart-extras,master,I433cfb286f05f36e9c974a6b9ab5dad9166253fd,Use a custom roles file for undercloud deploy,ABANDONED,2018-11-21 08:51:41.000000000,2018-12-06 13:22:42.000000000,,"[{'_account_id': 6926}, {'_account_id': 7385}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-11-21 08:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/932a09a176fc983adf4ff2578bd8f1bf0bdd2e88', 'message': ""Use a custom roles file for undercloud deploy\n\nFor CI we don't need to have all possible services defined for the\nundercloud role, as we know which ones we are going to deploy. Removing\nsome of them reduces the image building and stack operations.\n\nChange-Id: I433cfb286f05f36e9c974a6b9ab5dad9166253fd\nCloses-Bug: #1804222\n""}, {'number': 2, 'created': '2018-11-21 16:38:09.000000000', 'files': ['roles/undercloud-deploy/tasks/create-scripts.yml', 'roles/undercloud-deploy/defaults/main.yml', 'roles/undercloud-deploy/files/roles_data_undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/483df0d37c585c5c9f064f3c5786fa73463ec71d', 'message': ""Use a custom roles file for undercloud deploy\n\nFor CI we don't need to have all possible services defined for the\nundercloud role, as we know which ones we are going to deploy. Removing\nsome of them reduces the image building and stack operations.\n\nChange-Id: I433cfb286f05f36e9c974a6b9ab5dad9166253fd\nCloses-Bug: #1804222\n""}]",1,619177,483df0d37c585c5c9f064f3c5786fa73463ec71d,14,7,2,7385,,,0,"Use a custom roles file for undercloud deploy

For CI we don't need to have all possible services defined for the
undercloud role, as we know which ones we are going to deploy. Removing
some of them reduces the image building and stack operations.

Change-Id: I433cfb286f05f36e9c974a6b9ab5dad9166253fd
Closes-Bug: #1804222
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/77/619177/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/tasks/main.yml', 'roles/undercloud-deploy/defaults/main.yml', 'roles/undercloud-deploy/files/roles_data_undercloud.yaml']",3,932a09a176fc983adf4ff2578bd8f1bf0bdd2e88,bug/1804222,############################################################################### # File generated by TripleO ############################################################################### ############################################################################### # Role: Undercloud # ############################################################################### - name: Undercloud description: | A role to deploy the undercloud via heat using the 'openstack undercloud deploy' command. CountDefault: 1 disable_constraints: True tags: - primary - controller ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::Apache - OS::TripleO::Services::CACerts - OS::TripleO::Services::CertmongerUser - OS::TripleO::Services::ContainerImagePrepare - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::Docker - OS::TripleO::Services::DockerRegistry - OS::TripleO::Services::GlanceApi - OS::TripleO::Services::HAproxy - OS::TripleO::Services::HeatApi - OS::TripleO::Services::HeatApiCfn - OS::TripleO::Services::HeatEngine - OS::TripleO::Services::IronicApi - OS::TripleO::Services::IronicConductor - OS::TripleO::Services::IronicInspector - OS::TripleO::Services::IronicNeutronAgent - OS::TripleO::Services::IronicPxe - OS::TripleO::Services::Iscsid - OS::TripleO::Services::Keepalived - OS::TripleO::Services::Kernel - OS::TripleO::Services::Keystone - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::MasqueradeNetworks - OS::TripleO::Services::Memcached - OS::TripleO::Services::MistralApi - OS::TripleO::Services::MistralEngine - OS::TripleO::Services::MistralEventEngine - OS::TripleO::Services::MistralExecutor - OS::TripleO::Services::MySQL - OS::TripleO::Services::NeutronApi - OS::TripleO::Services::NeutronCorePlugin - OS::TripleO::Services::NeutronDhcpAgent - OS::TripleO::Services::NeutronL3Agent - OS::TripleO::Services::NeutronOvsAgent - OS::TripleO::Services::NovaApi - OS::TripleO::Services::NovaConductor - OS::TripleO::Services::NovaIronic - OS::TripleO::Services::NovaMetadata - OS::TripleO::Services::NovaPlacement - OS::TripleO::Services::NovaScheduler - OS::TripleO::Services::Novajoin - OS::TripleO::Services::OpenStackClients - OS::TripleO::Services::OsloMessagingNotify - OS::TripleO::Services::OsloMessagingRpc - OS::TripleO::Services::Podman - OS::TripleO::Services::Rhsm - OS::TripleO::Services::SELinux - OS::TripleO::Services::Sshd - OS::TripleO::Services::SwiftProxy - OS::TripleO::Services::SwiftRingBuilder - OS::TripleO::Services::SwiftStorage - OS::TripleO::Services::Tempest - OS::TripleO::Services::Timesync - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::TripleoUI - OS::TripleO::Services::Tuned - OS::TripleO::Services::UndercloudUpgrade - OS::TripleO::Services::TripleoValidations - OS::TripleO::Services::Zaqar - OS::TripleO::Services::Xinetd ,,83,1
openstack%2Fcinder~master~I54935508032ea6f5fe3430bb204d54ca22dec20f,openstack/cinder,master,I54935508032ea6f5fe3430bb204d54ca22dec20f,[DEBUG DEMO] Adding debug message on NFS driver,ABANDONED,2018-12-06 11:47:56.000000000,2018-12-06 13:10:15.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 17097}, {'_account_id': 20284}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-12-06 11:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e82defaea55bbad1b79a75d48d62f5896331b66', 'message': '[DEBUG DEMO] Adding debug message on NFS driver\n\nThis is a debug patch for a demo for new contributors. This is\njust for explaining how the community workflow works.\n\nChange-Id: I54935508032ea6f5fe3430bb204d54ca22dec20f\n'}, {'number': 2, 'created': '2018-12-06 11:50:19.000000000', 'files': ['cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/41d706692f79a1b279d6ff102847931bbc09e962', 'message': '[DEBUG DEMO] Adding debug message on NFS driver\n\nThis is a debug patch for a demo for new contributors. This is\njust for explaining how the community workflow works.\n\nChange-Id: I54935508032ea6f5fe3430bb204d54ca22dec20f\n'}]",1,623194,41d706692f79a1b279d6ff102847931bbc09e962,10,6,2,17097,,,0,"[DEBUG DEMO] Adding debug message on NFS driver

This is a debug patch for a demo for new contributors. This is
just for explaining how the community workflow works.

Change-Id: I54935508032ea6f5fe3430bb204d54ca22dec20f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/623194/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/remotefs.py'],1,4e82defaea55bbad1b79a75d48d62f5896331b66,," LOG.debug(""This is another log"")",,1,0
openstack%2Fstackviz~master~I5b9a0ab6932e3d0c266318d303b5b1ae0089369e,openstack/stackviz,master,I5b9a0ab6932e3d0c266318d303b5b1ae0089369e,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 06:30:12.000000000,2018-12-06 13:07:25.000000000,2018-12-06 13:07:25.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 06:30:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/89e5e7fb42098737a8a0ceee47ce4f8bf6bfcbcc', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated.\nSo, replacing openstack-dev with openstack-discuss.\n\nChange-Id: I5b9a0ab6932e3d0c266318d303b5b1ae0089369e\n'}]",0,622016,89e5e7fb42098737a8a0ceee47ce4f8bf6bfcbcc,7,2,1,27078,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated.
So, replacing openstack-dev with openstack-discuss.

Change-Id: I5b9a0ab6932e3d0c266318d303b5b1ae0089369e
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/16/622016/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,89e5e7fb42098737a8a0ceee47ce4f8bf6bfcbcc,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
