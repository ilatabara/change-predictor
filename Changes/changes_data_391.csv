id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-manuals~master~I41cd4288be7e16feaf2da8b958fcf210ad7a6a11,openstack/openstack-manuals,master,I41cd4288be7e16feaf2da8b958fcf210ad7a6a11,Update barbican API docs,MERGED,2019-05-01 16:53:10.000000000,2019-05-03 22:49:25.000000000,2019-05-03 22:49:25.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 16:53:10.000000000', 'files': ['www/project-data/latest.yaml', 'www/project-data/stein.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/46546e79d9acf47f5d38209c62b2dffce8b6d8a3', 'message': ""Update barbican API docs\n\nthe barbican api-ref on\nhttps://developer.openstack.org/api-ref/key-manager/ is a skeleton,\ndon't link to it. There's an in-doc api-ref that is linked to already.\n\nChange-Id: I41cd4288be7e16feaf2da8b958fcf210ad7a6a11\nRelated-Bug: #1827243\n""}]",0,656673,46546e79d9acf47f5d38209c62b2dffce8b6d8a3,7,3,1,6547,,,0,"Update barbican API docs

the barbican api-ref on
https://developer.openstack.org/api-ref/key-manager/ is a skeleton,
don't link to it. There's an in-doc api-ref that is linked to already.

Change-Id: I41cd4288be7e16feaf2da8b958fcf210ad7a6a11
Related-Bug: #1827243
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/73/656673/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/project-data/latest.yaml', 'www/project-data/stein.yaml']",2,46546e79d9acf47f5d38209c62b2dffce8b6d8a3,bug/1827243,, has_api_ref: true,0,2
openstack%2Fopenstack-manuals~master~I80b51cea1898a7cf5c3f254d42b7a86d0c67e2b0,openstack/openstack-manuals,master,I80b51cea1898a7cf5c3f254d42b7a86d0c67e2b0,[www] Avoid duplicate API-guide,MERGED,2019-05-01 18:28:02.000000000,2019-05-03 22:48:48.000000000,2019-05-03 22:48:48.000000000,"[{'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 18:28:02.000000000', 'files': ['www/train/api/index.html', 'www/pike/api/index.html', 'www/queens/api/index.html', 'www/rocky/api/index.html', 'www/stein/api/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ffe3e6970e73e7c9aafa7de5621909e0fd29b7c1', 'message': '[www] Avoid duplicate API-guide\n\nBarbican has an in-tree API reference and an api-guide on developer.o.o.\nBoth show up on the index page as ""API Guide"". Rename the in-tree\ndocument to ""API Documentation"" to differentiate it from the others in\ncase teams have both in-tree and out-of-tree docs.\n\nChange-Id: I80b51cea1898a7cf5c3f254d42b7a86d0c67e2b0\n'}]",0,656688,ffe3e6970e73e7c9aafa7de5621909e0fd29b7c1,7,3,1,6547,,,0,"[www] Avoid duplicate API-guide

Barbican has an in-tree API reference and an api-guide on developer.o.o.
Both show up on the index page as ""API Guide"". Rename the in-tree
document to ""API Documentation"" to differentiate it from the others in
case teams have both in-tree and out-of-tree docs.

Change-Id: I80b51cea1898a7cf5c3f254d42b7a86d0c67e2b0
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/88/656688/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/train/api/index.html', 'www/pike/api/index.html', 'www/queens/api/index.html', 'www/rocky/api/index.html', 'www/stein/api/index.html']",5,ffe3e6970e73e7c9aafa7de5621909e0fd29b7c1,api-refs," <a href=""/{{project.name}}/{{SERIES}}/api/""> API Documentation</a>"," <a href=""/{{project.name}}/{{SERIES}}/api/""> API Guide</a>",5,5
openstack%2Fapi-site~master~I591efebd1d4452d6479af654b256830b4d384e30,openstack/api-site,master,I591efebd1d4452d6479af654b256830b4d384e30,Add Key-manager API-Ref,MERGED,2019-05-01 16:57:38.000000000,2019-05-03 22:48:13.000000000,2019-05-03 22:48:13.000000000,"[{'_account_id': 6873}, {'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 16:57:38.000000000', 'files': ['api-quick-start/source/index.rst'], 'web_link': 'https://opendev.org/openstack/api-site/commit/aa44cb20ea0edcd6ab118606c7ab580eb2dab23a', 'message': 'Add Key-manager API-Ref\n\nAdd link to in-doc barbican api reference.\n\nChange-Id: I591efebd1d4452d6479af654b256830b4d384e30\nCloses-Bug: #1827243\n'}]",0,656674,aa44cb20ea0edcd6ab118606c7ab580eb2dab23a,8,4,1,6547,,,0,"Add Key-manager API-Ref

Add link to in-doc barbican api reference.

Change-Id: I591efebd1d4452d6479af654b256830b4d384e30
Closes-Bug: #1827243
",git fetch https://review.opendev.org/openstack/api-site refs/changes/74/656674/1 && git format-patch -1 --stdout FETCH_HEAD,['api-quick-start/source/index.rst'],1,aa44cb20ea0edcd6ab118606c7ab580eb2dab23a,bug/1827243,`Key Manager API v1 <https://docs.openstack.org/barbican/latest/api/>`__ ,,2,0
openstack%2Fpython-openstackclient~master~Ie7bcc327fd588a1ff6b2556d49017df56bc55bf8,openstack/python-openstackclient,master,Ie7bcc327fd588a1ff6b2556d49017df56bc55bf8,Dropping the py35 testing,MERGED,2019-04-22 23:45:29.000000000,2019-05-03 22:46:17.000000000,2019-05-03 22:46:17.000000000,"[{'_account_id': 841}, {'_account_id': 970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-22 23:45:29.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a8309a2a85e96907d277b9763f13fd1f414f81e7', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ie7bcc327fd588a1ff6b2556d49017df56bc55bf8\n'}]",0,654660,a8309a2a85e96907d277b9763f13fd1f414f81e7,7,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ie7bcc327fd588a1ff6b2556d49017df56bc55bf8
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/60/654660/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,a8309a2a85e96907d277b9763f13fd1f414f81e7,dropping-py35-testing,"envlist = py36,py27,pep8","envlist = py36,py35,py27,pep8",5,7
openstack%2Fcliff~stable%2Frocky~I0b12103e581a5c95f69da2cebf3310101150bd3b,openstack/cliff,stable/rocky,I0b12103e581a5c95f69da2cebf3310101150bd3b,Cap flake8 version,MERGED,2019-04-25 14:40:55.000000000,2019-05-03 22:30:45.000000000,2019-05-03 22:30:44.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 14:40:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cliff/commit/3fb9f8a079b91197cbbfde71ef5296af4bc14bd3', 'message': 'Cap flake8 version\n\nflake8 is generally not capped in upper constraints,\nand somewhere since 3.6.x it started to report a spurious error\nin cliff/app.py:409.\n\nCap flake8 to <3.6 to unblock the pep8 CI.\n\nChange-Id: I0b12103e581a5c95f69da2cebf3310101150bd3b\n'}]",0,655710,3fb9f8a079b91197cbbfde71ef5296af4bc14bd3,6,2,1,9542,,,0,"Cap flake8 version

flake8 is generally not capped in upper constraints,
and somewhere since 3.6.x it started to report a spurious error
in cliff/app.py:409.

Cap flake8 to <3.6 to unblock the pep8 CI.

Change-Id: I0b12103e581a5c95f69da2cebf3310101150bd3b
",git fetch https://review.opendev.org/openstack/cliff refs/changes/10/655710/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3fb9f8a079b91197cbbfde71ef5296af4bc14bd3,cap-flake8, flake8<3.6, flake8,1,1
openstack%2Fapi-sig~master~I42b5cf2b4d7107f98b2540521b355771add67114,openstack/api-sig,master,I42b5cf2b4d7107f98b2540521b355771add67114,Change openstack-dev to openstack-discuss in setup.cfg,ABANDONED,2019-01-22 07:31:19.000000000,2019-05-03 22:17:36.000000000,,"[{'_account_id': 1063}, {'_account_id': 10670}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-22 07:31:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/99813857c8a56d00c0e473c54485d96c25224cc9', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: I42b5cf2b4d7107f98b2540521b355771add67114\n'}]",0,632255,99813857c8a56d00c0e473c54485d96c25224cc9,6,4,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: I42b5cf2b4d7107f98b2540521b355771add67114
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/55/632255/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,99813857c8a56d00c0e473c54485d96c25224cc9,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fdevstack~master~I04b2d2dc2b4e49fab90f5ef94f4e087e969aa24b,openstack/devstack,master,I04b2d2dc2b4e49fab90f5ef94f4e087e969aa24b,Remove n-obj from zuul and docs,MERGED,2019-04-23 22:17:34.000000000,2019-05-03 22:12:00.000000000,2019-05-03 22:12:00.000000000,"[{'_account_id': 1653}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 22:17:34.000000000', 'files': ['doc/source/guides/devstack-with-lbaas-v2.rst', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/62e27d3b1c81cd8a45ee6a8e77dce9f68fc9ea1a', 'message': ""Remove n-obj from zuul and docs\n\nn-obj hasn't been around for many years and devstack\ndoesn't use it anymore anyway so this just cleans up\nsome vestigial use of the old service.\n\nChange-Id: I04b2d2dc2b4e49fab90f5ef94f4e087e969aa24b\n""}]",0,655253,62e27d3b1c81cd8a45ee6a8e77dce9f68fc9ea1a,7,3,1,6873,,,0,"Remove n-obj from zuul and docs

n-obj hasn't been around for many years and devstack
doesn't use it anymore anyway so this just cleans up
some vestigial use of the old service.

Change-Id: I04b2d2dc2b4e49fab90f5ef94f4e087e969aa24b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/53/655253/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/guides/devstack-with-lbaas-v2.rst', '.zuul.yaml']",2,62e27d3b1c81cd8a45ee6a8e77dce9f68fc9ea1a,remove-n-obj,, n-obj: true,1,2
openstack%2Fdevstack~master~Iaab3c1bcedc5aaa2106c0758cbb43bade3de2cf5,openstack/devstack,master,Iaab3c1bcedc5aaa2106c0758cbb43bade3de2cf5,Add region_name to ironic compute configuration,MERGED,2019-04-18 19:21:52.000000000,2019-05-03 22:11:58.000000000,2019-05-03 22:11:58.000000000,"[{'_account_id': 2}, {'_account_id': 1653}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-04-18 19:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/170157c62a4ad25976bb894fb56d76182abfb9e3', 'message': '[WIP] Test adding region_name to nova config for ironic\n\nChange-Id: Iaab3c1bcedc5aaa2106c0758cbb43bade3de2cf5\n'}, {'number': 2, 'created': '2019-04-18 20:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/62c7d3fc015e2927a8dd7a3a095383605c736b91', 'message': '[WIP] Test adding region_name to nova config for ironic\n\nChange-Id: Iaab3c1bcedc5aaa2106c0758cbb43bade3de2cf5\n'}, {'number': 3, 'created': '2019-04-19 04:14:55.000000000', 'files': ['lib/nova_plugins/hypervisor-ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a13474fd7892312ef42a211c344d8c785f9a5f93', 'message': 'Add region_name to ironic compute configuration\n\nWe should always pass on a region when talking to\nironic. This will also help detect and test issues\nspecific to regions.\n\nChange-Id: Iaab3c1bcedc5aaa2106c0758cbb43bade3de2cf5\n'}]",0,653836,a13474fd7892312ef42a211c344d8c785f9a5f93,19,9,3,22623,,,0,"Add region_name to ironic compute configuration

We should always pass on a region when talking to
ironic. This will also help detect and test issues
specific to regions.

Change-Id: Iaab3c1bcedc5aaa2106c0758cbb43bade3de2cf5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/653836/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/hypervisor-ironic'],1,170157c62a4ad25976bb894fb56d76182abfb9e3,bug/1825583, iniset $conf placement region_name $REGION_NAME,,1,0
openstack%2Fnova~master~I84984d7534c9c92b51fb4e1797cf6a9db3c28755,openstack/nova,master,I84984d7534c9c92b51fb4e1797cf6a9db3c28755,Add ids to sections of flavors guide to allow deep-linking,MERGED,2019-04-17 14:55:54.000000000,2019-05-03 22:11:54.000000000,2019-05-03 22:11:53.000000000,"[{'_account_id': 2394}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-17 14:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2819fdbb58c353308b6129d544e15a71ee9204c9', 'message': 'Add ids to sections of flavors guide to allow deep-linking\n\nThe flavors section of the user guide is comprehensive with many\nsub-sections, but only some of them had anchor ids.  Add anchors for\nthe rest so that deep-linking to any of these sub-sections is\npossible.\n\nChange-Id: I84984d7534c9c92b51fb4e1797cf6a9db3c28755\n'}, {'number': 2, 'created': '2019-04-17 16:23:39.000000000', 'files': ['doc/source/user/flavors.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5ee6e75ab65528e50a4e22ffe91d71295d1476e4', 'message': 'Add ids to sections of flavors guide to allow deep-linking\n\nThe flavors section of the user guide is comprehensive with many\nsub-sections, but only some of them had anchor ids.  Add anchors for\nthe rest so that deep-linking to any of these sub-sections is\npossible.\n\nChange-Id: I84984d7534c9c92b51fb4e1797cf6a9db3c28755\n'}]",4,653458,5ee6e75ab65528e50a4e22ffe91d71295d1476e4,21,12,2,2394,,,0,"Add ids to sections of flavors guide to allow deep-linking

The flavors section of the user guide is comprehensive with many
sub-sections, but only some of them had anchor ids.  Add anchors for
the rest so that deep-linking to any of these sub-sections is
possible.

Change-Id: I84984d7534c9c92b51fb4e1797cf6a9db3c28755
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/653458/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/flavors.rst'],1,2819fdbb58c353308b6129d544e15a71ee9204c9,flavors-doc-anchors,.. _extra-specs-CPU-limits: .. _extra-specs-memory-limits: .. _extra-specs-disk-io-limits: .. _extra-specs-disk-tuning: .. _extra-specs-bandwith-io: .. _extra-specs-hardware-video-ram: .. _extra-specs-watchdog-behavior: .. _extra-specs-random-number-generator: .. _extra-specs-cpu-topology: .. _extra-specs-emulator-threads-policy: .. _extra-specs-large-pages-allocation: .. _extra-specs-hiding-hypervisor-signature: .. _extra-specs-secure-boot: .. _extra-specs-required-resources: .. _extra-specs-numbered-resource-groupings: ,,30,0
openstack%2Fnova~master~I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5,openstack/nova,master,I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5,Include all network devices in nova diagnostics,MERGED,2019-03-27 13:30:58.000000000,2019-05-03 22:11:47.000000000,2019-05-03 22:11:47.000000000,"[{'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 30009}]","[{'number': 1, 'created': '2019-03-27 13:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30065560a12d0cfb34536ac993b353cfa90fb3e2', 'message': 'WIP - nova diagnostics command is not working with all interfaces\n\nThis fixes issue with nova diagnostics command not\nworking on instances with SR-IOV interfaces.\n\nChange-Id: I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5\nCloses-Bug: #1821798\n'}, {'number': 2, 'created': '2019-03-27 21:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32efb549109ad7fc7c4f816abe09c44619064408', 'message': 'WIP - nova diagnostics command is not working with all interfaces\n\nThis fixes issue with nova diagnostics command not\nworking on instances with SR-IOV interfaces.\n\nChange-Id: I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5\nCloses-Bug: #1821798\n'}, {'number': 3, 'created': '2019-04-08 12:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43ebac0bbf58fe5fe6bf9e6c2ededc396b8b651d', 'message': 'WIP - nova diagnostics command is not working with all interfaces\n\nThis fixes issue with nova diagnostics command not\nworking on instances with SR-IOV interfaces.\n\nChange-Id: I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5\nCloses-Bug: #1821798\n'}, {'number': 4, 'created': '2019-04-09 16:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d7c789314cfff4eda789cbb033d8f2f0b704534', 'message': 'nova diagnostics command is not working with all interfaces\n\nThis fixes issue with nova diagnostics command not\nworking on instances with SR-IOV interfaces.\n\nChange-Id: I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5\nCloses-Bug: #1821798\n'}, {'number': 5, 'created': '2019-04-12 20:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fedd02b455be8816e4de800750e348606060193e', 'message': 'nova diagnostics command is not working with all interfaces\n\nget_instance_diagnostics expected all interfaces\nto have a <target> element with a ""dev"" attribute in\nthe instance XML. This is not the case for VFIO\ninterfaces (<interface type=""hostdev"">).\nThis caused an IndexError when looping over\nthe interfaces.\n\nThis patch fixes this issue by retrieving interfaces\ndata directly from the guest XML and adding nics\nappropriately to the diagnostics object.\n\nChange-Id: I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5\nCloses-Bug: #1821798\n'}, {'number': 6, 'created': '2019-04-15 15:16:44.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/functional/api/client.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab7c968b6f66404c032f62a952e353f94d3be165', 'message': 'Include all network devices in nova diagnostics\n\nget_instance_diagnostics expected all interfaces\nto have a <target> element with a ""dev"" attribute in\nthe instance XML. This is not the case for VFIO\ninterfaces (<interface type=""hostdev"">).\nThis caused an IndexError when looping over\nthe interfaces.\n\nThis patch fixes this issue by retrieving interfaces\ndata directly from the guest XML and adding nics\nappropriately to the diagnostics object.\n\nChange-Id: I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5\nCloses-Bug: #1821798\n'}]",26,648123,ab7c968b6f66404c032f62a952e353f94d3be165,72,18,6,30009,,,0,"Include all network devices in nova diagnostics

get_instance_diagnostics expected all interfaces
to have a <target> element with a ""dev"" attribute in
the instance XML. This is not the case for VFIO
interfaces (<interface type=""hostdev"">).
This caused an IndexError when looping over
the interfaces.

This patch fixes this issue by retrieving interfaces
data directly from the guest XML and adding nics
appropriately to the diagnostics object.

Change-Id: I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5
Closes-Bug: #1821798
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/648123/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,30065560a12d0cfb34536ac993b353cfa90fb3e2,bug/1821798," <interface type='hostdev' managed='yes'> <mac address=""54:56:00:a6:40:40""/> <driver name='vfio'/> </interface> expected.add_nic(mac_address='54:56:00:a6:40:40') ",,31,13
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I6ada9c603f123039395f05e7a3e0cc0087023e43,openstack/tripleo-heat-templates,stable/queens,I6ada9c603f123039395f05e7a3e0cc0087023e43,WIP: in docker-puppet.py copy in existing config data before puppet apply,ABANDONED,2018-04-23 11:16:58.000000000,2019-05-03 22:05:53.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-04-23 11:16:58.000000000', 'files': ['docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38ab443b668289ccbe49de8fbe108cb175739a0b', 'message': 'WIP: in docker-puppet.py copy in existing config data before puppet apply\n\nChange-Id: I6ada9c603f123039395f05e7a3e0cc0087023e43\n'}]",0,563573,38ab443b668289ccbe49de8fbe108cb175739a0b,7,4,1,8297,,,0,"WIP: in docker-puppet.py copy in existing config data before puppet apply

Change-Id: I6ada9c603f123039395f05e7a3e0cc0087023e43
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/563573/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/docker-puppet.py'],1,38ab443b668289ccbe49de8fbe108cb175739a0b,, if [ -d /var/lib/config-data/puppet-generated/${NAME} ]; then rsync -a -R /var/lib/config-data/puppet-generated/${NAME}/ / fi,,3,0
openstack%2Ftripleo-heat-templates~master~I53c11eb8d3a3dad4e551b0bb5fae43e79c343ba0,openstack/tripleo-heat-templates,master,I53c11eb8d3a3dad4e551b0bb5fae43e79c343ba0,WIP: Prevent host value change in containerized overcloud.,ABANDONED,2018-07-17 17:25:00.000000000,2019-05-03 22:05:44.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-07-17 17:25:00.000000000', 'files': ['docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a465a4d4ea74fe34ba5d5db9fd90448e635ef8bb', 'message': ""WIP: Prevent host value change in containerized overcloud.\n\nThis is a follow up from pike on where container get a fresh\nconfiguration each time, so we can't use os_immutable there.\n\nThis part allow the puppet run to get the current value from fact\npassed on the command line.\n\nIt's only a POC and a support for discussion at this time, as an\nalternative to https://review.openstack.org/#/c/562876/ .\n\nChange-Id: I53c11eb8d3a3dad4e551b0bb5fae43e79c343ba0\n""}]",1,583311,a465a4d4ea74fe34ba5d5db9fd90448e635ef8bb,5,4,1,8297,,,0,"WIP: Prevent host value change in containerized overcloud.

This is a follow up from pike on where container get a fresh
configuration each time, so we can't use os_immutable there.

This part allow the puppet run to get the current value from fact
passed on the command line.

It's only a POC and a support for discussion at this time, as an
alternative to https://review.openstack.org/#/c/562876/ .

Change-Id: I53c11eb8d3a3dad4e551b0bb5fae43e79c343ba0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/583311/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/docker-puppet.py'],1,a465a4d4ea74fe34ba5d5db9fd90448e635ef8bb,,"import os.pathdef get_service_host_value(service, name): service_file = ""{0}/{1}/etc/{2}/{2}.conf"".format( os.environ.get('CONFIG_VOLUME_PREFIX', '/var/lib/config-data'), name, service ) if not os.path.isfile(service_file): service_file = ""/etc/{0}/{0}.conf"".format(service) command = ""crudini --get %s DEFAULT host"" % service_file current_host_value = """" subproc = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() if subproc.returncode != 0: log.debug(""No actual value for DEFAULT/host in %s"" % service_file) else: current_host_value = cmd_stdout return current_host_value FACTER_os_nova_host=$OS_NOVA_HOST FACTER_os_neutron_host=$OS_NEUTRON_HOST \ FACTER_os_ceilometer_host=$OS_CEILOMETER_HOST \ '--env', 'OS_NOVA_HOST=%s' % get_service_host_value('nova', config_volume), '--env', 'OS_NEUTRON_HOST=%s' % get_service_host_value('neutron', config_volume), '--env', 'OS_CEILOMETER_HOST=%s' % get_service_host_value('ceilometer', config_volume),",,27,0
openstack%2Ftripleo-heat-templates~master~I78dcd9bcd213aa1ad074a5c8b94ff18322b72f5b,openstack/tripleo-heat-templates,master,I78dcd9bcd213aa1ad074a5c8b94ff18322b72f5b,WIP: Mount /etc/puppet/ssl rw,ABANDONED,2018-12-17 17:45:21.000000000,2019-05-03 22:05:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-12-17 17:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92e37ac623062b7d8b4256c2e01e00390464fd6b', 'message': ""WIP: Mount /etc/puppet/ssl rw\n\nWIP: Still need to check that mounting the same ssl dir for all\ncontainer is ok.  Would feel better if it was unique for each one.\n\nThis directory is check for ownership by puppet apply.  This is\nmounted ro from /etc/puppet.  If the puppet' host uid/gid has been\nchanged by the sysadmin, then puppet fails.\n\nThis makes /etc/puppet/ssl rw.  The certificates here are not used by\npuppet apply and are not a security issue.\n\nChange-Id: I78dcd9bcd213aa1ad074a5c8b94ff18322b72f5b\nCloses-Bug: #1808844\n""}, {'number': 2, 'created': '2018-12-18 12:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5392bf6d13e48cd21fae05bc30399aa79355afcc', 'message': ""WIP: Mount /etc/puppet/ssl rw\n\nWIP: Still need to check that mounting the same ssl dir for all\ncontainer is ok.  Would feel better if it was unique for each one.\n\nThis directory is check for ownership by puppet apply.  This is\nmounted ro from /etc/puppet.  If the puppet' host uid/gid has been\nchanged by the sysadmin, then puppet fails.\n\nThis makes /etc/puppet/ssl rw.  The certificates here are not used by\npuppet apply and are not a security issue.\n\nChange-Id: I78dcd9bcd213aa1ad074a5c8b94ff18322b72f5b\nCloses-Bug: #1808844\n""}, {'number': 3, 'created': '2019-04-22 08:08:14.000000000', 'files': ['deployment/containers-common.yaml', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b83753294c41a6335c34d32a1027e3aef7e9e35', 'message': ""WIP: Mount /etc/puppet/ssl rw\n\nWIP: Still need to check that mounting the same ssl dir for all\ncontainer is ok.  Would feel better if it was unique for each one.\n\nThis directory is check for ownership by puppet apply.  This is\nmounted ro from /etc/puppet.  If the puppet' host uid/gid has been\nchanged by the sysadmin, then puppet fails.\n\nThis makes /etc/puppet/ssl rw.  The certificates here are not used by\npuppet apply and are not a security issue.\n\nChange-Id: I78dcd9bcd213aa1ad074a5c8b94ff18322b72f5b\nCloses-Bug: #1808844\n""}]",0,625676,9b83753294c41a6335c34d32a1027e3aef7e9e35,10,3,3,8297,,,0,"WIP: Mount /etc/puppet/ssl rw

WIP: Still need to check that mounting the same ssl dir for all
container is ok.  Would feel better if it was unique for each one.

This directory is check for ownership by puppet apply.  This is
mounted ro from /etc/puppet.  If the puppet' host uid/gid has been
changed by the sysadmin, then puppet fails.

This makes /etc/puppet/ssl rw.  The certificates here are not used by
puppet apply and are not a security issue.

Change-Id: I78dcd9bcd213aa1ad074a5c8b94ff18322b72f5b
Closes-Bug: #1808844
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/625676/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/containers-common.yaml'],1,92e37ac623062b7d8b4256c2e01e00390464fd6b,bug/1808844, # needed when puppet host uid/gid has been changed by the user. # TODO: would be better if the directory was unique for each container. - /tmp/ssl:/etc/puppet/ssl:rw,,3,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ie58a6630877a58bec8ce763ede166997bd41f882,openstack/tripleo-heat-templates,stable/stein,Ie58a6630877a58bec8ce763ede166997bd41f882,Set debug level of nova container_config_scripts only when enabled,MERGED,2019-05-02 22:20:13.000000000,2019-05-03 22:05:08.000000000,2019-05-03 22:05:08.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 22:20:13.000000000', 'files': ['container_config_scripts/nova_wait_for_placement_service.py', 'container_config_scripts/nova_wait_for_compute_service.py', 'deployment/nova/nova-compute-container-puppet.yaml', 'container_config_scripts/nova_statedir_ownership.py', 'container_config_scripts/nova_cell_v2_discover_hosts.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28a0d3c532d8fee90c2d3f9b5695cec3d57cf08f', 'message': 'Set debug level of nova container_config_scripts only when enabled\n\nRight now all scripts log in DEBUG level. This change enables only\nDEBUG level if debug is also enabled for the nova service.\n\nChange-Id: Ie58a6630877a58bec8ce763ede166997bd41f882\n(cherry picked from commit 4d4263f4f1f1e49851503162fcd8d3cfca163b73)\n'}]",0,656887,28a0d3c532d8fee90c2d3f9b5695cec3d57cf08f,13,4,1,3153,,,0,"Set debug level of nova container_config_scripts only when enabled

Right now all scripts log in DEBUG level. This change enables only
DEBUG level if debug is also enabled for the nova service.

Change-Id: Ie58a6630877a58bec8ce763ede166997bd41f882
(cherry picked from commit 4d4263f4f1f1e49851503162fcd8d3cfca163b73)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/656887/1 && git format-patch -1 --stdout FETCH_HEAD,"['container_config_scripts/nova_wait_for_placement_service.py', 'container_config_scripts/nova_wait_for_compute_service.py', 'deployment/nova/nova-compute-container-puppet.yaml', 'container_config_scripts/nova_statedir_ownership.py', 'container_config_scripts/nova_cell_v2_discover_hosts.py']",5,28a0d3c532d8fee90c2d3f9b5695cec3d57cf08f,nova_config_script_loglevel-stable/stein,"debug = os.getenv('__OS_DEBUG', 'false') if debug.lower() == 'true': loglevel = logging.DEBUG else: loglevel = logging.INFO logging.basicConfig(stream=sys.stdout, level=loglevel)","logging.basicConfig(stream=sys.stdout, level=logging.DEBUG)",62,4
openstack%2Ftripleo-heat-templates~master~I9c7e938ddd3a21eeb6166ade7874c46700bb6a5b,openstack/tripleo-heat-templates,master,I9c7e938ddd3a21eeb6166ade7874c46700bb6a5b,Fix cinder-backup deployment templates,MERGED,2019-04-29 16:17:54.000000000,2019-05-03 21:58:55.000000000,2019-05-03 21:58:54.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 16:17:54.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e33dfa8f6b0e872890a41a3b537ed8c14e21dc0', 'message': ""Fix cinder-backup deployment templates\n\nFix the step_config portion of the puppet_config that configures the\ncinder-backup service's backend driver. For the pacemaker version,\nfix the path to the CinderBackupBase's step_config.\n\nCloses-Bug: #1826897\nChange-Id: I9c7e938ddd3a21eeb6166ade7874c46700bb6a5b\n""}]",0,656364,1e33dfa8f6b0e872890a41a3b537ed8c14e21dc0,10,5,1,21129,,,0,"Fix cinder-backup deployment templates

Fix the step_config portion of the puppet_config that configures the
cinder-backup service's backend driver. For the pacemaker version,
fix the path to the CinderBackupBase's step_config.

Closes-Bug: #1826897
Change-Id: I9c7e938ddd3a21eeb6166ade7874c46700bb6a5b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/656364/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml']",2,1e33dfa8f6b0e872890a41a3b537ed8c14e21dc0,bug/1826897," - str_replace: template: ""include ::tripleo::profile::base::cinder::backup::DRIVER"" params: DRIVER: {get_param: CinderBackupBackend}"," str_replace: template: ""include ::tripleo::profile::base::cinder::backup::DRIVER"" params: DRIVER: {get_param: CinderBackupBackend}",6,6
openstack%2Fnova~master~I6709d068f109f25b25843b70aa77078ece8941ab,openstack/nova,master,I6709d068f109f25b25843b70aa77078ece8941ab,return 404 when no consumer found in allocs,ABANDONED,2018-06-29 13:49:49.000000000,2019-05-03 21:51:50.000000000,,"[{'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-06-29 13:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80dac563420953b450240209f07069439dd01e57', 'message': ""return 404 when no consumer found in allocs\n\nDO NOT MERGE\n\nModifies the GET /allocations/{consumer_uuid} endpoint to have the same\nbehaviour as GET /resource_providers/{rp_uuid}/allocations when there is\nno consumer found matching {consumer_uuid}: return a 404 Not Found\ninstead of a response with an empty allocations dict.\n\nRelated, we also now return the consumer generation, project external ID\nand user external ID for consumers that have no allocations. This is a\nchange in the behaviour of the GET /allocations/{consumer_uuid}\nendpoint, but I'm not sure whether it warrants a new microversion.\nDefinitely open to advice on that point.\n\nMarked DO NOT MERGE because the gabbitlets added to the allocations.yaml\ngabbit seem to be exposing a latent bug. The user and project external\nIDs being returned are the default values of\nCONF.placement.incomplete_project_external_id and\nCONF.placement.incomplete_user_external_id instead of the\n$ENVIRON['project_id'] and $ENVIRON['user_id'] values that are supplied\nin the PUT /allocations/{consumer_uuid} call. I'm still trying to\ndetermine why this is happening.\n\nChange-Id: I6709d068f109f25b25843b70aa77078ece8941ab\n""}, {'number': 2, 'created': '2018-07-09 23:31:43.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/allocations-bug-1778591.yaml', 'nova/api/openstack/placement/handlers/allocation.py', 'nova/tests/functional/api/openstack/placement/gabbits/allocations.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/9c1b2bc63236d54119f99771be0898bd6bcde4b1', 'message': ""return 404 when no consumer found in allocs\n\nDO NOT MERGE\n\nModifies the GET /allocations/{consumer_uuid} endpoint to have the same\nbehaviour as GET /resource_providers/{rp_uuid}/allocations when there is\nno consumer found matching {consumer_uuid}: return a 404 Not Found\ninstead of a response with an empty allocations dict.\n\nRelated, we also now return the consumer generation, project external ID\nand user external ID for consumers that have no allocations. This is a\nchange in the behaviour of the GET /allocations/{consumer_uuid}\nendpoint, but I'm not sure whether it warrants a new microversion.\nDefinitely open to advice on that point.\n\nMarked DO NOT MERGE because the gabbitlets added to the allocations.yaml\ngabbit seem to be exposing a latent bug. The user and project external\nIDs being returned are the default values of\nCONF.placement.incomplete_project_external_id and\nCONF.placement.incomplete_user_external_id instead of the\n$ENVIRON['project_id'] and $ENVIRON['user_id'] values that are supplied\nin the PUT /allocations/{consumer_uuid} call. I'm still trying to\ndetermine why this is happening.\n\nCloses-Bug: #1778591\n\nChange-Id: I6709d068f109f25b25843b70aa77078ece8941ab\n""}]",4,579163,9c1b2bc63236d54119f99771be0898bd6bcde4b1,40,19,2,7,,,0,"return 404 when no consumer found in allocs

DO NOT MERGE

Modifies the GET /allocations/{consumer_uuid} endpoint to have the same
behaviour as GET /resource_providers/{rp_uuid}/allocations when there is
no consumer found matching {consumer_uuid}: return a 404 Not Found
instead of a response with an empty allocations dict.

Related, we also now return the consumer generation, project external ID
and user external ID for consumers that have no allocations. This is a
change in the behaviour of the GET /allocations/{consumer_uuid}
endpoint, but I'm not sure whether it warrants a new microversion.
Definitely open to advice on that point.

Marked DO NOT MERGE because the gabbitlets added to the allocations.yaml
gabbit seem to be exposing a latent bug. The user and project external
IDs being returned are the default values of
CONF.placement.incomplete_project_external_id and
CONF.placement.incomplete_user_external_id instead of the
$ENVIRON['project_id'] and $ENVIRON['user_id'] values that are supplied
in the PUT /allocations/{consumer_uuid} call. I'm still trying to
determine why this is happening.

Closes-Bug: #1778591

Change-Id: I6709d068f109f25b25843b70aa77078ece8941ab
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/579163/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/gabbits/allocations-bug-1778591.yaml', 'nova/api/openstack/placement/handlers/allocation.py', 'nova/tests/functional/api/openstack/placement/gabbits/allocations.yaml']",3,80dac563420953b450240209f07069439dd01e57,bug/1778591,- name: get allocations unknown consumer is 404 status: 404 - name: remove all allocations for consumer PUT: /allocations/599ffd2d-526a-4b2e-8683-f13ad25f9958 request_headers: openstack-api-version: placement 1.28 content-type: application/json data: consumer_generation: 3 project_id: $ENVIRON['PROJECT_ID'] user_id: $ENVIRON['USER_ID'] allocations: {} status: 204 - name: allocations is now empty dict consumer gen/user/project exist GET: /allocations/599ffd2d-526a-4b2e-8683-f13ad25f9958 request_headers: openstack-api-version: placement 1.28 response_json_paths: $.consumer_generation: 4 $.project_id: $ENVIRON['PROJECT_ID'] $.user_id: $ENVIRON['USER_ID'] $.allocations: {},- name: get allocations is empty dict response_json_paths: $.allocations: {},52,16
openstack%2Fnova~master~I8e1d068e0366b3d9fbde9da9c10deb97069d96aa,openstack/nova,master,I8e1d068e0366b3d9fbde9da9c10deb97069d96aa,Reset global variable after unit test is completed.,ABANDONED,2018-08-30 08:42:16.000000000,2019-05-03 21:50:48.000000000,,"[{'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 12813}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-08-30 08:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bca1b806e1f327402e9439900a02df7253dc095', 'message': 'Reset global variable after unit test is completed.\n\nresource_provider._RC_CACHE is a global variable, and after\neach unit test is completed, the value before the test\nshould be restored without affecting subsequent unit\ntest results.\n\nChange-Id: I8e1d068e0366b3d9fbde9da9c10deb97069d96aa\n'}, {'number': 2, 'created': '2018-08-30 11:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0604443e5ec2710df5f8cf7c49eb84390ab665ba', 'message': 'Reset global variable after unit test is completed.\n\nresource_provider._RC_CACHE is a global variable, and after\neach unit test is completed, the value before the test\nshould be restored without affecting subsequent unit\ntest results.\n\nChange-Id: I8e1d068e0366b3d9fbde9da9c10deb97069d96aa\n'}, {'number': 3, 'created': '2018-08-30 11:36:55.000000000', 'files': ['nova/tests/unit/api/openstack/placement/objects/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f8731d3deed94cb11b08d1466b6be38333cd4783', 'message': 'Reset global variable after unit test is completed.\n\nresource_provider._RC_CACHE is a global variable, and after\neach unit test is completed, the value before the test\nshould be restored without affecting subsequent unit\ntest results.\n\nChange-Id: I8e1d068e0366b3d9fbde9da9c10deb97069d96aa\n'}]",2,598088,f8731d3deed94cb11b08d1466b6be38333cd4783,26,14,3,12813,,,0,"Reset global variable after unit test is completed.

resource_provider._RC_CACHE is a global variable, and after
each unit test is completed, the value before the test
should be restored without affecting subsequent unit
test results.

Change-Id: I8e1d068e0366b3d9fbde9da9c10deb97069d96aa
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/598088/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/placement/objects/test_resource_provider.py'],1,9bca1b806e1f327402e9439900a02df7253dc095,reset_global_variable_resource_provider._RC_CACHE," _fake_ensure_cache(self.context) def tearDown(self): super(_TestCase, self).tearDown() resource_provider._RC_CACHE = None def test_get_all_by_resource_provider(self, mock_get): mock_create_consumers):"," 'ensure_rc_cache', side_effect=_fake_ensure_cache) @mock.patch('nova.api.openstack.placement.objects.resource_provider.' def test_get_all_by_resource_provider(self, mock_get, mock_ensure_cache): mock_ensure_cache(self.context) @mock.patch('nova.api.openstack.placement.objects.resource_provider.' 'ensure_rc_cache', side_effect=_fake_ensure_cache) mock_ensure_cache, mock_create_consumers): mock_ensure_cache(self.context)",8,9
openstack%2Ftripleo-common~stable%2Fqueens~I12213909a47e0a186bdb2e06c58784457bfe8d13,openstack/tripleo-common,stable/queens,I12213909a47e0a186bdb2e06c58784457bfe8d13,Don't use node count from failed stack parameters,MERGED,2019-04-29 18:42:10.000000000,2019-05-03 21:40:39.000000000,2019-04-30 23:52:39.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 18:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06217c7740233d95ddc775dac9ceedb0c9c32d69', 'message': ""Don't use node count from failed stack parameters\n\nWhile checking node count in predeploy validations, if the stack\nis in FAILED state, parameters may not represent the actual nodes\nin stack. Don't use them for validations.\n\nChange-Id: I12213909a47e0a186bdb2e06c58784457bfe8d13\nCloses-Bug: #1826925\n""}, {'number': 2, 'created': '2019-04-29 23:50:26.000000000', 'files': ['tripleo_common/actions/validations.py', 'tripleo_common/tests/actions/test_validations.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4fe901d2d079a71f0e1bb91aa3dfd0f486cba30c', 'message': ""Don't use node count from failed stack parameters\n\nWhile checking node count in predeploy validations, if the stack\nis in FAILED state, parameters may not represent the actual nodes\nin stack. Don't use them for validations.\n\nChange-Id: I12213909a47e0a186bdb2e06c58784457bfe8d13\nCloses-Bug: #1826925\n""}]",0,656379,4fe901d2d079a71f0e1bb91aa3dfd0f486cba30c,13,4,2,8833,,,0,"Don't use node count from failed stack parameters

While checking node count in predeploy validations, if the stack
is in FAILED state, parameters may not represent the actual nodes
in stack. Don't use them for validations.

Change-Id: I12213909a47e0a186bdb2e06c58784457bfe8d13
Closes-Bug: #1826925
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/79/656379/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/validations.py'],1,06217c7740233d95ddc775dac9ceedb0c9c32d69,bug/1826925, if self.stack and self.stack.status != 'FAILED':, if self.stack:,1,1
openstack%2Fnova~master~Ia0c6563e8583b3078aea5cc5fa3efc4f1afa43e2,openstack/nova,master,Ia0c6563e8583b3078aea5cc5fa3efc4f1afa43e2,Pass CLI options to nova-placement-api,ABANDONED,2017-06-08 18:56:11.000000000,2019-05-03 21:40:10.000000000,,"[{'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11805}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-06-08 18:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf893cf681313a0ad95382f9018a8e0d94d4e314', 'message': ""Make nova-placement-api default config less strict\n\nThis enables execution of nova-placement-api if nova.conf\ndoesn't exist in the typical location of /etc/nova/nova.conf\nand OS_PLACEMENT_CONFIG_DIR is not set. In our case with the\nOpenStack snap for nova, we have two possible paths we may\npick nova.conf up from, based on what --config-file specifies.\nThe --config-file and --config-dir CLI options get parsed in\noslo.config (in the __call__() method of the ConfigOpts class).\n\nChange-Id: Ia0c6563e8583b3078aea5cc5fa3efc4f1afa43e2\nCloses-Bug: 1696830\n""}, {'number': 2, 'created': '2017-06-08 19:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0be2ffa2540ac57e2e0a6b07304b6adcab8fcc41', 'message': ""Make nova-placement-api default config less strict\n\nThis enables execution of nova-placement-api if nova.conf\ndoesn't exist in the typical location of /etc/nova/nova.conf\nand OS_PLACEMENT_CONFIG_DIR is not set. In our case with the\nOpenStack snap for nova, we have two possible paths we may\npick nova.conf up from, based on what --config-file specifies.\nThe --config-file and --config-dir CLI options get parsed in\noslo.config (in the __call__() method of the ConfigOpts class).\n\nChange-Id: Ia0c6563e8583b3078aea5cc5fa3efc4f1afa43e2\nCloses-Bug: 1696830\n""}, {'number': 3, 'created': '2017-06-08 21:00:04.000000000', 'files': ['nova/api/openstack/placement/wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/710262ab04e8877d5eb39b2ad13a222ed7aba87b', 'message': ""Pass CLI options to nova-placement-api\n\nThis enables execution of nova-placement-api if nova.conf\ndoesn't exist in the typical location of /etc/nova/nova.conf\nand OS_PLACEMENT_CONFIG_DIR is not set. In our case with the\nOpenStack snap for nova, we have two possible paths we may\npick nova.conf up from, based on what --config-file specifies.\nThe --config-file and --config-dir CLI options get parsed in\noslo.config (in the __call__() method of the ConfigOpts class).\n\nChange-Id: Ia0c6563e8583b3078aea5cc5fa3efc4f1afa43e2\nCloses-Bug: 1696830\n""}]",3,472378,710262ab04e8877d5eb39b2ad13a222ed7aba87b,27,11,3,11805,,,0,"Pass CLI options to nova-placement-api

This enables execution of nova-placement-api if nova.conf
doesn't exist in the typical location of /etc/nova/nova.conf
and OS_PLACEMENT_CONFIG_DIR is not set. In our case with the
OpenStack snap for nova, we have two possible paths we may
pick nova.conf up from, based on what --config-file specifies.
The --config-file and --config-dir CLI options get parsed in
oslo.config (in the __call__() method of the ConfigOpts class).

Change-Id: Ia0c6563e8583b3078aea5cc5fa3efc4f1afa43e2
Closes-Bug: 1696830
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/472378/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/wsgi.py'],1,bf893cf681313a0ad95382f9018a8e0d94d4e314,bug/1696830, if os.path.exists(filename): return filename return None," return os.path.join(dirname, CONFIG_FILE)",3,1
openstack%2Fnova~master~If4aed262c3a51ea2621c41db6649c9332619c378,openstack/nova,master,If4aed262c3a51ea2621c41db6649c9332619c378,Return anchor providers in a_r and p_s,ABANDONED,2018-03-31 00:27:48.000000000,2019-05-03 21:39:09.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-31 00:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d4751a1e3a2735cd7ca3884c77c79c28fe74aea', 'message': 'WIP: Return anchor providers in a_r and p_s\n\nChange-Id: If4aed262c3a51ea2621c41db6649c9332619c378\n'}, {'number': 2, 'created': '2018-03-31 18:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5c686e5f1315a1c4155df05bce98db5df3bf266', 'message': 'Return anchor providers in a_r and p_s\n\nAnchor providers (those not providing any resource themselves, but\nserving as anchor points for sharing providers which do) now show up in\nthe response payload of GET /allocation_candidates. In the\nallocation_request, they show up with an empty ""resources"" dict.  In the\nprovider_summaries (where they were previously absent unless they\nprovided resource for some other allocation_request) they now appear\nwith their usage information as expected.\n\nChange-Id: If4aed262c3a51ea2621c41db6649c9332619c378\n'}, {'number': 3, 'created': '2018-03-31 19:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6440d53db542615e380136f3ca1cadf2c4bee13a', 'message': 'Return anchor providers in a_r and p_s\n\nAnchor providers (those not providing any resource themselves, but\nserving as anchor points for sharing providers which do) now show up in\nthe response payload of GET /allocation_candidates. In the\nallocation_request, they show up with an empty ""resources"" dict.  In the\nprovider_summaries (where they were previously absent unless they\nprovided resource for some other allocation_request) they now appear\nwith their usage information as expected.\n\nChange-Id: If4aed262c3a51ea2621c41db6649c9332619c378\n'}, {'number': 4, 'created': '2018-03-31 21:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dff4417259a7660027a0147f9aef8774dff73db', 'message': 'Return anchor providers in a_r and p_s\n\nAnchor providers (those not providing any resource themselves, but\nserving as anchor points for sharing providers which do) now show up in\nthe response payload of GET /allocation_candidates. In the\nallocation_request, they show up with an empty ""resources"" dict.  In the\nprovider_summaries (where they were previously absent unless they\nprovided resource for some other allocation_request) they now appear\nwith their usage information as expected.\n\nChange-Id: If4aed262c3a51ea2621c41db6649c9332619c378\n'}, {'number': 5, 'created': '2018-04-02 00:40:20.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/handlers/allocation_candidate.py', 'nova/test.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py', 'nova/tests/functional/api/openstack/placement/gabbits/allocation-candidates.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/22d339b26fd56ce23ff78e9425e90ee1dc81a948', 'message': 'Return anchor providers in a_r and p_s\n\nAnchor providers (those not providing any resource themselves, but\nserving as anchor points for sharing providers which do) now show up in\nthe response payload of GET /allocation_candidates. In the\nallocation_request, they show up with an empty ""resources"" dict.  In the\nprovider_summaries (where they were previously absent unless they\nprovided resource for some other allocation_request) they now appear\nwith their usage information as expected.\n\nChange-Id: If4aed262c3a51ea2621c41db6649c9332619c378\n'}]",3,558014,22d339b26fd56ce23ff78e9425e90ee1dc81a948,52,13,5,14070,,,0,"Return anchor providers in a_r and p_s

Anchor providers (those not providing any resource themselves, but
serving as anchor points for sharing providers which do) now show up in
the response payload of GET /allocation_candidates. In the
allocation_request, they show up with an empty ""resources"" dict.  In the
provider_summaries (where they were previously absent unless they
provided resource for some other allocation_request) they now appear
with their usage information as expected.

Change-Id: If4aed262c3a51ea2621c41db6649c9332619c378
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/558014/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py']",2,6d4751a1e3a2735cd7ca3884c77c79c28fe74aea,return-anchor-providers," [('cn1', 'N/A', 0), ('ss1', fields.ResourceClass.DISK_GB, 1500), 'cn1': set(),"," [('ss1', fields.ResourceClass.DISK_GB, 1500),",59,2
openstack%2Fnova~master~I27fce471e559543aeaccc73052820c2cea48f266,openstack/nova,master,I27fce471e559543aeaccc73052820c2cea48f266,add root parent NULL online migration,ABANDONED,2018-04-27 20:22:50.000000000,2019-05-03 21:38:24.000000000,,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-27 20:22:50.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b0857256010167f5168258c3abe4f82261aad33', 'message': 'add root parent NULL online migration\n\nWhen we added parent and root_provider_id to the resource_providers\ntable, we made both fields NULLable. root_provider_id should not be\nNULLable, however. Resource providers that have NULL root_provider_id\nvalues simply represent compute node providers and therefore should have\ntheir root_provider_id set to the value of the id column.\n\nChange-Id: I27fce471e559543aeaccc73052820c2cea48f266\n'}]",4,564876,9b0857256010167f5168258c3abe4f82261aad33,19,16,1,7,,,0,"add root parent NULL online migration

When we added parent and root_provider_id to the resource_providers
table, we made both fields NULLable. root_provider_id should not be
NULLable, however. Resource providers that have NULL root_provider_id
values simply represent compute node providers and therefore should have
their root_provider_id set to the value of the id column.

Change-Id: I27fce471e559543aeaccc73052820c2cea48f266
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/564876/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/cmd/manage.py']",2,9b0857256010167f5168258c3abe4f82261aad33,ensure-root-provider,"from nova.api.openstack.placement.objects import resource_provider as rp_obj # Added in Rocky rp_obj.ResourceProvider.set_missing_root_providers,",,25,0
openstack%2Fneutron-lib~master~Iccdde1683e9660edf9477e6b6df7d2b903ec0bd7,openstack/neutron-lib,master,Iccdde1683e9660edf9477e6b6df7d2b903ec0bd7,api-ref: add missing provider parameter to lbaasv2,ABANDONED,2018-02-16 14:46:58.000000000,2019-05-03 21:36:40.000000000,,"[{'_account_id': 841}, {'_account_id': 5367}, {'_account_id': 6579}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-16 14:46:58.000000000', 'files': ['api-ref/source/v2/lbaas-v2.inc', 'api-ref/source/v2/samples/lbaas/loadbalancer-show-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4861db374db3f3f76e27e5a5eb071695c5cbca17', 'message': ""api-ref: add missing provider parameter to lbaasv2\n\nThe 'provider' parameter was missing in the api-ref for the show load\nbalancer details API in LBaaS v2.\n\nChange-Id: Iccdde1683e9660edf9477e6b6df7d2b903ec0bd7\n""}]",2,545349,4861db374db3f3f76e27e5a5eb071695c5cbca17,5,4,1,6469,,,0,"api-ref: add missing provider parameter to lbaasv2

The 'provider' parameter was missing in the api-ref for the show load
balancer details API in LBaaS v2.

Change-Id: Iccdde1683e9660edf9477e6b6df7d2b903ec0bd7
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/49/545349/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/lbaas-v2.inc', 'api-ref/source/v2/samples/lbaas/loadbalancer-show-response.json']",2,4861db374db3f3f76e27e5a5eb071695c5cbca17,api-ref," ""provider"": ""sample_provider"",",,2,0
openstack%2Foslo.messaging~stable%2Frocky~I7ab1f9d21ebb807285bf1422bc14cc6e07dcd32a,openstack/oslo.messaging,stable/rocky,I7ab1f9d21ebb807285bf1422bc14cc6e07dcd32a,Retry to declare a queue after internal error,MERGED,2019-04-23 07:50:41.000000000,2019-05-03 21:36:15.000000000,2019-05-03 21:36:15.000000000,"[{'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 07:50:41.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d75eba02c74d309cd769a8257d2d20f735c60ad1', 'message': ""Retry to declare a queue after internal error\n\nWithout this commit, the client can lose the messages, because the\nclient does not handler the 'AMQP internal error 541',\nread here [2] for details.\nThe fix retries to create the queue after a delay.\nWhen the virtual-host is ready the declare does not fail.\nThis is a rare condiction, please read the bug [1] for details.\n\nCloses-Bug: #1822778\n\n[1] https://bugs.launchpad.net/oslo.messaging/+bug/1822778\n[2] https://www.rabbitmq.com/amqp-0-9-1-reference.html\n\nChange-Id: I7ab1f9d21ebb807285bf1422bc14cc6e07dcd32a\n(cherry picked from commit 4d2787227b00b973973554f7387e621d2664c0d8)\n""}]",0,654819,d75eba02c74d309cd769a8257d2d20f735c60ad1,7,3,1,29364,,,0,"Retry to declare a queue after internal error

Without this commit, the client can lose the messages, because the
client does not handler the 'AMQP internal error 541',
read here [2] for details.
The fix retries to create the queue after a delay.
When the virtual-host is ready the declare does not fail.
This is a rare condiction, please read the bug [1] for details.

Closes-Bug: #1822778

[1] https://bugs.launchpad.net/oslo.messaging/+bug/1822778
[2] https://www.rabbitmq.com/amqp-0-9-1-reference.html

Change-Id: I7ab1f9d21ebb807285bf1422bc14cc6e07dcd32a
(cherry picked from commit 4d2787227b00b973973554f7387e621d2664c0d8)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/19/654819/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,d75eba02c74d309cd769a8257d2d20f735c60ad1,bug/1822778-stable/rocky," except kombu.exceptions.ConnectionError as exc: # NOTE(gsantomaggio): This exception happens when the # connection is established,but it fails to create the queue. # Add some delay to avoid too many requests to the server. # See: https://bugs.launchpad.net/oslo.messaging/+bug/1822778 # for details. if exc.code == 541: interval = 2 info = {'sleep_time': interval, 'queue': self.queue_name, 'err_str': exc } LOG.error(_LE('Internal amqp error (541) ' 'during queue declare,' 'retrying in %(sleep_time)s seconds. ' 'Queue: [%(queue)s], ' 'error message: [%(err_str)s]'), info) time.sleep(interval) self.queue.declare() else: raise ",,22,1
openstack%2Fmistral~master~I7d391a6b46ddd4b388c11a69b75f2a2cd7e40384,openstack/mistral,master,I7d391a6b46ddd4b388c11a69b75f2a2cd7e40384,Adds secrets_retrieve to the list of available actions in barbican,MERGED,2018-10-31 12:43:48.000000000,2019-05-03 21:33:54.000000000,2019-05-03 21:33:54.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2018-10-31 12:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/928459664fce7364f4cd62d6fec52fc387c28013', 'message': 'Adds secrets_retrieve to the list of available actions in barbican\n\nThis method allows to retrieve the payloads of secrets in the\nworkflows.\n\nChange-Id: I7d391a6b46ddd4b388c11a69b75f2a2cd7e40384\n'}, {'number': 2, 'created': '2018-11-06 15:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e03fd0c856af4eccc5263068f10325e49166730d', 'message': 'Adds secrets_retrieve to the list of available actions in barbican\n\nThis method allows to retrieve the payloads of secrets in the\nworkflows.\n\nChange-Id: I7d391a6b46ddd4b388c11a69b75f2a2cd7e40384\n'}, {'number': 3, 'created': '2018-11-07 07:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3b1febcf3df79cec24f9531efc631b68dac89480', 'message': 'Adds secrets_retrieve to the list of available actions in barbican\n\nThis method allows to retrieve the payloads of secrets in the\nworkflows.\n\nChange-Id: I7d391a6b46ddd4b388c11a69b75f2a2cd7e40384\n'}, {'number': 4, 'created': '2018-11-19 08:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b6a9263d9c0323069545a7013d8ffa40714ce810', 'message': 'Adds secrets_retrieve to the list of available actions in barbican\n\nThis method allows to retrieve the payloads of secrets in the\nworkflows.\n\nChange-Id: I7d391a6b46ddd4b388c11a69b75f2a2cd7e40384\n'}, {'number': 5, 'created': '2018-11-19 11:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c4543fe22e89adf234b885b5fdf19c6a5e97ab6a', 'message': 'Adds secrets_retrieve to the list of available actions in barbican\n\nThis method allows to retrieve the payloads of secrets in the\nworkflows.\n\nChange-Id: I7d391a6b46ddd4b388c11a69b75f2a2cd7e40384\nCloses-Bug: #1800821\n'}, {'number': 6, 'created': '2019-05-03 17:42:24.000000000', 'files': ['mistral/actions/openstack/actions.py', 'mistral/actions/openstack/mapping.json'], 'web_link': 'https://opendev.org/openstack/mistral/commit/b7107c848fea59e4eae8456e87e1e1a2340ad051', 'message': 'Adds secrets_retrieve to the list of available actions in barbican\n\nThis method allows to retrieve the payloads of secrets in the\nworkflows.\n\nChange-Id: I7d391a6b46ddd4b388c11a69b75f2a2cd7e40384\nCloses-Bug: #1800821\n'}]",1,614491,b7107c848fea59e4eae8456e87e1e1a2340ad051,17,3,6,5575,,,0,"Adds secrets_retrieve to the list of available actions in barbican

This method allows to retrieve the payloads of secrets in the
workflows.

Change-Id: I7d391a6b46ddd4b388c11a69b75f2a2cd7e40384
Closes-Bug: #1800821
",git fetch https://review.opendev.org/openstack/mistral refs/changes/91/614491/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/actions/openstack/actions.py', 'mistral/actions/openstack/mapping.json']",2,928459664fce7364f4cd62d6fec52fc387c28013,bug/1800821," ""secrets_total"": ""secrets.total"", ""secrets_store"": ""secrets_store"""," ""secrets_total"": ""secrets.total""",19,4
openstack%2Fbarbican~master~I0d079752c19cba21be6f02caa1aed9b917999495,openstack/barbican,master,I0d079752c19cba21be6f02caa1aed9b917999495,Update to opendev,MERGED,2019-04-23 07:35:47.000000000,2019-05-03 21:20:05.000000000,2019-05-03 21:20:05.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 07:35:47.000000000', 'files': ['doc/source/contributor/getting_involved.rst', 'devstack/local.conf.example', 'doc/source/contributor/dev.rst', 'doc/source/contributor/devstack.rst', 'doc/source/contributor/dependencies.rst', 'devstack/README.md', 'devstack/upgrade/settings', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/28405cb046603c1babad658507c33027e958c47c', 'message': 'Update to opendev\n\nChange-Id: I0d079752c19cba21be6f02caa1aed9b917999495\n'}]",0,654814,28405cb046603c1babad658507c33027e958c47c,6,2,1,26584,,,0,"Update to opendev

Change-Id: I0d079752c19cba21be6f02caa1aed9b917999495
",git fetch https://review.opendev.org/openstack/barbican refs/changes/14/654814/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/getting_involved.rst', 'devstack/local.conf.example', 'doc/source/contributor/dev.rst', 'doc/source/contributor/devstack.rst', 'doc/source/contributor/dependencies.rst', 'devstack/README.md', 'devstack/upgrade/settings', 'tox.ini']",8,28405cb046603c1babad658507c33027e958c47c,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},11,11
openstack%2Fswift~master~Ie648f5c04d4415f3b620fb196fa567ce7575d522,openstack/swift,master,Ie648f5c04d4415f3b620fb196fa567ce7575d522,py3: Be able to parse non-RFC-compliant request lines,MERGED,2019-03-21 17:54:03.000000000,2019-05-03 21:08:45.000000000,2019-05-03 21:08:44.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-21 17:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6bee8ee78225f9f60fa7fbd00bfb20a6156d5a90', 'message': ""py3: Be able to parse non-RFC-compliant request lines\n\nThere's a bug in CPython [1] that causes servers to mis-parse request\nlines that include the bytes \\x85 or \\xa0.  Naturally, we have\nfunctional tests that (with high probability) will send such request\nlines. There's a fix proposed, but the earliest it's likely to land\nwould be for 3.8, and we need to be able to target an earlier Python.\n\nSo, intercept the request line immediately before parsing and re-write\nit to be RFC-compliant. Note that this is done for Python 2 as well,\nthough there should be no change in the request environment that\neventlet eventually hands to us.\n\n[1] https://bugs.python.org/issue33973\n\nChange-Id: Ie648f5c04d4415f3b620fb196fa567ce7575d522\n""}, {'number': 2, 'created': '2019-03-21 23:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/51bd590ab4d766b6560868f6dc63a25cb87cd029', 'message': ""py3: Be able to parse non-RFC-compliant request lines\n\nThere's a bug in CPython [1] that causes servers to mis-parse request\nlines that include the bytes \\x85 or \\xa0.  Naturally, we have\nfunctional tests that (with high probability) will send such request\nlines. There's a fix proposed, but the earliest it's likely to land\nwould be for 3.8, and we need to be able to target an earlier Python.\n\nSo, intercept the request line immediately before parsing and re-write\nit to be RFC-compliant. Note that this is done for Python 2 as well,\nthough there should be no change in the request environment that\neventlet eventually hands to us.\n\n[1] https://bugs.python.org/issue33973\n\nChange-Id: Ie648f5c04d4415f3b620fb196fa567ce7575d522\n""}, {'number': 3, 'created': '2019-04-15 18:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fd571db7191b919068f5140ce7c0ec6dba87584f', 'message': ""py3: Be able to parse non-RFC-compliant request lines\n\nThere's a bug in CPython [1] that causes servers to mis-parse request\nlines that include the bytes \\x85 or \\xa0.  Naturally, we have\nfunctional tests that (with high probability) will send such request\nlines. There's a fix proposed, but the earliest it's likely to land\nwould be for 3.8, and we need to be able to target an earlier Python.\n\nSo, intercept the request line immediately before parsing and re-write\nit to be RFC-compliant. Note that this is done for Python 2 as well,\nthough there should be no change in the request environment that\neventlet eventually hands to us.\n\n[1] https://bugs.python.org/issue33973\n\nChange-Id: Ie648f5c04d4415f3b620fb196fa567ce7575d522\n""}, {'number': 4, 'created': '2019-04-17 19:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/efb21cf711be33453950e8c4a936ce8c23b67eb2', 'message': ""py3: Be able to parse non-RFC-compliant request lines\n\nThere's a bug in CPython [1] that causes servers to mis-parse request\nlines that include the bytes \\x85 or \\xa0.  Naturally, we have\nfunctional tests that (with high probability) will send such request\nlines. There's a fix proposed, but the earliest it's likely to land\nwould be for 3.8, and we need to be able to target an earlier Python.\n\nSo, intercept the request line immediately before parsing and re-write\nit to be RFC-compliant. Note that this is done for Python 2 as well,\nthough there should be no change in the request environment that\neventlet eventually hands to us.\n\n[1] https://bugs.python.org/issue33973\n\nChange-Id: Ie648f5c04d4415f3b620fb196fa567ce7575d522\n""}, {'number': 5, 'created': '2019-05-02 20:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7c70b5ee13bd76372a2499a6be3757b1088f133c', 'message': ""py3: Be able to parse non-RFC-compliant request lines\n\nThere's a bug in CPython [1] that causes servers to mis-parse request\nlines that include the bytes \\x85 or \\xa0.  Naturally, we have\nfunctional tests that (with high probability) will send such request\nlines. There's a fix proposed, but the earliest it's likely to land\nwould be for 3.8, and we need to be able to target an earlier Python.\n\nSo, intercept the request line immediately before parsing and re-write\nit to be RFC-compliant. Note that this is done for Python 2 as well,\nthough there should be no change in the request environment that\neventlet eventually hands to us.\n\n[1] https://bugs.python.org/issue33973\n\nChange-Id: Ie648f5c04d4415f3b620fb196fa567ce7575d522\n""}, {'number': 6, 'created': '2019-05-02 21:44:25.000000000', 'files': ['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/93b49c5e4818774febb7aa59fc21cbbcf8db2344', 'message': ""py3: Be able to parse non-RFC-compliant request lines\n\nThere's a bug in CPython [1] that causes servers to mis-parse request\nlines that include the bytes \\x85 or \\xa0.  Naturally, we have\nfunctional tests that (with high probability) will send such request\nlines. There's a fix proposed, but the earliest it's likely to land\nwould be for 3.8, and we need to be able to target an earlier Python.\n\nSo, intercept the request line immediately before parsing and re-write\nit to be RFC-compliant. Note that this is done for Python 2 as well,\nthough there should be no change in the request environment that\neventlet eventually hands to us.\n\n[1] https://bugs.python.org/issue33973\n\nChange-Id: Ie648f5c04d4415f3b620fb196fa567ce7575d522\n""}]",4,645284,93b49c5e4818774febb7aa59fc21cbbcf8db2344,25,3,6,15343,,,0,"py3: Be able to parse non-RFC-compliant request lines

There's a bug in CPython [1] that causes servers to mis-parse request
lines that include the bytes \x85 or \xa0.  Naturally, we have
functional tests that (with high probability) will send such request
lines. There's a fix proposed, but the earliest it's likely to land
would be for 3.8, and we need to be able to target an earlier Python.

So, intercept the request line immediately before parsing and re-write
it to be RFC-compliant. Note that this is done for Python 2 as well,
though there should be no change in the request environment that
eventlet eventually hands to us.

[1] https://bugs.python.org/issue33973

Change-Id: Ie648f5c04d4415f3b620fb196fa567ce7575d522
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/645284/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",2,6bee8ee78225f9f60fa7fbd00bfb20a6156d5a90,py3-func-tests," def test_request_line_cleanup(self): def do_test(line_from_socket, expected_line=None): if expected_line is None: expected_line = line_from_socket proto_obj = self._proto_obj() proto_obj.raw_requestline = line_from_socket with mock.patch('swift.common.wsgi.wsgi.HttpProtocol') \ as mock_super: proto_obj.parse_request() self.assertEqual([mock.call.parse_request(proto_obj)], mock_super.mock_calls) self.assertEqual(proto_obj.raw_requestline, expected_line) do_test(b'GET / HTTP/1.1') do_test(b'GET /%FF HTTP/1.1') do_test(b'GET /\xff HTTP/1.1', b'GET /%FF HTTP/1.1') do_test(b'PUT /Here%20Is%20A%20SnowMan:\xe2\x98\x83 HTTP/1.0', b'PUT /Here%20Is%20A%20SnowMan%3A%E2%98%83 HTTP/1.0') do_test( b'POST /?and%20it=fixes+params&PALMTREE=\xf0%9f\x8c%b4 HTTP/1.1', b'POST /?and+it=fixes+params&PALMTREE=%F0%9F%8C%B4 HTTP/1.1') "," def setUp(self): patcher = mock.patch('swift.common.wsgi.wsgi.HttpProtocol') self.mock_super = patcher.start() self.addCleanup(patcher.stop) self.assertEqual([], self.mock_super.mock_calls)",54,7
openstack%2Fswift~master~I29e30ef45fe3f8a026e7897127ffae08a6a80cd9,openstack/swift,master,I29e30ef45fe3f8a026e7897127ffae08a6a80cd9,Make log format for requests configurable,MERGED,2018-03-01 13:23:33.000000000,2019-05-03 21:08:43.000000000,2019-05-03 21:08:43.000000000,"[{'_account_id': 330}, {'_account_id': 597}, {'_account_id': 9625}, {'_account_id': 10068}, {'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 27887}]","[{'number': 1, 'created': '2018-03-01 13:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cc91e7285071069983a3c9d0ba0008981c74b0ad', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the access_log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substitutes with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to include anonymized information\nlike a hash of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 2, 'created': '2018-03-05 10:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7b036ae3594d25009004de4a8de8c27c80e45bfb', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the proxylogging_log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substitutes with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to include anonymized information\nlike a hash of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 3, 'created': '2018-03-08 11:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ae3f8828eb736fef1e2e41259ef52ecd1e38c2b8', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the proxylogging_log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substitutes with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to include anonymized information\nlike a hash of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 4, 'created': '2018-05-30 16:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f2a2db9660a35b7e0b177e2393605ca5c74a5b2d', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the proxylogging_log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substitutes with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to include anonymized information\nlike a hash of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 5, 'created': '2018-06-12 13:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bbb1c42e968559d4a40d21ac3935c6389c00d4ad', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substituted with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to include anonymized information\nlike a hash of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 6, 'created': '2018-06-18 13:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3861d950018059b3ab3e8e18288f4a76c71d9730', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substituted with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to anonymized (hash) some parts of the\nlog like the path of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 7, 'created': '2018-06-18 15:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/52666522bf90ef88b10fc3b4c77dbff58ad92eb0', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substituted with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to anonymized (hash) some parts of the\nlog like the path of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 8, 'created': '2018-08-20 16:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e55cc0b6b77bad02c76e6307adebb7d129ae8a7d', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substituted with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to anonymized (hash) some parts of the\nlog like the path of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 9, 'created': '2018-09-07 07:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/04037e0d190cd56addef6a69632f3c136e49c0b7', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substituted with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to anonymized (hash) some parts of the\nlog like the path of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 10, 'created': '2018-09-07 10:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3350bb8fadf68a83182797be20a1eff44868d821', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substituted with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to anonymized (hash) some parts of the\nlog like the path of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 11, 'created': '2018-09-07 12:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cde9a6cbc642f8b0e178842317201dc6ba7f830f', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substituted with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to anonymized (hash) some parts of the\nlog like the path of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 12, 'created': '2018-09-07 17:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5eb2809cc8cc8267c31f6899b91a378e4d9762e9', 'message': 'Add template in proxy to create custom and anonymous access-logs\n\nAdd the log_msg_template option in proxy-server.conf.\nIt should be a string with some patterns (like that: {pattern}) which will\nbe substituted with the corresponding log information. This allows customized\nproxy-access logs. It is also possible to anonymized (hash) some parts of the\nlog like the path of the request.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n'}, {'number': 13, 'created': '2018-10-26 09:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cdafc6aadaf26435fd5e32011aefff7ca6df4bb7', 'message': ""Make log format for requests configurable\n\nAdd the log_msg_template option in proxy-server.conf and log_format in\na/c/o-server.conf. It is a string parsable by Python's format()\nfunction. Some fields containing user data might be anonymized by using\nlog_anonymization_method and log_anonymization_salt.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n""}, {'number': 14, 'created': '2018-10-29 09:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a3f46f4b1d809780271e31ff184716ec81a6970d', 'message': ""Make log format for requests configurable\n\nAdd the log_msg_template option in proxy-server.conf and log_format in\na/c/o-server.conf. It is a string parsable by Python's format()\nfunction. Some fields containing user data might be anonymized by using\nlog_anonymization_method and log_anonymization_salt.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n""}, {'number': 15, 'created': '2018-10-29 16:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7753c1065872ca350dae63a73784fa207c9402bc', 'message': ""Make log format for requests configurable\n\nAdd the log_msg_template option in proxy-server.conf and log_format in\na/c/o-server.conf. It is a string parsable by Python's format()\nfunction. Some fields containing user data might be anonymized by using\nlog_anonymization_method and log_anonymization_salt.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n""}, {'number': 16, 'created': '2019-04-19 14:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6bfa721f0170426b2dd98bf69eeb04ca05cce531', 'message': ""Make log format for requests configurable\n\nAdd the log_msg_template option in proxy-server.conf and log_format in\na/c/o-server.conf. It is a string parsable by Python's format()\nfunction. Some fields containing user data might be anonymized by using\nlog_anonymization_method and log_anonymization_salt.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n""}, {'number': 17, 'created': '2019-04-24 13:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2d2c6dfcac2cee3756f7dc58d352f23e1ebd8863', 'message': ""Make log format for requests configurable\n\nAdd the log_msg_template option in proxy-server.conf and log_format in\na/c/o-server.conf. It is a string parsable by Python's format()\nfunction. Some fields containing user data might be anonymized by using\nlog_anonymization_method and log_anonymization_salt.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n""}, {'number': 18, 'created': '2019-05-02 22:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ccea9605af727a15d2a5a987f5a6a018f24c48d0', 'message': ""Make log format for requests configurable\n\nAdd the log_msg_template option in proxy-server.conf and log_format in\na/c/o-server.conf. It is a string parsable by Python's format()\nfunction. Some fields containing user data might be anonymized by using\nlog_anonymization_method and log_anonymization_salt.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n""}, {'number': 19, 'created': '2019-05-02 22:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a68439c1395fd42bc5dec8a1cfee7c9a3cfd2ce9', 'message': ""Make log format for requests configurable\n\nAdd the log_msg_template option in proxy-server.conf and log_format in\na/c/o-server.conf. It is a string parsable by Python's format()\nfunction. Some fields containing user data might be anonymized by using\nlog_anonymization_method and log_anonymization_salt.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n""}, {'number': 20, 'created': '2019-05-02 23:43:59.000000000', 'files': ['swift/common/base_storage_server.py', 'swift/common/middleware/proxy_logging.py', 'swift/obj/server.py', 'test/unit/account/test_server.py', 'etc/container-server.conf-sample', 'test/unit/obj/test_server.py', 'swift/account/server.py', 'test/unit/container/test_server.py', 'doc/source/logs.rst', 'etc/object-server.conf-sample', 'swift/container/server.py', 'swift/common/utils.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/test_proxy_logging.py', 'doc/manpages/proxy-server.conf.5', 'swift/common/swob.py', 'etc/account-server.conf-sample', 'test/unit/common/test_swob.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a4cc353375264e4bcd8f9aef2f0701ae800e0e73', 'message': ""Make log format for requests configurable\n\nAdd the log_msg_template option in proxy-server.conf and log_format in\na/c/o-server.conf. It is a string parsable by Python's format()\nfunction. Some fields containing user data might be anonymized by using\nlog_anonymization_method and log_anonymization_salt.\n\nChange-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9\n""}]",21,548948,a4cc353375264e4bcd8f9aef2f0701ae800e0e73,70,8,20,27887,,,0,"Make log format for requests configurable

Add the log_msg_template option in proxy-server.conf and log_format in
a/c/o-server.conf. It is a string parsable by Python's format()
function. Some fields containing user data might be anonymized by using
log_anonymization_method and log_anonymization_salt.

Change-Id: I29e30ef45fe3f8a026e7897127ffae08a6a80cd9
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/548948/14 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/proxy_logging.py', 'test/unit/common/middleware/test_proxy_logging.py', 'doc/manpages/proxy-server.conf.5']",3,cc91e7285071069983a3c9d0ba0008981c74b0ad,logFormat,".IP ""\fBaccess_log_msg_template\fR"" Template used to format access logs. It is a string which will be parsed. All words surrounded by curly brackets will be substituted with the values associated with. Keywords availables are: .PD 0 .RS 10 .IP ""log_name (configured label used when logging)"" .IP ""remote_client"" .IP ""remote_addr"" .IP ""method"" .IP ""request (full request)"" .IP ""protocol"" .IP ""status_int"" .IP ""referer"" .IP ""user_agent"" .IP ""auth_token"" .IP ""bytes_received (number of bytes received)"" .IP ""bytes_sent (number of bytes sent)"" .IP ""client_etag"" .IP ""trans_id"" .IP ""logged_headers"" .IP ""duration_time (difference between start and end timestamps) .IP ""swift_source"" .IP ""swift_log_info"" .IP ""start_time (timestamp (with ns) at the receiving)"" .IP ""end_time (timestamp (with ns) at the end of the treatment)"" .IP ""policy_index"" .IP ""account (account name)"" .IP ""container (container name)"" .IP ""object (object name)"" .IP ""anonymized_request (md5 hash of the request)"" .IP ""anonymized_container (md5 hash of the container name)"" .IP ""anonymized_object (md5 hash of the object name)"" .IP ""ea (Abbreviated name of the day at the end of the request)"" .IP ""eb (Abbreviated month name at the end of the request)"" .IP ""ed (Two-digit day of the month (with leading zeros) at the end of the request)"" .IP ""eH (Two digit representation of the hour in 24-hour format at the end of the request)"" .IP ""eI (Two digit representation of the hour in 12-hour format at the end of the request)"" .IP ""ej (Day of the year at the end of the request, 3 digits with leading zeros)"" .IP ""em (Two digit representation of the month at the end of the request)"" .IP ""eM (Two digit representation of the minute at the end of the request)"" .IP ""ep (Lower-case 'am' or 'pm' based on the given time at the end of the request)"" .IP ""eS (Two digit representation of the second at the end of the request)"" .IP ""eY (Four digit representation for the year at the end of the request)"" .IP ""ems (Number of ms at the end of the request)"" .IP ""eus (Number of µs at the end of the request)"" .IP ""ens (Number of ns at the end of the request)"" .PD .RE .RS 7 Default is ""{log_name}: {remote_client} {remote_addr} {ed}/{eb}/{eY}/{eH}/{eM}/{eS} {method} {request} {protocol} {status_int} {referer} {user_agent} {auth_token} {bytes_received} {bytes_sent} {client_etag} {trans_id} {logged_headers} {duration_time} {swift_source} {swift_log_info} {start_time} {end_time} {policy_index}"" .RE",,264,131
openstack%2Fnova~master~I527f512b371705b490ba55dfab101340d417edb6,openstack/nova,master,I527f512b371705b490ba55dfab101340d417edb6,Remove [ironic]api_endpoint option,MERGED,2019-03-14 23:03:00.000000000,2019-05-03 21:08:38.000000000,2019-05-03 21:08:37.000000000,"[{'_account_id': 2}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-14 23:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/832052601d915ab5f48fcdf6fb17a14b4bed1c15', 'message': 'Remove [ironic]api_endpoint option\n\n[ironic]api_endpoint was deprecated in Queens [1] and is hereby\nannihilated.\n\n[1] If625411f40be0ba642baeb02950f568f43673655\n\nChange-Id: I527f512b371705b490ba55dfab101340d417edb6\n'}, {'number': 2, 'created': '2019-03-15 14:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58ce70449da1ff1eaba92c3eb8e6f5cc3a76e2bd', 'message': 'Remove [ironic]api_endpoint option\n\n[ironic]api_endpoint was deprecated in Queens [1] and is hereby\nannihilated.\n\n[1] If625411f40be0ba642baeb02950f568f43673655\n\nChange-Id: I527f512b371705b490ba55dfab101340d417edb6\n'}, {'number': 3, 'created': '2019-03-15 21:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bca885350b6aff943f885d53d257005cd6ac5669', 'message': 'Remove [ironic]api_endpoint option\n\n[ironic]api_endpoint was deprecated in Queens [1] and is hereby\nannihilated.\n\n[1] If625411f40be0ba642baeb02950f568f43673655\n\nChange-Id: I527f512b371705b490ba55dfab101340d417edb6\n'}, {'number': 4, 'created': '2019-04-26 17:02:56.000000000', 'files': ['nova/api/openstack/compute/baremetal_nodes.py', 'nova/virt/ironic/client_wrapper.py', 'nova/conf/ironic.py', 'releasenotes/notes/remove-ironic-api_endpoint-db922182356b8ac2.yaml', 'nova/tests/unit/virt/ironic/test_client_wrapper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d54f35d54e0d8274fc729d62fdaff426bb112486', 'message': 'Remove [ironic]api_endpoint option\n\n[ironic]api_endpoint was deprecated in Queens [1] and is hereby\nannihilated.\n\n[1] If625411f40be0ba642baeb02950f568f43673655\n\nChange-Id: I527f512b371705b490ba55dfab101340d417edb6\n'}]",8,643483,d54f35d54e0d8274fc729d62fdaff426bb112486,46,21,4,14070,,,0,"Remove [ironic]api_endpoint option

[ironic]api_endpoint was deprecated in Queens [1] and is hereby
annihilated.

[1] If625411f40be0ba642baeb02950f568f43673655

Change-Id: I527f512b371705b490ba55dfab101340d417edb6
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/643483/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/baremetal_nodes.py', 'nova/virt/ironic/client_wrapper.py', 'nova/conf/ironic.py', 'releasenotes/notes/remove-ironic-api_endpoint-db922182356b8ac2.yaml', 'nova/tests/unit/virt/ironic/test_client_wrapper.py']",5,832052601d915ab5f48fcdf6fb17a14b4bed1c15,remove-ironic.api_endpoint,," # With no api_endpoint in the conf, endpoint is retrieved from # nova.utils.get_ksa_adapter().get_endpoint() # With no api_endpoint in the conf, endpoint is retrieved from # nova.utils.get_endpoint_data @mock.patch.object(keystoneauth1.session, 'Session') @mock.patch.object(ironic_client, 'get_client') def test__get_client_session_legacy(self, mock_ir_cli, mock_session): """"""Endpoint discovery via legacy api_endpoint conf option."""""" mock_session.return_value = 'session' endpoint = 'https://baremetal.example.com/endpoint' self.flags(api_endpoint=endpoint, group='ironic') ironicclient = client_wrapper.IronicClientWrapper() # dummy call to have _get_client() called ironicclient.call(""node.list"") self.get_ksa_adapter.assert_not_called() expected = {'session': 'session', 'max_retries': CONF.ironic.api_max_retries, 'retry_interval': CONF.ironic.api_retry_interval, 'os_ironic_api_version': ['1.46', '1.38'], 'endpoint': endpoint, 'interface': ['internal', 'public']} mock_ir_cli.assert_called_once_with(1, **expected) @mock.patch.object(keystoneauth1.session, 'Session') @mock.patch.object(ironic_client, 'get_client') def test__get_client_and_valid_interfaces(self, mock_ir_cli, mock_session): """"""Endpoint discovery via legacy api_endpoint conf option."""""" mock_session.return_value = 'session' endpoint = 'https://baremetal.example.com/endpoint' self.flags(api_endpoint=endpoint, group='ironic') self.flags(valid_interfaces='admin', group='ironic') ironicclient = client_wrapper.IronicClientWrapper() # dummy call to have _get_client() called ironicclient.call(""node.list"") self.get_ksa_adapter.assert_not_called() expected = {'session': 'session', 'max_retries': CONF.ironic.api_max_retries, 'retry_interval': CONF.ironic.api_retry_interval, 'os_ironic_api_version': ['1.46', '1.38'], 'endpoint': endpoint, 'interface': ['admin']} mock_ir_cli.assert_called_once_with(1, **expected) ",24,82
openstack%2Fnova~master~Ib440f4f2e484312af5f393722363846f6c95b760,openstack/nova,master,Ib440f4f2e484312af5f393722363846f6c95b760,libvirt: Stop ignoring unknown libvirtError exceptions during volume attach,MERGED,2019-04-25 13:50:56.000000000,2019-05-03 21:08:30.000000000,2019-05-03 21:08:30.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2019-04-25 13:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0c9957c70964c5c3980e23caebcfe9045cabd9c', 'message': ""libvirt: Stop ignoring unknown libvirtError exceptions during volume attach\n\nId346bce6e47431988cce7001abcf29a9faf2936a attempted to introduce a\nsimple breadcrumb in the logs to highlight a known Libvirt issue.\nUnfortunately this change resulted in libvirtError exceptions that\ndidn't match the known issue being silently ignored.\n\nThis change corrects this by using excutils.save_and_reraise_exception\nto ensure all libvirtError exceptions are raised regardless of the known\nissue being logged.\n\nChange-Id: Ib440f4f2e484312af5f393722363846f6c95b760\nCloses-Bug: #1825882\n""}, {'number': 2, 'created': '2019-04-25 14:42:32.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc57ae50734fa6a70115b6369e867079fb5eb4b8', 'message': ""libvirt: Stop ignoring unknown libvirtError exceptions during volume attach\n\nId346bce6e47431988cce7001abcf29a9faf2936a attempted to introduce a\nsimple breadcrumb in the logs to highlight a known Libvirt issue.\nUnfortunately this change resulted in libvirtError exceptions that\ndidn't match the known issue being silently ignored.\n\nThis change corrects this by using excutils.save_and_reraise_exception\nto ensure all libvirtError exceptions are logged and raised regardless\nof being linked to the known issue.\n\nChange-Id: Ib440f4f2e484312af5f393722363846f6c95b760\nCloses-Bug: #1825882\n""}]",5,655696,bc57ae50734fa6a70115b6369e867079fb5eb4b8,56,17,2,10135,,,0,"libvirt: Stop ignoring unknown libvirtError exceptions during volume attach

Id346bce6e47431988cce7001abcf29a9faf2936a attempted to introduce a
simple breadcrumb in the logs to highlight a known Libvirt issue.
Unfortunately this change resulted in libvirtError exceptions that
didn't match the known issue being silently ignored.

This change corrects this by using excutils.save_and_reraise_exception
to ensure all libvirtError exceptions are logged and raised regardless
of being linked to the known issue.

Change-Id: Ib440f4f2e484312af5f393722363846f6c95b760
Closes-Bug: #1825882
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/655696/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,a0c9957c70964c5c3980e23caebcfe9045cabd9c,bug/1825882," @mock.patch('nova.virt.libvirt.blockinfo.get_info_from_bdm') def test_attach_volume_with_libvirt_exception(self, mock_get_info): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = {""driver_volume_type"": ""fake"", ""data"": {""device_path"": ""/fake"", ""access_mode"": ""rw""}} bdm = {'device_name': 'vdb', 'disk_bus': 'fake-bus', 'device_type': 'fake-type'} disk_info = {'bus': bdm['disk_bus'], 'type': bdm['device_type'], 'dev': 'vdb'} libvirt_exc = fakelibvirt.make_libvirtError(fakelibvirt.libvirtError, ""Target vdb already exists', device is busy"", error_code=fakelibvirt.VIR_ERR_INTERNAL_ERROR) with test.nested( mock.patch.object(drvr._host, 'get_guest'), mock.patch.object(drvr, '_connect_volume'), mock.patch.object(drvr, '_get_volume_config'), mock.patch.object(drvr, '_check_discard_for_attach_volume'), mock.patch.object(drvr, '_build_device_metadata'), ) as (mock_get_guest, mock_connect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata): mock_conf = mock.MagicMock() mock_guest = mock.MagicMock() mock_guest.attach_device.side_effect = libvirt_exc mock_get_volume_config.return_value = mock_conf mock_get_guest.return_value = mock_guest mock_get_info.return_value = disk_info mock_build_metadata.return_value = objects.InstanceDeviceMetadata() self.assertRaises(fakelibvirt.libvirtError, drvr.attach_volume, self.context, connection_info, instance, ""/dev/vdb"", disk_bus=bdm['disk_bus'], device_type=bdm['device_type']) ",,42,5
openstack%2Fnova~master~I395e386ee713769d4c105be0dd6e821382945866,openstack/nova,master,I395e386ee713769d4c105be0dd6e821382945866,Add Venn diagram showing taxonomy of traits and capabilities,MERGED,2019-04-26 21:54:53.000000000,2019-05-03 21:08:21.000000000,2019-05-03 21:08:20.000000000,"[{'_account_id': 6873}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-26 21:54:53.000000000', 'files': ['doc/source/reference/update-provider-tree.rst', 'doc/source/figures/traits-taxonomy.svg', 'doc/source/admin/configuration/schedulers.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/752b135ec47622ef37e327d70fd919f41389d03e', 'message': 'Add Venn diagram showing taxonomy of traits and capabilities\n\nThis was put together while working on the mechanism for converting\ndriver capabilities to traits in I15364d37fb7426f4eec00ca4eaf99bec50e964b6:\n\n    https://review.openstack.org/538498\n\nand may help other developers working on this area in the future.\n\nChange-Id: I395e386ee713769d4c105be0dd6e821382945866\n'}]",0,656032,752b135ec47622ef37e327d70fd919f41389d03e,15,12,1,2394,,,0,"Add Venn diagram showing taxonomy of traits and capabilities

This was put together while working on the mechanism for converting
driver capabilities to traits in I15364d37fb7426f4eec00ca4eaf99bec50e964b6:

    https://review.openstack.org/538498

and may help other developers working on this area in the future.

Change-Id: I395e386ee713769d4c105be0dd6e821382945866
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/656032/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/update-provider-tree.rst', 'doc/source/figures/traits-taxonomy.svg', 'doc/source/admin/configuration/schedulers.rst']",3,752b135ec47622ef37e327d70fd919f41389d03e,taxonomy-venn-diagram,.. _compute-capabilities-as-traits: :ref:`Further information on capabilities and traits <taxonomy_of_traits_and_capabilities>` can be found in the :doc:`Technical Reference Deep Dives section </reference/index>`.,,363,0
openstack%2Fnova~master~I0981c0349f163120939c3ddb9aeac82a01ceacd0,openstack/nova,master,I0981c0349f163120939c3ddb9aeac82a01ceacd0,libvirt: remove conditional on VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY,MERGED,2019-04-03 16:50:39.000000000,2019-05-03 21:08:13.000000000,2019-05-03 21:08:13.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-03 16:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/743977f5470f39327cb93bc9cf083b3ec480d7f0', 'message': 'libvirt: remove conditional on VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY\n\nAs the comment being removed says, libvirt >= 1.3.3 will provide\nthe VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY and\nVIR_DOMAIN_EVENT_SUSPENDED_MIGRATED enums and since we require\n3.0.0 since Stein [1] we can drop the hasattr checks.\n\n[1] I408baef12358a83921c4693b847a692f6c19e36f\n\nChange-Id: I0981c0349f163120939c3ddb9aeac82a01ceacd0\n'}, {'number': 2, 'created': '2019-04-03 18:27:42.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4745fd43d804f7a8473146231dd9deb98379d244', 'message': 'libvirt: remove conditional on VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY\n\nAs the comment being removed says, libvirt >= 1.3.3 will provide\nthe VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY and\nVIR_DOMAIN_EVENT_SUSPENDED_MIGRATED enums and since we require\n3.0.0 since Stein [1] we can drop the hasattr checks.\n\n[1] I408baef12358a83921c4693b847a692f6c19e36f\n\nChange-Id: I0981c0349f163120939c3ddb9aeac82a01ceacd0\n'}]",0,649674,4745fd43d804f7a8473146231dd9deb98379d244,27,13,2,6873,,,0,"libvirt: remove conditional on VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY

As the comment being removed says, libvirt >= 1.3.3 will provide
the VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY and
VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED enums and since we require
3.0.0 since Stein [1] we can drop the hasattr checks.

[1] I408baef12358a83921c4693b847a692f6c19e36f

Change-Id: I0981c0349f163120939c3ddb9aeac82a01ceacd0
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/649674/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']",3,743977f5470f39327cb93bc9cf083b3ec480d7f0,Bump_min_libvirt_and_QEMU_for_Stein,VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY = 7 ,,8,36
openstack%2Fnova~master~Id55fbb44eec67cba18293deb25ba4d54fbfd83bc,openstack/nova,master,Id55fbb44eec67cba18293deb25ba4d54fbfd83bc,libvirt: drop MIN_LIBVIRT_POSTCOPY_VERSION,MERGED,2019-04-03 16:38:51.000000000,2019-05-03 21:05:27.000000000,2019-05-03 21:05:27.000000000,"[{'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-03 16:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4b36d39f04ca405abb9ca69dbc29b3f77e17743', 'message': 'libvirt: drop MIN_LIBVIRT_POSTCOPY_VERSION\n\nChange I408baef12358a83921c4693b847a692f6c19e36f in Stein\nbumped the minimum required version of libvirt to 3.0.0\nso we can drop the minimum version check for post-copy\nsupport along with the related unit tests.\n\nChange-Id: Id55fbb44eec67cba18293deb25ba4d54fbfd83bc\n'}, {'number': 2, 'created': '2019-04-03 18:27:42.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3bcfb15a89df82f9cb9a3d62edb076566d049f78', 'message': 'libvirt: drop MIN_LIBVIRT_POSTCOPY_VERSION\n\nChange I408baef12358a83921c4693b847a692f6c19e36f in Stein\nbumped the minimum required version of libvirt to 3.0.0\nso we can drop the minimum version check for post-copy\nsupport along with the related unit tests.\n\nWhile in here, this fixes a typo in the help text for the\nlive_migration_permit_post_copy config option.\n\nChange-Id: Id55fbb44eec67cba18293deb25ba4d54fbfd83bc\n'}]",0,649671,3bcfb15a89df82f9cb9a3d62edb076566d049f78,22,14,2,6873,,,0,"libvirt: drop MIN_LIBVIRT_POSTCOPY_VERSION

Change I408baef12358a83921c4693b847a692f6c19e36f in Stein
bumped the minimum required version of libvirt to 3.0.0
so we can drop the minimum version check for post-copy
support along with the related unit tests.

While in here, this fixes a typo in the help text for the
live_migration_permit_post_copy config option.

Change-Id: Id55fbb44eec67cba18293deb25ba4d54fbfd83bc
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/649671/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,c4b36d39f04ca405abb9ca69dbc29b3f77e17743,Bump_min_libvirt_and_QEMU_for_Stein, def test_live_migration_permit_postcopy_true(self): def test_live_migration_permit_auto_converge_true(self): def test_live_migration_permit_auto_converge_and_post_copy_true(self):," @mock.patch.object(host.Host, 'has_min_version', return_value=True) def test_live_migration_permit_postcopy_true(self, host): @mock.patch.object(host.Host, 'has_min_version', return_value=True) def test_live_migration_permit_auto_converge_true(self, host): @mock.patch.object(host.Host, 'has_min_version', return_value=True) def test_live_migration_permit_auto_converge_and_post_copy_true(self, host): @mock.patch.object(host.Host, 'has_min_version', return_value=False) def test_live_migration_auto_converge_and_post_copy_true_old_libvirt( self, min_ver): self.flags(live_migration_permit_auto_converge=True, group='libvirt') self.flags(live_migration_permit_post_copy=True, group='libvirt') self._do_test_parse_migration_flags( lm_expected=(libvirt_driver.libvirt.VIR_MIGRATE_UNDEFINE_SOURCE | libvirt_driver.libvirt.VIR_MIGRATE_PERSIST_DEST | libvirt_driver.libvirt.VIR_MIGRATE_PEER2PEER | libvirt_driver.libvirt.VIR_MIGRATE_LIVE | libvirt_driver.libvirt.VIR_MIGRATE_AUTO_CONVERGE), bm_expected=(libvirt_driver.libvirt.VIR_MIGRATE_UNDEFINE_SOURCE | libvirt_driver.libvirt.VIR_MIGRATE_PERSIST_DEST | libvirt_driver.libvirt.VIR_MIGRATE_PEER2PEER | libvirt_driver.libvirt.VIR_MIGRATE_LIVE | libvirt_driver.libvirt.VIR_MIGRATE_NON_SHARED_INC | libvirt_driver.libvirt.VIR_MIGRATE_AUTO_CONVERGE)) min_ver.assert_called_with( lv_ver=libvirt_driver.MIN_LIBVIRT_POSTCOPY_VERSION) @mock.patch.object(host.Host, 'has_min_version', return_value=False) def test_live_migration_permit_postcopy_true_old_libvirt(self, host): self.flags(live_migration_permit_post_copy=True, group='libvirt') self._do_test_parse_migration_flags( lm_expected=(libvirt_driver.libvirt.VIR_MIGRATE_UNDEFINE_SOURCE | libvirt_driver.libvirt.VIR_MIGRATE_PERSIST_DEST | libvirt_driver.libvirt.VIR_MIGRATE_PEER2PEER | libvirt_driver.libvirt.VIR_MIGRATE_LIVE), bm_expected=(libvirt_driver.libvirt.VIR_MIGRATE_UNDEFINE_SOURCE | libvirt_driver.libvirt.VIR_MIGRATE_PERSIST_DEST | libvirt_driver.libvirt.VIR_MIGRATE_PEER2PEER | libvirt_driver.libvirt.VIR_MIGRATE_LIVE | libvirt_driver.libvirt.VIR_MIGRATE_NON_SHARED_INC)) ",6,61
openstack%2Fnova~stable%2Fstein~I4fe9df6b3789ae0365900d546d49121b99ea2a44,openstack/nova,stable/stein,I4fe9df6b3789ae0365900d546d49121b99ea2a44,Fix help for ironic.peer_list config,MERGED,2019-05-01 12:50:19.000000000,2019-05-03 20:43:33.000000000,2019-05-03 20:43:33.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-01 12:50:19.000000000', 'files': ['nova/conf/ironic.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b123b05a4866d4ad0868fba33964982f686ac57f', 'message': 'Fix help for ironic.peer_list config\n\nThis implied that the current host did not need to be in this list;\nhowever, it does.\n\nCloses-Bug: #1827094\nChange-Id: I4fe9df6b3789ae0365900d546d49121b99ea2a44\n(cherry picked from commit 674c004231a3f7696962d7a7bfa69b4b31af4de8)\n'}]",0,656632,b123b05a4866d4ad0868fba33964982f686ac57f,18,7,1,6873,,,0,"Fix help for ironic.peer_list config

This implied that the current host did not need to be in this list;
however, it does.

Closes-Bug: #1827094
Change-Id: I4fe9df6b3789ae0365900d546d49121b99ea2a44
(cherry picked from commit 674c004231a3f7696962d7a7bfa69b4b31af4de8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/656632/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/ironic.py'],1,b123b05a4866d4ad0868fba33964982f686ac57f,bug/1827094," help='List of hostnames for all nova-compute services (including ' 'this host) with this partition_key config value. ' 'Nodes matching the partition_key value will be distributed ' 'between all services specified here. ' 'If partition_key is unset, this option is ignored.'),"," help='List of hostnames for other nova-compute services with the same ' 'partition_key config value. Nodes matching the partition_key ' 'value will be distributed between this service and the other ' 'services specified here. If partition_key is unset, this option ' 'is ignored.'),",5,5
openstack%2Fopenstack-ansible~master~I462da749415ddbfa93288b7f841ed6385feaef14,openstack/openstack-ansible,master,I462da749415ddbfa93288b7f841ed6385feaef14,[DNM] debug clones,ABANDONED,2019-05-03 17:50:18.000000000,2019-05-03 20:41:25.000000000,,"[{'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 17:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ac119f2e7d0958e9ea4471aae444f4c54b1d468d', 'message': '[DNM] debug clones\n\nChange-Id: I462da749415ddbfa93288b7f841ed6385feaef14\n'}, {'number': 2, 'created': '2019-05-03 20:19:49.000000000', 'files': ['scripts/get-ansible-role-requirements.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/13c5aca9c016102b168d3805620e77afc4f9366a', 'message': '[DNM] debug clones\n\nDepends-On: I67ebe9e813c95a3a8bcf204678ddccbcea7a45cd\nChange-Id: I462da749415ddbfa93288b7f841ed6385feaef14\n'}]",0,656995,13c5aca9c016102b168d3805620e77afc4f9366a,7,2,2,17799,,,0,"[DNM] debug clones

Depends-On: I67ebe9e813c95a3a8bcf204678ddccbcea7a45cd
Change-Id: I462da749415ddbfa93288b7f841ed6385feaef14
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/656995/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/get-ansible-role-requirements.yml', 'zuul.d/project.yaml']",2,ac119f2e7d0958e9ea4471aae444f4c54b1d468d,test-linters, check: jobs: - openstack-ansible-linters, templates: - deploy-guide-jobs - openstack-ansible-deploy-base-jobs - openstack-ansible-deploy-aio_lxc-jobs - openstack-ansible-deploy-aio_distro_lxc-jobs - openstack-ansible-deploy-aio_metal-jobs - openstack-ansible-deploy-aio_distro_metal-jobs - openstack-ansible-deploy-ceph-jobs - openstack-ansible-deploy-proxy-jobs - openstack-ansible-deploy-distro_ceph-jobs - publish-openstack-docs-pti,10,11
openstack%2Foslo.config~master~I292921cbee1f24857f0ee32cc010a8e3e6f1b8ad,openstack/oslo.config,master,I292921cbee1f24857f0ee32cc010a8e3e6f1b8ad,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:34.000000000,2019-05-03 20:36:15.000000000,2019-05-03 20:01:19.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 05:25:34.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/034a90d005549e98e5fcd6c481ec79fe1d99bc22', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I292921cbee1f24857f0ee32cc010a8e3e6f1b8ad\n'}]",1,654729,034a90d005549e98e5fcd6c481ec79fe1d99bc22,8,2,1,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I292921cbee1f24857f0ee32cc010a8e3e6f1b8ad
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/29/654729/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,034a90d005549e98e5fcd6c481ec79fe1d99bc22,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fcinder~master~I78877d210b350d6132009397c0a7f27dc0f8cf54,openstack/cinder,master,I78877d210b350d6132009397c0a7f27dc0f8cf54,Update Brocade FCZM driver's driver options,MERGED,2019-03-19 16:13:58.000000000,2019-05-03 20:30:41.000000000,2019-05-03 20:30:41.000000000,"[{'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-03-19 16:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82a468d3220eefad3914e479e535181a40f44267', 'message': ""Update Brocade FCZM driver's driver options\n\nThis patch updates the get_driver_options to include\nthe missing brocade fczm options for documentation.\n\nChange-Id: I78877d210b350d6132009397c0a7f27dc0f8cf54\n""}, {'number': 2, 'created': '2019-03-19 22:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77f0b4172488571b678d479dad100705243fd876', 'message': ""Update Brocade FCZM driver's driver options\n\nThis patch updates the get_driver_options to include\nthe missing brocade fczm options for documentation.\n\nChange-Id: I78877d210b350d6132009397c0a7f27dc0f8cf54\n""}, {'number': 3, 'created': '2019-04-16 23:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96baadf5338f6da16984e02dea20e21843ddb7b3', 'message': ""Update Brocade FCZM driver's driver options\n\nThis patch updates the get_driver_options to include\nthe missing brocade fczm options for documentation.\n\nChange-Id: I78877d210b350d6132009397c0a7f27dc0f8cf54\n""}, {'number': 4, 'created': '2019-05-02 04:37:11.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b7cde39026ccbe349b9bc985df0889c31cded86', 'message': ""Update Brocade FCZM driver's driver options\n\nThis patch updates the get_driver_options to include\nthe missing brocade fczm options for documentation.\n\nChange-Id: I78877d210b350d6132009397c0a7f27dc0f8cf54\n""}]",3,644608,3b7cde39026ccbe349b9bc985df0889c31cded86,167,43,4,5997,,,0,"Update Brocade FCZM driver's driver options

This patch updates the get_driver_options to include
the missing brocade fczm options for documentation.

Change-Id: I78877d210b350d6132009397c0a7f27dc0f8cf54
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/644608/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py'],1,82a468d3220eefad3914e479e535181a40f44267,brcd_driver_opts, return fabric_opts.brcd.zone_opts + brcd_opts, return brcd_opts,1,1
openstack%2Fneutron~stable%2Frocky~I6ecd86089643f4eb98865a8d8d0dec4359564026,openstack/neutron,stable/rocky,I6ecd86089643f4eb98865a8d8d0dec4359564026,Not process port forwarding if no snat functionality,MERGED,2019-04-30 01:39:50.000000000,2019-05-03 20:30:38.000000000,2019-05-03 20:30:37.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-30 01:39:50.000000000', 'files': ['neutron/agent/l3/extensions/port_forwarding.py', 'neutron/tests/unit/agent/l3/extensions/test_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b2dc84959f0a02273de6e296a6c9a9a7a20c6ec', 'message': ""Not process port forwarding if no snat functionality\n\nIf dvr router is processed on a 'dvr_snat' node but without snat\nfunctionality, the port forwarding should not be processed on\nthis host since the snat-namespace will never be created. For\ninstance, the isolated DHCP node which only have the namespace\nof qrouter. The l3 agent will process this router, but should\nnot do any port forwarding actions.\n\nChange-Id: I6ecd86089643f4eb98865a8d8d0dec4359564026\nCloses-Bug: #1825088\n(cherry picked from commit 4082e280c8574708ec644f9eaa1cdb4a2169141c)\n""}]",0,656429,9b2dc84959f0a02273de6e296a6c9a9a7a20c6ec,8,4,1,9531,,,0,"Not process port forwarding if no snat functionality

If dvr router is processed on a 'dvr_snat' node but without snat
functionality, the port forwarding should not be processed on
this host since the snat-namespace will never be created. For
instance, the isolated DHCP node which only have the namespace
of qrouter. The l3 agent will process this router, but should
not do any port forwarding actions.

Change-Id: I6ecd86089643f4eb98865a8d8d0dec4359564026
Closes-Bug: #1825088
(cherry picked from commit 4082e280c8574708ec644f9eaa1cdb4a2169141c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/656429/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/extensions/port_forwarding.py', 'neutron/tests/unit/agent/l3/extensions/test_port_forwarding.py']",2,9b2dc84959f0a02273de6e296a6c9a9a7a20c6ec,bug/1825088-stable/stein-stable/rocky," def test_check_if_need_process_no_snat_ns(self): ex_gw_port = {'id': _uuid()} router_id = _uuid() router = {'id': router_id, 'gw_port': ex_gw_port, 'ha': False, 'distributed': True} router_info = l3router.RouterInfo( self.agent, router_id, router, **self.ri_kwargs) router_info.agent_conf.agent_mode = lib_const.L3_AGENT_MODE_DVR_SNAT router_info.fip_managed_by_port_forwardings = True router_info.snat_namespace = mock.Mock() router_info.snat_namespace.exists.return_value = False self.assertFalse(self.fip_pf_ext._check_if_need_process(router_info)) ",,20,0
openstack%2Fneutron~stable%2Fstein~I6ecd86089643f4eb98865a8d8d0dec4359564026,openstack/neutron,stable/stein,I6ecd86089643f4eb98865a8d8d0dec4359564026,Not process port forwarding if no snat functionality,MERGED,2019-04-30 01:39:38.000000000,2019-05-03 20:30:34.000000000,2019-05-03 20:30:34.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-30 01:39:38.000000000', 'files': ['neutron/agent/l3/extensions/port_forwarding.py', 'neutron/tests/unit/agent/l3/extensions/test_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72077c79dac069193c1ea0eec76c06ce66706cc3', 'message': ""Not process port forwarding if no snat functionality\n\nIf dvr router is processed on a 'dvr_snat' node but without snat\nfunctionality, the port forwarding should not be processed on\nthis host since the snat-namespace will never be created. For\ninstance, the isolated DHCP node which only have the namespace\nof qrouter. The l3 agent will process this router, but should\nnot do any port forwarding actions.\n\nChange-Id: I6ecd86089643f4eb98865a8d8d0dec4359564026\nCloses-Bug: #1825088\n(cherry picked from commit 4082e280c8574708ec644f9eaa1cdb4a2169141c)\n""}]",0,656428,72077c79dac069193c1ea0eec76c06ce66706cc3,9,4,1,9531,,,0,"Not process port forwarding if no snat functionality

If dvr router is processed on a 'dvr_snat' node but without snat
functionality, the port forwarding should not be processed on
this host since the snat-namespace will never be created. For
instance, the isolated DHCP node which only have the namespace
of qrouter. The l3 agent will process this router, but should
not do any port forwarding actions.

Change-Id: I6ecd86089643f4eb98865a8d8d0dec4359564026
Closes-Bug: #1825088
(cherry picked from commit 4082e280c8574708ec644f9eaa1cdb4a2169141c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/656428/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/extensions/port_forwarding.py', 'neutron/tests/unit/agent/l3/extensions/test_port_forwarding.py']",2,72077c79dac069193c1ea0eec76c06ce66706cc3,bug/1825088-stable/stein," def test_check_if_need_process_no_snat_ns(self): ex_gw_port = {'id': _uuid()} router_id = _uuid() router = {'id': router_id, 'gw_port': ex_gw_port, 'ha': False, 'distributed': True} router_info = l3router.RouterInfo( self.agent, router_id, router, **self.ri_kwargs) router_info.agent_conf.agent_mode = lib_const.L3_AGENT_MODE_DVR_SNAT router_info.fip_managed_by_port_forwardings = True router_info.snat_namespace = mock.Mock() router_info.snat_namespace.exists.return_value = False self.assertFalse(self.fip_pf_ext._check_if_need_process(router_info)) ",,20,0
openstack%2Fnova~master~I8773b50280097539e9d7ddfc1c8ff2ee382a885c,openstack/nova,master,I8773b50280097539e9d7ddfc1c8ff2ee382a885c,Trivial: use default value in next() func,MERGED,2019-04-17 09:09:08.000000000,2019-05-03 20:30:29.000000000,2019-05-03 20:30:29.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-17 09:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed0485230db7a08c157f8bbc267e0be9d6d96307', 'message': 'WIP: FUP on use-placement-in-tree series\n\nWIP\n\nChange-Id: I8773b50280097539e9d7ddfc1c8ff2ee382a885c\n'}, {'number': 2, 'created': '2019-04-21 02:50:42.000000000', 'files': ['nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9a7eee1592d84c732415da639c85ce4b262eefab', 'message': 'Trivial: use default value in next() func\n\nThis patch replaces StopIteration exception handler for\nnext() function setting the default value in the next()\nargument.\n\nChange-Id: I8773b50280097539e9d7ddfc1c8ff2ee382a885c\n'}]",1,653362,9a7eee1592d84c732415da639c85ce4b262eefab,47,13,2,25625,,,0,"Trivial: use default value in next() func

This patch replaces StopIteration exception handler for
next() function setting the default value in the next()
argument.

Change-Id: I8773b50280097539e9d7ddfc1c8ff2ee382a885c
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/653362/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/db/api.py', 'nova/scheduler/host_manager.py', 'nova/db/sqlalchemy/api.py']",4,ed0485230db7a08c157f8bbc267e0be9d6d96307,trivial, raise exception.ComputeNodeNotFound(node=hypervisor_hostname), raise exception.ComputeHostNotFound(host=hypervisor_hostname),14,10
openstack%2Foslo.utils~master~I90c0338f37fb6c8ed3b555b2d9d6b76aff6dad76,openstack/oslo.utils,master,I90c0338f37fb6c8ed3b555b2d9d6b76aff6dad76,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:46.000000000,2019-05-03 20:29:24.000000000,2019-05-03 20:29:24.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-23 05:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/60310228c2f405ba2c77302b427e2fb3e9de66b0', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I90c0338f37fb6c8ed3b555b2d9d6b76aff6dad76\n'}, {'number': 2, 'created': '2019-04-23 05:36:00.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/fc36aa36b7ed2b403643d9df479710641b3246d8', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org counterparts.\n\nChange-Id: I90c0338f37fb6c8ed3b555b2d9d6b76aff6dad76\nCloses-Bug: #1825935\n'}]",1,654742,fc36aa36b7ed2b403643d9df479710641b3246d8,10,5,2,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Thorough replacement of git.openstack.org URLs with their opendev.org counterparts.

Change-Id: I90c0338f37fb6c8ed3b555b2d9d6b76aff6dad76
Closes-Bug: #1825935
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/42/654742/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,60310228c2f405ba2c77302b427e2fb3e9de66b0,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Foslo.log~stable%2Focata~Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb,openstack/oslo.log,stable/ocata,Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb,Use upper constraints from opendev.org,MERGED,2019-04-25 09:53:05.000000000,2019-05-03 20:26:49.000000000,2019-05-03 20:26:49.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 09:53:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/3e612420bfca53e9d50c4eefb1ade7795f5ae653', 'message': 'Use upper constraints from opendev.org\n\noslo.cache uses a simple curl command in its tox_install.sh\nto fetch the upper-constraints, and curl does not follow redirects\nthat are now in place due to move to opendev.org.\n\nThis breaks running tox-based tests w/o overriding the\nUPPER_CONSTRAINTS_FILE which upstream CI does,\nfor example running tox locally.\n\nChange-Id: Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb\n(cherry picked from commit 6eceb160eaaebbc6ea04768f62876738aa61c2d1)\n'}]",0,655653,3e612420bfca53e9d50c4eefb1ade7795f5ae653,7,3,1,9542,,,0,"Use upper constraints from opendev.org

oslo.cache uses a simple curl command in its tox_install.sh
to fetch the upper-constraints, and curl does not follow redirects
that are now in place due to move to opendev.org.

This breaks running tox-based tests w/o overriding the
UPPER_CONSTRAINTS_FILE which upstream CI does,
for example running tox locally.

Change-Id: Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb
(cherry picked from commit 6eceb160eaaebbc6ea04768f62876738aa61c2d1)
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/53/655653/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3e612420bfca53e9d50c4eefb1ade7795f5ae653,opendev-u-c,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/stable/ocata/upper-constraints.txt} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/ocata} {opts} {packages},1,1
openstack%2Foslo.log~master~I0307665d468ac90b5208aadf6f85373bc339b44d,openstack/oslo.log,master,I0307665d468ac90b5208aadf6f85373bc339b44d,Add TRAIN to deprecated releases,MERGED,2019-04-12 05:28:22.000000000,2019-05-03 20:26:49.000000000,2019-05-03 20:26:49.000000000,"[{'_account_id': 1736}, {'_account_id': 8482}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-12 05:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/7c8a60ec2743abf0a00b67e3dbbce772529cb5ac', 'message': 'Add TRAIN to deprecated releases\n\nKeystone uses versionutils for marking config settings\nas deprecated and currently TRAIN is missing as an option.\n\nThis change adds the same.\n\nChange-Id: I0307665d468ac90b5208aadf6f85373bc339b44d\n'}, {'number': 2, 'created': '2019-04-12 05:31:41.000000000', 'files': ['oslo_log/versionutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/25a9468850975838ced86027b4c9a5b633df0bf2', 'message': 'Add TRAIN to deprecated releases\n\nKeystone uses versionutils for marking config settings\nas deprecated and currently TRAIN is missing as an option.\n\nThis change adds the same.\n\nChange-Id: I0307665d468ac90b5208aadf6f85373bc339b44d\n'}]",0,651970,25a9468850975838ced86027b4c9a5b633df0bf2,10,5,2,27621,,,0,"Add TRAIN to deprecated releases

Keystone uses versionutils for marking config settings
as deprecated and currently TRAIN is missing as an option.

This change adds the same.

Change-Id: I0307665d468ac90b5208aadf6f85373bc339b44d
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/70/651970/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/versionutils.py'],1,7c8a60ec2743abf0a00b67e3dbbce772529cb5ac,," 'T': 'Train',",,1,0
openstack%2Fpython-openstackclient~master~I02c06e10a26eb38ddecb70f970cfcbfad962201c,openstack/python-openstackclient,master,I02c06e10a26eb38ddecb70f970cfcbfad962201c,Document that server dump create requires 2.17,MERGED,2019-05-01 22:00:32.000000000,2019-05-03 20:21:13.000000000,2019-05-03 20:21:13.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 22:00:32.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/42cd4b2e40455591de42439352ad1516bc1fa788', 'message': 'Document that server dump create requires 2.17\n\nThere is no indication to the user in the command\nhelp that they have to use 2.17 or greater [1] to run\nthe ""openstack server dump create"" command. This\nmentions that requirement in the help of the command.\n\n[1] https://developer.openstack.org/api-ref/compute/#trigger-crash-dump-in-server\n\nChange-Id: I02c06e10a26eb38ddecb70f970cfcbfad962201c\n'}]",0,656713,42cd4b2e40455591de42439352ad1516bc1fa788,7,3,1,6873,,,0,"Document that server dump create requires 2.17

There is no indication to the user in the command
help that they have to use 2.17 or greater [1] to run
the ""openstack server dump create"" command. This
mentions that requirement in the help of the command.

[1] https://developer.openstack.org/api-ref/compute/#trigger-crash-dump-in-server

Change-Id: I02c06e10a26eb38ddecb70f970cfcbfad962201c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/13/656713/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,42cd4b2e40455591de42439352ad1516bc1fa788,trigger-crash-dump-doc, This command requires ``--os-compute-api-version`` 2.17 or greater.,,2,0
openstack%2Foslo.service~master~I4e964925d5a024545fc99f7fddbea3d9605b30d3,openstack/oslo.service,master,I4e964925d5a024545fc99f7fddbea3d9605b30d3,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:45.000000000,2019-05-03 20:21:04.000000000,2019-05-03 20:21:04.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 05:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/bfd3b5de2bb02662a70d79ee6f45c01deefdc447', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4e964925d5a024545fc99f7fddbea3d9605b30d3\n'}, {'number': 2, 'created': '2019-04-23 05:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/adbdd7a74b9cd4bab5bace33af9479bbee014e58', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4e964925d5a024545fc99f7fddbea3d9605b30d3\n'}, {'number': 3, 'created': '2019-04-30 05:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/d50842b21973c33d9b97f66eef46ae6fcefc7771', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4e964925d5a024545fc99f7fddbea3d9605b30d3\n'}, {'number': 4, 'created': '2019-04-30 05:48:58.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/reference/eventlet_backdoor.rst', 'doc/source/install/index.rst', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/539885155a7ab24f1cdd9cf9b74e26b3a9d47fc6', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4e964925d5a024545fc99f7fddbea3d9605b30d3\n'}]",1,654740,539885155a7ab24f1cdd9cf9b74e26b3a9d47fc6,11,3,4,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I4e964925d5a024545fc99f7fddbea3d9605b30d3
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/40/654740/4 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,bfd3b5de2bb02662a70d79ee6f45c01deefdc447,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Foslo.db~master~Iff5086fee8c94325aa16a3b5727dac66a64478ec,openstack/oslo.db,master,Iff5086fee8c94325aa16a3b5727dac66a64478ec,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:32.000000000,2019-05-03 20:20:47.000000000,2019-05-03 20:20:47.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-04-23 05:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f06280b0c2756dcfd084901fe4f1f173054dfd39', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Iff5086fee8c94325aa16a3b5727dac66a64478ec\n'}, {'number': 2, 'created': '2019-04-23 05:29:27.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/cc5c0e36cd7cf43bac4468bf4dadddb479fabd6a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Iff5086fee8c94325aa16a3b5727dac66a64478ec\nCloses-Bug: #1825933\n'}]",0,654725,cc5c0e36cd7cf43bac4468bf4dadddb479fabd6a,9,4,2,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Iff5086fee8c94325aa16a3b5727dac66a64478ec
Closes-Bug: #1825933
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/25/654725/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,f06280b0c2756dcfd084901fe4f1f173054dfd39,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fmistral-dashboard~master~I739cd53efa4f685d721dc4c9095d5df273b2acae,openstack/mistral-dashboard,master,I739cd53efa4f685d721dc4c9095d5df273b2acae,Switch to stestr,MERGED,2018-07-10 10:06:58.000000000,2019-05-03 20:13:09.000000000,2019-05-03 20:13:09.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-07-10 10:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/8c55e98160b78b2b31c30c6cd568c296c67dd698', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I739cd53efa4f685d721dc4c9095d5df273b2acae\n""}, {'number': 2, 'created': '2018-07-10 10:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/e90fd417c4a412ba0fd6c8f693f96baab529e113', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I739cd53efa4f685d721dc4c9095d5df273b2acae\n""}, {'number': 3, 'created': '2018-07-10 11:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/3775a1c93ed345382db2f836b87d2f6558c3a9dc', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I739cd53efa4f685d721dc4c9095d5df273b2acae\n""}, {'number': 4, 'created': '2018-07-24 03:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/b9ed689f29e077d380f5c1f224773d9facd76e03', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I739cd53efa4f685d721dc4c9095d5df273b2acae\n""}, {'number': 5, 'created': '2018-11-02 09:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/2cfcbf676edad20f3f03014bffcff6c76213da2d', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I739cd53efa4f685d721dc4c9095d5df273b2acae\n""}, {'number': 6, 'created': '2019-05-03 19:55:09.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/fc53013471e08288d12cd0539c46d58a2de61bac', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I739cd53efa4f685d721dc4c9095d5df273b2acae\n""}]",0,581304,fc53013471e08288d12cd0539c46d58a2de61bac,17,3,6,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I739cd53efa4f685d721dc4c9095d5df273b2acae
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/04/581304/5 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'tox.ini', '.stestr.conf']",4,8c55e98160b78b2b31c30c6cd568c296c67dd698,stestr,[DEFAULT] test_path=./mistraldashboard/tests top_dir=./ ,,13,2
openstack%2Ftripleo-heat-templates~master~Ic15a077c4ea6ea67fa5ed5ae8e73bfd5bddeb1e2,openstack/tripleo-heat-templates,master,Ic15a077c4ea6ea67fa5ed5ae8e73bfd5bddeb1e2,Enable fluentd on multinode-containers scenario,ABANDONED,2018-08-29 07:15:22.000000000,2019-05-03 20:10:04.000000000,,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-29 07:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/376fd8179b37c554a2859a4e002169efca9d0747', 'message': 'Enable fluentd on multinode-containers scenario\n\nChange-Id: Ic15a077c4ea6ea67fa5ed5ae8e73bfd5bddeb1e2\n'}, {'number': 2, 'created': '2018-09-13 08:15:14.000000000', 'files': ['README.rst', 'ci/environments/multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e8e1af928878d972a3bf4c26108f0e8804dce24', 'message': 'Enable fluentd on multinode-containers scenario\n\nChange-Id: Ic15a077c4ea6ea67fa5ed5ae8e73bfd5bddeb1e2\n'}]",0,597403,0e8e1af928878d972a3bf4c26108f0e8804dce24,16,7,2,22954,,,0,"Enable fluentd on multinode-containers scenario

Change-Id: Ic15a077c4ea6ea67fa5ed5ae8e73bfd5bddeb1e2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/597403/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/multinode-containers.yaml'],1,376fd8179b37c554a2859a4e002169efca9d0747,log_path_fix, OS::TripleO::Services::Fluentd: ../../docker/services/fluentd.yaml - OS::TripleO::Services::Fluentd,,2,0
openstack%2Fironic-ui~stable%2Fstein~I02de1b094eac5ea2f37588b7fd5cc4cf74c701ea,openstack/ironic-ui,stable/stein,I02de1b094eac5ea2f37588b7fd5cc4cf74c701ea,Imported Translations from Zanata,MERGED,2019-05-03 08:55:59.000000000,2019-05-03 19:59:22.000000000,2019-05-03 19:59:22.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-05-03 08:55:59.000000000', 'files': ['ironic_ui/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/d9bd177319a9198834cbaa7f47025090828bedad', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I02de1b094eac5ea2f37588b7fd5cc4cf74c701ea\n'}]",0,656932,d9bd177319a9198834cbaa7f47025090828bedad,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I02de1b094eac5ea2f37588b7fd5cc4cf74c701ea
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/32/656932/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_ui/locale/ko_KR/LC_MESSAGES/django.po'],1,d9bd177319a9198834cbaa7f47025090828bedad,zanata/translations,"# Eunseop Shin <kairos9603@khu.ac.kr>, 2016. #zanata # ByungYeol Woo <wby1089@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: ironic-ui VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2019-05-02 08:39+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-05-01 10:51+0000\n"" ""Last-Translator: ByungYeol Woo <wby1089@gmail.com>\n"" ""Language-Team: Korean (South Korea)\n"" ""Language: ko_KR\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid ""Admin"" msgstr ""관리자"" msgid ""Ironic Bare Metal Provisioning"" msgstr ""Ironic 베어메탈 프로비저닝"" msgid ""Node Details"" msgstr ""노드 세부사항"" msgid ""System"" msgstr ""시스템"" ",,28,0
openstack%2Fkuryr-tempest-plugin~master~I8a0a4b3a8ef18072eef0db05eb98eb1f7ca57553,openstack/kuryr-tempest-plugin,master,I8a0a4b3a8ef18072eef0db05eb98eb1f7ca57553,Create/delete network policy in non-default namespace,MERGED,2019-04-14 12:14:54.000000000,2019-05-03 19:56:01.000000000,2019-05-03 19:56:01.000000000,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-04-14 12:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/da5a3ec10f4f880629fd3a504f6b25558beac0ad', 'message': 'Create/delete network policy in non-default namespace\n\nCreate network policy on non-default namespace and make sure that\nCRD and SG were created for that policy\nRemove network policy in non-default namespace and make sure\nthe network policy CRD and SG were deleted\n\nChange-Id: I8a0a4b3a8ef18072eef0db05eb98eb1f7ca57553\n'}, {'number': 2, 'created': '2019-04-16 12:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/910e23c64414e4daf93c6753839120222c686932', 'message': 'Create/delete network policy in non-default namespace\n\nCreate network policy on non-default namespace and make sure that\nCRD and SG were created for that policy\nRemove network policy in non-default namespace and make sure\nthe network policy CRD and SG were deleted\n\nChange-Id: I8a0a4b3a8ef18072eef0db05eb98eb1f7ca57553\n'}, {'number': 3, 'created': '2019-04-18 12:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/339e26cd0fe625d9ba8e00c569de67e210a2dac2', 'message': 'Create/delete network policy in non-default namespace\n\nCreate network policy on non-default namespace and make sure that\nCRD and SG were created for that policy\nRemove network policy in non-default namespace and make sure\nthe network policy CRD and SG were deleted\n\nChange-Id: I8a0a4b3a8ef18072eef0db05eb98eb1f7ca57553\n'}, {'number': 4, 'created': '2019-04-28 13:43:03.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/c9ef83d0fb6335a8728a8c2fe796d2f30168295b', 'message': 'Create/delete network policy in non-default namespace\n\nCreate network policy on non-default namespace and make sure that\nCRD and SG were created for that policy\nRemove network policy in non-default namespace and make sure\nthe network policy CRD and SG were deleted\n\nChange-Id: I8a0a4b3a8ef18072eef0db05eb98eb1f7ca57553\n'}]",0,652276,c9ef83d0fb6335a8728a8c2fe796d2f30168295b,28,5,4,21302,,,0,"Create/delete network policy in non-default namespace

Create network policy on non-default namespace and make sure that
CRD and SG were created for that policy
Remove network policy in non-default namespace and make sure
the network policy CRD and SG were deleted

Change-Id: I8a0a4b3a8ef18072eef0db05eb98eb1f7ca57553
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/76/652276/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_network_policy.py'],1,da5a3ec10f4f880629fd3a504f6b25558beac0ad,create_delete_np_non_default_ns," @decorators.idempotent_id('24577a9b-1d46-419b-8b60-da3c49d777c3') def test_create_delete_network_policy_non_default_ns(self): ns_name, ns = self.create_namespace() match_labels = {'role': 'db'} np = self.create_network_policy(match_labels=match_labels, namespace=ns_name) LOG.debug(""Creating network policy %s"" % np) network_policy_name = np.metadata.name kuryr_netpolicy_crd_name = 'np-' + network_policy_name network_policies = self.list_network_policies() kuryrnetpolicies = '' start = time.time() while time.time() - start < TIMEOUT_PERIOD: try: kuryrnetpolicies = self.get_kuryr_netpolicy_crds( name=kuryr_netpolicy_crd_name) break except kubernetes.client.rest.ApiException: time.sleep(1) continue sg_id = kuryrnetpolicies['spec']['securityGroupId'] sgs = self.list_security_groups(fields='id') sg_ids = [sg['id'] for sg in sgs] self.assertIn(network_policy_name, network_policies) self.assertEqual(kuryr_netpolicy_crd_name, str(kuryrnetpolicies['metadata']['name'])) self.assertIn(sg_id, sg_ids) self.delete_network_policy(network_policy_name, namespace=ns_name) start = time.time() while time.time() - start < TIMEOUT_PERIOD: time.sleep(1) if network_policy_name in self.list_network_policies(): continue try: self.get_kuryr_netpolicy_crds(name=kuryr_netpolicy_crd_name) except kubernetes.client.rest.ApiException: break sgs_after = self.list_security_groups(fields='id') sg_ids_after = [sg['id'] for sg in sgs_after] self.assertNotIn(sg_id, sg_ids_after)",,41,0
openstack%2Fswift~feature%2Flosf~I9dcd20f081a798b06e62ac20b9ab6d4667539c3c,openstack/swift,feature/losf,I9dcd20f081a798b06e62ac20b9ab6d4667539c3c,WIP: prepare losf dependencies on the gate,ABANDONED,2019-04-29 23:38:06.000000000,2019-05-03 19:49:44.000000000,,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 23:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/293fecaee3f175fd3694fcff216cc740d9dbaf2e', 'message': 'WIP: prepare losf dependencies on the gate\n\nChange-Id: I9dcd20f081a798b06e62ac20b9ab6d4667539c3c\n'}, {'number': 2, 'created': '2019-04-30 18:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/44cef2e6ad77a3685e5ea6b6ab14d617a55a3e97', 'message': 'WIP: prepare losf dependencies on the gate\n\nChange-Id: I9dcd20f081a798b06e62ac20b9ab6d4667539c3c\n'}, {'number': 3, 'created': '2019-04-30 21:05:11.000000000', 'files': ['.zuul.yaml', 'tools/playbooks/common/install_losf_dependencies.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/d66cf756d77b1ef907fef29fa0d478c5b1659bd9', 'message': 'WIP: prepare losf dependencies on the gate\n\nChange-Id: I9dcd20f081a798b06e62ac20b9ab6d4667539c3c\n'}]",0,656424,d66cf756d77b1ef907fef29fa0d478c5b1659bd9,10,2,3,4608,,,0,"WIP: prepare losf dependencies on the gate

Change-Id: I9dcd20f081a798b06e62ac20b9ab6d4667539c3c
",git fetch https://review.opendev.org/openstack/swift refs/changes/24/656424/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tools/playbooks/common/install_losf_dependencies.yaml']",2,293fecaee3f175fd3694fcff216cc740d9dbaf2e,,"# Copyright (c) 2018 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This might be just a temporal, we may want to remove this and take # another approach for some items but this is needed to test the make # file and dependency installation - hosts: all tasks: # install cmake 3.14, cmake must be > 3.9 for losf build but xenial # is too stale. Perhaps we could skip this section after we change # the env to bionic - name: download cmake unarchive: src: https://github.com/Kitware/CMake/releases/download/v3.14.3/cmake-3.14.3.tar.gz dest: {{ ansible_env.HOME }} remote_src: yes - name: bootstrap installation shell: ./bootstrap args: chdir: {{ ansible_env.HOME }}/cmake-3.14 - name: make cmake make: chdir: {{ ansible_env.HOME }}/cmake-3.14 - name: install cmake make: target: install chdir: {{ ansible_env.HOME }}/cmake-3.14 become: true # setup golang here - name: download golang package and unarchive unarchive: src: https://dl.google.com/go/go1.12.4.linux-amd64.tar.gz dest: /usr/local remote_src: yes become: true - name: configure PATH to enable golang system-wide lineinfile: path: /etc/profile line: 'export PATH=$PATH:/usr/local/go/bin' state: present become: true ",,79,0
openstack%2Fopenstack-helm~master~I010b4bfb4c6decd265a08ed7d7060a53785a6c97,openstack/openstack-helm,master,I010b4bfb4c6decd265a08ed7d7060a53785a6c97,[WIP] Update Ceph deploy script after chart cleanup,ABANDONED,2018-10-05 23:57:51.000000000,2019-05-03 19:45:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 28372}]","[{'number': 1, 'created': '2018-10-05 23:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a595bfe1725a7feeab075718c6168e6fdb55b319', 'message': '[WIP] Ceph-rgw cleanup - update deploy script\n\nChange-Id: I010b4bfb4c6decd265a08ed7d7060a53785a6c97\n'}, {'number': 2, 'created': '2018-10-06 00:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/648260e5014ef88378f17d6e51efb29bdf9b5c8c', 'message': '[WIP] Ceph-rgw cleanup - update deploy script\n\nChange-Id: I010b4bfb4c6decd265a08ed7d7060a53785a6c97\n'}, {'number': 3, 'created': '2018-10-06 14:28:00.000000000', 'files': ['tools/deployment/armada/multinode/armada-osh.yaml', 'tools/deployment/developer/ceph/110-ceph-radosgateway.sh', 'tools/deployment/armada/multinode/armada-ceph.yaml', 'tools/deployment/developer/ceph/045-ceph-ns-activate.sh', 'tools/deployment/multinode/090-ceph-radosgateway.sh', 'tools/deployment/developer/ceph/040-ceph.sh', 'tools/deployment/multinode/040-ceph-ns-activate.sh', 'tools/deployment/multinode/030-ceph.sh', 'tools/deployment/armada/multinode/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3c660ded618e2867de0b4c14c845e4c6e4c6582f', 'message': '[WIP] Update Ceph deploy script after chart cleanup\n\nChange-Id: I010b4bfb4c6decd265a08ed7d7060a53785a6c97\n'}]",0,608385,3c660ded618e2867de0b4c14c845e4c6e4c6582f,6,2,3,24165,,,0,"[WIP] Update Ceph deploy script after chart cleanup

Change-Id: I010b4bfb4c6decd265a08ed7d7060a53785a6c97
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/608385/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/armada/multinode/armada-osh.yaml', 'tools/deployment/developer/ceph/110-ceph-radosgateway.sh', 'tools/deployment/armada/multinode/armada-ceph.yaml', 'tools/deployment/developer/ceph/045-ceph-ns-activate.sh', 'tools/deployment/multinode/090-ceph-radosgateway.sh', 'tools/deployment/developer/ceph/040-ceph.sh', 'tools/deployment/multinode/040-ceph-ns-activate.sh', 'tools/deployment/multinode/030-ceph.sh', 'tools/deployment/armada/multinode/armada-lma.yaml']",9,a595bfe1725a7feeab075718c6168e6fdb55b319,ceph-rgw-cleanup,, object_store: namespace: ceph rgw_keystone_user_and_endpoints: False conf: rgw_ks: enabled: True,2,89
openstack%2Fopenstack-helm-infra~master~I9932c15b36ec76ae3ce95ffcbb02b51e2a81b724,openstack/openstack-helm-infra,master,I9932c15b36ec76ae3ce95ffcbb02b51e2a81b724,[WIP] Ceph-RGW chart cleanup.,ABANDONED,2018-10-05 23:01:43.000000000,2019-05-03 19:45:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 24165}, {'_account_id': 28372}]","[{'number': 1, 'created': '2018-10-05 23:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a8fef575f3d60976196c75961b527dbb748f29e9', 'message': '[WIP] Ceph-RGW chart cleanup.\n\nChange-Id: I9932c15b36ec76ae3ce95ffcbb02b51e2a81b724\n'}, {'number': 2, 'created': '2018-10-05 23:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15f778379f4d0d9095debc427337e0510457c5c3', 'message': '[WIP] Ceph-RGW chart cleanup.\n\n- With this ps, rgw can now be\nconfigured/deployed based on following\nconf:\n  rgw_ks:\n    enabled: false\n  rgw_s3:\n    enabled: true\nOne of these should be false and other as true.\n\nChange-Id: I9932c15b36ec76ae3ce95ffcbb02b51e2a81b724\n'}, {'number': 3, 'created': '2018-10-06 14:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f827a423620fc672843d6592e3dd4cd46eac06e', 'message': '[WIP] Ceph-RGW chart cleanup.\n\n- With this ps, rgw can now be\nconfigured/deployed based on following\nconf:\n  rgw_ks:\n    enabled: false\n  rgw_s3:\n    enabled: true\nOne of these should be false and other as true.\n\nChange-Id: I9932c15b36ec76ae3ce95ffcbb02b51e2a81b724\n'}, {'number': 4, 'created': '2018-10-07 07:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/593808c3361c759ee31eb8ee1bf14887fe1167c0', 'message': '[WIP] Ceph-RGW chart cleanup.\n\n- With this ps, rgw can now be\nconfigured/deployed based on following\nconf:\n  rgw_ks:\n    enabled: false\n  rgw_s3:\n    enabled: true\nOne of these should be false and other as true.\n\nChange-Id: I9932c15b36ec76ae3ce95ffcbb02b51e2a81b724\n'}, {'number': 5, 'created': '2018-10-16 17:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d1cebcddb90c208990ffb6a463a238800c007f2', 'message': '[WIP] Ceph-RGW chart cleanup.\n\n- With this ps, rgw can now be\nconfigured/deployed based on following\nconf:\n  rgw_ks:\n    enabled: false\n  rgw_s3:\n    enabled: true\nOne of these should be false and other as true.\n\nChange-Id: I9932c15b36ec76ae3ce95ffcbb02b51e2a81b724\n'}, {'number': 6, 'created': '2018-10-16 21:31:16.000000000', 'files': ['ceph-rgw/templates/configmap-bin.yaml', 'ceph-rgw/templates/service-ingress-rgw.yaml', 'ceph-rgw/templates/job-ks-user.yaml', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/configmap-bin-ks.yaml', 'tools/deployment/developer/ceph/035-ceph-ns-activate.sh', 'ceph-rgw/templates/configmap-ceph-rgw-templates.yaml', 'ceph-rgw/templates/secret-ingress-tls.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'ceph-rgw/templates/ingress-rgw.yaml', 'ceph-rgw/templates/job-ks-service.yaml', 'tools/deployment/multinode/035-ceph-ns-activate.sh', 'ceph-rgw/templates/job-s3-admin.yaml', 'ceph-rgw/templates/secret-s3-rgw.yaml', 'ceph-rgw/templates/service-rgw.yaml', 'ceph-rgw/templates/job-ks-endpoints.yaml', 'ceph-rgw/templates/secret-keystone.yaml', 'tools/deployment/developer/ceph/030-ceph.sh', 'tools/deployment/developer/ceph/115-radosgw-osh-infra.sh', 'ceph-rgw/templates/secret-keystone-rgw.yaml', 'tools/deployment/openstack-support/020-ceph-ns-activate.sh', 'ceph-rgw/templates/job-rgw-storage-init.yaml', 'tools/deployment/multinode/030-ceph.sh', 'ceph-rgw/templates/configmap-etc-client.yaml', 'tools/deployment/multinode/115-radosgw-osh-infra.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/62d1a0c6f29827f59852b85d677df79109f79c85', 'message': '[WIP] Ceph-RGW chart cleanup.\n\n- With this ps, rgw can now be\nconfigured/deployed based on following\nconf:\n  rgw_ks:\n    enabled: false\n  rgw_s3:\n    enabled: true\nOne of these should be false and other as true.\n\nChange-Id: I9932c15b36ec76ae3ce95ffcbb02b51e2a81b724\n'}]",7,608379,62d1a0c6f29827f59852b85d677df79109f79c85,13,3,6,24165,,,0,"[WIP] Ceph-RGW chart cleanup.

- With this ps, rgw can now be
configured/deployed based on following
conf:
  rgw_ks:
    enabled: false
  rgw_s3:
    enabled: true
One of these should be false and other as true.

Change-Id: I9932c15b36ec76ae3ce95ffcbb02b51e2a81b724
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/79/608379/3 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/templates/configmap-bin.yaml', 'ceph-rgw/templates/service-ingress-rgw.yaml', 'ceph-rgw/templates/ingress-rgw.yaml', 'ceph-rgw/templates/job-ks-service.yaml', 'ceph-rgw/templates/job-ks-user.yaml', 'ceph-rgw/templates/job-s3-admin.yaml', 'ceph-rgw/templates/secret-s3-rgw.yaml', 'ceph-rgw/templates/service-rgw.yaml', 'ceph-rgw/templates/job-ks-endpoints.yaml', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/configmap-bin-ks.yaml', 'ceph-rgw/templates/configmap-ceph-rgw-templates.yaml', 'ceph-rgw/templates/secret-ingress-tls.yaml', 'ceph-rgw/templates/secret-keystone.yaml', 'ceph-rgw/templates/secret-keystone-rgw.yaml', 'ceph-rgw/templates/job-rgw-storage-init.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'ceph-rgw/templates/configmap-etc-client.yaml']",18,a8fef575f3d60976196c75961b527dbb748f29e9,rgw-chart-cleanup,,{{- if or (.Values.deployment.ceph) (.Values.deployment.client_secrets) }} {{- end }},17,24
openstack%2Fopenstack-helm~master~I650f6de3d52ed9cea7f620e56196715076262bab,openstack/openstack-helm,master,I650f6de3d52ed9cea7f620e56196715076262bab,Ceph helm test execution,ABANDONED,2018-09-17 22:45:07.000000000,2019-05-03 19:45:19.000000000,,"[{'_account_id': 8898}, {'_account_id': 17966}, {'_account_id': 22348}, {'_account_id': 22713}, {'_account_id': 24165}, {'_account_id': 28372}, {'_account_id': 29053}]","[{'number': 1, 'created': '2018-09-17 22:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b042c5892af8b9450761a0be2782adeb862a2600', 'message': 'Ceph helm test execution\n\n- tests are being added in ps: 599919, 602515\n- We need to execute test in openstack-helm in order\ntest changes in OSH-infra.\n\nChange-Id: I650f6de3d52ed9cea7f620e56196715076262bab\n'}, {'number': 2, 'created': '2018-11-26 21:41:56.000000000', 'files': ['tools/deployment/multinode/090-ceph-radosgateway.sh', 'tools/deployment/multinode/040-ceph-ns-activate.sh', 'tools/deployment/multinode/030-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b3b70696ea270258e224ddb91eb512e4ced40a0d', 'message': 'Ceph helm test execution\n\n- tests are being added in ps: 599919, 602515\n- We need to execute test in openstack-helm in order\ntest changes in OSH-infra.\n\nChange-Id: I650f6de3d52ed9cea7f620e56196715076262bab\n'}]",0,603245,b3b70696ea270258e224ddb91eb512e4ced40a0d,16,7,2,24165,,,0,"Ceph helm test execution

- tests are being added in ps: 599919, 602515
- We need to execute test in openstack-helm in order
test changes in OSH-infra.

Change-Id: I650f6de3d52ed9cea7f620e56196715076262bab
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/45/603245/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/multinode/090-ceph-radosgateway.sh', 'tools/deployment/multinode/040-ceph-ns-activate.sh', 'tools/deployment/multinode/030-ceph.sh']",3,b042c5892af8b9450761a0be2782adeb862a2600,ceph-helm-test-exec,helm test ceph-client --timeout 900 helm test ceph-provisioners --timeout 900,,5,0
openstack%2Fopenstack-helm~master~Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f,openstack/openstack-helm,master,Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f,WIP Tenant Ceph - Ceph for Glance and Cinder,ABANDONED,2018-08-17 15:07:02.000000000,2019-05-03 19:45:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 24165}]","[{'number': 1, 'created': '2018-08-17 15:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3eefe0c7215da17dcba365552d4d9d986b572875', 'message': 'WIP Deploy seperate Ceph for Glance and Cinder\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 2, 'created': '2018-08-20 14:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6ca823af2da55a3095d40b80f049acb9e2993a76', 'message': 'WIP Deploy seperate Ceph for Glance and Cinder\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 3, 'created': '2018-08-20 17:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bafb758c2a90b9e23959ff8ac9e7b0301382f6e5', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS track changes for Ceph-Tenant cluster\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 4, 'created': '2018-08-21 13:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3c0237736215d7a31f8fb6f571132014d6db0fdb', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS track changes for Ceph-Tenant cluster\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 5, 'created': '2018-08-21 19:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d5ba23ba3d05dc256eeb126d05d4fcaca9368272', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS track changes for Ceph-Tenant cluster\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 6, 'created': '2018-08-21 19:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d1d9d462d159abd1c567f6e0c5dad1c7cf1adaa3', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS track changes for Ceph-Tenant cluster\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 7, 'created': '2018-08-22 04:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b8486e1db6edd8958a7349fd2131b1dbb90a4efd', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS track changes for Ceph-Tenant cluster\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 8, 'created': '2018-08-22 04:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a895333c1d923e088f0674063c20a45760196081', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS track changes for Ceph-Tenant cluster\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 9, 'created': '2018-08-22 22:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0a76f15f69bfed2b0c76f40384d61a638461d516', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS track changes for Ceph-Tenant cluster\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 10, 'created': '2018-08-22 22:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b714a907c24fc41c349bcb8b4e26d68cf486ae08', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS track changes for Ceph-Tenant cluster\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 11, 'created': '2018-08-23 03:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a145a649bdbf4d14e0e37644e33cacd0306b7888', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS track changes for Ceph-Tenant cluster\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 12, 'created': '2018-08-23 05:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c0a94efad314fede22ce2edf57a53b25082e2897', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS test is dependent on PS 594266\n- This PS track changes for Ceph-Tenant testing\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 13, 'created': '2018-08-23 07:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a0e705b1b5ed0dc0116753a51592cd73d89f5a4a', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS test is dependent on PS 594266\n- This PS track changes for Ceph-Tenant testing\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 14, 'created': '2018-08-24 06:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0fa021e6d88f888876d1a3c95af13f6361cb95dd', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS test is dependent on PS 594266\n- This PS track changes for Ceph-Tenant testing\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 15, 'created': '2018-08-26 23:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dd6e63f4b14e7813040629788d9344b1aaca766c', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS test is dependent on PS 594266\n- This PS track changes for Ceph-Tenant testing\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 16, 'created': '2018-08-26 23:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/edf550a6db03044d2e22fae2f829b31155005122', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS test is dependent on PS 594266\n- This PS track changes for Ceph-Tenant testing\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}, {'number': 17, 'created': '2018-08-27 08:25:59.000000000', 'files': ['tools/deployment/multinode/100-glance.sh', 'tools/deployment/multinode/040-ceph-ns-activate.sh', 'ceph-rgw/values.yaml', 'tools/deployment/multinode/030-tenant-ceph.sh', 'tools/deployment/multinode/090-tenant-ceph-radosgateway.sh', 'doc/source/testing/multi-ceph-cluster.rst', 'tools/deployment/multinode/040-tenant-ceph-ns-activate.sh', 'tools/deployment/multinode/110-cinder.sh', 'tools/deployment/multinode/030-ceph.sh', 'ceph-rgw/templates/configmap-etc-client.yaml', 'tools/deployment/multinode/020-ingress.sh', 'tools/deployment/multinode/050-mariadb.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/825cc4b2ca4a38363a46478c4faae7b716d60444', 'message': 'WIP Tenant Ceph - Ceph for Glance and Cinder\n\n- This PS test is dependent on PS 594266\n- This PS track changes for Ceph-Tenant testing\n\nChange-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f\n'}]",6,593072,825cc4b2ca4a38363a46478c4faae7b716d60444,31,2,17,24165,,,0,"WIP Tenant Ceph - Ceph for Glance and Cinder

- This PS test is dependent on PS 594266
- This PS track changes for Ceph-Tenant testing

Change-Id: Ia48e07013af731f5ee0ab3ffb70b3a7bb7be765f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/72/593072/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/multinode/030-ceph.sh', 'tools/deployment/multinode/030-tenant-ceph.sh', 'tools/deployment/multinode/040-tenant-ceph-ns-activate.sh', 'tools/deployment/developer/common/030-ingress.sh', 'tools/deployment/multinode/020-ingress.sh']",5,3eefe0c7215da17dcba365552d4d9d986b572875,multi-ceph-deployment,for NAMESPACE in openstack ceph ceph-tenant-data; do,for NAMESPACE in openstack ceph; do,206,3
openstack%2Fopenstack-helm-infra~master~I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12,openstack/openstack-helm-infra,master,I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12,WIP-Loopback device setup/configuration,ABANDONED,2017-12-28 06:30:16.000000000,2019-05-03 19:44:50.000000000,,"[{'_account_id': 18476}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 26441}, {'_account_id': 27245}]","[{'number': 1, 'created': '2017-12-28 06:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e9c8c0bf878d1b62845f74dd7393e601d3afee71', 'message': 'Creating loopback devices through Ansible and Systemd with reboot\nsupport\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 2, 'created': '2018-01-02 09:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8bc58cd761e3af8714e9b740104f4380accaaef', 'message': 'Loopback device setup/configuration\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 3, 'created': '2018-01-02 10:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b1d53a6cd955c5b6c102311e1e43b1453cdaa4a', 'message': 'Loopback device setup/configuration\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 4, 'created': '2018-01-02 10:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/974e849311adbc3e8a39218ece13f8ca2fd6e32f', 'message': 'Loopback device setup/configuration\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 5, 'created': '2018-01-02 10:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/24e39ff22c4fd7ec3cbe1737ee4318358ae4e0c3', 'message': 'Loopback device setup/configuration\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 6, 'created': '2018-01-02 20:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/50f905e3ece0635e1f0303d062e596a0ceec41ea', 'message': 'Loopback device setup/configuration\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 7, 'created': '2018-01-03 05:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf2d5ca8d8d9026c91f78c9fc9b0892dc3a7e1f8', 'message': 'Loopback device setup/configuration\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 8, 'created': '2018-01-03 06:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4dda3301e4ec4c061e32d52223a801676388cb7b', 'message': 'Loopback device setup/configuration\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 9, 'created': '2018-01-03 06:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1e7efb939baa87a24c1dec9bc96f1f17ba011395', 'message': 'Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 10, 'created': '2018-01-03 08:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/448eb951dc81e23f93c534a06a62326cd0845083', 'message': 'Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 11, 'created': '2018-01-03 23:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b1a9414d53418c1a9b73f16c6666997306682ff1', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 12, 'created': '2018-01-04 00:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/90a7ad4668033f1ed573fa398a1979fe64360c3f', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 13, 'created': '2018-01-04 07:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/165b2ca25cd4948a592e249ca656cb9fc60a7945', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 14, 'created': '2018-01-04 08:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b87369c6583279cc1080219d2e38b37d50cc6a96', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 15, 'created': '2018-01-04 08:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/40cba8b36c1ac78d1adb28b82abd684635596fe4', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 16, 'created': '2018-01-04 18:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be22fe3edeeee9d474161390aa5533a3c055c049', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 17, 'created': '2018-01-05 02:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3925db4cce9e4dc8352e2ffd5ea0bbb94337083e', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 18, 'created': '2018-01-08 04:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/604ea8f09cc37c3f964de184577764606b7f5b64', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 19, 'created': '2018-01-08 06:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a3010a5bbd4083e028e481805e7e566e4530184', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 20, 'created': '2018-01-08 08:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ed8a3781a485461b1d67c9d506caaae37d4a9ed', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 21, 'created': '2018-01-08 09:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b12c18938ceed6540ed271dcc60283aeaada0334', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 22, 'created': '2018-01-08 11:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4b74979dd2ca084e74b67a3985086a9b3127c8e9', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 23, 'created': '2018-01-09 06:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab46cefa7169fbf6741e2fdf876e172cfff55cc8', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 24, 'created': '2018-01-09 09:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c58120ee9293f415323230ab4cb652b2614df9b0', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 25, 'created': '2018-01-09 10:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1c9b5e05c97f7d3c21839487f1d419915eefe86f', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 26, 'created': '2018-01-09 11:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d96deb5b13415c7e065c8d77b3e5cdd257518194', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 27, 'created': '2018-01-09 12:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0bc3fd784f0fa18a611e442315c57b4dbee3dfef', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 28, 'created': '2018-01-09 12:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ba49f8e0437bfa7b0e8ab716b0d3b8f43d534849', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 29, 'created': '2018-01-10 08:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5ea07fb0d37b374b4857974e7a6e6af7fee6ceda', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 30, 'created': '2018-01-10 08:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bb7eccb0a43c4c95a6f74de571a8f93eb943322', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 31, 'created': '2018-01-10 17:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/09631f691f3a345e9bf18fdb74eeaf964b7179cd', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 32, 'created': '2018-01-10 18:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ae168e8f2da76bf99b2d7776cd0da4bca7e8ebad', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 33, 'created': '2018-01-10 18:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8d504dcf4cbc1fa8e00437d43d8d4f5ca6ba0ef1', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 34, 'created': '2018-01-10 18:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9eaa849d7f5da0720fd6f94b2694c4fa2265d275', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 35, 'created': '2018-01-12 06:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a70cbdc649c866878297c0a4ec48b76c045fa262', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 36, 'created': '2018-01-12 07:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9b27578a3e9080999b71e315b3152d84711ea681', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 37, 'created': '2018-01-12 08:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc3c359c3c8b44775b6c07984b7fe78aeae41cae', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 38, 'created': '2018-01-12 08:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0aa8a24db60647a76c4343a726360dc7b38a49c8', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 39, 'created': '2018-01-12 09:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fd270619f4b5e1f0d84090b671b503a3cd8b6fd0', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 40, 'created': '2018-01-12 16:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/93d7a562eed2c1c2274e318b00bc11360d544748', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 41, 'created': '2018-01-12 19:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a73025ca16dcb9d8a83a41edd43ab4f33ffd6a54', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 42, 'created': '2018-01-14 10:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3af1c85646539a60009d11a568e317846892fac7', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 43, 'created': '2018-01-14 11:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5306d1891ecf9f4529ed34368a7afaf96728268', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 44, 'created': '2018-01-14 11:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f75cd09fc5183f2a45befb016de304105960ee7b', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 45, 'created': '2018-01-14 20:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf3cc9e75d7a5f3a804b976b0d81c3cdbaa20712', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 46, 'created': '2018-01-14 22:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d149aa961d98706c365a156afb72b2251c55b39b', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 47, 'created': '2018-01-15 00:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ddaab41175a3f5f8d5fc85b852772b589e83d62d', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 48, 'created': '2018-01-15 01:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dcae89baad6ae984471afe9e30248ad17cc79973', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 49, 'created': '2018-01-15 01:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d4c1ee6d214a63862f09a95e2e5e96d18c7b5c65', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 50, 'created': '2018-01-15 02:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4cb7b38ef9e1dcf6bae1a42aee1b7267035cb6a4', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 51, 'created': '2018-01-15 02:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e1b66e2befdd91777e4388bd485ba0b5d7c9f12', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 52, 'created': '2018-01-15 02:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/86d35ebf361eac3d2bcd857f7f019c3162b203c7', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 53, 'created': '2018-01-15 07:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4988fc249309ee7b5652f4c857eb46859b352f6d', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 54, 'created': '2018-01-15 07:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2834dd0498c87b54c2c5bea9520659b00811bfba', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 55, 'created': '2018-01-15 16:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/393de6ffbe0c017dbe401f1d409c336f0b24a2f5', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 56, 'created': '2018-01-15 16:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/33bd3fc3d0d25f193403ad61157a48dadb65b73a', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 57, 'created': '2018-01-15 18:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a878e0c38e86bbf44d3ef79df92545a121b6297', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 58, 'created': '2018-01-15 20:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2f560e0c0a0caef402fd03e46ee641764f3e18a', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 59, 'created': '2018-01-15 20:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f1895c84c35018c0c07c5873ca04c7871dd3c65', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 60, 'created': '2018-01-15 20:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79f9697b279be24fe55277d5abe8c270a1a6527f', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 61, 'created': '2018-01-16 00:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e21225f5bc2caea52b8c73176f6647565f48d739', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 62, 'created': '2018-01-16 00:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/18edcfa5fa353cc099c69daeeca5a0d16538654b', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 63, 'created': '2018-01-16 07:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92c26fe71db42214b7d51fa338f578c6828d0b6b', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 64, 'created': '2018-01-16 09:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b6d6ef616c2f91885ba2c7bbd41871fd709ea59', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 65, 'created': '2018-01-16 10:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/146c38a3f497955d6d023ec66d8de606262ed4de', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 66, 'created': '2018-01-16 11:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c20c9035105e51c14fd687c126d0bfd43be734b', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 67, 'created': '2018-01-16 12:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3e06868e0a8c9b4cf80480817e4001a6d139c9aa', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 68, 'created': '2018-01-16 13:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3cedea9a47059bbdddaab9290d696c1ff9bcbe68', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 69, 'created': '2018-01-16 17:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb0ce3c13d30f9be4b6cdbe43f31e18e6e89ef04', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 70, 'created': '2018-01-16 18:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c565b2ca532c2d30002e9bcbe66e187b458731c8', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 71, 'created': '2018-01-16 22:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be04029f279f262676993632109676c11662ba30', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 72, 'created': '2018-01-17 12:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/53e9df63510444e8a6f4b1fca488d3fd01d7b346', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 73, 'created': '2018-01-17 13:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4ed406bc21ed3c7452af7221394c09b526cfa32b', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 74, 'created': '2018-01-17 13:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/afc0c73f1ed31c5322b19f7f410d0e5cc9ba5aab', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 75, 'created': '2018-01-17 13:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5f35ff9a6aaecb63bc99c6fe62cd9aa8688fcd17', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 76, 'created': '2018-01-18 01:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/641a87ca4562610dbcc8e435aba4ec8d57d7b479', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 77, 'created': '2018-01-18 04:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3efe2019de76a2499a7094f79084b21dbb176eee', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 78, 'created': '2018-01-18 05:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff7612440082eafaf27c0aebeb53e558bb2a8dfc', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 79, 'created': '2018-01-18 07:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b220ecfdcb2416579bab67622de22555d153235', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 80, 'created': '2018-01-18 07:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a16aa692e017d21510924e9307c1d00971df3e9', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 81, 'created': '2018-01-18 07:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7a90c2a6f0e607d536a058362293cb3aaed99b4c', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 82, 'created': '2018-01-28 12:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b540258b842d4fd6fb37b77720bddc7e24fc7722', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 83, 'created': '2018-01-28 18:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9971e884d84592743e1c09ed3bfbfc6656929681', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 84, 'created': '2018-01-29 07:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/874d7a354a087271a3136451bf3a321d08d15f95', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 85, 'created': '2018-01-29 07:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6a82d9ad4d58a19fabb7a3e743f14fa153b0b64', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 86, 'created': '2018-01-29 09:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7457fa7c12b9ef934b807f0322ce02530f78179b', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 87, 'created': '2018-01-29 10:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7773e72739a838813ec71b21bdd125e624b550be', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}, {'number': 88, 'created': '2018-01-29 11:21:16.000000000', 'files': ['tools/gate/playbooks/osh-infra-loopback-devices-label-node.yaml', 'tools/gate/playbooks/vars.yaml', 'tools/gate/playbooks/loopback-devices-setup/tasks/ceph-devices.yaml', 'tools/gate/devel/start.sh', '.zuul.yaml', 'tools/gate/playbooks/loopback-devices-cleanup/tasks/main.yaml', 'tools/gate/playbooks/loopback-devices-setup/tasks/swift-devices.yaml', 'tools/gate/playbooks/osh-infra-loopback-devices-cleanup.yaml', 'tools/gate/playbooks/loopback-devices-cleanup/templates/loopback_cleanup.sh', 'tools/gate/playbooks/loopback-devices-output/tasks/ceph-devices-output.yaml', 'tools/gate/playbooks/osh-infra-loopback-devices-setup.yaml', 'tools/gate/playbooks/loopback-devices-setup/tasks/main.yaml', 'tools/gate/playbooks/loopback-devices-setup/templates/ubuntu-open-iscsi.service.j2', 'tools/gate/playbooks/loopback-devices-output/tasks/main.yaml', 'tools/gate/playbooks/loopback-devices-setup/templates/ceph-block-device-functions.sh', 'tools/gate/playbooks/loopback-devices-output/tasks/swift-devices-output.yaml', 'tools/gate/playbooks/loopback-devices-label-nodes/tasks/main.yaml', 'tools/gate/playbooks/upgrade-host/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2c33dd97292b423080b9db7cec506cea71003419', 'message': 'WIP-Loopback device setup/configuration\n\n- Setup loopback devices using Ansible\n- Ensure devices are available after reboot\n\nAuthor:   renis makadia <renis.makadia@att.com>\n\nChange-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12\n'}]",22,530302,2c33dd97292b423080b9db7cec506cea71003419,156,7,88,24165,,,0,"WIP-Loopback device setup/configuration

- Setup loopback devices using Ansible
- Ensure devices are available after reboot

Author:   renis makadia <renis.makadia@att.com>

Change-Id: I5f462ecc4e73c7a5176f9f8c4b5718ac79af1e12
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/02/530302/84 && git format-patch -1 --stdout FETCH_HEAD,['test.txt'],1,e9c8c0bf878d1b62845f74dd7393e601d3afee71,loopback-systemd-ansible,,,0,0
openstack%2Fopenstack-helm~master~I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9,openstack/openstack-helm,master,I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9,WIP - Mergeing disk and device manifests,ABANDONED,2017-10-16 14:49:05.000000000,2019-05-03 19:44:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 24165}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-10-16 14:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eda5fc9e3a0a9a315e6b184b400a47aff3295270', 'message': 'This PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 2, 'created': '2017-10-16 14:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5620b5f912fe3fa22455ae15de5d8668c9d3a466', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 3, 'created': '2017-10-16 19:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3e55f22ecf4635826ad4142e72f78b7b9011eccd', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 4, 'created': '2017-10-16 22:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e8d7e758fa85f6af599b263ae9747dabb2dc19de', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 5, 'created': '2017-10-16 22:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5669f5f896572f21aed5b2033eb0c36557d66241', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 6, 'created': '2017-10-17 02:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/838ea5e5def3397065bd9c635140cfc082684d36', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 7, 'created': '2017-10-17 20:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1dadb624c98c235f159f2038ae184c0711edd287', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 8, 'created': '2017-10-17 20:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ea24bc7123677a614b384e696fa375389fd86eee', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 9, 'created': '2017-10-17 21:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1153358e0104b01fe5ccfcf73d8254cf76abf2bb', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 10, 'created': '2017-10-18 15:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ca0e8b06d280081c5ad4e027974d30da4bc2dda1', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 11, 'created': '2017-10-18 16:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b8b4b0400918adc2021f172ff8462cdd3a93b3d6', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 12, 'created': '2017-10-18 16:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c492e47f2fd0fdf391413b85f62cce22688d93c1', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 13, 'created': '2017-10-18 17:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da2a4ceeef1de7386239915201ba87d2b22cd7e9', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 14, 'created': '2017-10-18 20:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8d301e83c8567be4ac1a2e0d547ffea6f1cc3c6', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 15, 'created': '2017-10-18 20:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0333586d1f6378f0bf9875b1fd057fe998d9a3c5', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 16, 'created': '2017-10-18 20:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a225a3547a3ff8ade2d35bf4a05bacf8d1ee464d', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nFollowing things have changed per this PS\n- We are not labeling nodes for Directory in a similar way\nas Device for consistency\n- Directory storage will be enabled by default\n- ceph/templates/daemonset-osd.yaml is not now combine version for both\nDevice and Directory storage.\n- In order to use Directory option, you must also update\nCEPH_OSD_DIRECTORY_DEFAULT_LABELS in vars.sh with Directory name (from\nvalues.yaml)\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 17, 'created': '2017-10-18 21:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8aaf59838cdd5f77d588ce50d11b2c66094c5b7d', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nFollowing things have changed per this PS\n- We are not labeling nodes for Directory in a similar way\nas Device for consistency\n- Directory storage will be enabled by default\n- ceph/templates/daemonset-osd.yaml is not now combine version for both\nDevice and Directory storage.\n- In order to use Directory option, you must also update\nCEPH_OSD_DIRECTORY_DEFAULT_LABELS in vars.sh with Directory name (from\nvalues.yaml)\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 18, 'created': '2017-10-19 09:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/72176c2e5201d594922788091cfcac83095d32ad', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nFollowing things have changed per this PS\n- We are not labeling nodes for Directory in a similar way\nas Device for consistency\n- Directory storage will be enabled by default\n- ceph/templates/daemonset-osd.yaml is not now combine version for both\nDevice and Directory storage.\n- In order to use Directory option, you must also update\nCEPH_OSD_DIRECTORY_DEFAULT_LABELS in vars.sh with Directory name (from\nvalues.yaml)\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}, {'number': 19, 'created': '2017-10-19 10:06:45.000000000', 'files': ['tools/gate/setup_gate.sh', 'ceph/templates/daemonset-osd-devices.yaml', 'tools/gate/funcs/kube.sh', 'tools/gate/vars.sh', 'tools/gate/funcs/common.sh', 'ceph/values.yaml', 'ceph/templates/daemonset-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/744c4b2cff2920f476680f65d2210782a6372e84', 'message': 'WIP - Mergeing disk and device manifests\n\nThis PS track changes to merge Device and Disk Manifests.\n\nFollowing things have changed per this PS\n- We are not labeling nodes for Directory in a similar way\nas Device for consistency\n- Directory storage will be enabled by default\n- ceph/templates/daemonset-osd.yaml is not now combine version for both\nDevice and Directory storage.\n- In order to use Directory option, you must also update\nCEPH_OSD_DIRECTORY_DEFAULT_LABELS in vars.sh with Directory name (from\nvalues.yaml)\n\nChange-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9\n'}]",2,512317,744c4b2cff2920f476680f65d2210782a6372e84,51,3,19,24165,,,0,"WIP - Mergeing disk and device manifests

This PS track changes to merge Device and Disk Manifests.

Following things have changed per this PS
- We are not labeling nodes for Directory in a similar way
as Device for consistency
- Directory storage will be enabled by default
- ceph/templates/daemonset-osd.yaml is not now combine version for both
Device and Directory storage.
- In order to use Directory option, you must also update
CEPH_OSD_DIRECTORY_DEFAULT_LABELS in vars.sh with Directory name (from
values.yaml)

Change-Id: I95b11099ae6a4328c02eb1bdd882ac1df8c7b5a9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/17/512317/7 && git format-patch -1 --stdout FETCH_HEAD,['ceph/values.yaml'],1,eda5fc9e3a0a9a315e6b184b400a47aff3295270,mergeing_disk_device_manifest, enabled: true, enabled: false,1,1
openstack%2Fopenstack-helm~master~Ia01324163332d8aed9d99fd26064af7f98ab2311,openstack/openstack-helm,master,Ia01324163332d8aed9d99fd26064af7f98ab2311,This PS adds/updates documentation,ABANDONED,2017-08-09 23:39:45.000000000,2019-05-03 19:44:32.000000000,,"[{'_account_id': 3}, {'_account_id': 15518}, {'_account_id': 17589}, {'_account_id': 17591}, {'_account_id': 20443}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24049}, {'_account_id': 24165}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-08-09 23:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/59c63688395b1d8f9b626261e925a1ca547065b1', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 2, 'created': '2017-08-14 09:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6234af654ba70979437a51c37d4a96423b7a4e3', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 3, 'created': '2017-08-14 09:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fdcf6f95076ed05e2c785d56411df1a2fa5454c6', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 4, 'created': '2017-08-14 17:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b1dcdf9523b5da3b619032f1d3fd656c498d625', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 5, 'created': '2017-08-14 17:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a162b953c63c615e63d7a49bc9de1e41dd1c0699', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 6, 'created': '2017-08-14 17:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7dcde8a1a381d96c299e9d4843bd16019fcb7503', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 7, 'created': '2017-08-14 20:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0cf37f04b5dffa92c8382187e94276f89b1ea3c1', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 8, 'created': '2017-08-14 20:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1219fbd45f3868c8956ec5f99fa5c050fd8fdd4b', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 9, 'created': '2017-08-14 20:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/24099622b28527582f3cda135ab248b01d9fe8a6', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 10, 'created': '2017-08-15 16:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/300d0d94a999aaed3ea82c0ee45132dc41926f0d', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 11, 'created': '2017-08-15 17:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2ed2173436f8dd1e7b5c801a8670280184cae0d9', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 12, 'created': '2017-08-15 18:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/90cb916a70a1f9655ab1c3e6d172009b98471719', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 13, 'created': '2017-08-15 18:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7cf31fd0401e58d74bb0f50541f50ccb7fbffefb', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 14, 'created': '2017-08-15 18:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/81beb5c95f40facbe7662a7e9b46f23ad949450d', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 15, 'created': '2017-08-16 14:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/afb5da3587068813d83de9dbc6311f5f185d3caa', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 16, 'created': '2017-08-29 16:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6a1117e85dafb925cab1b192db4768671e154124', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 17, 'created': '2017-08-29 22:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3aac58d90ff6a42bef259335593e3aba54d682e8', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 18, 'created': '2017-08-30 06:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2463ad3c462113f655d5bca9f455b0b8bae87fa', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 19, 'created': '2017-08-30 06:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4638b41ebf2707e4c6ab16bdad14c46634f62a4d', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 20, 'created': '2017-08-30 06:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec977e294f9b526630f79214e7e639107b199352', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 21, 'created': '2017-09-08 22:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/642b70cf5faa58651b0cb128f06aa1d50cbc1ffd', 'message': 'WIP: Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 22, 'created': '2017-10-09 06:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/111ac57c1da0d1efdb286b00a896a5aed4dc781f', 'message': 'Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 23, 'created': '2018-02-19 19:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/30461fb2614594461c0d313b00ecde4f36ae4312', 'message': 'Update Documentation - How does Openstack Helm stand up Openstack complete service(s)\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 24, 'created': '2018-02-20 20:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/750cf7bc27a274727793f68e063ed79de9d588cf', 'message': 'This PS adds/updates documentation\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}, {'number': 25, 'created': '2018-02-20 20:13:18.000000000', 'files': ['doc/source/devref/ks-jobs.rst', 'doc/source/devref/upgrades.rst', 'doc/source/devref/images.rst', 'doc/source/devref/docs.rst', 'doc/source/devref/tips.rst', 'doc/source/install/multinode.rst', 'doc/source/devref/helm-toolkit.rst', 'doc/source/devref/endpoints.rst', 'doc/source/devref/dependency.rst', 'doc/source/devref/index.rst', 'doc/source/devref/db-jobs.rst', 'doc/source/devref/values.rst', 'doc/source/devref/pod-disruption-budgets.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/956d619ce85eb640a229f1e06ae4ce780979d1d0', 'message': 'This PS adds/updates documentation\n\nPartially implements: blueprint update-osh-devref-doc\n\nCo-Authored-By: Larry Rensing <lr699s@att.com>\n\nChange-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311\n'}]",102,492324,956d619ce85eb640a229f1e06ae4ce780979d1d0,124,10,25,24165,,,0,"This PS adds/updates documentation

Partially implements: blueprint update-osh-devref-doc

Co-Authored-By: Larry Rensing <lr699s@att.com>

Change-Id: Ia01324163332d8aed9d99fd26064af7f98ab2311
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/24/492324/14 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/devref/jobs.rst', 'doc/source/devref/index.rst']",2,59c63688395b1d8f9b626261e925a1ca547065b1,bp/update-osh-devref-doc, jobs,,5,0
openstack%2Fopenstack-helm~master~I482b25f8249ccef4177b9373516dbe47b248d55c,openstack/openstack-helm,master,I482b25f8249ccef4177b9373516dbe47b248d55c,Disk Target Mapping,ABANDONED,2017-09-21 21:28:06.000000000,2019-05-03 19:44:17.000000000,,"[{'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-09-21 21:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fd842bc00be1b46d9de908c50099e0859f377c25', 'message': 'New Branch testing\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 2, 'created': '2017-09-21 22:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c5e824f53c70e209f5700e788ecd0d1484f7251', 'message': 'This PS adds a way to convert host based bus IDs of attached devices to logical disks.\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 3, 'created': '2017-09-21 22:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3b230c058c5b01f23c6e03fe1fb3927a0040770b', 'message': 'Disk Target Mapping\n\nThis PS adds a way to convert host based bus IDs of attached\ndevices to logical disks.\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 4, 'created': '2017-09-22 07:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/caf1a0212037e7dc50642c3f99cb21b8f66a8f25', 'message': 'Disk Target Mapping\n\nThis PS adds a way to convert host based bus IDs of attached\ndevices to logical disks.\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 5, 'created': '2017-09-22 08:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b631ec70b874b6882b93bce03efbb7d8b70574a0', 'message': 'Disk Target Mapping\n\nThis PS adds a way to convert host based bus IDs of attached\ndevices to logical disks.\n\nMerged changes from PS 496074\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 6, 'created': '2017-09-22 08:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e1b1297a2eb2d169823ab39ebad562a118629797', 'message': 'Disk Target Mapping\n\nThis PS adds a way to convert host based bus IDs of attached\ndevices to logical disks.\n\nMerged changes from PS 496074\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 7, 'created': '2017-09-26 17:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c18fa6f28f6c87540f0a90fb08e05e3b7351a4ce', 'message': 'Disk Target Mapping\n\nThis PS adds a way to convert host based bus IDs of attached\ndevices to logical disks.\n\nMerged changes from PS 496074\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 8, 'created': '2017-09-26 18:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e30e0e79ff1053205b241255629c5ea15af8de74', 'message': 'Disk Target Mapping\n\nThis PS adds a way to convert host based bus IDs of attached\ndevices to logical disks.\n\nMerged changes from PS 496074\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 9, 'created': '2017-09-27 05:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/682792b5502eebb077315925540b0125de5a123b', 'message': 'Disk Target Mapping\n\nThis PS adds a way to convert host based bus IDs of attached\ndevices to logical disks.\n\nMerged changes from PS 496074\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 10, 'created': '2017-09-27 16:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1c634bdde1c9b3e8e9a4662df01e4fc8d45aebab', 'message': 'Disk Target Mapping\n\nThis PS adds a way to convert host based bus IDs of attached\ndevices to logical disks.\n\nMerged changes from PS 496074\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 11, 'created': '2017-09-27 16:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/36f4ba85dda342252ec3dcf8573bafb633407ec4', 'message': 'Disk Target Mapping\n\nThis PS adds a way to convert host based bus IDs of attached\ndevices to logical disks.\n\nMerged changes from PS 496074\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 12, 'created': '2017-09-28 07:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7a64026722bcaea3b5786c290f45224823ba7104', 'message': 'Disk Target Mapping\n\nThis PS adds a way to convert host based bus IDs of attached\ndevices to logical disks.\n\nMerged changes from PS 496074\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}, {'number': 13, 'created': '2017-09-28 07:40:15.000000000', 'files': ['tools/gate/launch-osh/basic.sh', 'tools/gate/provision_gate_worker_node.sh', 'ceph/templates/daemonset-osd-devices.yaml', 'tools/gate/kubeadm_aio.sh', 'tools/gate/vars.sh', 'ceph/templates/bin/_osd_disk_mapping.sh.tpl', 'tools/overrides/mvp/ceph_disks.yaml', 'tools/gate/funcs/disk.sh', 'ceph/values.yaml', 'ceph/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/53ff1a4a594948e2a7a769cf5e8bb1cbe4705bed', 'message': 'Disk Target Mapping\n\nThis PS adds a way to convert host based bus IDs of attached\ndevices to logical disks.\n\nMerged changes from PS 496074\n\nChange-Id: I482b25f8249ccef4177b9373516dbe47b248d55c\n'}]",0,506387,53ff1a4a594948e2a7a769cf5e8bb1cbe4705bed,57,3,13,24165,,,0,"Disk Target Mapping

This PS adds a way to convert host based bus IDs of attached
devices to logical disks.

Merged changes from PS 496074

Change-Id: I482b25f8249ccef4177b9373516dbe47b248d55c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/87/506387/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/funcs/disk.sh'],1,fd842bc00be1b46d9de908c50099e0859f377c25,disk_target_per_host,,"#!/bin/bash # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. set -e function prep_loopback_device { sudo mkdir -p /data/ceph sudo dd if=/dev/zero of=/data/ceph/ceph-osd0.img bs=1024 count=3 seek=1073741824 LOOP=$(sudo losetup -f) sudo losetup $LOOP /data/ceph/ceph-osd0.img sudo parted $LOOP mklabel gpt sudo dd if=/dev/zero of=/data/ceph/ceph-osd1.img bs=1024 count=1 seek=1073741824 LOOP=$(sudo losetup -f) sudo losetup $LOOP /data/ceph/ceph-osd1.img sudo parted $LOOP mklabel gpt sudo partprobe } ",0,27
openstack%2Fpuppet-cinder~master~I4dd4f82d545cdfb4de48d6d37ee0f28f3e8c6d00,openstack/puppet-cinder,master,I4dd4f82d545cdfb4de48d6d37ee0f28f3e8c6d00,Port puppet-cinder-tripleo-standalone to os_tempest,MERGED,2019-05-02 09:02:39.000000000,2019-05-03 19:31:32.000000000,2019-05-03 19:31:32.000000000,"[{'_account_id': 3153}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 09:02:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f6678699234f1883bb2b3274b13f0d3ccb057482', 'message': 'Port puppet-cinder-tripleo-standalone to os_tempest\n\nPreviously Tripleo validate-tempest role was used to run tempest\non tripleo jobs. Recently we are moving to os_tempest (an unified\nrole developed by openstack-ansible team).\n\nIt moves the vars to os_tempest.\nBelow is the other var changes:\nrun_tempest: false -> to disable validate-tempest role\nuse_os_tempest: true -> enable os_tempest\ntempest_whitelist -> tempest_test_whitelist\ntempest_plugins -> tempest_services now just the name of the service,\nnot the plugin package name\n\nChange-Id: I4dd4f82d545cdfb4de48d6d37ee0f28f3e8c6d00\n'}]",0,656752,f6678699234f1883bb2b3274b13f0d3ccb057482,9,5,1,8367,,,0,"Port puppet-cinder-tripleo-standalone to os_tempest

Previously Tripleo validate-tempest role was used to run tempest
on tripleo jobs. Recently we are moving to os_tempest (an unified
role developed by openstack-ansible team).

It moves the vars to os_tempest.
Below is the other var changes:
run_tempest: false -> to disable validate-tempest role
use_os_tempest: true -> enable os_tempest
tempest_whitelist -> tempest_test_whitelist
tempest_plugins -> tempest_services now just the name of the service,
not the plugin package name

Change-Id: I4dd4f82d545cdfb4de48d6d37ee0f28f3e8c6d00
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/52/656752/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f6678699234f1883bb2b3274b13f0d3ccb057482,os_tempest, run_tempest: false tempest_services: - cinder tempest_test_whitelist: use_os_tempest: true, run_tempest: true tempest_whitelist: tempest_plugins: - 'python-cinder-tests-tempest',5,4
openstack%2Foslo.cache~master~Ic98870c5449203556034eedd3a997afc3679efaf,openstack/oslo.cache,master,Ic98870c5449203556034eedd3a997afc3679efaf,Dropping the py35 testing,MERGED,2019-04-15 00:55:23.000000000,2019-05-03 19:29:10.000000000,2019-05-03 19:29:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 00:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/615463bf6025c191782fd7e40121cff10d69c6b4', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ic98870c5449203556034eedd3a997afc3679efaf\n'}, {'number': 2, 'created': '2019-04-15 18:58:04.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/79ea6a99b712e869d0b2d950e9b08f496fa63a2d', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ic98870c5449203556034eedd3a997afc3679efaf\n'}]",0,652434,79ea6a99b712e869d0b2d950e9b08f496fa63a2d,8,2,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ic98870c5449203556034eedd3a997afc3679efaf
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/34/652434/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,615463bf6025c191782fd7e40121cff10d69c6b4,dropping-py35-testing,"envlist = py27,pypy,pep8","envlist = py35,py27,pypy,pep8",2,3
openstack%2Fstorlets~master~Id887fb0eaab528005a946013f9faf6ddca82bf42,openstack/storlets,master,Id887fb0eaab528005a946013f9faf6ddca82bf42,Have language_version as a member of StorletRequest,MERGED,2019-05-02 07:19:14.000000000,2019-05-03 19:15:40.000000000,2019-05-03 19:15:40.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 07:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/b34aca1abc107edf7d2be00acfc2dac13052357b', 'message': 'Have language_version as a member of StorletRequest\n\nStorletRequest is used to parse basic options for storlet\nexcecutions. This patch makes language_version also a mamber\nof the class, which is currently handled outside it.\n\nChange-Id: Id887fb0eaab528005a946013f9faf6ddca82bf42\n'}, {'number': 2, 'created': '2019-05-02 07:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/0915b444676f966cb17b0bba9ce1059490358f8e', 'message': 'Have language_version as a member of StorletRequest\n\nStorletRequest is used to parse basic options for storlet\nexcecutions. This patch makes language_version also a mamber\nof the class, which is currently handled outside it.\n\nChange-Id: Id887fb0eaab528005a946013f9faf6ddca82bf42\n'}, {'number': 3, 'created': '2019-05-02 07:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/07432656299e0bdf878ba1a377132defbc9c74ce', 'message': 'Have language_version as a member of StorletRequest\n\nStorletRequest is used to parse basic options for storlet\nexcecutions. This patch makes language_version also a mamber\nof the class, which is currently handled outside it.\n\nChange-Id: Id887fb0eaab528005a946013f9faf6ddca82bf42\n'}, {'number': 4, 'created': '2019-05-03 10:22:06.000000000', 'files': ['storlets/gateway/gateways/docker/gateway.py', 'tests/unit/gateway/gateways/docker/test_gateway.py', 'storlets/gateway/gateways/docker/runtime.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/82a326408af6d07fb4790436df07be5dc87eae49', 'message': 'Have language_version as a member of StorletRequest\n\nStorletRequest is used to parse basic options for storlet\nexcecutions. This patch makes language_version also a mamber\nof the class, which is currently handled outside it.\n\nChange-Id: Id887fb0eaab528005a946013f9faf6ddca82bf42\n'}]",0,656742,82a326408af6d07fb4790436df07be5dc87eae49,12,3,4,9816,,,0,"Have language_version as a member of StorletRequest

StorletRequest is used to parse basic options for storlet
excecutions. This patch makes language_version also a mamber
of the class, which is currently handled outside it.

Change-Id: Id887fb0eaab528005a946013f9faf6ddca82bf42
",git fetch https://review.opendev.org/openstack/storlets refs/changes/42/656742/4 && git format-patch -1 --stdout FETCH_HEAD,"['storlets/gateway/gateways/docker/gateway.py', 'tests/unit/gateway/gateways/docker/test_gateway.py', 'storlets/gateway/gateways/docker/runtime.py']",3,b34aca1abc107edf7d2be00acfc2dac13052357b,langversion, sreq.storlet_language_version)," sreq.options.get(""storlet_language_version""))",24,1
openstack%2Ftripleo-quickstart-extras~master~I36647a8a3eb0fd9bf2e8e3a03956b8af552c5115,openstack/tripleo-quickstart-extras,master,I36647a8a3eb0fd9bf2e8e3a03956b8af552c5115,Update README with Nautilus docker_ceph_tag,MERGED,2019-04-30 09:32:33.000000000,2019-05-03 19:10:58.000000000,2019-05-03 19:10:58.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 18846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 09:32:33.000000000', 'files': ['roles/extras-common/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ec81c3fb3ffa561a7038fe0bd387d74e0bcf4763', 'message': ""Update README with Nautilus docker_ceph_tag\n\nAs we've completed the migration to nautilus we have\nadded the correct docker tag in the README file.\n\nChange-Id: I36647a8a3eb0fd9bf2e8e3a03956b8af552c5115\n""}]",0,656483,ec81c3fb3ffa561a7038fe0bd387d74e0bcf4763,8,6,1,25402,,,0,"Update README with Nautilus docker_ceph_tag

As we've completed the migration to nautilus we have
added the correct docker tag in the README file.

Change-Id: I36647a8a3eb0fd9bf2e8e3a03956b8af552c5115
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/83/656483/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/README.md'],1,ec81c3fb3ffa561a7038fe0bd387d74e0bcf4763,ceph-nautilus,- `docker_ceph_tag: <'v4.0.0-stable-4.0-nautilus-centos-7-x86_64'> Tag for the,- `docker_ceph_tag: <'v3.2.1-stable-3.2-luminous-centos-7-x86_64'> Tag for the,1,1
openstack%2Fpython-tripleoclient~stable%2Fstein~I95bbfa2174fa92fd9220368163ed3aeb0346b2d8,openstack/python-tripleoclient,stable/stein,I95bbfa2174fa92fd9220368163ed3aeb0346b2d8,Add a comment about nodes and roles options.,MERGED,2019-05-02 09:21:36.000000000,2019-05-03 19:10:57.000000000,2019-05-03 19:10:57.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-02 09:21:36.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e7875ece383673bc2ec3a777ec5da7f434e5e064', 'message': ""Add a comment about nodes and roles options.\n\nSorry it's my fault. The next time I must add more details in my commit\nmessage. This options will be removed in the train version.d\n\nChange-Id: I95bbfa2174fa92fd9220368163ed3aeb0346b2d8\n""}]",0,656755,e7875ece383673bc2ec3a777ec5da7f434e5e064,11,4,1,29222,,,0,"Add a comment about nodes and roles options.

Sorry it's my fault. The next time I must add more details in my commit
message. This options will be removed in the train version.d

Change-Id: I95bbfa2174fa92fd9220368163ed3aeb0346b2d8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/55/656755/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py']",2,e7875ece383673bc2ec3a777ec5da7f434e5e064,stein, # The nodes and roles options will be removed in the train version,,2,0
openstack%2Fpuppet-horizon~master~I1aaaef47d4bf29c486ed244cbbe0ada08d84bf87,openstack/puppet-horizon,master,I1aaaef47d4bf29c486ed244cbbe0ada08d84bf87,Port puppet-horizon-tripleo-standalone to os_tempest,MERGED,2019-05-02 09:56:54.000000000,2019-05-03 19:08:08.000000000,2019-05-03 19:08:08.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 09:56:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/76a3aa2913510e82bb12ca5d62e2009b76bf9a28', 'message': 'Port puppet-horizon-tripleo-standalone to os_tempest\n\nPreviously Tripleo validate-tempest role was used to run tempest\non tripleo jobs. Recently we are moving to os_tempest (an unified\nrole developed by openstack-ansible team).\n\nIt moves the vars to os_tempest.\nBelow is the other var changes:\nrun_tempest: false -> to disable validate-tempest role\nuse_os_tempest: true -> enable os_tempest\ntempest_whitelist -> tempest_test_whitelist\ntempest_plugins -> tempest_services now just the name of the service,\nnot the plugin package name\n\nChange-Id: I1aaaef47d4bf29c486ed244cbbe0ada08d84bf87\n'}]",0,656758,76a3aa2913510e82bb12ca5d62e2009b76bf9a28,8,4,1,8367,,,0,"Port puppet-horizon-tripleo-standalone to os_tempest

Previously Tripleo validate-tempest role was used to run tempest
on tripleo jobs. Recently we are moving to os_tempest (an unified
role developed by openstack-ansible team).

It moves the vars to os_tempest.
Below is the other var changes:
run_tempest: false -> to disable validate-tempest role
use_os_tempest: true -> enable os_tempest
tempest_whitelist -> tempest_test_whitelist
tempest_plugins -> tempest_services now just the name of the service,
not the plugin package name

Change-Id: I1aaaef47d4bf29c486ed244cbbe0ada08d84bf87
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/58/656758/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,76a3aa2913510e82bb12ca5d62e2009b76bf9a28,os_tempest, run_tempest: false tempest_services: - horizon tempest_test_whitelist: use_os_tempest: true, run_tempest: true tempest_whitelist: tempest_plugins: - 'python-horizon-tests-tempest',5,4
openstack%2Fpython-tripleoclient~stable%2Fstein~Iffc7b557ebd7e30ff56ceaee702ed3c4466d4eea,openstack/python-tripleoclient,stable/stein,Iffc7b557ebd7e30ff56ceaee702ed3c4466d4eea,Do not log tracebacks for expected exceptions,MERGED,2019-05-02 18:26:31.000000000,2019-05-03 19:03:43.000000000,2019-05-03 19:03:43.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-02 18:26:31.000000000', 'files': ['tripleoclient/command.py', 'tripleoclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f686234170ebfb333e6ad069e257de1c19a1313d', 'message': 'Do not log tracebacks for expected exceptions\n\nThe tripleoclient exceptions are supposed to have enough context,\nlogging their traceback just confuses the users. Note that with\n--debug all exceptions will have a traceback anyway.\n\nThis change introduces a base class for tripleoclient exceptions.\n\nChange-Id: Iffc7b557ebd7e30ff56ceaee702ed3c4466d4eea\nCloses-Bug: #1824329\n(cherry picked from commit b3cef86bb9783eb3b68ca918221ee9eb46232121)\n'}]",0,656843,f686234170ebfb333e6ad069e257de1c19a1313d,8,4,1,10239,,,0,"Do not log tracebacks for expected exceptions

The tripleoclient exceptions are supposed to have enough context,
logging their traceback just confuses the users. Note that with
--debug all exceptions will have a traceback anyway.

This change introduces a base class for tripleoclient exceptions.

Change-Id: Iffc7b557ebd7e30ff56ceaee702ed3c4466d4eea
Closes-Bug: #1824329
(cherry picked from commit b3cef86bb9783eb3b68ca918221ee9eb46232121)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/43/656843/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/command.py', 'tripleoclient/exceptions.py']",2,f686234170ebfb333e6ad069e257de1c19a1313d,bug/1824329-stable/stein,"class Base(Exception): """"""Base TripleO exception."""""" class Timeout(Base):class WorkflowServiceError(Base):class WebSocketTimeout(Base):class WebSocketConnectionClosed(Base):class NotFound(Base):class DeploymentError(Base): class PlanEnvWorkflowError(Base):class StackInProgress(Base):class RootUserExecution(Base):class InvalidConfiguration(Base, ValueError):class IntrospectionError(Base):class StateTransitionFailed(Base):class ProfileMatchingError(Base):class PlanCreationError(Base):class PlanExportError(Base):class WorkflowActionError(Base):class DownloadError(Base):class LogFetchError(Base):class ContainerDeleteFailed(Base):class UndercloudUpgradeNotConfirmed(Base):","class Timeout(Exception):class WorkflowServiceError(Exception):class WebSocketTimeout(Exception):class WebSocketConnectionClosed(Exception):class NotFound(Exception):class DeploymentError(RuntimeError): def __init__(self, *args, **kwargs): super(RuntimeError, self).__init__(*args, **kwargs) class PlanEnvWorkflowError(RuntimeError):class StackInProgress(RuntimeError):class RootUserExecution(Exception):class InvalidConfiguration(ValueError):class IntrospectionError(RuntimeError):class StateTransitionFailed(Exception):class ProfileMatchingError(Exception):class PlanCreationError(Exception):class PlanExportError(Exception):class WorkflowActionError(Exception):class DownloadError(Exception):class LogFetchError(Exception):class ContainerDeleteFailed(Exception):class UndercloudUpgradeNotConfirmed(Exception):",27,23
openstack%2Fpuppet-tripleo~stable%2Fqueens~I7bbac48f2dfa9ec532f56a814af25117e11511ea,openstack/puppet-tripleo,stable/queens,I7bbac48f2dfa9ec532f56a814af25117e11511ea,Add an Endpoint in ceilometer,MERGED,2019-04-10 19:16:39.000000000,2019-05-03 19:03:14.000000000,2019-05-03 19:03:14.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-04-10 19:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b12c80b812769ddc6e2b44ed70412ae75d324fab', 'message': 'Add an Endpoint in ceilometer\n\nAdded an endpoint in the ceilometer configuration\nto dispatch the data to qdr running locally.\n\nDepends-On: Ib3090c01bfdcb60168dd1c6db23c520a103c051e\nChange-Id: I7bbac48f2dfa9ec532f56a814af25117e11511ea\n(cherry picked from commit fac7faa952f831e00738c5ac9f3e316668b82ae2)\n'}, {'number': 2, 'created': '2019-04-10 21:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e2ae50718b06e3bcbc8bf843c926157c726d22cf', 'message': 'Add an Endpoint in ceilometer\n\nAdded an endpoint in the ceilometer configuration\nto dispatch the data to qdr running locally.\n\nDepends-On: Ib3090c01bfdcb60168dd1c6db23c520a103c051e\nChange-Id: I7bbac48f2dfa9ec532f56a814af25117e11511ea\n'}, {'number': 3, 'created': '2019-04-16 13:24:57.000000000', 'files': ['manifests/profile/base/metrics/qdr.pp', 'manifests/profile/base/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6b3573b00fe5dc9b98e1c6cf3f8a0188715430bd', 'message': 'Add an Endpoint in ceilometer\n\nAdded an endpoint in the ceilometer configuration\nto dispatch the data to qdr running locally.\n\nDepends-On: Ib3090c01bfdcb60168dd1c6db23c520a103c051e\nChange-Id: I7bbac48f2dfa9ec532f56a814af25117e11511ea\n(cherry picked from commit fac7faa952f831e00738c5ac9f3e316668b82ae2)\n'}]",0,651627,6b3573b00fe5dc9b98e1c6cf3f8a0188715430bd,17,5,3,28504,,,0,"Add an Endpoint in ceilometer

Added an endpoint in the ceilometer configuration
to dispatch the data to qdr running locally.

Depends-On: Ib3090c01bfdcb60168dd1c6db23c520a103c051e
Change-Id: I7bbac48f2dfa9ec532f56a814af25117e11511ea
(cherry picked from commit fac7faa952f831e00738c5ac9f3e316668b82ae2)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/27/651627/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/metrics/qdr.pp', 'manifests/profile/base/ceilometer.pp']",2,b12c80b812769ddc6e2b44ed70412ae75d324fab,,"# Defaults to hiera('oslo_messaging_notify_use_ssl', '0') # # [*notifier_host_addr*] # (optional) Ip address of ceilometer notifier (edge qdr Endpoint) # Defaults to false # # [*notifier_host_port*] # (optional) Ceilometer notifier port # Defaults to undef # # [*event_pipeline_publishers*] # (Optional) A list of event pipeline publishers # Defaults to undef # # [*pipeline_publishers*] # (Optional) A list of pipeline publishers # Defaults to undef $step = Integer(hiera('step')), $oslomsg_rpc_proto = hiera('oslo_messaging_rpc_scheme', 'rabbit'), $oslomsg_rpc_hosts = any2array(hiera('oslo_messaging_rpc_node_names', undef)), $oslomsg_rpc_password = hiera('oslo_messaging_rpc_password'), $oslomsg_rpc_port = hiera('oslo_messaging_rpc_port', '5672'), $oslomsg_rpc_username = hiera('oslo_messaging_rpc_user_name', 'guest'), $oslomsg_rpc_use_ssl = hiera('oslo_messaging_rpc_use_ssl', '0'), $oslomsg_notify_proto = hiera('oslo_messaging_notify_scheme', 'rabbit'), $oslomsg_notify_hosts = any2array(hiera('oslo_messaging_notify_node_names', undef)), $oslomsg_notify_password = hiera('oslo_messaging_notify_password'), $oslomsg_notify_port = hiera('oslo_messaging_notify_port', '5672'), $oslomsg_notify_username = hiera('oslo_messaging_notify_user_name', 'guest'), $oslomsg_notify_use_ssl = hiera('oslo_messaging_notify_use_ssl', '0'), $notifier_host_addr = false, $notifier_host_port = undef, $event_pipeline_publishers = undef, $pipeline_publishers = undef, if $notifier_host_addr { class {'::ceilometer::agent::notification' : event_pipeline_publishers => concat(any2array(os_transport_url({ 'transport' => 'notifier', 'host' => $notifier_host_addr, 'port' => $notifier_host_port, 'query' => { 'driver' => 'amqp' }, })), $event_pipeline_publishers), pipeline_publishers => concat(any2array(os_transport_url({ 'transport' => 'notifier', 'host' => $notifier_host_addr, 'port' => $notifier_host_port, 'query' => { 'driver' => 'amqp' }, })), $pipeline_publishers), } } else { class {'::ceilometer::agent::notification' : event_pipeline_publishers => $event_pipeline_publishers, pipeline_publishers => $pipeline_publishers, } }"," $step = Integer(hiera('step')), $oslomsg_rpc_proto = hiera('messaging_rpc_service_name', 'rabbit'), $oslomsg_rpc_hosts = any2array(hiera('rabbitmq_node_names', undef)), $oslomsg_rpc_password = hiera('ceilometer::rabbit_password'), $oslomsg_rpc_port = hiera('ceilometer::rabbit_port', '5672'), $oslomsg_rpc_username = hiera('ceilometer::rabbit_userid', 'guest'), $oslomsg_notify_proto = hiera('messaging_notify_service_name', 'rabbit'), $oslomsg_notify_hosts = any2array(hiera('rabbitmq_node_names', undef)), $oslomsg_notify_password = hiera('ceilometer::rabbit_password'), $oslomsg_notify_port = hiera('ceilometer::rabbit_port', '5672'), $oslomsg_notify_username = hiera('ceilometer::rabbit_userid', 'guest'), $oslomsg_use_ssl = hiera('ceilometer::rabbit_use_ssl', '0'),",201,12
openstack%2Fansible-role-collect-logs~master~Ica076ab17ef96d8cf53d321544def97fbb0bfc48,openstack/ansible-role-collect-logs,master,Ica076ab17ef96d8cf53d321544def97fbb0bfc48,Fixed doc building steps for collect logs,MERGED,2019-05-03 05:08:30.000000000,2019-05-03 19:03:13.000000000,2019-05-03 19:03:13.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8944}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 05:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c97a0554e0373da6549c6f3155752153f95ce36a', 'message': 'Fixed doc building steps for collect logs\n\nEnsure required python packages are installed task in collect-logs\nlooks for doc-requirements.txt for building docs but it is not\nthere which is leading to failure.\n\nIncluding docs under the roles fixes the issue.\n\nChange-Id: Ica076ab17ef96d8cf53d321544def97fbb0bfc48\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-05-03 06:39:42.000000000', 'files': ['tasks/create-docs.yml', 'docs/doc-requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2dd5ba9a44c57132a1eb992364c7550e21fcd883', 'message': 'Fixed doc building steps for collect logs\n\nEnsure required python packages are installed task in collect-logs\nlooks for doc-requirements.txt for building docs but it is not\nthere which is leading to failure.\n\nIncluding docs under the roles fixes the issue.\nIt also moves doc-requirments.txt under docs folder and fix the\ninstallation path\n\nChange-Id: Ica076ab17ef96d8cf53d321544def97fbb0bfc48\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}]",0,656922,2dd5ba9a44c57132a1eb992364c7550e21fcd883,12,9,2,12393,,,0,"Fixed doc building steps for collect logs

Ensure required python packages are installed task in collect-logs
looks for doc-requirements.txt for building docs but it is not
there which is leading to failure.

Including docs under the roles fixes the issue.
It also moves doc-requirments.txt under docs folder and fix the
installation path

Change-Id: Ica076ab17ef96d8cf53d321544def97fbb0bfc48
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/22/656922/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c97a0554e0373da6549c6f3155752153f95ce36a,fix, usr/local/share/ansible/roles/collect-logs/docs = docs/*,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I112a228ed90a50aeee787e83a58a014519db7992,openstack/tripleo-heat-templates,stable/queens,I112a228ed90a50aeee787e83a58a014519db7992,Add parameter to configure maxdelay in db purge/archive job,MERGED,2019-05-02 10:28:08.000000000,2019-05-03 19:03:12.000000000,2019-05-03 19:03:12.000000000,"[{'_account_id': 21129}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 10:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12ed60815adebb731361be394f9a5778719853a4', 'message': 'Add parameter to configure maxdelay in db purge/archive job\n\nThis patch introduces new parameters, CinderCronDbPurgeMaxDelay\nand NovaCronDBArchivedMaxDelay, which enable us to configure\nmaxdelay parameter in cinder db purge cron job and nova db archive\ncron job, like HeatCronPurgeDeletedMaxDelay which is used to\nconfigure maxdelay in heat cron job.\n\nCloses-Bug: #1823274\nChange-Id: I112a228ed90a50aeee787e83a58a014519db7992\n(cherry picked from commit 2a34ccb62b1037c420bff6e5f9d19f8887cf774a)\n'}, {'number': 2, 'created': '2019-05-02 15:57:47.000000000', 'files': ['releasenotes/notes/bug-1823274-ca992c1055035c7b.yaml', 'puppet/services/nova-base.yaml', 'puppet/services/cinder-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f14b4dcd8d972e1fcd2e305b29c25944d7f2aeb2', 'message': 'Add parameter to configure maxdelay in db purge/archive job\n\nThis patch introduces new parameters, CinderCronDbPurgeMaxDelay\nand NovaCronDBArchivedMaxDelay, which enable us to configure\nmaxdelay parameter in cinder db purge cron job and nova db archive\ncron job, like HeatCronPurgeDeletedMaxDelay which is used to\nconfigure maxdelay in heat cron job.\n\nConflicts:\n    deployment/nova/nova-api-container-puppet.yaml\n\nCloses-Bug: #1823274\nChange-Id: I112a228ed90a50aeee787e83a58a014519db7992\n(cherry picked from commit 2a34ccb62b1037c420bff6e5f9d19f8887cf774a)\n(cherry picked from commit 3a4a77356fe372fbbd70d8902af65067646ad81b)\n(cherry picked from commit 733ec337c3d376267ad5bf80c3826ca4517ac7ca)\n'}]",0,656759,f14b4dcd8d972e1fcd2e305b29c25944d7f2aeb2,14,4,2,9816,,,0,"Add parameter to configure maxdelay in db purge/archive job

This patch introduces new parameters, CinderCronDbPurgeMaxDelay
and NovaCronDBArchivedMaxDelay, which enable us to configure
maxdelay parameter in cinder db purge cron job and nova db archive
cron job, like HeatCronPurgeDeletedMaxDelay which is used to
configure maxdelay in heat cron job.

Conflicts:
    deployment/nova/nova-api-container-puppet.yaml

Closes-Bug: #1823274
Change-Id: I112a228ed90a50aeee787e83a58a014519db7992
(cherry picked from commit 2a34ccb62b1037c420bff6e5f9d19f8887cf774a)
(cherry picked from commit 3a4a77356fe372fbbd70d8902af65067646ad81b)
(cherry picked from commit 733ec337c3d376267ad5bf80c3826ca4517ac7ca)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/656759/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1823274-ca992c1055035c7b.yaml', 'puppet/services/nova-base.yaml', 'puppet/services/cinder-base.yaml']",3,12ed60815adebb731361be394f9a5778719853a4,bug/1823274, CinderCronDbPurgeMaxDelay: type: string description: > Cron to move deleted instances to another table - Max Delay default: '3600' cinder::cron::db_purge::max_delay: {get_param: CinderCronDbPurgeMaxDelay},,19,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I693a21f1d6b48602642fe161d5f0ee2bc03e3acf,openstack/tripleo-heat-templates,stable/stein,I693a21f1d6b48602642fe161d5f0ee2bc03e3acf,Avoid issues with non-existing directories,MERGED,2019-05-03 06:08:30.000000000,2019-05-03 19:03:11.000000000,2019-05-03 19:03:10.000000000,"[{'_account_id': 4264}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-03 06:08:30.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e6d238386dbe2116195ba09236d62fa333d312f', 'message': 'Avoid issues with non-existing directories\n\nat deploy time.\n\nChange-Id: I693a21f1d6b48602642fe161d5f0ee2bc03e3acf\n(cherry picked from commit db89f2d9a52a4fade85a89ca6b1daf07dc7de393)\n'}]",0,656923,6e6d238386dbe2116195ba09236d62fa333d312f,8,5,1,4264,,,0,"Avoid issues with non-existing directories

at deploy time.

Change-Id: I693a21f1d6b48602642fe161d5f0ee2bc03e3acf
(cherry picked from commit db89f2d9a52a4fade85a89ca6b1daf07dc7de393)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/656923/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,6e6d238386dbe2116195ba09236d62fa333d312f,stein_collectd_ceph, - /var/run/:/var/run:ro, - /var/run/openvswitch:/var/run/openvswitch:ro - /var/run/ceph:/var/run/ceph:ro - /var/run/libvirt:/var/run/libvirt:ro,1,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a,openstack/tripleo-heat-templates,stable/stein,Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a,Adjust deployed-server install package list for RHEL8,MERGED,2019-05-02 22:19:33.000000000,2019-05-03 19:03:09.000000000,2019-05-03 19:03:09.000000000,"[{'_account_id': 14985}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 22:19:33.000000000', 'files': ['deployed-server/deployed-server-bootstrap-rhel.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ee3e849e501f2125f22e551fdcd8447675ed16c', 'message': 'Adjust deployed-server install package list for RHEL8\n\n - python-ipaddress is not available in rhel8\n - python3-heat-agent* need to be installed instead of\n   python-heat-agent*\n - lvm2 is required by ceph deployments\n\nCloses-bug: 1827276\n\nChange-Id: Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a\n(cherry picked from commit d9c83dbf9bdd383f1496cc9b14db3ae27e776938)\n'}]",0,656886,2ee3e849e501f2125f22e551fdcd8447675ed16c,7,4,1,3153,,,0,"Adjust deployed-server install package list for RHEL8

 - python-ipaddress is not available in rhel8
 - python3-heat-agent* need to be installed instead of
   python-heat-agent*
 - lvm2 is required by ceph deployments

Closes-bug: 1827276

Change-Id: Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a
(cherry picked from commit d9c83dbf9bdd383f1496cc9b14db3ae27e776938)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/656886/1 && git format-patch -1 --stdout FETCH_HEAD,['deployed-server/deployed-server-bootstrap-rhel.sh'],1,2ee3e849e501f2125f22e551fdcd8447675ed16c,bug/1827276-stable/stein, python3-heat-agent* \ lvm2 \, python-ipaddress \ python-heat-agent* \,2,2
openstack%2Fstevedore~master~Ie3617d76b6131386c2fa241b41888436ed44909f,openstack/stevedore,master,Ie3617d76b6131386c2fa241b41888436ed44909f,update git.openstack.org to opendev,MERGED,2019-04-24 06:15:28.000000000,2019-05-03 18:57:17.000000000,2019-05-03 18:57:17.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30298}]","[{'number': 1, 'created': '2019-04-24 06:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stevedore/commit/adfc7fb52363c1f83b6dfb06a47b8d2d6cc0c946', 'message': 'update git.openstack.org to opendev\n\nChange-Id: Ie3617d76b6131386c2fa241b41888436ed44909f\n'}, {'number': 2, 'created': '2019-04-25 01:07:20.000000000', 'files': ['doc/source/install/index.rst', 'README.rst', 'stevedore/example2/setup.py', 'tox.ini', 'stevedore/example/setup.py'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/b13d7fe5998792ce9abba8429a1161e7939e2f3c', 'message': 'update git.openstack.org to opendev\n\nChange-Id: Ie3617d76b6131386c2fa241b41888436ed44909f\n'}]",3,655304,b13d7fe5998792ce9abba8429a1161e7939e2f3c,11,4,2,30298,,,0,"update git.openstack.org to opendev

Change-Id: Ie3617d76b6131386c2fa241b41888436ed44909f
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/04/655304/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index.rst', 'README.rst', 'stevedore/example2/setup.py', 'tox.ini', 'stevedore/example/setup.py']",5,adfc7fb52363c1f83b6dfb06a47b8d2d6cc0c946,," url='http://opendev.org/openstack/stevedore',"," url='http://git.openstack.org/cgit/openstack/stevedore',",7,7
openstack%2Fnova~master~I3230897de2414f1f210edc7194f890c45decd565,openstack/nova,master,I3230897de2414f1f210edc7194f890c45decd565,Check compute_node existence in when nova-compute reports info to placement,NEW,2019-03-08 01:50:12.000000000,2019-05-03 18:54:05.000000000,,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15333}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29451}]","[{'number': 1, 'created': '2019-03-08 01:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d5c2c7733d4a8d6538b1a33f47ff3c14152fe44', 'message': 'Check compute_node existence in when nova-compute reports info to placement\n\nIf deleting service when nova-compute service is active, nova-compute will\nnova-compute will continue to report the old resource_provider uuid, this will\nrasie ResourceProviderCreationFailed.\nAdd _get_compute_node in _update_to_placement to ensure compute_node existence.\n\nChange-Id: I3230897de2414f1f210edc7194f890c45decd565\nCloses-Bug: #1817833\n'}, {'number': 2, 'created': '2019-03-08 01:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/982e445abb0d963b4b1d3fc81c93a4645c88899a', 'message': 'Check compute_node existence in when nova-compute reports info to placement\n\nIf deleting service when nova-compute service is active, nova-compute will\ncontinue to report the old resource_provider uuid, this will rasie\nResourceProviderCreationFailed.\nSo add _get_compute_node in _update_to_placement to ensure compute_node existence.\n\nChange-Id: I3230897de2414f1f210edc7194f890c45decd565\nCloses-Bug: #1817833\n'}, {'number': 3, 'created': '2019-03-11 05:24:17.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ea7a547c19fc1ae6587d440a856912cbae329120', 'message': 'Check compute_node existence in when nova-compute reports info to placement\n\nIf deleting service when nova-compute service is active, nova-compute will\ncontinue to report the old resource_provider uuid, this will raise\nResourceProviderCreationFailed.\nSo add _get_compute_node in _update_to_placement to ensure compute_node existence.\n\nChange-Id: I3230897de2414f1f210edc7194f890c45decd565\nCloses-Bug: #1817833\n'}]",3,641899,ea7a547c19fc1ae6587d440a856912cbae329120,26,17,3,21914,,,0,"Check compute_node existence in when nova-compute reports info to placement

If deleting service when nova-compute service is active, nova-compute will
continue to report the old resource_provider uuid, this will raise
ResourceProviderCreationFailed.
So add _get_compute_node in _update_to_placement to ensure compute_node existence.

Change-Id: I3230897de2414f1f210edc7194f890c45decd565
Closes-Bug: #1817833
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/641899/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",2,0d5c2c7733d4a8d6538b1a33f47ff3c14152fe44,bug/1817833," # First check compute_node existence. if not self._get_compute_node(context, nodename): return # Try update_provider_tree", # First try update_provider_tree,59,9
openstack%2Foslo.messaging~master~Ib4a523adf3275a8727d5a4f2a149e163a81be3cc,openstack/oslo.messaging,master,Ib4a523adf3275a8727d5a4f2a149e163a81be3cc,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:40.000000000,2019-05-03 18:42:20.000000000,2019-05-03 18:42:20.000000000,"[{'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28522}, {'_account_id': 29222}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 05:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/27b851d7785d73125744f6acd5331cd307b95da4', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ib4a523adf3275a8727d5a4f2a149e163a81be3cc\n'}, {'number': 2, 'created': '2019-04-26 02:31:35.000000000', 'files': ['README.rst', 'doc/source/admin/kafka.rst', 'doc/source/admin/AMQP1.0.rst', 'oslo_messaging/_drivers/amqp1_driver/oslo_messaging_amqp_driver_overview.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9b7bcbda2f1993c563031df7ea6ae7b9a386beeb', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ib4a523adf3275a8727d5a4f2a149e163a81be3cc\n'}]",0,654735,9b7bcbda2f1993c563031df7ea6ae7b9a386beeb,13,7,2,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ib4a523adf3275a8727d5a4f2a149e163a81be3cc
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/35/654735/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'doc/source/admin/kafka.rst', 'doc/source/admin/AMQP1.0.rst', 'oslo_messaging/_drivers/amqp1_driver/oslo_messaging_amqp_driver_overview.rst', 'tox.ini']",5,27b851d7785d73125744f6acd5331cd307b95da4,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},6,6
openstack%2Foslo.serialization~master~I3f7dfce5ceb5d3b802878c410406994cbb0988b6,openstack/oslo.serialization,master,I3f7dfce5ceb5d3b802878c410406994cbb0988b6,Explicitly set default_flow_style to False,MERGED,2019-05-02 17:06:36.000000000,2019-05-03 18:41:38.000000000,2019-05-03 18:41:38.000000000,"[{'_account_id': 4257}, {'_account_id': 13861}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-02 17:06:36.000000000', 'files': ['oslo_serialization/tests/test_yamlutils.py', 'oslo_serialization/yamlutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/448807a706954729b645683f398ab182f21a6398', 'message': ""Explicitly set default_flow_style to False\n\nIn PyYAML 5.1 they changed this default in the library. Because\nwe weren't explicitly setting it, this broke our unit tests.\nSince default_flow_style=False is usually what you want (hence why\nPyYAML changed it), let's set it explicitly.\n\nAlso note that this was already being set for dump, but not for\ndumps. This is also more consistent.\n\nChange-Id: I3f7dfce5ceb5d3b802878c410406994cbb0988b6\n""}]",0,656813,448807a706954729b645683f398ab182f21a6398,8,6,1,6928,,,0,"Explicitly set default_flow_style to False

In PyYAML 5.1 they changed this default in the library. Because
we weren't explicitly setting it, this broke our unit tests.
Since default_flow_style=False is usually what you want (hence why
PyYAML changed it), let's set it explicitly.

Also note that this was already being set for dump, but not for
dumps. This is also more consistent.

Change-Id: I3f7dfce5ceb5d3b802878c410406994cbb0988b6
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/13/656813/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_serialization/tests/test_yamlutils.py', 'oslo_serialization/yamlutils.py']",2,448807a706954729b645683f398ab182f21a6398,pyyaml-5.1," return yaml.dump(obj, default_flow_style=False, Dumper=yaml_dumper)"," return yaml.dump(obj, Dumper=yaml_dumper)",7,5
openstack%2Fmistral~master~I149b2e1dff7f86bd356f4dd2f758659469e6a4a8,openstack/mistral,master,I149b2e1dff7f86bd356f4dd2f758659469e6a4a8,"Docs improvements: task timeout, global context, Docker and jinja",MERGED,2018-09-11 06:35:11.000000000,2019-05-03 18:35:02.000000000,2019-05-03 18:35:02.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 27008}, {'_account_id': 29124}]","[{'number': 1, 'created': '2018-09-11 06:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/615804cf98767a63bb1142c52190e70ddd1bd485', 'message': 'Docs improvements: task timeout, global context, Docker and jinja\n\nA not obvious point for users is the task does not retry after a\ntimeout is triggered. Added clarification in the retry section.\n\nThe documentation contains enough example with Jinja usage. Improved\nonly the create_vm workflow definition.\n\nAdded global publishing to the doc. It is brash copy-paste from\nhttps://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html without mention of atomic publish.\n\nMove Docker guides to the installation section.\n\nChange-Id: I149b2e1dff7f86bd356f4dd2f758659469e6a4a8\nCloses-Bug: #1789384\nCloses-Bug: #1690156\nCloses-Bug: #1779244\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}, {'number': 2, 'created': '2018-09-11 08:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1f1126d7d9e6c3bebe69aadd588b029513d6c69d', 'message': 'Docs improvements: task timeout, global context, Docker and jinja\n\nA not obvious point for users is the task does not retry after a\ntimeout is triggered. Added clarification in the retry section.\n\nThe documentation contains enough example with Jinja usage. Improved\nonly the create_vm workflow definition.\n\nAdded global publishing to the doc. It is brash copy-paste from\nhttps://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html without mention of atomic publish.\n\nMove Docker guides to the installation section.\n\nChange-Id: I149b2e1dff7f86bd356f4dd2f758659469e6a4a8\nCloses-Bug: #1789384\nCloses-Bug: #1690156\nCloses-Bug: #1779244\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}, {'number': 3, 'created': '2018-10-15 22:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/601d1fe0925f078751bee98c6bcfe49bbb780174', 'message': 'Docs improvements: task timeout, global context, Docker and jinja\n\nA not obvious point for users is the task does not retry after a\ntimeout is triggered. Added clarification in the retry section.\n\nThe documentation contains enough example with Jinja usage. Improved\nonly the create_vm workflow definition.\n\nAdded global publishing to the doc. It is brash copy-paste from\nhttps://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html without mention of atomic publish.\n\nMove Docker guides to the installation section.\n\nChange-Id: I149b2e1dff7f86bd356f4dd2f758659469e6a4a8\nCloses-Bug: #1789384\nCloses-Bug: #1690156\nCloses-Bug: #1779244\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}, {'number': 4, 'created': '2019-05-03 17:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6e9c7ee48923ea357386eaa2a926f3c1def756e5', 'message': 'Docs improvements: task timeout, global context, Docker and jinja\n\nA not obvious point for users is the task does not retry after a\ntimeout is triggered. Added clarification in the retry section.\n\nThe documentation contains enough example with Jinja usage. Improved\nonly the create_vm workflow definition.\n\nAdded global publishing to the doc. It is brash copy-paste from\nhttps://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html without mention of atomic publish.\n\nMove Docker guides to the installation section.\n\nChange-Id: I149b2e1dff7f86bd356f4dd2f758659469e6a4a8\nCloses-Bug: #1789384\nCloses-Bug: #1690156\nCloses-Bug: #1779244\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}, {'number': 5, 'created': '2019-05-03 17:27:00.000000000', 'files': ['doc/source/user/wf_lang_v2.rst', 'doc/source/install/installation_guide.rst', 'tools/docker/DOCKER_README.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/09cd21d56106f417305b10c2f8f64568e916e0bd', 'message': 'Docs improvements: task timeout, global context, Docker and jinja\n\nA not obvious point for users is the task does not retry after a\ntimeout is triggered. Added clarification in the retry section.\n\nThe documentation contains enough example with Jinja usage. Improved\nonly the create_vm workflow definition.\n\nAdded global publishing to the doc. It is brash copy-paste from\nhttps://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html without mention of atomic publish.\n\nMove Docker guides to the installation section.\n\nChange-Id: I149b2e1dff7f86bd356f4dd2f758659469e6a4a8\nCloses-Bug: #1789384\nCloses-Bug: #1690156\nCloses-Bug: #1779244\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n'}]",6,601501,09cd21d56106f417305b10c2f8f64568e916e0bd,18,7,5,27008,,,0,"Docs improvements: task timeout, global context, Docker and jinja

A not obvious point for users is the task does not retry after a
timeout is triggered. Added clarification in the retry section.

The documentation contains enough example with Jinja usage. Improved
only the create_vm workflow definition.

Added global publishing to the doc. It is brash copy-paste from
https://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html without mention of atomic publish.

Move Docker guides to the installation section.

Change-Id: I149b2e1dff7f86bd356f4dd2f758659469e6a4a8
Closes-Bug: #1789384
Closes-Bug: #1690156
Closes-Bug: #1779244
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/01/601501/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/installation_guide.rst', 'doc/source/user/wf_lang_v2.rst', 'tools/docker/DOCKER_README.rst']",3,615804cf98767a63bb1142c52190e70ddd1bd485,bug/1789384,,"Using Mistral with Docker ========================= Docker containers provide an easy way to quickly deploy independent or networked Mistral instances in seconds. This guide describes the process to launch an all-in-one Mistral container. Docker Installation ------------------- The following links contain instructions to install latest Docker software: * `Docker Engine <https://docs.docker.com/engine/installation/>`_ * `Docker Compose <https://docs.docker.com/compose/install/>`_ Build the Mistral Image Manually -------------------------------- Execute the following command from the repository top-level directory:: docker build -t mistral -f tools/docker/Dockerfile . The Mistral Docker image has one build parameter: +-------------------------+-------------+--------------------------------------+ |Name |Default value| Description | +=========================+=============+======================================+ |`BUILD_TEST_DEPENDENCIES`|false |If the `BUILD_TEST_DEPENDENCIES` | | | |equals `true`, the Mistral test | | | |dependencies will be installed inside | | | |the Docker image | +-------------------------+-------------+----------------------+---------------+ Running Mistral using Docker Compose ------------------------------------ To launch Mistral in the single node configuration:: docker-compose -f tools/docker/docker-compose/infrastructure.yaml \ -f tools/docker/docker-compose/mistral-single-node.yaml \ -p mistral up -d To launch Mistral in the multi node configuration:: docker-compose -f tools/docker/docker-compose/infrastructure.yaml \ -f tools/docker/docker-compose/mistral-multi-node.yaml \ -p mistral up -d The infrastructure docker-compose file contains examples of RabbitMQ, PostgreSQL and MySQL configurations. Feel free to modify the docker-compose files as needed. The docker-compose Mistral configurations also include the CloudFlow container. It is available at `link <http://localhost:8000/>`_ The `--build` option can be used when it is necessary to rebuild the image, for example:: docker-compose -f tools/docker/docker-compose/infrastructure.yaml \ -f tools/docker/docker-compose/mistral-single-node.yaml \ -p mistral up -d --build Running the Mistral client from the Docker Compose container ------------------------------------------------------------ To run the mistral client against the server in the container using the client present in the container:: docker run -it mistral_mistral mistral workflow-list Configuring Mistral ------------------- The Docker image contains the minimal set of Mistral configuration parameters by default: +--------------------+------------------+--------------------------------------+ |Name |Default value | Description | +====================+==================+======================================+ |`MESSAGE_BROKER_URL`|rabbit://guest:gu\|The message broker URL | | |est@rabbitmq:5672 | | +--------------------+------------------+----------------------+---------------+ |`DATABASE_URL` |sqlite:///mistral\|The database URL | | |.db | | +--------------------+------------------+----------------------+---------------+ |`UPGRADE_DB` |false |If the `UPGRADE_DB` equals `true`, | | | |a database upgrade will be launched | | | |before Mistral main process | +--------------------+------------------+----------------------+---------------+ |`MISTRAL_SERVER` |all |Specifies which mistral server to | | | |start by the launch script. | +--------------------+------------------+----------------------+---------------+ |`LOG_DEBUG` |false |If set to true, the logging level will| | | |be set to DEBUG instead of the default| | | |INFO level. | +--------------------+------------------+----------------------+---------------+ |`RUN_TESTS` |false |If the `UPGRADE_DB` equals `true`, | | | |the Mistral unit tests will be | | | |launched inside container | +--------------------+------------------+----------------------+---------------+ The `/etc/mistral/mistral.conf` configuration file can be mounted to the Mistral Docker container by uncommenting and editing the `volumes` sections in the Mistral docker-compose files. Launch tests inside Container ----------------------------- Build mistral:: docker build -t mistral -f tools/docker/Dockerfile \ --build-arg BUILD_TEST_DEPENDENCIES=true . Run tests using SQLite:: docker run -it -e RUN_TESTS=true mistral or PostgreSQL:: docker run -it \ -e DATABASE_URL=postgresql://postgres:postgres@localhost:5432/postgres \ -e RUN_TESTS=true mistral Keycloak integration -------------------- If you set AUTH_ENABLE to True value in the mistral.env file then Mistral will enable Keycloak integration by default. Keycloak will be deployed with mistral/mistral credentials. You should uncomment the volume line in the `infrastructure.yaml` for the CloudFlow. Next step you login in the administrative console using the http://localhost:8080/auth/admin URL. Create a oauth client, you can specify only a name, for example mistral. Specify valid redirect URL: http://localhost:8000/* and turn on the ""Implicit Flow Enabled"" in the your client page. Save your changes. Add the following line to your /etc/hosts file:: 127.0.0.1 keycloak Export the following environments variable for mistral cli:: export MISTRAL_AUTH_TYPE=keycloak-oidc export OS_AUTH_URL=http://keycloak:8080/auth export OS_TENANT_NAME=master export OS_USERNAME=mistral export OS_PASSWORD=mistral export OS_MISTRAL_URL=http://localhost:8989/v2 export OPENID_CLIENT_ID=mistral export OPENID_CLIENT_SECRET= export MISTRALCLIENT_INSECURE=True Check your configuration:: mistral workflow-list Or open a cloud flow page in a browser:: http://localhost:8000 Using Mistral Client -------------------- The Mistral API will be accessible from the host machine on the default port 8989. Install `python-mistralclient` on the host machine to execute mistral commands.",314,213
openstack%2Foslo.policy~master~Ic757ff7963f1dabd70610a884a4c61e747cd3961,openstack/oslo.policy,master,Ic757ff7963f1dabd70610a884a4c61e747cd3961,Dropping the py35 testing,MERGED,2019-04-15 01:17:29.000000000,2019-05-03 18:33:57.000000000,2019-05-03 18:33:56.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-04-15 01:17:29.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/bf400ddf34a42173e468d6f0b54fb51d53b949cd', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ic757ff7963f1dabd70610a884a4c61e747cd3961\n'}]",0,652453,bf400ddf34a42173e468d6f0b54fb51d53b949cd,7,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ic757ff7963f1dabd70610a884a4c61e747cd3961
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/53/652453/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,bf400ddf34a42173e468d6f0b54fb51d53b949cd,dropping-py35-testing,"envlist = py37,py36,py27,pep8,docs","envlist = py37,py36,py35,py27,pep8,docs",2,3
openstack%2Fos-traits~master~I3f55e52d8c7c5a6338effd76640bf723a65dd4d4,openstack/os-traits,master,I3f55e52d8c7c5a6338effd76640bf723a65dd4d4,Dropping the py35 testing,MERGED,2019-04-22 23:13:31.000000000,2019-05-03 18:31:23.000000000,2019-05-03 18:31:23.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-22 23:13:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/76cea9bc13ce24e8e088441078a9c03e799ba4b0', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I3f55e52d8c7c5a6338effd76640bf723a65dd4d4\n'}]",0,654651,76cea9bc13ce24e8e088441078a9c03e799ba4b0,7,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I3f55e52d8c7c5a6338effd76640bf723a65dd4d4
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/51/654651/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,76cea9bc13ce24e8e088441078a9c03e799ba4b0,dropping-py35-testing, Programming Language :: Python :: 3.6, Programming Language :: Python :: 3.5,1,1
openstack%2Fopenstackdocstheme~master~Iec7c7e1d99306c19032377c809bc1772ca036a15,openstack/openstackdocstheme,master,Iec7c7e1d99306c19032377c809bc1772ca036a15,Reference OpenStack logo in openstackdocstheme,MERGED,2019-04-07 08:02:40.000000000,2019-05-03 18:30:16.000000000,2019-05-03 18:30:16.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-07 08:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/d094c282f8f4040f20f865b7603b6fa302bc3d85', 'message': 'Adds OpenStack logo into openstackdocstheme\n\nPrevious OpenStack logo URL does not work anymore.\nThis patch applies a simliar approach\nas I368ec2e31055d279b5701cfbbec8a78111e73cb2 .\nAlso, modifies minor http -> https\n\nChange-Id: Iec7c7e1d99306c19032377c809bc1772ca036a15\nCloses-Bug: #1823514\n'}, {'number': 2, 'created': '2019-04-07 14:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/207cce624c3fd20acd9acbcb195ee683969952e5', 'message': 'Reference OpenStack logo in openstackdocstheme\n\nPrevious OpenStack logo URL from Foundation does not work anymore.\nThis patch applies a simliar approach\nas I368ec2e31055d279b5701cfbbec8a78111e73cb2 but keeps png files\nfor PDF builds.\nAlso, modifies minor http -> https\n\nChange-Id: Iec7c7e1d99306c19032377c809bc1772ca036a15\nCloses-Bug: #1823514\n'}, {'number': 3, 'created': '2019-04-25 14:52:57.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/static/css/combined.css', 'openstackdocstheme/theme/openstackdocs/static/images/openstack-logo-full.svg', 'openstackdocstheme/theme/openstackdocs/static/images/openstack-logo-vert.svg'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/16dfbb2867036f260c4dc31d1d700a17a1924e0e', 'message': 'Reference OpenStack logo in openstackdocstheme\n\nPrevious OpenStack logo URL from Foundation does not work anymore.\nThis patch applies a simliar approach\nas I368ec2e31055d279b5701cfbbec8a78111e73cb2 but keeps png files\nfor PDF builds.\nAlso, modifies minor http -> https\n\nChange-Id: Iec7c7e1d99306c19032377c809bc1772ca036a15\nCloses-Bug: #1823514\n'}]",12,650570,16dfbb2867036f260c4dc31d1d700a17a1924e0e,22,5,3,14482,,,0,"Reference OpenStack logo in openstackdocstheme

Previous OpenStack logo URL from Foundation does not work anymore.
This patch applies a simliar approach
as I368ec2e31055d279b5701cfbbec8a78111e73cb2 but keeps png files
for PDF builds.
Also, modifies minor http -> https

Change-Id: Iec7c7e1d99306c19032377c809bc1772ca036a15
Closes-Bug: #1823514
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/70/650570/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackdocstheme/theme/openstackdocs/static/images/openstack-logo-vert.png', 'openstackdocstheme/theme/openstackdocs/static/css/combined.css', 'openstackdocstheme/theme/openstackdocs/static/images/openstack-logo-full.svg', 'openstackdocstheme/theme/openstackdocs/static/images/openstack-logo-vert.svg', 'openstackdocstheme/theme/openstackdocs/static/images/openstack-logo-full.png']",5,d094c282f8f4040f20f865b7603b6fa302bc3d85,bug/1823514,,,118,4
openstack%2Fopenstackdocstheme~master~Iaf8bc1c559f5b149a48c9dd05beb0961365fda7e,openstack/openstackdocstheme,master,Iaf8bc1c559f5b149a48c9dd05beb0961365fda7e,Allow to override build date with SOURCE_DATE_EPOCH,MERGED,2019-04-15 14:00:37.000000000,2019-05-03 18:30:15.000000000,2019-05-03 18:30:15.000000000,"[{'_account_id': 1446}, {'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 14:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/68d0194c6c5b4179fa6085e0ef2a3f5441c656e8', 'message': 'Allow to override build date with SOURCE_DATE_EPOCH\n\nin order to make builds reproducible.\nSee https://reproducible-builds.org/ for why this is good\nand https://reproducible-builds.org/specs/source-date-epoch/\nfor the definition of this variable.\n\nChange-Id: Iaf8bc1c559f5b149a48c9dd05beb0961365fda7e\nSigned-off-by: Bernhard M. Wiedemann <bwiedemann@suse.de>\n'}, {'number': 2, 'created': '2019-04-15 14:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/cc11f0354df79489914d991bc044886b83bc6911', 'message': 'Allow to override build date with SOURCE_DATE_EPOCH\n\nin order to make builds reproducible.\nSee https://reproducible-builds.org/ for why this is good\nand https://reproducible-builds.org/specs/source-date-epoch/\nfor the definition of this variable.\n\nChange-Id: Iaf8bc1c559f5b149a48c9dd05beb0961365fda7e\nSigned-off-by: Bernhard M. Wiedemann <bwiedemann@suse.de>\n'}, {'number': 3, 'created': '2019-04-29 13:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/5d7bd5ce512ccd5510d5685f5e3036c01822f3d4', 'message': 'Allow to override build date with SOURCE_DATE_EPOCH\n\nin order to make builds reproducible.\nSee https://reproducible-builds.org/ for why this is good\nand https://reproducible-builds.org/specs/source-date-epoch/\nfor the definition of this variable.\n\nChange-Id: Iaf8bc1c559f5b149a48c9dd05beb0961365fda7e\nSigned-off-by: Bernhard M. Wiedemann <bwiedemann@suse.de>\n'}, {'number': 4, 'created': '2019-04-29 13:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/0bcff73656f139f8b6f98272e5a5ed35738de8b4', 'message': 'Allow to override build date with SOURCE_DATE_EPOCH\n\nin order to make builds reproducible.\nSee https://reproducible-builds.org/ for why this is good\nand https://reproducible-builds.org/specs/source-date-epoch/\nfor the definition of this variable.\n\nWithout this patch, building python-debtcollector from a tarball\nthat does not contain a .git dir varied for every build.\n\nChange-Id: Iaf8bc1c559f5b149a48c9dd05beb0961365fda7e\nSigned-off-by: Bernhard M. Wiedemann <bwiedemann@suse.de>\n'}, {'number': 5, 'created': '2019-04-29 14:35:19.000000000', 'files': ['openstackdocstheme/page_context.py', 'releasenotes/notes/source_date_epoch-1078730ca0b29a4e.yaml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/7f0b9457417f0fb44044db7eb96e5d0e919b5e8c', 'message': 'Allow to override build date with SOURCE_DATE_EPOCH\n\nin order to make builds reproducible.\nSee https://reproducible-builds.org/ for why this is good\nand https://reproducible-builds.org/specs/source-date-epoch/\nfor the definition of this variable.\n\nWithout this patch, building python-debtcollector from a tarball\nthat does not contain a .git dir varied for every build.\n\nChange-Id: Iaf8bc1c559f5b149a48c9dd05beb0961365fda7e\nSigned-off-by: Bernhard M. Wiedemann <bwiedemann@suse.de>\n'}]",2,652669,7f0b9457417f0fb44044db7eb96e5d0e919b5e8c,19,4,5,1446,,,0,"Allow to override build date with SOURCE_DATE_EPOCH

in order to make builds reproducible.
See https://reproducible-builds.org/ for why this is good
and https://reproducible-builds.org/specs/source-date-epoch/
for the definition of this variable.

Without this patch, building python-debtcollector from a tarball
that does not contain a .git dir varied for every build.

Change-Id: Iaf8bc1c559f5b149a48c9dd05beb0961365fda7e
Signed-off-by: Bernhard M. Wiedemann <bwiedemann@suse.de>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/69/652669/5 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/page_context.py'],1,68d0194c6c5b4179fa6085e0ef2a3f5441c656e8,date,"import osimport time_timeint = int(os.environ.get('SOURCE_DATE_EPOCH', time.time())) _default_last_updated = datetime.datetime.utcfromtimestamp(_timeint)",_default_last_updated = datetime.datetime.now(),4,1
openstack%2Foslo.log~master~Ib110f4a3c9475d2655dbf67d28474f54928b142a,openstack/oslo.log,master,Ib110f4a3c9475d2655dbf67d28474f54928b142a,Dropping the py35 testing,MERGED,2019-04-15 01:06:36.000000000,2019-05-03 18:30:14.000000000,2019-05-03 18:30:13.000000000,"[{'_account_id': 1736}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 01:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/d56647f60dfc2973615e0518d525c1764b95b09a', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib110f4a3c9475d2655dbf67d28474f54928b142a\n'}, {'number': 2, 'created': '2019-04-15 18:28:10.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/6742d1f1c13dfbc71b6a462f8cbe9344602247b2', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib110f4a3c9475d2655dbf67d28474f54928b142a\n'}]",0,652446,6742d1f1c13dfbc71b6a462f8cbe9344602247b2,9,3,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ib110f4a3c9475d2655dbf67d28474f54928b142a
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/46/652446/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,d56647f60dfc2973615e0518d525c1764b95b09a,dropping-py35-testing,"envlist = py27,pep8","envlist = py35,py27,pep8",2,3
openstack%2Fdebtcollector~master~I28c2239bc31f3dd3b52eefa417fc4e29cee9b241,openstack/debtcollector,master,I28c2239bc31f3dd3b52eefa417fc4e29cee9b241,Dropping the py35 testing,MERGED,2019-04-15 00:46:01.000000000,2019-05-03 18:29:01.000000000,2019-05-03 18:29:01.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 00:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/cc7261e448464a48a493698c33c6f452fa0de543', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I28c2239bc31f3dd3b52eefa417fc4e29cee9b241\n'}, {'number': 2, 'created': '2019-04-15 18:32:02.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/4ffb9a29332bb237c20be9e366eb7839fcb5519c', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I28c2239bc31f3dd3b52eefa417fc4e29cee9b241\n'}]",0,652430,4ffb9a29332bb237c20be9e366eb7839fcb5519c,11,3,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I28c2239bc31f3dd3b52eefa417fc4e29cee9b241
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/30/652430/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,cc7261e448464a48a493698c33c6f452fa0de543,dropping-py35-testing,"envlist = py27,pep8","envlist = py35,py27,pep8",2,3
openstack%2Foslo.utils~master~I431a9623991dfad180f0654891b930b547df2689,openstack/oslo.utils,master,I431a9623991dfad180f0654891b930b547df2689,Dropping the py35 testing,MERGED,2019-04-15 01:28:45.000000000,2019-05-03 18:27:45.000000000,2019-05-03 18:27:45.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 01:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/7796cf6654b1ac8fb9cee0b1ebe5e64f5550345c', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I431a9623991dfad180f0654891b930b547df2689\n'}, {'number': 2, 'created': '2019-04-15 18:29:34.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/1a87277dd0cf595d442bfe038501fcb95408e4e9', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I431a9623991dfad180f0654891b930b547df2689\n'}]",0,652462,1a87277dd0cf595d442bfe038501fcb95408e4e9,8,2,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I431a9623991dfad180f0654891b930b547df2689
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/62/652462/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,7796cf6654b1ac8fb9cee0b1ebe5e64f5550345c,dropping-py35-testing,"envlist = py27,pep8","envlist = py35,py27,pep8",2,3
openstack%2Foslo.privsep~master~Idd169dc8dbe07a17cbdf3e0834ccf3998badcfb2,openstack/oslo.privsep,master,Idd169dc8dbe07a17cbdf3e0834ccf3998badcfb2,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:31.000000000,2019-05-03 18:21:47.000000000,2019-05-03 18:21:47.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 05:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/039efb6fc3345053797eae12dc5294db00a75442', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Idd169dc8dbe07a17cbdf3e0834ccf3998badcfb2\n'}, {'number': 2, 'created': '2019-04-30 05:27:15.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/447b377f86f8bced69b33e6018fab9fdd094464b', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Idd169dc8dbe07a17cbdf3e0834ccf3998badcfb2\nCloses-Bug: #1826999\n'}]",0,654724,447b377f86f8bced69b33e6018fab9fdd094464b,12,5,2,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Idd169dc8dbe07a17cbdf3e0834ccf3998badcfb2
Closes-Bug: #1826999
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/24/654724/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,039efb6fc3345053797eae12dc5294db00a75442,bug/1826999, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fopenstack-doc-tools~master~I0aa0fd95fd882ab0989eed81d535b963c821c162,openstack/openstack-doc-tools,master,I0aa0fd95fd882ab0989eed81d535b963c821c162,Drop py35 testing,MERGED,2019-04-28 14:57:23.000000000,2019-05-03 18:18:55.000000000,2019-05-03 18:18:55.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-28 14:57:23.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/74429f77c3bf0b7f02180795226afa17eed1b6fc', 'message': 'Drop py35 testing\n\nAll the integration testing has been moved to Bionic now[1] and py3.5\nis not tested runtime for Train or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35 testing now:\n  http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2] https://governance.openstack.org/tc/reference/runtimes/stein.html\n    https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I0aa0fd95fd882ab0989eed81d535b963c821c162\n'}]",0,656172,74429f77c3bf0b7f02180795226afa17eed1b6fc,6,2,1,6547,,,0,"Drop py35 testing

All the integration testing has been moved to Bionic now[1] and py3.5
is not tested runtime for Train or stable/stein[2].

As per below ML thread, we are good to drop the py35 testing now:
  http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2] https://governance.openstack.org/tc/reference/runtimes/stein.html
    https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I0aa0fd95fd882ab0989eed81d535b963c821c162
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/72/656172/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,74429f77c3bf0b7f02180795226afa17eed1b6fc,dropping-py35-testing,"envlist = py36,py27,pep8","envlist = py3,py27,pep8",2,3
openstack%2Foslo.rootwrap~master~I80c0661599c18e01b5a51444423513f99084e3e8,openstack/oslo.rootwrap,master,I80c0661599c18e01b5a51444423513f99084e3e8,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:27.000000000,2019-05-03 18:17:11.000000000,2019-05-03 18:17:11.000000000,"[{'_account_id': 308}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 05:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/f2327770c734412f73ca00c8f927dce6c1f9d06d', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I80c0661599c18e01b5a51444423513f99084e3e8\n'}, {'number': 2, 'created': '2019-04-24 11:10:41.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/a64282d91364551ec60a8bfbf602acc36f190501', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I80c0661599c18e01b5a51444423513f99084e3e8\nCloses-Bug: #1826195\n'}]",1,654722,a64282d91364551ec60a8bfbf602acc36f190501,13,6,2,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I80c0661599c18e01b5a51444423513f99084e3e8
Closes-Bug: #1826195
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/22/654722/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,f2327770c734412f73ca00c8f927dce6c1f9d06d,bug/1826195, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Foslo.context~master~I1f6f2f930ee55e2d7491858018eaab4058174484,openstack/oslo.context,master,I1f6f2f930ee55e2d7491858018eaab4058174484,Dropping the py35 testing,MERGED,2019-04-15 01:00:58.000000000,2019-05-03 18:14:13.000000000,2019-05-03 18:14:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 01:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/1dfb74dc7b30c55145e5bccda9a07ab564f7585d', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I1f6f2f930ee55e2d7491858018eaab4058174484\n'}, {'number': 2, 'created': '2019-04-15 18:59:23.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/bb31794553689e39e15680b765d8191fbcd58fb3', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I1f6f2f930ee55e2d7491858018eaab4058174484\n'}]",0,652439,bb31794553689e39e15680b765d8191fbcd58fb3,8,2,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I1f6f2f930ee55e2d7491858018eaab4058174484
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/39/652439/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,1dfb74dc7b30c55145e5bccda9a07ab564f7585d,dropping-py35-testing,"envlist = py27,pep8","envlist = py35,py27,pep8",2,3
openstack%2Foslo.concurrency~master~Idd5ceaf4d50d7181bce2859011b2a0c8206044d5,openstack/oslo.concurrency,master,Idd5ceaf4d50d7181bce2859011b2a0c8206044d5,Dropping the py35 testing,MERGED,2019-04-15 00:57:15.000000000,2019-05-03 18:05:40.000000000,2019-05-03 18:05:40.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 00:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/6fd7d72f6c8db1aa9a4f4489169f8328355002b4', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Idd5ceaf4d50d7181bce2859011b2a0c8206044d5\n'}, {'number': 2, 'created': '2019-04-15 19:00:40.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/7dd091319433f5c97537d5f57c40b930c7d57df2', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Idd5ceaf4d50d7181bce2859011b2a0c8206044d5\n'}]",0,652435,7dd091319433f5c97537d5f57c40b930c7d57df2,9,2,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Idd5ceaf4d50d7181bce2859011b2a0c8206044d5
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/35/652435/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,6fd7d72f6c8db1aa9a4f4489169f8328355002b4,dropping-py35-testing,"envlist = py27,pep8","envlist = py35,py27,pep8",2,2
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9be9990ff8a34c884c252334fc74a9d39f81654f,openstack/tripleo-heat-templates,stable/stein,I9be9990ff8a34c884c252334fc74a9d39f81654f,Make removal of /var/lib/docker best effort - dont fail upgrades,ABANDONED,2019-04-25 09:47:48.000000000,2019-05-03 18:03:06.000000000,,"[{'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-25 09:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af5f7b032376b2f1827daf42e2e55d3a60c6af87', 'message': ""Make removal of /var/lib/docker best effort - dont fail upgrades\n\nAdds ignore_errors and message for logs incase we couldn't purge\n/var/lib/docker. This fails stein jobs see related-bug\n\nChange-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f\nRelated-Bug: 1826375\n""}, {'number': 2, 'created': '2019-04-25 11:37:48.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7472f0bae15e36380a5f8c43ce1bc52361343f18', 'message': ""Make removal of /var/lib/docker best effort - dont fail upgrades\n\nAdds ignore_errors and message for logs incase we couldn't purge\n/var/lib/docker. This fails stein jobs see related-bug\n\nChange-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f\n(cherry picked from commit 1055a9585d3e531ee1aac585db2b11e3296a0932)\nRelated-Bug: 1826375\n""}]",2,655646,7472f0bae15e36380a5f8c43ce1bc52361343f18,8,5,2,8449,,,0,"Make removal of /var/lib/docker best effort - dont fail upgrades

Adds ignore_errors and message for logs incase we couldn't purge
/var/lib/docker. This fails stein jobs see related-bug

Change-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f
(cherry picked from commit 1055a9585d3e531ee1aac585db2b11e3296a0932)
Related-Bug: 1826375
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/655646/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,af5f7b032376b2f1827daf42e2e55d3a60c6af87,bug/1826375-stable/stein," - name: Try to purge /var/lib/docker file: path: /var/lib/docker state: absent ignore_errors: true register: purge_lib_docker - name: Warn if rm /var/lib/docker fails debug: msg: ""[WARNING] Tried but failed to purge /var/lib/docker please try manually - {{ purge_lib_docker.msg }}"" when: - purge_lib_docker.failed|default(false) == true", - name: Purge /var/lib/docker file: path: /var/lib/docker state: absent,11,4
openstack%2Ftripleo-heat-templates~master~I9be9990ff8a34c884c252334fc74a9d39f81654f,openstack/tripleo-heat-templates,master,I9be9990ff8a34c884c252334fc74a9d39f81654f,Make removal of /var/lib/docker best effort - dont fail upgrades,ABANDONED,2019-04-25 09:44:29.000000000,2019-05-03 18:02:57.000000000,,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-25 09:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26cb01f1d0dd6a31dd3a20ea9a10eac35d00cf3c', 'message': ""Make removal of /var/lib/docker best effort - dont fail upgrades\n\nAdds ignore_errors and message for logs incase we couldn't purge\n/var/lib/docker. This fails stein jobs see related-bug\n\nChange-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f\nRelated-Bug: 1826375\n""}, {'number': 2, 'created': '2019-04-25 11:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1055a9585d3e531ee1aac585db2b11e3296a0932', 'message': ""Make removal of /var/lib/docker best effort - dont fail upgrades\n\nAdds ignore_errors and message for logs incase we couldn't purge\n/var/lib/docker. This fails stein jobs see related-bug\n\nChange-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f\nRelated-Bug: 1826375\n""}, {'number': 3, 'created': '2019-05-01 17:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13177f70266ad3111d85f8f34bc2c6e85c4cd57f', 'message': ""Make removal of /var/lib/docker best effort - dont fail upgrades\n\nAdds ignore_errors and message for logs incase we couldn't purge\n/var/lib/docker. This fails stein jobs see related-bug\n\nChange-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f\nRelated-Bug: 1826375\n""}, {'number': 4, 'created': '2019-05-01 17:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03cf0c292b1e3cab1c272ed089aace20aa67bc81', 'message': ""Make removal of /var/lib/docker best effort - dont fail upgrades\n\nAdds ignore_errors and message for logs incase we couldn't purge\n/var/lib/docker. This fails stein jobs see related-bug\n\nChange-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f\nRelated-Bug: 1826375\n(cherry picked from commit 13177f70266ad3111d85f8f34bc2c6e85c4cd57f)\n""}, {'number': 5, 'created': '2019-05-01 17:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/807be2ebae028956029e1a633d66fd4c30d5cb2a', 'message': ""Make removal of /var/lib/docker best effort - dont fail upgrades\n\nAdds ignore_errors and message for logs incase we couldn't purge\n/var/lib/docker. This fails stein jobs see related-bug\n\nChange-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f\nRelated-Bug: 1826375\n""}, {'number': 6, 'created': '2019-05-01 17:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77140c8d1497cd1e0636a57c5985c5fd2d17153e', 'message': ""Make removal of /var/lib/docker best effort - dont fail upgrades\n\nAdds ignore_errors and message for logs incase we couldn't purge\n/var/lib/docker. This fails stein jobs see related-bug\n\nChange-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f\n(cherry picked from commit 807be2ebae028956029e1a633d66fd4c30d5cb2a)\nRelated-Bug: 1826375\n""}, {'number': 7, 'created': '2019-05-01 17:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/806cbf3c042dfb0a33a9ef1700d63d233b2f5aea', 'message': ""Make removal of /var/lib/docker best effort - dont fail upgrades\n\nAdds ignore_errors and message for logs incase we couldn't purge\n/var/lib/docker. This fails stein jobs see related-bug\n\nChange-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f\nRelated-Bug: 1826375\n""}, {'number': 8, 'created': '2019-05-01 17:58:32.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a0add7957f9c26947688e405cb6aaa16efcd132', 'message': ""Make removal of /var/lib/docker best effort - dont fail upgrades\n\nAdds ignore_errors and message for logs incase we couldn't purge\n/var/lib/docker. This fails stein jobs see related-bug\n\nChange-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f\nRelated-Bug: 1826375\n""}]",2,655644,9a0add7957f9c26947688e405cb6aaa16efcd132,19,5,8,8449,,,0,"Make removal of /var/lib/docker best effort - dont fail upgrades

Adds ignore_errors and message for logs incase we couldn't purge
/var/lib/docker. This fails stein jobs see related-bug

Change-Id: I9be9990ff8a34c884c252334fc74a9d39f81654f
Related-Bug: 1826375
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/655644/8 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,26cb01f1d0dd6a31dd3a20ea9a10eac35d00cf3c,bug/1826375," - name: Try to purge /var/lib/docker file: path: /var/lib/docker state: absent ignore_errors: true register: purge_lib_docker - name: Warn if rm /var/lib/docker fails debug: msg: ""[WARNING] Tried but failed to purge /var/lib/docker please try manually - {{ purge_lib_docker.msg }}"" when: - purge_lib_docker.failed|default(false) == true", - name: Purge /var/lib/docker file: path: /var/lib/docker state: absent,11,4
openstack%2Fnova~master~I32c26ea3db74e8ecd738a182a7cf882deeaa6585,openstack/nova,master,I32c26ea3db74e8ecd738a182a7cf882deeaa6585,Deny volume swapping with non-bootable volume,ABANDONED,2016-12-06 06:49:11.000000000,2019-05-03 17:32:52.000000000,,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 20182}, {'_account_id': 24645}, {'_account_id': 26515}]","[{'number': 1, 'created': '2016-12-06 06:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4e75b12b797a463311d6930d367407549055b69', 'message': 'Deny volume swapping with non-bootable volume\n\nCurrently, non-bootable volumes can be used while swapping volumes\nof an instance which in turn allows the instance to get booted from\na non-bootable volume. This behaviour seems to be inconsistent.\n\nThis patch denies the use of non-bootable volumes for volume swapping,\nand returns 400 error indicating the volume to be invalid.\n\nCloses-Bug: #1642492\n\nChange-Id: I32c26ea3db74e8ecd738a182a7cf882deeaa6585\n'}, {'number': 2, 'created': '2016-12-06 13:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4d2faa687a7d106569a75eb8455bc035359bc06', 'message': 'Deny volume swapping with non-bootable volume\n\nCurrently, non-bootable volumes can be used while swapping volumes\nof an instance which in turn allows the instance to get booted from\na non-bootable volume. This behaviour seems to be inconsistent.\n\nThis patch denies the use of non-bootable volumes for volume swapping,\nand returns 400 error indicating the volume to be invalid.\n\nCloses-Bug: #1642492\n\nChange-Id: I32c26ea3db74e8ecd738a182a7cf882deeaa6585\n'}, {'number': 3, 'created': '2017-01-12 06:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60d5412233ef0b3b10bdd5e537034ce40709a428', 'message': 'Deny volume swapping with non-bootable volume\n\nCurrently, non-bootable volumes can be used while swapping volumes\nof an instance which in turn allows the instance to get booted from\na non-bootable volume. This behaviour seems to be inconsistent.\n\nThis patch denies the use of non-bootable volumes for volume swapping,\nif the instance is volume backed, and returns 400 error indicating the\nvolume to be invalid.\n\nCloses-Bug: #1642492\n\nChange-Id: I32c26ea3db74e8ecd738a182a7cf882deeaa6585\n'}, {'number': 4, 'created': '2017-03-20 11:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56f9c950e7c230c8e5c6090becb86ac2beb450a8', 'message': 'Deny volume swapping with non-bootable volume\n\nPresently, nova allows you to swap a volume used for booting an\ninstance with a non-bootable volume. Since you are not allowed\nto use non-bootable volume for booting an instance so the same\nrule should be applied when you are trying to swap a bootable\nvolume with a non-bootable volume.\n\nThis patch will not allow user to swap a bootable volume with a\nnon-bootable volume. It will return 400 error in this case.\n\nCloses-Bug: #1642492\nChange-Id: I32c26ea3db74e8ecd738a182a7cf882deeaa6585\n'}, {'number': 5, 'created': '2017-06-21 10:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd27f2d25f247128bb75db20d44118ecc18385aa', 'message': 'Deny volume swapping with non-bootable volume\n\nPresently, nova allows you to swap a volume used for booting an\ninstance with a non-bootable volume. Since you are not allowed\nto use non-bootable volume for booting an instance so the same\nrule should be applied when you are trying to swap a bootable\nvolume with a non-bootable volume.\n\nThis patch will not allow user to swap a bootable volume with a\nnon-bootable volume. It will return 400 error in this case.\n\nCloses-Bug: #1642492\nChange-Id: I32c26ea3db74e8ecd738a182a7cf882deeaa6585\n'}, {'number': 6, 'created': '2017-08-08 06:58:12.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95fcf458917181f810f123bc2b35bcfd5cbb027c', 'message': 'Deny volume swapping with non-bootable volume\n\nPresently, nova allows you to swap a volume used for booting an\ninstance with a non-bootable volume. Since you are not allowed\nto use non-bootable volume for booting an instance so the same\nrule should be applied when you are trying to swap a bootable\nvolume with a non-bootable volume.\n\nThis patch will not allow user to swap a bootable volume with a\nnon-bootable volume. It will return 400 error in this case.\n\nCloses-Bug: #1642492\nChange-Id: I32c26ea3db74e8ecd738a182a7cf882deeaa6585\n'}]",4,407346,95fcf458917181f810f123bc2b35bcfd5cbb027c,86,26,6,22793,,,0,"Deny volume swapping with non-bootable volume

Presently, nova allows you to swap a volume used for booting an
instance with a non-bootable volume. Since you are not allowed
to use non-bootable volume for booting an instance so the same
rule should be applied when you are trying to swap a bootable
volume with a non-bootable volume.

This patch will not allow user to swap a bootable volume with a
non-bootable volume. It will return 400 error in this case.

Closes-Bug: #1642492
Change-Id: I32c26ea3db74e8ecd738a182a7cf882deeaa6585
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/407346/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,d4e75b12b797a463311d6930d367407549055b69,bug/1642492," if not new_volume['bootable']: msg = _(""New volume must be a bootable volume."") raise exception.InvalidVolume(reason=msg)",,14,1
openstack%2Fbarbican-tempest-plugin~master~If6b19082bc1092f5322dc529458af1e07da90194,openstack/barbican-tempest-plugin,master,If6b19082bc1092f5322dc529458af1e07da90194,Remove oslosphinx,MERGED,2019-04-23 14:43:11.000000000,2019-05-03 17:22:14.000000000,2019-05-03 17:22:14.000000000,"[{'_account_id': 1091}, {'_account_id': 6547}, {'_account_id': 6783}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 14:43:11.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/e0a759e0869faca877faad7d18d49addeec9a400', 'message': 'Remove oslosphinx\n\noslosphinx project is retired. Since this repo does not build any docs,\nwe can remove oslosphinx and sphinx requirements directly.\n\nChange-Id: If6b19082bc1092f5322dc529458af1e07da90194\n'}]",0,655172,e0a759e0869faca877faad7d18d49addeec9a400,8,12,1,6547,,,0,"Remove oslosphinx

oslosphinx project is retired. Since this repo does not build any docs,
we can remove oslosphinx and sphinx requirements directly.

Change-Id: If6b19082bc1092f5322dc529458af1e07da90194
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/72/655172/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e0a759e0869faca877faad7d18d49addeec9a400,retire-oslosphinx,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD oslosphinx>=4.7.0 # Apache-2.0",0,2
openstack%2Fproject-config~master~I3a647c6b2debc7bb0a3a06b3f3407c4ea7e3f3e5,openstack/project-config,master,I3a647c6b2debc7bb0a3a06b3f3407c4ea7e3f3e5,Check groups entry in gerrit/projects,MERGED,2019-05-03 07:23:28.000000000,2019-05-03 16:56:59.000000000,2019-05-03 16:56:59.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 16960}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 07:23:28.000000000', 'files': ['tools/check_valid_gerrit_projects.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/945a586f65b31935a0359f286df5a2c155369412', 'message': 'Check groups entry in gerrit/projects\n\nFollowing Icbef648e9948e0fa636dd0d15039b6fc229541ca, check that groups\nare a list if defined.\n\nChange-Id: I3a647c6b2debc7bb0a3a06b3f3407c4ea7e3f3e5\n'}]",0,656926,945a586f65b31935a0359f286df5a2c155369412,8,4,1,6547,,,0,"Check groups entry in gerrit/projects

Following Icbef648e9948e0fa636dd0d15039b6fc229541ca, check that groups
are a list if defined.

Change-Id: I3a647c6b2debc7bb0a3a06b3f3407c4ea7e3f3e5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/656926/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check_valid_gerrit_projects.py'],1,945a586f65b31935a0359f286df5a2c155369412,," # Check that groups is a list groups = p.get('groups') if (groups and not isinstance(groups, list)): found_errors += 1 print(""Error: groups entry for project %s is not a list."" % name)",,5,0
openstack%2Fmasakari-monitors~master~I82579964615a71345f12b73e7e0bb9debc84f640,openstack/masakari-monitors,master,I82579964615a71345f12b73e7e0bb9debc84f640,Use template for lower-constraints,MERGED,2018-12-20 20:05:34.000000000,2019-05-03 16:48:06.000000000,2019-05-03 16:48:06.000000000,"[{'_account_id': 8716}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-20 20:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/0120387e52cb727ade6fcd9b7a4c9de719cd950e', 'message': 'Use template for lower-constraints\n\nSmall cleanups:\n\n* Use openstack-lower-constraints-jobs template, remove individual\n  jobs.\n* Sort list of templates\n\nChange-Id: I82579964615a71345f12b73e7e0bb9debc84f640\nNeeded-By: https://review.openstack.org/623229\n'}, {'number': 2, 'created': '2019-05-02 06:48:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/8fe6937f9c8670252ce3aa125cbc1caa39dcbc4c', 'message': 'Use template for lower-constraints\n\nSmall cleanups:\n\n* Use openstack-lower-constraints-jobs template, remove individual\n  jobs.\n\nChange-Id: I82579964615a71345f12b73e7e0bb9debc84f640\nNeeded-By: https://review.openstack.org/623229\n'}]",0,626693,8fe6937f9c8670252ce3aa125cbc1caa39dcbc4c,8,2,2,6547,,,0,"Use template for lower-constraints

Small cleanups:

* Use openstack-lower-constraints-jobs template, remove individual
  jobs.

Change-Id: I82579964615a71345f12b73e7e0bb9debc84f640
Needed-By: https://review.openstack.org/623229
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/93/626693/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0120387e52cb727ade6fcd9b7a4c9de719cd950e,cd/py36-lower-constraints, - openstack-lower-constraints-jobs, check: jobs: - openstack-tox-lower-constraints gate: jobs: - openstack-tox-lower-constraints,1,6
openstack%2Fmox3~master~I097138c3a4262a844819478d0f8a94180d16fa35,openstack/mox3,master,I097138c3a4262a844819478d0f8a94180d16fa35,Dropping the py35 testing,MERGED,2019-04-15 00:52:56.000000000,2019-05-03 16:46:51.000000000,2019-05-03 16:46:51.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 00:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mox3/commit/b7fe28eb8586b901fc7d21c55f46894f5d5d1467', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I097138c3a4262a844819478d0f8a94180d16fa35\n'}, {'number': 2, 'created': '2019-04-15 18:16:37.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mox3/commit/71071cc2172e5a1bd9c42e33b5f06a2daf891888', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I097138c3a4262a844819478d0f8a94180d16fa35\n'}]",0,652433,71071cc2172e5a1bd9c42e33b5f06a2daf891888,8,2,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I097138c3a4262a844819478d0f8a94180d16fa35
",git fetch https://review.opendev.org/openstack/mox3 refs/changes/33/652433/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,b7fe28eb8586b901fc7d21c55f46894f5d5d1467,dropping-py35-testing,"envlist = py27,pep8","envlist = py35,py27,pep8",2,3
openstack%2Ftripleo-heat-templates~master~Ibd9b3870a765c6430b0123f7b05f4621940147e5,openstack/tripleo-heat-templates,master,Ibd9b3870a765c6430b0123f7b05f4621940147e5,WIP: immutable host value with containers,ABANDONED,2018-07-18 09:02:06.000000000,2019-05-03 16:46:15.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-18 09:02:06.000000000', 'files': ['docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee3e5aa49303972e1d360c47f94c8bb3374df8aa', 'message': 'WIP: immutable host value with containers\n\nDepends-On: Ib475bbdd800ba0f75f43424e682156c3a434e482\nChange-Id: Ibd9b3870a765c6430b0123f7b05f4621940147e5\n'}]",0,583521,ee3e5aa49303972e1d360c47f94c8bb3374df8aa,3,2,1,23811,,,0,"WIP: immutable host value with containers

Depends-On: Ib475bbdd800ba0f75f43424e682156c3a434e482
Change-Id: Ibd9b3870a765c6430b0123f7b05f4621940147e5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/583521/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/nova-compute.yaml'],1,ee3e5aa49303972e1d360c47f94c8bb3374df8aa,, volumes: - /var/lib/config-data/puppet-generated/nova_libvirt/:/previous_config:ro,,2,0
openstack%2Fpuppet-tripleo~master~Ib475bbdd800ba0f75f43424e682156c3a434e482,openstack/puppet-tripleo,master,Ib475bbdd800ba0f75f43424e682156c3a434e482,WIP: immutable host value with containers,ABANDONED,2018-07-18 09:00:57.000000000,2019-05-03 16:45:22.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-18 09:00:57.000000000', 'files': ['lib/facter/previous_config_hosts.rb', 'manifests/profile/base/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/86e2ad4ca5d04adfb149c2d1e88492192ab15502', 'message': 'WIP: immutable host value with containers\n\nChange-Id: Ib475bbdd800ba0f75f43424e682156c3a434e482\n'}]",0,583518,86e2ad4ca5d04adfb149c2d1e88492192ab15502,3,2,1,23811,,,0,"WIP: immutable host value with containers

Change-Id: Ib475bbdd800ba0f75f43424e682156c3a434e482
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/18/583518/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/facter/previous_config_hosts.rb', 'manifests/profile/base/nova.pp']",2,86e2ad4ca5d04adfb149c2d1e88492192ab15502,, } elsif defined('$::previous_nova_host') { $host_real = $::previous_nova_host } else {, } else {,22,1
openstack%2Ftripleo-heat-templates~master~Ic819eff4bb1e10ce224bc868d856cc8cf2d73a4a,openstack/tripleo-heat-templates,master,Ic819eff4bb1e10ce224bc868d856cc8cf2d73a4a,WIP: prohibit inlined docker_config_scripts,ABANDONED,2018-07-13 15:01:32.000000000,2019-05-03 16:44:02.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-07-13 15:01:32.000000000', 'files': ['tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/068268a4cc6d197fc007924618742396a06ff837', 'message': 'WIP: prohibit inlined docker_config_scripts\n\nChange-Id: Ic819eff4bb1e10ce224bc868d856cc8cf2d73a4a\n'}]",0,582615,068268a4cc6d197fc007924618742396a06ff837,5,4,1,23811,,,0,"WIP: prohibit inlined docker_config_scripts

Change-Id: Ic819eff4bb1e10ce224bc868d856cc8cf2d73a4a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/582615/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/yaml-validate.py'],1,068268a4cc6d197fc007924618742396a06ff837,,"if sys.version_info[0] == 3: str_types = str, else: str_types = basestring, if section_name == 'docker_config_scripts': config_scripts = role_data.get(section_name) for script_name, data in config_scripts.items(): if type(data) == dict and 'content' in data: script = data['content'] if isinstance(script, str_types): print('ERROR: inline in docker_config_script {}, move to top level directory and use get_file'.format(script_name)) return 1",,13,0
openstack%2Foslo.upgradecheck~master~I67e81197ed63764f68b95c6d05c6d2c074929362,openstack/oslo.upgradecheck,master,I67e81197ed63764f68b95c6d05c6d2c074929362,Dropping the py35 testing,MERGED,2019-04-15 01:27:18.000000000,2019-05-03 16:43:15.000000000,2019-05-03 16:43:15.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-04-15 01:27:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/41f47aeba6f25f98b23763bba050aa60d652a928', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I67e81197ed63764f68b95c6d05c6d2c074929362\n'}]",0,652461,41f47aeba6f25f98b23763bba050aa60d652a928,7,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I67e81197ed63764f68b95c6d05c6d2c074929362
",git fetch https://review.opendev.org/openstack/oslo.upgradecheck refs/changes/61/652461/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,41f47aeba6f25f98b23763bba050aa60d652a928,dropping-py35-testing,, Programming Language :: Python :: 3.5,0,1
openstack%2Foslo.tools~master~I225939b27efa6402abe7d9addce967c31d188a68,openstack/oslo.tools,master,I225939b27efa6402abe7d9addce967c31d188a68,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:42.000000000,2019-05-03 16:43:04.000000000,2019-05-03 16:43:04.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 05:25:42.000000000', 'files': ['ping_me.py'], 'web_link': 'https://opendev.org/openstack/oslo.tools/commit/ea3a3b805494cddb9f651049550c128ac9b8ca5b', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I225939b27efa6402abe7d9addce967c31d188a68\n'}]",0,654737,ea3a3b805494cddb9f651049550c128ac9b8ca5b,6,2,1,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I225939b27efa6402abe7d9addce967c31d188a68
",git fetch https://review.opendev.org/openstack/oslo.tools refs/changes/37/654737/1 && git format-patch -1 --stdout FETCH_HEAD,['ping_me.py'],1,ea3a3b805494cddb9f651049550c128ac9b8ca5b,, 'http://opendev.org/openstack/oslo.tools/tree/', 'http://git.openstack.org/cgit/openstack/oslo.tools/tree/',1,1
openstack%2Fproject-config~master~Ibe1f21ab4b07ea32f46950e36025ac2f2952f4b0,openstack/project-config,master,Ibe1f21ab4b07ea32f46950e36025ac2f2952f4b0,DNM: Test groups list check,ABANDONED,2019-05-03 07:23:28.000000000,2019-05-03 16:41:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-03 07:23:28.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4f6f82aef65b44901143b19155838e07b1161bda', 'message': 'DNM: Test groups list check\n\nThis should fail.\n\nChange-Id: Ibe1f21ab4b07ea32f46950e36025ac2f2952f4b0\n'}]",0,656927,4f6f82aef65b44901143b19155838e07b1161bda,3,1,1,6547,,,0,"DNM: Test groups list check

This should fail.

Change-Id: Ibe1f21ab4b07ea32f46950e36025ac2f2952f4b0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/656927/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,4f6f82aef65b44901143b19155838e07b1161bda,, groups: airship, groups: - airship,1,2
openstack%2Ftripleo-heat-templates~master~I524c9df5894369b4990e05db2c023d0d32fbb5c3,openstack/tripleo-heat-templates,master,I524c9df5894369b4990e05db2c023d0d32fbb5c3,[DNM] test new jobs configuration,ABANDONED,2018-07-02 17:51:24.000000000,2019-05-03 16:40:21.000000000,,"[{'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-07-02 17:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3611901b1852cb2fccad100b0744a38215ab165', 'message': '[DNM] test new jobs configuration\n\nChange-Id: I524c9df5894369b4990e05db2c023d0d32fbb5c3\nDepends-On: Ib9ad8190ace40bd4847d4978c7ee818e7f8395c2\n'}, {'number': 2, 'created': '2018-07-02 20:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1c1af774dc62c429d915da68198f9cc25c4d036', 'message': '[DNM] test new jobs configuration\n\nChange-Id: I524c9df5894369b4990e05db2c023d0d32fbb5c3\nDepends-On: Ib9ad8190ace40bd4847d4978c7ee818e7f8395c2\n'}, {'number': 3, 'created': '2018-07-03 15:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67c5954cccfb1c1ae23c48e8cb1ab60653f62992', 'message': '[DNM] test new jobs configuration\n\nChange-Id: I524c9df5894369b4990e05db2c023d0d32fbb5c3\nDepends-On: Ib9ad8190ace40bd4847d4978c7ee818e7f8395c2\n'}, {'number': 4, 'created': '2018-07-05 16:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93349958069acbcf2217665887fe34046155f599', 'message': '[DNM] test new jobs configuration\n\nChange-Id: I524c9df5894369b4990e05db2c023d0d32fbb5c3\nDepends-On: Ib9ad8190ace40bd4847d4978c7ee818e7f8395c2\n'}, {'number': 5, 'created': '2018-07-09 19:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f60633cfcf1418fd17a36f28f08a14211d42338', 'message': '[DNM] test new jobs configuration\n\nChange-Id: I524c9df5894369b4990e05db2c023d0d32fbb5c3\nDepends-On: I214d7fec886e063e056c18d5447348d921edadcd\n'}, {'number': 6, 'created': '2018-07-09 19:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a549755c32e27c9e29377f03b3485fe5f1e19be', 'message': '[DNM] test new jobs configuration\n\nChange-Id: I524c9df5894369b4990e05db2c023d0d32fbb5c3\nDepends-On: I214d7fec886e063e056c18d5447348d921edadcd\n'}, {'number': 7, 'created': '2018-07-12 14:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/102d86dfe4d8d066c752adfd64ae601c9a658baf', 'message': '[DNM] test new jobs configuration\n\nDepends-On: Ibd131a3da0906fb474178a1359de5f0788c59f54\nChange-Id: I524c9df5894369b4990e05db2c023d0d32fbb5c3\n'}, {'number': 8, 'created': '2018-07-13 08:11:18.000000000', 'files': ['TEST', 'environments/debug.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2797ce3176aca9a53bbc0ea77acbcc1bb050677c', 'message': '[DNM] test new jobs configuration\n\nDepends-On: Ibd131a3da0906fb474178a1359de5f0788c59f54\nChange-Id: I524c9df5894369b4990e05db2c023d0d32fbb5c3\n'}]",0,579653,2797ce3176aca9a53bbc0ea77acbcc1bb050677c,32,6,8,10022,,,0,"[DNM] test new jobs configuration

Depends-On: Ibd131a3da0906fb474178a1359de5f0788c59f54
Change-Id: I524c9df5894369b4990e05db2c023d0d32fbb5c3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/579653/2 && git format-patch -1 --stdout FETCH_HEAD,['TEST'],1,f3611901b1852cb2fccad100b0744a38215ab165,dummy-test,,,0,0
openstack%2Foslo.config~master~I41d8ac0f33ea60aea8ba5b150e53d7eafa323457,openstack/oslo.config,master,I41d8ac0f33ea60aea8ba5b150e53d7eafa323457,Document precedence of config sources,MERGED,2019-04-22 16:16:20.000000000,2019-05-03 16:40:16.000000000,2019-05-03 16:40:16.000000000,"[{'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 9796}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-22 16:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/16e96eed00c98fc3196562df56a605eb2859985c', 'message': 'Document precedence between config-file and config-dir\n\nThis is documented in the docstring for __call__ on the ConfigOpts\nclass[0], but is not mentioned in any user documentation. Since this\nis something users may need to know we should include it there too.\n\nChange-Id: I41d8ac0f33ea60aea8ba5b150e53d7eafa323457\n0: https://github.com/openstack/oslo.config/blob/0bc22839b09fcd7ae2de4f7fe5d63ac055fd0a78/oslo_config/cfg.py#L2095\n'}, {'number': 2, 'created': '2019-04-23 17:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/40f44fdc1bed396130eb950f4942adad02fa7494', 'message': 'Document precedence of config sources\n\nPreviously the precedence details for the various sources oslo.config\ncan consume were scattered around the developer documentation (for\nexample in [0]). Since this is relevant for users too, we need to\ninclude it in the user-focused documentation.\n\nThis collects all of the precedence information I am aware of and puts\nit on the documentation page for --config-file, --config-dir, and the\nsample source driver options.\n\nChange-Id: I41d8ac0f33ea60aea8ba5b150e53d7eafa323457\n0: https://github.com/openstack/oslo.config/blob/0bc22839b09fcd7ae2de4f7fe5d63ac055fd0a78/oslo_config/cfg.py#L2095\n'}, {'number': 3, 'created': '2019-04-23 17:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/5abf563b5ffa2d128a29a6552c7ff84b57fb3372', 'message': 'Document precedence of config sources\n\nPreviously the precedence details for the various sources oslo.config\ncan consume were scattered around the developer documentation (for\nexample in [0]). Since this is relevant for users too, we need to\ninclude it in the user-focused documentation.\n\nThis collects all of the precedence information I am aware of and puts\nit on the documentation page for --config-file, --config-dir, and the\nsample source driver options.\n\nIt also clarifies the file and dir precedence in the developer docs since\npreviously that was only available in the API docstring.\n\nChange-Id: I41d8ac0f33ea60aea8ba5b150e53d7eafa323457\n0: https://github.com/openstack/oslo.config/blob/0bc22839b09fcd7ae2de4f7fe5d63ac055fd0a78/oslo_config/cfg.py#L2095\n'}, {'number': 4, 'created': '2019-04-23 20:37:07.000000000', 'files': ['doc/source/configuration/options.rst', 'doc/source/reference/configuration-files.rst'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/144e16d532be4edd6736b31a00d56322749ce89a', 'message': 'Document precedence of config sources\n\nPreviously the precedence details for the various sources oslo.config\ncan consume were scattered around the developer documentation (for\nexample in [0]). Since this is relevant for users too, we need to\ninclude it in the user-focused documentation.\n\nThis collects all of the precedence information I am aware of and puts\nit on the documentation page for --config-file, --config-dir, and the\nsample source driver options.\n\nIt also clarifies the file and dir precedence in the developer docs since\npreviously that was only available in the API docstring.\n\nChange-Id: I41d8ac0f33ea60aea8ba5b150e53d7eafa323457\n0: https://github.com/openstack/oslo.config/blob/0bc22839b09fcd7ae2de4f7fe5d63ac055fd0a78/oslo_config/cfg.py#L2095\nCloses-Bug: 1825859\n'}]",1,654556,144e16d532be4edd6736b31a00d56322749ce89a,15,6,4,6928,,,0,"Document precedence of config sources

Previously the precedence details for the various sources oslo.config
can consume were scattered around the developer documentation (for
example in [0]). Since this is relevant for users too, we need to
include it in the user-focused documentation.

This collects all of the precedence information I am aware of and puts
it on the documentation page for --config-file, --config-dir, and the
sample source driver options.

It also clarifies the file and dir precedence in the developer docs since
previously that was only available in the API docstring.

Change-Id: I41d8ac0f33ea60aea8ba5b150e53d7eafa323457
0: https://github.com/openstack/oslo.config/blob/0bc22839b09fcd7ae2de4f7fe5d63ac055fd0a78/oslo_config/cfg.py#L2095
Closes-Bug: 1825859
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/56/654556/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/configuration-files.rst'],1,16e96eed00c98fc3196562df56a605eb2859985c,bug/1825859,"defined by the alphabetic sorting order of their file names. Files in a configuration directory are parsed after any individual configuration files, so values that appear in both a configuration file and configuration directory will use the value from the directory.",defined by the alphabetic sorting order of their file names.,4,1
openstack%2Foslo.config~master~I602ee587e4acf1c1436b568906e316b78f104814,openstack/oslo.config,master,I602ee587e4acf1c1436b568906e316b78f104814,Move user docs to top of index,MERGED,2019-04-23 17:20:04.000000000,2019-05-03 16:40:15.000000000,2019-05-03 16:40:15.000000000,"[{'_account_id': 9796}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 17:20:04.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/2ee2ad69e357b81afdf2ef7e7482547e12e348c6', 'message': 'Move user docs to top of index\n\nThe user-oriented docs for oslo.config were buried at the bottom of\nthe index below a pile of developer docs. This made them difficult to\nfind. Since we have far more users of oslo.config than we do developers\nusing it we should prioritize the user docs.\n\nChange-Id: I602ee587e4acf1c1436b568906e316b78f104814\n'}]",0,655202,2ee2ad69e357b81afdf2ef7e7482547e12e348c6,8,4,1,6928,,,0,"Move user docs to top of index

The user-oriented docs for oslo.config were buried at the bottom of
the index below a pile of developer docs. This made them difficult to
find. Since we have far more users of oslo.config than we do developers
using it we should prioritize the user docs.

Change-Id: I602ee587e4acf1c1436b568906e316b78f104814
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/02/655202/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,2ee2ad69e357b81afdf2ef7e7482547e12e348c6,document-precedence, configuration/index, configuration/index,1,1
openstack%2Ftripleo-heat-templates~master~I22450ee8ee6d80a15c8af55e7efeb79006bb4c07,openstack/tripleo-heat-templates,master,I22450ee8ee6d80a15c8af55e7efeb79006bb4c07,Check openshift-ansible directory exists,ABANDONED,2017-12-29 17:20:33.000000000,2019-05-03 16:39:14.000000000,,"[{'_account_id': 4330}, {'_account_id': 6159}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 11391}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-12-29 17:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c74cd032076fc53a30e1c51943a2508e3860871b', 'message': ""Check openshift-ansible directory exists\n\nNow the path to openshift-ansible playbook config is hardcoded\nto /usr/share/ansible/openshift-ansible/playbooks/byo/config.yaml.\nIt means that the playbooks must be manually installed before\nthe deployment.\nIt is not convenient, so this patch also searches the playbooks in\n{{ ansible_user_dir }}/openshift-ansible, and if nothing's found\nclones the repo from github.\n\nChange-Id: I22450ee8ee6d80a15c8af55e7efeb79006bb4c07\n""}, {'number': 2, 'created': '2018-01-02 17:41:43.000000000', 'files': ['extraconfig/services/openshift-master.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a113cb1499d202076f2eb67af91b80fd7de6325a', 'message': ""Check openshift-ansible directory exists\n\nNow the path to openshift-ansible playbook config is hardcoded\nto /usr/share/ansible/openshift-ansible/playbooks/byo/config.yaml.\nIt means that the playbooks must be manually installed before\nthe deployment.\nIt is not convenient, so this patch also searches the playbooks in\n{{ ansible_user_dir }}/openshift-ansible, and if nothing's found\nclones the repo from github.\n\nChange-Id: I22450ee8ee6d80a15c8af55e7efeb79006bb4c07\n""}]",7,530484,a113cb1499d202076f2eb67af91b80fd7de6325a,23,7,2,11391,,,0,"Check openshift-ansible directory exists

Now the path to openshift-ansible playbook config is hardcoded
to /usr/share/ansible/openshift-ansible/playbooks/byo/config.yaml.
It means that the playbooks must be manually installed before
the deployment.
It is not convenient, so this patch also searches the playbooks in
{{ ansible_user_dir }}/openshift-ansible, and if nothing's found
clones the repo from github.

Change-Id: I22450ee8ee6d80a15c8af55e7efeb79006bb4c07
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/530484/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/openshift-master.yaml'],1,c74cd032076fc53a30e1c51943a2508e3860871b,openshift_ansible_dir," # FIXME: remove this block when openshift-ansible becomes # a part of Ansible. - name: openshift_master step 2 openshift-ansible repository when: step == '2' block: - name: check openshift-ansible directory existence stat: path: /usr/share/ansible/openshift-ansible register: openshift_ansible_stat - set_fact: openshift_ansible_dir: >- {%- if openshift_ansible_stat.stat.exists -%} usr/share/ansible/openshift-ansible {%- else -%} {{ ansible_user_dir }}/openshift-ansible {%- endif -%} - name: check cloned openshift-ansible directory existence stat: path: ""{{ openshift_ansible_dir }}"" register: openshift_ansible_cloned_stat when: not openshift_ansible_stat.stat.exists - name: download openshift-ansible source shell: | git clone https://github.com/openshift/openshift-ansible.git cd openshift-ansible git checkout release-3.6 # do not overwrite existing contents when: not openshift_ansible_stat.stat.exists and not openshift_ansible_cloned_stat.stat.exists - include: {{ openshift_ansible_dir|default('/usr/share/ansible/openshift-ansible/') }}/playbooks/byo/config.yml", - include: /usr/share/ansible/openshift-ansible/playbooks/byo/config.yml,29,1
openstack%2Foslotest~master~Id9a516dc3e748f66278875f22c606a9f7acf41d9,openstack/oslotest,master,Id9a516dc3e748f66278875f22c606a9f7acf41d9,Dropping the py35 testing,MERGED,2019-04-16 04:05:59.000000000,2019-05-03 16:37:53.000000000,2019-05-03 16:37:53.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-16 04:05:59.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/d10fe400640aa2fdc450049b1b0ea1f9670a04a8', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Id9a516dc3e748f66278875f22c606a9f7acf41d9\n'}]",0,652815,d10fe400640aa2fdc450049b1b0ea1f9670a04a8,7,2,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Id9a516dc3e748f66278875f22c606a9f7acf41d9
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/15/652815/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,d10fe400640aa2fdc450049b1b0ea1f9670a04a8,dropping-py35-testing,"envlist = py36,py27,pep8","envlist = py35,py27,pep8",2,2
openstack%2Ftripleo-heat-templates~master~I460a6665c0d05197db2c6971e21a9b41df5ff942,openstack/tripleo-heat-templates,master,I460a6665c0d05197db2c6971e21a9b41df5ff942,[WIP]Fluentd: add ovn-dbs logging path,ABANDONED,2018-07-11 13:02:41.000000000,2019-05-03 16:36:55.000000000,,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-11 13:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e86d64a7ada1603837c479f5ff2418161c66c09', 'message': '[WIP]Fluentd: add ovn-dbs logging path\n\nChange-Id: I460a6665c0d05197db2c6971e21a9b41df5ff942\n'}, {'number': 2, 'created': '2018-07-11 13:06:54.000000000', 'files': ['docker/services/ovn-dbs.yaml', 'puppet/services/ovn-dbs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffc5a76c0007a377bb9d1c8307d0948117af35e7', 'message': '[WIP]Fluentd: add ovn-dbs logging path\n\nChange-Id: I460a6665c0d05197db2c6971e21a9b41df5ff942\n'}]",2,581731,ffc5a76c0007a377bb9d1c8307d0948117af35e7,7,3,2,22954,,,0,"[WIP]Fluentd: add ovn-dbs logging path

Change-Id: I460a6665c0d05197db2c6971e21a9b41df5ff942
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/581731/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/ovn-dbs.yaml', 'puppet/services/ovn-dbs.yaml']",2,9e86d64a7ada1603837c479f5ff2418161c66c09,fluentd/ovsdb-server-log, DockerOvnDBLoggingSource: type: json default: - tag: openstack.openvswitch.ovn_dbs.nb path: /var/log/openvswitch/ovsdb-server-nb.log - tag: openstack.openvswitch.ovn_dbs.sb path: /var/log/openvswitch/ovsdb-server-sb.log service_config_settings: fluentd: tripleo_fluentd_groups_ovn_dbs: - root tripleo_fluentd_sources_ovn_dbs: - {get_param: DockerOvnDBLoggingSource},,26,1
openstack%2Fpuppet-ceph~master~I11f134bed59da706a03ce4a70d941145c16f8175,openstack/puppet-ceph,master,I11f134bed59da706a03ce4a70d941145c16f8175,Resolve puppet overwriting a pre-existing bootstrap-osd auth entry,MERGED,2018-04-24 18:56:41.000000000,2019-05-03 16:29:48.000000000,2019-05-03 16:29:48.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 18002}, {'_account_id': 19564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-24 18:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/ed24dbc34ff148adae46f0d895f54f23b40d3c6b', 'message': 'Resolve a race condition between ceph-key and ceph-injectkey\n\nIn a multi-monitor deployment, the contents of a bootstrap key\nwritten by ceph-key-$name can change by the time ceph-injectkey-$name\nruns. In the case of the bootstrap-osd key, the race condition\nhappens this way:\n  1) monitor-1 executes ceph-key-client.bootstrap-osd\n     to create a new keyring on the local file system\n  2) monitor-2 executes ceph-key-client.bootstrap-osd\n     to create a new keyring on the local file system\n  3) monitor-2 executes ceph-inject-key-client.bootstrap-osd\n     to add the client key and caps to the ceph auth list\n  4) ceph will distribute the client.bootstrap-osd keyring to\n     the other monitors. This will overwrite the keyring written\n     in #1 with just the client name and cephx secret.\n  5) monitor-1 executes ceph-injectkey-client.bootstrap-osd. The\n     diff statement in the unless check will fail because the two\n     keyrings will not return 0 because the one in $keyring_path will\n     not contain any caps. The exec will fail with an ""Error EINVAL:\n     auth import: no caps supplied"" error because the keyring file\n     only has the client name and the cephx secret.\n\nThis patch will update the ceph-injectkey-${name} unless statement to do:\n - attempt to pull the current client entry from memory\n - create a TMP_KEYRING with the expected content\n - diff the two keyrings\n - if they are not the same, the TMP_KEYRING will be copied to KERYING_PATH\n - the return value of the diff is returned\n\nIf needed, the exec will then import the KEYRING_PATH file. TMP_KEYRING and\nKEYRING_PATH will be the same unless #4 from above occurs.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\n'}, {'number': 2, 'created': '2018-05-02 17:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a39e7e8693b427ed2426c61ed1e2b181f3ef2a1e', 'message': 'Resolve a race condition between ceph-key and ceph-injectkey\n\nIn a multi-monitor deployment, the contents of a bootstrap key\nwritten by ceph-key-$name can change by the time ceph-injectkey-$name\nruns. In the case of the bootstrap-osd key, the race condition\nhappens this way:\n  1) monitor-1 executes ceph-key-client.bootstrap-osd\n     to create a new keyring on the local file system\n  2) monitor-2 executes ceph-key-client.bootstrap-osd\n     to create a new keyring on the local file system\n  3) monitor-2 executes ceph-inject-key-client.bootstrap-osd\n     to add the client key and caps to the ceph auth list\n  4) ceph will distribute the client.bootstrap-osd keyring to\n     the other monitors. This will overwrite the keyring written\n     in #1 with just the client name and cephx secret.\n  5) monitor-1 executes ceph-injectkey-client.bootstrap-osd. The\n     diff statement in the unless check will fail because the two\n     keyrings will not return 0 because the one in $keyring_path will\n     not contain any caps. The exec will fail with an ""Error EINVAL:\n     auth import: no caps supplied"" error because the keyring file\n     only has the client name and the cephx secret.\n\nThis patch will update the ceph-injectkey-${name} unless statement to do:\n - attempt to pull the current client entry from memory and save as OLD_KEYRING\n - create a TMP_KEYRING with the expected content\n - diff the two keyrings\n - if they are not the same, the TMP_KEYRING will be copied to KERYING_PATH\n - the return value of the diff is returned\n\nIf needed, the exec will then import the KEYRING_PATH file. TMP_KEYRING and\nKEYRING_PATH will be the same unless #4 from above occurs.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\n'}, {'number': 3, 'created': '2018-05-07 18:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/64041c9dce88cce72ce2d8ec18a186a7b94d3326', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n'}, {'number': 4, 'created': '2018-05-08 18:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/1793eae5ac9613ecbc90ab20f53abb00aa4e9dca', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n'}, {'number': 5, 'created': '2018-05-08 19:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/06f9cc52c7a3f028b0c1c73e1fbbacaf31a385fb', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n'}, {'number': 6, 'created': '2018-05-18 10:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/bd3ac8928c545caa0ae4507ecd01339a87b6f6cb', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n'}, {'number': 7, 'created': '2018-07-31 14:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/27d63ecad121a5a7f41e7cd0ca4f6e33e8bd3578', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n'}, {'number': 8, 'created': '2019-04-29 09:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/05cc61de01fdfafed1349c1cfb4945472fb2c02e', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n'}, {'number': 9, 'created': '2019-04-29 09:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/76a27881be2a54d77e6141518d41fdba62086be9', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n(cherry picked from commit 05cc61de01fdfafed1349c1cfb4945472fb2c02e)\n'}, {'number': 10, 'created': '2019-04-29 10:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/052d8b98f7c705f31e80093c59427b71d555785f', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n(cherry picked from commit 05cc61de01fdfafed1349c1cfb4945472fb2c02e)\n'}, {'number': 11, 'created': '2019-04-29 10:11:19.000000000', 'files': ['manifests/osd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/d833c03b975c922a28281918a2ac71a3dd7a2104', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n'}]",3,564048,d833c03b975c922a28281918a2ac71a3dd7a2104,40,7,11,19564,,,0,"Resolve puppet overwriting a pre-existing bootstrap-osd auth entry

Ceph jewel creates the client.bootstrap-osd auth entry when the cluster
is created. puppet-ceph has been overwriting this keyring in memory and
on the filesystem. This patch updates ceph::osd to exract the
client keyring from memory and write it to the filesystem. This will
means ceph::key will not need to create the client.bootstrap-osd keyring.

Change-Id: I11f134bed59da706a03ce4a70d941145c16f8175
Partial-bug: 1769722
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/48/564048/11 && git format-patch -1 --stdout FETCH_HEAD,['manifests/key.pp'],1,ed24dbc34ff148adae46f0d895f54f23b40d3c6b,bug/1769722,ceph-authtool \$TMP_KEYRING --name '${name}' --add-key '${secret}' ${caps} sed -i -e 's/\\\\//g' \$TMP_KEYRINGif [ \$rv -ne 0 ] then cp \$TMP_KEYRING ${keyring_path} fi,cat ${keyring_path} | sed -e 's/\\\\//g' > \$TMP_KEYRING,6,1
openstack%2Fnetworking-bagpipe~stable%2Frocky~Id1ddf79100d83f665b62b1ef73ed8689a2afd3bb,openstack/networking-bagpipe,stable/rocky,Id1ddf79100d83f665b62b1ef73ed8689a2afd3bb,Remove openstack-tox-py35-with-neutron-lib-master,MERGED,2019-04-23 13:44:30.000000000,2019-05-03 16:28:34.000000000,2019-05-03 16:28:34.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 6547}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 13:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/eab14c50f67fbe1485243a871f5477244fcc516c', 'message': 'Remove openstack-tox-py35-with-neutron-lib-master\n\nThis is a job that runs only on master and it stayed in project-config.\nIt should not have been imported here as part of python3-first topic,\nremove it again.\n\nChange-Id: Id1ddf79100d83f665b62b1ef73ed8689a2afd3bb\n(cherry picked from commit 21df6d542b279176dd24d3806033897d123598c6)\n'}, {'number': 2, 'created': '2019-04-24 08:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/5c468e7ec4c1a967380c294d06ccd3b601ad85ce', 'message': 'Remove openstack-tox-py35-with-neutron-lib-master\n\nThis is a job that runs only on master and it stayed in project-config.\nIt should not have been imported here as part of python3-first topic,\nremove it again.\n\nChange-Id: Id1ddf79100d83f665b62b1ef73ed8689a2afd3bb\n(cherry picked from commit 21df6d542b279176dd24d3806033897d123598c6)\n'}, {'number': 3, 'created': '2019-04-24 10:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/eb2b0128951257e89d0402bcb5ed627ba72e1760', 'message': 'Remove openstack-tox-py35-with-neutron-lib-master\n\nThis is a job that runs only on master and it stayed in project-config.\nIt should not have been imported here as part of python3-first topic,\nremove it again.\n\nChange-Id: Id1ddf79100d83f665b62b1ef73ed8689a2afd3bb\n(cherry picked from commit 21df6d542b279176dd24d3806033897d123598c6)\n'}, {'number': 4, 'created': '2019-04-29 15:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/5e604339a5922e35bca0e63cac40ba2ea2b884da', 'message': 'Remove openstack-tox-py35-with-neutron-lib-master\n\nThis is a job that runs only on master and it stayed in project-config.\nIt should not have been imported here as part of python3-first topic,\nremove it again.\n\nChange-Id: Id1ddf79100d83f665b62b1ef73ed8689a2afd3bb\n(cherry picked from commit 21df6d542b279176dd24d3806033897d123598c6)\n'}, {'number': 5, 'created': '2019-05-03 04:54:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/8478cd82adb33ee28213b61ba14cbe967c682e8c', 'message': 'Remove openstack-tox-py35-with-neutron-lib-master\n\nThis is a job that runs only on master and it stayed in project-config.\nIt should not have been imported here as part of python3-first topic,\nremove it again.\n\nChange-Id: Id1ddf79100d83f665b62b1ef73ed8689a2afd3bb\n(cherry picked from commit 21df6d542b279176dd24d3806033897d123598c6)\n'}]",0,655161,8478cd82adb33ee28213b61ba14cbe967c682e8c,20,5,5,6547,,,0,"Remove openstack-tox-py35-with-neutron-lib-master

This is a job that runs only on master and it stayed in project-config.
It should not have been imported here as part of python3-first topic,
remove it again.

Change-Id: Id1ddf79100d83f665b62b1ef73ed8689a2afd3bb
(cherry picked from commit 21df6d542b279176dd24d3806033897d123598c6)
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/61/655161/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eab14c50f67fbe1485243a871f5477244fcc516c,periodic-py36,, periodic: jobs: - openstack-tox-py35-with-neutron-lib-master: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc,0,6
openstack%2Frpm-packaging~master~I660817eaf454a964293810b6238f6bbc9204f2d1,openstack/rpm-packaging,master,I660817eaf454a964293810b6238f6bbc9204f2d1,Update oslo.utils to 3.41.0,MERGED,2019-04-29 02:31:51.000000000,2019-05-03 16:27:18.000000000,2019-05-03 16:27:17.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 02:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0bd81e010af23b16b40dd43501847c4ba3efc7a6', 'message': 'Update oslo.utils to 3.41.0\n\nDepends-on:I1043aaa5996d408c4b00edcdc95fde2bb0437123\nChange-Id: I660817eaf454a964293810b6238f6bbc9204f2d1\n'}, {'number': 2, 'created': '2019-04-29 14:32:40.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c65ee28b0677ec25d6a0a5ae13eea0d49364f78d', 'message': 'Update oslo.utils to 3.41.0\n\nDepends-on:I1043aaa5996d408c4b00edcdc95fde2bb0437123\nChange-Id: I660817eaf454a964293810b6238f6bbc9204f2d1\n'}]",0,656226,c65ee28b0677ec25d6a0a5ae13eea0d49364f78d,13,5,2,26570,,,0,"Update oslo.utils to 3.41.0

Depends-on:I1043aaa5996d408c4b00edcdc95fde2bb0437123
Change-Id: I660817eaf454a964293810b6238f6bbc9204f2d1
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/26/656226/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,0bd81e010af23b16b40dd43501847c4ba3efc7a6,,{% set upstream_version = upstream_version('3.41.0') %},{% set upstream_version = upstream_version('3.40.3') %},1,1
openstack%2Frpm-packaging~master~If521dc76014487959f7135086c5ef614979d5af3,openstack/rpm-packaging,master,If521dc76014487959f7135086c5ef614979d5af3,Update oslo.cache to 1.34.0,MERGED,2019-04-29 02:23:09.000000000,2019-05-03 16:27:17.000000000,2019-05-03 16:27:17.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 02:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/86aa5278f579e6236bb8be24a1fcce68e385c1f1', 'message': 'Update oslo.cache to 1.34.0\n\nDepends-on:Id0089d05cffc01fb5b4555d7bb86fdad8b8a50bd\nChange-Id: If521dc76014487959f7135086c5ef614979d5af3\n'}, {'number': 2, 'created': '2019-04-29 18:27:06.000000000', 'files': ['openstack/oslo.cache/oslo.cache.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/dcd58c2b3e93df9df1bfe62a5e235d2fdfc06d1e', 'message': 'Update oslo.cache to 1.34.0\n\nDepends-on:Id0089d05cffc01fb5b4555d7bb86fdad8b8a50bd\nChange-Id: If521dc76014487959f7135086c5ef614979d5af3\n'}]",0,656225,dcd58c2b3e93df9df1bfe62a5e235d2fdfc06d1e,13,5,2,26570,,,0,"Update oslo.cache to 1.34.0

Depends-on:Id0089d05cffc01fb5b4555d7bb86fdad8b8a50bd
Change-Id: If521dc76014487959f7135086c5ef614979d5af3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/25/656225/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.cache/oslo.cache.spec.j2'],1,86aa5278f579e6236bb8be24a1fcce68e385c1f1,,{% set upstream_version = upstream_version('1.34.0') %},{% set upstream_version = upstream_version('1.33.2') %},1,1
openstack%2Frpm-packaging~stable%2Fstein~Ic70915f9cb72c28dab5d039308072c7d452556d7,openstack/rpm-packaging,stable/stein,Ic70915f9cb72c28dab5d039308072c7d452556d7,Stop using -master tarballs on stable,MERGED,2019-04-26 11:58:20.000000000,2019-05-03 16:27:16.000000000,2019-05-03 16:27:15.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-26 11:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c7cc212e39288fad7d7d0d3f4f68595816c8dfb8', 'message': 'Stop using -master tarballs on stable\n\nChange-Id: Ic70915f9cb72c28dab5d039308072c7d452556d7\n'}, {'number': 2, 'created': '2019-04-26 14:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9b31cf7454f5aeecdc37590bd7eab6dda53b893d', 'message': 'Stop using -master tarballs on stable\n\nChange-Id: Ic70915f9cb72c28dab5d039308072c7d452556d7\n'}, {'number': 3, 'created': '2019-04-29 12:26:25.000000000', 'files': ['openstack/barbican-tempest-plugin/barbican-tempest-plugin.spec.j2', 'openstack/designate-tempest-plugin/designate-tempest-plugin.spec.j2', 'openstack/neutron-tempest-plugin/neutron-tempest-plugin.spec.j2', 'openstack/cinder-tempest-plugin/cinder-tempest-plugin.spec.j2', 'openstack/monasca-tempest-plugin/monasca-tempest-plugin.spec.j2', 'openstack/heat-dashboard/heat-dashboard.spec.j2', 'openstack/freezer-tempest-plugin/freezer-tempest-plugin.spec.j2', 'openstack/keystone-tempest-plugin/keystone-tempest-plugin.spec.j2', 'openstack/magnum-tempest-plugin/magnum-tempest-plugin.spec.j2', 'openstack/freezer-web-ui/freezer-web-ui.spec.j2', 'openstack/heat-tempest-plugin/heat-tempest-plugin.spec.j2', 'openstack/manila-tempest-plugin/manila-tempest-plugin.spec.j2', 'openstack/ironic-tempest-plugin/ironic-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c7cdf083d645249b5cb45b98a1e27b93095a4701', 'message': 'Stop using -master tarballs on stable\n\nChange-Id: Ic70915f9cb72c28dab5d039308072c7d452556d7\n'}]",0,655886,c7cdf083d645249b5cb45b98a1e27b93095a4701,21,6,3,6593,,,0,"Stop using -master tarballs on stable

Change-Id: Ic70915f9cb72c28dab5d039308072c7d452556d7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/86/655886/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/barbican-tempest-plugin/barbican-tempest-plugin.spec.j2', 'openstack/designate-tempest-plugin/designate-tempest-plugin.spec.j2', 'openstack/neutron-tempest-plugin/neutron-tempest-plugin.spec.j2', 'openstack/cinder-tempest-plugin/cinder-tempest-plugin.spec.j2', 'openstack/monasca-tempest-plugin/monasca-tempest-plugin.spec.j2', 'openstack/heat-dashboard/heat-dashboard.spec.j2', 'openstack/freezer-tempest-plugin/freezer-tempest-plugin.spec.j2', 'openstack/keystone-tempest-plugin/keystone-tempest-plugin.spec.j2', 'openstack/magnum-tempest-plugin/magnum-tempest-plugin.spec.j2', 'openstack/freezer-web-ui/freezer-web-ui.spec.j2', 'openstack/heat-tempest-plugin/heat-tempest-plugin.spec.j2', 'openstack/manila-tempest-plugin/manila-tempest-plugin.spec.j2', 'openstack/ironic-tempest-plugin/ironic-tempest-plugin.spec.j2']",13,c7cc212e39288fad7d7d0d3f4f68595816c8dfb8,655886,{% set source=fetch_source('https://tarballs.openstack.org/ironic-tempest-plugin/ironic-tempest-plugin-1.3.0.tar.gz') %} {% set upstream_version = upstream_version('1.3.0') %},{% set source=fetch_source('https://tarballs.openstack.org/ironic-tempest-plugin/ironic-tempest-plugin-master.tar.gz') %} {% set upstream_version = upstream_version() %},24,24
openstack%2Frpm-packaging~master~I30c9652c42254e399e7798978bbb3beebb258ecd,openstack/rpm-packaging,master,I30c9652c42254e399e7798978bbb3beebb258ecd,update oslo.messaging to 9.6.0,MERGED,2019-04-29 06:34:38.000000000,2019-05-03 16:20:52.000000000,2019-05-03 16:20:52.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30298}]","[{'number': 1, 'created': '2019-04-29 06:34:38.000000000', 'files': ['openstack/oslo.messaging/oslo.messaging.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0bfcf7b9fb1d1954d312ea34bb04bef2975788b5', 'message': 'update oslo.messaging to 9.6.0\n\nChange-Id: I30c9652c42254e399e7798978bbb3beebb258ecd\n'}]",0,656251,0bfcf7b9fb1d1954d312ea34bb04bef2975788b5,18,6,1,30298,,,0,"update oslo.messaging to 9.6.0

Change-Id: I30c9652c42254e399e7798978bbb3beebb258ecd
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/51/656251/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.messaging/oslo.messaging.spec.j2'],1,0bfcf7b9fb1d1954d312ea34bb04bef2975788b5,oslo.messaging,{% set upstream_version = upstream_version('9.6.0') %},{% set upstream_version = upstream_version('9.5.0') %},1,1
openstack%2Frpm-packaging~master~I09ce50c0080f79c8d1d5f69cd4d0a3e757697441,openstack/rpm-packaging,master,I09ce50c0080f79c8d1d5f69cd4d0a3e757697441,update oslo.middleware to 3.38.0,MERGED,2019-04-29 06:43:35.000000000,2019-05-03 16:20:51.000000000,2019-05-03 16:20:51.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 06:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f21ab8cbeaf859c8f8ab2a1840b21b6ad4ff44d3', 'message': 'update oslo.middleware to 3.38.0\n\nChange-Id: I09ce50c0080f79c8d1d5f69cd4d0a3e757697441\n'}, {'number': 2, 'created': '2019-04-30 03:17:39.000000000', 'files': ['openstack/oslo.middleware/oslo.middleware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3755d8b831593ecda902732e008009e5769c5c68', 'message': 'update oslo.middleware to 3.38.0\n\nChange-Id: I09ce50c0080f79c8d1d5f69cd4d0a3e757697441\n'}]",1,656252,3755d8b831593ecda902732e008009e5769c5c68,14,5,2,30298,,,0,"update oslo.middleware to 3.38.0

Change-Id: I09ce50c0080f79c8d1d5f69cd4d0a3e757697441
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/52/656252/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.middleware/oslo.middleware.spec.j2'],1,f21ab8cbeaf859c8f8ab2a1840b21b6ad4ff44d3,oslo.middleware,{% set upstream_version = upstream_version('3.38.1') %},{% set upstream_version = upstream_version('3.37.1') %},1,1
openstack%2Frpm-packaging~master~If6411ca3ab8310364a16d7912e58a02d5cd23f65,openstack/rpm-packaging,master,If6411ca3ab8310364a16d7912e58a02d5cd23f65,update oslo.policy to 2.2.0,MERGED,2019-04-30 03:23:53.000000000,2019-05-03 16:20:50.000000000,2019-05-03 16:20:50.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 03:23:53.000000000', 'files': ['openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1b3d64e316f8f679068bd33f197e392f16008f63', 'message': 'update oslo.policy to 2.2.0\n\nChange-Id: If6411ca3ab8310364a16d7912e58a02d5cd23f65\n'}]",0,656435,1b3d64e316f8f679068bd33f197e392f16008f63,9,5,1,27459,,,0,"update oslo.policy to 2.2.0

Change-Id: If6411ca3ab8310364a16d7912e58a02d5cd23f65
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/35/656435/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.policy/oslo.policy.spec.j2'],1,1b3d64e316f8f679068bd33f197e392f16008f63,oslo.policy,{% set upstream_version = upstream_version('2.2.0') %},{% set upstream_version = upstream_version('2.1.1') %},1,1
openstack%2Fopenstack-ansible-os_neutron~master~I7b2e8c0f4f826329b56afcae3267526e50dd7a2b,openstack/openstack-ansible-os_neutron,master,I7b2e8c0f4f826329b56afcae3267526e50dd7a2b,Add network-online requirement to systemd units,ABANDONED,2019-05-03 15:59:15.000000000,2019-05-03 16:19:57.000000000,,[],"[{'number': 1, 'created': '2019-05-03 15:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/db911e683d7966337247ca2c099c17d62b2ba408', 'message': ""Add network-online requirement to systemd units\n\nThe systemd_service role adds network.target as a default requirement,\nhowever network.target may be reached before the system's networking\nhas fully started. Sometimes this occurs before bonds or veths are\nonline, which causes neutron services to fail to start due to missing\ninterfaces.\n\nTo avoid this, we will use network-online.target as the requirement\ninstead of network.target, which should more reliably start neutron\nservices after a network restart or system reboot.\n\nChange-Id: I7b2e8c0f4f826329b56afcae3267526e50dd7a2b\n""}, {'number': 2, 'created': '2019-05-03 16:02:10.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/68a75f9f0c070e9abf385fddb0364efd19b96d7f', 'message': ""Add network-online requirement to systemd units\n\nThe systemd_service role adds network.target as a default requirement,\nhowever network.target may be reached before the system's networking\nhas fully started. Sometimes this occurs before bonds or veths are\nonline, which causes neutron services to fail to start due to missing\ninterfaces.\n\nTo avoid this, we will use network-online.target as the requirement\ninstead of network.target, which should more reliably start neutron\nservices after a network restart or system reboot.\n\nSee https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/#conceptsinsystemd\nfor more information about the systemd network target states.\n\nChange-Id: I7b2e8c0f4f826329b56afcae3267526e50dd7a2b\n""}]",0,656972,68a75f9f0c070e9abf385fddb0364efd19b96d7f,3,0,2,17799,,,0,"Add network-online requirement to systemd units

The systemd_service role adds network.target as a default requirement,
however network.target may be reached before the system's networking
has fully started. Sometimes this occurs before bonds or veths are
online, which causes neutron services to fail to start due to missing
interfaces.

To avoid this, we will use network-online.target as the requirement
instead of network.target, which should more reliably start neutron
services after a network restart or system reboot.

See https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/#conceptsinsystemd
for more information about the systemd network target states.

Change-Id: I7b2e8c0f4f826329b56afcae3267526e50dd7a2b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/72/656972/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,db911e683d7966337247ca2c099c17d62b2ba408,systemd-network-online, systemd_after_targets: - syslog.target - network-online.target,,3,0
openstack%2Frpm-packaging~master~Ib444a1841c6468516cfe737cf6945b1c28955b83,openstack/rpm-packaging,master,Ib444a1841c6468516cfe737cf6945b1c28955b83,update oslo.vmware to 2.33.0,MERGED,2019-04-30 03:33:31.000000000,2019-05-03 16:17:07.000000000,2019-05-03 16:17:07.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 03:33:31.000000000', 'files': ['openstack/oslo.vmware/oslo.vmware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/aea73ef9a231eb970ea4c02672b987df235c9df4', 'message': 'update oslo.vmware to 2.33.0\n\nChange-Id: Ib444a1841c6468516cfe737cf6945b1c28955b83\n'}]",0,656436,aea73ef9a231eb970ea4c02672b987df235c9df4,9,5,1,27459,,,0,"update oslo.vmware to 2.33.0

Change-Id: Ib444a1841c6468516cfe737cf6945b1c28955b83
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/36/656436/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.vmware/oslo.vmware.spec.j2'],1,aea73ef9a231eb970ea4c02672b987df235c9df4,oslo.vmware,{% set upstream_version = upstream_version('2.33.0') %},{% set upstream_version = upstream_version('2.32.2') %},1,1
openstack%2Frpm-packaging~master~I6378efa911839e9a36ea4251ac097f21a78a24f5,openstack/rpm-packaging,master,I6378efa911839e9a36ea4251ac097f21a78a24f5,update oslo.privsep to 1.33.0,MERGED,2019-04-30 03:01:24.000000000,2019-05-03 16:17:06.000000000,2019-05-03 16:17:06.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 03:01:24.000000000', 'files': ['openstack/oslo.privsep/oslo.privsep.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/86268b22c5833978e1e0b63ecab4a0db2e6be931', 'message': 'update oslo.privsep to 1.33.0\n\nChange-Id: I6378efa911839e9a36ea4251ac097f21a78a24f5\n'}]",0,656432,86268b22c5833978e1e0b63ecab4a0db2e6be931,9,5,1,27459,,,0,"update oslo.privsep to 1.33.0

Change-Id: I6378efa911839e9a36ea4251ac097f21a78a24f5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/32/656432/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.privsep/oslo.privsep.spec.j2'],1,86268b22c5833978e1e0b63ecab4a0db2e6be931,oslo.privsep,{% set upstream_version = upstream_version('1.33.0') %},{% set upstream_version = upstream_version('1.32.1') %},1,1
openstack%2Frpm-packaging~master~Ib7d4bfd38fd09eecd68895a23a6c4847252a38fb,openstack/rpm-packaging,master,Ib7d4bfd38fd09eecd68895a23a6c4847252a38fb,update neutron-lib to 1.26.0,MERGED,2019-04-28 01:26:30.000000000,2019-05-03 16:17:05.000000000,2019-05-03 16:17:05.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27459}]","[{'number': 1, 'created': '2019-04-28 01:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1d7cf12a7745703ade2729f78a9f726dddf694a6', 'message': 'update neutron-lib to 1.26.0\n\nChange-Id: Ib7d4bfd38fd09eecd68895a23a6c4847252a38fb\n'}, {'number': 2, 'created': '2019-04-30 01:24:56.000000000', 'files': ['openstack/neutron-lib/neutron-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/294987b00d0b003b1c65135436efa711bac9bbc3', 'message': 'update neutron-lib to 1.26.0\n\nChange-Id: Ib7d4bfd38fd09eecd68895a23a6c4847252a38fb\n'}]",0,656091,294987b00d0b003b1c65135436efa711bac9bbc3,15,6,2,27459,,,0,"update neutron-lib to 1.26.0

Change-Id: Ib7d4bfd38fd09eecd68895a23a6c4847252a38fb
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/91/656091/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-lib/neutron-lib.spec.j2'],1,1d7cf12a7745703ade2729f78a9f726dddf694a6,neutron-lib,{% set upstream_version = upstream_version('1.26.0') %},{% set upstream_version = upstream_version('1.25.0') %},1,1
openstack%2Frpm-packaging~master~Ifb5c75deb7b3324ce0bc6dd65c6ffd8f9c12225d,openstack/rpm-packaging,master,Ifb5c75deb7b3324ce0bc6dd65c6ffd8f9c12225d,Update osprofiler to 2.7.0,MERGED,2019-04-29 02:34:04.000000000,2019-05-03 16:17:04.000000000,2019-05-03 16:17:03.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 02:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1c521274b34086805909a1783ba53429c7e7d13b', 'message': 'Update osprofiler to 2.7.0\n\nDepends-on:I8c497c811679f90e77b2558336c7d9b7ad20f87e\nChange-Id: Ifb5c75deb7b3324ce0bc6dd65c6ffd8f9c12225d\n'}, {'number': 2, 'created': '2019-04-29 18:25:32.000000000', 'files': ['openstack/osprofiler/osprofiler.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/03b0a3c32d8ba989eb77d2c01396b04dcc157e26', 'message': 'Update osprofiler to 2.7.0\n\nDepends-on:I8c497c811679f90e77b2558336c7d9b7ad20f87e\nChange-Id: Ifb5c75deb7b3324ce0bc6dd65c6ffd8f9c12225d\n'}]",0,656227,03b0a3c32d8ba989eb77d2c01396b04dcc157e26,13,5,2,26570,,,0,"Update osprofiler to 2.7.0

Depends-on:I8c497c811679f90e77b2558336c7d9b7ad20f87e
Change-Id: Ifb5c75deb7b3324ce0bc6dd65c6ffd8f9c12225d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/27/656227/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/osprofiler/osprofiler.spec.j2'],1,1c521274b34086805909a1783ba53429c7e7d13b,,{% set upstream_version = upstream_version('2.7.0') %},{% set upstream_version = upstream_version('2.6.0') %},1,1
openstack%2Frpm-packaging~master~I346c3794537084d0370b13bae113654380190650,openstack/rpm-packaging,master,I346c3794537084d0370b13bae113654380190650,update python-magnumclient to 2.13.0,MERGED,2019-04-22 14:41:16.000000000,2019-05-03 16:17:02.000000000,2019-05-03 16:17:02.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-22 14:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/085ceacded60b0861a708ad6eef7aeab6ac9cb82', 'message': 'update python-magnumclient to 2.13.0\n\nChange-Id: I346c3794537084d0370b13bae113654380190650\n'}, {'number': 2, 'created': '2019-04-29 18:29:02.000000000', 'files': ['openstack/python-magnumclient/python-magnumclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/36aa6756692f203fb5fed1f2761c9081d5c8f10d', 'message': 'update python-magnumclient to 2.13.0\n\nChange-Id: I346c3794537084d0370b13bae113654380190650\n'}]",0,654469,36aa6756692f203fb5fed1f2761c9081d5c8f10d,13,5,2,27459,,,0,"update python-magnumclient to 2.13.0

Change-Id: I346c3794537084d0370b13bae113654380190650
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/69/654469/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-magnumclient/python-magnumclient.spec.j2'],1,085ceacded60b0861a708ad6eef7aeab6ac9cb82,python-magnumclient,{% set upstream_version = upstream_version('2.13.0') %},{% set upstream_version = upstream_version('2.12.0') %},1,1
openstack%2Frpm-packaging~master~Ia34c6154e1c442c87885a9c983b07475fc323dd3,openstack/rpm-packaging,master,Ia34c6154e1c442c87885a9c983b07475fc323dd3,update oslo.config to 6.9.0,MERGED,2019-04-28 08:48:27.000000000,2019-05-03 16:17:01.000000000,2019-05-03 16:17:01.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-28 08:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/210252c1da4224deae5a3e7bb569857c64b1df8f', 'message': 'update oslo.config to 6.9.0\n\nChange-Id: Ia34c6154e1c442c87885a9c983b07475fc323dd3\n'}, {'number': 2, 'created': '2019-04-29 17:19:04.000000000', 'files': ['openstack/oslo.config/oslo.config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a282cddd876d70f037b8fb4ea46eb2a591493d5d', 'message': 'update oslo.config to 6.9.0\n\nChange-Id: Ia34c6154e1c442c87885a9c983b07475fc323dd3\n'}]",0,656153,a282cddd876d70f037b8fb4ea46eb2a591493d5d,13,5,2,27462,,,0,"update oslo.config to 6.9.0

Change-Id: Ia34c6154e1c442c87885a9c983b07475fc323dd3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/53/656153/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.config/oslo.config.spec.j2'],1,210252c1da4224deae5a3e7bb569857c64b1df8f,oslo.config,{% set upstream_version = upstream_version('6.9.0') %},{% set upstream_version = upstream_version('6.8.1') %},1,1
openstack%2Frpm-packaging~master~I19a50033f41dd9b043ae37afb1c47c667df12c21,openstack/rpm-packaging,master,I19a50033f41dd9b043ae37afb1c47c667df12c21,Update to opendev,MERGED,2019-04-30 02:54:03.000000000,2019-05-03 16:17:00.000000000,2019-05-03 16:17:00.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29979}]","[{'number': 1, 'created': '2019-04-30 02:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/09e8870fdb46eaa0773e5605a9b59c94d58972f0', 'message': 'Update to opendev\n\nChange-Id: I19a50033f41dd9b043ae37afb1c47c667df12c21\n'}, {'number': 2, 'created': '2019-05-01 02:40:35.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b3651b9858d997d4f364db390d6a7ac182dba2cf', 'message': 'Update to opendev\n\nChange-Id: I19a50033f41dd9b043ae37afb1c47c667df12c21\n'}]",2,656431,b3651b9858d997d4f364db390d6a7ac182dba2cf,15,6,2,29979,,,0,"Update to opendev

Change-Id: I19a50033f41dd9b043ae37afb1c47c667df12c21
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/31/656431/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,09e8870fdb46eaa0773e5605a9b59c94d58972f0,,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},2,2
openstack%2Fswift~feature%2Flosf~I7d0f7207f8c441a3280f55a38d895e064a2b546c,openstack/swift,feature/losf,I7d0f7207f8c441a3280f55a38d895e064a2b546c,Add go.mod and go.sum,MERGED,2019-04-09 06:01:06.000000000,2019-05-03 16:15:39.000000000,2019-05-03 16:15:39.000000000,"[{'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2019-04-09 06:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4893147669109b1272e902826029860de3734b71', 'message': 'WIP: Add go.mod and go.sum\n\nThis is experimental use of ""go modules (https://github.com/golang/go/wiki/Modules)""\nthat avoids the constraint, we need to run go command like `go get`\nunder the GOPATH.\n\ngo.mod and go.sum is auto-generated files via following 2 commands:\n\nGO111MODULE=on go mod init // require to run under GOPATH\ngo get // able to run anywhare\n\nChange-Id: I7d0f7207f8c441a3280f55a38d895e064a2b546c\n'}, {'number': 2, 'created': '2019-04-29 18:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/453f87321105c83a55134db22c089e0f1f2eb777', 'message': 'WIP: Add go.mod and go.sum\n\nThis is experimental use of ""go modules (https://github.com/golang/go/wiki/Modules)""\nthat avoids the constraint, we need to run go command like `go get`\nunder the GOPATH.\n\ngo.mod and go.sum is auto-generated files via following 2 commands:\n\nGO111MODULE=on go mod init // require to run under GOPATH\ngo get // able to run anywhare\n\nChange-Id: I7d0f7207f8c441a3280f55a38d895e064a2b546c\n'}, {'number': 3, 'created': '2019-05-02 19:35:43.000000000', 'files': ['go/swift-rpc-losf/go.sum', 'go/swift-rpc-losf/go.mod'], 'web_link': 'https://opendev.org/openstack/swift/commit/b95f1eb2e3f717ef62d18aec2635f9aa79928a65', 'message': 'Add go.mod and go.sum\n\nUse ""go modules (https://github.com/golang/go/wiki/Modules)""\nthat avoids the constraint, we need to run go command like `go get`\nunder the GOPATH.\n\ngo.mod and go.sum is auto-generated files via following 2 commands:\n\nGO111MODULE=on go mod init // require to run under GOPATH\ngo get // able to run anywhare\n\nNote that the newer version as of 1.12 doesn\'t require GO111MODULE\nenvironment setting.\n\nChange-Id: I7d0f7207f8c441a3280f55a38d895e064a2b546c\n'}]",3,651098,b95f1eb2e3f717ef62d18aec2635f9aa79928a65,22,5,3,4608,,,0,"Add go.mod and go.sum

Use ""go modules (https://github.com/golang/go/wiki/Modules)""
that avoids the constraint, we need to run go command like `go get`
under the GOPATH.

go.mod and go.sum is auto-generated files via following 2 commands:

GO111MODULE=on go mod init // require to run under GOPATH
go get // able to run anywhare

Note that the newer version as of 1.12 doesn't require GO111MODULE
environment setting.

Change-Id: I7d0f7207f8c441a3280f55a38d895e064a2b546c
",git fetch https://review.opendev.org/openstack/swift refs/changes/98/651098/2 && git format-patch -1 --stdout FETCH_HEAD,"['go/swift-rpc-losf/go.sum', 'go/swift-rpc-losf/go.mod']",2,4893147669109b1272e902826029860de3734b71,651101,module github.com/openstack/swift-rpc-losf // This file is auto-generated with following commands // GO111MODULE=on go mod init // require to run under GOPATH // go get // able to run anywhare // TODO: think of we need to pin the versions as required require ( github.com/alecuyer/statsd v2.0.0+incompatible github.com/golang/protobuf v1.2.0 github.com/golang/snappy v0.0.0-20180518054509-2e65f85255db // indirect github.com/jmhodges/levigo v0.0.0-20161115193449-c42d9e0ca023 github.com/sirupsen/logrus v1.3.0 github.com/syndtr/goleveldb v0.0.0-20181128100959-b001fa50d6b2 golang.org/x/net v0.0.0-20190125091013-d26f9f9a57f3 golang.org/x/sys v0.0.0-20190201073406-2970a3744de3 google.golang.org/grpc v1.18.0 ) ,,62,0
openstack%2Fopenstack-zuul-jobs~master~I82adb346ceabbf9fd532e09f31842e6d2e8b13de,openstack/openstack-zuul-jobs,master,I82adb346ceabbf9fd532e09f31842e6d2e8b13de,Set bindep_fallback in legacy-base,MERGED,2019-05-03 15:45:16.000000000,2019-05-03 16:06:07.000000000,2019-05-03 16:06:06.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 15:45:16.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d38a36a7998e2f65d62cb2e64fa2db8f7dbbf096', 'message': ""Set bindep_fallback in legacy-base\n\nWe want to stop doing this generally in base jobs. It's only important\nfor legacy jobs.\n\nChange-Id: I82adb346ceabbf9fd532e09f31842e6d2e8b13de\n""}]",0,656969,d38a36a7998e2f65d62cb2e64fa2db8f7dbbf096,8,4,1,2,,,0,"Set bindep_fallback in legacy-base

We want to stop doing this generally in base jobs. It's only important
for legacy jobs.

Change-Id: I82adb346ceabbf9fd532e09f31842e6d2e8b13de
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/69/656969/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,d38a36a7998e2f65d62cb2e64fa2db8f7dbbf096,, vars: bindep_fallback: /usr/local/bindep-fallback/bindep-fallback.txt vars: bindep_fallback: /usr/local/bindep-fallback/bindep-fallback.txt,,4,0
openstack%2Fptgbot~master~I11d42bcb1a0e3bc2e4105d6c2afa39f3a37af278,openstack/ptgbot,master,I11d42bcb1a0e3bc2e4105d6c2afa39f3a37af278,Fix crash after #unsubscribe,MERGED,2019-05-03 15:48:37.000000000,2019-05-03 16:02:22.000000000,2019-05-03 16:02:22.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 15:48:37.000000000', 'files': ['ptgbot/bot.py'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/0145545e78a9c68413e5467d5f60b3055b2cbd01', 'message': ""Fix crash after #unsubscribe\n\nThe #unsubscribe command was setting the person's subscription to None\nwhich obviously can't be compiled to a regex.  This caused a crash on\nthe first now/next update after someone did #unsubscribe.  Fix this\nsimply by skipping any subscription where the regex is set to None.\n\nChange-Id: I11d42bcb1a0e3bc2e4105d6c2afa39f3a37af278\n""}]",0,656970,0145545e78a9c68413e5467d5f60b3055b2cbd01,7,4,1,2394,,,0,"Fix crash after #unsubscribe

The #unsubscribe command was setting the person's subscription to None
which obviously can't be compiled to a regex.  This caused a crash on
the first now/next update after someone did #unsubscribe.  Fix this
simply by skipping any subscription where the regex is set to None.

Change-Id: I11d42bcb1a0e3bc2e4105d6c2afa39f3a37af278
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/70/656970/1 && git format-patch -1 --stdout FETCH_HEAD,['ptgbot/bot.py'],1,0145545e78a9c68413e5467d5f60b3055b2cbd01,fix-unsubscribe," if regexp is None: # Person did #unsubscribe, so skip continue",,3,0
openstack%2Fcinder~master~Ibf312bf12c97242c1fadf707d6db71f20e93c579,openstack/cinder,master,Ibf312bf12c97242c1fadf707d6db71f20e93c579,Remove unneeded comment,MERGED,2019-05-02 22:42:56.000000000,2019-05-03 15:46:13.000000000,2019-05-03 13:51:32.000000000,"[{'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-02 22:42:56.000000000', 'files': ['cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/20c951041324eb4b43fe5cc5c862379808f1378b', 'message': ""Remove unneeded comment\n\nThis comment applies to most of our code.\n\nThis lock method won't be removed any time soon.\n\nChange-Id: Ibf312bf12c97242c1fadf707d6db71f20e93c579\n""}]",0,656894,20c951041324eb4b43fe5cc5c862379808f1378b,38,31,1,4523,,,0,"Remove unneeded comment

This comment applies to most of our code.

This lock method won't be removed any time soon.

Change-Id: Ibf312bf12c97242c1fadf707d6db71f20e93c579
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/656894/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/remotefs.py'],1,20c951041324eb4b43fe5cc5c862379808f1378b,,,# TODO(bluex): remove when drivers stop using it,0,1
openstack%2Fnova-specs~master~I742af30879c73cbd76b563fe5bf318e0fe12b096,openstack/nova-specs,master,I742af30879c73cbd76b563fe5bf318e0fe12b096,Reduce CPU and RAM quota usage for servers in SHELVED_OFFLOADED state,ABANDONED,2019-05-02 16:29:02.000000000,2019-05-03 15:36:55.000000000,,"[{'_account_id': 136}, {'_account_id': 4690}, {'_account_id': 10338}, {'_account_id': 12408}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 16:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3eb6066f3881ac24a6202571581d944eb05a56d9', 'message': 'Reduce CPU and RAM quota when VM is shelved\n\nChange-Id: I742af30879c73cbd76b563fe5bf318e0fe12b096\n'}, {'number': 2, 'created': '2019-05-02 16:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/126f0d49caaf2934f4640acb046f02f3618c9e1f', 'message': 'Reduce CPU and RAM quota when VM is shelved\n\nChange-Id: I742af30879c73cbd76b563fe5bf318e0fe12b096\n'}, {'number': 3, 'created': '2019-05-02 16:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/74ecb1355819c249b0b800ca76e9a4307931792f', 'message': 'Reduce CPU and RAM quota when VM is shelved\n\nChange-Id: I742af30879c73cbd76b563fe5bf318e0fe12b096\n'}, {'number': 4, 'created': '2019-05-02 17:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4675a118141d8816a15bdc31f5f549f1433f7e3a', 'message': 'Reduce CPU and RAM quota usage when server is shelved\n\nbp reduce-quota-usage-when-shelve\nChange-Id: I742af30879c73cbd76b563fe5bf318e0fe12b096\n'}, {'number': 5, 'created': '2019-05-02 17:48:58.000000000', 'files': ['specs/train/approved/reduce-quota-usage-when-shelve.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4c6fcdb2e1c823917bdabc1bf57655ec05f57080', 'message': 'Reduce CPU and RAM quota usage for servers in SHELVED_OFFLOADED state\n\nbp reduce-quota-usage-when-shelve\nChange-Id: I742af30879c73cbd76b563fe5bf318e0fe12b096\n'}]",4,656806,4c6fcdb2e1c823917bdabc1bf57655ec05f57080,15,5,5,12408,,,0,"Reduce CPU and RAM quota usage for servers in SHELVED_OFFLOADED state

bp reduce-quota-usage-when-shelve
Change-Id: I742af30879c73cbd76b563fe5bf318e0fe12b096
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/06/656806/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/reduce-quota-when-unshelve.rst'],1,3eb6066f3881ac24a6202571581d944eb05a56d9,bp/reduce-quota-usage-when-shelve,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== reduce-quota-when-unshelve server ========================================== https://blueprints.launchpad.net/nova/+spec/reduce-quota-when-unshelve Currently, when a server gets shelved its CPU and RAM quota isn't changed. Problem description =================== Currently, when a server gets shelved its CPU and RAM quota isn't changed. It makes shelve operation useless for end users as it doesn't motivate them to use this feature as it doesn't allow them to start new servers using existing quota. Use Cases --------- * As a user, I would like to use my project quota for actually active servers. * As a cluster operator, I would like to have an ability to control resourses by setting quota just once and allow project users use it effectivle archiving currently unused servers. Proposed change =============== Let's change the existing behavior so that new shelve API calls will start to reduce CPU and RAM quota. We should increment API microversion thus, uncertrainty about what behavior is current would not be an issue. As quota starts to be reduced, unshelve action should also be changed to acquire quota when called. In case there is no quota unshelve call should fail with 409 error. The was a bug on the matter close as invalid in favor of spec creation. See `bug 1630454`_ for details. .. _bug 1630454: https://bugs.launchpad.net/nova/+bug/1630454 Alternatives ------------ The main alternative is leave it as it is. Data model impact ----------------- None REST API impact --------------- The API microversion and compute RPC version will also be incremented to indicate the new support. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- The python-novaclient and python-openstackclient will be updated to support the new microversion. Performance Impact ------------------ None Other deployer impact --------------------- In order to apply reduced quota for already shelved servers users should unshelve and shelve them again manually using new microverion API. Developer impact ---------------- None Upgrade impact -------------- In order to apply reduced quota for already shelved servers users should unshelve and shelve them again manually using new microverion API. Implementation ============== Assignee(s) ----------- Primary assignee: Maxim Nestratov <mnestratov@virtuozzo.com> (mnestratov) Work Items ---------- * Change the existing shelve/unshelve API. * Adopt the new microversion in python-novaclient. * Adopt the new microversion in python-openstackclient. * Change the nova API documents. Dependencies ============ None Testing ======= The following tests are added. * Nova unit tests for negative scenarios * Tempest integration tests to tests for to make sure quota is reduced/increased during shelve/unshelve Documentation Impact ==================== We will replace the `note in the API reference`_ with a note about the required minimum microversion for new shelve/unshelve behavior. The following document will be updated: * API Reference .. _note in the API reference: https://developer.openstack.org/api-ref/compute/?expanded#shelve-server-shelve-action References ========== * Train PTG etherpad: https://etherpad.openstack.org/p/nova-ptg-train History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Proposed. ",,160,0
openstack%2Fnetworking-ovn~stable%2Focata~I4408048391dc9a286d8d6ab8f8424a659b1b00ed,openstack/networking-ovn,stable/ocata,I4408048391dc9a286d8d6ab8f8424a659b1b00ed,Remove in-tree periodic job,MERGED,2019-04-23 13:38:35.000000000,2019-05-03 15:25:56.000000000,2019-05-03 15:25:56.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 13:38:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/00ab716f472d079a9aafa94f29da4d1095d281d4', 'message': 'Remove in-tree periodic job\n\nThe periodic job is defined in both openstack/project-config and here.\nRemove it here and keep the version in project-config so that we can\nupdate it easily for all projects for train.\n\nRelated changes:\n* https://review.opendev.org/654571\n* https://review.opendev.org/654574\n\nChange-Id: I4408048391dc9a286d8d6ab8f8424a659b1b00ed\n(cherry picked from commit 286e54d10a0bec1c01fe97cc1079e3dd1c1d9c22)\n'}]",0,655156,00ab716f472d079a9aafa94f29da4d1095d281d4,8,3,1,6547,,,0,"Remove in-tree periodic job

The periodic job is defined in both openstack/project-config and here.
Remove it here and keep the version in project-config so that we can
update it easily for all projects for train.

Related changes:
* https://review.opendev.org/654571
* https://review.opendev.org/654574

Change-Id: I4408048391dc9a286d8d6ab8f8424a659b1b00ed
(cherry picked from commit 286e54d10a0bec1c01fe97cc1079e3dd1c1d9c22)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/56/655156/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,00ab716f472d079a9aafa94f29da4d1095d281d4,periodic-py36,, periodic: jobs: - openstack-tox-py35-with-ovsdbapp-master: required-projects: - openstack/neutron ,0,6
openstack%2Fswift~master~I914c3a2811e1a2b7f19ad2bc9b3d042fcba63820,openstack/swift,master,I914c3a2811e1a2b7f19ad2bc9b3d042fcba63820,Pass logger instances to AccountBroker/ContainerBroker,MERGED,2016-03-22 14:48:57.000000000,2019-05-03 15:18:49.000000000,2019-05-03 10:27:27.000000000,"[{'_account_id': 3}, {'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 12279}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-03-22 14:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5066f0a021feef2118af98cc563becd1a7663232', 'message': ""Pass logger instances to AccountBroker/ContainerBroker\n\nThere are some processes which don't pass their logger instance\nwhen creating AccountBrokers/ContainerBrokers, which causes some\nerror messages with different setting from other logs generated\nby the processes.\n\nThis patch makes them pass logger instances, to make sure they\ngenerate all logs according to their log settings.\n\nChange-Id: I914c3a2811e1a2b7f19ad2bc9b3d042fcba63820\n""}, {'number': 2, 'created': '2016-03-22 15:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b2388f52df689f4976d61ec295895a0af804e55d', 'message': ""[WIP] Pass logger instances to AccountBroker/ContainerBroker\n\nThere are some processes which don't pass their logger instance\nwhen creating AccountBrokers/ContainerBrokers, which causes some\nerror messages with different setting from other logs generated\nby the processes.\n\nThis patch makes them pass logger instances, to make sure they\ngenerate all logs according to their log settings.\n\nChange-Id: I914c3a2811e1a2b7f19ad2bc9b3d042fcba63820\n""}, {'number': 3, 'created': '2016-04-10 15:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/308556d4701c011abf359d483441e6a6c5abbdfb', 'message': ""Pass logger instances to AccountBroker/ContainerBroker\n\nThere are some processes which don't pass their logger instances\nwhen creating AccountBrokers/ContainerBrokers, which causes some\nerror messages with a different setting from the other logs\ngenerated by the processes.\n\nThis patch makes them pass logger instances, to make sure they\ngenerate all logs according to their log settings.\n\nChange-Id: I914c3a2811e1a2b7f19ad2bc9b3d042fcba63820\n""}, {'number': 4, 'created': '2017-01-04 17:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/573e9719f6d0893d462aea73c04a5a7a981b2565', 'message': ""Pass logger instances to AccountBroker/ContainerBroker\n\nThere are some processes which don't pass their logger instances\nwhen creating AccountBrokers/ContainerBrokers, which causes some\nerror messages with a different setting from the other logs\ngenerated by the processes.\n\nThis patch makes them pass logger instances, to make sure they\ngenerate all logs according to their log settings.\n\nChange-Id: I914c3a2811e1a2b7f19ad2bc9b3d042fcba63820\n""}, {'number': 5, 'created': '2017-01-05 16:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c581d99af9c7ca228cffb4292761e6d35e3d3252', 'message': ""Pass logger instances to AccountBroker/ContainerBroker\n\nThere are some processes which don't pass their logger instances\nwhen creating AccountBrokers/ContainerBrokers, which causes some\nerror messages with a different setting from the other logs\ngenerated by the processes.\n\nThis patch makes them pass logger instances, to make sure they\ngenerate all logs according to their log settings.\n\nChange-Id: I914c3a2811e1a2b7f19ad2bc9b3d042fcba63820\n""}, {'number': 6, 'created': '2019-05-02 10:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/44c516dc539e9acf9269dcac03b9b343633b7a71', 'message': ""Pass logger instances to AccountBroker/ContainerBroker\n\nThere are some processes which don't pass their logger instances\nwhen creating AccountBrokers/ContainerBrokers, which causes some\nerror messages with a different setting from the other logs\ngenerated by the processes.\n\nThis patch makes them pass logger instances, to make sure they\ngenerate all logs according to their log settings.\n\nChange-Id: I914c3a2811e1a2b7f19ad2bc9b3d042fcba63820\n""}, {'number': 7, 'created': '2019-05-02 16:15:29.000000000', 'files': ['swift/container/auditor.py', 'test/unit/account/test_reaper.py', 'swift/account/auditor.py', 'swift/container/sync.py', 'test/unit/container/test_sync.py', 'swift/common/db_replicator.py', 'swift/account/reaper.py', 'swift/container/replicator.py', 'test/unit/account/test_auditor.py', 'test/unit/container/test_auditor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4b2ac606b1a4bcbb949e6feef98e1b2600c83a14', 'message': ""Pass logger instances to AccountBroker/ContainerBroker\n\nThere are some processes which don't pass their logger instances\nwhen creating AccountBrokers/ContainerBrokers, which causes some\nerror messages with a different setting from the other logs\ngenerated by the processes.\n\nThis patch makes them pass logger instances, to make sure they\ngenerate all logs according to their log settings.\n\nChange-Id: I914c3a2811e1a2b7f19ad2bc9b3d042fcba63820\n""}]",6,295875,4b2ac606b1a4bcbb949e6feef98e1b2600c83a14,33,7,7,9816,,,0,"Pass logger instances to AccountBroker/ContainerBroker

There are some processes which don't pass their logger instances
when creating AccountBrokers/ContainerBrokers, which causes some
error messages with a different setting from the other logs
generated by the processes.

This patch makes them pass logger instances, to make sure they
generate all logs according to their log settings.

Change-Id: I914c3a2811e1a2b7f19ad2bc9b3d042fcba63820
",git fetch https://review.opendev.org/openstack/swift refs/changes/75/295875/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/auditor.py', 'swift/account/auditor.py', 'swift/container/sync.py', 'swift/common/db_replicator.py', 'swift/account/reaper.py', 'swift/container/replicator.py']",6,5066f0a021feef2118af98cc563becd1a7663232,pass-logger," broker = ContainerBroker(db_path, account=account, container=container, logger=self.logger)"," broker = ContainerBroker(db_path, account=account, container=container)",12,9
openstack%2Ftripleo-heat-templates~master~I4fea7a20029cff507c62fa0cf155ee18fd4e2b4e,openstack/tripleo-heat-templates,master,I4fea7a20029cff507c62fa0cf155ee18fd4e2b4e,Fix typos,ABANDONED,2018-02-09 06:11:41.000000000,2019-05-03 15:07:52.000000000,,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-09 06:11:41.000000000', 'files': ['roles/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92d8bb412cf80ec91f0c6563a04ea44b7c64028c', 'message': 'Fix typos\n\nChange-Id: I4fea7a20029cff507c62fa0cf155ee18fd4e2b4e\n'}]",1,542608,92d8bb412cf80ec91f0c6563a04ea44b7c64028c,6,3,1,27399,,,0,"Fix typos

Change-Id: I4fea7a20029cff507c62fa0cf155ee18fd4e2b4e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/542608/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/README.rst'],1,92d8bb412cf80ec91f0c6563a04ea44b7c64028c,,"Note this file is used as an input the various \*.j2.yaml jinja2 templates,","Note this file is used as an input the the various \*.j2.yaml jinja2 templates,",1,1
openstack%2Fopenstack-helm-infra~master~I893342b36ba27cbe7d3ce8767f73795e84a11732,openstack/openstack-helm-infra,master,I893342b36ba27cbe7d3ce8767f73795e84a11732,Define test specific timeouts for Armada LMA components,MERGED,2019-04-15 17:47:47.000000000,2019-05-03 15:07:43.000000000,2019-05-03 15:07:43.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-04-15 17:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bdec0993d1fae5438dde19c1705a2b97527c669f', 'message': 'WIP Define test specific timeouts for Armada LMA components\n\nChange-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732\n'}, {'number': 2, 'created': '2019-04-15 18:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6bcd530592f6c19345e7142a89ee54da71b12e16', 'message': 'WIP Define test specific timeouts for Armada LMA components\n\nChange-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732\n'}, {'number': 3, 'created': '2019-04-15 19:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a690d8d2d4811bb07b824d374d18228c2d47dd9a', 'message': 'WIP Define test specific timeouts for Armada LMA components\n\nChange-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732\n'}, {'number': 4, 'created': '2019-04-17 14:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6fc56d7eaa134329b03f3dc76b0efd2e8f285f73', 'message': 'Define test specific timeouts for Armada LMA components\n\nThis adds test specific timeout to all LMA components in\nArmada. This also removes test enabled true because\nArmada enables tests by default\n\nChange-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732\n'}, {'number': 5, 'created': '2019-04-17 19:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9dc5657cd4ccc1004ce83d342de3485e9aefe6b3', 'message': 'Define test specific timeouts for Armada LMA components\n\nThis adds test specific timeout to all LMA components in\nArmada. This also removes test enabled true because\nArmada enables tests by default\n\nChange-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732\n'}, {'number': 6, 'created': '2019-04-18 17:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e6dcc43cbaf1e9ad407282c87070e5f0b77b1e6', 'message': 'Define test specific timeouts for Armada LMA components\n\nThis adds test specific timeout to all LMA components in\nArmada. This also removes test enabled true because\nArmada enables tests by default\n\nChange-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732\n'}, {'number': 7, 'created': '2019-04-18 18:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a81c3bd0b96bc3cfd14b337e1ff4262737dee71d', 'message': 'Define test specific timeouts for Armada LMA components\n\nThis adds test specific timeout to all LMA components in\nArmada. This also removes test enabled true because\nArmada enables tests by default\n\nChange-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732\n'}, {'number': 8, 'created': '2019-04-21 21:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/07c099f805acce13ea1c2ae38ce83fc6a97afd1d', 'message': 'Define test specific timeouts for Armada LMA components\n\nThis adds test specific timeout to all LMA components in\nArmada. This also removes test enabled true because\nArmada enables tests by default\n\nChange-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732\n'}, {'number': 9, 'created': '2019-04-23 16:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c289c9c974396deb9654830070df552ac4eb5451', 'message': 'Define test specific timeouts for Armada LMA components\n\nThis adds test specific timeout to all LMA components in\nArmada. This also removes test enabled true because\nArmada enables tests by default\n\nChange-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732\n'}, {'number': 10, 'created': '2019-04-24 14:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2dbb6415a9ad9b8a17cee836ac766d356c2bc1f8', 'message': 'Define test specific timeouts for Armada LMA components\n\nThis adds test specific timeout to all LMA components in\nArmada. This also removes test enabled true because\nArmada enables tests by default\n\nChange-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732\n'}, {'number': 11, 'created': '2019-04-24 16:07:27.000000000', 'files': ['tools/deployment/armada/manifests/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a600471cb0351c227571139a160f9b14385767fe', 'message': 'Define test specific timeouts for Armada LMA components\n\nThis adds test specific timeout to all LMA components in\nArmada. This also removes test enabled true because\nArmada enables tests by default\n\nChange-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732\n'}]",0,652743,a600471cb0351c227571139a160f9b14385767fe,53,6,11,28849,,,0,"Define test specific timeouts for Armada LMA components

This adds test specific timeout to all LMA components in
Armada. This also removes test enabled true because
Armada enables tests by default

Change-Id: I893342b36ba27cbe7d3ce8767f73795e84a11732
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/43/652743/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tools/deployment/armada/manifests/armada-lma.yaml']",2,bdec0993d1fae5438dde19c1705a2b97527c669f,armada/LMA-test.timeout,<<<<<<< HEAD ======= resources: - type: deployment - type: job - type: statefulset test: timeout: 600 >>>>>>> af1ba96... WIP Define test specific timeouts for Armada LMA components timeout: 600 timeout: 600<<<<<<< HEAD ======= resources: - type: deployment - type: job test: timeout: 600 >>>>>>> af1ba96... WIP Define test specific timeouts for Armada LMA components timeout: 600<<<<<<< HEAD ======= resources: - type: deployment test: timeout: 600 >>>>>>> af1ba96... WIP Define test specific timeouts for Armada LMA components timeout: 600, enabled: true enabled: true enabled: true enabled: true,47,21
openstack%2Ftripleo-heat-templates~master~I3a1245bffd3fcde5a8e24da685bf59e3a9ccf448,openstack/tripleo-heat-templates,master,I3a1245bffd3fcde5a8e24da685bf59e3a9ccf448,WIP - Fluentd set multiline parse,ABANDONED,2017-09-25 16:51:12.000000000,2019-05-03 15:07:05.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-09-25 16:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0a79278c1dbe0d20a43ff4cc08dd5afc1676237', 'message': 'WIP - Fluentd set multiline parse\n\nThis patch set the fluentd loging format parse as multiline. Besides it also\nget some metadata from the logs as:\n\n- request_id\n- user_id\n- tenant_id\n- domain_id\n- project_domain\n- user_domain\n\nThis way of parsing the logs came from the kolla-ansible project:\nhttps://github.com/openstack/kolla-ansible/blob/master/ansible/roles/common/templates/conf/input/00-global.conf.j2#L49\n\nChange-Id: I3a1245bffd3fcde5a8e24da685bf59e3a9ccf448\n'}, {'number': 2, 'created': '2017-09-25 19:16:38.000000000', 'files': ['common/services.yaml', 'puppet/services/logging/fluentd-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/baa3dcd458c4f1d0fb14f6b7a5286a22d7dc320c', 'message': 'WIP - Fluentd set multiline parse\n\nThis patch set the fluentd loging format parse as multiline. Besides it also\nget some metadata from the logs as:\n\n- request_id\n- user_id\n- tenant_id\n- domain_id\n- project_domain\n- user_domain\n\nThis way of parsing the logs came from the kolla-ansible project:\nhttps://github.com/openstack/kolla-ansible/blob/master/ansible/roles/common/templates/conf/input/00-global.conf.j2#L49\n\nChange-Id: I3a1245bffd3fcde5a8e24da685bf59e3a9ccf448\n'}]",0,507208,baa3dcd458c4f1d0fb14f6b7a5286a22d7dc320c,7,1,2,22954,,,0,"WIP - Fluentd set multiline parse

This patch set the fluentd loging format parse as multiline. Besides it also
get some metadata from the logs as:

- request_id
- user_id
- tenant_id
- domain_id
- project_domain
- user_domain

This way of parsing the logs came from the kolla-ansible project:
https://github.com/openstack/kolla-ansible/blob/master/ansible/roles/common/templates/conf/input/00-global.conf.j2#L49

Change-Id: I3a1245bffd3fcde5a8e24da685bf59e3a9ccf448
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/507208/2 && git format-patch -1 --stdout FETCH_HEAD,"['common/services.yaml', 'puppet/services/logging/fluentd-config.yaml']",2,b0a79278c1dbe0d20a43ff4cc08dd5afc1676237,fluentd-MultilineParse, LoggingDefaultFirstLine: description: > First Default line format used to parse messages from log files. type: string default: '/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3} \d+ \S+ \S+ \[(req-\S+ \S+ \S+ \S+ \S+ \S+|-)\]/' LoggingDefaultFormat1: default: '/^(?<Timestamp>\S+ \S+) (?<Pid>\d+) (?<log_level>\S+) (?<python_module>\S+) (\[(req-(?<request_id>\S+) (?<user_id>\S+) (?<tenant_id>\S+) (?<domain_id>\S+) (?<user_domain>\S+) (?<project_domain>\S+)|-)\])? (?<Payload>.*)?$/' LoggingFirstDefaultLine: value: {get_param: LoggingFirstDefaultLine} LoggingDefaultFormat1: value: {get_param: LoggingDefaultFormat1}, LoggingDefaultFormat: default: >- /(?<time>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d+) (?<pid>\d+) (?<priority>\S+) (?<message>.*)$/ LoggingDefaultFormat: value: {get_param: LoggingDefaultFormat},21,11
openstack%2Ftripleo-heat-templates~master~I191bdb2e04cee45139097469bef8840a008d5102,openstack/tripleo-heat-templates,master,I191bdb2e04cee45139097469bef8840a008d5102,WIP: Make puppet apply tasks use ansible module,ABANDONED,2018-07-03 16:52:13.000000000,2019-05-03 15:06:37.000000000,,"[{'_account_id': 3153}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-03 16:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf52b39a36e40cd2eaec419dcc19499a0ded7acb', 'message': ""WIP: Make puppet apply tasks use ansible module\n\nPuppet apply tasks use the 'command' ansible module to call the puppet\ncli, and execute when running 'ansible-playbook --check' against a\nconfig-download dir. These tasks should instead use puppet's --noop\narg to provide the expected --check behaviour. Switch tasks to use the\nansible puppet module, which properly calls 'puppet --noop' on --check.\n\nWIP until ansible module changes are merged and available.\n\nChange-Id: I191bdb2e04cee45139097469bef8840a008d5102\nDepends-On: https://github.com/ansible/ansible/pull/42218\n""}, {'number': 2, 'created': '2018-07-06 19:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5371777eda997db50583ac0bc1075094ac95b535', 'message': ""WIP: Make puppet apply tasks use ansible module\n\nPuppet apply tasks use the 'command' ansible module to call the puppet\ncli, and execute when running 'ansible-playbook --check' against a\nconfig-download dir. These tasks should instead use puppet's --noop\narg to provide the expected --check behaviour. Switch tasks to use the\nansible puppet module, which properly calls 'puppet --noop' on --check.\n\nWIP until ansible module changes are merged and available.\n\nCloses-Bug: 1779408\nChange-Id: I191bdb2e04cee45139097469bef8840a008d5102\nDepends-On: https://github.com/ansible/ansible/pull/42218\n""}, {'number': 3, 'created': '2018-07-06 20:59:42.000000000', 'files': ['common/deploy-steps-tasks.yaml', 'puppet/services/nova-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/508f0122e59e757bf2baee15819e87feeffac66a', 'message': ""WIP: Make puppet apply tasks use ansible module\n\nPuppet apply tasks use the 'command' ansible module to call the puppet\ncli, and execute when running 'ansible-playbook --check' against a\nconfig-download dir. These tasks should instead use puppet's --noop\narg to provide the expected --check behaviour. Switch tasks to use the\nansible puppet module, which properly calls 'puppet --noop' on --check.\n\nWIP until ansible module changes are merged and available.\n\nCloses-Bug: 1779408\nChange-Id: I191bdb2e04cee45139097469bef8840a008d5102\nDepends-On: https://github.com/ansible/ansible/pull/42218\n""}]",1,579919,508f0122e59e757bf2baee15819e87feeffac66a,11,4,3,20868,,,0,"WIP: Make puppet apply tasks use ansible module

Puppet apply tasks use the 'command' ansible module to call the puppet
cli, and execute when running 'ansible-playbook --check' against a
config-download dir. These tasks should instead use puppet's --noop
arg to provide the expected --check behaviour. Switch tasks to use the
ansible puppet module, which properly calls 'puppet --noop' on --check.

WIP until ansible module changes are merged and available.

Closes-Bug: 1779408
Change-Id: I191bdb2e04cee45139097469bef8840a008d5102
Depends-On: https://github.com/ansible/ansible/pull/42218
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/579919/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-tasks.yaml', 'puppet/services/nova-api.yaml']",2,bf52b39a36e40cd2eaec419dcc19499a0ded7acb,bug/1779408," puppet: modulepath: /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules manifest: /root/nova-api_upgrade_manifest.pp #TODO: delete below when verified # - name: Run puppet apply to set tranport_url in nova.conf # when: # - step|int == 5 # - is_bootstrap_node|bool # command: puppet apply --summarize --modulepath /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules --detailed-exitcodes /root/nova-api_upgrade_manifest.pp # register: puppet_apply_nova_api_upgrade # failed_when: puppet_apply_nova_api_upgrade.rc not in [0,2] # changed_when: puppet_apply_nova_api_upgrade.rc == 2", command: puppet apply --summarize --modulepath /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules --detailed-exitcodes /root/nova-api_upgrade_manifest.pp,37,8
openstack%2Fpython-cinderclient~stable%2Fstein~I8c8fb8f552e529c8474a3e3b771ba8eb7aed193a,openstack/python-cinderclient,stable/stein,I8c8fb8f552e529c8474a3e3b771ba8eb7aed193a,Raise API max version for Rocky updates,MERGED,2019-04-22 18:57:52.000000000,2019-05-03 14:42:27.000000000,2019-05-03 14:42:27.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2019-04-22 18:57:52.000000000', 'files': ['cinderclient/api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/ee37f267354a8dfe5d4b9b05c261bf86f329cfb8', 'message': 'Raise API max version for Rocky updates\n\nFunctionality was added during rocky, but the MAX_VERSION of the client\nwas not updated for these versions. This raises the version to support\nthe added functionality.\n\n3.53 - Schema validation - no client changes\n3.54 - Add mode option to attachment-create:\n    I22cfddd0192c4a72b8f844f23d1fa51b96c57e06\n3.55 - Transfer snapshots with volumes\n    I61a84b5abf386a4073baea57d8820c8fd762ae03\n\nChange-Id: I8c8fb8f552e529c8474a3e3b771ba8eb7aed193a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit b843a168efc9261a12ebe322fe701ef355474874)\n'}]",0,654609,ee37f267354a8dfe5d4b9b05c261bf86f329cfb8,10,5,1,11904,,,0,"Raise API max version for Rocky updates

Functionality was added during rocky, but the MAX_VERSION of the client
was not updated for these versions. This raises the version to support
the added functionality.

3.53 - Schema validation - no client changes
3.54 - Add mode option to attachment-create:
    I22cfddd0192c4a72b8f844f23d1fa51b96c57e06
3.55 - Transfer snapshots with volumes
    I61a84b5abf386a4073baea57d8820c8fd762ae03

Change-Id: I8c8fb8f552e529c8474a3e3b771ba8eb7aed193a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit b843a168efc9261a12ebe322fe701ef355474874)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/09/654609/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/api_versions.py'],1,ee37f267354a8dfe5d4b9b05c261bf86f329cfb8,stein-mv-stable/stein,"MAX_VERSION = ""3.55""","MAX_VERSION = ""3.52""",1,1
openstack%2Fcharm-nova-compute~master~I7887b5f06e194450ec69d8adc5d6fd7f84fee6fe,openstack/charm-nova-compute,master,I7887b5f06e194450ec69d8adc5d6fd7f84fee6fe,config: add notification-format option,MERGED,2019-04-19 13:32:18.000000000,2019-05-03 14:38:09.000000000,2019-05-03 14:38:09.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-19 13:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/0aba2ef73a002ccf7ec13eb7f46a5e8c5a4559d3', 'message': 'config: add notification_format config option\n\nThis require a change in charm-helper:\n  https://github.com/juju/charm-helpers/pull/310/commits/6d51f2858bca55e36c8fbb81849010d47a068b81\n\nChange-Id: I7887b5f06e194450ec69d8adc5d6fd7f84fee6fe\nRelated-Bug: 1825016\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-04-24 08:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/6ed00f7391d174ac5143c21418709eeef5b81f08', 'message': 'config: add notification_format and oslo-messaging-driver options\n\nThis require a change in charm-helper:\n  https://github.com/juju/charm-helpers/pull/310/\n\nChange-Id: I7887b5f06e194450ec69d8adc5d6fd7f84fee6fe\nRelated-Bug: 1825016\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 3, 'created': '2019-04-24 15:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/cfd075b7f8a57ea0a4fc5da36c2b09cbdc613b38', 'message': 'config: add notification_format and oslo-messaging-driver options\n\nThis require a change in charm-helper:\n  https://github.com/juju/charm-helpers/pull/310/\n\nChange-Id: I7887b5f06e194450ec69d8adc5d6fd7f84fee6fe\nCloses-Bug: 1825016\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 4, 'created': '2019-04-25 09:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/1555705fda3f58e1aad8c819149120b5b71804b8', 'message': 'config: add notification-format and oslo-messaging-driver options\n\nThis require a change in charm-helper:\n  https://github.com/juju/charm-helpers/pull/310/\n\nCloses-Bug: 1825016\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\nChange-Id: I7887b5f06e194450ec69d8adc5d6fd7f84fee6fe\n'}, {'number': 5, 'created': '2019-05-03 08:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/1c95e72b685091d5dfba09aac06584eda31562d1', 'message': 'config: add notification-format and oslo-messaging-driver options\n\nThis require a change in charm-helper:\n  https://github.com/juju/charm-helpers/pull/310/\n\nCloses-Bug: 1825016\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\nChange-Id: I7887b5f06e194450ec69d8adc5d6fd7f84fee6fe\n'}, {'number': 6, 'created': '2019-05-03 11:38:39.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/599245bbd16bb986e43d753857e73da2555fc77b', 'message': 'config: add notification-format option\n\nThis require a change in charm-helper:\n  https://github.com/juju/charm-helpers/pull/310/\n\nRelated-Bug: 1825016\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\nChange-Id: I7887b5f06e194450ec69d8adc5d6fd7f84fee6fe\n'}]",1,653945,599245bbd16bb986e43d753857e73da2555fc77b,24,3,6,7730,,,0,"config: add notification-format option

This require a change in charm-helper:
  https://github.com/juju/charm-helpers/pull/310/

Related-Bug: 1825016
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
Change-Id: I7887b5f06e194450ec69d8adc5d6fd7f84fee6fe
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/45/653945/5 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,0aba2ef73a002ccf7ec13eb7f46a5e8c5a4559d3,bug/1825016," notification_format: type: string default: description: | There are two types of notifications in Nova: legacy notifications which have an unversioned payload and newer notifications which have a versioned payload. . Setting this option to `versioned` will use the versioned notification concept, `unversioned`, the unversioned notification concept and finally `both` will use the two concepts. . Not setting this option will use the default configured in charm template which is currently `unversioned`.",,14,1
openstack%2Fcharm-nova-compute~master~I4899df0d2badc0d8d633bc9bcce41a06dc4d9591,openstack/charm-nova-compute,master,I4899df0d2badc0d8d633bc9bcce41a06dc4d9591,charm-helpers: sync the last changes merged,MERGED,2019-04-25 09:34:23.000000000,2019-05-03 14:38:08.000000000,2019-05-03 14:38:08.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 09:34:23.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/089823288a23d73f2c86f9dd261b3d3ff9cebfea', 'message': 'charm-helpers: sync the last changes merged\n\nThe last PR merged in charm-helpers introduce two new config\nnotifications-format and oslo-messaging-driver.\n\nChange-Id: I4899df0d2badc0d8d633bc9bcce41a06dc4d9591\nRelated-Bug: 1825016\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,655641,089823288a23d73f2c86f9dd261b3d3ff9cebfea,7,3,1,7730,,,0,"charm-helpers: sync the last changes merged

The last PR merged in charm-helpers introduce two new config
notifications-format and oslo-messaging-driver.

Change-Id: I4899df0d2badc0d8d633bc9bcce41a06dc4d9591
Related-Bug: 1825016
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/41/655641/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications']",4,089823288a23d73f2c86f9dd261b3d3ff9cebfea,bug/1825016,driver = {{ oslo_messaging_driver }}[notifications],driver = messagingv2,17,2
openstack%2Ftripleo-quickstart~master~Ie0612902c0b6ca00ce5b9bea3690d6131e9e4bfe,openstack/tripleo-quickstart,master,Ie0612902c0b6ca00ce5b9bea3690d6131e9e4bfe,add a noop-upgrade variable for fs051,MERGED,2019-01-11 22:01:32.000000000,2019-05-03 13:54:56.000000000,2019-05-03 13:54:56.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 16515}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-01-11 22:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8376614b285687883dda2784caddbec4e2f1175a', 'message': 'add a noop-upgrade variable for fs051\n\nfs051 is used to just test the workflow\nof upgrades, not to actually test a real upgrade.\nThat is now done by the standalone upgrade.\n\nAdding a variable called noop_upgrade so that\nemit_releases.py will work properly with\nfs051\n\nChange-Id: Ie0612902c0b6ca00ce5b9bea3690d6131e9e4bfe\n'}, {'number': 2, 'created': '2019-01-14 21:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3d8425e29ccd610a91d9e7dff0a89a4130586300', 'message': 'add a noop-upgrade variable for fs051\n\nfs051 is used to just test the workflow\nof upgrades, not to actually test a real upgrade.\nThat is now done by the standalone upgrade.\n\nAdding a variable called noop_upgrade so that\nemit_releases.py will work properly with\nfs051\n\nChange-Id: Ie0612902c0b6ca00ce5b9bea3690d6131e9e4bfe\n'}, {'number': 3, 'created': '2019-01-15 03:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7fbf497ebddd4cb252381bf7e34eb312d5ad497c', 'message': 'add a noop-upgrade variable for fs051\n\nfs051 is used to just test the workflow\nof upgrades, not to actually test a real upgrade.\nThat is now done by the standalone upgrade.\n\nAdding a variable called noop_upgrade so that\nemit_releases.py will work properly with\nfs051\n\nChange-Id: Ie0612902c0b6ca00ce5b9bea3690d6131e9e4bfe\n'}, {'number': 4, 'created': '2019-04-30 17:28:31.000000000', 'files': ['config/general_config/featureset051.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/32b14fd50683e4fa03f6ef7612dded1078ff883d', 'message': 'add a noop-upgrade variable for fs051\n\nfs051 is used to just test the workflow\nof upgrades, not to actually test a real upgrade.\nThat is now done by the standalone upgrade.\n\nAdding a variable called noop_upgrade so that\nemit_releases.py will work properly with\nfs051\n\nChange-Id: Ie0612902c0b6ca00ce5b9bea3690d6131e9e4bfe\n'}]",3,630400,32b14fd50683e4fa03f6ef7612dded1078ff883d,26,9,4,9592,,,0,"add a noop-upgrade variable for fs051

fs051 is used to just test the workflow
of upgrades, not to actually test a real upgrade.
That is now done by the standalone upgrade.

Adding a variable called noop_upgrade so that
emit_releases.py will work properly with
fs051

Change-Id: Ie0612902c0b6ca00ce5b9bea3690d6131e9e4bfe
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/00/630400/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset051.yml'],1,8376614b285687883dda2784caddbec4e2f1175a,,"# mixed_upgrade, used for a mixed initial deployment of undercloud and overcloud releases mixed_upgrade: false # noop_upgrade, used when running upgrades from $release to $release noop_upgrade: true",,4,1
openstack%2Ftripleo-heat-templates~master~I29477ebefd256e34eb689cb3b72a539ff83233a3,openstack/tripleo-heat-templates,master,I29477ebefd256e34eb689cb3b72a539ff83233a3,Split upgrade_steps_playbook into different plays.,MERGED,2018-12-18 11:54:35.000000000,2019-05-03 13:41:34.000000000,2019-05-03 13:41:34.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-12-18 11:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7a6bb4ab61e1101ef8444c26be836b0ebd4a7e0', 'message': 'Split upgrade_steps_plybook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does\n\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n'}, {'number': 2, 'created': '2018-12-20 14:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f8374451b85b389c8046c5a8bbc254f24051213', 'message': 'Split upgrade_steps_plybook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does\n\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n'}, {'number': 3, 'created': '2018-12-20 14:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/366819455ee11ccfe2b2c6ceff847c0a8d6e5902', 'message': 'Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does\n\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n'}, {'number': 4, 'created': '2018-12-21 07:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab0c36ea8db6ae2ee57982e957919750e87de904', 'message': 'WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does\n\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n'}, {'number': 5, 'created': '2019-01-08 11:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17faf200fa1ad59d52a024c9e649a545ac96219d', 'message': 'WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does\n\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n'}, {'number': 6, 'created': '2019-01-08 15:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a985463e6eb3f88ae3c65349a1bd5dec096bf62b', 'message': 'WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does\n\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n'}, {'number': 7, 'created': '2019-01-09 15:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c864eafc7155380d6cbab3e444ba9fa9b909276d', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 8, 'created': '2019-01-10 09:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bea3cf5523e341e14f2f4f1f23357dc3f6ce62a4', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 9, 'created': '2019-01-14 08:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/467017dfdbb75a70a30cc277372a44f69d19e3ca', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 10, 'created': '2019-01-16 10:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/353aefe4bcec26616ebeddca53f63f9d5fc00316', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 11, 'created': '2019-01-16 10:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/841f686fb1931b3cefd215d1af4fc088d1d1ac07', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 12, 'created': '2019-01-30 10:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26a09f7f6f3b0e7b4b5e086876050e74c6478949', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 13, 'created': '2019-02-04 11:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/234aecf66f9aa461cf54218e6fc9b712ae8dbce2', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 14, 'created': '2019-02-05 09:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3163a7c95732887697dcb40b630cbde2306f2453', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 15, 'created': '2019-02-05 13:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a56ded07dc106ba6e6c3d9caa466f906d35a618', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 16, 'created': '2019-02-12 09:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3588a717a6cb6d448727bb7827635df40ba4fdec', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 17, 'created': '2019-02-12 10:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/438a041c1abc8b3e640b86000e998ba8fc83d348', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 18, 'created': '2019-02-12 14:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c5f029fdb622d50ad2ff615bafab5c3ec199f5a', 'message': ""WIP: Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 19, 'created': '2019-03-11 15:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33f7a8e8d36385c5f73772fb66c5fb5f008c4f59', 'message': ""Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nMore information can be found at [0].\n\n[0] - http://post-office.corp.redhat.com/archives/rh-openstack-dev/2019-February/msg00371.html\nDepends-On: I4d864f374d6f840585fafef2c7678e55c154898e\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 20, 'created': '2019-04-02 14:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3705756e032478940b80f965af035242e535241d', 'message': ""Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook\n, this way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on ehat the playbok does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nMore information can be found at [0].\n\n[0] - http://post-office.corp.redhat.com/archives/rh-openstack-dev/2019-February/msg00371.html\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 21, 'created': '2019-04-11 08:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/852ce369d25b6ff669e272969fd5d025740c9f3f', 'message': ""Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook,\nthis way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on what the playbook does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nMore information can be found at [0].\n\n[0] - http://post-office.corp.redhat.com/archives/rh-openstack-dev/2019-February/msg00371.html\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 22, 'created': '2019-04-12 09:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fad13c855f1f6889ad8fb8025484332f340ba11d', 'message': ""Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook,\nthis way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on what the playbook does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}, {'number': 23, 'created': '2019-04-23 08:18:31.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3eb5ca30727b0d861cd669cd362cbab1cfd01113', 'message': ""Split upgrade_steps_playbook into different plays.\n\nIn the same way deploy_steps_playbook is split into different\nplays per task, this patch does the same for the upgrade_steps_playbook,\nthis way we obtain more control on the tasks we want to execute by\nusing a specific tag or set of tags (upgrade_stepX) and at the same\ntime improve the readability and understanding on what the playbook does.\nAlso, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single\nplay with all the tasks for a specific step, instead of running them all\npassing a step value each time. This will make the upgrades faster and\nmore legible, removing all those annoying 'skipping' tasks for steps that\ndidn't match the step variable value.\n\nChange-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3\n""}]",6,625890,3eb5ca30727b0d861cd669cd362cbab1cfd01113,90,8,23,26343,,,0,"Split upgrade_steps_playbook into different plays.

In the same way deploy_steps_playbook is split into different
plays per task, this patch does the same for the upgrade_steps_playbook,
this way we obtain more control on the tasks we want to execute by
using a specific tag or set of tags (upgrade_stepX) and at the same
time improve the readability and understanding on what the playbook does.
Also, I4d864f374d6f840585fafef2c7678e55c154898e allows us to run a single
play with all the tasks for a specific step, instead of running them all
passing a step value each time. This will make the upgrades faster and
more legible, removing all those annoying 'skipping' tasks for steps that
didn't match the step variable value.

Change-Id: I29477ebefd256e34eb689cb3b72a539ff83233a3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/625890/22 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,c7a6bb4ab61e1101ef8444c26be836b0ebd4a7e0,refactor_upgrades_workflow," - hosts: DEPLOY_SOURCE_HOST name: Gather facts from undercloud gather_facts: yes become: false tags: - facts name: Gather facts from overcloud gather_facts: yes tags: - facts - hosts: all name: Load global variables gather_facts: no tasks: - include_vars: global_vars.yaml tags: - always {%- for step in range(0,upgrade_steps_max-1) %} - hosts: DEPLOY_TARGET_HOST name: Upgrade tasks for step {{step}} gather_facts: no any_erorrs_fatal: yes vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID step: '{{step}}' update_identifier: UPDATE_IDENTIFIER enable_debug: ENABLE_DEBUG container_cli: CONTAINER_CLI tasks: {%- for role in roles %} - import_tasks: {{role.name}}/upgrade_tasks.yaml when: tripleo_role_name == '{{role.name}}' {%- endfor %} tags: - upgrade_steps - upgrade_step{{step}} {%- endfor %}", upgrade_steps_tasks: | {%- for role in roles %} - import_tasks: {{role.name}}/upgrade_tasks.yaml when: tripleo_role_name == '{{role.name}}' {%- endfor %} any_errors_fatal: yes tasks: - include_tasks: upgrade_steps_tasks.yaml with_sequence: start=0 end={{upgrade_steps_max-1}} vars: container_cli: CONTAINER_CLI loop_control: loop_var: step,40,12
openstack%2Fcharm-interface-keystone-credentials~master~Ic307f37f0ba861fb6b5f7d724565dea93c85906c,openstack/charm-interface-keystone-credentials,master,Ic307f37f0ba861fb6b5f7d724565dea93c85906c,Monitor -relation-changed,MERGED,2019-04-26 16:03:55.000000000,2019-05-03 12:56:45.000000000,2019-05-03 12:56:45.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 16:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-credentials/commit/8ccce621f6eb615733e850bbbafe03fefa185c38', 'message': 'Monitor -relation-changed\n\nWhen keystone updates its relation data for the identity-service\nrelations to consume, reactive charms need to be aware that an update\noccurred. Nevertheless, it will be up to the interface user to remove\nthe state once it has been processed.\n\nChange-Id: Ic307f37f0ba861fb6b5f7d724565dea93c85906c\nCloses-Bug: #1825951\n'}, {'number': 2, 'created': '2019-04-29 11:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-credentials/commit/584e3b1a6d049be897fa6fc86a9b6277dc1d325a', 'message': 'Monitor -relation-changed\n\nWhen keystone updates its relation data for the identity-service\nrelations to consume, reactive charms need to be aware that an update\noccurred. Nevertheless, it will be up to the interface user to remove\nthe state once it has been processed.\n\nChange-Id: Ic307f37f0ba861fb6b5f7d724565dea93c85906c\nCloses-Bug: #1825951\n'}, {'number': 3, 'created': '2019-05-03 08:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-credentials/commit/66ef4a81d65b828979f4c9d17a8179fe8da5d2b2', 'message': 'Monitor -relation-changed\n\nWhen keystone updates its relation data for the identity-service\nrelations to consume, reactive charms need to be aware that an update\noccurred. Nevertheless, it will be up to the interface user to remove\nthe state once it has been processed.\n\nChange-Id: Ic307f37f0ba861fb6b5f7d724565dea93c85906c\nCloses-Bug: #1825951\n'}, {'number': 4, 'created': '2019-05-03 09:06:51.000000000', 'files': ['requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-credentials/commit/e1053da8b9b81a1edf096a9ed76898b0a3f2d1a5', 'message': 'Monitor -relation-changed\n\nWhen keystone updates its relation data for the identity-service\nrelations, reactive charms need to be aware that an update occurred.\nThis change will add a new state (identity-service.available.updated).\n\nChange-Id: Ic307f37f0ba861fb6b5f7d724565dea93c85906c\nCloses-Bug: #1825951\n'}]",1,655933,e1053da8b9b81a1edf096a9ed76898b0a3f2d1a5,24,4,4,24890,,,0,"Monitor -relation-changed

When keystone updates its relation data for the identity-service
relations, reactive charms need to be aware that an update occurred.
This change will add a new state (identity-service.available.updated).

Change-Id: Ic307f37f0ba861fb6b5f7d724565dea93c85906c
Closes-Bug: #1825951
",git fetch https://review.opendev.org/openstack/charm-interface-keystone-credentials refs/changes/33/655933/2 && git format-patch -1 --stdout FETCH_HEAD,['requires.py'],1,8ccce621f6eb615733e850bbbafe03fefa185c38,bug/1825951, self.set_state('{relation_name}.available.updated') def notify_updated(self): self.remove_state('{relation_name}.available.updated'),,4,0
openstack%2Fsushy-tools~master~If744c9a910da600a68443cc24908f8abfc4fa32b,openstack/sushy-tools,master,If744c9a910da600a68443cc24908f8abfc4fa32b,Add docs on libvirt virtual media emulation,ABANDONED,2019-03-13 12:04:40.000000000,2019-05-03 12:23:40.000000000,,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-03-13 12:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/eea2b3202a2328f16b9907a344d6c5aff77f3ab3', 'message': 'Add docs on libvirt virtual media emulation\n\nChange-Id: If744c9a910da600a68443cc24908f8abfc4fa32b\n'}, {'number': 2, 'created': '2019-03-13 14:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6a7cef00f281860e46be5155d018743c783b3ac6', 'message': 'Add docs on libvirt virtual media emulation\n\nChange-Id: If744c9a910da600a68443cc24908f8abfc4fa32b\n'}, {'number': 3, 'created': '2019-03-13 16:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/79f8e2eeea565999c5eba746db50b67d023450c9', 'message': 'Add docs on libvirt virtual media emulation\n\nChange-Id: If744c9a910da600a68443cc24908f8abfc4fa32b\n'}, {'number': 4, 'created': '2019-03-14 11:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/7dfa5f4191a6ad0b80597160da1f9f2dfb53162a', 'message': 'Add docs on libvirt virtual media emulation\n\nChange-Id: If744c9a910da600a68443cc24908f8abfc4fa32b\n'}, {'number': 5, 'created': '2019-03-22 14:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d0e42fbe63effd6aa1ac8c37a8f82965144dd0e0', 'message': 'Add docs on libvirt virtual media emulation\n\nChange-Id: If744c9a910da600a68443cc24908f8abfc4fa32b\n'}, {'number': 6, 'created': '2019-03-22 22:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/7053311bfcd1b040c994c192f3d21638a41fa1d8', 'message': 'Add docs on libvirt virtual media emulation\n\nChange-Id: If744c9a910da600a68443cc24908f8abfc4fa32b\n'}, {'number': 7, 'created': '2019-03-26 08:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0e537b44ee9cb9d03c762d65927cec6d49f2bc97', 'message': 'Add docs on libvirt virtual media emulation\n\nChange-Id: If744c9a910da600a68443cc24908f8abfc4fa32b\n'}, {'number': 8, 'created': '2019-03-26 09:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/9271464a7b897b25e6587391776b38b0bba86515', 'message': 'Add docs on libvirt virtual media emulation\n\nChange-Id: If744c9a910da600a68443cc24908f8abfc4fa32b\n'}, {'number': 9, 'created': '2019-03-29 16:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/eedd78b5923af2cdb63ee2097d337fb4a7237142', 'message': 'Add docs on libvirt virtual media emulation\n\nChange-Id: If744c9a910da600a68443cc24908f8abfc4fa32b\n'}, {'number': 10, 'created': '2019-04-17 12:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d42b5b9a9a5e29b35bf867b1582e978272553ef9', 'message': 'Add docs on libvirt virtual media emulation\n\nChange-Id: If744c9a910da600a68443cc24908f8abfc4fa32b\n'}, {'number': 11, 'created': '2019-04-23 14:20:30.000000000', 'files': ['doc/source/user/dynamic-emulator.rst'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/481b7231253dcf17a3b8e9a8b2288b980f94bce6', 'message': 'Add docs on libvirt virtual media emulation\n\nChange-Id: If744c9a910da600a68443cc24908f8abfc4fa32b\n'}]",22,643027,481b7231253dcf17a3b8e9a8b2288b980f94bce6,27,4,11,26340,,,0,"Add docs on libvirt virtual media emulation

Change-Id: If744c9a910da600a68443cc24908f8abfc4fa32b
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/27/643027/11 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/dynamic-emulator.rst'],1,eea2b3202a2328f16b9907a344d6c5aff77f3ab3,12-add-virtual-media-docs,"Virtual media boot ++++++++++++++++++ As of current sushy-tools, Redfish Virtual Media boot can be partially emulated on top of the `libvirt` backend. This is what is currently supported: * ISO images can be Inserted, Ejected and inspected by way of utilizing standard Redfish virtual resource * libvirt domains can be booted off the inserted UEFI or hybrid ISO images The limitations: * Image download from URI down to Redfish emulator it not yet implemented. However existing images on the hypervisor can be referred to via file:// URI schema To boot a libvirt domain off a Virtual Media you need to prepare desired ISO image (n.b. must be UEFI-bootable or hybrid) and place it somewhere on the file system where `libvirtd` could access it. With Redfish Virtual Media, the Managers own removable media devices, but can boot any of the Computer systems being managed off the devices the Manager owns. Therefore, to boot a given Computer System you first need to figure out which Manager is responsible for it: .. code-block:: bash $ curl http://localhost:8000/redfish/v1/Systems/281c2fc3-dd34-439a-9f0f-63df45e2c998 { ... ""Links"": { ""Chassis"": [ ], ""ManagedBy"": [ { ""@odata.id"": ""/redfish/v1/Managers/58893887-8974-2487-2389-841168418919"" } ] }, ... The emulator names virtual media devices by putting together device type (`Cd` or `Floppy`) and Computer System UUID: .. code-block:: bash $ curl http://localhost:8000/redfish/v1/Managers/58893887-894-2487-2389-841168418919/VirtualMedia ... ""Members"": [ { ""@odata.id"": ""/redfish/v1/Managers/58893887-8974-2487-2389-841168418919/VirtualMedia/Cd@281c2fc3-dd34-439a-9f0f-63df45e2c998"" }, ... Initially, perhaps, the virtual CD is empty: .. code-block:: bash $ curl http://localhost:8000/redfish/v1/Managers/58893887-8974-2487-2389-841168418919/VirtualMedia/Cd@281c2fc3-dd34-439a-9f0f-63df45e2c998 { ... ""Name"": ""Virtual CD"", ""MediaTypes"": [ ""CD"", ""DVD"" ], ""Image"": """", ""ImageName"": """", ""ConnectedVia"": ""URI"", ""Inserted"": false, ""WriteProtected"": false, ... Assuming you have the `/var/tmp/mini.iso` bootable ISO on the hybervisor system, the following call will insert it into the vitual CD drive: .. code-block:: bash $ curl -d \ '{""Image"":""file:///var/tmp/mini.iso"", ""Inserted"": true}' \ -H ""Content-Type: application/json"" \ -X POST \ http://localhost:8000/redfish/v1/Managers/58893887-8974-2487-2389-841168418919/VirtualMedia/Cd@281c2fc3-dd34-439a-9f0f-63df45e2c998/Actions/VirtualMedia.InsertMedia Querying again, the emulator should have it in the drive: .. code-block:: bash $ curl http://localhost:8000/redfish/v1/Managers/58893887-8974-2487-2389-841168418919/VirtualMedia/Cd@281c2fc3-dd34-439a-9f0f-63df45e2c998 { ... ""Name"": ""Virtual CD"", ""MediaTypes"": [ ""CD"", ""DVD"" ], ""Image"": ""/var/tmp/mini.iso"", ""ImageName"": ""mini.iso"", ""ConnectedVia"": ""URI"", ""Inserted"": true, ""WriteProtected"": true, ... And the node is configured to boot from CD over UEFI: .. code-block:: bash $ curl http://localhost:8000/redfish/v1/Systems/281c2fc3-dd34-439a-9f0f-63df45e2c998 { ... ""PowerState"": ""Off"", ""Boot"": { ""BootSourceOverrideEnabled"": ""Continuous"", ""BootSourceOverrideTarget"": ""Cd"", ""BootSourceOverrideTarget@Redfish.AllowableValues"": [ ""Pxe"", ""Cd"", ""Hdd"" ], ""BootSourceOverrideMode"": ""Uefi"" }, ... By this point we can boot the Computer System off the virtual CD drive by just powering it on: .. code-block:: bash curl -d '{""ResetType"":""On""}' \ -H ""Content-Type: application/json"" -X POST \ http://localhost:8000/redfish/v1/Systems/281c2fc3-dd34-439a-9f0f-63df45e2c998/Actions/ComputerSystem.Reset .. note:: ISO files to boot from must be UEFI-bootable and placed on the hypervisor machine prior to using them. ",,139,0
openstack%2Fopenstack-ansible-os_tempest~master~I13942167d1c1123da5440d0d334c5dd958f3cc11,openstack/openstack-ansible-os_tempest,master,I13942167d1c1123da5440d0d334c5dd958f3cc11,use requirments.txt/yml for managing os_tempest dependency,ABANDONED,2019-02-28 18:12:03.000000000,2019-05-03 12:08:32.000000000,,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27379}]","[{'number': 1, 'created': '2019-02-28 18:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ac772677abfeebaff7bd87819021fe2fc7a948b6', 'message': '[wip] use requirments.txt for managing os_tempest dependency\n\nDepends-On: https://review.openstack.org/640133\nChange-Id: I13942167d1c1123da5440d0d334c5dd958f3cc11\n'}, {'number': 2, 'created': '2019-03-05 08:28:28.000000000', 'files': ['requirements.yml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/366a55aacddbe059a6c592a537a7aad3b23743a9', 'message': 'use requirments.txt/yml for managing os_tempest dependency\n\nIn order to use roles through pip install and make sure ansible\ndiscovers it. https://github.com/ansible/ansible/blob/devel/lib/\nansible/config/base.yml#L974\nAnsible default roles path is\n~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles and\nrpm packagers uses the same data files to keep it so putting it\nthere will make ansible recognizes it.\n\nIt also includes requirments.yml to install through ansible\ngalaxy.\n\nDepends-On: https://review.openstack.org/640133\nChange-Id: I13942167d1c1123da5440d0d334c5dd958f3cc11\n'}]",4,640138,366a55aacddbe059a6c592a537a7aad3b23743a9,10,8,2,12393,,,0,"use requirments.txt/yml for managing os_tempest dependency

In order to use roles through pip install and make sure ansible
discovers it. https://github.com/ansible/ansible/blob/devel/lib/
ansible/config/base.yml#L974
Ansible default roles path is
~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles and
rpm packagers uses the same data files to keep it so putting it
there will make ansible recognizes it.

It also includes requirments.yml to install through ansible
galaxy.

Depends-On: https://review.openstack.org/640133
Change-Id: I13942167d1c1123da5440d0d334c5dd958f3cc11
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/38/640138/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ac772677abfeebaff7bd87819021fe2fc7a948b6,ostempest_packaging, share/ansible/roles/os_tempest/defaults = defaults/* share/ansible/roles/os_tempest/meta = meta/* share/ansible/roles/os_tempest/tasks = tasks/* share/ansible/roles/os_tempest/templates = templates/* share/ansible/roles/os_tempest/files = files/* share/ansible/roles/os_tempest/vars = vars/*, usr/local/share/ansible/roles/os_tempest/defaults = defaults/* usr/local/share/ansible/roles/os_tempest/meta = meta/* usr/local/share/ansible/roles/os_tempest/tasks = tasks/* usr/local/share/ansible/roles/os_tempest/templates = templates/* usr/local/share/ansible/roles/os_tempest/files = files/* usr/local/share/ansible/roles/os_tempest/vars = vars/*,6,6
openstack%2Fansible-role-python_venv_build~master~I0e27437fba0ff94b5fd50b04edf0b24e3e7c44de,openstack/ansible-role-python_venv_build,master,I0e27437fba0ff94b5fd50b04edf0b24e3e7c44de,Use share/ansible/roles for data files,ABANDONED,2019-02-28 18:04:30.000000000,2019-05-03 12:08:28.000000000,,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-28 18:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/22d1b073802026e553411b241cfe5bb690ef74d4', 'message': '[WIP]Use share/ansible/roles for data files\n\nIn order to use roles through pip install and make sure ansible\ndiscovers it.\nhttps://github.com/ansible/ansible/blob/devel/lib/ansible/config/base.yml#L974\n\nAnsible default roles path is\n~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles and\nrpm packagers uses the same data files to keep it so putting it\nthere will make ansible recognizes it.\n\nChange-Id: I0e27437fba0ff94b5fd50b04edf0b24e3e7c44de\n'}, {'number': 2, 'created': '2019-03-05 08:22:13.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/25677ec1fdb6e69bc0cd47c61051a3267aac0113', 'message': 'Use share/ansible/roles for data files\n\nIn order to use roles through pip install and make sure ansible\ndiscovers it.\nhttps://github.com/ansible/ansible/blob/devel/lib/ansible/config/base.yml#L974\n\nAnsible default roles path is\n~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles and\nrpm packagers uses the same data files to keep it so putting it\nthere will make ansible recognizes it.\n\nChange-Id: I0e27437fba0ff94b5fd50b04edf0b24e3e7c44de\n'}]",0,640133,25677ec1fdb6e69bc0cd47c61051a3267aac0113,7,3,2,12393,,,0,"Use share/ansible/roles for data files

In order to use roles through pip install and make sure ansible
discovers it.
https://github.com/ansible/ansible/blob/devel/lib/ansible/config/base.yml#L974

Ansible default roles path is
~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles and
rpm packagers uses the same data files to keep it so putting it
there will make ansible recognizes it.

Change-Id: I0e27437fba0ff94b5fd50b04edf0b24e3e7c44de
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/33/640133/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,22d1b073802026e553411b241cfe5bb690ef74d4,ostempest_packaging, share/ansible/roles/python_venv_build/defaults = defaults/* share/ansible/roles/python_venv_build/meta = meta/* share/ansible/roles/python_venv_build/tasks = tasks/* share/ansible/roles/python_venv_build/templates = templates/* share/ansible/roles/python_venv_build/handlers = handlers/* share/ansible/roles/python_venv_build/vars = vars/*, usr/local/share/ansible/roles/python_venv_build/defaults = defaults/* usr/local/share/ansible/roles/python_venv_build/meta = meta/* usr/local/share/ansible/roles/python_venv_build/tasks = tasks/* usr/local/share/ansible/roles/python_venv_build/templates = templates/* usr/local/share/ansible/roles/python_venv_build/handlers = handlers/* usr/local/share/ansible/roles/python_venv_build/vars = vars/*,6,6
openstack%2Fansible-config_template~master~Ifd578d20f0952b51b5b2c185f1582948d3158269,openstack/ansible-config_template,master,Ifd578d20f0952b51b5b2c185f1582948d3158269,Fixed setup.cfg to treat as a role & action_plugins,ABANDONED,2019-02-21 10:26:16.000000000,2019-05-03 12:08:24.000000000,,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 12393}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27379}]","[{'number': 1, 'created': '2019-02-21 10:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/d3d488c116f2eeba47566273d37ac3a5e56af0c3', 'message': 'Fixed config_template setup.cfg to treat as a role\n\nSince config_template is a action plugin but when we add it as a\ndependencies under meta/main.yaml it assumes a role and fail to\nfind it. moving the meta & library folder under\nusr/local/share/ansible/roles/config_template fixes the issue.\n\nChange-Id: Ifd578d20f0952b51b5b2c185f1582948d3158269\n'}, {'number': 2, 'created': '2019-02-25 06:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/86ccd38dad080bef9e27e2018b88f88da72630ca', 'message': 'Fixed config_template setup.cfg to treat as a role\n\nSince config_template is a action plugin but when we add it as a\ndependencies under meta/main.yaml it assumes a role and fail to\nfind it. moving the meta & library folder under\nusr/local/share/ansible/roles/config_template fixes the issue.\n\nChange-Id: Ifd578d20f0952b51b5b2c185f1582948d3158269\n'}, {'number': 3, 'created': '2019-02-25 12:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/5ef31d9f896f739342a245597e7c7d0e35724c4e', 'message': 'Fixed setup.cfg to treat as a role & action_plugins\n\nSince config_template is a action plugin but when we add it as a\ndependencies under meta/main.yaml in os_tempest. it assumes a role\nand fail to find it. moving the meta & library folder under\nusr/local/share/ansible/roles/config_template fixes the issue.\n\nBy adding it as a dependency in os_tempest will helps enduser\nto get config_template action plugin automatically installed.\n\nIn OSA side, the action plugin path is setted\nhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests\n/tree/test-ansible.cfg#n30 and the same is done in tripleo side\nhttps://git.openstack.org/cgit/openstack/tripleo-quickstart/tree/\nansible.cfg#n17 .\n\nChange-Id: Ifd578d20f0952b51b5b2c185f1582948d3158269\n'}, {'number': 4, 'created': '2019-02-25 12:13:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/0dbd1dc67836a436f006cdbfabd9f419655e7a5c', 'message': 'Fixed setup.cfg to treat as a role & action_plugins\n\nSince config_template is a action plugin but when we add it as a\ndependencies under meta/main.yaml in os_tempest. it assumes a role\nand fail to find it. moving the meta & library folder under\nusr/local/share/ansible/roles/config_template fixes the issue.\n\nBy adding it as a dependency in os_tempest will helps enduser\nto get config_template action plugin automatically installed.\n\nIn OSA side, the action plugin path is setted\nhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests\n/tree/test-ansible.cfg#n30 and the same is done in tripleo side\nhttps://git.openstack.org/cgit/openstack/tripleo-quickstart/tree/\nansible.cfg#n17 to look at default location.\n\nChange-Id: Ifd578d20f0952b51b5b2c185f1582948d3158269\n'}]",3,638383,0dbd1dc67836a436f006cdbfabd9f419655e7a5c,15,7,4,12393,,,0,"Fixed setup.cfg to treat as a role & action_plugins

Since config_template is a action plugin but when we add it as a
dependencies under meta/main.yaml in os_tempest. it assumes a role
and fail to find it. moving the meta & library folder under
usr/local/share/ansible/roles/config_template fixes the issue.

By adding it as a dependency in os_tempest will helps enduser
to get config_template action plugin automatically installed.

In OSA side, the action plugin path is setted
https://git.openstack.org/cgit/openstack/openstack-ansible-tests
/tree/test-ansible.cfg#n30 and the same is done in tripleo side
https://git.openstack.org/cgit/openstack/tripleo-quickstart/tree/
ansible.cfg#n17 to look at default location.

Change-Id: Ifd578d20f0952b51b5b2c185f1582948d3158269
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/83/638383/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d3d488c116f2eeba47566273d37ac3a5e56af0c3,os_tempest_deps, usr/local/share/ansible/roles/config_template/libraray = library/* usr/local/share/ansible/roles/config_template/meta = meta/*, usr/share/ansible/plugins/modules = library/*,2,1
openstack%2Fopenstack-ansible-os_tempest~master~I126e6905355a4f159fe211e3e956af17a84ff982,openstack/openstack-ansible-os_tempest,master,I126e6905355a4f159fe211e3e956af17a84ff982,Include config_template action plugin as a deps for os_tempest,ABANDONED,2019-03-20 11:24:28.000000000,2019-05-03 12:08:17.000000000,,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-03-20 11:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b5fd2a3cb1a004ae0ea62be4bc4a44601a5a05dd', 'message': ""Include config_template action plugin as a deps for os_tempest\n\nhttps://review.openstack.org/#/c/644600/ adds support for using\nansible-galaxy to install the os_tempest dependencies. But in\norder to load the action plugin when os_tempest role is called,\nwe need to include role's dependencies.\n\nChange-Id: I126e6905355a4f159fe211e3e956af17a84ff982\n""}, {'number': 2, 'created': '2019-03-25 09:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3db4f0181bf927ed9015494a4047f69e2fdef90b', 'message': ""Include config_template action plugin as a deps for os_tempest\n\nhttps://review.openstack.org/#/c/644600/ adds support for using\nansible-galaxy to install the os_tempest dependencies. But in\norder to load the action plugin when os_tempest role is called,\nwe need to include role's dependencies.\n\nDepends-On: https://review.openstack.org/647375\n\nChange-Id: I126e6905355a4f159fe211e3e956af17a84ff982\n""}, {'number': 3, 'created': '2019-03-26 03:37:01.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/78f7290084f1bc55ff065daedb54b3e022ef168b', 'message': ""Include config_template action plugin as a deps for os_tempest\n\nhttps://review.openstack.org/#/c/644600/ adds support for using\nansible-galaxy to install the os_tempest dependencies. But in\norder to load the action plugin when os_tempest role is called,\nwe need to include role's dependencies.\n\nDepends-On: https://review.openstack.org/647375\n\nChange-Id: I126e6905355a4f159fe211e3e956af17a84ff982\n""}]",0,644830,78f7290084f1bc55ff065daedb54b3e022ef168b,18,9,3,12393,,,0,"Include config_template action plugin as a deps for os_tempest

https://review.openstack.org/#/c/644600/ adds support for using
ansible-galaxy to install the os_tempest dependencies. But in
order to load the action plugin when os_tempest role is called,
we need to include role's dependencies.

Depends-On: https://review.openstack.org/647375

Change-Id: I126e6905355a4f159fe211e3e956af17a84ff982
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/30/644830/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,b5fd2a3cb1a004ae0ea62be4bc4a44601a5a05dd,deps,dependencies: - config_template,dependencies: [],2,1
openstack%2Fcharm-ceph-mon~master~Id3d43f0146452d0bbd73e1ce98616a994eaee090,openstack/charm-ceph-mon,master,Id3d43f0146452d0bbd73e1ce98616a994eaee090,Creates nrpe check for number of OSDs,MERGED,2019-05-02 11:26:52.000000000,2019-05-03 11:59:01.000000000,2019-05-03 11:59:01.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 27052}]","[{'number': 1, 'created': '2019-05-02 11:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/85961c6eabb981bfab3fbb44f947a5396b14b922', 'message': 'Creates nrpe check for number of OSDs\n\nAlert is triggered when number of known OSDs in osdmap is different\nthan number of ""in"" or ""up"" OSDs.\n\nChange-Id: Id3d43f0146452d0bbd73e1ce98616a994eaee090\nPartial-Bug: 1735579\n'}, {'number': 2, 'created': '2019-05-03 08:12:00.000000000', 'files': ['files/nagios/check_ceph_status.py', 'hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'config.yaml', 'unit_tests/ceph_warn.json', 'unit_tests/test_check_ceph_status.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/caa1cd8d6a2859a8d33abedd4a5f409591aa005e', 'message': 'Creates nrpe check for number of OSDs\n\nAlert is triggered when number of known OSDs in osdmap is different\nthan number of ""in"" or ""up"" OSDs.\n\nChange-Id: Id3d43f0146452d0bbd73e1ce98616a994eaee090\nPartial-Bug: 1735579\n'}]",0,656764,caa1cd8d6a2859a8d33abedd4a5f409591aa005e,12,4,2,27052,,,0,"Creates nrpe check for number of OSDs

Alert is triggered when number of known OSDs in osdmap is different
than number of ""in"" or ""up"" OSDs.

Change-Id: Id3d43f0146452d0bbd73e1ce98616a994eaee090
Partial-Bug: 1735579
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/64/656764/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/nagios/check_ceph_status.py', 'hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'config.yaml', 'unit_tests/ceph_warn.json', 'unit_tests/test_check_ceph_status.py']",6,85961c6eabb981bfab3fbb44f947a5396b14b922,bug/1735579," # Num OSD OK, pre-luminous @patch('check_ceph_status.get_ceph_version') def test_num_osds_ok_pre_luminous(self, mock_ceph_version, mock_subprocess): mock_ceph_version.return_value = [10, 2, 9] with open('unit_tests/ceph_ok.json') as f: tree = f.read() mock_subprocess.return_value = tree.encode('UTF-8') args = check_ceph_status.parse_args(['--check_num_osds']) check_output = check_ceph_status.check_ceph_status(args) self.assertRegex(check_output, r""^All OK$"") # Num OSD error, pre-luminous @patch('check_ceph_status.get_ceph_version') def test_num_osds_error_pre_luminous(self, mock_ceph_version, mock_subprocess): mock_ceph_version.return_value = [10, 2, 9] with open('unit_tests/ceph_warn.json') as f: tree = f.read() mock_subprocess.return_value = tree.encode('UTF-8') args = check_ceph_status.parse_args(['--check_num_osds']) self.assertRaises(check_ceph_status.CriticalError, lambda: check_ceph_status.check_ceph_status(args)) # Num OSD OK, luminous @patch('check_ceph_status.get_ceph_version') def test_num_osds_ok_luminous(self, mock_ceph_version, mock_subprocess): mock_ceph_version.return_value = [12, 2, 0] with open('unit_tests/ceph_many_warnings_luminous.json') as f: tree = f.read() mock_subprocess.return_value = tree.encode('UTF-8') args = check_ceph_status.parse_args(['--check_num_osds']) check_output = check_ceph_status.check_ceph_status(args) self.assertRegex(check_output, r""^All OK$"") # Num OSD error, luminous @patch('check_ceph_status.get_ceph_version') def test_num_osds_error_luminous(self, mock_ceph_version, mock_subprocess): mock_ceph_version.return_value = [12, 2, 0] with open('unit_tests/ceph_degraded_luminous.json') as f: tree = f.read() mock_subprocess.return_value = tree.encode('UTF-8') args = check_ceph_status.parse_args(['--check_num_osds']) self.assertRaises(check_ceph_status.CriticalError, lambda: check_ceph_status.check_ceph_status(args))",,88,3
openstack%2Fironic~master~Id45998d629332c4c785129e3711a0eed558d839e,openstack/ironic,master,Id45998d629332c4c785129e3711a0eed558d839e,Add openstack commands in node deployment guide,MERGED,2019-04-26 09:12:38.000000000,2019-05-03 11:58:25.000000000,2019-05-03 11:58:25.000000000,"[{'_account_id': 6618}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-04-26 09:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6026ce25bc9a2434ddaefd008f03dd8b42aa9c83', 'message': 'Add openstack commands in node deployment guide\n\nFixes a minor formatting issue and adds the corresponding\nopenstack commands.\n\nChange-Id: Id45998d629332c4c785129e3711a0eed558d839e\n'}, {'number': 2, 'created': '2019-04-30 06:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/db7b8af75a5a285e81be4abde8bbd31ed6d3400b', 'message': 'Add openstack commands in node deployment guide\n\nFixes a minor formatting issue and adds the corresponding\nopenstack commands.\n\nChange-Id: Id45998d629332c4c785129e3711a0eed558d839e\n'}, {'number': 3, 'created': '2019-05-01 06:44:28.000000000', 'files': ['doc/source/admin/node-deployment.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d308d10cd31b08858ae859cf8513472167e2dbd1', 'message': 'Add openstack commands in node deployment guide\n\nFixes a minor formatting issue and adds the corresponding\nopenstack commands.\n\nChange-Id: Id45998d629332c4c785129e3711a0eed558d839e\n'}]",23,655844,d308d10cd31b08858ae859cf8513472167e2dbd1,22,9,3,10206,,,0,"Add openstack commands in node deployment guide

Fixes a minor formatting issue and adds the corresponding
openstack commands.

Change-Id: Id45998d629332c4c785129e3711a0eed558d839e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/655844/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/node-deployment.rst'],1,6026ce25bc9a2434ddaefd008f03dd8b42aa9c83,deploy_fix,".. contents:: :depth: 2 .. _node-deployment-deploy-steps: In the following example, we add the following trait to the node:.. code-block:: console openstack baremetal node add trait $node_ident \ CUSTOM_HYPERTHREADING_ON We also update the flavor ``bm-hyperthreading-on`` in the Compute service with the following property: .. code-block:: console openstack flavor set --property trait:CUSTOM_HYPERTHREADING_ON=required \ bm-hyperthreading-on.. code-block:: console openstack baremetal node add trait $node_ident \ CUSTOM_HYPERTHREADING_OFF We could also create a second flavor, ``bm-hyperthreading-off``, with the following property: .. code-block:: console openstack flavor set --property trait:CUSTOM_HYPERTHREADING_OFF=required \ bm-hyperthreading-off",".. contents:: :depth: 2 .. _node-deployment-deploy-steps: In the following example, we have a node with the following node traits:We also have a flavor, ``bm-hyperthreading-on``, in the Compute service with the following property:: trait:CUSTOM_HYPERTHREADING_ON:requiredWe could also create a second flavor, ``bm-hyperthreading-off``, with the following property:: trait:CUSTOM_HYPERTHREADING_OFF:required",28,12
openstack%2Fpython-tripleoclient~master~I0f5bd1a2eb511041e6b93eacc71c964648bdf7ef,openstack/python-tripleoclient,master,I0f5bd1a2eb511041e6b93eacc71c964648bdf7ef,Fix overcloud node instrospect exception output,MERGED,2019-04-29 15:25:59.000000000,2019-05-03 11:11:00.000000000,2019-05-03 11:11:00.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-29 15:25:59.000000000', 'files': ['tripleoclient/workflows/baremetal.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/42af13818ab60763273a1e66e40b6e3dfdf5ec77', 'message': 'Fix overcloud node instrospect exception output\n\nCurrently when something fails when introspecting we get this:\n(undercloud) [stack@undercloud-0 ~]$ openstack overcloud node introspect --provide 1b646cb5-39e3-4ef9-a440-9a7c4ee0c6e1\nWaiting for introspection to finish...\nWaiting for messages on queue \'tripleo\' with no timeout.\nRetrying 1 nodes that failed introspection. Attempt 1 of 3\nRetrying 1 nodes that failed introspection. Attempt 2 of 3\nRetrying 1 nodes that failed introspection. Attempt 3 of 3\nRetry limit reached with 1 nodes still failing introspection\nException occured while running the command\nTraceback (most recent call last):\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/command.py"", line 30, in run\n    super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/osc_lib/command/command.py"", line 41, in run\n    return super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/cliff/command.py"", line 184, in run\n    return_code = self.take_action(parsed_args) or 0\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/v1/overcloud_node.py"", line 208, in take_action\n    run_validations=parsed_args.run_validations\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/baremetal.py"", line 159, in introspect\n    .join(msg for msg in payload[\'message\'] if msg))\ntripleoclient.exceptions.IntrospectionError: Introspection completed with errors:\nR\ne\nt\nr\ny\n\nl\ni\nm\ni\nt\n\n.....\n\nWith this fix we correctly get a sane output:\n(undercloud) [stack@undercloud-0 ~]$ openstack overcloud node introspect --provide 1b646cb5-39e3-4ef9-a440-9a7c4ee0c6e1\nWaiting for introspection to finish...\nWaiting for messages on queue \'tripleo\' with no timeout.\nRetrying 1 nodes that failed introspection. Attempt 1 of 3\nRetrying 1 nodes that failed introspection. Attempt 2 of 3\nRetrying 1 nodes that failed introspection. Attempt 3 of 3\nRetry limit reached with 1 nodes still failing introspection\nException occured while running the command\nTraceback (most recent call last):\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/command.py"", line 30, in run\n    super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/osc_lib/command/command.py"", line 41, in run\n    return super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/cliff/command.py"", line 184, in run\n    return_code = self.take_action(parsed_args) or 0\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/v1/overcloud_node.py"", line 208, in take_action\n    run_validations=parsed_args.run_validations\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/baremetal.py"", line 159, in introspect\n    .format(payload[\'message\']))\ntripleoclient.exceptions.IntrospectionError: Introspection completed with errors: Retry limit reached with 1 nodes still failing introspection\nIntrospection completed with errors: Retry limit reached with 1 nodes still failing introspection\n\nChange-Id: I0f5bd1a2eb511041e6b93eacc71c964648bdf7ef\n'}]",0,656356,42af13818ab60763273a1e66e40b6e3dfdf5ec77,10,6,1,20172,,,0,"Fix overcloud node instrospect exception output

Currently when something fails when introspecting we get this:
(undercloud) [stack@undercloud-0 ~]$ openstack overcloud node introspect --provide 1b646cb5-39e3-4ef9-a440-9a7c4ee0c6e1
Waiting for introspection to finish...
Waiting for messages on queue 'tripleo' with no timeout.
Retrying 1 nodes that failed introspection. Attempt 1 of 3
Retrying 1 nodes that failed introspection. Attempt 2 of 3
Retrying 1 nodes that failed introspection. Attempt 3 of 3
Retry limit reached with 1 nodes still failing introspection
Exception occured while running the command
Traceback (most recent call last):
  File ""/usr/lib/python3.6/site-packages/tripleoclient/command.py"", line 30, in run
    super(Command, self).run(parsed_args)
  File ""/usr/lib/python3.6/site-packages/osc_lib/command/command.py"", line 41, in run
    return super(Command, self).run(parsed_args)
  File ""/usr/lib/python3.6/site-packages/cliff/command.py"", line 184, in run
    return_code = self.take_action(parsed_args) or 0
  File ""/usr/lib/python3.6/site-packages/tripleoclient/v1/overcloud_node.py"", line 208, in take_action
    run_validations=parsed_args.run_validations
  File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/baremetal.py"", line 159, in introspect
    .join(msg for msg in payload['message'] if msg))
tripleoclient.exceptions.IntrospectionError: Introspection completed with errors:
R
e
t
r
y

l
i
m
i
t

.....

With this fix we correctly get a sane output:
(undercloud) [stack@undercloud-0 ~]$ openstack overcloud node introspect --provide 1b646cb5-39e3-4ef9-a440-9a7c4ee0c6e1
Waiting for introspection to finish...
Waiting for messages on queue 'tripleo' with no timeout.
Retrying 1 nodes that failed introspection. Attempt 1 of 3
Retrying 1 nodes that failed introspection. Attempt 2 of 3
Retrying 1 nodes that failed introspection. Attempt 3 of 3
Retry limit reached with 1 nodes still failing introspection
Exception occured while running the command
Traceback (most recent call last):
  File ""/usr/lib/python3.6/site-packages/tripleoclient/command.py"", line 30, in run
    super(Command, self).run(parsed_args)
  File ""/usr/lib/python3.6/site-packages/osc_lib/command/command.py"", line 41, in run
    return super(Command, self).run(parsed_args)
  File ""/usr/lib/python3.6/site-packages/cliff/command.py"", line 184, in run
    return_code = self.take_action(parsed_args) or 0
  File ""/usr/lib/python3.6/site-packages/tripleoclient/v1/overcloud_node.py"", line 208, in take_action
    run_validations=parsed_args.run_validations
  File ""/usr/lib/python3.6/site-packages/tripleoclient/workflows/baremetal.py"", line 159, in introspect
    .format(payload['message']))
tripleoclient.exceptions.IntrospectionError: Introspection completed with errors: Retry limit reached with 1 nodes still failing introspection
Introspection completed with errors: Retry limit reached with 1 nodes still failing introspection

Change-Id: I0f5bd1a2eb511041e6b93eacc71c964648bdf7ef
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/656356/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/baremetal.py'],1,42af13818ab60763273a1e66e40b6e3dfdf5ec77,fix-introspection-error-output," ""Introspection completed with errors: {}"" .format(payload['message']))"," ""Introspection completed with errors:\n%s"" % '\n' .join(msg for msg in payload['message'] if msg))",2,2
openstack%2Fpython-tripleoclient~master~I6826338e028b25230dbf12d4b207e5f4ab7805c8,openstack/python-tripleoclient,master,I6826338e028b25230dbf12d4b207e5f4ab7805c8,Update --*-flavor --*-count description,MERGED,2019-04-26 16:32:34.000000000,2019-05-03 11:10:59.000000000,2019-05-03 11:10:59.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-26 16:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/750201c2bf3075062193037c494f19e803d56639', 'message': ""Update --*-flavor --*-count description\n\nThese options now throw a hard error. Let's update the help text to\nindicate that they will be removed in the U cycle.\n\nSee I94376c5f25c354a9fcdbca11548f7e3eedbd9491\n\nChange-Id: I6826338e028b25230dbf12d4b207e5f4ab7805c8\n""}, {'number': 2, 'created': '2019-04-26 18:10:35.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/200d20a71c64b98afd87c1fb2e6babd25d18f442', 'message': ""Update --*-flavor --*-count description\n\nThese options now throw a hard error. Let's update the help text to\nindicate that they will be removed in the U cycle.\n\nSee I94376c5f25c354a9fcdbca11548f7e3eedbd9491\n\nChange-Id: I6826338e028b25230dbf12d4b207e5f4ab7805c8\n""}]",5,655947,200d20a71c64b98afd87c1fb2e6babd25d18f442,13,7,2,14985,,,0,"Update --*-flavor --*-count description

These options now throw a hard error. Let's update the help text to
indicate that they will be removed in the U cycle.

See I94376c5f25c354a9fcdbca11548f7e3eedbd9491

Change-Id: I6826338e028b25230dbf12d4b207e5f4ab7805c8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/655947/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,750201c2bf3075062193037c494f19e803d56639,remove-deprecated-code," 'parameter %s. This option will be removed in the ""U"" '"," 'parameter %s. It will be removed after the ""P"" '",1,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I7931df409147a1572dcc1b87ac907366c3ce74a6,openstack/openstack-ansible-openstack_hosts,master,I7931df409147a1572dcc1b87ac907366c3ce74a6,Fixing linting errors,ABANDONED,2019-05-03 11:05:28.000000000,2019-05-03 11:10:01.000000000,,[],"[{'number': 1, 'created': '2019-05-03 11:05:28.000000000', 'files': ['filter/osa-filter.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/88563fa18678994fefbc2422f2cb4e4b7afc0d21', 'message': 'Fixing linting errors\n\nChange-Id: I7931df409147a1572dcc1b87ac907366c3ce74a6\n'}]",0,656940,88563fa18678994fefbc2422f2cb4e4b7afc0d21,2,0,1,29866,,,0,"Fixing linting errors

Change-Id: I7931df409147a1572dcc1b87ac907366c3ce74a6
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/40/656940/1 && git format-patch -1 --stdout FETCH_HEAD,['filter/osa-filter.py'],1,88563fa18678994fefbc2422f2cb4e4b7afc0d21,add-bit_length_power_of_2-filter, return 2**(int(value) - 1).bit_length() , return 2**(int(value)-1).bit_length(),2,1
openstack%2Fnova~master~I3c404bd650521b44faddf97ef0b41953f82c4bd2,openstack/nova,master,I3c404bd650521b44faddf97ef0b41953f82c4bd2,Require at least oslo.versionedobjects>=1.35.0,MERGED,2019-05-01 12:59:02.000000000,2019-05-03 10:44:47.000000000,2019-05-03 00:35:36.000000000,"[{'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-01 12:59:02.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/84e64a995eb456772519ba26dc8a98f042a7a44a', 'message': 'Require at least oslo.versionedobjects>=1.35.0\n\nThis is to pick up change If20663ecad19f18f22172ae489206b42489fd9f6\nfor our lower-constraints CI job to avoid blowing up the subunit\nparser with too much log output.\n\nChange-Id: I3c404bd650521b44faddf97ef0b41953f82c4bd2\nRelated-Bug: #1813147\n'}]",0,656633,84e64a995eb456772519ba26dc8a98f042a7a44a,33,15,1,6873,,,0,"Require at least oslo.versionedobjects>=1.35.0

This is to pick up change If20663ecad19f18f22172ae489206b42489fd9f6
for our lower-constraints CI job to avoid blowing up the subunit
parser with too much log output.

Change-Id: I3c404bd650521b44faddf97ef0b41953f82c4bd2
Related-Bug: #1813147
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/656633/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,84e64a995eb456772519ba26dc8a98f042a7a44a,bug/1813147,oslo.versionedobjects==1.35.0,oslo.versionedobjects==1.33.3,2,2
openstack%2Fsushy-tools~master~I61431022b907980f07ff80056b7c4b1fd172d0a2,openstack/sushy-tools,master,I61431022b907980f07ff80056b7c4b1fd172d0a2,Add libvirt-based virtual media emulation,ABANDONED,2019-03-01 17:23:36.000000000,2019-05-03 09:40:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-03-01 17:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/fcfe86d57fa358c3856117ae512f2fa56577ef16', 'message': 'WIP: Add libvirt-based virtual media emulation\n\nChange-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2\n'}, {'number': 2, 'created': '2019-03-11 16:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/24d6d37a8734ebf1827e70bab0ecebffe2fe5249', 'message': 'WIP: Add libvirt-based virtual media emulation\n\nIntroduce new abstract methods to the `systems` drivers:\n`get_boot_image` and `set_boot_image`. Implement these two methods\nin the libvirt driver.\n\nSynthesize CD and floppy virtual media devices for each of the\nbackend Systems available. Link the same set of virtual media devices\nto each of the statically configured Managers.\n\nStory: 2005149\nTask: 29857\nChange-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2\n'}, {'number': 3, 'created': '2019-03-13 10:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/fd6b1ebda0c57c9a3af1af19ebfaf233df6d878b', 'message': ""Add libvirt-based virtual media emulation\n\nThis change introduces semi-functional Virtual Media support.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\n  Perhaps relying upon libvirt storage pool is a way to go,\n  but needs a bit of research.\n\nIntroduced new abstract methods to the `systems` drivers:\n`get_boot_image` and `set_boot_image`. Implement these two methods\nin the libvirt driver.\n\nSynthesize CD and floppy virtual media devices for each of the\nbackend Systems available. Link the same set of virtual media devices\nto each of the statically configured Managers.\n\nStory: 2005149\nTask: 29857\nChange-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2\n""}, {'number': 4, 'created': '2019-03-13 16:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b223590a2a1623d22d0152594bb19a6c72791df6', 'message': ""Add libvirt-based virtual media emulation\n\nThis change introduces semi-functional Virtual Media support.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\n  Perhaps relying upon libvirt storage pool is a way to go,\n  but needs a bit of research.\n\nIntroduced new abstract methods to the `systems` drivers:\n`get_boot_image` and `set_boot_image`. Implement these two methods\nin the libvirt driver.\n\nSynthesize CD and floppy virtual media devices for each of the\nbackend Systems available. Link the same set of virtual media devices\nto each of the statically configured Managers.\n\nStory: 2005149\nTask: 29857\nChange-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2\n""}, {'number': 5, 'created': '2019-03-14 11:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/3f7e4df0410e1ff373a00726ddbf1d3cc4907a44', 'message': ""Add libvirt-based virtual media emulation\n\nThis change introduces semi-functional Virtual Media support.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\n  Perhaps relying upon libvirt storage pool is a way to go,\n  but needs a bit of research.\n\nIntroduced new abstract methods to the `systems` drivers:\n`get_boot_image` and `set_boot_image`. Implement these two methods\nin the libvirt driver.\n\nSynthesize CD and floppy virtual media devices for each of the\nbackend Systems available. Link the same set of virtual media devices\nto each of the statically configured Managers.\n\nStory: 2005149\nTask: 29857\nChange-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2\n""}, {'number': 6, 'created': '2019-03-22 14:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5fa9793dede6866d488ba2c914195a5411bf3be7', 'message': ""Add libvirt-based virtual media emulation\n\nThis change introduces semi-functional Virtual Media support.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\n  Perhaps relying upon libvirt storage pool is a way to go,\n  but needs a bit of research.\n\nIntroduced new abstract methods to the `systems` drivers:\n`get_boot_image` and `set_boot_image`. Implement these two methods\nin the libvirt driver.\n\nSynthesize CD and floppy virtual media devices for each of the\nbackend Systems available. Link the same set of virtual media devices\nto each of the statically configured Managers.\n\nStory: 2005149\nTask: 29857\nChange-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2\n""}, {'number': 7, 'created': '2019-03-22 22:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/7c8b0615cd51ea0638baff45276fe1903885bc59', 'message': ""Add libvirt-based virtual media emulation\n\nThis change introduces semi-functional Virtual Media support.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\n  Perhaps relying upon libvirt storage pool is a way to go,\n  but needs a bit of research.\n\nIntroduced new abstract methods to the `systems` drivers:\n`get_boot_image` and `set_boot_image`. Implement these two methods\nin the libvirt driver.\n\nSynthesize CD and floppy virtual media devices for each of the\nbackend Systems available. Link the same set of virtual media devices\nto each of the statically configured Managers.\n\nStory: 2005149\nTask: 29857\nChange-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2\n""}, {'number': 8, 'created': '2019-03-26 07:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b5c2c0d5f89e1becd1e9def72b155cbae2496014', 'message': ""Add libvirt-based virtual media emulation\n\nThis change introduces semi-functional Virtual Media support.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\n  Perhaps relying upon libvirt storage pool is a way to go,\n  but needs a bit of research.\n\nIntroduced new abstract methods to the `systems` drivers:\n`get_boot_image` and `set_boot_image`. Implement these two methods\nin the libvirt driver.\n\nSynthesize CD and floppy virtual media devices for each of the\nbackend Systems available. Link the same set of virtual media devices\nto each of the statically configured Managers.\n\nStory: 2005149\nTask: 29857\nChange-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2\n""}, {'number': 9, 'created': '2019-03-29 16:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/869f298ef29936ee7e66abe85a1d29c10cd12abe', 'message': ""Add libvirt-based virtual media emulation\n\nThis change introduces semi-functional Virtual Media support.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\n  Perhaps relying upon libvirt storage pool is a way to go,\n  but needs a bit of research.\n\nIntroduced new abstract methods to the `systems` drivers:\n`get_boot_image` and `set_boot_image`. Implement these two methods\nin the libvirt driver.\n\nSynthesize CD and floppy virtual media devices for each of the\nbackend Systems available. Link the same set of virtual media devices\nto each of the statically configured Managers.\n\nStory: 2005149\nTask: 29857\nChange-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2\n""}, {'number': 10, 'created': '2019-04-17 12:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4320f772e8ef939391313785445fe398c8ced50d', 'message': ""Add libvirt-based virtual media emulation\n\nThis change introduces semi-functional Virtual Media support.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\n  Perhaps relying upon libvirt storage pool is a way to go,\n  but needs a bit of research.\n\nIntroduced new abstract methods to the `systems` drivers:\n`get_boot_image` and `set_boot_image`. Implement these two methods\nin the libvirt driver.\n\nSynthesize CD and floppy virtual media devices for each of the\nbackend Systems available. Link the same set of virtual media devices\nto each of the statically configured Managers.\n\nStory: 2005149\nTask: 29857\nChange-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2\n""}, {'number': 11, 'created': '2019-04-23 14:19:39.000000000', 'files': ['sushy_tools/emulator/main.py', 'sushy_tools/emulator/managers/base.py', 'sushy_tools/emulator/managers/staticdriver.py', 'releasenotes/notes/add-virtual-media-4a137a5fb5017031.yaml', 'sushy_tools/emulator/systems/libvirtdriver.py', 'sushy_tools/tests/unit/emulator/test_main.py', 'sushy_tools/emulator/systems/novadriver.py', 'sushy_tools/emulator/constants.py', 'sushy_tools/emulator/systems/base.py', 'sushy_tools/tests/unit/emulator/test_libvirt.py', 'sushy_tools/tests/unit/emulator/test_static.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/c3dbb8d6acdec84eb5c35de0b40e078b1b774c96', 'message': ""Add libvirt-based virtual media emulation\n\nThis change introduces semi-functional Virtual Media support.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\n  Perhaps relying upon libvirt storage pool is a way to go,\n  but needs a bit of research.\n\nIntroduced new abstract methods to the `systems` drivers:\n`get_boot_image` and `set_boot_image`. Implement these two methods\nin the libvirt driver.\n\nSynthesize CD and floppy virtual media devices for each of the\nbackend Systems available. Link the same set of virtual media devices\nto each of the statically configured Managers.\n\nStory: 2005149\nTask: 29857\nChange-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2\n""}]",0,640452,c3dbb8d6acdec84eb5c35de0b40e078b1b774c96,23,2,11,26340,,,0,"Add libvirt-based virtual media emulation

This change introduces semi-functional Virtual Media support.
What's working:

* ISO images can be Inserted, Ejected and inspected
* libvirt domains can be booted off the inserted ISO images

The limitations:

* Image download from URI down to Redfish emulator it not
  yet implemented. However existing images on the hypervisor
  can be referred to via file:// URI schema

* Even if ISO image download is implemented, it is not yet
  clear how to transfer those images to the remote hypervisor
  (in other words, this is the case of libvirt and libvirtd
  running on different machines).

  Perhaps relying upon libvirt storage pool is a way to go,
  but needs a bit of research.

Introduced new abstract methods to the `systems` drivers:
`get_boot_image` and `set_boot_image`. Implement these two methods
in the libvirt driver.

Synthesize CD and floppy virtual media devices for each of the
backend Systems available. Link the same set of virtual media devices
to each of the statically configured Managers.

Story: 2005149
Task: 29857
Change-Id: I61431022b907980f07ff80056b7c4b1fd172d0a2
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/52/640452/11 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/managers/staticdriver.py', 'sushy_tools/emulator/systems/libvirtdriver.py', 'sushy_tools/emulator/systems/novadriver.py', 'sushy_tools/emulator/systems/base.py']",4,fcfe86d57fa358c3856117ae512f2fa56577ef16,10-add-libvirt-virtual-media," @abc.abstractmethod def get_boot_image(self, identity): """"""Get backend VM boot image info :param identity: libvirt domain name or ID :returns: a `tuple` of (boot_image, write_protected, inserted) :raises: `error.FishyError` if boot device can't be set """""" @abc.abstractmethod def set_boot_image(self, identity, boot_image=None, write_protected=True): """"""Set backend VM boot image :param identity: libvirt domain name or ID :param boot_image: path to the image file or `None` to remove configured image entirely :param write_protected: expose media as read-only or writable :raises: `error.FishyError` if boot device can't be set """"""",,169,15
openstack%2Ftripleo-quickstart-extras~master~I86d8ab65e1bcdf9589947ff2016d9b656583b3cf,openstack/tripleo-quickstart-extras,master,I86d8ab65e1bcdf9589947ff2016d9b656583b3cf,Align baremetal-undercloud-minimal to baremetal-prep-virthost,ABANDONED,2019-05-01 04:15:51.000000000,2019-05-03 09:31:58.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-05-01 04:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/66702f176594e19122556f16109cc1e9d9f637c4', 'message': ""Align baremetal-undercloud-minimal to baremetal-prep-virthost\n\nThis commit aligns baremetal-undercloud-minimal to its 'parent'\nbaremetal-prep-virthost, using the same roles and tasks for delorean\nrepos and images generation.\n\nChange-Id: I86d8ab65e1bcdf9589947ff2016d9b656583b3cf\n""}, {'number': 2, 'created': '2019-05-01 18:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c95ecc727958e5b18b4b3396161e371e80b9399b', 'message': ""Align baremetal-undercloud-minimal to baremetal-prep-virthost\n\nThis commit aligns baremetal-undercloud-minimal to its 'parent'\nbaremetal-prep-virthost, using the same roles and tasks for delorean\nrepos and images generation.\n\nChange-Id: I86d8ab65e1bcdf9589947ff2016d9b656583b3cf\n""}, {'number': 3, 'created': '2019-05-02 04:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e2574390acd1ba21207589d257ec3e58f1747baf', 'message': ""Align baremetal-undercloud-minimal to baremetal-prep-virthost\n\nThis commit aligns baremetal-undercloud-minimal to its 'parent'\nbaremetal-prep-virthost, using the same roles and tasks for delorean\nrepos and images generation.\n\nChange-Id: I86d8ab65e1bcdf9589947ff2016d9b656583b3cf\n""}, {'number': 4, 'created': '2019-05-02 05:30:37.000000000', 'files': ['playbooks/baremetal-undercloud-minimal.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b64c1d507d3d5e0307f5c1940afba11469bdbd3d', 'message': ""Align baremetal-undercloud-minimal to baremetal-prep-virthost\n\nThis commit aligns baremetal-undercloud-minimal to its 'parent'\nbaremetal-prep-virthost, using the same roles and tasks for delorean\nrepos and images generation.\n\nChange-Id: I86d8ab65e1bcdf9589947ff2016d9b656583b3cf\n""}]",0,656612,b64c1d507d3d5e0307f5c1940afba11469bdbd3d,18,4,4,30126,,,0,"Align baremetal-undercloud-minimal to baremetal-prep-virthost

This commit aligns baremetal-undercloud-minimal to its 'parent'
baremetal-prep-virthost, using the same roles and tasks for delorean
repos and images generation.

Change-Id: I86d8ab65e1bcdf9589947ff2016d9b656583b3cf
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/12/656612/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/baremetal-undercloud-minimal.yml'],1,66702f176594e19122556f16109cc1e9d9f637c4,," gather_facts: true become: true tasks: - include_role: name: build-test-packages vars: artg_compressed_gating_repo: ""/home/{{ undercloud_user }}/gating_repo.tar.gz"" - include_role: name: install-built-repo when: compressed_gating_repo is defined - include_role: name: install-built-repo vars: ib_repo_image_path: ""/home/{{ undercloud_user }}/overcloud-full.qcow2"" when: compressed_gating_repo is defined - include_role: name: install-built-repo vars: ib_repo_image_path: ""/home/{{ undercloud_user }}/ironic-python-agent.initramfs"" initramfs_image: true libguestfs_mode: false when: compressed_gating_repo is defined","# Small playbook with logic for when to build images or not. # The logic there can be completely overridden by setting the # to_build variable. - include: to-build-or-not-to-build.yml vars: artg_compressed_gating_repo: ""${HOME}/gating_repo.tar.gz"" artg_repos_dir: ""{{ repo_clone_dir|default('/opt/stack/new') }}"" ib_create_web_repo: ""{{ to_build|bool }}"" roles: - {role: build-test-packages, when: build_test_packages|default(false)|bool} - {role: install-built-repo, when: compressed_gating_repo is defined} tags: - build - name: Get images for quickstart hosts: undercloud gather_facts: false vars: ib_repo_image_inject: ""{{ not to_build|bool }}"" ib_repo_run_live: false modify_image_vc_ram: 4096 modify_image_vc_cpu: 4 modify_image_vc_verbose: true roles: - {role: fetch-images, when: not to_build|bool} - {role: repo-setup, repo_inject_image_path: ""$HOME/overcloud-full.qcow2"", repo_run_live: false, when: not to_build|bool} - {role: repo-setup, repo_inject_image_path: ""$HOME/ironic-python-agent.initramfs"", repo_run_live: false, initramfs_image: true, libguestfs_mode: false, when: not to_build|bool} - {role: install-built-repo, ib_repo_image_path: ""$HOME/overcloud-full.qcow2"", when: compressed_gating_repo is defined and not to_build|bool} - {role: install-built-repo, ib_repo_image_path: ""$HOME/ironic-python-agent.initramfs"", initramfs_image: true, libguestfs_mode: false, when: compressed_gating_repo is defined and not to_build|bool}",24,44
openstack%2Ftripleo-quickstart-extras~master~I3b27f9b0b0f2e9bc6f83ba8e57daa271a51dc95c,openstack/tripleo-quickstart-extras,master,I3b27f9b0b0f2e9bc6f83ba8e57daa271a51dc95c,Add become: true required to build packages.,ABANDONED,2019-05-03 08:56:17.000000000,2019-05-03 09:31:31.000000000,,"[{'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-05-03 08:56:17.000000000', 'files': ['playbooks/baremetal-undercloud-minimal.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/65a81822a09678f0829d92b2f0f8ac14225c650b', 'message': 'Add become: true required to build packages.\n\ntasks/roles need sudo to install packages on the undercloud.\n\nChange-Id: I3b27f9b0b0f2e9bc6f83ba8e57daa271a51dc95c\n'}]",1,656933,65a81822a09678f0829d92b2f0f8ac14225c650b,7,3,1,30126,,,0,"Add become: true required to build packages.

tasks/roles need sudo to install packages on the undercloud.

Change-Id: I3b27f9b0b0f2e9bc6f83ba8e57daa271a51dc95c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/33/656933/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/baremetal-undercloud-minimal.yml'],1,65a81822a09678f0829d92b2f0f8ac14225c650b,, become: true,,1,0
openstack%2Fnova~master~Ic89352a9900515484bffe961475feb1cefc6b2a9,openstack/nova,master,Ic89352a9900515484bffe961475feb1cefc6b2a9,"Remove 'instance_update_at_top', 'instance_destroy_at_top'",MERGED,2019-04-09 16:15:52.000000000,2019-05-03 09:18:17.000000000,2019-05-02 21:55:44.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-09 16:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cffd17c5983000632488038b8c4548317e9465e', 'message': ""Remove 'instance_update_at_top', 'instance_destroy_at_top'\n\nThese were being called within the 'Instance' object. Remove them in their\nentirety, given that nothing should be calling them now. They're pretty\nclosely coupled, hence removing the two of them at the same time. Note\nthat this removes a good chunk of functionality from cells v1 which turn\nnecessitates removing some more functional unit tests.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ic89352a9900515484bffe961475feb1cefc6b2a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-04-16 08:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74323b32ccbbac3fb851f0038315ceba5079088b', 'message': ""Remove 'instance_update_at_top', 'instance_destroy_at_top'\n\nThese were being called within the 'Instance' object. Remove them in their\nentirety, given that nothing should be calling them now. They're pretty\nclosely coupled, hence removing the two of them at the same time. Note\nthat this removes a good chunk of functionality from cells v1 which turn\nnecessitates removing some more functional unit tests.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ic89352a9900515484bffe961475feb1cefc6b2a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-04-16 14:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3172bc3e26e9291169e7ee0e63f0d3d5d49c1aad', 'message': ""Remove 'instance_update_at_top', 'instance_destroy_at_top'\n\nThese were being called within the 'Instance' object. Remove them in their\nentirety, given that nothing should be calling them now. They're pretty\nclosely coupled, hence removing the two of them at the same time. Note\nthat this removes a good chunk of functionality from cells v1 which turn\nnecessitates removing some more functional unit tests.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ic89352a9900515484bffe961475feb1cefc6b2a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-04-16 17:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9016409ee889d214ee12671d095c0175dfd5933', 'message': ""Remove 'instance_update_at_top', 'instance_destroy_at_top'\n\nThese were being called within the 'Instance' object. Remove them in their\nentirety, given that nothing should be calling them now. They're pretty\nclosely coupled, hence removing the two of them at the same time. Note\nthat this removes a good chunk of functionality from cells v1 which turn\nnecessitates removing some more functional unit tests.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ic89352a9900515484bffe961475feb1cefc6b2a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-04-29 16:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de0a379c01ffbdb415068e65b794967203419559', 'message': ""Remove 'instance_update_at_top', 'instance_destroy_at_top'\n\nThese were being called within the 'Instance' object. Remove them in their\nentirety, given that nothing should be calling them now. They're pretty\nclosely coupled, hence removing the two of them at the same time. Note\nthat this removes a good chunk of functionality from cells v1 which turn\nnecessitates removing some more functional unit tests.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ic89352a9900515484bffe961475feb1cefc6b2a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-05-01 16:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/020d747017ec0af64f1e443caec951f9c80c4fd4', 'message': ""Remove 'instance_update_at_top', 'instance_destroy_at_top'\n\nThese were being called within the 'Instance' object. Remove them in their\nentirety, given that nothing should be calling them now. They're pretty\nclosely coupled, hence removing the two of them at the same time. Note\nthat this removes a good chunk of functionality from cells v1 which turn\nnecessitates removing some more functional unit tests.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ic89352a9900515484bffe961475feb1cefc6b2a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-05-02 14:32:47.000000000', 'files': ['nova/tests/unit/cells/test_cells_rpcapi.py', 'nova/tests/unit/cells/test_cells_scheduler.py', 'nova/cells/messaging.py', 'nova/tests/unit/cells/test_cells_messaging.py', 'nova/cells/scheduler.py', 'nova/cells/manager.py', 'nova/compute/cells_api.py', 'nova/objects/instance.py', 'nova/tests/unit/cells/test_cells_manager.py', 'nova/tests/unit/compute/test_compute_cells.py', 'nova/tests/unit/objects/test_instance.py', 'nova/cells/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a627723c2a15f748c196b4574a2e17e6c69a53fb', 'message': ""Remove 'instance_update_at_top', 'instance_destroy_at_top'\n\nThese were being called within the 'Instance' object. Remove them in their\nentirety, given that nothing should be calling them now. They're pretty\nclosely coupled, hence removing the two of them at the same time. Note\nthat this removes a good chunk of functionality from cells v1 which turn\nnecessitates removing some more functional unit tests.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ic89352a9900515484bffe961475feb1cefc6b2a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",7,651301,a627723c2a15f748c196b4574a2e17e6c69a53fb,89,16,7,15334,,,0,"Remove 'instance_update_at_top', 'instance_destroy_at_top'

These were being called within the 'Instance' object. Remove them in their
entirety, given that nothing should be calling them now. They're pretty
closely coupled, hence removing the two of them at the same time. Note
that this removes a good chunk of functionality from cells v1 which turn
necessitates removing some more functional unit tests.

Part of blueprint remove-cells-v1

Change-Id: Ic89352a9900515484bffe961475feb1cefc6b2a9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/651301/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cells/test_cells_rpcapi.py', 'nova/tests/unit/cells/test_cells_scheduler.py', 'nova/cells/messaging.py', 'nova/tests/unit/cells/test_cells_messaging.py', 'nova/cells/scheduler.py', 'nova/cells/manager.py', 'nova/compute/cells_api.py', 'nova/objects/instance.py', 'nova/tests/unit/cells/test_cells_manager.py', 'nova/tests/unit/compute/test_compute_cells.py', 'nova/tests/unit/objects/test_instance.py', 'nova/cells/rpcapi.py']",12,7cffd17c5983000632488038b8c4548317e9465e,bp/remove-cells-v1,," def instance_update_at_top(self, ctxt, instance): """"""Update instance at API level."""""" version = '1.35' if not self.client.can_send_version('1.35'): instance = objects_base.obj_to_primitive(instance) version = '1.34' cctxt = self.client.prepare(version=version) cctxt.cast(ctxt, 'instance_update_at_top', instance=instance) def instance_destroy_at_top(self, ctxt, instance): """"""Destroy instance at API level."""""" version = '1.35' if not self.client.can_send_version('1.35'): instance = objects_base.obj_to_primitive(instance) version = '1.34' cctxt = self.client.prepare(version=version) cctxt.cast(ctxt, 'instance_destroy_at_top', instance=instance) ",16,693
openstack%2Fcharm-keystone~stable%2F19.04~If6ff4bcabec2f976b79d87d57f4a763e8828c302,openstack/charm-keystone,stable/19.04,If6ff4bcabec2f976b79d87d57f4a763e8828c302,Enable application_credential auth plugin,MERGED,2019-05-02 21:11:19.000000000,2019-05-03 09:04:38.000000000,2019-05-03 08:59:12.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-05-02 21:11:19.000000000', 'files': ['templates/queens/keystone.conf', 'templates/rocky/keystone.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/8ebe36d0ba38a98749aaa1ef3c6b240b60c2fd7b', 'message': 'Enable application_credential auth plugin\n\nEnables a client to use application credentials for authentication.\n\nChange-Id: If6ff4bcabec2f976b79d87d57f4a763e8828c302\nCloses-Bug: #1827058\n(cherry picked from commit e580d1acf3486b00b7fc54ded37a0548cb441c1d)\n'}]",0,656872,8ebe36d0ba38a98749aaa1ef3c6b240b60c2fd7b,10,5,1,24824,,,0,"Enable application_credential auth plugin

Enables a client to use application credentials for authentication.

Change-Id: If6ff4bcabec2f976b79d87d57f4a763e8828c302
Closes-Bug: #1827058
(cherry picked from commit e580d1acf3486b00b7fc54ded37a0548cb441c1d)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/72/656872/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/keystone.conf', 'templates/rocky/keystone.conf']",2,8ebe36d0ba38a98749aaa1ef3c6b240b60c2fd7b,bug/1827058,"methods = external,password,token,oauth1,mapped,openid,totp,application_credentialmax_request_body_size = 114688 ","methods = external,password,token,oauth1,mapped,openid,totpmax_request_body_size = 114688",133,2
openstack%2Fkuryr-kubernetes~master~I601353453871c545d6c8e10e86cd41f004aac533,openstack/kuryr-kubernetes,master,I601353453871c545d6c8e10e86cd41f004aac533,Use Octavia endpoint paths from openstacksdk,MERGED,2019-04-29 17:06:45.000000000,2019-05-03 08:50:07.000000000,2019-05-03 08:50:07.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-04-29 17:06:45.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/004efce1c9094463c7f3afef49e529ad66de1019', 'message': 'Use Octavia endpoint paths from openstacksdk\n\nIc0bb56f90fe9effcdcb2ae5db96b8a1ec19738df hardcoded paths used to send\nPOST requests to Octavia endpoints. Seems like those paths were changed\nin openstacksdk 0.18.0 and Kuryr fails when using that version of the\nlibrary.\n\nThis commit fixes that by getting the correct paths directly from\nopenstacksdk.\n\nChange-Id: I601353453871c545d6c8e10e86cd41f004aac533\nCloses-Bug: 1826904\n'}]",0,656369,004efce1c9094463c7f3afef49e529ad66de1019,14,6,1,11600,,,0,"Use Octavia endpoint paths from openstacksdk

Ic0bb56f90fe9effcdcb2ae5db96b8a1ec19738df hardcoded paths used to send
POST requests to Octavia endpoints. Seems like those paths were changed
in openstacksdk 0.18.0 and Kuryr fails when using that version of the
library.

This commit fixes that by getting the correct paths directly from
openstacksdk.

Change-Id: I601353453871c545d6c8e10e86cd41f004aac533
Closes-Bug: 1826904
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/69/656369/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py']",2,004efce1c9094463c7f3afef49e529ad66de1019,bug/1826904,"from openstack.load_balancer.v2 import l7_policy as o_l7p from openstack.load_balancer.v2 import l7_rule as o_l7r from openstack.load_balancer.v2 import listener as o_lis from openstack.load_balancer.v2 import load_balancer as o_lb from openstack.load_balancer.v2 import member as o_mem from openstack.load_balancer.v2 import pool as o_pool def _post_lb_resource(self, resource, request, **kwargs): response = lbaas.post(resource.base_path % kwargs, json={resource.resource_key: request}) if not response.ok: LOG.error('Error when creating %s: %s', resource.resource_key, response.text) return response.json()[resource.resource_key] response = self._post_lb_resource(o_lb.LoadBalancer, request) response = self._post_lb_resource(o_lis.Listener, request) response = self._post_lb_resource(o_pool.Pool, request) response = self._post_lb_resource(o_mem.Member, request, pool_id=member.pool_id) response = self._post_lb_resource(o_l7p.L7Policy, request) response = self._post_lb_resource(o_l7r.L7Rule, request, l7policy_id=l7_rule.l7policy_id)"," def _post_lb_resource(self, path, resource, request): response = lbaas.post(path, json={resource: request}) if not response.ok: LOG.error('Error when creating %s: %s', resource, response.text) response = response.json()[resource] return response response = self._post_lb_resource('loadbalancers', 'loadbalancer', request) response = self._post_lb_resource('listeners', 'listener', request) response = self._post_lb_resource('pools', 'pool', request) response = self._post_lb_resource('pools/%s/members' % member.pool_id, 'member', request) response = self._post_lb_resource('l7policies', 'l7policy', request) response = self._post_lb_resource( 'l7policies/%s/rules' % l7_rule.l7policy_id, 'rule', request)",38,30
openstack%2Fnova~master~If7ea02df42d220c5042947efdef4777509492a0b,openstack/nova,master,If7ea02df42d220c5042947efdef4777509492a0b,Pass target host to RequestGroup.in_tree,MERGED,2019-04-08 12:48:32.000000000,2019-05-03 08:45:59.000000000,2019-05-02 13:17:12.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-08 12:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f3cca77c3a7db12c8d27f84304b940b19c06606', 'message': 'Pass target host to RequestGroup.in_tree\n\nThis patch retrieves target host info from RequestSpec object,\nlooks up the database to translate it into the compute node uuid,\nand pass it to the new `RequestGroup.in_tree` field.\n\nChange-Id: If7ea02df42d220c5042947efdef4777509492a0b\nBlueprint: use-placement-in-tree\n'}, {'number': 2, 'created': '2019-04-09 05:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a845b3bf7b15c3966452e99493edf02972ad438f', 'message': 'Pass target host to RequestGroup.in_tree\n\nThis patch retrieves target host info from RequestSpec object,\nlooks up the database to translate it into the compute node uuid,\nand pass it to the new `RequestGroup.in_tree` field.\n\nChange-Id: If7ea02df42d220c5042947efdef4777509492a0b\nBlueprint: use-placement-in-tree\n'}, {'number': 3, 'created': '2019-04-11 12:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08ff0d62a0610948d87c1f5a28eeb350d320d73c', 'message': 'Pass target host to RequestGroup.in_tree\n\nThis patch retrieves target host info from RequestSpec object,\nlooks up the database to translate it into the compute node uuid,\nand pass it to the new `RequestGroup.in_tree` field.\n\nChange-Id: If7ea02df42d220c5042947efdef4777509492a0b\nBlueprint: use-placement-in-tree\n'}, {'number': 4, 'created': '2019-04-12 02:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63a1b14701702d42bff6c060816a83b3655ab107', 'message': 'Pass target host to RequestGroup.in_tree\n\nThis patch retrieves target host info from RequestSpec object,\nlooks up the database to translate it into the compute node uuid,\nand pass it to the new `RequestGroup.in_tree` field.\n\nChange-Id: If7ea02df42d220c5042947efdef4777509492a0b\nBlueprint: use-placement-in-tree\n'}, {'number': 5, 'created': '2019-04-12 08:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9bb9f559fe822e6394cd518466e3336c5f5e00a', 'message': 'Pass target host to RequestGroup.in_tree\n\nThis patch retrieves target host info from RequestSpec object,\nlooks up the database to translate it into the compute node uuid,\nand pass it to the new `RequestGroup.in_tree` field.\n\nChange-Id: If7ea02df42d220c5042947efdef4777509492a0b\nBlueprint: use-placement-in-tree\n'}, {'number': 6, 'created': '2019-04-12 14:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0db968abc47672abac9c2a99554cece5c642d2f', 'message': 'Pass target host to RequestGroup.in_tree\n\nThis patch retrieves target host info from RequestSpec object,\nlooks up the database to translate it into the compute node uuid,\nand pass it to the new `RequestGroup.in_tree` field.\n\nChange-Id: If7ea02df42d220c5042947efdef4777509492a0b\nBlueprint: use-placement-in-tree\n'}, {'number': 7, 'created': '2019-04-17 09:09:08.000000000', 'files': ['nova/scheduler/manager.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3ad82c696f8a6275843499f6e99ff0c117615a42', 'message': 'Pass target host to RequestGroup.in_tree\n\nThis patch retrieves target host info from RequestSpec object,\nlooks up the database to translate it into the compute node uuid,\nand pass it to the new `RequestGroup.in_tree` field.\n\nChange-Id: If7ea02df42d220c5042947efdef4777509492a0b\nBlueprint: use-placement-in-tree\n'}]",16,650878,3ad82c696f8a6275843499f6e99ff0c117615a42,102,17,7,25625,,,0,"Pass target host to RequestGroup.in_tree

This patch retrieves target host info from RequestSpec object,
looks up the database to translate it into the compute node uuid,
and pass it to the new `RequestGroup.in_tree` field.

Change-Id: If7ea02df42d220c5042947efdef4777509492a0b
Blueprint: use-placement-in-tree
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/650878/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py']",3,7f3cca77c3a7db12c8d27f84304b940b19c06606,bug/1777591,"from nova.scheduler import host_manager resources = utils.resources_from_request_spec(self.context, fake_spec) utils.resources_from_request_spec(self.context, fake_spec) req = utils.resources_from_request_spec(self.context, reqspec) req = utils.resources_from_request_spec(self.context, reqspec) req = utils.resources_from_request_spec(self.context, reqspec) req = utils.resources_from_request_spec(self.context, reqspec) req = utils.resources_from_request_spec(self.context, reqspec) req = utils.resources_from_request_spec(self.context, reqspec) utils.resources_from_request_spec(self.context, fake_spec) utils.resources_from_request_spec(self.context, fake_spec) utils.resources_from_request_spec(self.context, fake_spec) @mock.patch.object(host_manager.HostManager, '_init_instance_info') @mock.patch.object(host_manager.HostManager, '_init_aggregates') @mock.patch.object(host_manager.HostManager, 'get_compute_nodes_by_host_or_node') def test_process_use_force_nodes( self, mock_get_nodes, mock_init_agg, mock_init_inst): fake_nodes = objects.ComputeNodeList(objects=[ objects.ComputeNode(host='fake-host', uuid='12345678-1234-1234-1234-123456789012')]) mock_get_nodes.return_value = fake_nodes in_tree='12345678-1234-1234-1234-123456789012', resources = utils.resources_from_request_spec(self.context, fake_spec) 'limit=1000&resources=DISK_GB%3A15%2CMEMORY_MB%3A1024%2CVCPU%3A1') @mock.patch.object(host_manager.HostManager, '_init_instance_info') @mock.patch.object(host_manager.HostManager, '_init_aggregates') @mock.patch.object(host_manager.HostManager, 'get_compute_nodes_by_host_or_node') def test_process_use_force_hosts( self, mock_get_nodes, mock_init_agg, mock_init_inst): fake_nodes = objects.ComputeNodeList(objects=[ objects.ComputeNode(host='fake-host', uuid='12345678-1234-1234-1234-123456789012') ]) mock_get_nodes.return_value = fake_nodes in_tree='12345678-1234-1234-1234-123456789012', resources = utils.resources_from_request_spec(self.context, fake_spec) 'limit=1000&resources=DISK_GB%3A15%2CMEMORY_MB%3A1024%2CVCPU%3A1') req = utils.resources_from_request_spec(self.context, reqspec) req = utils.resources_from_request_spec(self.context, reqspec) req = utils.resources_from_request_spec(self.context, reqspec)", resources = utils.resources_from_request_spec(fake_spec) utils.resources_from_request_spec(fake_spec) req = utils.resources_from_request_spec(reqspec) req = utils.resources_from_request_spec(reqspec) req = utils.resources_from_request_spec(reqspec) req = utils.resources_from_request_spec(reqspec) req = utils.resources_from_request_spec(reqspec) req = utils.resources_from_request_spec(reqspec) utils.resources_from_request_spec(fake_spec) utils.resources_from_request_spec(fake_spec) utils.resources_from_request_spec(fake_spec) def test_process_use_force_nodes(self): expected._limit = None resources = utils.resources_from_request_spec(fake_spec) 'resources=DISK_GB%3A15%2CMEMORY_MB%3A1024%2CVCPU%3A1' ) def test_process_use_force_hosts(self): expected._limit = None resources = utils.resources_from_request_spec(fake_spec) 'resources=DISK_GB%3A15%2CMEMORY_MB%3A1024%2CVCPU%3A1' ) req = utils.resources_from_request_spec(reqspec) req = utils.resources_from_request_spec(reqspec) req = utils.resources_from_request_spec(reqspec),83,33
openstack%2Fnova~master~I8ec95d576417c32a57aa0298789dac6afb0cca02,openstack/nova,master,I8ec95d576417c32a57aa0298789dac6afb0cca02,Query `in_tree` to placement,MERGED,2019-04-03 08:16:30.000000000,2019-05-03 08:45:28.000000000,2019-05-02 21:55:37.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-03 08:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a02edc647c6d17632fc6653098226cd9dc58ca7', 'message': 'node_uuid from RequestSpec to ResourceRequest\n\nThis patch translates target node uuid in `RequestSpec` to\n`ResourceRequest` and bumps microversion to enable the `in_tree`\nquery to placement.\n\nChange-Id: I8ec95d576417c32a57aa0298789dac6afb0cca02\nBlueprint: use-placement-in-tree\n'}, {'number': 2, 'created': '2019-04-03 12:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5592293183fb0460b19fa762056bf0eba1ab0371', 'message': 'node_uuid from RequestSpec to ResourceRequest\n\nThis patch translates target node uuid in `RequestSpec` to\n`ResourceRequest` and bumps microversion to enable the `in_tree`\nquery to placement.\n\nChange-Id: I8ec95d576417c32a57aa0298789dac6afb0cca02\nBlueprint: use-placement-in-tree\n'}, {'number': 3, 'created': '2019-04-04 01:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5fd884d1b9405f9584b7be2f3c16c8ad8465ab2', 'message': 'node_uuid from RequestSpec to ResourceRequest\n\nThis patch translates target node uuid in `RequestSpec` to\n`ResourceRequest` and bumps microversion to enable the `in_tree`\nquery to placement.\n\nChange-Id: I8ec95d576417c32a57aa0298789dac6afb0cca02\nBlueprint: use-placement-in-tree\n'}, {'number': 4, 'created': '2019-04-08 12:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10162dd7edca4b7be413f20bac48ca3997dfd89c', 'message': 'Query `in_tree` to placement\n\nThis patch adds the translation `RequestGroup.in_tree` to the\nplacement query and bumps microversion to enable it.\n\nChange-Id: I8ec95d576417c32a57aa0298789dac6afb0cca02\nBlueprint: use-placement-in-tree\n'}, {'number': 5, 'created': '2019-04-09 05:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8e24f86668107342386fbb04de0daa05e11cf6d', 'message': 'Query `in_tree` to placement\n\nThis patch adds the translation of `RequestGroup.in_tree` to the\nactual placement query and bumps microversion to enable it.\n\nChange-Id: I8ec95d576417c32a57aa0298789dac6afb0cca02\nBlueprint: use-placement-in-tree\n'}, {'number': 6, 'created': '2019-04-11 12:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25257e9f4b883bd1e42cb46002b91796f7571494', 'message': 'Query `in_tree` to placement\n\nThis patch adds the translation of `RequestGroup.in_tree` to the\nactual placement query and bumps microversion to enable it.\n\nThe release note for this change is added.\n\nChange-Id: I8ec95d576417c32a57aa0298789dac6afb0cca02\nBlueprint: use-placement-in-tree\nRelated-Bug: #1777591\n'}, {'number': 7, 'created': '2019-04-12 02:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cc04baa2dbe93745daf253dc2421be3bab0e1b1', 'message': 'Query `in_tree` to placement\n\nThis patch adds the translation of `RequestGroup.in_tree` to the\nactual placement query and bumps microversion to enable it.\n\nThe release note for this change is added.\n\nChange-Id: I8ec95d576417c32a57aa0298789dac6afb0cca02\nBlueprint: use-placement-in-tree\nRelated-Bug: #1777591\n'}, {'number': 8, 'created': '2019-04-12 08:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80ef679025123883cbf6a9c51b9fc0d989f0da9f', 'message': 'Query `in_tree` to placement\n\nThis patch adds the translation of `RequestGroup.in_tree` to the\nactual placement query and bumps microversion to enable it.\n\nThe release note for this change is added.\n\nChange-Id: I8ec95d576417c32a57aa0298789dac6afb0cca02\nBlueprint: use-placement-in-tree\nRelated-Bug: #1777591\n'}, {'number': 9, 'created': '2019-04-12 14:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c68cfe980a00740ad21d7a37f66e9d377d0d2d00', 'message': 'Query `in_tree` to placement\n\nThis patch adds the translation of `RequestGroup.in_tree` to the\nactual placement query and bumps microversion to enable it.\n\nThe release note for this change is added.\n\nChange-Id: I8ec95d576417c32a57aa0298789dac6afb0cca02\nBlueprint: use-placement-in-tree\nRelated-Bug: #1777591\n'}, {'number': 10, 'created': '2019-04-17 09:09:08.000000000', 'files': ['doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'releasenotes/notes/use-placement-in-tree-756cb20af66b08bd.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/575fd08e63119900969d1f6784034772c7ab450b', 'message': 'Query `in_tree` to placement\n\nThis patch adds the translation of `RequestGroup.in_tree` to the\nactual placement query and bumps microversion to enable it.\n\nThe release note for this change is added.\n\nChange-Id: I8ec95d576417c32a57aa0298789dac6afb0cca02\nBlueprint: use-placement-in-tree\nRelated-Bug: #1777591\n'}]",2,649535,575fd08e63119900969d1f6784034772c7ab450b,121,13,10,25625,,,0,"Query `in_tree` to placement

This patch adds the translation of `RequestGroup.in_tree` to the
actual placement query and bumps microversion to enable it.

The release note for this change is added.

Change-Id: I8ec95d576417c32a57aa0298789dac6afb0cca02
Blueprint: use-placement-in-tree
Related-Bug: #1777591
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/649535/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/scheduler/client/report.py']",3,4a02edc647c6d17632fc6653098226cd9dc58ca7,bug/1777591,INTREE_AC_VERSION = '1.31' version = INTREE_AC_VERSION,NESTED_AC_VERSION = '1.29' version = NESTED_AC_VERSION,21,6
openstack%2Fcharm-neutron-dynamic-routing~stable%2F19.04~Ib1537aa30e39c18bf35d1a4e2f050ca745047aa1,openstack/charm-neutron-dynamic-routing,stable/19.04,Ib1537aa30e39c18bf35d1a4e2f050ca745047aa1,Remove stable quagga,MERGED,2019-05-02 12:04:33.000000000,2019-05-03 08:29:57.000000000,2019-05-03 08:29:57.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 12:04:33.000000000', 'files': ['src/tests/bundles/bionic-queens-functional.yaml', 'src/tests/bundles/xenial-queens-functional.yaml', 'src/tests/bundles/disco-stein-functional.yaml', 'src/tests/bundles/xenial-ocata-functional.yaml', 'src/tests/bundles/cosmic-rocky-functional.yaml', 'src/tests/bundles/xenial-pike-functional.yaml', 'src/tests/bundles/bionic-stein-functional.yaml', 'src/tests/bundles/bionic-rocky-functional.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/9f6ec596ca17ce4a9bfe8f6cec863b4eee074e2e', 'message': ""Remove stable quagga\n\nThe quagga charm isn't deployed as a stable, promulgated\ncharm. This change removes the requirement for releaseing\nit and points at the existing charm\n\nChange-Id: Ib1537aa30e39c18bf35d1a4e2f050ca745047aa1\n""}]",0,656766,9f6ec596ca17ce4a9bfe8f6cec863b4eee074e2e,9,4,1,20634,,,0,"Remove stable quagga

The quagga charm isn't deployed as a stable, promulgated
charm. This change removes the requirement for releaseing
it and points at the existing charm

Change-Id: Ib1537aa30e39c18bf35d1a4e2f050ca745047aa1
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/66/656766/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-queens-functional.yaml', 'src/tests/bundles/xenial-queens-functional.yaml', 'src/tests/bundles/disco-stein-functional.yaml', 'src/tests/bundles/xenial-ocata-functional.yaml', 'src/tests/bundles/cosmic-rocky-functional.yaml', 'src/tests/bundles/bionic-stein-functional.yaml', 'src/tests/bundles/xenial-pike-functional.yaml', 'src/tests/bundles/bionic-rocky-functional.yaml']",8,9f6ec596ca17ce4a9bfe8f6cec863b4eee074e2e,, charm: cs:~openstack-charmers-next/quagga, charm: cs:bionic/quagga,8,8
openstack%2Fopenstack-ansible-os_mistral~stable%2Frocky~Iec4a8e2eee7ac864142ae376653ac082082aad3c,openstack/openstack-ansible-os_mistral,stable/rocky,Iec4a8e2eee7ac864142ae376653ac082082aad3c,[DNM] - Testing gates,ABANDONED,2019-04-15 13:36:48.000000000,2019-05-03 08:18:28.000000000,,"[{'_account_id': 21883}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 13:36:48.000000000', 'files': ['vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/f78c7bc29b24b8716af4c4491227935fe792fc17', 'message': '[DNM] - Testing gates\n\nChange-Id: Iec4a8e2eee7ac864142ae376653ac082082aad3c\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",0,652661,f78c7bc29b24b8716af4c4491227935fe792fc17,5,2,1,21883,,,0,"[DNM] - Testing gates

Change-Id: Iec4a8e2eee7ac864142ae376653ac082082aad3c
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/61/652661/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu.yml'],1,f78c7bc29b24b8716af4c4491227935fe792fc17,, - tcpdump,,1,0
openstack%2Fnova~master~I9944398c38d11466d27c2a4b24035b26d264b000,openstack/nova,master,I9944398c38d11466d27c2a4b24035b26d264b000,Only call _fill_provider_mapping if claim succeeds,MERGED,2019-03-29 12:49:56.000000000,2019-05-03 08:09:45.000000000,2019-05-02 12:53:47.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-29 12:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cf79e47290630271597faa610d6203e8b734854', 'message': 'Only call _fill_provider_mapping if claim succeeds\n\nDuring re-schedule condutor takes the next Selecton object from the\nhost list and tries to allocate the requested resources on the host in\nthe Selection object. So far the conductor also tried to find the\nresource provide mapping for such allocation even if the resource claim\nis failed. This is unnecessary. This patch makes sure that mapping is\ntried to be calculated if the claim succeeds first.\n\nChange-Id: I9944398c38d11466d27c2a4b24035b26d264b000\nCloses-Bug: #1822262\n'}, {'number': 2, 'created': '2019-03-29 14:57:52.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a9324ad84c6ef9b645643e8087f0f200d0ab1e88', 'message': 'Only call _fill_provider_mapping if claim succeeds\n\nDuring re-schedule condutor takes the next Selecton object from the\nhost list and tries to allocate the requested resources on the host in\nthe Selection object. So far the conductor also tried to find the\nresource provide mapping for such allocation even if the resource claim\nis failed. This is unnecessary. This patch makes sure that mapping is\ntried to be calculated if the claim succeeds first.\n\nChange-Id: I9944398c38d11466d27c2a4b24035b26d264b000\nCloses-Bug: #1822262\n'}]",1,648676,a9324ad84c6ef9b645643e8087f0f200d0ab1e88,64,15,2,9708,,,0,"Only call _fill_provider_mapping if claim succeeds

During re-schedule condutor takes the next Selecton object from the
host list and tries to allocate the requested resources on the host in
the Selection object. So far the conductor also tried to find the
resource provide mapping for such allocation even if the resource claim
is failed. This is unnecessary. This patch makes sure that mapping is
tried to be calculated if the claim succeeds first.

Change-Id: I9944398c38d11466d27c2a4b24035b26d264b000
Closes-Bug: #1822262
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/648676/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,9cf79e47290630271597faa610d6203e8b734854,bug/1822262, if request_spec and host_available:, if request_spec:,83,1
openstack%2Fopenstack-manuals~master~Ia5a0344065a880e93ec39b4e6699b23b6582c3cd,openstack/openstack-manuals,master,Ia5a0344065a880e93ec39b4e6699b23b6582c3cd,"typos fixed, stein repo added",MERGED,2019-05-02 22:54:06.000000000,2019-05-03 07:17:30.000000000,2019-05-03 07:17:30.000000000,"[{'_account_id': 6547}, {'_account_id': 10068}, {'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-05-02 22:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ec4038fe2d3dd594484110e58863aaadd5541fb5', 'message': 'typos fixed, stein repo added\n\nChange-Id: Ia5a0344065a880e93ec39b4e6699b23b6582c3cd\n'}, {'number': 2, 'created': '2019-05-02 23:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2f26ac2636bf8b2b62834bcc6c79f4bca7e1a8a7', 'message': 'typos fixed, stein repo added\n\n- corrected headline\n- package software-properties-common is no longer needed since Ubuntu 18.04 LTS\n- added new section reflecting Stein repo enabling\n\nChange-Id: Ia5a0344065a880e93ec39b4e6699b23b6582c3cd\n'}, {'number': 3, 'created': '2019-05-03 00:06:43.000000000', 'files': ['doc/install-guide/source/environment-packages-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/fa5333bbb37a0550dac02b7f621238d7f63fb728', 'message': 'typos fixed, stein repo added\n\n- corrected headline\n- package software-properties-common is no longer needed since Ubuntu\n  18.04 LTS\n- added new section reflecting Stein repo enabling\n- clarify dependencies of OpenStack versions to Ubuntu Cloud Archive\n  versions\n\nChange-Id: Ia5a0344065a880e93ec39b4e6699b23b6582c3cd\n'}]",0,656899,fa5333bbb37a0550dac02b7f621238d7f63fb728,21,6,3,30365,,,0,"typos fixed, stein repo added

- corrected headline
- package software-properties-common is no longer needed since Ubuntu
  18.04 LTS
- added new section reflecting Stein repo enabling
- clarify dependencies of OpenStack versions to Ubuntu Cloud Archive
  versions

Change-Id: Ia5a0344065a880e93ec39b4e6699b23b6582c3cd
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/99/656899/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/environment-packages-ubuntu.rst'],1,ec4038fe2d3dd594484110e58863aaadd5541fb5,,having to enable an Ubuntu Cloud Archive packet.Enable the Ubuntu Cloud Archive packet as needed**OpenStack Stein for Ubuntu 18.04 LTS:** .. code-block:: console # add-apt-repository cloud-archive:stein ,having to enable an Ubuntu Cloud Archive pocket.Enable the Ubuntu Cloud Archive pocket as needed,8,2
openstack%2Fproject-config~master~I10e5b1a942982265163bf4b37e8183dcc8cd9e36,openstack/project-config,master,I10e5b1a942982265163bf4b37e8183dcc8cd9e36,Retire cloud-init,ABANDONED,2016-11-02 17:46:46.000000000,2019-05-03 07:03:44.000000000,,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1082}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 7979}, {'_account_id': 13252}]","[{'number': 1, 'created': '2016-11-02 17:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3f590ea815d2add7c022f20bdc363e99e4626111', 'message': 'DNM: Retire cloud-init\n\nThis change should depend on a forthcoming content change to the\ncloud-init repo announcing the current development location.\n\nUpdate this change with a Depends-On once it is created.\n\nChange-Id: I10e5b1a942982265163bf4b37e8183dcc8cd9e36\n'}, {'number': 2, 'created': '2016-11-02 18:08:48.000000000', 'files': ['gerrit/acls/openstack/cloud-init.config', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/85f4da71e2540462ff5c9ac648194cfe2ee8d8b6', 'message': 'Retire cloud-init\n\nChange-Id: I10e5b1a942982265163bf4b37e8183dcc8cd9e36\nDepends-On: If458e2fc4132c7fde4aca0243cfff20badd25f38'}]",0,392903,85f4da71e2540462ff5c9ac648194cfe2ee8d8b6,13,8,2,1,,,0,"Retire cloud-init

Change-Id: I10e5b1a942982265163bf4b37e8183dcc8cd9e36
Depends-On: If458e2fc4132c7fde4aca0243cfff20badd25f38",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/392903/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/cloud-init.config', 'zuul/layout.yaml']",2,3f590ea815d2add7c022f20bdc363e99e4626111,,, - name: openstack/cloud-init template: - name: merge-check - name: noop-jobs ,2,20
openstack%2Fglance~master~Ibe48a4ea537915bc6ce142812354b1d3b3ab1cf7,openstack/glance,master,Ibe48a4ea537915bc6ce142812354b1d3b3ab1cf7,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-22 03:01:13.000000000,2019-05-03 06:59:50.000000000,2019-05-03 06:59:50.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9414}, {'_account_id': 11904}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-22 03:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/37e320546c2abbe2a8f83881bfa348b3a2b99f5f', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org\ncounterparts.\n\nChange-Id: Ibe48a4ea537915bc6ce142812354b1d3b3ab1cf7\n'}, {'number': 2, 'created': '2019-04-24 01:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e85985263860b4e83f3bc797a84f5db254b50754', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org\ncounterparts.\n\nChange-Id: Ibe48a4ea537915bc6ce142812354b1d3b3ab1cf7\n'}, {'number': 3, 'created': '2019-04-25 02:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eca8e10112f9d4558257d3922343ad8b57e78d30', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org\ncounterparts.\n\nChange-Id: Ibe48a4ea537915bc6ce142812354b1d3b3ab1cf7\n'}, {'number': 4, 'created': '2019-04-28 01:38:50.000000000', 'files': ['glance/db/sqlalchemy/migrate_repo/README', 'doc/source/contributor/database_migrations.rst', 'doc/source/contributor/blueprints.rst', 'doc/source/contributor/release-cpl.rst', 'doc/source/admin/db.rst', 'glance/async_/utils.py', 'doc/source/admin/interoperable-image-import.rst', 'api-ref/source/v2/samples/metadef-namespaces-list-response.json', 'tox.ini', 'etc/metadefs/compute-vcputopology.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/8e16e3a857dcfc1d0db612dbc69e24947f0aeebc', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org\ncounterparts.\n\nChange-Id: Ibe48a4ea537915bc6ce142812354b1d3b3ab1cf7\n'}]",2,654277,8e16e3a857dcfc1d0db612dbc69e24947f0aeebc,44,7,4,9414,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Thorough replacement of git.openstack.org URLs with their opendev.org
counterparts.

Change-Id: Ibe48a4ea537915bc6ce142812354b1d3b3ab1cf7
",git fetch https://review.opendev.org/openstack/glance refs/changes/77/654277/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/db/sqlalchemy/migrate_repo/README', 'doc/source/contributor/database_migrations.rst', 'doc/source/contributor/blueprints.rst', 'releasenotes/notes/use-cursive-c6b15d94845232da.yaml', 'doc/source/admin/db.rst', 'releasenotes/notes/deprecate-show-multiple-location-continued-646f91b21cd771f7.yaml', 'releasenotes/notes/queens-metadefs-changes-daf02bef18d049f4.yaml', 'doc/source/admin/interoperable-image-import.rst', 'etc/metadefs/compute-vcputopology.json', 'releasenotes/notes/pike-rc-1-a5d3f6e8877b52c6.yaml', 'doc/source/contributor/release-cpl.rst', 'releasenotes/notes/glare-ectomy-72a1f80f306f2e3b.yaml', 'glance/async_/utils.py', 'releasenotes/notes/pike-metadefs-changes-95b54e0bf8bbefd6.yaml', 'api-ref/source/v2/samples/metadef-namespaces-list-response.json', 'tox.ini']",16,37e320546c2abbe2a8f83881bfa348b3a2b99f5f,opendev,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},32,32
openstack%2Ftripleo-heat-templates~master~Ic0b652fc5062a39edc92658c399d3479c86fa91f,openstack/tripleo-heat-templates,master,Ic0b652fc5062a39edc92658c399d3479c86fa91f,WIP - Switch Neutron DHCP agent to use SystemD wrappers,ABANDONED,2018-11-12 23:32:20.000000000,2019-05-03 05:40:34.000000000,,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 8871}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-12 23:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67eb1d7b715f823cc37bc207a059892f5704720f', 'message': 'WIP - Switch Neutron DHCP dnsmasq to use SystemD wrapper\n\nThis is WIP now but it aims to use the new Ansible role to configure the\nwrapper.\n\nChange-Id: Ic0b652fc5062a39edc92658c399d3479c86fa91f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nDepends-On: I4821b7ca0260e4dfd1717ba976cef700d160f84f\n'}, {'number': 2, 'created': '2018-11-13 17:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2202fd00fc01d3beb446e7e7984959c2cdcc8a24', 'message': 'WIP - Switch Neutron DHCP dnsmasq to use SystemD wrapper\n\nThis is WIP now but it aims to use the new Ansible role to configure the\nwrapper.\n\nChange-Id: Ic0b652fc5062a39edc92658c399d3479c86fa91f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nDepends-On: I4821b7ca0260e4dfd1717ba976cef700d160f84f\n'}, {'number': 3, 'created': '2018-11-14 23:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fd1d51c228da988474c51ba3230894604e4d653', 'message': 'WIP - Switch Neutron DHCP agent to use SystemD wrappers\n\nThis is WIP now but it aims to use the new Ansible role to configure the\nwrapper.\n\nChange-Id: Ic0b652fc5062a39edc92658c399d3479c86fa91f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nDepends-On: I4821b7ca0260e4dfd1717ba976cef700d160f84f\n'}, {'number': 4, 'created': '2018-11-15 12:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec530fb6c2e3153e8206d3d517c38b6b435acfd8', 'message': 'WIP - Switch Neutron DHCP agent to use SystemD wrappers\n\nThis is WIP now but it aims to use the new Ansible role to configure the\nwrapper.\n\nChange-Id: Ic0b652fc5062a39edc92658c399d3479c86fa91f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nDepends-On: I4821b7ca0260e4dfd1717ba976cef700d160f84f\n'}, {'number': 5, 'created': '2018-11-16 20:24:17.000000000', 'files': ['docker/services/neutron-dhcp.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc5012467c49e4444308428de98c51a0b924c0d1', 'message': 'WIP - Switch Neutron DHCP agent to use SystemD wrappers\n\nThis is WIP now but it aims to use the new Ansible role to configure the\nwrapper.\n\nChange-Id: Ic0b652fc5062a39edc92658c399d3479c86fa91f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nDepends-On: I4821b7ca0260e4dfd1717ba976cef700d160f84f\n'}]",1,617393,bc5012467c49e4444308428de98c51a0b924c0d1,23,4,5,3153,,,0,"WIP - Switch Neutron DHCP agent to use SystemD wrappers

This is WIP now but it aims to use the new Ansible role to configure the
wrapper.

Change-Id: Ic0b652fc5062a39edc92658c399d3479c86fa91f
Co-Authored-By: Dan Prince <dprince@redhat.com>
Depends-On: I4821b7ca0260e4dfd1717ba976cef700d160f84f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/617393/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/neutron-dhcp.yaml'],1,67eb1d7b715f823cc37bc207a059892f5704720f,systemd-wrappers," - - /var/lib/neutron/neutron-dnsmasq-wrapper:/usr/local/bin/dnsmasq:ro deploy_steps_tasks: - name: Create DHCP agent wrappers when: step|int == 2 import_role: name: tripleo-systemd-wrapper vars: systemd_wrapper_service_name: neutron-dnsmasq systemd_wrapper_service_dir: /var/lib/neutron systemd_wrapper_config_bind_mount: ""/var/lib/config-data/puppet-generated/neutron/etc/neutron:/etc/neutron:ro"" systemd_wrapper_image_name: {get_param: DockerNeutronDHCPImage} systemd_wrapper_cmd: ""/usr/sbin/dnsmasq -k"""," step_2: create_dnsmasq_wrapper: start_order: 1 detach: false net: host pid: host user: root command: # '/docker_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/docker_puppet_apply.sh' - '4' - 'file' - 'include ::tripleo::profile::base::neutron::dhcp_agent_wrappers' image: {get_param: DockerNeutronDHCPImage} volumes: list_concat: - {get_attr: [ContainersCommon, docker_puppet_apply_volumes]} - - /run/openvswitch:/run/openvswitch:z - /var/lib/neutron:/var/lib/neutron:z - - /var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro",12,22
openstack%2Fnetworking-midonet~stable%2Fpike~I9b77c178fff88f3e5a827abf79ed51efb2cecbb5,openstack/networking-midonet,stable/pike,I9b77c178fff88f3e5a827abf79ed51efb2cecbb5,[stable-only] Install x/tap-as-a-service,MERGED,2019-04-25 14:12:56.000000000,2019-05-03 04:42:32.000000000,2019-05-03 04:42:32.000000000,"[{'_account_id': 1131}, {'_account_id': 6854}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 14:12:56.000000000', 'files': ['tools/tox_install_project.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/59c869583b135fb84997c76cc2de99f290935d5e', 'message': ""[stable-only] Install x/tap-as-a-service\n\nAs the repos have been moved to OpenDev some are not under 'openstack'\nnamespace anymore, but under 'x' namespace, like 'x/tap-as-a-service'.\n\nThis is handled in zuul, but in old branches where there are still\ntox_install.sh and tox_install_project.sh this change cause problem.\n\nChange-Id: I9b77c178fff88f3e5a827abf79ed51efb2cecbb5\n""}]",0,655701,59c869583b135fb84997c76cc2de99f290935d5e,12,7,1,17685,,,0,"[stable-only] Install x/tap-as-a-service

As the repos have been moved to OpenDev some are not under 'openstack'
namespace anymore, but under 'x' namespace, like 'x/tap-as-a-service'.

This is handled in zuul, but in old branches where there are still
tox_install.sh and tox_install_project.sh this change cause problem.

Change-Id: I9b77c178fff88f3e5a827abf79ed51efb2cecbb5
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/01/655701/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install_project.sh'],1,59c869583b135fb84997c76cc2de99f290935d5e,fix-periodic,"# as the git repos moved to OpenDev tap-as-a-service is now # x/tap-as-a-service instead of openstack/tap-as-a-service if [ ""$PROJ"" == ""tap-as-a-service"" ]; then NAMESPACE=x else NAMESPACE=openstack fi https://opendev.org \ ${NAMESPACE}/${PROJ} cd ${NAMESPACE}/${PROJ}", https://git.openstack.org \ openstack/${PROJ} cd openstack/${PROJ},11,3
openstack%2Fneutron~stable%2Frocky~Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1,openstack/neutron,stable/rocky,Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1,Move subnet postcommit out of transaction for bulk create,MERGED,2019-04-23 11:14:32.000000000,2019-05-03 03:25:59.000000000,2019-05-03 03:25:59.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-23 11:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/707901e55df526314e95a900e95652ad7312e4a5', 'message': 'Move subnet postcommit out of transaction for bulk create\n\nFor auto-address IPv6 subnets postcommit has update port action\nif the net already has ports. This results in\n""cannot be called within a transaction"" error for bulk IPv6 subnet\ncreate.\n\nCloses-Bug: #1822582\nChange-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1\n'}, {'number': 2, 'created': '2019-04-25 08:17:43.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d080a805c178f227a9e2469d64daaa763b75289c', 'message': 'Move subnet postcommit out of transaction for bulk create\n\nFor auto-address IPv6 subnets postcommit has update port action\nif the net already has ports. This results in\n""cannot be called within a transaction"" error for bulk IPv6 subnet\ncreate.\n\nCloses-Bug: #1822582\nChange-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1\n(cherry picked from commit 14c76d31814b8e696349a1c00ba65ef2919b48af)\n'}]",0,654957,d080a805c178f227a9e2469d64daaa763b75289c,32,6,2,5948,,,0,"Move subnet postcommit out of transaction for bulk create

For auto-address IPv6 subnets postcommit has update port action
if the net already has ports. This results in
""cannot be called within a transaction"" error for bulk IPv6 subnet
create.

Closes-Bug: #1822582
Change-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1
(cherry picked from commit 14c76d31814b8e696349a1c00ba65ef2919b48af)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/654957/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py']",4,707901e55df526314e95a900e95652ad7312e4a5,bug/1822582-stable/stein-stable/rocky," # db base plugin post commit ops self._create_subnet_postcommit(context, result) "," # TODO(kevinbenton): move this to '_after_subnet_create' # db base plugin post commit ops self._create_subnet_postcommit(context, result, net_db, ipam_sub) ",53,6
openstack%2Ftacker~master~I6c273be62735d46221130a1da4d3672fdea77e01,openstack/tacker,master,I6c273be62735d46221130a1da4d3672fdea77e01,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:40:25.000000000,2019-05-03 02:25:43.000000000,2019-05-03 02:25:43.000000000,"[{'_account_id': 8556}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-23 11:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c4efc61e19f67191ffa928d8c0e37b46af0b4dc2', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I6c273be62735d46221130a1da4d3672fdea77e01\n'}, {'number': 2, 'created': '2019-04-26 10:08:04.000000000', 'files': ['devstack/local.conf.example', 'tools/vnfc/build_image.sh', 'README.rst', 'doc/source/user/alarm_monitoring_usage_guide.rst', 'devstack/local.conf.kubernetes', 'devstack/settings', 'CONTRIBUTING.rst', 'devstack/local.conf.standalone', 'doc/source/index.rst', 'doc/source/contributor/api_layer.rst', 'doc/source/install/kubernetes_vim_installation.rst', 'doc/source/contributor/dashboards.rst', 'doc/source/contributor/encrypt_vim_auth_with_barbican.rst', 'tox.ini', 'doc/source/contributor/development.environment.rst', 'doc/source/install/devstack.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/1ebb081e8fad5056a74469d1d8b1b3df6b6edfdd', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I6c273be62735d46221130a1da4d3672fdea77e01\n'}]",3,655078,1ebb081e8fad5056a74469d1d8b1b3df6b6edfdd,11,5,2,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I6c273be62735d46221130a1da4d3672fdea77e01
",git fetch https://review.opendev.org/openstack/tacker refs/changes/78/655078/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/contributor/api_layer.rst', 'README.rst', 'tox.ini', 'devstack/settings', 'doc/source/contributor/development.environment.rst']",7,c4efc61e19f67191ffa928d8c0e37b46af0b4dc2,,.. _DevStack: https://opendev.org/openstack-dev/devstack,.. _DevStack: https://git.openstack.org/cgit/openstack-dev/devstack,18,18
openstack%2Fcinder~master~Idda5512d8e35da401ee232524ec1d1fcd03bf9e2,openstack/cinder,master,Idda5512d8e35da401ee232524ec1d1fcd03bf9e2,3PAR: Provide an option duing creation of volume from snapshot,MERGED,2019-01-31 07:42:27.000000000,2019-05-03 02:00:51.000000000,2019-04-25 16:45:38.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22664}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29122}, {'_account_id': 29502}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-31 07:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a3ccf79d4f2f6377eb8f1eeaa40f56f556178ff', 'message': '3PAR : Creation of volume from snapshot\n\nA new extra spec has been added on the volume.\nName - hpe3par:convert_to_base\nValue - True/False; defaults to True\n\nTrue: Volume (from snapshot) is created independently i.e HOS8 behavior\nFalse: Volume (from snapshot) is created as child of snapshot i.e HOS5 behavior\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 2, 'created': '2019-01-31 13:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d5af4a8d3532eda31336cbec50385a4f09a6270', 'message': '3PAR: Provide capability to create volume either as a snapshot/independent copy\n\nA new extra spec has been added on the volume.\nName - hpe3par:convert_to_base\nValue - True/False; defaults to True\n\nTrue: Volume (from snapshot) is created independently\nFalse: Volume (from snapshot) is created as child of snapshot\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 3, 'created': '2019-02-01 12:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c634c8e1b7f3a6f9c146019ff26ae1d6c974d64c', 'message': '3PAR: Provide capability to create volume either as a snapshot/independent copy\n\nA new extra spec has been added on the volume.\nName - hpe3par:convert_to_base\nValue - True/False; defaults to True\n\nTrue: Volume (from snapshot) is created independently\nFalse: Volume (from snapshot) is created as child of snapshot\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 4, 'created': '2019-02-04 09:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebe503d8d07ac0252b754a18fc57bdb4d69c4634', 'message': '3PAR: Provide capability to create volume either as a snapshot/independent copy\n\nA new extra spec has been added on the volume.\nName - hpe3par:convert_to_base\nValue - True/False; defaults to True\n\nTrue: Volume (from snapshot) is created independently\nFalse: Volume (from snapshot) is created as child of snapshot\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 5, 'created': '2019-02-08 12:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb659af1a2c852e921f5cebb9cd2d4754f65175a', 'message': '3PAR: Provide capability to create volume either as a snapshot/independent copy\n\nA new extra spec has been added on the volume.\nName - hpe3par:convert_to_base\nValue - True/False; defaults to True\n\nTrue: Volume (from snapshot) is created independently\nFalse: Volume (from snapshot) is created as child of snapshot\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 6, 'created': '2019-02-14 10:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2dec808f2a93adfd30aeff5fce49b05224b2b52b', 'message': '3PAR: Provide capability to create volume either as a snapshot/independent copy\n\nA new extra spec has been added on the volume.\nName - hpe3par:convert_to_base\nValue - True/False; defaults to True\n\nTrue: Volume (from snapshot) is created independently\nV1\n|\n`--S1\n|\nV2\n\nAdvantage is that new volumes are decoupled from initial snapshot and original volume.\nIt is useful where instances are launched for longer/unpredictable time frame (e.g. Public providers).\n\nFalse: Volume (from snapshot) is created as child of snapshot\nV1\n|\n`--S1\n   |\n   `--V2\n\nAdvantage is that new volumes can be created quickly.\nIt is useful where plenty of similar instances are launched for short time frame (e.g. R&D testing).\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 7, 'created': '2019-02-14 10:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb00f38a6d06a4493c0f72486249b71dc8a485e5', 'message': '3PAR: Provide capability to create volume either as a snapshot/independent copy\n\nA new extra spec has been added on the volume.\nName - hpe3par:convert_to_base\nValue - True/False; defaults to True\n\nTrue: Volume (from snapshot) is created independently\nAdvantage: new volumes are decoupled from initial snapshot and original volume\nUsage: where instances are launched for longer/unpredictable time frame\n(e.g. Public providers)\n\nFalse: Volume (from snapshot) is created as child of snapshot\nAdvantage: new volumes can be created quickly\nUsage: where plenty of similar instances are launched for short time frame\n(e.g. R&D testing)\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 8, 'created': '2019-02-14 10:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c38bbe0f20ad1ab6e86dc8675203e2513daf636', 'message': '3PAR: Provide capability to create volume either as a snapshot/independent copy\n\nA new extra spec has been added on the volume.\nName - hpe3par:convert_to_base\nValue - True/False; defaults to True\n\nTrue: Volume (from snapshot) is created independently\nAdvantage: new volumes are decoupled from initial snapshot and original volume\nUsage: where instances are launched for longer/unpredictable time frame\n\nFalse: Volume (from snapshot) is created as child of snapshot\nAdvantage: new volumes can be created quickly\nUsage: where plenty of similar instances are launched for short time frame\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 9, 'created': '2019-02-15 06:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e240da74219f7350b785f4813887299b36b07866', 'message': '3PAR: Provide an option duing creation of volume from snapshot\n\nA new extra spec has been added on the volume.\nWhile creating volume from snapshot, its value is checked and\nvolume is created either as a snapshot/independent copy.\n\nDetails of extra spec:\nName - hpe3par:convert_to_base\nValue - True/False; defaults to True\n\nTrue: Volume (from snapshot) is created independently\nAdvantage: new volumes are decoupled from initial snapshot and original\nvolume\nUsage: where instances are launched for longer/unpredictable time frame\n\nFalse: Volume (from snapshot) is created as child of snapshot\nAdvantage: new volumes can be created quickly\nUsage: where many similar instances are launched for short time frame\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 10, 'created': '2019-02-18 09:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e242bf045228117569ec71463cb72d554eed664b', 'message': '3PAR: Provide an option duing creation of volume from snapshot\n\nA new extra spec has been added on the volume.\nWhile creating volume from snapshot, its value is checked and\nvolume is created either as a snapshot/independent copy.\n\nDetails of extra spec:\nName - hpe3par:convert_to_base\nValue - True/False; defaults to True\n\nTrue: Volume (from snapshot) is created independently\nAdvantage: new volumes are decoupled from initial snapshot and original\nvolume\nUsage: where instances are launched for longer/unpredictable time frame\n\nFalse: Volume (from snapshot) is created as child of snapshot\nAdvantage: new volumes can be created quickly\nUsage: where many similar instances are launched for short time frame\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 11, 'created': '2019-04-04 13:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c363de9bcd47f94f60d6ba489903f2ae83a5264b', 'message': '3PAR: Provide an option duing creation of volume from snapshot\n\nA new extra spec has been added on the volume.\nWhile creating volume from snapshot, its value is checked and\nvolume is created either as a snapshot/independent copy.\n\nDetails of extra spec:\nName - hpe3par:convert_to_base\nValue - True/False; defaults to True\n\nTrue: Volume (from snapshot) is created independently\nAdvantage: new volumes are decoupled from initial snapshot and original\nvolume\nUsage: where instances are launched for longer/unpredictable time frame\n\nFalse: Volume (from snapshot) is created as child of snapshot\nAdvantage: new volumes can be created quickly\nUsage: where many similar instances are launched for short time frame\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 12, 'created': '2019-04-11 11:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/575199b42f33f53a12cc73c0dfc126fe61e9b478', 'message': '3PAR: Provide an option duing creation of volume from snapshot\n\nA new extra spec has been added on the volume.\nWhile creating volume from snapshot, its value is checked and\nvolume is created either as a snapshot/independent copy.\n\nDetails of extra spec:\nName - hpe3par:convert_to_base\nValue - True/False; defaults to False\n\nTrue: Volume (from snapshot) is created independently\nAdvantage: new volumes are decoupled from initial snapshot and original\nvolume\nUsage: where instances are launched for longer/unpredictable time frame\n\nFalse: Volume (from snapshot) is created as child of snapshot\nAdvantage: new volumes can be created quickly\nUsage: where many similar instances are launched for short time frame\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 13, 'created': '2019-04-12 10:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d06e9a6652be9c88c649640b0bc1623346ebfc72', 'message': '3PAR: Provide an option duing creation of volume from snapshot\n\nA new extra spec has been added on the volume.\nWhile creating volume from snapshot, its value is checked and\nvolume is created either as a snapshot/independent copy.\n\nDetails of extra spec:\nName - hpe3par:convert_to_base\nValue - True/False; defaults to False\n\nTrue: Volume (from snapshot) is created independently\nAdvantage: new volumes are decoupled from initial snapshot and original\nvolume\nUsage: where instances are launched for longer/unpredictable time frame\n\nFalse: Volume (from snapshot) is created as child of snapshot\nAdvantage: new volumes can be created quickly\nUsage: where many similar instances are launched for short time frame\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}, {'number': 14, 'created': '2019-04-17 11:23:47.000000000', 'files': ['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8084991284acfd8e0cd80ed456a83bcec6d5dcc', 'message': '3PAR: Provide an option duing creation of volume from snapshot\n\nA new extra spec has been added on the volume.\nWhile creating volume from snapshot, its value is checked and\nvolume is created either as a snapshot/independent copy.\n\nDetails of extra spec:\nName - hpe3par:convert_to_base\nValue - True/False; defaults to False\n\nTrue: Volume (from snapshot) is created independently\nAdvantage: new volumes are decoupled from initial snapshot and original\nvolume\nUsage: where instances are launched for longer/unpredictable time frame\n\nFalse: Volume (from snapshot) is created as child of snapshot\nAdvantage: new volumes can be created quickly\nUsage: where many similar instances are launched for short time frame\n\nChange-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\nCloses-Bug: #1814027\n'}]",47,634119,f8084991284acfd8e0cd80ed456a83bcec6d5dcc,458,51,14,29122,,,0,"3PAR: Provide an option duing creation of volume from snapshot

A new extra spec has been added on the volume.
While creating volume from snapshot, its value is checked and
volume is created either as a snapshot/independent copy.

Details of extra spec:
Name - hpe3par:convert_to_base
Value - True/False; defaults to False

True: Volume (from snapshot) is created independently
Advantage: new volumes are decoupled from initial snapshot and original
volume
Usage: where instances are launched for longer/unpredictable time frame

False: Volume (from snapshot) is created as child of snapshot
Advantage: new volumes can be created quickly
Usage: where many similar instances are launched for short time frame

Change-Id: Idda5512d8e35da401ee232524ec1d1fcd03bf9e2
Closes-Bug: #1814027
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/634119/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",2,2a3ccf79d4f2f6377eb8f1eeaa40f56f556178ff,bug/1814027," 4.0.11 - Added extra spec hpe3par:convert_to_base VERSION = ""4.0.11"" 'flash_cache', 'compression', 'group_replication', 'convert_to_base'] # by default, follow HOS8 behaviour i.e convert_to_base is True convert_to_base = self._get_key_value(hpe3par_keys, 'convert_to_base', 'True') 'group_replication': hpe3par_tiramisu, 'convert_to_base': convert_to_base} convert_to_base = type_info['convert_to_base'] convert_to_base = self._get_key_value(hpe3par_keys, 'convert_to_base', 'True') LOG.debug(""convert_to_base: "" + convert_to_base) if convert_to_base.lower() == 'true': # Convert snapshot volume to base volume type LOG.debug('Converting to base volume type: %s.', volume['id']) model_update = self._convert_to_base_volume(volume) else: LOG.debug(""volume is created as child of snapshot"") LOG.debug(""Size of volume is greater than snapshot"") if convert_to_base.lower() == 'false': # Convert snapshot volume to base volume type LOG.debug('Converting to base volume type: %s.', volume['id']) model_update = self._convert_to_base_volume(volume) "," VERSION = ""4.0.10"" 'flash_cache', 'compression', 'group_replication'] 'group_replication': hpe3par_tiramisu} # Convert snapshot volume to base volume type LOG.debug('Converting to base volume type: %s.', volume['id']) model_update = self._convert_to_base_volume(volume)",246,7
openstack%2Ftripleo-heat-templates~stable%2Fstein~I3d7b43db67434c8a7331c712f04b61cff14b993e,openstack/tripleo-heat-templates,stable/stein,I3d7b43db67434c8a7331c712f04b61cff14b993e,Change setype for non container /var/log/nova-placement,MERGED,2019-05-02 17:10:07.000000000,2019-05-03 00:58:06.000000000,2019-05-03 00:58:06.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 17:10:07.000000000', 'files': ['deployment/logging/files/nova-placement.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e36f4918399d4910548b77f1721903239e4baca', 'message': 'Change setype for non container /var/log/nova-placement\n\nI870f6f5286ac9222d6d8fbdcb48fe6b6559993ba changes the setype to\nvar_log_t for the other services. Since nova-placement was\nremoved in train the backport does not change it.\n\nThis is a stein and lower fix to change it also for nova-placment.\n\n/var/log/<service> is not used by containers, therefore setype\nsvirt_sandbox_file_t is not required. This changes it to the\ndefault var_log_t.\n\nChange-Id: I3d7b43db67434c8a7331c712f04b61cff14b993e\n'}]",0,656814,4e36f4918399d4910548b77f1721903239e4baca,8,4,1,17216,,,0,"Change setype for non container /var/log/nova-placement

I870f6f5286ac9222d6d8fbdcb48fe6b6559993ba changes the setype to
var_log_t for the other services. Since nova-placement was
removed in train the backport does not change it.

This is a stein and lower fix to change it also for nova-placment.

/var/log/<service> is not used by containers, therefore setype
svirt_sandbox_file_t is not required. This changes it to the
default var_log_t.

Change-Id: I3d7b43db67434c8a7331c712f04b61cff14b993e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/656814/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logging/files/nova-placement.yaml'],1,4e36f4918399d4910548b77f1721903239e4baca,logging_setype_nova-placement," - { 'path': /var/log/nova, 'setype': var_log_t }"," - { 'path': /var/log/nova, 'setype': svirt_sandbox_file_t }",1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I870f6f5286ac9222d6d8fbdcb48fe6b6559993ba,openstack/tripleo-heat-templates,stable/stein,I870f6f5286ac9222d6d8fbdcb48fe6b6559993ba,Change setype for non container /var/log/<service> directories,MERGED,2019-05-01 14:50:43.000000000,2019-05-03 00:58:05.000000000,2019-05-03 00:58:04.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-01 14:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c7c337ef3cfb448e857e0cd8fd3604f215e58a8', 'message': 'Change setype for non container /var/log/<service> directories\n\n/var/log/<service> is not used by containers, therefore setype\nsvirt_sandbox_file_t is not required. This changes it to the\ndefault var_log_t.\n\nChange-Id: I870f6f5286ac9222d6d8fbdcb48fe6b6559993ba\n(cherry picked from commit 5906f45ffec42b5b010ef1c8b3352ba521ce9d2a)\n'}, {'number': 2, 'created': '2019-05-02 17:10:07.000000000', 'files': ['deployment/logging/files/panko-api.yaml', 'deployment/logging/files/heat-api.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/logging/files/opendaylight-api.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/logging/files/barbican-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2093cca4033f2d1e0ce06424b59cab12ccdc878c', 'message': 'Change setype for non container /var/log/<service> directories\n\n/var/log/<service> is not used by containers, therefore setype\nsvirt_sandbox_file_t is not required. This changes it to the\ndefault var_log_t.\n\nChange-Id: I870f6f5286ac9222d6d8fbdcb48fe6b6559993ba\n(cherry picked from commit 5906f45ffec42b5b010ef1c8b3352ba521ce9d2a)\n'}]",0,656646,2093cca4033f2d1e0ce06424b59cab12ccdc878c,15,5,2,3153,,,0,"Change setype for non container /var/log/<service> directories

/var/log/<service> is not used by containers, therefore setype
svirt_sandbox_file_t is not required. This changes it to the
default var_log_t.

Change-Id: I870f6f5286ac9222d6d8fbdcb48fe6b6559993ba
(cherry picked from commit 5906f45ffec42b5b010ef1c8b3352ba521ce9d2a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/656646/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/logging/files/panko-api.yaml', 'deployment/logging/files/heat-api.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/logging/files/opendaylight-api.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/logging/files/barbican-api.yaml']",12,1c7c337ef3cfb448e857e0cd8fd3604f215e58a8,logging_setype_nova-placement," - { 'path': /var/log/barbican, 'setype': var_log_t }"," - { 'path': /var/log/barbican, 'setype': svirt_sandbox_file_t }",12,12
openstack%2Fnetworking-midonet~stable%2Focata~I9b77c178fff88f3e5a827abf79ed51efb2cecbb5,openstack/networking-midonet,stable/ocata,I9b77c178fff88f3e5a827abf79ed51efb2cecbb5,[stable-only] Install x/tap-as-a-service,MERGED,2019-04-26 14:58:41.000000000,2019-05-03 00:55:32.000000000,2019-05-03 00:55:32.000000000,"[{'_account_id': 1131}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 14:58:41.000000000', 'files': ['tools/tox_install_project.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/91a3eff32db1814ba6ffe18a1ae298485500c325', 'message': ""[stable-only] Install x/tap-as-a-service\n\nAs the repos have been moved to OpenDev some are not under 'openstack'\nnamespace anymore, but under 'x' namespace, like 'x/tap-as-a-service'.\n\nThis is handled in zuul, but in old branches where there are still\ntox_install.sh and tox_install_project.sh this change cause problem.\n\nChange-Id: I9b77c178fff88f3e5a827abf79ed51efb2cecbb5\n(cherry picked from commit 59c869583b135fb84997c76cc2de99f290935d5e)\n""}]",0,655919,91a3eff32db1814ba6ffe18a1ae298485500c325,10,6,1,17685,,,0,"[stable-only] Install x/tap-as-a-service

As the repos have been moved to OpenDev some are not under 'openstack'
namespace anymore, but under 'x' namespace, like 'x/tap-as-a-service'.

This is handled in zuul, but in old branches where there are still
tox_install.sh and tox_install_project.sh this change cause problem.

Change-Id: I9b77c178fff88f3e5a827abf79ed51efb2cecbb5
(cherry picked from commit 59c869583b135fb84997c76cc2de99f290935d5e)
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/19/655919/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install_project.sh'],1,91a3eff32db1814ba6ffe18a1ae298485500c325,fix-periodic,"# as the git repos moved to OpenDev tap-as-a-service is now # x/tap-as-a-service instead of openstack/tap-as-a-service if [ ""$PROJ"" == ""tap-as-a-service"" ]; then NAMESPACE=x else NAMESPACE=openstack fi https://opendev.org \ ${NAMESPACE}/${PROJ} cd ${NAMESPACE}/${PROJ}", https://git.openstack.org \ openstack/${PROJ} cd openstack/${PROJ},11,3
openstack%2Ftripleo-heat-templates~master~Iab61b0fed8251ffe0e208d12abd874d02a37027f,openstack/tripleo-heat-templates,master,Iab61b0fed8251ffe0e208d12abd874d02a37027f,Remove ceph-ansible fetch directory as privileged user,MERGED,2019-05-01 19:49:29.000000000,2019-05-03 00:51:46.000000000,2019-05-03 00:51:46.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29315}, {'_account_id': 30258}]","[{'number': 1, 'created': '2019-05-01 19:49:29.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87549eb4c50127c66618fbf235113715776308e7', 'message': ""Remove ceph-ansible fetch directory as privileged user\n\nCurrently the 'Remove ceph-ansible fetch directory' task fails with\npermission denied.\n\nChange-Id: Iab61b0fed8251ffe0e208d12abd874d02a37027f\nCloses-bug: 1827273\n""}]",0,656700,87549eb4c50127c66618fbf235113715776308e7,15,7,1,18851,,,0,"Remove ceph-ansible fetch directory as privileged user

Currently the 'Remove ceph-ansible fetch directory' task fails with
permission denied.

Change-Id: Iab61b0fed8251ffe0e208d12abd874d02a37027f
Closes-bug: 1827273
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/656700/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,87549eb4c50127c66618fbf235113715776308e7,bug/1827273, become: true,,1,0
openstack%2Fpython-tripleoclient~stable%2Fstein~I16c5dd7422ff7138ead28679637e0440e30a7079,openstack/python-tripleoclient,stable/stein,I16c5dd7422ff7138ead28679637e0440e30a7079,"Revert ""Remove nodes and roles options.""",MERGED,2019-05-02 09:17:03.000000000,2019-05-03 00:43:25.000000000,2019-05-03 00:43:25.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 09:17:03.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9808a162c3a5638343a47664efc3755f7d7dd1fb', 'message': 'Revert ""Remove nodes and roles options.""\n\nThis reverts commit 7b3683657140310cedf7b0a12764c91bf6438115.\n\nChange-Id: I16c5dd7422ff7138ead28679637e0440e30a7079\n'}]",0,656754,9808a162c3a5638343a47664efc3755f7d7dd1fb,7,3,1,29222,,,0,"Revert ""Remove nodes and roles options.""

This reverts commit 7b3683657140310cedf7b0a12764c91bf6438115.

Change-Id: I16c5dd7422ff7138ead28679637e0440e30a7079
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/54/656754/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py']",4,9808a162c3a5638343a47664efc3755f7d7dd1fb,stein," argslist = ['--roles', 'Compute', ('roles', 'Compute'), def test_update_roles_with_all_playbooks(self, mock_open, mock_execute, argslist = ['--roles', 'Compute', '--playbook', 'all'] ('roles', 'Compute'), def test_update_nodes_with_all_playbooks( self, mock_open, mock_execute, mock_expanduser, update_ansible): mock_expanduser.return_value = '/home/fake/' argslist = ['--nodes', 'compute-0, compute-1'] verifylist = [ ('static_inventory', None), ('playbook', 'all'), ('nodes', 'compute-0, compute-1') ] parsed_args = self.check_parser(self.cmd, argslist, verifylist) with mock.patch('os.path.exists') as mock_exists: mock_exists.return_value = True self.cmd.take_action(parsed_args) for book in constants.MINOR_UPDATE_PLAYBOOKS: update_ansible.assert_any_call( self.app.client_manager, nodes='compute-0, compute-1', inventory_file=mock_open().read(), playbook=book, node_user='tripleo-admin', tags='', skip_tags='', verbosity=1, extra_vars=None ) @mock.patch('tripleoclient.workflows.package_update.update_ansible', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open') def test_update_with_no_nodes_or_roles_or_limit( @mock.patch('tripleoclient.workflows.package_update.update_ansible', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open') def test_update_with_nodes_and_roles(self, mock_open, mock_execute, mock_expanduser, update_ansible): mock_expanduser.return_value = '/home/fake/' argslist = ['--roles', 'Controller', '--nodes', 'overcloud-controller-1'] verifylist = [ ('roles', 'Controller'), ('nodes', 'overcloud-controller-1'), ('static_inventory', None), ('playbook', 'all') ] self.assertRaises(ParserException, lambda: self.check_parser( self.cmd, argslist, verifylist)) "," argslist = ['--limit', 'Compute', ('limit', 'Compute'), def test_update_limit_with_all_playbooks(self, mock_open, mock_execute, argslist = ['--limit', 'Compute', '--playbook', 'all'] ('limit', 'Compute'), def test_update_with_no_limit(",156,22
openstack%2Ftripleo-heat-templates~stable%2Fstein~Iab61b0fed8251ffe0e208d12abd874d02a37027f,openstack/tripleo-heat-templates,stable/stein,Iab61b0fed8251ffe0e208d12abd874d02a37027f,Remove ceph-ansible fetch directory as privileged user,MERGED,2019-05-02 15:31:45.000000000,2019-05-03 00:43:24.000000000,2019-05-03 00:43:24.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 15:31:45.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44f39920b40ee6b02429c4d760483492e49cd62b', 'message': ""Remove ceph-ansible fetch directory as privileged user\n\nCurrently the 'Remove ceph-ansible fetch directory' task fails with\npermission denied.\n\nChange-Id: Iab61b0fed8251ffe0e208d12abd874d02a37027f\nCloses-bug: 1827273\n""}]",0,656793,44f39920b40ee6b02429c4d760483492e49cd62b,9,5,1,18002,,,0,"Remove ceph-ansible fetch directory as privileged user

Currently the 'Remove ceph-ansible fetch directory' task fails with
permission denied.

Change-Id: Iab61b0fed8251ffe0e208d12abd874d02a37027f
Closes-bug: 1827273
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/656793/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,44f39920b40ee6b02429c4d760483492e49cd62b,bug/1827273, become: true,,1,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I112a228ed90a50aeee787e83a58a014519db7992,openstack/tripleo-heat-templates,stable/rocky,I112a228ed90a50aeee787e83a58a014519db7992,Add parameter to configure maxdelay in db purge/archive job,MERGED,2019-05-01 15:44:30.000000000,2019-05-03 00:43:22.000000000,2019-05-03 00:43:22.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-01 15:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21b3a599f7e369193eddd70ec0aaad37cb12af7d', 'message': 'Add parameter to configure maxdelay in db purge/archive job\n\nThis patch introduces new parameters, CinderCronDbPurgeMaxDelay\nand NovaCronDBArchivedMaxDelay, which enable us to configure\nmaxdelay parameter in cinder db purge cron job and nova db archive\ncron job, like HeatCronPurgeDeletedMaxDelay which is used to\nconfigure maxdelay in heat cron job.\n\nCloses-Bug: #1823274\nChange-Id: I112a228ed90a50aeee787e83a58a014519db7992\n(cherry picked from commit 2a34ccb62b1037c420bff6e5f9d19f8887cf774a)\n(cherry picked from commit 3a4a77356fe372fbbd70d8902af65067646ad81b)\n'}, {'number': 2, 'created': '2019-05-02 06:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ec63ee945cec36f5a1d3f9db1ba065cd2ef637a', 'message': 'Add parameter to configure maxdelay in db purge/archive job\n\nThis patch introduces new parameters, CinderCronDbPurgeMaxDelay\nand NovaCronDBArchivedMaxDelay, which enable us to configure\nmaxdelay parameter in cinder db purge cron job and nova db archive\ncron job, like HeatCronPurgeDeletedMaxDelay which is used to\nconfigure maxdelay in heat cron job.\n\nCloses-Bug: #1823274\nChange-Id: I112a228ed90a50aeee787e83a58a014519db7992\n(cherry picked from commit 2a34ccb62b1037c420bff6e5f9d19f8887cf774a)\n(cherry picked from commit 3a4a77356fe372fbbd70d8902af65067646ad81b)\n'}, {'number': 3, 'created': '2019-05-02 06:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8d8715a90c4e975afbbf005797015189d18f01b', 'message': 'Add parameter to configure maxdelay in db purge/archive job\n\nThis patch introduces new parameters, CinderCronDbPurgeMaxDelay\nand NovaCronDBArchivedMaxDelay, which enable us to configure\nmaxdelay parameter in cinder db purge cron job and nova db archive\ncron job, like HeatCronPurgeDeletedMaxDelay which is used to\nconfigure maxdelay in heat cron job.\n\nCloses-Bug: #1823274\nChange-Id: I112a228ed90a50aeee787e83a58a014519db7992\n(cherry picked from commit 2a34ccb62b1037c420bff6e5f9d19f8887cf774a)\n(cherry picked from commit 3a4a77356fe372fbbd70d8902af65067646ad81b)\n'}, {'number': 4, 'created': '2019-05-02 10:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e1ba336570ec3c2bd898ef90ce32176daef9488', 'message': 'Add parameter to configure maxdelay in db purge/archive job\n\nThis patch introduces new parameters, CinderCronDbPurgeMaxDelay\nand NovaCronDBArchivedMaxDelay, which enable us to configure\nmaxdelay parameter in cinder db purge cron job and nova db archive\ncron job, like HeatCronPurgeDeletedMaxDelay which is used to\nconfigure maxdelay in heat cron job.\n\nCloses-Bug: #1823274\nChange-Id: I112a228ed90a50aeee787e83a58a014519db7992\n(cherry picked from commit 2a34ccb62b1037c420bff6e5f9d19f8887cf774a)\n'}, {'number': 5, 'created': '2019-05-02 15:55:47.000000000', 'files': ['releasenotes/notes/bug-1823274-ca992c1055035c7b.yaml', 'puppet/services/nova-base.yaml', 'puppet/services/cinder-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/733ec337c3d376267ad5bf80c3826ca4517ac7ca', 'message': 'Add parameter to configure maxdelay in db purge/archive job\n\nThis patch introduces new parameters, CinderCronDbPurgeMaxDelay\nand NovaCronDBArchivedMaxDelay, which enable us to configure\nmaxdelay parameter in cinder db purge cron job and nova db archive\ncron job, like HeatCronPurgeDeletedMaxDelay which is used to\nconfigure maxdelay in heat cron job.\n\nConflicts:\n    deployment/nova/nova-api-container-puppet.yaml\n\nCloses-Bug: #1823274\nChange-Id: I112a228ed90a50aeee787e83a58a014519db7992\n(cherry picked from commit 2a34ccb62b1037c420bff6e5f9d19f8887cf774a)\n(cherry picked from commit 3a4a77356fe372fbbd70d8902af65067646ad81b)\n'}]",0,656660,733ec337c3d376267ad5bf80c3826ca4517ac7ca,21,10,5,21570,,,0,"Add parameter to configure maxdelay in db purge/archive job

This patch introduces new parameters, CinderCronDbPurgeMaxDelay
and NovaCronDBArchivedMaxDelay, which enable us to configure
maxdelay parameter in cinder db purge cron job and nova db archive
cron job, like HeatCronPurgeDeletedMaxDelay which is used to
configure maxdelay in heat cron job.

Conflicts:
    deployment/nova/nova-api-container-puppet.yaml

Closes-Bug: #1823274
Change-Id: I112a228ed90a50aeee787e83a58a014519db7992
(cherry picked from commit 2a34ccb62b1037c420bff6e5f9d19f8887cf774a)
(cherry picked from commit 3a4a77356fe372fbbd70d8902af65067646ad81b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/656660/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1823274-ca992c1055035c7b.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'puppet/services/cinder-base.yaml']",3,21b3a599f7e369193eddd70ec0aaad37cb12af7d,bug/1823274, CinderCronDbPurgeMaxDelay: type: string description: > Cron to move deleted instances to another table - Max Delay default: '3600' cinder::cron::db_purge::max_delay: {get_param: CinderCronDbPurgeMaxDelay},,664,0
openstack%2Fpuppet-openstacklib~master~I903f238d7967cde2e7357dd21905f267dc289c73,openstack/puppet-openstacklib,master,I903f238d7967cde2e7357dd21905f267dc289c73,Remove Puppet 4 support,MERGED,2019-05-01 16:04:31.000000000,2019-05-03 00:37:32.000000000,2019-05-03 00:37:32.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-01 16:04:31.000000000', 'files': ['manifests/defaults.pp', 'releasenotes/notes/remove-puppet-4-7edd1536c4078f7a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/6399a0e3f649efe24b143d39a286036097cbbebf', 'message': 'Remove Puppet 4 support\n\nFrom Train release we no longer officially support\nPuppet 4 as we have notified about earlier.\n\nDeployments should use Puppet 5 or Puppet 6.\n\nChange-Id: I903f238d7967cde2e7357dd21905f267dc289c73\n'}]",0,656663,6399a0e3f649efe24b143d39a286036097cbbebf,11,5,1,16137,,,0,"Remove Puppet 4 support

From Train release we no longer officially support
Puppet 4 as we have notified about earlier.

Deployments should use Puppet 5 or Puppet 6.

Change-Id: I903f238d7967cde2e7357dd21905f267dc289c73
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/63/656663/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/defaults.pp', 'releasenotes/notes/remove-puppet-4-7edd1536c4078f7a.yaml']",2,6399a0e3f649efe24b143d39a286036097cbbebf,remove-puppet-4,--- upgrade: - | Puppet OpenStack does not officially support Puppet 4 anymore. Deployments should use Puppet 5 or Puppet 6. ,,5,7
openstack%2Fcinder~master~I38c6dacf3bd2a750085da4b48ab9dcfc2ecb0b93,openstack/cinder,master,I38c6dacf3bd2a750085da4b48ab9dcfc2ecb0b93,Use proper casing in backup_compression_algorithm doc,MERGED,2019-04-10 17:56:36.000000000,2019-05-03 00:35:51.000000000,2019-05-03 00:35:51.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}]","[{'number': 1, 'created': '2019-04-10 17:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c01e1f4358190390535b09e5bd68963a25cc661c', 'message': 'Use proper casing in backup_compression_algorithm doc\n\nDocs were stating to set to ""None"" to disable compression, but currently\nthat option is case sensitive and needs to be set to ""none"".\n\nPartial-bug: #1823852\n\nChange-Id: I38c6dacf3bd2a750085da4b48ab9dcfc2ecb0b93\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-04-10 18:20:15.000000000', 'files': ['doc/source/admin/blockstorage-volume-backups.rst', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/333e83b8a48b8bfe8960c45a79ab1661179eea2f', 'message': 'Use proper casing in backup_compression_algorithm doc\n\nDocs were stating to set to ""None"" to disable compression, but currently\nthat option is case sensitive and needs to be set to ""none"".\n\nPartial-bug: #1823852\n\nChange-Id: I38c6dacf3bd2a750085da4b48ab9dcfc2ecb0b93\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,651619,333e83b8a48b8bfe8960c45a79ab1661179eea2f,56,34,2,11904,,,0,"Use proper casing in backup_compression_algorithm doc

Docs were stating to set to ""None"" to disable compression, but currently
that option is case sensitive and needs to be set to ""none"".

Partial-bug: #1823852

Change-Id: I38c6dacf3bd2a750085da4b48ab9dcfc2ecb0b93
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/651619/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/blockstorage-volume-backups.rst'],1,c01e1f4358190390535b09e5bd68963a25cc661c,bug/1823852,The option ``backup_compression_algorithm`` can be set to ``bz2`` or ``none``.,The option ``backup_compression_algorithm`` can be set to ``bz2`` or ``None``.,1,1
openstack%2Fcinder~master~Ie499f7d914848b185531f101be49424fe8c64da6,openstack/cinder,master,Ie499f7d914848b185531f101be49424fe8c64da6,NFS: Log exception when update_migrated_volume fails,MERGED,2019-04-16 18:26:16.000000000,2019-05-03 00:35:49.000000000,2019-05-03 00:35:48.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-04-16 18:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/46f3cdec1b926e17badf0ab1693d0c3e3d43b376', 'message': ""NFS: Log exception when update_migrated_volume fails\n\nThere isn't enough log context here to debug\nsome failures, ensure that the OSError exception\ninformation is logged to provide sufficient info.\n\nChange-Id: Ie499f7d914848b185531f101be49424fe8c64da6\n""}, {'number': 2, 'created': '2019-04-16 19:16:20.000000000', 'files': ['cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/326d2bcb9b8dbffc003b07243649dfbce69b3c67', 'message': ""NFS: Log exception when update_migrated_volume fails\n\nThere isn't enough log context here to debug\nsome failures, ensure that the OSError exception\ninformation is logged to provide sufficient info.\n\nCloses-Bug: #1825029\nChange-Id: Ie499f7d914848b185531f101be49424fe8c64da6\n""}]",0,653074,326d2bcb9b8dbffc003b07243649dfbce69b3c67,39,25,2,4523,,,0,"NFS: Log exception when update_migrated_volume fails

There isn't enough log context here to debug
some failures, ensure that the OSError exception
information is logged to provide sufficient info.

Closes-Bug: #1825029
Change-Id: Ie499f7d914848b185531f101be49424fe8c64da6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/653074/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nfs.py'],1,46f3cdec1b926e17badf0ab1693d0c3e3d43b376,," LOG.exception('Unable to rename the logical volume ' 'for volume: %s', volume.id)"," LOG.error('Unable to rename the logical volume ' 'for volume: %s', volume.id)",2,2
openstack%2Fcinder~master~Ia6139c052091eaee6b49a55f57385e650508a891,openstack/cinder,master,Ia6139c052091eaee6b49a55f57385e650508a891,Raise eventlet lower-constraint to 0.22.0,MERGED,2019-03-25 14:23:11.000000000,2019-05-03 00:35:46.000000000,2019-05-03 00:35:45.000000000,"[{'_account_id': 5997}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-03-25 14:23:11.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb4b406b2443e6b408e5b41ea73ffef47c713146', 'message': 'Raise eventlet lower-constraint to 0.22.0\n\nEventlet has a known issue when running under Python 3.6 [1]. This was\nnoticed in another OpenStack repo. As far as I know, we have not hit\nthis in Cinder. But since many drivers use requests and most are not\nrunning third party CI under 3.6 yet, this is an attempt to avoid\nrunning into an issue with the versions of eventlet that have this\nissue.\n\n[1] https://github.com/eventlet/eventlet/issues/371\n\nChange-Id: Ia6139c052091eaee6b49a55f57385e650508a891\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,647481,cb4b406b2443e6b408e5b41ea73ffef47c713146,42,35,1,11904,,,0,"Raise eventlet lower-constraint to 0.22.0

Eventlet has a known issue when running under Python 3.6 [1]. This was
noticed in another OpenStack repo. As far as I know, we have not hit
this in Cinder. But since many drivers use requests and most are not
running third party CI under 3.6 yet, this is an attempt to avoid
running into an issue with the versions of eventlet that have this
issue.

[1] https://github.com/eventlet/eventlet/issues/371

Change-Id: Ia6139c052091eaee6b49a55f57385e650508a891
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/647481/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,cb4b406b2443e6b408e5b41ea73ffef47c713146,eventlet,eventlet==0.22.0,eventlet==0.18.2,2,2
openstack%2Fcinder~master~I3e814f43c9060a1f9ae10c6bee4020771ccb1eb5,openstack/cinder,master,I3e814f43c9060a1f9ae10c6bee4020771ccb1eb5,Remove DataCore volume drivers,MERGED,2019-02-19 22:31:21.000000000,2019-05-03 00:35:43.000000000,2019-05-03 00:35:43.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-02-19 22:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ef89549c5be9fe67cc47f366cd581029460c83e', 'message': 'Remove DataCore volume drivers\n\nThese drivers were marked as unsupported in Rocky due to lack of CI.\nCurrent CI report shows last result was posted well over 100 days ago.\n\nChange-Id: I3e814f43c9060a1f9ae10c6bee4020771ccb1eb5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-03-25 14:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1b5e451baf583a701d30372dcc6f30bbf33d350', 'message': 'Remove DataCore volume drivers\n\nThese drivers were marked as unsupported in Rocky due to lack of CI.\nCurrent CI report shows last result was posted well over 100 days ago.\n\nChange-Id: I3e814f43c9060a1f9ae10c6bee4020771ccb1eb5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2019-04-10 16:29:43.000000000', 'files': ['cinder/tests/unit/volume/drivers/datacore/test_datacore_utils.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_driver.py', 'doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/volume/drivers/datacore/driver.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_iscsi.py', 'doc/source/configuration/block-storage/drivers/datacore-volume-driver.rst', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_api.py', 'cinder/volume/drivers/datacore/exception.py', 'cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/datacore/api.py', 'cinder/volume/drivers/datacore/passwd.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_passwd.py', 'cinder/volume/drivers/datacore/fc.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_fc.py', 'cinder/volume/drivers/datacore/__init__.py', 'cinder/volume/drivers/datacore/iscsi.py', 'releasenotes/notes/remove-datacore-300c667e9f504590.yaml', 'cinder/tests/unit/volume/drivers/datacore/__init__.py', 'cinder/volume/drivers/datacore/utils.py', 'doc/source/contributor/drivers_locking_examples.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f2c9f103eda6d04e115f9959b1cbdcb6d2982ff', 'message': 'Remove DataCore volume drivers\n\nThese drivers were marked as unsupported in Rocky due to lack of CI.\nCurrent CI report shows last result was posted well over 100 days ago.\n\nChange-Id: I3e814f43c9060a1f9ae10c6bee4020771ccb1eb5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,638029,7f2c9f103eda6d04e115f9959b1cbdcb6d2982ff,77,35,3,11904,,,0,"Remove DataCore volume drivers

These drivers were marked as unsupported in Rocky due to lack of CI.
Current CI report shows last result was posted well over 100 days ago.

Change-Id: I3e814f43c9060a1f9ae10c6bee4020771ccb1eb5
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/638029/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/datacore/test_datacore_utils.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_driver.py', 'doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/volume/drivers/datacore/driver.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_iscsi.py', 'doc/source/configuration/block-storage/drivers/datacore-volume-driver.rst', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_api.py', 'cinder/volume/drivers/datacore/exception.py', 'cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/datacore/api.py', 'cinder/volume/drivers/datacore/passwd.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_passwd.py', 'cinder/volume/drivers/datacore/fc.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_fc.py', 'cinder/volume/drivers/datacore/__init__.py', 'cinder/volume/drivers/datacore/iscsi.py', 'releasenotes/notes/remove-datacore-300c667e9f504590.yaml', 'cinder/tests/unit/volume/drivers/datacore/__init__.py', 'cinder/volume/drivers/datacore/utils.py', 'doc/source/contributor/drivers_locking_examples.rst']",21,4ef89549c5be9fe67cc47f366cd581029460c83e,ci_unsupported,,"DataCore SANsymphony: - Lock scope: Process. - Critical section: Get SOAP context. - Lock name: `datacore-api-request_context` - Where: `_get_soap_context` - File: `cinder/volume/drivers/datacore/api.py` DataCore SANsymphony: - Lock scope: Node. - Critical section: Call to backend to serve/unserve Virtual Disk from host. - Lock name: `datacore-backend-{server_group.Id}` - Where: `terminate_connection.unserve_virtual_disk`, and `initialize_connection.serve_virtual_disk` methods. - File: `cinder/volume/drivers/datacore/driver.py`, `cinder/volume/drivers/datacore/iscsi.py`, and `cinder/volume/drivers/datacore/fc.py` DataCore SANsymphony: - Lock scope: Node. - Critical section: Modify CHAP passwords on local storage file. - Lock name: `datacore-password_storage-{self._file_path}` - Where: `set_password`, `get_password`, and `delete_password`. - File: `cinder/volume/drivers/datacore/passwd.py` ",5,5672
openstack%2Fcinder~master~I7e404def8215b2266ee53583daff066cee35570c,openstack/cinder,master,I7e404def8215b2266ee53583daff066cee35570c,Replace HTTP numeric codes with constants,MERGED,2019-04-02 09:02:20.000000000,2019-05-03 00:35:41.000000000,2019-05-03 00:35:41.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}]","[{'number': 1, 'created': '2019-04-02 09:02:20.000000000', 'files': ['cinder/api/v3/workers.py', 'cinder/api/v3/attachments.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/281685796fc00ca9811baa6f1cf289b7853f5795', 'message': 'Replace HTTP numeric codes with constants\n\nMost of the numeric codes for HTTP respone (200, 202, ...)\nwere replaced with OK, ACCEPTED ... constants.\nIt improves readability of code and maintains consistency.\nThis patch does the same change to the remaining places.\n\nChange-Id: I7e404def8215b2266ee53583daff066cee35570c\n'}]",3,649246,281685796fc00ca9811baa6f1cf289b7853f5795,37,32,1,27615,,,0,"Replace HTTP numeric codes with constants

Most of the numeric codes for HTTP respone (200, 202, ...)
were replaced with OK, ACCEPTED ... constants.
It improves readability of code and maintains consistency.
This patch does the same change to the remaining places.

Change-Id: I7e404def8215b2266ee53583daff066cee35570c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/649246/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/workers.py', 'cinder/api/v3/attachments.py']",2,281685796fc00ca9811baa6f1cf289b7853f5795,,from six.moves import http_client @wsgi.response(http_client.OK) @wsgi.response(http_client.NO_CONTENT), @wsgi.response(200) @wsgi.response(204),5,3
openstack%2Ftripleo-heat-templates~master~I693a21f1d6b48602642fe161d5f0ee2bc03e3acf,openstack/tripleo-heat-templates,master,I693a21f1d6b48602642fe161d5f0ee2bc03e3acf,Avoid issues with non-existing directories,MERGED,2019-05-02 15:34:24.000000000,2019-05-03 00:19:57.000000000,2019-05-03 00:19:57.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-02 15:34:24.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db89f2d9a52a4fade85a89ca6b1daf07dc7de393', 'message': 'Avoid issues with non-existing directories\n\nat deploy time.\n\nChange-Id: I693a21f1d6b48602642fe161d5f0ee2bc03e3acf\n'}]",0,656794,db89f2d9a52a4fade85a89ca6b1daf07dc7de393,8,7,1,4264,,,0,"Avoid issues with non-existing directories

at deploy time.

Change-Id: I693a21f1d6b48602642fe161d5f0ee2bc03e3acf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/656794/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,db89f2d9a52a4fade85a89ca6b1daf07dc7de393,collectd_ceph, - /var/run/:/var/run:ro, - /var/run/openvswitch:/var/run/openvswitch:ro - /var/run/ceph:/var/run/ceph:ro - /var/run/libvirt:/var/run/libvirt:ro,1,3
openstack%2Fneutron~stable%2Fpike~Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1,openstack/neutron,stable/pike,Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1,Move subnet postcommit out of transaction for bulk create,MERGED,2019-04-23 11:14:59.000000000,2019-05-03 00:07:21.000000000,2019-05-03 00:07:21.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-23 11:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7aee87e6d393428404ac5adea18ece68db5ba3f', 'message': 'Move subnet postcommit out of transaction for bulk create\n\nFor auto-address IPv6 subnets postcommit has update port action\nif the net already has ports. This results in\n""cannot be called within a transaction"" error for bulk IPv6 subnet\ncreate.\n\nCloses-Bug: #1822582\nChange-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1\n'}, {'number': 2, 'created': '2019-04-25 08:18:37.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/caf4f0616113c3ac57d05b2f1c082a237ad36cfd', 'message': 'Move subnet postcommit out of transaction for bulk create\n\nFor auto-address IPv6 subnets postcommit has update port action\nif the net already has ports. This results in\n""cannot be called within a transaction"" error for bulk IPv6 subnet\ncreate.\n\nCloses-Bug: #1822582\nChange-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1\n(cherry picked from commit 14c76d31814b8e696349a1c00ba65ef2919b48af)\n'}]",1,654959,caf4f0616113c3ac57d05b2f1c082a237ad36cfd,18,6,2,5948,,,0,"Move subnet postcommit out of transaction for bulk create

For auto-address IPv6 subnets postcommit has update port action
if the net already has ports. This results in
""cannot be called within a transaction"" error for bulk IPv6 subnet
create.

Closes-Bug: #1822582
Change-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1
(cherry picked from commit 14c76d31814b8e696349a1c00ba65ef2919b48af)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/654959/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py']",4,c7aee87e6d393428404ac5adea18ece68db5ba3f,bug/1822582-stable/stein-stable/rocky-stable/queens-stable/pike," # db base plugin post commit ops self._create_subnet_postcommit(context, result) "," # TODO(kevinbenton): move this to '_after_subnet_create' # db base plugin post commit ops self._create_subnet_postcommit(context, result, net_db, ipam_sub) ",53,6
openstack%2Fstackviz~master~Ic9e2f21fa91d9375e2020506f08ecece16706f07,openstack/stackviz,master,Ic9e2f21fa91d9375e2020506f08ecece16706f07,Use stestr as a test runner in tox,MERGED,2019-05-01 21:17:14.000000000,2019-05-03 00:00:15.000000000,2019-05-03 00:00:15.000000000,"[{'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 21:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/999dbbf3715420f9a6e7392b3611fd91864a31b0', 'message': 'Use stestr as a test runner in tox\n\nThis commit makes stackviz use stestr as a test runner in tox.\n\nChange-Id: Ic9e2f21fa91d9375e2020506f08ecece16706f07\n'}, {'number': 2, 'created': '2019-05-02 23:17:29.000000000', 'files': ['.gitignore', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/cf87b63aece8f9dac85a67ceb8343ac1f46c50e4', 'message': 'Use stestr as a test runner in tox\n\nThis commit makes stackviz use stestr as a test runner in tox.\n\nChange-Id: Ic9e2f21fa91d9375e2020506f08ecece16706f07\n'}]",0,656708,cf87b63aece8f9dac85a67ceb8343ac1f46c50e4,11,4,2,5689,,,0,"Use stestr as a test runner in tox

This commit makes stackviz use stestr as a test runner in tox.

Change-Id: Ic9e2f21fa91d9375e2020506f08ecece16706f07
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/08/656708/2 && git format-patch -1 --stdout FETCH_HEAD,"['.testr.conf', 'tox.ini', '.stestr.conf']",3,999dbbf3715420f9a6e7392b3611fd91864a31b0,stestr,[DEFAULT] test_path=./stackviz/tests group_regex=([^\.]*\.)* ,,14,10
openstack%2Fopenstack-helm-infra~master~I00d1b15758b7eb4476fb950ddcb38db9a5149ad0,openstack/openstack-helm-infra,master,I00d1b15758b7eb4476fb950ddcb38db9a5149ad0,Ceph: Make /etc/ceph and /run emptydirs uniformly across all pods,MERGED,2019-04-21 14:55:14.000000000,2019-05-02 23:44:51.000000000,2019-04-21 20:32:59.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-04-21 14:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/24ee7cfd5811c25d63be683b021accbc9578bb3e', 'message': 'Ceph: Make /etc/ceph a emptydir uniformly across all pods\n\nThis PS updates the ceph charts to make /etc/ceph an emptydir\nuniformly across all charts, both ensuring no default config is loaded,\nand also permitting read-only filesystems to back the containers.\n\nChange-Id: I00d1b15758b7eb4476fb950ddcb38db9a5149ad0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-04-21 15:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4c14e06c41929e8600cd35b61eb4479e9aeee6d4', 'message': 'Ceph: Make /etc/ceph and /run emptydirs uniformly across all pods\n\nThis PS updates the ceph charts to make /etc/ceph an emptydir\nuniformly across all charts, both ensuring no default config is loaded,\nand also permitting read-only filesystems to back the containers.\n\nAdditionally /run is uniformly applied across all long running pods\nas a memory backed emptydir.\n\nChange-Id: I00d1b15758b7eb4476fb950ddcb38db9a5149ad0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-04-21 19:06:18.000000000', 'files': ['ceph-provisioners/templates/job-bootstrap.yaml', 'ceph-osd/templates/cronjob-defragosds.yaml', 'ceph-mon/templates/job-bootstrap.yaml', 'ceph-rgw/templates/job-s3-admin.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml', 'ceph-client/templates/cronjob-checkPGs.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-provisioners/templates/job-cephfs-client-key.yaml', 'ceph-provisioners/templates/job-namespace-client-key-cleaner.yaml', 'ceph-client/templates/deployment-mds.yaml', 'ceph-client/templates/job-bootstrap.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-provisioners/templates/deployment-cephfs-provisioner.yaml', 'ceph-mon/templates/job-keyring.yaml', 'ceph-rgw/templates/job-rgw-storage-init.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-provisioners/templates/job-namespace-client-key.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-osd/templates/pod-helm-tests.yaml', 'ceph-osd/templates/job-bootstrap.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dece00833750d5bd67839d6a3477fba678cdf0a2', 'message': 'Ceph: Make /etc/ceph and /run emptydirs uniformly across all pods\n\nThis PS updates the ceph charts to make /etc/ceph an emptydir\nuniformly across all charts, both ensuring no default config is loaded,\nand also permitting read-only filesystems to back the containers.\n\nAdditionally /run is uniformly applied across all long running pods\nas a memory backed emptydir.\n\nChange-Id: I00d1b15758b7eb4476fb950ddcb38db9a5149ad0\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,654252,dece00833750d5bd67839d6a3477fba678cdf0a2,15,5,3,23928,,,0,"Ceph: Make /etc/ceph and /run emptydirs uniformly across all pods

This PS updates the ceph charts to make /etc/ceph an emptydir
uniformly across all charts, both ensuring no default config is loaded,
and also permitting read-only filesystems to back the containers.

Additionally /run is uniformly applied across all long running pods
as a memory backed emptydir.

Change-Id: I00d1b15758b7eb4476fb950ddcb38db9a5149ad0
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/654252/3 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-provisioners/templates/job-bootstrap.yaml', 'ceph-osd/templates/cronjob-defragosds.yaml', 'ceph-mon/templates/job-bootstrap.yaml', 'ceph-rgw/templates/job-s3-admin.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml', 'ceph-client/templates/cronjob-checkPGs.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-provisioners/templates/job-cephfs-client-key.yaml', 'ceph-provisioners/templates/job-namespace-client-key-cleaner.yaml', 'ceph-client/templates/deployment-mds.yaml', 'ceph-client/templates/job-bootstrap.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-provisioners/templates/deployment-cephfs-provisioner.yaml', 'ceph-mon/templates/job-keyring.yaml', 'ceph-rgw/templates/job-rgw-storage-init.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-provisioners/templates/job-namespace-client-key.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-osd/templates/pod-helm-tests.yaml', 'ceph-osd/templates/job-bootstrap.yaml']",23,24ee7cfd5811c25d63be683b021accbc9578bb3e,ceph-etc, - name: pod-etc-ceph mountPath: /etc/ceph - name: pod-etc-ceph emptyDir: {},,102,16
openstack%2Fos-vif~master~Ic5cc124a743eade30636cd1c615aebb0bb7c1adf,openstack/os-vif,master,Ic5cc124a743eade30636cd1c615aebb0bb7c1adf,Remove unused vif_plug_ovs.i18n module,MERGED,2019-05-02 17:17:03.000000000,2019-05-02 23:41:28.000000000,2019-05-02 23:41:28.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2019-05-02 17:17:03.000000000', 'files': ['vif_plug_ovs/i18n.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/ecc3620758b6eb72154eb28d5a51fd34d6730a51', 'message': 'Remove unused vif_plug_ovs.i18n module\n\nChange-Id: Ic5cc124a743eade30636cd1c615aebb0bb7c1adf\nCloses-Bug: #1827393\n'}]",0,656815,ecc3620758b6eb72154eb28d5a51fd34d6730a51,10,4,1,16688,,,0,"Remove unused vif_plug_ovs.i18n module

Change-Id: Ic5cc124a743eade30636cd1c615aebb0bb7c1adf
Closes-Bug: #1827393
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/15/656815/1 && git format-patch -1 --stdout FETCH_HEAD,['vif_plug_ovs/i18n.py'],1,ecc3620758b6eb72154eb28d5a51fd34d6730a51,bug/1827393,,"# Copyright 2014 IBM Corp. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""oslo.i18n integration module. See https://docs.openstack.org/oslo.i18n/latest/user/usage.html. """""" import oslo_i18n # Normally this would be the plugin specific name # eg 'vif_plug_ovs', but since the OVS plugin is # in-tree, this is a special case DOMAIN = 'os_vif' _translators = oslo_i18n.TranslatorFactory(domain=DOMAIN) # The primary translation function using the well-known name ""_"" _ = _translators.primary def translate(value, user_locale): return oslo_i18n.translate(value, user_locale) def get_available_languages(): return oslo_i18n.get_available_languages(DOMAIN) ",0,39
openstack%2Foslo.cache~stable%2Frocky~I3e335261f749ad065e8abe972f4ac476d334e6b3,openstack/oslo.cache,stable/rocky,I3e335261f749ad065e8abe972f4ac476d334e6b3,Pass `flush_on_reconnect` to memcache pooled backend,MERGED,2019-04-29 22:58:11.000000000,2019-05-02 23:35:22.000000000,2019-05-02 23:35:22.000000000,"[{'_account_id': 2903}, {'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-29 22:58:11.000000000', 'files': ['oslo_cache/_memcache_pool.py', 'releasenotes/notes/bug-1819957-ccff6b0ec9d1cbf2.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1d6d08f4911edb50debab4639e6a2825260b9e09', 'message': ""Pass `flush_on_reconnect` to memcache pooled backend\n\nIf a memcache server disappears and then reconnects when multiple memcache\nservers are used (specific to the python-memcached based backends) it is\npossible that the server will contain stale data. The default is now to\nsupply the ``flush_on_reconnect`` optional argument to the backend. This\nmeans that when the service connects to a memcache server, it will flush\nall cached data in the server. The pooled backend is more likely to\nrun into issues with this as it does not explicitly use a thread.local\nfor the client. The non-pooled backend was not touched, it is not\nthe recommended production use-case.\n\nSee the help from python-memcached:\n\n    @param flush_on_reconnect: optional flag which prevents a\n\tscenario that can cause stale data to be read: If there's more\n\tthan one memcached server and the connection to one is\n\tinterrupted, keys that mapped to that server will get\n\treassigned to another. If the first server comes back, those\n\tkeys will map to it again. If it still has its data, get()s\n\tcan read stale data that was overwritten on another\n\tserver. This flag is off by default for backwards\n\tcompatibility.\n\nChange-Id: I3e335261f749ad065e8abe972f4ac476d334e6b3\ncloses-bug: #1819957\n(cherry picked from commit 1192f185a5fd2fa6177655f157146488a3de81d1)\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}]",0,656420,1d6d08f4911edb50debab4639e6a2825260b9e09,11,5,1,14288,,,0,"Pass `flush_on_reconnect` to memcache pooled backend

If a memcache server disappears and then reconnects when multiple memcache
servers are used (specific to the python-memcached based backends) it is
possible that the server will contain stale data. The default is now to
supply the ``flush_on_reconnect`` optional argument to the backend. This
means that when the service connects to a memcache server, it will flush
all cached data in the server. The pooled backend is more likely to
run into issues with this as it does not explicitly use a thread.local
for the client. The non-pooled backend was not touched, it is not
the recommended production use-case.

See the help from python-memcached:

    @param flush_on_reconnect: optional flag which prevents a
	scenario that can cause stale data to be read: If there's more
	than one memcached server and the connection to one is
	interrupted, keys that mapped to that server will get
	reassigned to another. If the first server comes back, those
	keys will map to it again. If it still has its data, get()s
	can read stale data that was overwritten on another
	server. This flag is off by default for backwards
	compatibility.

Change-Id: I3e335261f749ad065e8abe972f4ac476d334e6b3
closes-bug: #1819957
(cherry picked from commit 1192f185a5fd2fa6177655f157146488a3de81d1)
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/20/656420/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/_memcache_pool.py', 'releasenotes/notes/bug-1819957-ccff6b0ec9d1cbf2.yaml']",2,1d6d08f4911edb50debab4639e6a2825260b9e09,bug/1819957,"--- fixes: - | [`bug 1819957 <https://bugs.launchpad.net/keystone/+bug/1819957>`_] If a memcache server disappears and then reconnects when multiple memcache servers are used (specific to the python-memcached based backends) it is possible that the server will contain stale data. The default is now to supply the ``flush_on_reconnect`` optional argument to the backend. This means that when the service connects to a memcache server, it will flush all cached data in the server. This change only impacts the pooled backend as it is the most likely (with heavy use of greenlet) to be impacted by the problem and is the recommended production configuration. See the help from python-memcached: @param flush_on_reconnect: optional flag which prevents a scenario that can cause stale data to be read: If there's more than one memcached server and the connection to one is interrupted, keys that mapped to that server will get reassigned to another. If the first server comes back, those keys will map to it again. If it still has its data, get()s can read stale data that was overwritten on another server. This flag is off by default for backwards compatibility. ",,45,1
openstack%2Fswift~master~I0838f800784f7e08c0f6b1d5f78a7abd565e5a5a,openstack/swift,master,I0838f800784f7e08c0f6b1d5f78a7abd565e5a5a,"[Don't Merge] Follow-up: Clarify ""Enable to configure object-expirer in object-server.conf""",ABANDONED,2019-05-02 21:40:22.000000000,2019-05-02 23:12:48.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 21:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b25460f8cedd555e5a9648b62eec68b2bcdb4810', 'message': 'Follow-up: Clarify ""Enable to configure object-expirer in object-server.conf""\n\nTo clarify configuration change of [1], this patch removes following extra\nchanges of [1]:\n  1: dequeue_from_legacy config\n  2: docs related to dequeue_from_legacy\n  3: warning messages for expirer.conf deprecation\n\n[1]: https://review.opendev.org/#/c/601950/\n\nChange-Id: I0838f800784f7e08c0f6b1d5f78a7abd565e5a5a\n'}, {'number': 2, 'created': '2019-05-02 21:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/16fcc3c6d22767ce2170928e939ceb700f1c498a', 'message': 'Follow-up: Clarify ""Enable to configure object-expirer in object-server.conf""\n\nTo clarify configuration change of [1], this patch removes following extra\nchanges of [1]:\n  1: dequeue_from_legacy config\n  2: docs related to dequeue_from_legacy\n  3: warning messages for expirer.conf deprecation\n\n[1]: https://review.opendev.org/#/c/601950/\n\nChange-Id: I0838f800784f7e08c0f6b1d5f78a7abd565e5a5a\n'}, {'number': 3, 'created': '2019-05-02 22:03:59.000000000', 'files': ['doc/source/deployment_guide.rst', 'swift/common/manager.py', 'doc/manpages/object-server.conf.5', 'doc/source/overview_expiring_objects.rst', 'swift/obj/expirer.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/4efae3b27f79b4aa7df7ea50530622f55a199346', 'message': '[Don\'t Merge] Follow-up: Clarify ""Enable to configure object-expirer in object-server.conf""\n\nTo clarify configuration change of [1], this patch removes following extra\nchanges of [1]:\n  1: dequeue_from_legacy config\n  2: docs related to dequeue_from_legacy\n  3: warning messages for expirer.conf deprecation\n\n[1]: https://review.opendev.org/#/c/601950/\n\nChange-Id: I0838f800784f7e08c0f6b1d5f78a7abd565e5a5a\n'}]",0,656876,4efae3b27f79b4aa7df7ea50530622f55a199346,6,2,3,14766,,,0,"[Don't Merge] Follow-up: Clarify ""Enable to configure object-expirer in object-server.conf""

To clarify configuration change of [1], this patch removes following extra
changes of [1]:
  1: dequeue_from_legacy config
  2: docs related to dequeue_from_legacy
  3: warning messages for expirer.conf deprecation

[1]: https://review.opendev.org/#/c/601950/

Change-Id: I0838f800784f7e08c0f6b1d5f78a7abd565e5a5a
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/656876/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/deployment_guide.rst', 'swift/common/manager.py', 'doc/manpages/object-server.conf.5', 'doc/source/overview_expiring_objects.rst', 'swift/obj/expirer.py', 'etc/object-server.conf-sample']",6,b25460f8cedd555e5a9648b62eec68b2bcdb4810,expirer-section-in-object-server-conf,"# Note: Be careful not to enable too many expirers # as all tasks are stored in a single hidden account and the same hidden# processes is how many parts to divide the work into, one part per# processes set 0 means that a single process will be doing all the work# process is which of the parts a particular process will work on","# Note: Be careful not to enable ``dequeue_from_legacy`` on too many expirers # as all legacy tasks are stored in a single hidden account and the same hidden# If this true, expirer execute tasks in legacy expirer task queue # dequeue_from_legacy = false ## processes can only be used in conjunction with `dequeue_from_legacy`. # So this option is ignored if dequeue_from_legacy=false. # processes is how many parts to divide the legacy work into, one part per# processes set 0 means that a single legacy process will be doing all the work# process can only be used in conjunction with `dequeue_from_legacy`. # So this option is ignored if dequeue_from_legacy=false. # process is which of the parts a particular legacy process will work on",18,94
openstack%2Fproject-config~master~I104dd2bab8f522b5b132c9683183f584af984d4d,openstack/project-config,master,I104dd2bab8f522b5b132c9683183f584af984d4d,Add github eventlet/eventlet to project list,MERGED,2019-05-02 22:27:36.000000000,2019-05-02 22:40:53.000000000,2019-05-02 22:40:53.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 22:27:36.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/106cb9f290b4c78e0515856d9cca90c90db7c758', 'message': 'Add github eventlet/eventlet to project list\n\nSwift has an interest in testing with eventlet master, so they can\nmake more progress on py3 support.\n\nChange-Id: I104dd2bab8f522b5b132c9683183f584af984d4d\nRelated-Change: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n'}]",0,656889,106cb9f290b4c78e0515856d9cca90c90db7c758,9,4,1,15343,,,0,"Add github eventlet/eventlet to project list

Swift has an interest in testing with eventlet master, so they can
make more progress on py3 support.

Change-Id: I104dd2bab8f522b5b132c9683183f584af984d4d
Related-Change: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/656889/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,106cb9f290b4c78e0515856d9cca90c90db7c758,, - eventlet/eventlet,,1,0
openstack%2Ftripleo-heat-templates~master~Ie58a6630877a58bec8ce763ede166997bd41f882,openstack/tripleo-heat-templates,master,Ie58a6630877a58bec8ce763ede166997bd41f882,Set debug level of nova container_config_scripts only when enabled,MERGED,2019-04-30 11:21:36.000000000,2019-05-02 22:20:13.000000000,2019-05-02 17:48:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 11:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/590c408ff5b2fccb363567df2d4a5685383cd7c2', 'message': 'Set loglevel of nova container_config_scripts only when enabled\n\nRight now all scripts log in DEBUG level. This change enables only\nDEBUG level if debug is also enabled for the nova service.\n\nChange-Id: Ie58a6630877a58bec8ce763ede166997bd41f882\n'}, {'number': 2, 'created': '2019-04-30 12:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ef1fa0d9eb8a82af2ff70e08eec26f380d59fca', 'message': 'Set loglevel of nova container_config_scripts only when enabled\n\nRight now all scripts log in DEBUG level. This change enables only\nDEBUG level if debug is also enabled for the nova service.\n\nChange-Id: Ie58a6630877a58bec8ce763ede166997bd41f882\n'}, {'number': 3, 'created': '2019-04-30 12:41:29.000000000', 'files': ['container_config_scripts/nova_wait_for_placement_service.py', 'container_config_scripts/nova_wait_for_compute_service.py', 'deployment/nova/nova-compute-container-puppet.yaml', 'container_config_scripts/nova_statedir_ownership.py', 'container_config_scripts/nova_cell_v2_discover_hosts.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d4263f4f1f1e49851503162fcd8d3cfca163b73', 'message': 'Set debug level of nova container_config_scripts only when enabled\n\nRight now all scripts log in DEBUG level. This change enables only\nDEBUG level if debug is also enabled for the nova service.\n\nChange-Id: Ie58a6630877a58bec8ce763ede166997bd41f882\n'}]",2,656497,4d4263f4f1f1e49851503162fcd8d3cfca163b73,20,5,3,17216,,,0,"Set debug level of nova container_config_scripts only when enabled

Right now all scripts log in DEBUG level. This change enables only
DEBUG level if debug is also enabled for the nova service.

Change-Id: Ie58a6630877a58bec8ce763ede166997bd41f882
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/656497/1 && git format-patch -1 --stdout FETCH_HEAD,"['container_config_scripts/nova_wait_for_placement_service.py', 'container_config_scripts/nova_wait_for_compute_service.py', 'deployment/nova/nova-compute-container-puppet.yaml', 'container_config_scripts/nova_statedir_ownership.py', 'container_config_scripts/nova_cell_v2_discover_hosts.py']",5,590c408ff5b2fccb363567df2d4a5685383cd7c2,nova_config_script_loglevel,"debug = os.getenv('__OS_DEBUG', 'false') if debug.lower() == 'true': loglevel = logging.DEBUG else: loglevel = logging.INFO logging.basicConfig(stream=sys.stdout, level=loglevel)","logging.basicConfig(stream=sys.stdout, level=logging.DEBUG)",58,4
openstack%2Ftripleo-heat-templates~master~Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a,openstack/tripleo-heat-templates,master,Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a,Adjust deployed-server install package list for RHEL8,MERGED,2019-04-30 03:23:41.000000000,2019-05-02 22:19:33.000000000,2019-05-02 21:40:31.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29315}, {'_account_id': 30258}]","[{'number': 1, 'created': '2019-04-30 03:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/738a02f4a3e858e6a1c99aaf13c393069dfa50f7', 'message': 'DNM: install python3-heat-agent for deployed server\n\nChange-Id: Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a\n'}, {'number': 2, 'created': '2019-04-30 21:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae866e345cef016541ee3483ff4377a4ae406885', 'message': 'DNM: install python3-heat-agent for deployed server\n\nChange-Id: Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a\n'}, {'number': 3, 'created': '2019-04-30 22:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c37c24bf96358fe9bd425078b21704b0515c800', 'message': 'DNM: install python3-heat-agent for deployed server\n\nChange-Id: Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a\n'}, {'number': 4, 'created': '2019-05-01 20:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc60a6508655435988ff1b3bbe41040c9c1bec7f', 'message': 'Adjust deployed-server install package list for RHEL8\n\n - python-ipaddress is not available in rhel8\n - python3-heat-agent* need to be installed instead of\n   python-heat-agent*\n - lvm2 is required by ceph deployments\n\nChange-Id: Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a\n'}, {'number': 5, 'created': '2019-05-01 20:46:25.000000000', 'files': ['deployed-server/deployed-server-bootstrap-rhel.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9c83dbf9bdd383f1496cc9b14db3ae27e776938', 'message': 'Adjust deployed-server install package list for RHEL8\n\n - python-ipaddress is not available in rhel8\n - python3-heat-agent* need to be installed instead of\n   python-heat-agent*\n - lvm2 is required by ceph deployments\n\nCloses-bug: 1827276\n\nChange-Id: Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a\n'}]",0,656434,d9c83dbf9bdd383f1496cc9b14db3ae27e776938,19,9,5,18851,,,0,"Adjust deployed-server install package list for RHEL8

 - python-ipaddress is not available in rhel8
 - python3-heat-agent* need to be installed instead of
   python-heat-agent*
 - lvm2 is required by ceph deployments

Closes-bug: 1827276

Change-Id: Id5eb7edb48a7c56e8c9a3798fc8bd3eb08f4294a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/656434/5 && git format-patch -1 --stdout FETCH_HEAD,['deployed-server/deployed-server-bootstrap-rhel.sh'],1,738a02f4a3e858e6a1c99aaf13c393069dfa50f7,bug/1827276, python3-heat-agent* \, python-ipaddress \ python-heat-agent* \,1,2
openstack%2Fpuppet-openstack-guide~master~I2ad3c1f513b887f0f5e0e84ce1e69f9129cdc512,openstack/puppet-openstack-guide,master,I2ad3c1f513b887f0f5e0e84ce1e69f9129cdc512,Fix correct openstack project-config repo,MERGED,2019-05-01 19:01:58.000000000,2019-05-02 22:17:34.000000000,2019-05-02 22:17:34.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 19:01:58.000000000', 'files': ['doc/source/contributor/new-module.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/7789ec1ca540e708b98a28d70726014826f00558', 'message': 'Fix correct openstack project-config repo\n\nThe repository was moved from openstack-infra to\nopenstack namespace.\n\nChange-Id: I2ad3c1f513b887f0f5e0e84ce1e69f9129cdc512\n'}]",0,656695,7789ec1ca540e708b98a28d70726014826f00558,7,3,1,16137,,,0,"Fix correct openstack project-config repo

The repository was moved from openstack-infra to
openstack namespace.

Change-Id: I2ad3c1f513b887f0f5e0e84ce1e69f9129cdc512
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/95/656695/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/new-module.rst'],1,7789ec1ca540e708b98a28d70726014826f00558,, #. Submit a review to openstack/project-config to create the, #. Submit a review to openstack-infra/project-config to create the,1,1
openstack%2Fpuppet-openstack-guide~master~I63763b5e914fe19a1961676eecc83bf2d7b87b97,openstack/puppet-openstack-guide,master,I63763b5e914fe19a1961676eecc83bf2d7b87b97,Update supported versions,MERGED,2019-05-01 19:01:58.000000000,2019-05-02 22:17:33.000000000,2019-05-02 22:17:33.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 19:01:58.000000000', 'files': ['doc/source/install/deploy.rst', 'doc/source/install/supported-platforms.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/052b0ea348421bc2f4bdff83a4c0117a25e07535', 'message': 'Update supported versions\n\nChange-Id: I63763b5e914fe19a1961676eecc83bf2d7b87b97\n'}]",0,656694,052b0ea348421bc2f4bdff83a4c0117a25e07535,7,3,1,16137,,,0,"Update supported versions

Change-Id: I63763b5e914fe19a1961676eecc83bf2d7b87b97
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/94/656694/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/deploy.rst', 'doc/source/install/supported-platforms.rst']",2,052b0ea348421bc2f4bdff83a4c0117a25e07535,,The modules are tested on Puppet 4 up to Queens and then Puppet 5 and 6 from there. Puppet 3 or earlier is NOT supported. Puppet 4 is NOT supported as of the Train release.,The modules are tested on Puppet 4 up to Queens and then Puppet 5 from there but keeping unit testing for Puppet 4. Puppet 3 or earlier is NOT supported.,3,4
openstack%2Fpuppet-openstack-guide~master~Iee59ea6bd7e628c8f80c04d17f9e66a81acf3480,openstack/puppet-openstack-guide,master,Iee59ea6bd7e628c8f80c04d17f9e66a81acf3480,Add information about automatic forge uploads,MERGED,2019-05-01 19:01:58.000000000,2019-05-02 22:17:33.000000000,2019-05-02 22:17:33.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 19:01:58.000000000', 'files': ['doc/source/install/releases.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/e2aaf8bf3a4528650f8e9b54dc0e6fc874af103a', 'message': 'Add information about automatic forge uploads\n\nChange-Id: Iee59ea6bd7e628c8f80c04d17f9e66a81acf3480\n'}]",0,656693,e2aaf8bf3a4528650f8e9b54dc0e6fc874af103a,7,3,1,16137,,,0,"Add information about automatic forge uploads

Change-Id: Iee59ea6bd7e628c8f80c04d17f9e66a81acf3480
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/93/656693/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/releases.rst'],1,e2aaf8bf3a4528650f8e9b54dc0e6fc874af103a,,"- From Stein, all new releases are automatically uploaded on https://forge.puppetlabs.com/openstack",,2,0
openstack%2Fpuppet-openstack-guide~master~Iefc485e3857767efa3ef23c131db6197196fc66f,openstack/puppet-openstack-guide,master,Iefc485e3857767efa3ef23c131db6197196fc66f,Remove deprecated modules from list,MERGED,2019-05-01 19:01:58.000000000,2019-05-02 22:17:32.000000000,2019-05-02 22:17:32.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 19:01:58.000000000', 'files': ['doc/source/contributor/module-list.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/27b5dcaac17f33a318c04ab39ec79edfc624587d', 'message': 'Remove deprecated modules from list\n\nChange-Id: Iefc485e3857767efa3ef23c131db6197196fc66f\n'}]",0,656692,27b5dcaac17f33a318c04ab39ec79edfc624587d,7,3,1,16137,,,0,"Remove deprecated modules from list

Change-Id: Iefc485e3857767efa3ef23c131db6197196fc66f
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/92/656692/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/module-list.rst'],1,27b5dcaac17f33a318c04ab39ec79edfc624587d,,,* `TripleO UI <http://opendev.org/openstack/puppet-tuskar/>`_ (*TripleO UI*) (**Deprecated**) * `Composition Layer <http://opendev.org/stackforge/puppet-openstack/>`_ (*OpenStack*) (**Deprecated in Juno**),0,2
openstack%2Fswift~feature%2Flosf~Ib320feca430d41072cd47213771ffa0dc5cfcdab,openstack/swift,feature/losf,Ib320feca430d41072cd47213771ffa0dc5cfcdab,Use pre-compiled cmake instead of building from source,ABANDONED,2019-05-02 17:31:18.000000000,2019-05-02 22:15:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-02 17:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/af091a6d22b2d5c2f65cd5d2f78a8b5d82bb09d9', 'message': ""Use pre-compiled cmake instead of building from source\n\nBecause the cmake spends much time at the gate and we don't have\nto require any specific compile option.\n\nChange-Id: Ib320feca430d41072cd47213771ffa0dc5cfcdab\n""}, {'number': 2, 'created': '2019-05-02 17:40:25.000000000', 'files': ['tools/playbooks/losf_setup/pre.yaml', 'tools/playbooks/common/install_losf_dependencies.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/f6a04e7762eb30ee77d3d9b98ecc03886025fb6c', 'message': ""Use pre-compiled cmake instead of building from source\n\nBecause the cmake spends much time at the gate and we don't have\nto require any specific compile option.\n\nChange-Id: Ib320feca430d41072cd47213771ffa0dc5cfcdab\n""}]",0,656818,f6a04e7762eb30ee77d3d9b98ecc03886025fb6c,4,1,2,4608,,,0,"Use pre-compiled cmake instead of building from source

Because the cmake spends much time at the gate and we don't have
to require any specific compile option.

Change-Id: Ib320feca430d41072cd47213771ffa0dc5cfcdab
",git fetch https://review.opendev.org/openstack/swift refs/changes/18/656818/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/playbooks/losf_setup/pre.yaml', 'tools/playbooks/common/install_losf_dependencies.yaml']",2,af091a6d22b2d5c2f65cd5d2f78a8b5d82bb09d9,, src: https://github.com/Kitware/CMake/releases/download/v3.14.3/cmake-3.14.3-Linux-x86_64.tar.gz," src: https://github.com/Kitware/CMake/releases/download/v3.14.3/cmake-3.14.3.tar.gz - name: bootstrap installation shell: ./bootstrap args: chdir: ""{{ ansible_env.HOME }}/cmake-3.14.3"" - name: make cmake make: chdir: ""{{ ansible_env.HOME }}/cmake-3.14.3"" - name: install cmake make: target: install chdir: ""{{ ansible_env.HOME }}/cmake-3.14.3"" become: true ",2,17
openstack%2Fopenstack-helm~master~I62454ef081d5f296d4f850baa67e9d2602461314,openstack/openstack-helm,master,I62454ef081d5f296d4f850baa67e9d2602461314,Let keystone make rabbitmq queues HA when available,MERGED,2019-04-23 07:19:33.000000000,2019-05-02 22:14:32.000000000,2019-05-02 22:14:32.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-04-23 07:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/33548e8141ecd86fb8dce9bea011c720feef6f19', 'message': 'Let keystone make rabbitmq queues HA when available\n\nChange-Id: I62454ef081d5f296d4f850baa67e9d2602461314\n'}, {'number': 2, 'created': '2019-04-23 13:11:24.000000000', 'files': ['keystone/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dc92161b4ea0e4da14df0787cb80cc7802c53162', 'message': 'Let keystone make rabbitmq queues HA when available\n\nChange-Id: I62454ef081d5f296d4f850baa67e9d2602461314\n'}]",1,654810,dc92161b4ea0e4da14df0787cb80cc7802c53162,15,5,2,27459,,,0,"Let keystone make rabbitmq queues HA when available

Change-Id: I62454ef081d5f296d4f850baa67e9d2602461314
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/10/654810/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values.yaml'],1,33548e8141ecd86fb8dce9bea011c720feef6f19,helm-rabbitmq-ha, oslo_messaging_rabbit: rabbit_ha_queues: true,,2,0
openstack%2Fproject-config~master~Icbef648e9948e0fa636dd0d15039b6fc229541ca,openstack/project-config,master,Icbef648e9948e0fa636dd0d15039b6fc229541ca,Correct SB project groups data type,MERGED,2019-05-02 20:49:37.000000000,2019-05-02 22:14:22.000000000,2019-05-02 22:14:22.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 20:49:37.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cac0b46ece21a8150616560c3fbc1fbe96f5542b', 'message': 'Correct SB project groups data type\n\nA handful of recent project additions included a ""groups"" key which\nused a string instead of a list, and manage-projects dutifully\niterated over each element of these strings creating new\nsingle-character project groups corresponding to them. Correct the\noffending entries to be a list instead.\n\nManual cleanup will be required in StoryBoard\'s database once this\nchange merges.\n\nChange-Id: Icbef648e9948e0fa636dd0d15039b6fc229541ca\n'}]",0,656868,cac0b46ece21a8150616560c3fbc1fbe96f5542b,7,3,1,5263,,,0,"Correct SB project groups data type

A handful of recent project additions included a ""groups"" key which
used a string instead of a list, and manage-projects dutifully
iterated over each element of these strings creating new
single-character project groups corresponding to them. Correct the
offending entries to be a list instead.

Manual cleanup will be required in StoryBoard's database once this
change merges.

Change-Id: Icbef648e9948e0fa636dd0d15039b6fc229541ca
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/656868/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,cac0b46ece21a8150616560c3fbc1fbe96f5542b,inaugust, groups: - inaugust groups: - inaugust groups: - inaugust groups: - picasso, groups: inaugust groups: inaugust groups: inaugust groups: picasso,8,4
openstack%2Fopenstack-helm~master~I5006cb501af5fb73051998b84a35c9b96bba4be9,openstack/openstack-helm,master,I5006cb501af5fb73051998b84a35c9b96bba4be9,[WIP] Adding charts for Panko,ABANDONED,2019-05-02 19:57:27.000000000,2019-05-02 22:08:51.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 19:57:27.000000000', 'files': ['panko/templates/ingress-api.yaml', 'panko/templates/secret-db.yaml', 'panko/templates/deployment-api.yaml', 'panko/templates/secret-keystone.yaml', 'panko/templates/service-ingress-api.yaml', 'panko/templates/pod-rally-test.yaml', 'panko/templates/pdb-api.yaml', 'panko/templates/service-api.yaml', 'panko/templates/bin/_db-sync.sh.tpl', 'panko/requirements.yaml', 'panko/templates/bin/_panko-api.sh.tpl', 'panko/templates/job-ks-service.yaml', 'panko/templates/job-db-drop.yaml', 'panko/templates/job-db-init.yaml', 'panko/templates/job-image-repo-sync.yaml', 'panko/templates/etc/_wsgi-panko.conf.tpl', 'panko/templates/configmap-etc.yaml', 'panko/templates/job-ks-user.yaml', 'panko/templates/job-db-sync.yaml', 'panko/templates/secret-ingress-tls.yaml', 'panko/templates/configmap-bin.yaml', 'panko/Chart.yaml', 'panko/values.yaml', 'panko/templates/job-ks-endpoints.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/46d6ea2cd015247e1f11dad970f6bd053a2cfbab', 'message': '[WIP] Adding charts for Panko\n\nThis commit adds openstack-helm charts for the Panko event\nservice.\n\nChange-Id: I5006cb501af5fb73051998b84a35c9b96bba4be9\n'}]",0,656853,46d6ea2cd015247e1f11dad970f6bd053a2cfbab,4,2,1,107,,,0,"[WIP] Adding charts for Panko

This commit adds openstack-helm charts for the Panko event
service.

Change-Id: I5006cb501af5fb73051998b84a35c9b96bba4be9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/53/656853/1 && git format-patch -1 --stdout FETCH_HEAD,"['panko/templates/ingress-api.yaml', 'panko/templates/secret-db.yaml', 'panko/templates/deployment-api.yaml', 'panko/templates/secret-keystone.yaml', 'panko/templates/service-ingress-api.yaml', 'panko/templates/pod-rally-test.yaml', 'panko/templates/pdb-api.yaml', 'panko/templates/service-api.yaml', 'panko/templates/bin/_db-sync.sh.tpl', 'panko/requirements.yaml', 'panko/templates/bin/_panko-api.sh.tpl', 'panko/templates/job-ks-service.yaml', 'panko/templates/job-db-drop.yaml', 'panko/templates/job-db-init.yaml', 'panko/templates/job-image-repo-sync.yaml', 'panko/templates/etc/_wsgi-panko.conf.tpl', 'panko/templates/configmap-etc.yaml', 'panko/templates/job-ks-user.yaml', 'panko/templates/job-db-sync.yaml', 'panko/templates/secret-ingress-tls.yaml', 'panko/templates/configmap-bin.yaml', 'panko/Chart.yaml', 'panko/values.yaml', 'panko/templates/job-ks-endpoints.yaml']",24,46d6ea2cd015247e1f11dad970f6bd053a2cfbab,asomya_panko,Copyright 2017 The Openstack-Helm Authors.{{- end }},"Copyright 2019 Wind River Systems, Inc.{{- end }} ",306,445
openstack%2Fpuppet-openstack-guide~master~I5b89beb562aaefcf7fab2ce2c19d681f062787fa,openstack/puppet-openstack-guide,master,I5b89beb562aaefcf7fab2ce2c19d681f062787fa,Update release team information,MERGED,2019-05-01 19:01:58.000000000,2019-05-02 22:06:33.000000000,2019-05-02 22:06:33.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 19:01:58.000000000', 'files': ['doc/source/contributor/community.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/d5fe17090a4114465a72cc194cf687bbe364309e', 'message': 'Update release team information\n\nChange-Id: I5b89beb562aaefcf7fab2ce2c19d681f062787fa\n'}]",0,656691,d5fe17090a4114465a72cc194cf687bbe364309e,7,3,1,16137,,,0,"Update release team information

Change-Id: I5b89beb562aaefcf7fab2ce2c19d681f062787fa
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/91/656691/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/community.rst'],1,d5fe17090a4114465a72cc194cf687bbe364309e,,Puppet OpenStack releases are done with the help of the OpenStack Release Team.,"Until Puppet OpenStack releases will be managed by OpenStack Release Team, releases are now managed by a release `subteam`_... _subteam: https://review.opendev.org/#/admin/groups/1022,members",1,3
openstack%2Fneutron-tempest-plugin~master~I3543a7a874fbc48f5b2750f356c473fff7b4e9dc,openstack/neutron-tempest-plugin,master,I3543a7a874fbc48f5b2750f356c473fff7b4e9dc,Adding advanced_image param into test_trunk_subport_lifecycle,ABANDONED,2019-05-02 14:42:55.000000000,2019-05-02 21:58:54.000000000,,"[{'_account_id': 20171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 14:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/937f0bf6cdb5c1b3cdb9ca5502575f744079d789', 'message': 'Adding advanced_image param into test_trunk_subport_lifecycle\n\nIn the merged patch below, configuration of read of advanced_image forgotten\nhence adding it into tests,\n\nhttps://github.com/openstack/neutron-tempest-plugin/ \\\n    commit/fa1081ad9f607b7a45a406eca7fbf48de206409b\n\nChange-Id: I3543a7a874fbc48f5b2750f356c473fff7b4e9dc\n'}, {'number': 2, 'created': '2019-05-02 14:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c74ef8d10d5d66890378494adfe3d5106f63a85e', 'message': 'Adding advanced_image param into test_trunk_subport_lifecycle\n\nIn the merged patch below, configuration of read of advanced_image forgotten\nhence adding it into tests,\n\nhttps://github.com/openstack/neutron-tempest-plugin/ \\\n    commit/fa1081ad9f607b7a45a406eca7fbf48de206409b\n\nChange-Id: I3543a7a874fbc48f5b2750f356c473fff7b4e9dc\n'}, {'number': 3, 'created': '2019-05-02 14:48:23.000000000', 'files': ['neutron_tempest_plugin/scenario/test_trunk.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/002d30232600c82f0cd90e5baf1a57bda63fb888', 'message': 'Adding advanced_image param into test_trunk_subport_lifecycle\n\nIn the merged patch below, configuration of read of advanced_image forgotten\nhence adding it into tests,\n\nhttps://github.com/openstack/neutron-tempest-plugin/ \\\n    commit/fa1081ad9f607b7a45a406eca7fbf48de206409b\n\nChange-Id: I3543a7a874fbc48f5b2750f356c473fff7b4e9dc\n'}]",0,656786,002d30232600c82f0cd90e5baf1a57bda63fb888,6,2,3,20171,,,0,"Adding advanced_image param into test_trunk_subport_lifecycle

In the merged patch below, configuration of read of advanced_image forgotten
hence adding it into tests,

https://github.com/openstack/neutron-tempest-plugin/ \
    commit/fa1081ad9f607b7a45a406eca7fbf48de206409b

Change-Id: I3543a7a874fbc48f5b2750f356c473fff7b4e9dc
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/86/656786/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_trunk.py'],1,937f0bf6cdb5c1b3cdb9ca5502575f744079d789,trunk_subport_lifecycle, use_advanced_image = ( not CONF.neutron_plugin_options.default_image_is_advanced) vm1 = self._create_server_with_trunk_port(use_advanced_image) vm2 = self._create_server_with_trunk_port(use_advanced_image), vm1 = self._create_server_with_trunk_port() vm2 = self._create_server_with_trunk_port(),6,2
openstack%2Fswift~stable%2Fpike~I0a94482ed16cb30ce79074e053e6177fe97bcaa9,openstack/swift,stable/pike,I0a94482ed16cb30ce79074e053e6177fe97bcaa9,object-server can 409 in response to x-if-delete-at,MERGED,2019-01-09 08:01:58.000000000,2019-05-02 21:55:54.000000000,2019-05-02 21:55:54.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-09 08:01:58.000000000', 'files': ['test/unit/obj/test_expirer.py', 'swift/obj/server.py', 'test/unit/obj/test_server.py', 'swift/obj/expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3627b0c0af417d26b7117fe6c116025706ddf694', 'message': 'object-server can 409 in response to x-if-delete-at\n\nPreviously, if the expirer had a stale work item (because the object\nwas overwritten or deleted, or some other process handled the delete),\nthen it would keep retrying for reclaim_age, but every time it\'d get\nback a 412.\n\nNow, have the object-server be smart enough to say, ""I have more recent\ninformation than you"" and let the expirer accept that as success.\n\nChange-Id: I0a94482ed16cb30ce79074e053e6177fe97bcaa9\n'}]",0,629402,3627b0c0af417d26b7117fe6c116025706ddf694,7,2,1,23449,,,0,"object-server can 409 in response to x-if-delete-at

Previously, if the expirer had a stale work item (because the object
was overwritten or deleted, or some other process handled the delete),
then it would keep retrying for reclaim_age, but every time it'd get
back a 412.

Now, have the object-server be smart enough to say, ""I have more recent
information than you"" and let the expirer accept that as success.

Change-Id: I0a94482ed16cb30ce79074e053e6177fe97bcaa9
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/629402/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'swift/obj/server.py', 'test/unit/obj/test_server.py', 'swift/obj/expirer.py']",4,3627b0c0af417d26b7117fe6c116025706ddf694,pike-slow-expirer," :raises UnexpectedResponse: if the delete was unsuccessful and should be retried later (2, HTTP_CONFLICT))"," (2,))",38,3
openstack%2Fcinder~master~Iba057bf5253b570582b029f2f2db3f9ddfc73dca,openstack/cinder,master,Iba057bf5253b570582b029f2f2db3f9ddfc73dca,Correct and optimize hpe3par tests,MERGED,2019-04-25 18:07:09.000000000,2019-05-02 21:55:52.000000000,2019-05-02 21:55:52.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29122}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-04-25 18:07:09.000000000', 'files': ['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5cf104546df4968e4fcc8251c72a507fd8719c66', 'message': ""Correct and optimize hpe3par tests\n\nThe volume_type_hos dict wasn't copied rather referenced by another variable\nin the tests that caused modifications in the original dict.\nThis shouldn't be allowed in objects shared by multiple tests.\nThis patch fixes it along with some minor updates as suggested in [1].\n\n[1] Idda5512d8e35da401ee232524ec1d1fcd03bf9e2\n\nChange-Id: Iba057bf5253b570582b029f2f2db3f9ddfc73dca\n""}]",0,655756,5cf104546df4968e4fcc8251c72a507fd8719c66,36,31,1,27615,,,0,"Correct and optimize hpe3par tests

The volume_type_hos dict wasn't copied rather referenced by another variable
in the tests that caused modifications in the original dict.
This shouldn't be allowed in objects shared by multiple tests.
This patch fixes it along with some minor updates as suggested in [1].

[1] Idda5512d8e35da401ee232524ec1d1fcd03bf9e2

Change-Id: Iba057bf5253b570582b029f2f2db3f9ddfc73dca
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/655756/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",2,5cf104546df4968e4fcc8251c72a507fd8719c66,," hpe3par_keys, 'convert_to_base') hpe3par_keys, 'convert_to_base') v2['volume_type_id'] = ( v1['comment'], 'volume_type_id'))"," hpe3par_keys, 'convert_to_base', False) hpe3par_keys, 'convert_to_base', False) v2['volume_type_id'] = \ v1['comment'], 'volume_type_id')",10,14
openstack%2Fvitrage~master~If820cd3866818f7283d8aa9559257166e0627cc5,openstack/vitrage,master,If820cd3866818f7283d8aa9559257166e0627cc5,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 09:06:21.000000000,2019-05-02 21:48:18.000000000,2019-05-02 21:48:18.000000000,"[{'_account_id': 17130}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-23 09:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/db67f85d85bdc5269aa7c6026c7506ddc29ab03a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: If820cd3866818f7283d8aa9559257166e0627cc5\n'}, {'number': 2, 'created': '2019-04-23 17:54:11.000000000', 'files': ['README.rst', 'doc/source/install/install-rdo.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/7fdda9f2c2ccffc69147df31ea97041797fa094f', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: If820cd3866818f7283d8aa9559257166e0627cc5\n'}]",0,654890,7fdda9f2c2ccffc69147df31ea97041797fa094f,12,6,2,27781,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: If820cd3866818f7283d8aa9559257166e0627cc5
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/90/654890/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'doc/source/install/install-rdo.rst', 'tox.ini']",3,db67f85d85bdc5269aa7c6026c7506ddc29ab03a,,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},7,7
openstack%2Ftripleo-common~stable%2Fstein~I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7,openstack/tripleo-common,stable/stein,I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7,Add new healthchecks for zaqar services,MERGED,2019-05-01 14:40:11.000000000,2019-05-02 21:40:39.000000000,2019-05-02 21:40:39.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-01 14:40:11.000000000', 'files': ['healthcheck/zaqar-socket', 'healthcheck/zaqar-api'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/787ec853af12267272aaffc1309e8995ecee443d', 'message': 'Add new healthchecks for zaqar services\n\nZaqar has 2 containers, one for API (wsgi) and a second one for\nwebsocket (python).\n\nWe therefore want to ensure the ports are in use in the containers.\n\nChange-Id: I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7\n(cherry picked from commit 4f5a275086a6fab538a69bfdb74e002489d7e599)\n'}]",0,656638,787ec853af12267272aaffc1309e8995ecee443d,8,5,1,3153,,,0,"Add new healthchecks for zaqar services

Zaqar has 2 containers, one for API (wsgi) and a second one for
websocket (python).

We therefore want to ensure the ports are in use in the containers.

Change-Id: I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7
(cherry picked from commit 4f5a275086a6fab538a69bfdb74e002489d7e599)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/656638/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/zaqar-socket', 'healthcheck/zaqar-api']",2,787ec853af12267272aaffc1309e8995ecee443d,healthchecks/zaqar-stable/stein,#!/bin/bash . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh check_url=$(get_url_from_vhost /etc/httpd/conf.d/10-zaqar_wsgi.conf) healthcheck_curl ${check_url} ,,21,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I36c81f58c3b3e9366212a93f73b6212cca4ea569,openstack/tripleo-heat-templates,stable/stein,I36c81f58c3b3e9366212a93f73b6212cca4ea569,ensure /var/run/redis is present upon reboot,MERGED,2019-05-01 14:46:42.000000000,2019-05-02 21:40:38.000000000,2019-05-02 21:40:38.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-01 14:46:42.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/redis-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8437f6c9cd04aaf08d661e8ca5b49ad7767856b5', 'message': ""ensure /var/run/redis is present upon reboot\n\n/var/run is mounted as a tmpfs, which means /var/run/redis\ndisappears on reboot. Since podman doesn't try to recreate a\ndirectory if it doesn't exist, containerized redis cannot\nbe restarted because one of its bind mount is missing.\n\nForce the creation of /var/run/redis after every reboot, with\ndefault permissions. On container restart, Kolla will chown and\nchmod the directory to the proper value.\n\nChange-Id: I36c81f58c3b3e9366212a93f73b6212cca4ea569\nCloses-Bug: #1826554\nDepends-On: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9\n(cherry picked from commit 75361e66b0357f9997586bd6581f0abc05f2cc96)\n""}]",0,656642,8437f6c9cd04aaf08d661e8ca5b49ad7767856b5,11,6,1,3153,,,0,"ensure /var/run/redis is present upon reboot

/var/run is mounted as a tmpfs, which means /var/run/redis
disappears on reboot. Since podman doesn't try to recreate a
directory if it doesn't exist, containerized redis cannot
be restarted because one of its bind mount is missing.

Force the creation of /var/run/redis after every reboot, with
default permissions. On container restart, Kolla will chown and
chmod the directory to the proper value.

Change-Id: I36c81f58c3b3e9366212a93f73b6212cca4ea569
Closes-Bug: #1826554
Depends-On: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9
(cherry picked from commit 75361e66b0357f9997586bd6581f0abc05f2cc96)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/656642/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/redis-container-puppet.yaml']",2,8437f6c9cd04aaf08d661e8ca5b49ad7767856b5,bug/1826554-stable/stein, - name: ensure /var/run/redis is present upon reboot copy: dest: /etc/tmpfiles.d/var-run-redis.conf content: | d /var/run/redis 0755 root root - -,,10,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I36c81f58c3b3e9366212a93f73b6212cca4ea569,openstack/tripleo-heat-templates,stable/rocky,I36c81f58c3b3e9366212a93f73b6212cca4ea569,ensure /var/run/redis is present upon reboot,MERGED,2019-05-01 14:47:56.000000000,2019-05-02 21:40:36.000000000,2019-05-02 21:40:36.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-01 14:47:56.000000000', 'files': ['docker/services/database/redis.yaml', 'docker/services/pacemaker/database/redis.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ed8883ca408178d4440b0fb3c99a6722f575a91', 'message': ""ensure /var/run/redis is present upon reboot\n\n/var/run is mounted as a tmpfs, which means /var/run/redis\ndisappears on reboot. Since podman doesn't try to recreate a\ndirectory if it doesn't exist, containerized redis cannot\nbe restarted because one of its bind mount is missing.\n\nForce the creation of /var/run/redis after every reboot, with\ndefault permissions. On container restart, Kolla will chown and\nchmod the directory to the proper value.\n\nChange-Id: I36c81f58c3b3e9366212a93f73b6212cca4ea569\nCloses-Bug: #1826554\nDepends-On: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9\n(cherry picked from commit 75361e66b0357f9997586bd6581f0abc05f2cc96)\n""}]",0,656644,5ed8883ca408178d4440b0fb3c99a6722f575a91,8,5,1,3153,,,0,"ensure /var/run/redis is present upon reboot

/var/run is mounted as a tmpfs, which means /var/run/redis
disappears on reboot. Since podman doesn't try to recreate a
directory if it doesn't exist, containerized redis cannot
be restarted because one of its bind mount is missing.

Force the creation of /var/run/redis after every reboot, with
default permissions. On container restart, Kolla will chown and
chmod the directory to the proper value.

Change-Id: I36c81f58c3b3e9366212a93f73b6212cca4ea569
Closes-Bug: #1826554
Depends-On: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9
(cherry picked from commit 75361e66b0357f9997586bd6581f0abc05f2cc96)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/656644/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/database/redis.yaml', 'docker/services/pacemaker/database/redis.yaml']",2,5ed8883ca408178d4440b0fb3c99a6722f575a91,bug/1826554, - name: ensure /var/run/redis is present upon reboot copy: dest: /etc/tmpfiles.d/var-run-redis.conf content: | d /var/run/redis 0755 root root - -,,10,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I108d3e8577ca0522c70e6b5f5728ed32eb354665,openstack/tripleo-heat-templates,stable/queens,I108d3e8577ca0522c70e6b5f5728ed32eb354665,Remove deprecated value used to set nova_metadata_ip,MERGED,2019-04-15 08:51:49.000000000,2019-05-02 21:40:34.000000000,2019-05-02 21:40:34.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25613}]","[{'number': 1, 'created': '2019-04-15 08:51:49.000000000', 'files': ['puppet/services/neutron-metadata.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33784c05376f25fc1868274a3b375c45de0957b8', 'message': 'Remove deprecated value used to set nova_metadata_ip\n\nRemove place where we set value that is not using\nanymore in neutron puppet (this value was used to set\nnova_metadata_ip in neutron metadata agent, currently\nthis param is replaced by nova_metadata_host)\n\nChange-Id: I108d3e8577ca0522c70e6b5f5728ed32eb354665\nCloses-Bug: 1787550\n(cherry picked from commit a22ceefc5f8f1fbc4fe0151c494471ea5af969d6)\n'}]",0,652592,33784c05376f25fc1868274a3b375c45de0957b8,15,7,1,25613,,,0,"Remove deprecated value used to set nova_metadata_ip

Remove place where we set value that is not using
anymore in neutron puppet (this value was used to set
nova_metadata_ip in neutron metadata agent, currently
this param is replaced by nova_metadata_host)

Change-Id: I108d3e8577ca0522c70e6b5f5728ed32eb354665
Closes-Bug: 1787550
(cherry picked from commit a22ceefc5f8f1fbc4fe0151c494471ea5af969d6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/652592/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/neutron-metadata.yaml'],1,33784c05376f25fc1868274a3b375c45de0957b8,bug/1787550-stable/queens,," neutron::agents::metadata::metadata_ip: ""%{hiera('nova_metadata_vip')}""",0,1
openstack%2Fpuppet-tripleo~stable%2Fstein~Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9,openstack/puppet-tripleo,stable/stein,Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9,redis HA: allow SELinux relabel for /var/run/redis,MERGED,2019-05-01 14:46:34.000000000,2019-05-02 21:40:33.000000000,2019-05-02 21:40:33.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-01 14:46:34.000000000', 'files': ['manifests/profile/pacemaker/database/redis_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3edc3929eb33992779b9e7cf488b3cb032f664b6', 'message': 'redis HA: allow SELinux relabel for /var/run/redis\n\n/var/run/redis is bind-mounted from the host, and on every reboot\nthat directory is recreated with default context for the host.\n\nConfigure the bind-mount so that /var/run/redis is relabelled\nwith a container context every time the redis container is started,\nso that kolla can copy its config file and update the owner and\nattributes as expected without SELinux denials.\n\nChange-Id: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9\nPartial-Bug: #1826554\n(cherry picked from commit afebff58fb2c5079c68cf2889d959c6dfd2d9993)\n'}]",0,656641,3edc3929eb33992779b9e7cf488b3cb032f664b6,10,5,1,3153,,,0,"redis HA: allow SELinux relabel for /var/run/redis

/var/run/redis is bind-mounted from the host, and on every reboot
that directory is recreated with default context for the host.

Configure the bind-mount so that /var/run/redis is relabelled
with a container context every time the redis container is started,
so that kolla can copy its config file and update the owner and
attributes as expected without SELinux denials.

Change-Id: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9
Partial-Bug: #1826554
(cherry picked from commit afebff58fb2c5079c68cf2889d959c6dfd2d9993)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/41/656641/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/redis_bundle.pp'],1,3edc3929eb33992779b9e7cf488b3cb032f664b6,bug/1826554-stable/stein," 'options' => 'rw,z',"," 'options' => 'rw',",1,1
openstack%2Fpuppet-tripleo~stable%2Frocky~Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9,openstack/puppet-tripleo,stable/rocky,Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9,redis HA: allow SELinux relabel for /var/run/redis,MERGED,2019-05-01 14:46:59.000000000,2019-05-02 21:40:30.000000000,2019-05-02 21:40:30.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-01 14:46:59.000000000', 'files': ['manifests/profile/pacemaker/database/redis_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d16e5124a466381944c2c54796973cf9f4529ae8', 'message': 'redis HA: allow SELinux relabel for /var/run/redis\n\n/var/run/redis is bind-mounted from the host, and on every reboot\nthat directory is recreated with default context for the host.\n\nConfigure the bind-mount so that /var/run/redis is relabelled\nwith a container context every time the redis container is started,\nso that kolla can copy its config file and update the owner and\nattributes as expected without SELinux denials.\n\nChange-Id: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9\nPartial-Bug: #1826554\n(cherry picked from commit afebff58fb2c5079c68cf2889d959c6dfd2d9993)\n'}]",0,656643,d16e5124a466381944c2c54796973cf9f4529ae8,7,4,1,3153,,,0,"redis HA: allow SELinux relabel for /var/run/redis

/var/run/redis is bind-mounted from the host, and on every reboot
that directory is recreated with default context for the host.

Configure the bind-mount so that /var/run/redis is relabelled
with a container context every time the redis container is started,
so that kolla can copy its config file and update the owner and
attributes as expected without SELinux denials.

Change-Id: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9
Partial-Bug: #1826554
(cherry picked from commit afebff58fb2c5079c68cf2889d959c6dfd2d9993)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/43/656643/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/redis_bundle.pp'],1,d16e5124a466381944c2c54796973cf9f4529ae8,bug/1826554-stable/rocky," 'options' => 'rw,z',"," 'options' => 'rw',",1,1
openstack%2Fpuppet-tripleo~stable%2Fstein~I7bfc011e8ac4f93cf569340aa42e79a45ed6c199,openstack/puppet-tripleo,stable/stein,I7bfc011e8ac4f93cf569340aa42e79a45ed6c199,Remove unused docker_distribution template,MERGED,2019-05-01 14:48:09.000000000,2019-05-02 21:34:33.000000000,2019-05-02 21:34:33.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-01 14:48:09.000000000', 'files': ['templates/docker_distribution/registry_config.yml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/73168f04f02159de656ae1b56415628a0f4f988c', 'message': 'Remove unused docker_distribution template\n\nDocker profile was remove, this file is a leftover.\n\nChange-Id: I7bfc011e8ac4f93cf569340aa42e79a45ed6c199\n(cherry picked from commit 977cf8f5884c0f6b7a804e334af1c175db8cbb64)\n'}]",0,656645,73168f04f02159de656ae1b56415628a0f4f988c,7,3,1,3153,,,0,"Remove unused docker_distribution template

Docker profile was remove, this file is a leftover.

Change-Id: I7bfc011e8ac4f93cf569340aa42e79a45ed6c199
(cherry picked from commit 977cf8f5884c0f6b7a804e334af1c175db8cbb64)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/45/656645/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/docker_distribution/registry_config.yml.erb'],1,73168f04f02159de656ae1b56415628a0f4f988c,ipv6-prov-stable/stein,,version: 0.1 log: fields: service: registry storage: cache: layerinfo: inmemory filesystem: rootdirectory: /var/lib/registry http: addr: <%= @registry_host %>:<%= @registry_port %> ,0,11
openstack%2Ftripleo-heat-templates~stable%2Frocky~I870f6f5286ac9222d6d8fbdcb48fe6b6559993ba,openstack/tripleo-heat-templates,stable/rocky,I870f6f5286ac9222d6d8fbdcb48fe6b6559993ba,Change setype for non container /var/log/<service> directories,MERGED,2019-05-01 14:51:43.000000000,2019-05-02 21:34:32.000000000,2019-05-02 21:34:32.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-01 14:51:43.000000000', 'files': ['docker/services/logging/files/heat-engine.yaml', 'docker/services/logging/files/neutron-common.yaml', 'docker/services/logging/files/nova-metadata.yaml', 'docker/services/logging/files/heat-api-cfn.yaml', 'docker/services/logging/files/barbican-api.yaml', 'docker/services/logging/files/nova-common.yaml', 'docker/services/logging/files/keystone.yaml', 'docker/services/logging/files/heat-api.yaml', 'docker/services/logging/files/nova-api.yaml', 'docker/services/logging/files/panko-api.yaml', 'docker/services/logging/files/opendaylight-api.yaml', 'docker/services/logging/files/neutron-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9eadc4c826905642ca8945ab1d2b48172ea9b7e', 'message': 'Change setype for non container /var/log/<service> directories\n\n/var/log/<service> is not used by containers, therefore setype\nsvirt_sandbox_file_t is not required. This changes it to the\ndefault var_log_t.\n\nChange-Id: I870f6f5286ac9222d6d8fbdcb48fe6b6559993ba\n(cherry picked from commit 5906f45ffec42b5b010ef1c8b3352ba521ce9d2a)\n(cherry picked from commit 1c7c337ef3cfb448e857e0cd8fd3604f215e58a8)\n'}]",0,656647,d9eadc4c826905642ca8945ab1d2b48172ea9b7e,7,4,1,3153,,,0,"Change setype for non container /var/log/<service> directories

/var/log/<service> is not used by containers, therefore setype
svirt_sandbox_file_t is not required. This changes it to the
default var_log_t.

Change-Id: I870f6f5286ac9222d6d8fbdcb48fe6b6559993ba
(cherry picked from commit 5906f45ffec42b5b010ef1c8b3352ba521ce9d2a)
(cherry picked from commit 1c7c337ef3cfb448e857e0cd8fd3604f215e58a8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/656647/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/logging/files/heat-engine.yaml', 'docker/services/logging/files/neutron-common.yaml', 'docker/services/logging/files/nova-metadata.yaml', 'docker/services/logging/files/heat-api-cfn.yaml', 'docker/services/logging/files/barbican-api.yaml', 'docker/services/logging/files/nova-common.yaml', 'docker/services/logging/files/keystone.yaml', 'docker/services/logging/files/heat-api.yaml', 'docker/services/logging/files/nova-api.yaml', 'docker/services/logging/files/panko-api.yaml', 'docker/services/logging/files/opendaylight-api.yaml', 'docker/services/logging/files/neutron-api.yaml']",12,d9eadc4c826905642ca8945ab1d2b48172ea9b7e,selinux/rocky," - { 'path': /var/log/neutron, 'setype': var_log_t }"," - { 'path': /var/log/neutron, 'setype': svirt_sandbox_file_t }",12,12
openstack%2Ftripleo-common~master~Ifcd14227d491001ab7d457e1abd54948b2d61c53,openstack/tripleo-common,master,Ifcd14227d491001ab7d457e1abd54948b2d61c53,nova: Remove nova-placement images and healthchecks,MERGED,2019-02-06 12:56:49.000000000,2019-05-02 21:34:31.000000000,2019-05-02 21:34:31.000000000,"[{'_account_id': 3153}, {'_account_id': 10135}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-02-06 12:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ecef0f3e76ccd4682dcdc9cffe2d2625f35dca54', 'message': 'WIP nova: Remove nova-placement images and healthchecks\n\nDepends-On: https://review.openstack.org/#/c/635141/\nChange-Id: Ifcd14227d491001ab7d457e1abd54948b2d61c53\n'}, {'number': 2, 'created': '2019-04-23 14:06:04.000000000', 'files': ['healthcheck/nova-placement', 'container-images/overcloud_containers.yaml', 'container-images/tripleo_kolla_template_overrides.j2', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2ee6de2b7019e3e2c1ab9a10ddb66a25c0cf262b', 'message': 'nova: Remove nova-placement images and healthchecks\n\nDepends-On: https://review.opendev.org/#/c/635141/\nChange-Id: Ifcd14227d491001ab7d457e1abd54948b2d61c53\n'}]",0,635150,2ee6de2b7019e3e2c1ab9a10ddb66a25c0cf262b,20,9,2,10135,,,0,"nova: Remove nova-placement images and healthchecks

Depends-On: https://review.opendev.org/#/c/635141/
Change-Id: Ifcd14227d491001ab7d457e1abd54948b2d61c53
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/50/635150/2 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/nova-placement', 'container-images/overcloud_containers.yaml', 'container-images/tripleo_kolla_template_overrides.j2', 'container-images/overcloud_containers.yaml.j2']",4,ecef0f3e76ccd4682dcdc9cffe2d2625f35dca54,tripleo-nova-placement-removal,,"- imagename: ""{{namespace}}/{{name_prefix}}nova-placement-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - DockerNovaPlacementConfigImage - DockerNovaPlacementImage services: - OS::TripleO::Services::NovaPlacement ",0,22
openstack%2Foslo.cache~stable%2Fstein~I3e335261f749ad065e8abe972f4ac476d334e6b3,openstack/oslo.cache,stable/stein,I3e335261f749ad065e8abe972f4ac476d334e6b3,Pass `flush_on_reconnect` to memcache pooled backend,MERGED,2019-04-29 22:57:26.000000000,2019-05-02 21:31:37.000000000,2019-05-02 21:31:37.000000000,"[{'_account_id': 2903}, {'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-29 22:57:26.000000000', 'files': ['oslo_cache/_memcache_pool.py', 'releasenotes/notes/bug-1819957-ccff6b0ec9d1cbf2.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/aeb95779c7bea4117ccb69b17eab31d452397964', 'message': ""Pass `flush_on_reconnect` to memcache pooled backend\n\nIf a memcache server disappears and then reconnects when multiple memcache\nservers are used (specific to the python-memcached based backends) it is\npossible that the server will contain stale data. The default is now to\nsupply the ``flush_on_reconnect`` optional argument to the backend. This\nmeans that when the service connects to a memcache server, it will flush\nall cached data in the server. The pooled backend is more likely to\nrun into issues with this as it does not explicitly use a thread.local\nfor the client. The non-pooled backend was not touched, it is not\nthe recommended production use-case.\n\nSee the help from python-memcached:\n\n    @param flush_on_reconnect: optional flag which prevents a\n\tscenario that can cause stale data to be read: If there's more\n\tthan one memcached server and the connection to one is\n\tinterrupted, keys that mapped to that server will get\n\treassigned to another. If the first server comes back, those\n\tkeys will map to it again. If it still has its data, get()s\n\tcan read stale data that was overwritten on another\n\tserver. This flag is off by default for backwards\n\tcompatibility.\n\nChange-Id: I3e335261f749ad065e8abe972f4ac476d334e6b3\ncloses-bug: #1819957\n(cherry picked from commit 1192f185a5fd2fa6177655f157146488a3de81d1)\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}]",0,656419,aeb95779c7bea4117ccb69b17eab31d452397964,9,5,1,14288,,,0,"Pass `flush_on_reconnect` to memcache pooled backend

If a memcache server disappears and then reconnects when multiple memcache
servers are used (specific to the python-memcached based backends) it is
possible that the server will contain stale data. The default is now to
supply the ``flush_on_reconnect`` optional argument to the backend. This
means that when the service connects to a memcache server, it will flush
all cached data in the server. The pooled backend is more likely to
run into issues with this as it does not explicitly use a thread.local
for the client. The non-pooled backend was not touched, it is not
the recommended production use-case.

See the help from python-memcached:

    @param flush_on_reconnect: optional flag which prevents a
	scenario that can cause stale data to be read: If there's more
	than one memcached server and the connection to one is
	interrupted, keys that mapped to that server will get
	reassigned to another. If the first server comes back, those
	keys will map to it again. If it still has its data, get()s
	can read stale data that was overwritten on another
	server. This flag is off by default for backwards
	compatibility.

Change-Id: I3e335261f749ad065e8abe972f4ac476d334e6b3
closes-bug: #1819957
(cherry picked from commit 1192f185a5fd2fa6177655f157146488a3de81d1)
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/19/656419/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/_memcache_pool.py', 'releasenotes/notes/bug-1819957-ccff6b0ec9d1cbf2.yaml']",2,aeb95779c7bea4117ccb69b17eab31d452397964,bug/1819957,"--- fixes: - | [`bug 1819957 <https://bugs.launchpad.net/keystone/+bug/1819957>`_] If a memcache server disappears and then reconnects when multiple memcache servers are used (specific to the python-memcached based backends) it is possible that the server will contain stale data. The default is now to supply the ``flush_on_reconnect`` optional argument to the backend. This means that when the service connects to a memcache server, it will flush all cached data in the server. This change only impacts the pooled backend as it is the most likely (with heavy use of greenlet) to be impacted by the problem and is the recommended production configuration. See the help from python-memcached: @param flush_on_reconnect: optional flag which prevents a scenario that can cause stale data to be read: If there's more than one memcached server and the connection to one is interrupted, keys that mapped to that server will get reassigned to another. If the first server comes back, those keys will map to it again. If it still has its data, get()s can read stale data that was overwritten on another server. This flag is off by default for backwards compatibility. ",,45,1
openstack%2Fpuppet-nova~master~I9171fbb957174b60b4f69bab48d1386b523af3bd,openstack/puppet-nova,master,I9171fbb957174b60b4f69bab48d1386b523af3bd,Remove cells v1 code,MERGED,2019-04-30 21:42:20.000000000,2019-05-02 21:27:29.000000000,2019-05-02 21:27:28.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 21:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/679682e7e403e3eb315c7a328335efb122828000', 'message': 'Remove cells v1 code\n\nRemoves all the deprecated cells v1 code that was\ndeprecated in the Stein release.\n\nChange-Id: I9171fbb957174b60b4f69bab48d1386b523af3bd\n'}, {'number': 2, 'created': '2019-04-30 23:09:28.000000000', 'files': ['spec/classes/nova_cells_spec.rb', 'lib/puppet/provider/nova_cells/nova_manage.rb', 'manifests/cells.pp', 'manifests/params.pp', 'releasenotes/notes/remove-cells-v1-62de6d3d3a782df1.yaml', 'manifests/deps.pp', 'lib/puppet/type/nova_cells.rb', 'manifests/manage/cells.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5302224c85f4c5388cc52f9a414771a3bb4e649f', 'message': 'Remove cells v1 code\n\nRemoves all the deprecated cells v1 code that was\ndeprecated in the Stein release.\n\nChange-Id: I9171fbb957174b60b4f69bab48d1386b523af3bd\n'}]",1,656593,5302224c85f4c5388cc52f9a414771a3bb4e649f,11,4,2,16137,,,0,"Remove cells v1 code

Removes all the deprecated cells v1 code that was
deprecated in the Stein release.

Change-Id: I9171fbb957174b60b4f69bab48d1386b523af3bd
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/93/656593/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_cells_spec.rb', 'lib/puppet/provider/nova_cells/nova_manage.rb', 'manifests/cells.pp', 'manifests/params.pp', 'releasenotes/notes/remove-cells-v1-62de6d3d3a782df1.yaml', 'lib/puppet/type/nova_cells.rb', 'manifests/manage/cells.pp']",7,679682e7e403e3eb315c7a328335efb122828000,remove-cells-v1,,"# # Copyright (C) 2013 eNovance SAS <licensing@enovance.com> # # Author: Emilien Macchi <emilien.macchi@enovance.com> # Francois Charlier <francois.charlier@enovance.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # # Configuring the database in each cell # # CELL v1 IS DEPRECATED AND WILL BE REMOVED # # == Namevar # The namevar will be the name of the cell # # == Parameters # [*cell_type*] # (optional) Whether the cell is a 'parent' or 'child' # Defaults to 'parent' # # [*cell_parent_name*] # (optional) If a child cell, this is the name of the 'parent' cell. # If a parent cell, should be left to undef. # Defaults to undef # # [*rabbit_username*] # (optional) Username for the message broker in this cell # Defaults to 'guest' # # [*rabbit_password*] # (optional) Password for the message broker in this cell # Defaults to 'guest' # # [*rabbit_hosts*] # (optional) Address of the message broker in this cell # Defaults to ['localhost'] # # [*rabbit_port*] # (optional) Port number of the message broker in this cell # Defaults to '5672' # # [*rabbit_virtual_host*] # (optional) The virtual host of the message broker in this cell # Defaults to '/' # # [*weight_offset*] # (optional) It might be used by some cell scheduling code in the future # Defaults to '1.0' # # [*weight_scale*] # (optional) It might be used by some cell scheduling code in the future # Defaults to '1.0' # define nova::manage::cells ( $cell_type = 'parent', $cell_parent_name = undef, $rabbit_username = 'guest', $rabbit_password = 'guest', $rabbit_hosts = ['localhost'], $rabbit_port = '5672', $rabbit_virtual_host = '/', $weight_offset = '1.0', $weight_scale = '1.0' ) { include ::nova::deps warning('nova::cells v1 is deprecated and will be removed in a future release') nova_cells { $name: ensure => present, cell_type => $cell_type, cell_parent_name => $cell_parent_name, rabbit_username => $rabbit_username, rabbit_password => $rabbit_password, rabbit_hosts => $rabbit_hosts, rabbit_port => $rabbit_port, rabbit_virtual_host => $rabbit_virtual_host, weight_offset => $weight_offset, weight_scale => $weight_scale } } ",5,699
openstack%2Fpython-keystoneclient~master~Id5275b5e6b5bf8f6d54406dac7ab95a30828cf58,openstack/python-keystoneclient,master,Id5275b5e6b5bf8f6d54406dac7ab95a30828cf58,Update json module to jsonutils,MERGED,2019-02-24 16:27:06.000000000,2019-05-02 21:11:39.000000000,2019-05-02 21:11:38.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25540}, {'_account_id': 27621}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-02-24 16:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/365d328842ccbbbbeef18aa6ba5054de541ab99e', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and keystoneclient  use it in many place[1],\nthis PS to update the remained json moudule to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-keystoneclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Id5275b5e6b5bf8f6d54406dac7ab95a30828cf58\n'}, {'number': 2, 'created': '2019-02-25 11:35:17.000000000', 'files': ['examples/pki/gen_cmsz.py', 'keystoneclient/tests/unit/v2_0/test_client.py', 'keystoneclient/auth/identity/v3/base.py', 'keystoneclient/tests/unit/v3/test_client.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/7a8ed5e3126b0f1969b93c39b626966731c6e7b5', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and keystoneclient  use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-keystoneclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Id5275b5e6b5bf8f6d54406dac7ab95a30828cf58\n'}]",2,638983,7a8ed5e3126b0f1969b93c39b626966731c6e7b5,19,10,2,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and keystoneclient  use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/python-keystoneclient/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: Id5275b5e6b5bf8f6d54406dac7ab95a30828cf58
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/83/638983/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/pki/gen_cmsz.py', 'keystoneclient/tests/unit/v2_0/test_client.py', 'keystoneclient/auth/identity/v3/base.py', 'keystoneclient/tests/unit/v3/test_client.py']",4,365d328842ccbbbbeef18aa6ba5054de541ab99e,,"from oslo_serialization import jsonutils cache = jsonutils.dumps(c.auth_ref) new_client = client.Client(auth_ref=jsonutils.loads(cache)) cache = jsonutils.dumps(c.auth_ref) new_client = client.Client(auth_ref=jsonutils.loads(cache),","import json cache = json.dumps(c.auth_ref) new_client = client.Client(auth_ref=json.loads(cache)) cache = json.dumps(c.auth_ref) new_client = client.Client(auth_ref=json.loads(cache),",18,16
openstack%2Fnetworking-bagpipe~stable%2Frocky~Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8,openstack/networking-bagpipe,stable/rocky,Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8,sync requirements and limit neutron version to rocky only,MERGED,2019-04-04 09:26:33.000000000,2019-05-02 21:04:36.000000000,2019-05-02 21:04:36.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 12021}, {'_account_id': 12898}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-04 09:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/5b14564c91ead9ee1efc529250c3a7dc29e3337c', 'message': 'sync pecan requirements\n\nChange-Id: Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8\nCloses-Bug: 1823145\n'}, {'number': 2, 'created': '2019-04-04 12:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/30a59135b9205f044294068f41ffe401cd9b777f', 'message': 'sync requirements: pecan,ryu\n\nChange-Id: Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8\nCloses-Bug: 1823145\n'}, {'number': 3, 'created': '2019-04-04 13:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/36f589ec68198760628d45a5610730c11368ac4b', 'message': 'sync requirements: pecan,ryu,oslo.concurrency\n\nChange-Id: Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8\nCloses-Bug: 1823145\n'}, {'number': 4, 'created': '2019-04-04 15:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/e9c79650af7d744c239f9e476a3687434cb039aa', 'message': 'sync requirements\n\nChange-Id: Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8\nCloses-Bug: 1823145\n'}, {'number': 5, 'created': '2019-04-05 12:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/5b35606fbf341d8ac22088f024feb794caeea0b7', 'message': 'sync requirements\n\nChange-Id: Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8\nCloses-Bug: 1823145\n'}, {'number': 6, 'created': '2019-04-05 12:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/0d5059167a590bae85684a9b71b119abb663ae7d', 'message': 'sync requirements\n\nChange-Id: Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8\nCloses-Bug: 1823145\n'}, {'number': 7, 'created': '2019-04-05 12:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c342492b69d3876546d61aa3ae4d0a62e859d528', 'message': 'sync requirements\n\nChange-Id: Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8\nCloses-Bug: 1823145\n'}, {'number': 8, 'created': '2019-04-29 14:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/92b38bdd587852afda84ef1623deba6a82b44736', 'message': 'sync requirements and limit neutron version to rocky only\n\nopenstack-tox-py27 and build-openstack-sphinx-docs jobs fail with\nseemingly using neutron from latest master, so this patch adds\nconstraint for neutron (version should be less than 1st b1 release\nof neutron from stein)\n\nChange-Id: Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8\nCloses-Bug: 1823145\n'}, {'number': 9, 'created': '2019-04-30 01:24:13.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/a22bfabcd8b161c0f0ccfc5c4092b18d9ff18201', 'message': 'sync requirements and limit neutron version to rocky only\n\nopenstack-tox-py27 and build-openstack-sphinx-docs jobs fail with\nseemingly using neutron from latest master, so this patch adds\nconstraint for neutron (version should be less than 1st b1 release\nof neutron from stein)\n\nChange-Id: Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8\nCloses-Bug: 1823145\n'}]",4,649952,a22bfabcd8b161c0f0ccfc5c4092b18d9ff18201,32,9,9,12021,,,0,"sync requirements and limit neutron version to rocky only

openstack-tox-py27 and build-openstack-sphinx-docs jobs fail with
seemingly using neutron from latest master, so this patch adds
constraint for neutron (version should be less than 1st b1 release
of neutron from stein)

Change-Id: Ic6ada801e7cfd3e4b0b0a267284fd0990be7d9c8
Closes-Bug: 1823145
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/52/649952/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,5b14564c91ead9ee1efc529250c3a7dc29e3337c,bug/1823145,pecan==1.1.1,pecan==1.0.0,2,2
openstack%2Fos-api-ref~master~Ica60dc6ffa6c14e0a07489ac8a8b2be4800caa31,openstack/os-api-ref,master,Ica60dc6ffa6c14e0a07489ac8a8b2be4800caa31,Update Testing for Train,MERGED,2019-04-26 09:27:00.000000000,2019-05-02 20:53:55.000000000,2019-05-02 20:53:55.000000000,"[{'_account_id': 8099}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 09:27:00.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/f8557cb63dc2c8a9b8f56b25318e9b600da00c75', 'message': 'Update Testing for Train\n\nTest python 3.7 instead of 3.5 for Train now.\nUpdate docs building to have separate dir for dirtrees so that they do\nno get published.\n\nChange-Id: Ica60dc6ffa6c14e0a07489ac8a8b2be4800caa31\n'}]",0,655848,f8557cb63dc2c8a9b8f56b25318e9b600da00c75,7,3,1,6547,,,0,"Update Testing for Train

Test python 3.7 instead of 3.5 for Train now.
Update docs building to have separate dir for dirtrees so that they do
no get published.

Change-Id: Ica60dc6ffa6c14e0a07489ac8a8b2be4800caa31
",git fetch https://review.opendev.org/openstack/os-api-ref refs/changes/48/655848/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,f8557cb63dc2c8a9b8f56b25318e9b600da00c75,train,"envlist = py27,py36,py37,pep8,docscommands = sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html","envlist = py27,py35,pep8,docscommands = sphinx-build -W -b html doc/source doc/build/html",5,4
openstack%2Fopenstack-helm~master~I55c1eede9d38f5cb7a9f4d64a5a805d7518ff9f1,openstack/openstack-helm,master,I55c1eede9d38f5cb7a9f4d64a5a805d7518ff9f1,DNM - Test if cred key setup key skip works,ABANDONED,2019-04-29 22:01:49.000000000,2019-05-02 20:49:43.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 22:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3317756ab728e05aaf0eb7ce3fff4075811e7933', 'message': 'DNM - Test if cred key setup key skip works\n\nIf this runs right and fails, put a depends on with the\nright change and test.\n\nChange-Id: I55c1eede9d38f5cb7a9f4d64a5a805d7518ff9f1\n'}, {'number': 2, 'created': '2019-04-29 22:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/250857b939261f60e88876452cabb269ae3227e6', 'message': 'DNM - Test if cred key setup key skip works\n\nIf this runs right and fails, put a depends on with the\nright change and test.\n\nChange-Id: I55c1eede9d38f5cb7a9f4d64a5a805d7518ff9f1\n'}, {'number': 3, 'created': '2019-04-29 23:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a2c1b5d0e4d6dc74643f69525197e8a0e4fab28', 'message': 'DNM - Test if cred key setup key skip works\n\nIf this runs right and fails, put a depends on with the\nright change and test.\n\nChange-Id: I55c1eede9d38f5cb7a9f4d64a5a805d7518ff9f1\n'}, {'number': 4, 'created': '2019-04-30 15:24:20.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'tools/gate/playbooks/osh-keystone-cred-key-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/85ae3e61b74bc04930f5f8ab9408688c2868242f', 'message': 'DNM - Test if cred key setup key skip works\n\nIf this runs right and fails, put a depends on with the\nright change and test.\n\nDepends-On: https://review.opendev.org/#/c/655935/\n\nChange-Id: I55c1eede9d38f5cb7a9f4d64a5a805d7518ff9f1\n'}]",0,656412,85ae3e61b74bc04930f5f8ab9408688c2868242f,9,2,4,21420,,,0,"DNM - Test if cred key setup key skip works

If this runs right and fails, put a depends on with the
right change and test.

Depends-On: https://review.opendev.org/#/c/655935/

Change-Id: I55c1eede9d38f5cb7a9f4d64a5a805d7518ff9f1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/12/656412/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'tools/gate/playbooks/osh-keystone-cred-key-test.yaml']",3,3317756ab728e05aaf0eb7ce3fff4075811e7933,cred-key-test,"- hosts: all tasks: - name: Test credential keys not lost upon subequent key setup shell: | set -xe; openstack --os-cloud openstack_helm credential create admin test openstack --os-cloud openstack_helm credential list kubectl job delete keystone-credential-setup -n openstack helm upgrade keystone ./keystone sleep 1m # This will fail if the issue is present openstack --os-cloud openstack_helm credenial list args: chdir: ""{{ zuul.project.src_dir }}"" ",,34,14
openstack%2Fneutron-vpnaas~master~I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08,openstack/neutron-vpnaas,master,I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08,Execute neutron-vpn-netns-wrapper with rootwrap_config argument,MERGED,2019-03-29 16:35:12.000000000,2019-05-02 20:10:46.000000000,2019-05-02 19:34:06.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 6854}, {'_account_id': 6876}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-29 16:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9e34ef324ee0ae79684ff075c12d1bd194438863', 'message': 'Execute neutron-vpn-netns-wrapper with rootwrap_config argument\n\nAdd the --rootwrap_config parameter to neutron-vpn-netns-wrapper\nexecution to support environments where rootwrap.conf is not\nin the default location.\n\nChange-Id: I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08\n'}, {'number': 2, 'created': '2019-03-29 18:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f94ff697628e760e3c3878116960dc5074796398', 'message': 'Execute neutron-vpn-netns-wrapper with rootwrap_config argument\n\nWhen neutron uses neutron-rootwrap as the root_helper, add\nthe --rootwrap_config parameter to neutron-vpn-netns-wrapper\nexecution to support environments where rootwrap.conf is not\nin the default location.\n\nCloses-Bug: #1822199\nChange-Id: I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08\n'}, {'number': 3, 'created': '2019-04-01 18:01:48.000000000', 'files': ['neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/libreswan_ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7e9922858fc36cb890b59232d72cf6e7bcb5957c', 'message': 'Execute neutron-vpn-netns-wrapper with rootwrap_config argument\n\nWhen neutron uses neutron-rootwrap as the root_helper, add\nthe --rootwrap_config parameter to neutron-vpn-netns-wrapper\nexecution to support environments where rootwrap.conf is not\nin the default location.\n\nCloses-Bug: #1822199\nChange-Id: I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08\n'}]",4,648726,7e9922858fc36cb890b59232d72cf6e7bcb5957c,22,7,3,6876,,,0,"Execute neutron-vpn-netns-wrapper with rootwrap_config argument

When neutron uses neutron-rootwrap as the root_helper, add
the --rootwrap_config parameter to neutron-vpn-netns-wrapper
execution to support environments where rootwrap.conf is not
in the default location.

Closes-Bug: #1822199
Change-Id: I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/26/648726/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/libreswan_ipsec.py']",3,9e34ef324ee0ae79684ff075c12d1bd194438863,bug/1822199," self._rootwrap_cfgdir = self._get_rootwrap_config() ('--rootwrap_config=%s' % self._rootwrap_cfgdir if self._rootwrap_cfgdir else ''),",,13,0
openstack%2Fmistral-dashboard~stable%2Fstein~I6d9fa36dd3618a2c6ebaf3bafcd222d51638679c,openstack/mistral-dashboard,stable/stein,I6d9fa36dd3618a2c6ebaf3bafcd222d51638679c,Update UPPER_CONSTRAINTS_FILE for stable/stein,MERGED,2019-03-22 18:49:16.000000000,2019-05-02 20:07:06.000000000,2019-05-02 20:07:06.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-22 18:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/39799350def5e36cb7a5db5beaa95005cf3f625b', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I6d9fa36dd3618a2c6ebaf3bafcd222d51638679c\n'}, {'number': 2, 'created': '2019-05-02 17:49:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/6a60f96c3110b7ce7d0f1cc47506a968a262b3af', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I6d9fa36dd3618a2c6ebaf3bafcd222d51638679c\n'}]",0,645845,6a60f96c3110b7ce7d0f1cc47506a968a262b3af,10,2,2,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I6d9fa36dd3618a2c6ebaf3bafcd222d51638679c
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/45/645845/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,39799350def5e36cb7a5db5beaa95005cf3f625b,create-stein,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fmistral-dashboard~stable%2Fstein~Ifc0a3db5c8a395f13bc62dad1b8f97fc631d4a06,openstack/mistral-dashboard,stable/stein,Ifc0a3db5c8a395f13bc62dad1b8f97fc631d4a06,Update .gitreview for stable/stein,MERGED,2019-03-22 18:49:11.000000000,2019-05-02 20:05:58.000000000,2019-05-02 20:05:58.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-22 18:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/6f005a524cd8490faffd1c0334118309feb87ef8', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: Ifc0a3db5c8a395f13bc62dad1b8f97fc631d4a06\n'}, {'number': 2, 'created': '2019-05-02 17:48:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/58bf4752b99062def3d1eb3a2638be6a5f8710db', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: Ifc0a3db5c8a395f13bc62dad1b8f97fc631d4a06\n'}]",0,645844,58bf4752b99062def3d1eb3a2638be6a5f8710db,10,2,2,22816,,,0,"Update .gitreview for stable/stein

Change-Id: Ifc0a3db5c8a395f13bc62dad1b8f97fc631d4a06
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/44/645844/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6f005a524cd8490faffd1c0334118309feb87ef8,create-stein,defaultbranch=stable/stein,,1,0
openstack%2Fcharm-keystone~master~If6ff4bcabec2f976b79d87d57f4a763e8828c302,openstack/charm-keystone,master,If6ff4bcabec2f976b79d87d57f4a763e8828c302,Enable application_credential auth plugin,MERGED,2019-04-30 14:00:21.000000000,2019-05-02 19:53:41.000000000,2019-05-02 19:53:40.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-04-30 14:00:21.000000000', 'files': ['templates/queens/keystone.conf', 'templates/rocky/keystone.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/e580d1acf3486b00b7fc54ded37a0548cb441c1d', 'message': 'Enable application_credential auth plugin\n\nEnables a client to use application credentials for authentication.\n\nChange-Id: If6ff4bcabec2f976b79d87d57f4a763e8828c302\nCloses-Bug: #1827058\n'}]",0,656519,e580d1acf3486b00b7fc54ded37a0548cb441c1d,11,5,1,24824,,,0,"Enable application_credential auth plugin

Enables a client to use application credentials for authentication.

Change-Id: If6ff4bcabec2f976b79d87d57f4a763e8828c302
Closes-Bug: #1827058
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/19/656519/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/keystone.conf', 'templates/rocky/keystone.conf']",2,e580d1acf3486b00b7fc54ded37a0548cb441c1d,bug/1827058,"methods = external,password,token,oauth1,mapped,openid,totp,application_credentialmax_request_body_size = 114688 ","methods = external,password,token,oauth1,mapped,openid,totpmax_request_body_size = 114688",133,2
openstack%2Fnova~stable%2Fstein~I91c9c1e88afa035c757f692c78ad72d69cc3c431,openstack/nova,stable/stein,I91c9c1e88afa035c757f692c78ad72d69cc3c431,Fix volume-backed resize with a smaller disk flavor,MERGED,2019-05-01 16:17:19.000000000,2019-05-02 19:48:30.000000000,2019-05-02 19:48:30.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-01 16:17:19.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py', 'nova/tests/functional/regressions/test_bug_1825020.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3285210add2758ad0182358317fabca626cdb0ee', 'message': ""Fix volume-backed resize with a smaller disk flavor\n\nChange I06fad233006c7bab14749a51ffa226c3801f951b in Stein started\ncalling _validate_flavor_image_nostatus during resize but did not\npass the root_bdm since the underlying volume does not change. This\ncan, however, lead to FlavorDiskSmallerThanMinDisk being raised\nif the new flavor has a disk size smaller than the current flavor.\nThis is wrong in the case of a volume-backed server because we don't\ncare about the root disk size in the flavor in that case.\n\nThis fixes the bug by splitting the pci/numa validation logic out\nof _validate_flavor_image_nostatus into a separate method so that\nthe resize method can call that directly for a volume-backed server\nrather than deal with the complicated disk size logic in\n_validate_flavor_image_nostatus (see bug 1646740 for details, but\ntl;dr if the image min_disk is less than the flavor root_gb, the\nmin_disk stored in the instance image system metadata is the\nflavor['root_gb'] which could be larger than the root volume size).\nTo see why trying to use _validate_flavor_image_nostatus during\nresize for a volume-backed server is a mess, look at PS1 of this\nchange.\n\nChange-Id: I91c9c1e88afa035c757f692c78ad72d69cc3c431\nCloses-Bug: #1825020\n(cherry picked from commit 8aae3e39e58a05ed50b891aeae261641f544ad1f)\n""}]",0,656666,3285210add2758ad0182358317fabca626cdb0ee,9,5,1,6873,,,0,"Fix volume-backed resize with a smaller disk flavor

Change I06fad233006c7bab14749a51ffa226c3801f951b in Stein started
calling _validate_flavor_image_nostatus during resize but did not
pass the root_bdm since the underlying volume does not change. This
can, however, lead to FlavorDiskSmallerThanMinDisk being raised
if the new flavor has a disk size smaller than the current flavor.
This is wrong in the case of a volume-backed server because we don't
care about the root disk size in the flavor in that case.

This fixes the bug by splitting the pci/numa validation logic out
of _validate_flavor_image_nostatus into a separate method so that
the resize method can call that directly for a volume-backed server
rather than deal with the complicated disk size logic in
_validate_flavor_image_nostatus (see bug 1646740 for details, but
tl;dr if the image min_disk is less than the flavor root_gb, the
min_disk stored in the instance image system metadata is the
flavor['root_gb'] which could be larger than the root volume size).
To see why trying to use _validate_flavor_image_nostatus during
resize for a volume-backed server is a mess, look at PS1 of this
change.

Change-Id: I91c9c1e88afa035c757f692c78ad72d69cc3c431
Closes-Bug: #1825020
(cherry picked from commit 8aae3e39e58a05ed50b891aeae261641f544ad1f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/656666/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py', 'nova/tests/functional/regressions/test_bug_1825020.py']",3,3285210add2758ad0182358317fabca626cdb0ee,bug/1825020," # This should be allowed since the server is volume-backed and the # disk size in the flavor shouldn't matter. self.api.post_server_action(server['id'], data) self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') # Now confirm the resize just to complete the operation. self.api.post_server_action(server['id'], {'confirmResize': None}) self._wait_for_state_change(self.api, server, 'ACTIVE')","import six from nova.tests.functional.api import client as api_client # FIXME(mriedem): This will raise FlavorDiskSmallerThanMinDisk as a 500 # error until bug 1825020 is fixed. ex = self.assertRaises(api_client.OpenStackApiException, self.api.post_server_action, server['id'], data) self.assertEqual(500, ex.response.status_code) self.assertIn('FlavorDiskSmallerThanMinDisk', six.text_type(ex))",61,21
openstack%2Fnova~master~If66a28c07c619cb89d77ee926f60b5d48cbfd351,openstack/nova,master,If66a28c07c619cb89d77ee926f60b5d48cbfd351,Remove FlavorNotFound dead code condition in API.resize,MERGED,2019-04-17 16:18:24.000000000,2019-05-02 19:40:49.000000000,2019-05-02 07:03:16.000000000,"[{'_account_id': 7}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-17 16:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8a1f19a29f79369bd764ba040a945ba76488212', 'message': 'Remove FlavorNotFound dead code condition in API.resize\n\nThe condition removed in this change is dead code because\nof the block above where new_instance_type is set. If a new\nflavor is specified (resize) then flavors.get_flavor_by_flavor_id\nwill either find it or raise FlavorNotFound.\n\nChange-Id: If66a28c07c619cb89d77ee926f60b5d48cbfd351\n'}, {'number': 2, 'created': '2019-04-17 16:34:57.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cf489d58b962b3d01516470bc91d663a21378340', 'message': 'Remove FlavorNotFound dead code condition in API.resize\n\nThe condition removed in this change is dead code because\nof the block above where new_instance_type is set. If a new\nflavor is specified (resize) then flavors.get_flavor_by_flavor_id\nwill either find it or raise FlavorNotFound.\n\nChange-Id: If66a28c07c619cb89d77ee926f60b5d48cbfd351\n'}]",1,653484,cf489d58b962b3d01516470bc91d663a21378340,46,19,2,6873,,,0,"Remove FlavorNotFound dead code condition in API.resize

The condition removed in this change is dead code because
of the block above where new_instance_type is set. If a new
flavor is specified (resize) then flavors.get_flavor_by_flavor_id
will either find it or raise FlavorNotFound.

Change-Id: If66a28c07c619cb89d77ee926f60b5d48cbfd351
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/653484/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,f8a1f19a29f79369bd764ba040a945ba76488212,bug/1825020,, if not new_instance_type: raise exception.FlavorNotFound(flavor_id=flavor_id) ,0,3
openstack%2Fdesignate-dashboard~master~I156dce82251e49e53d7675233951a469fd698ef3,openstack/designate-dashboard,master,I156dce82251e49e53d7675233951a469fd698ef3,Changes for url transition to OpenDev,MERGED,2019-04-22 14:21:39.000000000,2019-05-02 19:06:39.000000000,2019-05-02 19:06:39.000000000,"[{'_account_id': 1736}, {'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-22 14:21:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/8693d3eea072995e8ca996e09df54403f3cf82a1', 'message': 'Changes for url transition to OpenDev\n\nThis commit changes openstack.org URL to opendev.org URL\n\nChange-Id: I156dce82251e49e53d7675233951a469fd698ef3\n'}]",0,654463,8693d3eea072995e8ca996e09df54403f3cf82a1,6,3,1,29313,,,0,"Changes for url transition to OpenDev

This commit changes openstack.org URL to opendev.org URL

Change-Id: I156dce82251e49e53d7675233951a469fd698ef3
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/63/654463/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8693d3eea072995e8ca996e09df54403f3cf82a1,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=master},1,1
openstack%2Fmagnum~stable%2Fstein~I01122fa029b4124d912e80ea43bca07b8f2ebe5c,openstack/magnum,stable/stein,I01122fa029b4124d912e80ea43bca07b8f2ebe5c,Disable broken image building,MERGED,2019-05-01 15:02:45.000000000,2019-05-02 18:47:05.000000000,2019-05-02 18:47:05.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 15:02:45.000000000', 'files': ['.zuul.yaml', 'playbooks/magnum-buildimages-base.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9f72a8bfc19a1ff7037a6ce210e49bf1037cac06', 'message': ""Disable broken image building\n\nThe periodic jobs for building images are all failing, add some\nlow-hanging fruits for fixing:\n\n1) Remove usage of own Fedora image build tools, they were removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements and\n   openstack/heat-templates as required-repo for the build\n   jobs, they are requirements.\n\nStill, these are still failing, let's disable the periodic jobs.\nThey have been broken since ages without fixing. There's no\nrecord of a successful run under Zuul v3.\nLast images at http://tarballs.openstack.org/magnum/images/ are from\n2017.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}]",0,656649,9f72a8bfc19a1ff7037a6ce210e49bf1037cac06,7,3,1,6547,,,0,"Disable broken image building

The periodic jobs for building images are all failing, add some
low-hanging fruits for fixing:

1) Remove usage of own Fedora image build tools, they were removed as
   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.
2) Add openstack/tripleo-image-elements and
   openstack/heat-templates as required-repo for the build
   jobs, they are requirements.

Still, these are still failing, let's disable the periodic jobs.
They have been broken since ages without fixing. There's no
record of a successful run under Zuul v3.
Last images at http://tarballs.openstack.org/magnum/images/ are from
2017.

Change-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c
",git fetch https://review.opendev.org/openstack/magnum refs/changes/49/656649/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/magnum-buildimages-base.yaml']",2,9f72a8bfc19a1ff7037a6ce210e49bf1037cac06,stein/backport/656513, export ELEMENTS_PATH=$DIB_ELEMENTS, MAGNUM_ELEMENTS=./openstack/magnum/magnum/drivers/common/image export ELEMENTS_PATH=$DIB_ELEMENTS:$MAGNUM_ELEMENTS $MAGNUM_ELEMENTS/fedora-atomic/install_imagebuild_deps.sh # validate image $MAGNUM_ELEMENTS/fedora-atomic/validate_atomic_image.sh $WORKSPACE/{{ image_name }}-dib.qcow2,10,10
openstack%2Fmagnum~stable%2Fstein~Ieed605c8e6d020b224cacf377b5a6178669ecf1a,openstack/magnum,stable/stein,Ieed605c8e6d020b224cacf377b5a6178669ecf1a,Fix container-build job,MERGED,2019-05-01 15:02:45.000000000,2019-05-02 18:47:04.000000000,2019-05-02 18:47:04.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 15:02:45.000000000', 'files': ['.zuul.yaml', 'playbooks/container-builder-vars.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9f46a1c19442faff6b305c6eaf87a16db73ece40', 'message': 'Fix container-build job\n\nFix container-build variable due to move from git.openstack.org to\nopendev.org.\n\nAlso, rename the job following the naming guidelines [1]. We have a\nshared namespace and job names need to start with the repo name.\n\n[1] https://docs.openstack.org/infra/manual/drivers.html#consistent-naming-for-jobs-with-zuul-v3\n\nChange-Id: Ieed605c8e6d020b224cacf377b5a6178669ecf1a\n(cherry picked from commit ef0678ec98cd4125b053274ece7648a3167fc4fd)\n'}]",0,656648,9f46a1c19442faff6b305c6eaf87a16db73ece40,7,3,1,6547,,,0,"Fix container-build job

Fix container-build variable due to move from git.openstack.org to
opendev.org.

Also, rename the job following the naming guidelines [1]. We have a
shared namespace and job names need to start with the repo name.

[1] https://docs.openstack.org/infra/manual/drivers.html#consistent-naming-for-jobs-with-zuul-v3

Change-Id: Ieed605c8e6d020b224cacf377b5a6178669ecf1a
(cherry picked from commit ef0678ec98cd4125b053274ece7648a3167fc4fd)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/48/656648/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/container-builder-vars.yaml']",2,9f46a1c19442faff6b305c6eaf87a16db73ece40,stein/backport/656513,"magnum_src_dir: ""src/opendev.org/openstack/magnum""","magnum_src_dir: ""src/git.openstack.org/openstack/magnum""",6,6
openstack%2Fmagnum~stable%2Fqueens~I01122fa029b4124d912e80ea43bca07b8f2ebe5c,openstack/magnum,stable/queens,I01122fa029b4124d912e80ea43bca07b8f2ebe5c,Partial backport: Disable broken image building,MERGED,2019-05-01 15:06:59.000000000,2019-05-02 18:47:03.000000000,2019-05-02 18:47:03.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 15:06:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ee653e0fed831084dfd4a0039facf69cf5c36153', 'message': ""Partial backport: Disable broken image building\n\nThese periodic jobs are failing, let's disable the periodic jobs.\nThey have been broken since ages without fixing. There's no\nrecord of a successful run under Zuul v3.\nLast images at http://tarballs.openstack.org/magnum/images/ are from\n2017.\n\nThis only backports the disabling of the jobs.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n(cherry picked from commit 42c75c4d3d84830b2f902954fe3ff4664993161a)\n""}]",0,656653,ee653e0fed831084dfd4a0039facf69cf5c36153,7,3,1,6547,,,0,"Partial backport: Disable broken image building

These periodic jobs are failing, let's disable the periodic jobs.
They have been broken since ages without fixing. There's no
record of a successful run under Zuul v3.
Last images at http://tarballs.openstack.org/magnum/images/ are from
2017.

This only backports the disabling of the jobs.

Change-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c
(cherry picked from commit 42c75c4d3d84830b2f902954fe3ff4664993161a)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/53/656653/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ee653e0fed831084dfd4a0039facf69cf5c36153,queens/backport/656485," # XXX: The periodic jobs are completely broken and need to be fixed, # enable them once they work again. # periodic: # jobs: # - magnum-dib-buildimage-fedora-atomic-25 # - magnum-dib-buildimage-ubuntu-mesos # - magnum-dib-buildimage-centos-dcos", periodic: jobs: - magnum-dib-buildimage-fedora-atomic-25 - magnum-dib-buildimage-ubuntu-mesos - magnum-dib-buildimage-centos-dcos,7,5
openstack%2Fmagnum~stable%2Frocky~I01122fa029b4124d912e80ea43bca07b8f2ebe5c,openstack/magnum,stable/rocky,I01122fa029b4124d912e80ea43bca07b8f2ebe5c,Partial backport: Disable broken image building,MERGED,2019-05-01 15:09:06.000000000,2019-05-02 18:47:02.000000000,2019-05-02 18:47:02.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 15:09:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f12a91caf2a145b6f7a91dc17d115545b7bc11da', 'message': ""Partial backport: Disable broken image building\n\nThese periodic jobs are failing, let's disable the periodic jobs.\nThey have been broken since ages without fixing.\nThere's no record of a successful run under Zuul v3.\nLast images at http://tarballs.openstack.org/magnum/images/\nare from 2017.\n\nThis only backports the disabling of the jobs.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n(cherry picked from commit 42c75c4d3d84830b2f902954fe3ff4664993161a)\n""}]",0,656654,f12a91caf2a145b6f7a91dc17d115545b7bc11da,7,3,1,6547,,,0,"Partial backport: Disable broken image building

These periodic jobs are failing, let's disable the periodic jobs.
They have been broken since ages without fixing.
There's no record of a successful run under Zuul v3.
Last images at http://tarballs.openstack.org/magnum/images/
are from 2017.

This only backports the disabling of the jobs.

Change-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c
(cherry picked from commit 42c75c4d3d84830b2f902954fe3ff4664993161a)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/54/656654/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f12a91caf2a145b6f7a91dc17d115545b7bc11da,rocky/backport/656485," # XXX: The periodic jobs are completely broken and need to be fixed, # enable them once they work again. # periodic: # jobs: # - magnum-dib-buildimage-fedora-atomic-25 # - magnum-dib-buildimage-ubuntu-mesos # - magnum-dib-buildimage-centos-dcos", periodic: jobs: - magnum-dib-buildimage-fedora-atomic-25 - magnum-dib-buildimage-ubuntu-mesos - magnum-dib-buildimage-centos-dcos,7,5
openstack%2Fopenstack-helm-infra~master~Id437ee4de8d964b48540638ab8dff3199c3cb5ff,openstack/openstack-helm-infra,master,Id437ee4de8d964b48540638ab8dff3199c3cb5ff,Make network policy template a little more generic,MERGED,2019-03-21 23:37:28.000000000,2019-05-02 18:37:33.000000000,2019-05-02 18:37:33.000000000,"[{'_account_id': 8898}, {'_account_id': 16881}, {'_account_id': 17966}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 25313}, {'_account_id': 28592}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-03-21 23:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/101ca14e52ec6420480368fa3fe043bd5392025f', 'message': '[WIP] Make network policy template a little more generic\n\nThe changes made will take care of\n\n1. block/allow all ingress\n2. block/allow all egress\n3. define spec->policyType based on policy type\n   and/or ingress/egress rules present in values.yaml\n4. supports more labels to spec->podSeclector\n5. copy the rules as is defined under ingress/egress.\n\nThe existing code wherever template is used assumes egress is allowed\nby default. With this change the code need to be  modifed to allow egress.\n\nChange-Id: Id437ee4de8d964b48540638ab8dff3199c3cb5ff\n'}, {'number': 2, 'created': '2019-03-29 19:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6df2a35f84093e20b58405c97aeb364ba247459b', 'message': '[WIP] Make network policy template a little more generic\n\nThe changes made will take care of\n\n1. block/allow all ingress\n2. block/allow all egress\n3. define spec->policyType based on policy type\n   and/or ingress/egress rules present in values.yaml\n4. supports more labels to spec->podSeclector\n5. copy the rules as is defined under ingress/egress.\n\nThe existing code wherever template is used assumes egress is allowed\nby default. With this change the code need to be  modifed to allow egress.\n\nChange-Id: Id437ee4de8d964b48540638ab8dff3199c3cb5ff\n'}, {'number': 3, 'created': '2019-04-02 19:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b9516105aa43ba47abdb53df0c199e62ee9cd7cd', 'message': 'Make network policy template a little more generic\n\nThe changes made will take care of\n\n1. block/allow all ingress\n2. block/allow all egress\n3. define spec->policyType based on policy type\n   and/or ingress/egress rules present in values.yaml\n4. supports more labels to spec->podSeclector\n5. copy the rules as is defined under ingress/egress.\n\nChange-Id: Id437ee4de8d964b48540638ab8dff3199c3cb5ff\n'}, {'number': 4, 'created': '2019-04-03 22:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ca4988fdfb38f95a7a7588e99e6980f4111e26a', 'message': 'Make network policy template a little more generic\n\nThe changes made will take care of\n\n1. block/allow all ingress\n2. block/allow all egress\n3. define spec->policyType based on policy type\n   and/or ingress/egress rules present in values.yaml\n4. supports more labels to spec->podSeclector\n5. copy the rules as is defined under ingress/egress.\n\nChange-Id: Id437ee4de8d964b48540638ab8dff3199c3cb5ff\n'}, {'number': 5, 'created': '2019-04-11 18:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0f18fc0fa8e0d88d6b86cf0e73e1b6d5ccf2c618', 'message': 'Make network policy template a little more generic\n\nThe changes made will take care of\n\n1. block/allow all ingress\n2. block/allow all egress\n3. define spec->policyType based on policy type\n   and/or ingress/egress rules present in values.yaml\n4. supports more labels to spec->podSeclector\n5. copy the rules as is defined under ingress/egress.\n\nChange-Id: Id437ee4de8d964b48540638ab8dff3199c3cb5ff\n'}, {'number': 6, 'created': '2019-04-26 06:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a14d6b0405ea949ea680627650935d219cf6670e', 'message': 'Make network policy template a little more generic\n\nThe changes made will take care of\n\n1. block/allow all ingress\n2. block/allow all egress\n3. define spec->policyType based on policy type\n   and/or ingress/egress rules present in values.yaml\n4. supports more labels to spec->podSeclector\n5. copy the rules as is defined under ingress/egress.\n\nChange-Id: Id437ee4de8d964b48540638ab8dff3199c3cb5ff\n'}, {'number': 7, 'created': '2019-04-30 19:27:45.000000000', 'files': ['helm-toolkit/templates/manifests/_network_policy.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d052381b4e2c289341f4383aaa771f44f4cf6ca8', 'message': 'Make network policy template a little more generic\n\nThe changes made will take care of\n\n1. block/allow all ingress\n2. block/allow all egress\n3. define spec->policyType based on policy type\n   and/or ingress/egress rules present in values.yaml\n4. supports more labels to spec->podSeclector\n5. copy the rules as is defined under ingress/egress.\n\nChange-Id: Id437ee4de8d964b48540638ab8dff3199c3cb5ff\n'}]",8,645400,d052381b4e2c289341f4383aaa771f44f4cf6ca8,32,12,7,18256,,,0,"Make network policy template a little more generic

The changes made will take care of

1. block/allow all ingress
2. block/allow all egress
3. define spec->policyType based on policy type
   and/or ingress/egress rules present in values.yaml
4. supports more labels to spec->podSeclector
5. copy the rules as is defined under ingress/egress.

Change-Id: Id437ee4de8d964b48540638ab8dff3199c3cb5ff
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/00/645400/4 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/manifests/_network_policy.tpl'],1,101ca14e52ec6420480368fa3fe043bd5392025f,,"{{- if or (and (hasKey (index $envAll.Values ""network_policy"") $label) (and (hasKey (index $envAll.Values.network_policy $label) ""policy_types"") (has ""egress"" (index $envAll.Values.network_policy $label ""policy_types"")))) (and (hasKey (index $envAll.Values ""network_policy"") $label) (index $envAll.Values.network_policy $label ""egress"")) }}{{- end }} {{- if or (and (hasKey (index $envAll.Values ""network_policy"") $label) (and (hasKey (index $envAll.Values.network_policy $label) ""policy_types"") (has ""Ingress"" (index $envAll.Values.network_policy $label ""policy_types"")))) (and (hasKey (index $envAll.Values ""network_policy"") $label) (index $envAll.Values.network_policy $label ""ingress"")) }}{{- if hasKey (index $envAll.Values ""network_policy"") $label }} {{- if index $envAll.Values.network_policy $label ""egress"" }}{{- if hasKey (index $envAll.Values ""network_policy"") $label }} {{- if hasKey (index $envAll.Values.network_policy $label) ""pod_selector"" }} {{- if index $envAll.Values.network_policy $label ""pod_selector"" ""match_labels"" }} {{ index $envAll.Values.network_policy $label ""pod_selector"" ""match_labels"" | toYaml | indent 6 }} {{ end }} {{ end }} {{ end }} egress: {{ index $envAll.Values.network_policy $label ""egress"" | toYaml | indent 4 }} {{- end }} {{- end }}","{{- if hasKey (index $envAll.Values ""network_policy"") $label }} {{- if index $envAll.Values.network_policy $label ""ingress"" }}{{- end }} egress: - {}",15,4
openstack%2Fnova~master~I7700f66fd590b617333ae99c1b42986278b36263,openstack/nova,master,I7700f66fd590b617333ae99c1b42986278b36263,Remove MIN_COMPUTE_MULTIATTACH conditions in API,MERGED,2019-04-03 22:32:41.000000000,2019-05-02 18:32:11.000000000,2019-05-02 06:20:47.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-03 22:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff19f4e70ac0d235da53a8564a54d1eaff6c28fb', 'message': 'Remove MIN_COMPUTE_MULTIATTACH conditions in API\n\nnova-compute service version 27 was added in Queens [1]\nand the API started relying on it in Queens [2] when\ncreating a server with a multi-attach volume.\n\nWe are long past supporting computes older than Queens\nso we can drop that minimum service version check code\nfrom the server create API flow and related error handling.\n\nNote that when attaching a multi-attach volume to a server\nthe version compatibility was handled in the compute RPC API\nreserve_block_device_name method, but that code was removed\nin Rocky [3]. However, the volume attach API still has to\nhandle the MultiattachSupportNotYetAvailable exception if\nusing cells v1 because it is raised from\nComputeCellsAPI._attach_volume.\n\n[1] Ieec2bbd8a23c861c89bf9922517fa6a5562f1937\n[2] I02120ef8767c3f9c9497bff67101e57e204ed6f4\n[3] Ibcb6bf912b3fb69c8631665fef2832906ba338aa\n\nChange-Id: I7700f66fd590b617333ae99c1b42986278b36263\n'}, {'number': 2, 'created': '2019-04-04 02:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4c22e2f449a61a23e7f33d89fb84601d3d00bdd', 'message': 'Remove MIN_COMPUTE_MULTIATTACH conditions in API\n\nnova-compute service version 27 was added in Queens [1]\nand the API started relying on it in Queens [2] when\ncreating a server with a multi-attach volume.\n\nWe are long past supporting computes older than Queens\nso we can drop that minimum service version check code\nfrom the server create API flow and related error handling.\n\nNote that when attaching a multi-attach volume to a server\nthe version compatibility was handled in the compute RPC API\nreserve_block_device_name method, but that code was removed\nin Rocky [3]. However, the volume attach API still has to\nhandle the MultiattachSupportNotYetAvailable exception if\nusing cells v1 because it is raised from\nComputeCellsAPI._attach_volume.\n\n[1] Ieec2bbd8a23c861c89bf9922517fa6a5562f1937\n[2] I02120ef8767c3f9c9497bff67101e57e204ed6f4\n[3] Ibcb6bf912b3fb69c8631665fef2832906ba338aa\n\nChange-Id: I7700f66fd590b617333ae99c1b42986278b36263\n'}, {'number': 3, 'created': '2019-04-26 20:11:14.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/544cfedd16cee691be371fe06ec6179e63e074a9', 'message': 'Remove MIN_COMPUTE_MULTIATTACH conditions in API\n\nnova-compute service version 27 was added in Queens [1]\nand the API started relying on it in Queens [2] when\ncreating a server with a multi-attach volume.\n\nWe are long past supporting computes older than Queens\nso we can drop that minimum service version check code\nfrom the server create API flow and related error handling.\n\nNote that when attaching a multi-attach volume to a server\nthe version compatibility was handled in the compute RPC API\nreserve_block_device_name method, but that code was removed\nin Rocky [3]. However, the volume attach API still has to\nhandle the MultiattachSupportNotYetAvailable exception if\nusing cells v1 because it is raised from\nComputeCellsAPI._attach_volume.\n\n[1] Ieec2bbd8a23c861c89bf9922517fa6a5562f1937\n[2] I02120ef8767c3f9c9497bff67101e57e204ed6f4\n[3] Ibcb6bf912b3fb69c8631665fef2832906ba338aa\n\nChange-Id: I7700f66fd590b617333ae99c1b42986278b36263\n'}]",2,649757,544cfedd16cee691be371fe06ec6179e63e074a9,46,16,3,6873,,,0,"Remove MIN_COMPUTE_MULTIATTACH conditions in API

nova-compute service version 27 was added in Queens [1]
and the API started relying on it in Queens [2] when
creating a server with a multi-attach volume.

We are long past supporting computes older than Queens
so we can drop that minimum service version check code
from the server create API flow and related error handling.

Note that when attaching a multi-attach volume to a server
the version compatibility was handled in the compute RPC API
reserve_block_device_name method, but that code was removed
in Rocky [3]. However, the volume attach API still has to
handle the MultiattachSupportNotYetAvailable exception if
using cells v1 because it is raised from
ComputeCellsAPI._attach_volume.

[1] Ieec2bbd8a23c861c89bf9922517fa6a5562f1937
[2] I02120ef8767c3f9c9497bff67101e57e204ed6f4
[3] Ibcb6bf912b3fb69c8631665fef2832906ba338aa

Change-Id: I7700f66fd590b617333ae99c1b42986278b36263
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/649757/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",4,ff19f4e70ac0d235da53a8564a54d1eaff6c28fb,drop-min-compute-multiattach,," exception.MultiattachSupportNotYetAvailable,",2,39
openstack%2Fmistral-dashboard~stable%2Fstein~Ie3c19608d9c88cdbd41ca807e1f22d9b37d3d9d5,openstack/mistral-dashboard,stable/stein,Ie3c19608d9c88cdbd41ca807e1f22d9b37d3d9d5,Fix the bug of the py27 test,MERGED,2019-05-02 18:05:56.000000000,2019-05-02 18:30:58.000000000,2019-05-02 18:30:58.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-05-02 18:05:56.000000000', 'files': ['mistraldashboard/test/test_data/mistral_data.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/2e8459a12dbb65659a96526d7137217a4db66edc', 'message': 'Fix the bug of the py27 test\n\nChange-Id: Ie3c19608d9c88cdbd41ca807e1f22d9b37d3d9d5\n(cherry picked from commit f732ea90c906a5cfaa5cf0d3860148046d6f6433)\n'}]",0,656836,2e8459a12dbb65659a96526d7137217a4db66edc,6,3,1,8731,,,0,"Fix the bug of the py27 test

Change-Id: Ie3c19608d9c88cdbd41ca807e1f22d9b37d3d9d5
(cherry picked from commit f732ea90c906a5cfaa5cf0d3860148046d6f6433)
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/36/656836/1 && git format-patch -1 --stdout FETCH_HEAD,['mistraldashboard/test/test_data/mistral_data.py'],1,2e8459a12dbb65659a96526d7137217a4db66edc,Bug#test-stable/stein," 'type': 'ACTION',",,1,0
openstack%2Fpython-tripleoclient~master~Iffc7b557ebd7e30ff56ceaee702ed3c4466d4eea,openstack/python-tripleoclient,master,Iffc7b557ebd7e30ff56ceaee702ed3c4466d4eea,Do not log tracebacks for expected exceptions,MERGED,2019-04-11 11:06:45.000000000,2019-05-02 18:26:31.000000000,2019-05-01 17:21:21.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-11 11:06:45.000000000', 'files': ['tripleoclient/command.py', 'tripleoclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b3cef86bb9783eb3b68ca918221ee9eb46232121', 'message': 'Do not log tracebacks for expected exceptions\n\nThe tripleoclient exceptions are supposed to have enough context,\nlogging their traceback just confuses the users. Note that with\n--debug all exceptions will have a traceback anyway.\n\nThis change introduces a base class for tripleoclient exceptions.\n\nChange-Id: Iffc7b557ebd7e30ff56ceaee702ed3c4466d4eea\nCloses-Bug: #1824329\n'}]",4,651753,b3cef86bb9783eb3b68ca918221ee9eb46232121,14,6,1,10239,,,0,"Do not log tracebacks for expected exceptions

The tripleoclient exceptions are supposed to have enough context,
logging their traceback just confuses the users. Note that with
--debug all exceptions will have a traceback anyway.

This change introduces a base class for tripleoclient exceptions.

Change-Id: Iffc7b557ebd7e30ff56ceaee702ed3c4466d4eea
Closes-Bug: #1824329
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/53/651753/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/command.py', 'tripleoclient/exceptions.py']",2,b3cef86bb9783eb3b68ca918221ee9eb46232121,bug/1824329,"class Base(Exception): """"""Base TripleO exception."""""" class Timeout(Base):class WorkflowServiceError(Base):class WebSocketTimeout(Base):class WebSocketConnectionClosed(Base):class NotFound(Base):class DeploymentError(Base): class PlanEnvWorkflowError(Base):class StackInProgress(Base):class RootUserExecution(Base):class InvalidConfiguration(Base, ValueError):class IntrospectionError(Base):class StateTransitionFailed(Base):class ProfileMatchingError(Base):class PlanCreationError(Base):class PlanExportError(Base):class WorkflowActionError(Base):class DownloadError(Base):class LogFetchError(Base):class ContainerDeleteFailed(Base):class UndercloudUpgradeNotConfirmed(Base):","class Timeout(Exception):class WorkflowServiceError(Exception):class WebSocketTimeout(Exception):class WebSocketConnectionClosed(Exception):class NotFound(Exception):class DeploymentError(RuntimeError): def __init__(self, *args, **kwargs): super(RuntimeError, self).__init__(*args, **kwargs) class PlanEnvWorkflowError(RuntimeError):class StackInProgress(RuntimeError):class RootUserExecution(Exception):class InvalidConfiguration(ValueError):class IntrospectionError(RuntimeError):class StateTransitionFailed(Exception):class ProfileMatchingError(Exception):class PlanCreationError(Exception):class PlanExportError(Exception):class WorkflowActionError(Exception):class DownloadError(Exception):class LogFetchError(Exception):class ContainerDeleteFailed(Exception):class UndercloudUpgradeNotConfirmed(Exception):",27,23
openstack%2Fnova~stable%2Fstein~I9e7e44727946705506d740896349ca1833cfddcd,openstack/nova,stable/stein,I9e7e44727946705506d740896349ca1833cfddcd,Add functional regression recreate test for bug 1825020,MERGED,2019-04-30 13:23:37.000000000,2019-05-02 18:17:15.000000000,2019-05-02 18:17:15.000000000,"[{'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-30 13:23:37.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1825020.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1db4507ac832913a911afbee90f76f576d8ea20', 'message': ""Add functional regression recreate test for bug 1825020\n\nChange I06fad233006c7bab14749a51ffa226c3801f951b in Stein\nstarted validating extra specs on the new flavor during a\nresize but didn't take into account some validation that\nhappens with disk size with the new flavor if the validation\ncode isn't told that the server is volume-backed. That results\nin a 500 FlavorDiskSmallerThanMinDisk response from the API\nif the new flavor has a smaller disk size than the current\nflavor that the server is using, which shouldn't actually\nmatter for a volume-backed server.\n\nThis adds a functional regression test to recreate the bug.\n\nChange-Id: I9e7e44727946705506d740896349ca1833cfddcd\nRelated-Bug: #1825020\n(cherry picked from commit a40c7f3e8d06f0bc8918a25b60f73ec2c18add05)\n""}]",0,656511,a1db4507ac832913a911afbee90f76f576d8ea20,9,3,1,6873,,,0,"Add functional regression recreate test for bug 1825020

Change I06fad233006c7bab14749a51ffa226c3801f951b in Stein
started validating extra specs on the new flavor during a
resize but didn't take into account some validation that
happens with disk size with the new flavor if the validation
code isn't told that the server is volume-backed. That results
in a 500 FlavorDiskSmallerThanMinDisk response from the API
if the new flavor has a smaller disk size than the current
flavor that the server is using, which shouldn't actually
matter for a volume-backed server.

This adds a functional regression test to recreate the bug.

Change-Id: I9e7e44727946705506d740896349ca1833cfddcd
Related-Bug: #1825020
(cherry picked from commit a40c7f3e8d06f0bc8918a25b60f73ec2c18add05)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/656511/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1825020.py'],1,a1db4507ac832913a911afbee90f76f576d8ea20,bug/1825020,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import six from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client as api_client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as fake_image class VolumeBackedResizeDiskDown(test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1825020 introduced in Stein. This tests a resize scenario where a volume-backed server is resized to a flavor with a smaller disk than the flavor used to create the server. Since the server is volume-backed, the disk in the new flavor should not matter since it won't be used for the guest. """""" def setUp(self): super(VolumeBackedResizeDiskDown, self).setUp() self.flags(allow_resize_to_same_host=True) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.CinderFixtureNewAttachFlow(self)) self.useFixture(func_fixtures.PlacementFixture()) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) self.start_service('conductor') self.start_service('scheduler') self.start_service('compute') def test_volume_backed_resize_disk_down(self): # First determine the flavors we're going to use by picking two flavors # with different size disks and create a volume-backed server using the # flavor with the bigger disk size. flavors = self.api.get_flavors() flavor1 = flavors[0] flavor2 = flavors[1] self.assertGreater(flavor2['disk'], flavor1['disk']) vol_id = nova_fixtures.CinderFixtureNewAttachFlow.IMAGE_BACKED_VOL server = { 'name': 'test_volume_backed_resize_disk_down', 'imageRef': '', 'flavorRef': flavor2['id'], 'block_device_mapping_v2': [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': vol_id }] } server = self.api.post_server({'server': server}) self._wait_for_state_change(self.api, server, 'ACTIVE') # Now try to resize the server with the flavor that has smaller disk. data = {'resize': {'flavorRef': flavor1['id']}} # FIXME(mriedem): This will raise FlavorDiskSmallerThanMinDisk as a 500 # error until bug 1825020 is fixed. ex = self.assertRaises(api_client.OpenStackApiException, self.api.post_server_action, server['id'], data) self.assertEqual(500, ex.response.status_code) self.assertIn('FlavorDiskSmallerThanMinDisk', six.text_type(ex)) ",,82,0
openstack%2Fpython-dracclient~master~I4cea95659db11747b1c8708e1dbe7cac53c0eaf9,openstack/python-dracclient,master,I4cea95659db11747b1c8708e1dbe7cac53c0eaf9,clear_foreign_config() succeeds if no foreign disk,MERGED,2019-04-24 07:05:35.000000000,2019-05-02 18:16:45.000000000,2019-05-02 18:16:45.000000000,"[{'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10250}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 29863}]","[{'number': 1, 'created': '2019-04-24 07:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/74a3a811826d3f8220e34f65109f512dc1c12331', 'message': 'Updated ClearForeignConfig method in RAID deletion\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 2, 'created': '2019-04-24 07:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/221d0a8abba437e3184663154c3cc34e461ca921', 'message': 'Updated ClearForeignConfig method in dracclient for RAID deletion\n\nFor raid deletion, updated clear_foreign_config method to handle\nscenario when no foreign drives detected.\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 3, 'created': '2019-04-24 07:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/a19888254616ac3c69077b5bd21adf738162c2f5', 'message': 'Update ClearForeignConfig method in dracclient for RAID deletion\n\nFor raid deletion, updated clear_foreign_config method to handle\nscenario when no foreign drives detected.\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 4, 'created': '2019-04-24 08:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/635964e31fc869abc144c59b38202ee46dafb9f2', 'message': 'Updated ClearForeignConfig method in RAID deletion\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 5, 'created': '2019-04-24 08:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/4f2c48f1ec771f0b7b36a1fd9357b24ae1ffc688', 'message': 'Updated ClearForeignConfig method in RAID deletion\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 6, 'created': '2019-04-24 09:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/7ba5f2e24842a90712e687033ff26ae2a660e7e7', 'message': 'Updated ClearForeignConfig method in RAID deletion\n\nThis code change added in ClearForeignConfig method to handle scenario\nwhen no foreign drives detected.\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 7, 'created': '2019-04-25 05:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/5b63a3bf45ae3316160fb2d1d496b0756340afdc', 'message': 'Modify ClearForeignConfig method in RAID deletion\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 8, 'created': '2019-04-25 05:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/f8623453ce1aab7a15775bb567799bb22acaec0a', 'message': 'Modify ClearForeignConfig method in RAID deletion\n\nFor raid deletion, modified clear_foreign_config method to handle\nscenario when no foreign drives detected.\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 9, 'created': '2019-04-26 09:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/64ae8bec30e707e8df3b1d08a05c663f11560dbb', 'message': 'clear_foreign_config() succeeds if no foreign disk\n\nWhen clear_foreign_config() does not detect a foreign disk, instead\nof failing and raising an exception, it succeeds and returns a value\nwhich informs the caller nothing further needs to be done.\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 10, 'created': '2019-04-26 10:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/c227ea69258be2c755a200c68d7062f76aad00df', 'message': 'clear_foreign_config() succeeds if no foreign disk\n\nWhen clear_foreign_config() does not detect a foreign disk, instead\nof failing and raising an exception, it succeeds and returns a value\nwhich informs the caller nothing further needs to be done.\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 11, 'created': '2019-04-26 10:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/d777d241586ba4cbc59a21f058ec030870a22cc0', 'message': 'clear_foreign_config() succeeds if no foreign disk\n\nWhen clear_foreign_config() does not detect a foreign disk, instead\nof failing and raising an exception, it succeeds and returns a value\nwhich informs the caller nothing further needs to be done.\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 12, 'created': '2019-04-26 10:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/18bd8e28340c3eca51d2decbfc46ab47300e9d31', 'message': 'clear_foreign_config() succeeds if no foreign disk\n\nWhen clear_foreign_config() does not detect a foreign disk, instead\nof failing and raising an exception, it succeeds and returns a value\nwhich informs the caller nothing further needs to be done.\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 13, 'created': '2019-04-29 14:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/97b9f8f5add5ddcc97800a935d1b77b4ad26bb98', 'message': 'clear_foreign_config() succeeds if no foreign disk\n\nWhen clear_foreign_config() does not detect a foreign disk, instead\nof failing and raising an exception, it succeeds and returns a value\nwhich informs the caller nothing further needs to be done.\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}, {'number': 14, 'created': '2019-05-02 08:12:53.000000000', 'files': ['dracclient/tests/test_raid.py', 'dracclient/tests/utils.py', 'dracclient/tests/wsman_mocks/raid_service-invoke-clear_foreign_config-invalid_controller.xml', 'dracclient/tests/wsman_mocks/raid_service-invoke-clear_foreign_config-no_foreign_drive.xml', 'dracclient/resources/raid.py'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/8eec25c00d208c19dceb266c74c7bc4811ba6076', 'message': 'clear_foreign_config() succeeds if no foreign disk\n\nWhen clear_foreign_config() does not detect a foreign disk, instead\nof failing and raising an exception, it succeeds and returns a value\nwhich informs the caller nothing further needs to be done.\n\nChange-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9\n'}]",62,655327,8eec25c00d208c19dceb266c74c7bc4811ba6076,51,6,14,29863,,,0,"clear_foreign_config() succeeds if no foreign disk

When clear_foreign_config() does not detect a foreign disk, instead
of failing and raising an exception, it succeeds and returns a value
which informs the caller nothing further needs to be done.

Change-Id: I4cea95659db11747b1c8708e1dbe7cac53c0eaf9
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/27/655327/11 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/test_raid.py', 'dracclient/resources/raid.py', 'dracclient/tests/wsman_mocks/raid_service-invoke-clear_foreign_config-ok.xml']",3,74a3a811826d3f8220e34f65109f512dc1c12331,, <n1:Message></n1:Message> <n1:MessageID></n1:MessageID> ,,38,14
openstack%2Fproject-config~master~I91d51259c6faf84b94820f11120f28f34df1552b,openstack/project-config,master,I91d51259c6faf84b94820f11120f28f34df1552b,Notify #openstack-ptg IRC channel on ptgbot dev activity,MERGED,2019-04-26 19:09:25.000000000,2019-05-02 18:15:26.000000000,2019-05-02 18:15:26.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 19:09:25.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cd4e25ec275b4991399122b29198b1fb5148c22b', 'message': ""Notify #openstack-ptg IRC channel on ptgbot dev activity\n\nAnyone in #openstack-ptg is likely to be using ptgbot, so it'll\nprobably help if they are aware of ongoing bugfixes / enhancements\netc. to the bot.  Bot development is slow paced enough that this\nis unlikely to cause spam issues :-)\n\nChange-Id: I91d51259c6faf84b94820f11120f28f34df1552b\n""}]",0,655999,cd4e25ec275b4991399122b29198b1fb5148c22b,7,5,1,2394,,,0,"Notify #openstack-ptg IRC channel on ptgbot dev activity

Anyone in #openstack-ptg is likely to be using ptgbot, so it'll
probably help if they are aware of ongoing bugfixes / enhancements
etc. to the bot.  Bot development is slow paced enough that this
is unlikely to cause spam issues :-)

Change-Id: I91d51259c6faf84b94820f11120f28f34df1552b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/655999/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,cd4e25ec275b4991399122b29198b1fb5148c22b,ptgbot,openstack-ptg: events: - patchset-created - change-merged projects: - openstack/ptgbot branches: - master ,,9,0
openstack%2Fkayobe~master~I38fce0a6c155e4b7d2ff7a2535f18e8adc2566e9,openstack/kayobe,master,I38fce0a6c155e4b7d2ff7a2535f18e8adc2566e9,"Fix setup.cfg syntax error, not allowed comment in files section",MERGED,2019-05-01 21:40:01.000000000,2019-05-02 18:09:44.000000000,2019-05-02 17:46:43.000000000,"[{'_account_id': 11444}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27875}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-05-01 21:40:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1e40f8498ae223ba1e71a9e2a3899ef66c822efe', 'message': 'Fix setup.cfg syntax error, not allowed comment in files section\n\nIn [files] section of setup.cfg there is not allowed comment, which\nbreaks installation with setup.py.\n\nChange-Id: I38fce0a6c155e4b7d2ff7a2535f18e8adc2566e9\nStory: 2005546\nTask: 30692\n'}]",0,656712,1e40f8498ae223ba1e71a9e2a3899ef66c822efe,10,5,1,11444,,,0,"Fix setup.cfg syntax error, not allowed comment in files section

In [files] section of setup.cfg there is not allowed comment, which
breaks installation with setup.py.

Change-Id: I38fce0a6c155e4b7d2ff7a2535f18e8adc2566e9
Story: 2005546
Task: 30692
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/12/656712/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1e40f8498ae223ba1e71a9e2a3899ef66c822efe,bug/2005546,"# In below section we have to include the roles directory explicitly # to Workaround PBR bug: # source prefix replaced globally, see: # https://bugs.launchpad.net/pbr/+bug/1810804"," # We have to include the roles directory explicitly to Workaround PBR bug: # source prefix replaced globally, see: # https://bugs.launchpad.net/pbr/+bug/1810804",4,3
openstack%2Fmistral-dashboard~master~Ib68a1cb57957e5705dcdf1ee0f46cf9359a6bf47,openstack/mistral-dashboard,master,Ib68a1cb57957e5705dcdf1ee0f46cf9359a6bf47,Dropping the py35 testing,MERGED,2019-04-14 23:34:04.000000000,2019-05-02 18:09:11.000000000,2019-05-02 18:09:11.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-14 23:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/5a5624a213919e3cac22cbd39dd19d3513b3c650', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib68a1cb57957e5705dcdf1ee0f46cf9359a6bf47\n'}, {'number': 2, 'created': '2019-04-15 18:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/699e37944271437c16d6d23614e232a485d785cb', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib68a1cb57957e5705dcdf1ee0f46cf9359a6bf47\n'}, {'number': 3, 'created': '2019-05-02 17:48:02.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/8b4ca12f7a36e703dabcb198d3236f48ec110ead', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib68a1cb57957e5705dcdf1ee0f46cf9359a6bf47\n'}]",0,652410,8b4ca12f7a36e703dabcb198d3236f48ec110ead,10,2,3,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ib68a1cb57957e5705dcdf1ee0f46cf9359a6bf47
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/10/652410/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,5a5624a213919e3cac22cbd39dd19d3513b3c650,dropping-py35-testing,"envlist = pep8,py27","envlist = pep8,py27,py35 [testenv:py35dj20] basepython = python3.5 commands = pip install django>=2.0,<2.1 {[testenv]commands}",2,9
openstack%2Fmistral-dashboard~master~Ie3c19608d9c88cdbd41ca807e1f22d9b37d3d9d5,openstack/mistral-dashboard,master,Ie3c19608d9c88cdbd41ca807e1f22d9b37d3d9d5,Fix the bug of the py27 test,MERGED,2019-04-18 09:08:12.000000000,2019-05-02 18:05:56.000000000,2019-04-18 12:37:03.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-18 09:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/f909113e3156a3a722c615edf050af464edf9386', 'message': 'Fix the bug of  the py27 test\n\nChange-Id: Ie3c19608d9c88cdbd41ca807e1f22d9b37d3d9d5\n'}, {'number': 2, 'created': '2019-04-18 09:09:24.000000000', 'files': ['mistraldashboard/test/test_data/mistral_data.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/f732ea90c906a5cfaa5cf0d3860148046d6f6433', 'message': 'Fix the bug of the py27 test\n\nChange-Id: Ie3c19608d9c88cdbd41ca807e1f22d9b37d3d9d5\n'}]",0,653693,f732ea90c906a5cfaa5cf0d3860148046d6f6433,8,2,2,27822,,,0,"Fix the bug of the py27 test

Change-Id: Ie3c19608d9c88cdbd41ca807e1f22d9b37d3d9d5
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/93/653693/2 && git format-patch -1 --stdout FETCH_HEAD,['mistraldashboard/test/test_data/mistral_data.py'],1,f909113e3156a3a722c615edf050af464edf9386,Bug#test," 'type': 'ACTION',",,1,0
openstack%2Fmistral-dashboard~master~Ieb5652e4bf238c9787ac3669b92b20333add6b4e,openstack/mistral-dashboard,master,Ieb5652e4bf238c9787ac3669b92b20333add6b4e,Increment versioning with pbr instruction,MERGED,2018-10-15 13:48:03.000000000,2019-05-02 18:05:44.000000000,2019-05-02 18:05:44.000000000,"[{'_account_id': 1736}, {'_account_id': 2472}, {'_account_id': 8731}, {'_account_id': 17068}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 13:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/b486f02b7bea1f5c87daaff4dd8544a9aed3f25e', 'message': 'Increment versioning with pbr instruction\n\nWith moving away from required milestone releases, the version numbers\ncalculated by PBR on the master branch will not work for those testing\nupgrades from the last stable release. More details can be found in the\nmailing list post here:\n\n    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html\n\nThis is an empty commit that will cause PBR to increment its calculated\nversion to get around this.\n\nPBR will see the following which will cause it to increment the version:\n\nSem-Ver: feature\n\nPlease merge this patch as soon as possible to support those testing\nupgrades.\n\nChange-Id: Ieb5652e4bf238c9787ac3669b92b20333add6b4e\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,610552,b486f02b7bea1f5c87daaff4dd8544a9aed3f25e,10,6,1,11904,,,0,"Increment versioning with pbr instruction

With moving away from required milestone releases, the version numbers
calculated by PBR on the master branch will not work for those testing
upgrades from the last stable release. More details can be found in the
mailing list post here:

    http://lists.openstack.org/pipermail/openstack-dev/2018-October/135706.html

This is an empty commit that will cause PBR to increment its calculated
version to get around this.

PBR will see the following which will cause it to increment the version:

Sem-Ver: feature

Please merge this patch as soon as possible to support those testing
upgrades.

Change-Id: Ieb5652e4bf238c9787ac3669b92b20333add6b4e
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/52/610552/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,b486f02b7bea1f5c87daaff4dd8544a9aed3f25e,sem-ver,,,0,0
openstack%2Fmistral-dashboard~master~I4797b7c1a988e0eeee16df9ee4f0f2c43f143d36,openstack/mistral-dashboard,master,I4797b7c1a988e0eeee16df9ee4f0f2c43f143d36,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-26 07:50:19.000000000,2019-05-02 18:01:23.000000000,2019-05-02 18:01:23.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 07:50:19.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/a8cd02da9d4ceb584c9dc125e44f58f8e3de7c98', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4797b7c1a988e0eeee16df9ee4f0f2c43f143d36\n'}]",0,655840,a8cd02da9d4ceb584c9dc125e44f58f8e3de7c98,6,2,1,27822,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I4797b7c1a988e0eeee16df9ee4f0f2c43f143d36
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/40/655840/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,a8cd02da9d4ceb584c9dc125e44f58f8e3de7c98,Bug#replace,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},2,2
openstack%2Frequirements~master~I7b42e1c5878e85a3f1d38e0798a230693cbe7afc,openstack/requirements,master,I7b42e1c5878e85a3f1d38e0798a230693cbe7afc,Add ceilometer to blacklist.txt,ABANDONED,2018-10-16 18:11:40.000000000,2019-05-02 17:56:14.000000000,,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-16 18:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/55776b12ce631a7e72fc1ce84aef91fc879cba17', 'message': 'Add ceilometer to blacklist.txt\n\nThis brings ceilometer to have the same behavior as the other service\nused as libs projects (neutron and horizon).\n\nChange-Id: I7b42e1c5878e85a3f1d38e0798a230693cbe7afc\nStory: 2003879\nTask: 26739\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 2, 'created': '2019-03-28 12:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/cb974e7f81b415349b5a440e579055e7bbc5a0f3', 'message': 'Add ceilometer to blacklist.txt\n\nThis brings ceilometer to have the same behavior as the other service\nused as libs projects (neutron and horizon).\n\nChange-Id: I7b42e1c5878e85a3f1d38e0798a230693cbe7afc\nStory: 2003879\nTask: 26739\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2019-04-04 10:23:52.000000000', 'files': ['blacklist.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bd739318187396d1f99fd02c0f48b8f82a87021e', 'message': 'Add ceilometer to blacklist.txt\n\nThis brings ceilometer to have the same behavior as the other service\nused as libs projects (neutron and horizon).\n\nChange-Id: I7b42e1c5878e85a3f1d38e0798a230693cbe7afc\nStory: 2003879\nTask: 26739\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,611118,bd739318187396d1f99fd02c0f48b8f82a87021e,15,6,3,14288,,,0,"Add ceilometer to blacklist.txt

This brings ceilometer to have the same behavior as the other service
used as libs projects (neutron and horizon).

Change-Id: I7b42e1c5878e85a3f1d38e0798a230693cbe7afc
Story: 2003879
Task: 26739
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/611118/2 && git format-patch -1 --stdout FETCH_HEAD,"['blacklist.txt', 'upper-constraints.txt']",2,55776b12ce631a7e72fc1ce84aef91fc879cba17,blacklist-ceilometer,,ceilometer===11.0.0,1,1
openstack%2Ftripleo-validations~master~I70ad9fe41c83ca6a67c5e2bcba15cf6fdad2a1a2,openstack/tripleo-validations,master,I70ad9fe41c83ca6a67c5e2bcba15cf6fdad2a1a2,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:40:41.000000000,2019-05-02 17:48:09.000000000,2019-05-02 17:48:09.000000000,"[{'_account_id': 8556}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-23 11:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/46f63fc0c5c0b4bb98f127a3c7212dc6f216e41d', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I70ad9fe41c83ca6a67c5e2bcba15cf6fdad2a1a2\n'}, {'number': 2, 'created': '2019-04-24 07:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/afadd7737be1e4aa960033ff9f8bc19e8499be36', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I70ad9fe41c83ca6a67c5e2bcba15cf6fdad2a1a2\n'}, {'number': 3, 'created': '2019-04-24 07:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ce339bb22bb31c7d9cca65826d2f4cc1666dabe1', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I70ad9fe41c83ca6a67c5e2bcba15cf6fdad2a1a2\n'}, {'number': 4, 'created': '2019-04-24 07:20:03.000000000', 'files': ['README.rst', 'doc/source/readme.rst', 'doc/source/_exts/generate_validations_doc.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d376c40c4adf2faab606a4adb5d449cd9b8d018c', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I70ad9fe41c83ca6a67c5e2bcba15cf6fdad2a1a2\n'}]",1,655087,d376c40c4adf2faab606a4adb5d449cd9b8d018c,15,7,4,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I70ad9fe41c83ca6a67c5e2bcba15cf6fdad2a1a2
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/87/655087/4 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'doc/source/readme.rst', 'doc/source/_exts/generate_validations_doc.py', 'tox.ini']",4,46f63fc0c5c0b4bb98f127a3c7212dc6f216e41d,,"install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} ""ansible>=2"" ""ansible-lint""","install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} ""ansible>=2"" ""ansible-lint""",4,4
openstack%2Fsushy-tools~master~If66e0857218b68e82a9cab4c9a76a709ff360297,openstack/sushy-tools,master,If66e0857218b68e82a9cab4c9a76a709ff360297,Add HTTP image download for virtual media emulation,ABANDONED,2019-03-14 13:34:34.000000000,2019-05-02 17:46:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-14 13:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/3a8132b78a2914c22d0e2dc3287ec5398ea0e980', 'message': 'Add HTTP image download for virtual media emulation\n\nImage download is implemented in the Manager driver for Virtual\nMedia boot feature to function.\n\nImage download is local to the emulator machine, meaning that\nfor downloaded image to be accessible the hypervisor must be\nrunning on the same machine with the emulator.\n\nChange-Id: If66e0857218b68e82a9cab4c9a76a709ff360297\nStory: 2005149\nTask: 29858\n'}, {'number': 2, 'created': '2019-03-14 14:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/214b02759dfbe83f9703c42f013e2414c4fce56c', 'message': 'Add HTTP image download for virtual media emulation\n\nImage download is implemented in the Manager driver for Virtual\nMedia boot feature to function.\n\nImage download is local to the emulator machine, meaning that\nfor downloaded image to be accessible the hypervisor must be\nrunning on the same machine with the emulator.\n\nChange-Id: If66e0857218b68e82a9cab4c9a76a709ff360297\nStory: 2005149\nTask: 29858\n'}, {'number': 3, 'created': '2019-03-22 14:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6e18783eadf4c005f6acc3ac8efb3683ae7b9e59', 'message': 'Add HTTP image download for virtual media emulation\n\nImage download is implemented in the Manager driver for Virtual\nMedia boot feature to function.\n\nImage download is local to the emulator machine, meaning that\nfor downloaded image to be accessible the hypervisor must be\nrunning on the same machine with the emulator.\n\nChange-Id: If66e0857218b68e82a9cab4c9a76a709ff360297\nStory: 2005149\nTask: 29858\n'}, {'number': 4, 'created': '2019-03-22 22:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/58e64e0d542e5d065fe43c0f0def9a6aade94bff', 'message': 'Add HTTP image download for virtual media emulation\n\nImage download is implemented in the Manager driver for Virtual\nMedia boot feature to function.\n\nImage download is local to the emulator machine, meaning that\nfor downloaded image to be accessible the hypervisor must be\nrunning on the same machine with the emulator.\n\nChange-Id: If66e0857218b68e82a9cab4c9a76a709ff360297\nStory: 2005149\nTask: 29858\n'}, {'number': 5, 'created': '2019-03-26 08:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/be170bda5131f9006bb16a767508391b8e762966', 'message': 'Add HTTP image download for virtual media emulation\n\nImage download is implemented in the Manager driver for Virtual\nMedia boot feature to function.\n\nImage download is local to the emulator machine, meaning that\nfor downloaded image to be accessible the hypervisor must be\nrunning on the same machine with the emulator.\n\nChange-Id: If66e0857218b68e82a9cab4c9a76a709ff360297\nStory: 2005149\nTask: 29858\n'}, {'number': 6, 'created': '2019-03-26 09:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/fb54bfd5b422704ccf7e29d2cba22ec358d027df', 'message': 'Add HTTP image download for virtual media emulation\n\nImage download is implemented in the Manager driver for Virtual\nMedia boot feature to function.\n\nImage download is local to the emulator machine, meaning that\nfor downloaded image to be accessible the hypervisor must be\nrunning on the same machine with the emulator.\n\nChange-Id: If66e0857218b68e82a9cab4c9a76a709ff360297\nStory: 2005149\nTask: 29858\n'}, {'number': 7, 'created': '2019-03-29 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/433fdcdb6a6e17aa768a016d43ee07aa9b87eaae', 'message': 'Add HTTP image download for virtual media emulation\n\nImage download is implemented in the Manager driver for Virtual\nMedia boot feature to function.\n\nImage download is local to the emulator machine, meaning that\nfor downloaded image to be accessible the hypervisor must be\nrunning on the same machine with the emulator.\n\nChange-Id: If66e0857218b68e82a9cab4c9a76a709ff360297\nStory: 2005149\nTask: 29858\n'}, {'number': 8, 'created': '2019-04-17 12:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4824e8c546f21684b5bfa83eeebfc9a3bc1208f7', 'message': 'Add HTTP image download for virtual media emulation\n\nImage download is implemented in the Manager driver for Virtual\nMedia boot feature to function.\n\nImage download is local to the emulator machine, meaning that\nfor downloaded image to be accessible the hypervisor must be\nrunning on the same machine with the emulator.\n\nChange-Id: If66e0857218b68e82a9cab4c9a76a709ff360297\nStory: 2005149\nTask: 29858\n'}, {'number': 9, 'created': '2019-04-23 14:20:41.000000000', 'files': ['sushy_tools/emulator/managers/staticdriver.py', 'releasenotes/notes/add-virtual-media-4a137a5fb5017031.yaml', 'doc/source/user/dynamic-emulator.rst', 'sushy_tools/tests/unit/emulator/test_static.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/87fa9d098a307416b8bc08f1e4fe8a12cf0fd540', 'message': 'Add HTTP image download for virtual media emulation\n\nImage download is implemented in the Manager driver for Virtual\nMedia boot feature to function.\n\nImage download is local to the emulator machine, meaning that\nfor downloaded image to be accessible the hypervisor must be\nrunning on the same machine with the emulator.\n\nChange-Id: If66e0857218b68e82a9cab4c9a76a709ff360297\nStory: 2005149\nTask: 29858\n'}]",0,643330,87fa9d098a307416b8bc08f1e4fe8a12cf0fd540,19,1,9,26340,,,0,"Add HTTP image download for virtual media emulation

Image download is implemented in the Manager driver for Virtual
Media boot feature to function.

Image download is local to the emulator machine, meaning that
for downloaded image to be accessible the hypervisor must be
running on the same machine with the emulator.

Change-Id: If66e0857218b68e82a9cab4c9a76a709ff360297
Story: 2005149
Task: 29858
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/30/643330/4 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/managers/staticdriver.py', 'releasenotes/notes/add-virtual-media-4a137a5fb5017031.yaml', 'sushy_tools/tests/unit/emulator/test_static.py']",3,3a8132b78a2914c22d0e2dc3287ec5398ea0e980,13-add-image-download," @mock.patch('requests.get', autospec=True) @mock.patch('re.findall', autospec=True) @mock.patch('os.rename', autospec=True) def test_insert_vmedia_image( self, rename_mock, findall_mock, get_mock): findall_mock.return_value = 'image.iso' self.uuid, 'Cd@server01', 'http:///red/iso', inserted=True, get_mock.assert_called_once_with( 'http:///red/iso', stream=True) self.assertEqual(1, rename_mock.call_count) 'server01', 'Cd', mock.ANY, False)"," def test_insert_vmedia_image(self): self.uuid, 'Cd@server01', 'file:///red.iso', inserted=True, 'server01', 'Cd', '/red.iso', False)",63,22
openstack%2Fptgbot~master~Id347b88adfc7150ff26550cf9170071e7ac33227,openstack/ptgbot,master,Id347b88adfc7150ff26550cf9170071e7ac33227,Check that subscription regexen compile before accepting them,MERGED,2019-05-02 17:24:14.000000000,2019-05-02 17:45:57.000000000,2019-05-02 17:45:56.000000000,"[{'_account_id': 308}, {'_account_id': 2394}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 17:24:14.000000000', 'files': ['ptgbot/bot.py'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/b14ec32f05e21cf0ea41c0efc6390194eac10153', 'message': 'Check that subscription regexen compile before accepting them\n\nPreviously we blindly accepted any string as a regex, but then\nit could fail to compile at search-time when a track topic got\nupdated, which would cause the bot to crash.\n\nSo do a precautionary compile of the regex in order to ensure\nwe only accept valid regexen.\n\nChange-Id: Id347b88adfc7150ff26550cf9170071e7ac33227\n'}]",0,656816,b14ec32f05e21cf0ea41c0efc6390194eac10153,8,6,1,2394,,,0,"Check that subscription regexen compile before accepting them

Previously we blindly accepted any string as a regex, but then
it could fail to compile at search-time when a track topic got
updated, which would cause the bot to crash.

So do a precautionary compile of the regex in order to ensure
we only accept valid regexen.

Change-Id: Id347b88adfc7150ff26550cf9170071e7ac33227
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/16/656816/1 && git format-patch -1 --stdout FETCH_HEAD,['ptgbot/bot.py'],1,b14ec32f05e21cf0ea41c0efc6390194eac10153,regex-compile," try: re.compile(new_re) except Exception as e: self.send_priv_or_pub(reply_to, nick, ""Invalid regex: %s"" % e) else: self.data.set_subscription(nick, new_re) self.send_priv_or_pub( reply_to, nick, ""Subscription set to "" + new_re + ("" (was %s)"" % existing_re if existing_re else """") )"," self.data.set_subscription(nick, new_re) self.send_priv_or_pub( reply_to, nick, ""Subscription set to "" + new_re + ("" (was %s)"" % existing_re if existing_re else """") )",11,6
openstack%2Fcinder~master~I5065ccbed27c5b7c3b32ae8eda221c151a8bbaa9,openstack/cinder,master,I5065ccbed27c5b7c3b32ae8eda221c151a8bbaa9,Allow setting Pure host personality,MERGED,2019-02-13 18:28:12.000000000,2019-05-02 17:42:31.000000000,2019-05-02 17:42:31.000000000,"[{'_account_id': 1736}, {'_account_id': 4355}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12924}, {'_account_id': 13144}, {'_account_id': 13425}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-02-13 18:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61529f72a9df2050e63e90c10b4107a1f3e73b68', 'message': 'Allow setting Pure host personality\n\nAdd a new configuration option for setting the Pure host personality.\nIt determines how the Purity system tunes the protocol used between\nthe array and the initiator. To ensure the array works optimally with\nthe host, set the personality to the name of the host operating or\nvirtual memory system. Valid values are aix, esxi, hitachi-vsp, hpux,\noracle-vm-server, solaris, and vms. If your system is not listed as\none of the valid host personalities, do not set the option. By\ndefault, the host personality is not set.\n\nChange-Id: I5065ccbed27c5b7c3b32ae8eda221c151a8bbaa9\n'}, {'number': 2, 'created': '2019-02-13 18:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/303109f67dcfdc765c0bef570311dfc4eb5ce184', 'message': 'Allow setting Pure host personality\n\nAdd a new configuration option for setting the Pure host personality.\nIt determines how the Purity system tunes the protocol used between\nthe array and the initiator. To ensure the array works optimally with\nthe host, set the personality to the name of the host operating or\nvirtual memory system. Valid values are aix, esxi, hitachi-vsp, hpux,\noracle-vm-server, solaris, and vms. If your system is not listed as\none of the valid host personalities, do not set the option. By\ndefault, the host personality is not set.\n\nChange-Id: I5065ccbed27c5b7c3b32ae8eda221c151a8bbaa9\n'}, {'number': 3, 'created': '2019-02-14 07:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d684be8ef8f7c3b4bfcd9f1a36d762c58d6b355', 'message': 'Allow setting Pure host personality\n\nAdd a new configuration option for setting the Pure host personality.\nIt determines how the Purity system tunes the protocol used between\nthe array and the initiator. To ensure the array works optimally with\nthe host, set the personality to the name of the host operating or\nvirtual memory system. Valid values are aix, esxi, hitachi-vsp, hpux,\noracle-vm-server, solaris, and vms. If your system is not listed as\none of the valid host personalities, do not set the option. By\ndefault, the host personality is not set.\n\nChange-Id: I5065ccbed27c5b7c3b32ae8eda221c151a8bbaa9\n'}, {'number': 4, 'created': '2019-02-14 14:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2354d1086c409b566fa47001978eb85d54bf00d2', 'message': 'Allow setting Pure host personality\n\nAdd a new configuration option for setting the Pure host personality.\nIt determines how the Purity system tunes the protocol used between\nthe array and the initiator. To ensure the array works optimally with\nthe host, set the personality to the name of the host operating or\nvirtual memory system. Valid values are aix, esxi, hitachi-vsp, hpux,\noracle-vm-server, solaris, and vms. If your system is not listed as\none of the valid host personalities, do not set the option. By\ndefault, the host personality is not set.\n\nChange-Id: I5065ccbed27c5b7c3b32ae8eda221c151a8bbaa9\n'}, {'number': 5, 'created': '2019-02-16 18:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3737834e29c779f5316c4497064691460146876', 'message': 'Allow setting Pure host personality\n\nAdd a new configuration option for setting the Pure host personality.\nIt determines how the Purity system tunes the protocol used between\nthe array and the initiator. To ensure the array works optimally with\nthe host, set the personality to the name of the host operating or\nvirtual memory system. Valid values are aix, esxi, hitachi-vsp, hpux,\noracle-vm-server, solaris, and vms. If your system is not listed as\none of the valid host personalities, do not set the option. By\ndefault, the host personality is not set.\n\nChange-Id: I5065ccbed27c5b7c3b32ae8eda221c151a8bbaa9\n'}, {'number': 6, 'created': '2019-03-04 15:25:42.000000000', 'files': ['cinder/volume/drivers/pure.py', 'doc/source/configuration/block-storage/drivers/pure-storage-driver.rst', 'cinder/tests/unit/volume/drivers/test_pure.py', 'releasenotes/notes/pure-host-personality-3512f7ccd961d4ad.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d50d6a24d721e6ff737db4f2d8f0d19cc3e25d65', 'message': 'Allow setting Pure host personality\n\nAdd a new configuration option for setting the Pure host personality.\nIt determines how the Purity system tunes the protocol used between\nthe array and the initiator. To ensure the array works optimally with\nthe host, set the personality to the name of the host operating or\nvirtual memory system. Valid values are aix, esxi, hitachi-vsp, hpux,\noracle-vm-server, solaris, and vms. If your system is not listed as\none of the valid host personalities, do not set the option. By\ndefault, the host personality is not set.\n\nChange-Id: I5065ccbed27c5b7c3b32ae8eda221c151a8bbaa9\n'}]",14,636709,d50d6a24d721e6ff737db4f2d8f0d19cc3e25d65,205,48,6,4355,,,0,"Allow setting Pure host personality

Add a new configuration option for setting the Pure host personality.
It determines how the Purity system tunes the protocol used between
the array and the initiator. To ensure the array works optimally with
the host, set the personality to the name of the host operating or
virtual memory system. Valid values are aix, esxi, hitachi-vsp, hpux,
oracle-vm-server, solaris, and vms. If your system is not listed as
one of the valid host personalities, do not set the option. By
default, the host personality is not set.

Change-Id: I5065ccbed27c5b7c3b32ae8eda221c151a8bbaa9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/636709/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py']",2,61529f72a9df2050e63e90c10b4107a1f3e73b68,," self.array.reset_mock() self.mock_config.use_chap_auth = False self.mock_config.safe_get.return_value = 'oracle-vm-server' # Branch where chap is used and credentials already exist self.driver._connect(self.array, vol_name, ISCSI_CONNECTOR, None, None) self.assertDictEqual(result, real_result) self.array.set_host.assert_called_with(PURE_HOST_NAME, personality='oracle-vm-server') ",,28,0
openstack%2Fstorlets~master~I7ca2bb3dec275cf8b8402d057fd73103c11c7072,openstack/storlets,master,I7ca2bb3dec275cf8b8402d057fd73103c11c7072,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:40:16.000000000,2019-05-02 17:38:59.000000000,2019-05-02 17:38:58.000000000,"[{'_account_id': 4608}, {'_account_id': 8556}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-04-23 11:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a319f3b664f9e326694a92c7a6bd1c622f68db67', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I7ca2bb3dec275cf8b8402d057fd73103c11c7072\n'}, {'number': 2, 'created': '2019-04-24 06:08:38.000000000', 'files': ['CONTRIBUTING.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/storlets/commit/28bb46d0435df53f9a09765613b5c677f48b73f3', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I7ca2bb3dec275cf8b8402d057fd73103c11c7072\n'}]",1,655071,28bb46d0435df53f9a09765613b5c677f48b73f3,15,5,2,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I7ca2bb3dec275cf8b8402d057fd73103c11c7072
",git fetch https://review.opendev.org/openstack/storlets refs/changes/71/655071/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a319f3b664f9e326694a92c7a6bd1c622f68db67,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fneutron~master~Iec91d30f258686e8b1b9399b0dba943524c4fed4,openstack/neutron,master,Iec91d30f258686e8b1b9399b0dba943524c4fed4,DNM Test different sudoers file for functional tests,ABANDONED,2019-04-28 08:54:56.000000000,2019-05-02 17:34:35.000000000,,"[{'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-28 08:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5ef7c37e075e614790bdc557fe8e5b3bbd13c19', 'message': 'DNM Test different sudoers file for functional tests\n\nChange-Id: Iec91d30f258686e8b1b9399b0dba943524c4fed4\n'}, {'number': 2, 'created': '2019-04-28 10:46:41.000000000', 'files': ['tools/configure_for_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ce34404dca678144f39e0ca1001aec1839ebfe9', 'message': 'DNM Test different sudoers file for functional tests\n\nChange-Id: Iec91d30f258686e8b1b9399b0dba943524c4fed4\n'}]",0,656154,4ce34404dca678144f39e0ca1001aec1839ebfe9,9,3,2,11975,,,0,"DNM Test different sudoers file for functional tests

Change-Id: Iec91d30f258686e8b1b9399b0dba943524c4fed4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/656154/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/configure_for_func_testing.sh'],1,e5ef7c37e075e614790bdc557fe8e5b3bbd13c19,debug_keepalived_state_change_initial_state," Defaults:stack secure_path=""$SECURE_PATH"" stack ALL=(root) NOPASSWD: $ROOTWRAP_SUDOER_CMD stack ALL=(root) NOPASSWD: $ROOTWRAP_DAEMON_SUDOER_CMD",,4,0
openstack%2Ftripleo-heat-templates~master~Id17225e08f4890dddc0e9944dee03b290cf8dcf3,openstack/tripleo-heat-templates,master,Id17225e08f4890dddc0e9944dee03b290cf8dcf3,Check and enable openvswitch is enabled for neutron,ABANDONED,2019-04-01 13:53:18.000000000,2019-05-02 16:26:04.000000000,,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-01 13:53:18.000000000', 'files': ['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a487cd023936378ffeda11a986d73b1add1631db', 'message': 'Check and enable openvswitch is enabled for neutron\n\nAdd task to start and enable the openvswitch service on deployment.\n\nChange-Id: Id17225e08f4890dddc0e9944dee03b290cf8dcf3\nCloses-Bug: #1804264\n'}]",0,649032,a487cd023936378ffeda11a986d73b1add1631db,5,3,1,6681,,,0,"Check and enable openvswitch is enabled for neutron

Add task to start and enable the openvswitch service on deployment.

Change-Id: Id17225e08f4890dddc0e9944dee03b290cf8dcf3
Closes-Bug: #1804264
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/649032/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'],1,a487cd023936378ffeda11a986d73b1add1631db,bug/1804264, - name: ensure openvswitch service is started and enabled service: name: openvswitch state: started enabled: true,,5,0
openstack%2Ftripleo-heat-templates~master~I65fbec8641b2dbc308dd496c78f2fefdbca5f1de,openstack/tripleo-heat-templates,master,I65fbec8641b2dbc308dd496c78f2fefdbca5f1de,WIP: Migrate neutron aux processes from baremetal to container on upgrades,ABANDONED,2018-07-23 17:39:07.000000000,2019-05-02 16:23:34.000000000,,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-23 17:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d676fe468d04444f9f29d56b290175133b330e94', 'message': 'WIP: Migrate neutron aux processes from baremetal to container on upgrades\n\nUnder heavy testing and dev\n\nChange-Id: I65fbec8641b2dbc308dd496c78f2fefdbca5f1de\nCloses-Bug: #1752330\n'}, {'number': 2, 'created': '2018-07-31 13:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6916d7c89b33a790eb0313cc9ac43f5b7fa59b39', 'message': 'WIP: Migrate neutron aux processes from baremetal to container on upgrades\n\nUnder heavy testing and dev\n\nChange-Id: I65fbec8641b2dbc308dd496c78f2fefdbca5f1de\nCloses-Bug: #1752330\n'}, {'number': 3, 'created': '2018-07-31 13:47:42.000000000', 'files': ['docker/services/neutron-l3.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/neutron/neutron-baremetal-to-sidecar.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/135f5455d7cfad2c18d3ff101a94f35ea37e2dc2', 'message': 'WIP: Migrate neutron aux processes from baremetal to container on upgrades\n\nUnder heavy testing and dev\n\nChange-Id: I65fbec8641b2dbc308dd496c78f2fefdbca5f1de\nCloses-Bug: #1752330\n'}]",0,584981,135f5455d7cfad2c18d3ff101a94f35ea37e2dc2,9,3,3,6681,,,0,"WIP: Migrate neutron aux processes from baremetal to container on upgrades

Under heavy testing and dev

Change-Id: I65fbec8641b2dbc308dd496c78f2fefdbca5f1de
Closes-Bug: #1752330
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/584981/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/neutron-l3.yaml', 'docker/services/neutron-baremetal-to-sidecar.py']",2,d676fe468d04444f9f29d56b290175133b330e94,bug/1752330,"#!/usr/bin/python ########################################################################################################## # neutron-baremetal-to-sidecar.py Replaces neutron related processes with containers # # NOTE: Some operations could be handled by pyroute2. However, this is not installed # on the overcloud nodes so currently is not a viable option. import argparse import os import psutil import subprocess import sys import yaml class ProcessConverter(object): def __init__(self, netns, wrapper_file, existing_pid): self.netns = netns self.script_to_run = wrapper_file self.process_to_kill = existing_pid def run(self): if psutil.pid_exists(self.process_to_kill): p = psutil.Process(self.process_to_kill) # TODO(beagles): this would be an opportunity to transparently do # use uids()/gids() to do an acl thing! command = ['ip', 'netns', 'exec', self.netns, self.script_to_run, p.cmdline()] p.kill() try: print(""Migrating %s to container"" % p.pid) result = subprocess.check_output(command) p.wait(300) except subprocess.CalledProcessError as e: print(e) def list_namespaces(): p = subprocess.Popen(['/usr/sbin/ip', 'netns'], stdout=subprocess.PIPE) result = [] while p: l = p.stdout.readline() if not l: break result.append(l.strip().split()[0]) return result def get_ns_pids(ns): p = subprocess.Popen(['/usr/sbin/ip', 'netns', 'pids', ns], stdout=subprocess.PIPE) result = [] while p: l = p.stdout.readline() if not l: break result.append(l.strip()) return result def parse_opts(argv): parser = argparse.ArgumentParser( description='Migrate neutron baremetal helper processes to' ' docker containers.') parser.add_argument('--keepalived', help=""""""Enable migration of the keepalived processes"""""", default='False') parser.add_argument('--keepalived-state', help=""""""Enable migration of the keepalived state change processes"""""", default='False') parser.add_argument('--haproxy', help=""""""Enable migration of the haproxy processes"""""", default='False') parser.add_argument('--dnsmasq', help=""""""Enable migration of the dnsmasq processes"""""", default='False') parser.add_argument('--dibbler', help=""""""Enable migration of the dibbler client processes"""""", default='False') parser.add_argument('--radvd', help=""""""Enable migration of the radvd processes"""""", default='False') opts = parser.parse_args(argv[1:]) return opts def main(args=sys.argv): opts = parse_opts(args) wrappers = {} if opts.keepalived: if bool(yaml.load(opts.keepalived)): wrappers['/usr/sbin/keepalived'] = '/var/lib/neutron/keepalived_wrapper' if opts.keepalived_state: if bool(yaml.load(opts.keepalived_state)): wrappers['/usr/bin/neutron-keepalived-state-change'] = '/var/lib/neutron/keepalived_state_change_wrapper' if opts.haproxy: if bool(yaml.load(opts.haproxy)): wrappers['/usr/sbin/haproxy'] = '/var/lib/neutron/l3_haproxy_wrapper' if opts.dnsmasq: if bool(yaml.load(opts.dnsmasq)): wrappers['/usr/sbin/dnsmasq'] = '/var/lib/neutron/dnsmasq_wrapper' if opts.dibbler: if bool(yaml.load(opts.dibbler)): wrappers['/usr/sbin/dibbler-client'] = '/var/lib/neutron/dibbler_wrapper' if opts.radvd: if bool(yaml.load(opts.radvd)): wrappers['/usr/sbin/radvd'] = '/var/lib/neutron/radvd_wrapper' pidmap = dict() for n in list_namespaces(): pidmap[n] = get_ns_pids(n) migrate = [] for netns, pidv in pidmap.iteritems(): if netns.startswith('qrouter') or netns.startswith('qdhcp'): for pid in pidv: p = psutil.Process(int(pid)) with p.oneshot(): if p.ppid() == 1: wrapper = wrappers.get(p.exe(), None) if not wrapper: print(""No wrapper for %s"" % p.exe()) continue cmdline = p.cmdline() migrate.append(ProcessConvert(netns, wrapper, p.pid)) if not migrate: print(""No processes to migrate!"") for converter in migrate: converter.run() if __name__ == '__main__': sys.exit(main(sys.argv)) ",,163,0
openstack%2Ftripleo-common~master~I5c08ca0bfb9923f7b6834f0d14464c60320f6e6f,openstack/tripleo-common,master,I5c08ca0bfb9923f7b6834f0d14464c60320f6e6f,Use 'DEFAULT_VALIDATIONS_BASEDIR' variable from constants.py,MERGED,2019-04-17 09:15:33.000000000,2019-05-02 16:07:49.000000000,2019-04-24 12:39:55.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-04-17 09:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/af6750764e0eea9be5e45b6b608920646d7235d1', 'message': ""Use 'DEFAULT_VALIDATIONS_BASEDIR' variable from constants.py\n\nInstead of using 'TRIPLEO_VALIDATIONS' as an hardcoded variable, this\npatch will use 'DEFAULT_VALIDATIONS_BASEDIR' variable coming from\nconstants.py.\n\nChange-Id: I5c08ca0bfb9923f7b6834f0d14464c60320f6e6f\nImplements: blueprint inflight-validations\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2019-04-17 14:07:40.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ab490622a290aa6f662926eacc0745cd94deca73', 'message': ""Use 'DEFAULT_VALIDATIONS_BASEDIR' variable from constants.py\n\nInstead of using 'TRIPLEO_VALIDATIONS' as an hardcoded variable, this\npatch will use 'DEFAULT_VALIDATIONS_BASEDIR' variable coming from\nconstants.py.\n\nChange-Id: I5c08ca0bfb9923f7b6834f0d14464c60320f6e6f\nImplements: blueprint inflight-validations\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",1,653363,ab490622a290aa6f662926eacc0745cd94deca73,21,9,2,11491,,,0,"Use 'DEFAULT_VALIDATIONS_BASEDIR' variable from constants.py

Instead of using 'TRIPLEO_VALIDATIONS' as an hardcoded variable, this
patch will use 'DEFAULT_VALIDATIONS_BASEDIR' variable coming from
constants.py.

Change-Id: I5c08ca0bfb9923f7b6834f0d14464c60320f6e6f
Implements: blueprint inflight-validations
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/653363/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,af6750764e0eea9be5e45b6b608920646d7235d1,bp/validation-framework,"from tripleo_common import constants, inventory '%s/library' % constants.DEFAULT_VALIDATIONS_BASEDIR) lookups_path = ( 'root/.ansible/plugins/lookup:' '/usr/share/ansible/plugins/lookup:' '%s/lookup_plugins' % constants.DEFAULT_VALIDATIONS_BASEDIR) callbacks_path = ( '~/.ansible/plugins/callback:' '/usr/share/ansible/plugins/callback:' '%s/callback_plugins' % constants.DEFAULT_VALIDATIONS_BASEDIR) '%(work_dir)s' % { 'work_dir': work_dir, 'ooo_val_path': constants.DEFAULT_VALIDATIONS_BASEDIR })","from tripleo_common import inventoryTRIPLEO_VALIDATIONS = '/usr/share/openstack-tripleo-validations' '%s/library' % TRIPLEO_VALIDATIONS) lookups_path = ('root/.ansible/plugins/lookup:' '/usr/share/ansible/plugins/lookup:' '%s/lookup_plugins' % TRIPLEO_VALIDATIONS) callbacks_path = ('~/.ansible/plugins/callback:' '/usr/share/ansible/plugins/callback:' '%s/callback_plugins' % TRIPLEO_VALIDATIONS) '%(work_dir)s' % {'work_dir': work_dir, 'ooo_val_path': TRIPLEO_VALIDATIONS})",14,11
openstack%2Fptgbot~master~I1b7aad1b539a2bcff067206b4885e690f7018f32,openstack/ptgbot,master,I1b7aad1b539a2bcff067206b4885e690f7018f32,Update unbook documentation,ABANDONED,2018-09-06 19:15:21.000000000,2019-05-02 16:07:39.000000000,,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-06 19:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/158a0a650bdaf5721be19842d9cd1ea9f2e2ddec', 'message': 'Update unbook documentation\n\nNot all slots can be unbooked with the ~unbook command. Those\nslots that have been pre-scheduled require changes to the\npuppet-ptgbot repo to unbook slots.\n\nChange-Id: I1b7aad1b539a2bcff067206b4885e690f7018f32\n'}, {'number': 2, 'created': '2018-09-07 07:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/afad55e7ea5147a513e53dba201292cd0a78c59f', 'message': 'Update unbook documentation\n\nNot all slots can be unbooked with the ~unbook command. Those\nslots that have been pre-scheduled require changes to the\npuppet-ptgbot repo to unbook slots.\n\nChange-Id: I1b7aad1b539a2bcff067206b4885e690f7018f32\n'}, {'number': 3, 'created': '2018-12-20 19:55:25.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/73cb6379304751046553aedc0e322d4264a61e8e', 'message': 'Update unbook documentation\n\nNot all slots can be unbooked with the ~unbook command. Those\nslots that have been pre-scheduled require changes to the\npuppet-ptgbot repo to unbook slots.\n\nChange-Id: I1b7aad1b539a2bcff067206b4885e690f7018f32\n'}]",2,600520,73cb6379304751046553aedc0e322d4264a61e8e,12,3,3,16708,,,0,"Update unbook documentation

Not all slots can be unbooked with the ~unbook command. Those
slots that have been pre-scheduled require changes to the
puppet-ptgbot repo to unbook slots.

Change-Id: I1b7aad1b539a2bcff067206b4885e690f7018f32
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/20/600520/3 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,158a0a650bdaf5721be19842d9cd1ea9f2e2ddec,unbook_doc, Removes any booking at the slot named SLOTCODE except those that have been pre-scheduled. Pre-scheduled slots require patches to the puppet-ptgbot repository to unbook. , Removes any booking at the slot named SLOTCODE,3,1
openstack%2Ftripleo-common~master~Idd3098cfa3aab5dd618645e54b922f90cd9ae13f,openstack/tripleo-common,master,Idd3098cfa3aab5dd618645e54b922f90cd9ae13f,Fix chown command in write_inputs_file function,MERGED,2019-04-19 12:51:32.000000000,2019-05-02 15:55:54.000000000,2019-04-27 01:10:53.000000000,"[{'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-19 12:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/683466c38c050672a11e3dc95d4b99ca64b02826', 'message': ""Fix chown command in write_inputs_file function\n\nThe tripleo-common sudoers file allows an owner change on the\nvalidations identity file. The command is only allowed with the `-h`\noption, but this option isn't used in the `write_inputs_file` python\ncode. This breaks validation runs started through Mistral.\n\nThis patch adds this option to the `chown` command.\n\nChange-Id: Idd3098cfa3aab5dd618645e54b922f90cd9ae13f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2019-04-19 14:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/702065ab97bc503a0feaa4b02988ff34df2c8c7c', 'message': ""Fix chown command in write_inputs_file function\n\nThe tripleo-common sudoers file allows an owner change on the\nvalidations identity file. The command is only allowed with the `-h`\noption, but this option isn't used in the `write_inputs_file` python\ncode. This breaks validation runs started through Mistral.\n\nThis patch adds this option to the `chown` command. It also removes an\nuseless line in the sudoers file.\n\nChange-Id: Idd3098cfa3aab5dd618645e54b922f90cd9ae13f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2019-04-26 15:51:28.000000000', 'files': ['sudoers', 'tripleo_common/utils/validations.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d0831dc4ce70ddc8ac733c8946afaa014ff7a2ef', 'message': ""Fix chown command in write_inputs_file function\n\nThe tripleo-common sudoers file allows an owner change on the\nvalidations identity file. The command is only allowed with the `-h`\noption, but this option isn't used in the `write_inputs_file` python\ncode. This breaks validation runs started through Mistral.\n\nThis patch adds this option to the `chown` command. It also removes an\nuseless line in the sudoers file.\n\nChange-Id: Idd3098cfa3aab5dd618645e54b922f90cd9ae13f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",1,653941,d0831dc4ce70ddc8ac733c8946afaa014ff7a2ef,29,7,3,11491,,,0,"Fix chown command in write_inputs_file function

The tripleo-common sudoers file allows an owner change on the
validations identity file. The command is only allowed with the `-h`
option, but this option isn't used in the `write_inputs_file` python
code. This breaks validation runs started through Mistral.

This patch adds this option to the `chown` command. It also removes an
useless line in the sudoers file.

Change-Id: Idd3098cfa3aab5dd618645e54b922f90cd9ae13f
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/653941/2 && git format-patch -1 --stdout FETCH_HEAD,"['sudoers', 'tripleo_common/utils/validations.py']",2,683466c38c050672a11e3dc95d4b99ca64b02826,," processutils.execute('/usr/bin/sudo', '/usr/bin/chown', '-h,' 'validations:',"," processutils.execute('/usr/bin/sudo', '/usr/bin/chown', 'validations:',",4,2
openstack%2Fovsdbapp~master~Ie64fdfd35c0ba0a575aa399c9bd6993ec7202c29,openstack/ovsdbapp,master,Ie64fdfd35c0ba0a575aa399c9bd6993ec7202c29,"Add missing tox environment ""functional-py36""",MERGED,2019-04-22 17:50:30.000000000,2019-05-02 15:47:58.000000000,2019-05-02 15:47:58.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-04-22 17:50:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/048473da01283fcd18c246b7298da1a4a34df504', 'message': 'Add missing tox environment ""functional-py36""\n\nChange-Id: Ie64fdfd35c0ba0a575aa399c9bd6993ec7202c29\nCloses-Bug: #1825877\n'}]",0,654585,048473da01283fcd18c246b7298da1a4a34df504,7,4,1,16688,,,0,"Add missing tox environment ""functional-py36""

Change-Id: Ie64fdfd35c0ba0a575aa399c9bd6993ec7202c29
Closes-Bug: #1825877
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/85/654585/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,048473da01283fcd18c246b7298da1a4a34df504,bug/1825877,[testenv:functional-py36] basepython = python3.6 setenv = {[testenv:functional]setenv} passenv = {[testenv:functional]passenv} commands = {[testenv:functional]commands} ,,6,0
openstack%2Fnova-specs~master~I1e5267a828133e9a6579a6790f2996c64a88fc8d,openstack/nova-specs,master,I1e5267a828133e9a6579a6790f2996c64a88fc8d,Abandon flavor-classes backlog spec,MERGED,2019-04-01 16:18:48.000000000,2019-05-02 15:20:59.000000000,2019-05-02 15:20:59.000000000,"[{'_account_id': 7}, {'_account_id': 3031}, {'_account_id': 5441}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 10263}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-01 16:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f03846d74f143992dd493bf2f2026fddb2b4fc67', 'message': ""Abandon flavor-classes backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nIt is probably related to [1], but I haven't dug into that yet.  The\nauthors of either spec should feel free to modify this commit to\nclarify.\n\n[1] https://review.openstack.org/#/c/635408/\n\nChange-Id: I1e5267a828133e9a6579a6790f2996c64a88fc8d\n""}, {'number': 2, 'created': '2019-04-08 23:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/06cb5abfd5b2fd9f383d80b419d7ce8389a2cf29', 'message': ""Abandon flavor-classes backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nIt is probably related to [1], but I haven't dug into that yet.  The\nauthors of either spec should feel free to modify this commit to\nclarify.\n\n[1] https://review.openstack.org/#/c/635408/\n\nChange-Id: I1e5267a828133e9a6579a6790f2996c64a88fc8d\n""}, {'number': 3, 'created': '2019-04-08 23:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ff1d91028b90fba0ac4f50ccdf1fd6b0eb06d234', 'message': ""Abandon flavor-classes backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nIt is probably related to [1], but I haven't dug into that yet.  The\nauthors of either spec should feel free to modify this commit to\nclarify.\n\n[1] https://review.openstack.org/#/c/635408/\n\nChange-Id: I1e5267a828133e9a6579a6790f2996c64a88fc8d\n""}, {'number': 4, 'created': '2019-04-26 16:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6e18faf058c0fb06ca45ab2a773d06785507ba1c', 'message': ""Abandon flavor-classes backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nIt is probably related to [1], but I haven't dug into that yet.  The\nauthors of either spec should feel free to modify this commit to\nclarify.\n\n[1] https://review.openstack.org/#/c/635408/\n\nChange-Id: I1e5267a828133e9a6579a6790f2996c64a88fc8d\n""}, {'number': 5, 'created': '2019-04-28 15:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2155221f7126c23ec37f4dabf6eeb03930325292', 'message': ""Abandon flavor-classes backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nIt is probably related to [1], but I haven't dug into that yet.  The\nauthors of either spec should feel free to modify this commit to\nclarify.\n\n[1] https://review.openstack.org/#/c/635408/\n\nChange-Id: I1e5267a828133e9a6579a6790f2996c64a88fc8d\n""}, {'number': 6, 'created': '2019-05-01 22:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8ca4dccbf77eff028bb97f24f5e34ae868f79a74', 'message': ""Abandon flavor-classes backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nIt is probably related to [1], but I haven't dug into that yet.  The\nauthors of either spec should feel free to modify this commit to\nclarify.\n\n[1] https://review.openstack.org/#/c/635408/\n\nChange-Id: I1e5267a828133e9a6579a6790f2996c64a88fc8d\n""}, {'number': 7, 'created': '2019-05-01 23:00:56.000000000', 'files': ['doc/source/specs/backlog/index.rst', 'specs/abandoned/flavor-class.rst', 'specs/backlog/redirects'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/14f84bf8632728ae63d0bc7d24e37bb2cf4c6272', 'message': ""Abandon flavor-classes backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nIt is probably related to [1], but I haven't dug into that yet.  The\nauthors of either spec should feel free to modify this commit to\nclarify.\n\n[1] https://review.openstack.org/#/c/635408/\n\nChange-Id: I1e5267a828133e9a6579a6790f2996c64a88fc8d\n""}]",0,649095,14f84bf8632728ae63d0bc7d24e37bb2cf4c6272,27,9,7,14070,,,0,"Abandon flavor-classes backlog spec

Scrubbing the backlog directory.

This spec has been here since 2015.

It is probably related to [1], but I haven't dug into that yet.  The
authors of either spec should feel free to modify this commit to
clarify.

[1] https://review.openstack.org/#/c/635408/

Change-Id: I1e5267a828133e9a6579a6790f2996c64a88fc8d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/95/649095/4 && git format-patch -1 --stdout FETCH_HEAD,"['specs/abandoned/flavor-class.rst', 'specs/backlog/redirects']",2,f03846d74f143992dd493bf2f2026fddb2b4fc67,scrub-backlog-specs,approved/flavor-class.rst ../../abandoned/flavor-class.rst ,,6,0
openstack%2Fsushy-tools~master~I9b6508377891a3fd67f23fd0973c29f17de08ee1,openstack/sushy-tools,master,I9b6508377891a3fd67f23fd0973c29f17de08ee1,Add writable Virtual Media resource mocks,ABANDONED,2019-02-26 13:51:32.000000000,2019-05-02 15:08:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-02-26 13:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/30b8651ba8e6528881a37b00223a27d842a3fde2', 'message': 'WIP: Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 2, 'created': '2019-02-26 13:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e6db18a8c630d85d6e6d923b06be7fa829d30e4c', 'message': 'WIP: Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 3, 'created': '2019-02-26 18:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/eab6f5ce9246bf4928260f2e5393ee34bd1fb4b3', 'message': 'WIP: Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 4, 'created': '2019-02-26 18:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5acd3f4fe569b04d9a4f70dc997f6ea69d854453', 'message': 'Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 5, 'created': '2019-03-01 10:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/3fb99781dc1c3c14433e68f356c894c9f960a802', 'message': 'Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 6, 'created': '2019-03-13 09:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/1a25b8960a2151a178d65aaed83965868a5c978b', 'message': 'Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 7, 'created': '2019-03-22 13:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/14aef1643d8eb6c87cbb9f5e0a9852b6e658b88f', 'message': 'Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 8, 'created': '2019-03-22 17:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/a19c36bb2c6c6796d6915f569dba44cfb82bab13', 'message': 'Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 9, 'created': '2019-03-26 05:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ead25e65173f45b104084e9dbb6ef140f7ca425d', 'message': 'Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 10, 'created': '2019-03-26 06:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/af72292e84b26688e6fa970c5a25b3a02634812d', 'message': 'Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 11, 'created': '2019-03-29 16:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/80e332e7dbf43ef0cd6c707cd757e65456ea57b8', 'message': 'Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 12, 'created': '2019-04-17 12:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d18eaf96582222723ea765af784c0a1dde15d3e7', 'message': 'Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}, {'number': 13, 'created': '2019-04-23 14:18:22.000000000', 'files': ['sushy_tools/emulator/main.py', 'sushy_tools/emulator/managers/base.py', 'sushy_tools/emulator/managers/staticdriver.py', 'releasenotes/notes/add-virtual-media-4a137a5fb5017031.yaml', 'sushy_tools/tests/unit/emulator/test_main.py', 'sushy_tools/emulator/templates/virtual_media.json', 'sushy_tools/tests/unit/emulator/test_static.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/f0b927e623852c14bf99c4a7d20bf202cf630079', 'message': 'Add writable Virtual Media resource mocks\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by anything.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1\n'}]",0,639338,f0b927e623852c14bf99c4a7d20bf202cf630079,25,2,13,26340,,,0,"Add writable Virtual Media resource mocks

This change implements Insert/Eject actions against the VirtualMedia
resource. Although all changes are just volatile mocks - virtual media
emulation is not yet backed by anything.

The upcoming patches will convey virtual media calls to systems
drivers (e.g. libvirt and/or nova) to make VMs bootable from the
inserted images.

Change-Id: I9b6508377891a3fd67f23fd0973c29f17de08ee1
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/38/639338/12 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'sushy_tools/emulator/managers/base.py', 'sushy_tools/emulator/managers/staticdriver.py', 'releasenotes/notes/add-virtual-media-4a137a5fb5017031.yaml', 'doc/source/admin/emulator.conf', 'sushy_tools/emulator/templates/virtual_media.json']",6,30b8651ba8e6528881a37b00223a27d842a3fde2,08-add-writable-virtual-media-mocks," ""Inserted"": {{ inserted|tojson }}, ""WriteProtected"": {{ write_protected|tojson }},"," ""Inserted"": {{ image_inserted|tojson }}, ""WriteProtected"": false,",131,26
openstack%2Fsushy-tools~master~I16f1e07817ef9614c3461bf3ab47d2e8fa82b573,openstack/sushy-tools,master,I16f1e07817ef9614c3461bf3ab47d2e8fa82b573,Add read-only Virtual Media support,ABANDONED,2019-02-22 23:20:03.000000000,2019-05-02 15:08:10.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29209}]","[{'number': 1, 'created': '2019-02-22 23:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/a05773800b91f6defd79e12278a3361eeef37808', 'message': ""WIP: Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 2, 'created': '2019-02-25 10:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2e3544184b76676f40173afb1bfdd0326d59fa82', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 3, 'created': '2019-02-25 17:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8ef9160d1d0d5fe06d4a66935f3f4816405a7040', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 4, 'created': '2019-02-25 19:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2c171dddcaae3cbe34afe3aa72f229bb9eddd5d9', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 5, 'created': '2019-02-26 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/bf4afa88c62dc48e23831163c88a1f843ca07ae9', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 6, 'created': '2019-03-01 10:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/9aa003286384008697198dc99c325354d275d978', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 7, 'created': '2019-03-13 09:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/eb0a30c88befad7da733da7df053da9a6dc9e4c0', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 8, 'created': '2019-03-22 13:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/cfcb7276236595b759af5d129994c3b8887dd87f', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 9, 'created': '2019-03-22 17:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0ba163fc97d305af96e83d0a95c9a0db8d52358c', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 10, 'created': '2019-03-26 05:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/bbb526d464b3e76363b04fecd38a1de4032ea17c', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 11, 'created': '2019-03-29 15:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6a2f0599ff0246c8b35d573b27fd78b051ed57b6', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 12, 'created': '2019-04-17 12:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/aebd0f980a6af53f216731bf70eae56e20d3d9c5', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}, {'number': 13, 'created': '2019-04-23 14:17:38.000000000', 'files': ['sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/manager.json', 'sushy_tools/emulator/managers/base.py', 'sushy_tools/emulator/managers/staticdriver.py', 'releasenotes/notes/add-virtual-media-4a137a5fb5017031.yaml', 'sushy_tools/tests/unit/emulator/test_main.py', 'sushy_tools/emulator/templates/virtual_media_collection.json', 'sushy_tools/emulator/templates/virtual_media.json', 'sushy_tools/tests/unit/emulator/test_static.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6be69b5939c3161280a49822caad934ff2c51d30', 'message': ""Add read-only Virtual Media support\n\nThis patch introduces VirtualMedia resource to the Manager\nresource in read-only mode. Meaning that virtual media devices\ncan be configured for emulation, but can't be manipulated yet.\n\nThe follow up patches will bring media insert and eject\nactions.\n\nChange-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573\n""}]",0,638787,6be69b5939c3161280a49822caad934ff2c51d30,30,4,13,26340,,,0,"Add read-only Virtual Media support

This patch introduces VirtualMedia resource to the Manager
resource in read-only mode. Meaning that virtual media devices
can be configured for emulation, but can't be manipulated yet.

The follow up patches will bring media insert and eject
actions.

Change-Id: I16f1e07817ef9614c3461bf3ab47d2e8fa82b573
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/87/638787/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/manager.json', 'sushy_tools/emulator/managers/base.py', 'sushy_tools/emulator/managers/staticdriver.py', 'releasenotes/notes/add-virtual-media-4a137a5fb5017031.yaml', 'doc/source/admin/emulator.conf', 'sushy_tools/emulator/templates/virtual_media_collection.json', 'sushy_tools/emulator/templates/virtual_media.json']",8,a05773800b91f6defd79e12278a3361eeef37808,07-add-readonly-virtual-media-mocks,"{ ""@odata.type"": ""#VirtualMedia.v1_1_0.VirtualMedia"", ""Id"": {{ device|string|tojson }}, ""Name"": {{ name|string|tojson }}, ""MediaTypes"": [ {% for media_type in media_types -%} {{ media_type|string|tojson }}{% if not loop.last %},{% endif %} {% endfor -%} ], ""Image"": {{ image_url|string|tojson }}, ""ImageName"": {{ image_name|string|tojson }}, ""ConnectedVia"": ""URI"", ""Inserted"": {{ image_inserted|tojson }}, ""WriteProtected"": false, ""@odata.context"": ""/redfish/v1/$metadata#VirtualMedia.VirtualMedia"", ""@odata.id"": {{ ""/redfish/v1/Managers/%s/VirtualMedia/%s""|format(identity, device)|string|tojson }}, ""@Redfish.Copyright"": ""Copyright 2014-2017 Distributed Management Task Force, Inc. (DMTF). For the full DMTF copyright policy, see http://www.dmtf.org/about/policies/copyright."" }",,125,0
openstack%2Fpython-openstackclient~master~I652f093384a584a56290a9b080913392873efd9f,openstack/python-openstackclient,master,I652f093384a584a56290a9b080913392873efd9f,Fix link to new opendev repo,MERGED,2019-05-01 22:50:43.000000000,2019-05-02 14:52:40.000000000,2019-05-02 14:52:40.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 22:50:43.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8c1ec6f97f2100e0a689204b7718c3eeed8df83b', 'message': ""Fix link to new opendev repo\n\nThe switch to an opendev URL wasn't quite right, resulting in a 404.\n\nChange-Id: I652f093384a584a56290a9b080913392873efd9f\n""}]",0,656718,8c1ec6f97f2100e0a689204b7718c3eeed8df83b,6,2,1,2394,,,0,"Fix link to new opendev repo

The switch to an opendev URL wasn't quite right, resulting in a 404.

Change-Id: I652f093384a584a56290a9b080913392873efd9f
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/18/656718/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,8c1ec6f97f2100e0a689204b7718c3eeed8df83b,fix-git-repo-link,.. _`on OpenStack's Git server`: https://opendev.org/openstack/python-openstackclient/,.. _`on OpenStack's Git server`: https://opendev.org/openstack/python-openstackclient/tree,1,1
openstack%2Fnova~master~If1e461da382f707be2b5ba89f74f77269f0909dd,openstack/nova,master,If1e461da382f707be2b5ba89f74f77269f0909dd,Remove deprecated 'default_flavor' config option,MERGED,2019-03-22 06:22:40.000000000,2019-05-02 14:39:25.000000000,2019-05-02 00:46:58.000000000,"[{'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-22 06:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/080a932b417782e9555d056e26b5af5d092fbb20', 'message': ""Remove deprecated 'default_flavor' config option\n\nThe deprecated 'default_flavor' option has been removed.\nThe following methods in nova/compute/flavors.py\nhave been removed because they are only used in unit tests.\n\n* get_default_flavor\n* get_flavor_by_name\n\nChange-Id: If1e461da382f707be2b5ba89f74f77269f0909dd\n""}, {'number': 2, 'created': '2019-03-28 21:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65c40f8d01224a94272b0a77c66d0327cdbe5cab', 'message': ""Remove deprecated 'default_flavor' config option\n\nThe deprecated 'default_flavor' option has been removed.\nThe following methods in nova/compute/flavors.py\nhave been removed because they are only used in unit tests.\n\n* get_default_flavor\n* get_flavor_by_name\n\nChange-Id: If1e461da382f707be2b5ba89f74f77269f0909dd\n""}, {'number': 3, 'created': '2019-04-10 07:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60082a94a43e88c2a32d7ae927bad63e42b837b3', 'message': ""Remove deprecated 'default_flavor' config option\n\nThe deprecated 'default_flavor' option has been removed.\nThe following methods in nova/compute/flavors.py\nhave been removed because they are only used in unit tests.\n\n* get_default_flavor\n* get_flavor_by_name\n\nChange-Id: If1e461da382f707be2b5ba89f74f77269f0909dd\n""}, {'number': 4, 'created': '2019-04-25 21:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66ef622001d731d5f5ba2865ebd50b44a05bc4fb', 'message': ""Remove deprecated 'default_flavor' config option\n\nThe deprecated 'default_flavor' option has been removed.\nThe following methods in nova/compute/flavors.py\nhave been removed because they are only used in unit tests.\n\n* get_default_flavor\n* get_flavor_by_name\n\nChange-Id: If1e461da382f707be2b5ba89f74f77269f0909dd\n""}, {'number': 5, 'created': '2019-04-28 06:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3cfeb8110e1af7a714724b69692faf03acecc25', 'message': ""Remove deprecated 'default_flavor' config option\n\nThe deprecated 'default_flavor' option has been removed.\nThe following methods in nova/compute/flavors.py\nhave been removed because they are only used in unit tests.\n\n* get_default_flavor\n* get_flavor_by_name\n\nChange-Id: If1e461da382f707be2b5ba89f74f77269f0909dd\n""}, {'number': 6, 'created': '2019-04-30 13:01:40.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'releasenotes/notes/remove-deprecated-default-flavor-opt-a3dfafe59b076153.yaml', 'nova/tests/unit/network/test_api.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/test_notifications.py', 'nova/compute/flavors.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/test_metadata.py', 'nova/conf/flavors.py', 'nova/conf/__init__.py', 'nova/tests/unit/test_quota.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/compute/test_compute_cells.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/tests/unit/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7cf16e317bab6e2520b3ee5241a5ed73c17749a4', 'message': ""Remove deprecated 'default_flavor' config option\n\nThe deprecated 'default_flavor' option has been removed.\nThe following methods in nova/compute/flavors.py\nhave been removed because they are only used in unit tests.\n\n* get_default_flavor\n* get_flavor_by_name\n\nChange-Id: If1e461da382f707be2b5ba89f74f77269f0909dd\n""}]",0,645476,7cf16e317bab6e2520b3ee5241a5ed73c17749a4,110,19,6,7634,,,0,"Remove deprecated 'default_flavor' config option

The deprecated 'default_flavor' option has been removed.
The following methods in nova/compute/flavors.py
have been removed because they are only used in unit tests.

* get_default_flavor
* get_flavor_by_name

Change-Id: If1e461da382f707be2b5ba89f74f77269f0909dd
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/645476/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutronv2.py', 'releasenotes/notes/remove-deprecated-default-flavor-opt-a3dfafe59b076153.yaml', 'nova/tests/unit/network/test_api.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/test_notifications.py', 'nova/compute/flavors.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/test_metadata.py', 'nova/conf/flavors.py', 'nova/conf/__init__.py', 'nova/tests/unit/test_quota.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/compute/test_compute_cells.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/tests/unit/test_flavors.py']",17,080a932b417782e9555d056e26b5af5d092fbb20,remove_default_flavor," default_instance_type = objects.Flavor.get_by_name( context.get_admin_context(), 'm1.small') def setUp(self): super(InstanceTypeToolsTest, self).setUp() self.context = context.get_admin_context() instance_type = objects.Flavor.get_by_name(self.context, 'm1.small') instance_type = objects.Flavor.get_by_name(self.context, 'm1.small') instance_type = objects.Flavor.get_by_name(self.context, 'm1.small')"," def test_will_not_get_bad_default_instance_type(self): # ensures error raised on bad default flavor. self.flags(default_flavor='unknown_flavor') self.assertRaises(exception.FlavorNotFound, flavors.get_default_flavor) def test_flavor_get_by_None_name_returns_default(self): # Ensure get by name returns default flavor with no name. default = flavors.get_default_flavor() actual = flavors.get_flavor_by_name(None) self.assertIsInstance(default, objects.Flavor) self.assertIsInstance(actual, objects.Flavor) self.assertEqual(default.flavorid, actual.flavorid) def test_will_not_get_flavor_with_bad_name(self): # Ensure get by name returns default flavor with bad name. self.assertRaises(exception.FlavorNotFound, flavors.get_flavor_by_name, 10000) default_instance_type = flavors.get_default_flavor() instance_type = flavors.get_default_flavor() instance_type = flavors.get_default_flavor() instance_type = flavors.get_default_flavor()",199,295
openstack%2Fdocs-specs~master~I70584b0b448ea7d3f27ecb09f35daa3d36d48578,openstack/docs-specs,master,I70584b0b448ea7d3f27ecb09f35daa3d36d48578,Adds a spec for PDFs in unified doc builds,ABANDONED,2017-10-03 21:53:38.000000000,2019-05-02 14:33:32.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 17765}, {'_account_id': 19779}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-03 21:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/25eb66e4cc62f6a50920ccf637a4d93d0bebb50e', 'message': '[WIP] Adds a spec for PDFs in unified doc builds\n\nNew spec to propose to support PDF files in unified doc builds\nfor Queens\n\nChange-Id: I70584b0b448ea7d3f27ecb09f35daa3d36d48578\nImplements: blueprint pdf-unified-doc-builds\n'}, {'number': 2, 'created': '2017-11-16 15:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/b2a493cfbaaf9434f55a4657c8569e8bf2ff447a', 'message': 'Adds a spec for PDFs in unified doc builds\n\nNew spec to propose to support PDF files in unified doc builds\nfor Queens\n\nChange-Id: I70584b0b448ea7d3f27ecb09f35daa3d36d48578\nImplements: blueprint pdf-unified-doc-builds\n'}, {'number': 3, 'created': '2017-11-16 15:38:39.000000000', 'files': ['specs/queens/pdf-unified-doc-builds.rst'], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/acf6ec564a79c2563610a5744d951457ad522050', 'message': 'Adds a spec for PDFs in unified doc builds\n\nNew spec to propose to support PDF files in unified doc builds\nfor Queens\n\nChange-Id: I70584b0b448ea7d3f27ecb09f35daa3d36d48578\nImplements: blueprint pdf-unified-doc-builds\n'}]",17,509297,acf6ec564a79c2563610a5744d951457ad522050,19,9,3,14482,,,0,"Adds a spec for PDFs in unified doc builds

New spec to propose to support PDF files in unified doc builds
for Queens

Change-Id: I70584b0b448ea7d3f27ecb09f35daa3d36d48578
Implements: blueprint pdf-unified-doc-builds
",git fetch https://review.opendev.org/openstack/docs-specs refs/changes/97/509297/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/pdf-unified-doc-builds.rst'],1,25eb66e4cc62f6a50920ccf637a4d93d0bebb50e,bp/pdf-unified-doc-builds,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================================== PDFs for project-specific docs with unified doc builds ====================================================== https://blueprints.launchpad.net/openstack-manuals/+spec/pdf-unified-doc-builds Supporting PDF doc files for all OpenStack documents is helpful for users who want to see OpenStack documents offline. Problem description =================== OpenStack RST-sourced documentation uses Sphinx to build HTML documents and publish them on docs.openstack.org. RST-sourced documents in openstack-manuals also have PDF versions of the books. It will be helpful if the PDF versions of the books is extended to all OpenStack documents. Proposed change =============== Add the support of building PDFs into unified doc builds job. Alternatives ------------ * Building PDFs separately (without using current Sphinx build scripts) can be an alternative. However, this result will decrease the manageability of build scripts in documentation repositories. * Document how users can built PDFs locally but do not publish PDFs. * Leave the guide with current HTML build infrastructure as is. Implementation ============== Assignee(s) ----------- * jang0913 * nexusz99 * ianychoi Work Items ---------- * Test Sphinx builder with setup.cfg * http://www.sphinx-doc.org/en/stable/setuptools.html#confval-builder * Applying to PDF support in one official project as an example * conf.py modification * Changes on unified doc build scripts * Also using latex builder * ""make"" command to convert from latex to pdf * Finding a pdf file name * Copying the pdf file to publish folder Project Scope ============= * For a basic PDF theme, the following requirements are out of scope. * Index with page numbers * OpenStack logo display on title page (choosing which logo is appropriate for each deliverable would get tedious) * Optional: watermark to indicate draft or to which version the document applies Dependencies ============ * Can be dependent on PDF build support functionalities in Sphinx Testing ======= * Testing of the tools will be done as part of the builds. References ========== * http://specs.openstack.org/openstack/docs-specs/specs/ocata/build-pdf-from-rst-guides.html * http://lists.openstack.org/pipermail/openstack-dev/2017-September/122603.html ",,95,0
openstack%2Fopenstack-helm-infra~master~I3b8d0833435c6c9b9bb249de8e5ce251a54a3e96,openstack/openstack-helm-infra,master,I3b8d0833435c6c9b9bb249de8e5ce251a54a3e96,Kibana: Add security context for pod/container,ABANDONED,2019-03-25 05:03:40.000000000,2019-05-02 14:12:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-25 05:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30090a37fca1d68896e591d9b2e8f5d48ba163c2', 'message': ""Kibana: Add security context for pod/container\n\nThis adds a security context to the kibana chart, which\nchanges the pod's user from root to the nobody user instead\n\nThis also adds the container security context to set\nallowPrivilegeEscalation to false and readOnlyRootFilesystem to true\n\nChange-Id: I3b8d0833435c6c9b9bb249de8e5ce251a54a3e96\n""}, {'number': 2, 'created': '2019-03-26 19:30:52.000000000', 'files': ['kibana/templates/deployment.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ad092c97295cb16a33eca328573d6115e5a6e001', 'message': ""Kibana: Add security context for pod/container\n\nThis adds a security context to the kibana chart, which\nchanges the pod's user from root to the nobody user instead\n\nThis also adds the container security context to set\nallowPrivilegeEscalation to false and readOnlyRootFilesystem to true\n\nChange-Id: I3b8d0833435c6c9b9bb249de8e5ce251a54a3e96\n""}]",0,647288,ad092c97295cb16a33eca328573d6115e5a6e001,5,1,2,29161,,,0,"Kibana: Add security context for pod/container

This adds a security context to the kibana chart, which
changes the pod's user from root to the nobody user instead

This also adds the container security context to set
allowPrivilegeEscalation to false and readOnlyRootFilesystem to true

Change-Id: I3b8d0833435c6c9b9bb249de8e5ce251a54a3e96
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/88/647288/1 && git format-patch -1 --stdout FETCH_HEAD,"['kibana/templates/deployment.yaml', 'kibana/values.yaml']",2,30090a37fca1d68896e591d9b2e8f5d48ba163c2,kibana, security_context: kibana: pod: runAsUser: 65534 container: apache_proxy: allowPrivilegeEscalation: false readOnlyRootFilesystem: true kibana: allowPrivilegeEscalation: false readOnlyRootFilesystem: true,,14,2
openstack%2Fmonasca-notification~master~I818212344268de5e90e72c5493a8632476ba254b,openstack/monasca-notification,master,I818212344268de5e90e72c5493a8632476ba254b,Bug Fix: Parses notifier configuration options,MERGED,2018-09-17 14:44:12.000000000,2019-05-02 14:02:12.000000000,2019-01-31 18:07:18.000000000,"[{'_account_id': 7102}, {'_account_id': 10311}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-17 14:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/93e1629567d7bda9d1aa3722b477b8576d444809', 'message': 'Includes missing configuration options\n\nIncludes missing configuration options for notifiers\nin generated config file.\n\nChange-Id: I818212344268de5e90e72c5493a8632476ba254b\nStory: #2003793\nTask: #26506\n'}, {'number': 2, 'created': '2018-09-17 15:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/01b01488111e15be071bba2789f208f02150c262', 'message': 'Bug Fix: Parses notifier configuration options\n\nSuccessfully parses configuration options for enabled notifiers.\nIMPORTANT: This requires the built-in notifiers be ""enabled""\nin the configuration.\n\nThis patch is compliant with `https://review.openstack.org/#/c/435136/`\nthat in summary makes every notifier pluggable as apposed distinguished\nbuilt-in and pluggable notifiers.\n\nChange-Id: I818212344268de5e90e72c5493a8632476ba254b\nStory: #2003794\nTask: #26507\n'}, {'number': 3, 'created': '2018-09-20 10:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/daff7022d8f41e18428682f3a79df92b7bef5299', 'message': 'Bug Fix: Parses notifier configuration options\n\nSuccessfully parses configuration options for enabled notifiers.\nIMPORTANT: This requires the built-in notifiers be ""enabled""\nin the configuration.\n\nThis patch is compliant with `https://review.openstack.org/#/c/435136/`\nthat in summary makes every notifier pluggable as apposed distinguished\nbuilt-in and pluggable notifiers.\n\nChange-Id: I818212344268de5e90e72c5493a8632476ba254b\nStory: #2003794\nTask: #26507\n'}, {'number': 4, 'created': '2019-01-25 10:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/178fbe8b544b447d87eccf4e5c814321ac9f7c22', 'message': 'Bug Fix: Parses notifier configuration options\n\nSuccessfully parses configuration options for enabled notifiers.\nIMPORTANT: This requires the built-in notifiers be ""enabled""\nin the configuration.\n\nThis patch is compliant with `https://review.openstack.org/#/c/435136/`\nthat in summary makes every notifier pluggable as apposed distinguished\nbuilt-in and pluggable notifiers.\n\nChange-Id: I818212344268de5e90e72c5493a8632476ba254b\nStory: #2003794\nTask: #26507\n'}, {'number': 5, 'created': '2019-01-25 10:55:13.000000000', 'files': ['monasca_notification/config.py', 'monasca_notification/conf/__init__.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/2bc16e78347b56cc0f6dd904e7f5c53d031634a5', 'message': 'Bug Fix: Parses notifier configuration options\n\nSuccessfully parses configuration options for enabled notifiers.\nIMPORTANT: This requires the built-in notifiers be ""enabled""\nin the configuration.\n\nThis patch is compliant with `https://review.openstack.org/#/c/435136/`\nthat in summary makes every notifier pluggable as apposed distinguished\nbuilt-in and pluggable notifiers.\n\nChange-Id: I818212344268de5e90e72c5493a8632476ba254b\nStory: #2003794\nTask: #26507\n'}]",0,603154,2bc16e78347b56cc0f6dd904e7f5c53d031634a5,17,4,5,28529,,,0,"Bug Fix: Parses notifier configuration options

Successfully parses configuration options for enabled notifiers.
IMPORTANT: This requires the built-in notifiers be ""enabled""
in the configuration.

This patch is compliant with `https://review.openstack.org/#/c/435136/`
that in summary makes every notifier pluggable as apposed distinguished
built-in and pluggable notifiers.

Change-Id: I818212344268de5e90e72c5493a8632476ba254b
Story: #2003794
Task: #26507
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/54/603154/5 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_notification/config.py', 'monasca_notification/conf/__init__.py']",2,93e1629567d7bda9d1aa3722b477b8576d444809,notification_oslo_config,"def register_enabled_plugin_opts(conf=None): if conf is None: conf = CONF for enabled_plugin in conf.notification_types.enabled: ep_module = importutils.import_module(""."".join(enabled_plugin.split(""."")[:-1])) # CONF_OPTS.append(ep_module) ep_module.register_opts(conf) ",,12,0
openstack%2Ftripleo-heat-templates~master~I051fd925c3f2c1a08eb3964ec47edbb0acdd6d97,openstack/tripleo-heat-templates,master,I051fd925c3f2c1a08eb3964ec47edbb0acdd6d97,Dedup deploy steps params and vars,ABANDONED,2019-04-26 14:24:39.000000000,2019-05-02 13:52:51.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-26 14:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d505c0a1f8394f2e2c4f2f56369fe0b0ab61b4a2', 'message': 'Dedup deploy steps params and vars\n\nDo not repeat those for many places as this is highly error prone to\nmiss something\n\nChange-Id: I051fd925c3f2c1a08eb3964ec47edbb0acdd6d97\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-04-29 10:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb3fb6bdca57f62edaf2c573a6cf957d5dfddbf6', 'message': 'Dedup deploy steps params and vars\n\nDo not repeat those for many places as this is highly error prone to\nmiss something\n\nChange-Id: I051fd925c3f2c1a08eb3964ec47edbb0acdd6d97\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-05-02 08:57:07.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5677aa6f0dc96a850d6fac5bbeb07749f7353260', 'message': 'Dedup deploy steps params and vars\n\nDo not repeat those for many places as this is highly error prone to\nmiss something\n\nChange-Id: I051fd925c3f2c1a08eb3964ec47edbb0acdd6d97\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,655914,5677aa6f0dc96a850d6fac5bbeb07749f7353260,12,4,3,6926,,,0,"Dedup deploy steps params and vars

Do not repeat those for many places as this is highly error prone to
miss something

Change-Id: I051fd925c3f2c1a08eb3964ec47edbb0acdd6d97
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/655914/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,d505c0a1f8394f2e2c4f2f56369fe0b0ab61b4a2,655914,".deploy_steps_params: &deploy_steps_params BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} SELINUX_MODE: {get_param: SELinuxMode} .deploy_steps_common_vars: &deploy_steps_common_vars bootstrap_server_id: BOOTSTRAP_SERVER_ID container_cli: CONTAINER_CLI container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH deploy_identifier: DEPLOY_IDENTIFIER docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET params: &deploy_steps_params <<: *deploy_steps_common_vars vars: *deploy_steps_common_vars <<: *deploy_steps_common_vars # but that does not work with any_errors_fatal: yes vars: <<: *deploy_steps_common_vars <<: *deploy_steps_common_vars vars: *deploy_steps_common_vars params: *deploy_steps_params <<: *deploy_steps_common_vars params: *deploy_steps_params params: *deploy_steps_params params: *deploy_steps_params vars: *deploy_steps_common_vars params: *deploy_steps_params vars: *deploy_steps_common_vars params: *deploy_steps_params vars: *deploy_steps_common_vars vars: *deploy_steps_common_vars params: *deploy_steps_params"," params: BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} SELINUX_MODE: {get_param: SELinuxMode} bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET # but that doesn't work with any_errors_fatal: yes vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts}",47,192
openstack%2Fansible-role-collect-logs~master~I06dd6873ac9c0621b615cf4c35727d9cf207f65a,openstack/ansible-role-collect-logs,master,I06dd6873ac9c0621b615cf4c35727d9cf207f65a,add missing defaults to arct,MERGED,2019-04-26 17:50:07.000000000,2019-05-02 13:42:08.000000000,2019-05-02 13:42:08.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-04-26 17:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/1a20617853f407b662b762889814c2dbb4b5f953', 'message': 'add missing defaults to arct\n\nadd:\nlocal_working_dir\nworking_dir\nartcl_collect_dir\nundercloud_user\n\npart of the cost of splitting roles\n\nCloses-Bug: #1826591\nChange-Id: I06dd6873ac9c0621b615cf4c35727d9cf207f65a\n'}, {'number': 2, 'created': '2019-04-26 20:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/362bcf2d262ecf3826af712bc284673de571df9f', 'message': 'add missing defaults to arct\n\nadd:\nlocal_working_dir\nworking_dir\nartcl_collect_dir\nundercloud_user\n\npart of the cost of splitting roles\n\nCloses-Bug: #1826591\nChange-Id: I06dd6873ac9c0621b615cf4c35727d9cf207f65a\n'}, {'number': 3, 'created': '2019-05-02 07:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/12468dc4f959c37c529b1a3eed29ecf37511e328', 'message': 'add missing defaults to arct\n\nadd:\nlocal_working_dir\nworking_dir\nartcl_collect_dir\nundercloud_user\n\npart of the cost of splitting roles\n\nCloses-Bug: #1826591\nChange-Id: I06dd6873ac9c0621b615cf4c35727d9cf207f65a\n'}, {'number': 4, 'created': '2019-05-02 13:24:52.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/0260403b0473eb7dd1a53c9642fc17bde3cd1af6', 'message': 'add missing defaults to arct\n\nadd:\nlocal_working_dir\nworking_dir\nartcl_collect_dir\nundercloud_user\n\npart of the cost of splitting roles\n\nCloses-Bug: #1826591\nChange-Id: I06dd6873ac9c0621b615cf4c35727d9cf207f65a\n'}]",3,655983,0260403b0473eb7dd1a53c9642fc17bde3cd1af6,27,10,4,9592,,,0,"add missing defaults to arct

add:
local_working_dir
working_dir
artcl_collect_dir
undercloud_user

part of the cost of splitting roles

Closes-Bug: #1826591
Change-Id: I06dd6873ac9c0621b615cf4c35727d9cf207f65a
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/83/655983/4 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1a20617853f407b662b762889814c2dbb4b5f953,bug/1826591,"# formally in tq common and tqe extras-common local_working_dir: ""{{ lookup('env', 'HOME') }}/.quickstart"" artcl_collect_dir: ""{{ local_working_dir }}/collected_files"" working_dir: ""/home/{{ undercloud_user }}"" undercloud_user: stack ",,6,0
openstack%2Fneutron-vpnaas~master~If536a6a251145a3923dfa692b3477d23797bf132,openstack/neutron-vpnaas,master,If536a6a251145a3923dfa692b3477d23797bf132,Dropping the py35 testing,MERGED,2019-04-15 02:36:28.000000000,2019-05-02 12:57:13.000000000,2019-05-02 12:57:13.000000000,"[{'_account_id': 841}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 02:36:28.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/5b5b063519ee36d85c4b7d9473f1c20e0ea79e73', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: If536a6a251145a3923dfa692b3477d23797bf132\n'}]",0,652500,5b5b063519ee36d85c4b7d9473f1c20e0ea79e73,15,4,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: If536a6a251145a3923dfa692b3477d23797bf132
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/00/652500/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,5b5b063519ee36d85c4b7d9473f1c20e0ea79e73,dropping-py35-testing,"envlist = py36,py27,pep8","envlist = py35,py27,pep8",2,3
openstack%2Fpython-tripleoclient~master~I9982f3854604497c804d7875b926f14e1060b788,openstack/python-tripleoclient,master,I9982f3854604497c804d7875b926f14e1060b788,scale-down: run ansible_scale_down workflow before node_delete,MERGED,2019-04-10 18:33:12.000000000,2019-05-02 10:30:58.000000000,2019-05-02 10:30:58.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-04-10 18:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3acd2610b7e6057f55476ffb3a95c84d7e6c4fb5', 'message': 'WIP - scale-down: run ansible_scale_down workflow before node_delete\n\nWith the new workflow, ansible_scale_down, we can now tear down the\nnodes before they get deleted from the stack.\n\nDepends-On: I16742ca8ecb748046e64d6849cdff00ee8036e2e\nblueprint scale-down-tasks\n\nChange-Id: I9982f3854604497c804d7875b926f14e1060b788\n'}, {'number': 2, 'created': '2019-04-10 21:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7a93f7bab933981a6e321f7fac55fee8ea2593f1', 'message': 'WIP - scale-down: run ansible_scale_down workflow before node_delete\n\nWith the new workflow, ansible_scale_down, we can now tear down the\nnodes before they get deleted from the stack.\n\nDepends-On: I16742ca8ecb748046e64d6849cdff00ee8036e2e\nblueprint scale-down-tasks\n\nChange-Id: I9982f3854604497c804d7875b926f14e1060b788\n'}, {'number': 3, 'created': '2019-04-11 02:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0bf6feb86f1ced059df411897519617db1cb350e', 'message': 'WIP - scale-down: run ansible_scale_down workflow before node_delete\n\nWith the new workflow, ansible_scale_down, we can now tear down the\nnodes before they get deleted from the stack.\n\nDepends-On: I16742ca8ecb748046e64d6849cdff00ee8036e2e\nblueprint scale-down-tasks\n\nChange-Id: I9982f3854604497c804d7875b926f14e1060b788\n'}, {'number': 4, 'created': '2019-04-11 11:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fefd23433d254df2fe2ed909ad5936dcbe387952', 'message': 'WIP - scale-down: run ansible_scale_down workflow before node_delete\n\nWith the new workflow, ansible_scale_down, we can now tear down the\nnodes before they get deleted from the stack.\n\nDepends-On: I16742ca8ecb748046e64d6849cdff00ee8036e2e\nblueprint scale-down-tasks\n\nChange-Id: I9982f3854604497c804d7875b926f14e1060b788\n'}, {'number': 5, 'created': '2019-04-11 18:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5f8fedacf6eb8f3031c9afb34756c1a9ee502bcc', 'message': 'WIP - scale-down: run ansible_scale_down workflow before node_delete\n\nWith the new workflow, ansible_scale_down, we can now tear down the\nnodes before they get deleted from the stack.\n\nDepends-On: I16742ca8ecb748046e64d6849cdff00ee8036e2e\nblueprint scale-down-tasks\n\nChange-Id: I9982f3854604497c804d7875b926f14e1060b788\n'}, {'number': 6, 'created': '2019-04-11 22:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2847300cba85865443893bfd22957367f395a8e8', 'message': 'WIP - scale-down: run ansible_scale_down workflow before node_delete\n\nWith the new workflow, ansible_scale_down, we can now tear down the\nnodes before they get deleted from the stack.\n\nblueprint scale-down-tasks\nChange-Id: I9982f3854604497c804d7875b926f14e1060b788\n'}, {'number': 7, 'created': '2019-04-18 23:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6e9fd6e4746fbc09103931753db597b474c9951e', 'message': 'scale-down: run ansible_scale_down workflow before node_delete\n\nWith the new workflow, ansible_scale_down, we can now tear down the\nnodes before they get deleted from the stack.\n\nblueprint scale-down-tasks\nChange-Id: I9982f3854604497c804d7875b926f14e1060b788\n'}, {'number': 8, 'created': '2019-04-18 23:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7f0b14574e276ad9e3aab082f3b7399e6ad109d9', 'message': 'scale-down: run ansible_scale_down workflow before node_delete\n\nWith the new workflow, ansible_scale_down, we can now tear down the\nnodes before they get deleted from the stack.\n\nblueprint scale-down-tasks\nChange-Id: I9982f3854604497c804d7875b926f14e1060b788\n'}, {'number': 9, 'created': '2019-04-22 13:46:42.000000000', 'files': ['tripleoclient/workflows/scale.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/25d98a6809ffbec368f2439d300847f558d8a966', 'message': 'scale-down: run ansible_scale_down workflow before node_delete\n\nWith the new workflow, ansible_scale_down, we can now tear down the\nnodes before they get deleted from the stack.\n\nblueprint scale-down-tasks\nChange-Id: I9982f3854604497c804d7875b926f14e1060b788\n'}]",2,651621,25d98a6809ffbec368f2439d300847f558d8a966,36,7,9,3153,,,0,"scale-down: run ansible_scale_down workflow before node_delete

With the new workflow, ansible_scale_down, we can now tear down the
nodes before they get deleted from the stack.

blueprint scale-down-tasks
Change-Id: I9982f3854604497c804d7875b926f14e1060b788
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/651621/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/scale.py'],1,3acd2610b7e6057f55476ffb3a95c84d7e6c4fb5,bp/scale-down-tasks,"def ansible_tear_down(clients, **workflow_input): workflow_client = clients.workflow_engine tripleoclients = clients.tripleoclient with tripleoclients.messaging_websocket() as ws: execution = base.start_workflow( workflow_client, 'tripleo.scale.v1.ansible_scale_down', workflow_input=workflow_input ) for payload in base.wait_for_messages(workflow_client, ws, execution): status = payload['status'] if status == 'RUNNING': continue if status != 'SUCCESS': raise InvalidConfiguration(payload['message']) """"""Unprovision and deletes overcloud nodes from a heat stack. ansible_tear_down(clients, **workflow_input)"," """"""Deletes overcloud nodes from a heat stack.",22,1
openstack%2Fnova~master~I4b56458767e2712ad812db3b0901807d2c4aa848,openstack/nova,master,I4b56458767e2712ad812db3b0901807d2c4aa848,Update volume-backed comment in _validate_flavor_image_nostatus,MERGED,2019-04-17 16:18:24.000000000,2019-05-02 09:38:02.000000000,2019-05-02 00:46:41.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-17 16:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/699da184e1534950704fa066b1850ac3aba1b1f0', 'message': 'Update volume-backed comment in _validate_flavor_image_nostatus\n\nThis clarifies and updates the big comment in the volume-backed\ncase in the _validate_flavor_image_nostatus method since the\nmethod is called by more than just server create. The method is\ndefinitely tightly coupled with what calls it, so this tries to\nclarify that.\n\nChange-Id: I4b56458767e2712ad812db3b0901807d2c4aa848\n'}, {'number': 2, 'created': '2019-04-17 16:34:57.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8951149c52537ef98e342b8b6ff99edb1e5b7134', 'message': 'Update volume-backed comment in _validate_flavor_image_nostatus\n\nThis clarifies and updates the big comment in the volume-backed\ncase in the _validate_flavor_image_nostatus method since the\nmethod is called by more than just server create. The method is\ndefinitely tightly coupled with what calls it, so this tries to\nclarify that.\n\nChange-Id: I4b56458767e2712ad812db3b0901807d2c4aa848\n'}]",2,653483,8951149c52537ef98e342b8b6ff99edb1e5b7134,39,17,2,6873,,,0,"Update volume-backed comment in _validate_flavor_image_nostatus

This clarifies and updates the big comment in the volume-backed
case in the _validate_flavor_image_nostatus method since the
method is called by more than just server create. The method is
definitely tightly coupled with what calls it, so this tries to
clarify that.

Change-Id: I4b56458767e2712ad812db3b0901807d2c4aa848
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/653483/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,699da184e1534950704fa066b1850ac3aba1b1f0,bug/1825020," if root_bdm is not None and root_bdm.is_volume: # There are 2 possibilities here: # # 1. The target volume already exists but bdm.volume_size is not # yet set because this method is called before # _bdm_validate_set_size_and_instance during server create. # 2. The target volume doesn't exist, in which case the bdm will # contain the intended volume size and volume_id will be None. # # Note that rebuild also calls this method with potentially a new # image but you can't rebuild a volume-backed server with a new # image (yet)."," if (root_bdm is not None and root_bdm.is_volume): # There are 2 possibilities here: either the target volume already # exists, or it doesn't, in which case the bdm will contain the # intended volume size.",12,4
openstack%2Ftacker~master~Id6d0c53becf09741689dee0d7b30e5c397a63227,openstack/tacker,master,Id6d0c53becf09741689dee0d7b30e5c397a63227,Drop py35 jobs,MERGED,2019-03-18 06:33:37.000000000,2019-05-02 09:14:13.000000000,2019-05-02 09:14:13.000000000,"[{'_account_id': 8556}, {'_account_id': 16237}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-03-18 06:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/10ca340ab84151fa440cb9e9c517b7a1b40ae3f4', 'message': 'Drop py35 jobs\n\nPython 3.5 was the target runtime for the Rocky release. The current\ntarget py3 runtime for Stein is Python 3.6, so there is no reason to\nkeep testing against the older version.\n\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: Id6d0c53becf09741689dee0d7b30e5c397a63227\n'}, {'number': 2, 'created': '2019-04-30 09:16:35.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/734ab72346a15058d87a82137882028b62f28068', 'message': 'Drop py35 jobs\n\nPython 3.5 was the target runtime for the Rocky release. The current\ntarget py3 runtime for Stein is Python 3.6, so there is no reason to\nkeep testing against the older version.\n\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: Id6d0c53becf09741689dee0d7b30e5c397a63227\n'}]",0,643862,734ab72346a15058d87a82137882028b62f28068,16,6,2,18955,,,0,"Drop py35 jobs

Python 3.5 was the target runtime for the Rocky release. The current
target py3 runtime for Stein is Python 3.6, so there is no reason to
keep testing against the older version.

https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein

Change-Id: Id6d0c53becf09741689dee0d7b30e5c397a63227
",git fetch https://review.opendev.org/openstack/tacker refs/changes/62/643862/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,10ca340ab84151fa440cb9e9c517b7a1b40ae3f4,,"envlist = py36,py27,pep8,docs","envlist = py36,py35,py27,pep8,docs[testenv:debug-py35] basepython = python3.5 commands = oslo_debug_helper {posargs} ",1,6
openstack%2Fpython-tackerclient~master~I136f092985be2d05ce933230add5f78469234b14,openstack/python-tackerclient,master,I136f092985be2d05ce933230add5f78469234b14,Drop py35 jobs,MERGED,2019-03-18 06:38:13.000000000,2019-05-02 09:13:16.000000000,2019-05-02 09:13:16.000000000,"[{'_account_id': 8556}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 06:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/0ea640252bd375582747644c9dce4bc58642e170', 'message': 'Drop py35 jobs\n\nPython 3.5 was the target runtime for the Rocky release. The current\ntarget py3 runtime for Stein is Python 3.6, so there is no reason to\nkeep testing against the older version.\n\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: I136f092985be2d05ce933230add5f78469234b14\n'}, {'number': 2, 'created': '2019-03-18 11:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/e36549f7681077287f59f2cf3735bf0834be9db4', 'message': 'Drop py35 jobs\n\nPython 3.5 was the target runtime for the Rocky release. The current\ntarget py3 runtime for Stein is Python 3.6, so there is no reason to\nkeep testing against the older version.\n\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: I136f092985be2d05ce933230add5f78469234b14\n'}, {'number': 3, 'created': '2019-04-30 09:24:33.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/6fd2d466ca198dad54cf0361760d5ee00e9b8395', 'message': 'Drop py35 jobs\n\nPython 3.5 was the target runtime for the Rocky release. The current\ntarget py3 runtime for Stein is Python 3.6, so there is no reason to\nkeep testing against the older version.\n\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: I136f092985be2d05ce933230add5f78469234b14\n'}]",0,643863,6fd2d466ca198dad54cf0361760d5ee00e9b8395,16,3,3,18955,,,0,"Drop py35 jobs

Python 3.5 was the target runtime for the Rocky release. The current
target py3 runtime for Stein is Python 3.6, so there is no reason to
keep testing against the older version.

https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein

Change-Id: I136f092985be2d05ce933230add5f78469234b14
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/63/643863/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0ea640252bd375582747644c9dce4bc58642e170,,"envlist = py36,py27,pep8,docs","envlist = py36,py35,py27,pep8,docs",1,1
openstack%2Fironic-ui~stable%2Fstein~I0be6eee1eff552d895be53e857860ef622f061a3,openstack/ironic-ui,stable/stein,I0be6eee1eff552d895be53e857860ef622f061a3,Imported Translations from Zanata,MERGED,2019-05-01 09:42:46.000000000,2019-05-02 08:32:09.000000000,2019-05-02 08:32:09.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-05-01 09:42:46.000000000', 'files': ['ironic_ui/locale/id/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/c4ac3f0c19584fdfd398fd635baa429191d5834e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0be6eee1eff552d895be53e857860ef622f061a3\n'}]",0,656624,c4ac3f0c19584fdfd398fd635baa429191d5834e,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0be6eee1eff552d895be53e857860ef622f061a3
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/24/656624/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_ui/locale/id/LC_MESSAGES/django.po'],1,c4ac3f0c19584fdfd398fd635baa429191d5834e,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2017. #zanata # suhartono <cloudsuhartono@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: ironic-ui VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2019-04-08 12:32+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-04-30 02:25+0000\n"" ""Last-Translator: suhartono <cloudsuhartono@gmail.com>\n"" ""Language-Team: Indonesian\n"" ""Language: id\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid ""Admin"" msgstr ""Admin"" msgid ""Ironic Bare Metal Provisioning"" msgstr ""Ironic Bare Metal Provisioning"" msgid ""Node Details"" msgstr ""Node Details"" msgid ""System"" msgstr ""System"" ",,28,0
openstack%2Frequirements~master~I4fbca19ca380de6602f3cf7d97a3707832fc89d5,openstack/requirements,master,I4fbca19ca380de6602f3cf7d97a3707832fc89d5,Updated from generate-constraints,MERGED,2019-04-30 06:21:59.000000000,2019-05-02 08:12:28.000000000,2019-05-02 08:12:28.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 06:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f5138372657bf5c0c8780e5603b7199103d46b15', 'message': 'Updated from generate-constraints\n\nChange-Id: I4fbca19ca380de6602f3cf7d97a3707832fc89d5\n'}, {'number': 2, 'created': '2019-04-30 23:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9142512c03da9551d51bc664605b3426185c0231', 'message': 'Updated from generate-constraints\n\nChange-Id: I4fbca19ca380de6602f3cf7d97a3707832fc89d5\n'}, {'number': 3, 'created': '2019-05-01 09:24:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e08870c9a38fa8a066ae535c1f7bb3b6a0593809', 'message': 'Updated from generate-constraints\n\nChange-Id: I4fbca19ca380de6602f3cf7d97a3707832fc89d5\n'}]",0,656446,e08870c9a38fa8a066ae535c1f7bb3b6a0593809,19,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I4fbca19ca380de6602f3cf7d97a3707832fc89d5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/46/656446/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f5138372657bf5c0c8780e5603b7199103d46b15,openstack/requirements/constraints/noclob,enum-compat===0.0.2;python_version=='2.7'paunch===4.4.0pytest===4.4.1waitress===1.3.0Mako===1.0.9tripleo-common===10.7.0zeroconf===0.19.1;python_version=='2.7' zeroconf===0.22.0;python_version=='3.4' zeroconf===0.22.0;python_version=='3.5' zeroconf===0.22.0;python_version=='3.6'croniter===0.3.30pymongo===3.8.0defusedxml===0.6.0pyghmi===1.3.0SQLAlchemy===1.3.3ifaddr===0.1.6;python_version=='3.4' ifaddr===0.1.6;python_version=='3.5' ifaddr===0.1.6;python_version=='3.6'urllib3===1.25.2tornado===5.1.1;python_version=='2.7'os-net-config===10.4.0openstack-release-test===1.4.2requests-mock===1.6.0 os-apply-config===10.3.0ruamel.yaml===0.15.94Flask-SQLAlchemy===2.4.0ansible-runner===1.3.4mypy===0.701;python_version=='3.4' mypy===0.701;python_version=='3.5' mypy===0.701;python_version=='3.6'dogtag-pki===10.6.9.1stestr===2.3.1psutil===5.6.2openshift===0.8.8opentracing===2.1.0os-collect-config===10.3.0 python-qpid-proton===0.27.1numpy===1.16.3kubernetes===9.0.0 httplib2===0.12.3botocore===1.12.138typed-ast===1.3.5;python_version=='3.4' typed-ast===1.3.5;python_version=='3.5' typed-ast===1.3.5;python_version=='3.6'falcon===2.0.0pyrsistent===0.15.1rfc3986===1.3.1jaeger-client===4.0.0Werkzeug===0.15.2pyasn1-modules===0.2.5cffi===1.12.3jsonschema===3.0.1alembic===1.0.10virtualenv===16.5.0,paunch===4.3.0pytest===4.4.0waitress===1.2.1Mako===1.0.8tripleo-common===10.6.1croniter===0.3.29pymongo===3.7.2defusedxml===0.5.0pyghmi===1.2.16SQLAlchemy===1.2.18urllib3===1.24.1tornado===4.5.3;python_version=='2.7'os-net-config===10.3.0openstack-release-test===1.4.1requests-mock===1.5.2 os-apply-config===10.2.0ruamel.yaml===0.15.91Flask-SQLAlchemy===2.3.2ansible-runner===1.3.2mypy===0.700;python_version=='3.4' mypy===0.700;python_version=='3.5' mypy===0.700;python_version=='3.6'dogtag-pki===10.3.5.1stestr===2.2.0psutil===5.6.1openshift===0.8.7opentracing===1.3.0os-collect-config===10.2.0 python-qpid-proton===0.27.0numpy===1.16.2kubernetes===8.0.1 httplib2===0.12.1botocore===1.12.130typed-ast===1.3.1;python_version=='3.4' typed-ast===1.3.1;python_version=='3.5' typed-ast===1.3.1;python_version=='3.6'falcon===1.4.1pyrsistent===0.14.11rfc3986===1.2.0jaeger-client===3.13.0Werkzeug===0.14.1pyasn1-modules===0.2.4cffi===1.12.2jsonschema===2.6.0alembic===1.0.8virtualenv===16.4.3zeroconf===0.19.1;python_version=='2.7' zeroconf===0.21.3;python_version=='3.4' zeroconf===0.21.3;python_version=='3.5' zeroconf===0.21.3;python_version=='3.6',54,50
openstack%2Fplacement~master~I445b67ff85be7979805d72ac953f0853ee738f46,openstack/placement,master,I445b67ff85be7979805d72ac953f0853ee738f46,Update worklist information for contributors,MERGED,2019-04-30 21:31:41.000000000,2019-05-02 07:03:20.000000000,2019-05-02 07:03:19.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-04-30 21:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/cb153b9fa8f856f35064df793107ec4f97bfc511', 'message': 'Update worklist information for contributors\n\nWhen the worklists were first created, cdent was unaware of\nhow to make the worklists filter by story state so a tag of\n\'fixed\' was being used to indicate ""done"".\n\nThis change updates the docs to reflect new awareness. The\nassociated worklists have already been updated.\n\nChange-Id: I445b67ff85be7979805d72ac953f0853ee738f46\n'}, {'number': 2, 'created': '2019-05-01 20:03:18.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/e9160abc205f9f104a8a188f47f93c54ca8635f1', 'message': 'Update worklist information for contributors\n\nWhen the worklists were first created, cdent was unaware of\nhow to make the worklists filter by story state so a tag of\n\'fixed\' was being used to indicate ""done"".\n\nThis change updates the docs to reflect new awareness. The\nassociated worklists have already been updated.\n\nChange-Id: I445b67ff85be7979805d72ac953f0853ee738f46\n'}]",2,656590,e9160abc205f9f104a8a188f47f93c54ca8635f1,12,4,2,11564,,,0,"Update worklist information for contributors

When the worklists were first created, cdent was unaware of
how to make the worklists filter by story state so a tag of
'fixed' was being used to indicate ""done"".

This change updates the docs to reflect new awareness. The
associated worklists have already been updated.

Change-Id: I445b67ff85be7979805d72ac953f0853ee738f46
",git fetch https://review.opendev.org/openstack/placement refs/changes/90/656590/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,cb153b9fa8f856f35064df793107ec4f97bfc511,cd/bug-mgt-tune,"When all the tasks in a story have been completed or have been marked invalid, the story will be considered completed and its status will change to ``Inactive``. The worklists above are configured to only show stories that are ``Active``.",When a story has been completed it can be removed from the list by being tagged with ``fixed``.,4,2
openstack%2Fmasakari~master~I3b15beb017bfd94aa1753be8efcd267df62a57c9,openstack/masakari,master,I3b15beb017bfd94aa1753be8efcd267df62a57c9,Add py36 testenv,NEW,2018-06-25 02:57:42.000000000,2019-05-02 06:54:22.000000000,,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-06-25 02:57:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/fd16478229d9014d00cb3ef1ccd5c040aada441b', 'message': 'Add py36 testenv\n\nPython 3.6 is installed by default in Ubuntu 18.04 LTS.\nTherefore, according to transition plan [1],\nwe should have py36 testenv ready for it.\n\n[1] https://wiki.ubuntu.com/Python/Python36Transition\n\nChange-Id: I3b15beb017bfd94aa1753be8efcd267df62a57c9\n'}]",0,577714,fd16478229d9014d00cb3ef1ccd5c040aada441b,14,5,1,25903,,,0,"Add py36 testenv

Python 3.6 is installed by default in Ubuntu 18.04 LTS.
Therefore, according to transition plan [1],
we should have py36 testenv ready for it.

[1] https://wiki.ubuntu.com/Python/Python36Transition

Change-Id: I3b15beb017bfd94aa1753be8efcd267df62a57c9
",git fetch https://review.opendev.org/openstack/masakari refs/changes/14/577714/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fd16478229d9014d00cb3ef1ccd5c040aada441b,py36,[testenv:py36] commands = {[testenv]commands} ostestr '{posargs}' ,,5,0
openstack%2Fstorlets~master~Ic041d34d570ee61aae90f64319d74f58bcb58c2b,openstack/storlets,master,Ic041d34d570ee61aae90f64319d74f58bcb58c2b,Use entire tenant id as scope,ABANDONED,2017-01-26 17:47:44.000000000,2019-05-02 06:44:04.000000000,,"[{'_account_id': 9816}, {'_account_id': 11317}]","[{'number': 1, 'created': '2017-01-26 17:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/34b81fa112faf79ef4809439dd21db94be5f6027', 'message': 'Use entire tenant id as scope\n\nPreviously, we create scope which is used for isolation in gateway,\nlike docker isolation, from fist 13 characters of tenant id, but\nit is not consistent with ansible scripts, which use whole tenent id\nas scope name.\n\nThis patch makes storlet middleware pass entire tenant id to\ngateway as its scope, so that we can also prevent possible\nconflicaiton between gateway scopes, caused by reduced characters.\n\nChange-Id: Ic041d34d570ee61aae90f64319d74f58bcb58c2b\n'}, {'number': 2, 'created': '2017-01-26 18:28:40.000000000', 'files': ['storlets/swift_middleware/handlers/base.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/d3fd85696ef4a9cfe5e7042bbb077b0af02cc545', 'message': 'Use entire tenant id as scope\n\nPreviously, we create scope which is used for isolation in gateway,\nlike docker isolation, from fist 13 characters of tenant id, but\nit is not consistent with ansible scripts, which use whole tenent id\nas scope name.\n\nThis patch makes storlet middleware pass entire tenant id to\ngateway as its scope, so that we can also prevent possible\nconflicaiton between gateway scopes, caused by reduced characters.\n\nChange-Id: Ic041d34d570ee61aae90f64319d74f58bcb58c2b\n'}]",0,425807,d3fd85696ef4a9cfe5e7042bbb077b0af02cc545,11,2,2,9816,,,0,"Use entire tenant id as scope

Previously, we create scope which is used for isolation in gateway,
like docker isolation, from fist 13 characters of tenant id, but
it is not consistent with ansible scripts, which use whole tenent id
as scope name.

This patch makes storlet middleware pass entire tenant id to
gateway as its scope, so that we can also prevent possible
conflicaiton between gateway scopes, caused by reduced characters.

Change-Id: Ic041d34d570ee61aae90f64319d74f58bcb58c2b
",git fetch https://review.opendev.org/openstack/storlets refs/changes/07/425807/2 && git format-patch -1 --stdout FETCH_HEAD,['storlets/swift_middleware/handlers/base.py'],1,34b81fa112faf79ef4809439dd21db94be5f6027,scope, return self._account[len(self.reseller_prefix) + 1:] else: return self._account," start = len(self.reseller_prefix) + 1 else: start = 0 # TODO(takashi): Using shorter name may cause scope conflicts end = min(start + 13, len(self.account)) return self._account[start:end]",2,5
openstack%2Fcharm-vault~master~I8f3c2372b3ac2415ad882e414e589d5e22c34fd3,openstack/charm-vault,master,I8f3c2372b3ac2415ad882e414e589d5e22c34fd3,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-04-23 11:46:50.000000000,2019-05-02 05:57:50.000000000,2019-05-01 15:06:22.000000000,"[{'_account_id': 7730}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/9d596f71d9163f02148cc642fb3de8148b15852f', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I8f3c2372b3ac2415ad882e414e589d5e22c34fd3\n'}, {'number': 2, 'created': '2019-04-26 12:06:18.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/cdc898bf5b40646eb32917cce98f3f561577bad0', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I8f3c2372b3ac2415ad882e414e589d5e22c34fd3\n'}]",0,655104,cdc898bf5b40646eb32917cce98f3f561577bad0,18,5,2,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: I8f3c2372b3ac2415ad882e414e589d5e22c34fd3
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/04/655104/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,9d596f71d9163f02148cc642fb3de8148b15852f,zaza-refactor,- zaza_openstack_tests.vault.setup.basic_setup- zaza_openstack_tests.vault.tests.VaultTest,- zaza.charm_tests.vault.setup.basic_setup- zaza.charm_tests.vault.tests.VaultTest,3,2
openstack%2Fcharm-octavia-dashboard~master~Iaabd5483338e85ea891988a9a23c81726d90dd37,openstack/charm-octavia-dashboard,master,Iaabd5483338e85ea891988a9a23c81726d90dd37,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-04-23 11:46:45.000000000,2019-05-02 05:57:47.000000000,2019-05-01 15:27:51.000000000,"[{'_account_id': 7730}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/7a32ae94e485f3966e67c29c3e082bc78fedf3d0', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Iaabd5483338e85ea891988a9a23c81726d90dd37\n'}, {'number': 2, 'created': '2019-04-26 12:06:13.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/394e2c6667441faa658d08622c75f80f721299a6', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Iaabd5483338e85ea891988a9a23c81726d90dd37\n'}]",0,655103,394e2c6667441faa658d08622c75f80f721299a6,16,5,2,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: Iaabd5483338e85ea891988a9a23c81726d90dd37
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/03/655103/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,7a32ae94e485f3966e67c29c3e082bc78fedf3d0,zaza-refactor,- zaza_openstack_tests.noop.setup.basic_setup tests: - zaza_openstack_tests.noop.tests.NoopTest,- zaza.charm_tests.noop.setup.basic_setup tests: - zaza.charm_tests.noop.tests.NoopTest,3,2
openstack%2Fcharm-ceph-radosgw~master~Ib39798d8676e9431a55be6a0a52e9ad5de66f3da,openstack/charm-ceph-radosgw,master,Ib39798d8676e9431a55be6a0a52e9ad5de66f3da,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-04-24 15:31:50.000000000,2019-05-02 05:57:44.000000000,2019-05-01 15:28:03.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 15:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/869b9d3c24645cc78bcbd372dab250b149937ce9', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ib39798d8676e9431a55be6a0a52e9ad5de66f3da\n'}, {'number': 2, 'created': '2019-04-25 05:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e56ee4899a2f52d79e8f546ef9e3df7e7f3c7073', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ib39798d8676e9431a55be6a0a52e9ad5de66f3da\n'}, {'number': 3, 'created': '2019-04-26 12:05:52.000000000', 'files': ['tests/tests.yaml', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/33e4afc8b0cb00ffdc5067145820e0f74a06d403', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ib39798d8676e9431a55be6a0a52e9ad5de66f3da\n'}]",0,655473,33e4afc8b0cb00ffdc5067145820e0f74a06d403,14,3,3,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: Ib39798d8676e9431a55be6a0a52e9ad5de66f3da
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/73/655473/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'test-requirements.txt']",2,869b9d3c24645cc78bcbd372dab250b149937ce9,zaza-refactor,git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza_openstack_tests;python_version>='3.0',,2,1
openstack%2Fcharm-octavia~master~I9e8a4fe06a8641809fb211ce9a6e48d40c06558d,openstack/charm-octavia,master,I9e8a4fe06a8641809fb211ce9a6e48d40c06558d,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-04-23 11:46:40.000000000,2019-05-02 05:57:39.000000000,2019-05-01 15:28:16.000000000,"[{'_account_id': 7730}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/14fc25bfd038ad815868a7d85739d222a9643a2c', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I9e8a4fe06a8641809fb211ce9a6e48d40c06558d\n'}, {'number': 2, 'created': '2019-04-26 12:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/befc9be3d27ce1fc713b31d4703c28cf0fa4f27e', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I9e8a4fe06a8641809fb211ce9a6e48d40c06558d\n'}, {'number': 3, 'created': '2019-04-26 14:29:18.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/04aa2a7c9ebf9a53a56e48a74d616cab0d1d1327', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I9e8a4fe06a8641809fb211ce9a6e48d40c06558d\n'}]",0,655102,04aa2a7c9ebf9a53a56e48a74d616cab0d1d1327,29,5,3,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: I9e8a4fe06a8641809fb211ce9a6e48d40c06558d
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/02/655102/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,14fc25bfd038ad815868a7d85739d222a9643a2c,zaza-refactor,- zaza_openstack_tests.octavia.setup.configure_octavia - zaza_openstack_tests.octavia.setup.add_amphora_image - zaza_openstack_tests.glance.setup.add_lts_image - zaza_openstack_tests.nova.setup.create_flavors - zaza_openstack_tests.nova.setup.manage_ssh_key - zaza_openstack_tests.neutron.setup.basic_overcloud_network tests: - zaza_openstack_tests.neutron_openvswitch.tests.NeutronOpenvSwitchOverlayTest - zaza_openstack_tests.nova.tests.LTSGuestCreateTest - zaza_openstack_tests.octavia.tests.LBAASv2Test - zaza_openstack_tests.octavia.tests.CharmOperationTest,- zaza.charm_tests.octavia.setup.configure_octavia - zaza.charm_tests.octavia.setup.add_amphora_image - zaza.charm_tests.glance.setup.add_lts_image - zaza.charm_tests.nova.setup.create_flavors - zaza.charm_tests.nova.setup.manage_ssh_key - zaza.charm_tests.neutron.setup.basic_overcloud_network tests: - zaza.charm_tests.neutron_openvswitch.tests.NeutronOpenvSwitchOverlayTest - zaza.charm_tests.nova.tests.LTSGuestCreateTest - zaza.charm_tests.octavia.tests.LBAASv2Test - zaza.charm_tests.octavia.tests.CharmOperationTest,11,10
openstack%2Fcharm-ceph-osd~master~Ia50a57c52c97208a014ea89e6c48be2fe6f9f36d,openstack/charm-ceph-osd,master,Ia50a57c52c97208a014ea89e6c48be2fe6f9f36d,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-04-23 11:46:23.000000000,2019-05-02 05:57:36.000000000,2019-05-01 15:32:03.000000000,"[{'_account_id': 7730}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/8743a193ca0594192a52c47c92e5defe09195611', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ia50a57c52c97208a014ea89e6c48be2fe6f9f36d\n'}, {'number': 2, 'created': '2019-04-23 11:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/a12cd84ce65452487d1c1e247c5c87867fa3c961', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ia50a57c52c97208a014ea89e6c48be2fe6f9f36d\n'}, {'number': 3, 'created': '2019-04-26 12:05:46.000000000', 'files': ['tests/tests.yaml', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/67ddea1e5a09c9fb255a45e1e58ceeb7a2cfd64c', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ia50a57c52c97208a014ea89e6c48be2fe6f9f36d\n'}]",0,655098,67ddea1e5a09c9fb255a45e1e58ceeb7a2cfd64c,22,5,3,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: Ia50a57c52c97208a014ea89e6c48be2fe6f9f36d
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/98/655098/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'test-requirements.txt']",2,8743a193ca0594192a52c47c92e5defe09195611,zaza-refactor,git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza_openstack_tests,,6,5
openstack%2Fcharm-neutron-dynamic-routing~master~I6f788c15e7db12a6bbbe9f5e4be946e3f9e69e47,openstack/charm-neutron-dynamic-routing,master,I6f788c15e7db12a6bbbe9f5e4be946e3f9e69e47,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-04-23 11:46:29.000000000,2019-05-02 05:57:33.000000000,2019-05-01 15:33:33.000000000,"[{'_account_id': 7730}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/407002ff9048d6eb9bee7020ce281cbca0bac979', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I6f788c15e7db12a6bbbe9f5e4be946e3f9e69e47\n'}, {'number': 2, 'created': '2019-04-26 12:05:57.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/013201b37004b58fb9b13b5650bf6899f531f636', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I6f788c15e7db12a6bbbe9f5e4be946e3f9e69e47\n'}]",0,655100,013201b37004b58fb9b13b5650bf6899f531f636,16,5,2,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: I6f788c15e7db12a6bbbe9f5e4be946e3f9e69e47
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/00/655100/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,407002ff9048d6eb9bee7020ce281cbca0bac979,zaza-refactor,- zaza_openstack_tests.dragent.configure.setup- zaza_openstack_tests.dragent.tests.DRAgentTest,- zaza.charm_tests.dragent.configure.setup- zaza.charm_tests.dragent.tests.DRAgentTest,3,2
openstack%2Fcharm-keystone~master~I19c98b17087b6d1ff86aa749654a13a14e61c951,openstack/charm-keystone,master,I19c98b17087b6d1ff86aa749654a13a14e61c951,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-04-18 07:33:57.000000000,2019-05-02 05:57:30.000000000,2019-05-01 15:34:57.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-18 07:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/902300952526fb6d20cf35e7408039262a67a050', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I19c98b17087b6d1ff86aa749654a13a14e61c951\n'}, {'number': 2, 'created': '2019-05-01 15:04:42.000000000', 'files': ['tests/tests.yaml', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/665ef98ba92cbe1e1900f9394706044be5b62076', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I19c98b17087b6d1ff86aa749654a13a14e61c951\n'}]",0,653680,665ef98ba92cbe1e1900f9394706044be5b62076,18,4,2,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: I19c98b17087b6d1ff86aa749654a13a14e61c951
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/80/653680/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'test-requirements.txt']",2,902300952526fb6d20cf35e7408039262a67a050,zaza-refactor,git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza_openstack_tests;python_version>='3.0',,6,5
openstack%2Fcharm-nova-cell-controller~master~Ibc8432251bba9ec5967620655133a37db9baeee3,openstack/charm-nova-cell-controller,master,Ibc8432251bba9ec5967620655133a37db9baeee3,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-04-23 11:46:34.000000000,2019-05-02 05:57:27.000000000,2019-05-01 15:36:20.000000000,"[{'_account_id': 7730}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/1349d93cb2eb6fd2529296e352574814f80102a3', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ibc8432251bba9ec5967620655133a37db9baeee3\n'}, {'number': 2, 'created': '2019-04-26 12:06:03.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/fa615488d3513071f63e040b5dba08382ae3e14a', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: Ibc8432251bba9ec5967620655133a37db9baeee3\n'}]",0,655101,fa615488d3513071f63e040b5dba08382ae3e14a,16,5,2,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: Ibc8432251bba9ec5967620655133a37db9baeee3
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/01/655101/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,1349d93cb2eb6fd2529296e352574814f80102a3,zaza-refactor, - zaza_openstack_tests.nova.tests.CirrosGuestCreateTest configure: - zaza_openstack_tests.glance.setup.add_cirros_image - zaza_openstack_tests.glance.setup.add_lts_image - zaza_openstack_tests.neutron.setup.basic_overcloud_network - zaza_openstack_tests.nova.setup.create_flavors - zaza_openstack_tests.nova.setup.manage_ssh_key, - zaza.charm_tests.nova.tests.CirrosGuestCreateTest configure: - zaza.charm_tests.glance.setup.add_cirros_image - zaza.charm_tests.glance.setup.add_lts_image - zaza.charm_tests.neutron.setup.basic_overcloud_network - zaza.charm_tests.nova.setup.create_flavors - zaza.charm_tests.nova.setup.manage_ssh_key,7,6
openstack%2Fcharm-barbican-vault~master~I4edcecf076d1659aad5c62ad7ef0573f8226f00c,openstack/charm-barbican-vault,master,I4edcecf076d1659aad5c62ad7ef0573f8226f00c,Migrate Zaza tests to independant OpenStack Charms specific library,MERGED,2019-04-23 11:46:18.000000000,2019-05-02 05:57:23.000000000,2019-05-01 15:43:57.000000000,"[{'_account_id': 7730}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/87c5f3608f33968d836560f8795c169a3fe2d957', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I4edcecf076d1659aad5c62ad7ef0573f8226f00c\n'}, {'number': 2, 'created': '2019-04-26 12:05:41.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/38d4a4bf211a7585a194abf6ba778aed2f0af2d6', 'message': 'Migrate Zaza tests to independant OpenStack Charms specific library\n\nChange-Id: I4edcecf076d1659aad5c62ad7ef0573f8226f00c\n'}]",2,655097,38d4a4bf211a7585a194abf6ba778aed2f0af2d6,17,5,2,20634,,,0,"Migrate Zaza tests to independant OpenStack Charms specific library

Change-Id: I4edcecf076d1659aad5c62ad7ef0573f8226f00c
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/97/655097/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml']",2,87c5f3608f33968d836560f8795c169a3fe2d957,zaza-refactor,- zaza_openstack_tests.vault.setup.basic_setup tests: - zaza_openstack_tests.barbican_vault.tests.BarbicanVaultUnsealVault,- zaza.charm_tests.vault.setup.basic_setup tests: - zaza.charm_tests.barbican_vault.tests.BarbicanVaultUnsealVault,3,2
openstack%2Fpython-neutronclient~master~I3cc418bd8219a3d4f3ab5c018adf06b66ef36b46,openstack/python-neutronclient,master,I3cc418bd8219a3d4f3ab5c018adf06b66ef36b46,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:44:59.000000000,2019-05-02 04:23:04.000000000,2019-05-02 04:23:03.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-23 05:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/a47ea815db9618dd863762c599df0156800b17c5', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I3cc418bd8219a3d4f3ab5c018adf06b66ef36b46\n'}, {'number': 2, 'created': '2019-04-28 06:25:49.000000000', 'files': ['doc/source/contributor/transition_to_osc.rst', 'README.rst', 'neutronclient/neutron/v2_0/qos/minimum_bandwidth_rule.py', 'neutronclient/tests/functional/hooks/vpnaas', 'tox.ini', 'neutronclient/tests/functional/hooks/fwaas'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/9a91b4ad38ac5ff3ab2e2cdc0dd63727f0e90691', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I3cc418bd8219a3d4f3ab5c018adf06b66ef36b46\n'}]",1,654771,9a91b4ad38ac5ff3ab2e2cdc0dd63727f0e90691,14,5,2,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I3cc418bd8219a3d4f3ab5c018adf06b66ef36b46
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/71/654771/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,a47ea815db9618dd863762c599df0156800b17c5,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fnova~master~I8591094e141578775729fee35542702a2bbc5122,openstack/nova,master,I8591094e141578775729fee35542702a2bbc5122,[WIP]Less neutron call in build_nw_info,ABANDONED,2017-04-19 02:40:03.000000000,2019-05-02 02:44:30.000000000,,"[{'_account_id': 6873}, {'_account_id': 8768}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15309}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-19 02:40:03.000000000', 'files': ['nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4232218b630f68773fbff2df9af348ecb592b8d', 'message': '[WIP]Less neutron call in build_nw_info\n\nThis patch want to less the neutron call when build_nw_info in sync\ninstance cache periodly or other operations. We can get all the ports info\nfrom an instance, and get all related resources info, such as floatingip,\nnetwork, subnet. Then we can construct our models in Nova.\n\nChange-Id: I8591094e141578775729fee35542702a2bbc5122\n'}]",2,457845,b4232218b630f68773fbff2df9af348ecb592b8d,20,16,1,15309,,,0,"[WIP]Less neutron call in build_nw_info

This patch want to less the neutron call when build_nw_info in sync
instance cache periodly or other operations. We can get all the ports info
from an instance, and get all related resources info, such as floatingip,
network, subnet. Then we can construct our models in Nova.

Change-Id: I8591094e141578775729fee35542702a2bbc5122
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/457845/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,b4232218b630f68773fbff2df9af348ecb592b8d,test_per," def _nw_info_get_ips(self, port): for ip in port['fixed_ip_addresses']: fixed = network_model.FixedIP(address=ip) floats = port.get('floating_ip_address', []) for ip in floats: fip = network_model.IP(address=ip, type='floating') def _nw_info_get_subnets(self, port, network_IPs, tempt_info): subnets = self._get_subnets_from_port(port, tempt_info) tempt_info = {} for port in current_neutron_ports: if not tempt_info.get(port['network_id']): tempt_info[port['network_id']] = {'ports':{}, 'subnets':{}} if not tempt_info[port['network_id']]['ports'].get(port['id']): tempt_info[port['network_id']]['ports'][port['id']] = { 'fixed_ip_addresses': [], 'subnets': []} fixed_ips = port['fixed_ips'] for fixed_ip in fixed_ips: subnet_id = fixed_ip['subnet_id'] ip_address = fixed_ip['ip_address'] if not tempt_info[port['network_id']][ 'subnets'].get(subnet_id): tempt_info[port['network_id']]['subnets'][subnet_id] = {} tempt_info[port['network_id']]['ports'][port['id']][ 'fixed_ip_addresses'].append(ip_address) tempt_info[port['network_id']]['ports'][ port['id']]['subnets'].append(subnet_id) ports = [] for net in tempt_info.keys(): for id in tempt_info[net]['ports']: ports.append(id) search_opts = {'port_id': ports} floating_ips = client.list_floatingips(**search_opts)['floatingips'] for floatingip in floating_ips: if not tempt_info[floatingip['floating_network_id']][ floatingip['fixed_port_id']].get('floating_ip_address'): tempt_info[floatingip['floating_network_id']][ floatingip['fixed_port_id']]['floating_ip_address'] = [] tempt_info[floatingip['floating_network_id']][ floatingip['fixed_port_id']]['floating_ip_address'].append( floatingip['floating_ip_address']) # get all subnet details subnet_ids = [] for net in tempt_info.keys(): for id in tempt_info[net]['subnets'].keys(): subnet_ids.append(id) search_opts = {'id': subnet_ids} subnets = client.list_subnets(**search_opts)['subnets'] for subnet in subnets: tempt_info[subnet['network_id']]['subnets'][subnet['id']] = { 'dns_nameservers': subnet['dns_nameservers'], 'host_routes': subnet['host_routes'], 'cidr': subnet['cidr'], 'gateway_ip': subnet['gateway_ip'] } if subnet.get('ipv6_address_mode'): tempt_info[subnet['network_id']]['subnets'][subnet['id']][ 'ipv6_address_mode'] = subnet['ipv6_address_mode'] # attempt to populate DHCP server field search_opts = {'network_id': tempt_info.keys(), 'device_owner': 'network:dhcp'} data = client.list_ports(**search_opts) dhcp_ports = data.get('ports', []) for p in dhcp_ports: for ip_pair in p['fixed_ips']: if ip_pair['subnet_id'] in tempt_info[p['network_id']][ 'subnets'].keys(): tempt_info[p['network_id']]['subnets'][ ip_pair['subnet_id']][ 'dhcp_server'] = ip_pair['ip_address'] network_IPs = self._nw_info_get_ips( tempt_info[current_neutron_port['network_id']]['ports'][ current_neutron_port['id']]) subnets = self._nw_info_get_subnets(current_neutron_port, network_IPs, tempt_info) def _get_subnets_from_port(self, port, tempt_info): for subnet_id in tempt_info[port['network_id']]['ports'][port['id']][ 'subnets']: subnet_dict = { 'cidr': tempt_info[port['network_id']]['subnets'][subnet_id][ 'cidr'], 'gateway': network_model.IP( address=tempt_info[port['network_id']]['subnets'][ subnet_id]['gateway_ip'], type='gateway'), 'dhcp_server': tempt_info[port['network_id']]['subnets'][subnet_id][ 'dhcp_server'] } if tempt_info[port['network_id']]['subnets'][ subnet_id].get('ipv6_address_mode'): subnet_dict['ipv6_address_mode'] = tempt_info[port[ 'network_id']]['subnets'][subnet_id]['ipv6_address_mode'] for dns in tempt_info[port['network_id']]['subnets'][ subnet_id].get('dns_nameservers', []): for route in tempt_info[port['network_id']]['subnets'][ subnet_id].get('host_routes', []):"," def _nw_info_get_ips(self, client, port): for fixed_ip in port['fixed_ips']: fixed = network_model.FixedIP(address=fixed_ip['ip_address']) floats = self._get_floating_ips_by_fixed_and_port( client, fixed_ip['ip_address'], port['id']) for ip in floats: fip = network_model.IP(address=ip['floating_ip_address'], type='floating') def _nw_info_get_subnets(self, context, port, network_IPs, client=None): subnets = self._get_subnets_from_port(context, port, client) network_IPs = self._nw_info_get_ips(client, current_neutron_port) subnets = self._nw_info_get_subnets(context, current_neutron_port, network_IPs, client) def _get_subnets_from_port(self, context, port, client=None): if not client: client = get_client(context) search_opts = {'id': [ip['subnet_id'] for ip in fixed_ips]} data = client.list_subnets(**search_opts) ipam_subnets = data.get('subnets', []) for subnet in ipam_subnets: subnet_dict = {'cidr': subnet['cidr'], 'gateway': network_model.IP( address=subnet['gateway_ip'], type='gateway'), } if subnet.get('ipv6_address_mode'): subnet_dict['ipv6_address_mode'] = subnet['ipv6_address_mode'] # attempt to populate DHCP server field search_opts = {'network_id': subnet['network_id'], 'device_owner': 'network:dhcp'} data = client.list_ports(**search_opts) dhcp_ports = data.get('ports', []) for p in dhcp_ports: for ip_pair in p['fixed_ips']: if ip_pair['subnet_id'] == subnet['id']: subnet_dict['dhcp_server'] = ip_pair['ip_address'] break for dns in subnet.get('dns_nameservers', []): for route in subnet.get('host_routes', []):",104,39
openstack%2Fproject-config~master~I6a9ab272fe7179d3515d01c9c2503163a8c20566,openstack/project-config,master,I6a9ab272fe7179d3515d01c9c2503163a8c20566,Migrate telemetry to storyboard,ABANDONED,2019-04-25 02:38:05.000000000,2019-05-02 01:48:53.000000000,,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 02:38:05.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6e182b1d5489645726629fd438a36f99ba34bf3f', 'message': 'Migrate telemetry to storyboard\n\nChange-Id: I6a9ab272fe7179d3515d01c9c2503163a8c20566\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,655600,6e182b1d5489645726629fd438a36f99ba34bf3f,3,4,1,27068,,,0,"Migrate telemetry to storyboard

Change-Id: I6a9ab272fe7179d3515d01c9c2503163a8c20566
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/655600/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,6e182b1d5489645726629fd438a36f99ba34bf3f,, use-storyboard: true groups: - ceilometer use-storyboard: true groups: - ceilometer use-storyboard: true groups: - ceilometer use-storyboard: true groups: - ceilometer use-storyboard: true groups: - ceilometer use-storyboard: true groups: - ceilometer use-storyboard: true use-storyboard: true,,20,0
openstack%2Ftripleo-heat-templates~master~I8c442caac140f1c96123c1be47e858949419fd8f,openstack/tripleo-heat-templates,master,I8c442caac140f1c96123c1be47e858949419fd8f,Add ServiceNetMap to global_vars,MERGED,2019-04-18 19:37:31.000000000,2019-05-02 01:13:20.000000000,2019-05-02 01:13:20.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-18 19:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd7e1deef27ddd26ec8b33a8b1724e0eceaa736c', 'message': 'Add ServiceNetMap to global_vars\n\nThis adds the ServiceNetMap value to global_vars for config-download.\nThis will make the value consumable from ansible tasks when running\nconfig-download.\n\nAdditional values can be added in a similar fashion in the future to\nallow for less hardcoded data coming out of Heat, and instead using\njinja expressions to consume data from Ansible variables when\nconfig-download runs.\n\nChange-Id: I8c442caac140f1c96123c1be47e858949419fd8f\n'}, {'number': 2, 'created': '2019-04-24 18:10:42.000000000', 'files': ['overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0d26441f1165aa92258ff65be35febab5a8392d', 'message': 'Add ServiceNetMap to global_vars\n\nThis adds the ServiceNetMap value to global_vars for config-download.\nThis will make the value consumable from ansible tasks when running\nconfig-download.\n\nAdditional values can be added in a similar fashion in the future to\nallow for less hardcoded data coming out of Heat, and instead using\njinja expressions to consume data from Ansible variables when\nconfig-download runs.\n\nChange-Id: I8c442caac140f1c96123c1be47e858949419fd8f\n'}]",0,653842,e0d26441f1165aa92258ff65be35febab5a8392d,14,5,2,7144,,,0,"Add ServiceNetMap to global_vars

This adds the ServiceNetMap value to global_vars for config-download.
This will make the value consumable from ansible tasks when running
config-download.

Additional values can be added in a similar fashion in the future to
allow for less hardcoded data coming out of Heat, and instead using
jinja expressions to consume data from Ansible variables when
config-download runs.

Change-Id: I8c442caac140f1c96123c1be47e858949419fd8f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/653842/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'common/deploy-steps.j2']",2,fd7e1deef27ddd26ec8b33a8b1724e0eceaa736c,inventory-driven-scale, ServiceNetMapLower: description: Mapping of service name to network name type: json default: {} service_net_map: {get_param: ServiceNetMapLower},,6,0
openstack%2Ftripleo-heat-templates~master~Ie4c221a850a9018b4eb62bfd3d54ac22395b7a9c,openstack/tripleo-heat-templates,master,Ie4c221a850a9018b4eb62bfd3d54ac22395b7a9c,Add Keystone admin/public to enabled services list,MERGED,2019-04-24 18:10:42.000000000,2019-05-02 01:10:38.000000000,2019-05-02 01:10:38.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-24 18:10:42.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfd3fea2ef861ac559a47360ebc8f053c39b9f72', 'message': 'Add Keystone admin/public to enabled services list\n\nThese services need to be added to the ServiceNames resources list of\nenabled services per role if we want groupings for them to be created in\nthe ansible inventory.\n\nThis same logic already exists in network/ports/net_ip_list_map.j2.yaml,\nwhere the hieradata for <service>_node_[names,ips] are created. We also\nneed these service groupings to exist in the ansible inventory if we\nwant to make this hieradata generic instead of hardcoded coming out of\nthe heat templates.\n\nChange-Id: Ie4c221a850a9018b4eb62bfd3d54ac22395b7a9c\n'}]",2,655515,bfd3fea2ef861ac559a47360ebc8f053c39b9f72,9,4,1,7144,,,0,"Add Keystone admin/public to enabled services list

These services need to be added to the ServiceNames resources list of
enabled services per role if we want groupings for them to be created in
the ansible inventory.

This same logic already exists in network/ports/net_ip_list_map.j2.yaml,
where the hieradata for <service>_node_[names,ips] are created. We also
need these service groupings to exist in the ansible inventory if we
want to make this hieradata generic instead of hardcoded coming out of
the heat templates.

Change-Id: Ie4c221a850a9018b4eb62bfd3d54ac22395b7a9c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/655515/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,bfd3fea2ef861ac559a47360ebc8f053c39b9f72,inventory-driven-scale," expression: let(root => $) -> $.data.extra_services.items().where($[0] in coalesce($root.data.enabled_services, [])).select($[1]).flatten() + coalesce($root.data.enabled_services, []) data: enabled_services: {get_attr: [{{role.name}}ServiceChainRoleData, value, service_names]} extra_services: # If anything other than keystone needs this # then we should add an extra_networks interface # to the service templates role_data but for # now we hard-code the keystone special case keystone: - keystone_admin_api - keystone_public_api"," expression: coalesce($.data, []).where($ != null) data: {get_attr: [{{role.name}}ServiceChainRoleData, value, service_names]}",11,2
openstack%2Fglance~master~I7afd43c2e0581d30a78d5ed4e30f8eb2af1cf444,openstack/glance,master,I7afd43c2e0581d30a78d5ed4e30f8eb2af1cf444,Added powervm as hypervisor type for image metadata prefiltering.,MERGED,2019-04-23 08:15:16.000000000,2019-05-02 00:46:55.000000000,2019-05-02 00:46:55.000000000,"[{'_account_id': 2537}, {'_account_id': 5314}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10068}, {'_account_id': 10608}, {'_account_id': 13637}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 26575}]","[{'number': 1, 'created': '2019-04-23 08:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fcd6b4eb65bdf50d524fb236861a1863799bbb35', 'message': 'Added powervm as hypervisor type for image metadata prefiltering.\n\nChange-Id: I7afd43c2e0581d30a78d5ed4e30f8eb2af1cf444\n'}, {'number': 2, 'created': '2019-04-24 08:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a7eb76610ca8687e85b12e3dbaa34e39471739b6', 'message': 'Added powervm as hypervisor type for image metadata prefiltering.\n\n""powervm"" as hypervisor type is required for image metadata\nprefiltering in glance.\n\nCloses-Bug: #1826136\n\nChange-Id: I7afd43c2e0581d30a78d5ed4e30f8eb2af1cf444\n'}, {'number': 3, 'created': '2019-04-26 07:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/58621bc1f1ddf81cd9b7151dec8b34ae05ffb226', 'message': 'Added powervm as hypervisor type for image metadata prefiltering.\n\n""powervm"" as hypervisor type is required for image metadata\nprefiltering in glance.\n\nCloses-Bug: #1826136\n\nChange-Id: I7afd43c2e0581d30a78d5ed4e30f8eb2af1cf444\n'}, {'number': 4, 'created': '2019-04-29 06:32:07.000000000', 'files': ['etc/metadefs/compute-hypervisor.json', 'releasenotes/notes/train-metadefs-changes-c4380754cdd13a19.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/ceba6db664661cfb51a520b0634789fbcc2eb051', 'message': 'Added powervm as hypervisor type for image metadata prefiltering.\n\n""powervm"" as hypervisor type is required for image metadata\nprefiltering in glance.\n\nCloses-Bug: #1826136\n\nChange-Id: I7afd43c2e0581d30a78d5ed4e30f8eb2af1cf444\n'}]",6,654826,ceba6db664661cfb51a520b0634789fbcc2eb051,28,10,4,26575,,,0,"Added powervm as hypervisor type for image metadata prefiltering.

""powervm"" as hypervisor type is required for image metadata
prefiltering in glance.

Closes-Bug: #1826136

Change-Id: I7afd43c2e0581d30a78d5ed4e30f8eb2af1cf444
",git fetch https://review.opendev.org/openstack/glance refs/changes/26/654826/4 && git format-patch -1 --stdout FETCH_HEAD,['etc/metadefs/compute-hypervisor.json'],1,fcd6b4eb65bdf50d524fb236861a1863799bbb35,bug/1826136," ""powervm"",",,1,0
openstack%2Fcinder~master~I08487575e52c5cfd5a268a23d97b6bd931aeaa45,openstack/cinder,master,I08487575e52c5cfd5a268a23d97b6bd931aeaa45,Fix service_uuid migration for volumes with no host,MERGED,2019-03-21 17:09:02.000000000,2019-05-02 00:46:52.000000000,2019-05-02 00:46:52.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16006}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-03-21 17:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9be9758c137de84f68c685dd9c85bd810e91da94', 'message': ""Fix service_uuid migration for volumes with no host\n\nFor volumes that have no host assigned, this\nmigration will fail.  Skip those volumes, as they\ndon't need to be updated.\n\nCloses-Bug: #1821207\nChange-Id: I08487575e52c5cfd5a268a23d97b6bd931aeaa45\n""}, {'number': 2, 'created': '2019-03-21 19:02:04.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/47d2a98fa63fb1bdf122c8a40bd06ea9c1709855', 'message': ""Fix service_uuid migration for volumes with no host\n\nFor volumes that have no host assigned, this\nmigration will fail.  Skip those volumes, as they\ndon't need to be updated.\n\nCloses-Bug: #1821207\nChange-Id: I08487575e52c5cfd5a268a23d97b6bd931aeaa45\n""}]",6,645236,47d2a98fa63fb1bdf122c8a40bd06ea9c1709855,44,31,2,4523,,,0,"Fix service_uuid migration for volumes with no host

For volumes that have no host assigned, this
migration will fail.  Skip those volumes, as they
don't need to be updated.

Closes-Bug: #1821207
Change-Id: I08487575e52c5cfd5a268a23d97b6bd931aeaa45
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/645236/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/db/sqlalchemy/api.py']",2,9be9758c137de84f68c685dd9c85bd810e91da94,bug/1821207, if v.host is None: continue,,9,4
openstack%2Fcinder~master~Ic2562b98c00cbf567503edf275b6d7d97820058c,openstack/cinder,master,Ic2562b98c00cbf567503edf275b6d7d97820058c,Remove obsolete get_backup_driver functions,MERGED,2019-04-26 12:20:48.000000000,2019-05-02 00:46:49.000000000,2019-05-02 00:46:49.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}]","[{'number': 1, 'created': '2019-04-26 12:20:48.000000000', 'files': ['cinder/tests/unit/backup/fake_service.py', 'cinder/backup/drivers/swift.py', 'cinder/backup/drivers/gcs.py', 'cinder/backup/drivers/glusterfs.py', 'cinder/backup/drivers/ceph.py', 'cinder/tests/unit/backup/fake_service_with_verify.py', 'cinder/backup/drivers/nfs.py', 'cinder/backup/drivers/posix.py', 'cinder/backup/drivers/tsm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/06bd566bb424e80bd116152a48a6cfb69045241e', 'message': 'Remove obsolete get_backup_driver functions\n\nWith [1], backup driver modules are no longer expected to provide a\nget_backup_driver function. This patch removes them all, as the\nbackup manager no longer calls them.\n\n[1] https://review.opendev.org/595372\n\nChange-Id: Ic2562b98c00cbf567503edf275b6d7d97820058c\n'}]",0,655891,06bd566bb424e80bd116152a48a6cfb69045241e,34,28,1,21129,,,0,"Remove obsolete get_backup_driver functions

With [1], backup driver modules are no longer expected to provide a
get_backup_driver function. This patch removes them all, as the
backup manager no longer calls them.

[1] https://review.opendev.org/595372

Change-Id: Ic2562b98c00cbf567503edf275b6d7d97820058c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/655891/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/fake_service.py', 'cinder/backup/drivers/swift.py', 'cinder/backup/drivers/gcs.py', 'cinder/backup/drivers/glusterfs.py', 'cinder/backup/drivers/ceph.py', 'cinder/tests/unit/backup/fake_service_with_verify.py', 'cinder/backup/drivers/nfs.py', 'cinder/backup/drivers/posix.py', 'cinder/backup/drivers/tsm.py']",9,06bd566bb424e80bd116152a48a6cfb69045241e,,, def get_backup_driver(context): return TSMBackupDriver(context),0,42
openstack%2Fnetworking-calico~master~I4c0c2372b2d796f28c57d02604bc2cbc2f7f380b,openstack/networking-calico,master,I4c0c2372b2d796f28c57d02604bc2cbc2f7f380b,Add support for allowed-address-pair extension,MERGED,2019-02-21 18:25:06.000000000,2019-05-02 00:41:40.000000000,2019-05-02 00:41:40.000000000,"[{'_account_id': 6541}, {'_account_id': 10068}, {'_account_id': 10980}, {'_account_id': 13734}, {'_account_id': 16381}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-21 18:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/571ea5a4ebce3f7910df75b3893b489cf36ebc3a', 'message': 'Add support for allowed-address-pair extension\n\nChange-Id: I4c0c2372b2d796f28c57d02604bc2cbc2f7f380b\nCloses-Bug: #1604226\n'}, {'number': 2, 'created': '2019-02-22 07:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/fe894b48707010af462ca76868f4cca77142829a', 'message': 'Add support for allowed-address-pair extension\n\nChange-Id: I4c0c2372b2d796f28c57d02604bc2cbc2f7f380b\nCloses-Bug: #1604226\n'}, {'number': 3, 'created': '2019-02-22 13:58:05.000000000', 'files': ['networking_calico/plugins/ml2/drivers/calico/test/test_plugin_etcd.py', 'networking_calico/plugins/ml2/drivers/calico/test/lib.py', 'networking_calico/agent/dhcp_agent.py', 'networking_calico/plugins/ml2/drivers/calico/endpoints.py'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/deea98675592c173d66642444223d4a71aa2fc35', 'message': 'Add support for allowed-address-pair extension\n\nChange-Id: I4c0c2372b2d796f28c57d02604bc2cbc2f7f380b\nCloses-Bug: #1604226\n'}]",2,638479,deea98675592c173d66642444223d4a71aa2fc35,24,6,3,6541,,,0,"Add support for allowed-address-pair extension

Change-Id: I4c0c2372b2d796f28c57d02604bc2cbc2f7f380b
Closes-Bug: #1604226
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/79/638479/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_calico/plugins/ml2/drivers/calico/test/test_plugin_etcd.py', 'networking_calico/plugins/ml2/drivers/calico/test/lib.py', 'networking_calico/plugins/ml2/drivers/calico/endpoints.py']",3,571ea5a4ebce3f7910df75b3893b489cf36ebc3a,bug/1604226, for aap in port['allowed_address_pairs']: ip_addr = str(aap['ip_address']) if ':' in ip_addr: ip_nets.append(ip_addr + '/128') else: ip_nets.append(ip_addr + '/32') ,,16,4
openstack%2Fgovernance-sigs~master~Ia8052710c6397b4ff4af04ae5b6b6aa549276fae,openstack/governance-sigs,master,Ia8052710c6397b4ff4af04ae5b6b6aa549276fae,Create Public Cloud SIG (original Public Cloud WG),MERGED,2019-04-24 08:43:37.000000000,2019-05-01 23:56:46.000000000,2019-05-01 23:56:45.000000000,"[{'_account_id': 308}, {'_account_id': 7272}, {'_account_id': 8099}, {'_account_id': 12404}, {'_account_id': 13629}, {'_account_id': 17068}, {'_account_id': 17556}, {'_account_id': 21195}, {'_account_id': 22348}, {'_account_id': 23924}]","[{'number': 1, 'created': '2019-04-24 08:43:37.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/d8a453011da60b8a97c26121fdd0f4b88a5ee533', 'message': 'Create Public Cloud SIG (original Public Cloud WG)\n\nMigrate Public Cloud WG to SIG\n\nChange-Id: Ia8052710c6397b4ff4af04ae5b6b6aa549276fae\n'}]",0,655354,d8a453011da60b8a97c26121fdd0f4b88a5ee533,18,10,1,12404,,,0,"Create Public Cloud SIG (original Public Cloud WG)

Migrate Public Cloud WG to SIG

Change-Id: Ia8052710c6397b4ff4af04ae5b6b6aa549276fae
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/54/655354/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,d8a453011da60b8a97c26121fdd0f4b88a5ee533,create-public-cloud-sig,"Public Cloud: chairs: - name: Tobias Rydberg irc: tobberydberg email: tobias.rydberg@citynetwork.eu - name: Howard Huang irc: zhipeng email: huangzhipeng@huawei.com scope: > The aim of this sig is to represent the interests of the OpenStack public cloud provider community, and to further adoption of OpenStack public cloud usage. status: active url: https://wiki.openstack.org/wiki/PublicCloudSIG ",,15,0
openstack%2Fgovernance~master~I5d8dcd4cd447033c25d9697934c3b35fa85e8045,openstack/governance,master,I5d8dcd4cd447033c25d9697934c3b35fa85e8045,Add Project Deletion goal for Train,ABANDONED,2019-02-25 05:08:48.000000000,2019-05-01 23:28:56.000000000,,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 1063}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5046}, {'_account_id': 6484}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 9542}, {'_account_id': 9545}, {'_account_id': 10343}, {'_account_id': 10420}, {'_account_id': 10607}, {'_account_id': 11628}, {'_account_id': 12404}, {'_account_id': 14495}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 23924}]","[{'number': 1, 'created': '2019-02-25 05:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7cc6510f89965c4995d8edc8932a79222bd90d6b', 'message': 'Add Project Deletion goal for Train\n\nChange-Id: I5d8dcd4cd447033c25d9697934c3b35fa85e8045\n'}, {'number': 2, 'created': '2019-02-25 05:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/badba069a30e6294d3b2d822b06ba9a5184a1296', 'message': 'Add Project Deletion goal for Train\n\nChange-Id: I5d8dcd4cd447033c25d9697934c3b35fa85e8045\n'}, {'number': 3, 'created': '2019-03-14 05:53:14.000000000', 'files': ['goals/train/project-deletion.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/edea06e2083922b93b0e0da35444b12820de21e5', 'message': 'Add Project Deletion goal for Train\n\nChange-Id: I5d8dcd4cd447033c25d9697934c3b35fa85e8045\n'}]",90,639010,edea06e2083922b93b0e0da35444b12820de21e5,49,21,3,10420,,,0,"Add Project Deletion goal for Train

Change-Id: I5d8dcd4cd447033c25d9697934c3b35fa85e8045
",git fetch https://review.opendev.org/openstack/governance refs/changes/10/639010/2 && git format-patch -1 --stdout FETCH_HEAD,['goals/train/project-deletion.rst'],1,7cc6510f89965c4995d8edc8932a79222bd90d6b,formal-vote,"======================================================= Project Deletion and Resource Cleanup - Part 1: Library ======================================================= Provide to users of OpenStack a consistent means of deleting a project and the resources associated with it. This goal is the first part of a longer term goal, and focuses on making a client library that can be called to delete resources for a given project followed by deleting or disabling the project itself. Part one would cover the creation of a top level officially supported python library, with a plugin for a deletion command for the OSClient. The top level library would serve as the top level logic for each project, and supply abstract classes and base implement examples for the its plugins. Each OpenStack service that has project owned resources would need to build a plugin that implements those abstract classes, and within them defined the logic of how each resource is deleted (as well as which other service/resources it depends on). :Storyboard Board: <put the link to the tracking board here> :Storyboard Story: <put the link to the story for this goal here> Part 2 (not planned or designed yet), and will focus on building per service full deletion APIs, bulk deletion support, or other methods to make deleting a project and all its resources faster and safer. With work to add support for those new APIs to the library that was made in Part 1. Champions ========= Adrian Turjak (adriant) - CatalystCloud Tobias Rydberg (tobberydberg) - City Network Gerrit Topic ============ To facilitate tracking, commits related to this goal should use the gerrit topic:: project-deletion-goal Terminology and naming conventions ================================== Naming ++++++ The top level library will be called: **openstack-project-deletion** Mostly to avoid confusion with existing OSPurge project. With each plugin named as follows: **<service-type>-project-deletion-plugin** Terms +++++ **Service**: An OpenStack project with an API and resources owned by a keystone project. Not refered to as 'project' to limit confusion between the thing we are trying to terminate and the thing we are deleting resources in. Completion Criteria =================== #. A top level python library for project deletion, as well as a OSC plugin which exposes that library as a cli command. #. Per service plugins for deletion of resources owned by a project. #. Documentation in each service about their own deletion plugin, and that it MUST be updated along with any new features. #. Documentation on how to use the library, and the cli it exposes. All API interactions with OpenStack services will be done solely through the OpenStackSDK and not using the per service standalone libraries. If the SDK does not support the feature yet, implement it, or use the proxy class for the service for raw JSON requests and replace later when the feature exists in the SDK. .. note:: Must be backwards compatible with older versions of OpenStack, with version differences handled within the per service plugins. Details ======= Top level Library +++++++++++++++++ The top level library (and OSC command), will mostly serve as the glue for all the plugins, and as a potential place to handle awkward cross project deletion logic. It will provide abstract classes for each service to implement, which will build an idea of the service, what other services it depends on, what resources it has, and what other resources (both in itself, and in other services) they depend on. This will allow the top level library to build a deletion process tree based on this, with as little custom edge case logic in the top level. While it will mostly be based on which plugins are installed, it will by default raise an error if a cloud has services in the catalog that need deleting, and are not in the ignored services list. This can be lowered to warning when initialising the library, or with a cli flag. The importance of having this be an error by default is that stray resources may otherwise be left behind, and we want to limit the chances of that. It will either contain a hardcoded list of which service types to ignore for deletion, or that will be sourced from the service-type-authority (if added to the spec there). The library and the cli can both be run as either admin/system or as a user. This allows an admin to clear a project (potentially more destructively) or a user to clear their own resources but keep the project around. In both cases a list of services, or resources per service can be supplied to allow selective deletion and the library will attempt to build a deletion tree around those, or error if unable to due to dependencies. While the primary function is to delete, this library will also support 'usage summary' style functionality that will return a full summary and list of all resources owned by the given project across the OpenStack cluster in all regions. While the plugins are ultimately responsible for implementing the report and per resource delete functionality, the top level library will handle the termination order and orchestration based on the generated project usage report. This will (combined with dependance information per resource) allow it to build the most optimal and safest deletion tree for all resources, across all regions. With a potential of doing so in a multi-threaded fashion at appropriate and safe branch points. When initialising the library an optional config dict of service types to dicts will allowing passing some per service config options as part of the deletion process (e.g. disable Keystone project rather than delete), but in most cases the defaults will be used. By default this library will require the core OpenStack service plugins to be installed with it, but ancillary services will need to be installed manually by the user. A consistent naming convention of plugins using service types will allow useful auto generated error messages suggesting exactly which library to install if an error is raised based on missing plugins vs catalog entries. Code examples ------------- WIP Per Service Plugins +++++++++++++++++++ Other than planning work for what deletion of resources needs to look like, or what resource dependencies may be, this work cannot start until enough of the structure for the top level library exists. These are to be maintained and owned by the Openstack service teams themselves. The library will be based around the abstract classes as defined in the top level library. These will mostly be a `Service` class, and then within that the registration of all the `Resource` types this service supports for deletion. Each library will implement a Service class of its own, as well as a class for each resource. Within these will be defined the service types of the services that should be deleted before or after this one, and similar for resources in cases where one resource may depend on another (both in this service, and resources in another service). These classes would require certain functions implemented, but beyond the constracts that the top level library expects, the internal deletion and report logic is up to each service team. In cases where the APIs can be used to infer what a direct dependancy between resources may be, the report functionality would add information about it, including potential queries to additional services to add the needed related resource data. How this is done, is again, up to the Service owners, but this kind of information allows the top level logic a better chance of cleanly deleting the resources. An example of this being Cinder volumes + snapshots + images, where the dependancy chain can sometimes be very confusing. Code examples ------------- WIP Work Assignments and Volunteers =============================== Once the design for the Top level library is solidified, we will need developers willing to help implement this. The goal champions will in all likelihood act mostly as project managers and chase after people willing to contribute or working on specific service plugins. Of the two champions Adrian is able and willing to help with code, but will more than likely end up more focusing on code review over implementing code purely due to existing time commitments. We will try to get a person per service willing to start working on their plugin, and have them to start planning how reporting (and checking dependencies) will work, before the top level library is done. Once the abstract classes are done, they can implement, and the champions will follow their work and project manage as needed. References ========== Disccusion has been ongoing, but a session dedicated to this that went over a lot of what this goal has become happened in Berlin-2018: https://www.openstack.org/summit/berlin-2018/summit-schedule/events/22784/deletion-of-project-and-project-resources https://etherpad.openstack.org/p/BER-deletion-of-project-resources With discussion continuing in the mailing list: http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001650.html https://etherpad.openstack.org/p/community-goal-project-deletion Current State / Anticipated Impact ================================== The current state is entirely design phase, and once work starts on a solid design, will require time to build the top level library enough to then have all the abstract classes which the plugins will need. That top level library work will be the initial blocker until enough of it exists to ",,224,0
openstack%2Foctavia~master~I9d8de049eb32318de537dd24f4eb837b0b3e43a8,openstack/octavia,master,I9d8de049eb32318de537dd24f4eb837b0b3e43a8,Replace 'manager' with 'os_primary' and 'os_adm' with 'os_admin',ABANDONED,2017-06-28 06:22:52.000000000,2019-05-01 22:48:27.000000000,,"[{'_account_id': 6579}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 25239}, {'_account_id': 25571}, {'_account_id': 25587}, {'_account_id': 25903}]","[{'number': 1, 'created': '2017-06-28 06:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/47694877fa7a86f7f6a70184b99816beccb81f4e', 'message': ""Replace the usage of 'manager' with 'os_primary'\n\nIn tempest, alias 'manager' has been moved to 'os_primary'\nin version Pike, and it will be removed in version Queens.\nThis patch is to replace the usage of 'manager' with 'os_primary'.\n\nFor other details, please check [1] and [2]\n[1] https://review.openstack.org/#/c/468036/\n[2] https://review.openstack.org/#/c/463484/\n\nChange-Id: I9d8de049eb32318de537dd24f4eb837b0b3e43a8\n""}, {'number': 2, 'created': '2017-07-14 09:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c3a459f09e1e3062cfa3a3d6d2866eb0738f3b8f', 'message': ""Replace 'manager' with 'os_primary' and 'os_adm' with 'os_admin' \n\nIn tempest, alias 'manager' has been moved to 'os_primary'\nin version Pike, and it will be removed in version Queens.\nThis patch is to replace the usage of 'manager' with 'os_primary'.\n\nFor other details, please check [1] and [2]\n[1] https://review.openstack.org/#/c/468036/\n[2] https://review.openstack.org/#/c/463484/\n\nChange-Id: I9d8de049eb32318de537dd24f4eb837b0b3e43a8\n""}, {'number': 3, 'created': '2017-09-25 03:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8dcbceb7f8596999c1e34d00de0f8d25ac4caa0c', 'message': ""Replace 'manager' with 'os_primary' and 'os_adm' with 'os_admin' \n\nIn tempest, alias 'manager' has been moved to 'os_primary'\nin version Pike, and it will be removed in version Queens.\nThis patch is to replace the usage of 'manager' with 'os_primary'.\n\nFor other details, please check [1] and [2]\n[1] https://review.openstack.org/#/c/468036/\n[2] https://review.openstack.org/#/c/463484/\n\nChange-Id: I9d8de049eb32318de537dd24f4eb837b0b3e43a8\n""}, {'number': 4, 'created': '2017-09-26 09:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a9c08b58dfcbfa47dc5000b6cfb0917bc20d4a38', 'message': ""Replace 'manager' with 'os_primary' and 'os_adm' with 'os_admin'\n\nIn tempest, alias 'manager' has been moved to 'os_primary'\nin version Pike, and it will be removed in version Queens.\nThis patch is to replace the usage of 'manager' with 'os_primary'.\n\nFor other details, please check [1] and [2]\n[1] https://review.openstack.org/#/c/468036/\n[2] https://review.openstack.org/#/c/463484/\n\nChange-Id: I9d8de049eb32318de537dd24f4eb837b0b3e43a8\n""}, {'number': 5, 'created': '2017-09-27 05:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/278ffcf70eadecee11a7b21dbe13fb0c0f6c58cf', 'message': ""Replace 'manager' with 'os_primary' and 'os_adm' with 'os_admin'\n\nIn tempest, alias 'manager' has been moved to 'os_primary'\nin version Pike, and it will be removed in version Queens.\nThis patch is to replace the usage of 'manager' with 'os_primary'.\n\nFor other details, please check [1] and [2]\n[1] https://review.openstack.org/#/c/468036/\n[2] https://review.openstack.org/#/c/463484/\n\nChange-Id: I9d8de049eb32318de537dd24f4eb837b0b3e43a8\n""}, {'number': 6, 'created': '2017-10-11 04:47:46.000000000', 'files': ['octavia/tests/tempest/common/manager.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d77ed9e892676d58f709830bff6abb766d25ffd2', 'message': ""Replace 'manager' with 'os_primary' and 'os_adm' with 'os_admin'\n\nIn tempest, alias 'manager' has been moved to 'os_primary'\nin version Pike, and it will be removed in version Queens.\nThis patch is to replace the usage of 'manager' with 'os_primary'.\n\nFor other details, please check [1] and [2]\n[1] https://review.openstack.org/#/c/468036/\n[2] https://review.openstack.org/#/c/463484/\n\nChange-Id: I9d8de049eb32318de537dd24f4eb837b0b3e43a8\n""}]",4,478399,d77ed9e892676d58f709830bff6abb766d25ffd2,33,7,6,25571,,,0,"Replace 'manager' with 'os_primary' and 'os_adm' with 'os_admin'

In tempest, alias 'manager' has been moved to 'os_primary'
in version Pike, and it will be removed in version Queens.
This patch is to replace the usage of 'manager' with 'os_primary'.

For other details, please check [1] and [2]
[1] https://review.openstack.org/#/c/468036/
[2] https://review.openstack.org/#/c/463484/

Change-Id: I9d8de049eb32318de537dd24f4eb837b0b3e43a8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/99/478399/6 && git format-patch -1 --stdout FETCH_HEAD,['octavia/tests/tempest/common/manager.py'],1,47694877fa7a86f7f6a70184b99816beccb81f4e,478399, cls.flavors_client = cls.os_os_primary.flavors_client cls.os_os_primary.compute_floating_ips_client) cls.image_client = cls.os_os_primary.image_client elif CONF.image_feature_enabled.api_v2: cls.image_client = cls.os_os_primary.image_client_v2 cls.compute_images_client = cls.os_os_primary.compute_images_client cls.keypairs_client = cls.os_os_primary.keypairs_client cls.os_os_primary.compute_security_groups_client) cls.os_os_primary.compute_security_group_rules_client) cls.servers_client = cls.os_os_primary.servers_client cls.interface_client = cls.os_os_primary.interfaces_client cls.networks_client = cls.os_os_primary.networks_client cls.ports_client = cls.os_os_primary.ports_client cls.routers_client = cls.os_os_primary.routers_client cls.subnets_client = cls.os_os_primary.subnets_client cls.floating_ips_client = cls.os_os_primary.floating_ips_client cls.security_groups_client = cls.os_os_primary.security_groups_client cls.os_os_primary.security_group_rules_client) cls.volumes_client = cls.os_os_primary.volumes_v2_client cls.snapshots_client = cls.os_os_primary.snapshots_v2_client else: cls.volumes_client = cls.os_os_primary.volumes_client cls.snapshots_client = cls.os_os_primary.snapshots_client clients = self.os_os_primary cls.os_operator = cls.get_client_os_os_primary(roles=[operator_role]), cls.flavors_client = cls.manager.flavors_client cls.manager.compute_floating_ips_client) cls.image_client = cls.manager.image_client elif CONF.image_feature_enabled.api_v2: cls.image_client = cls.manager.image_client_v2 cls.compute_images_client = cls.manager.compute_images_client cls.keypairs_client = cls.manager.keypairs_client cls.manager.compute_security_groups_client) cls.manager.compute_security_group_rules_client) cls.servers_client = cls.manager.servers_client cls.interface_client = cls.manager.interfaces_client cls.networks_client = cls.manager.networks_client cls.ports_client = cls.manager.ports_client cls.routers_client = cls.manager.routers_client cls.subnets_client = cls.manager.subnets_client cls.floating_ips_client = cls.manager.floating_ips_client cls.security_groups_client = cls.manager.security_groups_client cls.manager.security_group_rules_client) cls.volumes_client = cls.manager.volumes_v2_client cls.snapshots_client = cls.manager.snapshots_v2_client else: cls.volumes_client = cls.manager.volumes_client cls.snapshots_client = cls.manager.snapshots_client clients = self.manager cls.os_operator = cls.get_client_manager(roles=[operator_role]),23,23
openstack%2Foctavia~master~Ifd3744fe610163341a79beae5f03f097c5eca622,openstack/octavia,master,Ifd3744fe610163341a79beae5f03f097c5eca622,Removes unnecessary utf-8 encoding,ABANDONED,2017-08-30 04:25:48.000000000,2019-05-01 22:47:43.000000000,,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 11628}]","[{'number': 1, 'created': '2017-08-30 04:25:48.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bd3e69261824a2e7f28c602e987f3375da82f783', 'message': 'Removes unnecessary utf-8 encoding\n\nThis patches removes unnecessary utf-8 encoding in doc/source/conf.py\n\nChange-Id: Ifd3744fe610163341a79beae5f03f097c5eca622\n'}]",0,499019,bd3e69261824a2e7f28c602e987f3375da82f783,5,3,1,25571,,,0,"Removes unnecessary utf-8 encoding

This patches removes unnecessary utf-8 encoding in doc/source/conf.py

Change-Id: Ifd3744fe610163341a79beae5f03f097c5eca622
",git fetch https://review.opendev.org/openstack/octavia refs/changes/19/499019/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,bd3e69261824a2e7f28c602e987f3375da82f783,,,# -*- coding: utf-8 -*- #,0,2
openstack%2Foctavia~master~I76d34fe142a72740ef71755e2bc03b5bc2a42741,openstack/octavia,master,I76d34fe142a72740ef71755e2bc03b5bc2a42741,"Revert ""Rename q- to neutron- services""",ABANDONED,2018-04-02 11:34:48.000000000,2019-05-01 22:47:01.000000000,,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 9545}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 14885}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 11:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/42c721b217a61806f0327c7944fc1543b48bb625', 'message': 'Revert ""Rename q- to neutron- services""\n\nThis reverts commit 6eb4c1f33245fee66d59569a8df9fa906b019857.\n\nChange-Id: I76d34fe142a72740ef71755e2bc03b5bc2a42741\nStory: 2001769\n'}, {'number': 2, 'created': '2018-04-17 08:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e2830573e272a02792232df1edfcdc16a4c02f42', 'message': 'Revert ""Rename q- to neutron- services""\n\nThis reverts commit 6eb4c1f33245fee66d59569a8df9fa906b019857.\n\nChange-Id: I76d34fe142a72740ef71755e2bc03b5bc2a42741\nStory: 2001769\n'}, {'number': 3, 'created': '2018-04-29 15:45:48.000000000', 'files': ['devstack/contrib/new-octavia-devstack.sh', 'devstack/samples/multinode/local.conf', 'devstack/samples/singlenode/local.conf', 'devstack/plugin.sh', 'devstack/samples/multinode/local-2.conf', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6a3516e3ba4aaa7eb91564b9d9637ac0959f8a97', 'message': 'Revert ""Rename q- to neutron- services""\n\nThis reverts commit 6eb4c1f33245fee66d59569a8df9fa906b019857.\n\nChange-Id: I76d34fe142a72740ef71755e2bc03b5bc2a42741\nStory: 2001769\n'}]",0,558194,6a3516e3ba4aaa7eb91564b9d9637ac0959f8a97,14,10,3,6579,,,0,"Revert ""Rename q- to neutron- services""

This reverts commit 6eb4c1f33245fee66d59569a8df9fa906b019857.

Change-Id: I76d34fe142a72740ef71755e2bc03b5bc2a42741
Story: 2001769
",git fetch https://review.opendev.org/openstack/octavia refs/changes/94/558194/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/contrib/new-octavia-devstack.sh', 'devstack/samples/multinode/local.conf', 'devstack/samples/singlenode/local.conf', 'devstack/plugin.sh', 'devstack/samples/multinode/local-2.conf', 'devstack/settings']",6,42c721b217a61806f0327c7944fc1543b48bb625,allow_neutron_api,"Q_SVC=${Q_SVC:-""q-svc""} LBAAS_V2=${LBAAS_V2:-""q-lbaasv2""}","NEUTRON_ANY=${NEUTRON_ANY:-""q-svc neutron-api""} LBAAS_V2=${LBAAS_V2:-""neutron-lbaasv2""}",27,28
openstack%2Fnova-specs~master~Idec4df4b3fe689d73da4786993aaf8aa13c2dbf0,openstack/nova-specs,master,Idec4df4b3fe689d73da4786993aaf8aa13c2dbf0,Abandon instance-tasks backlog spec,MERGED,2019-04-01 16:30:50.000000000,2019-05-01 22:39:16.000000000,2019-05-01 22:39:16.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 5441}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-04-01 16:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/20bc1172bf8b5d88c9c2ee676a78499868e990d8', 'message': 'Abandon instance-tasks backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nThe original authors should feel free to modify or downvote this commit\nif the spec should continue to be considered for implementation now or\nin the future.\n\nChange-Id: Idec4df4b3fe689d73da4786993aaf8aa13c2dbf0\n'}, {'number': 2, 'created': '2019-04-08 23:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9a4170ea156e03a544b4d59e91854335488fb742', 'message': 'Abandon instance-tasks backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nThe original authors should feel free to modify or downvote this commit\nif the spec should continue to be considered for implementation now or\nin the future.\n\nChange-Id: Idec4df4b3fe689d73da4786993aaf8aa13c2dbf0\n'}, {'number': 3, 'created': '2019-04-08 23:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8bd76541e5e92b04e52e28d0d162f6020d896d45', 'message': 'Abandon instance-tasks backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nThe original authors should feel free to modify or downvote this commit\nif the spec should continue to be considered for implementation now or\nin the future.\n\nChange-Id: Idec4df4b3fe689d73da4786993aaf8aa13c2dbf0\n'}, {'number': 4, 'created': '2019-04-26 16:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0a66b174fa5d6656a16bcb03c08c1b76c1b78471', 'message': 'Abandon instance-tasks backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nThe original authors should feel free to modify or downvote this commit\nif the spec should continue to be considered for implementation now or\nin the future.\n\nChange-Id: Idec4df4b3fe689d73da4786993aaf8aa13c2dbf0\n'}, {'number': 5, 'created': '2019-04-28 15:53:50.000000000', 'files': ['specs/abandoned/instance-tasks.rst', 'specs/backlog/redirects', 'specs/abandoned/index.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/942a12fb09baa79d35dcd5b97d169009fe1e7a60', 'message': 'Abandon instance-tasks backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nThe original authors should feel free to modify or downvote this commit\nif the spec should continue to be considered for implementation now or\nin the future.\n\nChange-Id: Idec4df4b3fe689d73da4786993aaf8aa13c2dbf0\n'}]",1,649100,942a12fb09baa79d35dcd5b97d169009fe1e7a60,22,10,5,14070,,,0,"Abandon instance-tasks backlog spec

Scrubbing the backlog directory.

This spec has been here since 2015.

The original authors should feel free to modify or downvote this commit
if the spec should continue to be considered for implementation now or
in the future.

Change-Id: Idec4df4b3fe689d73da4786993aaf8aa13c2dbf0
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/00/649100/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/abandoned/instance-tasks.rst', 'specs/backlog/redirects']",2,20bc1172bf8b5d88c9c2ee676a78499868e990d8,scrub-backlog-specs,approved/instance-tasks.rst ../../abandoned/instance-tasks.rst ,,6,0
openstack%2Fnova-specs~master~I6e243b34dbe82aab2f91887a8a8f46e44d10afbb,openstack/nova-specs,master,I6e243b34dbe82aab2f91887a8a8f46e44d10afbb,Abandon same-instances-scheduling backlog spec,MERGED,2019-04-01 16:36:13.000000000,2019-05-01 22:31:17.000000000,2019-05-01 22:31:17.000000000,"[{'_account_id': 7}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 13587}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22104}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-01 16:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e9d99065b555e0fbadcd0a5f3be8161e217972a9', 'message': 'Abandon same-instances-scheduling backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nThe original authors should feel free to modify or downvote this commit\nif the spec should continue to be considered for implementation now or\nin the future.\n\nChange-Id: I6e243b34dbe82aab2f91887a8a8f46e44d10afbb\n'}, {'number': 2, 'created': '2019-04-08 23:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/85712b1d587cd9bc3eee70e0bfb89994bb2f623d', 'message': 'Abandon same-instances-scheduling backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nThe original authors should feel free to modify or downvote this commit\nif the spec should continue to be considered for implementation now or\nin the future.\n\nChange-Id: I6e243b34dbe82aab2f91887a8a8f46e44d10afbb\n'}, {'number': 3, 'created': '2019-04-08 23:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/862c2702dbee3d5201aa9aa5bb07008291521137', 'message': 'Abandon same-instances-scheduling backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nThe original authors should feel free to modify or downvote this commit\nif the spec should continue to be considered for implementation now or\nin the future.\n\nChange-Id: I6e243b34dbe82aab2f91887a8a8f46e44d10afbb\n'}, {'number': 4, 'created': '2019-04-26 16:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/274c3684d08014607eb29eae31ecd7e7b616902e', 'message': 'Abandon same-instances-scheduling backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nThe original authors should feel free to modify or downvote this commit\nif the spec should continue to be considered for implementation now or\nin the future.\n\nChange-Id: I6e243b34dbe82aab2f91887a8a8f46e44d10afbb\n'}, {'number': 5, 'created': '2019-04-28 15:56:45.000000000', 'files': ['specs/abandoned/same-instances-scheduling.rst', 'specs/backlog/redirects'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9dcf71381a77c80267a135aa17756d017ea5b7ef', 'message': 'Abandon same-instances-scheduling backlog spec\n\nScrubbing the backlog directory.\n\nThis spec has been here since 2015.\n\nThe original authors should feel free to modify or downvote this commit\nif the spec should continue to be considered for implementation now or\nin the future.\n\nChange-Id: I6e243b34dbe82aab2f91887a8a8f46e44d10afbb\n'}]",0,649102,9dcf71381a77c80267a135aa17756d017ea5b7ef,18,8,5,14070,,,0,"Abandon same-instances-scheduling backlog spec

Scrubbing the backlog directory.

This spec has been here since 2015.

The original authors should feel free to modify or downvote this commit
if the spec should continue to be considered for implementation now or
in the future.

Change-Id: I6e243b34dbe82aab2f91887a8a8f46e44d10afbb
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/02/649102/4 && git format-patch -1 --stdout FETCH_HEAD,"['specs/abandoned/same-instances-scheduling.rst', 'specs/backlog/redirects']",2,e9d99065b555e0fbadcd0a5f3be8161e217972a9,scrub-backlog-specs,approved/same-instances-scheduling.rst ../../abandoned/same-instances-scheduling.rst ,,6,0
openstack%2Fnova-specs~master~I8a4489d242ef860f37498d40dd66c1f9c3f8e20c,openstack/nova-specs,master,I8a4489d242ef860f37498d40dd66c1f9c3f8e20c,FUP for I68498afd481f7291a6102928d7999b4be49ded7a,MERGED,2019-04-10 21:33:08.000000000,2019-05-01 22:03:13.000000000,2019-05-01 22:03:13.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-10 21:33:08.000000000', 'files': ['specs/train/approved/cross-cell-resize.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e16ede4747f1414a4763ce5fbdca190ca65a444c', 'message': 'FUP for I68498afd481f7291a6102928d7999b4be49ded7a\n\nThis fixes some issues noted [1][2] in the above change\nand also adds an explicit reminder of the RPC cast\nbehavior change in the REST API impact section [3].\n\n[1] https://review.openstack.org/#/c/642807/3/specs/train/approved/cross-cell-resize.rst@35\n[2] https://review.openstack.org/#/c/642807/3/specs/train/approved/cross-cell-resize.rst@494\n[3] https://review.openstack.org/#/c/642807/3/specs/train/approved/cross-cell-resize.rst@582\n\nChange-Id: I8a4489d242ef860f37498d40dd66c1f9c3f8e20c\n'}]",0,651653,e16ede4747f1414a4763ce5fbdca190ca65a444c,8,4,1,6873,,,0,"FUP for I68498afd481f7291a6102928d7999b4be49ded7a

This fixes some issues noted [1][2] in the above change
and also adds an explicit reminder of the RPC cast
behavior change in the REST API impact section [3].

[1] https://review.openstack.org/#/c/642807/3/specs/train/approved/cross-cell-resize.rst@35
[2] https://review.openstack.org/#/c/642807/3/specs/train/approved/cross-cell-resize.rst@494
[3] https://review.openstack.org/#/c/642807/3/specs/train/approved/cross-cell-resize.rst@582

Change-Id: I8a4489d242ef860f37498d40dd66c1f9c3f8e20c
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/53/651653/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/cross-cell-resize.rst'],1,e16ede4747f1414a4763ce5fbdca190ca65a444c,bp/cross-cell-resize,"As a user, I want my servers to retain their IPs, volumes and UUID.. _api-cast: .. _personality-files: As noted :ref:`above <api-cast>`, if cross-cell resize is allowed the API service will asynchronously cast to the conductor service rather than RPC call and block the HTTP response until a target host is chosen. Regardless of this the ``resize`` and ``migrate`` server action API response status code is always a 202. ","As a user, I want to my servers to retain their IPs, volumes and UUID.. _personality-files: ",11,3
openstack%2Fmagnum~stable%2Fstein~I1db2074fce9d43c03f479a6aaeb4f238d7101555,openstack/magnum,stable/stein,I1db2074fce9d43c03f479a6aaeb4f238d7101555,[k8s] Add nginx based ingress controller,MERGED,2019-04-29 00:22:11.000000000,2019-05-01 21:45:31.000000000,2019-05-01 21:45:30.000000000,"[{'_account_id': 6484}, {'_account_id': 9995}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 00:22:11.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'releasenotes/notes/helm-install-ingress-nginx-fe2acec1dd3032e3.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/helm/ingress-nginx.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/0400a0427b238a0a601c7e62d79336a59754ce42', 'message': ""[k8s] Add nginx based ingress controller\n\nAdd an nginx based Ingress controller for Kubernetes.\n\nThe use case is to provide better support use cases which require either\nL4 access or SSL passthrough, which lack proper support in Traefik.\n\nSelection is done via the same label 'ingress_controller' with value\n'nginx'. Deployment relies on the upstream nginx-ingress helm chart.\n\nStory: 2005327\nTask: 30255\n(cherry picked from commit 375fbccf587a9e19afbad4c138977f222023393a)\n\nConflicts:\n       magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml\n       magnum/drivers/heat/k8s_fedora_template_def.py\n       magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml\n       magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml\n\nChange-Id: I1db2074fce9d43c03f479a6aaeb4f238d7101555\n""}]",0,656216,0400a0427b238a0a601c7e62d79336a59754ce42,11,4,1,6484,,,0,"[k8s] Add nginx based ingress controller

Add an nginx based Ingress controller for Kubernetes.

The use case is to provide better support use cases which require either
L4 access or SSL passthrough, which lack proper support in Traefik.

Selection is done via the same label 'ingress_controller' with value
'nginx'. Deployment relies on the upstream nginx-ingress helm chart.

Story: 2005327
Task: 30255
(cherry picked from commit 375fbccf587a9e19afbad4c138977f222023393a)

Conflicts:
       magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml
       magnum/drivers/heat/k8s_fedora_template_def.py
       magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml
       magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml

Change-Id: I1db2074fce9d43c03f479a6aaeb4f238d7101555
",git fetch https://review.opendev.org/openstack/magnum refs/changes/16/656216/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'releasenotes/notes/helm-install-ingress-nginx-fe2acec1dd3032e3.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/helm/ingress-nginx.sh']",8,0400a0427b238a0a601c7e62d79336a59754ce42,story/2005327-stable-stein,"#!/bin/bash . /etc/sysconfig/heat-params set -ex step=""nginx-ingress"" printf ""Starting to run ${step}\n"" ### Configuration ############################################################################### CHART_NAME=""nginx-ingress"" CHART_VERSION=""1.4.0"" if [ ""$(echo ${INGRESS_CONTROLLER} | tr '[:upper:]' '[:lower:]')"" = ""nginx"" ]; then HELM_MODULE_CONFIG_FILE=""/srv/magnum/kubernetes/helm/${CHART_NAME}.yaml"" [ -f ${HELM_MODULE_CONFIG_FILE} ] || { echo ""Writing File: ${HELM_MODULE_CONFIG_FILE}"" mkdir -p $(dirname ${HELM_MODULE_CONFIG_FILE}) cat << EOF > ${HELM_MODULE_CONFIG_FILE} --- kind: ConfigMap apiVersion: v1 metadata: name: ${CHART_NAME}-config namespace: magnum-tiller labels: app: helm data: install-${CHART_NAME}.sh: | #!/bin/bash set -e set -x mkdir -p \${HELM_HOME} cp /etc/helm/* \${HELM_HOME} # HACK - Force wait because of bug https://github.com/helm/helm/issues/5170 until helm init --client-only --wait do sleep 5s done helm repo update if [[ \$(helm history ${CHART_NAME} | grep ${CHART_NAME}) ]]; then echo ""${CHART_NAME} already installed on server. Continue..."" exit 0 else helm install stable/${CHART_NAME} --namespace kube-system --name ${CHART_NAME} --version v${CHART_VERSION} --values /opt/magnum/install-${CHART_NAME}-values.yaml fi install-${CHART_NAME}-values.yaml: | controller: name: controller image: repository: ${CONTAINER_INFRA_PREFIX:-quay.io/kubernetes-ingress-controller/}nginx-ingress-controller tag: ${NGINX_INGRESS_CONTROLLER_TAG} pullPolicy: IfNotPresent runAsUser: 33 config: {} headers: {} hostNetwork: true dnsPolicy: ClusterFirst daemonset: useHostPort: true hostPorts: http: 80 https: 443 stats: 18080 defaultBackendService: """" electionID: ingress-controller-leader ingressClass: nginx podLabels: {} publishService: enabled: false pathOverride: """" scope: enabled: false namespace: """" # defaults to .Release.Namespace extraArgs: enable-ssl-passthrough: """" extraEnvs: [] kind: DaemonSet updateStrategy: {} minReadySeconds: 0 tolerations: [] affinity: {} nodeSelector: role: ${INGRESS_CONTROLLER_ROLE} livenessProbe: failureThreshold: 3 initialDelaySeconds: 10 periodSeconds: 10 successThreshold: 1 timeoutSeconds: 1 port: 10254 readinessProbe: failureThreshold: 3 initialDelaySeconds: 10 periodSeconds: 10 successThreshold: 1 timeoutSeconds: 1 port: 10254 podAnnotations: {} replicaCount: 1 minAvailable: 1 resources: limits: cpu: 100m memory: 64Mi requests: cpu: 100m memory: 64Mi autoscaling: enabled: false customTemplate: configMapName: """" configMapKey: """" service: annotations: {} labels: {} clusterIP: """" externalIPs: [] loadBalancerIP: """" loadBalancerSourceRanges: [] enableHttp: true enableHttps: true externalTrafficPolicy: """" healthCheckNodePort: 0 targetPorts: http: http https: https type: NodePort nodePorts: http: ""32080"" https: ""32443"" extraContainers: [] extraVolumeMounts: [] extraVolumes: [] extraInitContainers: [] stats: enabled: false service: annotations: {} clusterIP: """" externalIPs: [] loadBalancerIP: """" loadBalancerSourceRanges: [] servicePort: 18080 type: ClusterIP metrics: enabled: false service: annotations: {} clusterIP: """" externalIPs: [] loadBalancerIP: """" loadBalancerSourceRanges: [] servicePort: 9913 type: ClusterIP serviceMonitor: enabled: false additionalLabels: {} namespace: """" lifecycle: {} priorityClassName: """" revisionHistoryLimit: 10 defaultBackend: enabled: true name: default-backend image: repository: ${CONTAINER_INFRA_PREFIX:-k8s.gcr.io/}defaultbackend tag: ""1.4"" pullPolicy: IfNotPresent extraArgs: {} port: 8080 tolerations: [] affinity: {} podLabels: {} nodeSelector: {} podAnnotations: {} replicaCount: 1 minAvailable: 1 resources: limits: cpu: 10m memory: 20Mi requests: cpu: 10m memory: 20Mi service: annotations: {} clusterIP: """" externalIPs: [] loadBalancerIP: """" loadBalancerSourceRanges: [] servicePort: 80 type: ClusterIP priorityClassName: """" rbac: create: true podSecurityPolicy: enabled: false serviceAccount: create: true name: imagePullSecrets: [] tcp: {} udp: {} --- apiVersion: batch/v1 kind: Job metadata: name: install-${CHART_NAME}-job namespace: magnum-tiller spec: backoffLimit: 5 template: spec: serviceAccountName: tiller containers: - name: config-helm image: ${CONTAINER_INFRA_PREFIX:-docker.io/openstackmagnum/}helm-client:dev command: - bash args: - /opt/magnum/install-${CHART_NAME}.sh env: - name: HELM_HOME value: /helm_home - name: TILLER_NAMESPACE value: magnum-tiller - name: HELM_TLS_ENABLE value: ""true"" volumeMounts: - name: install-${CHART_NAME}-config mountPath: /opt/magnum/ - mountPath: /etc/helm name: helm-client-certs restartPolicy: Never volumes: - name: install-${CHART_NAME}-config configMap: name: ${CHART_NAME}-config - name: helm-client-certs secret: secretName: helm-client-secret EOF } fi printf ""Finished running ${step}\n"" ",,288,5
openstack%2Fneutron~stable%2Fqueens~Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1,openstack/neutron,stable/queens,Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1,Move subnet postcommit out of transaction for bulk create,MERGED,2019-04-23 11:14:49.000000000,2019-05-01 21:38:16.000000000,2019-05-01 21:38:16.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-23 11:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8877bd34678518fbc33c6a0a6208d4407eedc54', 'message': 'Move subnet postcommit out of transaction for bulk create\n\nFor auto-address IPv6 subnets postcommit has update port action\nif the net already has ports. This results in\n""cannot be called within a transaction"" error for bulk IPv6 subnet\ncreate.\n\nCloses-Bug: #1822582\nChange-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1\n'}, {'number': 2, 'created': '2019-04-25 08:18:02.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/861f85056e064d8c3da7ad95df91a9b1147e6247', 'message': 'Move subnet postcommit out of transaction for bulk create\n\nFor auto-address IPv6 subnets postcommit has update port action\nif the net already has ports. This results in\n""cannot be called within a transaction"" error for bulk IPv6 subnet\ncreate.\n\nCloses-Bug: #1822582\nChange-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1\n(cherry picked from commit 14c76d31814b8e696349a1c00ba65ef2919b48af)\n'}]",2,654958,861f85056e064d8c3da7ad95df91a9b1147e6247,19,7,2,5948,,,0,"Move subnet postcommit out of transaction for bulk create

For auto-address IPv6 subnets postcommit has update port action
if the net already has ports. This results in
""cannot be called within a transaction"" error for bulk IPv6 subnet
create.

Closes-Bug: #1822582
Change-Id: Ia32ec4c11c0793e7df07dcce19c122b3c7f865e1
(cherry picked from commit 14c76d31814b8e696349a1c00ba65ef2919b48af)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/654958/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py']",4,e8877bd34678518fbc33c6a0a6208d4407eedc54,bug/1822582-stable/stein-stable/rocky-stable/queens," # db base plugin post commit ops self._create_subnet_postcommit(context, result) "," # TODO(kevinbenton): move this to '_after_subnet_create' # db base plugin post commit ops self._create_subnet_postcommit(context, result, net_db, ipam_sub) ",53,6
openstack%2Fnova~master~Ic492766691741e3a8e4938ad90307cb2fe484cc5,openstack/nova,master,Ic492766691741e3a8e4938ad90307cb2fe484cc5,Add get_compute_nodes_by_host_or_node(),MERGED,2019-04-08 12:48:32.000000000,2019-05-01 21:32:15.000000000,2019-05-01 21:32:15.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 28706}]","[{'number': 1, 'created': '2019-04-08 12:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/209a02bd515838028c718e77f861f745c203b6a2', 'message': 'WIP: Add get_compute_nodes_by_host_or_node()\n\nThis patch adds a function to get ComputeNode objects\nfrom DB by given host name or by given node name.\n\nTODO: unit test in test_host_manager.py\n\nChange-Id: Ic492766691741e3a8e4938ad90307cb2fe484cc5\n'}, {'number': 2, 'created': '2019-04-09 05:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f06b12623d446da0c398e681b3ee1fb68791d31', 'message': 'Add get_compute_nodes_by_host_or_node()\n\nThis patch adds a function, get_compute_nodes_by_host_or_node() to\nthe host manager to get ComputeNode objects by the given host name\nand/or by the given node name.\n\nChange-Id: Ic492766691741e3a8e4938ad90307cb2fe484cc5\nBlueprint: use-placement-in-tree\n'}, {'number': 3, 'created': '2019-04-11 12:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4543eaf2e55bfb3abd981aa9d743f39cd2559ce', 'message': 'Add get_compute_nodes_by_host_or_node()\n\nThis patch adds a function, get_compute_nodes_by_host_or_node() to\nthe host manager to get ComputeNode objects by the given host name\nand/or by the given node name.\n\nChange-Id: Ic492766691741e3a8e4938ad90307cb2fe484cc5\nBlueprint: use-placement-in-tree\n'}, {'number': 4, 'created': '2019-04-12 02:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70f6018b1ba82359745d2a2bd1fdd7b828c5d3f7', 'message': 'Add get_compute_nodes_by_host_or_node()\n\nThis patch adds a function, get_compute_nodes_by_host_or_node() to\nthe host manager to get ComputeNode objects by the given host name\nand/or by the given node name.\n\nChange-Id: Ic492766691741e3a8e4938ad90307cb2fe484cc5\nBlueprint: use-placement-in-tree\n'}, {'number': 5, 'created': '2019-04-12 08:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dd33cf13a10bd51a58a7f0590c296bb9b4b424d', 'message': 'Add get_compute_nodes_by_host_or_node()\n\nThis patch adds a function, get_compute_nodes_by_host_or_node() to\nthe host manager to get ComputeNode objects by the given host name\nand/or by the given node name.\n\nChange-Id: Ic492766691741e3a8e4938ad90307cb2fe484cc5\nBlueprint: use-placement-in-tree\n'}, {'number': 6, 'created': '2019-04-12 14:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acd64d1d805ad36004bc4c23d74ed7490bd43857', 'message': 'Add get_compute_nodes_by_host_or_node()\n\nThis patch adds a function, get_compute_nodes_by_host_or_node() to\nthe host manager to get ComputeNode objects by the given host name\nand/or by the given node name.\n\nChange-Id: Ic492766691741e3a8e4938ad90307cb2fe484cc5\nBlueprint: use-placement-in-tree\n'}, {'number': 7, 'created': '2019-04-17 09:09:08.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/db/api.py', 'nova/scheduler/host_manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/57465aae77a7af605bbf1ffa29f9dc4b97783922', 'message': 'Add get_compute_nodes_by_host_or_node()\n\nThis patch adds a function, get_compute_nodes_by_host_or_node() to\nthe host manager to get ComputeNode objects by the given host name\nand/or by the given node name.\n\nChange-Id: Ic492766691741e3a8e4938ad90307cb2fe484cc5\nBlueprint: use-placement-in-tree\n'}]",35,650877,57465aae77a7af605bbf1ffa29f9dc4b97783922,72,17,7,25625,,,0,"Add get_compute_nodes_by_host_or_node()

This patch adds a function, get_compute_nodes_by_host_or_node() to
the host manager to get ComputeNode objects by the given host name
and/or by the given node name.

Change-Id: Ic492766691741e3a8e4938ad90307cb2fe484cc5
Blueprint: use-placement-in-tree
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/650877/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/objects/compute_node.py', 'nova/db/api.py', 'nova/scheduler/host_manager.py', 'nova/db/sqlalchemy/api.py']",5,209a02bd515838028c718e77f861f745c203b6a2,bug/1777591,"@pick_context_manager_reader def compute_node_get_by_nodename(context, nodename): results = _compute_node_fetchall(context, {""hypervisor_hostname"": nodename}) if not results: raise exception.ComputeHostNotFound(host=nodename) return results[0] ",,84,2
openstack%2Fpython-magnumclient~master~I0f1ae84cf2238ebbf8fc30237d88c7db1eeba6dd,openstack/python-magnumclient,master,I0f1ae84cf2238ebbf8fc30237d88c7db1eeba6dd,Display project_id for cluster show,MERGED,2019-04-30 22:08:47.000000000,2019-05-01 21:07:41.000000000,2019-05-01 21:07:41.000000000,"[{'_account_id': 6484}, {'_account_id': 9995}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 22:08:47.000000000', 'files': ['magnumclient/osc/v1/clusters.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/d91d4c72a10493e57a664e18e1f98268e43dd537', 'message': 'Display project_id for cluster show\n\nIt would be useful for cloud admin/ops to display the project_id\nin cluster show.\n\nTask: 30676\nStory: 2005537\n\nChange-Id: I0f1ae84cf2238ebbf8fc30237d88c7db1eeba6dd\n'}]",0,656601,d91d4c72a10493e57a664e18e1f98268e43dd537,8,4,1,6484,,,0,"Display project_id for cluster show

It would be useful for cloud admin/ops to display the project_id
in cluster show.

Task: 30676
Story: 2005537

Change-Id: I0f1ae84cf2238ebbf8fc30237d88c7db1eeba6dd
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/01/656601/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/osc/v1/clusters.py'],1,d91d4c72a10493e57a664e18e1f98268e43dd537,story/2005537, 'project_id',,1,0
openstack%2Fmagnum~master~I58de11278e0cd203312c910057285800f82eb5d7,openstack/magnum,master,I58de11278e0cd203312c910057285800f82eb5d7,Move openstackdocstheme to extensions in api-ref,MERGED,2018-03-27 02:41:51.000000000,2019-05-01 21:03:47.000000000,2019-05-01 21:03:46.000000000,"[{'_account_id': 6484}, {'_account_id': 6547}, {'_account_id': 11536}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 27372}, {'_account_id': 27383}, {'_account_id': 27385}, {'_account_id': 28411}]","[{'number': 1, 'created': '2018-03-27 02:41:51.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e94f1a22e6eca054e7592135a859f1dad8946789', 'message': 'Move openstackdocstheme to extensions in api-ref\n\nMove openstackdocstheme to extensions. According to the guide below:\nhttps://docs.openstack.org/openstackdocstheme/latest/\n\nChange-Id: I58de11278e0cd203312c910057285800f82eb5d7\n'}]",0,556736,e94f1a22e6eca054e7592135a859f1dad8946789,13,10,1,26775,,,0,"Move openstackdocstheme to extensions in api-ref

Move openstackdocstheme to extensions. According to the guide below:
https://docs.openstack.org/openstackdocstheme/latest/

Change-Id: I58de11278e0cd203312c910057285800f82eb5d7
",git fetch https://review.opendev.org/openstack/magnum refs/changes/36/556736/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,e94f1a22e6eca054e7592135a859f1dad8946789,," 'openstackdocstheme',# openstackdocstheme options repository_name = 'openstack/magnum' bug_project = 'magnum' bug_tag = 'api-ref'","import openstackdocstheme # noqa html_theme_path = [openstackdocstheme.get_html_theme_path()]# Config logABug feature # source tree giturl = ( u'https://git.openstack.org/cgit/openstack/magnum/tree/api-ref/source') # html_context allows us to pass arbitrary values into the html template html_context = {'bug_tag': 'api-ref', 'giturl': giturl, 'bug_project': 'magnum'}",5,11
openstack%2Fos-service-types~master~I315e21be4597d9bf3fce61c877f01307e4ced3cb,openstack/os-service-types,master,I315e21be4597d9bf3fce61c877f01307e4ced3cb,Updated from OpenStack Service Type Authority,MERGED,2019-05-01 20:01:21.000000000,2019-05-01 20:22:14.000000000,2019-05-01 20:22:14.000000000,"[{'_account_id': 6547}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 20:01:21.000000000', 'files': ['os_service_types/data/service-types.json'], 'web_link': 'https://opendev.org/openstack/os-service-types/commit/0b2f4733eb1bbbd8880e7fa15a769a9bbf7338b4', 'message': 'Updated from OpenStack Service Type Authority\n\nChange-Id: I315e21be4597d9bf3fce61c877f01307e4ced3cb\n'}]",0,656702,0b2f4733eb1bbbd8880e7fa15a769a9bbf7338b4,8,4,1,11131,,,0,"Updated from OpenStack Service Type Authority

Change-Id: I315e21be4597d9bf3fce61c877f01307e4ced3cb
",git fetch https://review.opendev.org/openstack/os-service-types refs/changes/02/656702/1 && git format-patch -1 --stdout FETCH_HEAD,['os_service_types/data/service-types.json'],1,0b2f4733eb1bbbd8880e7fa15a769a9bbf7338b4,openstack/os-service-types/sync-service-types-authority," ""api_reference"": ""https://docs.openstack.org/barbican/latest/api/"", ""api_reference"": ""https://docs.openstack.org/cloudkitty/latest/api-reference/index.html"", ""api_reference"": ""https://docs.openstack.org/congress/latest/user/api.html"", ""api_reference"": ""https://docs.openstack.org/ironic-inspector/latest/user/http-api.html"", ""api_reference"": ""https://docs.openstack.org/mistral/latest/api/index.html"", ""api_reference"": ""https://docs.openstack.org/solum/latest/admin/webapi/index.html"", ""api_reference"": ""https://docs.openstack.org/tricircle/latest/admin/api_v1.html"", ""api_reference"": ""https://docs.openstack.org/vitrage/latest/contributor/vitrage-api.html"", ""api_reference"": ""https://developer.openstack.org/api-ref/resource-optimization/"", ""api_reference"": ""https://docs.openstack.org/ironic-inspector/latest/user/http-api.html"", ""api_reference"": ""https://docs.openstack.org/barbican/latest/api/"", ""api_reference"": ""https://developer.openstack.org/api-ref/resource-optimization/"", ""api_reference"": ""https://docs.openstack.org/mistral/latest/api/index.html"", ""api_reference"": ""https://docs.openstack.org/cloudkitty/latest/api-reference/index.html"", ""api_reference"": ""https://docs.openstack.org/congress/latest/user/api.html"", ""api_reference"": ""https://docs.openstack.org/solum/latest/admin/webapi/index.html"", ""api_reference"": ""https://docs.openstack.org/tricircle/latest/admin/api_v1.html"", ""api_reference"": ""https://docs.openstack.org/vitrage/latest/contributor/vitrage-api.html"", ""sha"": ""4a8e2d261fb5a4283d7d0eae9c39ead15dfd799c"", ""version"": ""2019-05-01T19:53:21.498745"""," ""api_reference"": ""https://developer.openstack.org/api-ref/key-manager/"", ""api_reference"": ""https://docs.openstack.org/developer/cloudkitty/webapi/root.html"", ""api_reference"": ""https://docs.openstack.org/developer/congress/api.html"", ""api_reference"": ""https://docs.openstack.org/developer/ironic-inspector/http-api.html"", ""api_reference"": ""https://docs.openstack.org/developer/mistral/developer/webapi/index.html"", ""api_reference"": ""https://docs.openstack.org/developer/solum/develop_applications/webapi/index.html"", ""api_reference"": ""https://docs.openstack.org/developer/tricircle/api_v1.html"", ""api_reference"": ""https://docs.openstack.org/developer/vitrage/vitrage-api.html"", ""api_reference"": ""https://docs.openstack.org/developer/watcher/webapi/v1.html"", ""api_reference"": ""https://docs.openstack.org/developer/ironic-inspector/http-api.html"", ""api_reference"": ""https://developer.openstack.org/api-ref/key-manager/"", ""api_reference"": ""https://docs.openstack.org/developer/watcher/webapi/v1.html"", ""api_reference"": ""https://docs.openstack.org/developer/mistral/developer/webapi/index.html"", ""api_reference"": ""https://docs.openstack.org/developer/cloudkitty/webapi/root.html"", ""api_reference"": ""https://docs.openstack.org/developer/congress/api.html"", ""api_reference"": ""https://docs.openstack.org/developer/solum/develop_applications/webapi/index.html"", ""api_reference"": ""https://docs.openstack.org/developer/tricircle/api_v1.html"", ""api_reference"": ""https://docs.openstack.org/developer/vitrage/vitrage-api.html"", ""sha"": ""069103688825f5e658afcdb30affd71f7b992cc6"", ""version"": ""2019-03-01T04:29:31.883253""",20,20
openstack%2Ftripleo-heat-templates~stable%2Fstein~I480fea6dba972021a2cae7b14543efc926a9baf1,openstack/tripleo-heat-templates,stable/stein,I480fea6dba972021a2cae7b14543efc926a9baf1,Update UPPER_CONSTRAINTS_FILE for stable/stein,MERGED,2019-04-18 14:59:23.000000000,2019-05-01 19:50:54.000000000,2019-05-01 19:50:53.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-18 14:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca09355d8fd5da233fcf2bbeeede38236d08baf2', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I480fea6dba972021a2cae7b14543efc926a9baf1\n'}, {'number': 2, 'created': '2019-04-23 13:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbcd213a220c40565e7c89aaf40a9167da609a4b', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I480fea6dba972021a2cae7b14543efc926a9baf1\n'}, {'number': 3, 'created': '2019-05-01 14:51:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6c0e71d725cb688eb1a5aba40897ab0e3255149', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I480fea6dba972021a2cae7b14543efc926a9baf1\n'}]",0,653770,e6c0e71d725cb688eb1a5aba40897ab0e3255149,13,2,3,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I480fea6dba972021a2cae7b14543efc926a9baf1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/653770/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ca09355d8fd5da233fcf2bbeeede38236d08baf2,create-stein, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I8d44b3e36288839e70ddbf2e00dc39f6ff991d32,openstack/tripleo-heat-templates,stable/stein,I8d44b3e36288839e70ddbf2e00dc39f6ff991d32,Update .gitreview for stable/stein,MERGED,2019-04-18 14:59:20.000000000,2019-05-01 19:50:52.000000000,2019-05-01 19:50:52.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-18 14:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de1e511679a396cadf255da938fb33a7d631b752', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: I8d44b3e36288839e70ddbf2e00dc39f6ff991d32\n'}, {'number': 2, 'created': '2019-04-23 13:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/efc62f9b065c1478f7df042332ebc50831be34b6', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: I8d44b3e36288839e70ddbf2e00dc39f6ff991d32\n'}, {'number': 3, 'created': '2019-05-01 14:51:47.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d43cffd336785419d6a11eeeb70c44143e45f47', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: I8d44b3e36288839e70ddbf2e00dc39f6ff991d32\n'}]",0,653769,4d43cffd336785419d6a11eeeb70c44143e45f47,16,3,3,22816,,,0,"Update .gitreview for stable/stein

Change-Id: I8d44b3e36288839e70ddbf2e00dc39f6ff991d32
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/653769/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,de1e511679a396cadf255da938fb33a7d631b752,create-stein,defaultbranch=stable/stein,,1,0
openstack%2Fmagnum~stable%2Fstein~Ib93a7c0f761d047da3408703a5cf4208821acb33,openstack/magnum,stable/stein,Ib93a7c0f761d047da3408703a5cf4208821acb33,Fix registry on k8s_fedora_atomic,MERGED,2019-04-17 10:32:08.000000000,2019-05-01 19:46:06.000000000,2019-05-01 19:46:06.000000000,"[{'_account_id': 2463}, {'_account_id': 6484}, {'_account_id': 6834}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-17 10:32:08.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9b53aac3774420122fb85ad0977224caf8182c07', 'message': 'Fix registry on k8s_fedora_atomic\n\nThis fixes an issue with --registry-enabled in k8s_fedora_atomic where\nthe registry container fails to start in the minion due to two missing\nheat parameters: TRUSTEE_USERNAME and TRUSTEE_DOMAIN_ID.\n\nChange-Id: Ib93a7c0f761d047da3408703a5cf4208821acb33\nTask: 23067\nStory: 2003033\n(cherry picked from commit 00522c5ba20bdd8939e3ff1d8daca48c2507dde7)\n'}]",0,653379,9b53aac3774420122fb85ad0977224caf8182c07,13,6,1,6484,,,0,"Fix registry on k8s_fedora_atomic

This fixes an issue with --registry-enabled in k8s_fedora_atomic where
the registry container fails to start in the minion due to two missing
heat parameters: TRUSTEE_USERNAME and TRUSTEE_DOMAIN_ID.

Change-Id: Ib93a7c0f761d047da3408703a5cf4208821acb33
Task: 23067
Story: 2003033
(cherry picked from commit 00522c5ba20bdd8939e3ff1d8daca48c2507dde7)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/79/653379/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml']",2,9b53aac3774420122fb85ad0977224caf8182c07,fix-registry-on-k8s-fedora-stable/stein, $TRUSTEE_USERNAME: {get_param: trustee_username} $TRUSTEE_DOMAIN_ID: {get_param: trustee_domain_id},,4,0
openstack%2Fopenstack-specs~master~I9fba938f4009d984a3a9c186de823315fd6de5df,openstack/openstack-specs,master,I9fba938f4009d984a3a9c186de823315fd6de5df,Add image signature verification specification,ABANDONED,2016-05-10 18:45:54.000000000,2019-05-01 19:39:01.000000000,,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 6159}, {'_account_id': 6783}, {'_account_id': 6802}, {'_account_id': 6804}, {'_account_id': 6873}, {'_account_id': 7012}, {'_account_id': 7764}, {'_account_id': 8623}, {'_account_id': 15524}, {'_account_id': 23272}]","[{'number': 1, 'created': '2016-05-10 18:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/3b6b32faaaef0802b5bc0354b4beac76fa0bc0b6', 'message': 'Add image signature verification specification\n\nThis specification describes an ongoing effort to ensure the integrity\nof VM images via cryptographic operations.\n\nSecurityImpact\n\nChange-Id: I9fba938f4009d984a3a9c186de823315fd6de5df\n'}, {'number': 2, 'created': '2016-05-10 18:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/07f466cfc31a8a1c7e469c5266bfecd1d849c097', 'message': 'Add image signature verification specification\n\nThis specification describes an ongoing effort to ensure the integrity\nof VM images via cryptographic operations.\n\nSecurityImpact\n\nCo-Authored-By: Dane Fichter <dane.fichter@jhuapl.edu>\n\nChange-Id: I9fba938f4009d984a3a9c186de823315fd6de5df\n'}, {'number': 3, 'created': '2016-05-17 11:55:58.000000000', 'files': ['specs/image-verification.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/80095c90bc4fb90fd18c64a45833e37ff1014ca2', 'message': 'Add image signature verification specification\n\nThis specification describes an ongoing effort to ensure the integrity\nof VM images via cryptographic operations.\n\nSecurityImpact\n\nCo-Authored-By: Dane Fichter <dane.fichter@jhuapl.edu>\n\nChange-Id: I9fba938f4009d984a3a9c186de823315fd6de5df\n'}]",11,314718,80095c90bc4fb90fd18c64a45833e37ff1014ca2,19,12,3,6802,,,0,"Add image signature verification specification

This specification describes an ongoing effort to ensure the integrity
of VM images via cryptographic operations.

SecurityImpact

Co-Authored-By: Dane Fichter <dane.fichter@jhuapl.edu>

Change-Id: I9fba938f4009d984a3a9c186de823315fd6de5df
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/18/314718/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/image-verification.rst'],1,3b6b32faaaef0802b5bc0354b4beac76fa0bc0b6,dev/image-verification,"=================================== Glance Image Signature Verification =================================== Blueprints for the constituent services: https://blueprints.launchpad.net/glance/+spec/image-signing-and-verification-support https://blueprints.launchpad.net/nova/+spec/nova-support-image-signing In order to protect the integrity of virtual machine (VM) images in the cloud, we propose functionality that allows both end users and providers to digitally sign their VM images and allow the services that handle these images to verify the signatures associated with them. This specification summarizes the security benefits of this capability and ongoing implementation steps to support it. Problem description =================== VM images are high-value targets to an adversary in a cloud environment because an adversary gains a persistent foothold and access to all projects that use the compromised image. In effect, a single compromised VM image becomes a common source of malware infection across a cloud. Such a scenario undermines trust in the cloud and the cloud provider. We want to provide an automated capability whereby unauthorized changes to a VM image are detected by the cloud provider and the end user may verify the authenticity of the image via secure cryptographic operations. As of the Kilo release, OpenStack's protection against the unauthorized modification of images was limited to verifying an MD5 checksum. While protecting against accidental modifications, MD5 is a hash function, not an authentication primitive, and thus provides no protection against deliberate, malicious modification of images. Such modifications could occur in transit, such as when the image is uploaded to Glance or transferred to Nova, or at rest, either when the image is stored in Glance or cached by a compute host. Moreover, any hash of the image (regardless of the hash algorithm) could be replaced by an adversary, which severely limits the ability to detect unauthorized modifications to the image. Signature verification allows Nova to verify the signature before booting and to alert the end user of modifications. Image signature verification secures OpenStack against the following attack scenarios: Man-in-the-Middle Attack An adversary with network access alters image data in transit, either between the end user and Glance or Glance and Nova. The adversary may also alter the image metadata in order to circumvent the existing integrity checks. Untrusted or Compromised Glance In a hybrid cloud deployment, Glance may be hosted outside of an organization's logical security perimeter. Adversaries may be able to compromise Glance or modify the images stored by Glance. Compromised Image Cache An attacker who gains access to the image cache on a compute host replaces a cached disk image with a disk image containing malware. In all these scenarios, we want to limit the amount of trust in the cloud environment, or perhaps our design is best expressed by the aphorism ""trust, but verify."" We want the end user to be able to verify that the cloud provider is booting the desired VM image and allow the cloud provider to verify that each service is operating as designed. As evidenced by these attack scenarios, our threat model assumes that the compute infrastructure is trusted. We assume that the user implicitly trusts the cloud provider or has a separate mechanism to validate the integrity of the compute host (e.g., Trusted Pools [Intel14]_). Consequently, this specification considers threats to the integrity of images while they are in transit between the end user, Glance, and Nova and while they are at rest in Glance and Nova. This threat model does not include, and this feature therefore does not address, threats to the confidentiality, integrity, or availability of the software running on the compute host, including the hypervisor. Proposed change =============== Our goal with respect to the end user is to allow an end user with minimal familiarity with digital signatures or the cloud's key manager API to sign their image. Our goal with respect to the deployer is to allow easy configuration for signature verification and to maintain compatibility with unsigned images. We want to allow deployments to support a mixture of signed and unsigned images, allow the end user to specify that image signature verification should occur prior to spawning a VM from an image, and simplify the process of uploading the certificate to the key manager. In the Liberty and Mitaka cycles, we added signature verification functionality to both Glance and Nova. This functionality gives Nova and Glance the ability to verify that the signature metadata associated with a disk image encodes a correct signature for the disk image. In order to improve both the usability and security benefit of this feature, we will pursue the following changes as part of upcoming development cycles. (Please note that these changes will be described in detail as part of project-specific specifications; the following list is an overview of the work to come.) Oslo library The signature_utils module is part of both Glance and Nova. As such, it has been recommend for extraction into an Oslo library [Bug1528349]_. Using a common library facilitates feature parity between Glance and Nova while lessening the maintenance burden on both communities. One difficulty is that the original signature verification capability implemented in Glance (during the Liberty development cycle) differed from that required by Nova (during the Mitaka development cycle) [Poulo15]_. The original code has been deprecated in Glance [Commit09a0ace]_ and must be removed following OpenStack's deprecation and removal process [Deprecation]_ prior to moving to a shared library. Certificate Validation The existing image signature verification functionality is a necessary first step toward our objective but is not sufficient to prevent the attacks listed in the previous section. An adversary can circumvent the existing implementation by creating their own certificate and using it to generate a signature for a modified image. The cloud must verify that the signing certificate is rooted by a certificate authority that the cloud trusts. We will add functionality to the signature_utils module that allows Glance and Nova to validate the signing certificate against a trust store of self-signed root certificates. We will also provide a means by which administrators can configure this trust store. These capabilities mitigate attacks where an image's original signature is replaced with a different signature signed by an adversary. Associated with the issue of certificate validation is certificate revocation. Certificate revocation is necessary in cases where the private key associated with the signature may have been compromised or other attributes of the certificate are no longer deemed secure (e.g., a deprecated signature hash algorithm). The choice of which certificate revocation protocol(s) to support is an open issue: certificate revocation lists (CRLs) and online certificate status protocol (OCSP) are existing options. OSCP stapling is not viable in this context because the certificate is stored indefinitely by the key manager. A second issue is how to integrate these protocols with the services that use signature verification and how to handle failures. For example, should an OpenStack service be responsible for periodic or on-demand fetching of CRLs and what is the correct response if an up-to-date CRL is not available? These issues will be discussed as part of future specifications related to certificate validation. Trusted Flavors We will create the concept of a ""trusted"" flavor in Nova. When a user requests that Nova boots an instance of this trusted flavor, Nova will perform image signature verification prior to boot. In future releases, these trusted flavors could be a straightforward way for the user to request that their instance use several security features such as Trusted Pools [Intel14]_, image signature verification, and ephemeral storage encryption without specifying each separately. Image Cache Signature Verification We will amend the existing image cache integrity checks to incorporate image signature verification. In addition to periodically verifying a hash of cached disk images, Nova will retrieve the signature metadata from Glance and verify that the signature is valid for the cached image. End User Visibility into Signature Verification We will modify the Nova and Glance APIs to return more descriptive information when the service performs signature verification. In particular, we will display the distinguished name of the signing certificate, the distinguished name of the root certificate used to validate the signing certificate, the signature bytes, and a hash of the image. Such enhancements are necessary to give end users visibility into the signature verification process and mitigate attacks where an adversary replaces the signature associated with an image. Horizon Integration We will integrate this feature with the Horizon dashboard so that the end user can easily upload their signing certificate to the key manager via Castellan. We will also add indicators as to the success or failure of signature verification and display information about the signature and signing certificate. Alternatives ------------ Not pursuing the proposed changes provides little protection against unauthorized changes to VM images. Although the existing MD5 ""checksum"" protects against accidental modification, it is not a significant barrier to an adversary, as MD5 itself is no longer considered collision-resistant. Hence, an adversary could replace an existing image with a different image that has the same MD5 hash. More importantly, any hash algorithm without cryptographic authentication is vulnerable to an adversary that modifies both the data and the hash digest. End users have no way to verify that the requested VM image is actually booted by the cloud provider. Certificate validation is not strictly necessary if all users in the cloud are trusted. Although this scenario is perhaps conceivable for private clouds, it is certainly not practical for public clouds where image integrity verification has the greatest impact. Without certificate validation, any user, including a malicious user, can upload a certificate and use this certificate to sign a malicious or corrupted image. Validating the certificate against a trust store partially mitigates this attack because adversaries must have their certificate signed instead of generating the certificate themselves. Logging the certificate information and providing this information to the end user (through the proposed API changes) further deters the attack because the certificate immediately reveals the attacker's identity. The existing image signature verification in Nova is controlled by a configuration flag: either all images are verified or none are verified. This coarse-grained approach is not practical for cloud environments where some images do not have signatures. In addition, the end user has no visibility into this configuration setting, which may cause confusion if Nova will only boot signed images but the user uploads an unsigned image. Two alternatives to remedy this situation are 1) ""trusted"" flavors where the end user implicitly requests signature verification and 2) modifying Nova's API to accept an additional parameter to request signature verification. The latter approach seems more extensive and adding a new flavor spec has potential future benefit through the integration of other security features (e.g., Trusted Pools [Intel14]_ and ephemeral storage encryption). The alternative to image cache signature verification is to continue using the image cache's existing integrity checks. The existing integrity check stores the hash value and the disk image in the same filesystem by default, so an adversary with access to the image cache could likely circumvent the existing integrity checks by replacing both the image file and its associated hash. Although proper permissions might mitigate this attack, the image cache may be stored on a remote file system, in which case it is part of our threat model. Image cache signature verification mitigates this risk and imposes little additional overhead. Without increased visibility into the image signature verification process, the end user has little indication that signature verification was performed by a service, or what the values of important parameters involved in the signature verification process were. If an attacker has access to Glance, they could circumvent image signature verification by swapping a requested signed image with another signed image. In general, increased visibility means that the end user will have a more transparent view into the signature verification process and therefore will be more likely to feel comfortable using the feature. Dashboard integration simplifies the use of this feature, making it more likely to be used and thus improving the security of users in OpenStack. If the certificate upload process is not integrated with the dashboard, the end user must upload their certificate to the cloud's key manager either using a Python script which interfaces with Castellan or through the key manager's API. Neither provides a satisfying or consistent experience for end users across cloud providers. Implementation ============== Assignee(s) ----------- Primary assignee(s): Dane Fichter, Brianna Poulos Work Items ---------- * Certificate Validation * Trusted Flavors * Image Cache Signature Verification * End User Visibility into Signature Verification * Horizon Integration Dependencies ============ The pyca/cryptography library, which is already a requirement in both Nova and Glance, will be used for signature creation, signature verification, and certificate validation. In order to simplify the interaction with the key manager and allow multiple key manager backends, this feature will use the Castellan library. Since Castellan currently only supports integration with Barbican, using Castellan in this feature indirectly requires Barbican. In the future, as Castellan supports a wider variety of key managers, our feature will require minimal upkeep to support these key managers; we will simply update each project's requirements to use the latest Castellan version. References ========== .. [Bug1528349] ""Nova and Glance contain a near-identical signature_utils module,"" Launchpad, 21 December 2015. Online: https://goo.gl/gdIT9C .. [Intel14] Trusted Compute Pools with Intel Trusted Execution Technology. Online: http://goo.gl/hc3Ffl .. [Poulo15] Brianna Poulos, ""[glance] [nova] Image Signature Verification,"" OpenStack Development Mailing List, 12 November 2015. Online: http://goo.gl/FNDTlv .. [Commit09a0ace] ""Add sign-the-hash deprecation warning,"" OpenStack commit, 16 December 2015. Online: https://goo.gl/hI13fx .. [Deprecation] ""assert:follows-standard-deprecation,"" OpenStack documentation. Online: https://goo.gl/XQB0dk History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Newton - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,311,0
openstack%2Fservice-types-authority~master~Ifa61ffc163e22066b091e2c1874215279ae99d11,openstack/service-types-authority,master,Ifa61ffc163e22066b091e2c1874215279ae99d11,Fix api-references,MERGED,2019-05-01 17:12:06.000000000,2019-05-01 19:38:59.000000000,2019-05-01 19:38:59.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 17:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/service-types-authority/commit/9f081a6b974ba2dcf5f7d680cf42c6e9bf4d61d9', 'message': 'Fix api-references\n\nWatcher now has an API on developer.o.o, we can use the default.\n\nUpdate broken links with current version.\n\nChange-Id: Ifa61ffc163e22066b091e2c1874215279ae99d11\n'}, {'number': 2, 'created': '2019-05-01 18:11:19.000000000', 'files': ['service-types.yaml'], 'web_link': 'https://opendev.org/openstack/service-types-authority/commit/9d2474de427f7c2da68eb12b391112044adc6d9f', 'message': 'Fix api-references\n\nWatcher now has an API on developer.o.o, we can use the default.\n\nUpdate broken links with current version.\n\nChange-Id: Ifa61ffc163e22066b091e2c1874215279ae99d11\n'}]",0,656679,9d2474de427f7c2da68eb12b391112044adc6d9f,12,3,2,6547,,,0,"Fix api-references

Watcher now has an API on developer.o.o, we can use the default.

Update broken links with current version.

Change-Id: Ifa61ffc163e22066b091e2c1874215279ae99d11
",git fetch https://review.opendev.org/openstack/service-types-authority refs/changes/79/656679/1 && git format-patch -1 --stdout FETCH_HEAD,['service-types.yaml'],1,9f081a6b974ba2dcf5f7d680cf42c6e9bf4d61d9,barbican, api_reference: https://docs.openstack.org/ironic-inspector/latest/user/http-api.html api_reference: https://docs.openstack.org/mistral/latest/api/index.html api_reference: https://docs.openstack.org/cloudkitty/latest/api-reference/index.html api_reference: https://docs.openstack.org/congress/latest/user/api.html api_reference: https://docs.openstack.org/solum/latest/admin/webapi/index.html api_reference: https://docs.openstack.org/tricircle/latest/admin/api_v1.html api_reference: https://docs.openstack.org/vitrage/latest/contributor/vitrage-api.html, api_reference: https://docs.openstack.org/developer/ironic-inspector/http-api.html api_reference: https://docs.openstack.org/developer/watcher/webapi/v1.html api_reference: https://docs.openstack.org/developer/mistral/developer/webapi/index.html api_reference: https://docs.openstack.org/developer/cloudkitty/webapi/root.html api_reference: https://docs.openstack.org/developer/congress/api.html api_reference: https://docs.openstack.org/developer/solum/develop_applications/webapi/index.html api_reference: https://docs.openstack.org/developer/tricircle/api_v1.html api_reference: https://docs.openstack.org/developer/vitrage/vitrage-api.html,7,8
openstack%2Fservice-types-authority~master~Ib19f12e5603b7b5c787cafd77551eb3cf7fbc4cd,openstack/service-types-authority,master,Ib19f12e5603b7b5c787cafd77551eb3cf7fbc4cd,Switch to openstackdocstheme,MERGED,2019-05-01 18:03:19.000000000,2019-05-01 19:38:58.000000000,2019-05-01 19:38:58.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 18:03:19.000000000', 'files': ['requirements.txt', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/service-types-authority/commit/7d8a34237f38b9ac33d610cf68421a44663984c8', 'message': 'Switch to openstackdocstheme\n\nRemove oslosphinx, it is deprecated and does not work with Sphinx 2.0.\nInstead use openstackdocstheme.\n\nUse newer sphinx-build in tox docs environment following PTI.\n\nChange-Id: Ib19f12e5603b7b5c787cafd77551eb3cf7fbc4cd\n'}]",2,656683,7d8a34237f38b9ac33d610cf68421a44663984c8,10,6,1,6547,,,0,"Switch to openstackdocstheme

Remove oslosphinx, it is deprecated and does not work with Sphinx 2.0.
Instead use openstackdocstheme.

Use newer sphinx-build in tox docs environment following PTI.

Change-Id: Ib19f12e5603b7b5c787cafd77551eb3cf7fbc4cd
",git fetch https://review.opendev.org/openstack/service-types-authority refs/changes/83/656683/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/conf.py', 'tox.ini']",3,7d8a34237f38b9ac33d610cf68421a44663984c8,docstheme,commands = sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html,commands = python setup.py build_sphinx,9,4
openstack%2Fservice-types-authority~master~I4d7058339b2c06b31fd0834eda60143d6d50d5a1,openstack/service-types-authority,master,I4d7058339b2c06b31fd0834eda60143d6d50d5a1,Fix api-ref for barbican,MERGED,2019-05-01 17:12:06.000000000,2019-05-01 19:38:58.000000000,2019-05-01 19:38:58.000000000,"[{'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 17:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/service-types-authority/commit/8cbcd941dfbe6888705529b3c6011ff691b29bac', 'message': 'Fix api-ref for barbican\n\nBarbican has an in-doc api document, link to it.\n\nChange-Id: I4d7058339b2c06b31fd0834eda60143d6d50d5a1\n'}, {'number': 2, 'created': '2019-05-01 18:11:08.000000000', 'files': ['service-types.yaml'], 'web_link': 'https://opendev.org/openstack/service-types-authority/commit/72857514ad49eefc675bded095ae64f996247884', 'message': 'Fix api-ref for barbican\n\nBarbican has an in-doc api document, link to it.\n\nChange-Id: I4d7058339b2c06b31fd0834eda60143d6d50d5a1\n'}]",0,656678,72857514ad49eefc675bded095ae64f996247884,13,4,2,6547,,,0,"Fix api-ref for barbican

Barbican has an in-doc api document, link to it.

Change-Id: I4d7058339b2c06b31fd0834eda60143d6d50d5a1
",git fetch https://review.opendev.org/openstack/service-types-authority refs/changes/78/656678/2 && git format-patch -1 --stdout FETCH_HEAD,['service-types.yaml'],1,8cbcd941dfbe6888705529b3c6011ff691b29bac,bug/1827243, api_reference: https://docs.openstack.org/barbican/latest/api/,,1,0
openstack%2Fpython-openstackclient~master~I1bbdd33be96d82422a05982508e370237c3560f3,openstack/python-openstackclient,master,I1bbdd33be96d82422a05982508e370237c3560f3,Don't sent disk_over_commit if nova api > 2.24,MERGED,2018-07-12 18:37:41.000000000,2019-05-01 19:24:15.000000000,2018-07-25 19:31:35.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 26311}]","[{'number': 1, 'created': '2018-07-12 18:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a5ae1fee17cbe86c6e12b545681bc9d9a43d4ff6', 'message': ""Don't sent disk_over_commit if nova api > 2.24\n\nIn API microversion 2.25 Nova removed the disk_over_commit parameter\nto the live migration server action. This patch makes sure that we\ndon't include it in our request if we're running with 2.25 or higher.\n\nChange-Id: I1bbdd33be96d82422a05982508e370237c3560f3\nStory: #2002963\nTask: #22966\n""}, {'number': 2, 'created': '2018-07-16 20:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/58c2389e6e56701e18351c4e95427e0633aa89c3', 'message': ""Don't sent disk_over_commit if nova api > 2.24\n\nIn API microversion 2.25 Nova removed the disk_over_commit parameter\nto the live migration server action. This patch makes sure that we\ndon't include it in our request if we're running with 2.25 or higher.\n\nChange-Id: I1bbdd33be96d82422a05982508e370237c3560f3\nStory: #2002963\nTask: #22966\n""}, {'number': 3, 'created': '2018-07-24 05:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3283cebb1efa2e1d12c537011d8efb453280a455', 'message': ""Don't sent disk_over_commit if nova api > 2.24\n\nIn API microversion 2.25 Nova removed the disk_over_commit parameter\nto the live migration server action. This patch makes sure that we\ndon't include it in our request if we're running with 2.25 or higher.\n\nChange-Id: I1bbdd33be96d82422a05982508e370237c3560f3\nStory: #2002963\nTask: #22966\n""}, {'number': 4, 'created': '2018-07-24 15:09:50.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d6121782d3aa6a95b883220b27a154e641b61f7f', 'message': ""Don't sent disk_over_commit if nova api > 2.24\n\nIn API microversion 2.25 Nova removed the disk_over_commit parameter\nto the live migration server action. This patch makes sure that we\ndon't include it in our request if we're running with 2.25 or higher.\n\nStory: #2002963\nTask: #22966\nChange-Id: I1bbdd33be96d82422a05982508e370237c3560f3\n""}]",2,582334,d6121782d3aa6a95b883220b27a154e641b61f7f,25,5,4,8864,,,0,"Don't sent disk_over_commit if nova api > 2.24

In API microversion 2.25 Nova removed the disk_over_commit parameter
to the live migration server action. This patch makes sure that we
don't include it in our request if we're running with 2.25 or higher.

Story: #2002963
Task: #22966
Change-Id: I1bbdd33be96d82422a05982508e370237c3560f3
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/34/582334/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,a5ae1fee17cbe86c6e12b545681bc9d9a43d4ff6,582334,"from novaclient import api_versions kwargs = { 'host': parse_args.live, 'block_migration': parsed_args.block_migration } if compute_client.api_version < api_versions.APIVersion('2.25'): kwargs['disk_over_commit'] = parsed_args.disk_overcommit server.live_migrate(**kwargs)"," server.live_migrate( host=parsed_args.live, block_migration=parsed_args.block_migration, disk_over_commit=parsed_args.disk_overcommit, )",8,5
openstack%2Fnova~master~I92bd4c8f465b81a941885f9db4f708a34731de8b,openstack/nova,master,I92bd4c8f465b81a941885f9db4f708a34731de8b,Remove 'get_keypair_at_top',MERGED,2019-04-09 16:15:52.000000000,2019-05-01 18:38:41.000000000,2019-05-01 03:57:17.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-09 16:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb39296c331948c29ad9aa6422cb103095ce851c', 'message': ""Remove 'get_keypair_at_top'\n\nThis was being called within the 'InstanceMetadata' object. Remove it in\nits entirety, given that nothing should be calling it now.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I92bd4c8f465b81a941885f9db4f708a34731de8b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-04-16 08:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a819593307aa02866c54dc5d2eb0e736fc6b3602', 'message': ""Remove 'get_keypair_at_top'\n\nThis was being called within the 'InstanceMetadata' object. Remove it in\nits entirety, given that nothing should be calling it now.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I92bd4c8f465b81a941885f9db4f708a34731de8b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-04-16 14:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6fcd2f71631aa32b35c49c1a96ba4634a25872c', 'message': ""Remove 'get_keypair_at_top'\n\nThis was being called within the 'InstanceMetadata' object. Remove it in\nits entirety, given that nothing should be calling it now.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I92bd4c8f465b81a941885f9db4f708a34731de8b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-04-16 17:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa1a109b36602893023190d94c57a982ea6815c1', 'message': ""Remove 'get_keypair_at_top'\n\nThis was being called within the 'InstanceMetadata' object. Remove it in\nits entirety, given that nothing should be calling it now.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I92bd4c8f465b81a941885f9db4f708a34731de8b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-04-29 16:55:52.000000000', 'files': ['nova/tests/unit/test_metadata.py', 'nova/cells/manager.py', 'nova/tests/unit/cells/test_cells_rpcapi.py', 'nova/api/metadata/base.py', 'nova/tests/unit/cells/test_cells_manager.py', 'nova/cells/messaging.py', 'nova/tests/unit/cells/test_cells_messaging.py', 'nova/cells/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cace9b4713c418af974eb792127d35564e50e544', 'message': ""Remove 'get_keypair_at_top'\n\nThis was being called within the 'InstanceMetadata' object. Remove it in\nits entirety, given that nothing should be calling it now.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I92bd4c8f465b81a941885f9db4f708a34731de8b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,651300,cace9b4713c418af974eb792127d35564e50e544,72,17,5,15334,,,0,"Remove 'get_keypair_at_top'

This was being called within the 'InstanceMetadata' object. Remove it in
its entirety, given that nothing should be calling it now.

Part of blueprint remove-cells-v1

Change-Id: I92bd4c8f465b81a941885f9db4f708a34731de8b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/651300/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_metadata.py', 'nova/cells/manager.py', 'nova/tests/unit/cells/test_cells_rpcapi.py', 'nova/api/metadata/base.py', 'nova/tests/unit/cells/test_cells_manager.py', 'nova/cells/messaging.py', 'nova/tests/unit/cells/test_cells_messaging.py', 'nova/cells/rpcapi.py']",8,bb39296c331948c29ad9aa6422cb103095ce851c,bp/remove-cells-v1,," def get_keypair_at_top(self, ctxt, user_id, name): if not CONF.cells.enable: return cctxt = self.client.prepare(version='1.37') keypair = cctxt.call(ctxt, 'get_keypair_at_top', user_id=user_id, name=name) if keypair is None: raise exception.KeypairNotFound(user_id=user_id, name=name) return keypair",8,194
openstack%2Fos-service-types~master~I94f4c927e6d4d76385c55cd2a0db95c75ff94bf7,openstack/os-service-types,master,I94f4c927e6d4d76385c55cd2a0db95c75ff94bf7,Fix api_reference for key-manager,ABANDONED,2019-05-01 17:04:20.000000000,2019-05-01 18:23:14.000000000,,"[{'_account_id': 6547}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 17:04:20.000000000', 'files': ['os_service_types/data/service-types.json'], 'web_link': 'https://opendev.org/openstack/os-service-types/commit/360e737e9f13a3979515a6d94613d46ee5bba0ef', 'message': 'Fix api_reference for key-manager\n\nThe barbican API reference is in-tree so this fixes the reference.\n\nChange-Id: I94f4c927e6d4d76385c55cd2a0db95c75ff94bf7\nRelated-Bug: #1827243\n'}]",0,656676,360e737e9f13a3979515a6d94613d46ee5bba0ef,5,3,1,6873,,,0,"Fix api_reference for key-manager

The barbican API reference is in-tree so this fixes the reference.

Change-Id: I94f4c927e6d4d76385c55cd2a0db95c75ff94bf7
Related-Bug: #1827243
",git fetch https://review.opendev.org/openstack/os-service-types refs/changes/76/656676/1 && git format-patch -1 --stdout FETCH_HEAD,['os_service_types/data/service-types.json'],1,360e737e9f13a3979515a6d94613d46ee5bba0ef,bug/1827243," ""api_reference"": ""https://docs.openstack.org/barbican/latest/api/"","," ""api_reference"": ""https://developer.openstack.org/api-ref/key-manager/"",",1,1
openstack%2Fpuppet-neutron~master~I62aa82d1f1699aca7fb54e363d1be76e35f45727,openstack/puppet-neutron,master,I62aa82d1f1699aca7fb54e363d1be76e35f45727,Port puppet-neutron-tripleo-standalone job to os_tempest,MERGED,2019-04-30 09:13:43.000000000,2019-05-01 18:14:34.000000000,2019-05-01 18:14:34.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 8944}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 09:13:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/60d755cdafb75859db73cb35c87be572c51a0e65', 'message': 'Port puppet-neutron-tripleo-standalone job to os_tempest\n\nPreviously Tripleo validate-tempest role was used to run tempest\non tripleo jobs. Recently we are moving to os_tempest (an unified\nrole developed by openstack-ansible team).\n\nIt moves the vars to os_tempest.\nBelow is the other var changes:\nrun_tempest: false -> to disable validate-tempest role\nuse_os_tempest: true -> enable os_tempest\ntempest_whitelist -> tempest_test_whitelist\n\nChange-Id: I62aa82d1f1699aca7fb54e363d1be76e35f45727\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}]",0,656479,60d755cdafb75859db73cb35c87be572c51a0e65,8,9,1,12393,,,0,"Port puppet-neutron-tripleo-standalone job to os_tempest

Previously Tripleo validate-tempest role was used to run tempest
on tripleo jobs. Recently we are moving to os_tempest (an unified
role developed by openstack-ansible team).

It moves the vars to os_tempest.
Below is the other var changes:
run_tempest: false -> to disable validate-tempest role
use_os_tempest: true -> enable os_tempest
tempest_whitelist -> tempest_test_whitelist

Change-Id: I62aa82d1f1699aca7fb54e363d1be76e35f45727
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/79/656479/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,60d755cdafb75859db73cb35c87be572c51a0e65,ostempest, run_tempest: false tempest_test_whitelist: - 'network' use_os_tempest: true , run_tempest: true tempest_whitelist: - 'network',4,3
openstack%2Fservice-types-authority~master~Id24f0af40f1faa88ab804fb01f1b2ea4a79710d8,openstack/service-types-authority,master,Id24f0af40f1faa88ab804fb01f1b2ea4a79710d8,docs: Resolve issues with Sphinx 2.0,ABANDONED,2019-05-01 18:03:36.000000000,2019-05-01 18:09:15.000000000,,"[{'_account_id': 6547}, {'_account_id': 14070}, {'_account_id': 15334}]","[{'number': 1, 'created': '2019-05-01 18:03:36.000000000', 'files': ['requirements.txt', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/service-types-authority/commit/04c45b739a677d31506d84468f6bbaf41c2cf05b', 'message': ""docs: Resolve issues with Sphinx 2.0\n\nSwitch to openstackdocstheme which, unlike the EOL'd oslosphinx theme,\nsupports Sphinx 2.0.\n\nThe bulk of this was cribbed from https://review.opendev.org/#/c/648670/\n\nChange-Id: Id24f0af40f1faa88ab804fb01f1b2ea4a79710d8\n""}]",1,656684,04c45b739a677d31506d84468f6bbaf41c2cf05b,5,3,1,14070,,,0,"docs: Resolve issues with Sphinx 2.0

Switch to openstackdocstheme which, unlike the EOL'd oslosphinx theme,
supports Sphinx 2.0.

The bulk of this was cribbed from https://review.opendev.org/#/c/648670/

Change-Id: Id24f0af40f1faa88ab804fb01f1b2ea4a79710d8
",git fetch https://review.opendev.org/openstack/service-types-authority refs/changes/84/656684/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/conf.py']",2,04c45b739a677d31506d84468f6bbaf41c2cf05b,openstackdocstheme,extensions = ['openstackdocstheme']html_theme = 'openstackdocs'# -- openstackdocstheme configuration ----------------------------------------- repository_name = 'openstack/service-types-authority',"extensions = ['oslosphinx'] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst'# If true, the current module name will be prepended to all description # unit titles (such as .. function::). add_module_names = False # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. show_authors = False html_theme = 'nature'# Output file base name for HTML help builder. htmlhelp_basename = 'ServiceTypesAuthority' ",5,19
openstack%2Fnetworking-calico~master~I703cd2652523a6cf870cddda29cc90fde1a67a32,openstack/networking-calico,master,I703cd2652523a6cf870cddda29cc90fde1a67a32,Updates to get OpenStack CI passing again,MERGED,2019-04-11 18:19:43.000000000,2019-05-01 18:08:18.000000000,2019-05-01 18:08:18.000000000,"[{'_account_id': 13734}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-11 18:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/3b1cc5afd3b8fd8a419e73d6ca8099aa0aa998a3', 'message': ""Call 'openstack role' later, when identity service is running\n\nChange-Id: I703cd2652523a6cf870cddda29cc90fde1a67a32\n""}, {'number': 2, 'created': '2019-04-12 00:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/ae55baab8925ba31b00aeb047368ca8a2cb1e687', 'message': ""Call 'openstack role' later, when identity service is running\n\nChange-Id: I703cd2652523a6cf870cddda29cc90fde1a67a32\n""}, {'number': 3, 'created': '2019-04-12 23:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/0da4041f3225937bb6b0873f824c4759dfc92a23', 'message': 'Updates to get OpenStack CI passing again\n\nChange-Id: I703cd2652523a6cf870cddda29cc90fde1a67a32\n'}, {'number': 4, 'created': '2019-05-01 15:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/73ed72c50def56fc99fd6504ce9b50527dd16d8e', 'message': 'Updates to get OpenStack CI passing again\n\nChange-Id: I703cd2652523a6cf870cddda29cc90fde1a67a32\n'}, {'number': 5, 'created': '2019-05-01 16:23:41.000000000', 'files': ['networking_calico/agent/dhcp_agent.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/d9f2b62b2bb3d3c5e8c9be81dce39493c8a2e4e3', 'message': 'Updates to get OpenStack CI passing again\n\nChange-Id: I703cd2652523a6cf870cddda29cc90fde1a67a32\n'}]",0,651900,d9f2b62b2bb3d3c5e8c9be81dce39493c8a2e4e3,16,2,5,13734,,,0,"Updates to get OpenStack CI passing again

Change-Id: I703cd2652523a6cf870cddda29cc90fde1a67a32
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/00/651900/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,3b1cc5afd3b8fd8a419e73d6ca8099aa0aa998a3,, # Give Neutron the admin role so that it can look up # project name and parent_id fields in the Keystone DB. openstack role add admin --user neutron --project service --user-domain Default --project-domain Default , # Give Neutron the admin role so that it can look up # project name and parent_id fields in the Keystone DB. openstack role add admin --user neutron --project service --user-domain Default --project-domain Default,4,4
openstack%2Fpuppet-neutron~master~I9813fedbdeabdc0cda1e29ffe97214dec7795c94,openstack/puppet-neutron,master,I9813fedbdeabdc0cda1e29ffe97214dec7795c94,Deprecate idle_timeout option,MERGED,2019-04-28 07:01:43.000000000,2019-05-01 18:08:09.000000000,2019-05-01 18:08:09.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-28 07:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5603eb0eeae691c221f04acce5a7017bf0edf4d3', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: I9813fedbdeabdc0cda1e29ffe97214dec7795c94\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}, {'number': 2, 'created': '2019-04-29 00:53:05.000000000', 'files': ['spec/classes/neutron_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/deprecate_idle_timeout_parameter-8ea770612f1c9102.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7de1fd602f2d3390c6df58dc6278feffa39e32ff', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: I9813fedbdeabdc0cda1e29ffe97214dec7795c94\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}]",0,656143,7de1fd602f2d3390c6df58dc6278feffa39e32ff,12,4,2,9414,,,0,"Deprecate idle_timeout option

The idle_timeout parameter is deprecated, use connection_recycle_time
instead[1].

[1]https://review.opendev.org/#/c/334182/

Change-Id: I9813fedbdeabdc0cda1e29ffe97214dec7795c94
Depends-On: https://review.opendev.org/656106/
Closes-Bug: #1826692
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/43/656143/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/deprecate_idle_timeout_parameter-8ea770612f1c9102.yaml']",3,5603eb0eeae691c221f04acce5a7017bf0edf4d3,bug/1826692,--- deprecations: - database_idle_timeout is deprecated and will be removed in a future release. Please use database_connection_recycle_time instead. ,,64,47
openstack%2Fpuppet-nova~master~Ifd19684f2b0a272b28248f70afd78c5be8330f5a,openstack/puppet-nova,master,Ifd19684f2b0a272b28248f70afd78c5be8330f5a,Port puppet-nova-tripleo-standalone to os_tempest,MERGED,2019-04-30 09:19:54.000000000,2019-05-01 17:45:41.000000000,2019-05-01 17:45:41.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 8944}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 09:19:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d59b2ea30e15bb8e5c50afaed1e3cad834284808', 'message': 'Port puppet-nova-tripleo-standalone to os_tempest\n\nPreviously Tripleo validate-tempest role was used to run tempest\non tripleo jobs. Recently we are moving to os_tempest (an unified\nrole developed by openstack-ansible team).\n\nIt moves the vars to os_tempest.\nBelow is the other var changes:\nrun_tempest: false -> to disable validate-tempest role\nuse_os_tempest: true -> enable os_tempest\ntempest_whitelist -> tempest_test_whitelist\n\nChange-Id: Ifd19684f2b0a272b28248f70afd78c5be8330f5a\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}]",0,656480,d59b2ea30e15bb8e5c50afaed1e3cad834284808,8,9,1,12393,,,0,"Port puppet-nova-tripleo-standalone to os_tempest

Previously Tripleo validate-tempest role was used to run tempest
on tripleo jobs. Recently we are moving to os_tempest (an unified
role developed by openstack-ansible team).

It moves the vars to os_tempest.
Below is the other var changes:
run_tempest: false -> to disable validate-tempest role
use_os_tempest: true -> enable os_tempest
tempest_whitelist -> tempest_test_whitelist

Change-Id: Ifd19684f2b0a272b28248f70afd78c5be8330f5a
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/80/656480/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d59b2ea30e15bb8e5c50afaed1e3cad834284808,ostempest, run_tempest: false tempest_test_whitelist: use_os_tempest: true, run_tempest: true tempest_whitelist:,3,2
openstack%2Fpuppet-nova~master~Icdf42da63cc8bcb43c5320a1a1acf6a84682b706,openstack/puppet-nova,master,Icdf42da63cc8bcb43c5320a1a1acf6a84682b706,Deprecate idle_timeout option,MERGED,2019-04-28 07:01:16.000000000,2019-05-01 17:45:40.000000000,2019-05-01 17:45:40.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-28 07:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fba973d4ce913b40ee3d35e76195610d02d1ebf2', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: Icdf42da63cc8bcb43c5320a1a1acf6a84682b706\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}, {'number': 2, 'created': '2019-04-29 00:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9b1e05217eba751f9c8b15724de6fe743f9c3c75', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: Icdf42da63cc8bcb43c5320a1a1acf6a84682b706\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}, {'number': 3, 'created': '2019-04-29 04:02:52.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/db.pp', 'spec/classes/nova_scheduler_spec.rb', 'spec/classes/nova_db_spec.rb', 'releasenotes/notes/deprecate_idle_timeout_parameter-93d5ad93f8e43c2c.yaml', 'spec/classes/nova_metadata_spec.rb', 'spec/classes/nova_conductor_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4478fdc82ff872344c632ef7a15e553cc0ef25f5', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: Icdf42da63cc8bcb43c5320a1a1acf6a84682b706\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}]",0,656137,4478fdc82ff872344c632ef7a15e553cc0ef25f5,15,4,3,9414,,,0,"Deprecate idle_timeout option

The idle_timeout parameter is deprecated, use connection_recycle_time
instead[1].

[1]https://review.opendev.org/#/c/334182/

Change-Id: Icdf42da63cc8bcb43c5320a1a1acf6a84682b706
Depends-On: https://review.opendev.org/656106/
Closes-Bug: #1826692
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/37/656137/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'spec/classes/nova_db_spec.rb', 'releasenotes/notes/deprecate_idle_timeout_parameter-93d5ad93f8e43c2c.yaml']",3,fba973d4ce913b40ee3d35e76195610d02d1ebf2,bug/1826692,--- deprecations: - database_idle_timeout is deprecated and will be removed in a future release. Please use database_connection_recycle_time instead. ,,53,36
openstack%2Fnova~master~I4fe9df6b3789ae0365900d546d49121b99ea2a44,openstack/nova,master,I4fe9df6b3789ae0365900d546d49121b99ea2a44,Fix help for ironic.peer_list config,MERGED,2019-04-30 16:58:00.000000000,2019-05-01 17:41:20.000000000,2019-05-01 03:57:26.000000000,"[{'_account_id': 4690}, {'_account_id': 6618}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-30 16:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa242aea72360a78e67a67fb4f2255c4c12407ac', 'message': 'Fix help for ironic.peer_list config\n\nThis implied that the current host did not need to be in this list;\nhowever, it does.\n\nChange-Id: I4fe9df6b3789ae0365900d546d49121b99ea2a44\n'}, {'number': 2, 'created': '2019-04-30 17:16:46.000000000', 'files': ['nova/conf/ironic.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/674c004231a3f7696962d7a7bfa69b4b31af4de8', 'message': 'Fix help for ironic.peer_list config\n\nThis implied that the current host did not need to be in this list;\nhowever, it does.\n\nCloses-Bug: #1827094\nChange-Id: I4fe9df6b3789ae0365900d546d49121b99ea2a44\n'}]",4,656549,674c004231a3f7696962d7a7bfa69b4b31af4de8,40,15,2,10343,,,0,"Fix help for ironic.peer_list config

This implied that the current host did not need to be in this list;
however, it does.

Closes-Bug: #1827094
Change-Id: I4fe9df6b3789ae0365900d546d49121b99ea2a44
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/656549/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/ironic.py'],1,fa242aea72360a78e67a67fb4f2255c4c12407ac,bug/1827094," help='List of hostnames for all nova-compute services with this ' 'value will be distributed between all services specified here. ' 'If partition_key is unset, this option is ignored.'),"," help='List of hostnames for other nova-compute services with the same ' 'value will be distributed between this service and the other ' 'services specified here. If partition_key is unset, this option ' 'is ignored.'),",3,4
openstack%2Fopenstack-helm-infra~master~I57cfa8f0b22be49be43bcdb93b8ac363a8ae6472,openstack/openstack-helm-infra,master,I57cfa8f0b22be49be43bcdb93b8ac363a8ae6472,Add restore postgresql script to the configmap-bin,MERGED,2019-04-26 10:10:41.000000000,2019-05-01 17:38:37.000000000,2019-05-01 17:38:37.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28664}]","[{'number': 1, 'created': '2019-04-26 10:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d880ebae52bedaf4347e176ce813a25353f91c4', 'message': 'Add restore postgresql script to the configmap-bin\n\n  * Adding file restore_postgresql.sh to the configmap-bin\n\nChange-Id: I57cfa8f0b22be49be43bcdb93b8ac363a8ae6472\nSigned-off-by: Koffi Nogbe <kn4078@att.com>\n'}, {'number': 2, 'created': '2019-04-26 15:28:09.000000000', 'files': ['postgresql/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b1a4059ce7d1ce21486568e5b4477a01586da68b', 'message': 'Add restore postgresql script to the configmap-bin\n\n  * Adding file restore_postgresql.sh to the configmap-bin\n\nChange-Id: I57cfa8f0b22be49be43bcdb93b8ac363a8ae6472\nSigned-off-by: Koffi Nogbe <kn4078@att.com>\n'}]",1,655862,b1a4059ce7d1ce21486568e5b4477a01586da68b,14,7,2,28875,,,0,"Add restore postgresql script to the configmap-bin

  * Adding file restore_postgresql.sh to the configmap-bin

Change-Id: I57cfa8f0b22be49be43bcdb93b8ac363a8ae6472
Signed-off-by: Koffi Nogbe <kn4078@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/655862/2 && git format-patch -1 --stdout FETCH_HEAD,['postgresql/templates/configmap-bin.yaml'],1,3d880ebae52bedaf4347e176ce813a25353f91c4,postgresql-backup," backup_postgresql.sh: | {{ tuple ""bin/_backup_postgresql.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }} restore_postgresql.sh: | {{ tuple ""bin/_restore_postgresql.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,4,0
openstack%2Fopenstack-helm-infra~master~If451204e3cec573a0dbfe91549a47ee569799a22,openstack/openstack-helm-infra,master,If451204e3cec573a0dbfe91549a47ee569799a22,Add Create database if not exist to postgres restore,MERGED,2019-04-09 17:03:15.000000000,2019-05-01 17:32:34.000000000,2019-05-01 17:32:34.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28664}]","[{'number': 1, 'created': '2019-04-09 17:03:15.000000000', 'files': ['postgresql/templates/bin/_restore_postgresql.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/211ce288ca1fc0383cb12671df05e62ddc0eac0b', 'message': 'Add Create database if not exist to postgres restore\n\n  * Postgresql lack the feature of creating databases if not exist\n  * Add a function to workaround in the restore script.\n\nChange-Id: If451204e3cec573a0dbfe91549a47ee569799a22\n'}]",0,651330,211ce288ca1fc0383cb12671df05e62ddc0eac0b,10,6,1,28875,,,0,"Add Create database if not exist to postgres restore

  * Postgresql lack the feature of creating databases if not exist
  * Add a function to workaround in the restore script.

Change-Id: If451204e3cec573a0dbfe91549a47ee569799a22
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/30/651330/1 && git format-patch -1 --stdout FETCH_HEAD,['postgresql/templates/bin/_restore_postgresql.sh.tpl'],1,211ce288ca1fc0383cb12671df05e62ddc0eac0b,,"create_db_if_not_exist() { #Postgresql does not have the concept of creating #database if condition. This function help create #the database in case it does not exist $PSQL -tc ""SELECT 1 FROM pg_database WHERE datname = '$1'"" | grep -q 1 || \ $PSQL -c ""CREATE DATABASE $1"" } create_db_if_not_exist $single_db_name",,9,0
openstack%2Fnova~master~I91c9c1e88afa035c757f692c78ad72d69cc3c431,openstack/nova,master,I91c9c1e88afa035c757f692c78ad72d69cc3c431,Fix volume-backed resize with a smaller disk flavor,MERGED,2019-04-17 04:02:01.000000000,2019-05-01 17:15:47.000000000,2019-05-01 15:17:14.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28433}]","[{'number': 1, 'created': '2019-04-17 04:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eabf526917a1842f82288aeb30266996c6a209cc', 'message': ""Pass root bdm to _validate_flavor_image_nostatus during resize\n\nChange I06fad233006c7bab14749a51ffa226c3801f951b in Stein started\ncalling _validate_flavor_image_nostatus during resize but did not\npass the root_bdm since the underlying volume does not change. This\ncan, however, lead to FlavorDiskSmallerThanMinDisk being raised\nif the new flavor has a disk size smaller than the current flavor.\nThis is wrong in the case of a volume-backed server because we don't\ncare about the root disk size in the flavor in that case.\n\nThis fixes the bug by passing the root_bdm to the validation method\nduring resize.\n\nNote that _validate_flavor_image_nostatus itself has to be modified\nto avoid VolumeSmallerThanMinDisk being raised (see bug 1646740 for\ndetails, but tl;dr if the image min_disk is less than the flavor\nroot_gb, the min_disk stored in the instance image system metadata\nis the flavor['root_gb'] which could be larger than the root volume\nsize). The giant comment is updated as a result (note how tightly\ncoupled all of this validation code is to what calls it?). If/when\nwe support rebuilding a volume backed server with a new image, we'll\nlikely need to revisit this logic - or just completely bypass it for\nthe resize case, which was probably the original intent behind passing\nroot_bdm=None during resize in the first place.\n\nChange-Id: I91c9c1e88afa035c757f692c78ad72d69cc3c431\nCloses-Bug: #1825020\n""}, {'number': 2, 'created': '2019-04-17 16:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4713b49c8646501957a49b8a7f2e13521a2e0544', 'message': ""Fix volume-backed resize with a smaller disk flavor\n\nChange I06fad233006c7bab14749a51ffa226c3801f951b in Stein started\ncalling _validate_flavor_image_nostatus during resize but did not\npass the root_bdm since the underlying volume does not change. This\ncan, however, lead to FlavorDiskSmallerThanMinDisk being raised\nif the new flavor has a disk size smaller than the current flavor.\nThis is wrong in the case of a volume-backed server because we don't\ncare about the root disk size in the flavor in that case.\n\nThis fixes the bug by splitting the pci/numa validation logic out\nof _validate_flavor_image_nostatus into a separate method so that\nthe resize method can call that directly for a volume-backed server\nrather than deal with the complicated disk size logic in\n_validate_flavor_image_nostatus (see bug 1646740 for details, but\ntl;dr if the image min_disk is less than the flavor root_gb, the\nmin_disk stored in the instance image system metadata is the\nflavor['root_gb'] which could be larger than the root volume size).\nTo see why trying to use _validate_flavor_image_nostatus during\nresize for a volume-backed server is a mess, look at PS1 of this\nchange.\n\nChange-Id: I91c9c1e88afa035c757f692c78ad72d69cc3c431\nCloses-Bug: #1825020\n""}, {'number': 3, 'created': '2019-04-17 16:34:57.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py', 'nova/tests/functional/regressions/test_bug_1825020.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8aae3e39e58a05ed50b891aeae261641f544ad1f', 'message': ""Fix volume-backed resize with a smaller disk flavor\n\nChange I06fad233006c7bab14749a51ffa226c3801f951b in Stein started\ncalling _validate_flavor_image_nostatus during resize but did not\npass the root_bdm since the underlying volume does not change. This\ncan, however, lead to FlavorDiskSmallerThanMinDisk being raised\nif the new flavor has a disk size smaller than the current flavor.\nThis is wrong in the case of a volume-backed server because we don't\ncare about the root disk size in the flavor in that case.\n\nThis fixes the bug by splitting the pci/numa validation logic out\nof _validate_flavor_image_nostatus into a separate method so that\nthe resize method can call that directly for a volume-backed server\nrather than deal with the complicated disk size logic in\n_validate_flavor_image_nostatus (see bug 1646740 for details, but\ntl;dr if the image min_disk is less than the flavor root_gb, the\nmin_disk stored in the instance image system metadata is the\nflavor['root_gb'] which could be larger than the root volume size).\nTo see why trying to use _validate_flavor_image_nostatus during\nresize for a volume-backed server is a mess, look at PS1 of this\nchange.\n\nChange-Id: I91c9c1e88afa035c757f692c78ad72d69cc3c431\nCloses-Bug: #1825020\n""}]",13,653273,8aae3e39e58a05ed50b891aeae261641f544ad1f,69,18,3,6873,,,0,"Fix volume-backed resize with a smaller disk flavor

Change I06fad233006c7bab14749a51ffa226c3801f951b in Stein started
calling _validate_flavor_image_nostatus during resize but did not
pass the root_bdm since the underlying volume does not change. This
can, however, lead to FlavorDiskSmallerThanMinDisk being raised
if the new flavor has a disk size smaller than the current flavor.
This is wrong in the case of a volume-backed server because we don't
care about the root disk size in the flavor in that case.

This fixes the bug by splitting the pci/numa validation logic out
of _validate_flavor_image_nostatus into a separate method so that
the resize method can call that directly for a volume-backed server
rather than deal with the complicated disk size logic in
_validate_flavor_image_nostatus (see bug 1646740 for details, but
tl;dr if the image min_disk is less than the flavor root_gb, the
min_disk stored in the instance image system metadata is the
flavor['root_gb'] which could be larger than the root volume size).
To see why trying to use _validate_flavor_image_nostatus during
resize for a volume-backed server is a mess, look at PS1 of this
change.

Change-Id: I91c9c1e88afa035c757f692c78ad72d69cc3c431
Closes-Bug: #1825020
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/653273/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py', 'nova/tests/functional/regressions/test_bug_1825020.py']",4,eabf526917a1842f82288aeb30266996c6a209cc,bug/1825020," # This should be allowed since the server is volume-backed and the # disk size in the flavor shouldn't matter. self.api.post_server_action(server['id'], data) self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') # Now confirm the resize just to complete the operation. self.api.post_server_action(server['id'], {'confirmResize': None}) self._wait_for_state_change(self.api, server, 'ACTIVE')","import six from nova.tests.functional.api import client as api_client # FIXME(mriedem): This will raise FlavorDiskSmallerThanMinDisk as a 500 # error until bug 1825020 is fixed. ex = self.assertRaises(api_client.OpenStackApiException, self.api.post_server_action, server['id'], data) self.assertEqual(500, ex.response.status_code) self.assertIn('FlavorDiskSmallerThanMinDisk', six.text_type(ex))",45,28
openstack%2Fpuppet-ironic~master~Ic78f6dbd66ceb7646c65268444721798454ac73f,openstack/puppet-ironic,master,Ic78f6dbd66ceb7646c65268444721798454ac73f,Deprecate idle_timeout option,MERGED,2019-04-28 07:01:18.000000000,2019-05-01 17:05:16.000000000,2019-05-01 17:05:16.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-28 07:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a71f565280dd7122f1c9d056d55bed4e59144130', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: Ic78f6dbd66ceb7646c65268444721798454ac73f\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}, {'number': 2, 'created': '2019-04-28 08:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/0f6df9b2853a2dc95863d025f6dea4942a7cc424', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: Ic78f6dbd66ceb7646c65268444721798454ac73f\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}, {'number': 3, 'created': '2019-04-28 08:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/0983338397b9e95f341bd33bcc827adb77cf0cf0', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: Ic78f6dbd66ceb7646c65268444721798454ac73f\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}, {'number': 4, 'created': '2019-04-29 00:52:18.000000000', 'files': ['releasenotes/notes/deprecate_idle_timeout_parameter-bb14a0f10a816033.yaml', 'spec/classes/ironic_init_spec.rb', 'manifests/db.pp', 'manifests/inspector/db.pp', 'spec/classes/ironic_inspector_db_spec.rb', 'spec/classes/ironic_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b50b6a085a1464d92a7f7b6cac8db5584f3809ca', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: Ic78f6dbd66ceb7646c65268444721798454ac73f\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}]",0,656139,b50b6a085a1464d92a7f7b6cac8db5584f3809ca,15,4,4,9414,,,0,"Deprecate idle_timeout option

The idle_timeout parameter is deprecated, use connection_recycle_time
instead[1].

[1]https://review.opendev.org/#/c/334182/

Change-Id: Ic78f6dbd66ceb7646c65268444721798454ac73f
Depends-On: https://review.opendev.org/656106/
Closes-Bug: #1826692
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/39/656139/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_idle_timeout_parameter-bb14a0f10a816033.yaml', 'manifests/db.pp', 'manifests/inspector/db.pp', 'spec/classes/ironic_inspector_db_spec.rb', 'spec/classes/ironic_db_spec.rb']",5,a71f565280dd7122f1c9d056d55bed4e59144130,bug/1826692," :db_max_retries => '<SERVICE DEFAULT>', :connection => 'sqlite:////var/lib/ironic/ovs.sqlite', :connection_recycle_time => '<SERVICE DEFAULT>', :min_pool_size => '<SERVICE DEFAULT>', :max_pool_size => '<SERVICE DEFAULT>', :max_retries => '<SERVICE DEFAULT>', :pool_timeout => '<SERVICE DEFAULT>', :retry_interval => '<SERVICE DEFAULT>', :max_overflow => '<SERVICE DEFAULT>', :database_connection => 'mysql+pymysql://ironic:ironic@localhost/ironic', :database_connection_recycle_time => '3601', :database_min_pool_size => '2', :database_max_pool_size => '21', :database_max_retries => '11', :database_pool_timeout => '21', :database_max_overflow => '21', :database_retry_interval => '11', :database_db_max_retries => '-1', :db_max_retries => '-1', :connection => 'mysql+pymysql://ironic:ironic@localhost/ironic', :connection_recycle_time => '3601', :min_pool_size => '2', :max_pool_size => '21', :max_retries => '11', :retry_interval => '11', :max_overflow => '21', :pool_timeout => '21',"," :db_max_retries => '<SERVICE DEFAULT>', :connection => 'sqlite:////var/lib/ironic/ovs.sqlite', :idle_timeout => '<SERVICE DEFAULT>', :min_pool_size => '<SERVICE DEFAULT>', :max_pool_size => '<SERVICE DEFAULT>', :max_retries => '<SERVICE DEFAULT>', :pool_timeout => '<SERVICE DEFAULT>', :retry_interval => '<SERVICE DEFAULT>', :max_overflow => '<SERVICE DEFAULT>', :database_connection => 'mysql+pymysql://ironic:ironic@localhost/ironic', :database_idle_timeout => '3601', :database_min_pool_size => '2', :database_max_pool_size => '21', :database_max_retries => '11', :database_pool_timeout => '21', :database_max_overflow => '21', :database_retry_interval => '11', :database_db_max_retries => '-1', :db_max_retries => '-1', :connection => 'mysql+pymysql://ironic:ironic@localhost/ironic', :idle_timeout => '3601', :min_pool_size => '2', :max_pool_size => '21', :max_retries => '11', :retry_interval => '11', :max_overflow => '21', :pool_timeout => '21',",124,94
openstack%2Fpuppet-glance~master~I02536803fad90dbf6edf27a85786f6e94d53d2f1,openstack/puppet-glance,master,I02536803fad90dbf6edf27a85786f6e94d53d2f1,Deprecate idle_timeout option,MERGED,2019-04-28 07:00:55.000000000,2019-05-01 17:01:22.000000000,2019-05-01 17:01:21.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-28 07:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/79debe91bbbafd9445c074a9ae3a0af50248b39a', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: I02536803fad90dbf6edf27a85786f6e94d53d2f1\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}, {'number': 2, 'created': '2019-04-28 08:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/fec618c16866de446e905b0e23718c7f671954a7', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: I02536803fad90dbf6edf27a85786f6e94d53d2f1\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}, {'number': 3, 'created': '2019-04-29 00:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/7c0ea7e6d58682ec015030c90669b4a1dc068029', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: I02536803fad90dbf6edf27a85786f6e94d53d2f1\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}, {'number': 4, 'created': '2019-04-29 04:00:39.000000000', 'files': ['spec/classes/glance_registry_db_spec.rb', 'spec/classes/glance_api_db_spec.rb', 'releasenotes/notes/deprecate_idle_timeout_parameter-bdc85512b96b5d29.yaml', 'manifests/api/db.pp', 'manifests/registry/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/677a307b06e6ba0b65e2874cb1fd916d7f3f4daf', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: I02536803fad90dbf6edf27a85786f6e94d53d2f1\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}]",0,656118,677a307b06e6ba0b65e2874cb1fd916d7f3f4daf,19,5,4,9414,,,0,"Deprecate idle_timeout option

The idle_timeout parameter is deprecated, use connection_recycle_time
instead[1].

[1]https://review.opendev.org/#/c/334182/

Change-Id: I02536803fad90dbf6edf27a85786f6e94d53d2f1
Depends-On: https://review.opendev.org/656106/
Closes-Bug: #1826692
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/18/656118/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glance_registry_db_spec.rb', 'spec/classes/glance_api_db_spec.rb', 'manifests/api/db.pp', 'releasenotes/notes/deprecate_idle_timeout_parameter-bdc85512b96b5d29.yaml', 'manifests/registry/db.pp']",5,79debe91bbbafd9445c074a9ae3a0af50248b39a,bug/1826692,"# DEPRECATED PARAMETERS # # [*database_idle_timeout*] # Timeout when db connections should be reaped. # Defaults to undef. # # DEPRECATED PARAMETERS $database_idle_timeout = undef, if $database_idle_timeout { warning('The database_idle_timeout parameter is deprecated. Please use \ database_connection_recycle_time instead.') $database_connection_real = pick($::glance::registry::database_connection, $database_connection) $database_idle_timeout_real = pick($::glance::registry::database_idle_timeout, $database_idle_timeout) $database_connection_recycle_time_real = pick($::glance::registry::database_idle_timeout, $database_idle_timeout, $database_connection_recycle_time) $database_min_pool_size_real = pick($::glance::registry::database_min_pool_size, $database_min_pool_size) $database_max_pool_size_real = pick($::glance::registry::database_max_pool_size, $database_max_pool_size) $database_max_retries_real = pick($::glance::registry::database_max_retries, $database_max_retries) $database_retry_interval_real = pick($::glance::registry::database_retry_interval, $database_retry_interval) $database_max_overflow_real = pick($::glance::registry::database_max_overflow, $database_max_overflow) db_max_retries => $database_db_max_retries, connection => $database_connection_real, connection_recycle_time => $database_connection_recycle_time_real, min_pool_size => $database_min_pool_size_real, max_retries => $database_max_retries_real, retry_interval => $database_retry_interval_real, max_pool_size => $database_max_pool_size_real, max_overflow => $database_max_overflow_real, pool_timeout => $database_pool_timeout,"," $database_connection_real = pick($::glance::registry::database_connection, $database_connection) $database_idle_timeout_real = pick($::glance::registry::database_idle_timeout, $database_idle_timeout) $database_min_pool_size_real = pick($::glance::registry::database_min_pool_size, $database_min_pool_size) $database_max_pool_size_real = pick($::glance::registry::database_max_pool_size, $database_max_pool_size) $database_max_retries_real = pick($::glance::registry::database_max_retries, $database_max_retries) $database_retry_interval_real = pick($::glance::registry::database_retry_interval, $database_retry_interval) $database_max_overflow_real = pick($::glance::registry::database_max_overflow, $database_max_overflow) db_max_retries => $database_db_max_retries, connection => $database_connection_real, idle_timeout => $database_idle_timeout_real, min_pool_size => $database_min_pool_size_real, max_retries => $database_max_retries_real, retry_interval => $database_retry_interval_real, max_pool_size => $database_max_pool_size_real, max_overflow => $database_max_overflow_real, pool_timeout => $database_pool_timeout,",126,96
openstack%2Fpuppet-swift~master~I2fc7b23382c8cee1aec026cb669f2185de004171,openstack/puppet-swift,master,I2fc7b23382c8cee1aec026cb669f2185de004171,Port puppet-swift-tripleo-standalone to os_tempest,MERGED,2019-04-30 09:24:17.000000000,2019-05-01 16:34:33.000000000,2019-05-01 16:34:33.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 8944}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 09:24:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/9208f91a88085faaf93682198722683b0183dd03', 'message': 'Port puppet-swift-tripleo-standalone to os_tempest\n\nPreviously Tripleo validate-tempest role was used to run tempest\non tripleo jobs. Recently we are moving to os_tempest (an unified\nrole developed by openstack-ansible team).\n\nIt moves the vars to os_tempest.\nBelow is the other var changes:\nrun_tempest: false -> to disable validate-tempest role\nuse_os_tempest: true -> enable os_tempest\ntempest_whitelist -> tempest_test_whitelist\n\nChange-Id: I2fc7b23382c8cee1aec026cb669f2185de004171\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}]",0,656481,9208f91a88085faaf93682198722683b0183dd03,8,8,1,12393,,,0,"Port puppet-swift-tripleo-standalone to os_tempest

Previously Tripleo validate-tempest role was used to run tempest
on tripleo jobs. Recently we are moving to os_tempest (an unified
role developed by openstack-ansible team).

It moves the vars to os_tempest.
Below is the other var changes:
run_tempest: false -> to disable validate-tempest role
use_os_tempest: true -> enable os_tempest
tempest_whitelist -> tempest_test_whitelist

Change-Id: I2fc7b23382c8cee1aec026cb669f2185de004171
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/81/656481/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9208f91a88085faaf93682198722683b0183dd03,ostempest, run_tempest: false tempest_test_whitelist: use_os_tempest: true, run_tempest: true tempest_whitelist:,3,2
openstack%2Fpuppet-keystone~master~I0a1b1adec24ba528b623ad0b17e5bba16e0b279a,openstack/puppet-keystone,master,I0a1b1adec24ba528b623ad0b17e5bba16e0b279a,Fix database test in keystone class test,MERGED,2019-04-30 14:14:34.000000000,2019-05-01 16:26:29.000000000,2019-05-01 16:26:28.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 14:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/31dca6849ab9164a2b34df6b7069ab5db5aefa28', 'message': ""Fix database test in keystone class test\n\nWe were checking for the value of a database setting which is now\nmanaged via puppet-olso in the keystone init class.  We should not be\nchecking the values set by another class in the unit tests. This change\nupdates the unit tests to just make sure we're including the\nkeystone::db class rather than the values configured by it.\n\nChange-Id: I0a1b1adec24ba528b623ad0b17e5bba16e0b279a\n""}, {'number': 2, 'created': '2019-04-30 14:15:44.000000000', 'files': ['spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ce7fd5d0a8e9ca4c33c1c4329bc84c2fbd571796', 'message': ""Fix database test in keystone class test\n\nWe were checking for the value of a database setting which is now\nmanaged via puppet-olso in the keystone init class.  We should not be\nchecking the values set by another class in the unit tests. This change\nupdates the unit tests to just make sure we're including the\nkeystone::db class rather than the values configured by it.\n\nChange-Id: I0a1b1adec24ba528b623ad0b17e5bba16e0b279a\n""}]",0,656520,ce7fd5d0a8e9ca4c33c1c4329bc84c2fbd571796,7,2,2,14985,,,0,"Fix database test in keystone class test

We were checking for the value of a database setting which is now
managed via puppet-olso in the keystone init class.  We should not be
checking the values set by another class in the unit tests. This change
updates the unit tests to just make sure we're including the
keystone::db class rather than the values configured by it.

Change-Id: I0a1b1adec24ba528b623ad0b17e5bba16e0b279a
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/20/656520/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/keystone_init_spec.rb'],1,31dca6849ab9164a2b34df6b7069ab5db5aefa28,bug/1826692, is_expected.to contain_class('keystone::db')," 'database_connection' => 'sqlite:////var/lib/keystone/keystone.db', 'database_idle_timeout' => '200', 'database_connection' => 'mysql://a:b@c/d', 'database_idle_timeout' => '300', is_expected.to contain_keystone_config('database/idle_timeout').with_value(param_hash['database_idle_timeout']) is_expected.to contain_keystone_config('database/connection').with_value(param_hash['database_connection']).with_secret(true)",1,6
openstack%2Fhorizon~stable%2Fstein~If67464a25d561de2a0e07dc8e85deb5336666b5a,openstack/horizon,stable/stein,If67464a25d561de2a0e07dc8e85deb5336666b5a,Imported Translations from Zanata,MERGED,2019-05-01 10:17:51.000000000,2019-05-01 16:23:54.000000000,2019-05-01 16:23:54.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-01 10:17:51.000000000', 'files': ['doc/source/locale/id/LC_MESSAGES/doc-configuration.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/id/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/478d28615619c1192abf16d0d94d8b0e96687ebd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If67464a25d561de2a0e07dc8e85deb5336666b5a\n'}]",0,656626,478d28615619c1192abf16d0d94d8b0e96687ebd,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If67464a25d561de2a0e07dc8e85deb5336666b5a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/26/656626/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/id/LC_MESSAGES/doc-configuration.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/id/LC_MESSAGES/djangojs.po']",5,478d28615619c1192abf16d0d94d8b0e96687ebd,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-04-22 07:13+0000\n""""PO-Revision-Date: 2019-04-30 02:45+0000\n""msgid ""Key Type"" msgstr ""Key Type"" msgid ""SSH Key"" msgstr ""SSH Key"" #, python-format msgid ""Scheduled creation of %s instance."" msgid_plural ""Scheduled creation of %s instances."" msgstr[0] ""Scheduled creation of %s instance."" msgid ""Volume size is required and must be positive integer"" msgstr ""Diperlukan ukuran volume dan harus bilangan integer positif"" msgid ""X509 Certificate"" msgstr ""X509 Certificate"" msgid ""min disk is required and must be an integer not less than 0"" msgstr """" ""min disk diperlukan dan harus berupa bilangan bulat tidak kurang dari 0"" msgid ""min ram is required and must be an integer not less than 0"" msgstr ""min ram diperlukan dan harus bilangan bulat tidak kurang dari 0"" ","""POT-Creation-Date: 2019-02-22 16:05+0000\n""""PO-Revision-Date: 2018-12-19 08:08+0000\n""",426,13
openstack%2Fopenstack-helm~master~I9a7bcee8727cb127d57ccb4dce1183895a4130cd,openstack/openstack-helm,master,I9a7bcee8727cb127d57ccb4dce1183895a4130cd,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:39:29.000000000,2019-05-01 16:11:28.000000000,2019-05-01 16:11:28.000000000,"[{'_account_id': 6547}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 11:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ad34312dc623096ab33caba1f984489abf233008', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I9a7bcee8727cb127d57ccb4dce1183895a4130cd\n'}, {'number': 2, 'created': '2019-04-23 12:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1f7584d7e63106ddc01acb2400c940f401c2ff51', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I9a7bcee8727cb127d57ccb4dce1183895a4130cd\n'}, {'number': 3, 'created': '2019-04-24 05:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cf3e65fd9094a0428f660ff353daa55deb1f2030', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I9a7bcee8727cb127d57ccb4dce1183895a4130cd\n'}, {'number': 4, 'created': '2019-04-24 16:38:11.000000000', 'files': ['aodh/Chart.yaml', 'mistral/Chart.yaml', 'heat/Chart.yaml', 'senlin/Chart.yaml', 'README.rst', 'horizon/Chart.yaml', 'rally/Chart.yaml', 'ironic/Chart.yaml', 'neutron/Chart.yaml', 'nova/Chart.yaml', 'congress/Chart.yaml', 'glance/Chart.yaml', 'magnum/Chart.yaml', 'tempest/Chart.yaml', 'barbican/Chart.yaml', 'cinder/Chart.yaml', 'ceilometer/Chart.yaml', 'panko/Chart.yaml', 'keystone/Chart.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb77d3adff868300a0855ca5ca43c0af215675ae', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I9a7bcee8727cb127d57ccb4dce1183895a4130cd\n'}]",3,655046,cb77d3adff868300a0855ca5ca43c0af215675ae,25,8,4,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I9a7bcee8727cb127d57ccb4dce1183895a4130cd
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/655046/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/Chart.yaml', 'README.rst', 'horizon/Chart.yaml', 'doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'magnum/Chart.yaml', 'barbican/Chart.yaml', 'cinder/Chart.yaml', 'aodh/Chart.yaml', 'mistral/Chart.yaml', 'senlin/Chart.yaml', 'doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'rally/Chart.yaml', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'ironic/Chart.yaml', 'neutron/Chart.yaml', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'nova/Chart.yaml', 'congress/Chart.yaml', 'glance/Chart.yaml', 'tempest/Chart.yaml', 'ceilometer/Chart.yaml', 'panko/Chart.yaml', 'keystone/Chart.yaml', 'tox.ini']",24,ad34312dc623096ab33caba1f984489abf233008,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},46,46
openstack%2Fdiskimage-builder~master~Iefc40c0bd6d4097c6f9d851a78a718168e1d4fb1,openstack/diskimage-builder,master,Iefc40c0bd6d4097c6f9d851a78a718168e1d4fb1,Avoid breaking virtualenv on python3,ABANDONED,2019-04-30 08:37:54.000000000,2019-05-01 15:56:58.000000000,,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10118}, {'_account_id': 11810}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-04-30 08:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d9d3df04ee660d5910145611d21653912b475f28', 'message': 'Avoid breaking virtualenv on python3\n\nPrevious code was breaking virtualenv-3 command by doing a forced\nupgrade of virtualenv module in python3.\n\nNewer code avoids this by avoiding to upgrade it for python3 and also\ndoes verify that both methods of calling virtualenv are working and\nreturning the same versions.\n\nFixes: 1826452\nChange-Id: Iefc40c0bd6d4097c6f9d851a78a718168e1d4fb1\n'}, {'number': 2, 'created': '2019-04-30 15:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8f41fdafc6f3d6e77fcc042024213460a5aa0466', 'message': 'Avoid breaking virtualenv on python3\n\nPrevious code was breaking virtualenv-3 command by doing a forced\nupgrade of virtualenv module in python3.\n\nNewer code avoids this by avoiding to upgrade it for python3 and also\ndoes verify that both methods of calling virtualenv are working and\nreturning the same versions.\n\nFixes: 1826452\nChange-Id: Iefc40c0bd6d4097c6f9d851a78a718168e1d4fb1\n'}, {'number': 3, 'created': '2019-05-01 09:34:17.000000000', 'files': ['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b9a2babb9254b48ac6e50401726bad2c35828465', 'message': 'Avoid breaking virtualenv on python3\n\nPrevious code was breaking virtualenv-3 command by doing a forced\nupgrade of virtualenv module in python3.\n\nNewer code avoids this by avoiding to upgrade it for python3 and also\ndoes verify that both methods of calling virtualenv are working and\nreturning the same versions.\n\nFixes: 1826452\nChange-Id: Iefc40c0bd6d4097c6f9d851a78a718168e1d4fb1\n'}]",1,656467,b9a2babb9254b48ac6e50401726bad2c35828465,15,9,3,24162,,,0,"Avoid breaking virtualenv on python3

Previous code was breaking virtualenv-3 command by doing a forced
upgrade of virtualenv module in python3.

Newer code avoids this by avoiding to upgrade it for python3 and also
does verify that both methods of calling virtualenv are working and
returning the same versions.

Fixes: 1826452
Change-Id: Iefc40c0bd6d4097c6f9d851a78a718168e1d4fb1
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/67/656467/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'],1,d9d3df04ee660d5910145611d21653912b475f28,," # (/usr/bin/virtualenv-[2|3]). See [2] #[2] https://src.fedoraproject.org/rpms/python-virtualenv/blob/master/f/python-virtualenv.spec # We do not touch the python3 virtualenv because it will break # /usr/bin/virtualenv-3 command which is harcoded to load specific version # of the package. We need to be sure that both methods of calling # virtualenv are working and loading. if [ ""$(python3 -m virtualenv --version)"" != ""$(virtualenv-3 --version)"" ]; then die ""virtualenv under python3 is broken"" fi"," # (/usr/bin/virtualenv-[2|3]) but upstream does not! (see [2]). # For consistency, reinstall so we're just left with python2's # version. Note this is a rather moot point, the usual way we get # a python3 environment is to call ""virtualenv -p python3 foo"" and # that works to create a python3 virtualenv, even if using # python2's version. Thus we probably don't *really* need to # ""pip3 install virtualenv"". What we don't want is ""virtualenv # foo"" creating a python3 virtualenv by default, because that # confuses a lot of legacy code. # #[2] http://pkgs.fedoraproject.org/cgit/rpms/python-virtualenv.git/tree/python-virtualenv.spec#n116) pip3 install ${pip_args} virtualenv",9,12
openstack%2Fopenstack-helm~master~I3acf5b654ecda23a93f6c28e865e1bbee14370aa,openstack/openstack-helm,master,I3acf5b654ecda23a93f6c28e865e1bbee14370aa,Start nova sshd container only if enabled,MERGED,2019-04-10 04:35:10.000000000,2019-05-01 15:09:37.000000000,2019-05-01 15:09:37.000000000,"[{'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-04-10 04:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a656ea41c28a99f58c995b8dd142e8e4673aa084', 'message': 'start nova sshd container only if enabled\n\nOnly start the sshd container of nova-compute pod if the capability is\nenabled.  Defaults to off to allow cases where nova docker image does\nnot have ssh packages to run cleanly.\n\nStory: 2003463\nTask: 30441\nChange-Id: I3acf5b654ecda23a93f6c28e865e1bbee14370aa\nSigned-off-by: Gerry Kopec <Gerry.Kopec@windriver.com>\n'}, {'number': 2, 'created': '2019-04-10 04:36:55.000000000', 'files': ['nova/templates/bin/_ssh-start.sh.tpl', 'nova/templates/daemonset-compute.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/52f8415deb7b256bd618087cade43039c852d715', 'message': 'Start nova sshd container only if enabled\n\nOnly start the sshd container of nova-compute pod if the capability is\nenabled.  Defaults to off to allow cases where nova docker image does\nnot have ssh packages to run cleanly.\n\nStory: 2003463\nTask: 30441\nChange-Id: I3acf5b654ecda23a93f6c28e865e1bbee14370aa\nSigned-off-by: Gerry Kopec <Gerry.Kopec@windriver.com>\n'}]",0,651433,52f8415deb7b256bd618087cade43039c852d715,9,4,2,19124,,,0,"Start nova sshd container only if enabled

Only start the sshd container of nova-compute pod if the capability is
enabled.  Defaults to off to allow cases where nova docker image does
not have ssh packages to run cleanly.

Story: 2003463
Task: 30441
Change-Id: I3acf5b654ecda23a93f6c28e865e1bbee14370aa
Signed-off-by: Gerry Kopec <Gerry.Kopec@windriver.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/33/651433/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_ssh-start.sh.tpl', 'nova/templates/daemonset-compute.yaml']",2,a656ea41c28a99f58c995b8dd142e8e4673aa084,helm_nova_cold_migration, {{- if .Values.network.sshd.enabled }} {{ end }},,2,2
openstack%2Fcharm-keystone~master~I635a34ce442f44001d2af13c3e73299085a8c772,openstack/charm-keystone,master,I635a34ce442f44001d2af13c3e73299085a8c772,OpenDev Migration Patch,ABANDONED,2019-05-01 15:02:55.000000000,2019-05-01 15:03:20.000000000,,[{'_account_id': 11131}],"[{'number': 1, 'created': '2019-05-01 15:02:55.000000000', 'files': ['.gitreview', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/475c7c06027dbe6309646d2e99b9b882894e610e', 'message': ""OpenDev Migration Patch\n\nThis commit was bulk generated and pushed by the OpenDev sysadmins\nas a part of the Git hosting and code review systems migration\ndetailed in these mailing list posts:\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-March/003603.html\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/004920.html\n\nAttempts have been made to correct repository namespaces and\nhostnames based on simple pattern matching, but it's possible some\nwere updated incorrectly or missed entirely. Please reach out to us\nvia the contact information listed at https://opendev.org/ with any\nquestions you may have.\n\nChange-Id: I635a34ce442f44001d2af13c3e73299085a8c772\n""}]",0,656650,475c7c06027dbe6309646d2e99b9b882894e610e,2,1,1,20634,,,0,"OpenDev Migration Patch

This commit was bulk generated and pushed by the OpenDev sysadmins
as a part of the Git hosting and code review systems migration
detailed in these mailing list posts:

http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003603.html
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004920.html

Attempts have been made to correct repository namespaces and
hostnames based on simple pattern matching, but it's possible some
were updated incorrectly or missed entirely. Please reach out to us
via the contact information listed at https://opendev.org/ with any
questions you may have.

Change-Id: I635a34ce442f44001d2af13c3e73299085a8c772
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/50/656650/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt']",2,475c7c06027dbe6309646d2e99b9b882894e610e,,git+https://github.com/openstack-charmers/zaza.git@namespace-tests#egg=zaza;python_version>='3.0',git+https://github.com/openstack-charmers/zaza.git#egg=zaza;python_version>='3.0',2,2
openstack%2Fopenstack-helm~master~I04886da64ae0dfda782bcd8d8d2cde960ab1db1d,openstack/openstack-helm,master,I04886da64ae0dfda782bcd8d8d2cde960ab1db1d,Add ipxe file path variable and installation codes for CentOS,MERGED,2019-04-16 05:04:54.000000000,2019-05-01 14:53:18.000000000,2019-05-01 14:53:18.000000000,"[{'_account_id': 1523}, {'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21307}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 30274}]","[{'number': 1, 'created': '2019-04-16 05:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9b1457d6910fa0251ca2e9b0041a663b26cf3ab0', 'message': 'Add ipxe file path variable and installation codes for CentOS\n\nIn _ironic-conductor-pxe-init.sh.tpl file, there are only codes for ubuntu system.\nHowever in Openstack-Helm especially in kolla image, there are Ubuntu version and CentOS version.\nSo add codes for OS dependency check and ipxe file PATH for each OS.\n\nChange-Id: I04886da64ae0dfda782bcd8d8d2cde960ab1db1d\nSigned-off-by: TaewooLee <tw0410.lee@samsung.com>\n'}, {'number': 2, 'created': '2019-04-22 01:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9e1cc73f908ac6eb54f57859fb051402ab495ffb', 'message': 'Add ipxe file path variable and installation codes for CentOS\n\nIn _ironic-conductor-pxe-init.sh.tpl file,\nthere are only codes for ubuntu system.\n\nHowever in Openstack-Helm especially in kolla image,\nthere are Ubuntu version and CentOS version.\n\nSo add codes for OS dependency check and ipxe file PATH for each OS.\n\nChange-Id: I04886da64ae0dfda782bcd8d8d2cde960ab1db1d\nSigned-off-by: TaewooLee <tw0410.lee@samsung.com>\n'}, {'number': 3, 'created': '2019-04-29 00:20:09.000000000', 'files': ['ironic/templates/bin/_ironic-conductor-pxe-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0e64d83752e6210c16656a9e019def83fe52a24b', 'message': 'Add ipxe file path variable and installation codes for CentOS\n\nIn _ironic-conductor-pxe-init.sh.tpl file,\nthere are only codes for ubuntu system.\n\nHowever in Openstack-Helm especially in kolla image,\nthere are Ubuntu version and CentOS version.\n\nSo add codes for OS dependency check and ipxe file PATH for each OS.\n\nChange-Id: I04886da64ae0dfda782bcd8d8d2cde960ab1db1d\nSigned-off-by: TaewooLee <tw0410.lee@samsung.com>\n'}]",4,652822,0e64d83752e6210c16656a9e019def83fe52a24b,23,12,3,30274,,,0,"Add ipxe file path variable and installation codes for CentOS

In _ironic-conductor-pxe-init.sh.tpl file,
there are only codes for ubuntu system.

However in Openstack-Helm especially in kolla image,
there are Ubuntu version and CentOS version.

So add codes for OS dependency check and ipxe file PATH for each OS.

Change-Id: I04886da64ae0dfda782bcd8d8d2cde960ab1db1d
Signed-off-by: TaewooLee <tw0410.lee@samsung.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/22/652822/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/templates/bin/_ironic-conductor-pxe-init.sh.tpl'],1,9b1457d6910fa0251ca2e9b0041a663b26cf3ab0,feature/add-centos-installation-and-file-path-codes,". /etc/os-release HOST_OS=${HOST_OS:=""${ID}""} FILEPATH=${FILEPATH:-/usr/lib/ipxe} if [ ""x$ID"" == ""xubuntu"" ]; then #NOTE(portdirect): this works round a limitation in Kolla images if ! dpkg -l ipxe; then apt-get update apt-get install ipxe -y fi FILEPATH=/usr/lib/ipxe elif [ ""x$ID"" == ""xcentos"" ]; then if ! yum list installed ipxe-bootimgs >/dev/null 2>&1; then yum update --nogpgcheck -y yum install ipxe-bootimgs --nogpgcheck -y fi FILEPATH=/usr/share/ipxe ",#NOTE(portdirect): this works round a limitation in Kolla images if ! dpkg -l ipxe; then apt-get update apt-get install ipxe -y,22,4
openstack%2Fpuppet-tripleo~master~I7bfc011e8ac4f93cf569340aa42e79a45ed6c199,openstack/puppet-tripleo,master,I7bfc011e8ac4f93cf569340aa42e79a45ed6c199,Remove unused docker_distribution template,MERGED,2019-04-26 20:11:37.000000000,2019-05-01 14:48:09.000000000,2019-04-29 21:12:58.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-26 20:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/66ff78bf42eb58e86be02bf31d2aee3301fd5f6f', 'message': 'Remove unused docker_distribution template\n\nDocker profile was remove, this file is a leftover.\n\nChange-Id: I7bfc011e8ac4f93cf569340aa42e79a45ed6c199\n'}, {'number': 2, 'created': '2019-04-28 08:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/95acf061f0d7b62ec60359275a3eae9c33500737', 'message': 'Remove unused docker_distribution template\n\nDocker profile was remove, this file is a leftover.\n\nChange-Id: I7bfc011e8ac4f93cf569340aa42e79a45ed6c199\n'}, {'number': 3, 'created': '2019-04-28 08:22:12.000000000', 'files': ['templates/docker_distribution/registry_config.yml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/977cf8f5884c0f6b7a804e334af1c175db8cbb64', 'message': 'Remove unused docker_distribution template\n\nDocker profile was remove, this file is a leftover.\n\nChange-Id: I7bfc011e8ac4f93cf569340aa42e79a45ed6c199\n'}]",0,656005,977cf8f5884c0f6b7a804e334af1c175db8cbb64,14,4,3,3153,,,0,"Remove unused docker_distribution template

Docker profile was remove, this file is a leftover.

Change-Id: I7bfc011e8ac4f93cf569340aa42e79a45ed6c199
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/05/656005/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/docker_distribution/registry_config.yml.erb'],1,66ff78bf42eb58e86be02bf31d2aee3301fd5f6f,ipv6-prov,,version: 0.1 log: fields: service: registry storage: cache: layerinfo: inmemory filesystem: rootdirectory: /var/lib/registry http: addr: <%= normalize_ip_for_uri(@registry_host) %>:<%= @registry_port %> ,0,11
openstack%2Foctavia~master~I8c3eb71246d339bd2d43092cce4e6122a49e9534,openstack/octavia,master,I8c3eb71246d339bd2d43092cce4e6122a49e9534,Make amphora cert validity time configurable,MERGED,2019-04-29 21:14:09.000000000,2019-05-01 14:47:05.000000000,2019-05-01 14:47:04.000000000,"[{'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 21:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/eac3d5919022db3c77290db3b8043c331c1fdd38', 'message': 'Make amphora cert validity time configurable\n\nThis affects only the internal certificates that we generate and install\non Amphorae for use with the amphora-agent.\n\nChange-Id: I8c3eb71246d339bd2d43092cce4e6122a49e9534\n'}, {'number': 2, 'created': '2019-04-30 22:30:57.000000000', 'files': ['octavia/tests/unit/controller/worker/tasks/test_cert_task.py', 'releasenotes/notes/make-amphora-cert-validity-configurable-7defc508b1174f89.yaml', 'octavia/controller/worker/tasks/cert_task.py', 'etc/octavia.conf', 'octavia/certificates/common/local.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/57d653cc63d409b8670961e2a6a2556ce9231498', 'message': 'Make amphora cert validity time configurable\n\nThis affects only the internal certificates that we generate and install\non Amphorae for use with the amphora-agent.\n\nChange-Id: I8c3eb71246d339bd2d43092cce4e6122a49e9534\n'}]",7,656404,57d653cc63d409b8670961e2a6a2556ce9231498,17,4,2,10273,,,0,"Make amphora cert validity time configurable

This affects only the internal certificates that we generate and install
on Amphorae for use with the amphora-agent.

Change-Id: I8c3eb71246d339bd2d43092cce4e6122a49e9534
",git fetch https://review.opendev.org/openstack/octavia refs/changes/04/656404/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/tasks/test_cert_task.py', 'releasenotes/notes/make-amphora-cert-validity-configurable-7defc508b1174f89.yaml', 'octavia/controller/worker/tasks/cert_task.py', 'etc/octavia.conf', 'octavia/certificates/common/local.py']",5,eac3d5919022db3c77290db3b8043c331c1fdd38,," ' to env[OS_OCTAVIA_CA_SIGNING_DIGEST] or ""sha256"".'), cfg.IntOpt('cert_validity_time', default=30 * 24 * 60 * 60, help=""The validity time to request for generated Amphora "" ""certificates (in seconds).""),"," ' to env[OS_OCTAVIA_CA_SIGNING_DIGEST] or ""sha256"".')",21,4
openstack%2Fpuppet-tripleo~master~Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9,openstack/puppet-tripleo,master,Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9,redis HA: allow SELinux relabel for /var/run/redis,MERGED,2019-04-29 16:57:12.000000000,2019-05-01 14:46:59.000000000,2019-04-30 11:32:28.000000000,"[{'_account_id': 6926}, {'_account_id': 18851}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 16:57:12.000000000', 'files': ['manifests/profile/pacemaker/database/redis_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/afebff58fb2c5079c68cf2889d959c6dfd2d9993', 'message': 'redis HA: allow SELinux relabel for /var/run/redis\n\n/var/run/redis is bind-mounted from the host, and on every reboot\nthat directory is recreated with default context for the host.\n\nConfigure the bind-mount so that /var/run/redis is relabelled\nwith a container context every time the redis container is started,\nso that kolla can copy its config file and update the owner and\nattributes as expected without SELinux denials.\n\nChange-Id: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9\nPartial-Bug: #1826554\n'}]",0,656368,afebff58fb2c5079c68cf2889d959c6dfd2d9993,12,5,1,20778,,,0,"redis HA: allow SELinux relabel for /var/run/redis

/var/run/redis is bind-mounted from the host, and on every reboot
that directory is recreated with default context for the host.

Configure the bind-mount so that /var/run/redis is relabelled
with a container context every time the redis container is started,
so that kolla can copy its config file and update the owner and
attributes as expected without SELinux denials.

Change-Id: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9
Partial-Bug: #1826554
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/656368/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/redis_bundle.pp'],1,afebff58fb2c5079c68cf2889d959c6dfd2d9993,bug/1826554," 'options' => 'rw,z',"," 'options' => 'rw',",1,1
openstack%2Fcharm-ceph-radosgw~stable%2F19.04~I7621b9671b010a77bb3e94bdd1e80f45274c73e5,openstack/charm-ceph-radosgw,stable/19.04,I7621b9671b010a77bb3e94bdd1e80f45274c73e5,Fix spurious nagios alerts for radosgw service.,MERGED,2019-04-26 14:04:33.000000000,2019-05-01 14:46:44.000000000,2019-05-01 14:46:44.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-04-26 14:04:33.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e034d5e18681fc2952093afe20a78d202ed5be62', 'message': 'Fix spurious nagios alerts for radosgw service.\n\nCurrently, when the charm tears down the default radosgw daemon in\norder to make way for per host daemons, it does not remove the nrpe\ncheck for the daemon. This PR fixes the issue.\n\nIt also closes a gap where alerts for the per host daemons are not\nsetup until a hook that happens to call update_nrpe_checks as a\nside-effect is run.\n\nChange-Id: I7621b9671b010a77bb3e94bdd1e80f45274c73e5\nCloses-Bug: #1825843\n(cherry picked from commit ff90c0f058073292739bab33309d700d9bcfc4c6)\n'}]",0,655913,e034d5e18681fc2952093afe20a78d202ed5be62,17,5,1,26040,,,0,"Fix spurious nagios alerts for radosgw service.

Currently, when the charm tears down the default radosgw daemon in
order to make way for per host daemons, it does not remove the nrpe
check for the daemon. This PR fixes the issue.

It also closes a gap where alerts for the per host daemons are not
setup until a hook that happens to call update_nrpe_checks as a
side-effect is run.

Change-Id: I7621b9671b010a77bb3e94bdd1e80f45274c73e5
Closes-Bug: #1825843
(cherry picked from commit ff90c0f058073292739bab33309d700d9bcfc4c6)
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/13/655913/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'unit_tests/test_hooks.py']",2,e034d5e18681fc2952093afe20a78d202ed5be62,bug/1825843-stable/19.04," @patch.object(ceph_hooks, 'apt_install') @patch.object(ceph_hooks, 'services') @patch.object(ceph_hooks, 'nrpe') def test_update_nrpe_config(self, nrpe, services, apt_install): # Setup Mocks nrpe.get_nagios_hostname.return_value = 'foo' nrpe.get_nagios_unit_name.return_value = 'bar' nrpe_setup = MagicMock() nrpe.NRPE.return_value = nrpe_setup services.return_value = ['baz', 'qux'] # Call the routine ceph_hooks.update_nrpe_config() # Verify calls apt_install.assert_called() nrpe.get_nagios_hostname.assert_called() nrpe.get_nagios_unit_name.assert_called() nrpe.copy_nrpe_checks.assert_called() nrpe.remove_check.assert_not_called() nrpe.add_init_service_checks.assert_called_with(nrpe_setup, ['baz', 'qux'], 'bar') nrpe.add_haproxy_checks.assert_called_with(nrpe_setup, 'bar') nrpe_setup.write.assert_called() # Verify that remove_check is called appropriately if we pass # checks_to_remove ceph_hooks.update_nrpe_config(checks_to_remove=['quux', 'quuux']) nrpe_setup.remove_check.assert_has_calls([call(shortname='quux'), call(shortname='quuux')])",,53,1
openstack%2Ftripleo-heat-templates~master~I36c81f58c3b3e9366212a93f73b6212cca4ea569,openstack/tripleo-heat-templates,master,I36c81f58c3b3e9366212a93f73b6212cca4ea569,ensure /var/run/redis is present upon reboot,MERGED,2019-04-26 15:22:30.000000000,2019-05-01 14:46:42.000000000,2019-04-30 11:32:30.000000000,"[{'_account_id': 6926}, {'_account_id': 15184}, {'_account_id': 18851}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-26 15:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d353034776cd330bacd8066d4d7e6aad0165858d', 'message': ""ensure /var/run/redis is present upon reboot\n\n/var/run is mounted as a tmpfs, which means /var/run/redis\ndisappears on reboot. Since podman doesn't try to recreate a\ndirectory if it doesn't exist, containerized redis cannot\nbe restarted because one of its bind mount is missing.\n\nForce the creation of /var/run/redis after every reboot, with\ndefault permissions. On container restart, Kolla will chown and\nchmod the directory to the proper value.\n\nChange-Id: I36c81f58c3b3e9366212a93f73b6212cca4ea569\nCloses-Bug: #1826554\n""}, {'number': 2, 'created': '2019-04-29 16:59:07.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/redis-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75361e66b0357f9997586bd6581f0abc05f2cc96', 'message': ""ensure /var/run/redis is present upon reboot\n\n/var/run is mounted as a tmpfs, which means /var/run/redis\ndisappears on reboot. Since podman doesn't try to recreate a\ndirectory if it doesn't exist, containerized redis cannot\nbe restarted because one of its bind mount is missing.\n\nForce the creation of /var/run/redis after every reboot, with\ndefault permissions. On container restart, Kolla will chown and\nchmod the directory to the proper value.\n\nChange-Id: I36c81f58c3b3e9366212a93f73b6212cca4ea569\nCloses-Bug: #1826554\nDepends-On: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9\n""}]",0,655925,75361e66b0357f9997586bd6581f0abc05f2cc96,18,7,2,20778,,,0,"ensure /var/run/redis is present upon reboot

/var/run is mounted as a tmpfs, which means /var/run/redis
disappears on reboot. Since podman doesn't try to recreate a
directory if it doesn't exist, containerized redis cannot
be restarted because one of its bind mount is missing.

Force the creation of /var/run/redis after every reboot, with
default permissions. On container restart, Kolla will chown and
chmod the directory to the proper value.

Change-Id: I36c81f58c3b3e9366212a93f73b6212cca4ea569
Closes-Bug: #1826554
Depends-On: Iaa8a99eb9ced21fb6c7c87c5b56dec55383af9a9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/655925/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/redis-container-puppet.yaml']",2,d353034776cd330bacd8066d4d7e6aad0165858d,bug/1826554, - name: ensure /var/run/redis is present upon reboot copy: dest: /etc/tmpfiles.d/var-run-redis.conf content: | d /var/run/redis 0755 root root - -,,10,0
openstack%2Ftripleo-heat-templates~master~I29835c2724b5de884e9825e084780c36837bff84,openstack/tripleo-heat-templates,master,I29835c2724b5de884e9825e084780c36837bff84,Introduce scale_tasks,MERGED,2019-04-10 11:49:55.000000000,2019-05-01 14:46:19.000000000,2019-04-30 23:54:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-04-10 11:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6df4e83c4a08a65539b5c3a8509623af7d5c5440', 'message': 'WIP - Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\n'}, {'number': 2, 'created': '2019-04-10 12:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/50b064de311e5f8652b0fa6bd79c64f0a0459954', 'message': 'WIP - Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\n'}, {'number': 3, 'created': '2019-04-12 02:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c48d63ccaa758e1877bed6c0de75d1e542e9134', 'message': 'WIP - Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\n'}, {'number': 4, 'created': '2019-04-15 21:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d55ca775a151c2facbcfbff73f14faa42d42691', 'message': 'WIP - Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\n'}, {'number': 5, 'created': '2019-04-16 20:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73d4ded915c490623706df6b4572da5fd9a40a7f', 'message': 'WIP - Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\n'}, {'number': 6, 'created': '2019-04-17 22:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00eac9881a41407bbf333558b0e0afbb376a452c', 'message': 'WIP - Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\n'}, {'number': 7, 'created': '2019-04-18 17:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/887b953b5b91b4252712abdb1dfd2bb6f4fa27b8', 'message': 'WIP - Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\n'}, {'number': 8, 'created': '2019-04-18 23:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/397161ba00823ad393f3bce49f8ef432aec226f3', 'message': 'Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\n'}, {'number': 9, 'created': '2019-04-22 13:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8415b4fc79f2dda57d89e5d279d7ca2ccfe09ff0', 'message': 'Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\n'}, {'number': 10, 'created': '2019-04-22 21:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1cfc8f17821589641d96b55e006a1445ee00731', 'message': 'Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\n'}, {'number': 11, 'created': '2019-04-23 18:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2cdb5cc59aea96af69c3ed20d4224ad25724f233', 'message': 'Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 12, 'created': '2019-04-23 18:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/094ab3ab0f73b782f8ec54a1ce4d0f4a611b358d', 'message': 'Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 13, 'created': '2019-04-23 19:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f8172e6a321da07c1ee00def01f0613406a5791', 'message': 'Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 14, 'created': '2019-04-24 15:08:08.000000000', 'files': ['common/deploy-steps.j2', 'common/services/role.role.j2.yaml', 'tools/yaml-validate.py', 'releasenotes/notes/scale_tasks-2042b294d074b37a.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d66b9c1eb7cfd8720414f2fd73f76b514bd7958', 'message': 'Introduce scale_tasks\n\nComposable service templates can now define scale_tasks. They are\nmeant for scale down/up logic of services which need to be\nstopped/started during the scaling procedure. All happens within a single\nplaybook and the down/up Ansible tags are required to differenciate them\nduring the run.\n\nblueprint scale-down-tasks\n\nChange-Id: I29835c2724b5de884e9825e084780c36837bff84\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}]",6,651507,5d66b9c1eb7cfd8720414f2fd73f76b514bd7958,53,6,14,3153,,,0,"Introduce scale_tasks

Composable service templates can now define scale_tasks. They are
meant for scale down/up logic of services which need to be
stopped/started during the scaling procedure. All happens within a single
playbook and the down/up Ansible tags are required to differenciate them
during the run.

blueprint scale-down-tasks

Change-Id: I29835c2724b5de884e9825e084780c36837bff84
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/651507/12 && git format-patch -1 --stdout FETCH_HEAD,"['common/services.yaml', 'common/deploy-steps.j2', 'tools/yaml-validate.py', 'releasenotes/notes/scale_tasks-2042b294d074b37a.yaml']",4,6df4e83c4a08a65539b5c3a8509623af7d5c5440,bp/scale-down-tasks,--- features: - | Composable service templates can now define scale_tasks. They are meant for scale down/up logic of services which need to be stopped/started during the scaling procedure. All happens within a single playbook and the down/up Ansible tags are required to differenciate them during the run. ,,95,1
openstack%2Ftripleo-common~master~I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7,openstack/tripleo-common,master,I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7,Add new healthchecks for zaqar services,MERGED,2019-04-24 16:00:50.000000000,2019-05-01 14:40:23.000000000,2019-05-01 14:28:08.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-04-24 16:00:50.000000000', 'files': ['healthcheck/zaqar-socket', 'healthcheck/zaqar-api'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4f5a275086a6fab538a69bfdb74e002489d7e599', 'message': 'Add new healthchecks for zaqar services\n\nZaqar has 2 containers, one for API (wsgi) and a second one for\nwebsocket (python).\n\nWe therefore want to ensure the ports are in use in the containers.\n\nChange-Id: I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7\n'}]",3,655483,4f5a275086a6fab538a69bfdb74e002489d7e599,16,7,1,28223,,,0,"Add new healthchecks for zaqar services

Zaqar has 2 containers, one for API (wsgi) and a second one for
websocket (python).

We therefore want to ensure the ports are in use in the containers.

Change-Id: I0d5ea0ba630714f7ec3ca4f1361e3235320e52d7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/655483/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/zaqar-socket', 'healthcheck/zaqar-api']",2,4f5a275086a6fab538a69bfdb74e002489d7e599,healthchecks/zaqar,#!/bin/bash . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh check_url=$(get_url_from_vhost /etc/httpd/conf.d/10-zaqar_wsgi.conf) healthcheck_curl ${check_url} ,,21,0
openstack%2Fnova~stable%2Frocky~Ib9a9a9a79499272d740a64cc0b909f0299a237d1,openstack/nova,stable/rocky,Ib9a9a9a79499272d740a64cc0b909f0299a237d1,AZ list performance optimization: avoid double service list DB fetch,MERGED,2019-04-30 13:17:04.000000000,2019-05-01 14:12:46.000000000,2019-05-01 14:12:45.000000000,"[{'_account_id': 9373}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-30 13:17:04.000000000', 'files': ['nova/api/openstack/compute/availability_zone.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/availability_zones.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa275544c27a5b428ad34b4c03be511607d15bf6', 'message': 'AZ list performance optimization: avoid double service list DB fetch\n\nAssume number of services can be large (10000 as in the bug description),\nthis patch removes second service_get_all call.\n\nzone_hosts changed from dict of lists to dict of sets.\n\nThe HostAPI instance from the API controller is also passed to the\nget_availability_zones method so it does not have to recreate it\nper call (this is both for a slight performance gain but mostly also\nfor test sanity).\n\nOn devstack with 10000 services patch decreased response time twice.\n\nopenstack availability zone list --long --timing\n\n...\n\nBefore:\n\n+-------------------------------------------------------------------------------------------+-----------+\n| URL                                                                                       |   Seconds |\n+-------------------------------------------------------------------------------------------+-----------+\n| GET http://192.168.0.45/identity                                                          |  0.006816 |\n| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.456708 |\n| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.087485 |\n| GET http://172.18.237.203/compute/v2.1/os-availability-zone/detail                        | 95.667192 |\n| GET http://172.18.237.203/volume/v2/e2671d37ee2c4374bd1533645261f1d4/os-availability-zone |  0.036528 |\n| Total                                                                                     | 96.254729 |\n+-------------------------------------------------------------------------------------------+-----------+\n\nAfter:\n\n+-------------------------------------------------------------------------------------------+-----------+\n| URL                                                                                       |   Seconds |\n+-------------------------------------------------------------------------------------------+-----------+\n| GET http://192.168.0.45/identity                                                          |  0.020215 |\n| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.102987 |\n| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.111899 |\n| GET http://172.18.237.203/compute/v2.1/os-availability-zone/detail                        | 39.346657 |\n| GET http://172.18.237.203/volume/v2/e2671d37ee2c4374bd1533645261f1d4/os-availability-zone |  0.026403 |\n| Total                                                                                     | 39.608161 |\n+-------------------------------------------------------------------------------------------+-----------+\n\nThe test_availability_zone_detail unit test is updated to assert that\nservices are only retrieved twice (once for enabled, once for disabled).\nWhile in there, the expected response dict is formatted for readability\nand a duplicate zone/host is added to make sure duplicates are handled\nfor available services. To ensure service_get_all is called only twice,\nthe low-level DB API service_get_all stub is replaced with a mock and\nthe mock is changed to be on the HostAPI.service_get_all method which\nis (1) what the API controller code is actually using and (2) allows the\ntest to only mock the instance of the HostAPI being tested - trying to\nmock the DB API service_get_all method causes intermittent failures\nin unrelated tests because of the global nature of that mock.\n\nThere is another opportunity for optimizing get_availability_zones which\nis marked with a TODO but left for a separate patch.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPartial-Bug: #1801897\nChange-Id: Ib9a9a9a79499272d740a64cc0b909f0299a237d1\n(cherry picked from commit 74cefe4266a613d4c2afbb0c791e16eb7789aef4)\n(cherry picked from commit c280d747fb23f1abaaf91eea7f6d11e716c6db42)\n'}]",0,656510,fa275544c27a5b428ad34b4c03be511607d15bf6,11,7,1,6873,,,0,"AZ list performance optimization: avoid double service list DB fetch

Assume number of services can be large (10000 as in the bug description),
this patch removes second service_get_all call.

zone_hosts changed from dict of lists to dict of sets.

The HostAPI instance from the API controller is also passed to the
get_availability_zones method so it does not have to recreate it
per call (this is both for a slight performance gain but mostly also
for test sanity).

On devstack with 10000 services patch decreased response time twice.

openstack availability zone list --long --timing

...

Before:

+-------------------------------------------------------------------------------------------+-----------+
| URL                                                                                       |   Seconds |
+-------------------------------------------------------------------------------------------+-----------+
| GET http://192.168.0.45/identity                                                          |  0.006816 |
| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.456708 |
| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.087485 |
| GET http://172.18.237.203/compute/v2.1/os-availability-zone/detail                        | 95.667192 |
| GET http://172.18.237.203/volume/v2/e2671d37ee2c4374bd1533645261f1d4/os-availability-zone |  0.036528 |
| Total                                                                                     | 96.254729 |
+-------------------------------------------------------------------------------------------+-----------+

After:

+-------------------------------------------------------------------------------------------+-----------+
| URL                                                                                       |   Seconds |
+-------------------------------------------------------------------------------------------+-----------+
| GET http://192.168.0.45/identity                                                          |  0.020215 |
| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.102987 |
| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.111899 |
| GET http://172.18.237.203/compute/v2.1/os-availability-zone/detail                        | 39.346657 |
| GET http://172.18.237.203/volume/v2/e2671d37ee2c4374bd1533645261f1d4/os-availability-zone |  0.026403 |
| Total                                                                                     | 39.608161 |
+-------------------------------------------------------------------------------------------+-----------+

The test_availability_zone_detail unit test is updated to assert that
services are only retrieved twice (once for enabled, once for disabled).
While in there, the expected response dict is formatted for readability
and a duplicate zone/host is added to make sure duplicates are handled
for available services. To ensure service_get_all is called only twice,
the low-level DB API service_get_all stub is replaced with a mock and
the mock is changed to be on the HostAPI.service_get_all method which
is (1) what the API controller code is actually using and (2) allows the
test to only mock the instance of the HostAPI being tested - trying to
mock the DB API service_get_all method causes intermittent failures
in unrelated tests because of the global nature of that mock.

There is another opportunity for optimizing get_availability_zones which
is marked with a TODO but left for a separate patch.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Partial-Bug: #1801897
Change-Id: Ib9a9a9a79499272d740a64cc0b909f0299a237d1
(cherry picked from commit 74cefe4266a613d4c2afbb0c791e16eb7789aef4)
(cherry picked from commit c280d747fb23f1abaaf91eea7f6d11e716c6db42)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/656510/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/availability_zone.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/availability_zones.py']",3,fa275544c27a5b428ad34b4c03be511607d15bf6,bug/1801897," with_hosts=False, enabled_services=None, hostapi=None): :param enabled_services: list of enabled services to use; if None enabled services will be retrieved from all cells with zones set :param hostapi: nova.compute.api.HostAPI instance # TODO(mriedem): Make hostapi a required arg in a non-backportable FUP. if hostapi is None: # NOTE(danms): Avoid circular import from nova import compute hostapi = compute.HostAPI() if enabled_services is None: enabled_services = hostapi.service_get_all( context, {'disabled': False}, set_zones=True, all_cells=True) # TODO(mriedem): We could probably optimize if we know that we're going # to get both enabled and disabled services and just pull them all from # the cell DBs at the same time and then filter into enabled/disabled # lists in python."," with_hosts=False): # NOTE(danms): Avoid circular import from nova import compute hostapi = compute.HostAPI() enabled_services = hostapi.service_get_all( context, {'disabled': False}, set_zones=True, all_cells=True)",95,36
openstack%2Fopenstack-helm-images~master~Ib278deedb8e1daaa6d5e33a73a0fbf12bbee407e,openstack/openstack-helm-images,master,Ib278deedb8e1daaa6d5e33a73a0fbf12bbee407e,Add tempest suse image and zuul job,MERGED,2019-04-08 15:40:35.000000000,2019-05-01 14:08:31.000000000,2019-05-01 14:06:48.000000000,"[{'_account_id': 2062}, {'_account_id': 7069}, {'_account_id': 7102}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-04-08 15:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fbd0caf42bfe5aea9e0192816efeef573e5f1f79', 'message': 'Add tempest suse image and version ARG\n\nAdds dockerfile for building tempest under suse.\nAdds the BRANCH argument to allow for more control on what version\nof tempest+plugins we use when building the image. Currently\npointing at master to not change behaviour\n\nChange-Id: Ib278deedb8e1daaa6d5e33a73a0fbf12bbee407e\n'}, {'number': 2, 'created': '2019-04-09 09:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c80e50459d8c4569456c00b28711443cfaca0ff8', 'message': 'Add tempest suse image\n\nAdds dockerfile for building tempest under suse.\n\nChange-Id: Ib278deedb8e1daaa6d5e33a73a0fbf12bbee407e\n'}, {'number': 3, 'created': '2019-04-09 11:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f14e084e0f76aceb9b9477077cf0516650fa0daf', 'message': 'Add tempest suse image\n\nAdds dockerfile for building tempest under suse.\n\nChange-Id: Ib278deedb8e1daaa6d5e33a73a0fbf12bbee407e\n'}, {'number': 4, 'created': '2019-04-09 11:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/876be36a6e031e4fcf2354508b49901c8be24f7d', 'message': 'Add tempest suse image and zuul job\n\nAdds dockerfile for building tempest under suse and build\nit with zuul\n\nChange-Id: Ib278deedb8e1daaa6d5e33a73a0fbf12bbee407e\n'}, {'number': 5, 'created': '2019-04-10 09:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4cd4b733db5c6b7b54084ee3e34a2f9233fb8365', 'message': 'Add tempest suse image and zuul job\n\nAdds dockerfile for building tempest under suse and build\nit with zuul\n\nChange-Id: Ib278deedb8e1daaa6d5e33a73a0fbf12bbee407e\n'}, {'number': 6, 'created': '2019-04-11 12:54:04.000000000', 'files': ['tempest/Dockerfile.opensuse_15', 'zuul.d/tempest.yaml', 'tempest/Cloud:OpenStack:Master-openSUSE_Leap_15.0.gpgkey'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c105e83cd361fc978867d70691278026ed7feadd', 'message': 'Add tempest suse image and zuul job\n\nAdds dockerfile for building tempest under suse and build\nit with zuul\n\nChange-Id: Ib278deedb8e1daaa6d5e33a73a0fbf12bbee407e\n'}]",18,650933,c105e83cd361fc978867d70691278026ed7feadd,35,10,6,12281,,,0,"Add tempest suse image and zuul job

Adds dockerfile for building tempest under suse and build
it with zuul

Change-Id: Ib278deedb8e1daaa6d5e33a73a0fbf12bbee407e
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/33/650933/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/Dockerfile.suse_15', 'tempest/Dockerfile.ubuntu_xenial', 'tempest/build.sh']",3,fbd0caf42bfe5aea9e0192816efeef573e5f1f79,add_suse_tempest_image,"BRANCH=${BRANCH:-master} # tempest does not follow the traditional openstack release naming # as some versions support up to 3 previous versions # between version and branch we should be able to create a map of semver <-> release name # in case we want to push tempest images tagged with the openstack version (i.e. queens, rocky, etc..) # for the moment, latest will be the master tag on the repos and we push those",,36,5
openstack%2Fnova-specs~master~I227bae0acc223cfc5e068a23eef825cc264f5376,openstack/nova-specs,master,I227bae0acc223cfc5e068a23eef825cc264f5376,Separate the vCPUs into different pools based on priority,ABANDONED,2019-04-04 06:07:32.000000000,2019-05-01 13:52:09.000000000,,"[{'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 10068}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 30209}]","[{'number': 1, 'created': '2019-04-04 06:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/47fc16b78580b4bdb419edf63fda8509aa557032', 'message': ""Separate the vCPUs into different pools based on priority\n\nIntroduce prioritized CPU pool based on kernel 'cpufreq' module. Instance,\nthen, will be possible to apply vCPU based on priority.\n\nChange-Id: I227bae0acc223cfc5e068a23eef825cc264f5376\nBlueprint: separate-vcpu-into-different-priority-pool\n""}, {'number': 2, 'created': '2019-04-04 07:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6ea498e898212d5dfb9cca8b69ed1ebd2283553e', 'message': ""Separate the vCPUs into different pools based on priority\n\nIntroduce prioritized CPU pool based on kernel 'cpufreq' module. Instance,\nthen, will be possible to apply vCPU based on priority.\n\nChange-Id: I227bae0acc223cfc5e068a23eef825cc264f5376\nBlueprint: separate-vcpu-into-different-priority-pool\n""}, {'number': 3, 'created': '2019-04-09 13:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/abd2ba916dfe93e61d24d7f652fcf99db2223e11', 'message': ""Separate the vCPUs into different pools based on priority\n\nIntroduce prioritized CPU pool based on kernel 'cpufreq' module. Instance,\nthen, will be possible to apply vCPU based on priority.\n\nChange-Id: I227bae0acc223cfc5e068a23eef825cc264f5376\nBlueprint: separate-vcpu-into-different-priority-pool\n""}, {'number': 4, 'created': '2019-04-20 03:24:01.000000000', 'files': ['specs/train/approved/separate-vcpu-into-different-priority-pool.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1609e1a819fe20e83e480a3f515d928f8fa3e695', 'message': 'Separate the vCPUs into different pools based on priority\n\nThis specification is for nova to be aware of the CPUs that has a performance\npriority and manage guest instance upon these CPUs.\n\nChange-Id: I227bae0acc223cfc5e068a23eef825cc264f5376\nBlueprint: separate-vcpu-into-different-priority-pool\n'}]",101,649882,1609e1a819fe20e83e480a3f515d928f8fa3e695,34,8,4,30209,,,0,"Separate the vCPUs into different pools based on priority

This specification is for nova to be aware of the CPUs that has a performance
priority and manage guest instance upon these CPUs.

Change-Id: I227bae0acc223cfc5e068a23eef825cc264f5376
Blueprint: separate-vcpu-into-different-priority-pool
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/82/649882/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/separate-vcpu-into-different-priority-pool.rst'],1,47fc16b78580b4bdb419edf63fda8509aa557032,bp/separate-vcpu-into-different-priority-pool,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================== Separate the vCPUs into different pool based on priority ======================================================== https://blueprints.launchpad.net/nova/+spec/separate-vcpu-into-different-priority-pool Linux Kernel supports scaling CPU frequency up or down, originally for the purpose of saving power, which could be used to create CPU pools of different performance priority. This benefits a lot for some typical cloud scenario which expects a stable or sustainable high-performance service quality for the vital workload. This specification proposes exposing CPU priority through Nova so the operator can make the utilization of CPU resources more effectively. Problem description =================== Linux provides the way [1]_ to tune the priority on each CPU. For example, the max frequency and min frequency for a CPU can be configured by `/sys/devices/system/cpu/cpu[id]/cpufreq/scaling_min_freq` and ` `/sys/devices/system/cpu/cpu[id]/cpufreq/scaling_max_freq`. Also echo host CPU is capable of selecting its own frequency scaling governor. For example, the `performance` governor runs the CPU at the maximum frequency, the `on-demand` governor scales the frequency dynamically according to current load to save power but with some extra latency when switching the power state. This provides the operator with more possibility to arrange CPU resource. Running low priority workloads on lower performance CPUs will consume less power and save power headroom, then the high priority workloads on the same host could obtain higher and sustainable performance by running on higher priority CPUs. Use Cases --------- * In order to save data center Total Cost Ownership(TCO), operators normally requires to increase CPU utilization by deploying multiple workloads on the host. But for some critical workload, the workload service quality is required to be guaranteed. These high priority workloads could be deployed on the high priority CPUs. * For multiple workloads deployment scenario, the whole CPU utilization is not that high, and the general power requirement is saving power. While there exists some high priority workloads which are expected to run on higher frequency CPUs continuously without the latency of switching power state by the governor. * The NFV user has a workload which needs one or two higher frequency CPUs for important tasks, and another few tasks which can be running on lower frequency CPUs. An example of such a workload is Open VSwitch (OVS) where the OVS threads using DPDK are high priority and serves as the switching layer between other VNFs. Proposed change =============== Specify instance vCPU priority requirement ------------------------------------------ To enable the administrator to specify the priority of each vCPU in the flavor, propose to introduce a new extra specs `hw:cpus.[Traits] = CPU LIST`. This new extra specs is binding to the existed NUMA related extra specs. That means only the guest which has NUMA topology is allowed to set the priority of vCPUs. This is due to the guest NUMA topology is the only place to describe the guest CPU topology in Nova. Example 1:: flavor: vcpus=12 extra_specs: hw:numa_nodes=1 hw:cpus.HW_CPU_HIGH_PRIORITY=0-3 hw:cpus.HW_CPU_LOW_PRIORITY=8-11 This flavor has 12 vCPUs and 1 NUMA node, the first 4 vCPUs are high priority, and the last 4 vCPUs are low priority, the rest of vCPUs are just normal vCPUs without a explicit priority. Since 'cpu_policy' is not explicitly specified, it will take the default 'share' CPU policy, in contrast with 'dedicated' CPU policy that vCPU will be assigned to a particular host CPU, each of the vCPU will float across a range of host CPUs. This proposal extends the 'shared' CPU policy to let prioritized vCPUs run on hot CPU list in same priority. In the above example, it requires the first 4 vCPUs to float across host CPUs that has a priority of 'HW_CPU_HIGH_PRIORITY', and the last 4 vCPUs float across host CPUs of 'HW_CPU_LOW_PRIORITY', the remaining vCPUs are required to run across host CPUs that do not have an explicit CPU priority. But all of those pCPUs are in single NUMA node, since the flavor is asking the guest only has one NUMA node. Example 2:: flavors: vcpus=12 extra_specs: hw:numa_nodes=2 hw:cpu_policy=dedicated hw:cpus.HW_CPU_HIGH_PRIORITY=0-3 hw:cpus.HW_CPU_LOW_PRIORITY=6-9 This flavor has 12 vCPUs and 2 NUMA node. Each NUMA node has 6 vCPUs. The first 4 vCPUs in each NUMA node have priority specified. The server will be separated into two host NUMA node, and the prioritized vCPUs will be pinned to the prioritized pCPUs in the specific NUMA node. For the flavor, the CPU policy is dedicated CPU, the prioritized vCPU will be 1:1 pinned to the pCPU with specific priority. Configure the CPU priority for compute node ------------------------------------------- Proposal new configuration option to configure the priority for each CPU:: cpu_set_priorities = [Trait1]:[CPU IDs] [Trait2][CPU IDs] Example:: cpu_set_priorities = HW_CPU_HIGH_PRIORITY_CPU:0-7 HW_CPU_LOW_PRIORITY:40-47 The operator can tune the CPU by Linux sysfs or any tools, and then fill the CPU priorities in the configuration `cpu_set_priorities`. Those logic are expected to be done by a deployment tools or scripts. Nova should track prioritized CPU resource based on the configuration `cpu_set_priorities`. The reconfiguration is only allowed when there is no workload on the host. Otherwise, the nova-compute restart operation will lead to a failure at the startup checking stage. Prioritized CPU resource tracking --------------------------------- Nova should report those host prioritized CPU resources as different resource providers with distinct specific trait. Using the legacy NUMA topology object in the nova database to track prioritized CPU to implement the NUMA affinity. For example, given a host with 24 cores, Hyper-Thread enabled, the allocation ratio is `1:8`, the first 4 cores have high priority, and the last 4 cores have low priority, then the host configuration and resource tree would be:: Config: cpu_set_priorities = HW_CPU_HIGH_PRIORITY_CPU:0-7 HW_CPU_LOW_PRIORITY:40-47 RP tree: * ComputeNode RP Inventory: resource=VCPU, total=32, allocation_ratio=8 resource=MEMORY_GB, total=1024 resource=DISK_GB, total=1024 * Child RP1 Inventories: resource = VCPU, total = 8, allocation_ratio = 8 Traits: HW_CPU_HIGH_PRIORITY_CPU * Child RP2 Inventories: resource = VCPU, total = 8, allocation_ratio = 8 Traits: HW_CPU_LOW_PRIORITY_CPU The `NUMATopologyCell` object will be extended to track prioritized CPUs, which will be described in the `Data Model Impact` section. In the same time, there are some proposals that community is working on may change the structure of resource provider tree. There will be some vision based on those proposals. * `Proposes NUMA topology with RPs` [3]_: The child resource provider of priority vCPUs's parent resource provider should be NUMA node resource provider. The vCPU without priority will be in the NUMA node resource provider just like the specification described. But there will be a gap to describe the affinity between the prioritized vCPU and NUMA node with placement request [4]_. And there need a reshape to move priority vCPU RP under the NUMA node RP. * `Standardize CPU resource tracking` [5]_: The priority vCPU RP will be moved under shared and dedicated vCPU RP. It needs reshape also. The `NUMATopologyCell` object will be extended to track prioritized CPUs. Alternatives ------------ Configure the CPU priorities VS. Discovering the CPU priorities ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This speceficiation proposes configuring the CPU priority by the config option, not discover those by the Nova itself. An alternative is discovering the CPU priority through hypervisor. There are multiple ways to configure the CPU freq, like you can set the scaling_min_freq and scaling_max_freq to adjust the CPU frequency directly. You also can choose different CPUfreq governor for different CPU cores. If let Nova to discover the CPU priority through the hypervisor, it means the implementation will bind to specific technology. That will lose the flexible for the future and the user choice. It also still need a mapping between the Traits and system configuration. For example, it is hard to say which value in the sysfs scaling_min_freq and scaling_max_freq is high priority or low priority, this should be defined by the operator. Extra specs VS. Request groups ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Actually, this is a discussion point in the extra specs [3]_ also. But there are some benefits of using extra specs can be found in this proposal. This extra specs propose to translate the extra specs into the placement request, to backward the compatible with existed flavor, the VCPU, MEMORY_MB and DISK_GB will be put into same request, then it will ensure the existed flavor with no priority VCPU is allocated from the non-priority VCPU. Then the user needn't modify their existed flavor. Also you can see how complex to build a request group manually. Data model impact ----------------- Introduce new field to the NUMACell object:: @base.NovaObjectRegistry.register class NUMACell(base.NovaObject): fields = { 'cpu_priorities': ListOfObjectsField('CPUPriority', nullable=True) .... } The new object `CPUPriority` as below:: @base.NovaObjectRegistry.register class CPUPriority(base.NovaObject): fields = { 'priority': fields.StringField(), 'cpuset': fields.SetOfIntegersField(), 'cpu_usage': fields.IntegerField() } The `priority` field is reference to the Trait. The `cpuset` is set of pCPU ids which in specific priority. the `cpu_usage` is used to track the usage of those prioritized CPU. Also introduce new field to InstanceNUMACell which is used to store the original request:: @base.NovaObjectRegistry.register class InstanceNUMACell(base.NovaObject): fields = { 'cpu_priorities': obj_fields.DictOfSetsField(nullable=True) ..... } The key of `cpu_priorities` field is the Trait which indicate the priority. The value is a set of guest CPU ids which are parsed from the flavor extra specs. REST API impact --------------- The new extra specs is introduced:: 'hw:cpus.[PRIORITY]' = CPU_LIST There is no microverison required. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- For the server configured with different CPU priorities, the operator won't expect to running a server whose VCPUs are floating on all the pCPU. The operator will expect the high priority pCPU only be allocated to the high priority workload. So we should suggest the deployer separate this two kinds of workloads into different host aggregate. Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Bind prioritiezed vCPU to corresponding host CPUs ------------------------------------------------- If instance CPU allocation policy is 'shared', each vCPU will float across all host CPUs that has same CPU priority. If the instance CPU allocation policy is 'dedicated' then each vCPU will be assigned to a particular host CPU, in the way of 1:1 pinning, that has the same CPU priority. Take an example, if there is a host equipped with 12 CPUs, and the CPU 0-7 are configured as high priority CPUs with tag 'HW_CPU_HIGH_PRIORITY_CPU', the remaining CPU, 8-11, are low priority CPUs with a tag 'HW_CPU_LOW_PRIORITY_CPU'. The host CPU priority list in `nova.conf` should be:: cpu_set_priorities = HW_CPU_HIGH_PRIORITY_CPU:0-7 HW_CPU_LOW_PRIORITY_CPU:8-11 If wanted an instance with 4 vCPUs, where the first 2 vCPUs are required to be tagged as 'HW_CPU_HIGH_PRIORITY_CPU and the left 2 vCPUs for 'HW_CPU_LOW_PRIORITY_CPU', the libvirt driver will create following libvirt configrations depending on 'cpu_policy'. Libvirt CPU pinning strategy for the 'shared' CPU policy ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ If the instance CPU allocation policy 'cpu_policy' is 'shared', the libvirt CPU pinning strategy are:: <cputune> <vcpupin vcpu='0' cpuset='0-7'/> <vcpupin vcpu='1' cpuset='0-7'/> <vcpupin vcpu='2' cpuset='8-11'/> <vcpupin vcpu='3' cpuset='8-11'/> </cputune> Libvirt CPU pinning strategy for the 'dedicated' CPU policy ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ If the instance 'cpu_policy' is 'dedicated', then vCPU will be 1:1 pinned to a host CPU, the libvirt CPU pinning strategy are:: <cputune> <vcpupin vcpu='0' cpuset='0'/> <vcpupin vcpu='1' cpuset='1'/> <vcpupin vcpu='2' cpuset='8'/> <vcpupin vcpu='3' cpuset='9'/> </cputune> Assignee(s) ----------- Primary assignee: Wang, Huaqiang <huaqiang.wang@intel.com> Other contributors: Alex Xu <hejie.xu@intel.com> Eric Fried <openstack@fried.cc> Work Items ---------- * Update NUMATopology and InstanceNUMATopology object model. * Add and Parse the config `cpu_set_priorities`. * Report the priority VCPUs to placement. * Report the priority VCPUs to the DB. * Implement the translation of placement request * Implement parse the extra specs and put into InstanceNUMATopology obj. Dependencies ============ None Testing ======= The unittests and functional tests will be required. Documentation Impact ==================== The administrator document should be added to introduce the usage of `cpu_set_priorities` config option, also introduce the way of tuning the CPU. References ========== .. [1] https://www.kernel.org/doc/Documentation/cpu-freq/user-guide.txt .. [2] https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/power_management_guide/cpufreq_governors .. [3] https://review.openstack.org/552924 .. [4] https://etherpad.openstack.org/p/placement-inter-provider-affinity .. [5] https://review.openstack.org/#/c/555081/ History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,421,0
openstack%2Fmagnum~master~I01122fa029b4124d912e80ea43bca07b8f2ebe5c,openstack/magnum,master,I01122fa029b4124d912e80ea43bca07b8f2ebe5c,Disable broken image building,MERGED,2019-04-30 09:33:57.000000000,2019-05-01 13:30:01.000000000,2019-05-01 13:30:01.000000000,"[{'_account_id': 6484}, {'_account_id': 6547}, {'_account_id': 11536}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 09:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/04e4e618cfd8eff8d18d127f3bcca821131dd883', 'message': ""WIP: Fix image building\n\nThe periodic jobs for building images are all failing, fix them:\n\n1) Remove fedora-atomic/install_imagebuild_deps.sh, it was removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements as required-repo for the build\n   jobs, it's a requirement.\n\nAdd the build image jobs as experimental so that they can be easily\ntriggered.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}, {'number': 2, 'created': '2019-04-30 09:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/301cd860add0d5a60ca880472b84a524b353cf6a', 'message': ""WIP: Fix image building\n\nThe periodic jobs for building images are all failing, fix them:\n\n1) Remove fedora-atomic/install_imagebuild_deps.sh, it was removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements as required-repo for the build\n   jobs, it's a requirement.\n\nWIP: Update zuul.yaml to be able to test this as check job.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}, {'number': 3, 'created': '2019-04-30 09:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ee7904bba5880275fb14df01d1a95b208f62cb6d', 'message': ""WIP: Fix image building\n\nThe periodic jobs for building images are all failing, fix them:\n\n1) Remove fedora-atomic/install_imagebuild_deps.sh, it was removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements as required-repo for the build\n   jobs, it's a requirement.\n\nWIP: Update zuul.yaml to be able to test this as check job.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}, {'number': 4, 'created': '2019-04-30 10:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/007f179d7fe4e7d87590acfc43a4d0968bc8e080', 'message': ""WIP: Fix image building\n\nThe periodic jobs for building images are all failing, fix them:\n\n1) Remove fedora-atomic/install_imagebuild_deps.sh, it was removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements as required-repo for the build\n   jobs, it's a requirement.\n\nWIP: Update zuul.yaml to be able to test this as check job.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}, {'number': 5, 'created': '2019-04-30 11:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3aa160235503b27f45ccd3eaf96bb3188f4bf4aa', 'message': ""WIP: Fix image building\n\nThe periodic jobs for building images are all failing, fix them:\n\n1) Remove fedora-atomic/install_imagebuild_deps.sh, it was removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements as required-repo for the build\n   jobs, it's a requirement.\n\nWIP: Update zuul.yaml to be able to test this as check job.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}, {'number': 6, 'created': '2019-04-30 11:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4f52f19570856160220a9de208b8002285e60c76', 'message': ""WIP: Fix image building\n\nThe periodic jobs for building images are all failing, fix them:\n\n1) Remove fedora-atomic/install_imagebuild_deps.sh, it was removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements as required-repo for the build\n   jobs, it's a requirement.\n\nWIP: Update zuul.yaml to be able to test this as check job.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}, {'number': 7, 'created': '2019-04-30 11:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e3c39b3d9ef838714b5d22f4fc8568fb278a456e', 'message': ""WIP: Fix image building\n\nThe periodic jobs for building images are all failing, fix them:\n\n1) Remove fedora-atomic/install_imagebuild_deps.sh, it was removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements as required-repo for the build\n   jobs, it's a requirement.\n\nWIP: Update zuul.yaml to be able to test this as check job.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}, {'number': 8, 'created': '2019-04-30 11:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d1e9fcdbeb1cb307617a066f48c9ce78d59c68a3', 'message': ""WIP: Fix image building\n\nThe periodic jobs for building images are all failing, fix them:\n\n1) Remove fedora-atomic/install_imagebuild_deps.sh, it was removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements as required-repo for the build\n   jobs, it's a requirement.\n\nWIP: Update zuul.yaml to be able to test this as check job.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}, {'number': 9, 'created': '2019-04-30 11:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/853ef3d36b3476c332e8f2937176fba026e337b3', 'message': 'WIP: Fix image building\n\nThe periodic jobs for building images are all failing, fix them:\n\n1) Remove usage of own Fedora image build tools, they were removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements and\n   openstack/heat-templates as required-repo for the build\n   jobs, they are requirements.\n\nWIP: Update zuul.yaml to be able to test this as check job.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n'}, {'number': 10, 'created': '2019-04-30 11:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/33918ad2bf590c38f701f4bcabcc346843922926', 'message': ""Disable broken image building\n\nThe periodic jobs for building images are all failing, add some\nlow-hanging fruits for fixing:\n\n1) Remove usage of own Fedora image build tools, they were removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements and\n   openstack/heat-templates as required-repo for the build\n   jobs, they are requirements.\n\nStill, these are still failing, let's disable the periodic jobs.\nThey have been broken since ages without fixing. There's no\nrecord of a successful run under Zuul v3.\nLast images at http://tarballs.openstack.org/magnum/images/ are from\n2017.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}, {'number': 11, 'created': '2019-04-30 11:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0e8739c357032ea10c06fdff32a5be94ee6c368b', 'message': ""Disable broken image building\n\nThe periodic jobs for building images are all failing, add some\nlow-hanging fruits for fixing:\n\n1) Remove usage of own Fedora image build tools, they were removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements and\n   openstack/heat-templates as required-repo for the build\n   jobs, they are requirements.\n\nStill, these are still failing, let's disable the periodic jobs.\nThey have been broken since ages without fixing. There's no\nrecord of a successful run under Zuul v3.\nLast images at http://tarballs.openstack.org/magnum/images/ are from\n2017.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}, {'number': 12, 'created': '2019-04-30 11:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ad48eedf10080a6adc8382ee2b4e37bcb2612230', 'message': ""Disable broken image building\n\nThe periodic jobs for building images are all failing, add some\nlow-hanging fruits for fixing:\n\n1) Remove usage of own Fedora image build tools, they were removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements and\n   openstack/heat-templates as required-repo for the build\n   jobs, they are requirements.\n\nStill, these are still failing, let's disable the periodic jobs.\nThey have been broken since ages without fixing. There's no\nrecord of a successful run under Zuul v3.\nLast images at http://tarballs.openstack.org/magnum/images/ are from\n2017.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}, {'number': 13, 'created': '2019-04-30 13:26:13.000000000', 'files': ['.zuul.yaml', 'playbooks/magnum-buildimages-base.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/42c75c4d3d84830b2f902954fe3ff4664993161a', 'message': ""Disable broken image building\n\nThe periodic jobs for building images are all failing, add some\nlow-hanging fruits for fixing:\n\n1) Remove usage of own Fedora image build tools, they were removed as\n   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.\n2) Add openstack/tripleo-image-elements and\n   openstack/heat-templates as required-repo for the build\n   jobs, they are requirements.\n\nStill, these are still failing, let's disable the periodic jobs.\nThey have been broken since ages without fixing. There's no\nrecord of a successful run under Zuul v3.\nLast images at http://tarballs.openstack.org/magnum/images/ are from\n2017.\n\nChange-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c\n""}]",1,656485,42c75c4d3d84830b2f902954fe3ff4664993161a,29,6,13,6547,,,0,"Disable broken image building

The periodic jobs for building images are all failing, add some
low-hanging fruits for fixing:

1) Remove usage of own Fedora image build tools, they were removed as
   part of change Ie6a8496c202ff0bf330dd0f434cff8777e5ef112.
2) Add openstack/tripleo-image-elements and
   openstack/heat-templates as required-repo for the build
   jobs, they are requirements.

Still, these are still failing, let's disable the periodic jobs.
They have been broken since ages without fixing. There's no
record of a successful run under Zuul v3.
Last images at http://tarballs.openstack.org/magnum/images/ are from
2017.

Change-Id: I01122fa029b4124d912e80ea43bca07b8f2ebe5c
",git fetch https://review.opendev.org/openstack/magnum refs/changes/85/656485/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/magnum-buildimages-base.yaml']",2,04e4e618cfd8eff8d18d127f3bcca821131dd883,test-periodic,, $MAGNUM_ELEMENTS/fedora-atomic/install_imagebuild_deps.sh,13,6
openstack%2Fmagnum~master~Ieed605c8e6d020b224cacf377b5a6178669ecf1a,openstack/magnum,master,Ieed605c8e6d020b224cacf377b5a6178669ecf1a,Fix container-build job,MERGED,2019-04-30 13:26:13.000000000,2019-05-01 13:29:59.000000000,2019-05-01 13:29:59.000000000,"[{'_account_id': 6484}, {'_account_id': 6547}, {'_account_id': 8064}, {'_account_id': 11536}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 13:26:13.000000000', 'files': ['.zuul.yaml', 'playbooks/container-builder-vars.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ef0678ec98cd4125b053274ece7648a3167fc4fd', 'message': 'Fix container-build job\n\nFix container-build variable due to move from git.openstack.org to\nopendev.org.\n\nAlso, rename the job following the naming guidelines [1]. We have a\nshared namespace and job names need to start with the repo name.\n\n[1] https://docs.openstack.org/infra/manual/drivers.html#consistent-naming-for-jobs-with-zuul-v3\n\nChange-Id: Ieed605c8e6d020b224cacf377b5a6178669ecf1a\n'}]",0,656513,ef0678ec98cd4125b053274ece7648a3167fc4fd,10,7,1,6547,,,0,"Fix container-build job

Fix container-build variable due to move from git.openstack.org to
opendev.org.

Also, rename the job following the naming guidelines [1]. We have a
shared namespace and job names need to start with the repo name.

[1] https://docs.openstack.org/infra/manual/drivers.html#consistent-naming-for-jobs-with-zuul-v3

Change-Id: Ieed605c8e6d020b224cacf377b5a6178669ecf1a
",git fetch https://review.opendev.org/openstack/magnum refs/changes/13/656513/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/container-builder-vars.yaml']",2,ef0678ec98cd4125b053274ece7648a3167fc4fd,test-periodic,"magnum_src_dir: ""src/opendev.org/openstack/magnum""","magnum_src_dir: ""src/git.openstack.org/openstack/magnum""",6,6
openstack%2Fironic~master~Iddc59ed113fb9808f8c8564433475638491be84f,openstack/ironic,master,Iddc59ed113fb9808f8c8564433475638491be84f,Removes `hash_distribution_replicas` configuration option,MERGED,2019-04-08 14:21:23.000000000,2019-05-01 13:27:53.000000000,2019-05-01 13:27:53.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 28429}, {'_account_id': 30013}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-04-08 14:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ccbbc9359bfc2707253c0a64266109320d56c0d', 'message': 'Removes `hash_distribution_replicas` configuration option\n\n`hash_distribution_replicas` was deprecated in the Stein cycle (12.0.0).\n\nStory: #1680160\nTask: #30033\n\nChange-Id: Iddc59ed113fb9808f8c8564433475638491be84f\n'}, {'number': 2, 'created': '2019-04-08 14:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d55b759291e4fd1fdbd13d6194ea85fcaf5c8871', 'message': 'Removes `hash_distribution_replicas` configuration option\n\n`hash_distribution_replicas` was deprecated in the Stein cycle (12.0.0).\n\nStory: #1680160\nTask: #30033\n\nChange-Id: Iddc59ed113fb9808f8c8564433475638491be84f\n'}, {'number': 3, 'created': '2019-04-08 17:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae339a227791a0a73cc391c41226e5a7c31a536c', 'message': 'Removes `hash_distribution_replicas` configuration option\n\n`hash_distribution_replicas` was deprecated in the Stein cycle (12.0.0).\n\nStory: #1680160\nTask: #30033\n\nChange-Id: Iddc59ed113fb9808f8c8564433475638491be84f\n'}, {'number': 4, 'created': '2019-04-10 14:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c8a0de8e01f0fc7a661794bee6ab52fa4dba086f', 'message': 'Removes `hash_distribution_replicas` configuration option\n\n`hash_distribution_replicas` was deprecated in the Stein cycle (12.1.0).\n\nStory: #1680160\nTask: #30033\n\nChange-Id: Iddc59ed113fb9808f8c8564433475638491be84f\n'}, {'number': 5, 'created': '2019-04-19 09:41:46.000000000', 'files': ['doc/source/admin/report.txt', 'releasenotes/notes/remove-deprecated-hash_distribution_replicas-08351358eba4c9e1.yaml', 'ironic/conductor/base_manager.py', 'ironic/conf/default.py', 'ironic/conductor/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9540f5d22bb733ca0598e3dfdf3b6cb00b9043e', 'message': 'Removes `hash_distribution_replicas` configuration option\n\n`hash_distribution_replicas` was deprecated in the Stein cycle (12.1.0).\n\nStory: #1680160\nTask: #30033\n\nChange-Id: Iddc59ed113fb9808f8c8564433475638491be84f\n'}]",8,650912,e9540f5d22bb733ca0598e3dfdf3b6cb00b9043e,66,12,5,30013,,,0,"Removes `hash_distribution_replicas` configuration option

`hash_distribution_replicas` was deprecated in the Stein cycle (12.1.0).

Story: #1680160
Task: #30033

Change-Id: Iddc59ed113fb9808f8c8564433475638491be84f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/650912/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/report.txt', 'ironic/conductor/base_manager.py', 'ironic/conf/default.py', 'ironic/conductor/rpcapi.py']",4,9ccbbc9359bfc2707253c0a64266109320d56c0d,remove-hash_distribution_replicas, dest = ring.get_nodes(node.uuid.encode('utf-8'))," dest = ring.get_nodes(node.uuid.encode('utf-8'), replicas=CONF.hash_distribution_replicas)",2,14
openstack%2Fpython-magnumclient~master~I90b3d96348fede667b9895f87e879a816420216a,openstack/python-magnumclient,master,I90b3d96348fede667b9895f87e879a816420216a,Dropping the py35 testing,MERGED,2019-04-14 23:03:15.000000000,2019-05-01 13:01:23.000000000,2019-05-01 13:01:23.000000000,"[{'_account_id': 6484}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-14 23:03:15.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/9f5b8c790a40e7e6e229474e2fd0f03b9fa48a3f', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I90b3d96348fede667b9895f87e879a816420216a\n'}]",0,652395,9f5b8c790a40e7e6e229474e2fd0f03b9fa48a3f,8,4,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I90b3d96348fede667b9895f87e879a816420216a
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/95/652395/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,9f5b8c790a40e7e6e229474e2fd0f03b9fa48a3f,dropping-py35-testing,"envlist = py36,py27,pypy,pep8","envlist = py36,py35,py27,pypy,pep8[testenv:debug-py35] basepython = python3.5 commands = oslo_debug_helper -t magnumclient/tests {posargs} ",1,7
openstack%2Fopenstack-ansible-openstack_openrc~stable%2Frocky~I2607f1617c37181c5de2cd49634e6e487f7a22d9,openstack/openstack-ansible-openstack_openrc,stable/rocky,I2607f1617c37181c5de2cd49634e6e487f7a22d9,Change locale for openrc,MERGED,2019-04-30 15:01:21.000000000,2019-05-01 09:30:28.000000000,2019-05-01 09:30:28.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-04-30 15:01:21.000000000', 'files': ['templates/openrc.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/bb7eca2988d209f12b116311955e753fdf088164', 'message': ""Change locale for openrc\n\nWhen there is a special char in the name of a server or something else,\nopenstack client cannot print the char and throw this error:\n'ascii' codec can't encode character u'\\xe8' in position 106729: ordinal not in range(128)\n\nChanging the locale to C.UTF-8 fix this small issue.\n\nChange-Id: I2607f1617c37181c5de2cd49634e6e487f7a22d9\n(cherry picked from commit ef3fe9966fff2570ce2b40094921abe17fa3f2a1)\n""}]",0,656527,bb7eca2988d209f12b116311955e753fdf088164,7,3,1,13095,,,0,"Change locale for openrc

When there is a special char in the name of a server or something else,
openstack client cannot print the char and throw this error:
'ascii' codec can't encode character u'\xe8' in position 106729: ordinal not in range(128)

Changing the locale to C.UTF-8 fix this small issue.

Change-Id: I2607f1617c37181c5de2cd49634e6e487f7a22d9
(cherry picked from commit ef3fe9966fff2570ce2b40094921abe17fa3f2a1)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/27/656527/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/openrc.j2'],1,bb7eca2988d209f12b116311955e753fdf088164,fix-locale-openrc-stable/rocky,export LC_ALL=C.UTF-8,export LC_ALL=C,1,1
openstack%2Frequirements~master~I017f1180dc45062e3bf8b80deb378a56088d6cd8,openstack/requirements,master,I017f1180dc45062e3bf8b80deb378a56088d6cd8,Updated from generate-constraints,ABANDONED,2019-05-01 06:11:00.000000000,2019-05-01 09:24:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-01 06:11:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3acda7f997109d5af104df285a572608d9ee1fa4', 'message': 'Updated from generate-constraints\n\nChange-Id: I017f1180dc45062e3bf8b80deb378a56088d6cd8\n'}]",0,656614,3acda7f997109d5af104df285a572608d9ee1fa4,3,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: I017f1180dc45062e3bf8b80deb378a56088d6cd8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/656614/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3acda7f997109d5af104df285a572608d9ee1fa4,openstack/requirements/constraints,SQLAlchemy===1.3.3urllib3===1.25.2tornado===5.1.1;python_version=='2.7'dogtag-pki===10.6.9.1stestr===2.3.1kubernetes===9.0.0botocore===1.12.139Werkzeug===0.15.2jsonschema===3.0.1,SQLAlchemy===1.2.18urllib3===1.24.1tornado===4.5.3;python_version=='2.7'dogtag-pki===10.3.5.1stestr===2.2.0kubernetes===8.0.1botocore===1.12.137Werkzeug===0.14.1jsonschema===2.6.0,9,9
openstack%2Fproject-config~master~Ic09b86a92028ada4f2415f4909c2ff06eb33a6a3,openstack/project-config,master,Ic09b86a92028ada4f2415f4909c2ff06eb33a6a3,Remove docs-on-readthedocs-failing from kloudbuster project,MERGED,2019-04-30 23:00:53.000000000,2019-05-01 08:52:09.000000000,2019-05-01 08:52:09.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 23:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/759d4665ec1d66b578aae0bcc9d2bd67c240542b', 'message': 'Remove docs-on-readthedocs-failing from kloudbuster project\n\nFixed the rtd access + added webhook\n\nChange-Id: Ic09b86a92028ada4f2415f4909c2ff06eb33a6a3\n'}, {'number': 2, 'created': '2019-05-01 06:51:41.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/be7bf63b6101678cdd2c822e342ae2dfb647fd44', 'message': 'Remove docs-on-readthedocs-failing from kloudbuster project\n\nFixed the rtd access + added webhook\n\nChange-Id: Ic09b86a92028ada4f2415f4909c2ff06eb33a6a3\n'}]",1,656604,be7bf63b6101678cdd2c822e342ae2dfb647fd44,10,3,2,11744,,,0,"Remove docs-on-readthedocs-failing from kloudbuster project

Fixed the rtd access + added webhook

Change-Id: Ic09b86a92028ada4f2415f4909c2ff06eb33a6a3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/656604/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,759d4665ec1d66b578aae0bcc9d2bd67c240542b,,, # Revert to docs-on-readthedocs when fixed - docs-on-readthedocs-failing,0,2
openstack%2Fcharm-openstack-dashboard~master~I42d4772ebe185c35cc5e81c36ebdb3f6f6c169c4,openstack/charm-openstack-dashboard,master,I42d4772ebe185c35cc5e81c36ebdb3f6f6c169c4,Add app-credentials-specific policy rules,MERGED,2019-04-30 18:48:20.000000000,2019-05-01 08:42:57.000000000,2019-05-01 08:42:57.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-04-30 18:48:20.000000000', 'files': ['templates/rocky/keystonev3_policy.json'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/4573def42a756770df7294d5715c3398c1f0fe17', 'message': 'Add app-credentials-specific policy rules\n\nIn order to have Create and Delete buttons for application credentials\nin non-admin projects we need to add the respective policy.json rules.\n\nThe dashboard pane for application credentials was added in Rocky.\n\nChange-Id: I42d4772ebe185c35cc5e81c36ebdb3f6f6c169c4\nCloses-Bug: #1827107\n'}]",0,656573,4573def42a756770df7294d5715c3398c1f0fe17,9,4,1,24824,,,0,"Add app-credentials-specific policy rules

In order to have Create and Delete buttons for application credentials
in non-admin projects we need to add the respective policy.json rules.

The dashboard pane for application credentials was added in Rocky.

Change-Id: I42d4772ebe185c35cc5e81c36ebdb3f6f6c169c4
Closes-Bug: #1827107
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/73/656573/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/rocky/keystonev3_policy.json'],1,4573def42a756770df7294d5715c3398c1f0fe17,bug/1827107," ""identity:get_application_credential"": ""rule:admin_required or user_id:%(user_id)s"", ""identity:create_application_credential"": ""rule:admin_required or user_id:%(user_id)s"", ""identity:delete_application_credential"": ""rule:admin_required or user_id:%(user_id)s"", ""identity:list_application_credentials"": ""rule:admin_required or user_id:%(user_id)s"", ",,5,0
openstack%2Fopenstack-helm~master~Iff205444eb4c842a0f85d5999d063256106dbe75,openstack/openstack-helm,master,Iff205444eb4c842a0f85d5999d063256106dbe75,Adding allowPrivilegeEscalation flag in horizon chart,MERGED,2019-04-24 06:18:40.000000000,2019-05-01 06:21:16.000000000,2019-05-01 06:21:16.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-04-24 06:18:40.000000000', 'files': ['horizon/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5f9e2a1f66df7eb4958943c2f15751188c7fb051', 'message': 'Adding allowPrivilegeEscalation flag in horizon chart\n\nChange-Id: Iff205444eb4c842a0f85d5999d063256106dbe75\n'}]",0,655306,5f9e2a1f66df7eb4958943c2f15751188c7fb051,7,3,1,27459,,,0,"Adding allowPrivilegeEscalation flag in horizon chart

Change-Id: Iff205444eb4c842a0f85d5999d063256106dbe75
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/06/655306/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/templates/deployment.yaml'],1,5f9e2a1f66df7eb4958943c2f15751188c7fb051,horizon-securityContext, allowPrivilegeEscalation: false,,1,0
openstack%2Fopenstack-helm~master~I352aca681a987286c49e0ffa6c4b6f1a1de10b9c,openstack/openstack-helm,master,I352aca681a987286c49e0ffa6c4b6f1a1de10b9c,update the tox link to opendev,MERGED,2019-04-30 08:49:50.000000000,2019-05-01 06:18:18.000000000,2019-05-01 06:18:18.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-04-30 08:49:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c3d0a8db9715a25bec3f5e3a3c8b20c8c5b9ba23', 'message': 'update the tox link to opendev\n\nChange-Id: I352aca681a987286c49e0ffa6c4b6f1a1de10b9c\n'}]",0,656471,c3d0a8db9715a25bec3f5e3a3c8b20c8c5b9ba23,7,3,1,28613,,,0,"update the tox link to opendev

Change-Id: I352aca681a987286c49e0ffa6c4b6f1a1de10b9c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/71/656471/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c3d0a8db9715a25bec3f5e3a3c8b20c8c5b9ba23,openstack-helm,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fpuppet-keystone~master~I799d8634f4ed3d00346402c316a556c14c1b6d24,openstack/puppet-keystone,master,I799d8634f4ed3d00346402c316a556c14c1b6d24,Port puppet-keystone-tripleo-standalone to os_tempest,MERGED,2019-04-30 09:07:43.000000000,2019-05-01 04:49:47.000000000,2019-05-01 04:49:47.000000000,"[{'_account_id': 3153}, {'_account_id': 8944}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-04-30 09:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/932e04fb691123b9510af48cb2fe9537e771d4d2', 'message': 'Port puppet-keystone-tripleo-standalone to os_tempest\n\nPreviously Tripleo validate-tempest role was used to run tempest\non tripleo jobs. Recently we are moving to os_tempest (an unified\nrole developed by openstack-ansible team).\n\nIt moves the vars to os_tempest. keystone tempest plugin is\ninstalled by default so we donot need to keep tempest_services\nvar for the same.\nBelow is the other var changes:\nrun_tempest: false -> to disable validate-tempest role\nuse_os_tempest: true -> enable os_tempest\ntempest_whitelist -> tempest_test_whitelist\n\nChange-Id: I799d8634f4ed3d00346402c316a556c14c1b6d24\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-04-30 14:04:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/870e33810dbcc14876408182a9bf3415825f6bf6', 'message': 'Port puppet-keystone-tripleo-standalone to os_tempest\n\nPreviously Tripleo validate-tempest role was used to run tempest\non tripleo jobs. Recently we are moving to os_tempest (an unified\nrole developed by openstack-ansible team).\n\nIt moves the vars to os_tempest. keystone tempest plugin is\ninstalled by default so we donot need to keep tempest_services\nvar for the same.\nBelow is the other var changes:\nrun_tempest: false -> to disable validate-tempest role\nuse_os_tempest: true -> enable os_tempest\ntempest_whitelist -> tempest_test_whitelist\n\nChange-Id: I799d8634f4ed3d00346402c316a556c14c1b6d24\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n'}]",0,656474,870e33810dbcc14876408182a9bf3415825f6bf6,13,12,2,12393,,,0,"Port puppet-keystone-tripleo-standalone to os_tempest

Previously Tripleo validate-tempest role was used to run tempest
on tripleo jobs. Recently we are moving to os_tempest (an unified
role developed by openstack-ansible team).

It moves the vars to os_tempest. keystone tempest plugin is
installed by default so we donot need to keep tempest_services
var for the same.
Below is the other var changes:
run_tempest: false -> to disable validate-tempest role
use_os_tempest: true -> enable os_tempest
tempest_whitelist -> tempest_test_whitelist

Change-Id: I799d8634f4ed3d00346402c316a556c14c1b6d24
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/74/656474/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,932e04fb691123b9510af48cb2fe9537e771d4d2,ostempest, run_tempest: false tempest_test_whitelist: use_os_tempest: true, run_tempest: true tempest_whitelist: tempest_plugins: - 'python-keystone-tests-tempest',3,4
openstack%2Fplacement~master~Id93531cc2d440b1adde1c0bd7c504f737b14012c,openstack/placement,master,Id93531cc2d440b1adde1c0bd7c504f737b14012c,Remind people to use postgresql-migrate-db.sh when migrating data,MERGED,2019-04-18 19:14:43.000000000,2019-05-01 03:57:31.000000000,2019-05-01 03:57:31.000000000,"[{'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-04-18 19:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/80656a4172fb9492bca99dcefd3f3c22424d43bb', 'message': 'Remind people to use postgresql-migrate-db.sh when migrating data\n\nThe ""Upgrading from Nova to Placement"" doc mentions the\npostgresql-migrate-db.sh script but within a big wall of\ntext and the rest of the examples in the guide are using\nmysql, so people might miss the postgresql script which\ncould result in errors later if their sequence ids are\nwrong.\n\nThis adds a note to serve as a reminder and also adds the\npostgresql-migrate-db.sh usage as a commented line in the\nconsole blocks that run the mysql script in the examples.\n\nChange-Id: Id93531cc2d440b1adde1c0bd7c504f737b14012c\nStory: #2005478\nTask: #30568\n'}, {'number': 2, 'created': '2019-05-01 03:10:38.000000000', 'files': ['doc/source/upgrade/to-stein.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/ae9bdbaa351b9f6b30796bc3609e08990edcb3a3', 'message': 'Remind people to use postgresql-migrate-db.sh when migrating data\n\nThe ""Upgrading from Nova to Placement"" doc mentions the\npostgresql-migrate-db.sh script but within a big wall of\ntext and the rest of the examples in the guide are using\nmysql, so people might miss the postgresql script which\ncould result in errors later if their sequence ids are\nwrong.\n\nThis adds a note to serve as a reminder.\n\nChange-Id: Id93531cc2d440b1adde1c0bd7c504f737b14012c\nStory: #2005478\nTask: #30568\n'}]",11,653833,ae9bdbaa351b9f6b30796bc3609e08990edcb3a3,15,4,2,6873,,,0,"Remind people to use postgresql-migrate-db.sh when migrating data

The ""Upgrading from Nova to Placement"" doc mentions the
postgresql-migrate-db.sh script but within a big wall of
text and the rest of the examples in the guide are using
mysql, so people might miss the postgresql script which
could result in errors later if their sequence ids are
wrong.

This adds a note to serve as a reminder.

Change-Id: Id93531cc2d440b1adde1c0bd7c504f737b14012c
Story: #2005478
Task: #30568
",git fetch https://review.opendev.org/openstack/placement refs/changes/33/653833/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrade/to-stein.rst'],1,80656a4172fb9492bca99dcefd3f3c22424d43bb,story/2005478, .. note:: The examples in this guide are using MySQL but if you are using PostgreSQL it is recommended to use the `postgresql-migrate-db.sh`_ script since it handles sequences. See `bug 2005478`_ for details. # postgresql-migrate-db.sh --mkconfig /tmp/migrate-db.rc # postgresql-migrate-db.sh --migrate /tmp/migrate-db.rc.. _bug 2005478: https://storyboard.openstack.org/#!/story/2005478,,8,0
openstack%2Fpython-neutronclient~master~I612c7c40e07f23afa920c92bf4b51b278282dd9d,openstack/python-neutronclient,master,I612c7c40e07f23afa920c92bf4b51b278282dd9d,Dropping the py35 testing,MERGED,2019-04-15 02:30:27.000000000,2019-05-01 02:46:15.000000000,2019-05-01 02:46:15.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 02:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/dd63d63e85a94d191397a5a83df14624451abd5f', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I612c7c40e07f23afa920c92bf4b51b278282dd9d\n'}, {'number': 2, 'created': '2019-04-15 16:33:43.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/da62ba30297d78dbdcf6c454a3c539cf91bd2d16', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I612c7c40e07f23afa920c92bf4b51b278282dd9d\n'}]",2,652496,da62ba30297d78dbdcf6c454a3c539cf91bd2d16,15,5,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I612c7c40e07f23afa920c92bf4b51b278282dd9d
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/96/652496/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,dd63d63e85a94d191397a5a83df14624451abd5f,dropping-py35-testing,"envlist = py27,pypy,pep8","envlist = py35,py27,pypy,pep8",1,3
openstack%2Fmagnum~master~I97ca231d70308862ed8b84d9364a6028c43e3382,openstack/magnum,master,I97ca231d70308862ed8b84d9364a6028c43e3382,Release k8s v1.12.8,MERGED,2019-04-30 21:40:20.000000000,2019-05-01 02:39:37.000000000,2019-05-01 02:39:37.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 21:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8c8433078f9d9b4a18604e1fea7b708ebc704835', 'message': 'Release k8s v1.12.8\n\nTask: 30675\nStory: 2005124\n\nChange-Id: I97ca231d70308862ed8b84d9364a6028c43e3382\n'}, {'number': 2, 'created': '2019-05-01 00:42:52.000000000', 'files': ['playbooks/container-builder-vars.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/5a74b454533fe4c06758459c78e04d2762381fee', 'message': 'Release k8s v1.12.8\n\nTask: 30675\nStory: 2005124\n\nChange-Id: I97ca231d70308862ed8b84d9364a6028c43e3382\n'}]",0,656591,5a74b454533fe4c06758459c78e04d2762381fee,10,2,2,6484,,,0,"Release k8s v1.12.8

Task: 30675
Story: 2005124

Change-Id: I97ca231d70308862ed8b84d9364a6028c43e3382
",git fetch https://review.opendev.org/openstack/magnum refs/changes/91/656591/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/container-builder-vars.yaml'],1,8c8433078f9d9b4a18604e1fea7b708ebc704835,story/2005124-30675,kubernetes_version_v1_12: v1.12.8,kubernetes_version_v1_12: v1.12.7,1,1
openstack%2Fpuppet-keystone~master~I3aae547f050b556b4213ef62f5f8b17a3154d8ec,openstack/puppet-keystone,master,I3aae547f050b556b4213ef62f5f8b17a3154d8ec,Deprecate idle_timeout option,MERGED,2019-04-28 07:00:57.000000000,2019-05-01 00:06:52.000000000,2019-05-01 00:06:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-28 07:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b1a328963226f98610cba62c0ffd07e842c122fd', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: I3aae547f050b556b4213ef62f5f8b17a3154d8ec\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}, {'number': 2, 'created': '2019-04-28 08:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/00d4e77a49ad573866a0f7d04fcd0977372b4fcb', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: I3aae547f050b556b4213ef62f5f8b17a3154d8ec\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}, {'number': 3, 'created': '2019-04-29 00:46:18.000000000', 'files': ['releasenotes/notes/deprecate_idle_timeout_parameter-bf3a271c03bb12df.yaml', 'manifests/db.pp', 'spec/classes/keystone_db_spec.rb', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/49f89f39bd36c10b89efc13624a8ca9ae7e05999', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: I3aae547f050b556b4213ef62f5f8b17a3154d8ec\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}]",0,656128,49f89f39bd36c10b89efc13624a8ca9ae7e05999,19,4,3,9414,,,0,"Deprecate idle_timeout option

The idle_timeout parameter is deprecated, use connection_recycle_time
instead[1].

[1]https://review.opendev.org/#/c/334182/

Change-Id: I3aae547f050b556b4213ef62f5f8b17a3154d8ec
Depends-On: https://review.opendev.org/656106/
Closes-Bug: #1826692
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/28/656128/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_idle_timeout_parameter-bf3a271c03bb12df.yaml', 'manifests/db.pp', 'spec/classes/keystone_db_spec.rb']",3,b1a328963226f98610cba62c0ffd07e842c122fd,bug/1826692," :db_max_retries => '<SERVICE DEFAULT>', :connection => 'sqlite:////var/lib/keystone/keystone.sqlite', :connection_recycle_time => '<SERVICE DEFAULT>', :min_pool_size => '<SERVICE DEFAULT>', :max_pool_size => '<SERVICE DEFAULT>', :max_retries => '<SERVICE DEFAULT>', :retry_interval => '<SERVICE DEFAULT>', :max_overflow => '<SERVICE DEFAULT>', :pool_timeout => '<SERVICE DEFAULT>', :database_db_max_retries => '-1', :database_connection => 'mysql+pymysql://keystone:keystone@localhost/keystone', :database_connection_recycle_time => '3601', :database_min_pool_size => '2', :database_max_pool_size => '21', :database_max_retries => '11', :database_max_overflow => '21', :database_pool_timeout => '21', :database_retry_interval => '11', :db_max_retries => '-1', :connection => 'mysql+pymysql://keystone:keystone@localhost/keystone', :connection_recycle_time => '3601', :min_pool_size => '2', :max_pool_size => '21', :max_retries => '11', :retry_interval => '11', :max_overflow => '21', :pool_timeout => '21',"," :db_max_retries => '<SERVICE DEFAULT>', :connection => 'sqlite:////var/lib/keystone/keystone.sqlite', :idle_timeout => '<SERVICE DEFAULT>', :min_pool_size => '<SERVICE DEFAULT>', :max_pool_size => '<SERVICE DEFAULT>', :max_retries => '<SERVICE DEFAULT>', :retry_interval => '<SERVICE DEFAULT>', :max_overflow => '<SERVICE DEFAULT>', :pool_timeout => '<SERVICE DEFAULT>', :database_db_max_retries => '-1', :database_connection => 'mysql+pymysql://keystone:keystone@localhost/keystone', :database_idle_timeout => '3601', :database_min_pool_size => '2', :database_max_pool_size => '21', :database_max_retries => '11', :database_max_overflow => '21', :database_pool_timeout => '21', :database_retry_interval => '11', :db_max_retries => '-1', :connection => 'mysql+pymysql://keystone:keystone@localhost/keystone', :idle_timeout => '3601', :min_pool_size => '2', :max_pool_size => '21', :max_retries => '11', :retry_interval => '11', :max_overflow => '21', :pool_timeout => '21',",64,47
openstack%2Fpuppet-openstack-integration~master~Ib954dd3abd1b2c8a513f3d5db4f2680d1b79c9be,openstack/puppet-openstack-integration,master,Ib954dd3abd1b2c8a513f3d5db4f2680d1b79c9be,ceph: deploy OpenStack Stein for Ceph Mimic,ABANDONED,2019-04-30 21:16:50.000000000,2019-04-30 23:21:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 21:16:50.000000000', 'files': ['playbooks/prepare-node-integration.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2cecedbf7437d2ad7958e631579c1dbffb968cd7', 'message': ""ceph: deploy OpenStack Stein for Ceph Mimic\n\nIn stable/mimic, we want a stable version of OpenStack which is Stein\nright now.\nThere are plans to deploy Nautilus in Train, so let's deploy Stein when\na patch is sent to puppet-ceph stable/mimic.\n\nChange-Id: Ib954dd3abd1b2c8a513f3d5db4f2680d1b79c9be\n""}]",0,656588,2cecedbf7437d2ad7958e631579c1dbffb968cd7,5,2,1,3153,,,0,"ceph: deploy OpenStack Stein for Ceph Mimic

In stable/mimic, we want a stable version of OpenStack which is Stein
right now.
There are plans to deploy Nautilus in Train, so let's deploy Stein when
a patch is sent to puppet-ceph stable/mimic.

Change-Id: Ib954dd3abd1b2c8a513f3d5db4f2680d1b79c9be
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/88/656588/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/prepare-node-integration.yaml'],1,2cecedbf7437d2ad7958e631579c1dbffb968cd7,mimic," elif [[ ""$ZUUL_BRANCH"" == ""stable/mimic"" ]]; then ZUUL_BRANCH_REAL='stable/stein'",,2,0
openstack%2Fpython-neutronclient~master~I357c08e30b15ee49de6ca90f8ff9d235a91889d9,openstack/python-neutronclient,master,I357c08e30b15ee49de6ca90f8ff9d235a91889d9,Add doc/requirements.txt to releasenotes tox environment,ABANDONED,2019-01-09 17:33:05.000000000,2019-04-30 22:59:50.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-01-09 17:33:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/8a2ed4d9da8fe00f106133d1c2f6674b9df33ba1', 'message': 'Add doc/requirements.txt to releasenotes tox environment\n\nWithout these dependencies, the releasenotes build does not actually\nwork.\n\nChange-Id: I357c08e30b15ee49de6ca90f8ff9d235a91889d9\n'}]",1,629590,8a2ed4d9da8fe00f106133d1c2f6674b9df33ba1,7,4,1,28935,,,0,"Add doc/requirements.txt to releasenotes tox environment

Without these dependencies, the releasenotes build does not actually
work.

Change-Id: I357c08e30b15ee49de6ca90f8ff9d235a91889d9
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/90/629590/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8a2ed4d9da8fe00f106133d1c2f6674b9df33ba1,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~I14b540e6564c5b7c5d54b4f1fd5368b000744135,openstack/puppet-tripleo,stable/queens,I14b540e6564c5b7c5d54b4f1fd5368b000744135,remove ssh from tripleo::firewall::pre,MERGED,2019-04-30 07:21:06.000000000,2019-04-30 22:54:23.000000000,2019-04-30 22:54:22.000000000,"[{'_account_id': 6926}, {'_account_id': 8745}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 07:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cdf209059defe1a9fa26a93769486c304d5f674d', 'message': 'remove ssh from tripleo::firewall::pre\n\nincluding global ssh access in tripleo::firewall::pre makes it\ndifficult for the operator to control ssh access to overcloud hosts.\nThis removes the hardcoded rule and the accompanying change in t-h-t\nconfigures the default firewall rules via hiera config_settings.\n\nDepends-On: I89cff59947dda3f51482486c41a3d67c4aa36a3e\nChange-Id: I14b540e6564c5b7c5d54b4f1fd5368b000744135\nRelated-Bug: #1826829\n(cherry picked from commit 9bdb8199cc394bd6283292a6964a089f012f2ae9)\n'}, {'number': 2, 'created': '2019-04-30 08:55:58.000000000', 'files': ['spec/classes/tripleo_firewall_spec.rb', 'manifests/firewall/pre.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d8b0dc73e2014d29908b5cc0406d5a1ffdc6b64d', 'message': 'remove ssh from tripleo::firewall::pre\n\nincluding global ssh access in tripleo::firewall::pre makes it\ndifficult for the operator to control ssh access to overcloud hosts.\nThis removes the hardcoded rule and the accompanying change in t-h-t\nconfigures the default firewall rules via hiera config_settings.\n\nDepends-On: I89cff59947dda3f51482486c41a3d67c4aa36a3e\nChange-Id: I14b540e6564c5b7c5d54b4f1fd5368b000744135\nRelated-Bug: #1826829\n(cherry picked from commit 9bdb8199cc394bd6283292a6964a089f012f2ae9)\n'}]",0,656451,d8b0dc73e2014d29908b5cc0406d5a1ffdc6b64d,9,5,2,28223,,,0,"remove ssh from tripleo::firewall::pre

including global ssh access in tripleo::firewall::pre makes it
difficult for the operator to control ssh access to overcloud hosts.
This removes the hardcoded rule and the accompanying change in t-h-t
configures the default firewall rules via hiera config_settings.

Depends-On: I89cff59947dda3f51482486c41a3d67c4aa36a3e
Change-Id: I14b540e6564c5b7c5d54b4f1fd5368b000744135
Related-Bug: #1826829
(cherry picked from commit 9bdb8199cc394bd6283292a6964a089f012f2ae9)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/51/656451/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_firewall_spec.rb', 'manifests/firewall/pre.pp']",2,cdf209059defe1a9fa26a93769486c304d5f674d,bug/1826829-stable/queens,," tripleo::firewall::rule{ '003 accept ssh': dport => '22', extras => $firewall_settings, tag => 'tripleo-firewall-prerule', } ",0,19
openstack%2Fmanila~master~I0114bfd3e050a7dd1110fba88075f22596cd571d,openstack/manila,master,I0114bfd3e050a7dd1110fba88075f22596cd571d,[Unity] Update doc for revert to snap support,MERGED,2019-04-25 03:07:11.000000000,2019-04-30 22:34:09.000000000,2019-04-30 22:34:09.000000000,"[{'_account_id': 9003}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-04-25 03:07:11.000000000', 'files': ['doc/source/admin/emc_unity_driver.rst', 'doc/source/configuration/shared-file-systems/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/e71e805fcedadb833ea6c3558a42e9bff050911e', 'message': '[Unity] Update doc for revert to snap support\n\nChange-Id: I0114bfd3e050a7dd1110fba88075f22596cd571d\n'}]",0,655602,e71e805fcedadb833ea6c3558a42e9bff050911e,12,8,1,26114,,,0,"[Unity] Update doc for revert to snap support

Change-Id: I0114bfd3e050a7dd1110fba88075f22596cd571d
",git fetch https://review.opendev.org/openstack/manila refs/changes/02/655602/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/emc_unity_driver.rst', 'doc/source/configuration/shared-file-systems/drivers/dell-emc-unity-driver.rst']",2,e71e805fcedadb833ea6c3558a42e9bff050911e,update_unity_doc,- Revert a share to a snapshot. ,,4,0
openstack%2Fmanila~master~I0506f4d2e9f8a984d7c7ed8584afcdfd1a8c6ac1,openstack/manila,master,I0506f4d2e9f8a984d7c7ed8584afcdfd1a8c6ac1,Fix error print format,MERGED,2019-04-29 01:55:37.000000000,2019-04-30 22:34:08.000000000,2019-04-30 22:34:08.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26968}]","[{'number': 1, 'created': '2019-04-29 01:55:37.000000000', 'files': ['manila/share/drivers/dell_emc/plugins/unity/utils.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/51aa1d8cd3a19a44376bd78750de101500f2ed10', 'message': 'Fix error print format\n\nThis is to fix the error print format of ""%{mtu}s"".\n\nChange-Id: I0506f4d2e9f8a984d7c7ed8584afcdfd1a8c6ac1\n'}]",0,656221,51aa1d8cd3a19a44376bd78750de101500f2ed10,15,12,1,20190,,,0,"Fix error print format

This is to fix the error print format of ""%{mtu}s"".

Change-Id: I0506f4d2e9f8a984d7c7ed8584afcdfd1a8c6ac1
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/656221/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/dell_emc/plugins/unity/utils.py'],1,51aa1d8cd3a19a44376bd78750de101500f2ed10,print_format," '%(mtu)s.') % {'conf': port_ids_conf, 'mtu': mtu})"," '%{mtu}s.') % {'conf': port_ids_conf, 'mtu': mtu})",1,1
openstack%2Fnova~master~I8937d3c4e6cb31fee03068c9dc34ef394d502652,openstack/nova,master,I8937d3c4e6cb31fee03068c9dc34ef394d502652,DNM: Add instance hard delete,ABANDONED,2019-04-08 20:17:33.000000000,2019-04-30 22:32:40.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27057}]","[{'number': 1, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ba27b845343565c78c9e32b86c4ac99bb15dabf', 'message': 'DNM: Add instance hard delete\n\nDrop from series once https://review.openstack.org/570202/ merges.\n\nChange-Id: I8937d3c4e6cb31fee03068c9dc34ef394d502652\n'}, {'number': 2, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdc156871f2fb8e704d75e0f06327a55bf192bbe', 'message': 'DNM: Add instance hard delete\n\nDrop from series once https://review.openstack.org/570202/ merges.\n\nChange-Id: I8937d3c4e6cb31fee03068c9dc34ef394d502652\n'}, {'number': 3, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a240a8a14cc1ab0c3ce5c2833d1a90cdafcb32a', 'message': 'DNM: Add instance hard delete\n\nDrop from series once https://review.openstack.org/570202/ merges.\n\nChange-Id: I8937d3c4e6cb31fee03068c9dc34ef394d502652\n'}, {'number': 4, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d295d55fe29c1f6c200fcc504b84345eaaa6cbfb', 'message': 'DNM: Add instance hard delete\n\nDrop from series once https://review.openstack.org/570202/ merges.\n\nChange-Id: I8937d3c4e6cb31fee03068c9dc34ef394d502652\n'}, {'number': 5, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d27e51e37bf866f84ff0836ad5bfe27e9a4f4541', 'message': 'DNM: Add instance hard delete\n\nDrop from series once https://review.openstack.org/570202/ merges.\n\nChange-Id: I8937d3c4e6cb31fee03068c9dc34ef394d502652\n'}, {'number': 6, 'created': '2019-04-26 20:34:08.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/db/api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4fbdecb108e1cd65b46bc077dd8dd3c2b69b2629', 'message': 'DNM: Add instance hard delete\n\nDrop from series once https://review.openstack.org/570202/ merges.\n\nChange-Id: I8937d3c4e6cb31fee03068c9dc34ef394d502652\n'}]",0,650984,4fbdecb108e1cd65b46bc077dd8dd3c2b69b2629,57,15,6,6873,,,0,"DNM: Add instance hard delete

Drop from series once https://review.openstack.org/570202/ merges.

Change-Id: I8937d3c4e6cb31fee03068c9dc34ef394d502652
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/650984/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/db/api.py', 'nova/db/sqlalchemy/api.py']",6,9ba27b845343565c78c9e32b86c4ac99bb15dabf,bp/cross-cell-resize,"def instance_destroy(context, instance_uuid, constraint=None, hard_delete=False): # Either in hard or soft delete, we soft delete the instance first # to make sure that that the constraints were met. models_to_delete = [ models.SecurityGroupInstanceAssociation, models.InstanceInfoCache, models.InstanceMetadata, models.InstanceFault, models.InstanceExtra, models.InstanceSystemMetadata, models.BlockDeviceMapping, models.Migration, models.InstanceIdMapping, models.VirtualInterface, ] filtered_by_uuid = [models.InstanceIdMapping] for model in models_to_delete: key = 'instance_uuid' if model not in filtered_by_uuid else 'uuid' filter_ = {key: instance_uuid} if hard_delete: context.session.query(model).filter_by(**filter_).delete() else: model_query(context, model).filter_by(**filter_).soft_delete() if hard_delete: # In case of hard delete, we need to remove the instance actions too. context.session.query(models.InstanceAction).filter_by( instance_uuid=instance_uuid).delete() context.session.query(models.Instance).filter_by( uuid=instance_uuid).delete()","def instance_destroy(context, instance_uuid, constraint=None): model_query(context, models.SecurityGroupInstanceAssociation).\ filter_by(instance_uuid=instance_uuid).\ soft_delete() model_query(context, models.InstanceInfoCache).\ filter_by(instance_uuid=instance_uuid).\ soft_delete() model_query(context, models.InstanceMetadata).\ filter_by(instance_uuid=instance_uuid).\ soft_delete() model_query(context, models.InstanceFault).\ filter_by(instance_uuid=instance_uuid).\ soft_delete() model_query(context, models.InstanceExtra).\ filter_by(instance_uuid=instance_uuid).\ soft_delete() model_query(context, models.InstanceSystemMetadata).\ filter_by(instance_uuid=instance_uuid).\ soft_delete() model_query(context, models.BlockDeviceMapping).\ filter_by(instance_uuid=instance_uuid).\ soft_delete() model_query(context, models.Migration).\ filter_by(instance_uuid=instance_uuid).\ soft_delete() model_query(context, models.InstanceIdMapping).filter_by( uuid=instance_uuid).soft_delete()",67,36
openstack%2Fswift~master~I334ef517d833916a3b7be3151a812d4f9c66a6e1,openstack/swift,master,I334ef517d833916a3b7be3151a812d4f9c66a6e1,Increase node_timeout in gate,MERGED,2019-02-11 20:43:28.000000000,2019-04-30 22:12:01.000000000,2019-04-30 22:12:01.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-11 20:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6007d128ad61447d496524b2ccab404a0022edfb', 'message': 'Increase probetest multi-node timeout\n\nChange-Id: I334ef517d833916a3b7be3151a812d4f9c66a6e1\n'}, {'number': 2, 'created': '2019-02-11 21:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/faf3ce4a071d449b3e9ca2dd481fc10c8308620a', 'message': 'Increase node_timeout in gate\n\nGive storage nodes more time to complete requests for multi-node upgrade\nand probetests.\n\nChange-Id: I334ef517d833916a3b7be3151a812d4f9c66a6e1\n'}, {'number': 3, 'created': '2019-02-12 15:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/22cc6a0c5dd2ecb7742b45541f3a98af3a64681d', 'message': 'Increase node_timeout in gate\n\nGive storage nodes more time to complete requests for multi-node upgrade\nand probetests.\n\nAlso slightly decouple probetests from default configs.\n\nChange-Id: I334ef517d833916a3b7be3151a812d4f9c66a6e1\n'}, {'number': 4, 'created': '2019-02-12 16:41:41.000000000', 'files': ['test/probe/common.py', 'test/probe/test_container_failures.py', 'tools/playbooks/multinode_setup/make_rings.yaml', 'tools/playbooks/saio_single_node_setup/setup_saio.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/771963c92654338011d3dc907044b2ee3f405dd3', 'message': 'Increase node_timeout in gate\n\nGive storage nodes more time to complete requests for multi-node upgrade\nand probetests.\n\nAlso slightly decouple probetests from default configs.\n\nChange-Id: I334ef517d833916a3b7be3151a812d4f9c66a6e1\n'}]",10,636217,771963c92654338011d3dc907044b2ee3f405dd3,26,4,4,1179,,,0,"Increase node_timeout in gate

Give storage nodes more time to complete requests for multi-node upgrade
and probetests.

Also slightly decouple probetests from default configs.

Change-Id: I334ef517d833916a3b7be3151a812d4f9c66a6e1
",git fetch https://review.opendev.org/openstack/swift refs/changes/17/636217/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/playbooks/multinode_setup/make_rings.yaml'],1,6007d128ad61447d496524b2ccab404a0022edfb,slow-probe-fix, crudini --set /etc/swift/proxy-server.conf app:proxy-server node_timeout 20,,1,0
openstack%2Fnova~master~Ia8da8cd040d104d745bd7adf20438b8eec558680,openstack/nova,master,Ia8da8cd040d104d745bd7adf20438b8eec558680,Remove 'instance_info_cache_update_at_top',MERGED,2019-04-09 16:15:52.000000000,2019-04-30 22:11:51.000000000,2019-04-30 22:11:51.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-09 16:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72515fc0203d1dcf8ac9e0fc7d650a7ced0fcd45', 'message': ""Remove 'instance_info_cache_update_at_top'\n\nThis was being called within the 'InstanceInfoCache' object. Remove it\nin its entirety, given that nothing should be calling it now.\n\nAn 'update_cells' argument is removed from a number of functions as\nthese all resulted in a call to the cells v1 RPC API, a call that is now\nremoved.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ia8da8cd040d104d745bd7adf20438b8eec558680\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-04-16 08:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6ce99e321dd511f0b4373afe0d7ee985f1ae3ca', 'message': ""Remove 'instance_info_cache_update_at_top'\n\nThis was being called within the 'InstanceInfoCache' object. Remove it\nin its entirety, given that nothing should be calling it now.\n\nAn 'update_cells' argument is removed from a number of functions as\nthese all resulted in a call to the cells v1 RPC API, a call that is now\nremoved.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ia8da8cd040d104d745bd7adf20438b8eec558680\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-04-16 14:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b9938036d7774f23a266d1d1e1cf6a6af160f5b', 'message': ""Remove 'instance_info_cache_update_at_top'\n\nThis was being called within the 'InstanceInfoCache' object. Remove it\nin its entirety, given that nothing should be calling it now.\n\nAn 'update_cells' argument is removed from a number of functions as\nthese all resulted in a call to the cells v1 RPC API, a call that is now\nremoved.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ia8da8cd040d104d745bd7adf20438b8eec558680\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-04-16 17:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54cde449516bc4823c6be301fd9ad553c63ac388', 'message': ""Remove 'instance_info_cache_update_at_top'\n\nThis was being called within the 'InstanceInfoCache' object. Remove it\nin its entirety, given that nothing should be calling it now.\n\nAn 'update_cells' argument is removed from a number of functions as\nthese all resulted in a call to the cells v1 RPC API, a call that is now\nremoved.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ia8da8cd040d104d745bd7adf20438b8eec558680\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-04-29 16:55:52.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/network/base_api.py', 'nova/tests/unit/network/test_api.py', 'nova/network/manager.py', 'nova/tests/unit/objects/test_instance_info_cache.py', 'nova/cells/rpcapi.py', 'nova/objects/instance_info_cache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3a8188e21b409f1720fd2a9b40a66c51571b210', 'message': ""Remove 'instance_info_cache_update_at_top'\n\nThis was being called within the 'InstanceInfoCache' object. Remove it\nin its entirety, given that nothing should be calling it now.\n\nAn 'update_cells' argument is removed from a number of functions as\nthese all resulted in a call to the cells v1 RPC API, a call that is now\nremoved.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ia8da8cd040d104d745bd7adf20438b8eec558680\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,651299,e3a8188e21b409f1720fd2a9b40a66c51571b210,99,19,5,15334,,,0,"Remove 'instance_info_cache_update_at_top'

This was being called within the 'InstanceInfoCache' object. Remove it
in its entirety, given that nothing should be calling it now.

An 'update_cells' argument is removed from a number of functions as
these all resulted in a call to the cells v1 RPC API, a call that is now
removed.

Part of blueprint remove-cells-v1

Change-Id: Ia8da8cd040d104d745bd7adf20438b8eec558680
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/651299/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/network/base_api.py', 'nova/tests/unit/network/test_api.py', 'nova/network/manager.py', 'nova/cells/rpcapi.py', 'nova/tests/unit/objects/test_instance_info_cache.py', 'nova/objects/instance_info_cache.py']",8,72515fc0203d1dcf8ac9e0fc7d650a7ced0fcd45,bp/remove-cells-v1, # TODO(stephenfin): Remove 'update_cells' in version 2.0,"from nova.cells import opts as cells_opts from nova.cells import rpcapi as cells_rpcapi @staticmethod def _info_cache_cells_update(ctxt, info_cache): cell_type = cells_opts.get_cell_type() if cell_type != 'compute': return cells_api = cells_rpcapi.CellsAPI() try: cells_api.instance_info_cache_update_at_top(ctxt, info_cache) except Exception: LOG.exception(""Failed to notify cells of instance info "" ""cache update"") if update_cells: stale_instance = self.obj_clone() if update_cells: # Send a copy of ourselves before updates are applied so # that cells can tell what changed. self._info_cache_cells_update(self._context, stale_instance)",10,93
openstack%2Fopenstack-helm~master~I43b34cd7d7711e01b8a95d0b45e10d7ee57051e9,openstack/openstack-helm,master,I43b34cd7d7711e01b8a95d0b45e10d7ee57051e9,Horizon: Corrected mounted file name.,MERGED,2019-04-25 17:14:06.000000000,2019-04-30 22:04:05.000000000,2019-04-30 22:04:04.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 18236}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 26627}, {'_account_id': 28701}]","[{'number': 1, 'created': '2019-04-25 17:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d3d1ed23a2aae76e533591a1ddef1348633da207', 'message': 'Horizon: Corrected mounted file name.\n\nHorizon dashboard was not being displayed correctly due to incorrect\nconfig file names.\n\nChange-Id: I43b34cd7d7711e01b8a95d0b45e10d7ee57051e9\n'}, {'number': 2, 'created': '2019-04-26 14:34:11.000000000', 'files': ['horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8b8e568d21228c16cfa065e46c709a43f32f81c2', 'message': 'Horizon: Corrected mounted file name.\n\nHorizon dashboard was not being displayed correctly due to incorrect\nconfig file names.\n\nChange-Id: I43b34cd7d7711e01b8a95d0b45e10d7ee57051e9\n'}]",2,655738,8b8e568d21228c16cfa065e46c709a43f32f81c2,14,8,2,24780,,,0,"Horizon: Corrected mounted file name.

Horizon dashboard was not being displayed correctly due to incorrect
config file names.

Change-Id: I43b34cd7d7711e01b8a95d0b45e10d7ee57051e9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/38/655738/2 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,d3d1ed23a2aae76e533591a1ddef1348633da207,, site_dir: /etc/apache2/sites-enabled conf_dir: /etc/apache2/conf-available, site_dir: /etc/apache2/sites-enable conf_dir: /etc/apache2/conf-enabled,2,2
openstack%2Fptgbot~master~I3f51acc318ecf31d435768640cef6c46d8ca136c,openstack/ptgbot,master,I3f51acc318ecf31d435768640cef6c46d8ca136c,Add subscribe command for automatic notifications of topics,MERGED,2019-04-30 06:14:41.000000000,2019-04-30 21:49:16.000000000,2019-04-30 21:49:16.000000000,"[{'_account_id': 1}, {'_account_id': 308}, {'_account_id': 2394}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7198}, {'_account_id': 7233}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 06:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/19597173da9877d9879599c859743b20ed71072c', 'message': 'Add subscribe command for automatic notifications of topics\n\nAdd a new \'subscribe\' command which allows people to subscribe for\nautomatic notifications via direct message of topics which match the\nsubscription regex they provide.  With no regex argument it shows the\nuser\'s current subscription (if any).  Also add a new \'unsubscribe\'\ncommand for clearing the regex.\n\nExample use cases:\n\n1. I know that nova is planning to discuss $TOPIC some time tomorrow\n   but they don\'t know exactly when, and I want to spend most of the\n   day in another room whilst ensuring I don\'t miss that particular\n   discussion on $TOPIC => ""/msg ptgbot subscribe $TOPIC"" will give me\n   notifications when the PTL types ""#nova next $TOPIC"" and ""#nova now\n   $TOPIC"".\n\n2. I\'m interested in *all* discussion on Python 3.  I don\'t know which\n   projects are planning to discuss it, let alone when, but that\n   doesn\'t matter, because I can type ""/msg ptgbot subscribe python ?3""\n   and get notified of all Python 3 discussions.\n\nAs with the presence tracking commands, these commands can be used in\npublic channels by preceding them with a \'#\' character.\n\nChange-Id: I3f51acc318ecf31d435768640cef6c46d8ca136c\n'}, {'number': 2, 'created': '2019-04-30 13:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/4a3552348de5a427140355edd5a1951cc8dd13e9', 'message': 'Add subscribe command for automatic notifications of topics\n\nAdd a new \'subscribe\' command which allows people to subscribe for\nautomatic notifications via direct message of topics which match the\nsubscription regex they provide.  With no regex argument it shows the\nuser\'s current subscription (if any).  Also add a new \'unsubscribe\'\ncommand for clearing the regex.\n\nExample use cases:\n\n1. I know that nova is planning to discuss $TOPIC some time tomorrow\n   but they don\'t know exactly when, and I want to spend most of the\n   day in another room whilst ensuring I don\'t miss that particular\n   discussion on $TOPIC => ""/msg ptgbot subscribe $TOPIC"" will give me\n   notifications when the PTL types ""#nova next $TOPIC"" and ""#nova now\n   $TOPIC"".\n\n2. I\'m interested in *all* discussion on Python 3.  I don\'t know which\n   projects are planning to discuss it, let alone when, but that\n   doesn\'t matter, because I can type ""/msg ptgbot subscribe python ?3""\n   and get notified of all Python 3 discussions.\n\nAs with the presence tracking commands, these commands can be used in\npublic channels by preceding them with a \'#\' character.\n\nChange-Id: I3f51acc318ecf31d435768640cef6c46d8ca136c\n'}, {'number': 3, 'created': '2019-04-30 18:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/dc7bdc51ee01b435bb7b309833b862685ec58c63', 'message': 'Add subscribe command for automatic notifications of topics\n\nAdd a new \'subscribe\' command which allows people to subscribe for\nautomatic notifications via direct message of topics which match the\nsubscription regex they provide.  With no regex argument it shows the\nuser\'s current subscription (if any).  Also add a new \'unsubscribe\'\ncommand for clearing the regex.\n\nExample use cases:\n\n1. I know that nova is planning to discuss $TOPIC some time tomorrow\n   but they don\'t know exactly when, and I want to spend most of the\n   day in another room whilst ensuring I don\'t miss that particular\n   discussion on $TOPIC => ""/msg ptgbot subscribe $TOPIC"" will give me\n   notifications when the PTL types ""#nova next $TOPIC"" and ""#nova now\n   $TOPIC"".\n\n2. I\'m interested in *all* discussion on Python 3.  I don\'t know which\n   projects are planning to discuss it, let alone when, but that\n   doesn\'t matter, because I can type ""/msg ptgbot subscribe python ?3""\n   and get notified of all Python 3 discussions.\n\nAs with the presence tracking commands, these commands can be used in\npublic channels by preceding them with a \'#\' character.\n\nChange-Id: I3f51acc318ecf31d435768640cef6c46d8ca136c\n'}, {'number': 4, 'created': '2019-04-30 19:07:05.000000000', 'files': ['ptgbot/db.py', 'html/ptg.html', 'ptgbot/bot.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/e8f88b2ee19d2bc7eb712515bacf904f626b67ba', 'message': 'Add subscribe command for automatic notifications of topics\n\nAdd a new \'subscribe\' command which allows people to subscribe for\nautomatic notifications via direct message of topics which match the\nsubscription regex they provide.  With no regex argument it shows the\nuser\'s current subscription (if any).  Also add a new \'unsubscribe\'\ncommand for clearing the regex.\n\nExample use cases:\n\n1. I know that nova is planning to discuss $TOPIC some time tomorrow\n   but they don\'t know exactly when, and I want to spend most of the\n   day in another room whilst ensuring I don\'t miss that particular\n   discussion on $TOPIC => ""/msg ptgbot subscribe $TOPIC"" will give me\n   notifications when the PTL types ""#nova next $TOPIC"" and ""#nova now\n   $TOPIC"".\n\n2. I\'m interested in *all* discussion on Python 3.  I don\'t know which\n   projects are planning to discuss it, let alone when, but that\n   doesn\'t matter, because I can type ""/msg ptgbot subscribe python ?3""\n   and get notified of all Python 3 discussions.\n\nAs with the presence tracking commands, these commands can be used in\npublic channels by preceding them with a \'#\' character.\n\nChange-Id: I3f51acc318ecf31d435768640cef6c46d8ca136c\n'}]",0,656445,e8f88b2ee19d2bc7eb712515bacf904f626b67ba,20,11,4,2394,,,0,"Add subscribe command for automatic notifications of topics

Add a new 'subscribe' command which allows people to subscribe for
automatic notifications via direct message of topics which match the
subscription regex they provide.  With no regex argument it shows the
user's current subscription (if any).  Also add a new 'unsubscribe'
command for clearing the regex.

Example use cases:

1. I know that nova is planning to discuss $TOPIC some time tomorrow
   but they don't know exactly when, and I want to spend most of the
   day in another room whilst ensuring I don't miss that particular
   discussion on $TOPIC => ""/msg ptgbot subscribe $TOPIC"" will give me
   notifications when the PTL types ""#nova next $TOPIC"" and ""#nova now
   $TOPIC"".

2. I'm interested in *all* discussion on Python 3.  I don't know which
   projects are planning to discuss it, let alone when, but that
   doesn't matter, because I can type ""/msg ptgbot subscribe python ?3""
   and get notified of all Python 3 discussions.

As with the presence tracking commands, these commands can be used in
public channels by preceding them with a '#' character.

Change-Id: I3f51acc318ecf31d435768640cef6c46d8ca136c
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/45/656445/4 && git format-patch -1 --stdout FETCH_HEAD,"['ptgbot/db.py', 'html/ptg.html', 'ptgbot/bot.py', 'README.rst']",4,19597173da9877d9879599c859743b20ed71072c,subscriptions,"* ``subscribe REGEXP`` - subscribes for a direct message notification from the bot whenever a topic with a substring matching ``REGEXP`` is set via the ``now`` or ``next`` commands (see below). The exact string the (case-insensitive) regular expression will be matched against is of the form ``#track now topic`` (i.e. the same as the full commands issued by track moderators). So for example ``subscribe #nova.*test|python *3`` would match any testing topics in the nova track, and any Python 3 topics in any track. * ``subscribe`` - shows your current subscription regular expression (if any) * ``unsubscribe`` - cancels your current subscription (if any) different syntax for these commands depending on whether you are messaging the bot privately or in a channel.",different syntax for these presence-tracking commands depending on whether you are messaging the bot privately or in a channel.,101,5
openstack%2Ftripleo-ci~master~Ic084de61696545af1a8ba391e2c4ab148de5ed55,openstack/tripleo-ci,master,Ic084de61696545af1a8ba391e2c4ab148de5ed55,Port scenario004-standalone-master to os_tempest,MERGED,2019-04-29 11:24:59.000000000,2019-04-30 21:32:18.000000000,2019-04-30 21:32:18.000000000,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-04-29 11:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/955f09ffa00b757557593b03c29e9ed0269bbe4d', 'message': 'Port scenario004-standalone-master to os_tempest\n\nRename variables:\n* tempest_whitelist to tempest_test_whitelist\n* tempest_plugins to tempest_services\n  * Also, the plugins are no longer the name of tempest test but the services\n* Remove unecessary test_white_regex\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/903?kanban-status=1447275\n\nChange-Id: Ic084de61696545af1a8ba391e2c4ab148de5ed55\n'}, {'number': 2, 'created': '2019-04-30 06:46:03.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b80873beacfabd07cbbb888e02e475c716402901', 'message': 'Port scenario004-standalone-master to os_tempest\n\nRename variables:\n* tempest_whitelist to tempest_test_whitelist\n* tempest_plugins to tempest_services\n  * Also, the plugins are no longer the name of tempest test but the services\n* Remove unecessary test_white_regex\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/903?kanban-status=1447275\n\nChange-Id: Ic084de61696545af1a8ba391e2c4ab148de5ed55\n'}]",0,656291,b80873beacfabd07cbbb888e02e475c716402901,19,9,2,8367,,,0,"Port scenario004-standalone-master to os_tempest

Rename variables:
* tempest_whitelist to tempest_test_whitelist
* tempest_plugins to tempest_services
  * Also, the plugins are no longer the name of tempest test but the services
* Remove unecessary test_white_regex

https://tree.taiga.io/project/tripleo-ci-board/task/903?kanban-status=1447275

Change-Id: Ic084de61696545af1a8ba391e2c4ab148de5ed55
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/91/656291/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,955f09ffa00b757557593b03c29e9ed0269bbe4d,os_tempest-004, run_tempest: false tempest_services: - manila tempest_tempest_conf_overrides: tempest_test_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' - 'manila_tempest_tests.tests.api.test_shares.SharesCephFSTest.test_create_get_delete_share' use_os_tempest: true, tempest_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' - 'manila_tempest_tests.tests.api.test_shares.SharesCephFSTest.test_create_get_delete_share' tempest_plugins: - python2-manila-tests-tempest tempest_extra_config: test_white_regex: '',8,7
openstack%2Fptgbot~master~I4120656bd160ccfafee1998b56676465a7b023f3,openstack/ptgbot,master,I4120656bd160ccfafee1998b56676465a7b023f3,update git.openstack.org to opendev,MERGED,2019-04-28 08:37:24.000000000,2019-04-30 21:32:10.000000000,2019-04-30 21:32:10.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-28 08:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/35f6c6c3a29de22f2817ebd924a888112299b1e4', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I4120656bd160ccfafee1998b56676465a7b023f3\n'}, {'number': 2, 'created': '2019-04-28 08:40:29.000000000', 'files': ['ptgbot/bot.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/28f90fbf21952830784aa75a11b85b1cbf936537', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I4120656bd160ccfafee1998b56676465a7b023f3\n'}]",0,656150,28f90fbf21952830784aa75a11b85b1cbf936537,8,3,2,30298,,,0,"update git.openstack.org to opendev

Change-Id: I4120656bd160ccfafee1998b56676465a7b023f3
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/50/656150/2 && git format-patch -1 --stdout FETCH_HEAD,"['ptgbot/bot.py', 'setup.cfg']",2,35f6c6c3a29de22f2817ebd924a888112299b1e4,,home-page = https://opendev.org/openstack-infra/ptgbot,home-page = https://git.openstack.org/cgit/openstack-infra/ptgbot,2,2
openstack%2Fptgbot~master~Ic88ba926ba9e3187da6046972344bc2b31e3c4f1,openstack/ptgbot,master,Ic88ba926ba9e3187da6046972344bc2b31e3c4f1,Recognise when user forgets # prefix for a track check-in,MERGED,2019-04-28 17:32:08.000000000,2019-04-30 21:31:43.000000000,2019-04-30 21:31:43.000000000,"[{'_account_id': 308}, {'_account_id': 2394}, {'_account_id': 5263}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-28 17:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/eb55c10721893fd675cf52bd1482d3bb0f60ec4f', 'message': ""Recognise when user forgets # prefix for a track check-in\n\nSince the in / #in command allows free-form check-ins when the\nlocation is not prefixed with '#', this would allow people to\ncheck into locations like 'nova' which would not be recognised\nas an official track location.  As a result their attendance\nwould not show up in the tooltips on the schedule web page.\n\nSo automatically detect when the user is checking into a track\nbut forgot to use the '#' prefix, and add it automatically for\nthem.  This DWIM behaviour should avoid some confusion.\n\nChange-Id: Ic88ba926ba9e3187da6046972344bc2b31e3c4f1\n""}, {'number': 2, 'created': '2019-04-28 18:07:22.000000000', 'files': ['ptgbot/bot.py'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/e730d58f15177f04f1c6ea1594520bd3183e029a', 'message': ""Recognise when user forgets # prefix for a track check-in\n\nSince the in / #in command allows free-form check-ins when the\nlocation is not prefixed with '#', this would allow people to\ncheck into locations like 'nova' which would not be recognised\nas an official track location.  As a result their attendance\nwould not show up in the tooltips on the schedule web page.\n\nSo automatically detect when the user is checking into a track\nbut forgot to use the '#' prefix, and add it automatically for\nthem.  This DWIM behaviour should avoid some confusion.\n\nAlso when matching / matched against known tracks, the lower-cased\nversion will be used.  This assumes that all registered tracks are\nlower-case.\n\nChange-Id: Ic88ba926ba9e3187da6046972344bc2b31e3c4f1\n""}]",2,656180,e730d58f15177f04f1c6ea1594520bd3183e029a,13,7,2,2394,,,0,"Recognise when user forgets # prefix for a track check-in

Since the in / #in command allows free-form check-ins when the
location is not prefixed with '#', this would allow people to
check into locations like 'nova' which would not be recognised
as an official track location.  As a result their attendance
would not show up in the tooltips on the schedule web page.

So automatically detect when the user is checking into a track
but forgot to use the '#' prefix, and add it automatically for
them.  This DWIM behaviour should avoid some confusion.

Also when matching / matched against known tracks, the lower-cased
version will be used.  This assumes that all registered tracks are
lower-case.

Change-Id: Ic88ba926ba9e3187da6046972344bc2b31e3c4f1
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/80/656180/2 && git format-patch -1 --stdout FETCH_HEAD,['ptgbot/bot.py'],1,eb55c10721893fd675cf52bd1482d3bb0f60ec4f,presence-tracking," # Checks location against known tracks. If prefixed with # then # insists it must match a known track. If not #-prefixed but # matches a known track then the # prefix is added. Returns the # normalized location to check into, or None if a valid one was # not established. def normalize_location(self, reply_to, nick, location): tracks = self.data.list_tracks() if location.startswith('#'): track = location[1:].lower() if track in tracks: return location else: self.send_priv_or_pub( reply_to, nick, ""Unrecognised track #%s"" % track) return None else: if location in tracks: return '#' + location else: return location location = self.normalize_location(reply_to, nick, location) if location is None: return"," if location.startswith('#'): track = location[1:].lower() tracks = self.data.list_tracks() if track not in tracks: self.send_priv_or_pub( reply_to, nick, ""Unrecognised track #%s"" % track) return",25,8
openstack%2Fptgbot~master~Ib27c72a20e71f0835e103e306b145d41a089131c,openstack/ptgbot,master,Ib27c72a20e71f0835e103e306b145d41a089131c,Remove joke when asking when self was last seen,MERGED,2019-04-29 04:05:10.000000000,2019-04-30 21:20:45.000000000,2019-04-30 21:20:45.000000000,"[{'_account_id': 1}, {'_account_id': 308}, {'_account_id': 4146}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 04:05:10.000000000', 'files': ['ptgbot/bot.py'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/36a7857d45464321b7f6e45a1ef86304b10b8e17', 'message': 'Remove joke when asking when self was last seen\n\nAs discussed in I0d88a540ad7a333841c208dd7f2a7247897eb238, there are\ngood reasons for someone asking where they themself were last seen,\ne.g. to verify that their current status is correct, or just for\ntesting the bot.  So remove the joke.  Perhaps we can find\nanother (funnier) Easter egg to add instead.\n\nChange-Id: Ib27c72a20e71f0835e103e306b145d41a089131c\n'}]",0,656239,36a7857d45464321b7f6e45a1ef86304b10b8e17,9,6,1,2394,,,0,"Remove joke when asking when self was last seen

As discussed in I0d88a540ad7a333841c208dd7f2a7247897eb238, there are
good reasons for someone asking where they themself were last seen,
e.g. to verify that their current status is correct, or just for
testing the bot.  So remove the joke.  Perhaps we can find
another (funnier) Easter egg to add instead.

Change-Id: Ib27c72a20e71f0835e103e306b145d41a089131c
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/39/656239/1 && git format-patch -1 --stdout FETCH_HEAD,['ptgbot/bot.py'],1,36a7857d45464321b7f6e45a1ef86304b10b8e17,rm-seen-self-joke,," if nick.lower() == seen_nick.lower(): self.send_priv_or_pub( reply_to, nick, ""In case you hadn't noticed, you're right here."") return ",1,6
openstack%2Fcinder~stable%2Fstein~I7e7dbdae72a08e663a96b6c01340ec2a5cbe883e,openstack/cinder,stable/stein,I7e7dbdae72a08e663a96b6c01340ec2a5cbe883e,Fix swift backup driver crashing during service startup,MERGED,2019-04-30 15:59:28.000000000,2019-04-30 21:18:59.000000000,2019-04-30 21:18:59.000000000,"[{'_account_id': 1736}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-04-30 15:59:28.000000000', 'files': ['cinder/backup/drivers/swift.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d8676381460d1719860f388929222eea436558d', 'message': ""Fix swift backup driver crashing during service startup\n\nThis patch fixes a crash in the swift backup driver during service\nstartup, when the backup_swift_url is None. When backup_swift_url is\nNone, the initialization code tries to fetch swift's endpoint from the\nservice catalog. However, this fails during service startup because the\ncontext is missing the information required to access the catalog.\n\nCloses-Bug: #1826434\nChange-Id: I7e7dbdae72a08e663a96b6c01340ec2a5cbe883e\n(cherry picked from commit 37997388725a4469624e2e14e1575301fa7cfcf7)\n""}]",0,656537,8d8676381460d1719860f388929222eea436558d,22,17,1,21129,,,0,"Fix swift backup driver crashing during service startup

This patch fixes a crash in the swift backup driver during service
startup, when the backup_swift_url is None. When backup_swift_url is
None, the initialization code tries to fetch swift's endpoint from the
service catalog. However, this fails during service startup because the
context is missing the information required to access the catalog.

Closes-Bug: #1826434
Change-Id: I7e7dbdae72a08e663a96b6c01340ec2a5cbe883e
(cherry picked from commit 37997388725a4469624e2e14e1575301fa7cfcf7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/656537/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/drivers/swift.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",2,8d8676381460d1719860f388929222eea436558d,bug/1826434," self.ctxt = context.RequestContext(user_id=fake.USER_ID, is_admin=True, service_catalog=service_catalog) @mock.patch('cinder.backup.drivers.swift.SwiftBackupDriver.initialize') def test_no_user_context(self, mock_initialize): # With no user_id the driver should not initialize itself. admin_context = context.get_admin_context() swift_dr.SwiftBackupDriver(admin_context) mock_initialize.assert_not_called() ", self.ctxt = context.get_admin_context() self.ctxt.service_catalog = service_catalog,15,3
openstack%2Frequirements~master~Ie4a451f7bca82578c7759fdd80c6f6619540db76,openstack/requirements,master,Ie4a451f7bca82578c7759fdd80c6f6619540db76,Updated from generate-constraints,MERGED,2019-04-16 06:27:08.000000000,2019-04-30 21:18:57.000000000,2019-04-30 21:18:57.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-16 06:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7e868dbcdd19fc168cb0504c5f4d53dc24d15f22', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 2, 'created': '2019-04-17 06:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e19a1049df36a052042f22d7f6a242caf723210d', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 3, 'created': '2019-04-18 06:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4be226d6ad3e029f0a86ae580bc7b13decab8191', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 4, 'created': '2019-04-19 06:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ee2a403a57392ba61ff631e035175032b3d54023', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 5, 'created': '2019-04-21 06:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ed86ba548616fc0cbb61203dcd62acd9435b898c', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 6, 'created': '2019-04-22 06:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b4090e10c21db7381636018ec9eb5cbf447e1555', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 7, 'created': '2019-04-23 06:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a3d43feec34aaa0c62bd2420458bbbd46b23b7c4', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 8, 'created': '2019-04-24 06:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/587b0b8aded38018be356c46985c5e964cd4595c', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 9, 'created': '2019-04-25 06:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5729e8cabdb6bf1ffadee25e7e164fdc4cc7355e', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 10, 'created': '2019-04-26 06:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c2521c78847e3b580034fb9d34c9a4c57a268ef8', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 11, 'created': '2019-04-27 06:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/60a646c8dd5051fb7e54f9a475b906fe389c62a2', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 12, 'created': '2019-04-28 06:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/55d249ce7f203f4fdd06179559eb48791d358a16', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 13, 'created': '2019-04-29 06:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bc541150181c0ea6cb93df804bbb48bbf3faca10', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 14, 'created': '2019-04-29 22:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9f917848dfe7f3639706dcac38b7a3f0583baecf', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 15, 'created': '2019-04-30 00:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e19cadc01bb216f59755dd551c1923672991f9d1', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}, {'number': 16, 'created': '2019-04-30 02:07:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/75a27084c5af4d43dcc96161f0f5bfe72f1b1115', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76\n'}]",0,652921,75a27084c5af4d43dcc96161f0f5bfe72f1b1115,41,2,16,11131,,,0,"Updated from generate-constraints

Change-Id: Ie4a451f7bca82578c7759fdd80c6f6619540db76
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/652921/16 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7e868dbcdd19fc168cb0504c5f4d53dc24d15f22,openstack/requirements/constraints/noclob,pytest===4.4.1Mako===1.0.9SQLAlchemy===1.3.3tornado===5.1.1;python_version=='2.7'stestr===2.3.1opentracing===2.0.0kubernetes===9.0.0Werkzeug===0.15.2jsonschema===3.0.1alembic===1.0.9sphinx-testing===1.0.1,pytest===4.4.0Mako===1.0.8SQLAlchemy===1.2.18tornado===4.5.3;python_version=='2.7'stestr===2.2.0opentracing===1.3.0kubernetes===8.0.1Werkzeug===0.14.1jsonschema===2.6.0alembic===1.0.8sphinx-testing===1.0.0,11,11
openstack%2Fnova~stable%2Fstein~I47d1aba17cd2e9fff67846cc243c8fbd9ac21659,openstack/nova,stable/stein,I47d1aba17cd2e9fff67846cc243c8fbd9ac21659,Do not perform port update in case of baremetal instance.,MERGED,2019-04-28 15:47:22.000000000,2019-04-30 21:18:50.000000000,2019-04-30 21:18:49.000000000,"[{'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12171}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-28 15:47:22.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7cd816f43a9a699ccc5c5826b0904a3414664132', 'message': 'Do not perform port update in case of baremetal instance.\n\nIn case of a baremetal instance, the instance\'s port binding:host_id\ngets updated during instance reboot to the nova compute host id by\nthe periodic task: _heal_instance_info_cache. This regression was\nintroduced in commit: I75fd15ac2a29e420c09499f2c41d11259ca811ae\n\nThis is an un-desirable change as ironic virt driver did the original\nport binding, nova should not update the value.\nIn case of a baremetal port, the binding:host_id represents the ironic\nnode_uuid. In case of a SmartNIC(baremetal) port[1] the binding:host_id\nrepresent the SmartNIC hostname and it MUST not change since ironic\nrelies on that information as well as the Neutron agent that runs on\nthe SmartNIC.\n\nA new API method was added, ""manages_port_bindings()"", to ComputeDriver\nthat defaults to False, and overriden in IronicDriver to True.\n\nA call to this API method is now made in _heal_instance_info_cache() to\nprevent port update for instance ports in case the underlying\nComputeDriver manages the port binding.\n\n[1] I658754f7f8c74087b0aabfdef222a2c0b5698541\n\nChange-Id: I47d1aba17cd2e9fff67846cc243c8fbd9ac21659\nCloses-Bug: #1822801\n(cherry picked from commit 091aa3289694a27704e48931a579f50a3179b036)\n'}]",0,656176,7cd816f43a9a699ccc5c5826b0904a3414664132,22,9,1,6873,,,0,"Do not perform port update in case of baremetal instance.

In case of a baremetal instance, the instance's port binding:host_id
gets updated during instance reboot to the nova compute host id by
the periodic task: _heal_instance_info_cache. This regression was
introduced in commit: I75fd15ac2a29e420c09499f2c41d11259ca811ae

This is an un-desirable change as ironic virt driver did the original
port binding, nova should not update the value.
In case of a baremetal port, the binding:host_id represents the ironic
node_uuid. In case of a SmartNIC(baremetal) port[1] the binding:host_id
represent the SmartNIC hostname and it MUST not change since ironic
relies on that information as well as the Neutron agent that runs on
the SmartNIC.

A new API method was added, ""manages_port_bindings()"", to ComputeDriver
that defaults to False, and overriden in IronicDriver to True.

A call to this API method is now made in _heal_instance_info_cache() to
prevent port update for instance ports in case the underlying
ComputeDriver manages the port binding.

[1] I658754f7f8c74087b0aabfdef222a2c0b5698541

Change-Id: I47d1aba17cd2e9fff67846cc243c8fbd9ac21659
Closes-Bug: #1822801
(cherry picked from commit 091aa3289694a27704e48931a579f50a3179b036)
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/656176/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/compute/manager.py']",4,7cd816f43a9a699ccc5c5826b0904a3414664132,649345," # Only update port bindings if compute manager does manage port # bindings instead of the compute driver. For example IronicDriver # manages the port binding for baremetal instance ports, hence, # external intervention with the binding is not desired. if (not utils.is_neutron() or self.driver.manages_network_binding_host_id()):", if not utils.is_neutron():,38,1
openstack%2Fnova~master~I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365,openstack/nova,master,I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365,Add nova-multi-cell job,MERGED,2019-04-23 17:54:45.000000000,2019-04-30 21:18:42.000000000,2019-04-30 21:18:42.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-23 17:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30ca41f2c320439356f8de8eba79d40d9c5791b7', 'message': ""WIP: Add nova-multi-cell job\n\nThis probably won't even work right now but let's see\nhow much work needs to be done.\n\nChange-Id: I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365\n""}, {'number': 2, 'created': '2019-04-25 01:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52e4b7f0a94dbd7b6f8879f9f1ca7190dbac1fa3', 'message': ""WIP: Add nova-multi-cell job\n\nThis adds the nova-multi-cell job which is a 2-node\njob with 2 non-cell0 cells (cell1 and cell2). The\ncompute on the controller will be in cell1 and the\nsubnode compute will be in cell2.\n\nUntil cross-cell resize is supported, cold migration\nhas to be disabled since we can't cold migrate to\nthe same host (and there is only one compute host per\ncell). As a result, resize to the same host is enabled\n(it is normally disabled in the tempest multinode job).\nThe parent job enables live migration testing but since\nwe only have one host per cell and don't support live\nmigration across cells, the live migration tests are\nalso disabled.\n\nThe test regex is copied from the nova-next job.\n\nThe job is also setup to run with python3 since that\nis the way of the future.\n\nRelated to blueprint cross-cell-resize\n\nChange-Id: I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365\n""}, {'number': 3, 'created': '2019-04-25 14:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5012c6eaf1e92432b92821214dcebf5424aed00f', 'message': ""Add nova-multi-cell job\n\nThis adds a voting and gating nova-multi-cell job which\nis a 2-node job with 2 non-cell0 cells (cell1 and cell2).\nThe compute on the controller will be in cell1 and the\nsubnode compute will be in cell2.\n\nUntil cross-cell resize is supported, cold migration\nhas to be disabled since we can't cold migrate to\nthe same host (and there is only one compute host per\ncell). As a result, resize to the same host is enabled\n(it is normally disabled in the tempest multinode job).\nThe parent job enables live migration testing but since\nwe only have one host per cell and don't support live\nmigration across cells, the live migration tests are\nalso disabled.\n\nThe test regex is copied from the nova-next job.\n\nThe job is also setup to run with python3 since that\nis the way of the future.\n\nNon-essential services, like cinder-backup, are disabled\nsince we (1) won't need it for the tests we run and\n(2) would like to save as much room on the hosts as possible\nsince we're running multiple cell conductors on the\ncontroller host.\n\nRelated to blueprint cross-cell-resize\n\nChange-Id: I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365\n""}, {'number': 4, 'created': '2019-04-25 22:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00d506b4888505b023231caf870c231ce3b1bcd7', 'message': ""Add nova-multi-cell job\n\nThis adds a non-voting nova-multi-cell job which\nis a 2-node job with 2 non-cell0 cells (cell1 and cell2).\nThe compute on the controller will be in cell1 and the\nsubnode compute will be in cell2.\n\nUntil cross-cell resize is supported, cold migration\nhas to be disabled since we can't cold migrate to\nthe same host (and there is only one compute host per\ncell). As a result, resize to the same host is enabled\n(it is normally disabled in the tempest multinode job).\nThe parent job enables live migration testing but since\nwe only have one host per cell and don't support live\nmigration across cells, the live migration tests are\nalso disabled.\n\nThe test regex is copied from the nova-next job.\n\nThe job is also setup to run with python3 since that\nis the way of the future.\n\nNon-essential services, like cinder-backup, are disabled\nsince we (1) won't need it for the tests we run and\n(2) would like to save as much room on the hosts as possible\nsince we're running multiple cell conductors on the\ncontroller host.\n\nSince this is new and its already uncovered at least one\nbug (bug 1826472), the job is non-voting in the check queue\nfor now until we're happy with its stability.\n\nRelated to blueprint cross-cell-resize\n\nChange-Id: I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365\n""}, {'number': 5, 'created': '2019-04-26 19:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54fc1bd791f4a8d4ea7760bc1ecd22182e960c1c', 'message': ""Add nova-multi-cell job\n\nThis adds a non-voting nova-multi-cell job which\nis a 2-node job with 2 non-cell0 cells (cell1 and cell2).\nThe compute on the controller will be in cell1 and the\nsubnode compute will be in cell2.\n\nUntil cross-cell resize is supported, cold migration\nhas to be disabled since we can't cold migrate to\nthe same host (and there is only one compute host per\ncell). As a result, resize to the same host is enabled\n(it is normally disabled in the tempest multinode job).\nThe parent job enables live migration testing but since\nwe only have one host per cell and don't support live\nmigration across cells, the live migration tests are\nalso disabled.\n\nThe test regex is copied from the nova-next job.\n\nThe job is also setup to run with python3 since that\nis the way of the future.\n\nNon-essential services, like cinder-backup, are disabled\nsince we (1) won't need it for the tests we run and\n(2) would like to save as much room on the hosts as possible\nsince we're running multiple cell conductors on the\ncontroller host.\n\nSince this is new and its already uncovered at least one\nbug (bug 1826472), the job is non-voting in the check queue\nfor now until we're happy with its stability.\n\nRelated to blueprint cross-cell-resize\n\nChange-Id: I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365\n""}, {'number': 6, 'created': '2019-04-26 19:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2125561dbbff1a92160792c1a0140dad109d997', 'message': ""Add nova-multi-cell job\n\nThis adds a non-voting nova-multi-cell job which\nis a 2-node job with 2 non-cell0 cells (cell1 and cell2).\nThe compute on the controller will be in cell1 and the\nsubnode compute will be in cell2.\n\nUntil cross-cell resize is supported, cold migration\nhas to be disabled since we can't cold migrate to\nthe same host (and there is only one compute host per\ncell). As a result, resize to the same host is enabled\n(it is normally disabled in the tempest multinode job).\nThe parent job enables live migration testing but since\nwe only have one host per cell and don't support live\nmigration across cells, the live migration tests are\nalso disabled.\n\nThe test regex is copied from the nova-next job.\n\nThe job is also setup to run with python3 since that\nis the way of the future.\n\nNon-essential services, like cinder-backup, are disabled\nsince we (1) won't need it for the tests we run and\n(2) would like to save as much room on the hosts as possible\nsince we're running multiple cell conductors on the\ncontroller host.\n\nSince this is new and its already uncovered at least one\nbug (bug 1826472), the job is non-voting in the check queue\nfor now until we're happy with its stability.\n\nRelated to blueprint cross-cell-resize\n\nChange-Id: I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365\n""}, {'number': 7, 'created': '2019-04-29 16:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/748b1023e28abd89082cba4d0aae740d2d67d999', 'message': ""Add nova-multi-cell job\n\nThis adds a non-voting nova-multi-cell job which\nis a 2-node job with 2 non-cell0 cells (cell1 and cell2).\nThe compute on the controller will be in cell1 and the\nsubnode compute will be in cell2.\n\nUntil cross-cell resize is supported, cold migration\nhas to be disabled since we can't cold migrate to\nthe same host (and there is only one compute host per\ncell). As a result, resize to the same host is enabled\n(it is normally disabled in the tempest multinode job).\nThe parent job enables live migration testing but since\nwe only have one host per cell and don't support live\nmigration across cells, the live migration tests are\nalso disabled.\n\nThe test regex is copied from the nova-next job.\n\nThe job is also setup to run with python3 since that\nis the way of the future.\n\nNon-essential services, like cinder-backup, are disabled\nsince we (1) won't need it for the tests we run and\n(2) would like to save as much room on the hosts as possible\nsince we're running multiple cell conductors on the\ncontroller host.\n\nSince this is new and its already uncovered at least one\nbug (bug 1826472), the job is non-voting in the check queue\nfor now until we're happy with its stability.\n\nRelated to blueprint cross-cell-resize\n\nChange-Id: I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365\n""}, {'number': 8, 'created': '2019-04-29 21:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04dd4c774599238b493029a5fe8494873721fa5f', 'message': ""Add nova-multi-cell job\n\nThis adds a non-voting nova-multi-cell job which\nis a 2-node job with 2 non-cell0 cells (cell1 and cell2).\nThe compute on the controller will be in cell1 and the\nsubnode compute will be in cell2.\n\nUntil cross-cell resize is supported, cold migration\nhas to be disabled since we can't cold migrate to\nthe same host (and there is only one compute host per\ncell). As a result, resize to the same host is enabled\n(it is normally disabled in the tempest multinode job).\nThe parent job enables live migration testing but since\nwe only have one host per cell and don't support live\nmigration across cells, the live migration tests are\nalso disabled.\n\nThe job is also setup to run with python3 since that\nis the way of the future.\n\nNon-essential services, like cinder-backup, are disabled\nsince we (1) won't need it for the tests we run and\n(2) would like to save as much room on the hosts as possible\nsince we're running multiple cell conductors on the\ncontroller host.\n\nSince this is new and its already uncovered at least one\nbug (bug 1826472), the job is non-voting in the check queue\nfor now until we're happy with its stability.\n\nRelated to blueprint cross-cell-resize\n\nChange-Id: I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365\n""}, {'number': 9, 'created': '2019-04-29 21:11:04.000000000', 'files': ['.zuul.yaml', 'devstack/nova-multi-cell-blacklist.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/d2e58cb49032e412073fda8e55c87b5fcb385609', 'message': ""Add nova-multi-cell job\n\nThis adds a non-voting nova-multi-cell job which\nis a 2-node job with 2 non-cell0 cells (cell1 and cell2).\nThe compute on the controller will be in cell1 and the\nsubnode compute will be in cell2.\n\nUntil cross-cell resize is supported, cold migration\nhas to be disabled since we can't cold migrate to\nthe same host (and there is only one compute host per\ncell). As a result, resize to the same host is enabled\n(it is normally disabled in the tempest multinode job).\nThe parent job enables live migration testing but since\nwe only have one host per cell and don't support live\nmigration across cells, the live migration tests are\nalso disabled.\n\nThe job is also setup to run with python3 since that\nis the way of the future.\n\nNon-essential services, like cinder-backup, are disabled\nsince we (1) won't need it for the tests we run and\n(2) would like to save as much room on the hosts as possible\nsince we're running multiple cell conductors on the\ncontroller host.\n\nSince this is new and its already uncovered at least one\nbug (bug 1826472), the job is non-voting in the check queue\nfor now until we're happy with its stability.\n\nRelated to blueprint cross-cell-resize\n\nChange-Id: I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365\n""}]",22,655222,d2e58cb49032e412073fda8e55c87b5fcb385609,123,19,9,6873,,,0,"Add nova-multi-cell job

This adds a non-voting nova-multi-cell job which
is a 2-node job with 2 non-cell0 cells (cell1 and cell2).
The compute on the controller will be in cell1 and the
subnode compute will be in cell2.

Until cross-cell resize is supported, cold migration
has to be disabled since we can't cold migrate to
the same host (and there is only one compute host per
cell). As a result, resize to the same host is enabled
(it is normally disabled in the tempest multinode job).
The parent job enables live migration testing but since
we only have one host per cell and don't support live
migration across cells, the live migration tests are
also disabled.

The job is also setup to run with python3 since that
is the way of the future.

Non-essential services, like cinder-backup, are disabled
since we (1) won't need it for the tests we run and
(2) would like to save as much room on the hosts as possible
since we're running multiple cell conductors on the
controller host.

Since this is new and its already uncovered at least one
bug (bug 1826472), the job is non-voting in the check queue
for now until we're happy with its stability.

Related to blueprint cross-cell-resize

Change-Id: I8ad3f8bcbecf0f6b1d0f57e9f61ff21bd7fbe365
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/655222/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,30ca41f2c320439356f8de8eba79d40d9c5791b7,multi-cell-job,"- job: name: nova-multi-cell parent: tempest-multinode-full-py3 description: | Multi-node python3 job which runs with two nodes and two non-cell0 cells. The compute on the controller runs in cell1 and the compute on the subnode runs in cell2. irrelevant-files: *dsvm-irrelevant-files # Keep this non-voting until it's stable. voting: false vars: # TODO(mriedem): We'll probably want to use an rc file or some smaller # set of tests for this job. tox_envlist: full devstack_services: # Disable n-novnc until bug 1822873 is fixed. n-novnc: false devstack_localrc: # Setup two non-cell0 cells (cell1 and cell2). NOVA_NUM_CELLS: 2 # Resize to the same host is supported for now since we only have # two computes and they are in different cells. NOVA_ALLOW_MOVE_TO_SAME_HOST: true # We only have two computes and we don't yet support cross-cell live # migration. LIVE_MIGRATION_AVAILABLE: false # Disable n-novnc until bug 1822873 is fixed. NOVA_VNC_ENABLED: false group-vars: peers: devstack_localrc: NOVA_ALLOW_MOVE_TO_SAME_HOST: true LIVE_MIGRATION_AVAILABLE: false subnode: devstack_localrc: # The subnode compute will get registered with cell2. NOVA_CPU_CELL: 2 # Disable n-novnc until bug 1822873 is fixed. NOVA_VNC_ENABLED: false devstack_services: # Disable n-novnc until bug 1822873 is fixed. n-novnc: false # templates: # - check-requirements # - integrated-gate-py3 # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python-jobs # - openstack-python36-jobs # - openstack-python37-jobs # - periodic-stable-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3 - nova-multi-cell # # We define our own irrelevant-files so we don't run the job # # on things like nova docs-only changes. # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: # voting: false # irrelevant-files: *dsvm-irrelevant-files # - devstack-plugin-ceph-tempest: # voting: false # irrelevant-files: *dsvm-irrelevant-files # - neutron-grenade-multinode: # irrelevant-files: *dsvm-irrelevant-files # - neutron-tempest-linuxbridge: # irrelevant-files: # # NOTE(mriedem): This job has its own irrelevant-files section # # so that we only run it on changes to networking and libvirt/vif # # code; we don't need to run this on all changes, nor do we run # # it in the gate. # - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ # - nova-grenade-live-migration # - nova-live-migration # - nova-lvm # - nova-next # - nova-tox-functional # - nova-tox-functional-py36 # - tempest-full-py3: # irrelevant-files: *dsvm-irrelevant-files # - tempest-slow-py3: # irrelevant-files: *dsvm-irrelevant-files # - grenade-py3: # irrelevant-files: *dsvm-irrelevant-files # gate: # jobs: # - nova-grenade-live-migration # - nova-live-migration # - nova-tox-functional # - nova-tox-functional-py36 # - nova-next # - tempest-full-py3: # irrelevant-files: *dsvm-irrelevant-files # - tempest-slow-py3: # irrelevant-files: *dsvm-irrelevant-files # - grenade-py3: # irrelevant-files: *dsvm-irrelevant-files # experimental: # jobs: # - ironic-tempest-bfv: # irrelevant-files: *dsvm-irrelevant-files # - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: # irrelevant-files: *dsvm-irrelevant-files # - barbican-simple-crypto-devstack-tempest: # irrelevant-files: *dsvm-irrelevant-files # - devstack-plugin-ceph-tempest-py3: # irrelevant-files: *dsvm-irrelevant-files # - legacy-grenade-dsvm-neutron-multinode-zero-downtime: # irrelevant-files: *dsvm-irrelevant-files # - legacy-tempest-dsvm-full-devstack-plugin-nfs: # irrelevant-files: *dsvm-irrelevant-files # - tempest-full-py3-opensuse150: # irrelevant-files: *dsvm-irrelevant-files # - tempest-pg-full: # irrelevant-files: *dsvm-irrelevant-files # - nova-tempest-full-oslo.versionedobjects: # irrelevant-files: *dsvm-irrelevant-files # - legacy-tempest-dsvm-nova-libvirt-kvm-apr: # irrelevant-files: *dsvm-irrelevant-files # - nova-tempest-v2-api: # irrelevant-files: *dsvm-irrelevant-files # - legacy-tempest-dsvm-neutron-dvr-multinode-full: # irrelevant-files: *dsvm-irrelevant-files # - neutron-tempest-dvr-ha-multinode-full: # irrelevant-files: *dsvm-irrelevant-files # - os-vif-ovs: # irrelevant-files: *dsvm-irrelevant-files # # NOTE(mriedem): Consider moving nova-tox-functional-py37 to the # # check and gate queues once it's stable (like openstack-python37-jobs) # - nova-tox-functional-py37"," templates: - check-requirements - integrated-gate-py3 - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python36-jobs - openstack-python37-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *dsvm-irrelevant-files - devstack-plugin-ceph-tempest: voting: false irrelevant-files: *dsvm-irrelevant-files - neutron-grenade-multinode: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-linuxbridge: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes, nor do we run # it in the gate. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-grenade-live-migration - nova-live-migration - nova-lvm - nova-next - nova-tox-functional - nova-tox-functional-py36 - tempest-full-py3: irrelevant-files: *dsvm-irrelevant-files - tempest-slow-py3: irrelevant-files: *dsvm-irrelevant-files - grenade-py3: irrelevant-files: *dsvm-irrelevant-files gate: jobs: - nova-grenade-live-migration - nova-live-migration - nova-tox-functional - nova-tox-functional-py36 - nova-next - tempest-full-py3: irrelevant-files: *dsvm-irrelevant-files - tempest-slow-py3: irrelevant-files: *dsvm-irrelevant-files - grenade-py3: irrelevant-files: *dsvm-irrelevant-files experimental: jobs: - ironic-tempest-bfv: irrelevant-files: *dsvm-irrelevant-files - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: irrelevant-files: *dsvm-irrelevant-files - barbican-simple-crypto-devstack-tempest: irrelevant-files: *dsvm-irrelevant-files - devstack-plugin-ceph-tempest-py3: irrelevant-files: *dsvm-irrelevant-files - legacy-grenade-dsvm-neutron-multinode-zero-downtime: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-full-devstack-plugin-nfs: irrelevant-files: *dsvm-irrelevant-files - tempest-full-py3-opensuse150: irrelevant-files: *dsvm-irrelevant-files - tempest-pg-full: irrelevant-files: *dsvm-irrelevant-files - nova-tempest-full-oslo.versionedobjects: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-nova-libvirt-kvm-apr: irrelevant-files: *dsvm-irrelevant-files - nova-tempest-v2-api: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-dvr-ha-multinode-full: irrelevant-files: *dsvm-irrelevant-files - os-vif-ovs: irrelevant-files: *dsvm-irrelevant-files # NOTE(mriedem): Consider moving nova-tox-functional-py37 to the # check and gate queues once it's stable (like openstack-python37-jobs) - nova-tox-functional-py37",130,86
openstack%2Fptgbot~master~I1b86c1f403981b066ad096548a1754fadd6b72ad,openstack/ptgbot,master,I1b86c1f403981b066ad096548a1754fadd6b72ad,"Show check-ins per room in ""Currently at the PTG"" page",MERGED,2019-04-28 05:31:08.000000000,2019-04-30 21:16:25.000000000,2019-04-30 21:16:25.000000000,"[{'_account_id': 308}, {'_account_id': 2394}, {'_account_id': 5263}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-28 05:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/e48b1b6f4964e66499e486030bc5581a908de2a4', 'message': 'Show check-ins per room in ""Currently at the PTG"" page\n\nInclude tooltips on the ""Currently at the PTG"" page, so that hovering\nthe mouse over a particular track will show IRC nicks for everyone\ncurrently checked into that track.\n\nChange-Id: I1b86c1f403981b066ad096548a1754fadd6b72ad\n'}, {'number': 2, 'created': '2019-04-28 17:32:08.000000000', 'files': ['html/ptg.js'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/a495d3011b8ba0067be337b6dc43e33c5488fd41', 'message': 'Show check-ins per room in ""Currently at the PTG"" page\n\nInclude tooltips on the ""Currently at the PTG"" page, so that hovering\nthe mouse over a particular track will show IRC nicks for everyone\ncurrently checked into that track.  If noone has checked in to the\ntrack yet, give a hint about how to do it.\n\nThanks a lot to Jay Bryant for giving me the idea for this after we\nbumped into each other on the plane to Denver ;-)\n\nChange-Id: I1b86c1f403981b066ad096548a1754fadd6b72ad\n'}]",2,656110,a495d3011b8ba0067be337b6dc43e33c5488fd41,14,7,2,2394,,,0,"Show check-ins per room in ""Currently at the PTG"" page

Include tooltips on the ""Currently at the PTG"" page, so that hovering
the mouse over a particular track will show IRC nicks for everyone
currently checked into that track.  If noone has checked in to the
track yet, give a hint about how to do it.

Thanks a lot to Jay Bryant for giving me the idea for this after we
bumped into each other on the plane to Denver ;-)

Change-Id: I1b86c1f403981b066ad096548a1754fadd6b72ad
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/10/656110/1 && git format-patch -1 --stdout FETCH_HEAD,['html/ptg.js'],1,e48b1b6f4964e66499e486030bc5581a908de2a4,presence-tracking," var track = schedule[room][timecode]; var room_checkins = checkins['#' + track]; var title = 'Noone checked in to ' + track + ' yet'; if (room_checkins) { var attendees = room_checkins.map(function(checkin) { return checkin.nick; }).sort(); title = 'Checked in here: ' + attendees.join("", ""); } track + '"" title=""' + title + '"">' + track;var checkins = {}; if ('last_check_in' in json) { // Compile lists of who's checked into each location for (var attendee in json['last_check_in']) { var checkin = json['last_check_in'][attendee]; if (checkin.location) { if (! (checkin.location in checkins)) { checkins[checkin.location] = []; } if (checkin['in'] && ! checkin['out']) { checkins[checkin.location].push(checkin); } } } } json['checkins'] = checkins;"," schedule[room][timecode] + '"">' + schedule[room][timecode];",27,2
openstack%2Fnova~master~I735c669ee93eab87fff2e33a8ee69018c80ae8b3,openstack/nova,master,I735c669ee93eab87fff2e33a8ee69018c80ae8b3,Implement ScaleIO image backend,ABANDONED,2016-12-06 10:11:41.000000000,2019-04-30 20:55:52.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6491}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 14624}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19004}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23871}, {'_account_id': 25033}, {'_account_id': 26515}]","[{'number': 1, 'created': '2016-12-06 10:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/432546fce4db800654b77765b8a76dc65af35636', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 2, 'created': '2016-12-06 12:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0bf5798fab53ed283f1e7ff53c2187a1bc037d8', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 3, 'created': '2016-12-06 13:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be571136b1b6875d66591f7ce90388746fc1f080', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 4, 'created': '2016-12-06 13:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32513ce89b8e2f9c3ec077ceb03a572ecd4a78f2', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 5, 'created': '2016-12-07 14:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8f9819d2139c2313ff489154ec2695ece147940', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 6, 'created': '2016-12-13 12:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57b9334663dd5dc284b1ed095c39d5131f058f71', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 7, 'created': '2016-12-20 11:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6873a818d02de2a285e195424276cb295d0fa7bf', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 8, 'created': '2016-12-29 16:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dde52ceb1c69abced9818dd8a2c4fb898403a1d8', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 9, 'created': '2017-04-19 14:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15c06248e744a081011f97b8930c74ae2c1d5ea4', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 10, 'created': '2017-04-19 16:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a15410c21e4aa7c6c1e2708937444a3094b836f', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 11, 'created': '2017-04-25 11:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b04b5435c76714374b1c4d1660752b41e1f286b4', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 12, 'created': '2017-05-23 12:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02ad39a83bf8176fec13fa2b3a7bcf18cab29683', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 13, 'created': '2017-06-13 13:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/520c516574850c3167114d73b710ba1e730ae2e1', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 14, 'created': '2017-07-18 17:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a80a04184ba45f7be208bbc984d22a5f41160ae6', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 15, 'created': '2017-10-13 20:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d42acb337b0656aadf78788cbbc5d244387d164b', 'message': '1:Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nDocImpact\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 16, 'created': '2017-10-13 20:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab3c190ebe24cb0a351b7dabf04c1f6b95b17489', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nDocImpact\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}, {'number': 17, 'created': '2017-11-21 19:24:28.000000000', 'files': ['nova/virt/image/model.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/storage/test_sio.py', 'nova/virt/libvirt/storage/sio_utils.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/conf/scaleio.py', 'nova/tests/unit/virt/image/test_model.py', 'nova/virt/libvirt/driver.py', 'nova/conf/__init__.py', 'releasenotes/notes/scaleio-imagebackend-534fd392bd6d6bf3.yaml', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c257c7d50ce7641bb17ea764765b6ba1ad523d58', 'message': 'Implement ScaleIO image backend\n\nThis implements ScaleIO ephemeral image backend in accordance to the\nspec I82f5aa9c.\n\nDocImpact\nImplements: blueprint scaleio-ephemeral-storage-backend\nChange-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3\n'}]",49,407440,c257c7d50ce7641bb17ea764765b6ba1ad523d58,295,30,17,10224,,,0,"Implement ScaleIO image backend

This implements ScaleIO ephemeral image backend in accordance to the
spec I82f5aa9c.

DocImpact
Implements: blueprint scaleio-ephemeral-storage-backend
Change-Id: I735c669ee93eab87fff2e33a8ee69018c80ae8b3
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/407440/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/image/model.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/storage/test_sio.py', 'nova/virt/libvirt/storage/sio_utils.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/conf/scaleio.py', 'nova/tests/unit/virt/image/test_model.py', 'nova/virt/libvirt/driver.py', 'nova/conf/__init__.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/libvirt/imagebackend.py']",13,432546fce4db800654b77765b8a76dc65af35636,bp/scaleio-ephemeral-storage-backend,"from nova.compute import task_statesfrom nova.virt.libvirt.storage import sio_utils @utils.synchronized(filename, external=True, lock_path=self.lock_path) def fetch_func_sync(target, *args, **kwargs): # The image may have been fetched while a subsequent # call was waiting to obtain the lock. if target != base or not os.path.exists(target): fetch_func(target=target, *args, **kwargs) else: self.connect_disk() if size > self.get_disk_size(self.path): def connect_disk(self): """"""Connect existing disk to the compute host. Makes existing instance disk available to use with libvirt. """""" pass @staticmethod def connect_disks(instance, with_no_wait=False): """"""Connect existing instance disks to the compute host. Makes existing instance disks available to use with libvirt. :param instance: instance object :param with_no_wait: do not wait until disks are available on the host """""" pass @staticmethod def disconnect_disks(instance): """"""Disconnect instance disks from the compute host. :param instance: instance object """""" pass class Sio(Image): _sio_id = None _sio_name = None _exists = None def __init__(self, instance=None, disk_name=None, path=None): self.extra_specs = instance.flavor.extra_specs if (instance.task_state == task_states.RESIZE_FINISH): self.orig_extra_specs = instance.get_flavor('old').extra_specs else: self.orig_extra_specs = None self.driver = sio_utils.SIODriver() if path: self.sio_id = path.split('-')[-1] self.sio_name = None else: self.sio_id = None self.sio_name = sio_utils.get_sio_volume_name(instance, disk_name) super(Sio, self).__init__(path, ""block"", ""raw"", is_block_dev=True) @staticmethod def is_shared_block_storage(): return True @staticmethod def connect_disks(instance, with_no_wait=False): sio_utils.SIODriver().map_volumes(instance, with_no_wait=with_no_wait) @staticmethod def disconnect_disks(instance): sio_utils.SIODriver().cleanup_volumes(instance, unmap_only=True) @property def sio_id(self): if not self._sio_id: self._sio_id = self.driver.get_volume_id(self._sio_name) return self._sio_id @sio_id.setter def sio_id(self, value): self._sio_id = value @property def sio_name(self): if not self._sio_name: self._sio_name = self.driver.get_volume_name(self._sio_id) return self._sio_name @sio_name.setter def sio_name(self, value): self._sio_name = value def exists(self): if self._exists is None: if not self._sio_id: self._sio_id = self.driver.get_volume_id( self._sio_name, none_if_not_found=True) self._exists = bool(self._sio_id) return self._exists def ensure_path(self): if self.path is None: try: self.path = self.driver.get_volume_path(self.sio_id) except Exception: with excutils.save_and_reraise_exception(): LOG.error(_LE('Disk volume %s is not connected'), self.sio_name) def create_image(self, prepare_template, base, size, *args, **kwargs): if self.exists(): self.connect_disk() return generating = 'image_id' not in kwargs # NOTE(ft): We assume that only root disk is recreated in rescue mode. # With this assumption the code becomes more simple and fast. if generating: sio_utils.verify_volume_size(size) self.sio_id = self.driver.create_volume(self.sio_name, size, self.extra_specs) self.path = self.driver.map_volume(self.sio_id) prepare_template(target=self.path, is_block_dev=True, *args, **kwargs) else: if not os.path.exists(base): prepare_template(target=base, *args, **kwargs) base_size = disk.get_disk_size(base) if (size is None and sio_utils.is_sio_volume_rescuer(self.sio_name)): size = sio_utils.choose_volume_size(base_size) self.extra_specs = dict(self.extra_specs) self.extra_specs[sio_utils.PROVISIONING_TYPE_KEY] = 'thin' else: sio_utils.verify_volume_size(size) self.verify_base_size(base, size, base_size=base_size) self.sio_id = self.driver.create_volume(self.sio_name, size, self.extra_specs) self.path = self.driver.map_volume(self.sio_id) self.driver.import_image(base, self.path) def connect_disk(self): self.driver.map_volume(self.sio_id, with_no_wait=True) if self.orig_extra_specs is not None: self.driver.move_volume( self.sio_id, self.sio_name, self.extra_specs, self.orig_extra_specs, is_mapped=True) def get_disk_size(self, name): return self.driver.get_volume_size(self.sio_id) def get_model(self, connection): return imgmodel.SIOImage() def libvirt_info(self, disk_bus, disk_dev, device_type, cache_mode, extra_specs, hypervisor_version, boot_order=None): self.ensure_path() return super(Sio, self).libvirt_info( disk_bus, disk_dev, device_type, cache_mode, extra_specs, hypervisor_version, boot_order) def snapshot_extract(self, target, out_format): self.ensure_path() self.driver.export_image(self.path, target, out_format) def resize_image(self, size): sio_utils.verify_volume_size(size) self.driver.extend_volume(self.sio_id, size) def create_snap(self, name): snap_name = sio_utils.get_sio_snapshot_name(self.sio_name, name) self.driver.snapshot_volume(self.sio_id, snap_name) def remove_snap(self, name, ignore_errors=False): snap_name = sio_utils.get_sio_snapshot_name(self.sio_name, name) self.driver.remove_volume_by_name(snap_name) def rollback_to_snap(self, name): snap_name = sio_utils.get_sio_snapshot_name(self.sio_name, name) self.driver.rollback_to_snapshot(self.sio_id, self.sio_name, snap_name) 'sio': Sio,"," @utils.synchronized(filename, external=True, lock_path=self.lock_path) def fetch_func_sync(target, *args, **kwargs): # The image may have been fetched while a subsequent # call was waiting to obtain the lock. if not os.path.exists(target): fetch_func(target=target, *args, **kwargs) # create_image() only creates the base image if needed, so # we cannot rely on it to exist here if os.path.exists(base) and size > self.get_disk_size(base):",1730,38
openstack%2Fnova~master~Ic119d8f8344d3503d8feb6d77102dc8d435cbc53,openstack/nova,master,Ic119d8f8344d3503d8feb6d77102dc8d435cbc53,Destroy the ReqSpec object when deleting the instance,ABANDONED,2016-10-27 08:39:00.000000000,2019-04-30 20:53:38.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-10-27 08:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39e717f76241c53f5159090a82d4885a8218652e', 'message': ""Destroy the ReqSpec object when deleting the instance\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}, {'number': 2, 'created': '2017-02-03 14:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e541c03aa4809078a2ce43decf08c86a8491280a', 'message': ""Destroy the ReqSpec object when deleting the instance\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}, {'number': 3, 'created': '2017-03-21 10:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba9b3de36dc81b6d887505c58fcfe5689eb8add1', 'message': ""WIP/DNM: Destroy the ReqSpec object when deleting the instance\n\nTODO: Needs a relnote.\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}, {'number': 4, 'created': '2017-03-23 11:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fb767c0c1e548e61c30fe60321a7c1685ee02ba', 'message': ""WIP/DNM: Destroy the ReqSpec object when deleting the instance\n\nTODO: Needs a relnote.\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}, {'number': 5, 'created': '2017-03-23 11:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d72c288f1ba959a0217e0ce64b5fc979ad65d949', 'message': ""Destroy the ReqSpec object when deleting the instance\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}, {'number': 6, 'created': '2017-03-31 11:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6acfabb9861f7f19ad7f41ec09ab53885e8683a', 'message': ""Destroy the ReqSpec object when deleting the instance\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nCloses-Bug: #1678056\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}, {'number': 7, 'created': '2017-04-03 15:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8388d3e82218ef4d51e888af2a11bbf07aa9bb97', 'message': ""Destroy the ReqSpec object when deleting the instance\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nCloses-Bug: #1678056\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}, {'number': 8, 'created': '2017-04-18 15:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a15cc82d34af61a09329c14b4b5bea8afaafcc23', 'message': ""Destroy the ReqSpec object when deleting the instance\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nCloses-Bug: #1678056\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}, {'number': 9, 'created': '2017-05-17 19:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2eed2c2812dcb44af684ed3748d930c14019a16', 'message': ""Destroy the ReqSpec object when deleting the instance\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nCloses-Bug: #1678056\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}, {'number': 10, 'created': '2017-06-23 13:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8414f8c1e47fe9cf8fbd7e1fea8ed3cbd985fdd8', 'message': ""Destroy the ReqSpec object when deleting the instance\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nCloses-Bug: #1678056\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}, {'number': 11, 'created': '2017-07-21 09:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbae76848ac88eab56e073a4f793ce62a0c80c15', 'message': ""Destroy the ReqSpec object when deleting the instance\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nCloses-Bug: #1678056\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}, {'number': 12, 'created': '2017-08-01 09:54:31.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2b0383166b59da13d9403f95b42a3a9ee72ae96a', 'message': ""Destroy the ReqSpec object when deleting the instance\n\nGiven we keep the RequestSpec records even if the instance is deleted,\nit could become a problem for the operators later as the table could\nbecome very huge. Given we agreed to not support soft-deleting those\nrecords, let's just delete those when the instance destroy is called.\n\nTo be clear, in case the instance destroy API is returning an error,\nthat's fine to have the ReqSpec record being already deleted, given\nthere is no reason to synchronously make sure that those two records\nwould be deleted at the same time.\n\nCloses-Bug: #1678056\n\nChange-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53\n""}]",19,391060,2b0383166b59da13d9403f95b42a3a9ee72ae96a,191,26,12,7166,,,0,"Destroy the ReqSpec object when deleting the instance

Given we keep the RequestSpec records even if the instance is deleted,
it could become a problem for the operators later as the table could
become very huge. Given we agreed to not support soft-deleting those
records, let's just delete those when the instance destroy is called.

To be clear, in case the instance destroy API is returning an error,
that's fine to have the ReqSpec record being already deleted, given
there is no reason to synchronously make sure that those two records
would be deleted at the same time.

Closes-Bug: #1678056

Change-Id: Ic119d8f8344d3503d8feb6d77102dc8d435cbc53
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/391060/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/cells_api.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",3,39e717f76241c53f5159090a82d4885a8218652e,bug/1678056," def _delete_request_spec(self, context, instance): # NOTE(sbauza): The migration script we provided in Newton should make # sure that all our instances are currently migrated to have an # attached RequestSpec object but let's consider that the operator only # half migrated all their instances in the meantime. try: request_spec = objects.RequestSpec.get_by_instance_uuid( context, instance.uuid) except exception.RequestSpecNotFound: # Some old instances can still have no RequestSpec object attached # to them, we need to support the old way request_spec = None if request_spec: try: # NOTE(sbauza): The consensus we agreed is that it's fine to # delete the RequestSpec record before deleting the instance # record even in case of the latter returning an error because # we accept to not have an attached RequestSpec to an instance # as a defensive approach. In case the instance record deletion # is erroring, then it means the instance VM state will become # an error too which means the only user possibility is to ask # for an instance deletion again. request_spec.destroy() except exception.RequestSpecNotFound: # NOTE(sbauza): It should be possible that two concurrent # deletion requests would be trying to delete the same record, # we prefer to leave a warning rather than returning a HTTP500 # to the user. LOG.warning(_LW(""RequestSpec attached to instance %s"" "" already deleted.""), instance.uuid) self._delete_request_spec(context, instance) ",,65,0
openstack%2Fnova~stable%2Fqueens~If897a0d721180152ebdceb7a0c23e8f283ce6d10,openstack/nova,stable/queens,If897a0d721180152ebdceb7a0c23e8f283ce6d10,"Create request spec, build request and mappings in one transaction",MERGED,2019-04-26 21:53:43.000000000,2019-04-30 20:50:12.000000000,2019-04-30 20:50:12.000000000,"[{'_account_id': 1004}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-26 21:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c97f9a8f736e1d7d19d71b84ea475f072d48766e', 'message': 'Create request spec, build request and mappings in one transaction\n\nThe transaction context is currently not shared when creating the\nRequestSpec, BuildRequest and InstanceMapping.  Because of this,\nit is possible that the database ends in an inconsistent state\ndue to the fact that one of these was created and the system\ncrashed afterwards.\n\nThis patch adds a function which handles the creation of all those\nresources in a single transaction.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1784093\n\nChange-Id: If897a0d721180152ebdceb7a0c23e8f283ce6d10\n(cherry picked from commit 85f8d033d27b31a6398529e0a25da74eae523b08)\n(cherry picked from commit 870e5bcfb6a5243a785b66353dda299286274e59)\n(cherry picked from commit 622671fe5bf9518c3b88d947763d86a9c560153e)\n'}, {'number': 2, 'created': '2019-04-28 00:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d9457236af8d85aee2644ef1a9d040f352ef6c2', 'message': 'Create request spec, build request and mappings in one transaction\n\nThe transaction context is currently not shared when creating the\nRequestSpec, BuildRequest and InstanceMapping.  Because of this,\nit is possible that the database ends in an inconsistent state\ndue to the fact that one of these was created and the system\ncrashed afterwards.\n\nThis patch adds a function which handles the creation of all those\nresources in a single transaction.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1784093\n\n Conflicts:\n\tnova/tests/unit/compute/test_compute_api.py\n\nChange-Id: If897a0d721180152ebdceb7a0c23e8f283ce6d10\n(cherry picked from commit 85f8d033d27b31a6398529e0a25da74eae523b08)\n(cherry picked from commit 870e5bcfb6a5243a785b66353dda299286274e59)\n(cherry picked from commit dc0ded897b5e5df89166c318f8bed3dbb6553fce)\n'}, {'number': 3, 'created': '2019-04-30 14:22:31.000000000', 'files': ['nova/tests/functional/db/test_compute_api.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/22cd12dbb7fa5a7e0b98e4c42a73b4e7d34b0851', 'message': 'Create request spec, build request and mappings in one transaction\n\nThe transaction context is currently not shared when creating the\nRequestSpec, BuildRequest and InstanceMapping.  Because of this,\nit is possible that the database ends in an inconsistent state\ndue to the fact that one of these was created and the system\ncrashed afterwards.\n\nThis patch adds a function which handles the creation of all those\nresources in a single transaction.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1784093\n\nChange-Id: If897a0d721180152ebdceb7a0c23e8f283ce6d10\n(cherry picked from commit 85f8d033d27b31a6398529e0a25da74eae523b08)\n(cherry picked from commit 870e5bcfb6a5243a785b66353dda299286274e59)\n(cherry picked from commit dc0ded897b5e5df89166c318f8bed3dbb6553fce)\n'}]",4,656031,22cd12dbb7fa5a7e0b98e4c42a73b4e7d34b0851,26,8,3,4690,,,0,"Create request spec, build request and mappings in one transaction

The transaction context is currently not shared when creating the
RequestSpec, BuildRequest and InstanceMapping.  Because of this,
it is possible that the database ends in an inconsistent state
due to the fact that one of these was created and the system
crashed afterwards.

This patch adds a function which handles the creation of all those
resources in a single transaction.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Closes-Bug: #1784093

Change-Id: If897a0d721180152ebdceb7a0c23e8f283ce6d10
(cherry picked from commit 85f8d033d27b31a6398529e0a25da74eae523b08)
(cherry picked from commit 870e5bcfb6a5243a785b66353dda299286274e59)
(cherry picked from commit dc0ded897b5e5df89166c318f8bed3dbb6553fce)
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/656031/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_compute_api.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",3,c97f9a8f736e1d7d19d71b84ea475f072d48766e,bug/1784093,"from nova.db.sqlalchemy import api as db_api @staticmethod @db_api.api_context_manager.writer def _create_reqspec_buildreq_instmapping(context, rs, br, im): """"""Create the request spec, build request, and instance mapping in a single database transaction. The RequestContext must be passed in to this method so that the database transaction context manager decorator will nest properly and include each create() into the same transaction context. """""" rs.create() br.create() im.create() # Create the request spec, build request, and instance mapping # records in a single transaction so that if a DBError is # raised from any of them, all INSERTs will be rolled back and # no orphaned records will be left behind. self._create_reqspec_buildreq_instmapping(context, req_spec, build_request, inst_mapping)", req_spec.create() build_request.create() inst_mapping.create(),109,13
openstack%2Fnova~master~I543166bd1f30e0583a8b7e00b96a41759f507656,openstack/nova,master,I543166bd1f30e0583a8b7e00b96a41759f507656,Fix link in get-me-a-network-992eabc81b5e5347,ABANDONED,2018-11-12 04:43:02.000000000,2019-04-30 20:47:50.000000000,,"[{'_account_id': 2472}, {'_account_id': 9008}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2018-11-12 04:43:02.000000000', 'files': ['releasenotes/notes/get-me-a-network-992eabc81b5e5347.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/42348a0a124f86557f865e5d206389794bd17184', 'message': 'Fix link in get-me-a-network-992eabc81b5e5347\n\nChange-Id: I543166bd1f30e0583a8b7e00b96a41759f507656\n'}]",0,617222,42348a0a124f86557f865e5d206389794bd17184,14,12,1,29423,,,0,"Fix link in get-me-a-network-992eabc81b5e5347

Change-Id: I543166bd1f30e0583a8b7e00b96a41759f507656
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/617222/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/get-me-a-network-992eabc81b5e5347.yaml'],1,42348a0a124f86557f865e5d206389794bd17184,, .. _Additional features: https://docs.openstack.org/neutron/rocky/admin/intro-os-networking.html, .. _Additional features: http://docs.openstack.org/networking-guide/intro-os-networking-features.html,1,1
openstack%2Fnova~master~I8cc17f99eaa96db7ada396406696f212916d8d04,openstack/nova,master,I8cc17f99eaa96db7ada396406696f212916d8d04,Pre-add functional tests stub to notification testing,ABANDONED,2017-05-09 07:58:58.000000000,2019-04-30 20:44:01.000000000,,"[{'_account_id': 3}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-09 07:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f5eb8917f231619eebb720748e7c86a1a90719d', 'message': 'Pre-add functional tests stub to notification testing\n\nThe currently in-queue aggregate-notifications are added.\nThe ""instance stubs"": https://review.openstack.org/#/c/448225\n\nChange-Id: I8cc17f99eaa96db7ada396406696f212916d8d04\n'}, {'number': 2, 'created': '2017-05-15 06:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/626c79e9f5f05e1eda8085da36ee815b27497165', 'message': 'Pre-add functional tests stub to notification testing\n\nThe currently in-queue aggregate-notifications are added.\nThe ""instance stubs"": https://review.openstack.org/#/c/448225\n\nChange-Id: I8cc17f99eaa96db7ada396406696f212916d8d04\n'}, {'number': 3, 'created': '2017-06-09 04:38:59.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_aggregate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e17019f987f7cb93e5a384f2a9f642f068e7fef7', 'message': 'Pre-add functional tests stub to notification testing\n\nThe currently in-queue aggregate-notifications are added.\nThe ""instance stubs"": https://review.openstack.org/#/c/448225\n\nChange-Id: I8cc17f99eaa96db7ada396406696f212916d8d04\n'}]",1,463490,e17019f987f7cb93e5a384f2a9f642f068e7fef7,29,10,3,18603,,,0,"Pre-add functional tests stub to notification testing

The currently in-queue aggregate-notifications are added.
The ""instance stubs"": https://review.openstack.org/#/c/448225

Change-Id: I8cc17f99eaa96db7ada396406696f212916d8d04
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/463490/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_aggregate.py'],1,4f5eb8917f231619eebb720748e7c86a1a90719d,(detached," def test_aggregate_action(self): aggregate_req = { ""aggregate"": { ""name"": ""my-aggregate"", ""availability_zone"": ""nova""}} aggregate = self.admin_api.post_aggregate(aggregate_req) actions = [ self._test_aggregate_add_host, self._test_aggregate_remove_host, self._test_aggregate_updatemetadata, self._test_aggregate_updateprop ] for action in actions: fake_notifier.reset() action(aggregate) def _test_aggregate_add_host(self, aggregate_): pass def _test_aggregate_remove_host(self, aggregate): pass def _test_aggregate_updatemetadata(self, aggregate): pass def _test_aggregate_updateprop(self, aggregate): pass ",,30,0
openstack%2Finstack-undercloud~master~I45ae6d0e3726cc71c7dc35a9a47da8b7a0bab9cb,openstack/instack-undercloud,master,I45ae6d0e3726cc71c7dc35a9a47da8b7a0bab9cb,Disable undercloud nova metadata server,ABANDONED,2016-11-21 21:16:15.000000000,2019-04-30 19:53:34.000000000,,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6796}, {'_account_id': 6928}, {'_account_id': 8871}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2016-11-21 21:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/936a64d0ef02ff202d9dfa5ed29fb5c84cc8ec53', 'message': ""WIP Disable undercloud nova metadata server\n\nNow that os-collect-config gets its initial config from config-drive,\nthe nova metadata server no longer needs to be running on the\nundercloud. And since every other nova API is now served by apache,\nthe openstack-nova-api service doesn't need to run at all, which is a\nnice saving in memory and complexity.\n\nMarking as WIP while the os-collect-config change propagates into\nimages built.\n\nChange-Id: I45ae6d0e3726cc71c7dc35a9a47da8b7a0bab9cb\n""}, {'number': 2, 'created': '2016-12-04 20:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/31d77f26ee55bb517d19db0ce134a242613c24e7', 'message': ""Disable undercloud nova metadata server\n\nNow that os-collect-config gets its initial config from config-drive,\nthe nova metadata server no longer needs to be running on the\nundercloud. And since every other nova API is now served by apache,\nthe openstack-nova-api service doesn't need to run at all, which is a\nnice saving in memory and complexity.\n\nChange-Id: I45ae6d0e3726cc71c7dc35a9a47da8b7a0bab9cb\n""}, {'number': 3, 'created': '2017-07-12 02:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/a98eed6ebb894fe60420f1c0b440d13100a5cc2e', 'message': ""Disable undercloud nova metadata server\n\nNow that os-collect-config gets its initial config from config-drive,\nthe nova metadata server no longer needs to be running on the\nundercloud. And since every other nova API is now served by apache,\nthe openstack-nova-api service doesn't need to run at all, which is a\nnice saving in memory and complexity.\n\nChange-Id: I45ae6d0e3726cc71c7dc35a9a47da8b7a0bab9cb\n""}, {'number': 4, 'created': '2017-07-12 21:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/8797eb6732bfd80961d1def7fc66dca11dd8a5a9', 'message': 'Disable undercloud nova metadata server\n\nNow that os-collect-config gets its initial config from config-drive,\nthe nova metadata server no longer needs to be running on the\nundercloud.\n\nChange-Id: I45ae6d0e3726cc71c7dc35a9a47da8b7a0bab9cb\n'}, {'number': 5, 'created': '2017-07-25 22:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/7c4a114d2acaa7c7358c0d3e5bbd184111c9e723', 'message': 'Disable undercloud nova metadata server\n\nNow that os-collect-config gets its initial config from config-drive,\nthe nova metadata server no longer needs to be running on the\nundercloud.\n\nChange-Id: I45ae6d0e3726cc71c7dc35a9a47da8b7a0bab9cb\n'}, {'number': 6, 'created': '2017-07-26 04:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/8e5bf381307eb3958af8f4adffa550ea2e426f85', 'message': 'Disable undercloud nova metadata server\n\nNow that os-collect-config gets its initial config from config-drive,\nthe nova metadata server no longer needs to be running on the\nundercloud.\n\nChange-Id: I45ae6d0e3726cc71c7dc35a9a47da8b7a0bab9cb\n'}, {'number': 7, 'created': '2017-07-26 04:28:36.000000000', 'files': ['releasenotes/notes/remove-nova-meta-97d28ab13dbfa22a.yaml', 'elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/8e6a0fb72290a5825db1945ea14447e2a7492049', 'message': 'Disable undercloud nova metadata server\n\nNow that os-collect-config gets its initial config from config-drive,\nthe nova metadata server no longer needs to be running on the\nundercloud.\n\nChange-Id: I45ae6d0e3726cc71c7dc35a9a47da8b7a0bab9cb\n'}]",2,400407,8e6a0fb72290a5825db1945ea14447e2a7492049,79,12,7,4571,,,0,"Disable undercloud nova metadata server

Now that os-collect-config gets its initial config from config-drive,
the nova metadata server no longer needs to be running on the
undercloud.

Change-Id: I45ae6d0e3726cc71c7dc35a9a47da8b7a0bab9cb
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/07/400407/5 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,936a64d0ef02ff202d9dfa5ed29fb5c84cc8ec53,remove-nova-api,nova::api::enabled: false,"nova::api::api_bind_address: {{LOCAL_IP}} nova::api::enabled: true nova::api::metadata_listen: {{LOCAL_IP}} - metadatanova::api::metadata_workers: ""%{::os_workers}""tripleo::haproxy::nova_metadata: true",1,6
openstack-attic%2Fcompute-api~master~I58dc056efda1b25641da76f665dd3035078e4830,openstack-attic/compute-api,master,I58dc056efda1b25641da76f665dd3035078e4830,Fix bug 845012,MERGED,2011-10-24 07:25:32.000000000,2019-04-30 19:38:46.000000000,2011-10-26 21:34:40.000000000,"[{'_account_id': 3}, {'_account_id': 964}]","[{'number': 1, 'created': '2011-10-24 07:25:32.000000000', 'files': ['openstack-compute-api-1.1/src/os-compute-devguide.xml'], 'web_link': 'https://opendev.org/openstack-attic/compute-api/commit/1469389ca29666cfd5ce344948206b7824a74aeb', 'message': 'Fix bug 845012\n\nChange-Id: I58dc056efda1b25641da76f665dd3035078e4830\n'}]",0,1039,1469389ca29666cfd5ce344948206b7824a74aeb,6,2,1,1627,,,0,"Fix bug 845012

Change-Id: I58dc056efda1b25641da76f665dd3035078e4830
",git fetch https://review.opendev.org/openstack-attic/compute-api refs/changes/39/1039/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack-compute-api-1.1/src/os-compute-devguide.xml'],1,1469389ca29666cfd5ce344948206b7824a74aeb,bug/845012," <para> This operation updates the editable attributes of a server: the name of the server and the IPv4 and IPv6 access addresses. Note that while the server name is editable, the operation does not change the server host name. Note also that server names are not guaranteed to be unique. </para>"," <para> This operation updates the editable attributes of a server: the name of the server, the server metadata, and the IPv4 and IPv6 access address. Note that while the server name is editable, the operation does not change the server host name. Note also that server names are not guaranteed to be unique. </para>",4,9
openstack%2Frpm-packaging~stable%2Fqueens~I218aacaa1ab498565312782d30ae5adaae767c00,openstack/rpm-packaging,stable/queens,I218aacaa1ab498565312782d30ae5adaae767c00,Add magnum tempest plugin package,ABANDONED,2018-03-28 09:27:05.000000000,2019-04-30 19:35:02.000000000,,"[{'_account_id': 6593}, {'_account_id': 9178}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-28 09:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f14dc0a749019cdbfe9ed7040bab3ce545337c20', 'message': 'Add magnum tempest plugin package\n\nThis patch add magnum tempest plugin package spec template.\n\nChange-Id: I218aacaa1ab498565312782d30ae5adaae767c00\n(cherry picked from commit ff2f1554f7fd2b12bf63d1b637226ed0302556b9)\n'}, {'number': 2, 'created': '2018-03-28 15:18:31.000000000', 'files': ['openstack/magnum-tempest-plugin/magnum-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/90dd6b425583529a67958724d5cee13bec6cc6ef', 'message': 'Add magnum tempest plugin package\n\nThis patch add magnum tempest plugin package spec template.\n\nChange-Id: I218aacaa1ab498565312782d30ae5adaae767c00\n(cherry picked from commit d206ff4d6126c47b407e5eed67171147891df102)\n'}]",1,557272,90dd6b425583529a67958724d5cee13bec6cc6ef,14,5,2,9178,,,0,"Add magnum tempest plugin package

This patch add magnum tempest plugin package spec template.

Change-Id: I218aacaa1ab498565312782d30ae5adaae767c00
(cherry picked from commit d206ff4d6126c47b407e5eed67171147891df102)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/72/557272/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/magnum-tempest-plugin/magnum-tempest-plugin.spec.j2'],1,f14dc0a749019cdbfe9ed7040bab3ce545337c20,queens,"{% set pypi_name = 'magnum-tempest-plugin' %} {% set source=fetch_source('http://tarballs.openstack.org/magnum-tempest-plugin/magnum-tempest-plugin-master.tar.gz') %} {% set upstream_version = upstream_version() %} {% set rpm_release = '1' %} %global sname magnum_tempest_plugin %global with_doc 0 %global common_desc \ This package contains Tempest tests to cover the magnum project. \ Additionally it provides a plugin to automatically load these tests into Tempest. Name: {{ py2pkg('magnum-tempest-plugin') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: Tempest plugin for the magnum project License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: https://git.openstack.org/cgit/openstack/{{ pypi_name }} Source0: {{ source|basename }} BuildRequires: openstack-macros BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('mock') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('oslotest') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} BuildArch: noarch %description %{common_desc} %if 0%{?with_doc} %package doc Summary: Documentation for magnum tempest plugin BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc It contains the documentation for the magnum tempest tests. %endif %prep %autosetup -n {{ pypi_name }}-{{ upstream_version }} # Let's handle dependencies ourseleves %py_req_cleanup # Remove bundled egg-info rm -rf %{module}.egg-info %build %{py2_build} # Generate Docs %if 0%{?with_doc} %{__python2} setup.py build_sphinx # remove the sphinx build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %endif %install %{py2_install} %files %license LICENSE %doc README.rst %{python2_sitelib}/magnum_tempest_tests %{python2_sitelib}/*.egg-info %if 0%{?with_doc} %files doc %doc doc/build/html %license LICENSE %endif %changelog ",,79,0
openstack%2Frpm-packaging~master~I5fa7e9c88d6b9bd3f101671aefa90baad450c75e,openstack/rpm-packaging,master,I5fa7e9c88d6b9bd3f101671aefa90baad450c75e,Package documentation for mistralclient,ABANDONED,2017-08-14 08:02:44.000000000,2019-04-30 19:32:40.000000000,,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 7613}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-08-14 08:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/eea6b5bb05debdc42a6061d99c762c136d0e81db', 'message': 'Package documentation for mistralclient\n\nChange-Id: I5fa7e9c88d6b9bd3f101671aefa90baad450c75e\n'}, {'number': 2, 'created': '2017-08-15 06:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3793c2a954a7d1739b2d2dea6055fa1d1085b12f', 'message': 'Package documentation for mistralclient\n\nChange-Id: I5fa7e9c88d6b9bd3f101671aefa90baad450c75e\n'}, {'number': 3, 'created': '2017-09-25 11:38:01.000000000', 'files': ['openstack/python-mistralclient/python-mistralclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/49fb432244689e22aad17a641411c42b2dac567e', 'message': 'Package documentation for mistralclient\n\nChange-Id: I5fa7e9c88d6b9bd3f101671aefa90baad450c75e\n'}]",3,493470,49fb432244689e22aad17a641411c42b2dac567e,16,6,3,6593,,,0,"Package documentation for mistralclient

Change-Id: I5fa7e9c88d6b9bd3f101671aefa90baad450c75e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/70/493470/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-mistralclient/python-mistralclient.spec.j2'],1,eea6b5bb05debdc42a6061d99c762c136d0e81db,mymistralclient,%doc doc/build/html,,1,0
openstack%2Fswift~feature%2Flosf~I16dd8f8703bf334c31bfa79dd27ab4218595e670,openstack/swift,feature/losf,I16dd8f8703bf334c31bfa79dd27ab4218595e670,DNM: test to enable python3.5 interpreter at the gate,ABANDONED,2019-03-28 12:11:56.000000000,2019-04-30 19:32:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-28 12:11:56.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/f6dc71b0e3091e40938c4662e12d39e1ab4f94cc', 'message': 'DNM: test to enable python3.5 interpreter at the gate\n\nChange-Id: I16dd8f8703bf334c31bfa79dd27ab4218595e670\n'}]",0,648381,f6dc71b0e3091e40938c4662e12d39e1ab4f94cc,3,1,1,4608,,,0,"DNM: test to enable python3.5 interpreter at the gate

Change-Id: I16dd8f8703bf334c31bfa79dd27ab4218595e670
",git fetch https://review.opendev.org/openstack/swift refs/changes/81/648381/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,f6dc71b0e3091e40938c4662e12d39e1ab4f94cc,bug/1819252,python3.5 [platform:dpkg platform:apk py35],,1,0
openstack%2Frpm-packaging~stable%2Fstein~Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60,openstack/rpm-packaging,stable/stein,Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60,Follow opendev rebranding,MERGED,2019-04-29 18:30:05.000000000,2019-04-30 19:23:50.000000000,2019-04-30 19:23:50.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 18:30:05.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8b670abe176a02bfa677a24bba42f8e97a0133ac', 'message': 'Follow opendev rebranding\n\nChange-Id: Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60\n(cherry picked from commit d3c2a392ecde86bcd4fa0d06ffd0e9e753e5c28d)\n'}]",0,656376,8b670abe176a02bfa677a24bba42f8e97a0133ac,10,5,1,6593,,,0,"Follow opendev rebranding

Change-Id: Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60
(cherry picked from commit d3c2a392ecde86bcd4fa0d06ffd0e9e753e5c28d)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/76/656376/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,8b670abe176a02bfa677a24bba42f8e97a0133ac,monasca_fixup-stable/rocky-stable/stein, https://opendev.org/openstack/rpm-packaging, https://git.openstack.org/cgit/openstack/rpm-packaging,1,1
openstack%2Frpm-packaging~stable%2Frocky~Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60,openstack/rpm-packaging,stable/rocky,Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60,Follow opendev rebranding,MERGED,2019-04-29 18:29:58.000000000,2019-04-30 19:23:33.000000000,2019-04-30 19:23:33.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 18:29:58.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/73ee7a89d53e7f0d153872a396016b5cd1529a95', 'message': 'Follow opendev rebranding\n\nChange-Id: Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60\n(cherry picked from commit d3c2a392ecde86bcd4fa0d06ffd0e9e753e5c28d)\n'}]",0,656375,73ee7a89d53e7f0d153872a396016b5cd1529a95,10,5,1,6593,,,0,"Follow opendev rebranding

Change-Id: Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60
(cherry picked from commit d3c2a392ecde86bcd4fa0d06ffd0e9e753e5c28d)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/75/656375/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,73ee7a89d53e7f0d153872a396016b5cd1529a95,monasca_fixup-stable/rocky, https://opendev.org/openstack/rpm-packaging http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-discuss, https://git.openstack.org/cgit/openstack/rpm-packaging http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-dev,2,2
openstack%2Ftripleo-quickstart~master~Ic119868acdba55e90ac9466f49a8ec8e047f804c,openstack/tripleo-quickstart,master,Ic119868acdba55e90ac9466f49a8ec8e047f804c,Check for broken symlinks,MERGED,2019-04-12 14:30:52.000000000,2019-04-30 19:13:09.000000000,2019-04-30 19:13:09.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-12 14:30:52.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/77d5f2b762e4b81246357c4a0c909e28e120702b', 'message': 'Check for broken symlinks\n\nPrevent accidental creation of invalid symlinks in the source tree.\n\nWe are using symlinks especially for release config files and is easy\nto create invalid ones and miss to observe them.\n\nThis will make the linter detect such broken symlinks.\n\nChange-Id: Ic119868acdba55e90ac9466f49a8ec8e047f804c\n'}]",1,652085,77d5f2b762e4b81246357c4a0c909e28e120702b,15,13,1,24162,,,0,"Check for broken symlinks

Prevent accidental creation of invalid symlinks in the source tree.

We are using symlinks especially for release config files and is easy
to create invalid ones and miss to observe them.

This will make the linter detect such broken symlinks.

Change-Id: Ic119868acdba55e90ac9466f49a8ec8e047f804c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/85/652085/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,77d5f2b762e4b81246357c4a0c909e28e120702b,oooq/symlinks, - id: check-symlinks,,1,0
openstack%2Ftripleo-quickstart~master~I0bf2ab447b914aa21c1fd4f1c34c6364497ad032,openstack/tripleo-quickstart,master,I0bf2ab447b914aa21c1fd4f1c34c6364497ad032,Fix PATH for bindep command,MERGED,2019-04-24 10:09:01.000000000,2019-04-30 19:13:08.000000000,2019-04-30 19:13:08.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-04-24 10:09:01.000000000', 'files': ['install-deps.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2f4c355782300e2651593cf3aaab7df6e458f62d', 'message': 'Fix PATH for bindep command\n\nWhen installing bindep and running it as root user it\'s not found,\nbecause ""user mode"" pip installation is in ~/.local/bin and it\'s\nnot added to path.\nMake sure it\'s in PATH.\nChange-Id: I0bf2ab447b914aa21c1fd4f1c34c6364497ad032\n'}]",0,655382,2f4c355782300e2651593cf3aaab7df6e458f62d,10,5,1,10969,,,0,"Fix PATH for bindep command

When installing bindep and running it as root user it's not found,
because ""user mode"" pip installation is in ~/.local/bin and it's
not added to path.
Make sure it's in PATH.
Change-Id: I0bf2ab447b914aa21c1fd4f1c34c6364497ad032
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/82/655382/1 && git format-patch -1 --stdout FETCH_HEAD,['install-deps.sh'],1,2f4c355782300e2651593cf3aaab7df6e458f62d,, PATH=$PATH:~/.local/bin bindep -b || sudo $(package_manager) -y install `bindep -b`;, bindep -b || sudo $(package_manager) -y install `bindep -b`;,1,1
openstack%2Fnetworking-ovn~stable%2Frocky~I64e60bbb1501705baa6467e5d81ead9072fbced4,openstack/networking-ovn,stable/rocky,I64e60bbb1501705baa6467e5d81ead9072fbced4,Update Rocky to test against OVS 2.11 stable,MERGED,2019-04-09 10:59:25.000000000,2019-04-30 19:09:53.000000000,2019-04-30 19:09:53.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-04-09 10:59:25.000000000', 'files': ['devstack/devstackgaterc', 'devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9c66f24473bba56a2501ad864a97f6207cfe2ec9', 'message': 'Update Rocky to test against OVS 2.11 stable\n\nThis patch is changing the stable OVS branch against which we test\nnetworking-ovn to OVS 2.11 in Rocky.\n\nChange-Id: I64e60bbb1501705baa6467e5d81ead9072fbced4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,651192,9c66f24473bba56a2501ad864a97f6207cfe2ec9,13,5,1,23804,,,0,"Update Rocky to test against OVS 2.11 stable

This patch is changing the stable OVS branch against which we test
networking-ovn to OVS 2.11 in Rocky.

Change-Id: I64e60bbb1501705baa6467e5d81ead9072fbced4
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/92/651192/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'devstack/upgrade/settings']",2,9c66f24473bba56a2501ad864a97f6207cfe2ec9,rocky,"devstack_localrc base OVN_BRANCH=""branch-2.11""","devstack_localrc base OVN_BRANCH=""branch-2.9""",2,2
openstack%2Ftripleo-ci~master~I8b039963d9e91579fc60f609a125536b5bd78f0a,openstack/tripleo-ci,master,I8b039963d9e91579fc60f609a125536b5bd78f0a,Add basic periodic jobs to TripleO,MERGED,2019-04-22 12:51:29.000000000,2019-04-30 18:55:52.000000000,2019-04-30 18:55:52.000000000,"[{'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-04-22 12:51:29.000000000', 'files': ['zuul.d/periodic.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d8a597c1a404110b25cfacb78ba0521cb70674cc', 'message': 'Add basic periodic jobs to TripleO\n\nChange-Id: I8b039963d9e91579fc60f609a125536b5bd78f0a\n'}]",0,654447,d8a597c1a404110b25cfacb78ba0521cb70674cc,15,9,1,10969,,,0,"Add basic periodic jobs to TripleO

Change-Id: I8b039963d9e91579fc60f609a125536b5bd78f0a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/47/654447/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'zuul.d/periodic.yaml']",2,d8a597c1a404110b25cfacb78ba0521cb70674cc,test1,- project-template: name: tripleo-periodic periodic: jobs: - tripleo-ci-centos-7-containers-multinode: branches: - master - stable/stein - stable/rocky - stable/queens - tripleo-ci-centos-7-scenario001-standalone: branches: - master - stable/stein ,,15,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I112a228ed90a50aeee787e83a58a014519db7992,openstack/tripleo-heat-templates,stable/stein,I112a228ed90a50aeee787e83a58a014519db7992,Add parameter to configure maxdelay in db purge/archive job,MERGED,2019-04-29 17:13:45.000000000,2019-04-30 18:49:44.000000000,2019-04-30 18:49:44.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20775}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-04-29 17:13:45.000000000', 'files': ['deployment/cinder/cinder-base.yaml', 'releasenotes/notes/bug-1823274-ca992c1055035c7b.yaml', 'deployment/nova/nova-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a4a77356fe372fbbd70d8902af65067646ad81b', 'message': 'Add parameter to configure maxdelay in db purge/archive job\n\nThis patch introduces new parameters, CinderCronDbPurgeMaxDelay\nand NovaCronDBArchivedMaxDelay, which enable us to configure\nmaxdelay parameter in cinder db purge cron job and nova db archive\ncron job, like HeatCronPurgeDeletedMaxDelay which is used to\nconfigure maxdelay in heat cron job.\n\nCloses-Bug: #1823274\nChange-Id: I112a228ed90a50aeee787e83a58a014519db7992\n(cherry picked from commit 2a34ccb62b1037c420bff6e5f9d19f8887cf774a)\n'}]",0,656370,3a4a77356fe372fbbd70d8902af65067646ad81b,12,10,1,21570,,,0,"Add parameter to configure maxdelay in db purge/archive job

This patch introduces new parameters, CinderCronDbPurgeMaxDelay
and NovaCronDBArchivedMaxDelay, which enable us to configure
maxdelay parameter in cinder db purge cron job and nova db archive
cron job, like HeatCronPurgeDeletedMaxDelay which is used to
configure maxdelay in heat cron job.

Closes-Bug: #1823274
Change-Id: I112a228ed90a50aeee787e83a58a014519db7992
(cherry picked from commit 2a34ccb62b1037c420bff6e5f9d19f8887cf774a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/656370/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-base.yaml', 'releasenotes/notes/bug-1823274-ca992c1055035c7b.yaml', 'deployment/nova/nova-api-container-puppet.yaml']",3,3a4a77356fe372fbbd70d8902af65067646ad81b,bug/1823274, NovaCronDBArchivedMaxDelay: type: string description: > Cron to move deleted instances to another table that doesn't need backup - Max Delay default: '3600' nova::cron::archive_deleted_rows::maxdelay: {get_param: NovaCronDBArchivedMaxDelay},,19,0
openstack%2Fneutron~stable%2Fstein~If20a3a414986ea29fbfd50616761c14e5b249b2c,openstack/neutron,stable/stein,If20a3a414986ea29fbfd50616761c14e5b249b2c,Check master/backup router status in DVR functional tests,MERGED,2019-04-17 10:52:23.000000000,2019-04-30 18:43:19.000000000,2019-04-30 18:43:19.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-17 10:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c8106e12d436db0f29f1b662774fce1549d3069', 'message': ""Check master/backup router status in DVR functional tests\n\nWhen two routers are created at the same time, we can't assume the\nstatus of each one. Instead of this, the status of each router is\nfirst checked and then compared to the other router status.\n\nChange-Id: If20a3a414986ea29fbfd50616761c14e5b249b2c\nCloses-Bug: #1819160\n(cherry picked from commit 8f35331c918f83381951fc4367f43b2805d556ef)\n""}, {'number': 2, 'created': '2019-04-17 11:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2666141707937039f2e1d2b31e1805c9cbd39a1a', 'message': ""Check master/backup router status in DVR functional tests\n\nWhen two routers are created at the same time, we can't assume the\nstatus of each one. Instead of this, the status of each router is\nfirst checked and then compared to the other router status.\n\nChange-Id: If20a3a414986ea29fbfd50616761c14e5b249b2c\nCloses-Bug: #1819160\n(cherry picked from commit 8f35331c918f83381951fc4367f43b2805d556ef)\n""}, {'number': 3, 'created': '2019-04-25 08:29:16.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/tests/functional/agent/l3/framework.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/78555ee3462a99f1f8f0c6b9dd6464d598ecf289', 'message': ""Check master/backup router status in DVR functional tests\n\nWhen two routers are created at the same time, we can't assume the\nstatus of each one. Instead of this, the status of each router is\nfirst checked and then compared to the other router status.\n\nChange-Id: If20a3a414986ea29fbfd50616761c14e5b249b2c\nCloses-Bug: #1819160\n(cherry picked from commit 8f35331c918f83381951fc4367f43b2805d556ef)\n""}]",0,653386,78555ee3462a99f1f8f0c6b9dd6464d598ecf289,52,6,3,11975,,,0,"Check master/backup router status in DVR functional tests

When two routers are created at the same time, we can't assume the
status of each one. Instead of this, the status of each router is
first checked and then compared to the other router status.

Change-Id: If20a3a414986ea29fbfd50616761c14e5b249b2c
Closes-Bug: #1819160
(cherry picked from commit 8f35331c918f83381951fc4367f43b2805d556ef)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/653386/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/tests/functional/agent/l3/framework.py']",2,2c8106e12d436db0f29f1b662774fce1549d3069,bug/1819160-stable/stein," def _get_master_and_slave_routers(self, router1, router2, check_external_device=True): if check_external_device: common_utils.wait_until_true( lambda: self._check_external_device(router1)) if check_external_device: common_utils.wait_until_true( lambda: self._check_external_device(router2)) if check_external_device: common_utils.wait_until_true("," def _get_master_and_slave_routers(self, router1, router2): common_utils.wait_until_true( lambda: self._check_external_device(router1)) common_utils.wait_until_true( lambda: self._check_external_device(router2)) common_utils.wait_until_true(",44,39
openstack%2Fnova~master~Ia7b0166fce8c9ad5baa2a9ed6df8169f898522f2,openstack/nova,master,Ia7b0166fce8c9ad5baa2a9ed6df8169f898522f2,Remove 'instance_fault_create_at_top',MERGED,2019-04-09 16:15:52.000000000,2019-04-30 18:14:27.000000000,2019-04-30 18:14:27.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-09 16:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f53a8837893a653d1c29c146af94014e155ff92', 'message': ""Remove 'instance_fault_create_at_top'\n\nThis was being called within the 'InstanceFault' object. Remove it in\nits entirety, given that nothing should be calling it now. As with the\nremoval of the 'bdm_(update_or_create|destroy)_at_top' APIs, this breaks\npart of cells v1 but we don't really care.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ia7b0166fce8c9ad5baa2a9ed6df8169f898522f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-04-16 08:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd189c0214008b80594db7e7afb39cc899c30d53', 'message': ""Remove 'instance_fault_create_at_top'\n\nThis was being called within the 'InstanceFault' object. Remove it in\nits entirety, given that nothing should be calling it now. As with the\nremoval of the 'bdm_(update_or_create|destroy)_at_top' APIs, this breaks\npart of cells v1 but we don't really care.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ia7b0166fce8c9ad5baa2a9ed6df8169f898522f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-04-16 14:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcba539f72f06565cb532f060bb9a612e6f6a6d2', 'message': ""Remove 'instance_fault_create_at_top'\n\nThis was being called within the 'InstanceFault' object. Remove it in\nits entirety, given that nothing should be calling it now. As with the\nremoval of the 'bdm_(update_or_create|destroy)_at_top' APIs, this breaks\npart of cells v1 but we don't really care.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ia7b0166fce8c9ad5baa2a9ed6df8169f898522f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-04-16 17:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b48d9148bbde88bb6b50329f76b6a25db9ac986', 'message': ""Remove 'instance_fault_create_at_top'\n\nThis was being called within the 'InstanceFault' object. Remove it in\nits entirety, given that nothing should be calling it now. As with the\nremoval of the 'bdm_(update_or_create|destroy)_at_top' APIs, this breaks\npart of cells v1 but we don't really care.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ia7b0166fce8c9ad5baa2a9ed6df8169f898522f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-04-29 16:55:52.000000000', 'files': ['nova/cells/manager.py', 'nova/tests/unit/cells/test_cells_rpcapi.py', 'nova/tests/unit/objects/test_instance_fault.py', 'nova/objects/instance_fault.py', 'nova/tests/unit/cells/test_cells_manager.py', 'nova/cells/messaging.py', 'nova/tests/unit/cells/test_cells_messaging.py', 'nova/cells/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/65848706079b10a2989a83d1c5c4bb872afa7098', 'message': ""Remove 'instance_fault_create_at_top'\n\nThis was being called within the 'InstanceFault' object. Remove it in\nits entirety, given that nothing should be calling it now. As with the\nremoval of the 'bdm_(update_or_create|destroy)_at_top' APIs, this breaks\npart of cells v1 but we don't really care.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: Ia7b0166fce8c9ad5baa2a9ed6df8169f898522f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,651298,65848706079b10a2989a83d1c5c4bb872afa7098,89,17,5,15334,,,0,"Remove 'instance_fault_create_at_top'

This was being called within the 'InstanceFault' object. Remove it in
its entirety, given that nothing should be calling it now. As with the
removal of the 'bdm_(update_or_create|destroy)_at_top' APIs, this breaks
part of cells v1 but we don't really care.

Part of blueprint remove-cells-v1

Change-Id: Ia7b0166fce8c9ad5baa2a9ed6df8169f898522f2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/651298/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cells/manager.py', 'nova/tests/unit/cells/test_cells_rpcapi.py', 'nova/tests/unit/objects/test_instance_fault.py', 'nova/objects/instance_fault.py', 'nova/tests/unit/cells/test_cells_manager.py', 'nova/cells/messaging.py', 'nova/tests/unit/cells/test_cells_messaging.py', 'nova/cells/rpcapi.py']",8,0f53a8837893a653d1c29c146af94014e155ff92,bp/remove-cells-v1,," def instance_fault_create_at_top(self, ctxt, instance_fault): """"""Create an instance fault at the top."""""" instance_fault_p = jsonutils.to_primitive(instance_fault) self.client.cast(ctxt, 'instance_fault_create_at_top', instance_fault=instance_fault_p) ",1,106
openstack%2Ftenks~master~Ia859238042eb286b61758acd8f99361c10dc0a05,openstack/tenks,master,Ia859238042eb286b61758acd8f99361c10dc0a05,Add playbook tags,MERGED,2019-03-27 16:43:20.000000000,2019-04-30 18:08:21.000000000,2019-04-30 18:08:21.000000000,"[{'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-03-27 16:43:20.000000000', 'files': ['ansible/deploy.yml', 'ansible/node_enrolment.yml', 'ansible/resource_wait.yml', 'ansible/cleanup_state.yml', 'ansible/node_bmc.yml', 'ansible/node_instantiation.yml', 'ansible/node_networking.yml', 'ansible/flavor_registration.yml', 'ansible/host_setup.yml', 'ansible/teardown.yml', 'ansible/schedule.yml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/6e2bb04faee5340ad4865498e43e1429c3d0203b', 'message': 'Add playbook tags\n\nAllows for easily running specific playbooks.\n\nChange-Id: Ia859238042eb286b61758acd8f99361c10dc0a05\n'}]",0,648181,6e2bb04faee5340ad4865498e43e1429c3d0203b,10,2,1,14826,,,0,"Add playbook tags

Allows for easily running specific playbooks.

Change-Id: Ia859238042eb286b61758acd8f99361c10dc0a05
",git fetch https://review.opendev.org/openstack/tenks refs/changes/81/648181/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/deploy.yml', 'ansible/node_enrolment.yml', 'ansible/resource_wait.yml', 'ansible/cleanup_state.yml', 'ansible/node_bmc.yml', 'ansible/node_instantiation.yml', 'ansible/node_networking.yml', 'ansible/flavor_registration.yml', 'ansible/host_setup.yml', 'ansible/teardown.yml', 'ansible/schedule.yml']",11,6e2bb04faee5340ad4865498e43e1429c3d0203b,story/2005309, tags: - schedule tags: - schedule,,37,0
openstack%2Fnetworking-ovn~master~I4a150ed5d6fea971650ba0330b579072ff32e205,openstack/networking-ovn,master,I4a150ed5d6fea971650ba0330b579072ff32e205,docs: Fix migration commands so they can be copy&pasted,MERGED,2019-04-15 14:59:48.000000000,2019-04-30 17:53:04.000000000,2019-04-30 17:53:04.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 14:59:48.000000000', 'files': ['doc/source/install/migration.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b8161178c0ad936b147480ccaea4bee8e919b43b', 'message': 'docs: Fix migration commands so they can be copy&pasted\n\nThe path to containers-prepare-parameter.yaml were relative, this patch\nchanges the command to use absolute path using $HOME variable.\n\nChange-Id: I4a150ed5d6fea971650ba0330b579072ff32e205\n'}]",0,652684,b8161178c0ad936b147480ccaea4bee8e919b43b,8,3,1,8655,,,0,"docs: Fix migration commands so they can be copy&pasted

The path to containers-prepare-parameter.yaml were relative, this patch
changes the command to use absolute path using $HOME variable.

Change-Id: I4a150ed5d6fea971650ba0330b579072ff32e205
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/84/652684/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/migration.rst'],1,b8161178c0ad936b147480ccaea4bee8e919b43b,migration, $ grep neutron_driver $HOME/containers-prepare-parameter.yaml --environment-file $HOME/containers-prepare-parameter.yaml, $ grep neutron_driver containers-prepare-parameter.yaml --environment-file /home/stack/containers-prepare-parameter.yaml,2,2
openstack%2Fnetworking-ovn~master~Ib3020f0e24143efb38806c6e43b904258d0dd628,openstack/networking-ovn,master,Ib3020f0e24143efb38806c6e43b904258d0dd628,Dropping the py35 testing,MERGED,2019-04-15 02:14:49.000000000,2019-04-30 17:53:03.000000000,2019-04-30 17:53:03.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-04-15 02:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cf0615cf46e0b0651f302a17fb0c15b855049b3f', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib3020f0e24143efb38806c6e43b904258d0dd628\n'}, {'number': 2, 'created': '2019-04-16 02:13:52.000000000', 'files': ['zuul.d/project.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/57c87d6ac8a50e62457256566e0c8a3efb9b923e', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib3020f0e24143efb38806c6e43b904258d0dd628\n'}]",2,652490,57c87d6ac8a50e62457256566e0c8a3efb9b923e,13,5,2,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ib3020f0e24143efb38806c6e43b904258d0dd628
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/90/652490/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'setup.cfg', 'tox.ini']",3,cf0615cf46e0b0651f302a17fb0c15b855049b3f,dropping-py35-testing,"envlist = py27,pep8,docs","envlist = py35,py27,pep8,docs",2,3
openstack%2Fopenstack-helm-infra~master~Ida018955eb558c9f890cc9e6aefba6689c992a73,openstack/openstack-helm-infra,master,Ida018955eb558c9f890cc9e6aefba6689c992a73,"Revert ""Fix: update merge to mergeOverwrite""",MERGED,2019-04-29 22:56:11.000000000,2019-04-30 17:37:51.000000000,2019-04-30 17:37:51.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 26686}, {'_account_id': 28208}, {'_account_id': 29106}, {'_account_id': 29132}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-04-29 22:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/62102fb7e15d7e512d4104edaa4200f29198a662', 'message': 'Revert ""Fix: update merge to mergeOverwrite""\nReverting this commit to fix multiple OSD issue \nThis reverts commit 0b8784f26d4ff9d7054a30d8024cae24db93ed0d.\n\nChange-Id: Ida018955eb558c9f890cc9e6aefba6689c992a73\n'}, {'number': 2, 'created': '2019-04-29 23:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b1df8c81080566c0f8e923418d62a28af875da2', 'message': 'Revert ""Fix: update merge to mergeOverwrite""\n\nReverting this commit to fix multiple OSD issue.\nCeph deployment is failing when we specifying multiple osds.\nRendered file for ceph-osd charts have duplicate osd information.\n\nReverts this PS: https://review.opendev.org/#/c/644604/\nThis reverts commit 0b8784f26d4ff9d7054a30d8024cae24db93ed0d.\n\nChange-Id: Ida018955eb558c9f890cc9e6aefba6689c992a73\n'}, {'number': 3, 'created': '2019-04-30 00:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2b5b839cdf79da80da57a68a9c5b15ef35d2ec5f', 'message': 'Revert ""Fix: update merge to mergeOverwrite""\n\nReverting this commit to fix multiple OSD issue.\nCeph deployment is failing when we specifying multiple osds.\nRendered file for ceph-osd charts have duplicate osd information.\n\nReverts this PS: https://review.opendev.org/#/c/644604/\nThis reverts commit 0b8784f26d4ff9d7054a30d8024cae24db93ed0d.\n\nChange-Id: Ida018955eb558c9f890cc9e6aefba6689c992a73\n'}, {'number': 4, 'created': '2019-04-30 01:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/88fa9cfe50ec3ae57999795fbfb7e11d2de0ed03', 'message': 'RevertRevertRevertRevert ""Fix: update merge to mergeOverwrite""\n\nReverting this commit to fix multiple OSD issue.\nCeph deployment is failing when we specifying multiple osds.\nRendered file for ceph-osd charts have duplicate osd information.information\n\nReverts this PS: https://review.opendev.org/#/c/644604/\nThis reverts commit 0b8784f26d4ff9d7054a30d8024cae24db93ed0d.\n\nChange-Id: Ida018955eb558c9f890cc9e6aefba6689c992a73\n'}, {'number': 5, 'created': '2019-04-30 03:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a1abdc3462e3ff9ebb5adc32426a5c3a923a353', 'message': 'RevertRevertRevertRevertRevertRevertRevertRevertRevertRevertRevertRevertRevertRevertRevertRevert ""Fix: update merge to mergeOverwrite""\n\nReverting this commit to fix multiple OSD issue.\nCeph deployment is failing when we specifying multiple osds.\nRendered file for ceph-osd charts have duplicate osd information.information\n\nReverts this PS: https://review.opendev.org/#/c/644604/\nThis reverts commit 0b8784f26d4ff9d7054a30d8024cae24db93ed0d.\n\nChange-Id: Ida018955eb558c9f890cc9e6aefba6689c992a73\n'}, {'number': 6, 'created': '2019-04-30 04:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b3f5aca4288793bca6b778c3d0d261399f10c89', 'message': 'Revert ""Fix: update merge to mergeOverwrite""\n\nReverting this commit to fix multiple OSD issue.\nCeph deployment is failing when we specifying multiple osds.\nRendered file for ceph-osd charts have duplicate osd information.information\n\nReverts this PS: https://review.opendev.org/#/c/644604/\nThis reverts commit 0b8784f26d4ff9d7054a30d8024cae24db93ed0d.\n\nChange-Id: Ida018955eb558c9f890cc9e6aefba6689c992a73\n'}, {'number': 7, 'created': '2019-04-30 08:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd2b8b73a358e3a1b884909d10fe948e3716ac22', 'message': 'Revert ""Fix: update merge to mergeOverwrite""\n\nReverting this commit to fix multiple OSD issue.\nCeph deployment is failing when we specifying multiple osds.\nRendered file for ceph-osd charts have duplicate osd information.\n\nReverts this PS: https://review.opendev.org/#/c/644604/\n\nThis reverts commit 0b8784f26d4ff9d7054a30d8024cae24db93ed0d.\n\nChange-Id: Ida018955eb558c9f890cc9e6aefba6689c992a73\n'}, {'number': 8, 'created': '2019-04-30 13:03:24.000000000', 'files': ['ceph-osd/templates/utils/_osd_daemonset_overrides.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b8ac702c07deff953a05461dbf120e2c8347ae65', 'message': 'Revert ""Fix: update merge to mergeOverwrite""\n\nReverting this commit to fix Multiple OSD issue.\nCeph deployment is failing when we specifying multiple osds.\nRendered file for ceph-osd charts have duplicate osd information.\n\nReverts this PS: https://review.opendev.org/#/c/644604/\n\nThis reverts commit 0b8784f26d4ff9d7054a30d8024cae24db93ed0d.\n\nChange-Id: Ida018955eb558c9f890cc9e6aefba6689c992a73\n'}]",2,656418,b8ac702c07deff953a05461dbf120e2c8347ae65,27,12,8,29132,,,0,"Revert ""Fix: update merge to mergeOverwrite""

Reverting this commit to fix Multiple OSD issue.
Ceph deployment is failing when we specifying multiple osds.
Rendered file for ceph-osd charts have duplicate osd information.

Reverts this PS: https://review.opendev.org/#/c/644604/

This reverts commit 0b8784f26d4ff9d7054a30d8024cae24db93ed0d.

Change-Id: Ida018955eb558c9f890cc9e6aefba6689c992a73
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/18/656418/8 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/utils/_osd_daemonset_overrides.tpl'],1,62102fb7e15d7e512d4104edaa4200f29198a662,mergeOverwriteFix,{{ merge $context.Values.__tmpYAML $context.Values.__daemonset_yaml | toYaml }},{{ mergeOverwrite $context.Values.__daemonset_yaml $context.Values.__tmpYAML | toYaml }},1,1
openstack%2Ftripleo-ci~master~I86e4cb3d6aacbf0e6ee662267750022f02819d7a,openstack/tripleo-ci,master,I86e4cb3d6aacbf0e6ee662267750022f02819d7a,"DNM, Wes Create a new container build job with Buildah on centos7",ABANDONED,2019-02-22 21:26:16.000000000,2019-04-30 17:27:28.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-22 21:26:16.000000000', 'files': ['zuul.d/build-containers.yaml', 'playbooks/tripleo-buildcontainers/run.yaml', 'playbooks/tripleo-buildcontainers/post.yaml', 'playbooks/tripleo-buildcontainers/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/380e959b7f55a46c8ca462f1199a80d3175fc29c', 'message': 'DNM, Wes Create a new container build job with Buildah on centos7\n\nTest the new reproducer on top of this..\n\nThis job will run in Stein and beyond, where we replace Docker by\nBuildah to build images.\n\nblueprint podman-support\nDepends-On: I7608136cb213bdca81348a0c3c751b488f48d712\n\nChange-Id: I86e4cb3d6aacbf0e6ee662267750022f02819d7a\n'}]",0,638768,380e959b7f55a46c8ca462f1199a80d3175fc29c,4,3,1,9592,,,0,"DNM, Wes Create a new container build job with Buildah on centos7

Test the new reproducer on top of this..

This job will run in Stein and beyond, where we replace Docker by
Buildah to build images.

blueprint podman-support
Depends-On: I7608136cb213bdca81348a0c3c751b488f48d712

Change-Id: I86e4cb3d6aacbf0e6ee662267750022f02819d7a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/68/638768/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/build-containers.yaml', 'playbooks/tripleo-buildcontainers/run.yaml', 'playbooks/tripleo-buildcontainers/post.yaml', 'playbooks/tripleo-buildcontainers/pre.yaml']",4,380e959b7f55a46c8ca462f1199a80d3175fc29c,bug/1817364, - name: Install Buildah become: true package: name: buildah state: present when: use_buildah | default(false) | bool - name: Configure insecure registry become: true ini_file: path: /etc/containers/registries.conf section: 'registries.insecure' option: registries value: - localhost:8787 when: use_buildah | default(false) | bool ,,39,3
openstack%2Ftripleo-ci~master~Ibde3dfb12e8c462c00c69fd637dee7263cb65a00,openstack/tripleo-ci,master,Ibde3dfb12e8c462c00c69fd637dee7263cb65a00,DNM: execute tripleo-ci collect-logs,ABANDONED,2019-02-22 20:34:49.000000000,2019-04-30 17:27:03.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-22 20:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6e923526c1eafc897e6e4dd6a0abcfd60d138911', 'message': 'execute tripleo-ci collect-logs\n\nIt would be helpful to have the all the logs\nthat we normally see pulled off the hosts\nfor containers-build check jobs.\n\nChange-Id: Ibde3dfb12e8c462c00c69fd637dee7263cb65a00\n'}, {'number': 2, 'created': '2019-02-22 20:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ebc3ee65204fee4ed8debc2a003fff56322c3e97', 'message': 'execute tripleo-ci collect-logs\n\nIt would be helpful to have the all the logs\nthat we normally see pulled off the hosts\nfor containers-build check jobs.\n\nCloses-Bug: #1817364\nChange-Id: Ibde3dfb12e8c462c00c69fd637dee7263cb65a00\n'}, {'number': 3, 'created': '2019-02-22 21:24:52.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9a6eda3431f94b5da05a105920a27ddc432f4c8f', 'message': 'DNM: execute tripleo-ci collect-logs\n\nIt would be helpful to have the all the logs\nthat we normally see pulled off the hosts\nfor containers-build check jobs.\n\nRelated-Bug: #1817364\nChange-Id: Ibde3dfb12e8c462c00c69fd637dee7263cb65a00\n'}]",0,638763,9a6eda3431f94b5da05a105920a27ddc432f4c8f,7,3,3,9592,,,0,"DNM: execute tripleo-ci collect-logs

It would be helpful to have the all the logs
that we normally see pulled off the hosts
for containers-build check jobs.

Related-Bug: #1817364
Change-Id: Ibde3dfb12e8c462c00c69fd637dee7263cb65a00
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/63/638763/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,6e923526c1eafc897e6e4dd6a0abcfd60d138911,bug/1817364, post-run: - playbooks/tripleo-ci/post.yaml - playbooks/tripleo-buildcontainers/post.yaml - git.openstack.org/openstack-infra/tripleo-ci, post-run: playbooks/tripleo-buildcontainers/post.yaml,4,2
openstack%2Fsushy~master~I82da7166a1f9024c71c9bc5349bd1ba430058923,openstack/sushy,master,I82da7166a1f9024c71c9bc5349bd1ba430058923,Add local_gb discovery to sushy,ABANDONED,2017-04-10 03:45:24.000000000,2019-04-30 17:26:41.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 16635}, {'_account_id': 18781}, {'_account_id': 22348}, {'_account_id': 26340}]","[{'number': 1, 'created': '2017-04-10 03:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/c0598ef558826a39aebc1e3596ff6c744c8a47bb', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 2, 'created': '2017-04-10 08:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/22e400acc57b004d518d36e4c63d8d03996f0bf9', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 3, 'created': '2017-04-10 08:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/408c275889e17764c9eade06ca8d7976fc33d17b', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 4, 'created': '2017-04-10 09:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/92ea373fd6c56935a53a8e33aed03dc1a8fdf581', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 5, 'created': '2017-04-10 09:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/7be3e5bf2dcfbfedc87ce4c63930a61ad6dab527', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 6, 'created': '2017-06-20 05:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1fef2ddaa7f3f89d45a29b797aebd3342fecd103', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 7, 'created': '2017-06-21 07:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/ff6a5c9fccc8487b400760cf6c1fe9029db7245d', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 8, 'created': '2017-06-21 17:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/bc47ae0acea5701102966a01e55890ca0eb24b66', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 9, 'created': '2017-07-07 00:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/b5f244f67aa339485592a3f1f150bfbaa4fe3515', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 10, 'created': '2017-07-09 12:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/5e0ffac906edeeda23d3d65049cc3f377fd3c6b4', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 11, 'created': '2017-07-10 11:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/5a347ff83e9e58bd5b246864eb92f713f84681e1', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 12, 'created': '2017-07-10 22:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/6f67b57569e40e76d8598a1e02e767444b44a698', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 13, 'created': '2017-07-12 09:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1c5e12d306be5641deb2a158fb3ac035d05ae489', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 14, 'created': '2017-07-16 08:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f56a2642060953b90dce07fb8d9a1fe05eed8913', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 15, 'created': '2017-07-16 08:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/55605f34ee618f2af28b3e3d30121e4ed5acb07f', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 16, 'created': '2017-07-17 18:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/d64aab15c4f56451f4f8905faf5a6a272dd2609e', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 17, 'created': '2017-07-18 17:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/516ebcd759dc239130ec8c7e20b4044077fb129e', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}, {'number': 18, 'created': '2018-04-11 06:44:48.000000000', 'files': ['sushy/resources/system/storage/common.py', 'sushy/tests/unit/json_samples/simplestorage_collection.json', 'sushy/resources/system/storage/volume.py', 'sushy/tests/unit/json_samples/storage1_collection.json', 'sushy/tests/unit/resources/system/test_volumes.py', 'sushy/tests/unit/json_samples/drive1.json', 'sushy/tests/unit/json_samples/storage1.json', 'sushy/resources/system/storage/storage.py', 'sushy/tests/unit/resources/system/test_storage.py', 'sushy/resources/system/storage/mappings.py', 'sushy/tests/unit/json_samples/drive1_collection.json', 'sushy/resources/system/storage/drive.py', 'sushy/resources/system/storage/constants.py', 'sushy/tests/unit/json_samples/volume1_collection.json', 'sushy/resources/system/system.py', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/resources/system/storage/simple_storage.py', 'sushy/tests/unit/json_samples/system.json', 'sushy/tests/unit/json_samples/volume1.json', 'sushy/tests/unit/json_samples/simplestorage.json', 'sushy/tests/unit/resources/system/test_simplestorage.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/a25bf820a49de1dba903a382cd310ea25d38a4a4', 'message': 'Add local_gb discovery to sushy\n\nThis commit adds the disk size discovery in all the\nscenarios. It gets the largest volume size if volume\nis configured, else get the largest disk size.\n\nChange-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923\n'}]",106,455114,a25bf820a49de1dba903a382cd310ea25d38a4a4,70,6,18,11297,,,0,"Add local_gb discovery to sushy

This commit adds the disk size discovery in all the
scenarios. It gets the largest volume size if volume
is configured, else get the largest disk size.

Change-Id: I82da7166a1f9024c71c9bc5349bd1ba430058923
",git fetch https://review.opendev.org/openstack/sushy refs/changes/14/455114/3 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/storage1_collection.json', 'sushy/tests/unit/resources/system/test_volumes.py', 'sushy/tests/unit/json_samples/drive1.json', 'sushy/tests/unit/json_samples/storage1.json', 'sushy/resources/system/drives.py', 'sushy/tests/unit/resources/system/test_storage.py', 'sushy/tests/unit/json_samples/drive1_collection.json', 'sushy/tests/unit/json_samples/volume1_collection.json', 'sushy/resources/system/system.py', 'sushy/tests/unit/resources/system/test_chassis.py', 'sushy/resources/system/chassis.py', 'sushy/resources/system/storage.py', 'sushy/resources/system/simplestorage.py', 'sushy/tests/unit/json_samples/volume1.json', 'sushy/tests/unit/resources/system/test_drives.py', 'sushy/tests/unit/json_samples/simplestorage.json', 'sushy/resources/system/volumes.py', 'sushy/tests/unit/resources/system/test_simplestorage.py']",18,c0598ef558826a39aebc1e3596ff6c744c8a47bb,local_gb,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json import mock from sushy.resources.system import ethernetinterfaces from sushy.tests.unit import base class EthernetInterfacesTestCase(base.TestCase): def setUp(self): super(EthernetInterfacesTestCase, self).setUp() self.conn = mock.Mock() eth_file = 'sushy/tests/unit/json_samples/ethernetinterfaces.json' with open(eth_file, 'r') as f: self.conn.get.return_value.json.return_value = json.loads(f.read()) eth_path = (""/redfish/v1/Systems/437XR1138R2/EthernetInterfaces/"" ""12446A3B0411"") self.sys_eth = ethernetinterfaces.EthernetInterfaces( self.conn, eth_path, redfish_version='1.0.2') def test__parse_attributes(self): self.sys_eth._parse_attributes() self.assertEqual('1.0.2', self.sys_eth.redfish_version) self.assertEqual('1', self.sys_eth.identity) self.assertEqual('Ethernet Interface', self.sys_eth.name) self.assertEqual('System NIC 1', self.sys_eth.description) self.assertEqual('12:44:6A:3B:04:11', self.sys_eth.PermanentMacAddress) self.assertEqual('12:44:6A:3B:04:11', self.sys_eth.MacAddress) self.assertEqual('Enabled', self.sys_eth.state) self.assertEqual('OK', self.sys_eth.health) self.assertEqual(1000, self.sys_eth.SpeedMbps) class EthernetInterfacesCollectionTestCase(base.TestCase): def setUp(self): super(EthernetInterfacesCollectionTestCase, self).setUp() self.conn = mock.Mock() with open('sushy/tests/unit/json_samples/' 'ethernetinterfaces_collection.json', 'r') as f: self.conn.get.return_value.json.return_value = json.loads(f.read()) self.sys_eth_col = ethernetinterfaces.EthernetInterfacesCollection( self.conn, '/redfish/v1/Systems/437XR1138R2/EthernetInterfaces', redfish_version='1.0.2') def test__parse_attributes(self): self.sys_eth_col._parse_attributes() self.assertEqual('1.0.2', self.sys_eth_col.redfish_version) self.assertEqual('Ethernet Interface Collection', self.sys_eth_col.name) eth_path = ('/redfish/v1/Systems/437XR1138R2/EthernetInterfaces/' '12446A3B0411',) self.assertEqual(eth_path, self.sys_eth_col.members_identities) @mock.patch.object(ethernetinterfaces, 'EthernetInterfaces', autospec=True) def test_get_member(self, mock_eth): self.sys_eth_col.get_member( '/redfish/v1/Systems/437XR1138R2/EthernetInterfaces/' '12446A3B0411') mock_eth.assert_called_once_with( self.sys_eth_col._conn, ('/redfish/v1/Systems/437XR1138R2/EthernetInterfaces/' '12446A3B0411'), redfish_version=self.sys_eth_col.redfish_version) @mock.patch.object(ethernetinterfaces, 'EthernetInterfaces', autospec=True) def test_get_members(self, mock_eth): members = self.sys_eth_col.get_members() eth_path = (""/redfish/v1/Systems/437XR1138R2/EthernetInterfaces/"" ""12446A3B0411"") calls = [ mock.call(self.sys_eth_col._conn, eth_path, redfish_version=self.sys_eth_col.redfish_version), ] mock_eth.assert_has_calls(calls) self.assertIsInstance(members, list) self.assertEqual(1, len(members)) ",,1201,0
openstack%2Ftripleo-quickstart-extras~master~I42bd8ce79218d17bc4d8761a559a5e35dfe04a5c,openstack/tripleo-quickstart-extras,master,I42bd8ce79218d17bc4d8761a559a5e35dfe04a5c,"DNM fix zuul, and buildset_artifacts_url",ABANDONED,2019-04-05 21:35:36.000000000,2019-04-30 17:26:40.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-05 21:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d916728355b1c3ece4a36013bd510bbfb4548e7f', 'message': 'DNM fix zuul, and buildset_artifacts_url\n\nChange-Id: I42bd8ce79218d17bc4d8761a559a5e35dfe04a5c\n'}, {'number': 2, 'created': '2019-04-09 19:51:49.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8c9daba15f1e355eaf2aa3257d49a2f41675d0f2', 'message': 'DNM fix zuul, and buildset_artifacts_url\n\nChange-Id: I42bd8ce79218d17bc4d8761a559a5e35dfe04a5c\n'}]",0,650454,8c9daba15f1e355eaf2aa3257d49a2f41675d0f2,9,3,2,9592,,,0,"DNM fix zuul, and buildset_artifacts_url

Change-Id: I42bd8ce79218d17bc4d8761a559a5e35dfe04a5c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/54/650454/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'],1,d916728355b1c3ece4a36013bd510bbfb4548e7f,," {% if zuul.project.name == rdoinfo -%} #tbd buildset_artifacts_url: ""http://logs.rdoproject.org/{{ zuul.ref }}/legacy-validate-buildsys-tags/"" {% endif -%} dlrn_hash_tag: {{ hostvars['undercloud'].dlrn_hash }} dlrn_hash_tag_newest: {{ hostvars['undercloud'].dlrn_hash_newest }}", dlrn_hash_tag: {{ hostvars['undercloud'].dlrn_hash }} dlrn_hash_tag_newest: {{ hostvars['undercloud'].dlrn_hash_newest }},5,4
openstack%2Fironic~master~I6f10f73fb6f5f94736aecfbd9588a1d46bc2900a,openstack/ironic,master,I6f10f73fb6f5f94736aecfbd9588a1d46bc2900a,Start passing manage_boot=True to ironic-inspector,ABANDONED,2016-07-21 04:45:56.000000000,2019-04-30 17:26:22.000000000,,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11297}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 22724}, {'_account_id': 24828}]","[{'number': 1, 'created': '2016-07-21 04:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a72cba427063a1cb47abf9cf2690f049d53c593', 'message': 'Add boot management support in inspector\n\nThis fix adds ""manage_boot"" support in inspector.py\nto allow ironic to do boot management for ironic-inspector.\n\nPartial-bug: 1528920\n\nChange-Id: I6f10f73fb6f5f94736aecfbd9588a1d46bc2900a\n'}, {'number': 2, 'created': '2016-07-21 13:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/37cbdb5d561645b5b908a73585eff8c5cda19e66', 'message': 'Add boot management support in inspector\n\nThis fix adds ""manage_boot"" support in inspector.py\nto allow ironic to do boot management for ironic-inspector.\n\nPartial-bug: 1528920\n\nChange-Id: I6f10f73fb6f5f94736aecfbd9588a1d46bc2900a\n'}, {'number': 3, 'created': '2016-07-22 03:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d778d3135cb0ae227547c2a2cab6d9c2e109dc8', 'message': 'Add boot management support in inspector\n\nThis fix adds ""manage_boot"" support in inspector.py\nto allow ironic to do boot management for ironic-inspector.\n\nPartial-bug: 1528920\n\nChange-Id: I6f10f73fb6f5f94736aecfbd9588a1d46bc2900a\n'}, {'number': 4, 'created': '2018-07-25 08:51:08.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/26a9604a457923f1760eb1d2f5d7aa71a6f7903c', 'message': 'Start passing manage_boot=True to ironic-inspector\n\nThis will indicate that ironic expects ironic-inspector to manage\nthe boot of the nodes itself. A follow-up work will allow to pass\nFalse when ironic can manage the boot itself.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nChange-Id: I6f10f73fb6f5f94736aecfbd9588a1d46bc2900a\nStory: #1528920\nTask: #10404\n'}]",4,345161,26a9604a457923f1760eb1d2f5d7aa71a6f7903c,33,11,4,11297,,,0,"Start passing manage_boot=True to ironic-inspector

This will indicate that ironic expects ironic-inspector to manage
the boot of the nodes itself. A follow-up work will allow to pass
False when ironic can manage the boot itself.

Co-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>
Change-Id: I6f10f73fb6f5f94736aecfbd9588a1d46bc2900a
Story: #1528920
Task: #10404
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/345161/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/drivers/modules/inspector.py']",2,0a72cba427063a1cb47abf9cf2690f049d53c593,story/1528920," def __init__(self, manage_boot=True): self.manage_boot = manage_boot eventlet.spawn_n(_start_inspection, task.node.uuid, task.context, self.manage_boot)def _call_inspector(func, uuid, context, manage_boot=True): kwargs.update({'manage_boot': manage_boot})def _start_inspection(node_uuid, context, manage_boot=True): _call_inspector(client.introspect, node_uuid, context, manage_boot=manage_boot)"," def __init__(self): eventlet.spawn_n(_start_inspection, task.node.uuid, task.context)def _call_inspector(func, uuid, context):def _start_inspection(node_uuid, context): _call_inspector(client.introspect, node_uuid, context)",29,15
openstack%2Fironic~master~Ib4cad2eb6e364b61defee98542f8898af32ae2af,openstack/ironic,master,Ib4cad2eb6e364b61defee98542f8898af32ae2af,Enhance pxe_ilo driver to do inband-inspection,ABANDONED,2016-07-18 11:11:03.000000000,2019-04-30 17:26:04.000000000,,"[{'_account_id': 7711}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11929}, {'_account_id': 12356}, {'_account_id': 12712}, {'_account_id': 14629}, {'_account_id': 15074}, {'_account_id': 17998}, {'_account_id': 18781}, {'_account_id': 18893}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 20311}]","[{'number': 1, 'created': '2016-07-18 11:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9d8f7b1af517f21307c9da38f628df02f5dae60', 'message': '[WIP] Allow ilo drivers to do inband-inspection\n\nChange-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af\nCloses-bug: 1526382\n'}, {'number': 2, 'created': '2016-07-21 13:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5ccc9982dffcd18984cfa45bba90c1e5442208b', 'message': 'Enhance ilo drivers to do inband-inspection\n\nThis fix allow ilo drivers to do inband inspection\nusing ironic-inspector when `oob_inspection_only`\nconfig is set to False.\n\nChange-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af\nCloses-bug: 1526382\n'}, {'number': 3, 'created': '2016-07-22 03:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c07aa1158d2fbf6bf993039d276ac06a5935f9a', 'message': 'Enhance ilo drivers to do inband-inspection\n\nThis fix allow ilo drivers to do inband inspection\nusing ironic-inspector when `oob_inspection_only`\nconfig is set to False.\n\nCloses-bug: 1526382\nChange-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af\n'}, {'number': 4, 'created': '2016-07-29 18:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9d4b1134de344b37f0c6525723c3093800f5ba1a', 'message': 'Enhance ilo drivers to do inband-inspection\nThis fix allow ilo drivers to do inband inspection\nusing ironic-inspector when `oob_inspection_only`\nconfig is set to False.\n\nCloses-bug: 1526382\nChange-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af\n'}, {'number': 5, 'created': '2016-08-02 04:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b232d5ef39181105933cd98e5a9ff1ca0e89c1e6', 'message': 'Enhance ilo drivers to do inband-inspection\n\nThis fix allow ilo drivers to do inband inspection\nusing ironic-inspector when `oob_inspection_only`\nconfig is set to False.\n\nCloses-bug: 1526382\nChange-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af\n'}, {'number': 6, 'created': '2016-09-16 13:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1d39451b283175da17f87dcb016a82b1ea4d6f5', 'message': 'Enhance pxe_ilo driver to do inband-inspection\n\nThis fix allow pxe_ilo driver to do inband inspection\nusing ironic-inspector when `oob_inspection_only`\nconfig is set to False.\n\nCloses-bug: 1526382\nChange-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af\n'}, {'number': 7, 'created': '2016-09-19 09:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d64992f9d04890f7911028c2e8cc88fd77afe52c', 'message': 'Enhance pxe_ilo driver to do inband-inspection\n\nThis fix allow pxe_ilo driver to do inband inspection\nusing ironic-inspector when `oob_inspection_only`\nconfig is set to False.\n\nCloses-bug: 1526382\nChange-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af\n'}, {'number': 8, 'created': '2016-09-20 10:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/27554443e1b532b2ec45e6546f5a12aeb8ba2021', 'message': 'Enhance pxe_ilo driver to do inband-inspection\n\nThis fix allow pxe_ilo driver to do inband inspection\nusing ironic-inspector when `oob_inspection_only`\nconfig is set to False.\n\nCloses-bug: 1526382\nChange-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af\n'}, {'number': 9, 'created': '2016-10-07 06:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/467c2f736b1542f1f458d1415019a9a49a43f8b4', 'message': 'Enhance pxe_ilo driver to do inband-inspection\n\nThis fix allow pxe_ilo driver to do inband inspection\nusing ironic-inspector when `oob_inspection_only`\nconfig is set to False.\n\nCloses-bug: 1526382\nChange-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af\n'}, {'number': 10, 'created': '2017-01-16 10:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0f48d9b384fdb70847b26b38b63b725942c90609', 'message': 'Enhance pxe_ilo driver to do inband-inspection\n\nThis fix allow pxe_ilo driver to do inband inspection\nusing ironic-inspector when `oob_inspection_only`\nconfig is set to False.\n\nCloses-bug: 1526382\nChange-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af\n'}, {'number': 11, 'created': '2017-01-17 05:33:18.000000000', 'files': ['ironic/tests/unit/drivers/modules/ilo/test_inspect.py', 'etc/ironic/ironic.conf.sample', 'ironic/conf/ilo.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/drivers/modules/ilo/inspect.py', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a098c50898b61dceb0b58149ce5b6213c449ca8', 'message': 'Enhance pxe_ilo driver to do inband-inspection\n\nThis fix allow pxe_ilo driver to do inband inspection\nusing ironic-inspector when `oob_inspection_only`\nconfig is set to False.\n\nCloses-bug: 1656863\n\nChange-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af\n'}]",40,343577,9a098c50898b61dceb0b58149ce5b6213c449ca8,96,16,11,11297,,,0,"Enhance pxe_ilo driver to do inband-inspection

This fix allow pxe_ilo driver to do inband inspection
using ironic-inspector when `oob_inspection_only`
config is set to False.

Closes-bug: 1656863

Change-Id: Ib4cad2eb6e364b61defee98542f8898af32ae2af
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/343577/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/inspect.py', 'ironic/conf/inspector.py', 'ironic/drivers/modules/inspector.py']",3,a9d8f7b1af517f21307c9da38f628df02f5dae60,bug/1656863," def __init__(self, manage_boot=True): self.manage_boot = manage_boot eventlet.spawn_n(_start_inspection, task.node.uuid, task.context, self.manage_boot) def post_periodic_task_action(self, task): pass def _call_inspector(func, uuid, context, manage_boot=True): kwargs.update({'manage_boot': manage_boot})def _start_inspection(node_uuid, context, manage_boot=True): _call_inspector(client.introspect, node_uuid, context, manage_boot=manage_boot) #if not isinstance(task.driver.inspect, Inspector): # return task.driver.inspect.post_periodic_task_action(task)"," def __init__(self): eventlet.spawn_n(_start_inspection, task.node.uuid, task.context)def _call_inspector(func, uuid, context):def _start_inspection(node_uuid, context): _call_inspector(client.introspect, node_uuid, context) if not isinstance(task.driver.inspect, Inspector): return",95,9
openstack%2Fironic-specs~master~Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54,openstack/ironic-specs,master,Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54,Enhance ilo drivers to do inband inspection,ABANDONED,2015-07-15 03:46:20.000000000,2019-04-30 17:25:49.000000000,,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 6287}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 10202}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 13719}, {'_account_id': 13997}, {'_account_id': 16635}]","[{'number': 1, 'created': '2015-07-15 03:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5d4130ceb1ddb408b372d6dcb56e7773b5c00ff6', 'message': 'Enhance ilo drivers to use ironic-inspector also\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nAdd switch details to the capabilities list\nof the ilo drivers.\n\nImplements: Blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 2, 'created': '2015-07-21 05:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a8a03ae0bf04c496313d357a71d8ed6aaf8c53c1', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 3, 'created': '2015-08-03 09:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/53ab9ff9f2ace8655d6819df2ec2d384a0bf93f0', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 4, 'created': '2015-08-05 17:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/47b3cc3bf4abdebda0fd63e107d0a096139347f8', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 5, 'created': '2015-08-11 16:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7e599350f7cc1c876fccabe5a2804ed8c9c06c4f', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 6, 'created': '2015-08-12 05:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e24adff1e9f1e6f7142d5faf8e4117aa95828e2a', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 7, 'created': '2015-08-14 09:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a4cbece064d2b810a8022998b89ea4f3836b31fc', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 8, 'created': '2015-08-17 03:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2ed6749142f3a5030497a73f536d4d31b881c527', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 9, 'created': '2015-08-18 08:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/9e5d7fa04394ebe76021e072087e1d0c71a60235', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 10, 'created': '2015-08-18 09:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1f140b42d9e59cd24a085e21cee2d3eab6a4e5fa', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 11, 'created': '2015-08-18 09:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1101540e22eb4d4d3c48f9625b515a464710d6e1', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 12, 'created': '2015-08-18 10:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/23cee31bcc825c34de7d8975b0dbed3f771dda0e', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 13, 'created': '2015-09-01 08:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fd73800cee1e24f34939095b963d4e40c37b32f9', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 14, 'created': '2015-09-03 09:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/bcbf9bcffcaca72b9b38e8e3be6042fa210e9ba1', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 15, 'created': '2015-10-16 03:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/df0054f5a8bb75fdb33c0ff3313c0b1b391e502d', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector\nin cases the OOB inspection is not able to get\nthe disk size.\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 16, 'created': '2015-10-27 05:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/59ce184694df391d7389c6b0a98d2cc9f83c7588', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 17, 'created': '2015-11-08 08:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/4873c76295b0481930a9a45e33600a542eb1fddb', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 18, 'created': '2015-11-20 05:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e76184421ad31795497f77b611bd0f8250e09b5c', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 19, 'created': '2016-01-17 08:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/9d8270c026a6136da3e0b44cae536dc9a13697a8', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 20, 'created': '2016-01-20 07:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e3a13c5ce71b7da9530844b1f304137c183a5aca', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 21, 'created': '2016-02-02 04:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/dd8aba786fce5203271369735ce20b796de9507e', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 22, 'created': '2016-02-02 08:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/bc03d648568df10367928d939356f6589f03d383', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 23, 'created': '2016-04-05 04:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a112e2fbfcfcf476f5e5d9d4341375ac6a0a09c8', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 24, 'created': '2016-04-18 10:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/26bea4ee96147cb2cbff06577150307f9860d387', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 25, 'created': '2016-05-03 16:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/80ec7d792a9e0035cc299f86bb0e9a54e26538ea', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nImplements: Blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 26, 'created': '2016-05-23 04:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/023370b8cc5ca69f50a7fadb1dd2fa527be6664e', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 27, 'created': '2016-05-23 10:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e53647378a165ce68b581d001d9d7f9391ef603b', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nThere are additional capabilities like\nswitch id, switch details also added to be\ndiscovered. These will be done OOB. If not\npossible to get OOB, then will be implemented\nin-band.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 28, 'created': '2016-06-27 16:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fef871a98984ea418d051b3ce444fd8239e2fd11', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 29, 'created': '2016-07-06 08:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/dec391d7f1dba7a1d3d0c99c288a6876b1e9aa88', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 30, 'created': '2016-07-25 17:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d7622df461829f85c00f7b98f528b62360a92400', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 31, 'created': '2016-07-26 03:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/855cc02f62b1ad6a5e19ebe71621a4989e623012', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 32, 'created': '2016-07-29 17:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5f357521e7d9f7691c5abb02779679076038867a', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 33, 'created': '2016-11-08 12:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/eb93f29278ee0962bbfc0c7ccd97f0d1849059fa', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 34, 'created': '2016-11-22 04:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0aabcfab9fd137f16789be15d60356aaea608be2', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 35, 'created': '2016-11-25 03:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5c5cbf3a366fdd224f0accc2d94a780f3165180b', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 36, 'created': '2016-11-29 04:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/99455b7a6f9e4b6b9284710e112e0e74d2a4ac10', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 37, 'created': '2017-01-09 05:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f4f34cd5bef072bf6690afa4e19e8e2f359a769c', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 38, 'created': '2017-02-24 00:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0a610a007eb2063f02ee978d3153ec2e53c5027a', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 39, 'created': '2017-02-24 05:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/de67d49b68330ceea185744ae0d27bfe4b801ba8', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}, {'number': 40, 'created': '2017-04-28 00:15:19.000000000', 'files': ['specs/not-implemented/enhance-ilo-drivers-for-inband-discovery.rst', 'specs/approved/enhance-ilo-drivers-for-inband-discovery.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/08dd8569e45633151a2528193dc5c70fa0e0783b', 'message': 'Enhance ilo drivers to do inband inspection\n\nEnhance ilo drivers to use ironic-inspector also.\nThis is required mainly for the properties\nwhich OOB inspection is not able to retrieve,\nlike disk size for certain HP servers.\n\nRelated-Bug: 1526382\n\nChange-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54\n'}]",344,201904,08dd8569e45633151a2528193dc5c70fa0e0783b,166,16,40,11297,,,0,"Enhance ilo drivers to do inband inspection

Enhance ilo drivers to use ironic-inspector also.
This is required mainly for the properties
which OOB inspection is not able to retrieve,
like disk size for certain HP servers.

Related-Bug: 1526382

Change-Id: Iaa70c8a9f1c4415a2f410fe0306c8472b62d1c54
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/04/201904/35 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/ilo-properties-capabilities-discovery.rst'],1,5d4130ceb1ddb408b372d6dcb56e7773b5c00ff6,bug/1526382,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================== Title of the Spec - eg the title of your blueprint ================================================== https://blueprints.launchpad.net/ironic/+spec/ilo-properties-capabilities-discovery The ilo drivers cannot get the disk size for all kind of storages supported by HP Proliant hardwares. Additionally there is a need to discover few more capabilities like switches and switch ports. Problem description =================== The ilo drivers cannot get the disk size for all kind of storages supported by HP Proliant hardwares. Current OOB inspection can get disk size only for Real Smart Array Controllers. The iLO does not provide a direct interface to get the disk size for the storages like Dynamic Smart Array Controllers and Direct Disks. Additionally there is a need to discover few more capabilities like switches and switch ports. Explanation for storage types: ------------------------------ Direct Disk Access : It doesn't require any RAID to be configured and can be used for deploy directly. Real Smart Array Controllers: Requires RAID to be configured for deploy to succeed and iLO is capabable to provide disk details once RAID is configured successfully. Dynamid Smart Array Controllers: Requires a closed driver (a driver which simulates the real smart array) to recognize the disk attached with the dynamic smart array controllers. Hp provides this driver. The disk details thus can't be retrieved without an OS. Proposed change =============== The disk size in above cases require in-band inspection to be done. The switches and switch ports details are needed for one of the application using ilo drivers. The ilo drivers will do in-band inspection in case the disk size discovered by OOB inspection is 0. * Following capabilities were not implemented in proliantutils in kilo due to capabilities not supporting json list:: capability name : supported_boot_mode possible values : bios, uefi capability name : nic_capacity possible values : value with unit. `supported_boot_mode` capability will be changed to boolean form as per discussion on IRC for capabilities specs. The new capabilities will be:: capability name : boot_mode_uefi possible values : True|False capability name : boot_mode_bios possible values : True|False Since it was not implemented in Kilo, there is no backward compability issue for this capability. `nic_capacity` capability used to get the max link speed(capacity) for the embedded NICS in Kilo. This capability would still continue to get the max link capacity for the Embedded NICS only. Going forward in Liberty, the capability will be in boolean form:: capability names : eth_1gb, eth_10gb, eth_100gb possible values : True|False These capabilities could get the link speed for the stand-up NIC cards also on the baremetal. The driver should be capable to select the NIC with the selected maximum link capacity so that the user experience the expected performance. Since there are chances of the NIC expected by the user/operator to be offline (i.e. disconnected), the following should be done to give the expected experience: Get the link status for each of the NICs/MACs. Create the ironic port and discover NIC max link capacity only for those NICs which are physically connected. This will break backward compatibility as the ironic inspection creates ironic ports for all the MACs discovered. Now with the proposal, we plan to create ports only for the physically connected MACs. To avoid backward compatibility this should be done under a config variable, say ``create_connected_ports`` with value as `True|False`. If this is set to then ironic creates ports for all Embedded MACs and discovers NIC capacity only for the Embedded NICs. * Following new capabilities would be added:: capability name: switch_port_id possible values: Example: ifname GigabitEthernet2/0/44. Vary hardware to hardware. capability name: switch_port_descr possible values: Example: GigabitEthernet2/0/44 Interface. Vary hardware to hardware. capability name: <mac_address>_link_connection_status possible values: True|False capability name: <mac_address>_ROCE_capable possible values: True|False capability name: <mac_address>_RDMA_capable possible values: True|False Alternatives ------------- Manually configure the node with these capabilities for nova scheduler to be able to select the desired node for deploy. Data model impact ----------------- None. State Machine Impact -------------------- None. REST API impact --------------- None. Client (CLI) impact ------------------- None. RPC API impact -------------- None. Driver API impact ----------------- None. Nova driver impact ------------------ None. Security impact --------------- None. Other end user impact --------------------- The ironic-inspector needs to be configured/installed for in-band inspection. Scalability impact ------------------ None. Performance Impact ------------------ None. Other deployer impact --------------------- The ironic-inspector needs to be configured/installed for in-band inspection. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: agarwalnisha1980 Work Items ---------- * To add a check for ironic-inspector in ironic/drivers/modules/ilo/inspect.py to initiate in-band inspection if disk size is returned as 0 by the OOB inspection. * To add the above given capabilities in ilo drivers. * this may require enhancing ironic-inspector for virtual media for iscsi_ilo and agent_ilo drivers. Dependencies ============ * this may require enhancing ironic-inspector for virtual media for iscsi_ilo and agent_ilo drivers. Testing ======= * test the ilo drivers to return disk size for all kinds of storages. Upgrades and Backwards Compatibility ==================================== * Following capabilities were not implemented in proliantutils in kilo due to capabilities not supporting json list:: capability name : supported_boot_mode possible values : bios, uefi capability name : nic_capacity possible values : value with unit. `supported_boot_mode` capability will be changed to boolean form as per discussion on IRC for capabilities specs. The new capabilities will be:: capability name : boot_mode_uefi possible values : True|False capability name : boot_mode_bios possible values : True|False Since it was not implemented in Kilo, there is no backward compability issue for this capability. `nic_capacity` capability used to get the max link speed(capacity) for the embedded NICS in Kilo. This capability would still continue to get the max link capacity for the Embedded NICS only. Going forward in Liberty, the capability will be in boolean form:: capability names : eth_1gb, eth_10gb, eth_100gb possible values : True|False These capabilities could get the link speed for the stand-up NIC cards also on the baremetal. The ironic inspection used to create the ports for all the MACs discovered by inspection. The spec proposes to create ports and inspect NIC capacity only for the connected MACs. If this is implemented directly breaks backward compatibility, hence it would be done under config variable. Documentation Impact ==================== This is required to be documented. References ========== [1] https://review.openstack.org/182572 [2] https://review.openstack.org/182934 [3] http://eavesdrop.openstack.org/irclogs/%23openstack-meeting-3/%23openstack-meeting-3.2015-06-23.log.html ",,284,0
openstack%2Fironic~master~I53a21e8a4652ec4daa228fad8670c461a713f477,openstack/ironic,master,I53a21e8a4652ec4daa228fad8670c461a713f477,inband discovery in ilo,ABANDONED,2015-08-18 21:24:45.000000000,2019-04-30 17:25:04.000000000,,"[{'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 12356}]","[{'number': 1, 'created': '2015-08-18 21:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/af53a1855f1a052e21c17ea4f939d8428d9abab3', 'message': 'WIP: inband discovery in ilo\n\nImplements: blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: I53a21e8a4652ec4daa228fad8670c461a713f477\n'}, {'number': 2, 'created': '2015-10-27 09:42:43.000000000', 'files': ['ironic/drivers/modules/ilo/inspect.py', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/972a199b088c0bdde7ac7f93caf58ee07e28ed26', 'message': 'inband discovery in ilo\n\nEnable inband inspection for ilo drivers.\n\nImplements: blueprint enhance-ilo-drivers-for-inband-discovery\n\nChange-Id: I53a21e8a4652ec4daa228fad8670c461a713f477\n'}]",3,214357,972a199b088c0bdde7ac7f93caf58ee07e28ed26,12,3,2,11297,,,0,"inband discovery in ilo

Enable inband inspection for ilo drivers.

Implements: blueprint enhance-ilo-drivers-for-inband-discovery

Change-Id: I53a21e8a4652ec4daa228fad8670c461a713f477
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/214357/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/inspect.py', 'ironic/drivers/modules/inspector.py']",2,af53a1855f1a052e21c17ea4f939d8428d9abab3,bp/enhance-ilo-drivers-for-inband-discovery," cfg.StrOpt('discoverd_callback_url', help=_(""ironic-inspector call back endpoint. If this is not "" ""set, the ironic-inspector client default "" '(http://127.0.0.1:5050) will be used.')), cfg.StrOpt('inspector_callback_url', help=_('ironic-inspector call back endpoint. If this is not' 'the ironic-inspector client default ' '(http://127.0.0.1:5050) will be used.')), def __init__(self, use_virtual_media=False): self.use_virtual_media = use_virtual_media eventlet.spawn_n(_start_inspection, task.node.uuid, task.context, self.use_virtual_media) def post_periodic_task_action(self, task): pass def _call_inspector(func, uuid, context, use_virtual_media=False): if use_virtual_media: kwargs.update({'use_virtual_media': use_virtual_media})def _start_inspection(node_uuid, context, use_virtual_media=False): _call_inspector(client.introspect, node_uuid, context, use_virtual_media=use_virtual_media) # if not isinstance(task.driver.inspect, Inspector): # return task.driver.inspect.post_periodic_task_action(task)"," def __init__(self): eventlet.spawn_n(_start_inspection, task.node.uuid, task.context)def _call_inspector(func, uuid, context):def _start_inspection(node_uuid, context): _call_inspector(client.introspect, node_uuid, context) if not isinstance(task.driver.inspect, Inspector): return",109,9
openstack%2Fpython-ironic-inspector-client~master~If6ef8e5992c4720a3843c99ecca84927a5d19665,openstack/python-ironic-inspector-client,master,If6ef8e5992c4720a3843c99ecca84927a5d19665,Add support for virtual media in python-ironic-inspector-client,ABANDONED,2015-10-27 20:05:39.000000000,2019-04-30 17:21:51.000000000,,"[{'_account_id': 10239}, {'_account_id': 11297}]","[{'number': 1, 'created': '2015-10-27 20:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/f78b138a82f8d51a8d071b79a4fbfe0ff767c2c9', 'message': 'Add support for virtual media in python-ironic-inspector-client\n\nThis commit enables virtual media flag in\npython-ironic-inspector-client.\n\nChange-Id: If6ef8e5992c4720a3843c99ecca84927a5d19665\nImpelments: blueprint enhance-inspector-for-virtual-media\n'}, {'number': 2, 'created': '2015-10-27 20:06:14.000000000', 'files': ['ironic_inspector_client/v1.py', 'ironic_inspector_client/client.py', 'ironic_inspector_client/test/test_client.py', 'ironic_inspector_client/test/test_v1.py'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/19402f84415a6f8cd579a474bb1a38c448712954', 'message': 'Add support for virtual media in python-ironic-inspector-client\n\nThis commit enables virtual media flag in\npython-ironic-inspector-client.\n\nImpelments: blueprint enhance-inspector-for-virtual-media\nChange-Id: If6ef8e5992c4720a3843c99ecca84927a5d19665\n'}]",6,239745,19402f84415a6f8cd579a474bb1a38c448712954,8,2,2,11297,,,0,"Add support for virtual media in python-ironic-inspector-client

This commit enables virtual media flag in
python-ironic-inspector-client.

Impelments: blueprint enhance-inspector-for-virtual-media
Change-Id: If6ef8e5992c4720a3843c99ecca84927a5d19665
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/45/239745/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector_client/v1.py', 'ironic_inspector_client/client.py', 'ironic_inspector_client/test/test_client.py', 'ironic_inspector_client/test/test_v1.py']",4,f78b138a82f8d51a8d071b79a4fbfe0ff767c2c9,bp/enhance-inspector-for-virtual-media," params={'new_ipmi_username': None, 'new_ipmi_password': None, 'use_virtual_media': False}) new_ipmi_username='user', use_virtual_media=False) params={'new_ipmi_username': 'u', 'new_ipmi_password': 'p', 'use_virtual_media': False}) def test_use_virtual_media(self, mock_req): self.get_client().introspect(self.uuid, use_virtual_media=True) mock_req.assert_called_once_with( 'post', '/introspection/%s' % self.uuid, params={'new_ipmi_username': None, 'new_ipmi_password': None, 'use_virtual_media': True})"," params={'new_ipmi_username': None, 'new_ipmi_password': None}) new_ipmi_username='user') params={'new_ipmi_username': 'u', 'new_ipmi_password': 'p'})",26,11
openstack%2Fnetworking-ovn~master~Ia5739ca39998a842df51d6ccd68717e842895c4d,openstack/networking-ovn,master,Ia5739ca39998a842df51d6ccd68717e842895c4d,use trunk constants from neutron-lib,MERGED,2019-04-05 16:16:49.000000000,2019-04-30 17:19:15.000000000,2019-04-30 17:19:15.000000000,"[{'_account_id': 5367}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-04-05 16:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b2a7ff17b9d279027bbabd70fa986a1ea1e019ed', 'message': 'use trunk constants from neutron-lib\n\nThe trunk constants live in neutron-lib now. This patch switches over\nto them in prep for https://review.openstack.org/#/c/649672/\n\nChange-Id: Ia5739ca39998a842df51d6ccd68717e842895c4d\n'}, {'number': 2, 'created': '2019-04-11 07:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/35f24ba13249fd982708def09e10d5d202d486c1', 'message': 'use trunk constants from neutron-lib\n\nThe trunk constants live in neutron-lib now. This patch switches over\nto them in prep for https://review.openstack.org/#/c/649672/\n\nChange-Id: Ia5739ca39998a842df51d6ccd68717e842895c4d\n'}, {'number': 3, 'created': '2019-04-16 16:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5b43788670b4660b8cc487f1ba124ecdb946a0c9', 'message': 'use trunk constants from neutron-lib\n\nThe trunk constants live in neutron-lib now. This patch switches over\nto them in prep for https://review.openstack.org/#/c/649672/\n\nChange-Id: Ia5739ca39998a842df51d6ccd68717e842895c4d\n'}, {'number': 4, 'created': '2019-04-23 18:53:52.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py', 'networking_ovn/tests/functional/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/814774a45791fd67ae7175165d5bf10f13989595', 'message': 'use trunk constants from neutron-lib\n\nThe trunk constants live in neutron-lib now. This patch switches over\nto them in prep for https://review.openstack.org/#/c/649672/\n\nChange-Id: Ia5739ca39998a842df51d6ccd68717e842895c4d\n'}]",0,650372,814774a45791fd67ae7175165d5bf10f13989595,25,6,4,5367,,,0,"use trunk constants from neutron-lib

The trunk constants live in neutron-lib now. This patch switches over
to them in prep for https://review.openstack.org/#/c/649672/

Change-Id: Ia5739ca39998a842df51d6ccd68717e842895c4d
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/72/650372/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py', 'networking_ovn/tests/functional/test_trunk_driver.py']",3,b2a7ff17b9d279027bbabd70fa986a1ea1e019ed,use-trunk-const,"from neutron_lib.services.trunk import constants as trunk_consts self.trunk_plugin.add_segmentation_type( trunk_consts.SEGMENTATION_TYPE_VLAN, utils.is_valid_vlan_tag) self.assertEqual(trunk_consts.TRUNK_ACTIVE_STATUS, trunk['status'])","from neutron.services.trunk import constants as trunk_consts self.trunk_plugin.add_segmentation_type(trunk_consts.VLAN, utils.is_valid_vlan_tag) self.assertEqual(trunk_consts.ACTIVE_STATUS, trunk['status'])",19,17
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie548f7216610e15af24c96f65a58cc8de603235c,openstack/tripleo-heat-templates,stable/queens,Ie548f7216610e15af24c96f65a58cc8de603235c,Allow ssh from all for undercloud,MERGED,2019-04-30 07:09:36.000000000,2019-04-30 17:16:18.000000000,2019-04-30 17:16:18.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 07:09:36.000000000', 'files': ['environments/undercloud.yaml', 'puppet/services/sshd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c9f7577c4622e8fe353f53a7074dac1e5c14d4d', 'message': ""Allow ssh from all for undercloud\n\nI89cff59947dda3f51482486c41a3d67c4aa36a3e broke SSH access on the\nUndercloud, we shouldn't be that restrictive by default for the\nundercloud and standalone (as deployed via tripleo deploy).\n\nThis change adds a new parameter called SshFirewallAllowAll that can be\nused to include an allow all for ssh. By default it is disabled when\ndeploying the overcloud but is used by the undercloud and standalone to\nallow access after installation.\n\nChange-Id: Ie548f7216610e15af24c96f65a58cc8de603235c\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nRelated-Bug: #1826829\n(cherry picked from commit 2b7cb198764a23d7d2a42d93da7a0f2d133a8af3)\n(cherry picked from commit cba7c2285758a25449fe108c304aeaad9f0c4ba3)\n""}]",0,656450,3c9f7577c4622e8fe353f53a7074dac1e5c14d4d,8,6,1,28223,,,0,"Allow ssh from all for undercloud

I89cff59947dda3f51482486c41a3d67c4aa36a3e broke SSH access on the
Undercloud, we shouldn't be that restrictive by default for the
undercloud and standalone (as deployed via tripleo deploy).

This change adds a new parameter called SshFirewallAllowAll that can be
used to include an allow all for ssh. By default it is disabled when
deploying the overcloud but is used by the undercloud and standalone to
allow access after installation.

Change-Id: Ie548f7216610e15af24c96f65a58cc8de603235c
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Related-Bug: #1826829
(cherry picked from commit 2b7cb198764a23d7d2a42d93da7a0f2d133a8af3)
(cherry picked from commit cba7c2285758a25449fe108c304aeaad9f0c4ba3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/656450/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'puppet/services/sshd.yaml']",2,3c9f7577c4622e8fe353f53a7074dac1e5c14d4d,bug/1826829, SshFirewallAllowAll: default: false description: Set this to true to open up ssh access from all sources. type: boolean map_merge: - tripleo::profile::base::sshd::bannertext: {get_param: BannerText} tripleo::profile::base::sshd::motd: {get_param: MessageOfTheDay} tripleo::profile::base::sshd::options: {get_param: SshServerOptions} - if: - {get_param: SshFirewallAllowAll} - tripleo::sshd::firewall_rules: '003 accept ssh from all': proto: 'tcp' dport: 22 - null , tripleo::profile::base::sshd::bannertext: {get_param: BannerText} tripleo::profile::base::sshd::motd: {get_param: MessageOfTheDay} tripleo::profile::base::sshd::options: {get_param: SshServerOptions},17,3
openstack%2Ftripleo-common~master~I8f6987339ebe477b7d32784640502798d1fb491e,openstack/tripleo-common,master,I8f6987339ebe477b7d32784640502798d1fb491e,nova-less-deploy: update to metalsmith 0.7.0,ABANDONED,2018-09-20 12:58:10.000000000,2019-04-30 16:56:57.000000000,,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-20 12:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/287a8b158f6b14c235dac049f48a8ec5346ecedb', 'message': 'nova-less-deploy: update to metalsmith 0.7.0\n\n* root_disk_size deprecated in favor of root_size_gb\n* added support for swap\n\nChange-Id: I8f6987339ebe477b7d32784640502798d1fb491e\nImplements: blueprint nova-less-deploy\n'}, {'number': 2, 'created': '2018-09-20 14:51:14.000000000', 'files': ['tripleo_common/actions/baremetal_deploy.py', 'requirements.txt', 'tripleo_common/tests/actions/test_baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1c7d4d059bd6240358ae8e22ee6f2a8a28ff28e9', 'message': 'nova-less-deploy: update to metalsmith 0.7.0\n\n* root_disk_size deprecated in favor of root_size_gb\n* added support for swap\n\nChange-Id: I8f6987339ebe477b7d32784640502798d1fb491e\nImplements: blueprint nova-less-deploy\n'}]",0,604077,1c7d4d059bd6240358ae8e22ee6f2a8a28ff28e9,7,4,2,10239,,,0,"nova-less-deploy: update to metalsmith 0.7.0

* root_disk_size deprecated in favor of root_size_gb
* added support for swap

Change-Id: I8f6987339ebe477b7d32784640502798d1fb491e
Implements: blueprint nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/604077/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleo_common/actions/baremetal_deploy.py', 'tripleo_common/tests/actions/test_baremetal_deploy.py']",3,287a8b158f6b14c235dac049f48a8ec5346ecedb,bp/nova-less-deploy," root_size_gb=49, swap_size_mb=None, root_size_gb=49, swap_size_mb=None, 'root_size_gb': 100, 'swap_size_mb': 4096}, root_size_gb=100, swap_size_mb=4096, root_size_gb=49, swap_size_mb=None,"," root_disk_size=49, root_disk_size=49, 'root_size_gb': 100}, root_disk_size=100, root_disk_size=49,",15,10
openstack%2Fpuppet-tripleo~stable%2Frocky~I14b540e6564c5b7c5d54b4f1fd5368b000744135,openstack/puppet-tripleo,stable/rocky,I14b540e6564c5b7c5d54b4f1fd5368b000744135,remove ssh from tripleo::firewall::pre,MERGED,2019-04-29 05:46:01.000000000,2019-04-30 16:48:42.000000000,2019-04-30 16:48:42.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8745}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-04-29 05:46:01.000000000', 'files': ['spec/classes/tripleo_firewall_spec.rb', 'manifests/firewall/pre.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/47034b224cd532c9b1d76f0aace0bdddbce9ea87', 'message': 'remove ssh from tripleo::firewall::pre\n\nincluding global ssh access in tripleo::firewall::pre makes it\ndifficult for the operator to control ssh access to overcloud hosts.\nThis removes the hardcoded rule and the accompanying change in t-h-t\nconfigures the default firewall rules via hiera config_settings.\n\nDepends-On: I89cff59947dda3f51482486c41a3d67c4aa36a3e\nChange-Id: I14b540e6564c5b7c5d54b4f1fd5368b000744135\nRelated-Bug: #1826829\n(cherry picked from commit 9bdb8199cc394bd6283292a6964a089f012f2ae9)\n'}]",0,656244,47034b224cd532c9b1d76f0aace0bdddbce9ea87,10,9,1,28223,,,0,"remove ssh from tripleo::firewall::pre

including global ssh access in tripleo::firewall::pre makes it
difficult for the operator to control ssh access to overcloud hosts.
This removes the hardcoded rule and the accompanying change in t-h-t
configures the default firewall rules via hiera config_settings.

Depends-On: I89cff59947dda3f51482486c41a3d67c4aa36a3e
Change-Id: I14b540e6564c5b7c5d54b4f1fd5368b000744135
Related-Bug: #1826829
(cherry picked from commit 9bdb8199cc394bd6283292a6964a089f012f2ae9)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/44/656244/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_firewall_spec.rb', 'manifests/firewall/pre.pp']",2,47034b224cd532c9b1d76f0aace0bdddbce9ea87,bug/1826829,," tripleo::firewall::rule{ '003 accept ssh': dport => '22', extras => $firewall_settings, tag => 'tripleo-firewall-prerule', } ",0,19
openstack%2Fpuppet-tripleo~stable%2Fqueens~I788e57b7bff68a934794e008cd6127e19882cd23,openstack/puppet-tripleo,stable/queens,I788e57b7bff68a934794e008cd6127e19882cd23,Move unfencing to meta_params,MERGED,2019-04-29 07:16:33.000000000,2019-04-30 16:32:39.000000000,2019-04-30 16:32:38.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 07:16:33.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp', 'spec/classes/tripleo_profile_base_pacemaker_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fdd7375ea9ed5b58b7f96edf0ba46bc2ca51c031', 'message': 'Move unfencing to meta_params\n\nWe currently do a requires=""unfencing"" on a start operation, which is\ndeprecated and will be removed in pacemaker 2.0\n\nWe need to move this to a meta param and since pacemaker has supported\nthis since the dawn of time we can move to it now.\n\nCloses-Bug: #1771519\n\nDepends-On: I5ec830e092646a3626cacea264de9ad81fcdd124\nChange-Id: I788e57b7bff68a934794e008cd6127e19882cd23\n(cherry picked from commit ea8457499d3c24cadd6172236001fd10903b6603)\n'}]",0,656256,fdd7375ea9ed5b58b7f96edf0ba46bc2ca51c031,7,4,1,20172,,,0,"Move unfencing to meta_params

We currently do a requires=""unfencing"" on a start operation, which is
deprecated and will be removed in pacemaker 2.0

We need to move this to a meta param and since pacemaker has supported
this since the dawn of time we can move to it now.

Closes-Bug: #1771519

Depends-On: I5ec830e092646a3626cacea264de9ad81fcdd124
Change-Id: I788e57b7bff68a934794e008cd6127e19882cd23
(cherry picked from commit ea8457499d3c24cadd6172236001fd10903b6603)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/56/656256/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/pacemaker/instance_ha.pp', 'spec/classes/tripleo_profile_base_pacemaker_spec.rb']",2,fdd7375ea9ed5b58b7f96edf0ba46bc2ca51c031,bug/1771519," :meta_params => ""requires=unfencing"","," :op_params => ""start requires=unfencing"",",2,2
openstack%2Fpython-dracclient~master~I06dfee32f6cf0a232a49901109b6b794f845c2fd,openstack/python-dracclient,master,I06dfee32f6cf0a232a49901109b6b794f845c2fd,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:44:32.000000000,2019-04-30 16:28:46.000000000,2019-04-30 16:28:46.000000000,"[{'_account_id': 8068}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-04-23 05:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/136c8decebb8b36ee94839f546fbee698c67412a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\n'}, {'number': 2, 'created': '2019-04-28 06:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/27bd55ef34b0ebc576a2cf99ca303c4592156392', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\n'}, {'number': 3, 'created': '2019-04-28 06:20:56.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/15fe14b8a00da35a1d0e009a122899e11f705681', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n'}]",2,654752,15fe14b8a00da35a1d0e009a122899e11f705681,12,6,3,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd
Closes-Bug: #1826699
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/52/654752/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,136c8decebb8b36ee94839f546fbee698c67412a,bug/1826699,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fpuppet-openstack-integration~master~I2fdd6ddb28e8d2940804511cb3a26f1759294a24,openstack/puppet-openstack-integration,master,I2fdd6ddb28e8d2940804511cb3a26f1759294a24,"Revert ""Don't run puppet openstack jobs when patching .gitreview file""",MERGED,2019-04-29 20:07:21.000000000,2019-04-30 16:15:55.000000000,2019-04-30 16:15:55.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 20:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a6f629a422794d958c50b6cb31738566f357716c', 'message': 'Revert ""Don\'t run puppet openstack jobs when patching .gitreview file""\n\nThe migration is done, we need to revert it now so jobs can run again.\n\nThis reverts commit 8232721659ead0d30181e4e390de01e08fe4dc1d.\n\nChange-Id: I2fdd6ddb28e8d2940804511cb3a26f1759294a24\n'}, {'number': 2, 'created': '2019-04-29 20:07:24.000000000', 'files': ['zuul.d/tripleo.yaml', 'zuul.d/base.yaml', 'zuul.d/beaker.yaml', 'zuul.d/linters.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7842495b642cb506626b9ae5b6f8dcd8a86ffcbb', 'message': 'Revert ""Don\'t run puppet openstack jobs when patching .gitreview file""\n\nThe migration is done, we need to revert it now so jobs can run again.\n\nThis reverts commit 8232721659ead0d30181e4e390de01e08fe4dc1d.\n\nChange-Id: I2fdd6ddb28e8d2940804511cb3a26f1759294a24\n'}]",0,656393,7842495b642cb506626b9ae5b6f8dcd8a86ffcbb,9,4,2,3153,,,0,"Revert ""Don't run puppet openstack jobs when patching .gitreview file""

The migration is done, we need to revert it now so jobs can run again.

This reverts commit 8232721659ead0d30181e4e390de01e08fe4dc1d.

Change-Id: I2fdd6ddb28e8d2940804511cb3a26f1759294a24
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/93/656393/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tripleo.yaml', 'zuul.d/base.yaml', 'zuul.d/beaker.yaml', 'zuul.d/linters.yaml']",4,a6f629a422794d958c50b6cb31738566f357716c,update-zuulv3,, - ^.gitreview$,0,10
openstack%2Fopenstack-helm~master~Iac2b080d5d44bdf07534126419a1d5dd86055d6b,openstack/openstack-helm,master,Iac2b080d5d44bdf07534126419a1d5dd86055d6b,Skip cred-key setup when keys already exist,MERGED,2019-04-26 16:13:11.000000000,2019-04-30 16:10:38.000000000,2019-04-30 16:10:38.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 16:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b42003897799878635d6d0e3725af362436f67d2', 'message': 'WIP - Skip cred-key setup when keys already exist\n\nChange-Id: Iac2b080d5d44bdf07534126419a1d5dd86055d6b\n'}, {'number': 2, 'created': '2019-04-26 16:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/419d93c8aad3b494bd780b61bf5be5b89e21afc5', 'message': 'WIP - Skip cred-key setup when keys already exist\n\nChange-Id: Iac2b080d5d44bdf07534126419a1d5dd86055d6b\n'}, {'number': 3, 'created': '2019-04-26 18:31:08.000000000', 'files': ['keystone/templates/bin/_fernet-manage.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3b14e77d2acfce681fdf163461eddb347980deeb', 'message': 'Skip cred-key setup when keys already exist\n\nThis change adds a conditional to the _fernet_setup to avoid\noverwriting credential-keys when keystone-manage credential-setup\nis ran and there are already existing credential keys. This will\nmitigate issues where encrypted credential blobs in keystone were\nbecoming un-decryptable when the credential keys were being\noverridden or lost upon upgrading.\n\nChange-Id: Iac2b080d5d44bdf07534126419a1d5dd86055d6b\n'}]",1,655935,3b14e77d2acfce681fdf163461eddb347980deeb,11,3,3,21420,,,0,"Skip cred-key setup when keys already exist

This change adds a conditional to the _fernet_setup to avoid
overwriting credential-keys when keystone-manage credential-setup
is ran and there are already existing credential keys. This will
mitigate issues where encrypted credential blobs in keystone were
becoming un-decryptable when the credential keys were being
overridden or lost upon upgrading.

Change-Id: Iac2b080d5d44bdf07534126419a1d5dd86055d6b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/35/655935/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/bin/_fernet-manage.py.tpl'],1,b42003897799878635d6d0e3725af362436f67d2,keystone-cred," if is_credential and args.command == 'credential_setup': if secret.get('data', False): LOG.info('Credential keys already exist, skipping setup...') sys.exit(0) ",,5,0
openstack%2Fopenstack-helm~master~I81014489dd16d6c57a89ddb3ac3d205209e4acdf,openstack/openstack-helm,master,I81014489dd16d6c57a89ddb3ac3d205209e4acdf,Reenable rally ec2 create/list test,MERGED,2019-04-25 20:24:59.000000000,2019-04-30 16:10:37.000000000,2019-04-30 16:10:37.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 20:24:59.000000000', 'files': ['keystone/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/05dff0139e8ce5dcaf755e11aaac147d434febad', 'message': 'Reenable rally ec2 create/list test\n\nThis change reenables the create and list ec2 credential test.\n\nThe previous issue of undecryptable credential blobs being\nleft over was fixed in a previous change.\n\nChange-Id: I81014489dd16d6c57a89ddb3ac3d205209e4acdf\n'}]",0,655788,05dff0139e8ce5dcaf755e11aaac147d434febad,10,4,1,21420,,,0,"Reenable rally ec2 create/list test

This change reenables the create and list ec2 credential test.

The previous issue of undecryptable credential blobs being
left over was fixed in a previous change.

Change-Id: I81014489dd16d6c57a89ddb3ac3d205209e4acdf
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/88/655788/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values.yaml'],1,05dff0139e8ce5dcaf755e11aaac147d434febad,ec2tests, KeystoneBasic.create_and_list_ec2credentials: - runner: concurrency: 1 times: 1 type: constant sla: failure_rate: max: 0,,8,0
openstack%2Fmagnum~master~Ib93a7c0f761d047da3408703a5cf4208821acb33,openstack/magnum,master,Ib93a7c0f761d047da3408703a5cf4208821acb33,Fix registry on k8s_fedora_atomic,MERGED,2019-04-12 14:57:42.000000000,2019-04-30 15:54:05.000000000,2019-04-17 08:48:28.000000000,"[{'_account_id': 6484}, {'_account_id': 10068}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28502}]","[{'number': 1, 'created': '2019-04-12 14:57:42.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/00522c5ba20bdd8939e3ff1d8daca48c2507dde7', 'message': 'Fix registry on k8s_fedora_atomic\n\nThis fixes an issue with --registry-enabled in k8s_fedora_atomic where\nthe registry container fails to start in the minion due to two missing\nheat parameters: TRUSTEE_USERNAME and TRUSTEE_DOMAIN_ID.\n\nChange-Id: Ib93a7c0f761d047da3408703a5cf4208821acb33\nTask: 23067\nStory: 2003033\n'}]",0,652096,00522c5ba20bdd8939e3ff1d8daca48c2507dde7,13,7,1,6834,,,0,"Fix registry on k8s_fedora_atomic

This fixes an issue with --registry-enabled in k8s_fedora_atomic where
the registry container fails to start in the minion due to two missing
heat parameters: TRUSTEE_USERNAME and TRUSTEE_DOMAIN_ID.

Change-Id: Ib93a7c0f761d047da3408703a5cf4208821acb33
Task: 23067
Story: 2003033
",git fetch https://review.opendev.org/openstack/magnum refs/changes/96/652096/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml']",2,00522c5ba20bdd8939e3ff1d8daca48c2507dde7,fix-registry-on-k8s-fedora, $TRUSTEE_USERNAME: {get_param: trustee_username} $TRUSTEE_DOMAIN_ID: {get_param: trustee_domain_id},,4,0
openstack%2Fopenstack-ansible-haproxy_server~master~If819912873270f0568974925490023310f9cbd66,openstack/openstack-ansible-haproxy_server,master,If819912873270f0568974925490023310f9cbd66,Variable to set HTTP keepalive mode,MERGED,2019-03-10 20:43:31.000000000,2019-04-30 15:44:18.000000000,2019-03-19 03:03:52.000000000,"[{'_account_id': 1004}, {'_account_id': 9373}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-03-10 20:43:31.000000000', 'files': ['templates/service.j2', 'templates/haproxy.cfg.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/e911f3f2d269073cd436045b3803c8f5007770f0', 'message': 'Variable to set HTTP keepalive mode\n\nThe HTTP keepalive mode is currently hardcoded to ""http-server-close""\nfor all HTTP services. This disables keepalive for HAProxy to backend\nconnections, but leaves it enabled for client connections to HAProxy.\nThis is problematic especially for service to service calls (e.g.\nnova-api to neutron). If a request is made at the same time the HAProxy\nkeepalive timeout expires, the result of the request is undefined. This\nleads to code 500 error responses from the nova-api because the request\nfrom nova-api to neutron failed. ""Connection aborted"" error messages in\nthe logs are an indication of this issue.\n\nThere is also a bug report[1] about the same issue in devstack which was\nsolved by disabling keepalive and a script[2] to reproduce the issue in\ndevstack.\n\nThis adds a default and per service variables to set the HTTP keepalive\nmode used by HAProxy. The default value is changed to ""forceclose"" to\ndisable HTTP keepalive on the server and client side. With HTTP\nkeepalive disabled the issue can no longer be reproduced.\n\n[1] https://bugs.launchpad.net/devstack/+bug/1630664\n[2] https://github.com/JordanP/openstack-snippets/blob/master/keepalive-race/keep-alive-race.py\n\nChange-Id: If819912873270f0568974925490023310f9cbd66\n'}]",0,642293,e911f3f2d269073cd436045b3803c8f5007770f0,8,4,1,11290,,,0,"Variable to set HTTP keepalive mode

The HTTP keepalive mode is currently hardcoded to ""http-server-close""
for all HTTP services. This disables keepalive for HAProxy to backend
connections, but leaves it enabled for client connections to HAProxy.
This is problematic especially for service to service calls (e.g.
nova-api to neutron). If a request is made at the same time the HAProxy
keepalive timeout expires, the result of the request is undefined. This
leads to code 500 error responses from the nova-api because the request
from nova-api to neutron failed. ""Connection aborted"" error messages in
the logs are an indication of this issue.

There is also a bug report[1] about the same issue in devstack which was
solved by disabling keepalive and a script[2] to reproduce the issue in
devstack.

This adds a default and per service variables to set the HTTP keepalive
mode used by HAProxy. The default value is changed to ""forceclose"" to
disable HTTP keepalive on the server and client side. With HTTP
keepalive disabled the issue can no longer be reproduced.

[1] https://bugs.launchpad.net/devstack/+bug/1630664
[2] https://github.com/JordanP/openstack-snippets/blob/master/keepalive-race/keep-alive-race.py

Change-Id: If819912873270f0568974925490023310f9cbd66
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/93/642293/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/service.j2', 'templates/haproxy.cfg.j2', 'defaults/main.yml']",3,e911f3f2d269073cd436045b3803c8f5007770f0,http-keepalive,# Set the HTTP keepalive mode to use # Disable persistent connections by default because they can cause issues when the server side closes the connection # at the same time a request is sent. haproxy_keepalive_mode: 'forceclose',,8,1
openstack%2Fcinder~master~I7e7dbdae72a08e663a96b6c01340ec2a5cbe883e,openstack/cinder,master,I7e7dbdae72a08e663a96b6c01340ec2a5cbe883e,Fix swift backup driver crashing during service startup,MERGED,2019-04-25 18:57:22.000000000,2019-04-30 15:35:38.000000000,2019-04-30 15:35:37.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-04-25 18:57:22.000000000', 'files': ['cinder/backup/drivers/swift.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/37997388725a4469624e2e14e1575301fa7cfcf7', 'message': ""Fix swift backup driver crashing during service startup\n\nThis patch fixes a crash in the swift backup driver during service\nstartup, when the backup_swift_url is None. When backup_swift_url is\nNone, the initialization code tries to fetch swift's endpoint from the\nservice catalog. However, this fails during service startup because the\ncontext is missing the information required to access the catalog.\n\nCloses-Bug: #1826434\nChange-Id: I7e7dbdae72a08e663a96b6c01340ec2a5cbe883e\n""}]",0,655765,37997388725a4469624e2e14e1575301fa7cfcf7,35,30,1,21129,,,0,"Fix swift backup driver crashing during service startup

This patch fixes a crash in the swift backup driver during service
startup, when the backup_swift_url is None. When backup_swift_url is
None, the initialization code tries to fetch swift's endpoint from the
service catalog. However, this fails during service startup because the
context is missing the information required to access the catalog.

Closes-Bug: #1826434
Change-Id: I7e7dbdae72a08e663a96b6c01340ec2a5cbe883e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/655765/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/drivers/swift.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",2,37997388725a4469624e2e14e1575301fa7cfcf7,bug/1826434," self.ctxt = context.RequestContext(user_id=fake.USER_ID, is_admin=True, service_catalog=service_catalog) @mock.patch('cinder.backup.drivers.swift.SwiftBackupDriver.initialize') def test_no_user_context(self, mock_initialize): # With no user_id the driver should not initialize itself. admin_context = context.get_admin_context() swift_dr.SwiftBackupDriver(admin_context) mock_initialize.assert_not_called() ", self.ctxt = context.get_admin_context() self.ctxt.service_catalog = service_catalog,15,3
openstack%2Ftricircle~master~I063b3d4ac10e1722d92e79fce44ae105b29d2f12,openstack/tricircle,master,I063b3d4ac10e1722d92e79fce44ae105b29d2f12,Update requirements for stein neutron-lib,ABANDONED,2019-03-12 02:44:55.000000000,2019-04-30 15:32:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-12 02:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/aab33702cf6759a57972c8f055e40b9d6f5010b1', 'message': 'Update requirements for stein neutron-lib\n\nChange-Id: I063b3d4ac10e1722d92e79fce44ae105b29d2f12\n'}, {'number': 2, 'created': '2019-03-12 03:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/7a1703b28add2ae4e1dc478fb2e394d2ffc8d8a4', 'message': 'Update requirements for stein neutron-lib\n\nChange-Id: I063b3d4ac10e1722d92e79fce44ae105b29d2f12\n'}, {'number': 3, 'created': '2019-03-18 07:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/09e54863d1d595832d24ce6fde478eaaf1ff34e7', 'message': 'Update requirements for stein neutron-lib\n\nChange-Id: I063b3d4ac10e1722d92e79fce44ae105b29d2f12\n'}, {'number': 4, 'created': '2019-03-22 02:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/cb442e087c6ef4a1b47159feaea65a2a51eb158e', 'message': 'Update requirements for stein neutron-lib\n\nChange-Id: I063b3d4ac10e1722d92e79fce44ae105b29d2f12\n'}, {'number': 5, 'created': '2019-03-22 02:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/6781a900d5ee90960bd9ef58014967d0597769f1', 'message': 'Update requirements for stein neutron-lib\n\nChange-Id: I063b3d4ac10e1722d92e79fce44ae105b29d2f12\n'}, {'number': 6, 'created': '2019-03-22 02:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/732d2b5973bec8115506c471ddc3bc6a5dc7e976', 'message': 'Update requirements for stein neutron-lib\n\nChange-Id: I063b3d4ac10e1722d92e79fce44ae105b29d2f12\n'}, {'number': 7, 'created': '2019-03-22 04:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/7cc1a9a45f659252846a52110d75c77e564a1f99', 'message': 'Update requirements for stein neutron-lib\n\nChange-Id: I063b3d4ac10e1722d92e79fce44ae105b29d2f12\n'}, {'number': 8, 'created': '2019-03-22 04:16:28.000000000', 'files': ['tricircle/network/drivers/type_vxlan.py', 'requirements.txt', 'tricircle/network/drivers/type_vlan.py', 'tricircle/network/drivers/type_local.py', 'tricircle/network/drivers/type_flat.py', 'lower-constraints.txt', 'tricircle/tests/unit/network/test_central_trunk_plugin.py', 'tricircle/tests/unit/network/test_central_sfc_plugin.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/ccac9e4327e3e728c1268d75f7834bcae86e14f8', 'message': 'Update requirements for stein neutron-lib\n\nChange-Id: I063b3d4ac10e1722d92e79fce44ae105b29d2f12\n'}]",0,642636,ccac9e4327e3e728c1268d75f7834bcae86e14f8,13,1,8,10980,,,0,"Update requirements for stein neutron-lib

Change-Id: I063b3d4ac10e1722d92e79fce44ae105b29d2f12
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/36/642636/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,aab33702cf6759a57972c8f055e40b9d6f5010b1,update-requirements,neutron-lib==1.25.0oslo.db==4.37.0,neutron-lib==1.20.0oslo.db==4.27.0,4,4
openstack%2Fcharm-ceph-osd~stable%2F19.04~I83287590e279054973fdb28b374a49704626ed01,openstack/charm-ceph-osd,stable/19.04,I83287590e279054973fdb28b374a49704626ed01,Fix NRPE check_osd,MERGED,2019-04-30 14:29:49.000000000,2019-04-30 15:30:03.000000000,2019-04-30 15:30:03.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 14:29:49.000000000', 'files': ['files/nagios/collect_ceph_osd_services.py', 'files/nagios/check_ceph_osd_services.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/8abdcef5d79db10bda021bb036013322bc2b5232', 'message': 'Fix NRPE check_osd\n\nMove the result of the systemd service state to `/var/lib/nagios`\n\nChange-Id: I83287590e279054973fdb28b374a49704626ed01\nCloses-Bug: 1826594\n'}]",0,656522,8abdcef5d79db10bda021bb036013322bc2b5232,7,3,1,28608,,,0,"Fix NRPE check_osd

Move the result of the systemd service state to `/var/lib/nagios`

Change-Id: I83287590e279054973fdb28b374a49704626ed01
Closes-Bug: 1826594
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/22/656522/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/nagios/collect_ceph_osd_services.py', 'files/nagios/check_ceph_osd_services.py']",2,8abdcef5d79db10bda021bb036013322bc2b5232,bug/1826594,"NAGIOS_HOME = '/var/lib/nagios' _tmp_file = os.path.join(NAGIOS_HOME, CRON_CHECK_TMPFILE)","import tempfile _tmp_file = os.path.join(tempfile.gettempdir(), CRON_CHECK_TMPFILE)",4,4
openstack%2Fdiskimage-builder~master~Iebf6c9cb956e7ab37c590e456f59f460839b4e8c,openstack/diskimage-builder,master,Iebf6c9cb956e7ab37c590e456f59f460839b4e8c,Fix broken requirements url,MERGED,2019-04-30 08:31:31.000000000,2019-04-30 15:28:23.000000000,2019-04-30 15:28:23.000000000,"[{'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 8449}, {'_account_id': 10118}, {'_account_id': 16068}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-04-30 08:31:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b9e322f2d39f224fd4b1824761fcf03481be0a49', 'message': 'Fix broken requirements url\n\nFixes tox jobs which were broken since opendev migration.\n\nChange-Id: Iebf6c9cb956e7ab37c590e456f59f460839b4e8c\n'}]",0,656466,b9e322f2d39f224fd4b1824761fcf03481be0a49,11,10,1,24162,,,0,"Fix broken requirements url

Fixes tox jobs which were broken since opendev migration.

Change-Id: Iebf6c9cb956e7ab37c590e456f59f460839b4e8c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/66/656466/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b9e322f2d39f224fd4b1824761fcf03481be0a49,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fvitrage-specs~master~I2d296e2001912928f1d3380a3b1a8c9e365c324e,openstack/vitrage-specs,master,I2d296e2001912928f1d3380a3b1a8c9e365c324e,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 09:06:22.000000000,2019-04-30 15:19:36.000000000,2019-04-30 15:19:36.000000000,"[{'_account_id': 1736}, {'_account_id': 17130}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-23 09:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/3feb225dabb9829bf2cf2f4ee7aea9cf39d864b8', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I2d296e2001912928f1d3380a3b1a8c9e365c324e\n'}, {'number': 2, 'created': '2019-04-23 09:07:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/c1c43bb1c44740767f8232185ba3df41f7875905', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I2d296e2001912928f1d3380a3b1a8c9e365c324e\n'}]",0,654891,c1c43bb1c44740767f8232185ba3df41f7875905,10,5,2,27781,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I2d296e2001912928f1d3380a3b1a8c9e365c324e
",git fetch https://review.opendev.org/openstack/vitrage-specs refs/changes/91/654891/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3feb225dabb9829bf2cf2f4ee7aea9cf39d864b8,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fopenstack-ansible-openstack_openrc~master~I2607f1617c37181c5de2cd49634e6e487f7a22d9,openstack/openstack-ansible-openstack_openrc,master,I2607f1617c37181c5de2cd49634e6e487f7a22d9,Change locale for openrc,MERGED,2018-09-28 13:17:53.000000000,2019-04-30 15:01:21.000000000,2018-09-29 12:30:10.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 13:17:53.000000000', 'files': ['templates/openrc.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/ef3fe9966fff2570ce2b40094921abe17fa3f2a1', 'message': ""Change locale for openrc\n\nWhen there is a special char in the name of a server or something else,\nopenstack client cannot print the char and throw this error:\n'ascii' codec can't encode character u'\\xe8' in position 106729: ordinal not in range(128)\n\nChanging the locale to C.UTF-8 fix this small issue.\n\nChange-Id: I2607f1617c37181c5de2cd49634e6e487f7a22d9\n""}]",0,606069,ef3fe9966fff2570ce2b40094921abe17fa3f2a1,8,3,1,13095,,,0,"Change locale for openrc

When there is a special char in the name of a server or something else,
openstack client cannot print the char and throw this error:
'ascii' codec can't encode character u'\xe8' in position 106729: ordinal not in range(128)

Changing the locale to C.UTF-8 fix this small issue.

Change-Id: I2607f1617c37181c5de2cd49634e6e487f7a22d9
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/69/606069/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/openrc.j2'],1,ef3fe9966fff2570ce2b40094921abe17fa3f2a1,fix-locale-openrc,export LC_ALL=C.UTF-8,export LC_ALL=C,1,1
openstack%2Fcharm-swift-proxy~master~Ie7fa1b8c5619d0a5a278cd0eddaf1051de11f2a3,openstack/charm-swift-proxy,master,Ie7fa1b8c5619d0a5a278cd0eddaf1051de11f2a3,Replicas per ring,MERGED,2019-04-10 11:50:37.000000000,2019-04-30 14:22:23.000000000,2019-04-30 14:22:23.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24504}]","[{'number': 1, 'created': '2019-04-10 11:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a43b499863f5b89a90d5b17b072b9efca12edb45', 'message': ""Replicas per ring\n\nThis patchset implements 'replicas-account' and 'replicas-container'\ncharm options which can be used to set the desired number of replicas\nper ring.\n\nChange-Id: Ie7fa1b8c5619d0a5a278cd0eddaf1051de11f2a3\nCloses-Bug: 1823696\n""}, {'number': 2, 'created': '2019-04-25 14:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/82fe5b7a7bec828974ab73e891a9404b83bd3b30', 'message': ""Replicas per ring\n\nThis patchset implements 'replicas-account' and 'replicas-container'\ncharm options which can be used to set the desired number of replicas\nper ring.\n\nChange-Id: Ie7fa1b8c5619d0a5a278cd0eddaf1051de11f2a3\nCloses-Bug: 1823696\n""}, {'number': 3, 'created': '2019-04-29 07:16:21.000000000', 'files': ['hooks/swift_hooks.py', 'lib/swift_utils.py', 'unit_tests/test_swift_utils.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/1160493f3f1403bfd08c338c9099373d6c55e174', 'message': ""Replicas per ring\n\nThis patchset implements 'replicas-account' and 'replicas-container'\ncharm options which can be used to set the desired number of replicas\nper ring.\n\nChange-Id: Ie7fa1b8c5619d0a5a278cd0eddaf1051de11f2a3\nCloses-Bug: 1823696\n""}]",3,651508,1160493f3f1403bfd08c338c9099373d6c55e174,24,4,3,24504,,,0,"Replicas per ring

This patchset implements 'replicas-account' and 'replicas-container'
charm options which can be used to set the desired number of replicas
per ring.

Change-Id: Ie7fa1b8c5619d0a5a278cd0eddaf1051de11f2a3
Closes-Bug: 1823696
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/08/651508/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/swift_hooks.py', 'lib/swift_utils.py', 'unit_tests/test_swift_utils.py', 'config.yaml']",4,a43b499863f5b89a90d5b17b072b9efca12edb45,bug/1823696, description: Minimum replicas for each item stored in the cluster. replicas-account: type: int default: description: | Minimum replicas for each account stored in the cluster. . NOTE: use only when you want to overwrite the global 'replicas' option. replicas-container: type: int default: description: | Minimum replicas for each container stored in the cluster. . NOTE: use only when you want to overwrite the global 'replicas' option., description: Minimum replicas for each object stored in the cluster.,92,5
openstack%2Fnova-specs~master~Iea1c8b092cbc71750d60f8b5a6a03f6403eb32fa,openstack/nova-specs,master,Iea1c8b092cbc71750d60f8b5a6a03f6403eb32fa,Sriov-bond,ABANDONED,2018-10-22 20:27:18.000000000,2019-04-30 14:22:08.000000000,,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 10608}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 20000}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-22 20:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a09c17de66649f8d4882bba9c5ad61d6dace3a78', 'message': 'Sriov-bond\n\nA proposal for SR-IOV bond ports on different Physical Functions (PFs).\n\nChange-Id: Iea1c8b092cbc71750d60f8b5a6a03f6403eb32fa\nCo-Authored-By: zhangyanxian <zhangyanxianmail@163.com>\nBlueprint: sriov-bond\n'}, {'number': 2, 'created': '2018-10-22 21:30:45.000000000', 'files': ['specs/stein/approved/sriov-bond.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/096e802f54fa5b415d60fe35f5c0982c119d4148', 'message': 'Sriov-bond\n\nA proposal for SR-IOV bond ports on different Physical Functions (PFs).\n\nChange-Id: Iea1c8b092cbc71750d60f8b5a6a03f6403eb32fa\nCo-Authored-By: zhangyanxian <zhangyanxianmail@163.com>\nBlueprint: sriov-bond\n'}]",8,612500,096e802f54fa5b415d60fe35f5c0982c119d4148,10,9,2,6873,,,0,"Sriov-bond

A proposal for SR-IOV bond ports on different Physical Functions (PFs).

Change-Id: Iea1c8b092cbc71750d60f8b5a6a03f6403eb32fa
Co-Authored-By: zhangyanxian <zhangyanxianmail@163.com>
Blueprint: sriov-bond
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/00/612500/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/sriov-bond.rst'],1,a09c17de66649f8d4882bba9c5ad61d6dace3a78,bp/sriov-bond," .. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========== SR-IOV bond =========== https://blueprints.launchpad.net/nova/+spec/sriov-bond The ability for OpenStack with a bond nic of Single root I/O virtualization(SR-IOV) for L2 redundancy is really useful in NFV scenario, it needs to add a bond port(its mode can be ""active-backup"" or ""balance-tcp"" or ""balance-slb"") using SR-IOV NICs. It's just **one port** logically, but support HA. When create a VM with the bond logic port, we use two SR-IOV Virtual Functions (VFs) in two different Physical Functions (PFs). The principle that we implement SR-IOV bonding is making SR-IOV nics(host nics) bonding by OVS bond or Linux bond or other bond type. If we want to get a VM with a bond port, we need to bond host nics of dataplane, and then use Port-Status-Linkage module to update the status of VFs or tap-ports/qvo-ports which VM use. Problem description =================== In the NFV field, many scenarios need L2 redundancy for SR-IOV. But current nova or neutron solutions for L2 bond is usually achieved by configuring multiple neutron ports and allocate different VFs on different physical network adapters to implement this. For example: * https://blueprints.launchpad.net/nova/+spec/distribute-pci-allocation * https://blueprints.launchpad.net/nova/+spec/user-controlled-sriov-ports-allocation The two BP above all mention the demand about L2 redundancy for SR-IOV. Both of them give a solution how to allocate VFs in different PFs to meet the demand of L2 redundancy. But these BPs have some limits in the following areas: 1. The bond port is one logic port, but both BP need to create two or more neutron ports in a VM. These member ports can not have same mac under neutron mac conflict check. So we must turn off VF spoof checking, otherwise, there will be some problem when the member ports switch. But if we turn off VF spoof checking, data traffic on VF will be overflowing, and it affects the performance of packets forwarding. 2. How to manage the mode of host NICs bonding? The mode of bonding can be ""active-backup"" or ""balance-tcp"" or ""balance-slb"". We need a mechanism to maintain the status of bond port and its members port. 3. If we get a mechanism to maintain the mode of host bonding NICs, how to feed back the status of host bonding NICs to bonding NICs in VM. So there should be a solution to use just one neutron port for two or more VFs on different PFs if we need bond sriov port. Use Cases --------- To take advantage of L2 redundancy links for bonding with multiple SR-IOV PF ports, it needs to spread a port allocating two different VFs in two different SR-IOV PFs. **Two SR-IOV NICs(NIC1 and NIC2)** When create VM using one logic port which is bonding port include two VFs from two different host NICs. First, we bond SR-IOV NICs by OVS bonding or Linux bonding. When VM is booting, it will get two VFs in two different host bonding SR-IOV NICs, but Neutron do not set port bonding in VM. It needs additional operation to finish it, for example, it can be configured by administrator, or configured by metadata. The bond mode in VM should not be 802.3ad, cause that different VMs all using 802.3ad mode will confuse negotiation through same host SR-IOV bonding nics. So we only set 802.3ad mode in host SR-IOV bonding nics if it is needed. Then the bonding status is updated by Port-Status-Linkage module according to the status of host bonding nics. Port-Status-Linkage module will set VFs up/down so that guest bonding can switch its member ports. :: +--------------------------------------------------------+ | COMPUTE NODE | | | | +---------------------------------------------+ | | | VM | | | | | | | | +-------------------------------------+ | | | | | GUEST BOND | | | | | | +----+----+ +----+----+ | | | | | | | nic1 | | nic2 | | | | | | | +----+----+ +----+----+ | | | | | | | | | | | | | | | one neutron port | | | | | | +-------+---------------------+-------+ | | | | | | | | | +-----------+---------------------+-----------+ | | | | | | | | | | +--+--+ +--+--+ | | | VF1 | | VF1 | | | +--+--+ +--+--+ | | | | | | +-----------+---------------------+-----------+ | | | | HOST BOND | | | | | +--------+--------+ +--------+--------+ | | | | | NIC1 | | NIC2 | | | | | +-----------------+ +-----------------+ | | | | | | | +---------------------------------------------+ | | | +--------------------------------------------------------+ Proposed change =============== 1. Neutron adds configure option in the sriov_agent.ini on the bond compute node. The configure will be used to create bonding port and add member nics by bond-manage-mechanism, such as OVS-Bond or Linux-Bond. For example:: physical_device_mappings = physnet1:host_bond_port(mode of bond; mode of lacp; list of member nics) 2. Nova adds configure option in the nova.conf on the bond compute node. The configure option is used for selecting VFs from host bonding SR-IOV nic. Since the two SR-IOV VFs are bonded together, they should share the same mac address. The configure will be used to set the same mac address for the two member ports. For example:: bond_nic_mappings = physnet1:list of member nics 3. For Neutron, there is no difference between bond ports and non-bond ports, it will generate two member ports(VFs) when booting the VM. So create bond port with neutron API:: neutron port-create --binding:vnic_type=direct --name bond_port1 private 4. Create SR-IOV VM with nova API:: nova boot --nic port-id=bond_port1 5. When nova get ``vif_details`` bonding info from neutron, it will plug one or more VFs to VM according to the port bonding information. 6. Add Linux bonding of VFs in VM. It can be configured by Administrator, or from Metadata. It is noteworthy that the bond mode should not be 802.3ad. 7. Neutron adds configure option in the sriov_agent.ini for specifying driver of Bond-Manage-Mechanism. Neutron distribute the bond information to Bond-Manage-Mechanism, such as OVS Bond or Linux Bond. Then OVS Bond or Linux Bond can maintain the status of bond nics. For example:: bond_driver = ovs-bond/linux-bond 8. There is new module named Port-Status-Linkage, it check the status of bond ports by OVS Bond or Linux Bond periodically, then set up/down status to VFs of bond nics. The status of bond nics in VM can keep corresponding to SR-IOV nics of compute node. Alternatives ------------ * There are no alternatives that directly satisfy SR-IOV bonding using just one port in software level. * Some physical NICs cards support one VF for two PFs. That will satisfy this need in hardware level, but it depends on the physical NIC card itself. And when we need more than two physical NICs to be bond, that won't work. * It's better to use the agent config options than neutron port property when you want to change a non-bond virtual machine to a bond one. The bond mode in VM should not be 802.3ad, cause that different VMs all using 802.3ad mode will confuse negotiation through same host SR-IOV bonding nics. So we only set 802.3ad mode in host SR-IOV bonding nics if it is needed. If you use neutron port property options, maybe you should: 1. delete or detach port 2. Upgrade port properties information 3. add or attach port Changing the port properties may affect the business of virtual machine. If you use the agent config options, maybe you can: 1. Migration the virtual machine to other node 2. Upgrade the SR-IOV configuration for this node 3. Migration the virtual machine back And these operations do not affect the normal business. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- * Users will be able to use SR-IOV bonding port to achieve HA. Performance Impact ------------------ None Other deployer impact --------------------- * Cloud deployer will need to set the ``physical_device_mappings`` to allow bonding for PCI devices. Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Songming Yan Yanxian Zhang Robin Lu Work Items ---------- * Refactor existing codes to make it compatible with new port bonding info. * Implement new physnet configuration. * Add UnitTests for the new feature. Dependencies ============ None Testing ======= * The changes are testable through standard unit testing. * The changes are testable through compatibility testing. Documentation Impact ==================== The config-sriov.rst in the networking-guide should be updated with information on how this feature should be used. References ========== .. [1] https://blueprints.launchpad.net/nova/+spec/distribute-pci-allocation .. [2] https://blueprints.launchpad.net/nova/+spec/user-controlled-sriov-ports-allocation .. [3] https://blueprints.launchpad.net/nova/+spec/sriov-trusted-vfs History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Queen - Introduced * - Rocky - Resubmitted * - Stein - Resubmitted",,307,0
openstack%2Frpm-packaging~stable%2Fqueens~Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60,openstack/rpm-packaging,stable/queens,Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60,Follow opendev rebranding,MERGED,2019-04-29 18:30:32.000000000,2019-04-30 14:21:14.000000000,2019-04-30 14:21:14.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 18:30:32.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bd696e2d8036ee67f318f1e577364ebc2818a8eb', 'message': 'Follow opendev rebranding\n\nChange-Id: Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60\n(cherry picked from commit d3c2a392ecde86bcd4fa0d06ffd0e9e753e5c28d)\n'}]",0,656377,bd696e2d8036ee67f318f1e577364ebc2818a8eb,9,5,1,6593,,,0,"Follow opendev rebranding

Change-Id: Ib0ac580e7ef46aa3e3c3c2b3fe1ac22f0acc2c60
(cherry picked from commit d3c2a392ecde86bcd4fa0d06ffd0e9e753e5c28d)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/77/656377/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,bd696e2d8036ee67f318f1e577364ebc2818a8eb,monasca_fixup-stable/rocky-stable/stein-stable/queens, https://opendev.org/openstack/rpm-packaging, https://git.openstack.org/cgit/openstack/rpm-packaging,1,1
openstack%2Fopenstack-helm-images~master~I6f04987a60af9e81ea826dc1470d3d63bd5f637e,openstack/openstack-helm-images,master,I6f04987a60af9e81ea826dc1470d3d63bd5f637e,[Ceph] Add Ceph RBD and CephFS provisioners images,MERGED,2019-04-26 03:15:06.000000000,2019-04-30 13:51:01.000000000,2019-04-30 13:49:14.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29132}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-04-26 03:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/eac3904567956c3e497fd3573ab6bf2553791468', 'message': '[Ceph] Add Ceph RBD and CephFS provisioners images\n\nAdd Dockerfiles for Ceph RBD and CephFS provisioners.\nAdd Zuul checks for both provisioners.\n\nChange-Id: I6f04987a60af9e81ea826dc1470d3d63bd5f637e\n'}, {'number': 2, 'created': '2019-04-26 07:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9a8b898e15797b7bf52c28b91e4e41210c071d2d', 'message': '[Ceph] Add Ceph RBD and CephFS provisioners images\n\nAdd Dockerfiles for Ceph RBD and CephFS provisioners.\nAdd Zuul checks for both provisioners.\n\nChange-Id: I6f04987a60af9e81ea826dc1470d3d63bd5f637e\n'}, {'number': 3, 'created': '2019-04-26 21:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2385eb0cd6335ce36f6f9306dca5d3150585853b', 'message': '[Ceph] Add Ceph RBD and CephFS provisioners images\n\nAdd Dockerfiles for Ceph RBD and CephFS provisioners.\nAdd Zuul checks for both provisioners.\n\nChange-Id: I6f04987a60af9e81ea826dc1470d3d63bd5f637e\n'}, {'number': 4, 'created': '2019-04-26 22:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5a78c6fd7f9da1387889de45aab9cdeae5ce54f4', 'message': '[Ceph] Add Ceph RBD and CephFS provisioners images\n\nAdd Dockerfiles for Ceph RBD and CephFS provisioners.\nAdd Zuul checks for both provisioners.\n\nChange-Id: I6f04987a60af9e81ea826dc1470d3d63bd5f637e\n'}, {'number': 5, 'created': '2019-04-29 03:29:45.000000000', 'files': ['ceph-rbd-provisioner/build.sh', 'ceph-cephfs-provisioner/build.sh', 'zuul.d/ceph-cephfs-provisioner.yaml', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_xenial', 'zuul.d/ceph-rbd-provisioner.yaml', 'ceph-rbd-provisioner/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/264b8c8f00e8ae8046a056b5501715937b43c990', 'message': '[Ceph] Add Ceph RBD and CephFS provisioners images\n\nAdd Dockerfiles for Ceph RBD and CephFS provisioners.\nAdd Zuul checks for both provisioners.\n\nChange-Id: I6f04987a60af9e81ea826dc1470d3d63bd5f637e\n'}]",7,655824,264b8c8f00e8ae8046a056b5501715937b43c990,24,12,5,17119,,,0,"[Ceph] Add Ceph RBD and CephFS provisioners images

Add Dockerfiles for Ceph RBD and CephFS provisioners.
Add Zuul checks for both provisioners.

Change-Id: I6f04987a60af9e81ea826dc1470d3d63bd5f637e
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/24/655824/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rbd-provisioner/build.sh', 'ceph-cephfs-provisioner/build.sh', 'zuul.d/ceph-cephfs-provisioner.yaml', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_xenial', 'zuul.d/ceph-rbd-provisioner.yaml', 'ceph-rbd-provisioner/Dockerfile.ubuntu_xenial']",6,eac3904567956c3e497fd3573ab6bf2553791468,,"ARG baseimg=docker.io/ubuntu:xenial FROM ${baseimg} ARG CEPH_RELEASE=mimic ARG CEPH_REPO=http://mirror.mirantis.com/testing/ceph-mimic/xenial/ ARG CEPH_KEY=http://mirror.mirantis.com/testing/ceph-mimic/xenial/archive-ceph-mimic.key ADD ${CEPH_KEY} /etc/apt/ceph-${CEPH_RELEASE}.key RUN set -ex ;\ export DEBIAN_FRONTEND=noninteractive ;\ apt-key add /etc/apt/ceph-${CEPH_RELEASE}.key ;\ rm -f /etc/apt/ceph-${CEPH_RELEASE}.key ;\ echo ""deb ${CEPH_REPO} xenial main"" | tee /etc/apt/sources.list.d/ceph.list ;\ apt-get update ;\ apt-get dist-upgrade -y ;\ apt-get install --no-install-recommends -y \ apt-transport-https \ ca-certificates \ ceph-common ;\ rm -rf /var/lib/apt/lists/* ;\ rm -rf /usr/share/doc/ ;\ rm -rf /usr/share/man/ ;\ rm -rf /usr/share/locale/ COPY --from=quay.io/external_storage/rbd-provisioner:v1.1.0-k8s1.10 /usr/local/bin/rbd-provisioner /usr/local/bin/rbd-provisioner ENTRYPOINT [""/usr/local/bin/rbd-provisioner""] ",,195,0
openstack%2Fswift~master~I830c0d2e473d1740f9138ebc6efd64a39d85d1dc,openstack/swift,master,I830c0d2e473d1740f9138ebc6efd64a39d85d1dc,s3api multi upload test clean up,MERGED,2019-04-29 19:25:22.000000000,2019-04-30 13:50:58.000000000,2019-04-30 13:50:58.000000000,"[{'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 19:25:22.000000000', 'files': ['test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/s3api/test_multi_upload.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/58352b285d6532321c6dfbe0e94218799c615ef2', 'message': 's3api multi upload test clean up\n\nAdd a test assertion for invalid ETag of MPU manifest and make some\nglobal constants more obvious.\n\nChange-Id: I830c0d2e473d1740f9138ebc6efd64a39d85d1dc\nRelated-Change-Id: I7df13e670f702a2956a9c8057fcb971f4bfb7319\n'}]",2,656385,58352b285d6532321c6dfbe0e94218799c615ef2,7,3,1,1179,,,0,"s3api multi upload test clean up

Add a test assertion for invalid ETag of MPU manifest and make some
global constants more obvious.

Change-Id: I830c0d2e473d1740f9138ebc6efd64a39d85d1dc
Related-Change-Id: I7df13e670f702a2956a9c8057fcb971f4bfb7319
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/656385/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/s3api/test_multi_upload.py']",2,58352b285d6532321c6dfbe0e94218799c615ef2,bug/1810397,"XML = '<CompleteMultipartUpload>' \OBJECTS_TEMPLATE = \MULTIPARTS_TEMPLATE = \S3_ETAG = '""%s-2""' % hashlib.md5(( OBJECTS_TEMPLATE) objects = multiparts or MULTIPARTS_TEMPLATE objects = [(o[0], o[1][:-3] + 'Z') for o in MULTIPARTS_TEMPLATE] body=XML) content_md5 = base64.b64encode(hashlib.md5(XML).digest()) body=XML) self.assertEqual(elem.find('ETag').text, S3_ETAG) override_etag = '; s3_etag=%s' % S3_ETAG.strip('""') def test_object_multipart_upload_invalid_md5(self): bad_md5 = base64.b64encode(hashlib.md5(XML + 'some junk').digest()) req = Request.blank('/bucket/object?uploadId=X', environ={'REQUEST_METHOD': 'POST'}, headers={'Authorization': 'AWS test:tester:hmac', 'Date': self.get_date_header(), 'Content-MD5': bad_md5, }, body=XML) status, headers, body = self.call_s3api(req) self.assertEqual('400 Bad Request', status) self.assertEqual(self._get_error_code(body), 'BadDigest') for item in OBJECTS_TEMPLATE body=XML) # NB: S3_ETAG includes quotes self.assertIn('<ETag>%s</ETag>' % S3_ETAG, body) for item in OBJECTS_TEMPLATE body=XML) for item in OBJECTS_TEMPLATE body=XML) body=XML) body=XML) body=XML) body=XML) body=XML) body=XML) body=XML) OBJECTS_TEMPLATE[partnum - 1][1][:-3] + 'Z') '""%s""' % OBJECTS_TEMPLATE[partnum - 1][2]) str(OBJECTS_TEMPLATE[partnum - 1][3])) OBJECTS_TEMPLATE[partnum - 1][1][:-3] + 'Z') '""%s""' % OBJECTS_TEMPLATE[partnum - 1][2]) str(OBJECTS_TEMPLATE[partnum - 1][3])) body=XML) body=XML) body=XML)","xml = '<CompleteMultipartUpload>' \objects_template = \multiparts_template = \s3_etag = '""%s-2""' % hashlib.md5(( objects_template) objects = multiparts or multiparts_template objects = [(o[0], o[1][:-3] + 'Z') for o in multiparts_template] body=xml) content_md5 = base64.b64encode(hashlib.md5(xml).digest()) body=xml) self.assertEqual(elem.find('ETag').text, s3_etag) override_etag = '; s3_etag=%s' % s3_etag.strip('""') for item in objects_template body=xml) # NB: s3_etag includes quotes self.assertIn('<ETag>%s</ETag>' % s3_etag, body) for item in objects_template body=xml) for item in objects_template body=xml) body=xml) body=xml) body=xml) body=xml) body=xml) body=xml) body=xml) objects_template[partnum - 1][1][:-3] + 'Z') '""%s""' % objects_template[partnum - 1][2]) str(objects_template[partnum - 1][3])) objects_template[partnum - 1][1][:-3] + 'Z') '""%s""' % objects_template[partnum - 1][2]) str(objects_template[partnum - 1][3])) body=xml) body=xml) body=xml)",50,36
openstack%2Fswift~master~I7df13e670f702a2956a9c8057fcb971f4bfb7319,openstack/swift,master,I7df13e670f702a2956a9c8057fcb971f4bfb7319,s3api: Block ETag header from CompleteMultipartUpload requests,MERGED,2019-01-03 20:32:02.000000000,2019-04-30 13:50:56.000000000,2019-04-30 13:50:56.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-03 20:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/da5f215705e703016a7156bc5e9a29722533004a', 'message': 's3api: Block ETag header from CompleteMultipartUpload requests\n\nChange-Id: I7df13e670f702a2956a9c8057fcb971f4bfb7319\nCloses-Bug: 1810397\n'}, {'number': 2, 'created': '2019-04-29 19:25:22.000000000', 'files': ['swift/common/middleware/s3api/controllers/multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c51db382cb4f637fd91d1ff3d0163907906e3cc5', 'message': 's3api: Block ETag header from CompleteMultipartUpload requests\n\nChange-Id: I7df13e670f702a2956a9c8057fcb971f4bfb7319\nCloses-Bug: 1810397\n'}]",3,628292,c51db382cb4f637fd91d1ff3d0163907906e3cc5,12,3,2,15343,,,0,"s3api: Block ETag header from CompleteMultipartUpload requests

Change-Id: I7df13e670f702a2956a9c8057fcb971f4bfb7319
Closes-Bug: 1810397
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/628292/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/multi_upload.py', 'test/unit/common/middleware/s3api/helpers.py', 'test/unit/common/middleware/s3api/test_multi_upload.py']",3,da5f215705e703016a7156bc5e9a29722533004a,bug/1810397," content_md5 = base64.b64encode(hashlib.md5(xml).digest()) 'Date': self.get_date_header(), 'Content-MD5': content_md5, },"," 'Date': self.get_date_header(), },",16,2
openstack%2Fmagnum~master~Ic61987dd9fddf39d8738f920a0de9a5fad321bef,openstack/magnum,master,Ic61987dd9fddf39d8738f920a0de9a5fad321bef,Make cover job voting,ABANDONED,2019-04-30 13:32:00.000000000,2019-04-30 13:45:17.000000000,,[],"[{'number': 1, 'created': '2019-04-30 13:32:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/84e725af748b7dab368de68e1c461dd8fb183aa7', 'message': 'Make cover job voting\n\nThe cover job is passing, so make it a voting job. For this, remove the\nnon-voting job entry, the existing template openstack-cover-jobs will\nrun the job.\n\nChange-Id: Ic61987dd9fddf39d8738f920a0de9a5fad321bef\n'}]",0,656516,84e725af748b7dab368de68e1c461dd8fb183aa7,2,0,1,6547,,,0,"Make cover job voting

The cover job is passing, so make it a voting job. For this, remove the
non-voting job entry, the existing template openstack-cover-jobs will
run the job.

Change-Id: Ic61987dd9fddf39d8738f920a0de9a5fad321bef
",git fetch https://review.opendev.org/openstack/magnum refs/changes/16/656516/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,84e725af748b7dab368de68e1c461dd8fb183aa7,test-periodic,, - openstack-tox-cover: voting: false,0,2
openstack%2Fcinder~master~I83578f58b1380527acee7cdfecfe61e1fdc46af5,openstack/cinder,master,I83578f58b1380527acee7cdfecfe61e1fdc46af5,Fix invalid function name,MERGED,2019-04-29 07:34:41.000000000,2019-04-30 13:26:26.000000000,2019-04-30 13:26:26.000000000,"[{'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 20190}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-04-29 07:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9602c8ca0ec1c3f2aee9b9bb1c9f2a12c0e5d0eb', 'message': 'Fix invalid function name\n\nThis is to fix the invalid function name of asssert_called_once_with,\nwhich should be assert_called_once_with.\n\nChange-Id: I83578f58b1380527acee7cdfecfe61e1fdc46af5\n'}, {'number': 2, 'created': '2019-04-30 01:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/befcbdd427e2125c0a3e9d9b09af251502aca657', 'message': 'Fix invalid function name\n\nThis is to fix the invalid function name of asssert_called_once_with,\nwhich should be assert_called_once_with.\n\nChange-Id: I83578f58b1380527acee7cdfecfe61e1fdc46af5\n'}, {'number': 3, 'created': '2019-04-30 06:14:59.000000000', 'files': ['cinder/tests/unit/test_ssh_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1236220ddf3c83b12367ed95713d8c098e98fd50', 'message': 'Fix invalid function name\n\nThis is to fix the invalid function name of asssert_called_once_with,\nwhich should be assert_called_once_with.\n\nChange-Id: I83578f58b1380527acee7cdfecfe61e1fdc46af5\n'}]",2,656258,1236220ddf3c83b12367ed95713d8c098e98fd50,60,29,3,20190,,,0,"Fix invalid function name

This is to fix the invalid function name of asssert_called_once_with,
which should be assert_called_once_with.

Change-Id: I83578f58b1380527acee7cdfecfe61e1fdc46af5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/656258/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_ssh_utils.py'],1,9602c8ca0ec1c3f2aee9b9bb1c9f2a12c0e5d0eb,error_asssert, fake_close.assert_called_once_with(mock.call()) fake_close.assert_called_once_with(mock.call()), fake_close.asssert_called_once_with(mock.call()) fake_close.asssert_called_once_with(mock.call()),2,2
openstack%2Fnova~master~I9e7e44727946705506d740896349ca1833cfddcd,openstack/nova,master,I9e7e44727946705506d740896349ca1833cfddcd,Add functional regression recreate test for bug 1825020,MERGED,2019-04-17 03:03:48.000000000,2019-04-30 13:23:37.000000000,2019-04-29 19:58:59.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-17 03:03:48.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1825020.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a40c7f3e8d06f0bc8918a25b60f73ec2c18add05', 'message': ""Add functional regression recreate test for bug 1825020\n\nChange I06fad233006c7bab14749a51ffa226c3801f951b in Stein\nstarted validating extra specs on the new flavor during a\nresize but didn't take into account some validation that\nhappens with disk size with the new flavor if the validation\ncode isn't told that the server is volume-backed. That results\nin a 500 FlavorDiskSmallerThanMinDisk response from the API\nif the new flavor has a smaller disk size than the current\nflavor that the server is using, which shouldn't actually\nmatter for a volume-backed server.\n\nThis adds a functional regression test to recreate the bug.\n\nChange-Id: I9e7e44727946705506d740896349ca1833cfddcd\nRelated-Bug: #1825020\n""}]",0,653268,a40c7f3e8d06f0bc8918a25b60f73ec2c18add05,58,12,1,6873,,,0,"Add functional regression recreate test for bug 1825020

Change I06fad233006c7bab14749a51ffa226c3801f951b in Stein
started validating extra specs on the new flavor during a
resize but didn't take into account some validation that
happens with disk size with the new flavor if the validation
code isn't told that the server is volume-backed. That results
in a 500 FlavorDiskSmallerThanMinDisk response from the API
if the new flavor has a smaller disk size than the current
flavor that the server is using, which shouldn't actually
matter for a volume-backed server.

This adds a functional regression test to recreate the bug.

Change-Id: I9e7e44727946705506d740896349ca1833cfddcd
Related-Bug: #1825020
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/653268/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1825020.py'],1,a40c7f3e8d06f0bc8918a25b60f73ec2c18add05,bug/1825020,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import six from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client as api_client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as fake_image class VolumeBackedResizeDiskDown(test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1825020 introduced in Stein. This tests a resize scenario where a volume-backed server is resized to a flavor with a smaller disk than the flavor used to create the server. Since the server is volume-backed, the disk in the new flavor should not matter since it won't be used for the guest. """""" def setUp(self): super(VolumeBackedResizeDiskDown, self).setUp() self.flags(allow_resize_to_same_host=True) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.CinderFixtureNewAttachFlow(self)) self.useFixture(func_fixtures.PlacementFixture()) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) self.start_service('conductor') self.start_service('scheduler') self.start_service('compute') def test_volume_backed_resize_disk_down(self): # First determine the flavors we're going to use by picking two flavors # with different size disks and create a volume-backed server using the # flavor with the bigger disk size. flavors = self.api.get_flavors() flavor1 = flavors[0] flavor2 = flavors[1] self.assertGreater(flavor2['disk'], flavor1['disk']) vol_id = nova_fixtures.CinderFixtureNewAttachFlow.IMAGE_BACKED_VOL server = { 'name': 'test_volume_backed_resize_disk_down', 'imageRef': '', 'flavorRef': flavor2['id'], 'block_device_mapping_v2': [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': vol_id }] } server = self.api.post_server({'server': server}) self._wait_for_state_change(self.api, server, 'ACTIVE') # Now try to resize the server with the flavor that has smaller disk. data = {'resize': {'flavorRef': flavor1['id']}} # FIXME(mriedem): This will raise FlavorDiskSmallerThanMinDisk as a 500 # error until bug 1825020 is fixed. ex = self.assertRaises(api_client.OpenStackApiException, self.api.post_server_action, server['id'], data) self.assertEqual(500, ex.response.status_code) self.assertIn('FlavorDiskSmallerThanMinDisk', six.text_type(ex)) ",,82,0
openstack%2Fnova~stable%2Fstein~Ib9a9a9a79499272d740a64cc0b909f0299a237d1,openstack/nova,stable/stein,Ib9a9a9a79499272d740a64cc0b909f0299a237d1,AZ list performance optimization: avoid double service list DB fetch,MERGED,2019-04-29 19:05:05.000000000,2019-04-30 13:17:04.000000000,2019-04-30 11:26:50.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-29 19:05:05.000000000', 'files': ['nova/api/openstack/compute/availability_zone.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/availability_zones.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c280d747fb23f1abaaf91eea7f6d11e716c6db42', 'message': 'AZ list performance optimization: avoid double service list DB fetch\n\nAssume number of services can be large (10000 as in the bug description),\nthis patch removes second service_get_all call.\n\nzone_hosts changed from dict of lists to dict of sets.\n\nThe HostAPI instance from the API controller is also passed to the\nget_availability_zones method so it does not have to recreate it\nper call (this is both for a slight performance gain but mostly also\nfor test sanity).\n\nOn devstack with 10000 services patch decreased response time twice.\n\nopenstack availability zone list --long --timing\n\n...\n\nBefore:\n\n+-------------------------------------------------------------------------------------------+-----------+\n| URL                                                                                       |   Seconds |\n+-------------------------------------------------------------------------------------------+-----------+\n| GET http://192.168.0.45/identity                                                          |  0.006816 |\n| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.456708 |\n| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.087485 |\n| GET http://172.18.237.203/compute/v2.1/os-availability-zone/detail                        | 95.667192 |\n| GET http://172.18.237.203/volume/v2/e2671d37ee2c4374bd1533645261f1d4/os-availability-zone |  0.036528 |\n| Total                                                                                     | 96.254729 |\n+-------------------------------------------------------------------------------------------+-----------+\n\nAfter:\n\n+-------------------------------------------------------------------------------------------+-----------+\n| URL                                                                                       |   Seconds |\n+-------------------------------------------------------------------------------------------+-----------+\n| GET http://192.168.0.45/identity                                                          |  0.020215 |\n| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.102987 |\n| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.111899 |\n| GET http://172.18.237.203/compute/v2.1/os-availability-zone/detail                        | 39.346657 |\n| GET http://172.18.237.203/volume/v2/e2671d37ee2c4374bd1533645261f1d4/os-availability-zone |  0.026403 |\n| Total                                                                                     | 39.608161 |\n+-------------------------------------------------------------------------------------------+-----------+\n\nThe test_availability_zone_detail unit test is updated to assert that\nservices are only retrieved twice (once for enabled, once for disabled).\nWhile in there, the expected response dict is formatted for readability\nand a duplicate zone/host is added to make sure duplicates are handled\nfor available services. To ensure service_get_all is called only twice,\nthe low-level DB API service_get_all stub is replaced with a mock and\nthe mock is changed to be on the HostAPI.service_get_all method which\nis (1) what the API controller code is actually using and (2) allows the\ntest to only mock the instance of the HostAPI being tested - trying to\nmock the DB API service_get_all method causes intermittent failures\nin unrelated tests because of the global nature of that mock.\n\nThere is another opportunity for optimizing get_availability_zones which\nis marked with a TODO but left for a separate patch.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPartial-Bug: #1801897\nChange-Id: Ib9a9a9a79499272d740a64cc0b909f0299a237d1\n(cherry picked from commit 74cefe4266a613d4c2afbb0c791e16eb7789aef4)\n'}]",0,656382,c280d747fb23f1abaaf91eea7f6d11e716c6db42,11,5,1,6873,,,0,"AZ list performance optimization: avoid double service list DB fetch

Assume number of services can be large (10000 as in the bug description),
this patch removes second service_get_all call.

zone_hosts changed from dict of lists to dict of sets.

The HostAPI instance from the API controller is also passed to the
get_availability_zones method so it does not have to recreate it
per call (this is both for a slight performance gain but mostly also
for test sanity).

On devstack with 10000 services patch decreased response time twice.

openstack availability zone list --long --timing

...

Before:

+-------------------------------------------------------------------------------------------+-----------+
| URL                                                                                       |   Seconds |
+-------------------------------------------------------------------------------------------+-----------+
| GET http://192.168.0.45/identity                                                          |  0.006816 |
| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.456708 |
| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.087485 |
| GET http://172.18.237.203/compute/v2.1/os-availability-zone/detail                        | 95.667192 |
| GET http://172.18.237.203/volume/v2/e2671d37ee2c4374bd1533645261f1d4/os-availability-zone |  0.036528 |
| Total                                                                                     | 96.254729 |
+-------------------------------------------------------------------------------------------+-----------+

After:

+-------------------------------------------------------------------------------------------+-----------+
| URL                                                                                       |   Seconds |
+-------------------------------------------------------------------------------------------+-----------+
| GET http://192.168.0.45/identity                                                          |  0.020215 |
| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.102987 |
| POST http://192.168.0.45/identity/v3/auth/tokens                                          |  0.111899 |
| GET http://172.18.237.203/compute/v2.1/os-availability-zone/detail                        | 39.346657 |
| GET http://172.18.237.203/volume/v2/e2671d37ee2c4374bd1533645261f1d4/os-availability-zone |  0.026403 |
| Total                                                                                     | 39.608161 |
+-------------------------------------------------------------------------------------------+-----------+

The test_availability_zone_detail unit test is updated to assert that
services are only retrieved twice (once for enabled, once for disabled).
While in there, the expected response dict is formatted for readability
and a duplicate zone/host is added to make sure duplicates are handled
for available services. To ensure service_get_all is called only twice,
the low-level DB API service_get_all stub is replaced with a mock and
the mock is changed to be on the HostAPI.service_get_all method which
is (1) what the API controller code is actually using and (2) allows the
test to only mock the instance of the HostAPI being tested - trying to
mock the DB API service_get_all method causes intermittent failures
in unrelated tests because of the global nature of that mock.

There is another opportunity for optimizing get_availability_zones which
is marked with a TODO but left for a separate patch.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Partial-Bug: #1801897
Change-Id: Ib9a9a9a79499272d740a64cc0b909f0299a237d1
(cherry picked from commit 74cefe4266a613d4c2afbb0c791e16eb7789aef4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/656382/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/availability_zone.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/availability_zones.py']",3,c280d747fb23f1abaaf91eea7f6d11e716c6db42,bug/1801897," with_hosts=False, enabled_services=None, hostapi=None): :param enabled_services: list of enabled services to use; if None enabled services will be retrieved from all cells with zones set :param hostapi: nova.compute.api.HostAPI instance # TODO(mriedem): Make hostapi a required arg in a non-backportable FUP. if hostapi is None: # NOTE(danms): Avoid circular import from nova import compute hostapi = compute.HostAPI() if enabled_services is None: enabled_services = hostapi.service_get_all( context, {'disabled': False}, set_zones=True, all_cells=True) # TODO(mriedem): We could probably optimize if we know that we're going # to get both enabled and disabled services and just pull them all from # the cell DBs at the same time and then filter into enabled/disabled # lists in python."," with_hosts=False): # NOTE(danms): Avoid circular import from nova import compute hostapi = compute.HostAPI() enabled_services = hostapi.service_get_all( context, {'disabled': False}, set_zones=True, all_cells=True)",95,36
openstack%2Fopenstack-helm-infra~master~Ibc4d6aa4cad5a5a295b94e8ef783776c16bbc876,openstack/openstack-helm-infra,master,Ibc4d6aa4cad5a5a295b94e8ef783776c16bbc876,Fix ceph-osd daemonset container env,ABANDONED,2019-04-29 20:33:11.000000000,2019-04-30 13:16:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}]","[{'number': 1, 'created': '2019-04-29 20:33:11.000000000', 'files': ['ceph-osd/templates/utils/_osd_daemonset_overrides.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3032e632aef1bf2856ac5c9e3c14dd8999f73860', 'message': 'Fix ceph-osd daemonset container env\n\nCurrently with latest helm (>2.13) with updated\nsprig libraries cep_daemonset generation template\nscript uses mergeOverwrite passing duplicate env\nvariables to container when using multiple block-\nlogical devices for osd-data.\n\nChange-Id: Ibc4d6aa4cad5a5a295b94e8ef783776c16bbc876\nStory: 2005288\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nSigned-off-by: kranthikirang <kranthi.guttikonda@att.com>\n'}]",0,656399,3032e632aef1bf2856ac5c9e3c14dd8999f73860,3,3,1,29106,,,0,"Fix ceph-osd daemonset container env

Currently with latest helm (>2.13) with updated
sprig libraries cep_daemonset generation template
script uses mergeOverwrite passing duplicate env
variables to container when using multiple block-
logical devices for osd-data.

Change-Id: Ibc4d6aa4cad5a5a295b94e8ef783776c16bbc876
Story: 2005288
Signed-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>
Signed-off-by: kranthikirang <kranthi.guttikonda@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/656399/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/utils/_osd_daemonset_overrides.tpl'],1,3032e632aef1bf2856ac5c9e3c14dd8999f73860,,{{ merge $context.Values.__tmpYAML $context.Values.__daemonset_yaml | toYaml }},{{ mergeOverwrite $context.Values.__daemonset_yaml $context.Values.__tmpYAML | toYaml }},1,1
openstack%2Fpaunch~stable%2Fstein~I36f014f5e729010b44876d8f5994629477bac4e8,openstack/paunch,stable/stein,I36f014f5e729010b44876d8f5994629477bac4e8,Add 'hostname' and 'extra_hosts' to podman,MERGED,2019-04-30 07:05:06.000000000,2019-04-30 11:54:45.000000000,2019-04-30 11:54:45.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-30 07:05:06.000000000', 'files': ['releasenotes/notes/hostname-and-extra_hosts-args-27335af0a5694ba6.yaml', 'paunch/builder/podman.py', 'paunch/tests/test_builder_podman.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/4ef4e63947ddec0d7f48d23ef7d1efbcfdab2340', 'message': ""Add 'hostname' and 'extra_hosts' to podman\n\nWe are starting a WIP to replace docker-compose/docker with paunch/podman [1]\nbut to do so we need either ne able to resolve the service name or the\noption here wich just adding extra_hosts and hostname docker-compose\nconfiguration so we can resolve the differnt services of zuul\nquickstart between them.\n\n[1] https://review.rdoproject.org/r/#/c/20488/\n\nChange-Id: I36f014f5e729010b44876d8f5994629477bac4e8\n(cherry picked from commit e948fdce90e5b96dd5df0e038a09b76a40035087)\n""}]",0,656449,4ef4e63947ddec0d7f48d23ef7d1efbcfdab2340,9,9,1,27898,,,0,"Add 'hostname' and 'extra_hosts' to podman

We are starting a WIP to replace docker-compose/docker with paunch/podman [1]
but to do so we need either ne able to resolve the service name or the
option here wich just adding extra_hosts and hostname docker-compose
configuration so we can resolve the differnt services of zuul
quickstart between them.

[1] https://review.rdoproject.org/r/#/c/20488/

Change-Id: I36f014f5e729010b44876d8f5994629477bac4e8
(cherry picked from commit e948fdce90e5b96dd5df0e038a09b76a40035087)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/49/656449/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hostname-and-extra_hosts-args-27335af0a5694ba6.yaml', 'paunch/builder/podman.py', 'paunch/tests/test_builder_podman.py']",3,4ef4e63947ddec0d7f48d23ef7d1efbcfdab2340,656270-stable/stein," 'cap_drop': ['NET_RAW'], 'hostname': 'foohostname', 'extra_hosts': [ 'foohost:127.0.0.1', 'barhost:127.0.0.2' ] '--hostname=foohostname', '--add-host=foohost:127.0.0.1', '--add-host=barhost:127.0.0.2',", 'cap_drop': ['NET_RAW'],18,1
openstack%2Fnova~stable%2Frocky~I34a3f8d4a496217eb01790e2d124111625bf5f85,openstack/nova,stable/rocky,I34a3f8d4a496217eb01790e2d124111625bf5f85,Fix {min|max}_version in ironic Adapter setup,MERGED,2019-04-25 13:38:57.000000000,2019-04-30 11:35:56.000000000,2019-04-30 11:35:56.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-25 13:38:57.000000000', 'files': ['nova/virt/ironic/client_wrapper.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35bda4ec385e4c2b3d4cee07467f5077b13b1dd9', 'message': 'Fix {min|max}_version in ironic Adapter setup\n\nChange If625411f40be0ba642baeb02950f568f43673655 introduced\nnova.utils.get_ksa_adapter, which accepts min_version and max_version\nkwargs to be passed through to the ksa Adapter constructor. These are\nsupposed to represent minimum and maximum *major* API versions,\nmin_version was erroneously set to *microversions* when setting up the\nAdapter for ironicclient. This commit changes it to a major version.\n(Microversion negotiation is done within ironicclient itself.)\n\nAlso, this bug went latent for several releases because a) it only seems\nto be triggered when region_name is given in the conf; but also b)\nironicclient has code to discover a reasonable endpoint if passed None.\nSo this change also adds a warning log if we try and fail to discover\nthe endpoint via ksa.\n\nConflicts:\n\tnova/tests/unit/virt/ironic/test_client_wrapper.py\nThis was just because the old microversion was 1.38 instead of 1.46. The\npatch still changes it to 1.0.\n\nChange-Id: I34a3f8d4a496217eb01790e2d124111625bf5f85\nCloses-Bug: #1825583\n(cherry picked from commit 13278be9f265e237fc68ee60acfacaa1df68522e)\n(cherry picked from commit e6ca3838d940dea417cdeffe22c656d222737a7e)\n'}]",0,655693,35bda4ec385e4c2b3d4cee07467f5077b13b1dd9,10,6,1,14070,,,0,"Fix {min|max}_version in ironic Adapter setup

Change If625411f40be0ba642baeb02950f568f43673655 introduced
nova.utils.get_ksa_adapter, which accepts min_version and max_version
kwargs to be passed through to the ksa Adapter constructor. These are
supposed to represent minimum and maximum *major* API versions,
min_version was erroneously set to *microversions* when setting up the
Adapter for ironicclient. This commit changes it to a major version.
(Microversion negotiation is done within ironicclient itself.)

Also, this bug went latent for several releases because a) it only seems
to be triggered when region_name is given in the conf; but also b)
ironicclient has code to discover a reasonable endpoint if passed None.
So this change also adds a warning log if we try and fail to discover
the endpoint via ksa.

Conflicts:
	nova/tests/unit/virt/ironic/test_client_wrapper.py
This was just because the old microversion was 1.38 instead of 1.46. The
patch still changes it to 1.0.

Change-Id: I34a3f8d4a496217eb01790e2d124111625bf5f85
Closes-Bug: #1825583
(cherry picked from commit 13278be9f265e237fc68ee60acfacaa1df68522e)
(cherry picked from commit e6ca3838d940dea417cdeffe22c656d222737a7e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/655693/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/client_wrapper.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py']",2,35bda4ec385e4c2b3d4cee07467f5077b13b1dd9,bug/1825583," ksa_session='session', min_version=(1, 0), ksa_session='session', min_version=(1, 0),"," ksa_session='session', min_version=(1, 38), ksa_session='session', min_version=(1, 38),",9,3
openstack%2Ftripleo-quickstart-extras~master~Ic2bb4d79e5a73c183d209f51a626f875c06fb4a3,openstack/tripleo-quickstart-extras,master,Ic2bb4d79e5a73c183d209f51a626f875c06fb4a3,Allow to not set DockerInsecureRegistryAddress for standalone,MERGED,2019-04-15 06:33:34.000000000,2019-04-30 11:32:27.000000000,2019-04-30 11:32:27.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-04-15 06:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/324cbd2389a289b58d56e94f5af2d49081e7779b', 'message': '[DNM] Do not set registry by default for standalone\n\nChange-Id: Ic2bb4d79e5a73c183d209f51a626f875c06fb4a3\n'}, {'number': 2, 'created': '2019-04-29 03:59:54.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d71e549372b4a3176f9accc8128855de21316e15', 'message': 'Allow to not set DockerInsecureRegistryAddress for standalone\n\nCurrently DockerInsecureRegistryAddress is always set\nin standalone_parameters.yaml, this patch allows to not\nset by setting role variable standalone_container_prep_updates\nto false, which is default to true when standalone_upgrade=false.\n\nThis is required when want to build the containers on\nhost and use the same containers for the standalone\ndeployment without setting up an extra(one is already setup\nby build-containers role) local registry.\n\nChange-Id: Ic2bb4d79e5a73c183d209f51a626f875c06fb4a3\n'}]",0,652572,d71e549372b4a3176f9accc8128855de21316e15,14,10,2,13861,,,0,"Allow to not set DockerInsecureRegistryAddress for standalone

Currently DockerInsecureRegistryAddress is always set
in standalone_parameters.yaml, this patch allows to not
set by setting role variable standalone_container_prep_updates
to false, which is default to true when standalone_upgrade=false.

This is required when want to build the containers on
host and use the same containers for the standalone
deployment without setting up an extra(one is already setup
by build-containers role) local registry.

Change-Id: Ic2bb4d79e5a73c183d209f51a626f875c06fb4a3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/72/652572/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/standalone/templates/standalone_config.yaml.j2']",2,324cbd2389a289b58d56e94f5af2d49081e7779b,652572,{% if standalone_container_prep_updates is defined and standalone_container_prep_updates %}{% endif %},,2,8
openstack%2Fnova~stable%2Frocky~If897a0d721180152ebdceb7a0c23e8f283ce6d10,openstack/nova,stable/rocky,If897a0d721180152ebdceb7a0c23e8f283ce6d10,"Create request spec, build request and mappings in one transaction",MERGED,2019-04-26 21:52:43.000000000,2019-04-30 11:27:06.000000000,2019-04-30 11:27:06.000000000,"[{'_account_id': 1004}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-26 21:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/622671fe5bf9518c3b88d947763d86a9c560153e', 'message': 'Create request spec, build request and mappings in one transaction\n\nThe transaction context is currently not shared when creating the\nRequestSpec, BuildRequest and InstanceMapping.  Because of this,\nit is possible that the database ends in an inconsistent state\ndue to the fact that one of these was created and the system\ncrashed afterwards.\n\nThis patch adds a function which handles the creation of all those\nresources in a single transaction.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1784093\n\n Conflicts:\n\tnova/tests/unit/compute/test_compute_api.py\n\nNOTE(melwitt): The conflict is because change\nIaffbb019fef7779e7fa44306aacca954512b6970 is not in Rocky.\n\nChange-Id: If897a0d721180152ebdceb7a0c23e8f283ce6d10\n(cherry picked from commit 85f8d033d27b31a6398529e0a25da74eae523b08)\n(cherry picked from commit 870e5bcfb6a5243a785b66353dda299286274e59)\n'}, {'number': 2, 'created': '2019-04-28 00:43:23.000000000', 'files': ['nova/tests/functional/db/test_compute_api.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dc0ded897b5e5df89166c318f8bed3dbb6553fce', 'message': 'Create request spec, build request and mappings in one transaction\n\nThe transaction context is currently not shared when creating the\nRequestSpec, BuildRequest and InstanceMapping.  Because of this,\nit is possible that the database ends in an inconsistent state\ndue to the fact that one of these was created and the system\ncrashed afterwards.\n\nThis patch adds a function which handles the creation of all those\nresources in a single transaction.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1784093\n\n Conflicts:\n\tnova/tests/unit/compute/test_compute_api.py\n\nNOTE(melwitt): The conflict is because change\nIaffbb019fef7779e7fa44306aacca954512b6970 is not in Rocky.\nThe difference in the test is because change\nI7f5f08691ca3f73073c66c29dddb996fb2c2b266 is not in Rocky.\n\nChange-Id: If897a0d721180152ebdceb7a0c23e8f283ce6d10\n(cherry picked from commit 85f8d033d27b31a6398529e0a25da74eae523b08)\n(cherry picked from commit 870e5bcfb6a5243a785b66353dda299286274e59)\n'}]",2,656030,dc0ded897b5e5df89166c318f8bed3dbb6553fce,21,8,2,4690,,,0,"Create request spec, build request and mappings in one transaction

The transaction context is currently not shared when creating the
RequestSpec, BuildRequest and InstanceMapping.  Because of this,
it is possible that the database ends in an inconsistent state
due to the fact that one of these was created and the system
crashed afterwards.

This patch adds a function which handles the creation of all those
resources in a single transaction.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Closes-Bug: #1784093

 Conflicts:
	nova/tests/unit/compute/test_compute_api.py

NOTE(melwitt): The conflict is because change
Iaffbb019fef7779e7fa44306aacca954512b6970 is not in Rocky.
The difference in the test is because change
I7f5f08691ca3f73073c66c29dddb996fb2c2b266 is not in Rocky.

Change-Id: If897a0d721180152ebdceb7a0c23e8f283ce6d10
(cherry picked from commit 85f8d033d27b31a6398529e0a25da74eae523b08)
(cherry picked from commit 870e5bcfb6a5243a785b66353dda299286274e59)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/656030/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_compute_api.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",3,622671fe5bf9518c3b88d947763d86a9c560153e,bug/1784093,"from nova.db.sqlalchemy import api as db_api @staticmethod @db_api.api_context_manager.writer def _create_reqspec_buildreq_instmapping(context, rs, br, im): """"""Create the request spec, build request, and instance mapping in a single database transaction. The RequestContext must be passed in to this method so that the database transaction context manager decorator will nest properly and include each create() into the same transaction context. """""" rs.create() br.create() im.create() # Create the request spec, build request, and instance mapping # records in a single transaction so that if a DBError is # raised from any of them, all INSERTs will be rolled back and # no orphaned records will be left behind. self._create_reqspec_buildreq_instmapping(context, req_spec, build_request, inst_mapping)", req_spec.create() build_request.create() inst_mapping.create(),109,13
openstack%2Fnova~stable%2Fstein~I4f2ee3f420b4c78385eeb56c7e8c343af894e75c,openstack/nova,stable/stein,I4f2ee3f420b4c78385eeb56c7e8c343af894e75c,Change a log level for overwriting allocation,MERGED,2019-04-16 13:34:47.000000000,2019-04-30 11:27:01.000000000,2019-04-30 11:27:00.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-16 13:34:47.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2bbd7f4a0ce0df0a5d1789848796178491fbea40', 'message': 'Change a log level for overwriting allocation\n\nChange a log level for overwriting allocation\nto debug instead of warning\nbecause the log message is output in the normal case\nof reverting resize.\n\nChange-Id: I4f2ee3f420b4c78385eeb56c7e8c343af894e75c\nCloses-Bug: #1822917\n(cherry picked from commit d955ce42cc16149cc9ffe7f698210d85792b63a0)\n'}]",0,652994,2bbd7f4a0ce0df0a5d1789848796178491fbea40,23,7,1,6873,,,0,"Change a log level for overwriting allocation

Change a log level for overwriting allocation
to debug instead of warning
because the log message is output in the normal case
of reverting resize.

Change-Id: I4f2ee3f420b4c78385eeb56c7e8c343af894e75c
Closes-Bug: #1822917
(cherry picked from commit d955ce42cc16149cc9ffe7f698210d85792b63a0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/652994/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,2bbd7f4a0ce0df0a5d1789848796178491fbea40,bug/1822917," LOG.debug('Overwriting current allocation %(allocation)s on ' 'consumer %(consumer)s', {'allocation': target_alloc, 'consumer': target_consumer_uuid})"," LOG.warning('Overwriting current allocation %(allocation)s on ' 'consumer %(consumer)s', {'allocation': target_alloc, 'consumer': target_consumer_uuid})",11,7
openstack%2Fnova~stable%2Fstein~I31fa1c6fb0b224fbb02f9ebf68abc6a3728e9389,openstack/nova,stable/stein,I31fa1c6fb0b224fbb02f9ebf68abc6a3728e9389,Pass on region when we don't have a valid ironic endpoint,MERGED,2019-04-28 02:36:19.000000000,2019-04-30 11:26:55.000000000,2019-04-30 11:26:55.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-28 02:36:19.000000000', 'files': ['nova/virt/ironic/client_wrapper.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/222f462444b72368cd5f22d4b0ac9baf0bbe8e0c', 'message': ""Pass on region when we don't have a valid ironic endpoint\n\nIf for some reason we don't have a valid endpoint to provide the\nIronic client, we should at the very least provide the information\nit needs to make an informed decision.\n\nChange-Id: I31fa1c6fb0b224fbb02f9ebf68abc6a3728e9389\nPartial-Bug: #1825583\n(cherry picked from commit 6eaa6db0ee01ee5a7b56bc3176914d85e697b96a)\n""}]",0,656096,222f462444b72368cd5f22d4b0ac9baf0bbe8e0c,10,7,1,14070,,,0,"Pass on region when we don't have a valid ironic endpoint

If for some reason we don't have a valid endpoint to provide the
Ironic client, we should at the very least provide the information
it needs to make an informed decision.

Change-Id: I31fa1c6fb0b224fbb02f9ebf68abc6a3728e9389
Partial-Bug: #1825583
(cherry picked from commit 6eaa6db0ee01ee5a7b56bc3176914d85e697b96a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/656096/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/client_wrapper.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py']",2,222f462444b72368cd5f22d4b0ac9baf0bbe8e0c,bug/1825583," cfg.CONF.set_override('region_name', 'RegionOne', 'ironic') 'region_name': CONF.ironic.region_name,",,6,0
openstack%2Fceilometer~master~Ia0c825a2c81298c3a10fedc1ad3861f1d0b2f3e8,openstack/ceilometer,master,Ia0c825a2c81298c3a10fedc1ad3861f1d0b2f3e8,Pass gnocchi endpoint into adapter endpoint_override param,MERGED,2018-12-09 03:46:20.000000000,2019-04-30 11:13:18.000000000,2019-04-30 11:13:18.000000000,"[{'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6732}, {'_account_id': 6924}, {'_account_id': 8290}, {'_account_id': 14107}, {'_account_id': 15843}, {'_account_id': 19156}, {'_account_id': 22348}, {'_account_id': 22752}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-12-09 03:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a1ae89eaae6aaf44ee71fa6e65b0976454973129', 'message': 'Pass gnocchi endpoint into adapter endpoint_override param\n\nIn default, since the url in gnocchi has no netloc, it will trigger the\nkeystoneauth.serssion to get the gnocchi endpoint again. It will\nconsumer lots of CPU time and make lots of pressure on keystone service.\n\nThis patch try to pass the gnocchi endpoint into adapter through\nendpoint_override parameter. It saves around almost 20% CPU time.\n\nChange-Id: Ia0c825a2c81298c3a10fedc1ad3861f1d0b2f3e8\n'}, {'number': 2, 'created': '2018-12-10 02:50:37.000000000', 'files': ['ceilometer/gnocchi_client.py', 'ceilometer/tests/unit/publisher/test_gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/926596b93c8ea60fc7bba5cc4747dd60a8f17c90', 'message': 'Pass gnocchi endpoint into adapter endpoint_override param\n\nIn default, since the url in gnocchi has no netloc, it will trigger the\nkeystoneauth.serssion to get the gnocchi endpoint again. It will\nconsumer lots of CPU time and make lots of pressure on keystone service.\n\nThis patch try to pass the gnocchi endpoint into adapter through\nendpoint_override parameter. It saves around almost 20% CPU time.\n\nChange-Id: Ia0c825a2c81298c3a10fedc1ad3861f1d0b2f3e8\n'}]",0,623864,926596b93c8ea60fc7bba5cc4747dd60a8f17c90,12,13,2,7488,,,0,"Pass gnocchi endpoint into adapter endpoint_override param

In default, since the url in gnocchi has no netloc, it will trigger the
keystoneauth.serssion to get the gnocchi endpoint again. It will
consumer lots of CPU time and make lots of pressure on keystone service.

This patch try to pass the gnocchi endpoint into adapter through
endpoint_override parameter. It saves around almost 20% CPU time.

Change-Id: Ia0c825a2c81298c3a10fedc1ad3861f1d0b2f3e8
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/64/623864/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/gnocchi_client.py'],1,a1ae89eaae6aaf44ee71fa6e65b0976454973129,fix_gnocchi_url," interface = conf[group].interface region_name = conf[group].region_name gnocchi_url = session.get_endpoint(service_type='metric', service_name='gnocchi', interface=interface, region_name=region_name) 'interface': interface, 'region_name': region_name, 'endpoint_override': gnocchi_url})"," 'interface': conf[group].interface, 'region_name': conf[group].region_name})",9,2
openstack%2Ftacker-horizon~master~I7254f80bab9cfb9fed0f1e7841003dea47aec9e7,openstack/tacker-horizon,master,I7254f80bab9cfb9fed0f1e7841003dea47aec9e7,Update json module to jsonutils,MERGED,2019-02-27 15:27:23.000000000,2019-04-30 10:47:49.000000000,2019-04-30 10:47:49.000000000,"[{'_account_id': 18955}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26297}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-02-27 15:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/d3011f3d4de2d3e694019b3415e8292e78d369c5', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and tacker use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/tacker/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I7254f80bab9cfb9fed0f1e7841003dea47aec9e7\n'}, {'number': 2, 'created': '2019-02-27 15:52:52.000000000', 'files': ['tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/views.py', 'requirements.txt', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/views.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/8897f282fcac66f7bed376416ab2465a5b3c3882', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and tacker use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/tacker/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I7254f80bab9cfb9fed0f1e7841003dea47aec9e7\n'}]",0,639705,8897f282fcac66f7bed376416ab2465a5b3c3882,14,8,2,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and tacker use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/tacker/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: I7254f80bab9cfb9fed0f1e7841003dea47aec9e7
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/05/639705/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/views.py', 'requirements.txt', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/views.py']",3,d3011f3d4de2d3e694019b3415e8292e78d369c5,,"from oslo_serialization import jsonutils vnffg[""vnffg""][""mgmt_url""] = jsonutils.loads(","import json vnffg[""vnffg""][""mgmt_url""] = json.loads(",5,6
openstack%2Fcharm-ceph-osd~master~I83287590e279054973fdb28b374a49704626ed01,openstack/charm-ceph-osd,master,I83287590e279054973fdb28b374a49704626ed01,Fix NRPE check_osd,MERGED,2019-04-26 18:18:03.000000000,2019-04-30 09:44:42.000000000,2019-04-30 08:16:40.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28608}]","[{'number': 1, 'created': '2019-04-26 18:18:03.000000000', 'files': ['files/nagios/collect_ceph_osd_services.py', 'files/nagios/check_ceph_osd_services.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/3b2e79a563c18eb756e176bf027043cf743d233a', 'message': 'Fix NRPE check_osd\n\nMove the result of the systemd service state to `/var/lib/nagios`\n\nChange-Id: I83287590e279054973fdb28b374a49704626ed01\nCloses-Bug: 1826594\n'}]",0,655990,3b2e79a563c18eb756e176bf027043cf743d233a,9,4,1,28608,,,0,"Fix NRPE check_osd

Move the result of the systemd service state to `/var/lib/nagios`

Change-Id: I83287590e279054973fdb28b374a49704626ed01
Closes-Bug: 1826594
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/90/655990/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/nagios/collect_ceph_osd_services.py', 'files/nagios/check_ceph_osd_services.py']",2,3b2e79a563c18eb756e176bf027043cf743d233a,bug/1826594,"NAGIOS_HOME = '/var/lib/nagios' _tmp_file = os.path.join(NAGIOS_HOME, CRON_CHECK_TMPFILE)","import tempfile _tmp_file = os.path.join(tempfile.gettempdir(), CRON_CHECK_TMPFILE)",4,4
openstack%2Fironic-python-agent~stable%2Fstein~I25c724ffe189d414643c910be0ef61c550f802b7,openstack/ironic-python-agent,stable/stein,I25c724ffe189d414643c910be0ef61c550f802b7,Fix download upper constraints,MERGED,2019-04-25 10:01:12.000000000,2019-04-30 09:27:56.000000000,2019-04-30 09:27:56.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-04-25 10:01:12.000000000', 'files': ['imagebuild/common/generate_upper_constraints.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/18b527c885086e8c237d565bd8c7b5b4902b0f01', 'message': ""Fix download upper constraints\n\nWe use the url from tox.ini to download the upper constraints and\nrecently that has changed to a redirect and curl doesn't\ncorrectly follows redirects by default but stops at the first\npage.\nAdding -L option to curl command makes curl follows the redirect\nuntil the final location is found and should allow the correct\nfile to be downloaded.\n\nChange-Id: I25c724ffe189d414643c910be0ef61c550f802b7\n(cherry picked from commit a88e61959bc41a10de5f58f8a1ffc34ae6f1e822)\n""}]",0,655654,18b527c885086e8c237d565bd8c7b5b4902b0f01,12,4,1,23851,,,0,"Fix download upper constraints

We use the url from tox.ini to download the upper constraints and
recently that has changed to a redirect and curl doesn't
correctly follows redirects by default but stops at the first
page.
Adding -L option to curl command makes curl follows the redirect
until the final location is found and should allow the correct
file to be downloaded.

Change-Id: I25c724ffe189d414643c910be0ef61c550f802b7
(cherry picked from commit a88e61959bc41a10de5f58f8a1ffc34ae6f1e822)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/54/655654/1 && git format-patch -1 --stdout FETCH_HEAD,['imagebuild/common/generate_upper_constraints.sh'],1,18b527c885086e8c237d565bd8c7b5b4902b0f01,curl-follow-redirects-stable/stein," curl -L ${url} -o ""${destination}"""," curl ${url} -o ""${destination}""",1,1
openstack%2Fopenstack-ansible-tests~master~I1878f702022872190952604caff640bfe6c2ccc1,openstack/openstack-ansible-tests,master,I1878f702022872190952604caff640bfe6c2ccc1,Stop deleting-and-creating RabbitMQ account on deploy,MERGED,2019-04-01 01:07:22.000000000,2019-04-30 09:10:22.000000000,2019-04-01 13:09:42.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-04-01 01:07:22.000000000', 'files': ['sync/tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c482ead999afdab9c85df6b613a94e302f613dbc', 'message': ""Stop deleting-and-creating RabbitMQ account on deploy\n\nThe `force` option creates and recreates the user which means on\nany deploy it kills *all* AMQP traffic on all agents.\n\nThis updates it you use `update_password` which instead will just\nupdate the password every single run, which shouldn't kill the\nconnectivity when we run playbooks.\n\nChange-Id: I1878f702022872190952604caff640bfe6c2ccc1\n""}]",0,648887,c482ead999afdab9c85df6b613a94e302f613dbc,9,4,1,1004,,,0,"Stop deleting-and-creating RabbitMQ account on deploy

The `force` option creates and recreates the user which means on
any deploy it kills *all* AMQP traffic on all agents.

This updates it you use `update_password` which instead will just
update the password every single run, which shouldn't kill the
connectivity when we run playbooks.

Change-Id: I1878f702022872190952604caff640bfe6c2ccc1
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/87/648887/1 && git format-patch -1 --stdout FETCH_HEAD,['sync/tasks/mq_setup.yml'],1,c482ead999afdab9c85df6b613a94e302f613dbc,stein-deploy, update_password: always, force: true,1,1
openstack%2Fopenstack-ansible-os_nova~stable%2Frocky~Ie34bfc71730205b92b3588c7285aba27ae9bab1a,openstack/openstack-ansible-os_nova,stable/rocky,Ie34bfc71730205b92b3588c7285aba27ae9bab1a,Stop deleting-and-creating RabbitMQ account on deploy,ABANDONED,2019-04-30 05:59:48.000000000,2019-04-30 08:58:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-04-30 05:59:48.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/b627b927311cc6094285ccb282aa2a955444c743', 'message': ""Stop deleting-and-creating RabbitMQ account on deploy\n\nThe `force` option creates and recreates the user which means on\nany deploy it kills *all* AMQP traffic on all agents.\n\nThis updates it you use `update_password` which instead will just\nupdate the password every single run, which shouldn't kill the\nconnectivity when we run playbooks.\n\nChange-Id: Ie34bfc71730205b92b3588c7285aba27ae9bab1a\nCloses-Bug: #1825329\n""}]",0,656443,b627b927311cc6094285ccb282aa2a955444c743,4,2,1,21369,,,0,"Stop deleting-and-creating RabbitMQ account on deploy

The `force` option creates and recreates the user which means on
any deploy it kills *all* AMQP traffic on all agents.

This updates it you use `update_password` which instead will just
update the password every single run, which shouldn't kill the
connectivity when we run playbooks.

Change-Id: Ie34bfc71730205b92b3588c7285aba27ae9bab1a
Closes-Bug: #1825329
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/43/656443/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,b627b927311cc6094285ccb282aa2a955444c743,bug/1825329, update_password: always, force: true,1,1
openstack%2Ftelemetry-tempest-plugin~master~I3bd3bcffe335a3d93868c541181812a99b602c00,openstack/telemetry-tempest-plugin,master,I3bd3bcffe335a3d93868c541181812a99b602c00,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:40:25.000000000,2019-04-30 08:35:34.000000000,2019-04-30 08:35:34.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-04-23 11:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/3f93fe5efb11a20b0fbc60801ea73cb2c5ec616d', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I3bd3bcffe335a3d93868c541181812a99b602c00\n'}, {'number': 2, 'created': '2019-04-23 12:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/4eb7814d6bd9fa8cc43c5ee3fbd2ceee782000c1', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I3bd3bcffe335a3d93868c541181812a99b602c00\n'}, {'number': 3, 'created': '2019-04-23 12:37:15.000000000', 'files': ['README.rst', 'tox.ini', 'devstack/README.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/1716d810b84c6751a5777ee0b37044e849dea1f0', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I3bd3bcffe335a3d93868c541181812a99b602c00\n'}]",0,655076,1716d810b84c6751a5777ee0b37044e849dea1f0,12,3,3,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I3bd3bcffe335a3d93868c541181812a99b602c00
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/76/655076/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,3f93fe5efb11a20b0fbc60801ea73cb2c5ec616d,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},2,2
openstack%2Ftripleo-quickstart-extras~master~I1fb2ae4a600fce59dabbb11c3890aa7ea2576c1e,openstack/tripleo-quickstart-extras,master,I1fb2ae4a600fce59dabbb11c3890aa7ea2576c1e,DNM - Test for fedora 28,ABANDONED,2019-04-29 12:56:03.000000000,2019-04-30 08:11:10.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 12:56:03.000000000', 'files': ['roles/validate-tempest/templates/cleanup-network.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/463bd642b7d0a0a3cb2fa0a0e091040add29c37d', 'message': 'DNM - Test for fedora 28\n\nChange-Id: I1fb2ae4a600fce59dabbb11c3890aa7ea2576c1e\n'}]",0,656309,463bd642b7d0a0a3cb2fa0a0e091040add29c37d,5,3,1,8367,,,0,"DNM - Test for fedora 28

Change-Id: I1fb2ae4a600fce59dabbb11c3890aa7ea2576c1e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/09/656309/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/templates/cleanup-network.sh.j2'],1,463bd642b7d0a0a3cb2fa0a0e091040add29c37d,dnm_f28-test,openstack image create --public --container-format bare --property hw_qemu_guest_agent=yes --disk-format qcow2 --file {{ tempest_test_image_path }} cirros,openstack image create --public --container-format bare --disk-format qcow2 --file {{ tempest_test_image_path }} cirros,1,1
openstack%2Fwatcher~master~Ibccf32b71d307d9c80c91035907dc8292722ab31,openstack/watcher,master,Ibccf32b71d307d9c80c91035907dc8292722ab31,Replace git.openstack.org with opendev.org,MERGED,2019-04-28 09:03:02.000000000,2019-04-30 07:57:32.000000000,2019-04-30 07:57:32.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-04-28 09:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/397a26473d601ca0e3d74a0980ce2a506d6d3518', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: Ibccf32b71d307d9c80c91035907dc8292722ab31\n'}, {'number': 2, 'created': '2019-04-28 09:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ba4af990e76ebd691941995fc7b27d6b1284f8c6', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: Ibccf32b71d307d9c80c91035907dc8292722ab31\n'}, {'number': 3, 'created': '2019-04-29 07:49:35.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/contributor/contributing.rst', 'doc/source/admin/ways-to-install.rst', 'doc/source/contributor/environment.rst', 'doc/source/contributor/devstack.rst', 'watcher/decision_engine/model/collector/nova.py', 'doc/source/configuration/configuring.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/d2e1d69d3742e8bda25afe09f10c9b1be3e49827', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: Ibccf32b71d307d9c80c91035907dc8292722ab31\n'}]",0,656155,d2e1d69d3742e8bda25afe09f10c9b1be3e49827,12,4,3,28748,,,0,"Replace git.openstack.org with opendev.org

Change-Id: Ibccf32b71d307d9c80c91035907dc8292722ab31
",git fetch https://review.opendev.org/openstack/watcher refs/changes/55/656155/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'doc/source/admin/ways-to-install.rst', 'doc/source/contributor/environment.rst', 'doc/source/contributor/devstack.rst', 'doc/source/configuration/configuring.rst']",5,397a26473d601ca0e3d74a0980ce2a506d6d3518,replace_git.openstack.org_with_opendev.org, $ git clone https://opendev.org/openstack/watcher.git, $ git clone https://git.openstack.org/openstack/watcher,9,9
openstack%2Frpm-packaging~stable%2Fstein~Icad936c2229c630e9246607dcf67fe3d058d5ff6,openstack/rpm-packaging,stable/stein,Icad936c2229c630e9246607dcf67fe3d058d5ff6,Update python-vitrageclient to 2.7.0,MERGED,2019-04-25 19:42:57.000000000,2019-04-30 07:51:12.000000000,2019-04-30 07:51:12.000000000,"[{'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-25 19:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8db6213139c3528cbe085d849555d548a786eb30', 'message': 'Update python-vitrageclient to 2.7.0\n\nNOTE(dmllr): Fix linter issues\n\n(cherry picked from commit d1961178f8f57e0499e2bd39bce17ac22dc3603d)\n\nChange-Id: Icad936c2229c630e9246607dcf67fe3d058d5ff6\n'}, {'number': 2, 'created': '2019-04-29 18:28:37.000000000', 'files': ['openstack/python-vitrageclient/python-vitrageclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8cd301efe422b33de2bb927a28f48afeef171cbb', 'message': 'Update python-vitrageclient to 2.7.0\n\nNOTE(dmllr): Fix linter issues\n\n(cherry picked from commit d1961178f8f57e0499e2bd39bce17ac22dc3603d)\n\nChange-Id: Icad936c2229c630e9246607dcf67fe3d058d5ff6\n'}]",0,655778,8cd301efe422b33de2bb927a28f48afeef171cbb,14,5,2,6593,,,0,"Update python-vitrageclient to 2.7.0

NOTE(dmllr): Fix linter issues

(cherry picked from commit d1961178f8f57e0499e2bd39bce17ac22dc3603d)

Change-Id: Icad936c2229c630e9246607dcf67fe3d058d5ff6
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/78/655778/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-vitrageclient/python-vitrageclient.spec.j2'],1,8db6213139c3528cbe085d849555d548a786eb30,stein_updates,"{% set upstream_version = upstream_version('2.7.0') %}BuildRequires: {{ py2pkg('networkx', py_versions=['py2', 'py3']) }}BuildRequires: {{ py2pkg('pydot', py_versions=['py2', 'py3']) }}Requires: {{ py2pkg('networkx') }}Requires: {{ py2pkg('pydot') }}",{% set upstream_version = upstream_version('2.3.0') %},5,1
openstack%2Fsolum~master~I041acc219fc8785857a23cfb783461b80eecde2c,openstack/solum,master,I041acc219fc8785857a23cfb783461b80eecde2c,[DNM] TEST,ABANDONED,2019-01-25 01:27:30.000000000,2019-04-30 07:45:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-25 01:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/0e96276ffa88bd5c9bef31173075c3c054132a7f', 'message': '[DNM] TEST\n\nChange-Id: I041acc219fc8785857a23cfb783461b80eecde2c\n'}, {'number': 2, 'created': '2019-01-25 05:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/65ef5951b51e33badca9d08dc849fd1777cc0fa7', 'message': '[DNM] TEST\n\nChange-Id: I041acc219fc8785857a23cfb783461b80eecde2c\n'}, {'number': 3, 'created': '2019-01-25 06:00:06.000000000', 'files': ['contrib/common/utils', 'contrib/lp-cedarish/docker/build-lp', 'solum/privileged/rootwrap.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/ce3bdefc722604d1cecac0a342eda118d8596624', 'message': '[DNM] TEST\n\nChange-Id: I041acc219fc8785857a23cfb783461b80eecde2c\n'}]",0,633096,ce3bdefc722604d1cecac0a342eda118d8596624,6,1,3,14107,,,0,"[DNM] TEST

Change-Id: I041acc219fc8785857a23cfb783461b80eecde2c
",git fetch https://review.opendev.org/openstack/solum refs/changes/96/633096/3 && git format-patch -1 --stdout FETCH_HEAD,['solum/privileged/rootwrap.py'],1,0e96276ffa88bd5c9bef31173075c3c054132a7f,,"def execute(*cmd, **kwargs): putils.execute(*cmd, **kwargs)","# Entrypoint used for rootwrap.py transition code. Don't use this for # other purposes, since it will be removed when we think the # transition is finished. def execute(*cmd, **kwargs): run_as_root = kwargs.pop('run_as_root', False) kwargs.pop('root_helper', None) try: if run_as_root: return execute_root(*cmd, **kwargs) else: return putils.execute(*cmd, **kwargs) except OSError as e: sanitized_cmd = strutils.mask_password(' '.join(cmd)) raise putils.ProcessExecutionError( cmd=sanitized_cmd, description=six.text_type(e)) def execute_root(*cmd, **kwargs): return putils.execute(*cmd, shell=False, run_as_root=False, **kwargs)",2,20
openstack%2Fsolum~master~Ie2a90f54a836513fe2620d51d9721285d92af9f6,openstack/solum,master,Ie2a90f54a836513fe2620d51d9721285d92af9f6,TEST,ABANDONED,2019-01-23 08:30:16.000000000,2019-04-30 07:44:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-23 08:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/b8165ffdebee49df8b6369ece1b04685061ab058', 'message': 'TEST\n\nChange-Id: Ie2a90f54a836513fe2620d51d9721285d92af9f6\n'}, {'number': 2, 'created': '2019-01-23 08:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/ef20d60e998515cb7799fa8ece3c7e24560f5e5b', 'message': 'TEST\n\nChange-Id: Ie2a90f54a836513fe2620d51d9721285d92af9f6\n'}, {'number': 3, 'created': '2019-01-24 03:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/251f5aa0211a018e03e8b2b6ac404d8a0747aa73', 'message': 'TEST\n\nChange-Id: Ie2a90f54a836513fe2620d51d9721285d92af9f6\n'}, {'number': 4, 'created': '2019-01-24 05:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/1121a7d108e396aa3afcf1384dbded63b2421f49', 'message': 'TEST\n\nChange-Id: Ie2a90f54a836513fe2620d51d9721285d92af9f6\n'}, {'number': 5, 'created': '2019-01-24 07:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/818693d7083b06f7d35c2fa97bda6a038bd6d9ca', 'message': 'TEST\n\nChange-Id: Ie2a90f54a836513fe2620d51d9721285d92af9f6\n'}, {'number': 6, 'created': '2019-01-24 08:56:36.000000000', 'files': ['solum/worker/handlers/shell.py', 'solum/tests/worker/handlers/test_shell.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/276f5f9b0a1cba056ee823c30449e13b9774bdf2', 'message': 'TEST\n\nChange-Id: Ie2a90f54a836513fe2620d51d9721285d92af9f6\n'}]",0,632645,276f5f9b0a1cba056ee823c30449e13b9774bdf2,12,1,6,14107,,,0,"TEST

Change-Id: Ie2a90f54a836513fe2620d51d9721285d92af9f6
",git fetch https://review.opendev.org/openstack/solum refs/changes/45/632645/6 && git format-patch -1 --stdout FETCH_HEAD,"['solum/worker/handlers/shell.py', 'solum/tests/worker/handlers/test_shell.py']",2,b8165ffdebee49df8b6369ece1b04685061ab058,," @mock.patch.object(priv_rootwrap, 'execute') def test_build(self, mock_lp_access_method, mock_trace, mock_execute, mock_execute.return_value = [ mock_execute.assert_called_once_with(script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, self.expected_img_id, self.img_name, env_variables=test_env, run_as_root=True) @mock.patch.object(priv_rootwrap, 'execute') def test_build_swft(self, mock_lp_access_method, mock_trace, mock_execute, mock_execute.return_valuealue = [ mock_execute.assert_called_once_with(script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, expected_loc, expected_tag, env_variables=test_env, run_as_root=True) @mock.patch.object(priv_rootwrap, 'execute') self, mock_trace, mock_lp_access, mock_ast, mock_execute, mock_execute.return_value = [ mock_execute.assert_called_once_with(script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, self.expected_img_id, self.img_name, env_variables=test_env, run_as_root=True) @mock.patch.object(priv_rootwrap, 'execute') self, mock_trace, mock_ast, mock_shelve, mock_execute, mock_execute.return_value = [ mock_execute.assert_called_once_with(script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, self.expected_img_id, self.img_name, env_variables=test_env, run_as_root=True) @mock.patch.object(priv_rootwrap, 'execute') def test_build_fail(self, mock_trace, mock_execute, mock_uas, mock_execute.return_value = ['foo\ncreated_image_id=\n', None] mock_execute.assert_called_once_with(script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, 'auto', '', env_variables=test_env, run_as_root=True) @mock.patch.object(priv_rootwrap, 'execute') def test_build_error(self, mock_trace, mock_execute, mock_uas, mock_execute.call.return_value = ValueError mock_execute.assert_called_once_with(script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, self.expected_img_id, self.img_name, env_variables=test_env, run_as_root=True) @mock.patch.object(priv_rootwrap, 'execute') def test_unittest(self, mock_trace, mock_a_update, mock_execute, mock_execute.return_value.wait.return_value = 0 mock_execute.assert_called_once_with(script, 'git://example.com/foo', git_info['commit_sha'], self.ctx.tenant, self.expected_img_id, self.img_name, env_variables=test_env, run_as_root=True) @mock.patch.object(priv_rootwrap, 'execute') def test_unittest_failure(self, mock_trace, mock_a_update, mock_execute, mock_execute.return_value.wait.return_value = 1 mock_execute.assert_called_once_with(script, 'git://example.com/foo', git_info['commit_sha'], self.ctx.tenant, self.expected_img_id, self.img_name, env_variables=test_env, run_as_root=True) @mock.patch.object(priv_rootwrap, 'execute') mock_b_update, mock_execute, mock_registry, mock_execute.return_value.wait.return_value = 0 mock_execute.return_value = [ self.assertEqual(expected, mock_execute.call_args_list) @mock.patch.object(priv_rootwrap, 'execute') mock_registry, mock_a_update, mock_execute, mock_execute.return_value.wait.return_value = 1 self.assertEqual(expected, mock_execute.call_args_list)"," @mock.patch('subprocess.Popen') def test_build(self, mock_lp_access_method, mock_trace, mock_popen, mock_popen.return_value.communicate.return_value = [ mock_popen.assert_called_once_with([script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, self.expected_img_id, self.img_name], env=test_env, stdout=-1) @mock.patch('subprocess.Popen') def test_build_swft(self, mock_lp_access_method, mock_trace, mock_popen, mock_popen.return_value.communicate.return_value = [ mock_popen.assert_called_once_with([script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, expected_loc, expected_tag], env=test_env, stdout=-1) @mock.patch('subprocess.Popen') self, mock_trace, mock_lp_access, mock_ast, mock_popen, mock_popen.return_value.communicate.return_value = [ mock_popen.assert_called_once_with([script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, self.expected_img_id, self.img_name], env=test_env, stdout=-1) @mock.patch('subprocess.Popen') self, mock_trace, mock_ast, mock_shelve, mock_popen, mock_popen.return_value.communicate.return_value = [ mock_popen.assert_called_once_with([script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, self.expected_img_id, self.img_name], env=test_env, stdout=-1) @mock.patch('subprocess.Popen') def test_build_fail(self, mock_trace, mock_popen, mock_uas, mock_popen.return_value.communicate.return_value = [ 'foo\ncreated_image_id=\n', None] mock_popen.assert_called_once_with([script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, 'auto', ''], env=test_env, stdout=-1) @mock.patch('subprocess.Popen') def test_build_error(self, mock_trace, mock_popen, mock_uas, mock_popen.call.return_value = ValueError mock_popen.assert_called_once_with([script, 'git://example.com/foo', git_info['commit_sha'], 'new_app', self.ctx.tenant, self.expected_img_id, self.img_name], env=test_env, stdout=-1) @mock.patch('subprocess.Popen') def test_unittest(self, mock_trace, mock_a_update, mock_popen, mock_popen.return_value.wait.return_value = 0 mock_popen.assert_called_once_with([script, 'git://example.com/foo', git_info['commit_sha'], self.ctx.tenant, self.expected_img_id, self.img_name], env=test_env, stdout=-1) @mock.patch('subprocess.Popen') def test_unittest_failure(self, mock_trace, mock_a_update, mock_popen, mock_popen.return_value.wait.return_value = 1 mock_popen.assert_called_once_with([script, 'git://example.com/foo', git_info['commit_sha'], self.ctx.tenant, self.expected_img_id, self.img_name], env=test_env, stdout=-1) @mock.patch('subprocess.Popen') mock_b_update, mock_popen, mock_registry, mock_popen.return_value.wait.return_value = 0 mock_popen.return_value.communicate.return_value = [ self.assertEqual(expected, mock_popen.call_args_list) @mock.patch('subprocess.Popen') mock_registry, mock_a_update, mock_popen, mock_popen.return_value.wait.return_value = 1 self.assertEqual(expected, mock_popen.call_args_list)",95,92
openstack%2Fcinder~master~I0c39a475bb34d33e39c401f7b278d6f7bd4ac313,openstack/cinder,master,I0c39a475bb34d33e39c401f7b278d6f7bd4ac313,[DNM]just a test,ABANDONED,2019-01-14 05:46:24.000000000,2019-04-30 07:44:41.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-01-14 05:46:24.000000000', 'files': ['cinder/tests/unit/api/views/test_versions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b0852744989db35e7ba5a96b201127a94a4c470', 'message': '[DNM]just a test\n\nChange-Id: I0c39a475bb34d33e39c401f7b278d6f7bd4ac313\n'}]",0,630578,9b0852744989db35e7ba5a96b201127a94a4c470,16,14,1,14107,,,0,"[DNM]just a test

Change-Id: I0c39a475bb34d33e39c401f7b278d6f7bd4ac313
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/630578/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/api/views/test_versions.py'],1,9b0852744989db35e7ba5a96b201127a94a4c470,,"URL_BASE_NO_SLASH = 'http://localhost/volume' def _get_builder_no_slash(self): request = FakeRequest(URL_BASE_NO_SLASH) return versions.get_view_builder(request) result_no_slash = self._get_builder_no_slash().build_versions( FAKE_VERSIONS) self.assertEqual(expected, result_no_slash) result_no_slash = self._get_builder_no_slash()._build_version( FAKE_VERSIONS['v1.0']) self.assertEqual(expected, result_no_slash) result_no_slash = self._get_builder_no_slash()._build_links( FAKE_VERSIONS['v1.0']) self.assertEqual(FAKE_LINKS, result_no_slash) result_no_slash = self._get_builder_no_slash()._generate_href() self.assertEqual(URL_BASE + 'v3/', result_no_slash) result_no_slash = self._get_builder_no_slash()._generate_href( version=version, path=path) self.assertEqual(expected, result_no_slash)",,19,0
openstack%2Fheat-dashboard~stable%2Fstein~Ic8d3af98309696c679155502ba3f44c4bb05fdb6,openstack/heat-dashboard,stable/stein,Ic8d3af98309696c679155502ba3f44c4bb05fdb6,Update UPPER_CONSTRAINTS_FILE for stable/stein,MERGED,2019-04-11 16:28:46.000000000,2019-04-30 07:34:54.000000000,2019-04-30 07:34:54.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-04-11 16:28:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/9f75cf5b3ce0e1ce9425e9390fed9c72482af201', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic8d3af98309696c679155502ba3f44c4bb05fdb6\n'}]",0,651837,9f75cf5b3ce0e1ce9425e9390fed9c72482af201,7,3,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic8d3af98309696c679155502ba3f44c4bb05fdb6
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/37/651837/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9f75cf5b3ce0e1ce9425e9390fed9c72482af201,create-stein,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fwatcher-specs~master~Ib88d1041dbb976a9c7a42b33114851f3ece37759,openstack/watcher-specs,master,Ib88d1041dbb976a9c7a42b33114851f3ece37759,Formalize DataSourceBase interface,MERGED,2019-04-17 08:02:24.000000000,2019-04-30 07:28:53.000000000,2019-04-30 07:28:53.000000000,"[{'_account_id': 5575}, {'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-04-17 08:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/56c9731bd591820d33c3025e416061a690492a7b', 'message': 'Formalize DataSourceBase interface\n\nThe methods of the DataSourceBase are changed to improve compatibility\nwith all the datasources. The parameters and their respected values\nwill be documented as well as the return types of methods.\n\nWith this changes the unit tests should be changed to match the new\ninterface accordingly.\n\nChange-Id: Ib88d1041dbb976a9c7a42b33114851f3ece37759\nImplements: blueprint formal-datasource-interface\n'}, {'number': 2, 'created': '2019-04-17 08:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/edba1ac85d4165f6cd09a4813742c19654dad33b', 'message': 'Formalize DataSourceBase interface\n\nThe methods of the DataSourceBase are changed to improve compatibility\nwith all the datasources. The parameters and their respected values\nwill be documented as well as the return types of methods.\n\nWith this changes the unit tests should be changed to match the new\ninterface accordingly.\n\nChange-Id: Ib88d1041dbb976a9c7a42b33114851f3ece37759\nImplements: blueprint formal-datasource-interface\n'}, {'number': 3, 'created': '2019-04-19 14:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/b9a9a831da17a51481dadedc8d3fde4be78ddd08', 'message': 'Formalize DataSourceBase interface\n\nThe methods of the DataSourceBase are changed to improve compatibility\nwith all the datasources. The parameters and their respected values\nwill be documented as well as the return types of methods.\n\nWith this changes the unit tests should be changed to match the new\ninterface accordingly.\n\nChange-Id: Ib88d1041dbb976a9c7a42b33114851f3ece37759\nImplements: blueprint formal-datasource-interface\n'}, {'number': 4, 'created': '2019-04-19 14:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/694100d86bf8be6c1ac180f08d743e2e7ae89a2a', 'message': 'Formalize DataSourceBase interface\n\nThe methods of the DataSourceBase are changed to improve compatibility\nwith all the datasources. The parameters and their respected values\nwill be documented as well as the return types of methods.\n\nWith this changes the unit tests should be changed to match the new\ninterface accordingly.\n\nChange-Id: Ib88d1041dbb976a9c7a42b33114851f3ece37759\nImplements: blueprint formal-datasource-interface\n'}, {'number': 5, 'created': '2019-04-25 15:54:51.000000000', 'files': ['specs/train/approved/formal-datasource-interface.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/b4fafe6d16c17ec53e0e73305a5bc69e133f4dab', 'message': 'Formalize DataSourceBase interface\n\nThe methods of the DataSourceBase are changed to improve compatibility\nwith all the datasources. The parameters and their respected values\nwill be documented as well as the return types of methods.\n\nWith this changes the unit tests should be changed to match the new\ninterface accordingly.\n\nChange-Id: Ib88d1041dbb976a9c7a42b33114851f3ece37759\nImplements: blueprint formal-datasource-interface\n'}]",6,653344,b4fafe6d16c17ec53e0e73305a5bc69e133f4dab,19,6,5,29911,,,0,"Formalize DataSourceBase interface

The methods of the DataSourceBase are changed to improve compatibility
with all the datasources. The parameters and their respected values
will be documented as well as the return types of methods.

With this changes the unit tests should be changed to match the new
interface accordingly.

Change-Id: Ib88d1041dbb976a9c7a42b33114851f3ece37759
Implements: blueprint formal-datasource-interface
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/44/653344/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/formal-datasource-interface.rst'],1,56c9731bd591820d33c3025e416061a690492a7b,bp/formal-datasource-interface,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Formal Datasource Interface =========================== https://blueprints.launchpad.net/watcher/+spec/formal-datasource-interface Different strategies pass different values to parameters of datasource methods while these should be unified as implied by the datasource base class. The formalizing of the datasource base class will ensure that all strategies can work regardless of the underlying datasource. Additionally, the return types of methods should also be unified. Problem description =================== Watcher strategies rely on specific datasources to work while strategies should work regardless of the underlying datasource. The incompatibilities are due to different types of values being passed to the parameters of methods. Most of these problems are artifacts of back when there was no datasource base class. Use Cases ---------- As end users I want strategies to work regardless of the datasource I have deployed. As developer I want to more easily develop or improve new strategies while minimizing how much I should worry about the underlying datasource. Proposed change =============== The datasource base class is changed and comments are added to describe expected values and units for parameters. For some parameters were the value can be one of a set of options the list of options is maintained in a list in the base class. The new lists will be ``AGGREGATES`` and ``RESOURCE_TYPES``. ``AGGREGATES`` contains all the possible options to pass to the aggregate parameter. The possible options for ``AGGREGATES`` are ``mean``, ``min`` and ``max``. Mean will replace every instance of ``avg`` and is preferred as it is less ambiguous. :: AGGREGATES = ['mean', 'min', 'max', 'count'] Many different parameters are shared across different methods and they share the same types of values. These parameters are * resource_id * period * granularity * aggregate The ``resource_id`` is renamed to ``resource`` and should be the object retrieved for the specific resource but more context about the resource should be passed to the datasource. The ``RESOURCE_TYPES`` list addresses this needed context. It contains all possible types of resources this will allow the datasource to access the object attribute it needs for data retrieval. .. code-block:: python RESOURCE_TYPES = ['compute_node', 'instance', 'bare_metal', 'storage'] The names of the resource are based on names in the helper classes to simplify accessing these APIs. The method names in the ``ironic_helper`` are will be changed to better fit the names in other helpers such as ``cinder_helper``. The ``period`` is be used to specify the amount of time in seconds that is used to aggregate metrics. The ``granularity`` is be used to specify the interval between the time series in seconds. The ``aggregate`` parameter is already covered as the values are chosen from ``AGGREGATES``. The ``statistic_aggregation`` method no longer uses the ``meter_name`` values from the ``METRIC_MAP`` dictionary as identifier but will use the keys instead. The datasources can still use the values of the ``METRIC_MAP`` to determine how to retrieve metrics from their databases. The parameter ``aggregation`` is renamed to ``aggregate`` to match the names used by other methods. The parameters ``group_by`` and ``dimensions`` are removed. The definitions off most methods in ``DataSourceBase`` will now look as detailed below. .. code-block:: python def statistic_aggregation(self, resource=None, resource_type, meter_name=None, period=300, granularity=300, aggregate='mean') def get_host_cpu_usage(self, resource, resource_type, period, aggregate, granularity=None) def get_host_memory_usage(self, resource, resource_type, period, aggregate, granularity=None) The expected values and return types will be documented in the DataSourceBase using code blocks. .. code-blocks:: python @abc.abstractmethod def get_host_cpu_usage(self, resource, resource_type, period, aggregate, granularity=None): """""" Get the amount of cpu usage for the host :param resource: The object for the resource as returned by the clients such as nova or ironic. :param resource_type: The Type of the resource object selected from RESOURCE_TYPES. :param period: The amount of seconds back in time metrics are aggregated over. :param aggregate: The method to aggregate data selected from AGGREGATES. :param granularity: Interval between collected data in seconds. :return: Percentage of total cpu usage represented by float between 0-100 """""" Not all datasources will be able to implement all these different options. As example some datasource do not support granularity and most do not support the ``count`` aggregate. These incompatibilities should be met with reasonable alternatives and warnings but throwing errors should be avoided. Finally, the ``list_metrics`` and ``check_availability`` methods are used by the API to return information on strategies when executing the ``state`` call. Alternatives ------------ Accepting that certain strategies only work with specific datasources. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- All strategies and some datasource will have to be adapted to be compatible with the new DataSourceBase and this will require development effort. Implementation ============== Assignee(s) ----------- Primary assignee: <Dantali0n> Work Items ---------- * Change DataSourceBase according to new interface specification. * Write comments in DataSourceBase to document interface. * Adapt existing datasources to work with new interface. * Change unit tests to work with new interface. Dependencies ============ None Testing ======= Current datasource tests have to be adopted to work with the new datasource base class. With the removal of the ``dimensions`` parameter the Monasca test cases will require the most changes. In addition to unit tests the correct functionality of the datasources are examined in a working environment such as devstack. Documentation Impact ==================== None References ========== None History ======= None ",,240,0
openstack%2Fironic-tempest-plugin~master~I2eaad4c91d9beec7077fb71186713e552afaa11a,openstack/ironic-tempest-plugin,master,I2eaad4c91d9beec7077fb71186713e552afaa11a,Fixing grep in validate mount point,MERGED,2019-04-29 16:40:44.000000000,2019-04-30 07:23:39.000000000,2019-04-30 07:23:39.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-04-29 16:40:44.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/8cfd0e16f4d7546cf2cf22a3a084817265d269d8', 'message': ""Fixing grep in validate mount point\n\nWhen we look for the mount point of a labeled partition it can\nhappen that the grep command reports more than one mount point\nbecause the devices start with the same path.\n\nAs an example, let's consider /dev/vda1, assigned from the\ncommand ``/sbin/blkid | grep 'ephemeral0' | cut -d':'``\nIf we now call the ``mount`` command and grep for that\ndevice, we actually get 2 different mount point:\nsudo mount | grep '/dev/vda1' | cut -d' ' -f1\n/dev/vda1\n/dev/vda15\n\nThis output will make the test fail.\n\nAs a fix, we call the grep command with the -w option that match\nonly entire words:\nsudo mount | grep -w '/dev/vda1' | cut -d' ' -f1\n/dev/vda1\n\nChange-Id: I2eaad4c91d9beec7077fb71186713e552afaa11a\n""}]",0,656366,8cfd0e16f4d7546cf2cf22a3a084817265d269d8,8,3,1,23851,,,0,"Fixing grep in validate mount point

When we look for the mount point of a labeled partition it can
happen that the grep command reports more than one mount point
because the devices start with the same path.

As an example, let's consider /dev/vda1, assigned from the
command ``/sbin/blkid | grep 'ephemeral0' | cut -d':'``
If we now call the ``mount`` command and grep for that
device, we actually get 2 different mount point:
sudo mount | grep '/dev/vda1' | cut -d' ' -f1
/dev/vda1
/dev/vda15

This output will make the test fail.

As a fix, we call the grep command with the -w option that match
only entire words:
sudo mount | grep -w '/dev/vda1' | cut -d' ' -f1
/dev/vda1

Change-Id: I2eaad4c91d9beec7077fb71186713e552afaa11a
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/66/656366/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py'],1,8cfd0e16f4d7546cf2cf22a3a084817265d269d8,fix-grep-mountpoint," cmd = ""mount | grep -w '%s' | cut -d' ' -f3"" % device"," cmd = ""mount | grep '%s' | cut -d' ' -f3"" % device",1,1
openstack%2Fpaunch~master~I36f014f5e729010b44876d8f5994629477bac4e8,openstack/paunch,master,I36f014f5e729010b44876d8f5994629477bac4e8,Add 'hostname' and 'extra_hosts' to podman,MERGED,2019-04-29 09:17:57.000000000,2019-04-30 07:05:06.000000000,2019-04-29 21:57:46.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-29 09:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/f3d113cdc851098d38313298530b15d8fed795b5', 'message': '[WIP] Add networking between services\n\nSimilar to docker-compose using the service name.\n\nChange-Id: I36f014f5e729010b44876d8f5994629477bac4e8\n'}, {'number': 2, 'created': '2019-04-29 12:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/38f2298a074b57f3d40269f38e2d5a3f11302a77', 'message': '[WIP] Add networking between services\n\nSimilar to docker-compose using the service name.\n\nChange-Id: I36f014f5e729010b44876d8f5994629477bac4e8\n'}, {'number': 3, 'created': '2019-04-29 12:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/9b324a5b15f8250769c1801e9757912f5e14f748', 'message': ""Add 'hostname' and 'extra_hosts' to podman\n\nSimilar to docker-compose using the service name.\n\nChange-Id: I36f014f5e729010b44876d8f5994629477bac4e8\n""}, {'number': 4, 'created': '2019-04-29 12:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/e6de04845f107e0913b29f7e10734be32e92a551', 'message': ""Add 'hostname' and 'extra_hosts' to podman\n\nWe are starting a WIP to replace docker-compose/docker with paunch/podman [1]\nbut to do so we need either ne able to resolve the service name or the\noption here wich just adding extra_hosts and hostname docker-compose\nconfiguration so we can resolve the differnt services of zuul\nquickstart between them.\n\n[1] https://review.rdoproject.org/r/#/c/20488/\n\nChange-Id: I36f014f5e729010b44876d8f5994629477bac4e8\n""}, {'number': 5, 'created': '2019-04-29 14:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/e2993a37215cf64798f23a6568754974d6e2d66f', 'message': ""Add 'hostname' and 'extra_hosts' to podman\n\nWe are starting a WIP to replace docker-compose/docker with paunch/podman [1]\nbut to do so we need either ne able to resolve the service name or the\noption here wich just adding extra_hosts and hostname docker-compose\nconfiguration so we can resolve the differnt services of zuul\nquickstart between them.\n\n[1] https://review.rdoproject.org/r/#/c/20488/\n\nChange-Id: I36f014f5e729010b44876d8f5994629477bac4e8\n""}, {'number': 6, 'created': '2019-04-29 14:16:45.000000000', 'files': ['releasenotes/notes/hostname-and-extra_hosts-args-27335af0a5694ba6.yaml', 'paunch/builder/podman.py', 'paunch/tests/test_builder_podman.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/e948fdce90e5b96dd5df0e038a09b76a40035087', 'message': ""Add 'hostname' and 'extra_hosts' to podman\n\nWe are starting a WIP to replace docker-compose/docker with paunch/podman [1]\nbut to do so we need either ne able to resolve the service name or the\noption here wich just adding extra_hosts and hostname docker-compose\nconfiguration so we can resolve the differnt services of zuul\nquickstart between them.\n\n[1] https://review.rdoproject.org/r/#/c/20488/\n\nChange-Id: I36f014f5e729010b44876d8f5994629477bac4e8\n""}]",2,656270,e948fdce90e5b96dd5df0e038a09b76a40035087,22,7,6,27898,,,0,"Add 'hostname' and 'extra_hosts' to podman

We are starting a WIP to replace docker-compose/docker with paunch/podman [1]
but to do so we need either ne able to resolve the service name or the
option here wich just adding extra_hosts and hostname docker-compose
configuration so we can resolve the differnt services of zuul
quickstart between them.

[1] https://review.rdoproject.org/r/#/c/20488/

Change-Id: I36f014f5e729010b44876d8f5994629477bac4e8
",git fetch https://review.opendev.org/openstack/paunch refs/changes/70/656270/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/podman.py'],1,f3d113cdc851098d38313298530b15d8fed795b5,656270," self.string_arg(cconfig, cmd, 'hostname', '--hostname') self.string_arg(cconfig, cmd, 'extra_hosts', '--add-host')",,2,0
openstack%2Frpm-packaging~master~Ib3f54e8398ca8ddb086059e8060ce00c168066f0,openstack/rpm-packaging,master,Ib3f54e8398ca8ddb086059e8060ce00c168066f0,update sphinx-feature-classification to 0.4.0,MERGED,2019-04-29 06:50:50.000000000,2019-04-30 06:43:23.000000000,2019-04-30 06:43:23.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 06:50:50.000000000', 'files': ['openstack/sphinx-feature-classification/sphinx-feature-classification.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/224f0960ad577f23409366ee8a2c202ff0458f40', 'message': 'update sphinx-feature-classification to 0.4.0\n\nChange-Id: Ib3f54e8398ca8ddb086059e8060ce00c168066f0\n'}]",0,656254,224f0960ad577f23409366ee8a2c202ff0458f40,9,5,1,30298,,,0,"update sphinx-feature-classification to 0.4.0

Change-Id: Ib3f54e8398ca8ddb086059e8060ce00c168066f0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/54/656254/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sphinx-feature-classification/sphinx-feature-classification.spec.j2'],1,224f0960ad577f23409366ee8a2c202ff0458f40,sphinx-feature-classification,{% set upstream_version = upstream_version('0.4.0') %},{% set upstream_version = upstream_version('0.3.2') %},1,1
openstack%2Fpython-mistralclient~master~I9c00cb16ac0e6cefd926974a9eab29080a4d94a7,openstack/python-mistralclient,master,I9c00cb16ac0e6cefd926974a9eab29080a4d94a7,Don't use default mutable parameter,MERGED,2019-04-29 07:22:39.000000000,2019-04-30 06:09:40.000000000,2019-04-30 06:09:40.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 07:22:39.000000000', 'files': ['mistralclient/tests/unit/base.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/87d54bba879a90210b13bcb72c8848234007100e', 'message': ""Don't use default mutable parameter\n\nUsing default mutable parameter is bad.\nDefault parameters are evaluated only once\nif you mutate it you will get unexpected results.\n\nChange-Id: I9c00cb16ac0e6cefd926974a9eab29080a4d94a7\n""}]",0,656257,87d54bba879a90210b13bcb72c8848234007100e,8,5,1,19134,,,0,"Don't use default mutable parameter

Using default mutable parameter is bad.
Default parameters are evaluated only once
if you mutate it you will get unexpected results.

Change-Id: I9c00cb16ac0e6cefd926974a9eab29080a4d94a7
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/57/656257/1 && git format-patch -1 --stdout FETCH_HEAD,['mistralclient/tests/unit/base.py'],1,87d54bba879a90210b13bcb72c8848234007100e,eyalb/mutable," def call(self, command, app_args=(), prog_name=''):"," def call(self, command, app_args=[], prog_name=''):",1,1
openstack%2Ftelemetry-tempest-plugin~master~I8474dac007ca2560a810d955a8cbf695c0953400,openstack/telemetry-tempest-plugin,master,I8474dac007ca2560a810d955a8cbf695c0953400,Add the native zuulv3 instead of legacy way,MERGED,2019-04-12 08:00:42.000000000,2019-04-30 06:03:49.000000000,2019-04-30 06:03:49.000000000,"[{'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-04-12 08:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/bd41fa29ae8ef9fe757eb94c2adc3b6f6b277b85', 'message': '[TEST]Native zuulv3\n\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}, {'number': 2, 'created': '2019-04-12 09:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/ff5edd84af4b9daf28aabea7f6dffa331abc3a81', 'message': '[TEST]Native zuulv3\n\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}, {'number': 3, 'created': '2019-04-17 07:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/308f9cce90dd4976e2ad52ac5f281a8b13a2b29c', 'message': '[TEST]Native zuulv3\n\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}, {'number': 4, 'created': '2019-04-18 07:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/ed5b636d991076f0d230c174ece54fdf577e8dab', 'message': '[TEST]Native zuulv3\n\nDepends-On: https://review.openstack.org/653682\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}, {'number': 5, 'created': '2019-04-18 11:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/90d1672d85ea5b4f93c0943f95b8b58b4a4bc28d', 'message': '[TEST]Native zuulv3\n\nDepends-On: https://review.openstack.org/653682\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}, {'number': 6, 'created': '2019-04-19 00:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/609709a0c60f5772476a4f1e0466dc37838fe25d', 'message': '[TEST]Native zuulv3\n\nDepends-On: https://review.openstack.org/653682\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}, {'number': 7, 'created': '2019-04-19 05:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/d779b1a8bcdd80b1d4dfe7ff47ebb0d37efd23c9', 'message': '[TEST]Native zuulv3\n\nDepends-On: https://review.openstack.org/653682\nDepends-On: https://review.openstack.org/653907\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}, {'number': 8, 'created': '2019-04-19 05:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/55ae93af6b95631aeed15d846a62f3596e5cf53e', 'message': '[TEST]Native zuulv3\n\nDepends-On: https://review.openstack.org/653682\nDepends-On: https://review.openstack.org/653907\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}, {'number': 9, 'created': '2019-04-22 05:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/981e0c5767210f0e0e6eb2785b1a0215e6dcb437', 'message': '[TEST]Native zuulv3\n\nDepends-On: https://review.opendev.org/653682\nDepends-On: https://review.opendev.org/653907\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}, {'number': 10, 'created': '2019-04-22 06:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/ddba53ee5428e26f401bbdabb6c2ff825830ad2e', 'message': 'Add the native zuulv3 job telemetry-integration-test\n\nDepends-On: https://review.opendev.org/653682\nDepends-On: https://review.opendev.org/653907\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}, {'number': 11, 'created': '2019-04-22 06:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/6e1cb70f10037bf35f0fcfc90849d69ab6690d95', 'message': 'Add the native zuulv3 job telemetry-integration-test\n\nDepends-On: https://review.opendev.org/653682\nDepends-On: https://review.opendev.org/653907\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}, {'number': 12, 'created': '2019-04-22 07:59:47.000000000', 'files': ['playbooks/legacy/telemetry-dsvm-integration-tempest-plugin/run.yaml', '.zuul.yaml', 'playbooks/legacy/telemetry-dsvm-integration-tempest-plugin/post_test_hook.sh', 'playbooks/legacy/telemetry-dsvm-integration-tempest-plugin/post.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/02538c1b17fdcc715dea5bbac66a339c72dec772', 'message': 'Add the native zuulv3 instead of legacy way\n\nDepends-On: https://review.opendev.org/653682\nDepends-On: https://review.opendev.org/653907\nChange-Id: I8474dac007ca2560a810d955a8cbf695c0953400\n'}]",11,651999,02538c1b17fdcc715dea5bbac66a339c72dec772,42,4,12,14107,,,0,"Add the native zuulv3 instead of legacy way

Depends-On: https://review.opendev.org/653682
Depends-On: https://review.opendev.org/653907
Change-Id: I8474dac007ca2560a810d955a8cbf695c0953400
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/99/651999/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bd41fa29ae8ef9fe757eb94c2adc3b6f6b277b85,,"- job: name: telemetry-tempest-base parent: devstack-tempest irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - ^doc/.*$ - ^.*\.rst$ - ^releasenotes/.*$ timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/aodh - openstack/ceilometer - openstack/panko - openstack/telemetry-tempest-plugin - openstack/heat - openstack/heat-tempest-plugin - openstack/dib-utils - openstack/diskimage-builder - openstack/tempest vars: devstack_plugins: panko: https://git.openstack.org/openstack/panko heat: https://git.openstack.org/openstack/heat ceilometer: https://git.openstack.org/openstack/ceilometer aodh: https://git.openstack.org/openstack/aodh devstack_services: tempest: true tls-proxy: false devstack_localrc: TEMPEST_PLUGINS: ""/opt/stack/telemetry-tempest-plugin"" GNOCCHI_ARCHIVE_POLICY_TEMPEST: ""ceilometer-high-rate"" CEILOMETER_BACKEND: ""gnocchi"" CEILOMETER_PIPELINE_INTERVAL: 15 tempest_test_regex: telemetry_tempest_plugin tox_envlist: all - job: name: telemetry-integration-test parent: telemetry-tempest-base - telemetry-integration-test",,43,0
openstack%2Frpm-packaging~master~Icce64c2ce1b517452e094bfd8ca7fd5096de4de2,openstack/rpm-packaging,master,Icce64c2ce1b517452e094bfd8ca7fd5096de4de2,Move to opendev,ABANDONED,2019-04-30 03:46:42.000000000,2019-04-30 05:42:54.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 03:46:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b33486a956230e1c1a7272130bfa70fa2fe4be73', 'message': 'Move to opendev\n\nChange-Id: Icce64c2ce1b517452e094bfd8ca7fd5096de4de2\n'}]",0,656438,b33486a956230e1c1a7272130bfa70fa2fe4be73,5,3,1,28613,,,0,"Move to opendev

Change-Id: Icce64c2ce1b517452e094bfd8ca7fd5096de4de2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/38/656438/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b33486a956230e1c1a7272130bfa70fa2fe4be73,rpm-packaging,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fceilometer~stable%2Focata~I9ed1d69a05efd47368497674ffe68b43c8dc1074,openstack/ceilometer,stable/ocata,I9ed1d69a05efd47368497674ffe68b43c8dc1074,Change sample id from int to BigInt,MERGED,2019-02-28 23:21:25.000000000,2019-04-30 05:11:42.000000000,2019-04-30 05:11:41.000000000,"[{'_account_id': 4264}, {'_account_id': 10311}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-02-28 23:21:25.000000000', 'files': ['ceilometer/storage/sqlalchemy/migrate_repo/versions/046_sample_id_to_bigint.py', 'ceilometer/storage/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9e324ae814285cb86a58f04d7e24bce431f3c81b', 'message': 'Change sample id from int to BigInt\n\nFor long running users of Ceilometer with heavy sample loads,\nthe index for samples can run out of numbers.  The int type only\nallows over 2 billion samples to be loaded.  To allow a user\nwith database backed sample storage (postgres or mysql) to continue\nto operate, we need to up the data type to BigInteger.\n\nChange-Id: I9ed1d69a05efd47368497674ffe68b43c8dc1074\n'}]",0,640223,9e324ae814285cb86a58f04d7e24bce431f3c81b,21,5,1,10311,,,0,"Change sample id from int to BigInt

For long running users of Ceilometer with heavy sample loads,
the index for samples can run out of numbers.  The int type only
allows over 2 billion samples to be loaded.  To allow a user
with database backed sample storage (postgres or mysql) to continue
to operate, we need to up the data type to BigInteger.

Change-Id: I9ed1d69a05efd47368497674ffe68b43c8dc1074
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/23/640223/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/storage/sqlalchemy/migrate_repo/versions/046_sample_id_to_bigint.py', 'ceilometer/storage/sqlalchemy/models.py']",2,9e324ae814285cb86a58f04d7e24bce431f3c81b,sample-id-to-bigint," id = Column(BigInteger, primary_key=True)"," id = Column(Integer, primary_key=True)",22,1
openstack%2Fceilometer~stable%2Frocky~Ic3e9e95fc9bf971f51cfe94c1a8c0881793d583e,openstack/ceilometer,stable/rocky,Ic3e9e95fc9bf971f51cfe94c1a8c0881793d583e,TEST,ABANDONED,2019-04-29 04:58:35.000000000,2019-04-30 05:07:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-29 04:58:35.000000000', 'files': ['ceilometer/cmd/polling.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/993a77442888f5f41a269b704ecace87d2847c53', 'message': 'TEST\n\nDepends-On: https://review.opendev.org/651999\nChange-Id: Ic3e9e95fc9bf971f51cfe94c1a8c0881793d583e\n'}]",0,656241,993a77442888f5f41a269b704ecace87d2847c53,3,1,1,14107,,,0,"TEST

Depends-On: https://review.opendev.org/651999
Change-Id: Ic3e9e95fc9bf971f51cfe94c1a8c0881793d583e
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/41/656241/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/cmd/polling.py'],1,993a77442888f5f41a269b704ecace87d2847c53,,,,1,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I89cff59947dda3f51482486c41a3d67c4aa36a3e,openstack/tripleo-heat-templates,stable/rocky,I89cff59947dda3f51482486c41a3d67c4aa36a3e,implement default ssh-from-ctlplane rule via hiera,MERGED,2019-04-29 05:43:19.000000000,2019-04-30 05:02:02.000000000,2019-04-29 21:12:51.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 8745}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 05:43:19.000000000', 'files': ['puppet/services/tripleo-firewall.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/123535d8c92caa8be4c19aaf64eff55f8be0c50d', 'message': ""implement default ssh-from-ctlplane rule via hiera\n\nWith the accompanying change in puppet-tripleo, this removes the\nhardcoded firewall rule allowing ssh traffic in tripleo::firewall::pre\nand replaces it with a configuration in tripleo-firewall.yaml that\nallows only ssh access from the undercloud's controlplane network\naddress. This allows operators to define more granular ssh\nfirewall rules via tripleo::firewall::firewall_rules.\n\nChange-Id: I89cff59947dda3f51482486c41a3d67c4aa36a3e\nRelated-Bug: #1826829\n(cherry picked from commit a433e05e669a3c77445ccf7574c9ffe9d09cf5ef)\n""}]",0,656242,123535d8c92caa8be4c19aaf64eff55f8be0c50d,10,6,1,28223,,,0,"implement default ssh-from-ctlplane rule via hiera

With the accompanying change in puppet-tripleo, this removes the
hardcoded firewall rule allowing ssh traffic in tripleo::firewall::pre
and replaces it with a configuration in tripleo-firewall.yaml that
allows only ssh access from the undercloud's controlplane network
address. This allows operators to define more granular ssh
firewall rules via tripleo::firewall::firewall_rules.

Change-Id: I89cff59947dda3f51482486c41a3d67c4aa36a3e
Related-Bug: #1826829
(cherry picked from commit a433e05e669a3c77445ccf7574c9ffe9d09cf5ef)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/656242/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/tripleo-firewall.yaml'],1,123535d8c92caa8be4c19aaf64eff55f8be0c50d,bug/1826829," tripleo::tripleo_firewall::firewall_rules: '003 accept ssh from controlplane': source: ""%{hiera('ctlplane_subnet')}"" proto: 'tcp' dport: 22 ",,6,0
openstack%2Fplacement~master~I5e4a9148c0e0649ff0e4657ea4c87e50c1b3fd2d,openstack/placement,master,I5e4a9148c0e0649ff0e4657ea4c87e50c1b3fd2d,Dropping the py35 testing,MERGED,2019-04-22 23:12:04.000000000,2019-04-30 04:56:29.000000000,2019-04-30 04:56:29.000000000,"[{'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-22 23:12:04.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/da3e8795f3bd2edfeeace9671a7dde104d79b287', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I5e4a9148c0e0649ff0e4657ea4c87e50c1b3fd2d\n'}]",2,654650,da3e8795f3bd2edfeeace9671a7dde104d79b287,8,4,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I5e4a9148c0e0649ff0e4657ea4c87e50c1b3fd2d
",git fetch https://review.opendev.org/openstack/placement refs/changes/50/654650/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,da3e8795f3bd2edfeeace9671a7dde104d79b287,dropping-py35-testing,,[testenv:functional-py35] envdir = {toxworkdir}/py35 commands = {[testenv:functional]commands} ,1,9
openstack%2Fnova~master~I04355bdec5477b4c144105fea130089fe1ae6772,openstack/nova,master,I04355bdec5477b4c144105fea130089fe1ae6772,Soft delete virtual_interfaces when instance is destroyed,MERGED,2019-04-08 21:33:53.000000000,2019-04-30 04:04:15.000000000,2019-04-30 03:55:09.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-08 21:33:53.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1af9de4e6e546111fbe317fcf5392b1a47f2ef20', 'message': 'Soft delete virtual_interfaces when instance is destroyed\n\nLike the other reference table entries for an instance,\nwe should soft_delete virtual_interfaces when destroying\nan instance. Failing to do so can lead to archive issues\ndue to the referential constraint.\n\nChange-Id: I04355bdec5477b4c144105fea130089fe1ae6772\nCloses-Bug: #1823781\n'}]",0,650995,1af9de4e6e546111fbe317fcf5392b1a47f2ef20,45,15,1,6873,,,0,"Soft delete virtual_interfaces when instance is destroyed

Like the other reference table entries for an instance,
we should soft_delete virtual_interfaces when destroying
an instance. Failing to do so can lead to archive issues
due to the referential constraint.

Change-Id: I04355bdec5477b4c144105fea130089fe1ae6772
Closes-Bug: #1823781
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/650995/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,1af9de4e6e546111fbe317fcf5392b1a47f2ef20,bug/1823781," model_query(context, models.VirtualInterface).filter_by( instance_uuid=instance_uuid).soft_delete()",,17,0
openstack%2Fnova~master~Ic9444c60b3bba00c5a3b3c724c418c7629d41743,openstack/nova,master,Ic9444c60b3bba00c5a3b3c724c418c7629d41743,Add in_tree field to RequestGroup object,MERGED,2019-04-03 08:16:30.000000000,2019-04-30 03:09:54.000000000,2019-04-30 01:36:46.000000000,"[{'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-04-03 08:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1e7203aa5cc3806c9b7d76b3a92123e4f01b4f8', 'message': 'Add in_tree field to RequestGroup object\n\nThis patch adds new `in_tree` field to `RequestGroup` object.\nThis field is used to store the target node uuid.\n\nChange-Id: Ic9444c60b3bba00c5a3b3c724c418c7629d41743\nBlueprint: use-placement-in-tree\n'}, {'number': 2, 'created': '2019-04-03 12:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d59f6e896f08b8e9c98ad29aafaa8ea36c98302', 'message': 'Add in_tree field to RequestGroup object\n\nThis patch adds new `in_tree` field to `RequestGroup` object.\nThis field is used to store the target node uuid.\n\nChange-Id: Ic9444c60b3bba00c5a3b3c724c418c7629d41743\nBlueprint: use-placement-in-tree\n'}, {'number': 3, 'created': '2019-04-04 01:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8ec9487429d87bd7b8bee23d0718ef0b0632f20', 'message': 'Add in_tree field to RequestGroup object\n\nThis patch adds new `in_tree` field to `RequestGroup` object.\nThis field is used to store the target node uuid.\n\nChange-Id: Ic9444c60b3bba00c5a3b3c724c418c7629d41743\nBlueprint: use-placement-in-tree\n'}, {'number': 4, 'created': '2019-04-08 12:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0153341b5c2e21bb654d4a328453c9a8596f5b3f', 'message': 'Add in_tree field to RequestGroup object\n\nThis patch adds new `in_tree` field to `RequestGroup` object.\nThis field is used to store the target node uuid.\n\nChange-Id: Ic9444c60b3bba00c5a3b3c724c418c7629d41743\nBlueprint: use-placement-in-tree\n'}, {'number': 5, 'created': '2019-04-09 05:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3e3eede0916fa21015c4403f38a5ff0ae107f0b', 'message': 'Add in_tree field to RequestGroup object\n\nThis patch adds new `in_tree` field to `RequestGroup` object.\nThis field is used to store the target node uuid.\n\nChange-Id: Ic9444c60b3bba00c5a3b3c724c418c7629d41743\nBlueprint: use-placement-in-tree\n'}, {'number': 6, 'created': '2019-04-11 12:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d1310224818c204c52f67deee18efafd1269681', 'message': 'Add in_tree field to RequestGroup object\n\nThis patch adds new `in_tree` field to `RequestGroup` object.\nThis field is used to store the target node uuid.\n\nChange-Id: Ic9444c60b3bba00c5a3b3c724c418c7629d41743\nBlueprint: use-placement-in-tree\n'}, {'number': 7, 'created': '2019-04-12 02:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02b26457f3c5773973f374f39e069d2a854e99f6', 'message': 'Add in_tree field to RequestGroup object\n\nThis patch adds new `in_tree` field to `RequestGroup` object.\nThis field is used to store the target compute node uuid.\n\nChange-Id: Ic9444c60b3bba00c5a3b3c724c418c7629d41743\nBlueprint: use-placement-in-tree\n'}, {'number': 8, 'created': '2019-04-17 09:09:08.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f6667b05d2146c928468021e5569a34215e93020', 'message': 'Add in_tree field to RequestGroup object\n\nThis patch adds new `in_tree` field to `RequestGroup` object.\nThis field is used to store the target compute node uuid.\n\nChange-Id: Ic9444c60b3bba00c5a3b3c724c418c7629d41743\nBlueprint: use-placement-in-tree\n'}]",12,649534,f6667b05d2146c928468021e5569a34215e93020,142,18,8,25625,,,0,"Add in_tree field to RequestGroup object

This patch adds new `in_tree` field to `RequestGroup` object.
This field is used to store the target compute node uuid.

Change-Id: Ic9444c60b3bba00c5a3b3c724c418c7629d41743
Blueprint: use-placement-in-tree
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/649534/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/lib.py', 'nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py']",5,c1e7203aa5cc3806c9b7d76b3a92123e4f01b4f8,bug/1777591," def test_to_querystring(self): res_req = utils.ResourceRequest() res_req._rg_by_id[None] = objects.RequestGroup( resources={'VCPU': 1}, required_traits={'CUSTOM_TRAIT1', 'CUSTOM_TRAIT2'}, forbidden_traits={'CUSTOM_TRAIT3'}, aggregates=[[uuids.fake_agg1]], in_tree=uuids.fake_rp1 ) res_req._rg_by_id['1'] = objects.RequestGroup( resources={'VGPU': 1} ) expected_querystring = ( 'in_tree={rp}&' 'limit=1000&' 'member_of=in%3A{agg1}&' 'required=CUSTOM_TRAIT1%2CCUSTOM_TRAIT2%2C%21CUSTOM_TRAIT3&' 'resources=VCPU%3A1&' 'resources1=VGPU%3A1'.format(rp=uuids.fake_rp1, agg1=uuids.fake_agg1) ) self.assertEqual(expected_querystring, res_req.to_querystring()) ",,40,3
openstack%2Fmistral~master~I67d649091e46df0123a236044eb46b3a078b68d2,openstack/mistral,master,I67d649091e46df0123a236044eb46b3a078b68d2,Docs: Change description from on-success to on-error,MERGED,2019-04-29 06:45:58.000000000,2019-04-30 03:05:38.000000000,2019-04-30 03:05:38.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2019-04-29 06:45:58.000000000', 'files': ['doc/source/user/wf_lang_v2.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/13d8f532b9a1899b79ee4060b878f5cd33a0792d', 'message': 'Docs: Change description from on-success to on-error\n\nAs was explained above from the example, here it is\non-error clause.\n\nChange-Id: I67d649091e46df0123a236044eb46b3a078b68d2\n'}]",0,656253,13d8f532b9a1899b79ee4060b878f5cd33a0792d,10,3,1,28706,,,0,"Docs: Change description from on-success to on-error

As was explained above from the example, here it is
on-error clause.

Change-Id: I67d649091e46df0123a236044eb46b3a078b68d2
",git fetch https://review.opendev.org/openstack/mistral refs/changes/53/656253/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/wf_lang_v2.rst'],1,13d8f532b9a1899b79ee4060b878f5cd33a0792d,trivialfix, the 'on-error' sets the workflow state to ERROR., the 'on-success' sets the workflow state to ERROR.,1,1
openstack%2Fceilometer~master~Ie2797421c0198bc62a8873d30f97ead46f526978,openstack/ceilometer,master,Ie2797421c0198bc62a8873d30f97ead46f526978,Update the job's irrelevant files,MERGED,2019-04-28 05:48:40.000000000,2019-04-30 02:46:48.000000000,2019-04-30 02:46:47.000000000,"[{'_account_id': 15843}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-04-28 05:48:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/dc3ed69aa329cac5b806eb853dfd8df4a62323b9', 'message': ""Update the job's irrelevant files\n\nChange-Id: Ie2797421c0198bc62a8873d30f97ead46f526978\n""}]",0,656111,dc3ed69aa329cac5b806eb853dfd8df4a62323b9,7,3,1,14107,,,0,"Update the job's irrelevant files

Change-Id: Ie2797421c0198bc62a8873d30f97ead46f526978
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/11/656111/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dc3ed69aa329cac5b806eb853dfd8df4a62323b9,, irrelevant-files: &ceilometer-irrelevant-files - ^(test-|)requirements.txt$ - ^setup.cfg$ - ^doc/.*$ - ^.*\.rst$ - ^releasenotes/.*$ - ^ceilometer/tests/.*$ - grenade-dsvm-ceilometer - telemetry-dsvm-integration: irrelevant-files: *ceilometer-irrelevant-files - grenade-dsvm-ceilometer - telemetry-dsvm-integration: irrelevant-files: *ceilometer-irrelevant-files, - grenade-dsvm-ceilometer: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - telemetry-dsvm-integration - grenade-dsvm-ceilometer: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - telemetry-dsvm-integration,13,10
openstack%2Fceilometer~stable%2Fpike~I5cbd93739f75b8141f8b79ae03bb8b99756b2a38,openstack/ceilometer,stable/pike,I5cbd93739f75b8141f8b79ae03bb8b99756b2a38,Remove _ceilometer_check_for_storage check,MERGED,2019-04-29 03:00:59.000000000,2019-04-30 02:21:57.000000000,2019-04-30 02:21:57.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-04-29 03:00:59.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3a400bad2d799b0dbe798c75ca1d664f902eb1af', 'message': ""Remove _ceilometer_check_for_storage check\n\nWe can check from the history[0], actually it doesn't matter if\ngnocchi or panko is started first., so this check is unnecessary.\nAlso when i want to migration using native zuulv3, the enabled\nplugins is in the alphabetical order, so this will caused can not\ninstall devstack correctly.\n\n[0]: https://review.opendev.org/#/c/387620\n[1]: http://logs.openstack.org/99/651999/3/check/telemetry-integration-test/9066108/controller/logs/devstacklog.txt.gz#_2019-04-17_07_26_30_988\nChange-Id: I5cbd93739f75b8141f8b79ae03bb8b99756b2a38\n(cherry picked from commit 27eb3f431e177054789ef47859517d10862bc902)\n(cherry picked from commit ac190d5087e17231cb388882e68029e17327deca)\n""}]",0,656235,3a400bad2d799b0dbe798c75ca1d664f902eb1af,6,2,1,14107,,,0,"Remove _ceilometer_check_for_storage check

We can check from the history[0], actually it doesn't matter if
gnocchi or panko is started first., so this check is unnecessary.
Also when i want to migration using native zuulv3, the enabled
plugins is in the alphabetical order, so this will caused can not
install devstack correctly.

[0]: https://review.opendev.org/#/c/387620
[1]: http://logs.openstack.org/99/651999/3/check/telemetry-integration-test/9066108/controller/logs/devstacklog.txt.gz#_2019-04-17_07_26_30_988
Change-Id: I5cbd93739f75b8141f8b79ae03bb8b99756b2a38
(cherry picked from commit 27eb3f431e177054789ef47859517d10862bc902)
(cherry picked from commit ac190d5087e17231cb388882e68029e17327deca)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/35/656235/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,3a400bad2d799b0dbe798c75ca1d664f902eb1af,,,"# Make sure gnocchi and panko plugin is enabled before ceilometer function _ceilometer_check_for_storage { local plugins=""${DEVSTACK_PLUGINS}"" local plugin local seen_ceilometer=False for plugin in ${plugins//,/ }; do if [ ""$plugin"" == 'ceilometer' ]; then seen_ceilometer=True elif [ ""$plugin"" == 'panko' ] && [[ ""$seen_ceilometer"" == 'True' ]]; then die $LINENO ""Panko must be enabled before ceilometer!"" fi done } _ceilometer_check_for_storage ",0,18
openstack%2Fopenstack-helm-infra~master~I6ee7b3412f9de7fc382a7451fbfb95d9dcd18ea1,openstack/openstack-helm-infra,master,I6ee7b3412f9de7fc382a7451fbfb95d9dcd18ea1,update the git.openstack.org URL to opendev.org URL in charts.yaml,ABANDONED,2019-04-25 02:27:24.000000000,2019-04-30 01:59:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-25 02:27:24.000000000', 'files': ['calico/Chart.yaml', 'ingress/Chart.yaml', 'libvirt/Chart.yaml', 'prometheus/Chart.yaml', 'tiller/Chart.yaml', 'registry/Chart.yaml', 'gnocchi/Chart.yaml', 'flannel/Chart.yaml', 'openvswitch/Chart.yaml', 'mongodb/Chart.yaml', 'etcd/Chart.yaml', 'grafana/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/23920dc0765f76e1cda411ecd1ea610f8d5e7b30', 'message': 'update the git.openstack.org URL to opendev.org URL in charts.yaml\n\nChange-Id: I6ee7b3412f9de7fc382a7451fbfb95d9dcd18ea1\n'}]",0,655599,23920dc0765f76e1cda411ecd1ea610f8d5e7b30,3,1,1,27459,,,0,"update the git.openstack.org URL to opendev.org URL in charts.yaml

Change-Id: I6ee7b3412f9de7fc382a7451fbfb95d9dcd18ea1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/655599/1 && git format-patch -1 --stdout FETCH_HEAD,"['calico/Chart.yaml', 'ingress/Chart.yaml', 'libvirt/Chart.yaml', 'prometheus/Chart.yaml', 'tiller/Chart.yaml', 'registry/Chart.yaml', 'gnocchi/Chart.yaml', 'flannel/Chart.yaml', 'openvswitch/Chart.yaml', 'mongodb/Chart.yaml', 'etcd/Chart.yaml', 'grafana/Chart.yaml']",12,23920dc0765f76e1cda411ecd1ea610f8d5e7b30,chart-URL, - https://opendev.org/openstack/openstack-helm-addons, - https://git.openstack.org/cgit/openstack/openstack-helm-addons,12,12
openstack%2Ftempest~master~I3d4a3816196f42af3ea3f891473d09208651ae68,openstack/tempest,master,I3d4a3816196f42af3ea3f891473d09208651ae68,Fix the bug of deleting security group after testing changing password.,MERGED,2019-04-25 01:37:45.000000000,2019-04-30 00:58:48.000000000,2019-04-30 00:58:48.000000000,"[{'_account_id': 5689}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 26617}]","[{'number': 1, 'created': '2019-04-25 01:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/03d8f8b8c592d87fe2eef220137be00ca905a0d0', 'message': 'Fix the bug of deleting a security group after testing changing password.\n\nBefore deleting a security group, adding the logic of remove the security\ngroup from instance.\n\nChange-Id: I3d4a3816196f42af3ea3f891473d09208651ae68\n'}, {'number': 2, 'created': '2019-04-25 01:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/622e4d4101ccea1eb7d7c2b7cec7d9a3d643dd4a', 'message': 'Fix the bug of deleting a security group\nafter testing changing password.\n\nBefore deleting a security group, adding the\nlogic of remove the security group from instance.\n\nChange-Id: I3d4a3816196f42af3ea3f891473d09208651ae68\n'}, {'number': 3, 'created': '2019-04-25 01:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b3fe3dda7f2570c86b060048b1cfac49da2f1c3a', 'message': 'Fix the bug of deleting a security group after testing changing password.\n\nBefore deleting a security group, adding the\nlogic of remove the security group from instance.\n\nChange-Id: I3d4a3816196f42af3ea3f891473d09208651ae68\n'}, {'number': 4, 'created': '2019-04-25 01:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/31e0a38f0e8b3c217a7fd535ea246a81acdba278', 'message': 'Fix the bug of deleting security group after testing changing password.\n\nBefore deleting a security group, adding the\nlogic of remove the security group from instance.\n\nChange-Id: I3d4a3816196f42af3ea3f891473d09208651ae68\n'}, {'number': 5, 'created': '2019-04-25 02:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2fe0501214cef150fefd826f05d0019aab7c9784', 'message': 'Fix the bug of deleting security group after testing changing password.\n\nBefore deleting a security group, adding the\nlogic of remove the security group from instance.\n\nCloses-bugs: #1826301\nChange-Id: I3d4a3816196f42af3ea3f891473d09208651ae68\n'}, {'number': 6, 'created': '2019-04-25 02:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ec1aa9bf0997415a8aba94039d3b0845427fcb6d', 'message': 'Fix the bug of deleting security group after testing changing password.\n\nBefore deleting a security group, adding the\nlogic of remove the security group from instance.\n\nCloses-Bug:#1826301\nChange-Id: I3d4a3816196f42af3ea3f891473d09208651ae68\n'}, {'number': 7, 'created': '2019-04-25 03:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8331efc399e3e291a362e7a38f329db051a217c', 'message': 'Fix the bug of deleting security group after testing changing password.\n\nAdding the function of addCleanup for deleting\nthe instance after creating.\n\nCloses-Bug:#1826301\nChange-Id: I3d4a3816196f42af3ea3f891473d09208651ae68\n'}, {'number': 8, 'created': '2019-04-26 03:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/40085dc9d0c153d93f3e9255b22cbf19b47efe3b', 'message': ""Fix the bug of deleting security group after testing changing password.\n\nIn order to solve 'the security group is in use' error when deleting\nvirtual machines.\n\nTo ensure the normal deletion of virtual machines, we add the logic of\nfunction addCleanup.\n\nCloses-Bug:#1826301\nChange-Id: I3d4a3816196f42af3ea3f891473d09208651ae68\n""}, {'number': 9, 'created': '2019-04-28 03:07:48.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c248f5962ec4abfd716822c3b3ba496fe0e9cfbb', 'message': ""Fix the bug of deleting security group after testing changing password.\n\nWhen deleting security group before vm is deleted, we will get 'the\nsecurity group is in use' error, so this is to add addCleanup to ensure\nthe vm is deleted before deleting security group.\n\nCloses-Bug:#1826301\nChange-Id: I3d4a3816196f42af3ea3f891473d09208651ae68\n""}]",4,655593,c248f5962ec4abfd716822c3b3ba496fe0e9cfbb,32,4,9,26617,,,0,"Fix the bug of deleting security group after testing changing password.

When deleting security group before vm is deleted, we will get 'the
security group is in use' error, so this is to add addCleanup to ensure
the vm is deleted before deleting security group.

Closes-Bug:#1826301
Change-Id: I3d4a3816196f42af3ea3f891473d09208651ae68
",git fetch https://review.opendev.org/openstack/tempest refs/changes/93/655593/8 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,03d8f8b8c592d87fe2eef220137be00ca905a0d0,bug/1826301," self.client.remove_security_group( newserver['id'], name=newserver['security_groups'][0]['name'])",,2,0
openstack%2Fopenstack-helm-infra~master~Iaa256c2a4ea7a6a5acec7f6883e5737292f4960f,openstack/openstack-helm-infra,master,Iaa256c2a4ea7a6a5acec7f6883e5737292f4960f,[WIP]: This PS removes duplicate data rendered because of new helm version,ABANDONED,2019-04-15 22:42:06.000000000,2019-04-29 23:09:00.000000000,,"[{'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 29132}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-04-15 22:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ea881af120030bd3ebf16a147fd2932c7d760d6a', 'message': '[WIP]: This PS removes duplicate data rendered\nbecause of new helm version\n\nCeph deployment was failing with multiple\nblock logical devices after helm upgrade to v2.13\n\nChange-Id: Iaa256c2a4ea7a6a5acec7f6883e5737292f4960f\n'}, {'number': 2, 'created': '2019-04-17 02:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/856f18651501e133c7cf92836668a36d4855fb79', 'message': '[WIP]: This PS removes duplicate data rendered\nbecause of new helm version\n\nCeph deployment was failing with multiple\nblock logical devices after helm upgrade to v2.13\n\nChange-Id: Iaa256c2a4ea7a6a5acec7f6883e5737292f4960f\n'}, {'number': 3, 'created': '2019-04-17 04:15:29.000000000', 'files': ['ceph-osd/templates/utils/_osd_daemonset_overrides.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6746271cddf2834bffd2ccfdac09d0f17729d936', 'message': '[WIP]: This PS removes duplicate data rendered\nbecause of new helm version\n\nCeph deployment was failing with multiple\nblock logical devices after helm upgrade to v2.13\n\nChange-Id: Iaa256c2a4ea7a6a5acec7f6883e5737292f4960f\n'}]",0,652790,6746271cddf2834bffd2ccfdac09d0f17729d936,12,7,3,29132,,,0,"[WIP]: This PS removes duplicate data rendered
because of new helm version

Ceph deployment was failing with multiple
block logical devices after helm upgrade to v2.13

Change-Id: Iaa256c2a4ea7a6a5acec7f6883e5737292f4960f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/90/652790/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/utils/_osd_daemonset_overrides.tpl'],1,ea881af120030bd3ebf16a147fd2932c7d760d6a,, {{ $newPodDataVols := append $context.Values.__tmpPodVols $dataDirVolume | uniq }} {{ $newPodDataVols := append $context.Values.__tmpPodVols $dataDirVolume | uniq }} {{ $newPodDataVols := append $context.Values.__tmpPodVols $journalDirVolume | uniq }} {{ $newPodDataVols := append $context.Values.__tmpPodVols $dataDirVolume | uniq }}, {{ $newPodDataVols := append $context.Values.__tmpPodVols $dataDirVolume }} {{ $newPodDataVols := append $context.Values.__tmpPodVols $dataDirVolume }} {{ $newPodDataVols := append $context.Values.__tmpPodVols $journalDirVolume }} {{ $newPodDataVols := append $context.Values.__tmpPodVols $dataDirVolume }},4,4
openstack%2Fself-healing-sig~master~Id5b652013d044a4221850cf136a4b0c680680863,openstack/self-healing-sig,master,Id5b652013d044a4221850cf136a4b0c680680863,Remove unused template,MERGED,2019-04-29 21:41:50.000000000,2019-04-29 23:07:15.000000000,2019-04-29 23:07:15.000000000,"[{'_account_id': 2394}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 21:41:50.000000000', 'files': ['template.rst'], 'web_link': 'https://opendev.org/openstack/self-healing-sig/commit/e0973bd0a20028b2f784ede7a6c592c715738619', 'message': 'Remove unused template\n\nRemove a template which is an unused remnant of the original\ncookiecutter setup.\n\nChange-Id: Id5b652013d044a4221850cf136a4b0c680680863\n'}]",0,656409,e0973bd0a20028b2f784ede7a6c592c715738619,6,2,1,2394,,,0,"Remove unused template

Remove a template which is an unused remnant of the original
cookiecutter setup.

Change-Id: Id5b652013d044a4221850cf136a4b0c680680863
",git fetch https://review.opendev.org/openstack/self-healing-sig refs/changes/09/656409/1 && git format-patch -1 --stdout FETCH_HEAD,['template.rst'],1,e0973bd0a20028b2f784ede7a6c592c715738619,,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/self-healing-sig/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ============================= The title of your blueprint ============================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/self-healing-sig/+spec/example Introduction paragraph -- why are we doing anything? Problem description =================== A detailed description of the problem. Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? Include where in the self-healing-sig tree hierarchy this will reside. Alternatives ------------ This is an optional section, where it does apply we'd just like a demonstration that some thought has been put into why the proposed approach is the best one. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Can optionally can list additional ids if they intend on doing substantial implementation work on this blueprint. Milestones ---------- Target Milestone for completion: Juno-1 Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ - Include specific references to specs and/or blueprints in self-healing-sig, or in other projects, that this one either depends on or is related to. - Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? ",0,86
openstack%2Fnova~master~I727a5001f9f75f4bd8c7a7b599d647cf987d1659,openstack/nova,master,I727a5001f9f75f4bd8c7a7b599d647cf987d1659,Always pass HostAPI to get_availability_zones,MERGED,2019-04-24 23:03:29.000000000,2019-04-29 23:02:10.000000000,2019-04-29 23:02:10.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-24 23:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76714f38932177b72c38bf0b7cb29045692bc789', 'message': 'Always pass HostAPI to get_availability_zones\n\nSince there were only three non-test locations that\ncalled get_availability_zones, and they can all pass\na HostAPI instance, the hostapi kwarg is made a required\nargument to the method. This also means the compute.API\nclass can create a HostAPI instance to use and provide\nits own copy of the RPC ComputeAPI and service group API.\n\nWhile in here the get_availability_zone docstring is\ncleaned up a bit and the context param is documented.\n\nChange-Id: I727a5001f9f75f4bd8c7a7b599d647cf987d1659\n'}, {'number': 2, 'created': '2019-04-25 16:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f64a92b3cb6440dd48a4df2dfb61dbf92eb805fd', 'message': 'Always pass HostAPI to get_availability_zones\n\nSince there were only three non-test locations that\ncalled get_availability_zones, and they can all pass\na HostAPI instance, the hostapi kwarg is made a required\nargument to the method. This also means the compute.API\nclass can create a HostAPI instance to use and provide\nits own copy of the RPC ComputeAPI and service group API.\n\nWhile in here the get_availability_zone docstring is\ncleaned up a bit and the context param is documented.\n\nChange-Id: I727a5001f9f75f4bd8c7a7b599d647cf987d1659\n'}, {'number': 3, 'created': '2019-04-26 19:30:59.000000000', 'files': ['nova/api/openstack/compute/availability_zone.py', 'nova/tests/fixtures.py', 'nova/availability_zones.py', 'nova/tests/unit/test_availability_zones.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a50dfbdd47b2f7bb31320f31b9c8c9c91c8c6f5e', 'message': 'Always pass HostAPI to get_availability_zones\n\nSince there were only three non-test locations that\ncalled get_availability_zones, and they can all pass\na HostAPI instance, the hostapi kwarg is made a required\nargument to the method. This also means the compute.API\nclass can create a HostAPI instance to use and provide\nits own copy of the RPC ComputeAPI and service group API.\n\nWhile in here the get_availability_zone docstring is\ncleaned up a bit and the context param is documented.\n\nChange-Id: I727a5001f9f75f4bd8c7a7b599d647cf987d1659\n'}]",7,655583,a50dfbdd47b2f7bb31320f31b9c8c9c91c8c6f5e,82,16,3,6873,,,0,"Always pass HostAPI to get_availability_zones

Since there were only three non-test locations that
called get_availability_zones, and they can all pass
a HostAPI instance, the hostapi kwarg is made a required
argument to the method. This also means the compute.API
class can create a HostAPI instance to use and provide
its own copy of the RPC ComputeAPI and service group API.

While in here the get_availability_zone docstring is
cleaned up a bit and the context param is documented.

Change-Id: I727a5001f9f75f4bd8c7a7b599d647cf987d1659
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/655583/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/availability_zone.py', 'nova/availability_zones.py', 'nova/tests/unit/test_availability_zones.py', 'nova/compute/api.py']",4,76714f38932177b72c38bf0b7cb29045692bc789,bug/1801897," self.host_api = HostAPI(self.compute_rpcapi, self.servicegroup_api) get_availability_zones(context.elevated(), self.host_api, get_only_available=True) def __init__(self, rpcapi=None, servicegroup_api=None): self.servicegroup_api = servicegroup_api or servicegroup.API()"," get_availability_zones(context.elevated(), True) def __init__(self, rpcapi=None): self.servicegroup_api = servicegroup.API()",25,27
openstack%2Fnova~master~I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31,openstack/nova,master,I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31,Remove unused context parameter from RT._get_instance_type,MERGED,2019-03-07 20:26:57.000000000,2019-04-29 23:01:59.000000000,2019-04-29 23:01:58.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-07 20:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77bc0f285d3e332b87692f8c5773d7b78954c206', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}, {'number': 2, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9383b0e9613264f9f06fbb27d8a37194da265825', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}, {'number': 3, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b42ef9b873a57ce23152944a04dbfe840b0082a', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}, {'number': 4, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20a54abc5088e1b0593acac4bf3727049dea5e94', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}, {'number': 5, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f75960f535e10b0a8263c6ec35c52f7733ef2ceb', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}, {'number': 6, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7cb4c1df4a3a3fe6363da2b9db4b3854369b8d0', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}, {'number': 7, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78db0441c2752dba7e50b29094a6768c56d1a95b', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}, {'number': 8, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c0fe57358650b97c20698c580390b25c908505c', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}, {'number': 9, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a148e43948a90a05823a4c2007941c1deb64ce3', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}, {'number': 10, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11f9a3c718ade8b86863d9b752d6d9dc7f4f1f3c', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}, {'number': 11, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae9e4bf65f05fa1d8f6ba3e38c1978abaccbf90f', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}, {'number': 12, 'created': '2019-04-26 20:34:08.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ee65b942cc0fd5b5caf4b3d1421528af0cdb20df', 'message': 'Remove unused context parameter from RT._get_instance_type\n\nThe context parameter has been unused since change\nIbe1448b59ca370b260e8021c449a2c8c8b4f1c17.\n\nChange-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31\n'}]",2,641792,ee65b942cc0fd5b5caf4b3d1421528af0cdb20df,178,19,12,6873,,,0,"Remove unused context parameter from RT._get_instance_type

The context parameter has been unused since change
Ibe1448b59ca370b260e8021c449a2c8c8b4f1c17.

Change-Id: I26e5cbbc2d5d6c61612fc4579a9b2eb381665a31
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/641792/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,77bc0f285d3e332b87692f8c5773d7b78954c206,bp/cross-cell-resize," instance_type = self._get_instance_type(instance, prefix, itype = self._get_instance_type(instance, 'new_', migration) itype = self._get_instance_type(instance, 'old_', migration) itype = self._get_instance_type(instance, 'new_', migration) itype = self._get_instance_type(instance, 'old_', migration) def _get_instance_type(self, instance, prefix, migration):"," ctxt = context.elevated() instance_type = self._get_instance_type(ctxt, instance, prefix, itype = self._get_instance_type(context, instance, 'new_', migration) itype = self._get_instance_type(context, instance, 'old_', migration) itype = self._get_instance_type(context, instance, 'new_', migration) itype = self._get_instance_type(context, instance, 'old_', migration) def _get_instance_type(self, context, instance, prefix, migration):",6,11
openstack%2Fopenstack-helm-infra~master~Icd43013bcb97f7b2f9a049f0a20a550d8b577da3,openstack/openstack-helm-infra,master,Icd43013bcb97f7b2f9a049f0a20a550d8b577da3,Fix: update merge to mergeOverwrite,MERGED,2019-03-19 15:53:03.000000000,2019-04-29 22:56:11.000000000,2019-03-21 03:27:07.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28208}]","[{'number': 1, 'created': '2019-03-19 15:53:03.000000000', 'files': ['ceph-osd/templates/utils/_osd_daemonset_overrides.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b8784f26d4ff9d7054a30d8024cae24db93ed0d', 'message': 'Fix: update merge to mergeOverwrite\n\nChange-Id: Icd43013bcb97f7b2f9a049f0a20a550d8b577da3\n'}]",0,644604,0b8784f26d4ff9d7054a30d8024cae24db93ed0d,10,4,1,28208,,,0,"Fix: update merge to mergeOverwrite

Change-Id: Icd43013bcb97f7b2f9a049f0a20a550d8b577da3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/04/644604/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/utils/_osd_daemonset_overrides.tpl'],1,0b8784f26d4ff9d7054a30d8024cae24db93ed0d,mergeOverwriteFix,{{ mergeOverwrite $context.Values.__daemonset_yaml $context.Values.__tmpYAML | toYaml }},{{ merge $context.Values.__tmpYAML $context.Values.__daemonset_yaml | toYaml }},1,1
openstack%2Frpm-packaging~master~If4b7548657d2135189ebb36a8f2ce20979279c19,openstack/rpm-packaging,master,If4b7548657d2135189ebb36a8f2ce20979279c19,update pyghmi to 1.3.0,MERGED,2019-04-18 07:14:58.000000000,2019-04-29 22:49:36.000000000,2019-04-29 22:49:36.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28654}]","[{'number': 1, 'created': '2019-04-18 07:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a397718650b4c01fec92e07d95b320412e4053d3', 'message': 'update pyghmi to 1.3.0\n\nChange-Id: If4b7548657d2135189ebb36a8f2ce20979279c19\n'}, {'number': 2, 'created': '2019-04-29 18:27:56.000000000', 'files': ['openstack/pyghmi/pyghmi.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/aac9a8ee8378aee97a6fef92dd1a07baf44bbf7b', 'message': 'update pyghmi to 1.3.0\n\nChange-Id: If4b7548657d2135189ebb36a8f2ce20979279c19\n'}]",0,653674,aac9a8ee8378aee97a6fef92dd1a07baf44bbf7b,21,6,2,28654,,,0,"update pyghmi to 1.3.0

Change-Id: If4b7548657d2135189ebb36a8f2ce20979279c19
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/74/653674/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pyghmi/pyghmi.spec.j2'],1,a397718650b4c01fec92e07d95b320412e4053d3,pyghmi,{% set upstream_version = upstream_version('1.3.0') %},{% set upstream_version = upstream_version('1.2.16') %},1,1
openstack%2Foslo.messaging~master~I438c7279d584bdb00da18477a83d5e2a53c588c4,openstack/oslo.messaging,master,I438c7279d584bdb00da18477a83d5e2a53c588c4,Consider the topic parameter as an array in client-notify,MERGED,2019-04-11 11:55:22.000000000,2019-04-29 22:36:42.000000000,2019-04-29 22:36:42.000000000,"[{'_account_id': 8770}, {'_account_id': 19307}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 29364}]","[{'number': 1, 'created': '2019-04-11 11:55:22.000000000', 'files': ['tools/simulator.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0ad4a204b385273b671327028d30133725c6174e', 'message': 'Consider the topic parameter as an array in client-notify\n\nWithout this fix, the simulator splits the ""topic"" value in different\nstrings, in notify-client case\nInstead of having one queue there are multi-queues.\nSee [1] for more details\n\nCloses-Bug: #1824339\n\n1- https://bugs.launchpad.net/oslo.messaging/+bug/1824339\n\nChange-Id: I438c7279d584bdb00da18477a83d5e2a53c588c4\n'}]",0,651765,0ad4a204b385273b671327028d30133725c6174e,12,5,1,29364,,,0,"Consider the topic parameter as an array in client-notify

Without this fix, the simulator splits the ""topic"" value in different
strings, in notify-client case
Instead of having one queue there are multi-queues.
See [1] for more details

Closes-Bug: #1824339

1- https://bugs.launchpad.net/oslo.messaging/+bug/1824339

Change-Id: I438c7279d584bdb00da18477a83d5e2a53c588c4
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/65/651765/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/simulator.py'],1,0ad4a204b385273b671327028d30133725c6174e,bug/1824339," client_builder = functools.partial(NotifyClient, i, transport, [topic],"," client_builder = functools.partial(NotifyClient, i, transport, topic,",1,1
openstack%2Fpython-mistralclient~master~I8978880637e9872cccb10627d87d619656a2d5c5,openstack/python-mistralclient,master,I8978880637e9872cccb10627d87d619656a2d5c5,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:44:52.000000000,2019-04-29 22:20:55.000000000,2019-04-29 22:20:55.000000000,"[{'_account_id': 8731}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-04-23 05:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/acd6e8efdf8b24cc4650af052c1859853067e372', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I8978880637e9872cccb10627d87d619656a2d5c5\n'}, {'number': 2, 'created': '2019-04-28 03:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/f7c78357ba58bca95f908be7205c2ddfd808ed14', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I8978880637e9872cccb10627d87d619656a2d5c5\n'}, {'number': 3, 'created': '2019-04-28 06:04:55.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/c6811e87f7f2361a9571542f258f0f9aef02da8e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I8978880637e9872cccb10627d87d619656a2d5c5\n'}]",6,654767,c6811e87f7f2361a9571542f258f0f9aef02da8e,13,5,3,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I8978880637e9872cccb10627d87d619656a2d5c5
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/67/654767/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,acd6e8efdf8b24cc4650af052c1859853067e372,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Ftripleo-heat-templates~stable%2Fstein~I7a01146a135254ccb948b8e793859f8fa3bdc690,openstack/tripleo-heat-templates,stable/stein,I7a01146a135254ccb948b8e793859f8fa3bdc690,Remove ceph-ansible fetch directory after it is saved,MERGED,2019-04-29 14:31:47.000000000,2019-04-29 22:16:14.000000000,2019-04-29 22:16:14.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 14:31:47.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc25176887f3310755b810a97c637604af193170', 'message': ""Remove ceph-ansible fetch directory after it is saved\n\nBecause the ceph-ansible fetch directory is backed up to Swift\nor the directory defined by LocalCephAnsibleFetchDirectoryBackup,\nit is safe to delete it after ceph-ansible has run. If we need\nto apply a system update, the fetch directory will be restored\neach time before ceph-ansible is run and it will then subsequently\nbe backed up and deleted.\n\nDuring the restore, problems can occur if the update is being run\nby a different user or if the restore tries to overwrite metadata.\nRather than try to handle this by setting permissions or passing\nmetadata overwrite flags, it is simpler to just ensure that each\nrestore is a restore to a new copy of the fetch directory.\n\nAlso, remove the task which removes nested sections of fetch\ndirectory (if any) and remove registrations of nested sections.\nThis task's goal was to clean the fetch directory which would\ncontinue to exist on the filesystem. Since that directory is\nnow being fully removed there is nothing to clean.\n\nChange-Id: I7a01146a135254ccb948b8e793859f8fa3bdc690\nCloses-Bug: #1823229\n(cherry picked from commit 53657f6184f146a353503a5c39929f0af53a5ae8)\n""}]",0,656351,cc25176887f3310755b810a97c637604af193170,8,4,1,18002,,,0,"Remove ceph-ansible fetch directory after it is saved

Because the ceph-ansible fetch directory is backed up to Swift
or the directory defined by LocalCephAnsibleFetchDirectoryBackup,
it is safe to delete it after ceph-ansible has run. If we need
to apply a system update, the fetch directory will be restored
each time before ceph-ansible is run and it will then subsequently
be backed up and deleted.

During the restore, problems can occur if the update is being run
by a different user or if the restore tries to overwrite metadata.
Rather than try to handle this by setting permissions or passing
metadata overwrite flags, it is simpler to just ensure that each
restore is a restore to a new copy of the fetch directory.

Also, remove the task which removes nested sections of fetch
directory (if any) and remove registrations of nested sections.
This task's goal was to clean the fetch directory which would
continue to exist on the filesystem. Since that directory is
now being fully removed there is nothing to clean.

Change-Id: I7a01146a135254ccb948b8e793859f8fa3bdc690
Closes-Bug: #1823229
(cherry picked from commit 53657f6184f146a353503a5c39929f0af53a5ae8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/656351/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,cc25176887f3310755b810a97c637604af193170,bug/1823229-stable/stein," - name: Remove ceph-ansible fetch directory file: path: ""{{playbook_dir}}/ceph-ansible/fetch_dir/"""," register: nested register: nested - name: remove nested broken path if exist file: path: ""{{ item }}"" recurse: no with_items: - '{{ nested.missing }}' when: (nested.missing|default([])|length > 0)",2,8
openstack%2Fautomaton~master~Ie9e013284751e549921ea6652a50368050ae2b2d,openstack/automaton,master,Ie9e013284751e549921ea6652a50368050ae2b2d,Update to opendev,MERGED,2019-04-23 05:53:43.000000000,2019-04-29 22:04:21.000000000,2019-04-29 22:04:21.000000000,"[{'_account_id': 6618}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 05:53:43.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/automaton/commit/a9759e6b4d9f4c9138c43377f9340a5677996b84', 'message': 'Update to opendev\n\nChange-Id: Ie9e013284751e549921ea6652a50368050ae2b2d\n'}]",0,654788,a9759e6b4d9f4c9138c43377f9340a5677996b84,6,2,1,26584,,,0,"Update to opendev

Change-Id: Ie9e013284751e549921ea6652a50368050ae2b2d
",git fetch https://review.opendev.org/openstack/automaton refs/changes/88/654788/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst', 'tox.ini']",3,a9759e6b4d9f4c9138c43377f9340a5677996b84,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},6,6
openstack%2Fnova~master~Id670f13a7f197e71c77dc91276fc2fba2fc5f314,openstack/nova,master,Id670f13a7f197e71c77dc91276fc2fba2fc5f314,libvirt: Avoid using os-brick encryptors when device_path isn't provided,MERGED,2019-04-04 09:17:14.000000000,2019-04-29 22:03:48.000000000,2019-04-29 22:03:48.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25238}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-04 09:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c0c5432a00adbde921ca688aa05b8cc749f2b59', 'message': ""libvirt: Avoid building an encryptor when device_path isn't provided\n\nWhen disconnecting an encrypted volume the Libvirt driver uses the\npresence of a Libvirt secret associated with the volume to determine if\nthe new style native QEMU LUKS decryption or original decryption method\nusing os-brick encrytors is used.\n\nWhile this works well in most deployments some issues have been observed\nin Kolla based environments where the Libvirt secrets are not fully\npersisted between host reboots or container upgrades. This can lead to\n_detach_encryptor attempting to build an encryptor which will fail if\nthe associated connection_info for the volume does not contain a\ndevice_path, such as in the case for rbd volumes.\n\nThis change adds a simple conditional to _detach_encryptor to ensure we\nreturn when device_path is not present in connection_info and native\nQEMU LUKS decryption is available.\n\nNote that it is still safe to build an encryptor and call\ndetach_encryptor when a device_path is present as change\nI9f52f89b8466d036 made such calls idempotent within os-brick.\n\nChange-Id: Id670f13a7f197e71c77dc91276fc2fba2fc5f314\nCloses-bug: #1821696\n""}, {'number': 2, 'created': '2019-04-08 16:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86bcc835bc66cb81c254580e1be3922f8e2a4ccc', 'message': ""libvirt: Avoid using os-brick encryptors when device_path isn't provided\n\nWhen disconnecting an encrypted volume the Libvirt driver uses the\npresence of a Libvirt secret associated with the volume to determine if\nthe new style native QEMU LUKS decryption or original decryption method\nusing os-brick encrytors is used.\n\nWhile this works well in most deployments some issues have been observed\nin Kolla based environments where the Libvirt secrets are not fully\npersisted between host reboots or container upgrades. This can lead to\n_detach_encryptor attempting to build an encryptor which will fail if\nthe associated connection_info for the volume does not contain a\ndevice_path, such as in the case for encrypted rbd volumes.\n\nThis change adds a simple conditional to _detach_encryptor to ensure we\nreturn when device_path is not present in connection_info and native\nQEMU LUKS decryption is available. This handles the specific use\ncase where we are certain that the encrypted volume was never decrypted\nusing the os-brick encryptors, as these require a local block device on\nthe compute host and have thus never supported rbd.\n\nIt is still safe to build an encryptor and call detach_volume when a\ndevice_path is present however as change I9f52f89b8466d036 made such\ncalls idempotent within os-brick.\n\nChange-Id: Id670f13a7f197e71c77dc91276fc2fba2fc5f314\nCloses-bug: #1821696\n""}, {'number': 3, 'created': '2019-04-28 17:45:58.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/56ca4d32ddf944b541b8a6c46f07275e7d8472bc', 'message': ""libvirt: Avoid using os-brick encryptors when device_path isn't provided\n\nWhen disconnecting an encrypted volume the Libvirt driver uses the\npresence of a Libvirt secret associated with the volume to determine if\nthe new style native QEMU LUKS decryption or original decryption method\nusing os-brick encrytors is used.\n\nWhile this works well in most deployments some issues have been observed\nin Kolla based environments where the Libvirt secrets are not fully\npersisted between host reboots or container upgrades. This can lead to\n_detach_encryptor attempting to build an encryptor which will fail if\nthe associated connection_info for the volume does not contain a\ndevice_path, such as in the case for encrypted rbd volumes.\n\nThis change adds a simple conditional to _detach_encryptor to ensure we\nreturn when device_path is not present in connection_info and native\nQEMU LUKS decryption is available. This handles the specific use\ncase where we are certain that the encrypted volume was never decrypted\nusing the os-brick encryptors, as these require a local block device on\nthe compute host and have thus never supported rbd.\n\nIt is still safe to build an encryptor and call detach_volume when a\ndevice_path is present however as change I9f52f89b8466d036 made such\ncalls idempotent within os-brick.\n\nChange-Id: Id670f13a7f197e71c77dc91276fc2fba2fc5f314\nCloses-bug: #1821696\n""}]",10,649951,56ca4d32ddf944b541b8a6c46f07275e7d8472bc,52,16,3,10135,,,0,"libvirt: Avoid using os-brick encryptors when device_path isn't provided

When disconnecting an encrypted volume the Libvirt driver uses the
presence of a Libvirt secret associated with the volume to determine if
the new style native QEMU LUKS decryption or original decryption method
using os-brick encrytors is used.

While this works well in most deployments some issues have been observed
in Kolla based environments where the Libvirt secrets are not fully
persisted between host reboots or container upgrades. This can lead to
_detach_encryptor attempting to build an encryptor which will fail if
the associated connection_info for the volume does not contain a
device_path, such as in the case for encrypted rbd volumes.

This change adds a simple conditional to _detach_encryptor to ensure we
return when device_path is not present in connection_info and native
QEMU LUKS decryption is available. This handles the specific use
case where we are certain that the encrypted volume was never decrypted
using the os-brick encryptors, as these require a local block device on
the compute host and have thus never supported rbd.

It is still safe to build an encryptor and call detach_volume when a
device_path is present however as change I9f52f89b8466d036 made such
calls idempotent within os-brick.

Change-Id: Id670f13a7f197e71c77dc91276fc2fba2fc5f314
Closes-bug: #1821696
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/649951/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,8c0c5432a00adbde921ca688aa05b8cc749f2b59,bug/1821696," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_use_native_luks, mock_get_encryptor, mock_get_metadata): mock_use_native_luks.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_use_native_luks, mock_get_encryptor, mock_get_metadata): mock_use_native_luks.return_value = False @mock.patch('nova.virt.libvirt.host.Host.find_secret') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_volume_encryptor') def test_detach_encryptor_native_luks_device_id_secret_missing(self, mock_get_encryptor, mock_use_native_luks, mock_find_secret): """"""Assert that the encryptor is not built when native LUKS is available, the associated volume secret is missing and device_id is also missing from the connection_info. """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) encryption = {'provider': 'luks', 'control_location': 'front-end', 'encryption_key_id': uuids.encryption_key_id} connection_info = {'data': {'volume_id': uuids.volume_id}} mock_find_secret.return_value = False mock_use_native_luks.return_value = True drvr._detach_encryptor(self.context, connection_info, encryption) mock_find_secret.assert_called_once_with('volume', uuids.volume_id) mock_get_encryptor.assert_not_called() "," mock_get_encryptor, mock_get_metadata): mock_get_encryptor, mock_get_metadata):",35,2
openstack%2Fopenstack-helm-images~master~I95061b62045cd8980b10e2d5f4991005b66c5b4c,openstack/openstack-helm-images,master,I95061b62045cd8980b10e2d5f4991005b66c5b4c,This PS installs apt-transport-https ca-certificates packages before adding ceph repo. Without this Jenkins is having issues building images,MERGED,2019-04-24 23:12:53.000000000,2019-04-29 21:57:18.000000000,2019-04-29 21:56:11.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 17119}, {'_account_id': 17966}, {'_account_id': 22348}, {'_account_id': 22713}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 29132}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-04-24 23:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/60787ca6d18d272420912562386340c6ad286014', 'message': 'This PS installs apt-transport-https ca-certificates packages\nbefore adding ceph repo. Without this Jenkins is having\nissues building images\n\nIssue:\nThe method driver /usr/lib/apt/methods/https could not be found\n\nChange-Id: I95061b62045cd8980b10e2d5f4991005b66c5b4c\n'}, {'number': 2, 'created': '2019-04-24 23:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d54cc75b9110b29cf8e78276b7009c743d5fca5c', 'message': 'This PS installs apt-transport-https ca-certificates packages\nbefore adding ceph repo. Without this Jenkins is having\nissues building images\n\nIssue:\nThe method driver /usr/lib/apt/methods/https could not be found\n\nChange-Id: I95061b62045cd8980b10e2d5f4991005b66c5b4c\n'}, {'number': 3, 'created': '2019-04-25 14:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e05ddddc29434ec176ae14231188d645ae1eba33', 'message': 'This PS installs apt-transport-https ca-certificates packages\nbefore adding ceph repo. Without this Jenkins is having\nissues building images\n\nIssue:\nThe method driver /usr/lib/apt/methods/https could not be found\n\nChange-Id: I95061b62045cd8980b10e2d5f4991005b66c5b4c\n'}, {'number': 4, 'created': '2019-04-25 15:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fb388c28df4f0cc4c1aca54720214aea5a5bfbed', 'message': 'This PS installs apt-transport-https ca-certificates packages\nbefore adding ceph repo. Without this Jenkins is having\nissues building images\n\nIssue:\nThe method driver /usr/lib/apt/methods/https could not be found\n\nChange-Id: I95061b62045cd8980b10e2d5f4991005b66c5b4c\n'}, {'number': 5, 'created': '2019-04-25 15:27:58.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_xenial', 'ceph-daemon/Dockerfile.ubuntu_xenial', 'ceph-utility/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d0a13a6a5d46fdd135352019ebdd58d85a7741ec', 'message': 'This PS installs apt-transport-https ca-certificates packages\nbefore adding ceph repo. Without this Jenkins is having\nissues building images\n\nIssue:\nThe method driver /usr/lib/apt/methods/https could not be found\n\nChange-Id: I95061b62045cd8980b10e2d5f4991005b66c5b4c\n'}]",6,655585,d0a13a6a5d46fdd135352019ebdd58d85a7741ec,25,12,5,29132,,,0,"This PS installs apt-transport-https ca-certificates packages
before adding ceph repo. Without this Jenkins is having
issues building images

Issue:
The method driver /usr/lib/apt/methods/https could not be found

Change-Id: I95061b62045cd8980b10e2d5f4991005b66c5b4c
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/85/655585/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-config-helper/Dockerfile.ubuntu_xenial', 'ceph-daemon/Dockerfile.ubuntu_xenial']",2,60787ca6d18d272420912562386340c6ad286014,, apt-get update ;\ apt-get dist-upgrade -y ;\ apt-get install -y curl wget apt-transport-https ca-certificates ;\ rm -rf /etc/apt/sources.list.d/ceph.list ;\, apt-transport-https \ ca-certificates \ curl \,7,6
openstack%2Fnetworking-bgpvpn~stable%2Fstein~I1a6558885941763c34ba4fe19435c980a017e13d,openstack/networking-bgpvpn,stable/stein,I1a6558885941763c34ba4fe19435c980a017e13d,Update UPPER_CONSTRAINTS_FILE for stable/stein,MERGED,2019-03-21 21:20:55.000000000,2019-04-29 21:57:15.000000000,2019-04-29 21:57:15.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 12021}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-21 21:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5ed2430d265379454018567408040444d0ed8137', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I1a6558885941763c34ba4fe19435c980a017e13d\n'}, {'number': 2, 'created': '2019-04-28 16:08:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9ab51954700999eef624749c7e0a21e43c92a45e', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I1a6558885941763c34ba4fe19435c980a017e13d\n'}]",0,645359,9ab51954700999eef624749c7e0a21e43c92a45e,17,5,2,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I1a6558885941763c34ba4fe19435c980a017e13d
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/59/645359/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5ed2430d265379454018567408040444d0ed8137,create-stein,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fdevstack-gate~master~I0ecd118864367b6ea514e85f95149f45c3e7f731,openstack/devstack-gate,master,I0ecd118864367b6ea514e85f95149f45c3e7f731,DNM: Set LIVE_MIGRATE_BACK_AND_FORTH to True in LM+grenade job,ABANDONED,2016-10-05 14:23:36.000000000,2019-04-29 21:16:15.000000000,,"[{'_account_id': 4146}, {'_account_id': 6873}, {'_account_id': 12299}, {'_account_id': 14819}, {'_account_id': 19590}]","[{'number': 1, 'created': '2016-10-05 14:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/e1a6d827138154e2fb453711ecfcbe29f6327278', 'message': 'Set LIVE_MIGRATE_BACK_AND_FORTH to True in LM+grenade job\n\nIn order to live migrate VM back and forth in LM+grenade job\nwe need to set LIVE_MIGRATE_BACK_AND_FORTH to True\n\nChange-Id: I0ecd118864367b6ea514e85f95149f45c3e7f731\nDepends-On: I8da2b3bd0c08d9a3111d3531c346d06bd52cae7b\n'}, {'number': 2, 'created': '2016-10-05 14:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a37c207db8e23dd2d4c65f027c3274a808750259', 'message': 'Set LIVE_MIGRATE_BACK_AND_FORTH to True in LM+grenade job\n\nIn order to live migrate VM back and forth in LM+grenade job\nwe need to set LIVE_MIGRATE_BACK_AND_FORTH to True\n\nChange-Id: I0ecd118864367b6ea514e85f95149f45c3e7f731\nDepends-On: I8da2b3bd0c08d9a3111d3531c346d06bd52cae7b\n'}, {'number': 3, 'created': '2016-10-05 14:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3d372781b5741c71858f84b57305f128a7b6b712', 'message': 'Set LIVE_MIGRATE_BACK_AND_FORTH to True in LM+grenade job\n\nIn order to live migrate VM back and forth in LM+grenade job\nwe need to set LIVE_MIGRATE_BACK_AND_FORTH to True\n\nChange-Id: I0ecd118864367b6ea514e85f95149f45c3e7f731\n'}, {'number': 4, 'created': '2016-10-05 14:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/107470cc23a26c8b107c5f1103099187a8403372', 'message': 'Set LIVE_MIGRATE_BACK_AND_FORTH to True in LM+grenade job\n\nIn order to live migrate VM back and forth in LM+grenade job\nwe need to set LIVE_MIGRATE_BACK_AND_FORTH to True\n\nDepends-On: I8da2b3bd0c08d9a3111d3531c346d06bd52cae7b\nChange-Id: I0ecd118864367b6ea514e85f95149f45c3e7f731\n'}, {'number': 5, 'created': '2016-10-11 14:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/9de2b12b2f9e437d7e890eb05eba931c67925126', 'message': 'Set LIVE_MIGRATE_BACK_AND_FORTH to True in LM+grenade job\n\nIn order to live migrate VM back and forth in LM+grenade job\nwe need to set LIVE_MIGRATE_BACK_AND_FORTH to True\n\nDepends-On: I8da2b3bd0c08d9a3111d3531c346d06bd52cae7b\nChange-Id: I0ecd118864367b6ea514e85f95149f45c3e7f731\n'}, {'number': 6, 'created': '2016-12-22 10:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/747fa4eab61849849d689ae41a374714be7f6251', 'message': 'Set LIVE_MIGRATE_BACK_AND_FORTH to True in LM+grenade job\n\nIn order to live migrate VM back and forth in LM+grenade job\nwe need to set LIVE_MIGRATE_BACK_AND_FORTH to True\n\nDepends-On: I8da2b3bd0c08d9a3111d3531c346d06bd52cae7b\nChange-Id: I0ecd118864367b6ea514e85f95149f45c3e7f731\n'}, {'number': 7, 'created': '2017-02-10 14:19:14.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/128bae708ada90527746a8f77e14016806e8148e', 'message': 'DNM: Set LIVE_MIGRATE_BACK_AND_FORTH to True in LM+grenade job\n\nThis is just for testing the project-config job change:\n\nhttps://review.openstack.org/#/c/431848/\n\nIn order to live migrate VM back and forth in LM+grenade job\nwe need to set LIVE_MIGRATE_BACK_AND_FORTH to True\n\nDepends-On: I8da2b3bd0c08d9a3111d3531c346d06bd52cae7b\nChange-Id: I0ecd118864367b6ea514e85f95149f45c3e7f731\n'}]",1,382456,128bae708ada90527746a8f77e14016806e8148e,34,5,7,12299,,,0,"DNM: Set LIVE_MIGRATE_BACK_AND_FORTH to True in LM+grenade job

This is just for testing the project-config job change:

https://review.openstack.org/#/c/431848/

In order to live migrate VM back and forth in LM+grenade job
we need to set LIVE_MIGRATE_BACK_AND_FORTH to True

Depends-On: I8da2b3bd0c08d9a3111d3531c346d06bd52cae7b
Change-Id: I0ecd118864367b6ea514e85f95149f45c3e7f731
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/56/382456/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,e1a6d827138154e2fb453711ecfcbe29f6327278,lm-grenade," if [[ ""$DEVSTACK_GATE_GRENADE"" ]]; then echo ""export LIVE_MIGRATE_BACK_AND_FORTH=True"" >> ""$localrc_file"" fi",,3,0
openstack%2Ftripleo-ci~master~Ie230d03b860fedc598f57c58676d4f3a34cdb2c6,openstack/tripleo-ci,master,Ie230d03b860fedc598f57c58676d4f3a34cdb2c6,Switch scenario003-standalone job to use os_tempest,MERGED,2019-04-29 11:15:41.000000000,2019-04-29 21:12:59.000000000,2019-04-29 21:12:59.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 11:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1835e73642578cc666113d72ac1d041b99bd4b90', 'message': 'Switch scenario003-standalone job to use os_tempest\n\n* rename tempest_whitelist to tempest_test_whitelist\n* tempest_plugins to tempest_services\n* Remove unwanted test_white_regex\n\nChange-Id: Ie230d03b860fedc598f57c58676d4f3a34cdb2c6\n'}, {'number': 2, 'created': '2019-04-29 11:17:12.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6ec327a11d40ae8ad0d821c35d6f17b4635a7f84', 'message': 'Switch scenario003-standalone job to use os_tempest\n\n* rename tempest_whitelist to tempest_test_whitelist\n* tempest_plugins to tempest_services\n* Remove unwanted test_white_regex\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/904?kanban-status=1447275\nChange-Id: Ie230d03b860fedc598f57c58676d4f3a34cdb2c6\n'}]",0,656290,6ec327a11d40ae8ad0d821c35d6f17b4635a7f84,12,6,2,8367,,,0,"Switch scenario003-standalone job to use os_tempest

* rename tempest_whitelist to tempest_test_whitelist
* tempest_plugins to tempest_services
* Remove unwanted test_white_regex

https://tree.taiga.io/project/tripleo-ci-board/task/904?kanban-status=1447275
Change-Id: Ie230d03b860fedc598f57c58676d4f3a34cdb2c6
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/90/656290/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,1835e73642578cc666113d72ac1d041b99bd4b90,os_tempest-003, run_tempest: false tempest_services: - mistral - sahara tempest_test_whitelist: use_os_tempest: true," tempest_whitelist: tempest_plugins: - python-sahara-tests-tempest - python-mistral-tests-tempest test_white_regex: """"",6,5
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7ee040e20f3f93db95b4c965c795a587bc1bf91a,openstack/tripleo-heat-templates,stable/queens,I7ee040e20f3f93db95b4c965c795a587bc1bf91a,Run octavia-api under httpd,MERGED,2019-04-18 12:16:19.000000000,2019-04-29 21:12:57.000000000,2019-04-29 21:12:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-18 12:16:19.000000000', 'files': ['docker/services/octavia-api.yaml', 'puppet/services/octavia-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/450d50f544f601b9d3f6aea13b70802bec272573', 'message': ""Run octavia-api under httpd\n\noctavia-api's cli app doesn't behave well with haproxy so let's run\nunder apache and save ourselves some grief.\n\nNote: due to the flattening effort and the addition of support for an\nalternate container runtime, this is a semantic backport for the\noriginal patch https://review.openstack.org/#/c/636380/.\n\nConflicts:\n    puppet/services/octavia-api.yaml\n\nDepends-On: I00f537ce27b1d4642738f0eb90d7ed1f2c21e729\nChange-Id: I7ee040e20f3f93db95b4c965c795a587bc1bf91a\n(cherry picked from commit d3b70308b9b892b0d8b9531590b942d53fcbd866)\n""}]",0,653726,450d50f544f601b9d3f6aea13b70802bec272573,9,5,1,6681,,,0,"Run octavia-api under httpd

octavia-api's cli app doesn't behave well with haproxy so let's run
under apache and save ourselves some grief.

Note: due to the flattening effort and the addition of support for an
alternate container runtime, this is a semantic backport for the
original patch https://review.openstack.org/#/c/636380/.

Conflicts:
    puppet/services/octavia-api.yaml

Depends-On: I00f537ce27b1d4642738f0eb90d7ed1f2c21e729
Change-Id: I7ee040e20f3f93db95b4c965c795a587bc1bf91a
(cherry picked from commit d3b70308b9b892b0d8b9531590b942d53fcbd866)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/653726/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/octavia-api.yaml', 'puppet/services/octavia-api.yaml']",2,450d50f544f601b9d3f6aea13b70802bec272573,queens," - octavia::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri] } octavia::keystone::authtoken::auth_uri: {get_param: [EndpointMap, KeystoneInternal, uri] } octavia::api::service_name: 'httpd' octavia::wsgi::apache::ssl: {get_param: EnableInternalTLS} tripleo::octavia_api::firewall_rules: octavia::wsgi::apache::bind_host: octavia::wsgi::apache::server_name: octavia::api::host: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, OctaviaApiNetwork]}","conditions: use_tls_proxy: {equals : [{get_param: EnableInternalTLS}, true]} TLSProxyBase: type: OS::TripleO::Services::TLSProxyBase properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} EnableInternalTLS: {get_param: EnableInternalTLS} - octavia::keystone::authtoken::auth_uri: {get_param: [EndpointMap, KeystoneInternal, uri] } - get_attr: [TLSProxyBase, role_data, config_settings] tripleo.octavia_api.firewall_rules: tripleo::profile::base::octavia::api::tls_proxy_bind_ip: tripleo::profile::base::octavia::api::tls_proxy_fqdn: tripleo::profile::base::octavia::api::tls_proxy_port: get_param: [EndpointMap, OctaviaInternal, port] # Bind to localhost if internal TLS is enabled, since we put a TLS # proxy in front. octavia::api::host: if: - use_tls_proxy - '127.0.0.1' - {get_param: [ServiceNetMap, OctaviaApiNetwork]} metadata_settings: get_attr: [TLSProxyBase, role_data, metadata_settings]",39,58
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I827dd918bb83c67c6e02a4d91fed2a6959361283,openstack/tripleo-heat-templates,stable/queens,I827dd918bb83c67c6e02a4d91fed2a6959361283,Ensure there is no redis on host,MERGED,2019-04-29 08:30:36.000000000,2019-04-29 21:12:56.000000000,2019-04-29 21:12:56.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 08:30:36.000000000', 'files': ['docker/services/database/redis.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72b0b93d29996444e3fdf336a2f7093a1004591b', 'message': 'Ensure there is no redis on host\n\nIn the past releases overcloud-full image could contained redis package\neven though containerized deployment has been used. This is problematic\nduring minor update, so we need to make sure the package is removed.\n\nChange-Id: I827dd918bb83c67c6e02a4d91fed2a6959361283\n(cherry picked from commit 5a4223c869ebfcf8da0b8f11f2e2311282dc97bc)\n'}]",0,656267,72b0b93d29996444e3fdf336a2f7093a1004591b,8,5,1,5241,,,0,"Ensure there is no redis on host

In the past releases overcloud-full image could contained redis package
even though containerized deployment has been used. This is problematic
during minor update, so we need to make sure the package is removed.

Change-Id: I827dd918bb83c67c6e02a4d91fed2a6959361283
(cherry picked from commit 5a4223c869ebfcf8da0b8f11f2e2311282dc97bc)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/656267/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/database/redis.yaml'],1,72b0b93d29996444e3fdf336a2f7093a1004591b,remove-redis-queens," update_tasks: - when: step|int == 0 tags: common block: - name: Check if redis is deployed command: systemctl is-enabled --quiet redis ignore_errors: True register: redis_enabled_result - name: Set fact redis_enabled set_fact: redis_enabled: ""{{ redis_enabled_result.rc == 0 }}"" - when: step|int == 1 tags: common block: - name: Ensure redis is uninstalled on container host when: redis_enabled|bool == false package: name: redis state: absent - when: - step|int == 2 - redis_enabled|bool - name: Ensure redis is uninstalled on container host package: name: redis state: absent", - when: step|int == 2 when: redis_enabled|bool,26,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~I827dd918bb83c67c6e02a4d91fed2a6959361283,openstack/tripleo-heat-templates,stable/rocky,I827dd918bb83c67c6e02a4d91fed2a6959361283,Ensure there is no redis on host,MERGED,2019-04-29 07:50:05.000000000,2019-04-29 21:12:54.000000000,2019-04-29 21:12:54.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 07:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cac9a0c733ddedea8c74dea342256c4806589cb', 'message': 'Ensure there is no redis on host\n\nIn the past releases overcloud-full image could contained redis package\neven though containerized deployment has been used. This is problematic\nduring minor update, so we need to make sure the package is removed.\n\nChange-Id: I827dd918bb83c67c6e02a4d91fed2a6959361283\n(cherry picked from commit 5a4223c869ebfcf8da0b8f11f2e2311282dc97bc)\n'}, {'number': 2, 'created': '2019-04-29 08:32:28.000000000', 'files': ['docker/services/database/redis.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/747abdd15b3d3ad31a08e602602283c6f9066b7a', 'message': 'Ensure there is no redis on host\n\nIn the past releases overcloud-full image could contained redis package\neven though containerized deployment has been used. This is problematic\nduring minor update, so we need to make sure the package is removed.\n\nChange-Id: I827dd918bb83c67c6e02a4d91fed2a6959361283\n(cherry picked from commit 5a4223c869ebfcf8da0b8f11f2e2311282dc97bc)\n'}]",0,656260,747abdd15b3d3ad31a08e602602283c6f9066b7a,9,5,2,5241,,,0,"Ensure there is no redis on host

In the past releases overcloud-full image could contained redis package
even though containerized deployment has been used. This is problematic
during minor update, so we need to make sure the package is removed.

Change-Id: I827dd918bb83c67c6e02a4d91fed2a6959361283
(cherry picked from commit 5a4223c869ebfcf8da0b8f11f2e2311282dc97bc)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/656260/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/database/redis.yaml'],1,4cac9a0c733ddedea8c74dea342256c4806589cb,remove-redis-rocky, update_tasks: - name: Ensure redis is uninstalled on container host when: step|int == 1 package: name: redis state: absent - name: Ensure redis is uninstalled on container host when: step|int == 1 package: name: redis state: absent,,11,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ie548f7216610e15af24c96f65a58cc8de603235c,openstack/tripleo-heat-templates,stable/rocky,Ie548f7216610e15af24c96f65a58cc8de603235c,Allow ssh from all for undercloud,MERGED,2019-04-29 05:43:19.000000000,2019-04-29 21:12:52.000000000,2019-04-29 21:12:52.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-29 05:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/786c36b2718ef28211b3375906f84db51eb6b919', 'message': ""Allow ssh from all for undercloud\n\nI89cff59947dda3f51482486c41a3d67c4aa36a3e broke SSH access on the\nUndercloud, we shouldn't be that restrictive by default for the\nundercloud and standalone (as deployed via tripleo deploy).\n\nThis change adds a new parameter called SshFirewallAllowAll that can be\nused to include an allow all for ssh. By default it is disabled when\ndeploying the overcloud but is used by the undercloud and standalone to\nallow access after installation.\n\nChange-Id: Ie548f7216610e15af24c96f65a58cc8de603235c\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nRelated-Bug: #1826829\n(cherry picked from commit 2b7cb198764a23d7d2a42d93da7a0f2d133a8af3)\n""}, {'number': 2, 'created': '2019-04-29 08:51:22.000000000', 'files': ['sample-env-generator/standalone.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'puppet/services/sshd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cba7c2285758a25449fe108c304aeaad9f0c4ba3', 'message': ""Allow ssh from all for undercloud\n\nI89cff59947dda3f51482486c41a3d67c4aa36a3e broke SSH access on the\nUndercloud, we shouldn't be that restrictive by default for the\nundercloud and standalone (as deployed via tripleo deploy).\n\nThis change adds a new parameter called SshFirewallAllowAll that can be\nused to include an allow all for ssh. By default it is disabled when\ndeploying the overcloud but is used by the undercloud and standalone to\nallow access after installation.\n\nChange-Id: Ie548f7216610e15af24c96f65a58cc8de603235c\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nRelated-Bug: #1826829\n(cherry picked from commit 2b7cb198764a23d7d2a42d93da7a0f2d133a8af3)\n""}]",0,656243,cba7c2285758a25449fe108c304aeaad9f0c4ba3,12,5,2,28223,,,0,"Allow ssh from all for undercloud

I89cff59947dda3f51482486c41a3d67c4aa36a3e broke SSH access on the
Undercloud, we shouldn't be that restrictive by default for the
undercloud and standalone (as deployed via tripleo deploy).

This change adds a new parameter called SshFirewallAllowAll that can be
used to include an allow all for ssh. By default it is disabled when
deploying the overcloud but is used by the undercloud and standalone to
allow access after installation.

Change-Id: Ie548f7216610e15af24c96f65a58cc8de603235c
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Related-Bug: #1826829
(cherry picked from commit 2b7cb198764a23d7d2a42d93da7a0f2d133a8af3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/656243/2 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'puppet/services/sshd.yaml']",4,786c36b2718ef28211b3375906f84db51eb6b919,bug/1826829, SshFirewallAllowAll: default: false description: Set this to true to open up ssh access from all sources. type: boolean map_merge: - tripleo::profile::base::sshd::bannertext: {get_param: BannerText} tripleo::profile::base::sshd::motd: {get_param: MessageOfTheDay} tripleo::profile::base::sshd::options: {get_param: SshServerOptions} tripleo::profile::base::sshd::password_authentication: {get_param: PasswordAuthentication} - if: - {get_param: SshFirewallAllowAll} - tripleo::sshd::firewall_rules: '003 accept ssh from all': proto: 'tcp' dport: 22 - null , tripleo::profile::base::sshd::bannertext: {get_param: BannerText} tripleo::profile::base::sshd::motd: {get_param: MessageOfTheDay} tripleo::profile::base::sshd::options: {get_param: SshServerOptions} tripleo::profile::base::sshd::password_authentication: {get_param: PasswordAuthentication},27,4
openstack%2Fpuppet-trove~master~Ifb876685e27df60f400105564b62eaf06be30287,openstack/puppet-trove,master,Ifb876685e27df60f400105564b62eaf06be30287,Deprecate idle_timeout option,MERGED,2019-04-28 07:00:56.000000000,2019-04-29 21:06:14.000000000,2019-04-29 21:06:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-28 07:00:56.000000000', 'files': ['releasenotes/notes/deprecate_idle_timeout_parameter-a47e878d44bf161b.yaml', 'manifests/db.pp', 'spec/classes/trove_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/2cbfbf7d5f0b15f0cf80d2248b448c934df5e9b7', 'message': 'Deprecate idle_timeout option\n\nThe idle_timeout parameter is deprecated, use connection_recycle_time\ninstead[1].\n\n[1]https://review.opendev.org/#/c/334182/\n\nChange-Id: Ifb876685e27df60f400105564b62eaf06be30287\nDepends-On: https://review.opendev.org/656106/\nCloses-Bug: #1826692\n'}]",0,656124,2cbfbf7d5f0b15f0cf80d2248b448c934df5e9b7,8,4,1,9414,,,0,"Deprecate idle_timeout option

The idle_timeout parameter is deprecated, use connection_recycle_time
instead[1].

[1]https://review.opendev.org/#/c/334182/

Change-Id: Ifb876685e27df60f400105564b62eaf06be30287
Depends-On: https://review.opendev.org/656106/
Closes-Bug: #1826692
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/24/656124/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_idle_timeout_parameter-a47e878d44bf161b.yaml', 'manifests/db.pp', 'spec/classes/trove_db_spec.rb']",3,2cbfbf7d5f0b15f0cf80d2248b448c934df5e9b7,bug/1826692," :connection => 'sqlite:////var/lib/trove/trove.sqlite', :connection_recycle_time => '<SERVICE DEFAULT>', :min_pool_size => '<SERVICE DEFAULT>', :max_pool_size => '<SERVICE DEFAULT>', :max_retries => '<SERVICE DEFAULT>', :retry_interval => '<SERVICE DEFAULT>', :max_overflow => '<SERVICE DEFAULT>', :pool_timeout => '<SERVICE DEFAULT>', :database_connection => 'mysql+pymysql://trove:trove@localhost/trove', :database_connection_recycle_time => '3601', :database_min_pool_size => '2', :database_max_pool_size => '21', :database_max_retries => '11', :database_max_overflow => '21', :database_pool_timeout => '21', :database_retry_interval => '11', :connection => 'mysql+pymysql://trove:trove@localhost/trove', :connection_recycle_time => '3601', :min_pool_size => '2', :max_pool_size => '21', :max_retries => '11', :retry_interval => '11', :max_overflow => '21', :pool_timeout => '21',"," :connection => 'sqlite:////var/lib/trove/trove.sqlite', :idle_timeout => '<SERVICE DEFAULT>', :min_pool_size => '<SERVICE DEFAULT>', :max_pool_size => '<SERVICE DEFAULT>', :max_retries => '<SERVICE DEFAULT>', :retry_interval => '<SERVICE DEFAULT>', :max_overflow => '<SERVICE DEFAULT>', :pool_timeout => '<SERVICE DEFAULT>', :database_connection => 'mysql+pymysql://trove:trove@localhost/trove', :database_idle_timeout => '3601', :database_min_pool_size => '2', :database_max_pool_size => '21', :database_max_retries => '11', :database_max_overflow => '21', :database_pool_timeout => '21', :database_retry_interval => '11', :connection => 'mysql+pymysql://trove:trove@localhost/trove', :idle_timeout => '3601', :min_pool_size => '2', :max_pool_size => '21', :max_retries => '11', :retry_interval => '11', :max_overflow => '21', :pool_timeout => '21',",65,48
